function _mergeNamespaces(e,n){for(var i=0;i<n.length;i++){const l=n[i];if(typeof l!="string"&&!Array.isArray(l)){for(const T in l)if(T!=="default"&&!(T in e)){const g=Object.getOwnPropertyDescriptor(l,T);g&&Object.defineProperty(e,T,g.get?g:{enumerable:!0,get:()=>l[T]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))l(T);new MutationObserver(T=>{for(const g of T)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&l(b)}).observe(document,{childList:!0,subtree:!0});function i(T){const g={};return T.integrity&&(g.integrity=T.integrity),T.referrerPolicy&&(g.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?g.credentials="include":T.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(T){if(T.ep)return;T.ep=!0;const g=i(T);fetch(T.href,g)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var i=function l(){var T=!1;try{T=this instanceof l}catch{}return T?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var T=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(i,l,T.get?T:{enumerable:!0,get:function(){return e[l]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,T,g){var b=null;if(g!==void 0&&(b=""+g),T.key!==void 0&&(b=""+T.key),"key"in T){g={};for(var w in T)w!=="key"&&(g[w]=T[w])}else g=T;return T=g.ref,{$$typeof:e,type:l,key:b,ref:T!==void 0?T:null,props:g}}return reactJsxRuntime_production.Fragment=n,reactJsxRuntime_production.jsx=i,reactJsxRuntime_production.jsxs=i,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();function isHTMLElement$1(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!globalThis?.document}function isHiddenElement(e){return e.parentElement&&isHiddenElement(e.parentElement)?!0:e.hidden}function isContentEditableElement(e){const n=e.getAttribute("contenteditable");return n!=="false"&&n!=null}function isDisabledElement(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function assignAfter(e,...n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const i={...e};for(const l of n)if(l!=null)for(const T in l)Object.prototype.hasOwnProperty.call(l,T)&&(T in i&&delete i[T],i[T]=l[T]);return i}const dataAttr=e=>e?"":void 0,ariaAttr=e=>e?!0:void 0;function isArray$1(e){return Array.isArray(e)}function isObject$1(e){const n=typeof e;return e!=null&&(n==="object"||n==="function")&&!isArray$1(e)}function getLastItem(e){const n=e==null?0:e.length;return n?e[n-1]:void 0}function analyzeCSSValue$1(e){const n=parseFloat(e.toString()),i=e.toString().replace(String(n),"");return{unitless:!i,value:n,unit:i}}function px$1(e){if(e==null)return e;const{unitless:n}=analyzeCSSValue$1(e);return n||typeof e=="number"?`${e}px`:e}const sortByBreakpointValue=(e,n)=>parseInt(e[1],10)>parseInt(n[1],10)?1:-1,sortBps=e=>Object.fromEntries(Object.entries(e).sort(sortByBreakpointValue));function normalize$2(e){const n=sortBps(e);return Object.assign(Object.values(n),n)}function keys(e){const n=Object.keys(sortBps(e));return new Set(n)}function subtract$2(e){if(!e)return e;e=px$1(e)??e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,i=>`${parseFloat(i)+n}`)}function toMediaQueryString(e,n){const i=["@media screen"];return e&&i.push("and",`(min-width: ${px$1(e)})`),n&&i.push("and",`(max-width: ${px$1(n)})`),i.join(" ")}function analyzeBreakpoints(e){if(!e)return null;e.base=e.base??"0px";const n=normalize$2(e),i=Object.entries(e).sort(sortByBreakpointValue).map(([g,b],w,d)=>{let[,h]=d[w+1]??[];return h=parseFloat(h)>0?subtract$2(h):void 0,{_minW:subtract$2(b),breakpoint:g,minW:b,maxW:h,maxWQuery:toMediaQueryString(null,h),minWQuery:toMediaQueryString(b),minMaxQuery:toMediaQueryString(b,h)}}),l=keys(e),T=Array.from(l.values());return{keys:l,normalized:n,isResponsive(g){const b=Object.keys(g);return b.length>0&&b.every(w=>l.has(w))},asObject:sortBps(e),asArray:normalize$2(e),details:i,get(g){return i.find(b=>b.breakpoint===g)},media:[null,...n.map(g=>toMediaQueryString(g)).slice(1)],toArrayValue(g){if(!isObject$1(g))throw new Error("toArrayValue: value must be an object");const b=T.map(w=>g[w]??null);for(;getLastItem(b)===null;)b.pop();return b},toObjectValue(g){if(!Array.isArray(g))throw new Error("toObjectValue: value must be an array");return g.reduce((b,w,d)=>{const h=T[d];return h!=null&&w!=null&&(b[h]=w),b},{})}}}function callAll(...e){return function(...i){e.forEach(l=>l?.(...i))}}function callAllHandlers(...e){return function(i){e.some(l=>(l?.(i),i?.defaultPrevented))}}var react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),a=Symbol.for("react.activity"),o=Symbol.iterator;function u(ne){return ne===null||typeof ne!="object"?null:(ne=o&&ne[o]||ne["@@iterator"],typeof ne=="function"?ne:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,x={};function E(ne,ae,re){this.props=ne,this.context=ae,this.refs=x,this.updater=re||f}E.prototype.isReactComponent={},E.prototype.setState=function(ne,ae){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ae,"setState")},E.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function S(){}S.prototype=E.prototype;function R(ne,ae,re){this.props=ne,this.context=ae,this.refs=x,this.updater=re||f}var M=R.prototype=new S;M.constructor=R,m(M,E.prototype),M.isPureReactComponent=!0;var k=Array.isArray;function v(){}var F={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function A(ne,ae,re){var fe=re.ref;return{$$typeof:e,type:ne,key:ae,ref:fe!==void 0?fe:null,props:re}}function $(ne,ae){return A(ne.type,ae,ne.props)}function P(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===e}function B(ne){var ae={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(re){return ae[re]})}var U=/\/+/g;function W(ne,ae){return typeof ne=="object"&&ne!==null&&ne.key!=null?B(""+ne.key):ae.toString(36)}function j(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(v,v):(ne.status="pending",ne.then(function(ae){ne.status==="pending"&&(ne.status="fulfilled",ne.value=ae)},function(ae){ne.status==="pending"&&(ne.status="rejected",ne.reason=ae)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function H(ne,ae,re,fe,pe){var he=typeof ne;(he==="undefined"||he==="boolean")&&(ne=null);var $e=!1;if(ne===null)$e=!0;else switch(he){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(ne.$$typeof){case e:case n:$e=!0;break;case c:return $e=ne._init,H($e(ne._payload),ae,re,fe,pe)}}if($e)return pe=pe(ne),$e=fe===""?"."+W(ne,0):fe,k(pe)?(re="",$e!=null&&(re=$e.replace(U,"$&/")+"/"),H(pe,ae,re,"",function(Ne){return Ne})):pe!=null&&(P(pe)&&(pe=$(pe,re+(pe.key==null||ne&&ne.key===pe.key?"":(""+pe.key).replace(U,"$&/")+"/")+$e)),ae.push(pe)),1;$e=0;var Le=fe===""?".":fe+":";if(k(ne))for(var Oe=0;Oe<ne.length;Oe++)fe=ne[Oe],he=Le+W(fe,Oe),$e+=H(fe,ae,re,he,pe);else if(Oe=u(ne),typeof Oe=="function")for(ne=Oe.call(ne),Oe=0;!(fe=ne.next()).done;)fe=fe.value,he=Le+W(fe,Oe++),$e+=H(fe,ae,re,he,pe);else if(he==="object"){if(typeof ne.then=="function")return H(j(ne),ae,re,fe,pe);throw ae=String(ne),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return $e}function Q(ne,ae,re){if(ne==null)return ne;var fe=[],pe=0;return H(ne,fe,"","",function(he){return ae.call(re,he,pe++)}),fe}function X(ne){if(ne._status===-1){var ae=ne._result;ae=ae(),ae.then(function(re){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=re)},function(re){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=re)}),ne._status===-1&&(ne._status=0,ne._result=ae)}if(ne._status===1)return ne._result.default;throw ne._result}var ee=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},ie={map:Q,forEach:function(ne,ae,re){Q(ne,function(){ae.apply(this,arguments)},re)},count:function(ne){var ae=0;return Q(ne,function(){ae++}),ae},toArray:function(ne){return Q(ne,function(ae){return ae})||[]},only:function(ne){if(!P(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return react_production.Activity=a,react_production.Children=ie,react_production.Component=E,react_production.Fragment=i,react_production.Profiler=T,react_production.PureComponent=R,react_production.StrictMode=l,react_production.Suspense=d,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return F.H.useMemoCache(ne)}},react_production.cache=function(ne){return function(){return ne.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(ne,ae,re){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var fe=m({},ne.props),pe=ne.key;if(ae!=null)for(he in ae.key!==void 0&&(pe=""+ae.key),ae)!I.call(ae,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ae.ref===void 0||(fe[he]=ae[he]);var he=arguments.length-2;if(he===1)fe.children=re;else if(1<he){for(var $e=Array(he),Le=0;Le<he;Le++)$e[Le]=arguments[Le+2];fe.children=$e}return A(ne.type,pe,fe)},react_production.createContext=function(ne){return ne={$$typeof:b,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:g,_context:ne},ne},react_production.createElement=function(ne,ae,re){var fe,pe={},he=null;if(ae!=null)for(fe in ae.key!==void 0&&(he=""+ae.key),ae)I.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=ae[fe]);var $e=arguments.length-2;if($e===1)pe.children=re;else if(1<$e){for(var Le=Array($e),Oe=0;Oe<$e;Oe++)Le[Oe]=arguments[Oe+2];pe.children=Le}if(ne&&ne.defaultProps)for(fe in $e=ne.defaultProps,$e)pe[fe]===void 0&&(pe[fe]=$e[fe]);return A(ne,he,pe)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(ne){return{$$typeof:w,render:ne}},react_production.isValidElement=P,react_production.lazy=function(ne){return{$$typeof:c,_payload:{_status:-1,_result:ne},_init:X}},react_production.memo=function(ne,ae){return{$$typeof:h,type:ne,compare:ae===void 0?null:ae}},react_production.startTransition=function(ne){var ae=F.T,re={};F.T=re;try{var fe=ne(),pe=F.S;pe!==null&&pe(re,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(v,ee)}catch(he){ee(he)}finally{ae!==null&&re.types!==null&&(ae.types=re.types),F.T=ae}},react_production.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},react_production.use=function(ne){return F.H.use(ne)},react_production.useActionState=function(ne,ae,re){return F.H.useActionState(ne,ae,re)},react_production.useCallback=function(ne,ae){return F.H.useCallback(ne,ae)},react_production.useContext=function(ne){return F.H.useContext(ne)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(ne,ae){return F.H.useDeferredValue(ne,ae)},react_production.useEffect=function(ne,ae){return F.H.useEffect(ne,ae)},react_production.useEffectEvent=function(ne){return F.H.useEffectEvent(ne)},react_production.useId=function(){return F.H.useId()},react_production.useImperativeHandle=function(ne,ae,re){return F.H.useImperativeHandle(ne,ae,re)},react_production.useInsertionEffect=function(ne,ae){return F.H.useInsertionEffect(ne,ae)},react_production.useLayoutEffect=function(ne,ae){return F.H.useLayoutEffect(ne,ae)},react_production.useMemo=function(ne,ae){return F.H.useMemo(ne,ae)},react_production.useOptimistic=function(ne,ae){return F.H.useOptimistic(ne,ae)},react_production.useReducer=function(ne,ae,re){return F.H.useReducer(ne,ae,re)},react_production.useRef=function(ne){return F.H.useRef(ne)},react_production.useState=function(ne){return F.H.useState(ne)},react_production.useSyncExternalStore=function(ne,ae,re){return F.H.useSyncExternalStore(ne,ae,re)},react_production.useTransition=function(){return F.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);function getValidChildren(e){return reactExports.Children.toArray(e).filter(n=>reactExports.isValidElement(n))}function compact(e){const n=Object.assign({},e);for(let i in n)n[i]===void 0&&delete n[i];return n}function getErrorMessage(e,n){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function createContext$1(e={}){const{name:n,strict:i=!0,hookName:l="useContext",providerName:T="Provider",errorMessage:g,defaultValue:b}=e,w=reactExports.createContext(b);w.displayName=n;function d(){const h=reactExports.useContext(w);if(!h&&i){const c=new Error(g??getErrorMessage(l,T));throw c.name="ContextError",Error.captureStackTrace?.(c,d),c}return h}return[w.Provider,d,w]}const cx=(...e)=>e.filter(Boolean).join(" "),hasTabIndex=e=>e.hasAttribute("tabindex");function isFocusable(e){if(!isHTMLElement$1(e)||isHiddenElement(e)||isDisabledElement(e))return!1;const{localName:n}=e;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const l={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return n in l?l[n]():isContentEditableElement(e)?!0:hasTabIndex(e)}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=e=>e.offsetWidth>0&&e.offsetHeight>0;function getAllFocusable(e){const n=Array.from(e.querySelectorAll(focusableElSelector));return n.unshift(e),n.filter(i=>isFocusable(i)&&isVisible(i))}function get$3(e,n,i,l){const T=typeof n=="string"?n.split("."):[n];for(l=0;l<T.length&&e;l+=1)e=e[T[l]];return e===void 0?i:e}const memoize$2=e=>{const n=new WeakMap;return(l,T,g,b)=>{if(typeof l>"u")return e(l,T,g);n.has(l)||n.set(l,new Map);const w=n.get(l);if(w.has(T))return w.get(T);const d=e(l,T,g,b);return w.set(T,d),d}},memoizedGet$1=memoize$2(get$3),interopDefault=e=>e.default||e;function omit(e,n=[]){const i=Object.assign({},e);for(const l of n)l in i&&delete i[l];return i}function pick$1(e,n){const i={};for(const l of n)l in e&&(i[l]=e[l]);return i}function mapResponsive(e,n){return Array.isArray(e)?e.map(i=>i===null?null:n(i)):isObject$1(e)?Object.keys(e).reduce((i,l)=>(i[l]=n(e[l]),i),{}):e!=null?n(e):null}const isFunction$3=e=>typeof e=="function";function runIfFn$1(e,...n){return isFunction$3(e)?e(...n):e}function split$1(e,n){const i={},l={};for(const[T,g]of Object.entries(e))n.includes(T)?i[T]=g:l[T]=g;return[i,l]}function splitProps(e,...n){const i=Object.getOwnPropertyDescriptors(e),l=Object.keys(i),T=b=>{const w={};for(let d=0;d<b.length;d++){const h=b[d];i[h]&&(Object.defineProperty(w,h,i[h]),delete i[h])}return w},g=b=>T(Array.isArray(b)?b:l.filter(b));return n.map(g).concat(T(l))}function walkObject(e,n,i={}){const{stop:l,getKey:T}=i;function g(b,w=[]){if(isObject$1(b)||Array.isArray(b)){const d={};for(const[h,c]of Object.entries(b)){const a=T?.(h)??h,o=[...w,a];if(l?.(b,o))return n(b,w);d[a]=g(c,o)}return d}return n(b,w)}return g(e)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;var hasRequiredLodash_mergewith;function requireLodash_mergewith(){return hasRequiredLodash_mergewith||(hasRequiredLodash_mergewith=1,(function(e,n){var i=200,l="__lodash_hash_undefined__",T=800,g=16,b=9007199254740991,w="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",c="[object Boolean]",a="[object Date]",o="[object Error]",u="[object Function]",f="[object GeneratorFunction]",m="[object Map]",x="[object Number]",E="[object Null]",S="[object Object]",R="[object Proxy]",M="[object RegExp]",k="[object Set]",v="[object String]",F="[object Undefined]",I="[object WeakMap]",A="[object ArrayBuffer]",$="[object DataView]",P="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",W="[object Int16Array]",j="[object Int32Array]",H="[object Uint8Array]",Q="[object Uint8ClampedArray]",X="[object Uint16Array]",ee="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,re={};re[P]=re[B]=re[U]=re[W]=re[j]=re[H]=re[Q]=re[X]=re[ee]=!0,re[w]=re[d]=re[A]=re[c]=re[$]=re[a]=re[o]=re[u]=re[m]=re[x]=re[S]=re[M]=re[k]=re[v]=re[I]=!1;var fe=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,pe=typeof self=="object"&&self&&self.Object===Object&&self,he=fe||pe||Function("return this")(),$e=n&&!n.nodeType&&n,Le=$e&&!0&&e&&!e.nodeType&&e,Oe=Le&&Le.exports===$e,Ne=Oe&&fe.process,be=(function(){try{var le=Le&&Le.require&&Le.require("util").types;return le||Ne&&Ne.binding&&Ne.binding("util")}catch{}})(),Se=be&&be.isTypedArray;function ge(le,_e,Ie){switch(Ie.length){case 0:return le.call(_e);case 1:return le.call(_e,Ie[0]);case 2:return le.call(_e,Ie[0],Ie[1]);case 3:return le.call(_e,Ie[0],Ie[1],Ie[2])}return le.apply(_e,Ie)}function Pe(le,_e){for(var Ie=-1,ft=Array(le);++Ie<le;)ft[Ie]=_e(Ie);return ft}function Je(le){return function(_e){return le(_e)}}function Ve(le,_e){return le?.[_e]}function Tt(le,_e){return function(Ie){return le(_e(Ie))}}var Ot=Array.prototype,Dt=Function.prototype,nn=Object.prototype,fn=he["__core-js_shared__"],bn=Dt.toString,Be=nn.hasOwnProperty,He=(function(){var le=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""})(),Mt=nn.toString,zt=bn.call(Object),Ft=RegExp("^"+bn.call(Be).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Oe?he.Buffer:void 0,xn=he.Symbol,we=he.Uint8Array;wt&&wt.allocUnsafe;var Ee=Tt(Object.getPrototypeOf,Object),Ae=Object.create,mt=nn.propertyIsEnumerable,_t=Ot.splice,st=xn?xn.toStringTag:void 0,Ce=(function(){try{var le=qt(Object,"defineProperty");return le({},"",{}),le}catch{}})(),Ke=wt?wt.isBuffer:void 0,pt=Math.max,it=Date.now,Rt=qt(he,"Map"),dt=qt(Object,"create"),bt=(function(){function le(){}return function(_e){if(!J(_e))return{};if(Ae)return Ae(_e);le.prototype=_e;var Ie=new le;return le.prototype=void 0,Ie}})();function At(le){var _e=-1,Ie=le==null?0:le.length;for(this.clear();++_e<Ie;){var ft=le[_e];this.set(ft[0],ft[1])}}function nt(){this.__data__=dt?dt(null):{},this.size=0}function vt(le){var _e=this.has(le)&&delete this.__data__[le];return this.size-=_e?1:0,_e}function $r(le){var _e=this.__data__;if(dt){var Ie=_e[le];return Ie===l?void 0:Ie}return Be.call(_e,le)?_e[le]:void 0}function Br(le){var _e=this.__data__;return dt?_e[le]!==void 0:Be.call(_e,le)}function mr(le,_e){var Ie=this.__data__;return this.size+=this.has(le)?0:1,Ie[le]=dt&&_e===void 0?l:_e,this}At.prototype.clear=nt,At.prototype.delete=vt,At.prototype.get=$r,At.prototype.has=Br,At.prototype.set=mr;function Tn(le){var _e=-1,Ie=le==null?0:le.length;for(this.clear();++_e<Ie;){var ft=le[_e];this.set(ft[0],ft[1])}}function Ur(){this.__data__=[],this.size=0}function Lr(le){var _e=this.__data__,Ie=Er(_e,le);if(Ie<0)return!1;var ft=_e.length-1;return Ie==ft?_e.pop():_t.call(_e,Ie,1),--this.size,!0}function gr(le){var _e=this.__data__,Ie=Er(_e,le);return Ie<0?void 0:_e[Ie][1]}function _r(le){return Er(this.__data__,le)>-1}function ai(le,_e){var Ie=this.__data__,ft=Er(Ie,le);return ft<0?(++this.size,Ie.push([le,_e])):Ie[ft][1]=_e,this}Tn.prototype.clear=Ur,Tn.prototype.delete=Lr,Tn.prototype.get=gr,Tn.prototype.has=_r,Tn.prototype.set=ai;function yr(le){var _e=-1,Ie=le==null?0:le.length;for(this.clear();++_e<Ie;){var ft=le[_e];this.set(ft[0],ft[1])}}function vr(){this.size=0,this.__data__={hash:new At,map:new(Rt||Tn),string:new At}}function ti(le){var _e=Ct(this,le).delete(le);return this.size-=_e?1:0,_e}function It(le){return Ct(this,le).get(le)}function pn(le){return Ct(this,le).has(le)}function Vn(le,_e){var Ie=Ct(this,le),ft=Ie.size;return Ie.set(le,_e),this.size+=Ie.size==ft?0:1,this}yr.prototype.clear=vr,yr.prototype.delete=ti,yr.prototype.get=It,yr.prototype.has=pn,yr.prototype.set=Vn;function lr(le){var _e=this.__data__=new Tn(le);this.size=_e.size}function ur(){this.__data__=new Tn,this.size=0}function us(le){var _e=this.__data__,Ie=_e.delete(le);return this.size=_e.size,Ie}function ki(le){return this.__data__.get(le)}function fi(le){return this.__data__.has(le)}function qr(le,_e){var Ie=this.__data__;if(Ie instanceof Tn){var ft=Ie.__data__;if(!Rt||ft.length<i-1)return ft.push([le,_e]),this.size=++Ie.size,this;Ie=this.__data__=new yr(ft)}return Ie.set(le,_e),this.size=Ie.size,this}lr.prototype.clear=ur,lr.prototype.delete=us,lr.prototype.get=ki,lr.prototype.has=fi,lr.prototype.set=qr;function ni(le,_e){var Ie=Nr(le),ft=!Ie&&Cr(le),Et=!Ie&&!ft&&y(le),Ht=!Ie&&!ft&&!Et&&ke(le),rn=Ie||ft||Et||Ht,Nt=rn?Pe(le.length,String):[],Kt=Nt.length;for(var mn in le)rn&&(mn=="length"||Et&&(mn=="offset"||mn=="parent")||Ht&&(mn=="buffer"||mn=="byteLength"||mn=="byteOffset")||br(mn,Kt))||Nt.push(mn);return Nt}function Gn(le,_e,Ie){(Ie!==void 0&&!Wr(le[_e],Ie)||Ie===void 0&&!(_e in le))&&cr(le,_e,Ie)}function Xn(le,_e,Ie){var ft=le[_e];(!(Be.call(le,_e)&&Wr(ft,Ie))||Ie===void 0&&!(_e in le))&&cr(le,_e,Ie)}function Er(le,_e){for(var Ie=le.length;Ie--;)if(Wr(le[Ie][0],_e))return Ie;return-1}function cr(le,_e,Ie){_e=="__proto__"&&Ce?Ce(le,_e,{configurable:!0,enumerable:!0,value:Ie,writable:!0}):le[_e]=Ie}var $n=xt();function Ir(le){return le==null?le===void 0?F:E:st&&st in Object(le)?dn(le):Gi(le)}function Yt(le){return oe(le)&&Ir(le)==w}function nr(le){if(!J(le)||jr(le))return!1;var _e=V(le)?Ft:ne;return _e.test(Ki(le))}function Dr(le){return oe(le)&&K(le.length)&&!!re[Ir(le)]}function kt(le){if(!J(le))return Kn(le);var _e=ir(le),Ie=[];for(var ft in le)ft=="constructor"&&(_e||!Be.call(le,ft))||Ie.push(ft);return Ie}function $t(le,_e,Ie,ft,Et){le!==_e&&$n(_e,function(Ht,rn){if(Et||(Et=new lr),J(Ht))Qn(le,_e,rn,Ie,$t,ft,Et);else{var Nt=ft?ft(Wt(le,rn),Ht,rn+"",le,_e,Et):void 0;Nt===void 0&&(Nt=Ht),Gn(le,rn,Nt)}},et)}function Qn(le,_e,Ie,ft,Et,Ht,rn){var Nt=Wt(le,Ie),Kt=Wt(_e,Ie),mn=rn.get(Kt);if(mn){Gn(le,Ie,mn);return}var Rn=Ht?Ht(Nt,Kt,Ie+"",le,_e,rn):void 0,jn=Rn===void 0;if(jn){var On=Nr(Kt),Pr=!On&&y(Kt),di=!On&&!Pr&&ke(Kt);Rn=Kt,On||Pr||di?Nr(Nt)?Rn=Nt:L(Nt)?Rn=Re(Nt):Pr?(jn=!1,Rn=Z(Kt)):di?(jn=!1,Rn=ye(Kt)):Rn=[]:ve(Kt)||Cr(Kt)?(Rn=Nt,Cr(Nt)?Rn=Ue(Nt):(!J(Nt)||V(Nt))&&(Rn=rr(Kt))):jn=!1}jn&&(rn.set(Kt,Rn),Et(Rn,Kt,ft,Ht,rn),rn.delete(Kt)),Gn(le,Ie,Rn)}function Tr(le,_e){return tn(oi(le,_e,Vt),le+"")}var z=Ce?function(le,_e){return Ce(le,"toString",{configurable:!0,enumerable:!1,value:St(_e),writable:!0})}:Vt;function Z(le,_e){return le.slice()}function ue(le){var _e=new le.constructor(le.byteLength);return new we(_e).set(new we(le)),_e}function ye(le,_e){var Ie=ue(le.buffer);return new le.constructor(Ie,le.byteOffset,le.length)}function Re(le,_e){var Ie=-1,ft=le.length;for(_e||(_e=Array(ft));++Ie<ft;)_e[Ie]=le[Ie];return _e}function qe(le,_e,Ie,ft){var Et=!Ie;Ie||(Ie={});for(var Ht=-1,rn=_e.length;++Ht<rn;){var Nt=_e[Ht],Kt=void 0;Kt===void 0&&(Kt=le[Nt]),Et?cr(Ie,Nt,Kt):Xn(Ie,Nt,Kt)}return Ie}function rt(le){return Tr(function(_e,Ie){var ft=-1,Et=Ie.length,Ht=Et>1?Ie[Et-1]:void 0,rn=Et>2?Ie[2]:void 0;for(Ht=le.length>3&&typeof Ht=="function"?(Et--,Ht):void 0,rn&&Or(Ie[0],Ie[1],rn)&&(Ht=Et<3?void 0:Ht,Et=1),_e=Object(_e);++ft<Et;){var Nt=Ie[ft];Nt&&le(_e,Nt,ft,Ht)}return _e})}function xt(le){return function(_e,Ie,ft){for(var Et=-1,Ht=Object(_e),rn=ft(_e),Nt=rn.length;Nt--;){var Kt=rn[++Et];if(Ie(Ht[Kt],Kt,Ht)===!1)break}return _e}}function Ct(le,_e){var Ie=le.__data__;return Yr(_e)?Ie[typeof _e=="string"?"string":"hash"]:Ie.map}function qt(le,_e){var Ie=Ve(le,_e);return nr(Ie)?Ie:void 0}function dn(le){var _e=Be.call(le,st),Ie=le[st];try{le[st]=void 0;var ft=!0}catch{}var Et=Mt.call(le);return ft&&(_e?le[st]=Ie:delete le[st]),Et}function rr(le){return typeof le.constructor=="function"&&!ir(le)?bt(Ee(le)):{}}function br(le,_e){var Ie=typeof le;return _e=_e??b,!!_e&&(Ie=="number"||Ie!="symbol"&&ae.test(le))&&le>-1&&le%1==0&&le<_e}function Or(le,_e,Ie){if(!J(Ie))return!1;var ft=typeof _e;return(ft=="number"?pi(Ie)&&br(_e,Ie.length):ft=="string"&&_e in Ie)?Wr(Ie[_e],le):!1}function Yr(le){var _e=typeof le;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?le!=="__proto__":le===null}function jr(le){return!!He&&He in le}function ir(le){var _e=le&&le.constructor,Ie=typeof _e=="function"&&_e.prototype||nn;return le===Ie}function Kn(le){var _e=[];if(le!=null)for(var Ie in Object(le))_e.push(Ie);return _e}function Gi(le){return Mt.call(le)}function oi(le,_e,Ie){return _e=pt(_e===void 0?le.length-1:_e,0),function(){for(var ft=arguments,Et=-1,Ht=pt(ft.length-_e,0),rn=Array(Ht);++Et<Ht;)rn[Et]=ft[_e+Et];Et=-1;for(var Nt=Array(_e+1);++Et<_e;)Nt[Et]=ft[Et];return Nt[_e]=Ie(rn),ge(le,this,Nt)}}function Wt(le,_e){if(!(_e==="constructor"&&typeof le[_e]=="function")&&_e!="__proto__")return le[_e]}var tn=cs(z);function cs(le){var _e=0,Ie=0;return function(){var ft=it(),Et=g-(ft-Ie);if(Ie=ft,Et>0){if(++_e>=T)return arguments[0]}else _e=0;return le.apply(void 0,arguments)}}function Ki(le){if(le!=null){try{return bn.call(le)}catch{}try{return le+""}catch{}}return""}function Wr(le,_e){return le===_e||le!==le&&_e!==_e}var Cr=Yt((function(){return arguments})())?Yt:function(le){return oe(le)&&Be.call(le,"callee")&&!mt.call(le,"callee")},Nr=Array.isArray;function pi(le){return le!=null&&K(le.length)&&!V(le)}function L(le){return oe(le)&&pi(le)}var y=Ke||Te;function V(le){if(!J(le))return!1;var _e=Ir(le);return _e==u||_e==f||_e==h||_e==R}function K(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=b}function J(le){var _e=typeof le;return le!=null&&(_e=="object"||_e=="function")}function oe(le){return le!=null&&typeof le=="object"}function ve(le){if(!oe(le)||Ir(le)!=S)return!1;var _e=Ee(le);if(_e===null)return!0;var Ie=Be.call(_e,"constructor")&&_e.constructor;return typeof Ie=="function"&&Ie instanceof Ie&&bn.call(Ie)==zt}var ke=Se?Je(Se):Dr;function Ue(le){return qe(le,et(le))}function et(le){return pi(le)?ni(le):kt(le)}var gt=rt(function(le,_e,Ie,ft){$t(le,_e,Ie,ft)});function St(le){return function(){return le}}function Vt(le){return le}function Te(){return!1}e.exports=gt})(lodash_mergewith,lodash_mergewith.exports)),lodash_mergewith.exports}var lodash_mergewithExports=requireLodash_mergewith();const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);function useCallbackRef$1(e,n=[]){const i=reactExports.useRef(e);return reactExports.useEffect(()=>{i.current=e}),reactExports.useCallback((...l)=>i.current?.(...l),n)}function useDisclosure(e={}){const{onClose:n,onOpen:i,isOpen:l,id:T}=e,g=useCallbackRef$1(i),b=useCallbackRef$1(n),[w,d]=reactExports.useState(e.defaultIsOpen||!1),h=l!==void 0?l:w,c=l!==void 0,a=reactExports.useId(),o=T??`disclosure-${a}`,u=reactExports.useCallback(()=>{c||d(!1),b?.()},[c,b]),f=reactExports.useCallback(()=>{c||d(!0),g?.()},[c,g]),m=reactExports.useCallback(()=>{h?u():f()},[h,f,u]);function x(S={}){return{...S,"aria-expanded":h,"aria-controls":o,onClick(R){S.onClick?.(R),m()}}}function E(S={}){return{...S,hidden:!h,id:o}}return{isOpen:h,onOpen:f,onClose:u,onToggle:m,isControlled:c,getButtonProps:x,getDisclosureProps:E}}const useSafeLayoutEffect$1=globalThis?.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(e,n)=>{const i=reactExports.useRef(!1),l=reactExports.useRef(!1);reactExports.useEffect(()=>{if(i.current&&l.current)return e();l.current=!0},n),reactExports.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])};function assignRef$1(e,n){if(e!=null){if(typeof e=="function"){e(n);return}try{e.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${e}'`)}}}function mergeRefs(...e){return n=>{e.forEach(i=>{assignRef$1(i,n)})}}function useMergeRefs$1(...e){return reactExports.useMemo(()=>mergeRefs(...e),e)}function useTimeout(e,n){const i=useCallbackRef$1(e);reactExports.useEffect(()=>{if(n==null)return;let l=null;return l=window.setTimeout(()=>{i()},n),()=>{l&&window.clearTimeout(l)}},[n,i])}const state={open:(e,n)=>`${e}[data-open], ${e}[open], ${e}[data-state=open] ${n}`,closed:(e,n)=>`${e}[data-closed], ${e}[data-state=closed] ${n}`,hover:(e,n)=>`${e}:hover ${n}, ${e}[data-hover] ${n}`,focus:(e,n)=>`${e}:focus ${n}, ${e}[data-focus] ${n}`,focusVisible:(e,n)=>`${e}:focus-visible ${n}`,focusWithin:(e,n)=>`${e}:focus-within ${n}`,active:(e,n)=>`${e}:active ${n}, ${e}[data-active] ${n}`,disabled:(e,n)=>`${e}:disabled ${n}, ${e}[data-disabled] ${n}`,invalid:(e,n)=>`${e}:invalid ${n}, ${e}[data-invalid] ${n}`,checked:(e,n)=>`${e}:checked ${n}, ${e}[data-checked] ${n}`,placeholderShown:(e,n)=>`${e}:placeholder-shown ${n}`},toGroup=e=>merge(n=>e(n,"&"),"[role=group]","[data-group]",".group"),toPeer=e=>merge(n=>e(n,"~ &"),"[data-peer]",".peer"),merge=(e,...n)=>n.map(e).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state.open),_groupClosed:toGroup(state.closed),_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=e=>/!(important)?$/.test(e),withoutImportant=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,tokenToCSSVar=(e,n)=>i=>{const l=String(n),T=isImportant(l),g=withoutImportant(l),b=e?`${e}.${g}`:g;let w=isObject$1(i.__cssMap)&&b in i.__cssMap?i.__cssMap[b].varRef:n;return w=withoutImportant(w),T?`${w} !important`:w};function createTransform(e){const{scale:n,transform:i,compose:l}=e;return(g,b)=>{const w=tokenToCSSVar(n,g)(b);let d=i?.(w,b)??w;return l&&(d=l(d,b)),d}}const pipe$2=(...e)=>n=>e.reduce((i,l)=>l(i),n);function toConfig(e,n){return i=>{const l={property:i,scale:e};return l.transform=createTransform({scale:e,transform:n}),l}}const getRtl=({rtl:e,ltr:n})=>i=>i.direction==="rtl"?e:n;function logical(e){const{property:n,scale:i,transform:l}=e;return{scale:i,property:getRtl(n),transform:i?createTransform({scale:i,compose:l}):l}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=e=>e.trim();function parseGradient(e,n){if(e==null||globalSet.has(e))return e;if(!(isCSSFunction(e)||globalSet.has(e)))return`url('${e}')`;const T=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),g=T?.[1],b=T?.[2];if(!g||!b)return e;const w=g.includes("-gradient")?g:`${g}-gradient`,[d,...h]=b.split(",").map(trimSpace).filter(Boolean);if(h?.length===0)return e;const c=d in directionMap?directionMap[d]:d;h.unshift(c);const a=h.map(o=>{if(valueSet.has(o))return o;const u=o.indexOf(" "),[f,m]=u!==-1?[o.substr(0,u),o.substr(u+1)]:[o],x=isCSSFunction(m)?m:m&&m.split(" "),E=`colors.${f}`,S=E in n.__cssMap?n.__cssMap[E].varRef:f;return x?[S,...Array.isArray(x)?x:[x]].join(" "):S});return`${w}(${a.join(", ")})`}const isCSSFunction=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),gradientTransform=(e,n)=>parseGradient(e,n??{});function isCssVar$1(e){return/^var\(--.+\)$/.test(e)}const analyzeCSSValue=e=>{const n=parseFloat(e.toString()),i=e.toString().replace(String(n),"");return{unitless:!i,value:n,unit:i}},wrap=e=>n=>`${e}(${n})`,transformFunctions={filter(e){return e!=="auto"?e:filterTemplate},backdropFilter(e){return e!=="auto"?e:backdropFilterTemplate},ring(e){return getRingTemplate(transformFunctions.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?getTransformTemplate():e==="auto-gpu"?getTransformGpuTemplate():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:n}=analyzeCSSValue(e);return n||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,n){const i={left:"right",right:"left"};return n.direction==="rtl"?i[e]:e},degree(e){if(isCssVar$1(e)||e==null)return e;const n=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||n?`${e}deg`:e},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:e=>wrap("hue-rotate")(transformFunctions.degree(e)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(e){return e==null||isCSSFunction(e)||globalSet.has(e)?e:`url(${e})`},outline(e){const n=String(e)==="0"||String(e)==="none";return e!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){const{space:n,divide:i}=flexDirectionTemplate[e]??{},l={flexDirection:e};return n&&(l[n]=1),i&&(l[i]=1),l}},t={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(e){return{property:e,transform:transformFunctions.degree}},prop(e,n,i){return{property:e,scale:n,...n&&{transform:createTransform({scale:n,transform:i})}}},propT(e,n){return{property:e,transform:n}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t.colors("background"),backgroundColor:t.colors("backgroundColor"),backgroundImage:t.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t.prop("backgroundSize"),bgPosition:t.prop("backgroundPosition"),bg:t.colors("background"),bgColor:t.colors("backgroundColor"),bgPos:t.prop("backgroundPosition"),bgRepeat:t.prop("backgroundRepeat"),bgAttachment:t.prop("backgroundAttachment"),bgGradient:t.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t.borders("border"),borderWidth:t.borderWidths("borderWidth"),borderStyle:t.borderStyles("borderStyle"),borderColor:t.colors("borderColor"),borderRadius:t.radii("borderRadius"),borderTop:t.borders("borderTop"),borderBlockStart:t.borders("borderBlockStart"),borderTopLeftRadius:t.radii("borderTopLeftRadius"),borderStartStartRadius:t.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t.radii("borderTopRightRadius"),borderStartEndRadius:t.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t.borders("borderRight"),borderInlineEnd:t.borders("borderInlineEnd"),borderBottom:t.borders("borderBottom"),borderBlockEnd:t.borders("borderBlockEnd"),borderBottomLeftRadius:t.radii("borderBottomLeftRadius"),borderBottomRightRadius:t.radii("borderBottomRightRadius"),borderLeft:t.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t.borders(["borderLeft","borderRight"]),borderInline:t.borders("borderInline"),borderY:t.borders(["borderTop","borderBottom"]),borderBlock:t.borders("borderBlock"),borderTopWidth:t.borderWidths("borderTopWidth"),borderBlockStartWidth:t.borderWidths("borderBlockStartWidth"),borderTopColor:t.colors("borderTopColor"),borderBlockStartColor:t.colors("borderBlockStartColor"),borderTopStyle:t.borderStyles("borderTopStyle"),borderBlockStartStyle:t.borderStyles("borderBlockStartStyle"),borderBottomWidth:t.borderWidths("borderBottomWidth"),borderBlockEndWidth:t.borderWidths("borderBlockEndWidth"),borderBottomColor:t.colors("borderBottomColor"),borderBlockEndColor:t.colors("borderBlockEndColor"),borderBottomStyle:t.borderStyles("borderBottomStyle"),borderBlockEndStyle:t.borderStyles("borderBlockEndStyle"),borderLeftWidth:t.borderWidths("borderLeftWidth"),borderInlineStartWidth:t.borderWidths("borderInlineStartWidth"),borderLeftColor:t.colors("borderLeftColor"),borderInlineStartColor:t.colors("borderInlineStartColor"),borderLeftStyle:t.borderStyles("borderLeftStyle"),borderInlineStartStyle:t.borderStyles("borderInlineStartStyle"),borderRightWidth:t.borderWidths("borderRightWidth"),borderInlineEndWidth:t.borderWidths("borderInlineEndWidth"),borderRightColor:t.colors("borderRightColor"),borderInlineEndColor:t.colors("borderInlineEndColor"),borderRightStyle:t.borderStyles("borderRightStyle"),borderInlineEndStyle:t.borderStyles("borderInlineEndStyle"),borderTopRadius:t.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t.colors("color"),textColor:t.colors("color"),fill:t.colors("fill"),stroke:t.colors("stroke"),accentColor:t.colors("accentColor"),textFillColor:t.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t.space("gap"),rowGap:t.space("rowGap"),columnGap:t.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t.sizesT("width"),inlineSize:t.sizesT("inlineSize"),height:t.sizes("height"),blockSize:t.sizes("blockSize"),boxSize:t.sizes(["width","height"]),minWidth:t.sizes("minWidth"),minInlineSize:t.sizes("minInlineSize"),minHeight:t.sizes("minHeight"),minBlockSize:t.sizes("minBlockSize"),maxWidth:t.sizes("maxWidth"),maxInlineSize:t.sizes("maxInlineSize"),maxHeight:t.sizes("maxHeight"),maxBlockSize:t.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,n)=>({[`@media screen and (min-width: ${n.__breakpoints?.get(e)?.minW??e})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(e,n)=>({[`@media screen and (max-width: ${n.__breakpoints?.get(e)?._minW??e})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$1={filter:{transform:transformFunctions.filter},blur:t.blur("--chakra-blur"),brightness:t.propT("--chakra-brightness",transformFunctions.brightness),contrast:t.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t.propT("--chakra-invert",transformFunctions.invert),saturate:t.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t.blur("--chakra-backdrop-blur"),backdropBrightness:t.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t.colors("--chakra-ring-color"),ringOffset:t.prop("--chakra-ring-offset-width"),ringOffsetColor:t.colors("--chakra-ring-offset-color"),ringInset:t.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t.colors("outlineColor")},grid={gridGap:t.space("gridGap"),gridColumnGap:t.space("gridColumnGap"),gridRowGap:t.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$2(e,n,i,l){const T=typeof n=="string"?n.split("."):[n];for(l=0;l<T.length&&e;l+=1)e=e[T[l]];return e===void 0?i:e}const memoize$1=e=>{const n=new WeakMap;return(l,T,g,b)=>{if(typeof l>"u")return e(l,T,g);n.has(l)||n.set(l,new Map);const w=n.get(l);if(w.has(T))return w.get(T);const d=e(l,T,g,b);return w.set(T,d),d}},memoizedGet=memoize$1(get$2),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(e,n,i)=>{const l={},T=memoizedGet(e,n,{});for(const g in T)g in i&&i[g]!=null||(l[g]=T[g]);return l},others={srOnly:{transform(e){return e===!0?srOnly:e==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(e,n,i)=>getWithPriority(n,`layerStyles.${e}`,i)},textStyle:{processResult:!0,transform:(e,n,i)=>getWithPriority(n,`textStyles.${e}`,i)},apply:{processResult:!0,transform:(e,n,i)=>getWithPriority(n,e,i)}},position$1={position:!0,pos:t.prop("position"),zIndex:t.prop("zIndex","zIndices"),inset:t.spaceT("inset"),insetX:t.spaceT(["left","right"]),insetInline:t.spaceT("insetInline"),insetY:t.spaceT(["top","bottom"]),insetBlock:t.spaceT("insetBlock"),top:t.spaceT("top"),insetBlockStart:t.spaceT("insetBlockStart"),bottom:t.spaceT("bottom"),insetBlockEnd:t.spaceT("insetBlockEnd"),left:t.spaceT("left"),insetInlineStart:t.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t.spaceT("right"),insetInlineEnd:t.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect={boxShadow:t.shadows("boxShadow"),mixBlendMode:!0,blendMode:t.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});const space={margin:t.spaceT("margin"),marginTop:t.spaceT("marginTop"),marginBlockStart:t.spaceT("marginBlockStart"),marginRight:t.spaceT("marginRight"),marginInlineEnd:t.spaceT("marginInlineEnd"),marginBottom:t.spaceT("marginBottom"),marginBlockEnd:t.spaceT("marginBlockEnd"),marginLeft:t.spaceT("marginLeft"),marginInlineStart:t.spaceT("marginInlineStart"),marginX:t.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t.spaceT("marginInline"),marginY:t.spaceT(["marginTop","marginBottom"]),marginBlock:t.spaceT("marginBlock"),padding:t.space("padding"),paddingTop:t.space("paddingTop"),paddingBlockStart:t.space("paddingBlockStart"),paddingRight:t.space("paddingRight"),paddingBottom:t.space("paddingBottom"),paddingBlockEnd:t.space("paddingBlockEnd"),paddingLeft:t.space("paddingLeft"),paddingInlineStart:t.space("paddingInlineStart"),paddingInlineEnd:t.space("paddingInlineEnd"),paddingX:t.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t.space("paddingInline"),paddingY:t.space(["paddingTop","paddingBottom"]),paddingBlock:t.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t.spaceT("scrollMargin"),scrollMarginTop:t.spaceT("scrollMarginTop"),scrollMarginBottom:t.spaceT("scrollMarginBottom"),scrollMarginLeft:t.spaceT("scrollMarginLeft"),scrollMarginRight:t.spaceT("scrollMarginRight"),scrollMarginX:t.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t.spaceT("scrollPadding"),scrollPaddingTop:t.spaceT("scrollPaddingTop"),scrollPaddingBottom:t.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t.spaceT("scrollPaddingLeft"),scrollPaddingRight:t.spaceT("scrollPaddingRight"),scrollPaddingX:t.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$1={fontFamily:t.prop("fontFamily","fonts"),fontSize:t.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t.prop("fontWeight","fontWeights"),lineHeight:t.prop("lineHeight","lineHeights"),letterSpacing:t.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t.shadows("textShadow")},transform={clipPath:!0,transform:t.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t.spaceT("--chakra-translate-x"),translateY:t.spaceT("--chakra-translate-y"),skewX:t.degreeT("--chakra-skew-x"),skewY:t.degreeT("--chakra-skew-y"),scaleX:t.prop("--chakra-scale-x"),scaleY:t.prop("--chakra-scale-y"),scale:t.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t.degreeT("--chakra-rotate")},list$1={listStyleType:!0,listStylePosition:!0,listStylePos:t.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t.prop("transitionDuration","transition.duration"),transitionProperty:t.prop("transitionProperty","transition.property"),transitionTimingFunction:t.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position$1,effect,space,scroll,typography$1,textDecoration,transform,list$1,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position$1),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=e=>e in styleProps,expandResponsive=e=>n=>{if(!n.__breakpoints)return e;const{isResponsive:i,toArrayValue:l,media:T}=n.__breakpoints,g={};for(const b in e){let w=runIfFn$1(e[b],n);if(w==null)continue;if(w=isObject$1(w)&&i(w)?l(w):w,!Array.isArray(w)){g[b]=w;continue}const d=w.slice(0,T.length).length;for(let h=0;h<d;h+=1){const c=T?.[h];if(!c){g[b]=w[h];continue}g[c]=g[c]||{},w[h]!=null&&(g[c][b]=w[h])}}return g};function splitByComma(e){const n=[];let i="",l=!1;for(let T=0;T<e.length;T++){const g=e[T];g==="("?(l=!0,i+=g):g===")"?(l=!1,i+=g):g===","&&!l?(n.push(i),i=""):i+=g}return i=i.trim(),i&&n.push(i),n}function isCssVar(e){return/^var\(--.+\)$/.test(e)}const isCSSVariableTokenValue=(e,n)=>e.startsWith("--")&&typeof n=="string"&&!isCssVar(n),resolveTokenValue=(e,n)=>{if(n==null)return n;const i=b=>e.__cssMap?.[b]?.varRef,l=b=>i(b)??b,[T,g]=splitByComma(n);return n=i(T)??l(g)??l(n),n};function getCss(e){const{configs:n={},pseudos:i={},theme:l}=e,T=(g,b=!1)=>{const w=runIfFn$1(g,l),d=expandResponsive(w)(l);let h={};for(let c in d){const a=d[c];let o=runIfFn$1(a,l);c in i&&(c=i[c]),isCSSVariableTokenValue(c,o)&&(o=resolveTokenValue(l,o));let u=n[c];if(u===!0&&(u={property:c}),isObject$1(o)){h[c]=h[c]??{},h[c]=mergeWith({},h[c],T(o,!0));continue}let f=u?.transform?.(o,l,w)??o;f=u?.processResult?T(f,!0):f;const m=runIfFn$1(u?.property,l);if(!b&&u?.static){const x=runIfFn$1(u.static,l);h=mergeWith({},h,x)}if(m&&Array.isArray(m)){for(const x of m)h[x]=f;continue}if(m){m==="&"&&isObject$1(f)?h=mergeWith({},h,f):h[m]=f;continue}if(isObject$1(f)){h=mergeWith({},h,f);continue}h[c]=f}return h};return T}const css$2=e=>n=>getCss({theme:n,pseudos:pseudoSelectors,configs:systemProps})(e);function defineStyle(e){return e}function defineStyleConfig(e){return e}function createMultiStyleConfigHelpers(e){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:e,...n}}}}function normalize$1(e,n){if(Array.isArray(e))return e;if(isObject$1(e))return n(e);if(e!=null)return[e]}function getNextIndex(e,n){for(let i=n+1;i<e.length;i++)if(e[i]!=null)return i;return-1}function createResolver(e){const n=e.__breakpoints;return function(l,T,g,b){if(!n)return;const w={},d=normalize$1(g,n.toArrayValue);if(!d)return w;const h=d.length,c=h===1,a=!!l.parts;for(let o=0;o<h;o++){const u=n.details[o],f=n.details[getNextIndex(d,o)],m=toMediaQueryString(u.minW,f?._minW),x=runIfFn$1(l[T]?.[d[o]],b);if(x){if(a){l.parts?.forEach(E=>{mergeWith(w,{[E]:c?x[E]:{[m]:x[E]}})});continue}if(!a){c?mergeWith(w,x):w[m]=x;continue}w[m]=x}}return w}}function resolveStyleConfig(e){return n=>{const{variant:i,size:l,theme:T}=n,g=createResolver(T);return mergeWith({},runIfFn$1(e.baseStyle??{},n),g(e,"sizes",l,n),g(e,"variants",i,n))}}function omitThemingProps(e){return omit(e,["styleConfig","size","variant","colorScheme"])}function resolveReference(e){return isObject$1(e)&&e.reference?e.reference:String(e)}const toExpression=(e,...n)=>n.map(resolveReference).join(` ${e} `).replace(/calc/g,""),add$1=(...e)=>`calc(${toExpression("+",...e)})`,subtract$1=(...e)=>`calc(${toExpression("-",...e)})`,multiply$1=(...e)=>`calc(${toExpression("*",...e)})`,divide$1=(...e)=>`calc(${toExpression("/",...e)})`,negate$1=e=>{const n=resolveReference(e);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:multiply$1(n,-1)},calc$1=Object.assign(e=>({add:(...n)=>calc$1(add$1(e,...n)),subtract:(...n)=>calc$1(subtract$1(e,...n)),multiply:(...n)=>calc$1(multiply$1(e,...n)),divide:(...n)=>calc$1(divide$1(e,...n)),negate:()=>calc$1(negate$1(e)),toString:()=>e.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(e,n="-"){return e.replace(/\s+/g,n)}function escape$1(e){const n=replaceWhiteSpace$1(e.toString());return escapeSymbol(escapeDot(n))}function escapeDot(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function escapeSymbol(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(e,n=""){return[n,e].filter(Boolean).join("-")}function toVarReference(e,n){return`var(${e}${n?`, ${n}`:""})`}function toVarDefinition(e,n=""){return escape$1(`--${addPrefix$1(e,n)}`)}function cssVar$1(e,n,i){const l=toVarDefinition(e,i);return{variable:l,reference:toVarReference(l,n)}}function defineCssVars(e,n){const i={};for(const l of n){if(Array.isArray(l)){const[T,g]=l;i[T]=cssVar$1(`${e}-${T}`,g);continue}i[l]=cssVar$1(`${e}-${l}`)}return i}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(e){return pick$1(e,tokens)}function extractSemanticTokens(e){return e.semanticTokens}function omitVars(e){const{__cssMap:n,__cssVars:i,__breakpoints:l,...T}=e;return T}function flattenTokens(e){const n=extractTokens(e),i=extractSemanticTokens(e),l=g=>pseudoPropNames.includes(g)||g==="default",T={};return walkObject(n,(g,b)=>{g!=null&&(T[b.join(".")]={isSemantic:!1,value:g})}),walkObject(i,(g,b)=>{g!=null&&(T[b.join(".")]={isSemantic:!0,value:g})},{stop:g=>Object.keys(g).every(l)}),T}function tokenToCssVar(e,n){return cssVar$1(String(e).replace(/\./g,"-"),void 0,n)}function createThemeVars(e){const n=flattenTokens(e),i=e.config?.cssVarPrefix;let l={};const T={};function g(b,w){const h=[String(b).split(".")[0],w].join(".");if(!n[h])return w;const{reference:a}=tokenToCssVar(h,i);return a}for(const[b,w]of Object.entries(n)){const{isSemantic:d,value:h}=w,{variable:c,reference:a}=tokenToCssVar(b,i);if(!d){if(b.startsWith("space")){const u=b.split("."),[f,...m]=u,x=`${f}.-${m.join(".")}`,E=calc$1.negate(h),S=calc$1.negate(a);T[x]={value:E,var:c,varRef:S}}l[c]=h,T[b]={value:h,var:c,varRef:a};continue}const o=isObject$1(h)?h:{default:h};l=mergeWith(l,Object.entries(o).reduce((u,[f,m])=>{if(!m)return u;const x=g(b,`${m}`);if(f==="default")return u[c]=x,u;const E=pseudoSelectors?.[f]??f;return u[E]={[c]:x},u},{})),T[b]={value:a,var:c,varRef:a}}return{cssVars:l,cssMap:T}}function toCSSVar(e){const n=omitVars(e),{cssMap:i,cssVars:l}=createThemeVars(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:i,__breakpoints:analyzeBreakpoints(n.breakpoints)}),n}function anatomy(e,n={}){let i=!1;function l(){if(!i){i=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function T(...c){l();for(const a of c)n[a]=d(a);return anatomy(e,n)}function g(...c){for(const a of c)a in n||(n[a]=d(a));return anatomy(e,n)}function b(){return Object.fromEntries(Object.entries(n).map(([a,o])=>[a,o.selector]))}function w(){return Object.fromEntries(Object.entries(n).map(([a,o])=>[a,o.className]))}function d(c){const u=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:u,selector:`.${u}`,toString:()=>c}}return{parts:T,toPart:d,extend:g,selectors:b,classnames:w,get keys(){return Object.keys(n)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$F=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F});function guard(e,n,i){return Math.min(Math.max(e,i),n)}class ColorError extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var ColorError$1=ColorError;function parseToRgba(e){if(typeof e!="string")throw new ColorError$1(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=e.trim();n=namedColorRegex.test(e)?nameToHex(e):e;const i=reducedHexRegex.exec(n);if(i){const b=Array.from(i).slice(1);return[...b.slice(0,3).map(w=>parseInt(r(w,2),16)),parseInt(r(b[3]||"f",2),16)/255]}const l=hexRegex.exec(n);if(l){const b=Array.from(l).slice(1);return[...b.slice(0,3).map(w=>parseInt(w,16)),parseInt(b[3]||"ff",16)/255]}const T=rgbaRegex.exec(n);if(T){const b=Array.from(T).slice(1);return[...b.slice(0,3).map(w=>parseInt(w,10)),parseFloat(b[3]||"1")]}const g=hslaRegex.exec(n);if(g){const[b,w,d,h]=Array.from(g).slice(1).map(parseFloat);if(guard(0,100,w)!==w)throw new ColorError$1(e);if(guard(0,100,d)!==d)throw new ColorError$1(e);return[...hslToRgb(b,w,d),Number.isNaN(h)?1:h]}throw new ColorError$1(e)}function hash$1(e){let n=5381,i=e.length;for(;i;)n=n*33^e.charCodeAt(--i);return(n>>>0)%2341}const colorToInt=e=>parseInt(e.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,n)=>{const i=colorToInt(n.substring(0,3)),l=colorToInt(n.substring(3)).toString(16);let T="";for(let g=0;g<6-l.length;g++)T+="0";return e[i]=`${T}${l}`,e},{});function nameToHex(e){const n=e.toLowerCase().trim(),i=compressedColorMap[hash$1(n)];if(!i)throw new ColorError$1(e);return`#${i}`}const r=(e,n)=>Array.from(Array(n)).map(()=>e).join(""),reducedHexRegex=new RegExp(`^#${r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=e=>Math.round(e*255),hslToRgb=(e,n,i)=>{let l=i/100;if(n===0)return[l,l,l].map(roundColor);const T=(e%360+360)%360/60,g=(1-Math.abs(2*l-1))*(n/100),b=g*(1-Math.abs(T%2-1));let w=0,d=0,h=0;T>=0&&T<1?(w=g,d=b):T>=1&&T<2?(w=b,d=g):T>=2&&T<3?(d=g,h=b):T>=3&&T<4?(d=b,h=g):T>=4&&T<5?(w=b,h=g):T>=5&&T<6&&(w=g,h=b);const c=l-g/2,a=w+c,o=d+c,u=h+c;return[a,o,u].map(roundColor)};function rgba$1(e,n,i,l){return`rgba(${guard(0,255,e).toFixed()}, ${guard(0,255,n).toFixed()}, ${guard(0,255,i).toFixed()}, ${parseFloat(guard(0,1,l).toFixed(3))})`}function transparentize$1(e,n){const[i,l,T,g]=parseToRgba(e);return rgba$1(i,l,T,g-n)}function toHex(e){const[n,i,l,T]=parseToRgba(e);let g=b=>{const w=guard(0,255,b).toString(16);return w.length===1?`0${w}`:w};return`#${g(n)}${g(i)}${g(l)}${T<1?g(Math.round(T*255)):""}`}const isEmptyObject=e=>Object.keys(e).length===0;function get$1(e,n,i,l,T){for(n=n.split?n.split("."):n,l=0;l<n.length;l++)e=e?e[n[l]]:T;return e===T?i:e}const getColor=(e,n,i)=>{const l=get$1(e,`colors.${n}`,n);try{return toHex(l),l}catch{return i??"#000000"}},getBrightness=e=>{const[n,i,l]=parseToRgba(e);return(n*299+i*587+l*114)/1e3},tone=e=>n=>{const i=getColor(n,e);return getBrightness(i)<128?"dark":"light"},isDark=e=>n=>tone(e)(n)==="dark",transparentize=(e,n)=>i=>{const l=getColor(i,e);return transparentize$1(l,1-n)};function generateStripe(e="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(e){const n=randomHex();return!e||isEmptyObject(e)?n:e.string&&e.colors?randomColorFromList(e.string,e.colors):e.string&&!e.colors?randomColorFromString(e.string):e.colors&&!e.string?randomFromList(e.colors):n}function randomColorFromString(e){let n=0;if(e.length===0)return n.toString();for(let l=0;l<e.length;l+=1)n=e.charCodeAt(l)+((n<<5)-n),n=n&n;let i="#";for(let l=0;l<3;l+=1){const T=n>>l*8&255;i+=`00${T.toString(16)}`.substr(-2)}return i}function randomColorFromList(e,n){let i=0;if(e.length===0)return n[0];for(let l=0;l<e.length;l+=1)i=e.charCodeAt(l)+((i<<5)-i),i=i&i;return i=(i%n.length+n.length)%n.length,n[i]}function randomFromList(e){return e[Math.floor(Math.random()*e.length)]}function mode(e,n){return i=>i.colorMode==="dark"?n:e}function orient(e){const{orientation:n,vertical:i,horizontal:l}=e;return n?n==="vertical"?i:l:{}}function toRef(e){return isObject$1(e)&&e.reference?e.reference:String(e)}const toExpr=(e,...n)=>n.map(toRef).join(` ${e} `).replace(/calc/g,""),add=(...e)=>`calc(${toExpr("+",...e)})`,subtract=(...e)=>`calc(${toExpr("-",...e)})`,multiply=(...e)=>`calc(${toExpr("*",...e)})`,divide=(...e)=>`calc(${toExpr("/",...e)})`,negate=e=>{const n=toRef(e);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:multiply(n,-1)},calc=Object.assign(e=>({add:(...n)=>calc(add(e,...n)),subtract:(...n)=>calc(subtract(e,...n)),multiply:(...n)=>calc(multiply(e,...n)),divide:(...n)=>calc(divide(e,...n)),negate:()=>calc(negate(e)),toString:()=>e.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(e){return!Number.isInteger(parseFloat(e.toString()))}function replaceWhiteSpace(e,n="-"){return e.replace(/\s+/g,n)}function escape(e){const n=replaceWhiteSpace(e.toString());return n.includes("\\.")?e:isDecimal(e)?n.replace(".","\\."):e}function addPrefix(e,n=""){return[n,escape(e)].filter(Boolean).join("-")}function toVarRef(e,n){return`var(${escape(e)}${n?`, ${n}`:""})`}function toVar(e,n=""){return`--${addPrefix(e,n)}`}function cssVar(e,n){const i=toVar(e,n?.prefix);return{variable:i,reference:toVarRef(i,getFallback(n?.fallback))}}function getFallback(e){return e?.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$E=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(e){const{theme:n,colorScheme:i}=e,l=transparentize(`${i}.200`,.16)(n);return{light:`colors.${i}.100`,dark:l}}const variantSubtle$1=definePartsStyle$o(e=>{const{colorScheme:n}=e,i=getBg(e);return{container:{[$fg$5.variable]:`colors.${n}.600`,[$bg$f.variable]:i.light,_dark:{[$fg$5.variable]:`colors.${n}.200`,[$bg$f.variable]:i.dark}}}}),variantLeftAccent=definePartsStyle$o(e=>{const{colorScheme:n}=e,i=getBg(e);return{container:{[$fg$5.variable]:`colors.${n}.600`,[$bg$f.variable]:i.light,_dark:{[$fg$5.variable]:`colors.${n}.200`,[$bg$f.variable]:i.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(e=>{const{colorScheme:n}=e,i=getBg(e);return{container:{[$fg$5.variable]:`colors.${n}.600`,[$bg$f.variable]:i.light,_dark:{[$fg$5.variable]:`colors.${n}.200`,[$bg$f.variable]:i.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(e=>{const{colorScheme:n}=e;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${n}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${n}.200`},color:$fg$5.reference}}}),variants$e={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,variants:variants$e,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$2=e=>typeof e=="function";function runIfFn(e,...n){return isFunction$2(e)?e(...n):e}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=e=>{const{name:n,theme:i}=e,l=n?randomColor({string:n}):"colors.gray.400",T=isDark(l)(i);let g="white";return T||(g="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:g,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:l},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$D=definePartsStyle$n(e=>({badge:runIfFn(baseStyleBadge,e),excessLabel:runIfFn(baseStyleExcessLabel,e),container:runIfFn(baseStyleContainer$3,e),label:baseStyleLabel$4}));function getSize$3(e){const n=e!=="100%"?sizes$m[e]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:n??e,[$fs.variable]:`calc(${n??e} / 2.5)`},excessLabel:{[$size$4.variable]:n??e,[$fs.variable]:`calc(${n??e} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$C={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=e=>{const{colorScheme:n,theme:i}=e,l=transparentize(`${n}.500`,.6)(i);return{[vars.bg.variable]:`colors.${n}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:l,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=e=>{const{colorScheme:n,theme:i}=e,l=transparentize(`${n}.200`,.16)(i);return{[vars.bg.variable]:`colors.${n}.100`,[vars.color.variable]:`colors.${n}.800`,_dark:{[vars.bg.variable]:l,[vars.color.variable]:`colors.${n}.200`}}},variantOutline$2=e=>{const{colorScheme:n,theme:i}=e,l=transparentize(`${n}.200`,.8)(i);return{[vars.color.variable]:`colors.${n}.500`,_dark:{[vars.color.variable]:l},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$d={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$C,variants:variants$d,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$B=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$B}),baseStyle$A={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=e=>{const{colorScheme:n,theme:i}=e;if(n==="gray")return{color:mode("gray.800","whiteAlpha.900")(e),_hover:{bg:mode("gray.100","whiteAlpha.200")(e)},_active:{bg:mode("gray.200","whiteAlpha.300")(e)}};const l=transparentize(`${n}.200`,.12)(i),T=transparentize(`${n}.200`,.24)(i);return{color:mode(`${n}.600`,`${n}.200`)(e),bg:"transparent",_hover:{bg:mode(`${n}.50`,l)(e)},_active:{bg:mode(`${n}.100`,T)(e)}}},variantOutline$1=e=>{const{colorScheme:n}=e,i=mode("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:n==="gray"?i:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,e)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=e=>{const{colorScheme:n}=e;if(n==="gray"){const w=mode("gray.100","whiteAlpha.200")(e);return{bg:w,color:mode("gray.800","whiteAlpha.900")(e),_hover:{bg:mode("gray.200","whiteAlpha.300")(e),_disabled:{bg:w}},_active:{bg:mode("gray.300","whiteAlpha.400")(e)}}}const{bg:i=`${n}.500`,color:l="white",hoverBg:T=`${n}.600`,activeBg:g=`${n}.700`}=accessibleColorMap[n]??{},b=mode(i,`${n}.200`)(e);return{bg:b,color:mode(l,"gray.800")(e),_hover:{bg:mode(T,`${n}.300`)(e),_disabled:{bg:b}},_active:{bg:mode(g,`${n}.400`)(e)}}},variantLink=e=>{const{colorScheme:n}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${n}.500`,`${n}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${n}.700`,`${n}.500`)(e)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$c={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$A,variants:variants$c,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$z=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$b={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme=defineMultiStyleConfig$l({baseStyle:baseStyle$z,variants:variants$b,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=e=>{const{colorScheme:n}=e;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${n}.500`,`${n}.200`)(e),borderColor:mode(`${n}.500`,`${n}.200`)(e),color:mode("white","gray.900")(e),_hover:{bg:mode(`${n}.600`,`${n}.300`)(e),borderColor:mode(`${n}.600`,`${n}.300`)(e)},_disabled:{borderColor:mode("gray.200","transparent")(e),bg:mode("gray.200","whiteAlpha.300")(e),color:mode("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:mode(`${n}.500`,`${n}.200`)(e),borderColor:mode(`${n}.500`,`${n}.200`)(e),color:mode("white","gray.900")(e)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(e),borderColor:mode("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(e)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$y=definePartsStyle$k(e=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,e),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$y,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$x={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$x,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$a,defaultProps}=badgeTheme,baseStyle$w={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$w,variants:variants$a,defaultProps},baseStyle$v={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$v},baseStyle$u={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$9={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$u,variants:variants$9,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(e){return definePartsStyle$j(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=e=>{const{isFullHeight:n}=e;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$t=definePartsStyle$j(e=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,e),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme=defineMultiStyleConfig$j({baseStyle:baseStyle$t,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$s=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$s}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$r=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$r}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$q=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$q}),baseStyle$p={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$p},baseStyle$o={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$o,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$n=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(e){const{focusBorderColor:n,errorBorderColor:i}=e;return{focusBorderColor:n||mode("blue.500","blue.300")(e),errorBorderColor:i||mode("red.500","red.300")(e)}}const variantOutline=definePartsStyle$f(e=>{const{theme:n}=e,{focusBorderColor:i,errorBorderColor:l}=getDefaults(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(n,l),boxShadow:`0 0 0 1px ${getColor(n,l)}`},_focusVisible:{zIndex:1,borderColor:getColor(n,i),boxShadow:`0 0 0 1px ${getColor(n,i)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(e),bg:mode("gray.100","whiteAlpha.300")(e)}}}),variantFilled=definePartsStyle$f(e=>{const{theme:n}=e,{focusBorderColor:i,errorBorderColor:l}=getDefaults(e);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(e),_hover:{bg:mode("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(n,l)},_focusVisible:{bg:"transparent",borderColor:getColor(n,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(e)}}}),variantFlushed=definePartsStyle$f(e=>{const{theme:n}=e,{focusBorderColor:i,errorBorderColor:l}=getDefaults(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(n,l),boxShadow:`0px 1px 0px 0px ${getColor(n,l)}`},_focusVisible:{borderColor:getColor(n,i),boxShadow:`0px 1px 0px 0px ${getColor(n,i)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$8={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$n,sizes:sizes$e,variants:variants$8,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$m={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$m},baseStyle$l={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$l},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$k=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$j=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$j}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=e=>{const{isCentered:n,scrollBehavior:i}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:i==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=e=>{const{isCentered:n,scrollBehavior:i}=e;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:i==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=e=>{const{scrollBehavior:n}=e;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$i=definePartsStyle$c(e=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,e),dialog:runIfFn(baseStyleDialog,e),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,e),footer:baseStyleFooter$1}));function getSize$1(e){return definePartsStyle$c(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$i,sizes:sizes$d,defaultProps:{size:"md"}}),typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=e=>runIfFn(inputTheme.baseStyle,e)?.field??{},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$h=definePartsStyle$b(e=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,e)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(e){const n=inputTheme.sizes?.[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},l=n.field?.fontSize??"md",T=typography.fontSizes[l];return definePartsStyle$b({field:{...n.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(T).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$h,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),baseStyle$g={...inputTheme.baseStyle?.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},variants$7={outline:e=>runIfFn(inputTheme.variants?.outline,e)?.field??{},flushed:e=>runIfFn(inputTheme.variants?.flushed,e)?.field??{},filled:e=>runIfFn(inputTheme.variants?.filled,e)?.field??{},unstyled:inputTheme.variants?.unstyled.field??{}},pinInputTheme={baseStyle:baseStyle$g,sizes:sizes$b,variants:variants$7,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$f=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$f}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=e=>{const{colorScheme:n,theme:i,isIndeterminate:l,hasStripe:T}=e,g=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(e),b=mode(`${n}.500`,`${n}.200`)(e),w=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(i,b)} 50%,
    transparent 100%
  )`;return{...!l&&T&&g,...l?{bgImage:w}:{bgColor:b}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=e=>({bg:mode("gray.100","whiteAlpha.300")(e)}),baseStyleFilledTrack$1=e=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(e)}),baseStyle$e=definePartsStyle$9(e=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(e),track:baseStyleTrack$2(e)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=e=>{const n=runIfFn(checkboxTheme.baseStyle,e)?.control;return{...n,borderRadius:"full",_checked:{...n?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$d=definePartsStyle$8(e=>({label:checkboxTheme.baseStyle?.(e).label,container:checkboxTheme.baseStyle?.(e).container,control:baseStyleControl(e)})),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$d,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg"),baseStyleField={...inputTheme.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$c=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"},sizes$8={lg:{...inputTheme.sizes?.lg,field:{...inputTheme.sizes?.lg.field,...iconSpacing}},md:{...inputTheme.sizes?.md,field:{...inputTheme.sizes?.md.field,...iconSpacing}},sm:{...inputTheme.sizes?.sm,field:{...inputTheme.sizes?.sm.field,...iconSpacing}},xs:{...inputTheme.sizes?.xs,field:{...inputTheme.sizes?.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$c,sizes:sizes$8,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$b={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$b},$bg$5=cssVar$1("skip-link-bg"),baseStyle$a={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$a},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=e=>{const{orientation:n}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:n,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=e=>({...orient({orientation:e.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=e=>{const{orientation:n}=e;return{...orient({orientation:n,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=e=>{const{colorScheme:n}=e;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${n}.500`,_dark:{[$bg$4.variable]:`colors.${n}.200`},bg:$bg$4.reference}},baseStyle$9=definePartsStyle$6(e=>({container:baseStyleContainer$1(e),track:baseStyleTrack$1(e),thumb:baseStyleThumb$1(e),filledTrack:baseStyleFilledTrack(e)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$9,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$8={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$8,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$7=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$7,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$6=definePartsStyle$4(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${e}.500`,_dark:{[$accentColor.variable]:`colors.${e}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$6,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=e=>{const{colorScheme:n}=e;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${n}.500`,_dark:{[$bg$3.variable]:`colors.${n}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$5=definePartsStyle$3(e=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(e),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$5,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$4=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(e=>{const{colorScheme:n}=e;return{th:{color:mode("gray.600","gray.400")(e),borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},caption:{color:mode("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(e=>{const{colorScheme:n}=e;return{th:{color:mode("gray.600","gray.400")(e),borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},caption:{color:mode("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e)},td:{background:mode(`${n}.100`,`${n}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$6={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$4,variants:variants$6,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=e=>{const{orientation:n}=e;return{display:n==="vertical"?"flex":"block"}},baseStyleTab=e=>{const{isFitted:n}=e;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=e=>{const{align:n="start",orientation:i}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:i==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$3=definePartsStyle$1(e=>({root:baseStyleRoot(e),tab:baseStyleTab(e),tablist:baseStyleTablist(e),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(e=>{const{colorScheme:n,orientation:i}=e,l=i==="vertical",T=l?"borderStart":"borderBottom",g=l?"marginStart":"marginBottom";return{tablist:{[T]:"2px solid",borderColor:"inherit"},tab:{[T]:"2px solid",borderColor:"transparent",[g]:"-2px",_selected:{[$fg$1.variable]:`colors.${n}.600`,_dark:{[$fg$1.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(e=>{const{colorScheme:n}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${n}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${n}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(e=>{const{colorScheme:n}=e;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${n}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(e=>{const{colorScheme:n,theme:i}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(i,`${n}.700`),bg:getColor(i,`${n}.100`)}}}}),variantSolidRounded=definePartsStyle$1(e=>{const{colorScheme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${n}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${n}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$5={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$3,sizes:sizes$2,variants:variants$5,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$2=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$4={subtle:definePartsStyle(e=>({container:badgeTheme.variants?.subtle(e)})),solid:definePartsStyle(e=>({container:badgeTheme.variants?.solid(e)})),outline:definePartsStyle(e=>({container:badgeTheme.variants?.outline(e)}))},tagTheme=defineMultiStyleConfig({variants:variants$4,baseStyle:baseStyle$2,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),baseStyle$1={...inputTheme.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},variants$3={outline:e=>inputTheme.variants?.outline(e).field??{},flushed:e=>inputTheme.variants?.flushed(e).field??{},filled:e=>inputTheme.variants?.filled(e).field??{},unstyled:inputTheme.variants?.unstyled.field??{}},sizes={xs:inputTheme.sizes?.xs.field??{},sm:inputTheme.sizes?.sm.field??{},md:inputTheme.sizes?.md.field??{},lg:inputTheme.sizes?.lg.field??{}},textareaTheme={baseStyle:baseStyle$1,sizes,variants:variants$3,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle},components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations={breakpoints,zIndices,radii,blur,colors,...typography,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(e){return isObject$1(e)?requiredChakraThemeKeys.every(n=>Object.prototype.hasOwnProperty.call(e,n)):!1}const direction="ltr",config$1={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$1};function sheetForTag(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function createStyleElement(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var StyleSheet=(function(){function e(i){var l=this;this._insertTag=function(T){var g;l.tags.length===0?l.insertionPoint?g=l.insertionPoint.nextSibling:l.prepend?g=l.container.firstChild:g=l.before:g=l.tags[l.tags.length-1].nextSibling,l.container.insertBefore(T,g),l.tags.push(T)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(l){l.forEach(this._insertTag)},n.insert=function(l){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var T=this.tags[this.tags.length-1];if(this.isSpeedy){var g=sheetForTag(T);try{g.insertRule(l,g.cssRules.length)}catch{}}else T.appendChild(document.createTextNode(l));this.ctr++},n.flush=function(){this.tags.forEach(function(l){var T;return(T=l.parentNode)==null?void 0:T.removeChild(l)}),this.tags=[],this.ctr=0},e})(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,n){return charat(e,0)^45?(((n<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,n){return(e=n.exec(e))?e[0]:e}function replace(e,n,i){return e.replace(n,i)}function indexof(e,n){return e.indexOf(n)}function charat(e,n){return e.charCodeAt(n)|0}function substr(e,n,i){return e.slice(n,i)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,n){return n.push(e),e}function combine(e,n){return e.map(n).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,n,i,l,T,g,b){return{value:e,root:n,parent:i,type:l,props:T,children:g,line,column,length:b,return:""}}function copy(e,n){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},n)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(e,n){return substr(characters,e,n)}function token$1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek$1())&&character<33;)next();return token$1(e)>2||token$1(character)>3?"":" "}function escaping(e,n){for(;--n&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(n<6&&peek$1()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,n){for(;next()&&e+character!==57;)if(e+character===84&&peek$1()===47)break;return"/*"+slice(n,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token$1(peek$1());)next();return slice(e,position)}function compile(e){return dealloc(parse$2("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse$2(e,n,i,l,T,g,b,w,d){for(var h=0,c=0,a=b,o=0,u=0,f=0,m=1,x=1,E=1,S=0,R="",M=T,k=g,v=l,F=R;x;)switch(f=S,S=next()){case 40:if(f!=108&&charat(F,a-1)==58){indexof(F+=replace(delimit(S),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:F+=delimit(S);break;case 9:case 10:case 13:case 32:F+=whitespace(f);break;case 92:F+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),n,i),d);break;default:F+="/"}break;case 123*m:w[h++]=strlen(F)*E;case 125*m:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+c:E==-1&&(F=replace(F,/\f/g,"")),u>0&&strlen(F)-a&&append(u>32?declaration(F+";",l,i,a-1):declaration(replace(F," ","")+";",l,i,a-2),d);break;case 59:F+=";";default:if(append(v=ruleset(F,n,i,h,c,T,w,R,M=[],k=[],a),g),S===123)if(c===0)parse$2(F,n,v,v,M,g,a,w,k);else switch(o===99&&charat(F,3)===110?100:o){case 100:case 108:case 109:case 115:parse$2(e,v,v,l&&append(ruleset(e,v,v,0,0,T,w,R,T,M=[],a),k),T,k,a,w,l?M:k);break;default:parse$2(F,v,v,v,[""],k,0,w,k)}}h=c=u=0,m=E=1,R=F="",a=b;break;case 58:a=1+strlen(F),u=f;default:if(m<1){if(S==123)--m;else if(S==125&&m++==0&&prev()==125)continue}switch(F+=from(S),S*m){case 38:E=c>0?1:(F+="\f",-1);break;case 44:w[h++]=(strlen(F)-1)*E,E=1;break;case 64:peek$1()===45&&(F+=delimit(next())),o=peek$1(),c=a=strlen(R=F+=identifier(caret())),S++;break;case 45:f===45&&strlen(F)==2&&(m=0)}}return g}function ruleset(e,n,i,l,T,g,b,w,d,h,c){for(var a=T-1,o=T===0?g:[""],u=sizeof(o),f=0,m=0,x=0;f<l;++f)for(var E=0,S=substr(e,a+1,a=abs(m=b[f])),R=e;E<u;++E)(R=trim(m>0?o[E]+" "+S:replace(S,/&\f/g,o[E])))&&(d[x++]=R);return node(e,n,i,T===0?RULESET:w,d,h,c)}function comment(e,n,i){return node(e,n,i,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,n,i,l){return node(e,n,i,DECLARATION,substr(e,0,l),substr(e,l+1,-1),l)}function serialize(e,n){for(var i="",l=sizeof(e),T=0;T<l;T++)i+=n(e[T],T,e,n)||"";return i}function stringify$2(e,n,i,l){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,l)+"}";case RULESET:e.value=e.props.join(",")}return strlen(i=serialize(e.children,l))?e.return=e.value+"{"+i+"}":""}function middleware(e){var n=sizeof(e);return function(i,l,T,g){for(var b="",w=0;w<n;w++)b+=e[w](i,l,T,g)||"";return b}}function rulesheet(e){return function(n){n.root||(n=n.return)&&e(n)}}var weakMemoize=function(n){var i=new WeakMap;return function(l){if(i.has(l))return i.get(l);var T=n(l);return i.set(l,T),T}};function memoize(e){var n=Object.create(null);return function(i){return n[i]===void 0&&(n[i]=e(i)),n[i]}}var identifierWithPointTracking=function(n,i,l){for(var T=0,g=0;T=g,g=peek$1(),T===38&&g===12&&(i[l]=1),!token$1(g);)next();return slice(n,position)},toRules=function(n,i){var l=-1,T=44;do switch(token$1(T)){case 0:T===38&&peek$1()===12&&(i[l]=1),n[l]+=identifierWithPointTracking(position-1,i,l);break;case 2:n[l]+=delimit(T);break;case 4:if(T===44){n[++l]=peek$1()===58?"&\f":"",i[l]=n[l].length;break}default:n[l]+=from(T)}while(T=next());return n},getRules=function(n,i){return dealloc(toRules(alloc(n),i))},fixedElements=new WeakMap,compat=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var i=n.value,l=n.parent,T=n.column===l.column&&n.line===l.line;l.type!=="rule";)if(l=l.parent,!l)return;if(!(n.props.length===1&&i.charCodeAt(0)!==58&&!fixedElements.get(l))&&!T){fixedElements.set(n,!0);for(var g=[],b=getRules(i,g),w=l.props,d=0,h=0;d<b.length;d++)for(var c=0;c<w.length;c++,h++)n.props[h]=g[d]?b[d].replace(/&\f/g,w[c]):w[c]+" "+b[d]}}},removeLabel=function(n){if(n.type==="decl"){var i=n.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(n.return="",n.value="")}};function prefix(e,n){switch(hash(e,n)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-n>6)switch(charat(e,n+1)){case 109:if(charat(e,n+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(charat(e,n+1)!==115)break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,n+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(n,i,l,T){if(n.length>-1&&!n.return)switch(n.type){case DECLARATION:n.return=prefix(n.value,n.length);break;case KEYFRAMES:return serialize([copy(n,{value:replace(n.value,"@","@"+WEBKIT)})],T);case RULESET:if(n.length)return combine(n.props,function(g){switch(match(g,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(n,{props:[replace(g,/:(read-\w+)/,":"+MOZ+"$1")]})],T);case"::placeholder":return serialize([copy(n,{props:[replace(g,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(n,{props:[replace(g,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(n,{props:[replace(g,/:(plac\w+)/,MS+"input-$1")]})],T)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(n){var i=n.key;if(i==="css"){var l=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(l,function(m){var x=m.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var T=n.stylisPlugins||defaultStylisPlugins,g={},b,w=[];b=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(m){for(var x=m.getAttribute("data-emotion").split(" "),E=1;E<x.length;E++)g[x[E]]=!0;w.push(m)});var d,h=[compat,removeLabel];{var c,a=[stringify$2,rulesheet(function(m){c.insert(m)})],o=middleware(h.concat(T,a)),u=function(x){return serialize(compile(x),o)};d=function(x,E,S,R){c=S,u(x?x+"{"+E.styles+"}":E.styles),R&&(f.inserted[E.name]=!0)}}var f={key:i,sheet:new StyleSheet({key:i,container:b,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:g,registered:{},insert:d};return f.sheet.hydrate(w),f};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var l in i)({}).hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},_extends$1.apply(null,arguments)}var reactIs={exports:{}},reactIs_production_min={};var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,l=e?Symbol.for("react.fragment"):60107,T=e?Symbol.for("react.strict_mode"):60108,g=e?Symbol.for("react.profiler"):60114,b=e?Symbol.for("react.provider"):60109,w=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,h=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,a=e?Symbol.for("react.suspense"):60113,o=e?Symbol.for("react.suspense_list"):60120,u=e?Symbol.for("react.memo"):60115,f=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,x=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function R(k){if(typeof k=="object"&&k!==null){var v=k.$$typeof;switch(v){case n:switch(k=k.type,k){case d:case h:case l:case g:case T:case a:return k;default:switch(k=k&&k.$$typeof,k){case w:case c:case f:case u:case b:return k;default:return v}}case i:return v}}}function M(k){return R(k)===h}return reactIs_production_min.AsyncMode=d,reactIs_production_min.ConcurrentMode=h,reactIs_production_min.ContextConsumer=w,reactIs_production_min.ContextProvider=b,reactIs_production_min.Element=n,reactIs_production_min.ForwardRef=c,reactIs_production_min.Fragment=l,reactIs_production_min.Lazy=f,reactIs_production_min.Memo=u,reactIs_production_min.Portal=i,reactIs_production_min.Profiler=g,reactIs_production_min.StrictMode=T,reactIs_production_min.Suspense=a,reactIs_production_min.isAsyncMode=function(k){return M(k)||R(k)===d},reactIs_production_min.isConcurrentMode=M,reactIs_production_min.isContextConsumer=function(k){return R(k)===w},reactIs_production_min.isContextProvider=function(k){return R(k)===b},reactIs_production_min.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===n},reactIs_production_min.isForwardRef=function(k){return R(k)===c},reactIs_production_min.isFragment=function(k){return R(k)===l},reactIs_production_min.isLazy=function(k){return R(k)===f},reactIs_production_min.isMemo=function(k){return R(k)===u},reactIs_production_min.isPortal=function(k){return R(k)===i},reactIs_production_min.isProfiler=function(k){return R(k)===g},reactIs_production_min.isStrictMode=function(k){return R(k)===T},reactIs_production_min.isSuspense=function(k){return R(k)===a},reactIs_production_min.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===l||k===h||k===g||k===T||k===a||k===o||typeof k=="object"&&k!==null&&(k.$$typeof===f||k.$$typeof===u||k.$$typeof===b||k.$$typeof===w||k.$$typeof===c||k.$$typeof===x||k.$$typeof===E||k.$$typeof===S||k.$$typeof===m)},reactIs_production_min.typeOf=R,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var e=requireReactIs(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g={};g[e.ForwardRef]=l,g[e.Memo]=T;function b(f){return e.isMemo(f)?T:g[f.$$typeof]||n}var w=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,o=Object.prototype;function u(f,m,x){if(typeof m!="string"){if(o){var E=a(m);E&&E!==o&&u(f,E,x)}var S=d(m);h&&(S=S.concat(h(m)));for(var R=b(f),M=b(m),k=0;k<S.length;++k){var v=S[k];if(!i[v]&&!(x&&x[v])&&!(M&&M[v])&&!(R&&R[v])){var F=c(m,v);try{w(f,v,F)}catch{}}}}return f}return hoistNonReactStatics_cjs=u,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser$1=!0;function getRegisteredStyles(e,n,i){var l="";return i.split(" ").forEach(function(T){e[T]!==void 0?n.push(e[T]+";"):T&&(l+=T+" ")}),l}var registerStyles=function(n,i,l){var T=n.key+"-"+i.name;(l===!1||isBrowser$1===!1)&&n.registered[T]===void 0&&(n.registered[T]=i.styles)},insertStyles=function(n,i,l){registerStyles(n,i,l);var T=n.key+"-"+i.name;if(n.inserted[i.name]===void 0){var g=i;do n.insert(i===g?"."+T:"",g,n.sheet,!0),g=g.next;while(g!==void 0)}};function murmur2(e){for(var n=0,i,l=0,T=e.length;T>=4;++l,T-=4)i=e.charCodeAt(l)&255|(e.charCodeAt(++l)&255)<<8|(e.charCodeAt(++l)&255)<<16|(e.charCodeAt(++l)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,n=(i&65535)*1540483477+((i>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(T){case 3:n^=(e.charCodeAt(l+2)&255)<<16;case 2:n^=(e.charCodeAt(l+1)&255)<<8;case 1:n^=e.charCodeAt(l)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(n){return n.charCodeAt(1)===45},isProcessableValue=function(n){return n!=null&&typeof n!="boolean"},processStyleName=memoize(function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(n,i){switch(n){case"animation":case"animationName":if(typeof i=="string")return i.replace(animationRegex,function(l,T,g){return cursor={name:T,styles:g,next:cursor},T})}return unitlessKeys[n]!==1&&!isCustomProperty(n)&&typeof i=="number"&&i!==0?i+"px":i};function handleInterpolation(e,n,i){if(i==null)return"";var l=i;if(l.__emotion_styles!==void 0)return l;switch(typeof i){case"boolean":return"";case"object":{var T=i;if(T.anim===1)return cursor={name:T.name,styles:T.styles,next:cursor},T.name;var g=i;if(g.styles!==void 0){var b=g.next;if(b!==void 0)for(;b!==void 0;)cursor={name:b.name,styles:b.styles,next:cursor},b=b.next;var w=g.styles+";";return w}return createStringFromObject(e,n,i)}case"function":{if(e!==void 0){var d=cursor,h=i(e);return cursor=d,handleInterpolation(e,n,h)}break}}var c=i;if(n==null)return c;var a=n[c];return a!==void 0?a:c}function createStringFromObject(e,n,i){var l="";if(Array.isArray(i))for(var T=0;T<i.length;T++)l+=handleInterpolation(e,n,i[T])+";";else for(var g in i){var b=i[g];if(typeof b!="object"){var w=b;n!=null&&n[w]!==void 0?l+=g+"{"+n[w]+"}":isProcessableValue(w)&&(l+=processStyleName(g)+":"+processStyleValue(g,w)+";")}else if(Array.isArray(b)&&typeof b[0]=="string"&&(n==null||n[b[0]]===void 0))for(var d=0;d<b.length;d++)isProcessableValue(b[d])&&(l+=processStyleName(g)+":"+processStyleValue(g,b[d])+";");else{var h=handleInterpolation(e,n,b);switch(g){case"animation":case"animationName":{l+=processStyleName(g)+":"+h+";";break}default:l+=g+"{"+h+"}"}}}return l}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(e,n,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var l=!0,T="";cursor=void 0;var g=e[0];if(g==null||g.raw===void 0)l=!1,T+=handleInterpolation(i,n,g);else{var b=g;T+=b[0]}for(var w=1;w<e.length;w++)if(T+=handleInterpolation(i,n,e[w]),l){var d=g;T+=d[w]}labelPattern.lastIndex=0;for(var h="",c;(c=labelPattern.exec(T))!==null;)h+="-"+c[1];var a=murmur2(T)+h;return{name:a,styles:T,next:cursor}}var syncFallback=function(n){return n()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var __unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(n){return reactExports.forwardRef(function(i,l){var T=reactExports.useContext(EmotionCacheContext);return n(i,T,l)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(n,i){if(typeof i=="function"){var l=i(n);return l}return _extends$1({},n,i)},createCacheWithTheme=weakMemoize(function(e){return weakMemoize(function(n){return getTheme$1(e,n)})}),ThemeProvider$1=function(n){var i=reactExports.useContext(ThemeContext);return n.theme!==i&&(i=createCacheWithTheme(i)(n.theme)),reactExports.createElement(ThemeContext.Provider,{value:i},n.children)},hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(n,i){var l={};for(var T in i)hasOwn.call(i,T)&&(l[T]=i[T]);return l[typePropName]=n,l},Insertion$1=function(n){var i=n.cache,l=n.serialized,T=n.isStringTag;return registerStyles(i,l,T),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(i,l,T)}),null},Emotion=withEmotionCache(function(e,n,i){var l=e.css;typeof l=="string"&&n.registered[l]!==void 0&&(l=n.registered[l]);var T=e[typePropName],g=[l],b="";typeof e.className=="string"?b=getRegisteredStyles(n.registered,g,e.className):e.className!=null&&(b=e.className+" ");var w=serializeStyles(g,void 0,reactExports.useContext(ThemeContext));b+=n.key+"-"+w.name;var d={};for(var h in e)hasOwn.call(e,h)&&h!=="css"&&h!==typePropName&&(d[h]=e[h]);return d.className=b,i&&(d.ref=i),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:n,serialized:w,isStringTag:typeof T=="string"}),reactExports.createElement(T,d))}),Emotion$1=Emotion,jsx=function(n,i){var l=arguments;if(i==null||!hasOwn.call(i,"css"))return reactExports.createElement.apply(void 0,l);var T=l.length,g=new Array(T);g[0]=Emotion$1,g[1]=createEmotionProps(n,i);for(var b=2;b<T;b++)g[b]=l[b];return reactExports.createElement.apply(null,g)};(function(e){var n;n||(n=e.JSX||(e.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(e,n){var i=e.styles,l=serializeStyles([i],void 0,reactExports.useContext(ThemeContext)),T=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var g=n.key+"-global",b=new n.sheet.constructor({key:g,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),w=!1,d=document.querySelector('style[data-emotion="'+g+" "+l.name+'"]');return n.sheet.tags.length&&(b.before=n.sheet.tags[0]),d!==null&&(w=!0,d.setAttribute("data-emotion",g),b.hydrate([d])),T.current=[b,w],function(){b.flush()}},[n]),useInsertionEffectWithLayoutFallback(function(){var g=T.current,b=g[0],w=g[1];if(w){g[1]=!1;return}if(l.next!==void 0&&insertStyles(n,l.next,!0),b.tags.length){var d=b.tags[b.tags.length-1].nextElementSibling;b.before=d,b.flush()}n.insert("",l,b,!1)},[n,l.name]),null});function css$1(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return serializeStyles(n)}function keyframes$1(){var e=css$1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const e=reactExports.useContext(ColorModeContext);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}const classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(e={}){const{preventTransition:n=!0,nonce:i}=e,l={setDataset:T=>{const g=n?l.preventTransition():void 0;document.documentElement.dataset.theme=T,document.documentElement.style.colorScheme=T,g?.()},setClassName(T){document.body.classList.add(T?classNames.dark:classNames.light),document.body.classList.remove(T?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(T){return l.query().matches??T==="dark"?"dark":"light"},addListener(T){const g=l.query(),b=w=>{T(w.matches?"dark":"light")};return typeof g.addListener=="function"?g.addListener(b):g.addEventListener("change",b),()=>{typeof g.removeListener=="function"?g.removeListener(b):g.removeEventListener("change",b)}},preventTransition(){const T=document.createElement("style");return T.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i!==void 0&&(T.nonce=i),document.head.appendChild(T),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(T)})})}}};return l}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(e){return{ssr:!1,type:"localStorage",get(n){if(!globalThis?.document)return n;let i;try{i=localStorage.getItem(e)||n}catch{}return i||n},set(n){try{localStorage.setItem(e,n)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{},useSafeLayoutEffect=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(e,n){return e.type==="cookie"&&e.ssr?e.get(n):n}const ColorModeProvider=function(n){const{value:i,children:l,options:{useSystemColorMode:T,initialColorMode:g,disableTransitionOnChange:b}={},colorModeManager:w=localStorageManager}=n,d=__unsafe_useEmotionCache(),h=g==="dark"?"dark":"light",[c,a]=reactExports.useState(()=>getTheme(w,h)),[o,u]=reactExports.useState(()=>getTheme(w)),{getSystemTheme:f,setClassName:m,setDataset:x,addListener:E}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:b,nonce:d?.nonce}),[b,d?.nonce]),S=g==="system"&&!c?o:c,R=reactExports.useCallback(v=>{const F=v==="system"?f():v;a(F),m(F==="dark"),x(F),w.set(F)},[w,f,m,x]);useSafeLayoutEffect(()=>{g==="system"&&u(f())},[]),reactExports.useEffect(()=>{const v=w.get();if(v){R(v);return}if(g==="system"){R("system");return}R(h)},[w,h,g,R]);const M=reactExports.useCallback(()=>{R(S==="dark"?"light":"dark")},[S,R]);reactExports.useEffect(()=>{if(T)return E(R)},[T,E,R]);const k=reactExports.useMemo(()=>({colorMode:i??S,toggleColorMode:i?noop$2:M,setColorMode:i?noop$2:R,forced:i!==void 0}),[S,M,R,i]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:k,children:l})};ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:e=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(e){const{cssVarsRoot:n,theme:i,children:l}=e,T=reactExports.useMemo(()=>toCSSVar(i),[i]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:T,children:[jsxRuntimeExports.jsx(CSSVars,{root:n}),l]})}function CSSVars({root:e=":host, :root"}){const n=[e,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:i=>({[n]:i.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(e){return createContext$1({name:`${e}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${e} />" `})}function GlobalStyle(){const{colorMode:e}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:n=>{const i=memoizedGet$1(n,"styles.global"),l=runIfFn$1(i,{theme:n,colorMode:e});return l?css$2(l)(n):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext$1({strict:!1,name:"PortalManagerContext"});function PortalManager(e){const{children:n,zIndex:i}=e;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:i},children:n})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(e){const{children:n,environment:i,disabled:l}=e,T=reactExports.useRef(null),g=reactExports.useMemo(()=>i||{getDocument:()=>T.current?.ownerDocument??document,getWindow:()=>T.current?.ownerDocument.defaultView??window},[i]),b=!l||!i;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:g,children:[n,b&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:T})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider$1=e=>{const{children:n,colorModeManager:i,portalZIndex:l,resetScope:T,resetCSS:g=!0,theme:b={},environment:w,cssVarsRoot:d,disableEnvironment:h,disableGlobalStyle:c}=e,a=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:w,disabled:h,children:n});return jsxRuntimeExports.jsx(ThemeProvider,{theme:b,cssVarsRoot:d,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:i,options:b.config,children:[g?jsxRuntimeExports.jsx(CSSReset,{scope:T}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!c&&jsxRuntimeExports.jsx(GlobalStyle,{}),l?jsxRuntimeExports.jsx(PortalManager,{zIndex:l,children:a}):a]})})},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const n=reactExports.useRef(null);return n.current===null&&(n.current=e()),n.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(e,n){e.indexOf(n)===-1&&e.push(n)}function removeItem(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}const clamp=(e,n,i)=>i>n?n:i<e?e:i;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function isObject(e){return typeof e=="object"&&e!==null}const isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function memo(e){let n;return()=>(n===void 0&&(n=e()),n)}const noop$1=e=>e,combineFunctions=(e,n)=>i=>n(e(i)),pipe$1=(...e)=>e.reduce(combineFunctions),progress=(e,n,i)=>{const l=n-e;return l===0?1:(i-e)/l};class SubscriptionManager{constructor(){this.subscriptions=[]}add(n){return addUniqueItem(this.subscriptions,n),()=>removeItem(this.subscriptions,n)}notify(n,i,l){const T=this.subscriptions.length;if(T)if(T===1)this.subscriptions[0](n,i,l);else for(let g=0;g<T;g++){const b=this.subscriptions[g];b&&b(n,i,l)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3;function velocityPerSecond(e,n){return n?e*(1e3/n):0}const calcBezier=(e,n,i)=>(((1-3*i+3*n)*e+(3*i-6*n))*e+3*n)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,n,i,l,T){let g,b,w=0;do b=n+(i-n)/2,g=calcBezier(b,l,T)-e,g>0?i=b:n=b;while(Math.abs(g)>subdivisionPrecision&&++w<subdivisionMaxIterations);return b}function cubicBezier(e,n,i,l){if(e===n&&i===l)return noop$1;const T=g=>binarySubdivide(g,0,1,e,i);return g=>g===0||g===1?g:calcBezier(T(g),n,l)}const mirrorEasing=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,reverseEasing=e=>n=>1-e(1-n),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=e=>typeof e=="string",easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant(e.length===4);const[n,i,l,T]=e;return cubicBezier(n,i,l,T)}else if(isValidEasing(e))return easingLookup[e];return e},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(e,n){let i=new Set,l=new Set,T=!1,g=!1;const b=new WeakSet;let w={delta:0,timestamp:0,isProcessing:!1};function d(c){b.has(c)&&(h.schedule(c),e()),c(w)}const h={schedule:(c,a=!1,o=!1)=>{const f=o&&T?i:l;return a&&b.add(c),f.has(c)||f.add(c),c},cancel:c=>{l.delete(c),b.delete(c)},process:c=>{if(w=c,T){g=!0;return}T=!0,[i,l]=[l,i],i.forEach(d),i.clear(),T=!1,g&&(g=!1,h.process(c))}};return h}const maxElapsed=40;function createRenderBatcher(e,n){let i=!1,l=!0;const T={delta:0,timestamp:0,isProcessing:!1},g=()=>i=!0,b=stepsOrder.reduce((R,M)=>(R[M]=createRenderStep(g),R),{}),{setup:w,read:d,resolveKeyframes:h,preUpdate:c,update:a,preRender:o,render:u,postRender:f}=b,m=()=>{const R=MotionGlobalConfig.useManualTiming?T.timestamp:performance.now();i=!1,MotionGlobalConfig.useManualTiming||(T.delta=l?1e3/60:Math.max(Math.min(R-T.timestamp,maxElapsed),1)),T.timestamp=R,T.isProcessing=!0,w.process(T),d.process(T),h.process(T),c.process(T),a.process(T),o.process(T),u.process(T),f.process(T),T.isProcessing=!1,i&&n&&(l=!1,e(m))},x=()=>{i=!0,l=!0,T.isProcessing||e(m)};return{schedule:stepsOrder.reduce((R,M)=>{const k=b[M];return R[M]=(v,F=!1,I=!1)=>(i||x(),k.schedule(v,F,I)),R},{}),cancel:R=>{for(let M=0;M<stepsOrder.length;M++)b[stepsOrder[M]].cancel(R)},state:T,steps:b}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}},checkStringStartsWith=e=>n=>typeof n=="string"&&n.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,n)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(e)||n&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,n)),splitColor=(e,n,i)=>l=>{if(typeof l!="string")return l;const[T,g,b,w]=l.match(floatRegex);return{[e]:parseFloat(T),[n]:parseFloat(g),[i]:parseFloat(b),alpha:w!==void 0?parseFloat(w):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:n,blue:i,alpha:l=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(l))+")"};function parseHex(e){let n="",i="",l="",T="";return e.length>5?(n=e.substring(1,3),i=e.substring(3,5),l=e.substring(5,7),T=e.substring(7,9)):(n=e.substring(1,2),i=e.substring(2,3),l=e.substring(3,4),T=e.substring(4,5),n+=n,i+=i,l+=l,T+=T),{red:parseInt(n,16),green:parseInt(i,16),blue:parseInt(l,16),alpha:T?parseInt(T,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:i,alpha:l=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(n))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(l))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e),getAnimatableNone:e=>{const n=color.parse(e);return n.alpha=0,color.transform(n)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){return isNaN(e)&&typeof e=="string"&&(e.match(floatRegex)?.length||0)+(e.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const n=e.toString(),i=[],l={color:[],number:[],var:[]},T=[];let g=0;const w=n.replace(complexRegex,d=>(color.test(d)?(l.color.push(g),T.push(COLOR_TOKEN),i.push(color.parse(d))):d.startsWith(VAR_FUNCTION_TOKEN)?(l.var.push(g),T.push(VAR_TOKEN),i.push(d)):(l.number.push(g),T.push(NUMBER_TOKEN),i.push(parseFloat(d))),++g,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:w,indexes:l,types:T}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:n,types:i}=analyseComplexValue(e),l=n.length;return T=>{let g="";for(let b=0;b<l;b++)if(g+=n[b],T[b]!==void 0){const w=i[b];w===NUMBER_TOKEN?g+=sanitize(T[b]):w===COLOR_TOKEN?g+=color.transform(T[b]):g+=T[b]}return g}}const convertNumbersToZero=e=>typeof e=="number"?0:color.test(e)?color.getAnimatableNone(e):e;function getAnimatableNone$1(e){const n=parseComplexValue(e);return createTransformer(e)(n.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(e,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(n-e)*6*i:i<1/2?n:i<2/3?e+(n-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:n,lightness:i,alpha:l}){e/=360,n/=100,i/=100;let T=0,g=0,b=0;if(!n)T=g=b=i;else{const w=i<.5?i*(1+n):i+n-i*n,d=2*i-w;T=hueToRgb(d,w,e+1/3),g=hueToRgb(d,w,e),b=hueToRgb(d,w,e-1/3)}return{red:Math.round(T*255),green:Math.round(g*255),blue:Math.round(b*255),alpha:l}}function mixImmediate(e,n){return i=>i>0?n:e}const mixNumber$1=(e,n,i)=>e+(n-e)*i,mixLinearColor=(e,n,i)=>{const l=e*e,T=i*(n*n-l)+l;return T<0?0:Math.sqrt(T)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(n=>n.test(e));function asRGBA(e){const n=getColorType(e);if(!n)return!1;let i=n.parse(e);return n===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,n)=>{const i=asRGBA(e),l=asRGBA(n);if(!i||!l)return mixImmediate(e,n);const T={...i};return g=>(T.red=mixLinearColor(i.red,l.red,g),T.green=mixLinearColor(i.green,l.green,g),T.blue=mixLinearColor(i.blue,l.blue,g),T.alpha=mixNumber$1(i.alpha,l.alpha,g),rgba.transform(T))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,n){return invisibleValues.has(e)?i=>i<=0?e:n:i=>i>=1?n:e}function mixNumber(e,n){return i=>mixNumber$1(e,n,i)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,n){const i=[...e],l=i.length,T=e.map((g,b)=>getMixer(g)(g,n[b]));return g=>{for(let b=0;b<l;b++)i[b]=T[b](g);return i}}function mixObject(e,n){const i={...e,...n},l={};for(const T in i)e[T]!==void 0&&n[T]!==void 0&&(l[T]=getMixer(e[T])(e[T],n[T]));return T=>{for(const g in l)i[g]=l[g](T);return i}}function matchOrder(e,n){const i=[],l={color:0,var:0,number:0};for(let T=0;T<n.values.length;T++){const g=n.types[T],b=e.indexes[g][l[g]],w=e.values[b]??0;i[T]=w,l[g]++}return i}const mixComplex=(e,n)=>{const i=complex.createTransformer(n),l=analyseComplexValue(e),T=analyseComplexValue(n);return l.indexes.var.length===T.indexes.var.length&&l.indexes.color.length===T.indexes.color.length&&l.indexes.number.length>=T.indexes.number.length?invisibleValues.has(e)&&!T.values.length||invisibleValues.has(n)&&!l.values.length?mixVisibility(e,n):pipe$1(mixArray(matchOrder(l,T),T.values),i):mixImmediate(e,n)};function mix(e,n,i){return typeof e=="number"&&typeof n=="number"&&typeof i=="number"?mixNumber$1(e,n,i):getMixer(e)(e,n)}const frameloopDriver=e=>{const n=({timestamp:i})=>e(i);return{start:(i=!0)=>frame.update(n,i),stop:()=>cancelFrame(n),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(e,n,i=10)=>{let l="";const T=Math.max(Math.round(n/i),2);for(let g=0;g<T;g++)l+=Math.round(e(g/(T-1))*1e4)/1e4+", ";return`linear(${l.substring(0,l.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let n=0;const i=50;let l=e.next(n);for(;!l.done&&n<maxGeneratorDuration;)n+=i,l=e.next(n);return n>=maxGeneratorDuration?1/0:n}function createGeneratorEasing(e,n=100,i){const l=i({...e,keyframes:[0,n]}),T=Math.min(calcGeneratorDuration(l),maxGeneratorDuration);return{type:"keyframes",ease:g=>l.next(T*g).value/n,duration:millisecondsToSeconds(T)}}const velocitySampleDuration=5;function calcGeneratorVelocity(e,n,i){const l=Math.max(n-velocitySampleDuration,0);return velocityPerSecond(i-e(l),n-l)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:n=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:l=springDefaults.mass}){let T,g,b=1-n;b=clamp(springDefaults.minDamping,springDefaults.maxDamping,b),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),b<1?(T=h=>{const c=h*b,a=c*e,o=c-i,u=calcAngularFreq(h,b),f=Math.exp(-a);return safeMin-o/u*f},g=h=>{const a=h*b*e,o=a*i+i,u=Math.pow(b,2)*Math.pow(h,2)*e,f=Math.exp(-a),m=calcAngularFreq(Math.pow(h,2),b);return(-T(h)+safeMin>0?-1:1)*((o-u)*f)/m}):(T=h=>{const c=Math.exp(-h*e),a=(h-i)*e+1;return-safeMin+c*a},g=h=>{const c=Math.exp(-h*e),a=(i-h)*(e*e);return c*a});const w=5/e,d=approximateRoot(T,g,w);if(e=secondsToMilliseconds(e),isNaN(d))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const h=Math.pow(d,2)*l;return{stiffness:h,damping:b*2*Math.sqrt(l*h),duration:e}}}const rootIterations=12;function approximateRoot(e,n,i){let l=i;for(let T=1;T<rootIterations;T++)l=l-e(l)/n(l);return l}function calcAngularFreq(e,n){return e*Math.sqrt(1-n*n)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,n){return n.some(i=>e[i]!==void 0)}function getSpringOptions(e){let n={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const i=e.visualDuration,l=2*Math.PI/(i*1.2),T=l*l,g=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(T);n={...n,mass:springDefaults.mass,stiffness:T,damping:g}}else{const i=findSpring(e);n={...n,...i,mass:springDefaults.mass},n.isResolvedFromDuration=!0}return n}function spring(e=springDefaults.visualDuration,n=springDefaults.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:l,restDelta:T}=i;const g=i.keyframes[0],b=i.keyframes[i.keyframes.length-1],w={done:!1,value:g},{stiffness:d,damping:h,mass:c,duration:a,velocity:o,isResolvedFromDuration:u}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),f=o||0,m=h/(2*Math.sqrt(d*c)),x=b-g,E=millisecondsToSeconds(Math.sqrt(d/c)),S=Math.abs(x)<5;l||(l=S?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),T||(T=S?springDefaults.restDelta.granular:springDefaults.restDelta.default);let R;if(m<1){const k=calcAngularFreq(E,m);R=v=>{const F=Math.exp(-m*E*v);return b-F*((f+m*E*x)/k*Math.sin(k*v)+x*Math.cos(k*v))}}else if(m===1)R=k=>b-Math.exp(-E*k)*(x+(f+E*x)*k);else{const k=E*Math.sqrt(m*m-1);R=v=>{const F=Math.exp(-m*E*v),I=Math.min(k*v,300);return b-F*((f+m*E*x)*Math.sinh(I)+k*x*Math.cosh(I))/k}}const M={calculatedDuration:u&&a||null,next:k=>{const v=R(k);if(u)w.done=k>=a;else{let F=k===0?f:0;m<1&&(F=k===0?secondsToMilliseconds(f):calcGeneratorVelocity(R,k,v));const I=Math.abs(F)<=l,A=Math.abs(b-v)<=T;w.done=I&&A}return w.value=w.done?b:v,w},toString:()=>{const k=Math.min(calcGeneratorDuration(M),maxGeneratorDuration),v=generateLinearEasing(F=>M.next(k*F).value,k,30);return k+"ms "+v},toTransition:()=>{}};return M}spring.applyToOptions=e=>{const n=createGeneratorEasing(e,100,spring);return e.ease=n.ease,e.duration=secondsToMilliseconds(n.duration),e.type="keyframes",e};function inertia({keyframes:e,velocity:n=0,power:i=.8,timeConstant:l=325,bounceDamping:T=10,bounceStiffness:g=500,modifyTarget:b,min:w,max:d,restDelta:h=.5,restSpeed:c}){const a=e[0],o={done:!1,value:a},u=I=>w!==void 0&&I<w||d!==void 0&&I>d,f=I=>w===void 0?d:d===void 0||Math.abs(w-I)<Math.abs(d-I)?w:d;let m=i*n;const x=a+m,E=b===void 0?x:b(x);E!==x&&(m=E-a);const S=I=>-m*Math.exp(-I/l),R=I=>E+S(I),M=I=>{const A=S(I),$=R(I);o.done=Math.abs(A)<=h,o.value=o.done?E:$};let k,v;const F=I=>{u(o.value)&&(k=I,v=spring({keyframes:[o.value,f(o.value)],velocity:calcGeneratorVelocity(R,I,o.value),damping:T,stiffness:g,restDelta:h,restSpeed:c}))};return F(0),{calculatedDuration:null,next:I=>{let A=!1;return!v&&k===void 0&&(A=!0,M(I),F(I)),k!==void 0&&I>=k?v.next(I-k):(!A&&M(I),o)}}}function createMixers(e,n,i){const l=[],T=i||MotionGlobalConfig.mix||mix,g=e.length-1;for(let b=0;b<g;b++){let w=T(e[b],e[b+1]);if(n){const d=Array.isArray(n)?n[b]||noop$1:n;w=pipe$1(d,w)}l.push(w)}return l}function interpolate(e,n,{clamp:i=!0,ease:l,mixer:T}={}){const g=e.length;if(invariant(g===n.length),g===1)return()=>n[0];if(g===2&&n[0]===n[1])return()=>n[1];const b=e[0]===e[1];e[0]>e[g-1]&&(e=[...e].reverse(),n=[...n].reverse());const w=createMixers(n,l,T),d=w.length,h=c=>{if(b&&c<e[0])return n[0];let a=0;if(d>1)for(;a<e.length-2&&!(c<e[a+1]);a++);const o=progress(e[a],e[a+1],c);return w[a](o)};return i?c=>h(clamp(e[0],e[g-1],c)):h}function fillOffset(e,n){const i=e[e.length-1];for(let l=1;l<=n;l++){const T=progress(0,n,l);e.push(mixNumber$1(i,1,T))}}function defaultOffset(e){const n=[0];return fillOffset(n,e.length-1),n}function convertOffsetToTimes(e,n){return e.map(i=>i*n)}function defaultEasing(e,n){return e.map(()=>n||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:n,times:i,ease:l="easeInOut"}){const T=isEasingArray(l)?l.map(easingDefinitionToFunction):easingDefinitionToFunction(l),g={done:!1,value:n[0]},b=convertOffsetToTimes(i&&i.length===n.length?i:defaultOffset(n),e),w=interpolate(b,n,{ease:Array.isArray(T)?T:defaultEasing(n,T)});return{calculatedDuration:e,next:d=>(g.value=w(d),g.done=d>=e,g)}}const isNotNull$1=e=>e!==null;function getFinalKeyframe$1(e,{repeat:n,repeatType:i="loop"},l,T=1){const g=e.filter(isNotNull$1),w=T<0||n&&i!=="loop"&&n%2===1?0:g.length-1;return!w||l===void 0?g[w]:l}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(e){typeof e.type=="string"&&(e.type=transitionTypeMap[e.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,i){return this.finished.then(n,i)}}const percentToProgress=e=>e/100;class JSAnimation extends WithPromise{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;replaceTransitionType(n);const{type:i=keyframes,repeat:l=0,repeatDelay:T=0,repeatType:g,velocity:b=0}=n;let{keyframes:w}=n;const d=i||keyframes;d!==keyframes&&typeof w[0]!="number"&&(this.mixKeyframes=pipe$1(percentToProgress,mix(w[0],w[1])),w=[0,100]);const h=d({...n,keyframes:w});g==="mirror"&&(this.mirroredGenerator=d({...n,keyframes:[...w].reverse(),velocity:-b})),h.calculatedDuration===null&&(h.calculatedDuration=calcGeneratorDuration(h));const{calculatedDuration:c}=h;this.calculatedDuration=c,this.resolvedDuration=c+T,this.totalDuration=this.resolvedDuration*(l+1)-T,this.generator=h}updateTime(n){const i=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(n,i=!1){const{generator:l,totalDuration:T,mixKeyframes:g,mirroredGenerator:b,resolvedDuration:w,calculatedDuration:d}=this;if(this.startTime===null)return l.next(0);const{delay:h=0,keyframes:c,repeat:a,repeatType:o,repeatDelay:u,type:f,onUpdate:m,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-T/this.speed,this.startTime)),i?this.currentTime=n:this.updateTime(n);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?E<0:E>T;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=T);let R=this.currentTime,M=l;if(a){const I=Math.min(this.currentTime,T)/w;let A=Math.floor(I),$=I%1;!$&&I>=1&&($=1),$===1&&A--,A=Math.min(A,a+1),!!(A%2)&&(o==="reverse"?($=1-$,u&&($-=u/w)):o==="mirror"&&(M=b)),R=clamp(0,1,$)*w}const k=S?{done:!1,value:c[0]}:M.next(R);g&&(k.value=g(k.value));let{done:v}=k;!S&&d!==null&&(v=this.playbackSpeed>=0?this.currentTime>=T:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&v);return F&&f!==inertia&&(k.value=getFinalKeyframe$1(c,this.options,x,this.speed)),m&&m(k.value),F&&this.finish(),k}then(n,i){return this.finished.then(n,i)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+millisecondsToSeconds(n)}get time(){return millisecondsToSeconds(this.currentTime)}set time(n){n=secondsToMilliseconds(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(time.now());const i=this.playbackSpeed!==n;this.playbackSpeed=n,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=frameloopDriver,startTime:i}=this.options;this.driver||(this.driver=n(T=>this.tick(T))),this.options.onPlay?.();const l=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=l):this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime||(this.startTime=i??l),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function fillWildcards(e){for(let n=1;n<e.length;n++)e[n]??(e[n]=e[n-1])}const radToDeg=e=>e*180/Math.PI,rotate=e=>{const n=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(n)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate,rotateZ:rotate,skewX:e=>radToDeg(Math.atan(e[1])),skewY:e=>radToDeg(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rebaseAngle=e=>(e=e%360,e<0&&(e+=360),e),rotateZ=rotate,scaleX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:e=>(scaleX(e)+scaleY(e))/2,rotateX:e=>rebaseAngle(radToDeg(Math.atan2(e[6],e[5]))),rotateY:e=>rebaseAngle(radToDeg(Math.atan2(-e[2],e[0]))),rotateZ,rotate:rotateZ,skewX:e=>radToDeg(Math.atan(e[4])),skewY:e=>radToDeg(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,n){if(!e||e==="none")return defaultTransformValue(n);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let l,T;if(i)l=matrix3dParsers,T=i;else{const w=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);l=matrix2dParsers,T=w}if(!T)return defaultTransformValue(n);const g=l[n],b=T[1].split(",").map(convertTransformToNumber);return typeof g=="function"?g(b):b[g]}const readTransformValue=(e,n)=>{const{transform:i="none"}=getComputedStyle(e);return parseValueFromTransform(i,n)};function convertTransformToNumber(e){return parseFloat(e.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=e=>e===number||e===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const n=[];return nonTranslationalTransformKeys.forEach(i=>{const l=e.getValue(i);l!==void 0&&(n.push([i,l.get()]),l.set(i.startsWith("scale")?1:0))}),n}const positionalValues={width:({x:e},{paddingLeft:n="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(n)-parseFloat(i),height:({y:e},{paddingTop:n="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(n)-parseFloat(i),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>parseValueFromTransform(n,"x"),y:(e,{transform:n})=>parseValueFromTransform(n,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(l=>l.needsMeasurement),n=new Set(e.map(l=>l.element)),i=new Map;n.forEach(l=>{const T=removeNonTranslationalTransform(l);T.length&&(i.set(l,T),l.render())}),e.forEach(l=>l.measureInitialState()),n.forEach(l=>{l.render();const T=i.get(l);T&&T.forEach(([g,b])=>{l.getValue(g)?.set(b)})}),e.forEach(l=>l.measureEndState()),e.forEach(l=>{l.suspendedScrollY!==void 0&&window.scrollTo(0,l.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(n,i,l,T,g,b=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=i,this.name=l,this.motionValue=T,this.element=g,this.isAsync=b}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:i,element:l,motionValue:T}=this;if(n[0]===null){const g=T?.get(),b=n[n.length-1];if(g!==void 0)n[0]=g;else if(l&&i){const w=l.readValue(i,b);w!=null&&(n[0]=w)}n[0]===void 0&&(n[0]=b),T&&g===void 0&&T.set(n[0])}fillWildcards(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=e=>e.startsWith("--");function setStyle(e,n,i){isCSSVar(n)?e.style.setProperty(n,i):e.style[n]=i}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(e,n){const i=memo(e);return()=>supportsFlags[n]??i()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([e,n,i,l])=>`cubic-bezier(${e}, ${n}, ${i}, ${l})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,n){if(e)return typeof e=="function"?supportsLinearEasing()?generateLinearEasing(e,n):"ease-out":isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(i=>mapEasingToNativeEasing(i,n)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}function startWaapiAnimation(e,n,i,{delay:l=0,duration:T=300,repeat:g=0,repeatType:b="loop",ease:w="easeOut",times:d}={},h=void 0){const c={[n]:i};d&&(c.offset=d);const a=mapEasingToNativeEasing(w,T);Array.isArray(a)&&(c.easing=a);const o={delay:l,duration:T,easing:Array.isArray(a)?"linear":a,fill:"both",iterations:g+1,direction:b==="reverse"?"alternate":"normal"};return h&&(o.pseudoElement=h),e.animate(c,o)}function isGenerator(e){return typeof e=="function"&&"applyToOptions"in e}function applyGeneratorOptions({type:e,...n}){return isGenerator(e)&&supportsLinearEasing()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class NativeAnimation extends WithPromise{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:i,name:l,keyframes:T,pseudoElement:g,allowFlatten:b=!1,finalKeyframe:w,onComplete:d}=n;this.isPseudoElement=!!g,this.allowFlatten=b,this.options=n,invariant(typeof n.type!="string");const h=applyGeneratorOptions(n);this.animation=startWaapiAnimation(i,l,T,h,g),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!g){const c=getFinalKeyframe$1(T,this.options,w,this.speed);this.updateMotionValue?this.updateMotionValue(c):setStyle(i,l,c),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+millisecondsToSeconds(n)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&supportsScrollTimeline()?(this.animation.timeline=n,noop$1):i(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}function replaceStringEasing(e){typeof e.ease=="string"&&isUnsupportedEase(e.ease)&&(e.ease=unsupportedEasingFunctions[e.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(n){replaceStringEasing(n),replaceTransitionType(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:i,onUpdate:l,onComplete:T,element:g,...b}=this.options;if(!i)return;if(n!==void 0){i.set(n);return}const w=new JSAnimation({...b,autoplay:!1}),d=secondsToMilliseconds(this.finishedTime??this.time);i.setWithVelocity(w.sample(d-sampleDelta).value,w.sample(d).value,sampleDelta),w.stop()}}const isAnimatable=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const n=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}function canAnimate(e,n,i,l){const T=e[0];if(T===null)return!1;if(n==="display"||n==="visibility")return!0;const g=e[e.length-1],b=isAnimatable(T,n),w=isAnimatable(g,n);return!b||!w?!1:hasKeyframesChanged(e)||(i==="spring"||isGenerator(i))&&l}function makeAnimationInstant(e){e.duration=0,e.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(e){const{motionValue:n,name:i,repeatDelay:l,repeatType:T,damping:g,type:b}=e;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=n.owner.getProps();return supportsWaapi()&&i&&acceleratedValues.has(i)&&(i!=="transform"||!h)&&!d&&!l&&T!=="mirror"&&g!==0&&b!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:n=!0,delay:i=0,type:l="keyframes",repeat:T=0,repeatDelay:g=0,repeatType:b="loop",keyframes:w,name:d,motionValue:h,element:c,...a}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time.now();const o={autoplay:n,delay:i,type:l,repeat:T,repeatDelay:g,repeatType:b,name:d,motionValue:h,element:c,...a},u=c?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new u(w,(f,m,x)=>this.onKeyframesResolved(f,m,o,!x),d,h,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,i,l,T){this.keyframeResolver=void 0;const{name:g,type:b,velocity:w,delay:d,isHandoff:h,onUpdate:c}=l;this.resolvedAt=time.now(),canAnimate(n,g,b,w)||((MotionGlobalConfig.instantAnimations||!d)&&c?.(getFinalKeyframe$1(n,l,i)),n[0]=n[n.length-1],makeAnimationInstant(l),l.repeat=0);const o={startTime:T?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...l,keyframes:n},u=!h&&supportsBrowserAnimation(o)?new NativeAnimationExtended({...o,element:o.motionValue.owner.current}):new JSAnimation(o);u.finished.then(()=>this.notifyFinished()).catch(noop$1),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(n,i){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const n=splitCSSVariableRegex.exec(e);if(!n)return[,];const[,i,l,T]=n;return[`--${i??l}`,T]}function getVariableValue(e,n,i=1){const[l,T]=parseCSSVariable(e);if(!l)return;const g=window.getComputedStyle(n).getPropertyValue(l);if(g){const b=g.trim();return isNumericalString(b)?parseFloat(b):b}return isCSSVariableToken(T)?getVariableValue(T,n,i+1):T}function getValueTransition(e,n){return e?.[n]??e?.default??e}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:e=>e==="auto",parse:e=>e},testValueType=e=>n=>n.test(e),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[n,i]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[l]=i.match(floatRegex)||[];if(!l)return e;const T=i.replace(l,"");let g=maxDefaults.has(n)?1:0;return l!==i&&(g*=100),n+"("+g+T+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const n=e.match(functionRegex);return n?n.map(applyDefaultFilter).join(" "):e}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,n){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(n):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,n,i){let l=0,T;for(;l<e.length&&!T;){const g=e[l];typeof g=="string"&&!invalidTemplates.has(g)&&analyseComplexValue(g).values.length&&(T=e[l]),l++}if(T&&i)for(const g of n)e[g]=getAnimatableNone(i,T)}class DOMKeyframesResolver extends KeyframeResolver{constructor(n,i,l,T,g){super(n,i,l,T,g,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:i,name:l}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<n.length;d++){let h=n[d];if(typeof h=="string"&&(h=h.trim(),isCSSVariableToken(h))){const c=getVariableValue(h,i.current);c!==void 0&&(n[d]=c),d===n.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(l)||n.length!==2)return;const[T,g]=n,b=findDimensionValueType(T),w=findDimensionValueType(g);if(b!==w)if(isNumOrPxType(b)&&isNumOrPxType(w))for(let d=0;d<n.length;d++){const h=n[d];typeof h=="string"&&(n[d]=parseFloat(h))}else positionalValues[l]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:i}=this,l=[];for(let T=0;T<n.length;T++)(n[T]===null||isNone(n[T]))&&l.push(T);l.length&&makeNoneKeyframesAnimatable(n,l,i)}measureInitialState(){const{element:n,unresolvedKeyframes:i,name:l}=this;if(!n||!n.current)return;l==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[l](n.measureViewportBox(),window.getComputedStyle(n.current)),i[0]=this.measuredOrigin;const T=i[i.length-1];T!==void 0&&n.getValue(l,T).jump(T,!1)}measureEndState(){const{element:n,name:i,unresolvedKeyframes:l}=this;if(!n||!n.current)return;const T=n.getValue(i);T&&T.jump(this.measuredOrigin,!1);const g=l.length-1,b=l[g];l[g]=positionalValues[i](n.measureViewportBox(),window.getComputedStyle(n.current)),b!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=b),this.removedTransforms?.length&&this.removedTransforms.forEach(([w,d])=>{n.getValue(w).set(d)}),this.resolveNoneKeyframes()}}function resolveElements(e,n,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let l=document;const T=i?.[e]??l.querySelectorAll(e);return T?Array.from(T):[]}return Array.from(e)}const getValueAsType=(e,n)=>n&&typeof e=="number"?n.transform(e):e;function isHTMLElement(e){return isObject(e)&&"offsetHeight"in e}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(n,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=l=>{const T=time.now();if(this.updatedAt!==T&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(l),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=i.owner}setCurrent(n){this.current=n,this.updatedAt=time.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,i){this.events[n]||(this.events[n]=new SubscriptionManager);const l=this.events[n].add(i);return n==="change"?()=>{l(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:l}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,i){this.passiveEffect=n,this.stopPassiveEffect=i}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,i,l){this.set(i),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-l}jump(n,i=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(n){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=n(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,n){return new MotionValue(e,n)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(e,n){const i=resolveElements(e),l=new AbortController,T={passive:!0,...n,signal:l.signal};return[i,T,()=>l.abort()]}function isValidHover(e){return!(e.pointerType==="touch"||isDragActive())}function hover(e,n,i={}){const[l,T,g]=setupGesture(e,i),b=w=>{if(!isValidHover(w))return;const{target:d}=w,h=n(d,w);if(typeof h!="function"||!d)return;const c=a=>{isValidHover(a)&&(h(a),d.removeEventListener("pointerleave",c))};d.addEventListener("pointerleave",c,T)};return l.forEach(w=>{w.addEventListener("pointerenter",b,T)}),g}const isNodeOrChild=(e,n)=>n?e===n?!0:isNodeOrChild(e,n.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return n=>{n.key==="Enter"&&e(n)}}function firePointerEvent(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,n)=>{const i=e.currentTarget;if(!i)return;const l=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const T=filterEvents(()=>{firePointerEvent(i,"up")}),g=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",T,n),i.addEventListener("blur",g,n)});i.addEventListener("keydown",l,n),i.addEventListener("blur",()=>i.removeEventListener("keydown",l),n)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,n,i={}){const[l,T,g]=setupGesture(e,i),b=w=>{const d=w.currentTarget;if(!isValidPressEvent(w))return;isPressing.add(d);const h=n(d,w),c=(u,f)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",o),isPressing.has(d)&&isPressing.delete(d),isValidPressEvent(u)&&typeof h=="function"&&h(u,{success:f})},a=u=>{c(u,d===window||d===document||i.useGlobalTarget||isNodeOrChild(d,u.target))},o=u=>{c(u,!1)};window.addEventListener("pointerup",a,T),window.addEventListener("pointercancel",o,T)};return l.forEach(w=>{(i.useGlobalTarget?window:w).addEventListener("pointerdown",b,T),isHTMLElement(w)&&(w.addEventListener("focus",h=>enableKeyboardPress(h,T)),!isElementKeyboardAccessible(w)&&!w.hasAttribute("tabindex")&&(w.tabIndex=0))}),g}function isSVGElement(e){return isObject(e)&&"ownerSVGElement"in e}function isSVGSVGElement(e){return isSVGElement(e)&&e.tagName==="svg"}const isMotionValue=e=>!!(e&&e.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function setRef(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function composeRefs(...e){return n=>{let i=!1;const l=e.map(T=>{const g=setRef(T,n);return!i&&typeof g=="function"&&(i=!0),g});if(i)return()=>{for(let T=0;T<l.length;T++){const g=l[T];typeof g=="function"?g():setRef(e[T],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(n){const i=this.props.childRef.current;if(i&&n.isPresent&&!this.props.isPresent){const l=i.offsetParent,T=isHTMLElement(l)&&l.offsetWidth||0,g=this.props.sizeRef.current;g.height=i.offsetHeight||0,g.width=i.offsetWidth||0,g.top=i.offsetTop,g.left=i.offsetLeft,g.right=T-g.width-g.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:n,anchorX:i,root:l}){const T=reactExports.useId(),g=reactExports.useRef(null),b=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:w}=reactExports.useContext(MotionConfigContext),d=useComposedRefs(g,e?.ref);return reactExports.useInsertionEffect(()=>{const{width:h,height:c,top:a,left:o,right:u}=b.current;if(n||!g.current||!h||!c)return;const f=i==="left"?`left: ${o}`:`right: ${u}`;g.current.dataset.motionPopId=T;const m=document.createElement("style");w&&(m.nonce=w);const x=l??document.head;return x.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${T}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${a}px !important;
          }
        `),()=>{x.contains(m)&&x.removeChild(m)}},[n]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:n,childRef:g,sizeRef:b,children:reactExports.cloneElement(e,{ref:d})})}const PresenceChild=({children:e,initial:n,isPresent:i,onExitComplete:l,custom:T,presenceAffectsLayout:g,mode:b,anchorX:w,root:d})=>{const h=useConstant(newChildrenMap),c=reactExports.useId();let a=!0,o=reactExports.useMemo(()=>(a=!1,{id:c,initial:n,isPresent:i,custom:T,onExitComplete:u=>{h.set(u,!0);for(const f of h.values())if(!f)return;l&&l()},register:u=>(h.set(u,!1),()=>h.delete(u))}),[i,h,l]);return g&&a&&(o={...o}),reactExports.useMemo(()=>{h.forEach((u,f)=>h.set(f,!1))},[i]),reactExports.useEffect(()=>{!i&&!h.size&&l&&l()},[i]),b==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:i,anchorX:w,root:d,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:o,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const n=reactExports.useContext(PresenceContext);if(n===null)return[!0,null];const{isPresent:i,onExitComplete:l,register:T}=n,g=reactExports.useId();reactExports.useEffect(()=>{if(e)return T(g)},[e]);const b=reactExports.useCallback(()=>e&&l&&l(g),[g,l,e]);return!i&&l?[!1,b]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(e){return e===null?!0:e.isPresent}const getChildKey=e=>e.key||"";function onlyElements(e){const n=[];return reactExports.Children.forEach(e,i=>{reactExports.isValidElement(i)&&n.push(i)}),n}const AnimatePresence=({children:e,custom:n,initial:i=!0,onExitComplete:l,presenceAffectsLayout:T=!0,mode:g="sync",propagate:b=!1,anchorX:w="left",root:d})=>{const[h,c]=usePresence(b),a=reactExports.useMemo(()=>onlyElements(e),[e]),o=b&&!h?[]:a.map(getChildKey),u=reactExports.useRef(!0),f=reactExports.useRef(a),m=useConstant(()=>new Map),[x,E]=reactExports.useState(a),[S,R]=reactExports.useState(a);useIsomorphicLayoutEffect$2(()=>{u.current=!1,f.current=a;for(let v=0;v<S.length;v++){const F=getChildKey(S[v]);o.includes(F)?m.delete(F):m.get(F)!==!0&&m.set(F,!1)}},[S,o.length,o.join("-")]);const M=[];if(a!==x){let v=[...a];for(let F=0;F<S.length;F++){const I=S[F],A=getChildKey(I);o.includes(A)||(v.splice(F,0,I),M.push(I))}return g==="wait"&&M.length&&(v=M),R(onlyElements(v)),E(a),null}const{forceRender:k}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:S.map(v=>{const F=getChildKey(v),I=b&&!h?!1:a===S||o.includes(F),A=()=>{if(m.has(F))m.set(F,!0);else return;let $=!0;m.forEach(P=>{P||($=!1)}),$&&(k?.(),R(f.current),b&&c?.(),l&&l())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:I,initial:!u.current||i?void 0:!1,custom:n,presenceAffectsLayout:T,mode:g,root:d,onExitComplete:I?void 0:A,anchorX:w,children:v},F)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:n=>featureProps[e].some(i=>!!n[i])};function loadFeatures(e){for(const n in e)featureDefinitions[n]={...featureDefinitions[n],...e[n]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){typeof e=="function"&&(shouldForward=n=>n.startsWith("on")?!isValidMotionProp(n):e(n))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,n,i){const l={};for(const T in e)T==="values"&&typeof e.values=="object"||(shouldForward(T)||i===!0&&isValidMotionProp(T)||!n&&!isValidMotionProp(T)||e.draggable&&T.startsWith("onDrag"))&&(l[T]=e[T]);return l}const MotionContext=reactExports.createContext({});function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(n=>isVariantLabel(e[n]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,n){if(isControllingVariants(e)){const{initial:i,animate:l}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(l)?l:void 0}}return e.inherit!==!1?n:{}}function useCreateMotionContext(e){const{initial:n,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:n,animate:i}),[variantLabelsAsDependency(n),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}function pixelsToPercent(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const correctBorderRadius={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,n.target.x),l=pixelsToPercent(e,n.target.y);return`${i}% ${l}%`}},correctBoxShadow={correct:(e,{treeScale:n,projectionDelta:i})=>{const l=e,T=complex.parse(e);if(T.length>5)return l;const g=complex.createTransformer(e),b=typeof T[0]!="number"?1:0,w=i.x.scale*n.x,d=i.y.scale*n.y;T[0+b]/=w,T[1+b]/=d;const h=mixNumber$1(w,d,.5);return typeof T[2+b]=="number"&&(T[2+b]/=h),typeof T[3+b]=="number"&&(T[3+b]/=h),g(T)}},scaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function isForcedMotionValue(e,{layout:n,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(n||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,n,i){let l="",T=!0;for(let g=0;g<numTransforms;g++){const b=transformPropOrder[g],w=e[b];if(w===void 0)continue;let d=!0;if(typeof w=="number"?d=w===(b.startsWith("scale")?1:0):d=parseFloat(w)===0,!d||i){const h=getValueAsType(w,numberValueTypes[b]);if(!d){T=!1;const c=translateAlias[b]||b;l+=`${c}(${h}) `}i&&(n[b]=h)}}return l=l.trim(),i?l=i(n,T?"":l):T&&(l="none"),l}function buildHTMLStyles(e,n,i){const{style:l,vars:T,transformOrigin:g}=e;let b=!1,w=!1;for(const d in n){const h=n[d];if(transformProps.has(d)){b=!0;continue}else if(isCSSVariableName(d)){T[d]=h;continue}else{const c=getValueAsType(h,numberValueTypes[d]);d.startsWith("origin")?(w=!0,g[d]=c):l[d]=c}}if(n.transform||(b||i?l.transform=buildTransform(n,e.transform,i):l.transform&&(l.transform="none")),w){const{originX:d="50%",originY:h="50%",originZ:c=0}=g;l.transformOrigin=`${d} ${h} ${c}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,n,i){for(const l in n)!isMotionValue(n[l])&&!isForcedMotionValue(l,i)&&(e[l]=n[l])}function useInitialMotionValues({transformTemplate:e},n){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,n,e),Object.assign({},i.vars,i.style)},[n])}function useStyle(e,n){const i=e.style||{},l={};return copyRawValuesOnly(l,i,e),Object.assign(l,useInitialMotionValues(e,n)),l}function useHTMLProps(e,n){const i={},l=useStyle(e,n);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=l,i}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,n,i=1,l=0,T=!0){e.pathLength=1;const g=T?dashKeys:camelKeys;e[g.offset]=px.transform(-l);const b=px.transform(n),w=px.transform(i);e[g.array]=`${b} ${w}`}function buildSVGAttrs(e,{attrX:n,attrY:i,attrScale:l,pathLength:T,pathSpacing:g=1,pathOffset:b=0,...w},d,h,c){if(buildHTMLStyles(e,w,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:a,style:o}=e;a.transform&&(o.transform=a.transform,delete a.transform),(o.transform||a.transformOrigin)&&(o.transformOrigin=a.transformOrigin??"50% 50%",delete a.transformOrigin),o.transform&&(o.transformBox=c?.transformBox??"fill-box",delete a.transformBox),n!==void 0&&(a.x=n),i!==void 0&&(a.y=i),l!==void 0&&(a.scale=l),T!==void 0&&buildSVGPath(a,T,g,b,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,n,i,l){const T=reactExports.useMemo(()=>{const g=createSvgRenderState();return buildSVGAttrs(g,n,isSVGTag(l),e.transformTemplate,e.style),{...g.attrs,style:{...g.style}}},[n]);if(e.style){const g={};copyRawValuesOnly(g,e.style,e),T.style={...g,...T.style}}return T}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function useRender(e,n,i,{latestValues:l},T,g=!1){const w=(isSVGComponent(e)?useSVGProps:useHTMLProps)(n,l,T,e),d=filterProps(n,typeof e=="string",g),h=e!==reactExports.Fragment?{...d,...w,ref:i}:{},{children:c}=n,a=reactExports.useMemo(()=>isMotionValue(c)?c.get():c,[c]);return reactExports.createElement(e,{...h,children:a})}function getValueState(e){const n=[{},{}];return e?.values.forEach((i,l)=>{n[0][l]=i.get(),n[1][l]=i.getVelocity()}),n}function resolveVariantFromProps(e,n,i,l){if(typeof n=="function"){const[T,g]=getValueState(l);n=n(i!==void 0?i:e.custom,T,g)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[T,g]=getValueState(l);n=n(i!==void 0?i:e.custom,T,g)}return n}function resolveMotionValue(e){return isMotionValue(e)?e.get():e}function makeState({scrapeMotionValuesFromProps:e,createRenderState:n},i,l,T){return{latestValues:makeLatestValues(i,l,T,e),renderState:n()}}function makeLatestValues(e,n,i,l){const T={},g=l(e,{});for(const o in g)T[o]=resolveMotionValue(g[o]);let{initial:b,animate:w}=e;const d=isControllingVariants(e),h=isVariantNode(e);n&&h&&!d&&e.inherit!==!1&&(b===void 0&&(b=n.initial),w===void 0&&(w=n.animate));let c=i?i.initial===!1:!1;c=c||b===!1;const a=c?w:b;if(a&&typeof a!="boolean"&&!isAnimationControls(a)){const o=Array.isArray(a)?a:[a];for(let u=0;u<o.length;u++){const f=resolveVariantFromProps(e,o[u]);if(f){const{transitionEnd:m,transition:x,...E}=f;for(const S in E){let R=E[S];if(Array.isArray(R)){const M=c?R.length-1:0;R=R[M]}R!==null&&(T[S]=R)}for(const S in m)T[S]=m[S]}}}return T}const makeUseVisualState=e=>(n,i)=>{const l=reactExports.useContext(MotionContext),T=reactExports.useContext(PresenceContext),g=()=>makeState(e,n,l,T);return i?g():useConstant(g)};function scrapeMotionValuesFromProps$1(e,n,i){const{style:l}=e,T={};for(const g in l)(isMotionValue(l[g])||n.style&&isMotionValue(n.style[g])||isForcedMotionValue(g,e)||i?.getValue(g)?.liveStyle!==void 0)&&(T[g]=l[g]);return T}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(e,n,i){const l=scrapeMotionValuesFromProps$1(e,n,i);for(const T in e)if(isMotionValue(e[T])||isMotionValue(n[T])){const g=transformPropOrder.indexOf(T)!==-1?"attr"+T.charAt(0).toUpperCase()+T.substring(1):T;l[g]=e[T]}return l}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,n,i){return reactExports.useCallback(l=>{l&&e.onMount&&e.onMount(l),n&&(l?n.mount(l):n.unmount()),i&&(typeof i=="function"?i(l):isRefObject(i)&&(i.current=l))},[n])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,n,i,l,T){const{visualElement:g}=reactExports.useContext(MotionContext),b=reactExports.useContext(LazyContext),w=reactExports.useContext(PresenceContext),d=reactExports.useContext(MotionConfigContext).reducedMotion,h=reactExports.useRef(null);l=l||b.renderer,!h.current&&l&&(h.current=l(e,{visualState:n,parent:g,props:i,presenceContext:w,blockInitialAnimation:w?w.initial===!1:!1,reducedMotionConfig:d}));const c=h.current,a=reactExports.useContext(SwitchLayoutGroupContext);c&&!c.projection&&T&&(c.type==="html"||c.type==="svg")&&createProjectionNode$1(h.current,i,T,a);const o=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{c&&o.current&&c.update(i,w)});const u=i[optimizedAppearDataAttribute],f=reactExports.useRef(!!u&&!window.MotionHandoffIsComplete?.(u)&&window.MotionHasOptimisedAnimation?.(u));return useIsomorphicLayoutEffect$2(()=>{c&&(o.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),f.current&&c.animationState&&c.animationState.animateChanges())}),reactExports.useEffect(()=>{c&&(!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(u)}),f.current=!1),c.enteringChildren=void 0)}),c}function createProjectionNode$1(e,n,i,l){const{layoutId:T,layout:g,drag:b,dragConstraints:w,layoutScroll:d,layoutRoot:h,layoutCrossfade:c}=n;e.projection=new i(e.latestValues,n["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:T,layout:g,alwaysMeasureLayout:!!b||w&&isRefObject(w),visualElement:e,animationType:typeof g=="string"?g:"both",initialPromotionConfig:l,crossfade:c,layoutScroll:d,layoutRoot:h})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createMotionComponent(e,{forwardMotionProps:n=!1}={},i,l){i&&loadFeatures(i);const T=isSVGComponent(e)?useSVGVisualState:useHTMLVisualState;function g(w,d){let h;const c={...reactExports.useContext(MotionConfigContext),...w,layoutId:useLayoutId(w)},{isStatic:a}=c,o=useCreateMotionContext(w),u=T(w,a);if(!a&&isBrowser){useStrictMode();const f=getProjectionFunctionality(c);h=f.MeasureLayout,o.visualElement=useVisualElement(e,u,c,l,f.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:o,children:[h&&o.visualElement?jsxRuntimeExports.jsx(h,{visualElement:o.visualElement,...c}):null,useRender(e,w,useMotionRef(u,o.visualElement,d),u,a,n)]})}g.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const b=reactExports.forwardRef(g);return b[motionComponentSymbol]=e,b}function useLayoutId({layoutId:e}){const n=reactExports.useContext(LayoutGroupContext).id;return n&&e!==void 0?n+"-"+e:e}function useStrictMode(e,n){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:n,layout:i}=featureDefinitions;if(!n&&!i)return{};const l={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}function createMotionProxy(e,n){if(typeof Proxy>"u")return createMotionComponent;const i=new Map,l=(g,b)=>createMotionComponent(g,b,e,n),T=(g,b)=>l(g,b);return new Proxy(T,{get:(g,b)=>b==="create"?l:(i.has(b)||i.set(b,createMotionComponent(b,void 0,e,n)),i.get(b))})}function convertBoundingBoxToBox({top:e,left:n,right:i,bottom:l}){return{x:{min:n,max:i},y:{min:e,max:l}}}function convertBoxToBoundingBox({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function transformBoxPoints(e,n){if(!n)return e;const i=n({x:e.left,y:e.top}),l=n({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:l.y,right:l.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:n,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(n)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,n,i){const l=e-i,T=n*l;return i+T}function applyPointDelta(e,n,i,l,T){return T!==void 0&&(e=scalePoint(e,T,l)),scalePoint(e,i,l)+n}function applyAxisDelta(e,n=0,i=1,l,T){e.min=applyPointDelta(e.min,n,i,l,T),e.max=applyPointDelta(e.max,n,i,l,T)}function applyBoxDelta(e,{x:n,y:i}){applyAxisDelta(e.x,n.translate,n.scale,n.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,n,i,l=!1){const T=i.length;if(!T)return;n.x=n.y=1;let g,b;for(let w=0;w<T;w++){g=i[w],b=g.projectionDelta;const{visualElement:d}=g.options;d&&d.props.style&&d.props.style.display==="contents"||(l&&g.options.layoutScroll&&g.scroll&&g!==g.root&&transformBox(e,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),b&&(n.x*=b.x.scale,n.y*=b.y.scale,applyBoxDelta(e,b)),l&&hasTransform(g.latestValues)&&transformBox(e,g.latestValues))}n.x<TREE_SCALE_SNAP_MAX&&n.x>TREE_SCALE_SNAP_MIN&&(n.x=1),n.y<TREE_SCALE_SNAP_MAX&&n.y>TREE_SCALE_SNAP_MIN&&(n.y=1)}function translateAxis(e,n){e.min=e.min+n,e.max=e.max+n}function transformAxis(e,n,i,l,T=.5){const g=mixNumber$1(e.min,e.max,T);applyAxisDelta(e,n,i,g,l)}function transformBox(e,n){transformAxis(e.x,n.x,n.scaleX,n.scale,n.originX),transformAxis(e.y,n.y,n.scaleY,n.scale,n.originY)}function measureViewportBox(e,n){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),n))}function measurePageBox(e,n,i){const l=measureViewportBox(e,i),{scroll:T}=n;return T&&(translateAxis(l.x,T.offset.x),translateAxis(l.y,T.offset.y)),l}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>prefersReducedMotion.current=e.matches;e.addEventListener("change",n),n()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,n,i){for(const l in n){const T=n[l],g=i[l];if(isMotionValue(T))e.addValue(l,T);else if(isMotionValue(g))e.addValue(l,motionValue(T,{owner:e}));else if(g!==T)if(e.hasValue(l)){const b=e.getValue(l);b.liveStyle===!0?b.jump(T):b.hasAnimated||b.set(T)}else{const b=e.getStaticValue(l);e.addValue(l,motionValue(b!==void 0?b:T,{owner:e}))}}for(const l in i)n[l]===void 0&&e.removeValue(l);return n}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(n,i,l){return{}}constructor({parent:n,props:i,presenceContext:l,reducedMotionConfig:T,blockInitialAnimation:g,visualState:b},w={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const o=time.now();this.renderScheduledAt<o&&(this.renderScheduledAt=o,frame.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=b;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=h,this.parent=n,this.props=i,this.presenceContext=l,this.depth=n?n.depth+1:0,this.reducedMotionConfig=T,this.options=w,this.blockInitialAnimation=!!g,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:c,...a}=this.scrapeMotionValuesFromProps(i,{},this);for(const o in a){const u=a[o];d[o]!==void 0&&isMotionValue(u)&&u.set(d[o])}}mount(n){this.current=n,visualElementStore.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,l)=>this.bindToMotionValue(l,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,i){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const l=transformProps.has(n);l&&this.onBindTransform&&this.onBindTransform();const T=i.on("change",b=>{this.latestValues[n]=b,this.props.onUpdate&&frame.preRender(this.notifyUpdate),l&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let g;window.MotionCheckAppearSync&&(g=window.MotionCheckAppearSync(this,n,i)),this.valueSubscriptions.set(n,()=>{T(),g&&g(),i.owner&&i.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in featureDefinitions){const i=featureDefinitions[n];if(!i)continue;const{isEnabled:l,Feature:T}=i;if(!this.features[n]&&T&&l(this.props)&&(this.features[n]=new T(this)),this.features[n]){const g=this.features[n];g.isMounted?g.update():(g.mount(),g.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,i){this.latestValues[n]=i}update(n,i){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let l=0;l<propEventHandlers.length;l++){const T=propEventHandlers[l];this.propEventSubscriptions[T]&&(this.propEventSubscriptions[T](),delete this.propEventSubscriptions[T]);const g="on"+T,b=n[g];b&&(this.propEventSubscriptions[T]=this.on(T,b))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(n),()=>i.variantChildren.delete(n)}addValue(n,i){const l=this.values.get(n);i!==l&&(l&&this.removeValue(n),this.bindToMotionValue(n,i),this.values.set(n,i),this.latestValues[n]=i.get())}removeValue(n){this.values.delete(n);const i=this.valueSubscriptions.get(n);i&&(i(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,i){if(this.props.values&&this.props.values[n])return this.props.values[n];let l=this.values.get(n);return l===void 0&&i!==void 0&&(l=motionValue(i===null?void 0:i,{owner:this}),this.addValue(n,l)),l}readValue(n,i){let l=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return l!=null&&(typeof l=="string"&&(isNumericalString(l)||isZeroValueString(l))?l=parseFloat(l):!findValueType(l)&&complex.test(i)&&(l=getAnimatableNone(n,i)),this.setBaseTarget(n,isMotionValue(l)?l.get():l)),isMotionValue(l)?l.get():l}setBaseTarget(n,i){this.baseTarget[n]=i}getBaseTarget(n){const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const g=resolveVariantFromProps(this.props,i,this.presenceContext?.custom);g&&(l=g[n])}if(i&&l!==void 0)return l;const T=this.getBaseTargetFromProps(this.props,n);return T!==void 0&&!isMotionValue(T)?T:this.initialValues[n]!==void 0&&l===void 0?void 0:this.baseTarget[n]}on(n,i){return this.events[n]||(this.events[n]=new SubscriptionManager),this.events[n].add(i)}notify(n,...i){this.events[n]&&this.events[n].notify(...i)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(n,i){return n.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(n,i){return n.style?n.style[i]:void 0}removeValueFromRenderState(n,{vars:i,style:l}){delete i[n],delete l[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;isMotionValue(n)&&(this.childSubscription=n.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function renderHTML(e,{style:n,vars:i},l,T){const g=e.style;let b;for(b in n)g[b]=n[b];T?.applyProjectionStyles(g,l);for(b in i)g.setProperty(b,i[b])}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(n,i){if(transformProps.has(i))return this.projection?.isProjecting?defaultTransformValue(i):readTransformValue(n,i);{const l=getComputedStyle$1(n),T=(isCSSVariableName(i)?l.getPropertyValue(i):l[i])||0;return typeof T=="string"?T.trim():T}}measureInstanceViewportBox(n,{transformPagePoint:i}){return measureViewportBox(n,i)}build(n,i,l){buildHTMLStyles(n,i,l.transformTemplate)}scrapeMotionValuesFromProps(n,i,l){return scrapeMotionValuesFromProps$1(n,i,l)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,n,i,l){renderHTML(e,n,void 0,l);for(const T in n.attrs)e.setAttribute(camelCaseAttributes.has(T)?T:camelToDash(T),n.attrs[T])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(n,i){return n[i]}readValueFromInstance(n,i){if(transformProps.has(i)){const l=getDefaultValueType(i);return l&&l.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),n.getAttribute(i)}scrapeMotionValuesFromProps(n,i,l){return scrapeMotionValuesFromProps(n,i,l)}build(n,i,l){buildSVGAttrs(n,i,this.isSVGTag,l.transformTemplate,l.style)}renderInstance(n,i,l,T){renderSVG(n,i,l,T)}mount(n){this.isSVGTag=isSVGTag(n.tagName),super.mount(n)}}const createDomVisualElement=(e,n)=>isSVGComponent(e)?new SVGVisualElement(n):new HTMLVisualElement(n,{allowProjection:e!==reactExports.Fragment});function resolveVariant(e,n,i){const l=e.getProps();return resolveVariantFromProps(l,n,i!==void 0?i:l.custom,e)}const isKeyframesTarget=e=>Array.isArray(e);function setMotionValue(e,n,i){e.hasValue(n)?e.getValue(n).set(i):e.addValue(n,motionValue(i))}function resolveFinalValueInKeyframes(e){return isKeyframesTarget(e)?e[e.length-1]||0:e}function setTarget(e,n){const i=resolveVariant(e,n);let{transitionEnd:l={},transition:T={},...g}=i||{};g={...g,...l};for(const b in g){const w=resolveFinalValueInKeyframes(g[b]);setMotionValue(e,b,w)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,n){const i=e.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(n);if(!i&&MotionGlobalConfig.WillChange){const l=new MotionGlobalConfig.WillChange("auto");e.addValue("willChange",l),l.add(n)}}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:n,repeatType:i="loop"},l){const T=e.filter(isNotNull),g=n&&i!=="loop"&&n%2===1?0:T.length-1;return T[g]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:n})=>n.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(n[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:n,delayChildren:i,staggerChildren:l,staggerDirection:T,repeat:g,repeatType:b,repeatDelay:w,from:d,elapsed:h,...c}){return!!Object.keys(c).length}const animateMotionValue=(e,n,i,l={},T,g)=>b=>{const w=getValueTransition(l,e)||{},d=w.delay||l.delay||0;let{elapsed:h=0}=l;h=h-secondsToMilliseconds(d);const c={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:n.getVelocity(),...w,delay:-h,onUpdate:o=>{n.set(o),w.onUpdate&&w.onUpdate(o)},onComplete:()=>{b(),w.onComplete&&w.onComplete()},name:e,motionValue:n,element:g?void 0:T};isTransitionDefined(w)||Object.assign(c,getDefaultTransition(e,c)),c.duration&&(c.duration=secondsToMilliseconds(c.duration)),c.repeatDelay&&(c.repeatDelay=secondsToMilliseconds(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let a=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(makeAnimationInstant(c),c.delay===0&&(a=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(a=!0,makeAnimationInstant(c),c.delay=0),c.allowFlatten=!w.type&&!w.ease,a&&!g&&n.get()!==void 0){const o=getFinalKeyframe(c.keyframes,w);if(o!==void 0){frame.update(()=>{c.onUpdate(o),c.onComplete()});return}}return w.isSync?new JSAnimation(c):new AsyncMotionValueAnimation(c)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:n},i){const l=e.hasOwnProperty(i)&&n[i]!==!0;return n[i]=!1,l}function animateTarget(e,n,{delay:i=0,transitionOverride:l,type:T}={}){let{transition:g=e.getDefaultTransition(),transitionEnd:b,...w}=n;l&&(g=l);const d=[],h=T&&e.animationState&&e.animationState.getState()[T];for(const c in w){const a=e.getValue(c,e.latestValues[c]??null),o=w[c];if(o===void 0||h&&shouldBlockAnimation(h,c))continue;const u={delay:i,...getValueTransition(g||{},c)},f=a.get();if(f!==void 0&&!a.isAnimating&&!Array.isArray(o)&&o===f&&!u.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const E=getOptimisedAppearId(e);if(E){const S=window.MotionHandoffAnimation(E,c,frame);S!==null&&(u.startTime=S,m=!0)}}addValueToWillChange(e,c),a.start(animateMotionValue(c,a,o,e.shouldReduceMotion&&positionalKeys.has(c)?{type:!1}:u,e,m));const x=a.animation;x&&d.push(x)}return b&&Promise.all(d).then(()=>{frame.update(()=>{b&&setTarget(e,b)})}),d}function calcChildStagger(e,n,i,l=0,T=1){const g=Array.from(e).sort((h,c)=>h.sortNodePosition(c)).indexOf(n),b=e.size,w=(b-1)*l;return typeof i=="function"?i(g,b):T===1?g*l:w-g*l}function animateVariant(e,n,i={}){const l=resolveVariant(e,n,i.type==="exit"?e.presenceContext?.custom:void 0);let{transition:T=e.getDefaultTransition()||{}}=l||{};i.transitionOverride&&(T=i.transitionOverride);const g=l?()=>Promise.all(animateTarget(e,l,i)):()=>Promise.resolve(),b=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:c,staggerDirection:a}=T;return animateChildren(e,n,d,h,c,a,i)}:()=>Promise.resolve(),{when:w}=T;if(w){const[d,h]=w==="beforeChildren"?[g,b]:[b,g];return d().then(()=>h())}else return Promise.all([g(),b(i.delay)])}function animateChildren(e,n,i=0,l=0,T=0,g=1,b){const w=[];for(const d of e.variantChildren)d.notify("AnimationStart",n),w.push(animateVariant(d,n,{...b,delay:i+(typeof l=="function"?0:l)+calcChildStagger(e.variantChildren,d,l,T,g)}).then(()=>d.notify("AnimationComplete",n)));return Promise.all(w)}function animateVisualElement(e,n,i={}){e.notify("AnimationStart",n);let l;if(Array.isArray(n)){const T=n.map(g=>animateVariant(e,g,i));l=Promise.all(T)}else if(typeof n=="string")l=animateVariant(e,n,i);else{const T=typeof n=="function"?resolveVariant(e,n,i.custom):n;l=Promise.all(animateTarget(e,T,i))}return l.then(()=>{e.notify("AnimationComplete",n)})}function shallowCompare(e,n){if(!Array.isArray(n))return!1;const i=n.length;if(i!==e.length)return!1;for(let l=0;l<i;l++)if(n[l]!==e[l])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const n={};for(let i=0;i<numVariantProps;i++){const l=variantProps[i],T=e.props[l];(isVariantLabel(T)||T===!1)&&(n[l]=T)}return n}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return n=>Promise.all(n.map(({animation:i,options:l})=>animateVisualElement(e,i,l)))}function createAnimationState(e){let n=animateList(e),i=createState(),l=!0;const T=d=>(h,c)=>{const a=resolveVariant(e,c,d==="exit"?e.presenceContext?.custom:void 0);if(a){const{transition:o,transitionEnd:u,...f}=a;h={...h,...f,...u}}return h};function g(d){n=d(e)}function b(d){const{props:h}=e,c=getVariantContext(e.parent)||{},a=[],o=new Set;let u={},f=1/0;for(let x=0;x<numAnimationTypes;x++){const E=reversePriorityOrder[x],S=i[E],R=h[E]!==void 0?h[E]:c[E],M=isVariantLabel(R),k=E===d?S.isActive:null;k===!1&&(f=x);let v=R===c[E]&&R!==h[E]&&M;if(v&&l&&e.manuallyAnimateOnMount&&(v=!1),S.protectedKeys={...u},!S.isActive&&k===null||!R&&!S.prevProp||isAnimationControls(R)||typeof R=="boolean")continue;const F=checkVariantsDidChange(S.prevProp,R);let I=F||E===d&&S.isActive&&!v&&M||x>f&&M,A=!1;const $=Array.isArray(R)?R:[R];let P=$.reduce(T(E),{});k===!1&&(P={});const{prevResolvedValues:B={}}=S,U={...B,...P},W=Q=>{I=!0,o.has(Q)&&(A=!0,o.delete(Q)),S.needsAnimating[Q]=!0;const X=e.getValue(Q);X&&(X.liveStyle=!1)};for(const Q in U){const X=P[Q],ee=B[Q];if(u.hasOwnProperty(Q))continue;let ie=!1;isKeyframesTarget(X)&&isKeyframesTarget(ee)?ie=!shallowCompare(X,ee):ie=X!==ee,ie?X!=null?W(Q):o.add(Q):X!==void 0&&o.has(Q)?W(Q):S.protectedKeys[Q]=!0}S.prevProp=R,S.prevResolvedValues=P,S.isActive&&(u={...u,...P}),l&&e.blockInitialAnimation&&(I=!1);const j=v&&F;I&&(!j||A)&&a.push(...$.map(Q=>{const X={type:E};if(typeof Q=="string"&&l&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,ie=resolveVariant(ee,Q);if(ee.enteringChildren&&ie){const{delayChildren:ne}=ie.transition||{};X.delay=calcChildStagger(ee.enteringChildren,e,ne)}}return{animation:Q,options:X}}))}if(o.size){const x={};if(typeof h.initial!="boolean"){const E=resolveVariant(e,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(x.transition=E.transition)}o.forEach(E=>{const S=e.getBaseTarget(E),R=e.getValue(E);R&&(R.liveStyle=!0),x[E]=S??null}),a.push({animation:x})}let m=!!a.length;return l&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(m=!1),l=!1,m?n(a):Promise.resolve()}function w(d,h){if(i[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(a=>a.animationState?.setActive(d,h)),i[d].isActive=h;const c=b(d);for(const a in i)i[a].protectedKeys={};return c}return{animateChanges:b,setActive:w,setAnimateFunction:g,getState:()=>i,reset:()=>{i=createState()}}}function checkVariantsDidChange(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!shallowCompare(n,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(n){this.isMounted=!1,this.node=n}update(){}}class AnimationFeature extends Feature{constructor(n){super(n),n.animationState||(n.animationState=createAnimationState(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();isAnimationControls(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:i}=this.node.prevProps||{};n!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:i}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===l)return;const T=this.node.animationState.setActive("exit",!n);i&&!n&&T.then(()=>{i(this.id)})}mount(){const{register:n,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,n,i,l={passive:!0}){return e.addEventListener(n,i,l),()=>e.removeEventListener(n,i)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>n=>isPrimaryPointer(n)&&e(n,extractEventInfo(n));function addPointerEvent(e,n,i,l){return addDomEvent(e,n,addPointerInfo(i),l)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,n,i){return Math.abs(e-n)<=i}function calcAxisDelta(e,n,i,l=.5){e.origin=l,e.originPoint=mixNumber$1(n.min,n.max,e.origin),e.scale=calcLength(i)/calcLength(n),e.translate=mixNumber$1(i.min,i.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,n,i,l){calcAxisDelta(e.x,n.x,i.x,l?l.originX:void 0),calcAxisDelta(e.y,n.y,i.y,l?l.originY:void 0)}function calcRelativeAxis(e,n,i){e.min=i.min+n.min,e.max=e.min+calcLength(n)}function calcRelativeBox(e,n,i){calcRelativeAxis(e.x,n.x,i.x),calcRelativeAxis(e.y,n.y,i.y)}function calcRelativeAxisPosition(e,n,i){e.min=n.min-i.min,e.max=e.min+calcLength(n)}function calcRelativePosition(e,n,i){calcRelativeAxisPosition(e.x,n.x,i.x),calcRelativeAxisPosition(e.y,n.y,i.y)}function eachAxis(e){return[e("x"),e("y")]}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,distance=(e,n)=>Math.abs(e-n);function distance2D(e,n){const i=distance(e.x,n.x),l=distance(e.y,n.y);return Math.sqrt(i**2+l**2)}class PanSession{constructor(n,i,{transformPagePoint:l,contextWindow:T=window,dragSnapToOrigin:g=!1,distanceThreshold:b=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const o=getPanInfo(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=distance2D(o.offset,{x:0,y:0})>=this.distanceThreshold;if(!u&&!f)return;const{point:m}=o,{timestamp:x}=frameData;this.history.push({...m,timestamp:x});const{onStart:E,onMove:S}=this.handlers;u||(E&&E(this.lastMoveEvent,o),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,o)},this.handlePointerMove=(o,u)=>{this.lastMoveEvent=o,this.lastMoveEventInfo=transformPoint(u,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(o,u)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=getPanInfo(o.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(o,E),m&&m(o,E)},!isPrimaryPointer(n))return;this.dragSnapToOrigin=g,this.handlers=i,this.transformPagePoint=l,this.distanceThreshold=b,this.contextWindow=T||window;const w=extractEventInfo(n),d=transformPoint(w,this.transformPagePoint),{point:h}=d,{timestamp:c}=frameData;this.history=[{...h,timestamp:c}];const{onSessionStart:a}=i;a&&a(n,getPanInfo(d,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,n){return n?{point:n(e.point)}:e}function subtractPoint(e,n){return{x:e.x-n.x,y:e.y-n.y}}function getPanInfo({point:e},n){return{point:e,delta:subtractPoint(e,lastDevicePoint(n)),offset:subtractPoint(e,startDevicePoint(n)),velocity:getVelocity(n,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,n){if(e.length<2)return{x:0,y:0};let i=e.length-1,l=null;const T=lastDevicePoint(e);for(;i>=0&&(l=e[i],!(T.timestamp-l.timestamp>secondsToMilliseconds(n)));)i--;if(!l)return{x:0,y:0};const g=millisecondsToSeconds(T.timestamp-l.timestamp);if(g===0)return{x:0,y:0};const b={x:(T.x-l.x)/g,y:(T.y-l.y)/g};return b.x===1/0&&(b.x=0),b.y===1/0&&(b.y=0),b}function applyConstraints(e,{min:n,max:i},l){return n!==void 0&&e<n?e=l?mixNumber$1(n,e,l.min):Math.max(e,n):i!==void 0&&e>i&&(e=l?mixNumber$1(i,e,l.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,n,i){return{min:n!==void 0?e.min+n:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:n,left:i,bottom:l,right:T}){return{x:calcRelativeAxisConstraints(e.x,i,T),y:calcRelativeAxisConstraints(e.y,n,l)}}function calcViewportAxisConstraints(e,n){let i=n.min-e.min,l=n.max-e.max;return n.max-n.min<e.max-e.min&&([i,l]=[l,i]),{min:i,max:l}}function calcViewportConstraints(e,n){return{x:calcViewportAxisConstraints(e.x,n.x),y:calcViewportAxisConstraints(e.y,n.y)}}function calcOrigin(e,n){let i=.5;const l=calcLength(e),T=calcLength(n);return T>l?i=progress(n.min,n.max-l,e.min):l>T&&(i=progress(e.min,e.max-T,n.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,n){const i={};return n.min!==void 0&&(i.min=n.min-e.min),n.max!==void 0&&(i.max=n.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,n,i){return{min:resolvePointElastic(e,n),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,n){return typeof e=="number"?e:e[n]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:i=!1,distanceThreshold:l}={}){const{presenceContext:T}=this.visualElement;if(T&&T.isPresent===!1)return;const g=a=>{const{dragSnapToOrigin:o}=this.getProps();o?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(a).point)},b=(a,o)=>{const{drag:u,dragPropagation:f,onDragStart:m}=this.getProps();if(u&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(u),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=o,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(E=>{let S=this.getAxisMotionValue(E).get()||0;if(percent.test(S)){const{projection:R}=this.visualElement;if(R&&R.layout){const M=R.layout.layoutBox[E];M&&(S=calcLength(M)*(parseFloat(S)/100))}}this.originPoint[E]=S}),m&&frame.postRender(()=>m(a,o)),addValueToWillChange(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},w=(a,o)=>{this.latestPointerEvent=a,this.latestPanInfo=o;const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:m,onDrag:x}=this.getProps();if(!u&&!this.openDragLock)return;const{offset:E}=o;if(f&&this.currentDirection===null){this.currentDirection=getCurrentDirection(E),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",o.point,E),this.updateAxis("y",o.point,E),this.visualElement.render(),x&&x(a,o)},d=(a,o)=>{this.latestPointerEvent=a,this.latestPanInfo=o,this.stop(a,o),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>eachAxis(a=>this.getAnimationState(a)==="paused"&&this.getAxisMotionValue(a).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PanSession(n,{onSessionStart:g,onStart:b,onMove:w,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:l,contextWindow:getContextWindow(this.visualElement)})}stop(n,i){const l=n||this.latestPointerEvent,T=i||this.latestPanInfo,g=this.isDragging;if(this.cancel(),!g||!T||!l)return;const{velocity:b}=T;this.startAnimation(b);const{onDragEnd:w}=this.getProps();w&&frame.postRender(()=>w(l,T))}cancel(){this.isDragging=!1;const{projection:n,animationState:i}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:l}=this.getProps();!l&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(n,i,l){const{drag:T}=this.getProps();if(!l||!shouldDrag(n,T,this.currentDirection))return;const g=this.getAxisMotionValue(n);let b=this.originPoint[n]+l[n];this.constraints&&this.constraints[n]&&(b=applyConstraints(b,this.constraints[n],this.elastic[n])),g.set(b)}resolveConstraints(){const{dragConstraints:n,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,T=this.constraints;n&&isRefObject(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=calcRelativeConstraints(l.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(i),T!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(g=>{this.constraints!==!1&&this.getAxisMotionValue(g)&&(this.constraints[g]=rebaseAxisConstraints(l.layoutBox[g],this.constraints[g]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:i}=this.getProps();if(!n||!isRefObject(n))return!1;const l=n.current,{projection:T}=this.visualElement;if(!T||!T.layout)return!1;const g=measurePageBox(l,T.root,this.visualElement.getTransformPagePoint());let b=calcViewportConstraints(T.layout.layoutBox,g);if(i){const w=i(convertBoxToBoundingBox(b));this.hasMutatedConstraints=!!w,w&&(b=convertBoundingBoxToBox(w))}return b}startAnimation(n){const{drag:i,dragMomentum:l,dragElastic:T,dragTransition:g,dragSnapToOrigin:b,onDragTransitionEnd:w}=this.getProps(),d=this.constraints||{},h=eachAxis(c=>{if(!shouldDrag(c,i,this.currentDirection))return;let a=d&&d[c]||{};b&&(a={min:0,max:0});const o=T?200:1e6,u=T?40:1e7,f={type:"inertia",velocity:l?n[c]:0,bounceStiffness:o,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...g,...a};return this.startAxisValueAnimation(c,f)});return Promise.all(h).then(w)}startAxisValueAnimation(n,i){const l=this.getAxisMotionValue(n);return addValueToWillChange(this.visualElement,n),l.start(animateMotionValue(n,l,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){eachAxis(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const i=`_drag${n.toUpperCase()}`,l=this.visualElement.getProps(),T=l[i];return T||this.visualElement.getValue(n,(l.initial?l.initial[n]:void 0)||0)}snapToCursor(n){eachAxis(i=>{const{drag:l}=this.getProps();if(!shouldDrag(i,l,this.currentDirection))return;const{projection:T}=this.visualElement,g=this.getAxisMotionValue(i);if(T&&T.layout){const{min:b,max:w}=T.layout.layoutBox[i];g.set(n[i]-mixNumber$1(b,w,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:l}=this.visualElement;if(!isRefObject(i)||!l||!this.constraints)return;this.stopAnimation();const T={x:0,y:0};eachAxis(b=>{const w=this.getAxisMotionValue(b);if(w&&this.constraints!==!1){const d=w.get();T[b]=calcOrigin({min:d,max:d},this.constraints[b])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.current.style.transform=g?g({},""):"none",l.root&&l.root.updateScroll(),l.updateLayout(),this.resolveConstraints(),eachAxis(b=>{if(!shouldDrag(b,n,null))return;const w=this.getAxisMotionValue(b),{min:d,max:h}=this.constraints[b];w.set(mixNumber$1(d,h,T[b]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const n=this.visualElement.current,i=addPointerEvent(n,"pointerdown",d=>{const{drag:h,dragListener:c=!0}=this.getProps();h&&c&&this.start(d)}),l=()=>{const{dragConstraints:d}=this.getProps();isRefObject(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:T}=this.visualElement,g=T.addEventListener("measure",l);T&&!T.layout&&(T.root&&T.root.updateScroll(),T.updateLayout()),frame.read(l);const b=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),w=T.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(eachAxis(c=>{const a=this.getAxisMotionValue(c);a&&(this.originPoint[c]+=d[c].translate,a.set(a.get()+d[c].translate))}),this.visualElement.render())}));return()=>{b(),i(),g(),w&&w()}}getProps(){const n=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:l=!1,dragPropagation:T=!1,dragConstraints:g=!1,dragElastic:b=defaultElastic,dragMomentum:w=!0}=n;return{...n,drag:i,dragDirectionLock:l,dragPropagation:T,dragConstraints:g,dragElastic:b,dragMomentum:w}}}function shouldDrag(e,n,i){return(n===!0||n===e)&&(i===null||i===e)}function getCurrentDirection(e,n=10){let i=null;return Math.abs(e.y)>n?i="y":Math.abs(e.x)>n&&(i="x"),i}class DragGesture extends Feature{constructor(n){super(n),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(n,i)=>{e&&frame.postRender(()=>e(n,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(n){this.session=new PanSession(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:i,onPan:l,onPanEnd:T}=this.node.getProps();return{onSessionStart:asyncHandler(n),onStart:asyncHandler(i),onMove:l,onEnd:(g,b)=>{delete this.session,T&&frame.postRender(()=>T(g,b))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:l,layoutId:T}=this.props,{projection:g}=n;g&&(i.group&&i.group.add(g),l&&l.register&&T&&l.register(g),hasTakenAnySnapshot&&g.root.didUpdate(),g.addEventListener("animationComplete",()=>{this.safeToRemove()}),g.setOptions({...g.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:i,visualElement:l,drag:T,isPresent:g}=this.props,{projection:b}=l;return b&&(b.isPresent=g,hasTakenAnySnapshot=!0,T||n.layoutDependency!==i||i===void 0||n.isPresent!==g?b.willUpdate():this.safeToRemove(),n.isPresent!==g&&(g?b.promote():b.relegate()||frame.postRender(()=>{const w=b.getStack();(!w||!w.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),microtask.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:l}=this.props,{projection:T}=n;hasTakenAnySnapshot=!0,T&&(T.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(T),l&&l.deregister&&l.deregister(T))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function MeasureLayout(e){const[n,i]=usePresence(),l=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:l,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:n,safeToRemove:i})}function animateSingleValue(e,n,i){const l=isMotionValue(e)?e:motionValue(e);return l.start(animateMotionValue("",l,n,i)),l.animation}const compareByDepth=(e,n)=>e.depth-n.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(n){addUniqueItem(this.children,n),this.isDirty=!0}remove(n){removeItem(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(n)}}function delay(e,n){const i=time.now(),l=({timestamp:T})=>{const g=T-i;g>=n&&(cancelFrame(l),e(g-n))};return frame.setup(l,!0),()=>cancelFrame(l)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,n,i,l,T,g){T?(e.opacity=mixNumber$1(0,i.opacity??1,easeCrossfadeIn(l)),e.opacityExit=mixNumber$1(n.opacity??1,0,easeCrossfadeOut(l))):g&&(e.opacity=mixNumber$1(n.opacity??1,i.opacity??1,l));for(let b=0;b<numBorders;b++){const w=`border${borders[b]}Radius`;let d=getRadius(n,w),h=getRadius(i,w);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||isPx(d)===isPx(h)?(e[w]=Math.max(mixNumber$1(asNumber(d),asNumber(h),l),0),(percent.test(h)||percent.test(d))&&(e[w]+="%")):e[w]=h}(n.rotate||i.rotate)&&(e.rotate=mixNumber$1(n.rotate||0,i.rotate||0,l))}function getRadius(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(e,n,i){return l=>l<e?0:l>n?1:i(progress(e,n,l))}function copyAxisInto(e,n){e.min=n.min,e.max=n.max}function copyBoxInto(e,n){copyAxisInto(e.x,n.x),copyAxisInto(e.y,n.y)}function copyAxisDeltaInto(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function removePointDelta(e,n,i,l,T){return e-=n,e=scalePoint(e,1/i,l),T!==void 0&&(e=scalePoint(e,1/T,l)),e}function removeAxisDelta(e,n=0,i=1,l=.5,T,g=e,b=e){if(percent.test(n)&&(n=parseFloat(n),n=mixNumber$1(b.min,b.max,n/100)-b.min),typeof n!="number")return;let w=mixNumber$1(g.min,g.max,l);e===g&&(w-=n),e.min=removePointDelta(e.min,n,i,w,T),e.max=removePointDelta(e.max,n,i,w,T)}function removeAxisTransforms(e,n,[i,l,T],g,b){removeAxisDelta(e,n[i],n[l],n[T],n.scale,g,b)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,n,i,l){removeAxisTransforms(e.x,n,xKeys,i?i.x:void 0,l?l.x:void 0),removeAxisTransforms(e.y,n,yKeys,i?i.y:void 0,l?l.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,n){return e.min===n.min&&e.max===n.max}function boxEquals(e,n){return axisEquals(e.x,n.x)&&axisEquals(e.y,n.y)}function axisEqualsRounded(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function boxEqualsRounded(e,n){return axisEqualsRounded(e.x,n.x)&&axisEqualsRounded(e.y,n.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class NodeStack{constructor(){this.members=[]}add(n){addUniqueItem(this.members,n),n.scheduleRender()}remove(n){if(removeItem(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(n){const i=this.members.findIndex(T=>n===T);if(i===0)return!1;let l;for(let T=i;T>=0;T--){const g=this.members[T];if(g.isPresent!==!1){l=g;break}}return l?(this.promote(l),!0):!1}promote(n,i){const l=this.lead;if(n!==l&&(this.prevLead=l,this.lead=n,n.show(),l)){l.instance&&l.scheduleRender(),n.scheduleRender(),n.resumeFrom=l,i&&(n.resumeFrom.preserveOpacity=!0),l.snapshot&&(n.snapshot=l.snapshot,n.snapshot.latestValues=l.animationValues||l.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:T}=n.options;T===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:i,resumingFrom:l}=n;i.onExitComplete&&i.onExitComplete(),l&&l.options.onExitComplete&&l.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,n,i){let l="";const T=e.x.translate/n.x,g=e.y.translate/n.y,b=i?.z||0;if((T||g||b)&&(l=`translate3d(${T}px, ${g}px, ${b}px) `),(n.x!==1||n.y!==1)&&(l+=`scale(${1/n.x}, ${1/n.y}) `),i){const{transformPerspective:h,rotate:c,rotateX:a,rotateY:o,skewX:u,skewY:f}=i;h&&(l=`perspective(${h}px) ${l}`),c&&(l+=`rotate(${c}deg) `),a&&(l+=`rotateX(${a}deg) `),o&&(l+=`rotateY(${o}deg) `),u&&(l+=`skewX(${u}deg) `),f&&(l+=`skewY(${f}deg) `)}const w=e.x.scale*n.x,d=e.y.scale*n.y;return(w!==1||d!==1)&&(l+=`scale(${w}, ${d})`),l||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(e,n,i,l){const{latestValues:T}=n;T[e]&&(i[e]=T[e],n.setStaticValue(e,0),l&&(l[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const i=getOptimisedAppearId(n);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:T,layoutId:g}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(T||g))}const{parent:l}=e;l&&!l.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(l)}function createProjectionNode({attachResizeListener:e,defaultParent:n,measureScroll:i,checkIsScrollRoot:l,resetTransform:T}){return class{constructor(b={},w=n?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=b,this.root=w?w.root||w:this,this.path=w?[...w.path,w]:[],this.parent=w,this.depth=w?w.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(b,w){return this.eventHandlers.has(b)||this.eventHandlers.set(b,new SubscriptionManager),this.eventHandlers.get(b).add(w)}notifyListeners(b,...w){const d=this.eventHandlers.get(b);d&&d.notify(...w)}hasListeners(b){return this.eventHandlers.has(b)}mount(b){if(this.instance)return;this.isSVG=isSVGElement(b)&&!isSVGSVGElement(b),this.instance=b;const{layoutId:w,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||w)&&(this.isLayoutDirty=!0),e){let c,a=0;const o=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{a=window.innerWidth}),e(b,()=>{const u=window.innerWidth;u!==a&&(a=u,this.root.updateBlockedByResize=!0,c&&c(),c=delay(o,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&h&&(w||d)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:a,hasRelativeLayoutChanged:o,layout:u})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||h.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:m,onLayoutAnimationComplete:x}=h.getProps(),E=!this.targetLayout||!boxEqualsRounded(this.targetLayout,u),S=!a&&o;if(this.options.layoutRoot||this.resumeFrom||S||a&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...getValueTransition(f,"layout"),onPlay:m,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(c,S)}else a||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=u})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const b=this.getStack();b&&b.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:b}=this.options;return b&&b.getProps().transformTemplate}willUpdate(b=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const a=this.path[c];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}const{layoutId:w,layout:d}=this.options;if(w===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),b&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const w=time.now();frameData.delta=clamp(0,1e3/60,w-frameData.timestamp),frameData.timestamp=w,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const b=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:w}=this.options;w&&w.notify("LayoutMeasure",this.layout.layoutBox,b?b.layoutBox:void 0)}updateScroll(b="measure"){let w=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===b&&(w=!1),w&&this.instance){const d=l(this.instance);this.scroll={animationId:this.root.animationId,phase:b,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!T)return;const b=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,w=this.projectionDelta&&!isDeltaZero(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,c=h!==this.prevTransformTemplateValue;b&&this.instance&&(w||hasTransform(this.latestValues)||c)&&(T(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(b=!0){const w=this.measurePageBox();let d=this.removeElementScroll(w);return b&&(d=this.removeTransform(d)),roundBox(d),{animationId:this.root.animationId,measuredBox:w,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:b}=this.options;if(!b)return createBox();const w=b.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:h}=this.root;h&&(translateAxis(w.x,h.offset.x),translateAxis(w.y,h.offset.y))}return w}removeElementScroll(b){const w=createBox();if(copyBoxInto(w,b),this.scroll?.wasRoot)return w;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:c,options:a}=h;h!==this.root&&c&&a.layoutScroll&&(c.wasRoot&&copyBoxInto(w,b),translateAxis(w.x,c.offset.x),translateAxis(w.y,c.offset.y))}return w}applyTransform(b,w=!1){const d=createBox();copyBoxInto(d,b);for(let h=0;h<this.path.length;h++){const c=this.path[h];!w&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(d,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),hasTransform(c.latestValues)&&transformBox(d,c.latestValues)}return hasTransform(this.latestValues)&&transformBox(d,this.latestValues),d}removeTransform(b){const w=createBox();copyBoxInto(w,b);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!hasTransform(h.latestValues))continue;hasScale(h.latestValues)&&h.updateSnapshot();const c=createBox(),a=h.measurePageBox();copyBoxInto(c,a),removeBoxTransforms(w,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,c)}return hasTransform(this.latestValues)&&removeBoxTransforms(w,this.latestValues),w}setTargetDelta(b){this.targetDelta=b,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(b){this.options={...this.options,...b,crossfade:b.crossfade!==void 0?b.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(b=!1){const w=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=w.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=w.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=w.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==w;if(!(b||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:a}=this.options;if(!this.layout||!(c||a))return;this.resolvedRelativeTargetAt=frameData.timestamp;const o=this.getClosestProjectingParent();o&&this.linkedParentVersion!==o.layoutVersion&&!o.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(o&&o.layout?this.createRelativeTarget(o,this.layout.layoutBox,o.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,o&&!!o.resumingFrom==!!this.resumingFrom&&!o.options.layoutScroll&&o.target&&this.animationProgress!==1?this.createRelativeTarget(o,this.target,o.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(b,w,d){this.relativeParent=b,this.linkedParentVersion=b.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,w,d),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const b=this.getLead(),w=!!this.resumingFrom||this!==b;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),w&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(d=!1),d)return;const{layout:h,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||c))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,w),b.layout&&!b.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(b.target=b.layout.layoutBox,b.targetWithTransforms=createBox());const{target:u}=b;if(!u){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,u,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(b=!0){if(this.options.visualElement?.scheduleRender(),b){const w=this.getStack();w&&w.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(b,w=!1){const d=this.snapshot,h=d?d.latestValues:{},c={...this.latestValues},a=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!w;const o=createBox(),u=d?d.source:void 0,f=this.layout?this.layout.source:void 0,m=u!==f,x=this.getStack(),E=!x||x.members.length<=1,S=!!(m&&!E&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let R;this.mixTargetDelta=M=>{const k=M/1e3;mixAxisDelta(a.x,b.x,k),mixAxisDelta(a.y,b.y,k),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,o,k),R&&boxEquals(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=createBox()),copyBoxInto(R,this.relativeTarget)),m&&(this.animationValues=c,mixValues(c,h,this.latestValues,k,S,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(b){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...b,velocity:0,isSync:!0,onUpdate:w=>{this.mixTargetDelta(w),b.onUpdate&&b.onUpdate(w)},onStop:()=>{},onComplete:()=>{b.onComplete&&b.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const b=this.getStack();b&&b.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const b=this.getLead();let{targetWithTransforms:w,target:d,layout:h,latestValues:c}=b;if(!(!w||!d||!h)){if(this!==b&&this.layout&&h&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||createBox();const a=calcLength(this.layout.layoutBox.x);d.x.min=b.target.x.min,d.x.max=d.x.min+a;const o=calcLength(this.layout.layoutBox.y);d.y.min=b.target.y.min,d.y.max=d.y.min+o}copyBoxInto(w,d),transformBox(w,c),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,w,c)}}registerSharedNode(b,w){this.sharedNodes.has(b)||this.sharedNodes.set(b,new NodeStack),this.sharedNodes.get(b).add(w);const h=w.options.initialPromotionConfig;w.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(w):void 0})}isLead(){const b=this.getStack();return b?b.lead===this:!0}getLead(){const{layoutId:b}=this.options;return b?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:b}=this.options;return b?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:b}=this.options;if(b)return this.root.sharedNodes.get(b)}promote({needsReset:b,transition:w,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),b&&(this.projectionDelta=void 0,this.needsReset=!0),w&&this.setOptions({transition:w})}relegate(){const b=this.getStack();return b?b.relegate(this):!1}resetSkewAndRotation(){const{visualElement:b}=this.options;if(!b)return;let w=!1;const{latestValues:d}=b;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(w=!0),!w)return;const h={};d.z&&resetDistortingTransform("z",b,h,this.animationValues);for(let c=0;c<transformAxes.length;c++)resetDistortingTransform(`rotate${transformAxes[c]}`,b,h,this.animationValues),resetDistortingTransform(`skew${transformAxes[c]}`,b,h,this.animationValues);b.render();for(const c in h)b.setStaticValue(c,h[c]),this.animationValues&&(this.animationValues[c]=h[c]);b.scheduleRender()}applyProjectionStyles(b,w){if(!this.instance||this.isSVG)return;if(!this.isVisible){b.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,b.visibility="",b.opacity="",b.pointerEvents=resolveMotionValue(w?.pointerEvents)||"",b.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=resolveMotionValue(w?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1);return}b.visibility="";const c=h.animationValues||h.latestValues;this.applyTransformsToTarget();let a=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,c);d&&(a=d(c,a)),b.transform=a;const{x:o,y:u}=this.projectionDelta;b.transformOrigin=`${o.origin*100}% ${u.origin*100}% 0`,h.animationValues?b.opacity=h===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:b.opacity=h===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const f in scaleCorrectors){if(c[f]===void 0)continue;const{correct:m,applyTo:x,isCSSVariable:E}=scaleCorrectors[f],S=a==="none"?c[f]:m(c[f],h);if(x){const R=x.length;for(let M=0;M<R;M++)b[x[M]]=S}else E?this.options.visualElement.renderState.vars[f]=S:b[f]=S}this.options.layoutId&&(b.pointerEvents=h===this?resolveMotionValue(w?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(b=>b.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){const n=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=e.layout,{animationType:T}=e.options,g=n.source!==e.layout.source;T==="size"?eachAxis(c=>{const a=g?n.measuredBox[c]:n.layoutBox[c],o=calcLength(a);a.min=i[c].min,a.max=a.min+o}):shouldAnimatePositionOnly(T,n.layoutBox,i)&&eachAxis(c=>{const a=g?n.measuredBox[c]:n.layoutBox[c],o=calcLength(i[c]);a.max=a.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[c].max=e.relativeTarget[c].min+o)});const b=createDelta();calcBoxDelta(b,i,n.layoutBox);const w=createDelta();g?calcBoxDelta(w,e.applyTransform(l,!0),n.measuredBox):calcBoxDelta(w,i,n.layoutBox);const d=!isDeltaZero(b);let h=!1;if(!e.resumeFrom){const c=e.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:a,layout:o}=c;if(a&&o){const u=createBox();calcRelativePosition(u,n.layoutBox,a.layoutBox);const f=createBox();calcRelativePosition(f,i,o.layoutBox),boxEqualsRounded(u,f)||(h=!0),c.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=u,e.relativeParent=c)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:w,layoutDelta:b,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function propagateDirtyNodes(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,n,i){e.translate=mixNumber$1(n.translate,0,i),e.scale=mixNumber$1(n.scale,1,i),e.origin=n.origin,e.originPoint=n.originPoint}function mixAxis(e,n,i,l){e.min=mixNumber$1(n.min,i.min,l),e.max=mixNumber$1(n.max,i.max,l)}function mixBox(e,n,i,l){mixAxis(e.x,n.x,i.x,l),mixAxis(e.y,n.y,i.y,l)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,n,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(n),aspectRatio(i),.2)}function checkNodeWasScrollRoot(e){return e!==e.root&&e.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,n)=>addDomEvent(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,n,i){const{props:l}=e;e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",i==="Start");const T="onHover"+i,g=l[T];g&&frame.postRender(()=>g(n,extractEventInfo(n)))}class HoverGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=hover(n,(i,l)=>(handleHoverEvent(this.node,l,"Start"),T=>handleHoverEvent(this.node,T,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,n,i){const{props:l}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&l.whileTap&&e.animationState.setActive("whileTap",i==="Start");const T="onTap"+(i==="End"?"":i),g=l[T];g&&frame.postRender(()=>g(n,extractEventInfo(n)))}class PressGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=press(n,(i,l)=>(handlePressEvent(this.node,l,"Start"),(T,{success:g})=>handlePressEvent(this.node,T,g?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const n=observerCallbacks.get(e.target);n&&n(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...n}){const i=e||document;observers.has(i)||observers.set(i,{});const l=observers.get(i),T=JSON.stringify(n);return l[T]||(l[T]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...n})),l[T]}function observeIntersection(e,n,i){const l=initIntersectionObserver(n);return observerCallbacks.set(e,i),l.observe(e),()=>{observerCallbacks.delete(e),l.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:i,margin:l,amount:T="some",once:g}=n,b={root:i?i.current:void 0,rootMargin:l,threshold:typeof T=="number"?T:thresholdNames[T]},w=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,g&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:c,onViewportLeave:a}=this.node.getProps(),o=h?c:a;o&&o(d)};return observeIntersection(this.node.current,b,w)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(n,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:n={}}={}){return i=>e[i]!==n[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),findById=(e,n)=>e.find(i=>i.id===n);function findToast(e,n){const i=getToastPosition(e,n),l=i?e[i].findIndex(T=>T.id===n):-1;return{position:i,index:l}}function getToastPosition(e,n){for(const[i,l]of Object.entries(e))if(findById(l,n))return i}function getToastStyle(e){const n=e.includes("right"),i=e.includes("left");let l="center";return n&&(l="flex-end"),i&&(l="flex-start"),{display:"flex",flexDirection:"column",alignItems:l}}function getToastListStyle(e){const i=e==="top"||e==="bottom"?"0 auto":void 0,l=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,T=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,g=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",b=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:i,top:l,bottom:T,right:g,left:b}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(e){return reactPropsRegex.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(n){return n!=="theme"},getDefaultShouldForwardProp=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(n,i,l){var T;if(i){var g=i.shouldForwardProp;T=n.__emotion_forwardProp&&g?function(b){return n.__emotion_forwardProp(b)&&g(b)}:g}return typeof T!="function"&&l&&(T=n.__emotion_forwardProp),T},Insertion=function(n){var i=n.cache,l=n.serialized,T=n.isStringTag;return registerStyles(i,l,T),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(i,l,T)}),null},createStyled=function e(n,i){var l=n.__emotion_real===n,T=l&&n.__emotion_base||n,g,b;i!==void 0&&(g=i.label,b=i.target);var w=composeShouldForwardProps(n,i,l),d=w||getDefaultShouldForwardProp(T),h=!d("as");return function(){var c=arguments,a=l&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(g!==void 0&&a.push("label:"+g+";"),c[0]==null||c[0].raw===void 0)a.push.apply(a,c);else{var o=c[0];a.push(o[0]);for(var u=c.length,f=1;f<u;f++)a.push(c[f],o[f])}var m=withEmotionCache(function(x,E,S){var R=h&&x.as||T,M="",k=[],v=x;if(x.theme==null){v={};for(var F in x)v[F]=x[F];v.theme=reactExports.useContext(ThemeContext)}typeof x.className=="string"?M=getRegisteredStyles(E.registered,k,x.className):x.className!=null&&(M=x.className+" ");var I=serializeStyles(a.concat(k),E.registered,v);M+=E.key+"-"+I.name,b!==void 0&&(M+=" "+b);var A=h&&w===void 0?getDefaultShouldForwardProp(R):d,$={};for(var P in x)h&&P==="as"||A(P)&&($[P]=x[P]);return $.className=M,S&&($.ref=S),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:E,serialized:I,isStringTag:typeof R=="string"}),reactExports.createElement(R,$))});return m.displayName=g!==void 0?g:"Styled("+(typeof T=="string"?T:T.displayName||T.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=T,m.__emotion_styles=a,m.__emotion_forwardProp=w,Object.defineProperty(m,"toString",{value:function(){return"."+b}}),m.withComponent=function(x,E){var S=e(x,_extends$1({},i,E,{shouldForwardProp:composeShouldForwardProps(m,E,!0)}));return S.apply(void 0,a)},m}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],styled$1=createStyled.bind(null);tags.forEach(function(e){styled$1[e]=styled$1(e)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(e){return(validHTMLProps.has(e)||!allPropNames.has(e))&&e[0]!=="_"}const emotion_styled=interopDefault(styled$1),toCSSObject=({baseStyle:e})=>n=>{const{theme:i,css:l,__css:T,sx:g,...b}=n,[w]=splitProps(b,isStyleProp),d=runIfFn$1(e,n),h=assignAfter({},T,d,compact(w),g),c=css$2(h)(n.theme);return l?[c,l]:c};function styled(e,n){const{baseStyle:i,...l}=n??{};l.shouldForwardProp||(l.shouldForwardProp=shouldForwardProp);const T=toCSSObject({baseStyle:i}),g=emotion_styled(e,l)(T);return reactExports.forwardRef(function(d,h){const{children:c,...a}=d,{colorMode:o,forced:u}=useColorMode(),f=u?o:void 0;return reactExports.createElement(g,{ref:h,"data-theme":f,...a},c)})}function factory(){const e=new Map;return new Proxy(styled,{apply(n,i,l){return styled(...l)},get(n,i){return e.has(i)||e.set(i,styled(i)),e.get(i)}})}const chakra=factory(),toastMotionVariants={initial:e=>{const{position:n}=e,i=["top","bottom"].includes(n)?"y":"x";let l=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(l=1),{opacity:0,[i]:l*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(e=>{const{id:n,message:i,onCloseComplete:l,onRequestRemove:T,requestClose:g=!1,position:b="bottom",duration:w=5e3,containerStyle:d,motionVariants:h=toastMotionVariants,toastSpacing:c="0.5rem"}=e,[a,o]=reactExports.useState(w),u=useIsPresent();useUpdateEffect(()=>{u||l?.()},[u]),useUpdateEffect(()=>{o(w)},[w]);const f=()=>o(null),m=()=>o(w),x=()=>{u&&T()};reactExports.useEffect(()=>{u&&g&&T()},[u,g,T]),useTimeout(x,a);const E=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...d}),[d,c]),S=reactExports.useMemo(()=>getToastStyle(b),[b]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:h,initial:"initial",animate:"animate",exit:"exit",onHoverStart:f,onHoverEnd:m,custom:{position:b},style:S,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:E,children:runIfFn$1(i,{id:n,onClose:x})})})});ToastComponent.displayName="ToastComponent";function forwardRef(e){return reactExports.forwardRef(e)}var reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var e=typeof Element<"u",n=typeof Map=="function",i=typeof Set=="function",l=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function T(g,b){if(g===b)return!0;if(g&&b&&typeof g=="object"&&typeof b=="object"){if(g.constructor!==b.constructor)return!1;var w,d,h;if(Array.isArray(g)){if(w=g.length,w!=b.length)return!1;for(d=w;d--!==0;)if(!T(g[d],b[d]))return!1;return!0}var c;if(n&&g instanceof Map&&b instanceof Map){if(g.size!==b.size)return!1;for(c=g.entries();!(d=c.next()).done;)if(!b.has(d.value[0]))return!1;for(c=g.entries();!(d=c.next()).done;)if(!T(d.value[1],b.get(d.value[0])))return!1;return!0}if(i&&g instanceof Set&&b instanceof Set){if(g.size!==b.size)return!1;for(c=g.entries();!(d=c.next()).done;)if(!b.has(d.value[0]))return!1;return!0}if(l&&ArrayBuffer.isView(g)&&ArrayBuffer.isView(b)){if(w=g.length,w!=b.length)return!1;for(d=w;d--!==0;)if(g[d]!==b[d])return!1;return!0}if(g.constructor===RegExp)return g.source===b.source&&g.flags===b.flags;if(g.valueOf!==Object.prototype.valueOf&&typeof g.valueOf=="function"&&typeof b.valueOf=="function")return g.valueOf()===b.valueOf();if(g.toString!==Object.prototype.toString&&typeof g.toString=="function"&&typeof b.toString=="function")return g.toString()===b.toString();if(h=Object.keys(g),w=h.length,w!==Object.keys(b).length)return!1;for(d=w;d--!==0;)if(!Object.prototype.hasOwnProperty.call(b,h[d]))return!1;if(e&&g instanceof Element)return!1;for(d=w;d--!==0;)if(!((h[d]==="_owner"||h[d]==="__v"||h[d]==="__o")&&g.$$typeof)&&!T(g[h[d]],b[h[d]]))return!1;return!0}return g!==g&&b!==b}return reactFastCompare=function(b,w){try{return T(b,w)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},reactFastCompare}var reactFastCompareExports=requireReactFastCompare();const isEqual=getDefaultExportFromCjs(reactFastCompareExports);function useTheme(){const e=reactExports.useContext(ThemeContext);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function useChakra(){const e=useColorMode(),n=useTheme();return{...e,theme:n}}function getTokenValue(e,n,i){if(n==null)return n;const l=T=>e.__cssMap?.[T]?.value;return l(n)??l(i)??i}function getToken(e,n,i){const l=Array.isArray(n)?n:[n],T=Array.isArray(i)?i:[i];return g=>{const b=T.filter(Boolean),w=l.map((d,h)=>{const c=`${e}.${d}`;return getTokenValue(g,c,b[h]??d)});return Array.isArray(n)?w:w[0]}}function omitReactElements(e){return Object.fromEntries(Object.entries(e).filter(([n,i])=>i!==void 0&&n!=="children"&&!reactExports.isValidElement(i)))}function useStyleConfigImpl(e,n={}){const{styleConfig:i,...l}=n,{theme:T,colorMode:g}=useChakra(),b=e?memoizedGet$1(T,`components.${e}`):void 0,w=i||b,d=mergeWith({theme:T,colorMode:g},w?.defaultProps??{},omitReactElements(l),(c,a)=>c?void 0:a),h=reactExports.useRef({});if(w){const a=resolveStyleConfig(w)(d);isEqual(h.current,a)||(h.current=a)}return h.current}function useStyleConfig(e,n={}){return useStyleConfigImpl(e,n)}function useMultiStyleConfig(e,n={}){return useStyleConfigImpl(e,n)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((e,n)=>{const{as:i,viewBox:l,color:T="currentColor",focusable:g=!1,children:b,className:w,__css:d,...h}=e,c=cx("chakra-icon",w),a=useStyleConfig("Icon",e),o={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:T,...d,...a},u={ref:n,focusable:g,className:c,__css:o},f=l??fallbackIcon.viewBox;if(i&&typeof i!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:i,...u,...h});const m=b??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:f,...u,...h,children:m})});Icon.displayName="Icon";function CheckIcon$1(e){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(e){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(e){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((e,n)=>{const i=useStyleConfig("Spinner",e),{label:l="Loading...",thickness:T="2px",speed:g="0.45s",emptyColor:b="transparent",className:w,...d}=omitThemingProps(e),h=cx("chakra-spinner",w),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:T,borderBottomColor:b,borderLeftColor:b,animation:`${spin} ${g} linear infinite`,...i};return jsxRuntimeExports.jsx(chakra.div,{ref:n,__css:c,className:h,...d,children:l&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:l})})});Spinner.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext$1({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$1({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(e){return STATUSES[e].colorScheme}function getStatusIcon(e){return STATUSES[e].icon}const Alert=forwardRef(function(n,i){const{status:l="info",addRole:T=!0,...g}=omitThemingProps(n),b=n.colorScheme??getStatusColorScheme(l),w=useMultiStyleConfig("Alert",{...n,colorScheme:b}),d={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...w.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:l},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:w,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":l,role:T?"alert":void 0,ref:i,...g,className:cx("chakra-alert",n.className),__css:d})})})});Alert.displayName="Alert";function AlertIcon(e){const{status:n}=useAlertContext(),i=getStatusIcon(n),l=useAlertStyles(),T=n==="loading"?l.spinner:l.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":n,...e,className:cx("chakra-alert__icon",e.className),__css:T,children:e.children||jsxRuntimeExports.jsx(i,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function(n,i){const l=useAlertStyles(),{status:T}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:i,"data-status":T,...n,className:cx("chakra-alert__title",n.className),__css:l.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function(n,i){const{status:l}=useAlertContext(),T=useAlertStyles(),g={display:"inline",...T.description};return jsxRuntimeExports.jsx(chakra.div,{ref:i,"data-status":l,...n,className:cx("chakra-alert__desc",n.className),__css:g})});AlertDescription.displayName="AlertDescription";function CloseIcon(e){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function(n,i){const l=useStyleConfig("CloseButton",n),{children:T,isDisabled:g,__css:b,...w}=omitThemingProps(n),d={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:i,disabled:g,__css:{...d,...l,...b},...w,children:T||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast=e=>{const{status:n,variant:i="solid",id:l,title:T,isClosable:g,onClose:b,description:w,colorScheme:d,icon:h}=e,c=l?{root:`toast-${l}`,title:`toast-${l}-title`,description:`toast-${l}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:n,variant:i,id:c?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:d,children:[jsxRuntimeExports.jsx(AlertIcon,{children:h}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[T&&jsxRuntimeExports.jsx(AlertTitle,{id:c?.title,children:T}),w&&jsxRuntimeExports.jsx(AlertDescription,{id:c?.description,display:"block",children:w})]}),g&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:b,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(e={}){const{render:n,toastComponent:i=Toast}=e;return T=>typeof n=="function"?n({...T,...e}):jsxRuntimeExports.jsx(i,{...T,...e})}const initialState$1={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$1);function createStore$1(e){let n=e;const i=new Set,l=T=>{n=T(n),i.forEach(g=>g())};return{getState:()=>n,subscribe:T=>(i.add(T),()=>{l(()=>e),i.delete(T)}),removeToast:(T,g)=>{l(b=>({...b,[g]:b[g].filter(w=>w.id!=T)}))},notify:(T,g)=>{const b=createToast(T,g),{position:w,id:d}=b;return l(h=>{const a=w.includes("top")?[b,...h[w]??[]]:[...h[w]??[],b];return{...h,[w]:a}}),d},update:(T,g)=>{T&&l(b=>{const w={...b},{position:d,index:h}=findToast(w,T);return d&&h!==-1&&(w[d][h]={...w[d][h],...g,message:createRenderToast(g)}),w})},closeAll:({positions:T}={})=>{l(g=>(T??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((d,h)=>(d[h]=g[h].map(c=>({...c,requestClose:!0})),d),{...g}))},close:T=>{l(g=>{const b=getToastPosition(g,T);return b?{...g,[b]:g[b].map(w=>w.id==T?{...w,requestClose:!0}:w)}:g})},isActive:T=>!!findToast(toastStore.getState(),T).position}}let counter=0;function createToast(e,n={}){counter+=1;const i=n.id??counter,l=n.position??"bottom";return{id:i,message:e,position:l,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(i),l),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var e=requireReact();function n(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)h+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},T=Symbol.for("react.portal");function g(d,h,c){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:a==null?null:""+a,children:d,containerInfo:h,implementation:c}}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,reactDom_production.createPortal=function(d,h){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return g(d,h,null,c)},reactDom_production.flushSync=function(d){var h=b.T,c=l.p;try{if(b.T=null,l.p=2,d)return d()}finally{b.T=h,l.p=c,l.d.f()}},reactDom_production.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(d,h))},reactDom_production.prefetchDNS=function(d){typeof d=="string"&&l.d.D(d)},reactDom_production.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var c=h.as,a=w(c,h.crossOrigin),o=typeof h.integrity=="string"?h.integrity:void 0,u=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;c==="style"?l.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:a,integrity:o,fetchPriority:u}):c==="script"&&l.d.X(d,{crossOrigin:a,integrity:o,fetchPriority:u,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},reactDom_production.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var c=w(h.as,h.crossOrigin);l.d.M(d,{crossOrigin:c,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(d)},reactDom_production.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var c=h.as,a=w(c,h.crossOrigin);l.d.L(d,c,{crossOrigin:a,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},reactDom_production.preloadModule=function(d,h){if(typeof d=="string")if(h){var c=w(h.as,h.crossOrigin);l.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:c,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(d)},reactDom_production.requestFormReset=function(d){l.d.r(d)},reactDom_production.unstable_batchedUpdates=function(d,h){return d(h)},reactDom_production.useFormState=function(d,h,c){return b.H.useFormState(d,h,c)},reactDom_production.useFormStatus=function(){return b.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),reactDom.exports=requireReactDom_production(),reactDom.exports}var reactDomExports=requireReactDom();const[PortalContextProvider,usePortalContext]=createContext$1({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=e=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),DefaultPortal=e=>{const{appendToParentPortal:n,children:i}=e,[l,T]=reactExports.useState(null),g=reactExports.useRef(null),[,b]=reactExports.useState({});reactExports.useEffect(()=>b({}),[]);const w=usePortalContext(),d=usePortalManager();useSafeLayoutEffect$1(()=>{if(!l)return;const c=l.ownerDocument,a=n?w??c.body:c.body;if(!a)return;g.current=c.createElement("div"),g.current.className=PORTAL_CLASSNAME,a.appendChild(g.current),b({});const o=g.current;return()=>{a.contains(o)&&a.removeChild(o)}},[l]);const h=d?.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:d?.zIndex,children:i}):i;return g.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:g.current,children:h}),g.current):jsxRuntimeExports.jsx("span",{ref:c=>{c&&T(c)}})},ContainerPortal=e=>{const{children:n,containerRef:i,appendToParentPortal:l}=e,T=i.current,g=T??(typeof window<"u"?document.body:void 0),b=reactExports.useMemo(()=>{const d=T?.ownerDocument.createElement("div");return d&&(d.className=PORTAL_CLASSNAME),d},[T]),[,w]=reactExports.useState({});return useSafeLayoutEffect$1(()=>w({}),[]),useSafeLayoutEffect$1(()=>{if(!(!b||!g))return g.appendChild(b),()=>{g.removeChild(b)}},[b,g]),g&&b?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:l?b:null,children:n}),b):null};function Portal(e){const n={appendToParentPortal:!0,...e},{containerRef:i,...l}=n;return i?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:i,...l}):jsxRuntimeExports.jsx(DefaultPortal,{...l})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider]=createContext$1({name:"ToastOptionsContext",strict:!1}),ToastProvider=e=>{const n=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:i,component:l=ToastComponent,portalProps:T,animatePresenceProps:g}=e,w=Object.keys(n).map(d=>{const h=n[d];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${d}`,id:`chakra-toast-manager-${d}`,style:getToastListStyle(d),children:jsxRuntimeExports.jsx(AnimatePresence,{...g,initial:!1,children:h.map(c=>jsxRuntimeExports.jsx(l,{motionVariants:i,...c},c.id))})},d)});return jsxRuntimeExports.jsx(Portal,{...T,children:w})},createProvider=e=>function({children:i,theme:l=e,toastOptions:T,...g}){return jsxRuntimeExports.jsxs(Provider$1,{theme:l,...g,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:T?.defaultOptions,children:i}),jsxRuntimeExports.jsx(ToastProvider,{...T})]})},ChakraProvider=createProvider(theme$1),TRANSITION_EASINGS={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(e,n)=>({...e,delay:typeof n=="number"?n:n?.enter}),exit:(e,n)=>({...e,delay:typeof n=="number"?n:n?.exit})},Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext$1({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(e){const{children:n,className:i,...l}=e,T=reactExports.isValidElement(n)?reactExports.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,g=cx("chakra-button__icon",i);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...l,className:g,children:T})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(e){const{label:n,placement:i,spacing:l="0.5rem",children:T=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:g,__css:b,...w}=e,d=cx("chakra-button__spinner",g),h=i==="start"?"marginEnd":"marginStart",c=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[h]:n?l:0,fontSize:"1em",lineHeight:"normal",...b}),[b,n,h,l]);return jsxRuntimeExports.jsx(chakra.div,{className:d,...w,__css:c,children:T})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(e){const[n,i]=reactExports.useState(!e);return{ref:reactExports.useCallback(g=>{g&&i(g.tagName==="BUTTON")},[]),type:n?"button":void 0}}const Button=forwardRef((e,n)=>{const i=useButtonGroup(),l=useStyleConfig("Button",{...i,...e}),{isDisabled:T=i?.isDisabled,isLoading:g,isActive:b,children:w,leftIcon:d,rightIcon:h,loadingText:c,iconSpacing:a="0.5rem",type:o,spinner:u,spinnerPlacement:f="start",className:m,as:x,shouldWrapChildren:E,...S}=omitThemingProps(e),R=reactExports.useMemo(()=>{const F={...l?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...l,...!!i&&{_focus:F}}},[l,i]),{ref:M,type:k}=useButtonType(x),v={rightIcon:h,leftIcon:d,iconSpacing:a,children:w,shouldWrapChildren:E};return jsxRuntimeExports.jsxs(chakra.button,{disabled:T||g,ref:useMergeRefs$1(n,M),as:x,type:o??k,"data-active":dataAttr(b),"data-loading":dataAttr(g),__css:R,className:cx("chakra-button",m),...S,children:[g&&f==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:a,children:u}),g?c||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...v})}):jsxRuntimeExports.jsx(ButtonContent,{...v}),g&&f==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:a,children:u})]})});Button.displayName="Button";function ButtonContent(e){const{leftIcon:n,rightIcon:i,children:l,iconSpacing:T,shouldWrapChildren:g}=e;return g?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[n&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:T,children:n}),l,i&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:T,children:i})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[n&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:T,children:n}),l,i&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:T,children:i})]})}const attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},ButtonGroup=forwardRef(function(n,i){const{size:l,colorScheme:T,variant:g,className:b,spacing:w="0.5rem",isAttached:d,isDisabled:h,orientation:c="horizontal",...a}=n,o=cx("chakra-button__group",b),u=reactExports.useMemo(()=>({size:l,colorScheme:T,variant:g,isDisabled:h}),[l,T,g,h]);let f={display:"inline-flex",...d?attachedStyles[c]:gapStyles[c](w)};const m=c==="vertical";return jsxRuntimeExports.jsx(ButtonGroupProvider,{value:u,children:jsxRuntimeExports.jsx(chakra.div,{ref:i,role:"group",__css:f,className:o,"data-attached":d?"":void 0,"data-orientation":c,flexDir:m?"column":void 0,...a})})});ButtonGroup.displayName="ButtonGroup";const[CardStylesProvider,useCardStyles]=createStylesContext("Card"),Card=forwardRef(function(n,i){const{className:l,children:T,direction:g="column",justify:b,align:w,...d}=omitThemingProps(n),h=useMultiStyleConfig("Card",n);return jsxRuntimeExports.jsx(chakra.div,{ref:i,className:cx("chakra-card",l),__css:{display:"flex",flexDirection:g,justifyContent:b,alignItems:w,position:"relative",minWidth:0,wordWrap:"break-word",...h.container},...d,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:h,children:T})})}),CardBody=forwardRef(function(n,i){const{className:l,...T}=n,g=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:i,className:cx("chakra-card__body",l),__css:g.body,...T})}),CardHeader=forwardRef(function(n,i){const{className:l,...T}=n,g=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:i,className:cx("chakra-card__header",l),__css:g.header,...T})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$1({name:"CheckboxGroupContext",strict:!1});function CheckIcon(e){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(e){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(e){const{isIndeterminate:n,isChecked:i,...l}=e,T=n?IndeterminateIcon:CheckIcon;return i||n?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(T,{...l})}):null}var isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(e,n){handlers.forEach(i=>i(e,n))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(e){return!(e.metaKey||!isMac&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function onKeyboardEvent(e){hasEventBeforeFocus=!0,isValidKey(e)&&(modality="keyboard",trigger("keyboard",e))}function onPointerEvent(e){if(modality="pointer",e.type==="mousedown"||e.type==="pointerdown"){hasEventBeforeFocus=!0;const n=e.composedPath?e.composedPath()[0]:e.target;let i=!1;try{i=n.matches(":focus-visible")}catch{}if(i)return;trigger("pointer",e)}}function isVirtualClick(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function onClickEvent(e){isVirtualClick(e)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus$1(e){e.target===window||e.target===document||e.target instanceof Element&&e.target.hasAttribute("tabindex")||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",e)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...i){hasEventBeforeFocus=!0,e.apply(this,i)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus$1,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(e){setupGlobalFocusEvents(),e(isFocusVisible());const n=()=>e(isFocusVisible());return handlers.add(n),()=>{handlers.delete(n)}}const[FormControlStylesProvider,useFormControlStyles]=createContext$1({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$1({strict:!1,name:"FormControlContext"});function useFormControlProvider(e){const{id:n,isRequired:i,isInvalid:l,isDisabled:T,isReadOnly:g,...b}=e,w=reactExports.useId(),d=n||`field-${w}`,h=`${d}-label`,c=`${d}-feedback`,a=`${d}-helptext`,[o,u]=reactExports.useState(!1),[f,m]=reactExports.useState(!1),[x,E]=reactExports.useState(!1),S=reactExports.useCallback((F={},I=null)=>({id:a,...F,ref:mergeRefs(I,A=>{A&&m(!0)})}),[a]),R=reactExports.useCallback((F={},I=null)=>({...F,ref:I,"data-focus":dataAttr(x),"data-disabled":dataAttr(T),"data-invalid":dataAttr(l),"data-readonly":dataAttr(g),id:F.id!==void 0?F.id:h,htmlFor:F.htmlFor!==void 0?F.htmlFor:d}),[d,T,x,l,g,h]),M=reactExports.useCallback((F={},I=null)=>({id:c,...F,ref:mergeRefs(I,A=>{A&&u(!0)}),"aria-live":"polite"}),[c]),k=reactExports.useCallback((F={},I=null)=>({...F,...b,ref:I,role:"group","data-focus":dataAttr(x),"data-disabled":dataAttr(T),"data-invalid":dataAttr(l),"data-readonly":dataAttr(g)}),[b,T,x,l,g]),v=reactExports.useCallback((F={},I=null)=>({...F,ref:I,role:"presentation","aria-hidden":!0,children:F.children||"*"}),[]);return{isRequired:!!i,isInvalid:!!l,isReadOnly:!!g,isDisabled:!!T,isFocused:!!x,onFocus:()=>E(!0),onBlur:()=>E(!1),hasFeedbackText:o,setHasFeedbackText:u,hasHelpText:f,setHasHelpText:m,id:d,labelId:h,feedbackId:c,helpTextId:a,htmlProps:b,getHelpTextProps:S,getErrorMessageProps:M,getRootProps:k,getLabelProps:R,getRequiredIndicatorProps:v}}const FormControl=forwardRef(function(n,i){const l=useMultiStyleConfig("Form",n),T=omitThemingProps(n),{getRootProps:g,htmlProps:b,...w}=useFormControlProvider(T),d=cx("chakra-form-control",n.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:w,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:l,children:jsxRuntimeExports.jsx(chakra.div,{...g({},i),className:d,__css:l.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function(n,i){const l=useFormControlContext(),T=useFormControlStyles(),g=cx("chakra-form__helper-text",n.className);return jsxRuntimeExports.jsx(chakra.div,{...l?.getHelpTextProps(n,i),__css:T.helperText,className:g})});FormHelperText.displayName="FormHelperText";function useFormControl(e){const{isDisabled:n,isInvalid:i,isReadOnly:l,isRequired:T,...g}=useFormControlProps(e);return{...g,disabled:n,readOnly:l,required:T,"aria-invalid":ariaAttr(i),"aria-required":ariaAttr(T),"aria-readonly":ariaAttr(l)}}function useFormControlProps(e){const n=useFormControlContext(),{id:i,disabled:l,readOnly:T,required:g,isRequired:b,isInvalid:w,isReadOnly:d,isDisabled:h,onFocus:c,onBlur:a,...o}=e,u=e["aria-describedby"]?[e["aria-describedby"]]:[];return n?.hasFeedbackText&&n?.isInvalid&&u.push(n.feedbackId),n?.hasHelpText&&u.push(n.helpTextId),{...o,"aria-describedby":u.join(" ")||void 0,id:i??n?.id,isDisabled:l??h??n?.isDisabled,isReadOnly:T??d??n?.isReadOnly,isRequired:g??b??n?.isRequired,isInvalid:w??n?.isInvalid,onFocus:callAllHandlers(n?.onFocus,c),onBlur:callAllHandlers(n?.onBlur,a)}}const visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useCheckbox(e={}){const n=useFormControlProps(e),{isDisabled:i,isReadOnly:l,isRequired:T,isInvalid:g,id:b,onBlur:w,onFocus:d,"aria-describedby":h}=n,{defaultChecked:c,isChecked:a,isFocusable:o,onChange:u,isIndeterminate:f,name:m,value:x,tabIndex:E=void 0,"aria-label":S,"aria-labelledby":R,"aria-invalid":M,...k}=e,v=omit(k,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),F=useCallbackRef$1(u),I=useCallbackRef$1(w),A=useCallbackRef$1(d),[$,P]=reactExports.useState(!1),[B,U]=reactExports.useState(!1),[W,j]=reactExports.useState(!1),H=reactExports.useRef(!1);reactExports.useEffect(()=>trackFocusVisible(Pe=>{H.current=Pe}),[]);const Q=reactExports.useRef(null),[X,ee]=reactExports.useState(!0),[ie,ne]=reactExports.useState(!!c),ae=a!==void 0,re=ae?a:ie,fe=reactExports.useCallback(Pe=>{if(l||i){Pe.preventDefault();return}ae||ne(re?Pe.currentTarget.checked:f?!0:Pe.currentTarget.checked),F?.(Pe)},[l,i,re,ae,f,F]);useSafeLayoutEffect$1(()=>{Q.current&&(Q.current.indeterminate=!!f)},[f]),useUpdateEffect(()=>{i&&P(!1)},[i,P]),useSafeLayoutEffect$1(()=>{const Pe=Q.current;if(!Pe?.form)return;const Je=()=>{ne(!!c)};return Pe.form.addEventListener("reset",Je),()=>Pe.form?.removeEventListener("reset",Je)},[]);const pe=i&&!o,he=reactExports.useCallback(Pe=>{Pe.key===" "&&j(!0)},[j]),$e=reactExports.useCallback(Pe=>{Pe.key===" "&&j(!1)},[j]);useSafeLayoutEffect$1(()=>{if(!Q.current)return;Q.current.checked!==re&&ne(Q.current.checked)},[Q.current]);const Le=reactExports.useCallback((Pe={},Je=null)=>{const Ve=Tt=>{$&&Tt.preventDefault(),j(!0)};return{...Pe,ref:Je,"data-active":dataAttr(W),"data-hover":dataAttr(B),"data-checked":dataAttr(re),"data-focus":dataAttr($),"data-focus-visible":dataAttr($&&H.current),"data-indeterminate":dataAttr(f),"data-disabled":dataAttr(i),"data-invalid":dataAttr(g),"data-readonly":dataAttr(l),"aria-hidden":!0,onMouseDown:callAllHandlers(Pe.onMouseDown,Ve),onMouseUp:callAllHandlers(Pe.onMouseUp,()=>j(!1)),onMouseEnter:callAllHandlers(Pe.onMouseEnter,()=>U(!0)),onMouseLeave:callAllHandlers(Pe.onMouseLeave,()=>U(!1))}},[W,re,i,$,B,f,g,l]),Oe=reactExports.useCallback((Pe={},Je=null)=>({...Pe,ref:Je,"data-active":dataAttr(W),"data-hover":dataAttr(B),"data-checked":dataAttr(re),"data-focus":dataAttr($),"data-focus-visible":dataAttr($&&H.current),"data-indeterminate":dataAttr(f),"data-disabled":dataAttr(i),"data-invalid":dataAttr(g),"data-readonly":dataAttr(l)}),[W,re,i,$,B,f,g,l]),Ne=reactExports.useCallback((Pe={},Je=null)=>({...v,...Pe,ref:mergeRefs(Je,Ve=>{Ve&&ee(Ve.tagName==="LABEL")}),onClick:callAllHandlers(Pe.onClick,()=>{X||(Q.current?.click(),requestAnimationFrame(()=>{Q.current?.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(i),"data-checked":dataAttr(re),"data-invalid":dataAttr(g)}),[v,i,re,g,X]),be=reactExports.useCallback((Pe={},Je=null)=>({...Pe,ref:mergeRefs(Q,Je),type:"checkbox",name:m,value:x,id:b,tabIndex:E,onChange:callAllHandlers(Pe.onChange,fe),onBlur:callAllHandlers(Pe.onBlur,I,()=>P(!1)),onFocus:callAllHandlers(Pe.onFocus,A,()=>P(!0)),onKeyDown:callAllHandlers(Pe.onKeyDown,he),onKeyUp:callAllHandlers(Pe.onKeyUp,$e),required:T,checked:re,disabled:pe,readOnly:l,"aria-label":S,"aria-labelledby":R,"aria-invalid":M?!!M:g,"aria-describedby":h,"aria-disabled":i,"aria-checked":f?"mixed":re,style:visuallyHiddenStyle}),[m,x,b,E,fe,I,A,he,$e,T,re,pe,l,S,R,M,g,h,i,f]),Se=reactExports.useCallback((Pe={},Je=null)=>({...Pe,ref:Je,onMouseDown:callAllHandlers(Pe.onMouseDown,stopEvent),"data-disabled":dataAttr(i),"data-checked":dataAttr(re),"data-invalid":dataAttr(g)}),[re,i,g]);return{state:{isInvalid:g,isFocused:$,isChecked:re,isActive:W,isHovered:B,isIndeterminate:f,isDisabled:i,isReadOnly:l,isRequired:T},getRootProps:Ne,getCheckboxProps:Le,getIndicatorProps:Oe,getInputProps:be,getLabelProps:Se,htmlProps:v}}function stopEvent(e){e.preventDefault(),e.stopPropagation()}function useInitialAnimationState(e){const[n,i]=reactExports.useState(e),[l,T]=reactExports.useState(!1);return e!==n&&(T(!0),i(e)),l}const controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(n,i){const l=useCheckboxGroupContext(),T={...l,...n},g=useMultiStyleConfig("Checkbox",T),b=omitThemingProps(n),{spacing:w="0.5rem",className:d,children:h,iconColor:c,iconSize:a,icon:o=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:u,isDisabled:f=l?.isDisabled,onChange:m,inputProps:x,...E}=b;let S=u;l?.value&&b.value&&(S=l.value.includes(b.value));let R=m;l?.onChange&&b.value&&(R=callAll(l.onChange,m));const{state:M,getInputProps:k,getCheckboxProps:v,getLabelProps:F,getRootProps:I}=useCheckbox({...E,isDisabled:f,isChecked:S,onChange:R}),A=useInitialAnimationState(M.isChecked),$=reactExports.useMemo(()=>({animation:A?M.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,...g.icon,...compact({fontSize:a,color:c})}),[c,a,A,M.isIndeterminate,g.icon]),P=reactExports.cloneElement(o,{__css:$,isIndeterminate:M.isIndeterminate,isChecked:M.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...g.container},className:cx("chakra-checkbox",d),...I(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...k(x,i)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...g.control},className:"chakra-checkbox__control",...v(),children:P}),h&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...F(),__css:{marginStart:w,...g.label},children:h})]})});Checkbox.displayName="Checkbox";const Code=forwardRef(function(n,i){const l=useStyleConfig("Code",n),{className:T,...g}=omitThemingProps(n);return jsxRuntimeExports.jsx(chakra.code,{ref:i,className:cx("chakra-code",n.className),...g,__css:{display:"inline-block",...l}})});Code.displayName="Code";const VALID_VALUES=new Set(["dark","light","system"]);function normalize(e){let n=e;return VALID_VALUES.has(n)||(n="light"),n}function getScriptSrc(e={}){const{initialColorMode:n="light",type:i="localStorage",storageKey:l="chakra-ui-color-mode"}=e,T=normalize(n),g=i==="cookie",b=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${T}",r="${l}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,w=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${T}",e="${l}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${g?b:w}`.trim()}function ColorModeScript(e={}){const{nonce:n}=e;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:n,dangerouslySetInnerHTML:{__html:getScriptSrc(e)}})}function isFunction$1(e){return typeof e=="function"}function pipe(...e){return n=>e.reduce((i,l)=>l(i),n)}const createExtendTheme=e=>function(...i){let l=[...i],T=i[i.length-1];return isChakraTheme(T)&&l.length>1?l=l.slice(0,l.length-1):T=e,pipe(...l.map(g=>b=>isFunction$1(g)?g(b):mergeThemeOverride(b,g)))(T)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...e){return mergeWith({},...e,mergeThemeCustomizer)}function mergeThemeCustomizer(e,n,i,l){if((isFunction$1(e)||isFunction$1(n))&&Object.prototype.hasOwnProperty.call(l,i))return(...T)=>{const g=isFunction$1(e)?e(...T):e,b=isFunction$1(n)?n(...T):n;return mergeWith({},g,b,mergeThemeCustomizer)};if(isObject$1(e)&&isArray$1(n)||isArray$1(e)&&isObject$1(n))return n}function _objectWithoutPropertiesLoose(e,n){if(e==null)return{};var i={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(n.indexOf(l)!==-1)continue;i[l]=e[l]}return i}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var l in i)({}).hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},_extends.apply(null,arguments)}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=e,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var e=requireReactPropTypesSecret();function n(){}function i(){}return i.resetWarningCache=n,factoryWithThrowingShims=function(){function l(b,w,d,h,c,a){if(a!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}l.isRequired=l;function T(){return l}var g={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:T,element:l,elementType:l,instanceOf:T,node:l,objectOf:T,oneOf:T,oneOfType:T,shape:T,exact:T,checkPropTypes:i,resetWarningCache:n};return g.PropTypes=g,g},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function useCallbackRef(e,n){var i=reactExports.useState(function(){return{value:e,callback:n,facade:{get current(){return i.value},set current(l){var T=i.value;T!==l&&(i.value=l,i.callback(l,T))}}}})[0];return i.callback=n,i.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(e,n){var i=useCallbackRef(null,function(l){return e.forEach(function(T){return assignRef(T,l)})});return useIsomorphicLayoutEffect$1(function(){var l=currentValues.get(i);if(l){var T=new Set(l),g=new Set(e),b=i.current;T.forEach(function(w){g.has(w)||assignRef(w,null)}),g.forEach(function(w){T.has(w)||assignRef(w,b)})}currentValues.set(i,e)},[e]),i}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign=function(){return __assign=Object.assign||function(n){for(var i,l=1,T=arguments.length;l<T;l++){i=arguments[l];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(n[g]=i[g])}return n},__assign.apply(this,arguments)};function __rest(e,n){var i={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(i[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,l=Object.getOwnPropertySymbols(e);T<l.length;T++)n.indexOf(l[T])<0&&Object.prototype.propertyIsEnumerable.call(e,l[T])&&(i[l[T]]=e[l[T]]);return i}function __spreadArray(e,n,i){if(i||arguments.length===2)for(var l=0,T=n.length,g;l<T;l++)(g||!(l in n))&&(g||(g=Array.prototype.slice.call(n,0,l)),g[l]=n[l]);return e.concat(g||Array.prototype.slice.call(n))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(e){return e}function innerCreateMedium(e,n){n===void 0&&(n=ItoI);var i=[],l=!1,T={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(g){var b=n(g,l);return i.push(b),function(){i=i.filter(function(w){return w!==b})}},assignSyncMedium:function(g){for(l=!0;i.length;){var b=i;i=[],b.forEach(g)}i={push:function(w){return g(w)},filter:function(){return i}}},assignMedium:function(g){l=!0;var b=[];if(i.length){var w=i;i=[],w.forEach(g),b=i}var d=function(){var c=b;b=[],c.forEach(g)},h=function(){return Promise.resolve().then(d)};h(),i={push:function(c){b.push(c),h()},filter:function(c){return b=b.filter(c),i}}}};return T}function createMedium(e,n){return n===void 0&&(n=ItoI),innerCreateMedium(e,n)}function createSidecarMedium(e){e===void 0&&(e={});var n=innerCreateMedium(null);return n.options=__assign({async:!0,ssr:!1},e),n}var SideCar$1=function(e){var n=e.sideCar,i=__rest(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=n.read();if(!l)throw new Error("Sidecar medium not found");return reactExports.createElement(l,__assign({},i))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,n){return e.useMedium(n),SideCar$1}var mediumFocus=createMedium({},function(e){var n=e.target,i=e.currentTarget;return{target:n,currentTarget:i}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(n,i){var l,T=reactExports.useState(),g=T[0],b=T[1],w=reactExports.useRef(),d=reactExports.useRef(!1),h=reactExports.useRef(null),c=reactExports.useState({}),a=c[1],o=n.children,u=n.disabled,f=u===void 0?!1:u,m=n.noFocusGuards,x=m===void 0?!1:m,E=n.persistentFocus,S=E===void 0?!1:E,R=n.crossFrame,M=R===void 0?!0:R,k=n.autoFocus,v=k===void 0?!0:k;n.allowTextSelection;var F=n.group,I=n.className,A=n.whiteList,$=n.hasPositiveIndices,P=n.shards,B=P===void 0?emptyArray:P,U=n.as,W=U===void 0?"div":U,j=n.lockProps,H=j===void 0?{}:j,Q=n.sideCar,X=n.returnFocus,ee=X===void 0?!1:X,ie=n.focusOptions,ne=n.onActivation,ae=n.onDeactivation,re=reactExports.useState({}),fe=re[0],pe=reactExports.useCallback(function(Ve){var Tt=Ve.captureFocusRestore;if(!h.current){var Ot,Dt=(Ot=document)==null?void 0:Ot.activeElement;h.current=Dt,Dt!==document.body&&(h.current=Tt(Dt))}w.current&&ne&&ne(w.current),d.current=!0,a()},[ne]),he=reactExports.useCallback(function(){d.current=!1,ae&&ae(w.current),a()},[ae]),$e=reactExports.useCallback(function(Ve){var Tt=h.current;if(Tt){var Ot=(typeof Tt=="function"?Tt():Tt)||document.body,Dt=typeof ee=="function"?ee(Ot):ee;if(Dt){var nn=typeof Dt=="object"?Dt:void 0;h.current=null,Ve?Promise.resolve().then(function(){return Ot.focus(nn)}):Ot.focus(nn)}}},[ee]),Le=reactExports.useCallback(function(Ve){d.current&&mediumFocus.useMedium(Ve)},[]),Oe=mediumBlur.useMedium,Ne=reactExports.useCallback(function(Ve){w.current!==Ve&&(w.current=Ve,b(Ve))},[]),be=_extends((l={},l[FOCUS_DISABLED]=f&&"disabled",l[FOCUS_GROUP]=F,l),H),Se=x!==!0,ge=Se&&x!=="tail",Pe=useMergeRefs([i,Ne]),Je=reactExports.useMemo(function(){return{observed:w,shards:B,enabled:!f,active:d.current}},[f,d.current,B,g]);return React.createElement(reactExports.Fragment,null,Se&&[React.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:hiddenGuard}),$?React.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:hiddenGuard}):null],!f&&React.createElement(Q,{id:fe,sideCar:mediumSidecar,observed:g,disabled:f,persistentFocus:S,crossFrame:M,autoFocus:v,whiteList:A,shards:B,onActivation:pe,onDeactivation:he,returnFocus:$e,focusOptions:ie,noFocusGuards:x}),React.createElement(W,_extends({ref:Pe},be,{className:I,onBlur:Oe,onFocus:Le}),React.createElement(focusScope.Provider,{value:Je},o)),ge&&React.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(e,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},_setPrototypeOf(e,n)}function _inheritsLoose(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,_setPrototypeOf(e,n)}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(e)}function toPrimitive(e,n){if(_typeof(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var l=i.call(e,n);if(_typeof(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function toPropertyKey(e){var n=toPrimitive(e,"string");return _typeof(n)=="symbol"?n:n+""}function _defineProperty(e,n,i){return(n=toPropertyKey(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function withSideEffect(e,n){function i(l){return l.displayName||l.name||"Component"}return function(T){var g=[],b;function w(){b=e(g.map(function(h){return h.props})),n(b)}var d=(function(h){_inheritsLoose(c,h);function c(){return h.apply(this,arguments)||this}c.peek=function(){return b};var a=c.prototype;return a.componentDidMount=function(){g.push(this),w()},a.componentDidUpdate=function(){w()},a.componentWillUnmount=function(){var u=g.indexOf(this);g.splice(u,1),w()},a.render=function(){return React.createElement(T,this.props)},c})(reactExports.PureComponent);return _defineProperty(d,"displayName","SideEffect("+i(T)+")"),d}}var toArray=function(e){for(var n=Array(e.length),i=0;i<e.length;++i)n[i]=e[i];return n},asArray=function(e){return Array.isArray(e)?e:[e]},getFirst=function(e){return Array.isArray(e)?e[0]:e},isElementHidden=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},getParentNode=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},isTopNode=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},isInert=function(e){return e.hasAttribute("inert")},isVisibleUncached=function(e,n){return!e||isTopNode(e)||!isElementHidden(e)&&!isInert(e)&&n(getParentNode(e))},isVisibleCached=function(e,n){var i=e.get(n);if(i!==void 0)return i;var l=isVisibleUncached(n,isVisibleCached.bind(void 0,e));return e.set(n,l),l},isAutoFocusAllowedUncached=function(e,n){return e&&!isTopNode(e)?isAutoFocusAllowed(e)?n(getParentNode(e)):!1:!0},isAutoFocusAllowedCached=function(e,n){var i=e.get(n);if(i!==void 0)return i;var l=isAutoFocusAllowedUncached(n,isAutoFocusAllowedCached.bind(void 0,e));return e.set(n,l),l},getDataset=function(e){return e.dataset},isHTMLButtonElement=function(e){return e.tagName==="BUTTON"},isHTMLInputElement=function(e){return e.tagName==="INPUT"},isRadioElement=function(e){return isHTMLInputElement(e)&&e.type==="radio"},notHiddenInput=function(e){return!((isHTMLInputElement(e)||isHTMLButtonElement(e))&&(e.type==="hidden"||e.disabled))},isAutoFocusAllowed=function(e){var n=e.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(n)},isGuard=function(e){var n;return!!(e&&(!((n=getDataset(e))===null||n===void 0)&&n.focusGuard))},isNotAGuard=function(e){return!isGuard(e)},isDefined=function(e){return!!e},tabSort=function(e,n){var i=Math.max(0,e.tabIndex),l=Math.max(0,n.tabIndex),T=i-l,g=e.index-n.index;if(T){if(!i)return 1;if(!l)return-1}return T||g},getTabIndex=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},orderByTabIndex=function(e,n,i){return toArray(e).map(function(l,T){var g=getTabIndex(l);return{node:l,index:T,tabIndex:i&&g===-1?(l.dataset||{}).focusGuard?0:-1:g}}).filter(function(l){return!n||l.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(e,n){return toArray((e.shadowRoot||e).children).reduce(function(i,l){return i.concat(l.matches(n?queryGuardTabbables:queryTabbables)?[l]:[],getFocusablesWithShadowDom(l))},[])},getFocusablesWithIFrame=function(e,n){var i;return e instanceof HTMLIFrameElement&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?getFocusables([e.contentDocument.body],n):[e]},getFocusables=function(e,n){return e.reduce(function(i,l){var T,g=getFocusablesWithShadowDom(l,n),b=(T=[]).concat.apply(T,g.map(function(w){return getFocusablesWithIFrame(w,n)}));return i.concat(b,l.parentNode?toArray(l.parentNode.querySelectorAll(queryTabbables)).filter(function(w){return w===l}):[])},[])},getParentAutofocusables=function(e){var n=e.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(n).map(function(i){return getFocusables([i])}).reduce(function(i,l){return i.concat(l)},[])},filterFocusable=function(e,n){return toArray(e).filter(function(i){return isVisibleCached(n,i)}).filter(function(i){return notHiddenInput(i)})},filterAutoFocusable=function(e,n){return n===void 0&&(n=new Map),toArray(e).filter(function(i){return isAutoFocusAllowedCached(n,i)})},getTabbableNodes=function(e,n,i){return orderByTabIndex(filterFocusable(getFocusables(e,i),n),!0,i)},getFocusableNodes=function(e,n){return orderByTabIndex(filterFocusable(getFocusables(e),n),!1)},parentAutofocusables=function(e,n){return filterFocusable(getParentAutofocusables(e),n)},contains=function(e,n){return e.shadowRoot?contains(e.shadowRoot,n):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,n)?!0:toArray(e.children).some(function(i){var l;if(i instanceof HTMLIFrameElement){var T=(l=i.contentDocument)===null||l===void 0?void 0:l.body;return T?contains(T,n):!1}return contains(i,n)})},filterNested=function(e){for(var n=new Set,i=e.length,l=0;l<i;l+=1)for(var T=l+1;T<i;T+=1){var g=e[l].compareDocumentPosition(e[T]);(g&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(T),(g&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(l)}return e.filter(function(b,w){return!n.has(w)})},getTopParent=function(e){return e.parentNode?getTopParent(e.parentNode):e},getAllAffectedNodes=function(e){var n=asArray(e);return n.filter(Boolean).reduce(function(i,l){var T=l.getAttribute(FOCUS_GROUP);return i.push.apply(i,T?filterNested(toArray(getTopParent(l).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(T,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[l]),i},[])},safeProbe=function(e){try{return e()}catch{return}},getActiveElement=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var n=e.activeElement;return n.shadowRoot?getActiveElement(n.shadowRoot):n instanceof HTMLIFrameElement&&safeProbe(function(){return n.contentWindow.document})?getActiveElement(n.contentWindow.document):n}},focusInFrame=function(e,n){return e===n},focusInsideIframe=function(e,n){return!!toArray(e.querySelectorAll("iframe")).some(function(i){return focusInFrame(i,n)})},focusInside=function(e,n){return n===void 0&&(n=getActiveElement(getFirst(e).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:getAllAffectedNodes(e).some(function(i){return contains(i,n)||focusInsideIframe(i,n)})},focusIsHidden=function(e){e===void 0&&(e=document);var n=getActiveElement(e);return n?toArray(e.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(i){return contains(i,n)}):!1},findSelectedRadio=function(e,n){return n.filter(isRadioElement).filter(function(i){return i.name===e.name}).filter(function(i){return i.checked})[0]||e},correctNode=function(e,n){return isRadioElement(e)&&e.name?findSelectedRadio(e,n):e},correctNodes=function(e){var n=new Set;return e.forEach(function(i){return n.add(correctNode(i,e))}),e.filter(function(i){return n.has(i)})},pickFirstFocus=function(e){return e[0]&&e.length>1?correctNode(e[0],e):e[0]},pickFocusable=function(e,n){return e.indexOf(correctNode(n,e))},NEW_FOCUS="NEW_FOCUS",newFocus=function(e,n,i,l,T){var g=e.length,b=e[0],w=e[g-1],d=isGuard(l);if(!(l&&e.indexOf(l)>=0)){var h=l!==void 0?i.indexOf(l):-1,c=T?i.indexOf(T):h,a=T?e.indexOf(T):-1;if(h===-1)return a!==-1?a:NEW_FOCUS;if(a===-1)return NEW_FOCUS;var o=h-c,u=i.indexOf(b),f=i.indexOf(w),m=correctNodes(i),x=l!==void 0?m.indexOf(l):-1,E=T?m.indexOf(T):x,S=m.filter(function(I){return I.tabIndex>=0}),R=l!==void 0?S.indexOf(l):-1,M=T?S.indexOf(T):R,k=R>=0&&M>=0?M-R:E-x;if(!o&&a>=0||n.length===0)return a;var v=pickFocusable(e,n[0]),F=pickFocusable(e,n[n.length-1]);if(h<=u&&d&&Math.abs(o)>1)return F;if(h>=f&&d&&Math.abs(o)>1)return v;if(o&&Math.abs(k)>1)return a;if(h<=u)return F;if(h>f)return v;if(o)return Math.abs(o)>1?a:(g+a+o)%g}},findAutoFocused=function(e){return function(n){var i,l=(i=getDataset(n))===null||i===void 0?void 0:i.autofocus;return n.autofocus||l!==void 0&&l!=="false"||e.indexOf(n)>=0}},pickAutofocus=function(e,n,i){var l=e.map(function(g){var b=g.node;return b}),T=filterAutoFocusable(l.filter(findAutoFocused(i)));return T&&T.length?pickFirstFocus(T):pickFirstFocus(filterAutoFocusable(n))},getParents=function(e,n){return n===void 0&&(n=[]),n.push(e),e.parentNode&&getParents(e.parentNode.host||e.parentNode,n),n},getCommonParent=function(e,n){for(var i=getParents(e),l=getParents(n),T=0;T<i.length;T+=1){var g=i[T];if(l.indexOf(g)>=0)return g}return!1},getTopCommonParent=function(e,n,i){var l=asArray(e),T=asArray(n),g=l[0],b=!1;return T.filter(Boolean).forEach(function(w){b=getCommonParent(b||w,w)||b,i.filter(Boolean).forEach(function(d){var h=getCommonParent(g,d);h&&(!b||contains(h,b)?b=h:b=getCommonParent(h,b))})}),b},allParentAutofocusables=function(e,n){return e.reduce(function(i,l){return i.concat(parentAutofocusables(l,n))},[])},reorderNodes=function(e,n){var i=new Map;return n.forEach(function(l){return i.set(l.node,l)}),e.map(function(l){return i.get(l)}).filter(isDefined)},focusSolver=function(e,n){var i=getActiveElement(asArray(e).length>0?document:getFirst(e).ownerDocument),l=getAllAffectedNodes(e).filter(isNotAGuard),T=getTopCommonParent(i||e,e,l),g=new Map,b=getFocusableNodes(l,g),w=b.filter(function(f){var m=f.node;return isNotAGuard(m)});if(w[0]){var d=getFocusableNodes([T],g).map(function(f){var m=f.node;return m}),h=reorderNodes(d,w),c=h.map(function(f){var m=f.node;return m}),a=h.filter(function(f){var m=f.tabIndex;return m>=0}).map(function(f){var m=f.node;return m}),o=newFocus(c,a,d,i,n);if(o===NEW_FOCUS){var u=pickAutofocus(b,a,allParentAutofocusables(l,g))||pickAutofocus(b,c,allParentAutofocusables(l,g));if(u)return{node:u};console.warn("focus-lock: cannot find any node to move focus into");return}return o===void 0?o:h[o]}},expandFocusableNodes=function(e){var n=getAllAffectedNodes(e).filter(isNotAGuard),i=getTopCommonParent(e,e,n),l=orderByTabIndex(getFocusables([i],!0),!0,!0),T=getFocusables(n,!1);return l.map(function(g){var b=g.node,w=g.index;return{node:b,index:w,lockItem:T.indexOf(b)>=0,guard:isGuard(b)}})},focusOn=function(e,n){e&&("focus"in e&&e.focus(n),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(e,n,i){i===void 0&&(i={});var l=focusSolver(e,n);if(!lockDisabled&&l){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(l.node,i.focusOptions),guardCount--}};function weakRef(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var n=e?new WeakRef(e):null;return function(){return n?.deref()||null}}var recordElementLocation=function(e){if(!e)return null;for(var n=[],i=e;i&&i!==document.body;)n.push({current:weakRef(i),parent:weakRef(i.parentElement),left:weakRef(i.previousElementSibling),right:weakRef(i.nextElementSibling)}),i=i.parentElement;return{element:weakRef(e),stack:n,ownerDocument:e.ownerDocument}},restoreFocusTo=function(e){var n,i,l,T,g;if(e)for(var b=e.stack,w=e.ownerDocument,d=new Map,h=0,c=b;h<c.length;h++){var a=c[h],o=(n=a.parent)===null||n===void 0?void 0:n.call(a);if(o&&w.contains(o)){for(var u=(i=a.left)===null||i===void 0?void 0:i.call(a),f=a.current(),m=o.contains(f)?f:void 0,x=(l=a.right)===null||l===void 0?void 0:l.call(a),E=getTabbableNodes([o],d),S=(g=(T=m??u?.nextElementSibling)!==null&&T!==void 0?T:x)!==null&&g!==void 0?g:u;S;){for(var R=0,M=E;R<M.length;R++){var k=M[R];if(S?.contains(k.node))return k.node}S=S.nextElementSibling}if(E.length)return E[0].node}}},captureFocusRestore=function(e){var n=recordElementLocation(e);return function(){return restoreFocusTo(n)}},getRelativeFocusable=function(e,n,i){if(!e||!n)return console.error("no element or scope given"),{};var l=asArray(n);if(l.every(function(b){return!contains(b,e)}))return console.error("Active element is not contained in the scope"),{};var T=i?getTabbableNodes(l,new Map):getFocusableNodes(l,new Map),g=T.findIndex(function(b){var w=b.node;return w===e});if(g!==-1)return{prev:T[g-1],next:T[g+1],first:T[0],last:T[T.length-1]}},getBoundary=function(e,n){var i=n?getTabbableNodes(asArray(e),new Map):getFocusableNodes(asArray(e),new Map);return{first:i[0],last:i[i.length-1]}},defaultOptions=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},moveFocus=function(e,n,i){n===void 0&&(n={});var l=defaultOptions(n),T=getRelativeFocusable(e,l.scope,l.onlyTabbable);if(T){var g=i(T,l.cycle);g&&focusOn(g.node,l.focusOptions)}},focusNextElement=function(e,n){n===void 0&&(n={}),moveFocus(e,n,function(i,l){var T=i.next,g=i.first;return T||l&&g})},focusPrevElement=function(e,n){n===void 0&&(n={}),moveFocus(e,n,function(i,l){var T=i.prev,g=i.last;return T||l&&g})},pickBoundary=function(e,n,i){var l,T=getBoundary(e,(l=n.onlyTabbable)!==null&&l!==void 0?l:!0),g=T[i];g&&focusOn(g.node,n.focusOptions)},focusFirstElement=function(e,n){n===void 0&&(n={}),pickBoundary(e,n,"first")},focusLastElement=function(e,n){n===void 0&&(n={}),pickBoundary(e,n,"last")};function deferAction(e){setTimeout(e,1)}var extractRef$1=function(n){return n&&"current"in n?n.current:n},focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(n){return(lastActiveTrap.whiteList||defaultWhitelist)(n)},recordPortal=function(n,i){lastPortaledElement={observerNode:n,portaledElement:i}},focusIsPortaledPair=function(n){return lastPortaledElement&&lastPortaledElement.portaledElement===n};function autoGuard(e,n,i,l){var T=null,g=e;do{var b=l[g];if(b.guard)b.node.dataset.focusAutoGuard&&(T=b);else if(b.lockItem){if(g!==e)return;T=null}else break}while((g+=i)!==n);T&&(T.node.tabIndex=0)}var focusWasOutside=function(n){return n?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function e(n,i,l){return i&&(i.host===n&&(!i.activeElement||l.contains(i.activeElement))||i.parentNode&&e(n,i.parentNode,l))},withinHost=function(n,i){return i.some(function(l){return checkInHost(n,l,l)})},getNodeFocusables=function(n){return getFocusableNodes(n,new Map)},isNotFocusable=function(n){return!getNodeFocusables([n.parentNode]).some(function(i){return i.node===n})},activateTrap=function(){var n=!1;if(lastActiveTrap){var i=lastActiveTrap,l=i.observed,T=i.persistentFocus,g=i.autoFocus,b=i.shards,w=i.crossFrame,d=i.focusOptions,h=i.noFocusGuards,c=l||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&lastActiveFocus!==document.body&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){var a=tryRestoreFocus();a&&a.focus()}var o=document&&document.activeElement;if(c){var u=[c].concat(b.map(extractRef$1).filter(Boolean)),f=function(){if(!focusWasOutside(w)||!h||!lastActiveFocus||windowFocused)return!1;var R=getNodeFocusables(u),M=R.findIndex(function(k){var v=k.node;return v===lastActiveFocus});return M===0||M===R.length-1};if((!o||focusWhitelisted(o))&&(T||f()||!isFreeFocus()||!lastActiveFocus&&g)&&(c&&!(focusInside(u)||o&&withinHost(o,u)||focusIsPortaledPair(o))&&(document&&!lastActiveFocus&&o&&!g?(o.blur&&o.blur(),document.body.focus()):(n=moveFocusInside(u,lastActiveFocus,{focusOptions:d}),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement,lastActiveFocus!==document.body&&(tryRestoreFocus=captureFocusRestore(lastActiveFocus)),focusWasOutsideWindow=!1),document&&o!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var m=document&&document.activeElement,x=expandFocusableNodes(u),E=x.map(function(S){var R=S.node;return R}).indexOf(m);E>-1&&(x.filter(function(S){var R=S.guard,M=S.node;return R&&M.dataset.focusAutoGuard}).forEach(function(S){var R=S.node;return R.removeAttribute("tabIndex")}),autoGuard(E,x.length,1,x),autoGuard(E,-1,-1,x))}}}return n},onTrap=function(n){activateTrap()&&n&&(n.stopPropagation(),n.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(n){var i=n.target,l=n.currentTarget;l.contains(i)||recordPortal(l,i)},FocusWatcher=function(){return null},onWindowFocus=function(){windowFocused=!0},onWindowBlur=function(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(e){return e.filter(function(n){var i=n.disabled;return!i})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(e){var n=e.slice(-1)[0];n&&!lastActiveTrap&&attachHandler();var i=lastActiveTrap,l=i&&n&&n.id===i.id;lastActiveTrap=n,i&&!l&&(i.onDeactivation(),e.filter(function(T){var g=T.id;return g===i.id}).length||i.returnFocus(!n)),n?(lastActiveFocus=null,(!l||i.observed!==n.observed)&&n.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(e){return e(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(n,i){return React.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:i},n))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=e=>{const{initialFocusRef:n,finalFocusRef:i,contentRef:l,restoreFocus:T,children:g,isDisabled:b,autoFocus:w,persistentFocus:d,lockFocusAcrossFrames:h}=e,c=reactExports.useCallback(()=>{n?.current?n.current.focus():l?.current&&getAllFocusable(l.current).length===0&&requestAnimationFrame(()=>{l.current?.focus()})},[n,l]),a=reactExports.useCallback(()=>{i?.current?.focus()},[i]),o=T&&!i;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:h,persistentFocus:d,autoFocus:w,disabled:b,onActivation:c,onDeactivation:a,returnFocus:o,children:g})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function(n,i){const{templateAreas:l,gap:T,rowGap:g,columnGap:b,column:w,row:d,autoFlow:h,autoRows:c,templateRows:a,autoColumns:o,templateColumns:u,...f}=n,m={display:"grid",gridTemplateAreas:l,gridGap:T,gridRowGap:g,gridColumnGap:b,gridAutoColumns:o,gridColumn:w,gridRow:d,gridAutoFlow:h,gridAutoRows:c,gridTemplateRows:a,gridTemplateColumns:u};return jsxRuntimeExports.jsx(chakra.div,{ref:i,__css:m,...f})});Grid.displayName="Grid";function spanFn(e){return mapResponsive(e,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const GridItem=forwardRef(function(n,i){const{area:l,colSpan:T,colStart:g,colEnd:b,rowEnd:w,rowSpan:d,rowStart:h,...c}=n,a=compact({gridArea:l,gridColumn:spanFn(T),gridRow:spanFn(d),gridColumnStart:g,gridColumnEnd:b,gridRowStart:h,gridRowEnd:w});return jsxRuntimeExports.jsx(chakra.div,{ref:i,__css:a,...c})});GridItem.displayName="GridItem";const SimpleGrid=forwardRef(function(n,i){const{columns:l,spacingX:T,spacingY:g,spacing:b,minChildWidth:w,...d}=n,h=useTheme(),c=w?widthToColumns(w,h):countToColumns(l);return jsxRuntimeExports.jsx(Grid,{ref:i,gap:b,columnGap:T,rowGap:g,templateColumns:c,...d})});SimpleGrid.displayName="SimpleGrid";function toPx(e){return typeof e=="number"?`${e}px`:e}function widthToColumns(e,n){return mapResponsive(e,i=>{const l=getToken("sizes",i,toPx(i))(n);return i===null?null:`repeat(auto-fit, minmax(${l}, 1fr))`})}function countToColumns(e){return mapResponsive(e,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function createIcon(e){const{viewBox:n="0 0 24 24",d:i,displayName:l,defaultProps:T={}}=e,g=reactExports.Children.toArray(e.path),b=forwardRef((w,d)=>jsxRuntimeExports.jsx(Icon,{ref:d,viewBox:n,...T,...w,children:g.length?g:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:i})}));return b.displayName=l,b}const[ListStylesProvider,useListStyles]=createContext$1({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(n,i){const l=useMultiStyleConfig("List",n),{children:T,styleType:g="none",stylePosition:b,spacing:w,...d}=omitThemingProps(n),h=getValidChildren(T),a=w?{"& > *:not(style) ~ *:not(style)":{mt:w}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:l,children:jsxRuntimeExports.jsx(chakra.ul,{ref:i,listStyleType:g,listStylePosition:b,role:"list",__css:{...l.container,...a},...d,children:h})})});List.displayName="List";const OrderedList=forwardRef((e,n)=>{const{as:i,...l}=e;return jsxRuntimeExports.jsx(List,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...l})});OrderedList.displayName="OrderedList";const UnorderedList=forwardRef(function(n,i){const{as:l,...T}=n;return jsxRuntimeExports.jsx(List,{ref:i,as:"ul",styleType:"initial",marginStart:"1em",...T})});UnorderedList.displayName="UnorderedList";const ListItem=forwardRef(function(n,i){const l=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:i,...n,__css:l.item})});ListItem.displayName="ListItem";const ListIcon=forwardRef(function(n,i){const l=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:i,role:"presentation",...n,__css:l.icon})});ListIcon.displayName="ListIcon";var getDefaultParent=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},correctTargets=function(e,n){return n.map(function(i){if(e.contains(i))return i;var l=unwrapHost(i);return l&&e.contains(l)?l:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},applyAttributeToOthers=function(e,n,i,l){var T=correctTargets(n,Array.isArray(e)?e:[e]);markerMap[i]||(markerMap[i]=new WeakMap);var g=markerMap[i],b=[],w=new Set,d=new Set(T),h=function(a){!a||w.has(a)||(w.add(a),h(a.parentNode))};T.forEach(h);var c=function(a){!a||d.has(a)||Array.prototype.forEach.call(a.children,function(o){if(w.has(o))c(o);else try{var u=o.getAttribute(l),f=u!==null&&u!=="false",m=(counterMap.get(o)||0)+1,x=(g.get(o)||0)+1;counterMap.set(o,m),g.set(o,x),b.push(o),m===1&&f&&uncontrolledNodes.set(o,!0),x===1&&o.setAttribute(i,"true"),f||o.setAttribute(l,"true")}catch(E){console.error("aria-hidden: cannot operate on ",o,E)}})};return c(n),w.clear(),lockCount++,function(){b.forEach(function(a){var o=counterMap.get(a)-1,u=g.get(a)-1;counterMap.set(a,o),g.set(a,u),o||(uncontrolledNodes.has(a)||a.removeAttribute(l),uncontrolledNodes.delete(a)),u||a.removeAttribute(i)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(e,n,i){i===void 0&&(i="data-aria-hidden");var l=Array.from(Array.isArray(e)?e:[e]),T=getDefaultParent(e);return T?(l.push.apply(l,Array.from(T.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(l,T,i,"aria-hidden")):function(){return null}},__defProp=Object.defineProperty,__defNormalProp=(e,n,i)=>n in e?__defProp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,__publicField=(e,n,i)=>(__defNormalProp(e,n+"",i),i);class ModalManager{constructor(){__publicField(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const i=Array.from(this.modals)[this.modals.size-1];return n===i}}const modalManager=new ModalManager;function useModalManager(e,n){const[i,l]=reactExports.useState(0);return reactExports.useEffect(()=>{const T=e.current;if(T){if(n){const g=modalManager.add(T);l(g)}return()=>{modalManager.remove(T),l(0)}}},[n,e]),i}function useModal(e){const{isOpen:n,onClose:i,id:l,closeOnOverlayClick:T=!0,closeOnEsc:g=!0,useInert:b=!0,onOverlayClick:w,onEsc:d}=e,h=reactExports.useRef(null),c=reactExports.useRef(null),[a,o,u]=useIds(l,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(h,n&&b);const f=useModalManager(h,n),m=reactExports.useRef(null),x=reactExports.useCallback(A=>{m.current=A.target},[]),E=reactExports.useCallback(A=>{A.key==="Escape"&&(A.stopPropagation(),g&&i?.(),d?.())},[g,i,d]),[S,R]=reactExports.useState(!1),[M,k]=reactExports.useState(!1),v=reactExports.useCallback((A={},$=null)=>({role:"dialog",...A,ref:mergeRefs($,h),id:a,tabIndex:-1,"aria-modal":!0,"aria-labelledby":S?o:void 0,"aria-describedby":M?u:void 0,onClick:callAllHandlers(A.onClick,P=>P.stopPropagation())}),[u,M,a,o,S]),F=reactExports.useCallback(A=>{A.stopPropagation(),m.current===A.target&&modalManager.isTopModal(h.current)&&(T&&i?.(),w?.())},[i,T,w]),I=reactExports.useCallback((A={},$=null)=>({...A,ref:mergeRefs($,c),onClick:callAllHandlers(A.onClick,F),onKeyDown:callAllHandlers(A.onKeyDown,E),onMouseDown:callAllHandlers(A.onMouseDown,x)}),[E,x,F]);return{isOpen:n,onClose:i,headerId:o,bodyId:u,setBodyMounted:k,setHeaderMounted:R,dialogRef:h,overlayRef:c,getDialogProps:v,getDialogContainerProps:I,index:f}}function useAriaHidden(e,n){const i=e.current;reactExports.useEffect(()=>{if(!(!e.current||!n))return hideOthers(e.current)},[n,e,i])}function useIds(e,...n){const i=reactExports.useId(),l=e||i;return reactExports.useMemo(()=>n.map(T=>`${T}-${l}`),[l,n])}const[ModalStylesProvider,useModalStyles]=createContext$1({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$1({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=e=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...e,lockFocusAcrossFrames:e.lockFocusAcrossFrames??!0},{portalProps:i,children:l,autoFocus:T,trapFocus:g,initialFocusRef:b,finalFocusRef:w,returnFocusOnClose:d,blockScrollOnMount:h,allowPinchZoom:c,preserveScrollBarGap:a,motionPreset:o,lockFocusAcrossFrames:u,animatePresenceProps:f,onCloseComplete:m}=n,x=useMultiStyleConfig("Modal",n),S={...useModal(n),autoFocus:T,trapFocus:g,initialFocusRef:b,finalFocusRef:w,returnFocusOnClose:d,blockScrollOnMount:h,allowPinchZoom:c,preserveScrollBarGap:a,motionPreset:o,lockFocusAcrossFrames:u};return jsxRuntimeExports.jsx(ModalContextProvider,{value:S,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:x,children:jsxRuntimeExports.jsx(AnimatePresence,{...f,onExitComplete:m,children:S.isOpen&&jsxRuntimeExports.jsx(Portal,{...i,children:l})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,n){var i=reactExports.useRef(null),l=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),T=l[0],g=l[1],b=e.forwardProps,w=e.children,d=e.className,h=e.removeScrollBar,c=e.enabled,a=e.shards,o=e.sideCar,u=e.noRelative,f=e.noIsolation,m=e.inert,x=e.allowPinchZoom,E=e.as,S=E===void 0?"div":E,R=e.gapMode,M=__rest(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=o,v=useMergeRefs([i,n]),F=__assign(__assign({},M),T);return reactExports.createElement(reactExports.Fragment,null,c&&reactExports.createElement(k,{sideCar:effectCar,removeScrollBar:h,shards:a,noRelative:u,noIsolation:f,inert:m,setCallbacks:g,allowPinchZoom:!!x,lockRef:i,gapMode:R}),b?reactExports.cloneElement(reactExports.Children.only(w),__assign(__assign({},F),{ref:v})):reactExports.createElement(S,__assign({},F,{className:d,ref:v}),w))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=getNonce();return n&&e.setAttribute("nonce",n),e}function injectStyles(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function insertStyleTag(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var stylesheetSingleton=function(){var e=0,n=null;return{add:function(i){e==0&&(n=makeStyleTag())&&(injectStyles(n,i),insertStyleTag(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(n,i){reactExports.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&i])}},styleSingleton=function(){var e=styleHookSingleton(),n=function(i){var l=i.styles,T=i.dynamic;return e(l,T),null};return n},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(e){return parseInt(e||"",10)||0},getOffset=function(e){var n=window.getComputedStyle(document.body),i=n[e==="padding"?"paddingLeft":"marginLeft"],l=n[e==="padding"?"paddingTop":"marginTop"],T=n[e==="padding"?"paddingRight":"marginRight"];return[parse$1(i),parse$1(l),parse$1(T)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var n=getOffset(e),i=document.documentElement.clientWidth,l=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,l-i+n[2]-n[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,n,i,l){var T=e.left,g=e.top,b=e.right,w=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(w,"px ").concat(l,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(l,";"),i==="margin"&&`
    padding-left: `.concat(T,`px;
    padding-top: `).concat(g,`px;
    padding-right: `).concat(b,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(w,"px ").concat(l,`;
    `),i==="padding"&&"padding-right: ".concat(w,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(w,"px ").concat(l,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(w,"px ").concat(l,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(w,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var n=e.noRelative,i=e.noImportant,l=e.gapMode,T=l===void 0?"margin":l;useLockAttribute();var g=reactExports.useMemo(function(){return getGapWidth(T)},[T]);return reactExports.createElement(Style,{styles:getStyles(g,!n,T,i?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,n){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[n]!=="hidden"&&!(i.overflowY===i.overflowX&&!alwaysContainsScroll(e)&&i[n]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,n){var i=n.ownerDocument,l=n;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var T=elementCouldBeScrolled(e,l);if(T){var g=getScrollVariables(e,l),b=g[1],w=g[2];if(b>w)return!0}l=l.parentNode}while(l&&l!==i.body);return!1},getVScrollVariables=function(e){var n=e.scrollTop,i=e.scrollHeight,l=e.clientHeight;return[n,i,l]},getHScrollVariables=function(e){var n=e.scrollLeft,i=e.scrollWidth,l=e.clientWidth;return[n,i,l]},elementCouldBeScrolled=function(e,n){return e==="v"?elementCouldBeVScrolled(n):elementCouldBeHScrolled(n)},getScrollVariables=function(e,n){return e==="v"?getVScrollVariables(n):getHScrollVariables(n)},getDirectionFactor=function(e,n){return e==="h"&&n==="rtl"?-1:1},handleScroll=function(e,n,i,l,T){var g=getDirectionFactor(e,window.getComputedStyle(n).direction),b=g*l,w=i.target,d=n.contains(w),h=!1,c=b>0,a=0,o=0;do{var u=getScrollVariables(e,w),f=u[0],m=u[1],x=u[2],E=m-x-g*f;(f||E)&&elementCouldBeScrolled(e,w)&&(a+=E,o+=f),w=w.parentNode.host||w.parentNode}while(!d&&w!==document.body||d&&(n.contains(w)||n===w));return(c&&Math.abs(a)<1||!c&&Math.abs(o)<1)&&(h=!0),h},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,n){return e[0]===n[0]&&e[1]===n[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(e){var n=reactExports.useRef([]),i=reactExports.useRef([0,0]),l=reactExports.useRef(),T=reactExports.useState(idCounter++)[0],g=reactExports.useState(styleSingleton)[0],b=reactExports.useRef(e);reactExports.useEffect(function(){b.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(T));var m=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(T))}),function(){document.body.classList.remove("block-interactivity-".concat(T)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(T))})}}},[e.inert,e.lockRef.current,e.shards]);var w=reactExports.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!b.current.allowPinchZoom;var E=getTouchXY(m),S=i.current,R="deltaX"in m?m.deltaX:S[0]-E[0],M="deltaY"in m?m.deltaY:S[1]-E[1],k,v=m.target,F=Math.abs(R)>Math.abs(M)?"h":"v";if("touches"in m&&F==="h"&&v.type==="range")return!1;var I=locationCouldBeScrolled(F,v);if(!I)return!0;if(I?k=F:(k=F==="v"?"h":"v",I=locationCouldBeScrolled(F,v)),!I)return!1;if(!l.current&&"changedTouches"in m&&(R||M)&&(l.current=k),!k)return!0;var A=l.current||k;return handleScroll(A,x,m,A==="h"?R:M)},[]),d=reactExports.useCallback(function(m){var x=m;if(!(!lockStack.length||lockStack[lockStack.length-1]!==g)){var E="deltaY"in x?getDeltaXY(x):getTouchXY(x),S=n.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&deltaCompare(k.delta,E)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var R=(b.current.shards||[]).map(extractRef).filter(Boolean).filter(function(k){return k.contains(x.target)}),M=R.length>0?w(x,R[0]):!b.current.noIsolation;M&&x.cancelable&&x.preventDefault()}}},[]),h=reactExports.useCallback(function(m,x,E,S){var R={name:m,delta:x,target:E,should:S,shadowParent:getOutermostShadowParent(E)};n.current.push(R),setTimeout(function(){n.current=n.current.filter(function(M){return M!==R})},1)},[]),c=reactExports.useCallback(function(m){i.current=getTouchXY(m),l.current=void 0},[]),a=reactExports.useCallback(function(m){h(m.type,getDeltaXY(m),m.target,w(m,e.lockRef.current))},[]),o=reactExports.useCallback(function(m){h(m.type,getTouchXY(m),m.target,w(m,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(g),e.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:o}),document.addEventListener("wheel",d,nonPassive),document.addEventListener("touchmove",d,nonPassive),document.addEventListener("touchstart",c,nonPassive),function(){lockStack=lockStack.filter(function(m){return m!==g}),document.removeEventListener("wheel",d,nonPassive),document.removeEventListener("touchmove",d,nonPassive),document.removeEventListener("touchstart",c,nonPassive)}},[]);var u=e.removeScrollBar,f=e.inert;return reactExports.createElement(reactExports.Fragment,null,f?reactExports.createElement(g,{styles:generateStyle(T)}):null,u?reactExports.createElement(RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,n){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:n,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(e){const{autoFocus:n,trapFocus:i,dialogRef:l,initialFocusRef:T,blockScrollOnMount:g,allowPinchZoom:b,finalFocusRef:w,returnFocusOnClose:d,preserveScrollBarGap:h,lockFocusAcrossFrames:c,isOpen:a}=useModalContext(),[o,u]=usePresence();reactExports.useEffect(()=>{!o&&u&&setTimeout(u)},[o,u]);const f=useModalManager(l,a);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:n,isDisabled:!i,initialFocusRef:T,finalFocusRef:w,restoreFocus:d,contentRef:l,lockFocusAcrossFrames:c,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!h,allowPinchZoom:b,enabled:f===1&&g,forwardProps:!0,children:e.children})})}const variants$2={initial:({offsetX:e,offsetY:n,transition:i,transitionEnd:l,delay:T})=>({opacity:0,x:e,y:n,transition:i?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,T),transitionEnd:l?.exit}),enter:({transition:e,transitionEnd:n,delay:i})=>({opacity:1,x:0,y:0,transition:e?.enter??withDelay.enter(TRANSITION_DEFAULTS.enter,i),transitionEnd:n?.enter}),exit:({offsetY:e,offsetX:n,transition:i,transitionEnd:l,reverse:T,delay:g})=>{const b={x:n,y:e};return{opacity:0,transition:i?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,g),...T?{...b,transitionEnd:l?.exit}:{transitionEnd:{...b,...l?.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$2},SlideFade=reactExports.forwardRef(function(n,i){const{unmountOnExit:l,in:T,reverse:g=!0,className:b,offsetX:w=0,offsetY:d=8,transition:h,transitionEnd:c,delay:a,animatePresenceProps:o,...u}=n,f=l?T&&l:!0,m=T||l?"enter":"exit",x={offsetX:w,offsetY:d,reverse:g,transition:h,transitionEnd:c,delay:a};return jsxRuntimeExports.jsx(AnimatePresence,{...o,custom:x,children:f&&jsxRuntimeExports.jsx(motion.div,{ref:i,className:cx("chakra-offset-slide",b),custom:x,...slideFadeConfig,animate:m,...u})})});SlideFade.displayName="SlideFade";const variants$1={exit:({reverse:e,initialScale:n,transition:i,transitionEnd:l,delay:T})=>({opacity:0,...e?{scale:n,transitionEnd:l?.exit}:{transitionEnd:{scale:n,...l?.exit}},transition:i?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,T)}),enter:({transitionEnd:e,transition:n,delay:i})=>({opacity:1,scale:1,transition:n?.enter??withDelay.enter(TRANSITION_DEFAULTS.enter,i),transitionEnd:e?.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function(n,i){const{unmountOnExit:l,in:T,reverse:g=!0,initialScale:b=.95,className:w,transition:d,transitionEnd:h,delay:c,animatePresenceProps:a,...o}=n,u=l?T&&l:!0,f=T||l?"enter":"exit",m={initialScale:b,reverse:g,transition:d,transitionEnd:h,delay:c};return jsxRuntimeExports.jsx(AnimatePresence,{...a,custom:m,children:u&&jsxRuntimeExports.jsx(motion.div,{ref:i,className:cx("chakra-offset-slide",w),...scaleFadeConfig,animate:f,custom:m,...o})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=e=>transitions[e||"none"],ModalTransition=reactExports.forwardRef((e,n)=>{const{preset:i,motionProps:l=getMotionProps(i),...T}=e;return jsxRuntimeExports.jsx(MotionSection,{ref:n,...l,...T})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((e,n)=>{const{className:i,children:l,containerProps:T,motionProps:g,...b}=e,{getDialogProps:w,getDialogContainerProps:d}=useModalContext(),h=w(b,n),c=d(T),a=cx("chakra-modal__content",i),o=useModalStyles(),u={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...o.dialog},f={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...o.dialogContainer},{motionPreset:m}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...c,className:"chakra-modal__content-container",tabIndex:-1,__css:f,children:jsxRuntimeExports.jsx(ModalTransition,{preset:m,motionProps:g,className:a,...h,__css:u,children:l})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((e,n)=>{const{className:i,...l}=e,{bodyId:T,setBodyMounted:g}=useModalContext();reactExports.useEffect(()=>(g(!0),()=>g(!1)),[g]);const b=cx("chakra-modal__body",i),w=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:n,className:b,id:T,...l,__css:w.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((e,n)=>{const{onClick:i,className:l,...T}=e,{onClose:g}=useModalContext(),b=cx("chakra-modal__close-btn",l),w=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:n,__css:w.closeButton,className:b,onClick:callAllHandlers(i,d=>{d.stopPropagation(),g()}),...T})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((e,n)=>{const{className:i,...l}=e,T=cx("chakra-modal__footer",i),g=useModalStyles(),b={display:"flex",alignItems:"center",justifyContent:"flex-end",...g.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:n,...l,__css:b,className:T})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((e,n)=>{const{className:i,...l}=e,{headerId:T,setHeaderMounted:g}=useModalContext();reactExports.useEffect(()=>(g(!0),()=>g(!1)),[g]);const b=cx("chakra-modal__header",i),w=useModalStyles(),d={flex:0,...w.header};return jsxRuntimeExports.jsx(chakra.header,{ref:n,className:b,id:T,...l,__css:d})});ModalHeader.displayName="ModalHeader";const variants={enter:({transition:e,transitionEnd:n,delay:i}={})=>({opacity:1,transition:e?.enter??withDelay.enter(TRANSITION_DEFAULTS.enter,i),transitionEnd:n?.enter}),exit:({transition:e,transitionEnd:n,delay:i}={})=>({opacity:0,transition:e?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,i),transitionEnd:n?.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants},Fade=reactExports.forwardRef(function(n,i){const{unmountOnExit:l,in:T,className:g,transition:b,transitionEnd:w,delay:d,animatePresenceProps:h,...c}=n,a=T||l?"enter":"exit",o=l?T&&l:!0,u={transition:b,transitionEnd:w,delay:d};return jsxRuntimeExports.jsx(AnimatePresence,{...h,custom:u,children:o&&jsxRuntimeExports.jsx(motion.div,{ref:i,className:cx("chakra-fade",g),custom:u,...fadeConfig,animate:a,...c})})});Fade.displayName="Fade";const MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((e,n)=>{const{className:i,transition:l,motionProps:T,...g}=e,b=cx("chakra-modal__overlay",i),d={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:h}=useModalContext(),a=T||(h==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv,{...a,__css:d,ref:n,className:b,...g})});ModalOverlay.displayName="ModalOverlay";const SelectField=forwardRef(function(n,i){const{children:l,placeholder:T,className:g,...b}=n;return jsxRuntimeExports.jsxs(chakra.select,{...b,ref:i,className:cx("chakra-select",g),children:[T&&jsxRuntimeExports.jsx("option",{value:"",children:T}),l]})});SelectField.displayName="SelectField";const Select=forwardRef((e,n)=>{const i=useMultiStyleConfig("Select",e),{rootProps:l,placeholder:T,icon:g,color:b,height:w,h:d,minH:h,minHeight:c,iconColor:a,iconSize:o,...u}=omitThemingProps(e),[f,m]=split$1(u,layoutPropNames),x=useFormControl(m),E={width:"100%",height:"fit-content",position:"relative",color:b},S={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...i.field?._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:E,...f,...l,children:[jsxRuntimeExports.jsx(SelectField,{ref:n,height:d??w,minH:h??c,placeholder:T,...x,__css:S,children:e.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(x.disabled),...(a||b)&&{color:a||b},__css:i.icon,...o&&{fontSize:o},children:g})]})});Select.displayName="Select";const DefaultIcon=e=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=e=>{const{children:n=jsxRuntimeExports.jsx(DefaultIcon,{}),...i}=e,l=reactExports.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...i,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(n)?l:null})};SelectIcon.displayName="SelectIcon";const Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";const StackItem=e=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});StackItem.displayName="StackItem";function getDividerStyles(e){const{spacing:n,direction:i}=e,l={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(i,T=>l[T])}}const Stack=forwardRef((e,n)=>{const{isInline:i,direction:l,align:T,justify:g,spacing:b="0.5rem",wrap:w,children:d,divider:h,className:c,shouldWrapChildren:a,...o}=e,u=i?"row":l??"column",f=reactExports.useMemo(()=>getDividerStyles({spacing:b,direction:u}),[b,u]),m=!!h,x=!a&&!m,E=reactExports.useMemo(()=>{const R=getValidChildren(d);return x?R:R.map((M,k)=>{const v=typeof M.key<"u"?M.key:k,F=k+1===R.length,A=a?jsxRuntimeExports.jsx(StackItem,{children:M},v):M;if(!m)return A;const $=reactExports.cloneElement(h,{__css:f}),P=F?null:$;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[A,P]},v)})},[h,f,m,x,a,d]),S=cx("chakra-stack",c);return jsxRuntimeExports.jsx(chakra.div,{ref:n,display:"flex",alignItems:T,justifyContent:g,flexDirection:u,flexWrap:w,gap:m?void 0:b,className:S,...o,children:E})});Stack.displayName="Stack";const HStack=forwardRef((e,n)=>jsxRuntimeExports.jsx(Stack,{align:"center",...e,direction:"row",ref:n}));HStack.displayName="HStack";const StackDivider=e=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__divider",...e,__css:{...e.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";const Heading=forwardRef(function(n,i){const l=useStyleConfig("Heading",n),{className:T,...g}=omitThemingProps(n);return jsxRuntimeExports.jsx(chakra.h2,{ref:i,className:cx("chakra-heading",n.className),...g,__css:l})});Heading.displayName="Heading";const Text=forwardRef(function(n,i){const l=useStyleConfig("Text",n),{className:T,align:g,decoration:b,casing:w,...d}=omitThemingProps(n),h=compact({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:i,className:cx("chakra-text",n.className),...h,...d,__css:l})});Text.displayName="Text";var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(e){function n(H,Q){var X=H.length;H.push(Q);e:for(;0<X;){var ee=X-1>>>1,ie=H[ee];if(0<T(ie,Q))H[ee]=Q,H[X]=ie,X=ee;else break e}}function i(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var Q=H[0],X=H.pop();if(X!==Q){H[0]=X;e:for(var ee=0,ie=H.length,ne=ie>>>1;ee<ne;){var ae=2*(ee+1)-1,re=H[ae],fe=ae+1,pe=H[fe];if(0>T(re,X))fe<ie&&0>T(pe,re)?(H[ee]=pe,H[fe]=X,ee=fe):(H[ee]=re,H[ae]=X,ee=ae);else if(fe<ie&&0>T(pe,X))H[ee]=pe,H[fe]=X,ee=fe;else break e}}return Q}function T(H,Q){var X=H.sortIndex-Q.sortIndex;return X!==0?X:H.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var b=Date,w=b.now();e.unstable_now=function(){return b.now()-w}}var d=[],h=[],c=1,a=null,o=3,u=!1,f=!1,m=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Q=i(h);Q!==null;){if(Q.callback===null)l(h);else if(Q.startTime<=H)l(h),Q.sortIndex=Q.expirationTime,n(d,Q);else break;Q=i(h)}}function k(H){if(m=!1,M(H),!f)if(i(d)!==null)f=!0,v||(v=!0,B());else{var Q=i(h);Q!==null&&j(k,Q.startTime-H)}}var v=!1,F=-1,I=5,A=-1;function $(){return x?!0:!(e.unstable_now()-A<I)}function P(){if(x=!1,v){var H=e.unstable_now();A=H;var Q=!0;try{e:{f=!1,m&&(m=!1,S(F),F=-1),u=!0;var X=o;try{t:{for(M(H),a=i(d);a!==null&&!(a.expirationTime>H&&$());){var ee=a.callback;if(typeof ee=="function"){a.callback=null,o=a.priorityLevel;var ie=ee(a.expirationTime<=H);if(H=e.unstable_now(),typeof ie=="function"){a.callback=ie,M(H),Q=!0;break t}a===i(d)&&l(d),M(H)}else l(d);a=i(d)}if(a!==null)Q=!0;else{var ne=i(h);ne!==null&&j(k,ne.startTime-H),Q=!1}}break e}finally{a=null,o=X,u=!1}Q=void 0}}finally{Q?B():v=!1}}}var B;if(typeof R=="function")B=function(){R(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=P,B=function(){W.postMessage(null)}}else B=function(){E(P,0)};function j(H,Q){F=E(function(){H(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_next=function(H){switch(o){case 1:case 2:case 3:var Q=3;break;default:Q=o}var X=o;o=Q;try{return H()}finally{o=X}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=o;o=H;try{return Q()}finally{o=X}},e.unstable_scheduleCallback=function(H,Q,X){var ee=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=X+ie,H={id:c++,callback:Q,priorityLevel:H,startTime:X,expirationTime:ie,sortIndex:-1},X>ee?(H.sortIndex=X,n(h,H),i(d)===null&&H===i(h)&&(m?(S(F),F=-1):m=!0,j(k,X-ee))):(H.sortIndex=ie,n(d,H),f||u||(f=!0,v||(v=!0,B()))),H},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(H){var Q=o;return function(){var X=o;o=Q;try{return H.apply(this,arguments)}finally{o=X}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var e=requireScheduler(),n=requireReact(),i=requireReactDom();function l(s){var p="https://react.dev/errors/"+s;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+s+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function g(s){var p=s,_=s;if(s.alternate)for(;p.return;)p=p.return;else{s=p;do p=s,(p.flags&4098)!==0&&(_=p.return),s=p.return;while(s)}return p.tag===3?_:null}function b(s){if(s.tag===13){var p=s.memoizedState;if(p===null&&(s=s.alternate,s!==null&&(p=s.memoizedState)),p!==null)return p.dehydrated}return null}function w(s){if(s.tag===31){var p=s.memoizedState;if(p===null&&(s=s.alternate,s!==null&&(p=s.memoizedState)),p!==null)return p.dehydrated}return null}function d(s){if(g(s)!==s)throw Error(l(188))}function h(s){var p=s.alternate;if(!p){if(p=g(s),p===null)throw Error(l(188));return p!==s?null:s}for(var _=s,D=p;;){var G=_.return;if(G===null)break;var Y=G.alternate;if(Y===null){if(D=G.return,D!==null){_=D;continue}break}if(G.child===Y.child){for(Y=G.child;Y;){if(Y===_)return d(G),s;if(Y===D)return d(G),p;Y=Y.sibling}throw Error(l(188))}if(_.return!==D.return)_=G,D=Y;else{for(var se=!1,de=G.child;de;){if(de===_){se=!0,_=G,D=Y;break}if(de===D){se=!0,D=G,_=Y;break}de=de.sibling}if(!se){for(de=Y.child;de;){if(de===_){se=!0,_=Y,D=G;break}if(de===D){se=!0,D=Y,_=G;break}de=de.sibling}if(!se)throw Error(l(189))}}if(_.alternate!==D)throw Error(l(190))}if(_.tag!==3)throw Error(l(188));return _.stateNode.current===_?s:p}function c(s){var p=s.tag;if(p===5||p===26||p===27||p===6)return s;for(s=s.child;s!==null;){if(p=c(s),p!==null)return p;s=s.sibling}return null}var a=Object.assign,o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function W(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case m:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case v:return"SuspenseList";case A:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case f:return"Portal";case R:return s.displayName||"Context";case S:return(s._context.displayName||"Context")+".Consumer";case M:var p=s.render;return s=s.displayName,s||(s=p.displayName||p.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return p=s.displayName||null,p!==null?p:W(s.type)||"Memo";case I:p=s._payload,s=s._init;try{return W(s(p))}catch{}}return null}var j=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ee=[],ie=-1;function ne(s){return{current:s}}function ae(s){0>ie||(s.current=ee[ie],ee[ie]=null,ie--)}function re(s,p){ie++,ee[ie]=s.current,s.current=p}var fe=ne(null),pe=ne(null),he=ne(null),$e=ne(null);function Le(s,p){switch(re(he,p),re(pe,s),re(fe,null),p.nodeType){case 9:case 11:s=(s=p.documentElement)&&(s=s.namespaceURI)?Wl(s):0;break;default:if(s=p.tagName,p=p.namespaceURI)p=Wl(p),s=Ci(p,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(fe),re(fe,s)}function Oe(){ae(fe),ae(pe),ae(he)}function Ne(s){s.memoizedState!==null&&re($e,s);var p=fe.current,_=Ci(p,s.type);p!==_&&(re(pe,s),re(fe,_))}function be(s){pe.current===s&&(ae(fe),ae(pe)),$e.current===s&&(ae($e),Bo._currentValue=X)}var Se,ge;function Pe(s){if(Se===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);Se=p&&p[1]||"",ge=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+s+ge}var Je=!1;function Ve(s,p){if(!s||Je)return"";Je=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(p){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var Qe=tt}Reflect.construct(s,[],ut)}else{try{ut.call()}catch(tt){Qe=tt}s.call(ut.prototype)}}else{try{throw Error()}catch(tt){Qe=tt}(ut=s())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&Qe&&typeof tt.stack=="string")return[tt.stack,Qe.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Y=D.DetermineComponentFrameRoot(),se=Y[0],de=Y[1];if(se&&de){var De=se.split(`
`),Xe=de.split(`
`);for(G=D=0;D<De.length&&!De[D].includes("DetermineComponentFrameRoot");)D++;for(;G<Xe.length&&!Xe[G].includes("DetermineComponentFrameRoot");)G++;if(D===De.length||G===Xe.length)for(D=De.length-1,G=Xe.length-1;1<=D&&0<=G&&De[D]!==Xe[G];)G--;for(;1<=D&&0<=G;D--,G--)if(De[D]!==Xe[G]){if(D!==1||G!==1)do if(D--,G--,0>G||De[D]!==Xe[G]){var ot=`
`+De[D].replace(" at new "," at ");return s.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",s.displayName)),ot}while(1<=D&&0<=G);break}}}finally{Je=!1,Error.prepareStackTrace=_}return(_=s?s.displayName||s.name:"")?Pe(_):""}function Tt(s,p){switch(s.tag){case 26:case 27:case 5:return Pe(s.type);case 16:return Pe("Lazy");case 13:return s.child!==p&&p!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ve(s.type,!1);case 11:return Ve(s.type.render,!1);case 1:return Ve(s.type,!0);case 31:return Pe("Activity");default:return""}}function Ot(s){try{var p="",_=null;do p+=Tt(s,_),_=s,s=s.return;while(s);return p}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}var Dt=Object.prototype.hasOwnProperty,nn=e.unstable_scheduleCallback,fn=e.unstable_cancelCallback,bn=e.unstable_shouldYield,Be=e.unstable_requestPaint,He=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,zt=e.unstable_ImmediatePriority,Ft=e.unstable_UserBlockingPriority,wt=e.unstable_NormalPriority,xn=e.unstable_LowPriority,we=e.unstable_IdlePriority,Ee=e.log,Ae=e.unstable_setDisableYieldValue,mt=null,_t=null;function st(s){if(typeof Ee=="function"&&Ae(s),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(mt,s)}catch{}}var Ce=Math.clz32?Math.clz32:it,Ke=Math.log,pt=Math.LN2;function it(s){return s>>>=0,s===0?32:31-(Ke(s)/pt|0)|0}var Rt=256,dt=262144,bt=4194304;function At(s){var p=s&42;if(p!==0)return p;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function nt(s,p,_){var D=s.pendingLanes;if(D===0)return 0;var G=0,Y=s.suspendedLanes,se=s.pingedLanes;s=s.warmLanes;var de=D&134217727;return de!==0?(D=de&~Y,D!==0?G=At(D):(se&=de,se!==0?G=At(se):_||(_=de&~s,_!==0&&(G=At(_))))):(de=D&~Y,de!==0?G=At(de):se!==0?G=At(se):_||(_=D&~s,_!==0&&(G=At(_)))),G===0?0:p!==0&&p!==G&&(p&Y)===0&&(Y=G&-G,_=p&-p,Y>=_||Y===32&&(_&4194048)!==0)?p:G}function vt(s,p){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&p)===0}function $r(s,p){switch(s){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(){var s=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),s}function mr(s){for(var p=[],_=0;31>_;_++)p.push(s);return p}function Tn(s,p){s.pendingLanes|=p,p!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ur(s,p,_,D,G,Y){var se=s.pendingLanes;s.pendingLanes=_,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=_,s.entangledLanes&=_,s.errorRecoveryDisabledLanes&=_,s.shellSuspendCounter=0;var de=s.entanglements,De=s.expirationTimes,Xe=s.hiddenUpdates;for(_=se&~_;0<_;){var ot=31-Ce(_),ut=1<<ot;de[ot]=0,De[ot]=-1;var Qe=Xe[ot];if(Qe!==null)for(Xe[ot]=null,ot=0;ot<Qe.length;ot++){var tt=Qe[ot];tt!==null&&(tt.lane&=-536870913)}_&=~ut}D!==0&&Lr(s,D,0),Y!==0&&G===0&&s.tag!==0&&(s.suspendedLanes|=Y&~(se&~p))}function Lr(s,p,_){s.pendingLanes|=p,s.suspendedLanes&=~p;var D=31-Ce(p);s.entangledLanes|=p,s.entanglements[D]=s.entanglements[D]|1073741824|_&261930}function gr(s,p){var _=s.entangledLanes|=p;for(s=s.entanglements;_;){var D=31-Ce(_),G=1<<D;G&p|s[D]&p&&(s[D]|=p),_&=~G}}function _r(s,p){var _=p&-p;return _=(_&42)!==0?1:ai(_),(_&(s.suspendedLanes|p))!==0?0:_}function ai(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function yr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function vr(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:Xp(s.type))}function ti(s,p){var _=Q.p;try{return Q.p=s,p()}finally{Q.p=_}}var It=Math.random().toString(36).slice(2),pn="__reactFiber$"+It,Vn="__reactProps$"+It,lr="__reactContainer$"+It,ur="__reactEvents$"+It,us="__reactListeners$"+It,ki="__reactHandles$"+It,fi="__reactResources$"+It,qr="__reactMarker$"+It;function ni(s){delete s[pn],delete s[Vn],delete s[ur],delete s[us],delete s[ki]}function Gn(s){var p=s[pn];if(p)return p;for(var _=s.parentNode;_;){if(p=_[lr]||_[pn]){if(_=p.alternate,p.child!==null||_!==null&&_.child!==null)for(s=Ip(s);s!==null;){if(_=s[pn])return _;s=Ip(s)}return p}s=_,_=s.parentNode}return null}function Xn(s){if(s=s[pn]||s[lr]){var p=s.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return s}return null}function Er(s){var p=s.tag;if(p===5||p===26||p===27||p===6)return s.stateNode;throw Error(l(33))}function cr(s){var p=s[fi];return p||(p=s[fi]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function $n(s){s[qr]=!0}var Ir=new Set,Yt={};function nr(s,p){Dr(s,p),Dr(s+"Capture",p)}function Dr(s,p){for(Yt[s]=p,s=0;s<p.length;s++)Ir.add(p[s])}var kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},Qn={};function Tr(s){return Dt.call(Qn,s)?!0:Dt.call($t,s)?!1:kt.test(s)?Qn[s]=!0:($t[s]=!0,!1)}function z(s,p,_){if(Tr(p))if(_===null)s.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":s.removeAttribute(p);return;case"boolean":var D=p.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){s.removeAttribute(p);return}}s.setAttribute(p,""+_)}}function Z(s,p,_){if(_===null)s.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttribute(p,""+_)}}function ue(s,p,_,D){if(D===null)s.removeAttribute(_);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(_);return}s.setAttributeNS(p,_,""+D)}}function ye(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var p=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function qe(s,p,_){var D=Object.getOwnPropertyDescriptor(s.constructor.prototype,p);if(!s.hasOwnProperty(p)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var G=D.get,Y=D.set;return Object.defineProperty(s,p,{configurable:!0,get:function(){return G.call(this)},set:function(se){_=""+se,Y.call(this,se)}}),Object.defineProperty(s,p,{enumerable:D.enumerable}),{getValue:function(){return _},setValue:function(se){_=""+se},stopTracking:function(){s._valueTracker=null,delete s[p]}}}}function rt(s){if(!s._valueTracker){var p=Re(s)?"checked":"value";s._valueTracker=qe(s,p,""+s[p])}}function xt(s){if(!s)return!1;var p=s._valueTracker;if(!p)return!0;var _=p.getValue(),D="";return s&&(D=Re(s)?s.checked?"true":"false":s.value),s=D,s!==_?(p.setValue(s),!0):!1}function Ct(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qt=/[\n"\\]/g;function dn(s){return s.replace(qt,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function rr(s,p,_,D,G,Y,se,de){s.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?s.type=se:s.removeAttribute("type"),p!=null?se==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+ye(p)):s.value!==""+ye(p)&&(s.value=""+ye(p)):se!=="submit"&&se!=="reset"||s.removeAttribute("value"),p!=null?Or(s,se,ye(p)):_!=null?Or(s,se,ye(_)):D!=null&&s.removeAttribute("value"),G==null&&Y!=null&&(s.defaultChecked=!!Y),G!=null&&(s.checked=G&&typeof G!="function"&&typeof G!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?s.name=""+ye(de):s.removeAttribute("name")}function br(s,p,_,D,G,Y,se,de){if(Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(s.type=Y),p!=null||_!=null){if(!(Y!=="submit"&&Y!=="reset"||p!=null)){rt(s);return}_=_!=null?""+ye(_):"",p=p!=null?""+ye(p):_,de||p===s.value||(s.value=p),s.defaultValue=p}D=D??G,D=typeof D!="function"&&typeof D!="symbol"&&!!D,s.checked=de?s.checked:!!D,s.defaultChecked=!!D,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(s.name=se),rt(s)}function Or(s,p,_){p==="number"&&Ct(s.ownerDocument)===s||s.defaultValue===""+_||(s.defaultValue=""+_)}function Yr(s,p,_,D){if(s=s.options,p){p={};for(var G=0;G<_.length;G++)p["$"+_[G]]=!0;for(_=0;_<s.length;_++)G=p.hasOwnProperty("$"+s[_].value),s[_].selected!==G&&(s[_].selected=G),G&&D&&(s[_].defaultSelected=!0)}else{for(_=""+ye(_),p=null,G=0;G<s.length;G++){if(s[G].value===_){s[G].selected=!0,D&&(s[G].defaultSelected=!0);return}p!==null||s[G].disabled||(p=s[G])}p!==null&&(p.selected=!0)}}function jr(s,p,_){if(p!=null&&(p=""+ye(p),p!==s.value&&(s.value=p),_==null)){s.defaultValue!==p&&(s.defaultValue=p);return}s.defaultValue=_!=null?""+ye(_):""}function ir(s,p,_,D){if(p==null){if(D!=null){if(_!=null)throw Error(l(92));if(j(D)){if(1<D.length)throw Error(l(93));D=D[0]}_=D}_==null&&(_=""),p=_}_=ye(p),s.defaultValue=_,D=s.textContent,D===_&&D!==""&&D!==null&&(s.value=D),rt(s)}function Kn(s,p){if(p){var _=s.firstChild;if(_&&_===s.lastChild&&_.nodeType===3){_.nodeValue=p;return}}s.textContent=p}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oi(s,p,_){var D=p.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?D?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="":D?s.setProperty(p,_):typeof _!="number"||_===0||Gi.has(p)?p==="float"?s.cssFloat=_:s[p]=(""+_).trim():s[p]=_+"px"}function Wt(s,p,_){if(p!=null&&typeof p!="object")throw Error(l(62));if(s=s.style,_!=null){for(var D in _)!_.hasOwnProperty(D)||p!=null&&p.hasOwnProperty(D)||(D.indexOf("--")===0?s.setProperty(D,""):D==="float"?s.cssFloat="":s[D]="");for(var G in p)D=p[G],p.hasOwnProperty(G)&&_[G]!==D&&oi(s,G,D)}else for(var Y in p)p.hasOwnProperty(Y)&&oi(s,Y,p[Y])}function tn(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(s){return Ki.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Cr(){}var Nr=null;function pi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var L=null,y=null;function V(s){var p=Xn(s);if(p&&(s=p.stateNode)){var _=s[Vn]||null;e:switch(s=p.stateNode,p.type){case"input":if(rr(s,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),p=_.name,_.type==="radio"&&p!=null){for(_=s;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+dn(""+p)+'"][type="radio"]'),p=0;p<_.length;p++){var D=_[p];if(D!==s&&D.form===s.form){var G=D[Vn]||null;if(!G)throw Error(l(90));rr(D,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(p=0;p<_.length;p++)D=_[p],D.form===s.form&&xt(D)}break e;case"textarea":jr(s,_.value,_.defaultValue);break e;case"select":p=_.value,p!=null&&Yr(s,!!_.multiple,p,!1)}}}var K=!1;function J(s,p,_){if(K)return s(p,_);K=!0;try{var D=s(p);return D}finally{if(K=!1,(L!==null||y!==null)&&(Ku(),L&&(p=L,s=y,y=L=null,V(p),s)))for(p=0;p<s.length;p++)V(s[p])}}function oe(s,p){var _=s.stateNode;if(_===null)return null;var D=_[Vn]||null;if(D===null)return null;_=D[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(s=s.type,D=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!D;break e;default:s=!1}if(s)return null;if(_&&typeof _!="function")throw Error(l(231,p,typeof _));return _}var ve=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ke=!1;if(ve)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{ke=!1}var et=null,gt=null,St=null;function Vt(){if(St)return St;var s,p=gt,_=p.length,D,G="value"in et?et.value:et.textContent,Y=G.length;for(s=0;s<_&&p[s]===G[s];s++);var se=_-s;for(D=1;D<=se&&p[_-D]===G[Y-D];D++);return St=G.slice(s,1<D?1-D:void 0)}function Te(s){var p=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&p===13&&(s=13)):s=p,s===10&&(s=13),32<=s||s===13?s:0}function le(){return!0}function _e(){return!1}function Ie(s){function p(_,D,G,Y,se){this._reactName=_,this._targetInst=G,this.type=D,this.nativeEvent=Y,this.target=se,this.currentTarget=null;for(var de in s)s.hasOwnProperty(de)&&(_=s[de],this[de]=_?_(Y):Y[de]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?le:_e,this.isPropagationStopped=_e,this}return a(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=le)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=le)},persist:function(){},isPersistent:le}),p}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Et=Ie(ft),Ht=a({},ft,{view:0,detail:0}),rn=Ie(Ht),Nt,Kt,mn,Rn=a({},Ht,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mn&&(mn&&s.type==="mousemove"?(Nt=s.screenX-mn.screenX,Kt=s.screenY-mn.screenY):Kt=Nt=0,mn=s),Nt)},movementY:function(s){return"movementY"in s?s.movementY:Kt}}),jn=Ie(Rn),On=a({},Rn,{dataTransfer:0}),Pr=Ie(On),di=a({},Ht,{relatedTarget:0}),mi=Ie(di),Ts=a({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Ie(Ts),Ra=a({},ft,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hr=Ie(Ra),nd=a({},ft,{data:0}),Ri=Ie(nd),rd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ea={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(s){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(s):(s=ea[s])?!!p[s]:!1}function Ho(){return Xl}var Zn=a({},Ht,{key:function(s){if(s.key){var p=rd[s.key]||s.key;if(p!=="Unidentified")return p}return s.type==="keypress"?(s=Te(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(s){return s.type==="keypress"?Te(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Te(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ta=Ie(Zn),gc=a({},Rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),af=Ie(gc),yc=a({},Ht,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),sd=Ie(yc),ad=a({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),od=Ie(ad),of=a({},Rn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=Ie(of),Qa=a({},ft,{newState:0,oldState:0}),ld=Ie(Qa),lf=[9,13,27,32],Zl=ve&&"CompositionEvent"in window,Ma=null;ve&&"documentMode"in document&&(Ma=document.documentMode);var vc=ve&&"TextEvent"in window&&!Ma,bc=ve&&(!Zl||Ma&&8<Ma&&11>=Ma),uf=" ",Jl=!1;function eu(s,p){switch(s){case"keyup":return lf.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $a=!1;function Mi(s,p){switch(s){case"compositionend":return cf(p);case"keypress":return p.which!==32?null:(Jl=!0,uf);case"textInput":return s=p.data,s===uf&&Jl?null:s;default:return null}}function xc(s,p){if($a)return s==="compositionend"||!Zl&&eu(s,p)?(s=Vt(),St=gt=et=null,$a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return bc&&p.locale!=="ko"?null:p.data;default:return null}}var Go={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(s){var p=s&&s.nodeName&&s.nodeName.toLowerCase();return p==="input"?!!Go[s.type]:p==="textarea"}function wc(s,p,_,D){L?y?y.push(D):y=[D]:L=D,p=zl(p,"onChange"),0<p.length&&(_=new Et("onChange","change",null,_,D),s.push({event:_,listeners:p}))}var Ko=null,qo=null;function ud(s){Ep(s,0)}function tu(s){var p=Er(s);if(xt(p))return s}function hf(s,p){if(s==="change")return p}var La=!1;if(ve){var _c;if(ve){var Ec="oninput"in document;if(!Ec){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),Ec=typeof nu.oninput=="function"}_c=Ec}else _c=!1;La=_c&&(!document.documentMode||9<document.documentMode)}function Tc(){Ko&&(Ko.detachEvent("onpropertychange",Os),qo=Ko=null)}function Os(s){if(s.propertyName==="value"&&tu(qo)){var p=[];wc(p,qo,s,pi(s)),J(ud,p)}}function ru(s,p,_){s==="focusin"?(Tc(),Ko=p,qo=_,Ko.attachEvent("onpropertychange",Os)):s==="focusout"&&Tc()}function cd(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return tu(qo)}function hd(s,p){if(s==="click")return tu(p)}function fd(s,p){if(s==="input"||s==="change")return tu(p)}function Za(s,p){return s===p&&(s!==0||1/s===1/p)||s!==s&&p!==p}var sr=typeof Object.is=="function"?Object.is:Za;function Ja(s,p){if(sr(s,p))return!0;if(typeof s!="object"||s===null||typeof p!="object"||p===null)return!1;var _=Object.keys(s),D=Object.keys(p);if(_.length!==D.length)return!1;for(D=0;D<_.length;D++){var G=_[D];if(!Dt.call(p,G)||!sr(s[G],p[G]))return!1}return!0}function ff(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pf(s,p){var _=ff(s);s=0;for(var D;_;){if(_.nodeType===3){if(D=s+_.textContent.length,s<=p&&D>=p)return{node:_,offset:p-s};s=D}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=ff(_)}}function df(s,p){return s&&p?s===p?!0:s&&s.nodeType===3?!1:p&&p.nodeType===3?df(s,p.parentNode):"contains"in s?s.contains(p):s.compareDocumentPosition?!!(s.compareDocumentPosition(p)&16):!1:!1}function mf(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var p=Ct(s.document);p instanceof s.HTMLIFrameElement;){try{var _=typeof p.contentWindow.location.href=="string"}catch{_=!1}if(_)s=p.contentWindow;else break;p=Ct(s.document)}return p}function Cc(s){var p=s&&s.nodeName&&s.nodeName.toLowerCase();return p&&(p==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||p==="textarea"||s.contentEditable==="true")}var eo=ve&&"documentMode"in document&&11>=document.documentMode,je=null,at=null,Ze=null,Pt=!1;function sn(s,p,_){var D=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Pt||je==null||je!==Ct(D)||(D=je,"selectionStart"in D&&Cc(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Ze&&Ja(Ze,D)||(Ze=D,D=zl(at,"onSelect"),0<D.length&&(p=new Et("onSelect","select",null,p,_),s.push({event:p,listeners:D}),p.target=je)))}function gn(s,p){var _={};return _[s.toLowerCase()]=p.toLowerCase(),_["Webkit"+s]="webkit"+p,_["Moz"+s]="moz"+p,_}var Jn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionrun:gn("Transition","TransitionRun"),transitionstart:gn("Transition","TransitionStart"),transitioncancel:gn("Transition","TransitionCancel"),transitionend:gn("Transition","TransitionEnd")},Nn={},iu={};ve&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Ia(s){if(Nn[s])return Nn[s];if(!Jn[s])return s;var p=Jn[s],_;for(_ in p)if(p.hasOwnProperty(_)&&_ in iu)return Nn[s]=p[_];return s}var $i=Ia("animationend"),Yo=Ia("animationiteration"),gf=Ia("animationstart"),to=Ia("transitionrun"),su=Ia("transitionstart"),au=Ia("transitioncancel"),Ln=Ia("transitionend"),yf=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function gi(s,p){yf.set(s,p),nr(p,[s])}var lu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qi=[],no=0,ro=0;function hs(){for(var s=no,p=ro=no=0;p<s;){var _=qi[p];qi[p++]=null;var D=qi[p];qi[p++]=null;var G=qi[p];qi[p++]=null;var Y=qi[p];if(qi[p++]=null,D!==null&&G!==null){var se=D.pending;se===null?G.next=G:(G.next=se.next,se.next=G),D.pending=G}Y!==0&&Ac(_,G,Y)}}function Da(s,p,_,D){qi[no++]=s,qi[no++]=p,qi[no++]=_,qi[no++]=D,ro|=D,s.lanes|=D,s=s.alternate,s!==null&&(s.lanes|=D)}function uu(s,p,_,D){return Da(s,p,_,D),Xo(s)}function Cs(s,p){return Da(s,null,null,p),Xo(s)}function Ac(s,p,_){s.lanes|=_;var D=s.alternate;D!==null&&(D.lanes|=_);for(var G=!1,Y=s.return;Y!==null;)Y.childLanes|=_,D=Y.alternate,D!==null&&(D.childLanes|=_),Y.tag===22&&(s=Y.stateNode,s===null||s._visibility&1||(G=!0)),s=Y,Y=Y.return;return s.tag===3?(Y=s.stateNode,G&&p!==null&&(G=31-Ce(_),s=Y.hiddenUpdates,D=s[G],D===null?s[G]=[p]:D.push(p),p.lane=_|536870912),Y):null}function Xo(s){if(50<Il)throw Il=0,Ah=null,Error(l(185));for(var p=s.return;p!==null;)s=p,p=s.return;return s.tag===3?s.stateNode:null}var Ns={};function vf(s,p,_,D){this.tag=s,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(s,p,_,D){return new vf(s,p,_,D)}function Ps(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yi(s,p){var _=s.alternate;return _===null?(_=Xr(s.tag,p,s.key,s.mode),_.elementType=s.elementType,_.type=s.type,_.stateNode=s.stateNode,_.alternate=s,s.alternate=_):(_.pendingProps=p,_.type=s.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=s.flags&65011712,_.childLanes=s.childLanes,_.lanes=s.lanes,_.child=s.child,_.memoizedProps=s.memoizedProps,_.memoizedState=s.memoizedState,_.updateQueue=s.updateQueue,p=s.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=s.sibling,_.index=s.index,_.ref=s.ref,_.refCleanup=s.refCleanup,_}function bf(s,p){s.flags&=65011714;var _=s.alternate;return _===null?(s.childLanes=0,s.lanes=p,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=_.childLanes,s.lanes=_.lanes,s.child=_.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=_.memoizedProps,s.memoizedState=_.memoizedState,s.updateQueue=_.updateQueue,s.type=_.type,p=_.dependencies,s.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),s}function cu(s,p,_,D,G,Y){var se=0;if(D=s,typeof s=="function")Ps(s)&&(se=1);else if(typeof s=="string")se=Kd(s,_,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case A:return s=Xr(31,_,p,G),s.elementType=A,s.lanes=Y,s;case m:return Oa(_.children,G,Y,p);case x:se=8,G|=24;break;case E:return s=Xr(12,_,p,G|2),s.elementType=E,s.lanes=Y,s;case k:return s=Xr(13,_,p,G),s.elementType=k,s.lanes=Y,s;case v:return s=Xr(19,_,p,G),s.elementType=v,s.lanes=Y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:se=10;break e;case S:se=9;break e;case M:se=11;break e;case F:se=14;break e;case I:se=16,D=null;break e}se=29,_=Error(l(130,s===null?"null":typeof s,"")),D=null}return p=Xr(se,_,p,G),p.elementType=s,p.type=D,p.lanes=Y,p}function Oa(s,p,_,D){return s=Xr(7,s,D,p),s.lanes=_,s}function io(s,p,_){return s=Xr(6,s,null,p),s.lanes=_,s}function Qo(s){var p=Xr(18,null,null,0);return p.stateNode=s,p}function Zo(s,p,_){return p=Xr(4,s.children!==null?s.children:[],s.key,p),p.lanes=_,p.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},p}var xf=new WeakMap;function Li(s,p){if(typeof s=="object"&&s!==null){var _=xf.get(s);return _!==void 0?_:(p={value:s,source:p,stack:Ot(p)},xf.set(s,p),p)}return{value:s,source:p,stack:Ot(p)}}var so=[],ao=0,hr=null,Ar=0,Xi=[],Qi=0,Fs=null,As=1,Zi="";function Ii(s,p){so[ao++]=Ar,so[ao++]=hr,hr=s,Ar=p}function hu(s,p,_){Xi[Qi++]=As,Xi[Qi++]=Zi,Xi[Qi++]=Fs,Fs=s;var D=As;s=Zi;var G=32-Ce(D)-1;D&=~(1<<G),_+=1;var Y=32-Ce(p)+G;if(30<Y){var se=G-G%5;Y=(D&(1<<se)-1).toString(32),D>>=se,G-=se,As=1<<32-Ce(p)+G|_<<G|D,Zi=Y+s}else As=1<<Y|_<<G|D,Zi=s}function na(s){s.return!==null&&(Ii(s,1),hu(s,1,0))}function Na(s){for(;s===hr;)hr=so[--ao],so[ao]=null,Ar=so[--ao],so[ao]=null;for(;s===Fs;)Fs=Xi[--Qi],Xi[Qi]=null,Zi=Xi[--Qi],Xi[Qi]=null,As=Xi[--Qi],Xi[Qi]=null}function oo(s,p){Xi[Qi++]=As,Xi[Qi++]=Zi,Xi[Qi++]=Fs,As=p.id,Zi=p.overflow,Fs=s}var kr=null,In=null,_n=!1,ra=null,Ji=!1,kc=Error(l(519));function ia(s){var p=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw aa(Li(p,s)),kc}function Jo(s){var p=s.stateNode,_=s.type,D=s.memoizedProps;switch(p[pn]=s,p[Vn]=D,_){case"dialog":vn("cancel",p),vn("close",p);break;case"iframe":case"object":case"embed":vn("load",p);break;case"video":case"audio":for(_=0;_<Vl.length;_++)vn(Vl[_],p);break;case"source":vn("error",p);break;case"img":case"image":case"link":vn("error",p),vn("load",p);break;case"details":vn("toggle",p);break;case"input":vn("invalid",p),br(p,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0);break;case"select":vn("invalid",p);break;case"textarea":vn("invalid",p),ir(p,D.value,D.defaultValue,D.children)}_=D.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||p.textContent===""+_||D.suppressHydrationWarning===!0||Ap(p.textContent,_)?(D.popover!=null&&(vn("beforetoggle",p),vn("toggle",p)),D.onScroll!=null&&vn("scroll",p),D.onScrollEnd!=null&&vn("scrollend",p),D.onClick!=null&&(p.onclick=Cr),p=!0):p=!1,p||ia(s,!0)}function lo(s){for(kr=s.return;kr;)switch(kr.tag){case 5:case 31:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:kr=kr.return}}function Pa(s){if(s!==kr)return!1;if(!_n)return lo(s),_n=!0,!1;var p=s.tag,_;if((_=p!==3&&p!==27)&&((_=p===5)&&(_=s.type,_=!(_!=="form"&&_!=="button")||wa(s.type,s.memoizedProps)),_=!_),_&&In&&ia(s),lo(s),p===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(317));In=Lp(s)}else if(p===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(317));In=Lp(s)}else p===27?(p=In,Zt(s.type)?(s=Kh,Kh=null,In=s):In=p):In=kr?os(s.stateNode.nextSibling):null;return!0}function me(){In=kr=null,_n=!1}function sa(){var s=ra;return s!==null&&(_i===null?_i=s:_i.push.apply(_i,s),ra=null),s}function aa(s){ra===null?ra=[s]:ra.push(s)}var yi=ne(null),on=null,Vs=null;function oa(s,p,_){re(yi,p._currentValue),p._currentValue=_}function zs(s){s._currentValue=yi.current,ae(yi)}function Bs(s,p,_){for(;s!==null;){var D=s.alternate;if((s.childLanes&p)!==p?(s.childLanes|=p,D!==null&&(D.childLanes|=p)):D!==null&&(D.childLanes&p)!==p&&(D.childLanes|=p),s===_)break;s=s.return}}function Rc(s,p,_,D){var G=s.child;for(G!==null&&(G.return=s);G!==null;){var Y=G.dependencies;if(Y!==null){var se=G.child;Y=Y.firstContext;e:for(;Y!==null;){var de=Y;Y=G;for(var De=0;De<p.length;De++)if(de.context===p[De]){Y.lanes|=_,de=Y.alternate,de!==null&&(de.lanes|=_),Bs(Y.return,_,s),D||(se=null);break e}Y=de.next}}else if(G.tag===18){if(se=G.return,se===null)throw Error(l(341));se.lanes|=_,Y=se.alternate,Y!==null&&(Y.lanes|=_),Bs(se,_,s),se=null}else se=G.child;if(se!==null)se.return=G;else for(se=G;se!==null;){if(se===s){se=null;break}if(G=se.sibling,G!==null){G.return=se.return,se=G;break}se=se.return}G=se}}function uo(s,p,_,D){s=null;for(var G=p,Y=!1;G!==null;){if(!Y){if((G.flags&524288)!==0)Y=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var se=G.alternate;if(se===null)throw Error(l(387));if(se=se.memoizedProps,se!==null){var de=G.type;sr(G.pendingProps.value,se.value)||(s!==null?s.push(de):s=[de])}}else if(G===$e.current){if(se=G.alternate,se===null)throw Error(l(387));se.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(s!==null?s.push(Bo):s=[Bo])}G=G.return}s!==null&&Rc(p,s,_,D),p.flags|=262144}function fu(s){for(s=s.firstContext;s!==null;){if(!sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fa(s){on=s,Vs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qr(s){return Sf(on,s)}function es(s,p){return on===null&&Fa(s),Sf(s,p)}function Sf(s,p){var _=p._currentValue;if(p={context:p,memoizedValue:_,next:null},Vs===null){if(s===null)throw Error(l(308));Vs=p,s.dependencies={lanes:0,firstContext:p},s.flags|=524288}else Vs=Vs.next=p;return _}var pd=typeof AbortController<"u"?AbortController:function(){var s=[],p=this.signal={aborted:!1,addEventListener:function(_,D){s.push(D)}};this.abort=function(){p.aborted=!0,s.forEach(function(_){return _()})}},dd=e.unstable_scheduleCallback,md=e.unstable_NormalPriority,Rr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fs(){return{controller:new pd,data:new Map,refCount:0}}function el(s){s.refCount--,s.refCount===0&&dd(md,function(){s.controller.abort()})}var tl=null,Mc=0,co=0,ho=null;function Va(s,p){if(tl===null){var _=tl=[];Mc=0,co=Ui(),ho={status:"pending",value:void 0,then:function(D){_.push(D)}}}return Mc++,p.then(wf,wf),p}function wf(){if(--Mc===0&&tl!==null){ho!==null&&(ho.status="fulfilled");var s=tl;tl=null,co=0,ho=null;for(var p=0;p<s.length;p++)(0,s[p])()}}function gd(s,p){var _=[],D={status:"pending",value:null,reason:null,then:function(G){_.push(G)}};return s.then(function(){D.status="fulfilled",D.value=p;for(var G=0;G<_.length;G++)(0,_[G])(p)},function(G){for(D.status="rejected",D.reason=G,G=0;G<_.length;G++)(0,_[G])(void 0)}),D}var ts=H.S;H.S=function(s,p){ap=He(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&Va(s,p),ts!==null&&ts(s,p)};var za=ne(null);function $c(){var s=za.current;return s!==null?s:Hn.pooledCache}function pu(s,p){p===null?re(za,za.current):re(za,p.pool)}function _f(){var s=$c();return s===null?null:{parent:Rr._currentValue,pool:s}}var fo=Error(l(460)),du=Error(l(474)),nl=Error(l(542)),mu={then:function(){}};function Ef(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gu(s,p,_){switch(_=s[_],_===void 0?s.push(p):_!==p&&(p.then(Cr,Cr),p=_),p.status){case"fulfilled":return p.value;case"rejected":throw s=p.reason,Lc(s),s;default:if(typeof p.status=="string")p.then(Cr,Cr);else{if(s=Hn,s!==null&&100<s.shellSuspendCounter)throw Error(l(482));s=p,s.status="pending",s.then(function(D){if(p.status==="pending"){var G=p;G.status="fulfilled",G.value=D}},function(D){if(p.status==="pending"){var G=p;G.status="rejected",G.reason=D}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw s=p.reason,Lc(s),s}throw ks=p,fo}}function ps(s){try{var p=s._init;return p(s._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(ks=_,fo):_}}var ks=null;function Tf(){if(ks===null)throw Error(l(459));var s=ks;return ks=null,s}function Lc(s){if(s===fo||s===nl)throw Error(l(483))}var po=null,Di=0;function mo(s){var p=Di;return Di+=1,po===null&&(po=[]),gu(po,s,p)}function ds(s,p){p=p.props.ref,s.ref=p!==void 0?p:null}function li(s,p){throw p.$$typeof===o?Error(l(525)):(s=Object.prototype.toString.call(p),Error(l(31,s==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":s)))}function Cf(s){function p(We,ze){if(s){var Ye=We.deletions;Ye===null?(We.deletions=[ze],We.flags|=16):Ye.push(ze)}}function _(We,ze){if(!s)return null;for(;ze!==null;)p(We,ze),ze=ze.sibling;return null}function D(We){for(var ze=new Map;We!==null;)We.key!==null?ze.set(We.key,We):ze.set(We.index,We),We=We.sibling;return ze}function G(We,ze){return We=Yi(We,ze),We.index=0,We.sibling=null,We}function Y(We,ze,Ye){return We.index=Ye,s?(Ye=We.alternate,Ye!==null?(Ye=Ye.index,Ye<ze?(We.flags|=67108866,ze):Ye):(We.flags|=67108866,ze)):(We.flags|=1048576,ze)}function se(We){return s&&We.alternate===null&&(We.flags|=67108866),We}function de(We,ze,Ye,lt){return ze===null||ze.tag!==6?(ze=io(Ye,We.mode,lt),ze.return=We,ze):(ze=G(ze,Ye),ze.return=We,ze)}function De(We,ze,Ye,lt){var Gt=Ye.type;return Gt===m?ot(We,ze,Ye.props.children,lt,Ye.key):ze!==null&&(ze.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===I&&ps(Gt)===ze.type)?(ze=G(ze,Ye.props),ds(ze,Ye),ze.return=We,ze):(ze=cu(Ye.type,Ye.key,Ye.props,null,We.mode,lt),ds(ze,Ye),ze.return=We,ze)}function Xe(We,ze,Ye,lt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ye.containerInfo||ze.stateNode.implementation!==Ye.implementation?(ze=Zo(Ye,We.mode,lt),ze.return=We,ze):(ze=G(ze,Ye.children||[]),ze.return=We,ze)}function ot(We,ze,Ye,lt,Gt){return ze===null||ze.tag!==7?(ze=Oa(Ye,We.mode,lt,Gt),ze.return=We,ze):(ze=G(ze,Ye),ze.return=We,ze)}function ut(We,ze,Ye){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=io(""+ze,We.mode,Ye),ze.return=We,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case u:return Ye=cu(ze.type,ze.key,ze.props,null,We.mode,Ye),ds(Ye,ze),Ye.return=We,Ye;case f:return ze=Zo(ze,We.mode,Ye),ze.return=We,ze;case I:return ze=ps(ze),ut(We,ze,Ye)}if(j(ze)||B(ze))return ze=Oa(ze,We.mode,Ye,null),ze.return=We,ze;if(typeof ze.then=="function")return ut(We,mo(ze),Ye);if(ze.$$typeof===R)return ut(We,es(We,ze),Ye);li(We,ze)}return null}function Qe(We,ze,Ye,lt){var Gt=ze!==null?ze.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Gt!==null?null:de(We,ze,""+Ye,lt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case u:return Ye.key===Gt?De(We,ze,Ye,lt):null;case f:return Ye.key===Gt?Xe(We,ze,Ye,lt):null;case I:return Ye=ps(Ye),Qe(We,ze,Ye,lt)}if(j(Ye)||B(Ye))return Gt!==null?null:ot(We,ze,Ye,lt,null);if(typeof Ye.then=="function")return Qe(We,ze,mo(Ye),lt);if(Ye.$$typeof===R)return Qe(We,ze,es(We,Ye),lt);li(We,Ye)}return null}function tt(We,ze,Ye,lt,Gt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return We=We.get(Ye)||null,de(ze,We,""+lt,Gt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case u:return We=We.get(lt.key===null?Ye:lt.key)||null,De(ze,We,lt,Gt);case f:return We=We.get(lt.key===null?Ye:lt.key)||null,Xe(ze,We,lt,Gt);case I:return lt=ps(lt),tt(We,ze,Ye,lt,Gt)}if(j(lt)||B(lt))return We=We.get(Ye)||null,ot(ze,We,lt,Gt,null);if(typeof lt.then=="function")return tt(We,ze,Ye,mo(lt),Gt);if(lt.$$typeof===R)return tt(We,ze,Ye,es(ze,lt),Gt);li(ze,lt)}return null}function Bt(We,ze,Ye,lt){for(var Gt=null,An=null,Ut=ze,cn=ze=0,wn=null;Ut!==null&&cn<Ye.length;cn++){Ut.index>cn?(wn=Ut,Ut=null):wn=Ut.sibling;var kn=Qe(We,Ut,Ye[cn],lt);if(kn===null){Ut===null&&(Ut=wn);break}s&&Ut&&kn.alternate===null&&p(We,Ut),ze=Y(kn,ze,cn),An===null?Gt=kn:An.sibling=kn,An=kn,Ut=wn}if(cn===Ye.length)return _(We,Ut),_n&&Ii(We,cn),Gt;if(Ut===null){for(;cn<Ye.length;cn++)Ut=ut(We,Ye[cn],lt),Ut!==null&&(ze=Y(Ut,ze,cn),An===null?Gt=Ut:An.sibling=Ut,An=Ut);return _n&&Ii(We,cn),Gt}for(Ut=D(Ut);cn<Ye.length;cn++)wn=tt(Ut,We,cn,Ye[cn],lt),wn!==null&&(s&&wn.alternate!==null&&Ut.delete(wn.key===null?cn:wn.key),ze=Y(wn,ze,cn),An===null?Gt=wn:An.sibling=wn,An=wn);return s&&Ut.forEach(function(ka){return p(We,ka)}),_n&&Ii(We,cn),Gt}function Qt(We,ze,Ye,lt){if(Ye==null)throw Error(l(151));for(var Gt=null,An=null,Ut=ze,cn=ze=0,wn=null,kn=Ye.next();Ut!==null&&!kn.done;cn++,kn=Ye.next()){Ut.index>cn?(wn=Ut,Ut=null):wn=Ut.sibling;var ka=Qe(We,Ut,kn.value,lt);if(ka===null){Ut===null&&(Ut=wn);break}s&&Ut&&ka.alternate===null&&p(We,Ut),ze=Y(ka,ze,cn),An===null?Gt=ka:An.sibling=ka,An=ka,Ut=wn}if(kn.done)return _(We,Ut),_n&&Ii(We,cn),Gt;if(Ut===null){for(;!kn.done;cn++,kn=Ye.next())kn=ut(We,kn.value,lt),kn!==null&&(ze=Y(kn,ze,cn),An===null?Gt=kn:An.sibling=kn,An=kn);return _n&&Ii(We,cn),Gt}for(Ut=D(Ut);!kn.done;cn++,kn=Ye.next())kn=tt(Ut,We,cn,kn.value,lt),kn!==null&&(s&&kn.alternate!==null&&Ut.delete(kn.key===null?cn:kn.key),ze=Y(kn,ze,cn),An===null?Gt=kn:An.sibling=kn,An=kn);return s&&Ut.forEach(function(tm){return p(We,tm)}),_n&&Ii(We,cn),Gt}function Un(We,ze,Ye,lt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===m&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case u:e:{for(var Gt=Ye.key;ze!==null;){if(ze.key===Gt){if(Gt=Ye.type,Gt===m){if(ze.tag===7){_(We,ze.sibling),lt=G(ze,Ye.props.children),lt.return=We,We=lt;break e}}else if(ze.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===I&&ps(Gt)===ze.type){_(We,ze.sibling),lt=G(ze,Ye.props),ds(lt,Ye),lt.return=We,We=lt;break e}_(We,ze);break}else p(We,ze);ze=ze.sibling}Ye.type===m?(lt=Oa(Ye.props.children,We.mode,lt,Ye.key),lt.return=We,We=lt):(lt=cu(Ye.type,Ye.key,Ye.props,null,We.mode,lt),ds(lt,Ye),lt.return=We,We=lt)}return se(We);case f:e:{for(Gt=Ye.key;ze!==null;){if(ze.key===Gt)if(ze.tag===4&&ze.stateNode.containerInfo===Ye.containerInfo&&ze.stateNode.implementation===Ye.implementation){_(We,ze.sibling),lt=G(ze,Ye.children||[]),lt.return=We,We=lt;break e}else{_(We,ze);break}else p(We,ze);ze=ze.sibling}lt=Zo(Ye,We.mode,lt),lt.return=We,We=lt}return se(We);case I:return Ye=ps(Ye),Un(We,ze,Ye,lt)}if(j(Ye))return Bt(We,ze,Ye,lt);if(B(Ye)){if(Gt=B(Ye),typeof Gt!="function")throw Error(l(150));return Ye=Gt.call(Ye),Qt(We,ze,Ye,lt)}if(typeof Ye.then=="function")return Un(We,ze,mo(Ye),lt);if(Ye.$$typeof===R)return Un(We,ze,es(We,Ye),lt);li(We,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,ze!==null&&ze.tag===6?(_(We,ze.sibling),lt=G(ze,Ye),lt.return=We,We=lt):(_(We,ze),lt=io(Ye,We.mode,lt),lt.return=We,We=lt),se(We)):_(We,ze)}return function(We,ze,Ye,lt){try{Di=0;var Gt=Un(We,ze,Ye,lt);return po=null,Gt}catch(Ut){if(Ut===fo||Ut===nl)throw Ut;var An=Xr(29,Ut,null,We.mode);return An.lanes=lt,An.return=We,An}finally{}}}var la=Cf(!0),Ic=Cf(!1),ns=!1;function Rs(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yu(s,p){s=s.updateQueue,p.updateQueue===s&&(p.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ua(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ms(s,p,_){var D=s.updateQueue;if(D===null)return null;if(D=D.shared,(Mn&2)!==0){var G=D.pending;return G===null?p.next=p:(p.next=G.next,G.next=p),D.pending=p,p=Xo(s),Ac(s,null,_),p}return Da(s,D,p,_),Xo(s)}function rl(s,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194048)!==0)){var D=p.lanes;D&=s.pendingLanes,_|=D,p.lanes=_,gr(s,_)}}function vu(s,p){var _=s.updateQueue,D=s.alternate;if(D!==null&&(D=D.updateQueue,_===D)){var G=null,Y=null;if(_=_.firstBaseUpdate,_!==null){do{var se={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};Y===null?G=Y=se:Y=Y.next=se,_=_.next}while(_!==null);Y===null?G=Y=p:Y=Y.next=p}else G=Y=p;_={baseState:D.baseState,firstBaseUpdate:G,lastBaseUpdate:Y,shared:D.shared,callbacks:D.callbacks},s.updateQueue=_;return}s=_.lastBaseUpdate,s===null?_.firstBaseUpdate=p:s.next=p,_.lastBaseUpdate=p}var Fr=!1;function Ba(){if(Fr){var s=ho;if(s!==null)throw s}}function go(s,p,_,D){Fr=!1;var G=s.updateQueue;ns=!1;var Y=G.firstBaseUpdate,se=G.lastBaseUpdate,de=G.shared.pending;if(de!==null){G.shared.pending=null;var De=de,Xe=De.next;De.next=null,se===null?Y=Xe:se.next=Xe,se=De;var ot=s.alternate;ot!==null&&(ot=ot.updateQueue,de=ot.lastBaseUpdate,de!==se&&(de===null?ot.firstBaseUpdate=Xe:de.next=Xe,ot.lastBaseUpdate=De))}if(Y!==null){var ut=G.baseState;se=0,ot=Xe=De=null,de=Y;do{var Qe=de.lane&-536870913,tt=Qe!==de.lane;if(tt?(Sn&Qe)===Qe:(D&Qe)===Qe){Qe!==0&&Qe===co&&(Fr=!0),ot!==null&&(ot=ot.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var Bt=s,Qt=de;Qe=p;var Un=_;switch(Qt.tag){case 1:if(Bt=Qt.payload,typeof Bt=="function"){ut=Bt.call(Un,ut,Qe);break e}ut=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Qt.payload,Qe=typeof Bt=="function"?Bt.call(Un,ut,Qe):Bt,Qe==null)break e;ut=a({},ut,Qe);break e;case 2:ns=!0}}Qe=de.callback,Qe!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=G.callbacks,tt===null?G.callbacks=[Qe]:tt.push(Qe))}else tt={lane:Qe,tag:de.tag,payload:de.payload,callback:de.callback,next:null},ot===null?(Xe=ot=tt,De=ut):ot=ot.next=tt,se|=Qe;if(de=de.next,de===null){if(de=G.shared.pending,de===null)break;tt=de,de=tt.next,tt.next=null,G.lastBaseUpdate=tt,G.shared.pending=null}}while(!0);ot===null&&(De=ut),G.baseState=De,G.firstBaseUpdate=Xe,G.lastBaseUpdate=ot,Y===null&&(G.shared.lanes=0),ya|=se,s.lanes=se,s.memoizedState=ut}}function gs(s,p){if(typeof s!="function")throw Error(l(191,s));s.call(p)}function bu(s,p){var _=s.callbacks;if(_!==null)for(s.callbacks=null,s=0;s<_.length;s++)gs(_[s],p)}var Us=ne(null),Ms=ne(0);function Dc(s,p){s=ws,re(Ms,s),re(Us,p),ws=s|p.baseLanes}function Zr(){re(Ms,ws),re(Us,Us.current)}function il(){ws=Ms.current,ae(Us),ae(Ms)}var Oi=ne(null),rs=null;function ca(s){var p=s.alternate;re(xr,xr.current&1),re(Oi,s),rs===null&&(p===null||Us.current!==null||p.memoizedState!==null)&&(rs=s)}function sl(s){re(xr,xr.current),re(Oi,s),rs===null&&(rs=s)}function Af(s){s.tag===22?(re(xr,xr.current),re(Oi,s),rs===null&&(rs=s)):ss()}function ss(){re(xr,xr.current),re(Oi,Oi.current)}function vi(s){ae(Oi),rs===s&&(rs=null),ae(xr)}var xr=ne(0);function xu(s){for(var p=s;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||rc(_)||Oo(_)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ni=0,ln=null,zn=null,fr=null,al=!1,yo=!1,Ua=!1,Su=0,vo=0,ha=null,yd=0;function er(){throw Error(l(321))}function wu(s,p){if(p===null)return!1;for(var _=0;_<p.length&&_<s.length;_++)if(!sr(s[_],p[_]))return!1;return!0}function _u(s,p,_,D,G,Y){return Ni=Y,ln=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,H.H=s===null||s.memoizedState===null?Ff:Lu,Ua=!1,Y=_(D,G),Ua=!1,yo&&(Y=ol(p,_,D,G)),Oc(s),Y}function Oc(s){H.H=pa;var p=zn!==null&&zn.next!==null;if(Ni=0,fr=zn=ln=null,al=!1,vo=0,ha=null,p)throw Error(l(300));s===null||ar||(s=s.dependencies,s!==null&&fu(s)&&(ar=!0))}function ol(s,p,_,D){ln=s;var G=0;do{if(yo&&(ha=null),vo=0,yo=!1,25<=G)throw Error(l(301));if(G+=1,fr=zn=null,s.updateQueue!=null){var Y=s.updateQueue;Y.lastEffect=null,Y.events=null,Y.stores=null,Y.memoCache!=null&&(Y.memoCache.index=0)}H.H=ml,Y=p(_,D)}while(yo);return Y}function vd(){var s=H.H,p=s.useState()[0];return p=typeof p.then=="function"?xo(p):p,s=s.useState()[0],(zn!==null?zn.memoizedState:null)!==s&&(ln.flags|=1024),p}function Eu(){var s=Su!==0;return Su=0,s}function Tu(s,p,_){p.updateQueue=s.updateQueue,p.flags&=-2053,s.lanes&=~_}function Nc(s){if(al){for(s=s.memoizedState;s!==null;){var p=s.queue;p!==null&&(p.pending=null),s=s.next}al=!1}Ni=0,fr=zn=ln=null,yo=!1,vo=Su=0,ha=null}function ri(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?ln.memoizedState=fr=s:fr=fr.next=s,fr}function Sr(){if(zn===null){var s=ln.alternate;s=s!==null?s.memoizedState:null}else s=zn.next;var p=fr===null?ln.memoizedState:fr.next;if(p!==null)fr=p,zn=s;else{if(s===null)throw ln.alternate===null?Error(l(467)):Error(l(310));zn=s,s={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},fr===null?ln.memoizedState=fr=s:fr=fr.next=s}return fr}function bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(s){var p=vo;return vo+=1,ha===null&&(ha=[]),s=gu(ha,s,p),p=ln,(fr===null?p.memoizedState:fr.next)===null&&(p=p.alternate,H.H=p===null||p.memoizedState===null?Ff:Lu),s}function So(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return xo(s);if(s.$$typeof===R)return Qr(s)}throw Error(l(438,String(s)))}function Pc(s){var p=null,_=ln.updateQueue;if(_!==null&&(p=_.memoCache),p==null){var D=ln.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(p={data:D.data.map(function(G){return G.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),_===null&&(_=bo(),ln.updateQueue=_),_.memoCache=p,_=p.data[p.index],_===void 0)for(_=p.data[p.index]=Array(s),D=0;D<s;D++)_[D]=$;return p.index++,_}function ys(s,p){return typeof p=="function"?p(s):p}function un(s){var p=Sr();return Fc(p,zn,s)}function Fc(s,p,_){var D=s.queue;if(D===null)throw Error(l(311));D.lastRenderedReducer=_;var G=s.baseQueue,Y=D.pending;if(Y!==null){if(G!==null){var se=G.next;G.next=Y.next,Y.next=se}p.baseQueue=G=Y,D.pending=null}if(Y=s.baseState,G===null)s.memoizedState=Y;else{p=G.next;var de=se=null,De=null,Xe=p,ot=!1;do{var ut=Xe.lane&-536870913;if(ut!==Xe.lane?(Sn&ut)===ut:(Ni&ut)===ut){var Qe=Xe.revertLane;if(Qe===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),ut===co&&(ot=!0);else if((Ni&Qe)===Qe){Xe=Xe.next,Qe===co&&(ot=!0);continue}else ut={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},De===null?(de=De=ut,se=Y):De=De.next=ut,ln.lanes|=Qe,ya|=Qe;ut=Xe.action,Ua&&_(Y,ut),Y=Xe.hasEagerState?Xe.eagerState:_(Y,ut)}else Qe={lane:ut,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},De===null?(de=De=Qe,se=Y):De=De.next=Qe,ln.lanes|=ut,ya|=ut;Xe=Xe.next}while(Xe!==null&&Xe!==p);if(De===null?se=Y:De.next=de,!sr(Y,s.memoizedState)&&(ar=!0,ot&&(_=ho,_!==null)))throw _;s.memoizedState=Y,s.baseState=se,s.baseQueue=De,D.lastRenderedState=Y}return G===null&&(D.lanes=0),[s.memoizedState,D.dispatch]}function Vc(s){var p=Sr(),_=p.queue;if(_===null)throw Error(l(311));_.lastRenderedReducer=s;var D=_.dispatch,G=_.pending,Y=p.memoizedState;if(G!==null){_.pending=null;var se=G=G.next;do Y=s(Y,se.action),se=se.next;while(se!==G);sr(Y,p.memoizedState)||(ar=!0),p.memoizedState=Y,p.baseQueue===null&&(p.baseState=Y),_.lastRenderedState=Y}return[Y,D]}function wo(s,p,_){var D=ln,G=Sr(),Y=_n;if(Y){if(_===void 0)throw Error(l(407));_=_()}else _=p();var se=!sr((zn||G).memoizedState,_);if(se&&(G.memoizedState=_,ar=!0),G=G.queue,hl(Rf.bind(null,D,G,s),[s]),G.getSnapshot!==p||se||fr!==null&&fr.memoizedState.tag&1){if(D.flags|=2048,Fi(9,{destroy:void 0},kf.bind(null,D,G,_,p),null),Hn===null)throw Error(l(349));Y||(Ni&127)!==0||zc(D,p,_)}return _}function zc(s,p,_){s.flags|=16384,s={getSnapshot:p,value:_},p=ln.updateQueue,p===null?(p=bo(),ln.updateQueue=p,p.stores=[s]):(_=p.stores,_===null?p.stores=[s]:_.push(s))}function kf(s,p,_,D){p.value=_,p.getSnapshot=D,Pi(p)&&Mf(s)}function Rf(s,p,_){return _(function(){Pi(p)&&Mf(s)})}function Pi(s){var p=s.getSnapshot;s=s.value;try{var _=p();return!sr(s,_)}catch{return!0}}function Mf(s){var p=Cs(s,2);p!==null&&Ei(p,s,2)}function _o(s){var p=ri();if(typeof s=="function"){var _=s;if(s=_(),Ua){st(!0);try{_()}finally{st(!1)}}}return p.memoizedState=p.baseState=s,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:s},p}function Cu(s,p,_,D){return s.baseState=_,Fc(s,zn,typeof D=="function"?D:ys)}function $f(s,p,_,D,G){if(pl(s))throw Error(l(485));if(s=p.action,s!==null){var Y={payload:G,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){Y.listeners.push(se)}};H.T!==null?_(!0):Y.isTransition=!1,D(Y),_=p.pending,_===null?(Y.next=p.pending=Y,Bc(p,Y)):(Y.next=_.next,p.pending=_.next=Y)}}function Bc(s,p){var _=p.action,D=p.payload,G=s.state;if(p.isTransition){var Y=H.T,se={};H.T=se;try{var de=_(G,D),De=H.S;De!==null&&De(se,de),bi(s,p,de)}catch(Xe){ll(s,p,Xe)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),H.T=Y}}else try{Y=_(G,D),bi(s,p,Y)}catch(Xe){ll(s,p,Xe)}}function bi(s,p,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(D){js(s,p,D)},function(D){return ll(s,p,D)}):js(s,p,_)}function js(s,p,_){p.status="fulfilled",p.value=_,Uc(p),s.state=_,p=s.pending,p!==null&&(_=p.next,_===p?s.pending=null:(_=_.next,p.next=_,Bc(s,_)))}function ll(s,p,_){var D=s.pending;if(s.pending=null,D!==null){D=D.next;do p.status="rejected",p.reason=_,Uc(p),p=p.next;while(p!==D)}s.action=null}function Uc(s){s=s.listeners;for(var p=0;p<s.length;p++)(0,s[p])()}function ul(s,p){return p}function jc(s,p){if(_n){var _=Hn.formState;if(_!==null){e:{var D=ln;if(_n){if(In){t:{for(var G=In,Y=Ji;G.nodeType!==8;){if(!Y){G=null;break t}if(G=os(G.nextSibling),G===null){G=null;break t}}Y=G.data,G=Y==="F!"||Y==="F"?G:null}if(G){In=os(G.nextSibling),D=G.data==="F!";break e}}ia(D)}D=!1}D&&(p=_[0])}}return _=ri(),_.memoizedState=_.baseState=p,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:p},_.queue=D,_=eh.bind(null,ln,D),D.dispatch=_,D=_o(!1),Y=To.bind(null,ln,!1,D.queue),D=ri(),G={state:p,dispatch:null,action:s,pending:null},D.queue=G,_=$f.bind(null,ln,G,Y,_),G.dispatch=_,D.memoizedState=s,[p,_,!1]}function Au(s){var p=Sr();return Wc(p,zn,s)}function Wc(s,p,_){if(p=Fc(s,p,ul)[0],s=un(ys)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var D=xo(p)}catch(se){throw se===fo?nl:se}else D=p;p=Sr();var G=p.queue,Y=G.dispatch;return _!==p.memoizedState&&(ln.flags|=2048,Fi(9,{destroy:void 0},Hc.bind(null,G,_),null)),[D,Y,s]}function Hc(s,p){s.action=p}function ku(s){var p=Sr(),_=zn;if(_!==null)return Wc(p,_,s);Sr(),p=p.memoizedState,_=Sr();var D=_.queue.dispatch;return _.memoizedState=s,[p,D,!1]}function Fi(s,p,_,D){return s={tag:s,create:_,deps:D,inst:p,next:null},p=ln.updateQueue,p===null&&(p=bo(),ln.updateQueue=p),_=p.lastEffect,_===null?p.lastEffect=s.next=s:(D=_.next,_.next=s,s.next=D,p.lastEffect=s),s}function Lf(){return Sr().memoizedState}function vs(s,p,_,D){var G=ri();ln.flags|=s,G.memoizedState=Fi(1|p,{destroy:void 0},_,D===void 0?null:D)}function cl(s,p,_,D){var G=Sr();D=D===void 0?null:D;var Y=G.memoizedState.inst;zn!==null&&D!==null&&wu(D,zn.memoizedState.deps)?G.memoizedState=Fi(p,Y,_,D):(ln.flags|=s,G.memoizedState=Fi(1|p,Y,_,D))}function Gc(s,p){vs(8390656,8,s,p)}function hl(s,p){cl(2048,8,s,p)}function bd(s){ln.flags|=4;var p=ln.updateQueue;if(p===null)p=bo(),ln.updateQueue=p,p.events=[s];else{var _=p.events;_===null?p.events=[s]:_.push(s)}}function If(s){var p=Sr().memoizedState;return bd({ref:p,nextImpl:s}),function(){if((Mn&2)!==0)throw Error(l(440));return p.impl.apply(void 0,arguments)}}function Df(s,p){return cl(4,2,s,p)}function Kc(s,p){return cl(4,4,s,p)}function qc(s,p){if(typeof p=="function"){s=s();var _=p(s);return function(){typeof _=="function"?_():p(null)}}if(p!=null)return s=s(),p.current=s,function(){p.current=null}}function Of(s,p,_){_=_!=null?_.concat([s]):null,cl(4,4,qc.bind(null,p,s),_)}function Ru(){}function Yc(s,p){var _=Sr();p=p===void 0?null:p;var D=_.memoizedState;return p!==null&&wu(p,D[1])?D[0]:(_.memoizedState=[s,p],s)}function ui(s,p){var _=Sr();p=p===void 0?null:p;var D=_.memoizedState;if(p!==null&&wu(p,D[1]))return D[0];if(D=s(),Ua){st(!0);try{s()}finally{st(!1)}}return _.memoizedState=[D,p],D}function as(s,p,_){return _===void 0||(Ni&1073741824)!==0&&(Sn&261930)===0?s.memoizedState=p:(s.memoizedState=_,s=lp(),ln.lanes|=s,ya|=s,_)}function Nf(s,p,_,D){return sr(_,p)?_:Us.current!==null?(s=as(s,_,D),sr(s,p)||(ar=!0),s):(Ni&42)===0||(Ni&1073741824)!==0&&(Sn&261930)===0?(ar=!0,s.memoizedState=_):(s=lp(),ln.lanes|=s,ya|=s,p)}function Pf(s,p,_,D,G){var Y=Q.p;Q.p=Y!==0&&8>Y?Y:8;var se=H.T,de={};H.T=de,To(s,!1,p,_);try{var De=G(),Xe=H.S;if(Xe!==null&&Xe(de,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var ot=gd(De,D);Eo(s,p,ot,Bi(s))}else Eo(s,p,D,Bi(s))}catch(ut){Eo(s,p,{then:function(){},status:"rejected",reason:ut},Bi())}finally{Q.p=Y,se!==null&&de.types!==null&&(se.types=de.types),H.T=se}}function Mu(){}function fa(s,p,_,D){if(s.tag!==5)throw Error(l(476));var G=Xc(s).queue;Pf(s,G,p,X,_===null?Mu:function(){return Qc(s),_(D)})}function Xc(s){var p=s.memoizedState;if(p!==null)return p;p={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:X},next:null};var _={};return p.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:_},next:null},s.memoizedState=p,s=s.alternate,s!==null&&(s.memoizedState=p),p}function Qc(s){var p=Xc(s);p.next===null&&(p=s.alternate.memoizedState),Eo(s,p.next.queue,{},Bi())}function Zc(){return Qr(Bo)}function Jc(){return Sr().memoizedState}function ja(){return Sr().memoizedState}function fl(s){for(var p=s.return;p!==null;){switch(p.tag){case 24:case 3:var _=Bi();s=ua(_);var D=ms(p,s,_);D!==null&&(Ei(D,p,_),rl(D,p,_)),p={cache:fs()},s.payload=p;return}p=p.return}}function xd(s,p,_){var D=Bi();_={lane:D,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},pl(s)?dl(p,_):(_=uu(s,p,_,D),_!==null&&(Ei(_,s,D),$u(_,p,D)))}function eh(s,p,_){var D=Bi();Eo(s,p,_,D)}function Eo(s,p,_,D){var G={lane:D,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(pl(s))dl(p,G);else{var Y=s.alternate;if(s.lanes===0&&(Y===null||Y.lanes===0)&&(Y=p.lastRenderedReducer,Y!==null))try{var se=p.lastRenderedState,de=Y(se,_);if(G.hasEagerState=!0,G.eagerState=de,sr(de,se))return Da(s,p,G,0),Hn===null&&hs(),!1}catch{}finally{}if(_=uu(s,p,G,D),_!==null)return Ei(_,s,D),$u(_,p,D),!0}return!1}function To(s,p,_,D){if(D={lane:2,revertLane:Ui(),gesture:null,action:D,hasEagerState:!1,eagerState:null,next:null},pl(s)){if(p)throw Error(l(479))}else p=uu(s,_,D,2),p!==null&&Ei(p,s,2)}function pl(s){var p=s.alternate;return s===ln||p!==null&&p===ln}function dl(s,p){yo=al=!0;var _=s.pending;_===null?p.next=p:(p.next=_.next,_.next=p),s.pending=p}function $u(s,p,_){if((_&4194048)!==0){var D=p.lanes;D&=s.pendingLanes,_|=D,p.lanes=_,gr(s,_)}}var pa={readContext:Qr,use:So,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er};pa.useEffectEvent=er;var Ff={readContext:Qr,use:So,useCallback:function(s,p){return ri().memoizedState=[s,p===void 0?null:p],s},useContext:Qr,useEffect:Gc,useImperativeHandle:function(s,p,_){_=_!=null?_.concat([s]):null,vs(4194308,4,qc.bind(null,p,s),_)},useLayoutEffect:function(s,p){return vs(4194308,4,s,p)},useInsertionEffect:function(s,p){vs(4,2,s,p)},useMemo:function(s,p){var _=ri();p=p===void 0?null:p;var D=s();if(Ua){st(!0);try{s()}finally{st(!1)}}return _.memoizedState=[D,p],D},useReducer:function(s,p,_){var D=ri();if(_!==void 0){var G=_(p);if(Ua){st(!0);try{_(p)}finally{st(!1)}}}else G=p;return D.memoizedState=D.baseState=G,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:G},D.queue=s,s=s.dispatch=xd.bind(null,ln,s),[D.memoizedState,s]},useRef:function(s){var p=ri();return s={current:s},p.memoizedState=s},useState:function(s){s=_o(s);var p=s.queue,_=eh.bind(null,ln,p);return p.dispatch=_,[s.memoizedState,_]},useDebugValue:Ru,useDeferredValue:function(s,p){var _=ri();return as(_,s,p)},useTransition:function(){var s=_o(!1);return s=Pf.bind(null,ln,s.queue,!0,!1),ri().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,p,_){var D=ln,G=ri();if(_n){if(_===void 0)throw Error(l(407));_=_()}else{if(_=p(),Hn===null)throw Error(l(349));(Sn&127)!==0||zc(D,p,_)}G.memoizedState=_;var Y={value:_,getSnapshot:p};return G.queue=Y,Gc(Rf.bind(null,D,Y,s),[s]),D.flags|=2048,Fi(9,{destroy:void 0},kf.bind(null,D,Y,_,p),null),_},useId:function(){var s=ri(),p=Hn.identifierPrefix;if(_n){var _=Zi,D=As;_=(D&~(1<<32-Ce(D)-1)).toString(32)+_,p="_"+p+"R_"+_,_=Su++,0<_&&(p+="H"+_.toString(32)),p+="_"}else _=yd++,p="_"+p+"r_"+_.toString(32)+"_";return s.memoizedState=p},useHostTransitionStatus:Zc,useFormState:jc,useActionState:jc,useOptimistic:function(s){var p=ri();p.memoizedState=p.baseState=s;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=_,p=To.bind(null,ln,!0,_),_.dispatch=p,[s,p]},useMemoCache:Pc,useCacheRefresh:function(){return ri().memoizedState=fl.bind(null,ln)},useEffectEvent:function(s){var p=ri(),_={impl:s};return p.memoizedState=_,function(){if((Mn&2)!==0)throw Error(l(440));return _.impl.apply(void 0,arguments)}}},Lu={readContext:Qr,use:So,useCallback:Yc,useContext:Qr,useEffect:hl,useImperativeHandle:Of,useInsertionEffect:Df,useLayoutEffect:Kc,useMemo:ui,useReducer:un,useRef:Lf,useState:function(){return un(ys)},useDebugValue:Ru,useDeferredValue:function(s,p){var _=Sr();return Nf(_,zn.memoizedState,s,p)},useTransition:function(){var s=un(ys)[0],p=Sr().memoizedState;return[typeof s=="boolean"?s:xo(s),p]},useSyncExternalStore:wo,useId:Jc,useHostTransitionStatus:Zc,useFormState:Au,useActionState:Au,useOptimistic:function(s,p){var _=Sr();return Cu(_,zn,s,p)},useMemoCache:Pc,useCacheRefresh:ja};Lu.useEffectEvent=If;var ml={readContext:Qr,use:So,useCallback:Yc,useContext:Qr,useEffect:hl,useImperativeHandle:Of,useInsertionEffect:Df,useLayoutEffect:Kc,useMemo:ui,useReducer:Vc,useRef:Lf,useState:function(){return Vc(ys)},useDebugValue:Ru,useDeferredValue:function(s,p){var _=Sr();return zn===null?as(_,s,p):Nf(_,zn.memoizedState,s,p)},useTransition:function(){var s=Vc(ys)[0],p=Sr().memoizedState;return[typeof s=="boolean"?s:xo(s),p]},useSyncExternalStore:wo,useId:Jc,useHostTransitionStatus:Zc,useFormState:ku,useActionState:ku,useOptimistic:function(s,p){var _=Sr();return zn!==null?Cu(_,zn,s,p):(_.baseState=s,[s,_.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:ja};ml.useEffectEvent=If;function Iu(s,p,_,D){p=s.memoizedState,_=_(D,p),_=_==null?p:a({},p,_),s.memoizedState=_,s.lanes===0&&(s.updateQueue.baseState=_)}var gl={enqueueSetState:function(s,p,_){s=s._reactInternals;var D=Bi(),G=ua(D);G.payload=p,_!=null&&(G.callback=_),p=ms(s,G,D),p!==null&&(Ei(p,s,D),rl(p,s,D))},enqueueReplaceState:function(s,p,_){s=s._reactInternals;var D=Bi(),G=ua(D);G.tag=1,G.payload=p,_!=null&&(G.callback=_),p=ms(s,G,D),p!==null&&(Ei(p,s,D),rl(p,s,D))},enqueueForceUpdate:function(s,p){s=s._reactInternals;var _=Bi(),D=ua(_);D.tag=2,p!=null&&(D.callback=p),p=ms(s,D,_),p!==null&&(Ei(p,s,_),rl(p,s,_))}};function Vf(s,p,_,D,G,Y,se){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(D,Y,se):p.prototype&&p.prototype.isPureReactComponent?!Ja(_,D)||!Ja(G,Y):!0}function th(s,p,_,D){s=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,D),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,D),p.state!==s&&gl.enqueueReplaceState(p,p.state,null)}function ci(s,p){var _=p;if("ref"in p){_={};for(var D in p)D!=="ref"&&(_[D]=p[D])}if(s=s.defaultProps){_===p&&(_=a({},_));for(var G in s)_[G]===void 0&&(_[G]=s[G])}return _}function nh(s){lu(s)}function rh(s){console.error(s)}function zf(s){lu(s)}function yl(s,p){try{var _=s.onUncaughtError;_(p.value,{componentStack:p.stack})}catch(D){setTimeout(function(){throw D})}}function Bf(s,p,_){try{var D=s.onCaughtError;D(_.value,{componentStack:_.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function ih(s,p,_){return _=ua(_),_.tag=3,_.payload={element:null},_.callback=function(){yl(s,p)},_}function $s(s){return s=ua(s),s.tag=3,s}function Du(s,p,_,D){var G=_.type.getDerivedStateFromError;if(typeof G=="function"){var Y=D.value;s.payload=function(){return G(Y)},s.callback=function(){Bf(p,_,D)}}var se=_.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(s.callback=function(){Bf(p,_,D),typeof G!="function"&&(va===null?va=new Set([this]):va.add(this));var de=D.stack;this.componentDidCatch(D.value,{componentStack:de!==null?de:""})})}function sh(s,p,_,D,G){if(_.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(p=_.alternate,p!==null&&uo(p,_,G,!0),_=Oi.current,_!==null){switch(_.tag){case 31:case 13:return rs===null?qu():_.alternate===null&&or===0&&(or=3),_.flags&=-257,_.flags|=65536,_.lanes=G,D===mu?_.flags|=16384:(p=_.updateQueue,p===null?_.updateQueue=new Set([D]):p.add(D),Oh(s,D,G)),!1;case 22:return _.flags|=65536,D===mu?_.flags|=16384:(p=_.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([D])},_.updateQueue=p):(_=p.retryQueue,_===null?p.retryQueue=new Set([D]):_.add(D)),Oh(s,D,G)),!1}throw Error(l(435,_.tag))}return Oh(s,D,G),qu(),!1}if(_n)return p=Oi.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=G,D!==kc&&(s=Error(l(422),{cause:D}),aa(Li(s,_)))):(D!==kc&&(p=Error(l(423),{cause:D}),aa(Li(p,_))),s=s.current.alternate,s.flags|=65536,G&=-G,s.lanes|=G,D=Li(D,_),G=ih(s.stateNode,D,G),vu(s,G),or!==4&&(or=2)),!1;var Y=Error(l(520),{cause:D});if(Y=Li(Y,_),$l===null?$l=[Y]:$l.push(Y),or!==4&&(or=2),p===null)return!0;D=Li(D,_),_=p;do{switch(_.tag){case 3:return _.flags|=65536,s=G&-G,_.lanes|=s,s=ih(_.stateNode,D,s),vu(_,s),!1;case 1:if(p=_.type,Y=_.stateNode,(_.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(va===null||!va.has(Y))))return _.flags|=65536,G&=-G,_.lanes|=G,G=$s(G),Du(G,s,_,D),vu(_,G),!1}_=_.return}while(_!==null);return!1}var vl=Error(l(461)),ar=!1;function pr(s,p,_,D){p.child=s===null?Ic(p,null,_,D):la(p,s.child,_,D)}function Xt(s,p,_,D,G){_=_.render;var Y=p.ref;if("ref"in D){var se={};for(var de in D)de!=="ref"&&(se[de]=D[de])}else se=D;return Fa(p),D=_u(s,p,_,se,Y,G),de=Eu(),s!==null&&!ar?(Tu(s,p,G),Ls(s,p,G)):(_n&&de&&na(p),p.flags|=1,pr(s,p,D,G),p.child)}function bl(s,p,_,D,G){if(s===null){var Y=_.type;return typeof Y=="function"&&!Ps(Y)&&Y.defaultProps===void 0&&_.compare===null?(p.tag=15,p.type=Y,Ou(s,p,Y,D,G)):(s=cu(_.type,null,D,p,p.mode,G),s.ref=p.ref,s.return=p,p.child=s)}if(Y=s.child,!zu(s,G)){var se=Y.memoizedProps;if(_=_.compare,_=_!==null?_:Ja,_(se,D)&&s.ref===p.ref)return Ls(s,p,G)}return p.flags|=1,s=Yi(Y,D),s.ref=p.ref,s.return=p,p.child=s}function Ou(s,p,_,D,G){if(s!==null){var Y=s.memoizedProps;if(Ja(Y,D)&&s.ref===p.ref)if(ar=!1,p.pendingProps=D=Y,zu(s,G))(s.flags&131072)!==0&&(ar=!0);else return p.lanes=s.lanes,Ls(s,p,G)}return Fu(s,p,_,D,G)}function da(s,p,_,D){var G=D.children,Y=s!==null?s.memoizedState:null;if(s===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),D.mode==="hidden"){if((p.flags&128)!==0){if(Y=Y!==null?Y.baseLanes|_:_,s!==null){for(D=p.child=s.child,G=0;D!==null;)G=G|D.lanes|D.childLanes,D=D.sibling;D=G&~Y}else D=0,p.child=null;return Nu(s,p,Y,_,D)}if((_&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},s!==null&&pu(p,Y!==null?Y.cachePool:null),Y!==null?Dc(p,Y):Zr(),Af(p);else return D=p.lanes=536870912,Nu(s,p,Y!==null?Y.baseLanes|_:_,_,D)}else Y!==null?(pu(p,Y.cachePool),Dc(p,Y),ss(),p.memoizedState=null):(s!==null&&pu(p,null),Zr(),ss());return pr(s,p,G,_),p.child}function xl(s,p){return s!==null&&s.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function Nu(s,p,_,D,G){var Y=$c();return Y=Y===null?null:{parent:Rr._currentValue,pool:Y},p.memoizedState={baseLanes:_,cachePool:Y},s!==null&&pu(p,null),Zr(),Af(p),s!==null&&uo(s,p,D,!0),p.childLanes=G,null}function Sl(s,p){return p=Vu({mode:p.mode,children:p.children},s.mode),p.ref=s.ref,s.child=p,p.return=s,p}function Jr(s,p,_){return la(p,s.child,null,_),s=Sl(p,p.pendingProps),s.flags|=2,vi(p),p.memoizedState=null,s}function Sd(s,p,_){var D=p.pendingProps,G=(p.flags&128)!==0;if(p.flags&=-129,s===null){if(_n){if(D.mode==="hidden")return s=Sl(p,D),p.lanes=536870912,xl(null,s);if(sl(p),(s=In)?(s=$p(s,Ji),s=s!==null&&s.data==="&"?s:null,s!==null&&(p.memoizedState={dehydrated:s,treeContext:Fs!==null?{id:As,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},_=Qo(s),_.return=p,p.child=_,kr=p,In=null)):s=null,s===null)throw ia(p);return p.lanes=536870912,null}return Sl(p,D)}var Y=s.memoizedState;if(Y!==null){var se=Y.dehydrated;if(sl(p),G)if(p.flags&256)p.flags&=-257,p=Jr(s,p,_);else if(p.memoizedState!==null)p.child=s.child,p.flags|=128,p=null;else throw Error(l(558));else if(ar||uo(s,p,_,!1),G=(_&s.childLanes)!==0,ar||G){if(D=Hn,D!==null&&(se=_r(D,_),se!==0&&se!==Y.retryLane))throw Y.retryLane=se,Cs(s,se),Ei(D,s,se),vl;qu(),p=Jr(s,p,_)}else s=Y.treeContext,In=os(se.nextSibling),kr=p,_n=!0,ra=null,Ji=!1,s!==null&&oo(p,s),p=Sl(p,D),p.flags|=4096;return p}return s=Yi(s.child,{mode:D.mode,children:D.children}),s.ref=p.ref,p.child=s,s.return=p,s}function Pu(s,p){var _=p.ref;if(_===null)s!==null&&s.ref!==null&&(p.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(l(284));(s===null||s.ref!==_)&&(p.flags|=4194816)}}function Fu(s,p,_,D,G){return Fa(p),_=_u(s,p,_,D,void 0,G),D=Eu(),s!==null&&!ar?(Tu(s,p,G),Ls(s,p,G)):(_n&&D&&na(p),p.flags|=1,pr(s,p,_,G),p.child)}function Uf(s,p,_,D,G,Y){return Fa(p),p.updateQueue=null,_=ol(p,D,_,G),Oc(s),D=Eu(),s!==null&&!ar?(Tu(s,p,Y),Ls(s,p,Y)):(_n&&D&&na(p),p.flags|=1,pr(s,p,_,Y),p.child)}function ah(s,p,_,D,G){if(Fa(p),p.stateNode===null){var Y=Ns,se=_.contextType;typeof se=="object"&&se!==null&&(Y=Qr(se)),Y=new _(D,Y),p.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,Y.updater=gl,p.stateNode=Y,Y._reactInternals=p,Y=p.stateNode,Y.props=D,Y.state=p.memoizedState,Y.refs={},Rs(p),se=_.contextType,Y.context=typeof se=="object"&&se!==null?Qr(se):Ns,Y.state=p.memoizedState,se=_.getDerivedStateFromProps,typeof se=="function"&&(Iu(p,_,se,D),Y.state=p.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(se=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),se!==Y.state&&gl.enqueueReplaceState(Y,Y.state,null),go(p,D,Y,G),Ba(),Y.state=p.memoizedState),typeof Y.componentDidMount=="function"&&(p.flags|=4194308),D=!0}else if(s===null){Y=p.stateNode;var de=p.memoizedProps,De=ci(_,de);Y.props=De;var Xe=Y.context,ot=_.contextType;se=Ns,typeof ot=="object"&&ot!==null&&(se=Qr(ot));var ut=_.getDerivedStateFromProps;ot=typeof ut=="function"||typeof Y.getSnapshotBeforeUpdate=="function",de=p.pendingProps!==de,ot||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(de||Xe!==se)&&th(p,Y,D,se),ns=!1;var Qe=p.memoizedState;Y.state=Qe,go(p,D,Y,G),Ba(),Xe=p.memoizedState,de||Qe!==Xe||ns?(typeof ut=="function"&&(Iu(p,_,ut,D),Xe=p.memoizedState),(De=ns||Vf(p,_,De,D,Qe,Xe,se))?(ot||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=D,p.memoizedState=Xe),Y.props=D,Y.state=Xe,Y.context=se,D=De):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),D=!1)}else{Y=p.stateNode,yu(s,p),se=p.memoizedProps,ot=ci(_,se),Y.props=ot,ut=p.pendingProps,Qe=Y.context,Xe=_.contextType,De=Ns,typeof Xe=="object"&&Xe!==null&&(De=Qr(Xe)),de=_.getDerivedStateFromProps,(Xe=typeof de=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==ut||Qe!==De)&&th(p,Y,D,De),ns=!1,Qe=p.memoizedState,Y.state=Qe,go(p,D,Y,G),Ba();var tt=p.memoizedState;se!==ut||Qe!==tt||ns||s!==null&&s.dependencies!==null&&fu(s.dependencies)?(typeof de=="function"&&(Iu(p,_,de,D),tt=p.memoizedState),(ot=ns||Vf(p,_,ot,D,Qe,tt,De)||s!==null&&s.dependencies!==null&&fu(s.dependencies))?(Xe||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(D,tt,De),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(D,tt,De)),typeof Y.componentDidUpdate=="function"&&(p.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Y.componentDidUpdate!="function"||se===s.memoizedProps&&Qe===s.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===s.memoizedProps&&Qe===s.memoizedState||(p.flags|=1024),p.memoizedProps=D,p.memoizedState=tt),Y.props=D,Y.state=tt,Y.context=De,D=ot):(typeof Y.componentDidUpdate!="function"||se===s.memoizedProps&&Qe===s.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===s.memoizedProps&&Qe===s.memoizedState||(p.flags|=1024),D=!1)}return Y=D,Pu(s,p),D=(p.flags&128)!==0,Y||D?(Y=p.stateNode,_=D&&typeof _.getDerivedStateFromError!="function"?null:Y.render(),p.flags|=1,s!==null&&D?(p.child=la(p,s.child,null,G),p.child=la(p,null,_,G)):pr(s,p,_,G),p.memoizedState=Y.state,s=p.child):s=Ls(s,p,G),s}function jf(s,p,_,D){return me(),p.flags|=256,pr(s,p,_,D),p.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lh(s){return{baseLanes:s,cachePool:_f()}}function bs(s,p,_){return s=s!==null?s.childLanes&~_:0,p&&(s|=zi),s}function ii(s,p,_){var D=p.pendingProps,G=!1,Y=(p.flags&128)!==0,se;if((se=Y)||(se=s!==null&&s.memoizedState===null?!1:(xr.current&2)!==0),se&&(G=!0,p.flags&=-129),se=(p.flags&32)!==0,p.flags&=-33,s===null){if(_n){if(G?ca(p):ss(),(s=In)?(s=$p(s,Ji),s=s!==null&&s.data!=="&"?s:null,s!==null&&(p.memoizedState={dehydrated:s,treeContext:Fs!==null?{id:As,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},_=Qo(s),_.return=p,p.child=_,kr=p,In=null)):s=null,s===null)throw ia(p);return Oo(s)?p.lanes=32:p.lanes=536870912,null}var de=D.children;return D=D.fallback,G?(ss(),G=p.mode,de=Vu({mode:"hidden",children:de},G),D=Oa(D,G,_,null),de.return=p,D.return=p,de.sibling=D,p.child=de,D=p.child,D.memoizedState=lh(_),D.childLanes=bs(s,se,_),p.memoizedState=oh,xl(null,D)):(ca(p),wl(p,de))}var De=s.memoizedState;if(De!==null&&(de=De.dehydrated,de!==null)){if(Y)p.flags&256?(ca(p),p.flags&=-257,p=_l(s,p,_)):p.memoizedState!==null?(ss(),p.child=s.child,p.flags|=128,p=null):(ss(),de=D.fallback,G=p.mode,D=Vu({mode:"visible",children:D.children},G),de=Oa(de,G,_,null),de.flags|=2,D.return=p,de.return=p,D.sibling=de,p.child=D,la(p,s.child,null,_),D=p.child,D.memoizedState=lh(_),D.childLanes=bs(s,se,_),p.memoizedState=oh,p=xl(null,D));else if(ca(p),Oo(de)){if(se=de.nextSibling&&de.nextSibling.dataset,se)var Xe=se.dgst;se=Xe,D=Error(l(419)),D.stack="",D.digest=se,aa({value:D,source:null,stack:null}),p=_l(s,p,_)}else if(ar||uo(s,p,_,!1),se=(_&s.childLanes)!==0,ar||se){if(se=Hn,se!==null&&(D=_r(se,_),D!==0&&D!==De.retryLane))throw De.retryLane=D,Cs(s,D),Ei(se,s,D),vl;rc(de)||qu(),p=_l(s,p,_)}else rc(de)?(p.flags|=192,p.child=s.child,p=null):(s=De.treeContext,In=os(de.nextSibling),kr=p,_n=!0,ra=null,Ji=!1,s!==null&&oo(p,s),p=wl(p,D.children),p.flags|=4096);return p}return G?(ss(),de=D.fallback,G=p.mode,De=s.child,Xe=De.sibling,D=Yi(De,{mode:"hidden",children:D.children}),D.subtreeFlags=De.subtreeFlags&65011712,Xe!==null?de=Yi(Xe,de):(de=Oa(de,G,_,null),de.flags|=2),de.return=p,D.return=p,D.sibling=de,p.child=D,xl(null,D),D=p.child,de=s.child.memoizedState,de===null?de=lh(_):(G=de.cachePool,G!==null?(De=Rr._currentValue,G=G.parent!==De?{parent:De,pool:De}:G):G=_f(),de={baseLanes:de.baseLanes|_,cachePool:G}),D.memoizedState=de,D.childLanes=bs(s,se,_),p.memoizedState=oh,xl(s.child,D)):(ca(p),_=s.child,s=_.sibling,_=Yi(_,{mode:"visible",children:D.children}),_.return=p,_.sibling=null,s!==null&&(se=p.deletions,se===null?(p.deletions=[s],p.flags|=16):se.push(s)),p.child=_,p.memoizedState=null,_)}function wl(s,p){return p=Vu({mode:"visible",children:p},s.mode),p.return=s,s.child=p}function Vu(s,p){return s=Xr(22,s,null,p),s.lanes=0,s}function _l(s,p,_){return la(p,s.child,null,_),s=wl(p,p.pendingProps.children),s.flags|=2,p.memoizedState=null,s}function Wf(s,p,_){s.lanes|=p;var D=s.alternate;D!==null&&(D.lanes|=p),Bs(s.return,p,_)}function uh(s,p,_,D,G,Y){var se=s.memoizedState;se===null?s.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:D,tail:_,tailMode:G,treeForkCount:Y}:(se.isBackwards=p,se.rendering=null,se.renderingStartTime=0,se.last=D,se.tail=_,se.tailMode=G,se.treeForkCount=Y)}function Co(s,p,_){var D=p.pendingProps,G=D.revealOrder,Y=D.tail;D=D.children;var se=xr.current,de=(se&2)!==0;if(de?(se=se&1|2,p.flags|=128):se&=1,re(xr,se),pr(s,p,D,_),D=_n?Ar:0,!de&&s!==null&&(s.flags&128)!==0)e:for(s=p.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wf(s,_,p);else if(s.tag===19)Wf(s,_,p);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===p)break e;for(;s.sibling===null;){if(s.return===null||s.return===p)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(G){case"forwards":for(_=p.child,G=null;_!==null;)s=_.alternate,s!==null&&xu(s)===null&&(G=_),_=_.sibling;_=G,_===null?(G=p.child,p.child=null):(G=_.sibling,_.sibling=null),uh(p,!1,G,_,Y,D);break;case"backwards":case"unstable_legacy-backwards":for(_=null,G=p.child,p.child=null;G!==null;){if(s=G.alternate,s!==null&&xu(s)===null){p.child=G;break}s=G.sibling,G.sibling=_,_=G,G=s}uh(p,!0,_,null,Y,D);break;case"together":uh(p,!1,null,null,void 0,D);break;default:p.memoizedState=null}return p.child}function Ls(s,p,_){if(s!==null&&(p.dependencies=s.dependencies),ya|=p.lanes,(_&p.childLanes)===0)if(s!==null){if(uo(s,p,_,!1),(_&p.childLanes)===0)return null}else return null;if(s!==null&&p.child!==s.child)throw Error(l(153));if(p.child!==null){for(s=p.child,_=Yi(s,s.pendingProps),p.child=_,_.return=p;s.sibling!==null;)s=s.sibling,_=_.sibling=Yi(s,s.pendingProps),_.return=p;_.sibling=null}return p.child}function zu(s,p){return(s.lanes&p)!==0?!0:(s=s.dependencies,!!(s!==null&&fu(s)))}function wd(s,p,_){switch(p.tag){case 3:Le(p,p.stateNode.containerInfo),oa(p,Rr,s.memoizedState.cache),me();break;case 27:case 5:Ne(p);break;case 4:Le(p,p.stateNode.containerInfo);break;case 10:oa(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,sl(p),null;break;case 13:var D=p.memoizedState;if(D!==null)return D.dehydrated!==null?(ca(p),p.flags|=128,null):(_&p.child.childLanes)!==0?ii(s,p,_):(ca(p),s=Ls(s,p,_),s!==null?s.sibling:null);ca(p);break;case 19:var G=(s.flags&128)!==0;if(D=(_&p.childLanes)!==0,D||(uo(s,p,_,!1),D=(_&p.childLanes)!==0),G){if(D)return Co(s,p,_);p.flags|=128}if(G=p.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),re(xr,xr.current),D)break;return null;case 22:return p.lanes=0,da(s,p,_,p.pendingProps);case 24:oa(p,Rr,s.memoizedState.cache)}return Ls(s,p,_)}function Hf(s,p,_){if(s!==null)if(s.memoizedProps!==p.pendingProps)ar=!0;else{if(!zu(s,_)&&(p.flags&128)===0)return ar=!1,wd(s,p,_);ar=(s.flags&131072)!==0}else ar=!1,_n&&(p.flags&1048576)!==0&&hu(p,Ar,p.index);switch(p.lanes=0,p.tag){case 16:e:{var D=p.pendingProps;if(s=ps(p.elementType),p.type=s,typeof s=="function")Ps(s)?(D=ci(s,D),p.tag=1,p=ah(null,p,s,D,_)):(p.tag=0,p=Fu(null,p,s,D,_));else{if(s!=null){var G=s.$$typeof;if(G===M){p.tag=11,p=Xt(null,p,s,D,_);break e}else if(G===F){p.tag=14,p=bl(null,p,s,D,_);break e}}throw p=W(s)||s,Error(l(306,p,""))}}return p;case 0:return Fu(s,p,p.type,p.pendingProps,_);case 1:return D=p.type,G=ci(D,p.pendingProps),ah(s,p,D,G,_);case 3:e:{if(Le(p,p.stateNode.containerInfo),s===null)throw Error(l(387));D=p.pendingProps;var Y=p.memoizedState;G=Y.element,yu(s,p),go(p,D,null,_);var se=p.memoizedState;if(D=se.cache,oa(p,Rr,D),D!==Y.cache&&Rc(p,[Rr],_,!0),Ba(),D=se.element,Y.isDehydrated)if(Y={element:D,isDehydrated:!1,cache:se.cache},p.updateQueue.baseState=Y,p.memoizedState=Y,p.flags&256){p=jf(s,p,D,_);break e}else if(D!==G){G=Li(Error(l(424)),p),aa(G),p=jf(s,p,D,_);break e}else{switch(s=p.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(In=os(s.firstChild),kr=p,_n=!0,ra=null,Ji=!0,_=Ic(p,null,D,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(me(),D===G){p=Ls(s,p,_);break e}pr(s,p,D,_)}p=p.child}return p;case 26:return Pu(s,p),s===null?(_=Pp(p.type,null,p.pendingProps,null))?p.memoizedState=_:_n||(_=p.type,s=p.pendingProps,D=jl(he.current).createElement(_),D[pn]=p,D[Vn]=s,ei(D,_,s),$n(D),p.stateNode=D):p.memoizedState=Pp(p.type,s.memoizedProps,p.pendingProps,s.memoizedState),null;case 27:return Ne(p),s===null&&_n&&(D=p.stateNode=Dp(p.type,p.pendingProps,he.current),kr=p,Ji=!0,G=In,Zt(p.type)?(Kh=G,In=os(D.firstChild)):In=G),pr(s,p,p.pendingProps.children,_),Pu(s,p),s===null&&(p.flags|=4194304),p.child;case 5:return s===null&&_n&&((G=D=In)&&(D=Fd(D,p.type,p.pendingProps,Ji),D!==null?(p.stateNode=D,kr=p,In=os(D.firstChild),Ji=!1,G=!0):G=!1),G||ia(p)),Ne(p),G=p.type,Y=p.pendingProps,se=s!==null?s.memoizedProps:null,D=Y.children,wa(G,Y)?D=null:se!==null&&wa(G,se)&&(p.flags|=32),p.memoizedState!==null&&(G=_u(s,p,vd,null,null,_),Bo._currentValue=G),Pu(s,p),pr(s,p,D,_),p.child;case 6:return s===null&&_n&&((s=_=In)&&(_=Dn(_,p.pendingProps,Ji),_!==null?(p.stateNode=_,kr=p,In=null,s=!0):s=!1),s||ia(p)),null;case 13:return ii(s,p,_);case 4:return Le(p,p.stateNode.containerInfo),D=p.pendingProps,s===null?p.child=la(p,null,D,_):pr(s,p,D,_),p.child;case 11:return Xt(s,p,p.type,p.pendingProps,_);case 7:return pr(s,p,p.pendingProps,_),p.child;case 8:return pr(s,p,p.pendingProps.children,_),p.child;case 12:return pr(s,p,p.pendingProps.children,_),p.child;case 10:return D=p.pendingProps,oa(p,p.type,D.value),pr(s,p,D.children,_),p.child;case 9:return G=p.type._context,D=p.pendingProps.children,Fa(p),G=Qr(G),D=D(G),p.flags|=1,pr(s,p,D,_),p.child;case 14:return bl(s,p,p.type,p.pendingProps,_);case 15:return Ou(s,p,p.type,p.pendingProps,_);case 19:return Co(s,p,_);case 31:return Sd(s,p,_);case 22:return da(s,p,_,p.pendingProps);case 24:return Fa(p),D=Qr(Rr),s===null?(G=$c(),G===null&&(G=Hn,Y=fs(),G.pooledCache=Y,Y.refCount++,Y!==null&&(G.pooledCacheLanes|=_),G=Y),p.memoizedState={parent:D,cache:G},Rs(p),oa(p,Rr,G)):((s.lanes&_)!==0&&(yu(s,p),go(p,null,null,_),Ba()),G=s.memoizedState,Y=p.memoizedState,G.parent!==D?(G={parent:D,cache:D},p.memoizedState=G,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=G),oa(p,Rr,D)):(D=Y.cache,oa(p,Rr,D),D!==G.cache&&Rc(p,[Rr],_,!0))),pr(s,p,p.pendingProps.children,_),p.child;case 29:throw p.pendingProps}throw Error(l(156,p.tag))}function Ws(s){s.flags|=4}function ch(s,p,_,D,G){if((p=(s.mode&32)!==0)&&(p=!1),p){if(s.flags|=16777216,(G&335544128)===G)if(s.stateNode.complete)s.flags|=8192;else if(Dl())s.flags|=8192;else throw ks=mu,du}else s.flags&=-16777217}function hh(s,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Up(p))if(Dl())s.flags|=8192;else throw ks=mu,du}function El(s,p){p!==null&&(s.flags|=4),s.flags&16384&&(p=s.tag!==22?Br():536870912,s.lanes|=p,Mo|=p)}function Tl(s,p){if(!_n)switch(s.tailMode){case"hidden":p=s.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?s.tail=null:_.sibling=null;break;case"collapsed":_=s.tail;for(var D=null;_!==null;)_.alternate!==null&&(D=_),_=_.sibling;D===null?p||s.tail===null?s.tail=null:s.tail.sibling=null:D.sibling=null}}function Wn(s){var p=s.alternate!==null&&s.alternate.child===s.child,_=0,D=0;if(p)for(var G=s.child;G!==null;)_|=G.lanes|G.childLanes,D|=G.subtreeFlags&65011712,D|=G.flags&65011712,G.return=s,G=G.sibling;else for(G=s.child;G!==null;)_|=G.lanes|G.childLanes,D|=G.subtreeFlags,D|=G.flags,G.return=s,G=G.sibling;return s.subtreeFlags|=D,s.childLanes=_,p}function Gf(s,p,_){var D=p.pendingProps;switch(Na(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(p),null;case 1:return Wn(p),null;case 3:return _=p.stateNode,D=null,s!==null&&(D=s.memoizedState.cache),p.memoizedState.cache!==D&&(p.flags|=2048),zs(Rr),Oe(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(s===null||s.child===null)&&(Pa(p)?Ws(p):s===null||s.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,sa())),Wn(p),null;case 26:var G=p.type,Y=p.memoizedState;return s===null?(Ws(p),Y!==null?(Wn(p),hh(p,Y)):(Wn(p),ch(p,G,null,D,_))):Y?Y!==s.memoizedState?(Ws(p),Wn(p),hh(p,Y)):(Wn(p),p.flags&=-16777217):(s=s.memoizedProps,s!==D&&Ws(p),Wn(p),ch(p,G,s,D,_)),null;case 27:if(be(p),_=he.current,G=p.type,s!==null&&p.stateNode!=null)s.memoizedProps!==D&&Ws(p);else{if(!D){if(p.stateNode===null)throw Error(l(166));return Wn(p),null}s=fe.current,Pa(p)?Jo(p):(s=Dp(G,D,_),p.stateNode=s,Ws(p))}return Wn(p),null;case 5:if(be(p),G=p.type,s!==null&&p.stateNode!=null)s.memoizedProps!==D&&Ws(p);else{if(!D){if(p.stateNode===null)throw Error(l(166));return Wn(p),null}if(Y=fe.current,Pa(p))Jo(p);else{var se=jl(he.current);switch(Y){case 1:Y=se.createElementNS("http://www.w3.org/2000/svg",G);break;case 2:Y=se.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;default:switch(G){case"svg":Y=se.createElementNS("http://www.w3.org/2000/svg",G);break;case"math":Y=se.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;case"script":Y=se.createElement("div"),Y.innerHTML="<script><\/script>",Y=Y.removeChild(Y.firstChild);break;case"select":Y=typeof D.is=="string"?se.createElement("select",{is:D.is}):se.createElement("select"),D.multiple?Y.multiple=!0:D.size&&(Y.size=D.size);break;default:Y=typeof D.is=="string"?se.createElement(G,{is:D.is}):se.createElement(G)}}Y[pn]=p,Y[Vn]=D;e:for(se=p.child;se!==null;){if(se.tag===5||se.tag===6)Y.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===p)break e;for(;se.sibling===null;){if(se.return===null||se.return===p)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}p.stateNode=Y;e:switch(ei(Y,G,D),G){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}D&&Ws(p)}}return Wn(p),ch(p,p.type,s===null?null:s.memoizedProps,p.pendingProps,_),null;case 6:if(s&&p.stateNode!=null)s.memoizedProps!==D&&Ws(p);else{if(typeof D!="string"&&p.stateNode===null)throw Error(l(166));if(s=he.current,Pa(p)){if(s=p.stateNode,_=p.memoizedProps,D=null,G=kr,G!==null)switch(G.tag){case 27:case 5:D=G.memoizedProps}s[pn]=p,s=!!(s.nodeValue===_||D!==null&&D.suppressHydrationWarning===!0||Ap(s.nodeValue,_)),s||ia(p,!0)}else s=jl(s).createTextNode(D),s[pn]=p,p.stateNode=s}return Wn(p),null;case 31:if(_=p.memoizedState,s===null||s.memoizedState!==null){if(D=Pa(p),_!==null){if(s===null){if(!D)throw Error(l(318));if(s=p.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(557));s[pn]=p}else me(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Wn(p),s=!1}else _=sa(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),s=!0;if(!s)return p.flags&256?(vi(p),p):(vi(p),null);if((p.flags&128)!==0)throw Error(l(558))}return Wn(p),null;case 13:if(D=p.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(G=Pa(p),D!==null&&D.dehydrated!==null){if(s===null){if(!G)throw Error(l(318));if(G=p.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(l(317));G[pn]=p}else me(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Wn(p),G=!1}else G=sa(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=G),G=!0;if(!G)return p.flags&256?(vi(p),p):(vi(p),null)}return vi(p),(p.flags&128)!==0?(p.lanes=_,p):(_=D!==null,s=s!==null&&s.memoizedState!==null,_&&(D=p.child,G=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(G=D.alternate.memoizedState.cachePool.pool),Y=null,D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(Y=D.memoizedState.cachePool.pool),Y!==G&&(D.flags|=2048)),_!==s&&_&&(p.child.flags|=8192),El(p,p.updateQueue),Wn(p),null);case 4:return Oe(),s===null&&zh(p.stateNode.containerInfo),Wn(p),null;case 10:return zs(p.type),Wn(p),null;case 19:if(ae(xr),D=p.memoizedState,D===null)return Wn(p),null;if(G=(p.flags&128)!==0,Y=D.rendering,Y===null)if(G)Tl(D,!1);else{if(or!==0||s!==null&&(s.flags&128)!==0)for(s=p.child;s!==null;){if(Y=xu(s),Y!==null){for(p.flags|=128,Tl(D,!1),s=Y.updateQueue,p.updateQueue=s,El(p,s),p.subtreeFlags=0,s=_,_=p.child;_!==null;)bf(_,s),_=_.sibling;return re(xr,xr.current&1|2),_n&&Ii(p,D.treeForkCount),p.child}s=s.sibling}D.tail!==null&&He()>Ga&&(p.flags|=128,G=!0,Tl(D,!1),p.lanes=4194304)}else{if(!G)if(s=xu(Y),s!==null){if(p.flags|=128,G=!0,s=s.updateQueue,p.updateQueue=s,El(p,s),Tl(D,!0),D.tail===null&&D.tailMode==="hidden"&&!Y.alternate&&!_n)return Wn(p),null}else 2*He()-D.renderingStartTime>Ga&&_!==536870912&&(p.flags|=128,G=!0,Tl(D,!1),p.lanes=4194304);D.isBackwards?(Y.sibling=p.child,p.child=Y):(s=D.last,s!==null?s.sibling=Y:p.child=Y,D.last=Y)}return D.tail!==null?(s=D.tail,D.rendering=s,D.tail=s.sibling,D.renderingStartTime=He(),s.sibling=null,_=xr.current,re(xr,G?_&1|2:_&1),_n&&Ii(p,D.treeForkCount),s):(Wn(p),null);case 22:case 23:return vi(p),il(),D=p.memoizedState!==null,s!==null?s.memoizedState!==null!==D&&(p.flags|=8192):D&&(p.flags|=8192),D?(_&536870912)!==0&&(p.flags&128)===0&&(Wn(p),p.subtreeFlags&6&&(p.flags|=8192)):Wn(p),_=p.updateQueue,_!==null&&El(p,_.retryQueue),_=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(_=s.memoizedState.cachePool.pool),D=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(D=p.memoizedState.cachePool.pool),D!==_&&(p.flags|=2048),s!==null&&ae(za),null;case 24:return _=null,s!==null&&(_=s.memoizedState.cache),p.memoizedState.cache!==_&&(p.flags|=2048),zs(Rr),Wn(p),null;case 25:return null;case 30:return null}throw Error(l(156,p.tag))}function Cl(s,p){switch(Na(p),p.tag){case 1:return s=p.flags,s&65536?(p.flags=s&-65537|128,p):null;case 3:return zs(Rr),Oe(),s=p.flags,(s&65536)!==0&&(s&128)===0?(p.flags=s&-65537|128,p):null;case 26:case 27:case 5:return be(p),null;case 31:if(p.memoizedState!==null){if(vi(p),p.alternate===null)throw Error(l(340));me()}return s=p.flags,s&65536?(p.flags=s&-65537|128,p):null;case 13:if(vi(p),s=p.memoizedState,s!==null&&s.dehydrated!==null){if(p.alternate===null)throw Error(l(340));me()}return s=p.flags,s&65536?(p.flags=s&-65537|128,p):null;case 19:return ae(xr),null;case 4:return Oe(),null;case 10:return zs(p.type),null;case 22:case 23:return vi(p),il(),s!==null&&ae(za),s=p.flags,s&65536?(p.flags=s&-65537|128,p):null;case 24:return zs(Rr),null;case 25:return null;default:return null}}function Bu(s,p){switch(Na(p),p.tag){case 3:zs(Rr),Oe();break;case 26:case 27:case 5:be(p);break;case 4:Oe();break;case 31:p.memoizedState!==null&&vi(p);break;case 13:vi(p);break;case 19:ae(xr);break;case 10:zs(p.type);break;case 22:case 23:vi(p),il(),s!==null&&ae(za);break;case 24:zs(Rr)}}function Ao(s,p){try{var _=p.updateQueue,D=_!==null?_.lastEffect:null;if(D!==null){var G=D.next;_=G;do{if((_.tag&s)===s){D=void 0;var Y=_.create,se=_.inst;D=Y(),se.destroy=D}_=_.next}while(_!==G)}}catch(de){Fn(p,p.return,de)}}function Hs(s,p,_){try{var D=p.updateQueue,G=D!==null?D.lastEffect:null;if(G!==null){var Y=G.next;D=Y;do{if((D.tag&s)===s){var se=D.inst,de=se.destroy;if(de!==void 0){se.destroy=void 0,G=p;var De=_,Xe=de;try{Xe()}catch(ot){Fn(G,De,ot)}}}D=D.next}while(D!==Y)}}catch(ot){Fn(p,p.return,ot)}}function Al(s){var p=s.updateQueue;if(p!==null){var _=s.stateNode;try{bu(p,_)}catch(D){Fn(s,s.return,D)}}}function fh(s,p,_){_.props=ci(s.type,s.memoizedProps),_.state=s.memoizedState;try{_.componentWillUnmount()}catch(D){Fn(s,p,D)}}function xi(s,p){try{var _=s.ref;if(_!==null){switch(s.tag){case 26:case 27:case 5:var D=s.stateNode;break;case 30:D=s.stateNode;break;default:D=s.stateNode}typeof _=="function"?s.refCleanup=_(D):_.current=D}}catch(G){Fn(s,p,G)}}function si(s,p){var _=s.ref,D=s.refCleanup;if(_!==null)if(typeof D=="function")try{D()}catch(G){Fn(s,p,G)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(G){Fn(s,p,G)}else _.current=null}function Kf(s){var p=s.type,_=s.memoizedProps,D=s.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":_.autoFocus&&D.focus();break e;case"img":_.src?D.src=_.src:_.srcSet&&(D.srcset=_.srcSet)}}catch(G){Fn(s,s.return,G)}}function Uu(s,p,_){try{var D=s.stateNode;Od(D,s.type,_,p),D[Vn]=p}catch(G){Fn(s,s.return,G)}}function qf(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zt(s.type)||s.tag===4}function ph(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zt(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dh(s,p,_){var D=s.tag;if(D===5||D===6)s=s.stateNode,p?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(s,p):(p=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,p.appendChild(s),_=_._reactRootContainer,_!=null||p.onclick!==null||(p.onclick=Cr));else if(D!==4&&(D===27&&Zt(s.type)&&(_=s.stateNode,p=null),s=s.child,s!==null))for(dh(s,p,_),s=s.sibling;s!==null;)dh(s,p,_),s=s.sibling}function ju(s,p,_){var D=s.tag;if(D===5||D===6)s=s.stateNode,p?_.insertBefore(s,p):_.appendChild(s);else if(D!==4&&(D===27&&Zt(s.type)&&(_=s.stateNode),s=s.child,s!==null))for(ju(s,p,_),s=s.sibling;s!==null;)ju(s,p,_),s=s.sibling}function Yf(s){var p=s.stateNode,_=s.memoizedProps;try{for(var D=s.type,G=p.attributes;G.length;)p.removeAttributeNode(G[0]);ei(p,D,_),p[pn]=s,p[Vn]=_}catch(Y){Fn(s,s.return,Y)}}var Gs=!1,Mr=!1,mh=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,Gr=null;function _d(s,p){if(s=s.containerInfo,Ul=cc,s=mf(s),Cc(s)){if("selectionStart"in s)var _={start:s.selectionStart,end:s.selectionEnd};else e:{_=(_=s.ownerDocument)&&_.defaultView||window;var D=_.getSelection&&_.getSelection();if(D&&D.rangeCount!==0){_=D.anchorNode;var G=D.anchorOffset,Y=D.focusNode;D=D.focusOffset;try{_.nodeType,Y.nodeType}catch{_=null;break e}var se=0,de=-1,De=-1,Xe=0,ot=0,ut=s,Qe=null;t:for(;;){for(var tt;ut!==_||G!==0&&ut.nodeType!==3||(de=se+G),ut!==Y||D!==0&&ut.nodeType!==3||(De=se+D),ut.nodeType===3&&(se+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)Qe=ut,ut=tt;for(;;){if(ut===s)break t;if(Qe===_&&++Xe===G&&(de=se),Qe===Y&&++ot===D&&(De=se),(tt=ut.nextSibling)!==null)break;ut=Qe,Qe=ut.parentNode}ut=tt}_=de===-1||De===-1?null:{start:de,end:De}}else _=null}_=_||{start:0,end:0}}else _=null;for(Wh={focusedElem:s,selectionRange:_},cc=!1,Gr=p;Gr!==null;)if(p=Gr,s=p.child,(p.subtreeFlags&1028)!==0&&s!==null)s.return=p,Gr=s;else for(;Gr!==null;){switch(p=Gr,Y=p.alternate,s=p.flags,p.tag){case 0:if((s&4)!==0&&(s=p.updateQueue,s=s!==null?s.events:null,s!==null))for(_=0;_<s.length;_++)G=s[_],G.ref.impl=G.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&Y!==null){s=void 0,_=p,G=Y.memoizedProps,Y=Y.memoizedState,D=_.stateNode;try{var Bt=ci(_.type,G);s=D.getSnapshotBeforeUpdate(Bt,Y),D.__reactInternalSnapshotBeforeUpdate=s}catch(Qt){Fn(_,_.return,Qt)}}break;case 3:if((s&1024)!==0){if(s=p.stateNode.containerInfo,_=s.nodeType,_===9)nc(s);else if(_===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":nc(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(l(163))}if(s=p.sibling,s!==null){s.return=p.return,Gr=s;break}Gr=p.return}}function gh(s,p,_){var D=_.flags;switch(_.tag){case 0:case 11:case 15:qs(s,_),D&4&&Ao(5,_);break;case 1:if(qs(s,_),D&4)if(s=_.stateNode,p===null)try{s.componentDidMount()}catch(se){Fn(_,_.return,se)}else{var G=ci(_.type,p.memoizedProps);p=p.memoizedState;try{s.componentDidUpdate(G,p,s.__reactInternalSnapshotBeforeUpdate)}catch(se){Fn(_,_.return,se)}}D&64&&Al(_),D&512&&xi(_,_.return);break;case 3:if(qs(s,_),D&64&&(s=_.updateQueue,s!==null)){if(p=null,_.child!==null)switch(_.child.tag){case 27:case 5:p=_.child.stateNode;break;case 1:p=_.child.stateNode}try{bu(s,p)}catch(se){Fn(_,_.return,se)}}break;case 27:p===null&&D&4&&Yf(_);case 26:case 5:qs(s,_),p===null&&D&4&&Kf(_),D&512&&xi(_,_.return);break;case 12:qs(s,_);break;case 31:qs(s,_),D&4&&bh(s,_);break;case 13:qs(s,_),D&4&&Zf(s,_),D&64&&(s=_.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(_=Qu.bind(null,_),Vd(s,_))));break;case 22:if(D=_.memoizedState!==null||Gs,!D){p=p!==null&&p.memoizedState!==null||Mr,G=Gs;var Y=Mr;Gs=D,(Mr=p)&&!Y?Is(s,_,(_.subtreeFlags&8772)!==0):qs(s,_),Gs=G,Mr=Y}break;case 30:break;default:qs(s,_)}}function yh(s){var p=s.alternate;p!==null&&(s.alternate=null,yh(p)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(p=s.stateNode,p!==null&&ni(p)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var qn=null,Si=!1;function Ks(s,p,_){for(_=_.child;_!==null;)Qf(s,p,_),_=_.sibling}function Qf(s,p,_){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(mt,_)}catch{}switch(_.tag){case 26:Mr||si(_,p),Ks(s,p,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Mr||si(_,p);var D=qn,G=Si;Zt(_.type)&&(qn=_.stateNode,Si=!1),Ks(s,p,_),Hl(_.stateNode),qn=D,Si=G;break;case 5:Mr||si(_,p);case 6:if(D=qn,G=Si,qn=null,Ks(s,p,_),qn=D,Si=G,qn!==null)if(Si)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(_.stateNode)}catch(Y){Fn(_,p,Y)}else try{qn.removeChild(_.stateNode)}catch(Y){Fn(_,p,Y)}break;case 18:qn!==null&&(Si?(s=qn,Gh(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,_.stateNode),jo(s)):Gh(qn,_.stateNode));break;case 4:D=qn,G=Si,qn=_.stateNode.containerInfo,Si=!0,Ks(s,p,_),qn=D,Si=G;break;case 0:case 11:case 14:case 15:Hs(2,_,p),Mr||Hs(4,_,p),Ks(s,p,_);break;case 1:Mr||(si(_,p),D=_.stateNode,typeof D.componentWillUnmount=="function"&&fh(_,p,D)),Ks(s,p,_);break;case 21:Ks(s,p,_);break;case 22:Mr=(D=Mr)||_.memoizedState!==null,Ks(s,p,_),Mr=D;break;default:Ks(s,p,_)}}function bh(s,p){if(p.memoizedState===null&&(s=p.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{jo(s)}catch(_){Fn(p,p.return,_)}}}function Zf(s,p){if(p.memoizedState===null&&(s=p.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jo(s)}catch(_){Fn(p,p.return,_)}}function Ed(s){switch(s.tag){case 31:case 13:case 19:var p=s.stateNode;return p===null&&(p=s.stateNode=new Xf),p;case 22:return s=s.stateNode,p=s._retryCache,p===null&&(p=s._retryCache=new Xf),p;default:throw Error(l(435,s.tag))}}function Wu(s,p){var _=Ed(s);p.forEach(function(D){if(!_.has(D)){_.add(D);var G=$d.bind(null,s,D);D.then(G,G)}})}function wi(s,p){var _=p.deletions;if(_!==null)for(var D=0;D<_.length;D++){var G=_[D],Y=s,se=p,de=se;e:for(;de!==null;){switch(de.tag){case 27:if(Zt(de.type)){qn=de.stateNode,Si=!1;break e}break;case 5:qn=de.stateNode,Si=!1;break e;case 3:case 4:qn=de.stateNode.containerInfo,Si=!0;break e}de=de.return}if(qn===null)throw Error(l(160));Qf(Y,se,G),qn=null,Si=!1,Y=G.alternate,Y!==null&&(Y.return=null),G.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)Jf(p,s),p=p.sibling}var xs=null;function Jf(s,p){var _=s.alternate,D=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:wi(p,s),Yn(s),D&4&&(Hs(3,s,s.return),Ao(3,s),Hs(5,s,s.return));break;case 1:wi(p,s),Yn(s),D&512&&(Mr||_===null||si(_,_.return)),D&64&&Gs&&(s=s.updateQueue,s!==null&&(D=s.callbacks,D!==null&&(_=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=_===null?D:_.concat(D))));break;case 26:var G=xs;if(wi(p,s),Yn(s),D&512&&(Mr||_===null||si(_,_.return)),D&4){var Y=_!==null?_.memoizedState:null;if(D=s.memoizedState,_===null)if(D===null)if(s.stateNode===null){e:{D=s.type,_=s.memoizedProps,G=G.ownerDocument||G;t:switch(D){case"title":Y=G.getElementsByTagName("title")[0],(!Y||Y[qr]||Y[pn]||Y.namespaceURI==="http://www.w3.org/2000/svg"||Y.hasAttribute("itemprop"))&&(Y=G.createElement(D),G.head.insertBefore(Y,G.querySelector("head > title"))),ei(Y,D,_),Y[pn]=s,$n(Y),D=Y;break e;case"link":var se=zp("link","href",G).get(D+(_.href||""));if(se){for(var de=0;de<se.length;de++)if(Y=se[de],Y.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&Y.getAttribute("rel")===(_.rel==null?null:_.rel)&&Y.getAttribute("title")===(_.title==null?null:_.title)&&Y.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){se.splice(de,1);break t}}Y=G.createElement(D),ei(Y,D,_),G.head.appendChild(Y);break;case"meta":if(se=zp("meta","content",G).get(D+(_.content||""))){for(de=0;de<se.length;de++)if(Y=se[de],Y.getAttribute("content")===(_.content==null?null:""+_.content)&&Y.getAttribute("name")===(_.name==null?null:_.name)&&Y.getAttribute("property")===(_.property==null?null:_.property)&&Y.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&Y.getAttribute("charset")===(_.charSet==null?null:_.charSet)){se.splice(de,1);break t}}Y=G.createElement(D),ei(Y,D,_),G.head.appendChild(Y);break;default:throw Error(l(468,D))}Y[pn]=s,$n(Y),D=Y}s.stateNode=D}else Bp(G,s.type,s.stateNode);else s.stateNode=Vp(G,D,s.memoizedProps);else Y!==D?(Y===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):Y.count--,D===null?Bp(G,s.type,s.stateNode):Vp(G,D,s.memoizedProps)):D===null&&s.stateNode!==null&&Uu(s,s.memoizedProps,_.memoizedProps)}break;case 27:wi(p,s),Yn(s),D&512&&(Mr||_===null||si(_,_.return)),_!==null&&D&4&&Uu(s,s.memoizedProps,_.memoizedProps);break;case 5:if(wi(p,s),Yn(s),D&512&&(Mr||_===null||si(_,_.return)),s.flags&32){G=s.stateNode;try{Kn(G,"")}catch(Bt){Fn(s,s.return,Bt)}}D&4&&s.stateNode!=null&&(G=s.memoizedProps,Uu(s,G,_!==null?_.memoizedProps:G)),D&1024&&(mh=!0);break;case 6:if(wi(p,s),Yn(s),D&4){if(s.stateNode===null)throw Error(l(162));D=s.memoizedProps,_=s.stateNode;try{_.nodeValue=D}catch(Bt){Fn(s,s.return,Bt)}}break;case 3:if(Gl=null,G=xs,xs=ic(p.containerInfo),wi(p,s),xs=G,Yn(s),D&4&&_!==null&&_.memoizedState.isDehydrated)try{jo(p.containerInfo)}catch(Bt){Fn(s,s.return,Bt)}mh&&(mh=!1,ep(s));break;case 4:D=xs,xs=ic(s.stateNode.containerInfo),wi(p,s),Yn(s),xs=D;break;case 12:wi(p,s),Yn(s);break;case 31:wi(p,s),Yn(s),D&4&&(D=s.updateQueue,D!==null&&(s.updateQueue=null,Wu(s,D)));break;case 13:wi(p,s),Yn(s),s.child.flags&8192&&s.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(Ll=He()),D&4&&(D=s.updateQueue,D!==null&&(s.updateQueue=null,Wu(s,D)));break;case 22:G=s.memoizedState!==null;var De=_!==null&&_.memoizedState!==null,Xe=Gs,ot=Mr;if(Gs=Xe||G,Mr=ot||De,wi(p,s),Mr=ot,Gs=Xe,Yn(s),D&8192)e:for(p=s.stateNode,p._visibility=G?p._visibility&-2:p._visibility|1,G&&(_===null||De||Gs||Mr||Wa(s)),_=null,p=s;;){if(p.tag===5||p.tag===26){if(_===null){De=_=p;try{if(Y=De.stateNode,G)se=Y.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{de=De.stateNode;var ut=De.memoizedProps.style,Qe=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;de.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Bt){Fn(De,De.return,Bt)}}}else if(p.tag===6){if(_===null){De=p;try{De.stateNode.nodeValue=G?"":De.memoizedProps}catch(Bt){Fn(De,De.return,Bt)}}}else if(p.tag===18){if(_===null){De=p;try{var tt=De.stateNode;G?Wi(tt,!0):Wi(De.stateNode,!1)}catch(Bt){Fn(De,De.return,Bt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===s)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;_===p&&(_=null),p=p.return}_===p&&(_=null),p.sibling.return=p.return,p=p.sibling}D&4&&(D=s.updateQueue,D!==null&&(_=D.retryQueue,_!==null&&(D.retryQueue=null,Wu(s,_))));break;case 19:wi(p,s),Yn(s),D&4&&(D=s.updateQueue,D!==null&&(s.updateQueue=null,Wu(s,D)));break;case 30:break;case 21:break;default:wi(p,s),Yn(s)}}function Yn(s){var p=s.flags;if(p&2){try{for(var _,D=s.return;D!==null;){if(qf(D)){_=D;break}D=D.return}if(_==null)throw Error(l(160));switch(_.tag){case 27:var G=_.stateNode,Y=ph(s);ju(s,Y,G);break;case 5:var se=_.stateNode;_.flags&32&&(Kn(se,""),_.flags&=-33);var de=ph(s);ju(s,de,se);break;case 3:case 4:var De=_.stateNode.containerInfo,Xe=ph(s);dh(s,Xe,De);break;default:throw Error(l(161))}}catch(ot){Fn(s,s.return,ot)}s.flags&=-3}p&4096&&(s.flags&=-4097)}function ep(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var p=s;ep(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),s=s.sibling}}function qs(s,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)gh(s,p.alternate,p),p=p.sibling}function Wa(s){for(s=s.child;s!==null;){var p=s;switch(p.tag){case 0:case 11:case 14:case 15:Hs(4,p,p.return),Wa(p);break;case 1:si(p,p.return);var _=p.stateNode;typeof _.componentWillUnmount=="function"&&fh(p,p.return,_),Wa(p);break;case 27:Hl(p.stateNode);case 26:case 5:si(p,p.return),Wa(p);break;case 22:p.memoizedState===null&&Wa(p);break;case 30:Wa(p);break;default:Wa(p)}s=s.sibling}}function Is(s,p,_){for(_=_&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var D=p.alternate,G=s,Y=p,se=Y.flags;switch(Y.tag){case 0:case 11:case 15:Is(G,Y,_),Ao(4,Y);break;case 1:if(Is(G,Y,_),D=Y,G=D.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(Xe){Fn(D,D.return,Xe)}if(D=Y,G=D.updateQueue,G!==null){var de=D.stateNode;try{var De=G.shared.hiddenCallbacks;if(De!==null)for(G.shared.hiddenCallbacks=null,G=0;G<De.length;G++)gs(De[G],de)}catch(Xe){Fn(D,D.return,Xe)}}_&&se&64&&Al(Y),xi(Y,Y.return);break;case 27:Yf(Y);case 26:case 5:Is(G,Y,_),_&&D===null&&se&4&&Kf(Y),xi(Y,Y.return);break;case 12:Is(G,Y,_);break;case 31:Is(G,Y,_),_&&se&4&&bh(G,Y);break;case 13:Is(G,Y,_),_&&se&4&&Zf(G,Y);break;case 22:Y.memoizedState===null&&Is(G,Y,_),xi(Y,Y.return);break;case 30:break;default:Is(G,Y,_)}p=p.sibling}}function xh(s,p){var _=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(_=s.memoizedState.cachePool.pool),s=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(s=p.memoizedState.cachePool.pool),s!==_&&(s!=null&&s.refCount++,_!=null&&el(_))}function Sh(s,p){s=null,p.alternate!==null&&(s=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==s&&(p.refCount++,s!=null&&el(s))}function Ss(s,p,_,D){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)tp(s,p,_,D),p=p.sibling}function tp(s,p,_,D){var G=p.flags;switch(p.tag){case 0:case 11:case 15:Ss(s,p,_,D),G&2048&&Ao(9,p);break;case 1:Ss(s,p,_,D);break;case 3:Ss(s,p,_,D),G&2048&&(s=null,p.alternate!==null&&(s=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==s&&(p.refCount++,s!=null&&el(s)));break;case 12:if(G&2048){Ss(s,p,_,D),s=p.stateNode;try{var Y=p.memoizedProps,se=Y.id,de=Y.onPostCommit;typeof de=="function"&&de(se,p.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(De){Fn(p,p.return,De)}}else Ss(s,p,_,D);break;case 31:Ss(s,p,_,D);break;case 13:Ss(s,p,_,D);break;case 23:break;case 22:Y=p.stateNode,se=p.alternate,p.memoizedState!==null?Y._visibility&2?Ss(s,p,_,D):kl(s,p):Y._visibility&2?Ss(s,p,_,D):(Y._visibility|=2,ma(s,p,_,D,(p.subtreeFlags&10256)!==0||!1)),G&2048&&xh(se,p);break;case 24:Ss(s,p,_,D),G&2048&&Sh(p.alternate,p);break;default:Ss(s,p,_,D)}}function ma(s,p,_,D,G){for(G=G&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var Y=s,se=p,de=_,De=D,Xe=se.flags;switch(se.tag){case 0:case 11:case 15:ma(Y,se,de,De,G),Ao(8,se);break;case 23:break;case 22:var ot=se.stateNode;se.memoizedState!==null?ot._visibility&2?ma(Y,se,de,De,G):kl(Y,se):(ot._visibility|=2,ma(Y,se,de,De,G)),G&&Xe&2048&&xh(se.alternate,se);break;case 24:ma(Y,se,de,De,G),G&&Xe&2048&&Sh(se.alternate,se);break;default:ma(Y,se,de,De,G)}p=p.sibling}}function kl(s,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var _=s,D=p,G=D.flags;switch(D.tag){case 22:kl(_,D),G&2048&&xh(D.alternate,D);break;case 24:kl(_,D),G&2048&&Sh(D.alternate,D);break;default:kl(_,D)}p=p.sibling}}var Rl=8192;function ko(s,p,_){if(s.subtreeFlags&Rl)for(s=s.child;s!==null;)np(s,p,_),s=s.sibling}function np(s,p,_){switch(s.tag){case 26:ko(s,p,_),s.flags&Rl&&s.memoizedState!==null&&zo(_,xs,s.memoizedState,s.memoizedProps);break;case 5:ko(s,p,_);break;case 3:case 4:var D=xs;xs=ic(s.stateNode.containerInfo),ko(s,p,_),xs=D;break;case 22:s.memoizedState===null&&(D=s.alternate,D!==null&&D.memoizedState!==null?(D=Rl,Rl=16777216,ko(s,p,_),Rl=D):ko(s,p,_));break;default:ko(s,p,_)}}function rp(s){var p=s.alternate;if(p!==null&&(s=p.child,s!==null)){p.child=null;do p=s.sibling,s.sibling=null,s=p;while(s!==null)}}function Ml(s){var p=s.deletions;if((s.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var D=p[_];Gr=D,sp(D,s)}rp(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ip(s),s=s.sibling}function ip(s){switch(s.tag){case 0:case 11:case 15:Ml(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:Ml(s);break;case 12:Ml(s);break;case 22:var p=s.stateNode;s.memoizedState!==null&&p._visibility&2&&(s.return===null||s.return.tag!==13)?(p._visibility&=-3,Hu(s)):Ml(s);break;default:Ml(s)}}function Hu(s){var p=s.deletions;if((s.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var D=p[_];Gr=D,sp(D,s)}rp(s)}for(s=s.child;s!==null;){switch(p=s,p.tag){case 0:case 11:case 15:Hs(8,p,p.return),Hu(p);break;case 22:_=p.stateNode,_._visibility&2&&(_._visibility&=-3,Hu(p));break;default:Hu(p)}s=s.sibling}}function sp(s,p){for(;Gr!==null;){var _=Gr;switch(_.tag){case 0:case 11:case 15:Hs(8,_,p);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var D=_.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:el(_.memoizedState.cache)}if(D=_.child,D!==null)D.return=_,Gr=D;else e:for(_=s;Gr!==null;){D=Gr;var G=D.sibling,Y=D.return;if(yh(D),D===_){Gr=null;break e}if(G!==null){G.return=Y,Gr=G;break e}Gr=Y}}}var Td={getCacheForType:function(s){var p=Qr(Rr),_=p.data.get(s);return _===void 0&&(_=s(),p.data.set(s,_)),_},cacheSignal:function(){return Qr(Rr).controller.signal}},Cd=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Hn=null,yn=null,Sn=0,Pn=0,Vi=null,ga=!1,Ro=!1,wh=!1,ws=0,or=0,ya=0,Ha=0,_h=0,zi=0,Mo=0,$l=null,_i=null,Eh=!1,Ll=0,ap=0,Ga=1/0,Gu=null,va=null,Vr=0,ba=null,$o=null,Ys=0,Th=0,Ch=null,op=null,Il=0,Ah=null;function Bi(){return(Mn&2)!==0&&Sn!==0?Sn&-Sn:H.T!==null?Ui():vr()}function lp(){if(zi===0)if((Sn&536870912)===0||_n){var s=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),zi=s}else zi=536870912;return s=Oi.current,s!==null&&(s.flags|=32),zi}function Ei(s,p,_){(s===Hn&&(Pn===2||Pn===9)||s.cancelPendingCommit!==null)&&(Lo(s,0),Xs(s,Sn,zi,!1)),Tn(s,_),((Mn&2)===0||s!==Hn)&&(s===Hn&&((Mn&2)===0&&(Ha|=_),or===4&&Xs(s,Sn,zi,!1)),Ds(s))}function up(s,p,_){if((Mn&6)!==0)throw Error(l(327));var D=!_&&(p&127)===0&&(p&s.expiredLanes)===0||vt(s,p),G=D?kd(s,p):Rh(s,p,!0),Y=D;do{if(G===0){Ro&&!D&&Xs(s,p,0,!1);break}else{if(_=s.current.alternate,Y&&!hp(_)){G=Rh(s,p,!1),Y=!1;continue}if(G===2){if(Y=p,s.errorRecoveryDisabledLanes&Y)var se=0;else se=s.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){p=se;e:{var de=s;G=$l;var De=de.current.memoizedState.isDehydrated;if(De&&(Lo(de,se).flags|=256),se=Rh(de,se,!1),se!==2){if(wh&&!De){de.errorRecoveryDisabledLanes|=Y,Ha|=Y,G=4;break e}Y=_i,_i=G,Y!==null&&(_i===null?_i=Y:_i.push.apply(_i,Y))}G=se}if(Y=!1,G!==2)continue}}if(G===1){Lo(s,0),Xs(s,p,0,!0);break}e:{switch(D=s,Y=G,Y){case 0:case 1:throw Error(l(345));case 4:if((p&4194048)!==p)break;case 6:Xs(D,p,zi,!ga);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(l(329))}if((p&62914560)===p&&(G=Ll+300-He(),10<G)){if(Xs(D,p,zi,!ga),nt(D,0,!0)!==0)break e;Ys=p,D.timeoutHandle=kp(cp.bind(null,D,_,_i,Gu,Eh,p,zi,Ha,Mo,ga,Y,"Throttled",-0,0),G);break e}cp(D,_,_i,Gu,Eh,p,zi,Ha,Mo,ga,Y,null,-0,0)}}break}while(!0);Ds(s)}function cp(s,p,_,D,G,Y,se,de,De,Xe,ot,ut,Qe,tt){if(s.timeoutHandle=-1,ut=p.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cr},np(p,Y,ut);var Bt=(Y&62914560)===Y?Ll-He():(Y&4194048)===Y?ap-He():0;if(Bt=qd(ut,Bt),Bt!==null){Ys=Y,s.cancelPendingCommit=Bt(yp.bind(null,s,p,Y,_,D,G,se,de,De,ot,ut,null,Qe,tt)),Xs(s,Y,se,!Xe);return}}yp(s,p,Y,_,D,G,se,de,De)}function hp(s){for(var p=s;;){var _=p.tag;if((_===0||_===11||_===15)&&p.flags&16384&&(_=p.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var D=0;D<_.length;D++){var G=_[D],Y=G.getSnapshot;G=G.value;try{if(!sr(Y(),G))return!1}catch{return!1}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Xs(s,p,_,D){p&=~_h,p&=~Ha,s.suspendedLanes|=p,s.pingedLanes&=~p,D&&(s.warmLanes|=p),D=s.expirationTimes;for(var G=p;0<G;){var Y=31-Ce(G),se=1<<Y;D[Y]=-1,G&=~se}_!==0&&Lr(s,_,p)}function Ku(){return(Mn&6)===0?(Fl(0),!1):!0}function kh(){if(yn!==null){if(Pn===0)var s=yn.return;else s=yn,Vs=on=null,Nc(s),po=null,Di=0,s=yn;for(;s!==null;)Bu(s.alternate,s),s=s.return;yn=null}}function Lo(s,p){var _=s.timeoutHandle;_!==-1&&(s.timeoutHandle=-1,Pd(_)),_=s.cancelPendingCommit,_!==null&&(s.cancelPendingCommit=null,_()),Ys=0,kh(),Hn=s,yn=_=Yi(s.current,null),Sn=p,Pn=0,Vi=null,ga=!1,Ro=vt(s,p),wh=!1,Mo=zi=_h=Ha=ya=or=0,_i=$l=null,Eh=!1,(p&8)!==0&&(p|=p&32);var D=s.entangledLanes;if(D!==0)for(s=s.entanglements,D&=p;0<D;){var G=31-Ce(D),Y=1<<G;p|=s[G],D&=~Y}return ws=p,hs(),_}function fp(s,p){ln=null,H.H=pa,p===fo||p===nl?(p=Tf(),Pn=3):p===du?(p=Tf(),Pn=4):Pn=p===vl?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Vi=p,yn===null&&(or=1,yl(s,Li(p,s.current)))}function Dl(){var s=Oi.current;return s===null?!0:(Sn&4194048)===Sn?rs===null:(Sn&62914560)===Sn||(Sn&536870912)!==0?s===rs:!1}function pp(){var s=H.H;return H.H=pa,s===null?pa:s}function dp(){var s=H.A;return H.A=Td,s}function qu(){or=4,ga||(Sn&4194048)!==Sn&&Oi.current!==null||(Ro=!0),(ya&134217727)===0&&(Ha&134217727)===0||Hn===null||Xs(Hn,Sn,zi,!1)}function Rh(s,p,_){var D=Mn;Mn|=2;var G=pp(),Y=dp();(Hn!==s||Sn!==p)&&(Gu=null,Lo(s,p)),p=!1;var se=or;e:do try{if(Pn!==0&&yn!==null){var de=yn,De=Vi;switch(Pn){case 8:kh(),se=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(p=!0);var Xe=Pn;if(Pn=0,Vi=null,Io(s,de,De,Xe),_&&Ro){se=0;break e}break;default:Xe=Pn,Pn=0,Vi=null,Io(s,de,De,Xe)}}Ad(),se=or;break}catch(ot){fp(s,ot)}while(!0);return p&&s.shellSuspendCounter++,Vs=on=null,Mn=D,H.H=G,H.A=Y,yn===null&&(Hn=null,Sn=0,hs()),se}function Ad(){for(;yn!==null;)mp(yn)}function kd(s,p){var _=Mn;Mn|=2;var D=pp(),G=dp();Hn!==s||Sn!==p?(Gu=null,Ga=He()+500,Lo(s,p)):Ro=vt(s,p);e:do try{if(Pn!==0&&yn!==null){p=yn;var Y=Vi;t:switch(Pn){case 1:Pn=0,Vi=null,Io(s,p,Y,1);break;case 2:case 9:if(Ef(Y)){Pn=0,Vi=null,gp(p);break}p=function(){Pn!==2&&Pn!==9||Hn!==s||(Pn=7),Ds(s)},Y.then(p,p);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:Ef(Y)?(Pn=0,Vi=null,gp(p)):(Pn=0,Vi=null,Io(s,p,Y,7));break;case 5:var se=null;switch(yn.tag){case 26:se=yn.memoizedState;case 5:case 27:var de=yn;if(se?Up(se):de.stateNode.complete){Pn=0,Vi=null;var De=de.sibling;if(De!==null)yn=De;else{var Xe=de.return;Xe!==null?(yn=Xe,Yu(Xe)):yn=null}break t}}Pn=0,Vi=null,Io(s,p,Y,5);break;case 6:Pn=0,Vi=null,Io(s,p,Y,6);break;case 8:kh(),or=6;break e;default:throw Error(l(462))}}Rd();break}catch(ot){fp(s,ot)}while(!0);return Vs=on=null,H.H=D,H.A=G,Mn=_,yn!==null?0:(Hn=null,Sn=0,hs(),or)}function Rd(){for(;yn!==null&&!bn();)mp(yn)}function mp(s){var p=Hf(s.alternate,s,ws);s.memoizedProps=s.pendingProps,p===null?Yu(s):yn=p}function gp(s){var p=s,_=p.alternate;switch(p.tag){case 15:case 0:p=Uf(_,p,p.pendingProps,p.type,void 0,Sn);break;case 11:p=Uf(_,p,p.pendingProps,p.type.render,p.ref,Sn);break;case 5:Nc(p);default:Bu(_,p),p=yn=bf(p,ws),p=Hf(_,p,ws)}s.memoizedProps=s.pendingProps,p===null?Yu(s):yn=p}function Io(s,p,_,D){Vs=on=null,Nc(p),po=null,Di=0;var G=p.return;try{if(sh(s,G,p,_,Sn)){or=1,yl(s,Li(_,s.current)),yn=null;return}}catch(Y){if(G!==null)throw yn=G,Y;or=1,yl(s,Li(_,s.current)),yn=null;return}p.flags&32768?(_n||D===1?s=!0:Ro||(Sn&536870912)!==0?s=!1:(ga=s=!0,(D===2||D===9||D===3||D===6)&&(D=Oi.current,D!==null&&D.tag===13&&(D.flags|=16384))),Ol(p,s)):Yu(p)}function Yu(s){var p=s;do{if((p.flags&32768)!==0){Ol(p,ga);return}s=p.return;var _=Gf(p.alternate,p,ws);if(_!==null){yn=_;return}if(p=p.sibling,p!==null){yn=p;return}yn=p=s}while(p!==null);or===0&&(or=5)}function Ol(s,p){do{var _=Cl(s.alternate,s);if(_!==null){_.flags&=32767,yn=_;return}if(_=s.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!p&&(s=s.sibling,s!==null)){yn=s;return}yn=s=_}while(s!==null);or=6,yn=null}function yp(s,p,_,D,G,Y,se,de,De){s.cancelPendingCommit=null;do Nl();while(Vr!==0);if((Mn&6)!==0)throw Error(l(327));if(p!==null){if(p===s.current)throw Error(l(177));if(Y=p.lanes|p.childLanes,Y|=ro,Ur(s,_,Y,se,de,De),s===Hn&&(yn=Hn=null,Sn=0),$o=p,ba=s,Ys=_,Th=Y,Ch=G,op=D,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Ld(wt,function(){return Ih(),null})):(s.callbackNode=null,s.callbackPriority=0),D=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||D){D=H.T,H.T=null,G=Q.p,Q.p=2,se=Mn,Mn|=4;try{_d(s,p,_)}finally{Mn=se,Q.p=G,H.T=D}}Vr=1,Mh(),$h(),Xu()}}function Mh(){if(Vr===1){Vr=0;var s=ba,p=$o,_=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||_){_=H.T,H.T=null;var D=Q.p;Q.p=2;var G=Mn;Mn|=4;try{Jf(p,s);var Y=Wh,se=mf(s.containerInfo),de=Y.focusedElem,De=Y.selectionRange;if(se!==de&&de&&de.ownerDocument&&df(de.ownerDocument.documentElement,de)){if(De!==null&&Cc(de)){var Xe=De.start,ot=De.end;if(ot===void 0&&(ot=Xe),"selectionStart"in de)de.selectionStart=Xe,de.selectionEnd=Math.min(ot,de.value.length);else{var ut=de.ownerDocument||document,Qe=ut&&ut.defaultView||window;if(Qe.getSelection){var tt=Qe.getSelection(),Bt=de.textContent.length,Qt=Math.min(De.start,Bt),Un=De.end===void 0?Qt:Math.min(De.end,Bt);!tt.extend&&Qt>Un&&(se=Un,Un=Qt,Qt=se);var We=pf(de,Qt),ze=pf(de,Un);if(We&&ze&&(tt.rangeCount!==1||tt.anchorNode!==We.node||tt.anchorOffset!==We.offset||tt.focusNode!==ze.node||tt.focusOffset!==ze.offset)){var Ye=ut.createRange();Ye.setStart(We.node,We.offset),tt.removeAllRanges(),Qt>Un?(tt.addRange(Ye),tt.extend(ze.node,ze.offset)):(Ye.setEnd(ze.node,ze.offset),tt.addRange(Ye))}}}}for(ut=[],tt=de;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<ut.length;de++){var lt=ut[de];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}cc=!!Ul,Wh=Ul=null}finally{Mn=G,Q.p=D,H.T=_}}s.current=p,Vr=2}}function $h(){if(Vr===2){Vr=0;var s=ba,p=$o,_=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||_){_=H.T,H.T=null;var D=Q.p;Q.p=2;var G=Mn;Mn|=4;try{gh(s,p.alternate,p)}finally{Mn=G,Q.p=D,H.T=_}}Vr=3}}function Xu(){if(Vr===4||Vr===3){Vr=0,Be();var s=ba,p=$o,_=Ys,D=op;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Vr=5:(Vr=0,$o=ba=null,Lh(s,s.pendingLanes));var G=s.pendingLanes;if(G===0&&(va=null),yr(_),p=p.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(mt,p,void 0,(p.current.flags&128)===128)}catch{}if(D!==null){p=H.T,G=Q.p,Q.p=2,H.T=null;try{for(var Y=s.onRecoverableError,se=0;se<D.length;se++){var de=D[se];Y(de.value,{componentStack:de.stack})}}finally{H.T=p,Q.p=G}}(Ys&3)!==0&&Nl(),Ds(s),G=s.pendingLanes,(_&261930)!==0&&(G&42)!==0?s===Ah?Il++:(Il=0,Ah=s):Il=0,Fl(0)}}function Lh(s,p){(s.pooledCacheLanes&=p)===0&&(p=s.pooledCache,p!=null&&(s.pooledCache=null,el(p)))}function Nl(){return Mh(),$h(),Xu(),Ih()}function Ih(){if(Vr!==5)return!1;var s=ba,p=Th;Th=0;var _=yr(Ys),D=H.T,G=Q.p;try{Q.p=32>_?32:_,H.T=null,_=Ch,Ch=null;var Y=ba,se=Ys;if(Vr=0,$o=ba=null,Ys=0,(Mn&6)!==0)throw Error(l(331));var de=Mn;if(Mn|=4,ip(Y.current),tp(Y,Y.current,se,_),Mn=de,Fl(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(mt,Y)}catch{}return!0}finally{Q.p=G,H.T=D,Lh(s,p)}}function Dh(s,p,_){p=Li(_,p),p=ih(s.stateNode,p,2),s=ms(s,p,2),s!==null&&(Tn(s,2),Ds(s))}function Fn(s,p,_){if(s.tag===3)Dh(s,s,_);else for(;p!==null;){if(p.tag===3){Dh(p,s,_);break}else if(p.tag===1){var D=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(va===null||!va.has(D))){s=Li(_,s),_=$s(2),D=ms(p,_,2),D!==null&&(Du(_,D,p,s),Tn(D,2),Ds(D));break}}p=p.return}}function Oh(s,p,_){var D=s.pingCache;if(D===null){D=s.pingCache=new Cd;var G=new Set;D.set(p,G)}else G=D.get(p),G===void 0&&(G=new Set,D.set(p,G));G.has(_)||(wh=!0,G.add(_),s=Md.bind(null,s,p,_),p.then(s,s))}function Md(s,p,_){var D=s.pingCache;D!==null&&D.delete(p),s.pingedLanes|=s.suspendedLanes&_,s.warmLanes&=~_,Hn===s&&(Sn&_)===_&&(or===4||or===3&&(Sn&62914560)===Sn&&300>He()-Ll?(Mn&2)===0&&Lo(s,0):_h|=_,Mo===Sn&&(Mo=0)),Ds(s)}function Pl(s,p){p===0&&(p=Br()),s=Cs(s,p),s!==null&&(Tn(s,p),Ds(s))}function Qu(s){var p=s.memoizedState,_=0;p!==null&&(_=p.retryLane),Pl(s,_)}function $d(s,p){var _=0;switch(s.tag){case 31:case 13:var D=s.stateNode,G=s.memoizedState;G!==null&&(_=G.retryLane);break;case 19:D=s.stateNode;break;case 22:D=s.stateNode._retryCache;break;default:throw Error(l(314))}D!==null&&D.delete(p),Pl(s,_)}function Ld(s,p){return nn(s,p)}var Do=null,Ka=null,Nh=!1,Zu=!1,Ph=!1,xa=0;function Ds(s){s!==Ka&&s.next===null&&(Ka===null?Do=Ka=s:Ka=Ka.next=s),Zu=!0,Nh||(Nh=!0,Dd())}function Fl(s,p){if(!Ph&&Zu){Ph=!0;do for(var _=!1,D=Do;D!==null;){if(s!==0){var G=D.pendingLanes;if(G===0)var Y=0;else{var se=D.suspendedLanes,de=D.pingedLanes;Y=(1<<31-Ce(42|s)+1)-1,Y&=G&~(se&~de),Y=Y&201326741?Y&201326741|1:Y?Y|2:0}Y!==0&&(_=!0,Sp(D,Y))}else Y=Sn,Y=nt(D,D===Hn?Y:0,D.cancelPendingCommit!==null||D.timeoutHandle!==-1),(Y&3)===0||vt(D,Y)||(_=!0,Sp(D,Y));D=D.next}while(_);Ph=!1}}function Id(){vp()}function vp(){Zu=Nh=!1;var s=0;xa!==0&&Nd()&&(s=xa);for(var p=He(),_=null,D=Do;D!==null;){var G=D.next,Y=bp(D,p);Y===0?(D.next=null,_===null?Do=G:_.next=G,G===null&&(Ka=_)):(_=D,(s!==0||(Y&3)!==0)&&(Zu=!0)),D=G}Vr!==0&&Vr!==5||Fl(s),xa!==0&&(xa=0)}function bp(s,p){for(var _=s.suspendedLanes,D=s.pingedLanes,G=s.expirationTimes,Y=s.pendingLanes&-62914561;0<Y;){var se=31-Ce(Y),de=1<<se,De=G[se];De===-1?((de&_)===0||(de&D)!==0)&&(G[se]=$r(de,p)):De<=p&&(s.expiredLanes|=de),Y&=~de}if(p=Hn,_=Sn,_=nt(s,s===p?_:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),D=s.callbackNode,_===0||s===p&&(Pn===2||Pn===9)||s.cancelPendingCommit!==null)return D!==null&&D!==null&&fn(D),s.callbackNode=null,s.callbackPriority=0;if((_&3)===0||vt(s,_)){if(p=_&-_,p===s.callbackPriority)return p;switch(D!==null&&fn(D),yr(_)){case 2:case 8:_=Ft;break;case 32:_=wt;break;case 268435456:_=we;break;default:_=wt}return D=xp.bind(null,s),_=nn(_,D),s.callbackPriority=p,s.callbackNode=_,p}return D!==null&&D!==null&&fn(D),s.callbackPriority=2,s.callbackNode=null,2}function xp(s,p){if(Vr!==0&&Vr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var _=s.callbackNode;if(Nl()&&s.callbackNode!==_)return null;var D=Sn;return D=nt(s,s===Hn?D:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),D===0?null:(up(s,D,p),bp(s,He()),s.callbackNode!=null&&s.callbackNode===_?xp.bind(null,s):null)}function Sp(s,p){if(Nl())return null;up(s,p,!0)}function Dd(){Mp(function(){(Mn&6)!==0?nn(zt,Id):vp()})}function Ui(){if(xa===0){var s=co;s===0&&(s=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),xa=s}return xa}function wp(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wr(""+s)}function _p(s,p){var _=p.ownerDocument.createElement("input");return _.name=p.name,_.value=p.value,s.id&&_.setAttribute("form",s.id),p.parentNode.insertBefore(_,p),s=new FormData(s),_.parentNode.removeChild(_),s}function qa(s,p,_,D,G){if(p==="submit"&&_&&_.stateNode===G){var Y=wp((G[Vn]||null).action),se=D.submitter;se&&(p=(p=se[Vn]||null)?wp(p.formAction):se.getAttribute("formAction"),p!==null&&(Y=p,se=null));var de=new Et("action","action",null,D,G);s.push({event:de,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(xa!==0){var De=se?_p(G,se):new FormData(G);fa(_,{pending:!0,data:De,method:G.method,action:Y},null,De)}}else typeof Y=="function"&&(de.preventDefault(),De=se?_p(G,se):new FormData(G),fa(_,{pending:!0,data:De,method:G.method,action:Y},Y,De))},currentTarget:G}]})}}for(var an=0;an<ou.length;an++){var Fh=ou[an],Ti=Fh.toLowerCase(),wr=Fh[0].toUpperCase()+Fh.slice(1);gi(Ti,"on"+wr)}gi($i,"onAnimationEnd"),gi(Yo,"onAnimationIteration"),gi(gf,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(to,"onTransitionRun"),gi(su,"onTransitionStart"),gi(au,"onTransitionCancel"),gi(Ln,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sa=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Ep(s,p){p=(p&4)!==0;for(var _=0;_<s.length;_++){var D=s[_],G=D.event;D=D.listeners;e:{var Y=void 0;if(p)for(var se=D.length-1;0<=se;se--){var de=D[se],De=de.instance,Xe=de.currentTarget;if(de=de.listener,De!==Y&&G.isPropagationStopped())break e;Y=de,G.currentTarget=Xe;try{Y(G)}catch(ot){lu(ot)}G.currentTarget=null,Y=De}else for(se=0;se<D.length;se++){if(de=D[se],De=de.instance,Xe=de.currentTarget,de=de.listener,De!==Y&&G.isPropagationStopped())break e;Y=de,G.currentTarget=Xe;try{Y(G)}catch(ot){lu(ot)}G.currentTarget=null,Y=De}}}}function vn(s,p){var _=p[ur];_===void 0&&(_=p[ur]=new Set);var D=s+"__bubble";_.has(D)||(ec(p,s,2,!1),_.add(D))}function Vh(s,p,_){var D=0;p&&(D|=4),ec(_,s,D,p)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function zh(s){if(!s[Ju]){s[Ju]=!0,Ir.forEach(function(_){_!=="selectionchange"&&(Sa.has(_)||Vh(_,!1,s),Vh(_,!0,s))});var p=s.nodeType===9?s:s.ownerDocument;p===null||p[Ju]||(p[Ju]=!0,Vh("selectionchange",!1,p))}}function ec(s,p,_,D){switch(Xp(p)){case 2:var G=Xd;break;case 8:G=Qd;break;default:G=Zh}_=G.bind(null,p,_,s),G=void 0,!ke||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(G=!0),D?G!==void 0?s.addEventListener(p,_,{capture:!0,passive:G}):s.addEventListener(p,_,!0):G!==void 0?s.addEventListener(p,_,{passive:G}):s.addEventListener(p,_,!1)}function Bh(s,p,_,D,G){var Y=D;if((p&1)===0&&(p&2)===0&&D!==null)e:for(;;){if(D===null)return;var se=D.tag;if(se===3||se===4){var de=D.stateNode.containerInfo;if(de===G)break;if(se===4)for(se=D.return;se!==null;){var De=se.tag;if((De===3||De===4)&&se.stateNode.containerInfo===G)return;se=se.return}for(;de!==null;){if(se=Gn(de),se===null)return;if(De=se.tag,De===5||De===6||De===26||De===27){D=Y=se;continue e}de=de.parentNode}}D=D.return}J(function(){var Xe=Y,ot=pi(_),ut=[];e:{var Qe=yf.get(s);if(Qe!==void 0){var tt=Et,Bt=s;switch(s){case"keypress":if(Te(_)===0)break e;case"keydown":case"keyup":tt=ta;break;case"focusin":Bt="focus",tt=mi;break;case"focusout":Bt="blur",tt=mi;break;case"beforeblur":case"afterblur":tt=mi;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=sd;break;case $i:case Yo:case gf:tt=Wo;break;case Ln:tt=od;break;case"scroll":case"scrollend":tt=rn;break;case"wheel":tt=Ql;break;case"copy":case"cut":case"paste":tt=Hr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=af;break;case"toggle":case"beforetoggle":tt=ld}var Qt=(p&4)!==0,Un=!Qt&&(s==="scroll"||s==="scrollend"),We=Qt?Qe!==null?Qe+"Capture":null:Qe;Qt=[];for(var ze=Xe,Ye;ze!==null;){var lt=ze;if(Ye=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Ye===null||We===null||(lt=oe(ze,We),lt!=null&&Qt.push(ji(ze,lt,Ye))),Un)break;ze=ze.return}0<Qt.length&&(Qe=new tt(Qe,Bt,null,_,ot),ut.push({event:Qe,listeners:Qt}))}}if((p&7)===0){e:{if(Qe=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Qe&&_!==Nr&&(Bt=_.relatedTarget||_.fromElement)&&(Gn(Bt)||Bt[lr]))break e;if((tt||Qe)&&(Qe=ot.window===ot?ot:(Qe=ot.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,tt?(Bt=_.relatedTarget||_.toElement,tt=Xe,Bt=Bt?Gn(Bt):null,Bt!==null&&(Un=g(Bt),Qt=Bt.tag,Bt!==Un||Qt!==5&&Qt!==27&&Qt!==6)&&(Bt=null)):(tt=null,Bt=Xe),tt!==Bt)){if(Qt=jn,lt="onMouseLeave",We="onMouseEnter",ze="mouse",(s==="pointerout"||s==="pointerover")&&(Qt=af,lt="onPointerLeave",We="onPointerEnter",ze="pointer"),Un=tt==null?Qe:Er(tt),Ye=Bt==null?Qe:Er(Bt),Qe=new Qt(lt,ze+"leave",tt,_,ot),Qe.target=Un,Qe.relatedTarget=Ye,lt=null,Gn(ot)===Xe&&(Qt=new Qt(We,ze+"enter",Bt,_,ot),Qt.target=Ye,Qt.relatedTarget=Un,lt=Qt),Un=lt,tt&&Bt)t:{for(Qt=tc,We=tt,ze=Bt,Ye=0,lt=We;lt;lt=Qt(lt))Ye++;lt=0;for(var Gt=ze;Gt;Gt=Qt(Gt))lt++;for(;0<Ye-lt;)We=Qt(We),Ye--;for(;0<lt-Ye;)ze=Qt(ze),lt--;for(;Ye--;){if(We===ze||ze!==null&&We===ze.alternate){Qt=We;break t}We=Qt(We),ze=Qt(ze)}Qt=null}else Qt=null;tt!==null&&tr(ut,Qe,tt,Qt,!1),Bt!==null&&Un!==null&&tr(ut,Un,Bt,Qt,!0)}}e:{if(Qe=Xe?Er(Xe):window,tt=Qe.nodeName&&Qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Qe.type==="file")var An=hf;else if(Sc(Qe))if(La)An=fd;else{An=cd;var Ut=ru}else tt=Qe.nodeName,!tt||tt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Xe&&tn(Xe.elementType)&&(An=hf):An=hd;if(An&&(An=An(s,Xe))){wc(ut,An,_,ot);break e}Ut&&Ut(s,Qe,Xe),s==="focusout"&&Xe&&Qe.type==="number"&&Xe.memoizedProps.value!=null&&Or(Qe,"number",Qe.value)}switch(Ut=Xe?Er(Xe):window,s){case"focusin":(Sc(Ut)||Ut.contentEditable==="true")&&(je=Ut,at=Xe,Ze=null);break;case"focusout":Ze=at=je=null;break;case"mousedown":Pt=!0;break;case"contextmenu":case"mouseup":case"dragend":Pt=!1,sn(ut,_,ot);break;case"selectionchange":if(eo)break;case"keydown":case"keyup":sn(ut,_,ot)}var cn;if(Zl)e:{switch(s){case"compositionstart":var wn="onCompositionStart";break e;case"compositionend":wn="onCompositionEnd";break e;case"compositionupdate":wn="onCompositionUpdate";break e}wn=void 0}else $a?eu(s,_)&&(wn="onCompositionEnd"):s==="keydown"&&_.keyCode===229&&(wn="onCompositionStart");wn&&(bc&&_.locale!=="ko"&&($a||wn!=="onCompositionStart"?wn==="onCompositionEnd"&&$a&&(cn=Vt()):(et=ot,gt="value"in et?et.value:et.textContent,$a=!0)),Ut=zl(Xe,wn),0<Ut.length&&(wn=new Ri(wn,s,null,_,ot),ut.push({event:wn,listeners:Ut}),cn?wn.data=cn:(cn=cf(_),cn!==null&&(wn.data=cn)))),(cn=vc?Mi(s,_):xc(s,_))&&(wn=zl(Xe,"onBeforeInput"),0<wn.length&&(Ut=new Ri("onBeforeInput","beforeinput",null,_,ot),ut.push({event:Ut,listeners:wn}),Ut.data=cn)),qa(ut,s,Xe,_,ot)}Ep(ut,p)})}function ji(s,p,_){return{instance:s,listener:p,currentTarget:_}}function zl(s,p){for(var _=p+"Capture",D=[];s!==null;){var G=s,Y=G.stateNode;if(G=G.tag,G!==5&&G!==26&&G!==27||Y===null||(G=oe(s,_),G!=null&&D.unshift(ji(s,G,Y)),G=oe(s,p),G!=null&&D.push(ji(s,G,Y))),s.tag===3)return D;s=s.return}return[]}function tc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function tr(s,p,_,D,G){for(var Y=p._reactName,se=[];_!==null&&_!==D;){var de=_,De=de.alternate,Xe=de.stateNode;if(de=de.tag,De!==null&&De===D)break;de!==5&&de!==26&&de!==27||Xe===null||(De=Xe,G?(Xe=oe(_,Y),Xe!=null&&se.unshift(ji(_,Xe,De))):G||(Xe=oe(_,Y),Xe!=null&&se.push(ji(_,Xe,De)))),_=_.return}se.length!==0&&s.push({event:p,listeners:se})}var dr=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Cp(s){return(typeof s=="string"?s:""+s).replace(dr,`
`).replace(Tp,"")}function Ap(s,p){return p=Cp(p),Cp(s)===p}function Bn(s,p,_,D,G,Y){switch(_){case"children":typeof D=="string"?p==="body"||p==="textarea"&&D===""||Kn(s,D):(typeof D=="number"||typeof D=="bigint")&&p!=="body"&&Kn(s,""+D);break;case"className":Z(s,"class",D);break;case"tabIndex":Z(s,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":Z(s,_,D);break;case"style":Wt(s,D,Y);break;case"data":if(p!=="object"){Z(s,"data",D);break}case"src":case"href":if(D===""&&(p!=="a"||_!=="href")){s.removeAttribute(_);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){s.removeAttribute(_);break}D=Wr(""+D),s.setAttribute(_,D);break;case"action":case"formAction":if(typeof D=="function"){s.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Y=="function"&&(_==="formAction"?(p!=="input"&&Bn(s,p,"name",G.name,G,null),Bn(s,p,"formEncType",G.formEncType,G,null),Bn(s,p,"formMethod",G.formMethod,G,null),Bn(s,p,"formTarget",G.formTarget,G,null)):(Bn(s,p,"encType",G.encType,G,null),Bn(s,p,"method",G.method,G,null),Bn(s,p,"target",G.target,G,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){s.removeAttribute(_);break}D=Wr(""+D),s.setAttribute(_,D);break;case"onClick":D!=null&&(s.onclick=Cr);break;case"onScroll":D!=null&&vn("scroll",s);break;case"onScrollEnd":D!=null&&vn("scrollend",s);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(l(61));if(_=D.__html,_!=null){if(G.children!=null)throw Error(l(60));s.innerHTML=_}}break;case"multiple":s.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":s.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){s.removeAttribute("xlink:href");break}_=Wr(""+D),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?s.setAttribute(_,""+D):s.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?s.setAttribute(_,""):s.removeAttribute(_);break;case"capture":case"download":D===!0?s.setAttribute(_,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?s.setAttribute(_,D):s.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?s.setAttribute(_,D):s.removeAttribute(_);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?s.removeAttribute(_):s.setAttribute(_,D);break;case"popover":vn("beforetoggle",s),vn("toggle",s),z(s,"popover",D);break;case"xlinkActuate":ue(s,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":ue(s,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":ue(s,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":ue(s,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":ue(s,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":ue(s,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":ue(s,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":ue(s,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":ue(s,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":z(s,"is",D);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=cs.get(_)||_,z(s,_,D))}}function Uh(s,p,_,D,G,Y){switch(_){case"style":Wt(s,D,Y);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(l(61));if(_=D.__html,_!=null){if(G.children!=null)throw Error(l(60));s.innerHTML=_}}break;case"children":typeof D=="string"?Kn(s,D):(typeof D=="number"||typeof D=="bigint")&&Kn(s,""+D);break;case"onScroll":D!=null&&vn("scroll",s);break;case"onScrollEnd":D!=null&&vn("scrollend",s);break;case"onClick":D!=null&&(s.onclick=Cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yt.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(G=_.endsWith("Capture"),p=_.slice(2,G?_.length-7:void 0),Y=s[Vn]||null,Y=Y!=null?Y[_]:null,typeof Y=="function"&&s.removeEventListener(p,Y,G),typeof D=="function")){typeof Y!="function"&&Y!==null&&(_ in s?s[_]=null:s.hasAttribute(_)&&s.removeAttribute(_)),s.addEventListener(p,D,G);break e}_ in s?s[_]=D:D===!0?s.setAttribute(_,""):z(s,_,D)}}}function ei(s,p,_){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",s),vn("load",s);var D=!1,G=!1,Y;for(Y in _)if(_.hasOwnProperty(Y)){var se=_[Y];if(se!=null)switch(Y){case"src":D=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,p));default:Bn(s,p,Y,se,_,null)}}G&&Bn(s,p,"srcSet",_.srcSet,_,null),D&&Bn(s,p,"src",_.src,_,null);return;case"input":vn("invalid",s);var de=Y=se=G=null,De=null,Xe=null;for(D in _)if(_.hasOwnProperty(D)){var ot=_[D];if(ot!=null)switch(D){case"name":G=ot;break;case"type":se=ot;break;case"checked":De=ot;break;case"defaultChecked":Xe=ot;break;case"value":Y=ot;break;case"defaultValue":de=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(l(137,p));break;default:Bn(s,p,D,ot,_,null)}}br(s,Y,de,De,Xe,se,G,!1);return;case"select":vn("invalid",s),D=se=Y=null;for(G in _)if(_.hasOwnProperty(G)&&(de=_[G],de!=null))switch(G){case"value":Y=de;break;case"defaultValue":se=de;break;case"multiple":D=de;default:Bn(s,p,G,de,_,null)}p=Y,_=se,s.multiple=!!D,p!=null?Yr(s,!!D,p,!1):_!=null&&Yr(s,!!D,_,!0);return;case"textarea":vn("invalid",s),Y=G=D=null;for(se in _)if(_.hasOwnProperty(se)&&(de=_[se],de!=null))switch(se){case"value":D=de;break;case"defaultValue":G=de;break;case"children":Y=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(l(91));break;default:Bn(s,p,se,de,_,null)}ir(s,D,G,Y);return;case"option":for(De in _)if(_.hasOwnProperty(De)&&(D=_[De],D!=null))switch(De){case"selected":s.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Bn(s,p,De,D,_,null)}return;case"dialog":vn("beforetoggle",s),vn("toggle",s),vn("cancel",s),vn("close",s);break;case"iframe":case"object":vn("load",s);break;case"video":case"audio":for(D=0;D<Vl.length;D++)vn(Vl[D],s);break;case"image":vn("error",s),vn("load",s);break;case"details":vn("toggle",s);break;case"embed":case"source":case"link":vn("error",s),vn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in _)if(_.hasOwnProperty(Xe)&&(D=_[Xe],D!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,p));default:Bn(s,p,Xe,D,_,null)}return;default:if(tn(p)){for(ot in _)_.hasOwnProperty(ot)&&(D=_[ot],D!==void 0&&Uh(s,p,ot,D,_,void 0));return}}for(de in _)_.hasOwnProperty(de)&&(D=_[de],D!=null&&Bn(s,p,de,D,_,null))}function Od(s,p,_,D){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,Y=null,se=null,de=null,De=null,Xe=null,ot=null;for(tt in _){var ut=_[tt];if(_.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":De=ut;default:D.hasOwnProperty(tt)||Bn(s,p,tt,null,D,ut)}}for(var Qe in D){var tt=D[Qe];if(ut=_[Qe],D.hasOwnProperty(Qe)&&(tt!=null||ut!=null))switch(Qe){case"type":Y=tt;break;case"name":G=tt;break;case"checked":Xe=tt;break;case"defaultChecked":ot=tt;break;case"value":se=tt;break;case"defaultValue":de=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(l(137,p));break;default:tt!==ut&&Bn(s,p,Qe,tt,D,ut)}}rr(s,se,de,De,Xe,ot,Y,G);return;case"select":tt=se=de=Qe=null;for(Y in _)if(De=_[Y],_.hasOwnProperty(Y)&&De!=null)switch(Y){case"value":break;case"multiple":tt=De;default:D.hasOwnProperty(Y)||Bn(s,p,Y,null,D,De)}for(G in D)if(Y=D[G],De=_[G],D.hasOwnProperty(G)&&(Y!=null||De!=null))switch(G){case"value":Qe=Y;break;case"defaultValue":de=Y;break;case"multiple":se=Y;default:Y!==De&&Bn(s,p,G,Y,D,De)}p=de,_=se,D=tt,Qe!=null?Yr(s,!!_,Qe,!1):!!D!=!!_&&(p!=null?Yr(s,!!_,p,!0):Yr(s,!!_,_?[]:"",!1));return;case"textarea":tt=Qe=null;for(de in _)if(G=_[de],_.hasOwnProperty(de)&&G!=null&&!D.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:Bn(s,p,de,null,D,G)}for(se in D)if(G=D[se],Y=_[se],D.hasOwnProperty(se)&&(G!=null||Y!=null))switch(se){case"value":Qe=G;break;case"defaultValue":tt=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(91));break;default:G!==Y&&Bn(s,p,se,G,D,Y)}jr(s,Qe,tt);return;case"option":for(var Bt in _)if(Qe=_[Bt],_.hasOwnProperty(Bt)&&Qe!=null&&!D.hasOwnProperty(Bt))switch(Bt){case"selected":s.selected=!1;break;default:Bn(s,p,Bt,null,D,Qe)}for(De in D)if(Qe=D[De],tt=_[De],D.hasOwnProperty(De)&&Qe!==tt&&(Qe!=null||tt!=null))switch(De){case"selected":s.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:Bn(s,p,De,Qe,D,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in _)Qe=_[Qt],_.hasOwnProperty(Qt)&&Qe!=null&&!D.hasOwnProperty(Qt)&&Bn(s,p,Qt,null,D,Qe);for(Xe in D)if(Qe=D[Xe],tt=_[Xe],D.hasOwnProperty(Xe)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(l(137,p));break;default:Bn(s,p,Xe,Qe,D,tt)}return;default:if(tn(p)){for(var Un in _)Qe=_[Un],_.hasOwnProperty(Un)&&Qe!==void 0&&!D.hasOwnProperty(Un)&&Uh(s,p,Un,void 0,D,Qe);for(ot in D)Qe=D[ot],tt=_[ot],!D.hasOwnProperty(ot)||Qe===tt||Qe===void 0&&tt===void 0||Uh(s,p,ot,Qe,D,tt);return}}for(var We in _)Qe=_[We],_.hasOwnProperty(We)&&Qe!=null&&!D.hasOwnProperty(We)&&Bn(s,p,We,null,D,Qe);for(ut in D)Qe=D[ut],tt=_[ut],!D.hasOwnProperty(ut)||Qe===tt||Qe==null&&tt==null||Bn(s,p,ut,Qe,D,tt)}function jh(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bl(){if(typeof performance.getEntriesByType=="function"){for(var s=0,p=0,_=performance.getEntriesByType("resource"),D=0;D<_.length;D++){var G=_[D],Y=G.transferSize,se=G.initiatorType,de=G.duration;if(Y&&de&&jh(se)){for(se=0,de=G.responseEnd,D+=1;D<_.length;D++){var De=_[D],Xe=De.startTime;if(Xe>de)break;var ot=De.transferSize,ut=De.initiatorType;ot&&jh(ut)&&(De=De.responseEnd,se+=ot*(De<de?1:(de-Xe)/(De-Xe)))}if(--D,p+=8*(Y+se)/(G.duration/1e3),s++,10<s)break}}if(0<s)return p/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ul=null,Wh=null;function jl(s){return s.nodeType===9?s:s.ownerDocument}function Wl(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ci(s,p){if(s===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&p==="foreignObject"?0:s}function wa(s,p){return s==="textarea"||s==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Hh=null;function Nd(){var s=window.event;return s&&s.type==="popstate"?s===Hh?!1:(Hh=s,!0):(Hh=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,Pd=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,Mp=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(s){return Rp.resolve(null).then(s).catch(Qs)}:kp;function Qs(s){setTimeout(function(){throw s})}function Zt(s){return s==="head"}function Gh(s,p){var _=p,D=0;do{var G=_.nextSibling;if(s.removeChild(_),G&&G.nodeType===8)if(_=G.data,_==="/$"||_==="/&"){if(D===0){s.removeChild(G),jo(p);return}D--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")D++;else if(_==="html")Hl(s.ownerDocument.documentElement);else if(_==="head"){_=s.ownerDocument.head,Hl(_);for(var Y=_.firstChild;Y;){var se=Y.nextSibling,de=Y.nodeName;Y[qr]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||_.removeChild(Y),Y=se}}else _==="body"&&Hl(s.ownerDocument.body);_=G}while(_);jo(p)}function Wi(s,p){var _=s;s=0;do{var D=_.nextSibling;if(_.nodeType===1?p?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(p?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),D&&D.nodeType===8)if(_=D.data,_==="/$"){if(s===0)break;s--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||s++;_=D}while(_)}function nc(s){var p=s.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var _=p;switch(p=p.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":nc(_),ni(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}s.removeChild(_)}}function Fd(s,p,_,D){for(;s.nodeType===1;){var G=_;if(s.nodeName.toLowerCase()!==p.toLowerCase()){if(!D&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(D){if(!s[qr])switch(p){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(Y=s.getAttribute("rel"),Y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(Y!==G.rel||s.getAttribute("href")!==(G.href==null||G.href===""?null:G.href)||s.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||s.getAttribute("title")!==(G.title==null?null:G.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(Y=s.getAttribute("src"),(Y!==(G.src==null?null:G.src)||s.getAttribute("type")!==(G.type==null?null:G.type)||s.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&Y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(p==="input"&&s.type==="hidden"){var Y=G.name==null?null:""+G.name;if(G.type==="hidden"&&s.getAttribute("name")===Y)return s}else return s;if(s=os(s.nextSibling),s===null)break}return null}function Dn(s,p,_){if(p==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!_||(s=os(s.nextSibling),s===null))return null;return s}function $p(s,p){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=os(s.nextSibling),s===null))return null;return s}function rc(s){return s.data==="$?"||s.data==="$~"}function Oo(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Vd(s,p){var _=s.ownerDocument;if(s.data==="$~")s._reactRetry=p;else if(s.data!=="$?"||_.readyState!=="loading")p();else{var D=function(){p(),_.removeEventListener("DOMContentLoaded",D)};_.addEventListener("DOMContentLoaded",D),s._reactRetry=D}}function os(s){for(;s!=null;s=s.nextSibling){var p=s.nodeType;if(p===1||p===3)break;if(p===8){if(p=s.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return s}var Kh=null;function Lp(s){s=s.nextSibling;for(var p=0;s;){if(s.nodeType===8){var _=s.data;if(_==="/$"||_==="/&"){if(p===0)return os(s.nextSibling);p--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||p++}s=s.nextSibling}return null}function Ip(s){s=s.previousSibling;for(var p=0;s;){if(s.nodeType===8){var _=s.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(p===0)return s;p--}else _!=="/$"&&_!=="/&"||p++}s=s.previousSibling}return null}function Dp(s,p,_){switch(p=jl(_),s){case"html":if(s=p.documentElement,!s)throw Error(l(452));return s;case"head":if(s=p.head,!s)throw Error(l(453));return s;case"body":if(s=p.body,!s)throw Error(l(454));return s;default:throw Error(l(451))}}function Hl(s){for(var p=s.attributes;p.length;)s.removeAttributeNode(p[0]);ni(s)}var ls=new Map,Op=new Set;function ic(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Zs=Q.d;Q.d={f:zd,r:Bd,D:qh,C:Ud,L:jd,m:Wd,X:Ai,S:Kr,M:Hd};function zd(){var s=Zs.f(),p=Ku();return s||p}function Bd(s){var p=Xn(s);p!==null&&p.tag===5&&p.type==="form"?Qc(p):Zs.r(s)}var _a=typeof document>"u"?null:document;function Np(s,p,_){var D=_a;if(D&&typeof p=="string"&&p){var G=dn(p);G='link[rel="'+s+'"][href="'+G+'"]',typeof _=="string"&&(G+='[crossorigin="'+_+'"]'),Op.has(G)||(Op.add(G),s={rel:s,crossOrigin:_,href:p},D.querySelector(G)===null&&(p=D.createElement("link"),ei(p,"link",s),$n(p),D.head.appendChild(p)))}}function qh(s){Zs.D(s),Np("dns-prefetch",s,null)}function Ud(s,p){Zs.C(s,p),Np("preconnect",s,p)}function jd(s,p,_){Zs.L(s,p,_);var D=_a;if(D&&s&&p){var G='link[rel="preload"][as="'+dn(p)+'"]';p==="image"&&_&&_.imageSrcSet?(G+='[imagesrcset="'+dn(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(G+='[imagesizes="'+dn(_.imageSizes)+'"]')):G+='[href="'+dn(s)+'"]';var Y=G;switch(p){case"style":Y=No(s);break;case"script":Y=Fo(s)}ls.has(Y)||(s=a({rel:"preload",href:p==="image"&&_&&_.imageSrcSet?void 0:s,as:p},_),ls.set(Y,s),D.querySelector(G)!==null||p==="style"&&D.querySelector(Po(Y))||p==="script"&&D.querySelector(Vo(Y))||(p=D.createElement("link"),ei(p,"link",s),$n(p),D.head.appendChild(p)))}}function Wd(s,p){Zs.m(s,p);var _=_a;if(_&&s){var D=p&&typeof p.as=="string"?p.as:"script",G='link[rel="modulepreload"][as="'+dn(D)+'"][href="'+dn(s)+'"]',Y=G;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Y=Fo(s)}if(!ls.has(Y)&&(s=a({rel:"modulepreload",href:s},p),ls.set(Y,s),_.querySelector(G)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(Vo(Y)))return}D=_.createElement("link"),ei(D,"link",s),$n(D),_.head.appendChild(D)}}}function Kr(s,p,_){Zs.S(s,p,_);var D=_a;if(D&&s){var G=cr(D).hoistableStyles,Y=No(s);p=p||"default";var se=G.get(Y);if(!se){var de={loading:0,preload:null};if(se=D.querySelector(Po(Y)))de.loading=5;else{s=a({rel:"stylesheet",href:s,"data-precedence":p},_),(_=ls.get(Y))&&Yh(s,_);var De=se=D.createElement("link");$n(De),ei(De,"link",s),De._p=new Promise(function(Xe,ot){De.onload=Xe,De.onerror=ot}),De.addEventListener("load",function(){de.loading|=1}),De.addEventListener("error",function(){de.loading|=2}),de.loading|=4,sc(se,p,D)}se={type:"stylesheet",instance:se,count:1,state:de},G.set(Y,se)}}}function Ai(s,p){Zs.X(s,p);var _=_a;if(_&&s){var D=cr(_).hoistableScripts,G=Fo(s),Y=D.get(G);Y||(Y=_.querySelector(Vo(G)),Y||(s=a({src:s,async:!0},p),(p=ls.get(G))&&ac(s,p),Y=_.createElement("script"),$n(Y),ei(Y,"link",s),_.head.appendChild(Y)),Y={type:"script",instance:Y,count:1,state:null},D.set(G,Y))}}function Hd(s,p){Zs.M(s,p);var _=_a;if(_&&s){var D=cr(_).hoistableScripts,G=Fo(s),Y=D.get(G);Y||(Y=_.querySelector(Vo(G)),Y||(s=a({src:s,async:!0,type:"module"},p),(p=ls.get(G))&&ac(s,p),Y=_.createElement("script"),$n(Y),ei(Y,"link",s),_.head.appendChild(Y)),Y={type:"script",instance:Y,count:1,state:null},D.set(G,Y))}}function Pp(s,p,_,D){var G=(G=he.current)?ic(G):null;if(!G)throw Error(l(446));switch(s){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(p=No(_.href),_=cr(G).hoistableStyles,D=_.get(p),D||(D={type:"style",instance:null,count:0,state:null},_.set(p,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){s=No(_.href);var Y=cr(G).hoistableStyles,se=Y.get(s);if(se||(G=G.ownerDocument||G,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Y.set(s,se),(Y=G.querySelector(Po(s)))&&!Y._p&&(se.instance=Y,se.state.loading=5),ls.has(s)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},ls.set(s,_),Y||Gd(G,s,_,se.state))),p&&D===null)throw Error(l(528,""));return se}if(p&&D!==null)throw Error(l(529,""));return null;case"script":return p=_.async,_=_.src,typeof _=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Fo(_),_=cr(G).hoistableScripts,D=_.get(p),D||(D={type:"script",instance:null,count:0,state:null},_.set(p,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,s))}}function No(s){return'href="'+dn(s)+'"'}function Po(s){return'link[rel="stylesheet"]['+s+"]"}function Fp(s){return a({},s,{"data-precedence":s.precedence,precedence:null})}function Gd(s,p,_,D){s.querySelector('link[rel="preload"][as="style"]['+p+"]")?D.loading=1:(p=s.createElement("link"),D.preload=p,p.addEventListener("load",function(){return D.loading|=1}),p.addEventListener("error",function(){return D.loading|=2}),ei(p,"link",_),$n(p),s.head.appendChild(p))}function Fo(s){return'[src="'+dn(s)+'"]'}function Vo(s){return"script[async]"+s}function Vp(s,p,_){if(p.count++,p.instance===null)switch(p.type){case"style":var D=s.querySelector('style[data-href~="'+dn(_.href)+'"]');if(D)return p.instance=D,$n(D),D;var G=a({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return D=(s.ownerDocument||s).createElement("style"),$n(D),ei(D,"style",G),sc(D,_.precedence,s),p.instance=D;case"stylesheet":G=No(_.href);var Y=s.querySelector(Po(G));if(Y)return p.state.loading|=4,p.instance=Y,$n(Y),Y;D=Fp(_),(G=ls.get(G))&&Yh(D,G),Y=(s.ownerDocument||s).createElement("link"),$n(Y);var se=Y;return se._p=new Promise(function(de,De){se.onload=de,se.onerror=De}),ei(Y,"link",D),p.state.loading|=4,sc(Y,_.precedence,s),p.instance=Y;case"script":return Y=Fo(_.src),(G=s.querySelector(Vo(Y)))?(p.instance=G,$n(G),G):(D=_,(G=ls.get(Y))&&(D=a({},_),ac(D,G)),s=s.ownerDocument||s,G=s.createElement("script"),$n(G),ei(G,"link",D),s.head.appendChild(G),p.instance=G);case"void":return null;default:throw Error(l(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(D=p.instance,p.state.loading|=4,sc(D,_.precedence,s));return p.instance}function sc(s,p,_){for(var D=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=D.length?D[D.length-1]:null,Y=G,se=0;se<D.length;se++){var de=D[se];if(de.dataset.precedence===p)Y=de;else if(Y!==G)break}Y?Y.parentNode.insertBefore(s,Y.nextSibling):(p=_.nodeType===9?_.head:_,p.insertBefore(s,p.firstChild))}function Yh(s,p){s.crossOrigin==null&&(s.crossOrigin=p.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=p.referrerPolicy),s.title==null&&(s.title=p.title)}function ac(s,p){s.crossOrigin==null&&(s.crossOrigin=p.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=p.referrerPolicy),s.integrity==null&&(s.integrity=p.integrity)}var Gl=null;function zp(s,p,_){if(Gl===null){var D=new Map,G=Gl=new Map;G.set(_,D)}else G=Gl,D=G.get(_),D||(D=new Map,G.set(_,D));if(D.has(s))return D;for(D.set(s,null),_=_.getElementsByTagName(s),G=0;G<_.length;G++){var Y=_[G];if(!(Y[qr]||Y[pn]||s==="link"&&Y.getAttribute("rel")==="stylesheet")&&Y.namespaceURI!=="http://www.w3.org/2000/svg"){var se=Y.getAttribute(p)||"";se=s+se;var de=D.get(se);de?de.push(Y):D.set(se,[Y])}}return D}function Bp(s,p,_){s=s.ownerDocument||s,s.head.insertBefore(_,p==="title"?s.querySelector("head > title"):null)}function Kd(s,p,_){if(_===1||p.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return s=p.disabled,typeof p.precedence=="string"&&s==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function Up(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function zo(s,p,_,D){if(_.type==="stylesheet"&&(typeof D.media!="string"||matchMedia(D.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var G=No(D.href),Y=p.querySelector(Po(G));if(Y){p=Y._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(s.count++,s=oc.bind(s),p.then(s,s)),_.state.loading|=4,_.instance=Y,$n(Y);return}Y=p.ownerDocument||p,D=Fp(D),(G=ls.get(G))&&Yh(D,G),Y=Y.createElement("link"),$n(Y);var se=Y;se._p=new Promise(function(de,De){se.onload=de,se.onerror=De}),ei(Y,"link",D),_.instance=Y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(_,p),(p=_.state.preload)&&(_.state.loading&3)===0&&(s.count++,_=oc.bind(s),p.addEventListener("load",_),p.addEventListener("error",_))}}var Xh=0;function qd(s,p){return s.stylesheets&&s.count===0&&uc(s,s.stylesheets),0<s.count||0<s.imgCount?function(_){var D=setTimeout(function(){if(s.stylesheets&&uc(s,s.stylesheets),s.unsuspend){var Y=s.unsuspend;s.unsuspend=null,Y()}},6e4+p);0<s.imgBytes&&Xh===0&&(Xh=62500*Bl());var G=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uc(s,s.stylesheets),s.unsuspend)){var Y=s.unsuspend;s.unsuspend=null,Y()}},(s.imgBytes>Xh?50:800)+p);return s.unsuspend=_,function(){s.unsuspend=null,clearTimeout(D),clearTimeout(G)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lc=null;function uc(s,p){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lc=new Map,p.forEach(jp,s),lc=null,oc.call(s))}function jp(s,p){if(!(p.state.loading&4)){var _=lc.get(s);if(_)var D=_.get(null);else{_=new Map,lc.set(s,_);for(var G=s.querySelectorAll("link[data-precedence],style[data-precedence]"),Y=0;Y<G.length;Y++){var se=G[Y];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(_.set(se.dataset.precedence,se),D=se)}D&&_.set(null,D)}G=p.instance,se=G.getAttribute("data-precedence"),Y=_.get(se)||D,Y===D&&_.set(null,G),_.set(se,G),this.count++,D=oc.bind(this),G.addEventListener("load",D),G.addEventListener("error",D),Y?Y.parentNode.insertBefore(G,Y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(G,s.firstChild)),p.state.loading|=4}}var Bo={$$typeof:R,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Yd(s,p,_,D,G,Y,se,de,De){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=D,this.onUncaughtError=G,this.onCaughtError=Y,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function Wp(s,p,_,D,G,Y,se,de,De,Xe,ot,ut){return s=new Yd(s,p,_,se,De,Xe,ot,ut,de),p=1,Y===!0&&(p|=24),Y=Xr(3,null,null,p),s.current=Y,Y.stateNode=s,p=fs(),p.refCount++,s.pooledCache=p,p.refCount++,Y.memoizedState={element:D,isDehydrated:_,cache:p},Rs(Y),s}function Hp(s){return s?(s=Ns,s):Ns}function Gp(s,p,_,D,G,Y){G=Hp(G),D.context===null?D.context=G:D.pendingContext=G,D=ua(p),D.payload={element:_},Y=Y===void 0?null:Y,Y!==null&&(D.callback=Y),_=ms(s,D,p),_!==null&&(Ei(_,s,p),rl(_,s,p))}function Kp(s,p){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var _=s.retryLane;s.retryLane=_!==0&&_<p?_:p}}function Qh(s,p){Kp(s,p),(s=s.alternate)&&Kp(s,p)}function qp(s){if(s.tag===13||s.tag===31){var p=Cs(s,67108864);p!==null&&Ei(p,s,67108864),Qh(s,67108864)}}function Yp(s){if(s.tag===13||s.tag===31){var p=Bi();p=ai(p);var _=Cs(s,p);_!==null&&Ei(_,s,p),Qh(s,p)}}var cc=!0;function Xd(s,p,_,D){var G=H.T;H.T=null;var Y=Q.p;try{Q.p=2,Zh(s,p,_,D)}finally{Q.p=Y,H.T=G}}function Qd(s,p,_,D){var G=H.T;H.T=null;var Y=Q.p;try{Q.p=8,Zh(s,p,_,D)}finally{Q.p=Y,H.T=G}}function Zh(s,p,_,D){if(cc){var G=Jh(D);if(G===null)Bh(s,p,D,hc,_),Qp(s,D);else if(Zp(G,s,p,_,D))D.stopPropagation();else if(Qp(s,D),p&4&&-1<Zd.indexOf(s)){for(;G!==null;){var Y=Xn(G);if(Y!==null)switch(Y.tag){case 3:if(Y=Y.stateNode,Y.current.memoizedState.isDehydrated){var se=At(Y.pendingLanes);if(se!==0){var de=Y;for(de.pendingLanes|=2,de.entangledLanes|=2;se;){var De=1<<31-Ce(se);de.entanglements[1]|=De,se&=~De}Ds(Y),(Mn&6)===0&&(Ga=He()+500,Fl(0))}}break;case 31:case 13:de=Cs(Y,2),de!==null&&Ei(de,Y,2),Ku(),Qh(Y,2)}if(Y=Jh(D),Y===null&&Bh(s,p,D,hc,_),Y===G)break;G=Y}G!==null&&D.stopPropagation()}else Bh(s,p,D,null,_)}}function Jh(s){return s=pi(s),ef(s)}var hc=null;function ef(s){if(hc=null,s=Gn(s),s!==null){var p=g(s);if(p===null)s=null;else{var _=p.tag;if(_===13){if(s=b(p),s!==null)return s;s=null}else if(_===31){if(s=w(p),s!==null)return s;s=null}else if(_===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;s=null}else p!==s&&(s=null)}}return hc=s,null}function Xp(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case zt:return 2;case Ft:return 8;case wt:case xn:return 32;case we:return 268435456;default:return 32}default:return 32}}var tf=!1,Ea=null,Ta=null,Ca=null,Kl=new Map,ql=new Map,Aa=[],Zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qp(s,p){switch(s){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Kl.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(p.pointerId)}}function Ya(s,p,_,D,G,Y){return s===null||s.nativeEvent!==Y?(s={blockedOn:p,domEventName:_,eventSystemFlags:D,nativeEvent:Y,targetContainers:[G]},p!==null&&(p=Xn(p),p!==null&&qp(p)),s):(s.eventSystemFlags|=D,p=s.targetContainers,G!==null&&p.indexOf(G)===-1&&p.push(G),s)}function Zp(s,p,_,D,G){switch(p){case"focusin":return Ea=Ya(Ea,s,p,_,D,G),!0;case"dragenter":return Ta=Ya(Ta,s,p,_,D,G),!0;case"mouseover":return Ca=Ya(Ca,s,p,_,D,G),!0;case"pointerover":var Y=G.pointerId;return Kl.set(Y,Ya(Kl.get(Y)||null,s,p,_,D,G)),!0;case"gotpointercapture":return Y=G.pointerId,ql.set(Y,Ya(ql.get(Y)||null,s,p,_,D,G)),!0}return!1}function nf(s){var p=Gn(s.target);if(p!==null){var _=g(p);if(_!==null){if(p=_.tag,p===13){if(p=b(_),p!==null){s.blockedOn=p,ti(s.priority,function(){Yp(_)});return}}else if(p===31){if(p=w(_),p!==null){s.blockedOn=p,ti(s.priority,function(){Yp(_)});return}}else if(p===3&&_.stateNode.current.memoizedState.isDehydrated){s.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fc(s){if(s.blockedOn!==null)return!1;for(var p=s.targetContainers;0<p.length;){var _=Jh(s.nativeEvent);if(_===null){_=s.nativeEvent;var D=new _.constructor(_.type,_);Nr=D,_.target.dispatchEvent(D),Nr=null}else return p=Xn(_),p!==null&&qp(p),s.blockedOn=_,!1;p.shift()}return!0}function Jp(s,p,_){fc(s)&&_.delete(p)}function Jd(){tf=!1,Ea!==null&&fc(Ea)&&(Ea=null),Ta!==null&&fc(Ta)&&(Ta=null),Ca!==null&&fc(Ca)&&(Ca=null),Kl.forEach(Jp),ql.forEach(Jp)}function Uo(s,p){s.blockedOn===p&&(s.blockedOn=null,tf||(tf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jd)))}var pc=null;function ed(s){pc!==s&&(pc=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pc===s&&(pc=null);for(var p=0;p<s.length;p+=3){var _=s[p],D=s[p+1],G=s[p+2];if(typeof D!="function"){if(ef(D||_)===null)continue;break}var Y=Xn(_);Y!==null&&(s.splice(p,3),p-=3,fa(Y,{pending:!0,data:G,method:_.method,action:D},D,G))}}))}function jo(s){function p(De){return Uo(De,s)}Ea!==null&&Uo(Ea,s),Ta!==null&&Uo(Ta,s),Ca!==null&&Uo(Ca,s),Kl.forEach(p),ql.forEach(p);for(var _=0;_<Aa.length;_++){var D=Aa[_];D.blockedOn===s&&(D.blockedOn=null)}for(;0<Aa.length&&(_=Aa[0],_.blockedOn===null);)nf(_),_.blockedOn===null&&Aa.shift();if(_=(s.ownerDocument||s).$$reactFormReplay,_!=null)for(D=0;D<_.length;D+=3){var G=_[D],Y=_[D+1],se=G[Vn]||null;if(typeof Y=="function")se||ed(_);else if(se){var de=null;if(Y&&Y.hasAttribute("formAction")){if(G=Y,se=Y[Vn]||null)de=se.formAction;else if(ef(G)!==null)continue}else de=se.action;typeof de=="function"?_[D+1]=de:(_.splice(D,3),D-=3),ed(_)}}}function hi(){function s(Y){Y.canIntercept&&Y.info==="react-transition"&&Y.intercept({handler:function(){return new Promise(function(se){return G=se})},focusReset:"manual",scroll:"manual"})}function p(){G!==null&&(G(),G=null),D||setTimeout(_,20)}function _(){if(!D&&!navigation.transition){var Y=navigation.currentEntry;Y&&Y.url!=null&&navigation.navigate(Y.url,{state:Y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var D=!1,G=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(_,100),function(){D=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),G!==null&&(G(),G=null)}}}function Yl(s){this._internalRoot=s}dc.prototype.render=Yl.prototype.render=function(s){var p=this._internalRoot;if(p===null)throw Error(l(409));var _=p.current,D=Bi();Gp(_,D,s,p,null,null)},dc.prototype.unmount=Yl.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var p=s.containerInfo;Gp(s.current,2,null,s,null,null),Ku(),p[lr]=null}};function dc(s){this._internalRoot=s}dc.prototype.unstable_scheduleHydration=function(s){if(s){var p=vr();s={blockedOn:null,target:s,priority:p};for(var _=0;_<Aa.length&&p!==0&&p<Aa[_].priority;_++);Aa.splice(_,0,s),_===0&&nf(s)}};var td=n.version;if(td!=="19.2.0")throw Error(l(527,td,"19.2.0"));Q.findDOMNode=function(s){var p=s._reactInternals;if(p===void 0)throw typeof s.render=="function"?Error(l(188)):(s=Object.keys(s).join(","),Error(l(268,s)));return s=h(p),s=s!==null?c(s):null,s=s===null?null:s.stateNode,s};var em={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{mt=mc.inject(em),_t=mc}catch{}}return reactDomClient_production.createRoot=function(s,p){if(!T(s))throw Error(l(299));var _=!1,D="",G=nh,Y=rh,se=zf;return p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onUncaughtError!==void 0&&(G=p.onUncaughtError),p.onCaughtError!==void 0&&(Y=p.onCaughtError),p.onRecoverableError!==void 0&&(se=p.onRecoverableError)),p=Wp(s,1,!1,null,null,_,D,null,G,Y,se,hi),s[lr]=p.current,zh(s),new Yl(p)},reactDomClient_production.hydrateRoot=function(s,p,_){if(!T(s))throw Error(l(299));var D=!1,G="",Y=nh,se=rh,de=zf,De=null;return _!=null&&(_.unstable_strictMode===!0&&(D=!0),_.identifierPrefix!==void 0&&(G=_.identifierPrefix),_.onUncaughtError!==void 0&&(Y=_.onUncaughtError),_.onCaughtError!==void 0&&(se=_.onCaughtError),_.onRecoverableError!==void 0&&(de=_.onRecoverableError),_.formState!==void 0&&(De=_.formState)),p=Wp(s,1,!0,p,_??null,D,G,De,Y,se,de,hi),p.context=Hp(null),_=p.current,D=Bi(),D=ai(D),G=ua(D),G.callback=null,ms(_,G,D),_=D,p.current.lanes=_,Tn(p,_),Ds(p),s[lr]=p.current,zh(s),new dc(p)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var e=requireReact();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var i=typeof Object.is=="function"?Object.is:n,l=e.useSyncExternalStore,T=e.useRef,g=e.useEffect,b=e.useMemo,w=e.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(d,h,c,a,o){var u=T(null);if(u.current===null){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=b(function(){function x(k){if(!E){if(E=!0,S=k,k=a(k),o!==void 0&&f.hasValue){var v=f.value;if(o(v,k))return R=v}return R=k}if(v=R,i(S,k))return v;var F=a(k);return o!==void 0&&o(v,F)?(S=k,v):(S=k,R=F)}var E=!1,S,R,M=c===void 0?null:c;return[function(){return x(h())},M===null?void 0:function(){return x(M())}]},[h,c,a,o]);var m=l(d,u[0],u[1]);return g(function(){f.hasValue=!0,f.value=m},[m]),w(m),m},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();function defaultNoopBatch(e){e()}function createListenerCollection(){let e=null,n=null;return{clear(){e=null,n=null},notify(){defaultNoopBatch(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let l=e;for(;l;)i.push(l),l=l.next;return i},subscribe(i){let l=!0;const T=n={callback:i,next:null,prev:n};return T.prev?T.prev.next=T:e=T,function(){!l||e===null||(l=!1,T.next?T.next.prev=T.prev:n=T.prev,T.prev?T.prev.next=T.next:e=T.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(e,n){let i,l=nullListeners,T=0,g=!1;function b(m){c();const x=l.subscribe(m);let E=!1;return()=>{E||(E=!0,x(),a())}}function w(){l.notify()}function d(){f.onStateChange&&f.onStateChange()}function h(){return g}function c(){T++,i||(i=e.subscribe(d),l=createListenerCollection())}function a(){T--,i&&T===0&&(i(),i=void 0,l.clear(),l=nullListeners)}function o(){g||(g=!0,c())}function u(){g&&(g=!1,a())}const f={addNestedSub:b,notifyNestedSubs:w,handleChangeWrapper:d,isSubscribed:h,trySubscribe:o,tryUnsubscribe:u,getListeners:()=>l};return f}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const e=gT[ContextKey]??=new Map;let n=e.get(reactExports.createContext);return n||(n=reactExports.createContext(null),e.set(reactExports.createContext,n)),n}var ReactReduxContext=getContext();function Provider(e){const{children:n,context:i,serverState:l,store:T}=e,g=reactExports.useMemo(()=>{const d=createSubscription(T);return{store:T,subscription:d,getServerState:l?()=>l:void 0}},[T,l]),b=reactExports.useMemo(()=>T.getState(),[T]);useIsomorphicLayoutEffect(()=>{const{subscription:d}=g;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),b!==T.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[g,b]);const w=i||ReactReduxContext;return reactExports.createElement(w.Provider,{value:g},n)}var Provider_default=Provider;function createReduxContextHook(e=ReactReduxContext){return function(){return reactExports.useContext(e)}}var useReduxContext=createReduxContextHook();function createStoreHook(e=ReactReduxContext){const n=e===ReactReduxContext?useReduxContext:createReduxContextHook(e),i=()=>{const{store:l}=n();return l};return Object.assign(i,{withTypes:()=>i}),i}var useStore=createStoreHook();function createDispatchHook(e=ReactReduxContext){const n=e===ReactReduxContext?useStore:createStoreHook(e),i=()=>n().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var useDispatch=createDispatchHook(),refEquality=(e,n)=>e===n;function createSelectorHook(e=ReactReduxContext){const n=e===ReactReduxContext?useReduxContext:createReduxContextHook(e),i=(l,T={})=>{const{equalityFn:g=refEquality}=typeof T=="function"?{equalityFn:T}:T,b=n(),{store:w,subscription:d,getServerState:h}=b;reactExports.useRef(!0);const c=reactExports.useCallback({[l.name](o){return l(o)}}[l.name],[l]),a=withSelectorExports.useSyncExternalStoreWithSelector(d.addNestedSub,w.getState,h||w.getState,c,g);return reactExports.useDebugValue(a),a};return Object.assign(i,{withTypes:()=>i}),i}var useSelector=createSelectorHook();const scriptRel="modulepreload",assetsURL=function(e){return"/seker/"+e},seen={},__vitePreload=function(n,i,l){let T=Promise.resolve();if(i&&i.length>0){let h=function(c){return Promise.all(c.map(a=>Promise.resolve(a).then(o=>({status:"fulfilled",value:o}),o=>({status:"rejected",reason:o}))))};var b=h;document.getElementsByTagName("link");const w=document.querySelector("meta[property=csp-nonce]"),d=w?.nonce||w?.getAttribute("nonce");T=h(i.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const a=c.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":scriptRel,a||(u.as="script"),u.crossOrigin="",u.href=c,d&&u.setAttribute("nonce",d),document.head.appendChild(u),a)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function g(w){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=w,window.dispatchEvent(d),!d.defaultPrevented)throw w}return T.then(w=>{for(const d of w||[])d.status==="rejected"&&g(d.reason);return n().catch(g)})};var lzString={exports:{}},hasRequiredLzString;function requireLzString(){return hasRequiredLzString||(hasRequiredLzString=1,(function(e){var n=(function(){var i=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",g={};function b(d,h){if(!g[d]){g[d]={};for(var c=0;c<d.length;c++)g[d][d.charAt(c)]=c}return g[d][h]}var w={compressToBase64:function(d){if(d==null)return"";var h=w._compress(d,6,function(c){return l.charAt(c)});switch(h.length%4){default:case 0:return h;case 1:return h+"===";case 2:return h+"==";case 3:return h+"="}},decompressFromBase64:function(d){return d==null?"":d==""?null:w._decompress(d.length,32,function(h){return b(l,d.charAt(h))})},compressToUTF16:function(d){return d==null?"":w._compress(d,15,function(h){return i(h+32)})+" "},decompressFromUTF16:function(d){return d==null?"":d==""?null:w._decompress(d.length,16384,function(h){return d.charCodeAt(h)-32})},compressToUint8Array:function(d){for(var h=w.compress(d),c=new Uint8Array(h.length*2),a=0,o=h.length;a<o;a++){var u=h.charCodeAt(a);c[a*2]=u>>>8,c[a*2+1]=u%256}return c},decompressFromUint8Array:function(d){if(d==null)return w.decompress(d);for(var h=new Array(d.length/2),c=0,a=h.length;c<a;c++)h[c]=d[c*2]*256+d[c*2+1];var o=[];return h.forEach(function(u){o.push(i(u))}),w.decompress(o.join(""))},compressToEncodedURIComponent:function(d){return d==null?"":w._compress(d,6,function(h){return T.charAt(h)})},decompressFromEncodedURIComponent:function(d){return d==null?"":d==""?null:(d=d.replace(/ /g,"+"),w._decompress(d.length,32,function(h){return b(T,d.charAt(h))}))},compress:function(d){return w._compress(d,16,function(h){return i(h)})},_compress:function(d,h,c){if(d==null)return"";var a,o,u={},f={},m="",x="",E="",S=2,R=3,M=2,k=[],v=0,F=0,I;for(I=0;I<d.length;I+=1)if(m=d.charAt(I),Object.prototype.hasOwnProperty.call(u,m)||(u[m]=R++,f[m]=!0),x=E+m,Object.prototype.hasOwnProperty.call(u,x))E=x;else{if(Object.prototype.hasOwnProperty.call(f,E)){if(E.charCodeAt(0)<256){for(a=0;a<M;a++)v=v<<1,F==h-1?(F=0,k.push(c(v)),v=0):F++;for(o=E.charCodeAt(0),a=0;a<8;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1}else{for(o=1,a=0;a<M;a++)v=v<<1|o,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=0;for(o=E.charCodeAt(0),a=0;a<16;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1}S--,S==0&&(S=Math.pow(2,M),M++),delete f[E]}else for(o=u[E],a=0;a<M;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1;S--,S==0&&(S=Math.pow(2,M),M++),u[x]=R++,E=String(m)}if(E!==""){if(Object.prototype.hasOwnProperty.call(f,E)){if(E.charCodeAt(0)<256){for(a=0;a<M;a++)v=v<<1,F==h-1?(F=0,k.push(c(v)),v=0):F++;for(o=E.charCodeAt(0),a=0;a<8;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1}else{for(o=1,a=0;a<M;a++)v=v<<1|o,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=0;for(o=E.charCodeAt(0),a=0;a<16;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1}S--,S==0&&(S=Math.pow(2,M),M++),delete f[E]}else for(o=u[E],a=0;a<M;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1;S--,S==0&&(S=Math.pow(2,M),M++)}for(o=2,a=0;a<M;a++)v=v<<1|o&1,F==h-1?(F=0,k.push(c(v)),v=0):F++,o=o>>1;for(;;)if(v=v<<1,F==h-1){k.push(c(v));break}else F++;return k.join("")},decompress:function(d){return d==null?"":d==""?null:w._decompress(d.length,32768,function(h){return d.charCodeAt(h)})},_decompress:function(d,h,c){var a=[],o=4,u=4,f=3,m="",x=[],E,S,R,M,k,v,F,I={val:c(0),position:h,index:1};for(E=0;E<3;E+=1)a[E]=E;for(R=0,k=Math.pow(2,2),v=1;v!=k;)M=I.val&I.position,I.position>>=1,I.position==0&&(I.position=h,I.val=c(I.index++)),R|=(M>0?1:0)*v,v<<=1;switch(R){case 0:for(R=0,k=Math.pow(2,8),v=1;v!=k;)M=I.val&I.position,I.position>>=1,I.position==0&&(I.position=h,I.val=c(I.index++)),R|=(M>0?1:0)*v,v<<=1;F=i(R);break;case 1:for(R=0,k=Math.pow(2,16),v=1;v!=k;)M=I.val&I.position,I.position>>=1,I.position==0&&(I.position=h,I.val=c(I.index++)),R|=(M>0?1:0)*v,v<<=1;F=i(R);break;case 2:return""}for(a[3]=F,S=F,x.push(F);;){if(I.index>d)return"";for(R=0,k=Math.pow(2,f),v=1;v!=k;)M=I.val&I.position,I.position>>=1,I.position==0&&(I.position=h,I.val=c(I.index++)),R|=(M>0?1:0)*v,v<<=1;switch(F=R){case 0:for(R=0,k=Math.pow(2,8),v=1;v!=k;)M=I.val&I.position,I.position>>=1,I.position==0&&(I.position=h,I.val=c(I.index++)),R|=(M>0?1:0)*v,v<<=1;a[u++]=i(R),F=u-1,o--;break;case 1:for(R=0,k=Math.pow(2,16),v=1;v!=k;)M=I.val&I.position,I.position>>=1,I.position==0&&(I.position=h,I.val=c(I.index++)),R|=(M>0?1:0)*v,v<<=1;a[u++]=i(R),F=u-1,o--;break;case 2:return x.join("")}if(o==0&&(o=Math.pow(2,f),f++),a[F])m=a[F];else if(F===u)m=S+S.charAt(0);else return null;x.push(m),a[u++]=S+m.charAt(0),o--,S=m,o==0&&(o=Math.pow(2,f),f++)}}};return w})();e!=null?e.exports=n:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return n})})(lzString)),lzString.exports}var lzStringExports=requireLzString();const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,n){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;n=n||1;const i=e.slice(0,n),l=e.slice(n);return Array.prototype.concat.call([],decodeComponents(i),decodeComponents(l))}function decode$1(e){try{return decodeURIComponent(e)}catch{let n=e.match(singleMatcher)||[];for(let i=1;i<n.length;i++)e=decodeComponents(n,i).join(""),n=e.match(singleMatcher)||[];return e}}function customDecodeURIComponent(e){const n={"%FE%FF":"","%FF%FE":""};let i=multiMatcher.exec(e);for(;i;){try{n[i[0]]=decodeURIComponent(i[0])}catch{const T=decode$1(i[0]);T!==i[0]&&(n[i[0]]=T)}i=multiMatcher.exec(e)}n["%C2"]="";const l=Object.keys(n);for(const T of l)e=e.replace(new RegExp(T,"g"),n[T]);return e}function decodeUriComponent(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return customDecodeURIComponent(e)}}function includeKeys(e,n){const i={};if(Array.isArray(n))for(const l of n){const T=Object.getOwnPropertyDescriptor(e,l);T?.enumerable&&Object.defineProperty(i,l,T)}else for(const l of Reflect.ownKeys(e)){const T=Object.getOwnPropertyDescriptor(e,l);if(T.enumerable){const g=e[l];n(l,g,e)&&Object.defineProperty(i,l,T)}}return i}function splitOnFirst(e,n){if(!(typeof e=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||n==="")return[];const i=e.indexOf(n);return i===-1?[]:[e.slice(0,i),e.slice(i+n.length)]}const isNullOrUndefined=e=>e==null,strictUriEncode=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return n=>(i,l)=>{const T=i.length;return l===void 0||e.skipNull&&l===null||e.skipEmptyString&&l===""?i:l===null?[...i,[encode(n,e),"[",T,"]"].join("")]:[...i,[encode(n,e),"[",encode(T,e),"]=",encode(l,e)].join("")]};case"bracket":return n=>(i,l)=>l===void 0||e.skipNull&&l===null||e.skipEmptyString&&l===""?i:l===null?[...i,[encode(n,e),"[]"].join("")]:[...i,[encode(n,e),"[]=",encode(l,e)].join("")];case"colon-list-separator":return n=>(i,l)=>l===void 0||e.skipNull&&l===null||e.skipEmptyString&&l===""?i:l===null?[...i,[encode(n,e),":list="].join("")]:[...i,[encode(n,e),":list=",encode(l,e)].join("")];case"comma":case"separator":case"bracket-separator":{const n=e.arrayFormat==="bracket-separator"?"[]=":"=";return i=>(l,T)=>T===void 0||e.skipNull&&T===null||e.skipEmptyString&&T===""?l:(T=T===null?"":T,l.length===0?[[encode(i,e),n,encode(T,e)].join("")]:[[l,encode(T,e)].join(e.arrayFormatSeparator)])}default:return n=>(i,l)=>l===void 0||e.skipNull&&l===null||e.skipEmptyString&&l===""?i:l===null?[...i,encode(n,e)]:[...i,[encode(n,e),"=",encode(l,e)].join("")]}}function parserForArrayFormat(e){let n;switch(e.arrayFormat){case"index":return(i,l,T)=>{if(n=/\[(\d*)]$/.exec(i),i=i.replace(/\[\d*]$/,""),!n){T[i]=l;return}T[i]===void 0&&(T[i]={}),T[i][n[1]]=l};case"bracket":return(i,l,T)=>{if(n=/(\[])$/.exec(i),i=i.replace(/\[]$/,""),!n){T[i]=l;return}if(T[i]===void 0){T[i]=[l];return}T[i]=[...T[i],l]};case"colon-list-separator":return(i,l,T)=>{if(n=/(:list)$/.exec(i),i=i.replace(/:list$/,""),!n){T[i]=l;return}if(T[i]===void 0){T[i]=[l];return}T[i]=[...T[i],l]};case"comma":case"separator":return(i,l,T)=>{const b=typeof l=="string"&&l.includes(e.arrayFormatSeparator)?l.split(e.arrayFormatSeparator).map(w=>decode(w,e)):l===null?l:decode(l,e);T[i]=b};case"bracket-separator":return(i,l,T)=>{const g=/(\[])$/.test(i);if(i=i.replace(/\[]$/,""),!g){T[i]=l&&decode(l,e);return}const b=l===null?[]:decode(l,e).split(e.arrayFormatSeparator);if(T[i]===void 0){T[i]=b;return}T[i]=[...T[i],...b]};default:return(i,l,T)=>{if(T[i]===void 0){T[i]=l;return}T[i]=[...[T[i]].flat(),l]}}}function validateArrayFormatSeparator(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(e,n){return n.encode?n.strict?strictUriEncode(e):encodeURIComponent(e):e}function decode(e,n){return n.decode?decodeUriComponent(e):e}function keysSorter(e){return Array.isArray(e)?e.sort():typeof e=="object"?keysSorter(Object.keys(e)).sort((n,i)=>Number(n)-Number(i)).map(n=>e[n]):e}function removeHash(e){const n=e.indexOf("#");return n!==-1&&(e=e.slice(0,n)),e}function getHash(e){let n="";const i=e.indexOf("#");return i!==-1&&(n=e.slice(i)),n}function parseValue(e,n,i){return i==="string"&&typeof e=="string"?e:typeof i=="function"&&typeof e=="string"?i(e):i==="boolean"&&e===null?!0:i==="boolean"&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":i==="boolean"&&e!==null&&(e.toLowerCase()==="1"||e.toLowerCase()==="0")?e.toLowerCase()==="1":i==="string[]"&&n.arrayFormat!=="none"&&typeof e=="string"?[e]:i==="number[]"&&n.arrayFormat!=="none"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?[Number(e)]:i==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):n.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function extract(e){e=removeHash(e);const n=e.indexOf("?");return n===-1?"":e.slice(n+1)}function parse(e,n){n={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...n},validateArrayFormatSeparator(n.arrayFormatSeparator);const i=parserForArrayFormat(n),l=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return l;for(const T of e.split("&")){if(T==="")continue;const g=n.decode?T.replaceAll("+"," "):T;let[b,w]=splitOnFirst(g,"=");b===void 0&&(b=g),w=w===void 0?null:["comma","separator","bracket-separator"].includes(n.arrayFormat)?w:decode(w,n),i(decode(b,n),w,l)}for(const[T,g]of Object.entries(l))if(typeof g=="object"&&g!==null&&n.types[T]!=="string")for(const[b,w]of Object.entries(g)){const d=n.types[T],h=typeof d=="function"?d:d?d.replace("[]",""):void 0;g[b]=parseValue(w,n,h)}else typeof g=="object"&&g!==null&&n.types[T]==="string"?l[T]=Object.values(g).join(n.arrayFormatSeparator):l[T]=parseValue(g,n,n.types[T]);return n.sort===!1?l:(n.sort===!0?Object.keys(l).sort():Object.keys(l).sort(n.sort)).reduce((T,g)=>{const b=l[g];return T[g]=b&&typeof b=="object"&&!Array.isArray(b)?keysSorter(b):b,T},Object.create(null))}function stringify$1(e,n){if(!e)return"";n={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...n},validateArrayFormatSeparator(n.arrayFormatSeparator);const i=b=>n.skipNull&&isNullOrUndefined(e[b])||n.skipEmptyString&&e[b]==="",l=encoderForArrayFormat(n),T={};for(const[b,w]of Object.entries(e))i(b)||(T[b]=w);const g=Object.keys(T);return n.sort!==!1&&g.sort(n.sort),g.map(b=>{let w=e[b];if(n.replacer&&(w=n.replacer(b,w),w===void 0)||w===void 0)return"";if(w===null)return encode(b,n);if(Array.isArray(w)){if(w.length===0&&n.arrayFormat==="bracket-separator")return encode(b,n)+"[]";let d=w;return n.replacer&&(d=w.map((h,c)=>n.replacer(`${b}[${c}]`,h)).filter(h=>h!==void 0)),d.reduce(l(b),[]).join("&")}return encode(b,n)+"="+encode(w,n)}).filter(b=>b.length>0).join("&")}function parseUrl(e,n){n={decode:!0,...n};let[i,l]=splitOnFirst(e,"#");return i===void 0&&(i=e),{url:i?.split("?")?.[0]??"",query:parse(extract(e),n),...n&&n.parseFragmentIdentifier&&l?{fragmentIdentifier:decode(l,n)}:{}}}function stringifyUrl(e,n){n={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...n};const i=removeHash(e.url).split("?")[0]||"",l=extract(e.url),T={...parse(l,{sort:!1,...n}),...e.query};let g=stringify$1(T,n);g&&=`?${g}`;let b=getHash(e.url);if(typeof e.fragmentIdentifier=="string"){const w=new URL(i);w.hash=e.fragmentIdentifier,b=n[encodeFragmentIdentifier]?w.hash:`#${e.fragmentIdentifier}`}return`${i}${g}${b}`}function pick(e,n,i){i={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...i};const{url:l,query:T,fragmentIdentifier:g}=parseUrl(e,i);return stringifyUrl({url:l,query:includeKeys(T,n),fragmentIdentifier:g},i)}function exclude(e,n,i){const l=Array.isArray(n)?T=>!n.includes(T):(T,g)=>!n(T,g);return pick(e,l,i)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify:stringify$1,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var lib$1={},ace$2={},ace$1={exports:{}},hasRequiredAce$1;function requireAce$1(){return hasRequiredAce$1||(hasRequiredAce$1=1,(function(e,n){(function(){var i="ace",l=(function(){return this})();!l&&typeof window<"u"&&(l=window);var T=function(c,a,o){if(typeof c!="string"){T.original?T.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(o=a),T.modules[c]||(T.payloads[c]=o,T.modules[c]=null)};T.modules={},T.payloads={};var g=function(c,a,o){if(typeof a=="string"){var u=d(c,a);if(u!=null)return o&&o(),u}else if(Object.prototype.toString.call(a)==="[object Array]"){for(var f=[],m=0,x=a.length;m<x;++m){var E=d(c,a[m]);if(E==null&&b.original)return;f.push(E)}return o&&o.apply(null,f)||!0}},b=function(c,a){var o=g("",c,a);return o==null&&b.original?b.original.apply(this,arguments):o},w=function(c,a){if(a.indexOf("!")!==-1){var o=a.split("!");return w(c,o[0])+"!"+w(c,o[1])}if(a.charAt(0)=="."){var u=c.split("/").slice(0,-1).join("/");for(a=u+"/"+a;a.indexOf(".")!==-1&&f!=a;){var f=a;a=a.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return a},d=function(c,a){a=w(c,a);var o=T.modules[a];if(!o){if(o=T.payloads[a],typeof o=="function"){var u={},f={id:a,uri:"",exports:u,packaged:!0},m=function(E,S){return g(a,E,S)},x=o(m,u,f);u=x||f.exports,T.modules[a]=u,delete T.payloads[a]}o=T.modules[a]=u||o}return o};function h(c){var a=l;l[c]||(l[c]={}),a=l[c],(!a.define||!a.define.packaged)&&(T.original=a.define,a.define=T,a.define.packaged=!0),(!a.require||!a.require.packaged)&&(b.original=a.require,a.require=b,a.require.packaged=!0)}h(i)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(i,l,T){function g(b,w,d){Object.defineProperty(b,w,{value:d,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||g(String.prototype,"startsWith",function(b,w){return w=w||0,this.lastIndexOf(b,w)===w}),String.prototype.endsWith||g(String.prototype,"endsWith",function(b,w){var d=this;(w===void 0||w>d.length)&&(w=d.length),w-=b.length;var h=d.indexOf(b,w);return h!==-1&&h===w}),String.prototype.repeat||g(String.prototype,"repeat",function(b){for(var w="",d=this;b>0;)b&1&&(w+=d),(b>>=1)&&(d+=d);return w}),String.prototype.includes||g(String.prototype,"includes",function(b,w){return this.indexOf(b,w)!=-1}),Object.assign||(Object.assign=function(b){if(b==null)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(b),d=1;d<arguments.length;d++){var h=arguments[d];h!=null&&Object.keys(h).forEach(function(c){w[c]=h[c]})}return w}),Object.values||(Object.values=function(b){return Object.keys(b).map(function(w){return b[w]})}),Array.prototype.find||g(Array.prototype,"find",function(b){for(var w=this.length,d=arguments[1],h=0;h<w;h++){var c=this[h];if(b.call(d,c,h,this))return c}}),Array.prototype.findIndex||g(Array.prototype,"findIndex",function(b){for(var w=this.length,d=arguments[1],h=0;h<w;h++){var c=this[h];if(b.call(d,c,h,this))return h}}),Array.prototype.includes||g(Array.prototype,"includes",function(b,w){return this.indexOf(b,w)!=-1}),Array.prototype.fill||g(Array.prototype,"fill",function(b){for(var w=this,d=w.length>>>0,h=arguments[1],c=h>>0,a=c<0?Math.max(d+c,0):Math.min(c,d),o=arguments[2],u=o===void 0?d:o>>0,f=u<0?Math.max(d+u,0):Math.min(u,d);a<f;)w[a]=b,a++;return w}),Array.of||g(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(i,l,T){i("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(i,l,T){l.deepCopy=function g(b){if(typeof b!="object"||!b)return b;var w;if(Array.isArray(b)){w=[];for(var d=0;d<b.length;d++)w[d]=g(b[d]);return w}if(Object.prototype.toString.call(b)!=="[object Object]")return b;w={};for(var d in b)w[d]=g(b[d]);return w}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(i,l,T){l.last=function(w){return w[w.length-1]},l.stringReverse=function(w){return w.split("").reverse().join("")},l.stringRepeat=function(w,d){for(var h="";d>0;)d&1&&(h+=w),(d>>=1)&&(w+=w);return h};var g=/^\s\s*/,b=/\s\s*$/;l.stringTrimLeft=function(w){return w.replace(g,"")},l.stringTrimRight=function(w){return w.replace(b,"")},l.copyObject=function(w){var d={};for(var h in w)d[h]=w[h];return d},l.copyArray=function(w){for(var d=[],h=0,c=w.length;h<c;h++)w[h]&&typeof w[h]=="object"?d[h]=this.copyObject(w[h]):d[h]=w[h];return d},l.deepCopy=i("./deep_copy").deepCopy,l.arrayToMap=function(w){for(var d={},h=0;h<w.length;h++)d[w[h]]=1;return d},l.createMap=function(w){var d=Object.create(null);for(var h in w)d[h]=w[h];return d},l.arrayRemove=function(w,d){for(var h=0;h<=w.length;h++)d===w[h]&&w.splice(h,1)},l.escapeRegExp=function(w){return w.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},l.escapeHTML=function(w){return(""+w).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},l.getMatchOffsets=function(w,d){var h=[];return w.replace(d,function(c){h.push({offset:arguments[arguments.length-2],length:c.length})}),h},l.deferredCall=function(w){var d=null,h=function(){d=null,w()},c=function(a){return c.cancel(),d=setTimeout(h,a||0),c};return c.schedule=c,c.call=function(){return this.cancel(),w(),c},c.cancel=function(){return clearTimeout(d),d=null,c},c.isPending=function(){return d},c},l.delayedCall=function(w,d){var h=null,c=function(){h=null,w()},a=function(o){h==null&&(h=setTimeout(c,o||d))};return a.delay=function(o){h&&clearTimeout(h),h=setTimeout(c,o||d)},a.schedule=a,a.call=function(){this.cancel(),w()},a.cancel=function(){h&&clearTimeout(h),h=null},a.isPending=function(){return h},a},l.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},l.skipEmptyMatch=function(w,d,h){return h&&w.codePointAt(d)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(i,l,T){l.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},l.getOS=function(){return l.isMac?l.OS.MAC:l.isLinux?l.OS.LINUX:l.OS.WINDOWS};var g=typeof navigator=="object"?navigator:{},b=(/mac|win|linux/i.exec(g.platform)||["other"])[0].toLowerCase(),w=g.userAgent||"",d=g.appName||"";l.isWin=b=="win",l.isMac=b=="mac",l.isLinux=b=="linux",l.isIE=d=="Microsoft Internet Explorer"||d.indexOf("MSAppHost")>=0?parseFloat((w.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((w.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),l.isOldIE=l.isIE&&l.isIE<9,l.isGecko=l.isMozilla=w.match(/ Gecko\/\d+/),l.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",l.isWebKit=parseFloat(w.split("WebKit/")[1])||void 0,l.isChrome=parseFloat(w.split(" Chrome/")[1])||void 0,l.isSafari=parseFloat(w.split(" Safari/")[1])&&!l.isChrome||void 0,l.isEdge=parseFloat(w.split(" Edge/")[1])||void 0,l.isAIR=w.indexOf("AdobeAIR")>=0,l.isAndroid=w.indexOf("Android")>=0,l.isChromeOS=w.indexOf(" CrOS ")>=0,l.isIOS=/iPad|iPhone|iPod/.test(w)&&!window.MSStream,l.isIOS&&(l.isMac=!0),l.isMobile=l.isIOS||l.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(i,l,T){var g=i("./useragent"),b="http://www.w3.org/1999/xhtml";l.buildDom=function o(u,f,m){if(typeof u=="string"&&u){var x=document.createTextNode(u);return f&&f.appendChild(x),x}if(!Array.isArray(u))return u&&u.appendChild&&f&&f.appendChild(u),u;if(typeof u[0]!="string"||!u[0]){for(var E=[],S=0;S<u.length;S++){var R=o(u[S],f,m);R&&E.push(R)}return E}var M=document.createElement(u[0]),k=u[1],v=1;k&&typeof k=="object"&&!Array.isArray(k)&&(v=2);for(var S=v;S<u.length;S++)o(u[S],M,m);return v==2&&Object.keys(k).forEach(function(F){var I=k[F];F==="class"?M.className=Array.isArray(I)?I.join(" "):I:typeof I=="function"||F=="value"||F[0]=="$"?M[F]=I:F==="ref"?m&&(m[I]=M):F==="style"?typeof I=="string"&&(M.style.cssText=I):I!=null&&M.setAttribute(F,I)}),f&&f.appendChild(M),M},l.getDocumentHead=function(o){return o||(o=document),o.head||o.getElementsByTagName("head")[0]||o.documentElement},l.createElement=function(o,u){return document.createElementNS?document.createElementNS(u||b,o):document.createElement(o)},l.removeChildren=function(o){o.innerHTML=""},l.createTextNode=function(o,u){var f=u?u.ownerDocument:document;return f.createTextNode(o)},l.createFragment=function(o){var u=o?o.ownerDocument:document;return u.createDocumentFragment()},l.hasCssClass=function(o,u){var f=(o.className+"").split(/\s+/g);return f.indexOf(u)!==-1},l.addCssClass=function(o,u){l.hasCssClass(o,u)||(o.className+=" "+u)},l.removeCssClass=function(o,u){for(var f=o.className.split(/\s+/g);;){var m=f.indexOf(u);if(m==-1)break;f.splice(m,1)}o.className=f.join(" ")},l.toggleCssClass=function(o,u){for(var f=o.className.split(/\s+/g),m=!0;;){var x=f.indexOf(u);if(x==-1)break;m=!1,f.splice(x,1)}return m&&f.push(u),o.className=f.join(" "),m},l.setCssClass=function(o,u,f){f?l.addCssClass(o,u):l.removeCssClass(o,u)},l.hasCssString=function(o,u){var f=0,m;if(u=u||document,m=u.querySelectorAll("style")){for(;f<m.length;)if(m[f++].id===o)return!0}},l.removeElementById=function(o,u){u=u||document,u.getElementById(o)&&u.getElementById(o).remove()};var w,d=[];l.useStrictCSP=function(o){w=o,o==!1?h():d||(d=[])};function h(){var o=d;d=null,o&&o.forEach(function(u){c(u[0],u[1])})}function c(o,u,f){if(!(typeof document>"u")){if(d){if(f)h();else if(f===!1)return d.push([o,u])}if(!w){var m=f;!f||!f.getRootNode?m=document:(m=f.getRootNode(),(!m||m==f)&&(m=document));var x=m.ownerDocument||m;if(u&&l.hasCssString(u,m))return null;u&&(o+=`
/*# sourceURL=ace/css/`+u+" */");var E=l.createElement("style");E.appendChild(x.createTextNode(o)),u&&(E.id=u),m==x&&(m=l.getDocumentHead(x)),m.insertBefore(E,m.firstChild)}}}if(l.importCssString=c,l.importCssStylsheet=function(o,u){l.buildDom(["link",{rel:"stylesheet",href:o}],l.getDocumentHead(u))},l.$fixPositionBug=function(o){var u=o.getBoundingClientRect();if(o.style.left){var f=parseFloat(o.style.left),m=+u.left;Math.abs(f-m)>1&&(o.style.left=2*f-m+"px")}if(o.style.right){var f=parseFloat(o.style.right),m=window.innerWidth-u.right;Math.abs(f-m)>1&&(o.style.right=2*f-m+"px")}if(o.style.top){var f=parseFloat(o.style.top),m=+u.top;Math.abs(f-m)>1&&(o.style.top=2*f-m+"px")}if(o.style.bottom){var f=parseFloat(o.style.bottom),m=window.innerHeight-u.bottom;Math.abs(f-m)>1&&(o.style.bottom=2*f-m+"px")}},l.scrollbarWidth=function(o){var u=l.createElement("ace_inner");u.style.width="100%",u.style.minWidth="0px",u.style.height="200px",u.style.display="block";var f=l.createElement("ace_outer"),m=f.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",f.appendChild(u);var x=o&&o.documentElement||document&&document.documentElement;if(!x)return 0;x.appendChild(f);var E=u.offsetWidth;m.overflow="scroll";var S=u.offsetWidth;return E===S&&(S=f.clientWidth),x.removeChild(f),E-S},l.computedStyle=function(o,u){return window.getComputedStyle(o,"")||{}},l.setStyle=function(o,u,f){o[u]!==f&&(o[u]=f)},l.HAS_CSS_ANIMATION=!1,l.HAS_CSS_TRANSFORMS=!1,l.HI_DPI=g.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,g.isChromeOS&&(l.HI_DPI=!1),typeof document<"u"){var a=document.createElement("div");l.HI_DPI&&a.style.transform!==void 0&&(l.HAS_CSS_TRANSFORMS=!0),!g.isEdge&&typeof a.style.animationName<"u"&&(l.HAS_CSS_ANIMATION=!0),a=null}l.HAS_CSS_TRANSFORMS?l.translate=function(o,u,f){o.style.transform="translate("+Math.round(u)+"px, "+Math.round(f)+"px)"}:l.translate=function(o,u,f){o.style.top=Math.round(f)+"px",o.style.left=Math.round(u)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(i,l,T){var g=i("./dom");l.get=function(b,w){var d=new XMLHttpRequest;d.open("GET",b,!0),d.onreadystatechange=function(){d.readyState===4&&w(d.responseText)},d.send(null)},l.loadScript=function(b,w){var d=g.getDocumentHead(),h=document.createElement("script");h.src=b,d.appendChild(h),h.onload=h.onreadystatechange=function(c,a){(a||!h.readyState||h.readyState=="loaded"||h.readyState=="complete")&&(h=h.onload=h.onreadystatechange=null,a||w())}},l.qualifyURL=function(b){var w=document.createElement("a");return w.href=b,w.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(i,l,T){l.inherits=function(g,b){g.super_=b,g.prototype=Object.create(b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})},l.mixin=function(g,b){for(var w in b)g[w]=b[w];return g},l.implement=function(g,b){l.mixin(g,b)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(i,l,T){var g={},b=function(){this.propagationStopped=!0},w=function(){this.defaultPrevented=!0};g._emit=g._dispatchEvent=function(d,h){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[d]||[],a=this._defaultHandlers[d];if(!(!c.length&&!a)){(typeof h!="object"||!h)&&(h={}),h.type||(h.type=d),h.stopPropagation||(h.stopPropagation=b),h.preventDefault||(h.preventDefault=w),c=c.slice();for(var o=0;o<c.length&&(c[o](h,this),!h.propagationStopped);o++);if(a&&!h.defaultPrevented)return a(h,this)}},g._signal=function(d,h){var c=(this._eventRegistry||{})[d];if(c){c=c.slice();for(var a=0;a<c.length;a++)c[a](h,this)}},g.once=function(d,h){var c=this;if(this.on(d,function a(){c.off(d,a),h.apply(null,arguments)}),!h)return new Promise(function(a){h=a})},g.setDefaultHandler=function(d,h){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[d]){var a=c[d],o=c._disabled_[d];o||(c._disabled_[d]=o=[]),o.push(a);var u=o.indexOf(h);u!=-1&&o.splice(u,1)}c[d]=h},g.removeDefaultHandler=function(d,h){var c=this._defaultHandlers;if(c){var a=c._disabled_[d];if(c[d]==h)a&&this.setDefaultHandler(d,a.pop());else if(a){var o=a.indexOf(h);o!=-1&&a.splice(o,1)}}},g.on=g.addEventListener=function(d,h,c){this._eventRegistry=this._eventRegistry||{};var a=this._eventRegistry[d];return a||(a=this._eventRegistry[d]=[]),a.indexOf(h)==-1&&a[c?"unshift":"push"](h),h},g.off=g.removeListener=g.removeEventListener=function(d,h){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[d];if(c){var a=c.indexOf(h);a!==-1&&c.splice(a,1)}},g.removeAllListeners=function(d){d||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[d]=void 0),this._defaultHandlers&&(this._defaultHandlers[d]=void 0)},l.EventEmitter=g}),ace.define("ace/lib/report_error",["require","exports","module"],function(i,l,T){l.reportError=function(b,w){var d=new Error(b);d.data=w,typeof console=="object"&&console.error&&console.error(d),setTimeout(function(){throw d})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(i,l,T){var g={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};l.defaultEnglishMessages=g}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(i,l,T){"no use strict";var g=i("./oop"),b=i("./event_emitter").EventEmitter,w=i("./report_error").reportError,d=i("./default_english_messages").defaultEnglishMessages,h={setOptions:function(f){Object.keys(f).forEach(function(m){this.setOption(m,f[m])},this)},getOptions:function(f){var m={};if(f)Array.isArray(f)||(f=Object.keys(f));else{var x=this.$options;f=Object.keys(x).filter(function(E){return!x[E].hidden})}return f.forEach(function(E){m[E]=this.getOption(E)},this),m},setOption:function(f,m){if(this["$"+f]!==m){var x=this.$options[f];if(!x)return c('misspelled option "'+f+'"');if(x.forwardTo)return this[x.forwardTo]&&this[x.forwardTo].setOption(f,m);x.handlesSet||(this["$"+f]=m),x&&x.set&&x.set.call(this,m)}},getOption:function(f){var m=this.$options[f];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(f):m&&m.get?m.get.call(this):this["$"+f]:c('misspelled option "'+f+'"')}};function c(f){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var a,o,u=(function(){function f(){this.$defaultOptions={},a=d,o="dollarSigns"}return f.prototype.defineOptions=function(m,x,E){return m.$options||(this.$defaultOptions[x]=m.$options={}),Object.keys(E).forEach(function(S){var R=E[S];typeof R=="string"&&(R={forwardTo:R}),R.name||(R.name=S),m.$options[R.name]=R,"initialValue"in R&&(m["$"+R.name]=R.initialValue)}),g.implement(m,h),this},f.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(x){var E=m.$options[x];"value"in E&&m.setOption(x,E.value)})},f.prototype.setDefaultValue=function(m,x,E){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][x])break;if(!this.$defaultOptions[m][x])return!1}var S=this.$defaultOptions[m]||(this.$defaultOptions[m]={});S[x]&&(S.forwardTo?this.setDefaultValue(S.forwardTo,x,E):S[x].value=E)},f.prototype.setDefaultValues=function(m,x){Object.keys(x).forEach(function(E){this.setDefaultValue(m,E,x[E])},this)},f.prototype.setMessages=function(m,x){a=m,x&&x.placeholders&&(o=x.placeholders)},f.prototype.nls=function(m,x,E){a[m]||(c("No message found for the key '"+m+"' in messages with id "+a.$id+", trying to find a translation for the default string '"+x+"'."),a[x]||c("No message found for the default string '"+x+"' in the provided messages. Falling back to the default English message."));var S=a[m]||a[x]||x;return E&&(o==="dollarSigns"&&(S=S.replace(/\$(\$|[\d]+)/g,function(R,M){return M=="$"?"$":E[M]})),o==="curlyBrackets"&&(S=S.replace(/\{([^\}]+)\}/g,function(R,M){return E[M]}))),S},f})();u.prototype.warn=c,u.prototype.reportError=w,g.implement(u.prototype,b),l.AppConfig=u}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(i,l,T){T.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(i,l,T){l.isDark=!1,l.cssClass="ace-tm",l.cssText=i("./textmate-css"),l.$id="ace/theme/textmate";var g=i("../lib/dom");g.importCssString(l.cssText,l.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(i,l,T){"no use strict";var g=i("./lib/lang"),b=i("./lib/net"),w=i("./lib/dom"),d=i("./lib/app_config").AppConfig;T.exports=l=new d;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};l.get=function(u){if(!h.hasOwnProperty(u))throw new Error("Unknown config key: "+u);return h[u]},l.set=function(u,f){if(h.hasOwnProperty(u))h[u]=f;else if(this.setDefaultValue("",u,f)==!1)throw new Error("Unknown config key: "+u);u=="useStrictCSP"&&w.useStrictCSP(f)},l.all=function(){return g.copyObject(h)},l.$modes={},l.moduleUrl=function(u,f){if(h.$moduleUrls[u])return h.$moduleUrls[u];var m=u.split("/");f=f||m[m.length-2]||"";var x=f=="snippets"?"/":"-",E=m[m.length-1];if(f=="worker"&&x=="-"){var S=new RegExp("^"+f+"[\\-_]|[\\-_]"+f+"$","g");E=E.replace(S,"")}(!E||E==f)&&m.length>1&&(E=m[m.length-2]);var R=h[f+"Path"];return R==null?R=h.basePath:x=="/"&&(f=x=""),R&&R.slice(-1)!="/"&&(R+="/"),R+f+x+E+this.get("suffix")},l.setModuleUrl=function(u,f){return h.$moduleUrls[u]=f};var c=function(u,f){if(u==="ace/theme/textmate"||u==="./theme/textmate")return f(null,i("./theme/textmate"));if(a)return a(u,f);console.error("loader is not configured")},a;l.setLoader=function(u){a=u},l.dynamicModules=Object.create(null),l.$loading={},l.$loaded={},l.loadModule=function(u,f){var m;if(Array.isArray(u))var x=u[0],E=u[1];else if(typeof u=="string")var E=u;var S=function(R){if(R&&!l.$loading[E])return f&&f(R);if(l.$loading[E]||(l.$loading[E]=[]),l.$loading[E].push(f),!(l.$loading[E].length>1)){var M=function(){c(E,function(k,v){v&&(l.$loaded[E]=v),l._emit("load.module",{name:E,module:v});var F=l.$loading[E];l.$loading[E]=null,F.forEach(function(I){I&&I(v)})})};if(!l.get("packaged"))return M();b.loadScript(l.moduleUrl(E,x),M),o()}};if(l.dynamicModules[E])l.dynamicModules[E]().then(function(R){R.default?S(R.default):S(R)});else{try{m=this.$require(E)}catch{}S(m||l.$loaded[E])}},l.$require=function(u){if(typeof T.require=="function"){var f="require";return T[f](u)}},l.setModuleLoader=function(u,f){l.dynamicModules[u]=f};var o=function(){!h.basePath&&!h.workerPath&&!h.modePath&&!h.themePath&&!Object.keys(h.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),o=function(){})};l.version="1.43.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(i,l,T){i("./lib/fixoldbrowsers");var g=i("./config");g.setLoader(function(h,c){i([h],function(a){c(null,a)})});var b=(function(){return this||typeof window<"u"&&window})();T.exports=function(h){g.init=w,g.$require=i,h.require=i},w(!0);function w(h){if(!(!b||!b.document)){g.set("packaged",h||i.packaged||T.packaged||b.define&&(void 0).packaged);var c={},a="",o=document.currentScript||document._currentScript,u=o&&o.ownerDocument||document;o&&o.src&&(a=o.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var f=u.getElementsByTagName("script"),m=0;m<f.length;m++){var x=f[m],E=x.src||x.getAttribute("src");if(E){for(var S=x.attributes,R=0,M=S.length;R<M;R++){var k=S[R];k.name.indexOf("data-ace-")===0&&(c[d(k.name.replace(/^data-ace-/,""))]=k.value)}var v=E.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);v&&(a=v[1])}}a&&(c.base=c.base||a,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var F in c)typeof c[F]<"u"&&g.set(F,c[F])}}function d(h){return h.replace(/-(.)/g,function(c,a){return a.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(i,l,T){var g=(function(){function b(w,d,h,c){this.start={row:w,column:d},this.end={row:h,column:c}}return b.prototype.isEqual=function(w){return this.start.row===w.start.row&&this.end.row===w.end.row&&this.start.column===w.start.column&&this.end.column===w.end.column},b.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},b.prototype.contains=function(w,d){return this.compare(w,d)==0},b.prototype.compareRange=function(w){var d,h=w.end,c=w.start;return d=this.compare(h.row,h.column),d==1?(d=this.compare(c.row,c.column),d==1?2:d==0?1:0):d==-1?-2:(d=this.compare(c.row,c.column),d==-1?-1:d==1?42:0)},b.prototype.comparePoint=function(w){return this.compare(w.row,w.column)},b.prototype.containsRange=function(w){return this.comparePoint(w.start)==0&&this.comparePoint(w.end)==0},b.prototype.intersects=function(w){var d=this.compareRange(w);return d==-1||d==0||d==1},b.prototype.isEnd=function(w,d){return this.end.row==w&&this.end.column==d},b.prototype.isStart=function(w,d){return this.start.row==w&&this.start.column==d},b.prototype.setStart=function(w,d){typeof w=="object"?(this.start.column=w.column,this.start.row=w.row):(this.start.row=w,this.start.column=d)},b.prototype.setEnd=function(w,d){typeof w=="object"?(this.end.column=w.column,this.end.row=w.row):(this.end.row=w,this.end.column=d)},b.prototype.inside=function(w,d){return this.compare(w,d)==0?!(this.isEnd(w,d)||this.isStart(w,d)):!1},b.prototype.insideStart=function(w,d){return this.compare(w,d)==0?!this.isEnd(w,d):!1},b.prototype.insideEnd=function(w,d){return this.compare(w,d)==0?!this.isStart(w,d):!1},b.prototype.compare=function(w,d){return!this.isMultiLine()&&w===this.start.row?d<this.start.column?-1:d>this.end.column?1:0:w<this.start.row?-1:w>this.end.row?1:this.start.row===w?d>=this.start.column?0:-1:this.end.row===w?d<=this.end.column?0:1:0},b.prototype.compareStart=function(w,d){return this.start.row==w&&this.start.column==d?-1:this.compare(w,d)},b.prototype.compareEnd=function(w,d){return this.end.row==w&&this.end.column==d?1:this.compare(w,d)},b.prototype.compareInside=function(w,d){return this.end.row==w&&this.end.column==d?1:this.start.row==w&&this.start.column==d?-1:this.compare(w,d)},b.prototype.clipRows=function(w,d){if(this.end.row>d)var h={row:d+1,column:0};else if(this.end.row<w)var h={row:w,column:0};if(this.start.row>d)var c={row:d+1,column:0};else if(this.start.row<w)var c={row:w,column:0};return b.fromPoints(c||this.start,h||this.end)},b.prototype.extend=function(w,d){var h=this.compare(w,d);if(h==0)return this;if(h==-1)var c={row:w,column:d};else var a={row:w,column:d};return b.fromPoints(c||this.start,a||this.end)},b.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},b.prototype.isMultiLine=function(){return this.start.row!==this.end.row},b.prototype.clone=function(){return b.fromPoints(this.start,this.end)},b.prototype.collapseRows=function(){return this.end.column==0?new b(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new b(this.start.row,0,this.end.row,0)},b.prototype.toScreenRange=function(w){var d=w.documentToScreenPosition(this.start),h=w.documentToScreenPosition(this.end);return new b(d.row,d.column,h.row,h.column)},b.prototype.moveBy=function(w,d){this.start.row+=w,this.start.column+=d,this.end.row+=w,this.end.column+=d},b})();g.fromPoints=function(b,w){return new g(b.row,b.column,w.row,w.column)},g.comparePoints=function(b,w){return b.row-w.row||b.column-w.column},l.Range=g}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(i,l,T){for(var g=i("./oop"),b={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},w={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},d=0;d<10;d++)w["Digit"+d]=48+d,w["Numpad"+d]=96+d,b.PRINTABLE_KEYS[48+d]=""+d,b.FUNCTION_KEYS[96+d]="Numpad"+d;for(var d=65;d<91;d++){var h=String.fromCharCode(d+32);w["Key"+h.toUpperCase()]=d,b.PRINTABLE_KEYS[d]=h}for(var d=1;d<13;d++)w["F"+d]=111+d,b.FUNCTION_KEYS[111+d]="F"+d;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var a in c)w[a]=w[a+"Left"]=w[a+"Right"]=c[a];l.$codeToKeyCode=w,b.PRINTABLE_KEYS[173]="-";for(var o in b.FUNCTION_KEYS){var u=b.FUNCTION_KEYS[o].toLowerCase();b[u]=parseInt(o,10)}for(var o in b.PRINTABLE_KEYS){var u=b.PRINTABLE_KEYS[o].toLowerCase();b[u]=parseInt(o,10)}g.mixin(b,b.MODIFIER_KEYS),g.mixin(b,b.PRINTABLE_KEYS),g.mixin(b,b.FUNCTION_KEYS),b.enter=b.return,b.escape=b.esc,b.del=b.delete,(function(){for(var f=["cmd","ctrl","alt","shift"],m=Math.pow(2,f.length);m--;)b.KEY_MODS[m]=f.filter(function(x){return m&b.KEY_MODS[x]}).join("-")+"-"})(),b.KEY_MODS[0]="",b.KEY_MODS[-1]="input-",g.mixin(l,b),l.default=l,l.keyCodeToString=function(f){var m=b[f];return typeof m!="string"&&(m=String.fromCharCode(f)),m.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,l,T){var g=i("./keys"),b=i("./useragent"),w=null,d=0,h;function c(){h=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return h={passive:!1},!0}})}catch{}}function a(){return h==null&&c(),h}function o(R,M,k){this.elem=R,this.type=M,this.callback=k}o.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=l.addListener=function(R,M,k,v){R.addEventListener(M,k,a()),v&&v.$toDestroy.push(new o(R,M,k))},f=l.removeListener=function(R,M,k){R.removeEventListener(M,k,a())};l.stopEvent=function(R){return l.stopPropagation(R),l.preventDefault(R),!1},l.stopPropagation=function(R){R.stopPropagation&&R.stopPropagation()},l.preventDefault=function(R){R.preventDefault&&R.preventDefault()},l.getButton=function(R){return R.type=="dblclick"?0:R.type=="contextmenu"||b.isMac&&R.ctrlKey&&!R.altKey&&!R.shiftKey?2:R.button},l.capture=function(R,M,k){var v=R&&R.ownerDocument||document;function F(I){M&&M(I),k&&k(I),f(v,"mousemove",M),f(v,"mouseup",F),f(v,"dragstart",F)}return u(v,"mousemove",M),u(v,"mouseup",F),u(v,"dragstart",F),F},l.addMouseWheelListener=function(R,M,k){u(R,"wheel",function(v){var F=.15,I=v.deltaX||0,A=v.deltaY||0;switch(v.deltaMode){case v.DOM_DELTA_PIXEL:v.wheelX=I*F,v.wheelY=A*F;break;case v.DOM_DELTA_LINE:var $=15;v.wheelX=I*$,v.wheelY=A*$;break;case v.DOM_DELTA_PAGE:var P=150;v.wheelX=I*P,v.wheelY=A*P;break}M(v)},k)},l.addMultiMouseDownListener=function(R,M,k,v,F){var I=0,A,$,P,B={2:"dblclick",3:"tripleclick",4:"quadclick"};function U(W){if(l.getButton(W)!==0?I=0:W.detail>1?(I++,I>4&&(I=1)):I=1,b.isIE){var j=Math.abs(W.clientX-A)>5||Math.abs(W.clientY-$)>5;(!P||j)&&(I=1),P&&clearTimeout(P),P=setTimeout(function(){P=null},M[I-1]||600),I==1&&(A=W.clientX,$=W.clientY)}if(W._clicks=I,k[v]("mousedown",W),I>4)I=0;else if(I>1)return k[v](B[I],W)}Array.isArray(R)||(R=[R]),R.forEach(function(W){u(W,"mousedown",U,F)})};function m(R){return 0|(R.ctrlKey?1:0)|(R.altKey?2:0)|(R.shiftKey?4:0)|(R.metaKey?8:0)}l.getModifierString=function(R){return g.KEY_MODS[m(R)]};function x(R,M,k){var v=m(M);if(!k&&M.code&&(k=g.$codeToKeyCode[M.code]||k),!b.isMac&&w){if(M.getModifierState&&(M.getModifierState("OS")||M.getModifierState("Win"))&&(v|=8),w.altGr)if((3&v)!=3)w.altGr=0;else return;if(k===18||k===17){var F=M.location;if(k===17&&F===1)w[k]==1&&(d=M.timeStamp);else if(k===18&&v===3&&F===2){var I=M.timeStamp-d;I<50&&(w.altGr=!0)}}}if(k in g.MODIFIER_KEYS&&(k=-1),!(!v&&k===13&&M.location===3&&(R(M,v,-k),M.defaultPrevented))){if(b.isChromeOS&&v&8){if(R(M,v,k),M.defaultPrevented)return;v&=-9}return!v&&!(k in g.FUNCTION_KEYS)&&!(k in g.PRINTABLE_KEYS)?!1:R(M,v,k)}}l.addCommandKeyListener=function(R,M,k){var v=null;u(R,"keydown",function(F){w[F.keyCode]=(w[F.keyCode]||0)+1;var I=x(M,F,F.keyCode);return v=F.defaultPrevented,I},k),u(R,"keypress",function(F){v&&(F.ctrlKey||F.altKey||F.shiftKey||F.metaKey)&&(l.stopEvent(F),v=null)},k),u(R,"keyup",function(F){w[F.keyCode]=null},k),w||(E(),u(window,"focus",E))};function E(){w=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!b.isOldIE){var S=1;l.nextTick=function(R,M){M=M||window;var k="zero-timeout-message-"+S++,v=function(F){F.data==k&&(l.stopPropagation(F),f(M,"message",v),R())};u(M,"message",v),M.postMessage(k,"*")}}l.$idleBlocked=!1,l.onIdle=function(R,M){return setTimeout(function k(){l.$idleBlocked?setTimeout(k,100):R()},M)},l.$idleBlockId=null,l.blockIdle=function(R){l.$idleBlockId&&clearTimeout(l.$idleBlockId),l.$idleBlocked=!0,l.$idleBlockId=setTimeout(function(){l.$idleBlocked=!1},R||100)},l.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),l.nextFrame?l.nextFrame=l.nextFrame.bind(window):l.nextFrame=function(R){setTimeout(R,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(i,l,T){var g;T.exports={lineMode:!1,pasteCancelled:function(){return g&&g>Date.now()-50?!0:g=!1},cancel:function(){g=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(i,l,T){var g=i("../lib/event"),b=i("../config").nls,w=i("../lib/useragent"),d=i("../lib/dom"),h=i("../lib/lang"),c=i("../clipboard"),a=w.isChrome<18,o=w.isIE,u=w.isChrome>63,f=400,m=i("../lib/keys"),x=m.KEY_MODS,E=w.isIOS,S=E?/\s/:/\n/,R=w.isMobile,M=(function(){function k(v,F){var I=this;this.host=F,this.text=d.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",v.insertBefore(this.text,v.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",R||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),g.addListener(this.text,"blur",function(A){I.ignoreFocusEvents||(F.onBlur(A),I.$isFocused=!1)},F),g.addListener(this.text,"focus",function(A){if(!I.ignoreFocusEvents){if(I.$isFocused=!0,w.isEdge)try{if(!document.hasFocus())return}catch{}F.onFocus(A),w.isEdge?setTimeout(I.resetSelection.bind(I)):I.resetSelection()}},F),this.$focusScroll=!1,F.on("beforeEndOperation",function(){var A=F.curOp,$=A&&A.command&&A.command.name;if($!="insertstring"){var P=$&&(A.docChanged||A.selectionChanged);I.inComposition&&P&&(I.lastValue=I.text.value="",I.onCompositionEnd()),I.resetSelection()}}),F.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=E?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&F.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,g.addCommandKeyListener(this.text,function(A,$,P){if(!I.inComposition)return F.onCommandKey(A,$,P)},F),g.addListener(this.text,"select",this.onSelect.bind(this),F),g.addListener(this.text,"input",this.onInput.bind(this),F),g.addListener(this.text,"cut",this.onCut.bind(this),F),g.addListener(this.text,"copy",this.onCopy.bind(this),F),g.addListener(this.text,"paste",this.onPaste.bind(this),F),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&g.addListener(v,"keydown",function(A){if(!(w.isMac&&!A.metaKey||!A.ctrlKey))switch(A.keyCode){case 67:I.onCopy(A);break;case 86:I.onPaste(A);break;case 88:I.onCut(A);break}},F),this.syncComposition=h.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),g.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),F),g.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),F),g.addListener(this.text,"keyup",this.onKeyup.bind(this),F),g.addListener(this.text,"keydown",this.syncComposition.bind(this),F),g.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),F),this.closeTimeout,g.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),F),g.addListener(this.text,"mousedown",function(A){A.preventDefault(),I.onContextMenuClose()},F),g.addListener(F.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),F),g.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),F),E&&this.addIosSelectionHandler(v,F,this.text)}return k.prototype.addIosSelectionHandler=function(v,F,I){var A=this,$=null,P=!1;I.addEventListener("keydown",function(U){$&&clearTimeout($),P=!0},!0),I.addEventListener("keyup",function(U){$=setTimeout(function(){P=!1},100)},!0);var B=function(U){if(document.activeElement===I&&!(P||A.inComposition||F.$mouseHandler.isMousePressed)&&!A.copied){var W=I.selectionStart,j=I.selectionEnd,H=null,Q=0;if(W==0?H=m.up:W==1?H=m.home:j>A.lastSelectionEnd&&A.lastValue[j]==`
`?H=m.end:W<A.lastSelectionStart&&A.lastValue[W-1]==" "?(H=m.left,Q=x.option):W<A.lastSelectionStart||W==A.lastSelectionStart&&A.lastSelectionEnd!=A.lastSelectionStart&&W==j?H=m.left:j>A.lastSelectionEnd&&A.lastValue.slice(0,j).split(`
`).length>2?H=m.down:j>A.lastSelectionEnd&&A.lastValue[j-1]==" "?(H=m.right,Q=x.option):(j>A.lastSelectionEnd||j==A.lastSelectionEnd&&A.lastSelectionEnd!=A.lastSelectionStart&&W==j)&&(H=m.right),W!==j&&(Q|=x.shift),H){var X=F.onCommandKey({},Q,H);if(!X&&F.commands){H=m.keyCodeToString(H);var ee=F.commands.findKeyCommand(Q,H);ee&&F.execCommand(ee)}A.lastSelectionStart=W,A.lastSelectionEnd=j,A.resetSelection("")}}};document.addEventListener("selectionchange",B),F.on("destroy",function(){document.removeEventListener("selectionchange",B)})},k.prototype.onContextMenuClose=function(){var v=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){v.tempStyle&&(v.text.style.cssText=v.tempStyle,v.tempStyle=""),v.host.renderer.$isMousePressed=!1,v.host.renderer.$keepTextAreaAtCursor&&v.host.renderer.$moveTextAreaToCursor()},0)},k.prototype.$onContextMenu=function(v){this.host.textInput.onContextMenu(v),this.onContextMenuClose()},k.prototype.onKeyup=function(v){v.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},k.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},k.prototype.onCompositionStart=function(v){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){v.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var F=this.host.getSelectionRange();F.end.row=F.start.row,F.end.column=F.start.column,this.inComposition.markerRange=F,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},k.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var v=this.text.value;this.sendText(v),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},k.prototype.onCompositionEnd=function(v){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),v&&this.onInput())},k.prototype.onCut=function(v){this.doCopy(v,!0)},k.prototype.onCopy=function(v){this.doCopy(v,!1)},k.prototype.onPaste=function(v){var F=this.handleClipboardData(v);c.pasteCancelled()||(typeof F=="string"?(F&&this.host.onPaste(F,v),w.isIE&&setTimeout(this.resetSelection),g.preventDefault(v)):(this.text.value="",this.pasted=!0))},k.prototype.doCopy=function(v,F){var I=this,A=this.host.getCopyText();if(!A)return g.preventDefault(v);this.handleClipboardData(v,A)?(E&&(this.resetSelection(A),this.copied=A,setTimeout(function(){I.copied=!1},10)),F?this.host.onCut():this.host.onCopy(),g.preventDefault(v)):(this.copied=!0,this.text.value=A,this.text.select(),setTimeout(function(){I.copied=!1,I.resetSelection(),F?I.host.onCut():I.host.onCopy()}))},k.prototype.handleClipboardData=function(v,F,I){var A=v.clipboardData||window.clipboardData;if(!(!A||a)){var $=o||I?"Text":"text/plain";try{return F?A.setData($,F)!==!1:A.getData($)}catch(P){if(!I)return this.handleClipboardData(P,F,!0)}}},k.prototype.onInput=function(v){if(this.inComposition)return this.onCompositionUpdate();if(v&&v.inputType){if(v.inputType=="historyUndo")return this.host.execCommand("undo");if(v.inputType=="historyRedo")return this.host.execCommand("redo")}var F=this.text.value,I=this.sendText(F,!0);(F.length>f+100||S.test(I)||R&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},k.prototype.sendText=function(v,F){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),v&&this.host.onPaste(v),this.pasted=!1,"";for(var I=this.text.selectionStart,A=this.text.selectionEnd,$=this.lastSelectionStart,P=this.lastValue.length-this.lastSelectionEnd,B=v,U=v.length-I,W=v.length-A,j=0;$>0&&this.lastValue[j]==v[j];)j++,$--;for(B=B.slice(j),j=1;P>0&&this.lastValue.length-j>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-j]==v[v.length-j];)j++,P--;U-=j-1,W-=j-1;var H=B.length-j+1;if(H<0&&($=-H,H=0),B=B.slice(0,H),!F&&!B&&!U&&!$&&!P&&!W)return"";this.sendingText=!0;var Q=!1;return w.isAndroid&&B==". "&&(B="  ",Q=!0),B&&!$&&!P&&!U&&!W||this.commandMode?this.host.onTextInput(B):this.host.onTextInput(B,{extendLeft:$,extendRight:P,restoreStart:U,restoreEnd:W}),this.sendingText=!1,this.lastValue=v,this.lastSelectionStart=I,this.lastSelectionEnd=A,this.lastRestoreEnd=W,Q?`
`:B},k.prototype.onSelect=function(v){var F=this;if(!this.inComposition){var I=function(A){return A.selectionStart===0&&A.selectionEnd>=F.lastValue.length&&A.value===F.lastValue&&F.lastValue&&A.selectionEnd!==F.lastSelectionEnd};this.copied?this.copied=!1:I(this.text)?(this.host.selectAll(),this.resetSelection()):R&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},k.prototype.$resetSelectionIOS=function(v){if(!(!this.$isFocused||this.copied&&!v||this.sendingText)){v||(v="");var F=`
 ab`+v+`cde fg
`;F!=this.text.value&&(this.text.value=this.lastValue=F);var I=4,A=4+(v.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=I||this.lastSelectionEnd!=A)&&this.text.setSelectionRange(I,A),this.lastSelectionStart=I,this.lastSelectionEnd=A}},k.prototype.$resetSelection=function(){var v=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var F=0,I=0,A="",$=function(ee,ie){for(var ne=ie,ae=1;ae<=ee-v.rowStart&&ae<2*v.numberOfExtraLines+1;ae++)ne+=v.host.session.getLine(ee-ae).length+1;return ne};if(this.host.session){var P=this.host.selection,B=P.getRange(),U=P.cursor.row;U===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):U===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(U<this.rowStart-1||U>this.rowEnd+1)&&(this.rowStart=U>this.numberOfExtraLines?U-this.numberOfExtraLines:0,this.rowEnd=U>this.numberOfExtraLines?U+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var W=[],j=this.rowStart;j<=this.rowEnd;j++)W.push(this.host.session.getLine(j));if(A=W.join(`
`),F=$(B.start.row,B.start.column),I=$(B.end.row,B.end.column),B.start.row<this.rowStart){var H=this.host.session.getLine(this.rowStart-1);F=B.start.row<this.rowStart-1?0:F,I+=H.length+1,A=H+`
`+A}else if(B.end.row>this.rowEnd){var Q=this.host.session.getLine(this.rowEnd+1);I=B.end.row>this.rowEnd+1?Q.length:B.end.column,I+=A.length+1,A=A+`
`+Q}else R&&U>0&&(A=`
`+A,I+=1,F+=1);A.length>f&&(F<f&&I<f?A=A.slice(0,f):(A=`
`,F==I?F=I=0:(F=0,I=1)));var X=A+`

`;X!=this.lastValue&&(this.text.value=this.lastValue=X,this.lastSelectionStart=this.lastSelectionEnd=X.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=I||this.lastSelectionStart!=F||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(F,I),this.lastSelectionStart=F,this.lastSelectionEnd=I}catch{}this.inComposition=!1}},k.prototype.setHost=function(v){this.host=v},k.prototype.setNumberOfExtraLines=function(v){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,v<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=v},k.prototype.setAriaLabel=function(){var v="";if(this.host.$textInputAriaLabel&&(v+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var F=this.host.session.selection.cursor.row;v+=b("text-input.aria-label","Cursor at row $0",[F+1])}this.text.setAttribute("aria-label",v)},k.prototype.setAriaOptions=function(v){v.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",v.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",v.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),v.role&&this.text.setAttribute("role",v.role),v.setLabel&&(this.text.setAttribute("aria-roledescription",b("text-input.aria-roledescription","editor")),this.setAriaLabel())},k.prototype.focus=function(){var v=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||u||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var F=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var I=this.text.getBoundingClientRect().top!=0}catch{return}var A=[];if(I)for(var $=this.text.parentElement;$&&$.nodeType==1;)A.push($),$.setAttribute("ace_nocontext","true"),!$.parentElement&&$.getRootNode?$=$.getRootNode().host:$=$.parentElement;this.text.focus({preventScroll:!0}),I&&A.forEach(function(P){P.removeAttribute("ace_nocontext")}),setTimeout(function(){v.text.style.position="",v.text.style.top=="0px"&&(v.text.style.top=F)},0)},k.prototype.blur=function(){this.text.blur()},k.prototype.isFocused=function(){return this.$isFocused},k.prototype.setInputHandler=function(v){this.inputHandler=v},k.prototype.getInputHandler=function(){return this.inputHandler},k.prototype.getElement=function(){return this.text},k.prototype.setCommandMode=function(v){this.commandMode=v,this.text.readOnly=!1},k.prototype.setReadOnly=function(v){this.commandMode||(this.text.readOnly=v)},k.prototype.setCopyWithEmptySelection=function(v){},k.prototype.onContextMenu=function(v){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:v}),this.moveToMouse(v,!0)},k.prototype.moveToMouse=function(v,F){var I=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(F?"z-index:100000;":"")+(w.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var A=this.host.container.getBoundingClientRect(),$=d.computedStyle(this.host.container),P=A.top+(parseInt($.borderTopWidth)||0),B=A.left+(parseInt($.borderLeftWidth)||0),U=A.bottom-P-this.text.clientHeight-2,W=function(j){d.translate(I.text,j.clientX-B-2,Math.min(j.clientY-P-2,U))};W(v),v.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),w.isWin&&g.capture(this.host.container,W,this.onContextMenuClose.bind(this)))},k.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},k})();l.TextInput=M,l.$setUserAgentForTests=function(k,v){R=k,E=v}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(i,l,T){var g=i("../lib/useragent"),b=0,w=550,d=(function(){function a(o){o.$clickSelection=null;var u=o.editor;u.setDefaultHandler("mousedown",this.onMouseDown.bind(o)),u.setDefaultHandler("dblclick",this.onDoubleClick.bind(o)),u.setDefaultHandler("tripleclick",this.onTripleClick.bind(o)),u.setDefaultHandler("quadclick",this.onQuadClick.bind(o)),u.setDefaultHandler("mousewheel",this.onMouseWheel.bind(o));var f=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];f.forEach(function(m){o[m]=this[m]},this),o.selectByLines=this.extendSelectionBy.bind(o,"getLineRange"),o.selectByWords=this.extendSelectionBy.bind(o,"getWordRange")}return a.prototype.onMouseDown=function(o){var u=o.inSelection(),f=o.getDocumentPosition();this.mousedownEvent=o;var m=this.editor,x=o.getButton();if(x!==0){var E=m.getSelectionRange(),S=E.isEmpty();(S||x==1)&&m.selection.moveToPosition(f),x==2&&(m.textInput.onContextMenu(o.domEvent),g.isMozilla||o.preventDefault());return}if(this.mousedownEvent.time=Date.now(),u&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(o);return}return this.captureMouse(o),this.startSelect(f,o.domEvent._clicks>1),o.preventDefault()},a.prototype.startSelect=function(o,u){o=o||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var f=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?f.selection.selectToPosition(o):u||f.selection.moveToPosition(o),u||this.select(),f.setStyle("ace_selecting"),this.setState("select"))},a.prototype.select=function(){var o,u=this.editor,f=u.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(f);if(m==-1)o=this.$clickSelection.end;else if(m==1)o=this.$clickSelection.start;else{var x=c(this.$clickSelection,f,u.session);f=x.cursor,o=x.anchor}u.selection.setSelectionAnchor(o.row,o.column)}u.selection.selectToPosition(f),u.renderer.scrollCursorIntoView()},a.prototype.extendSelectionBy=function(o){var u,f=this.editor,m=f.renderer.screenToTextCoordinates(this.x,this.y),x=f.selection[o](m.row,m.column);if(this.$clickSelection){var E=this.$clickSelection.comparePoint(x.start),S=this.$clickSelection.comparePoint(x.end);if(E==-1&&S<=0)u=this.$clickSelection.end,(x.end.row!=m.row||x.end.column!=m.column)&&(m=x.start);else if(S==1&&E>=0)u=this.$clickSelection.start,(x.start.row!=m.row||x.start.column!=m.column)&&(m=x.end);else if(E==-1&&S==1)m=x.end,u=x.start;else{var R=c(this.$clickSelection,m,f.session);m=R.cursor,u=R.anchor}f.selection.setSelectionAnchor(u.row,u.column)}f.selection.selectToPosition(m),f.renderer.scrollCursorIntoView()},a.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},a.prototype.focusWait=function(){var o=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),u=Date.now();(o>b||u-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},a.prototype.onDoubleClick=function(o){var u=o.getDocumentPosition(),f=this.editor,m=f.session,x=m.getBracketRange(u);x?(x.isEmpty()&&(x.start.column--,x.end.column++),this.setState("select")):(x=f.selection.getWordRange(u.row,u.column),this.setState("selectByWords")),this.$clickSelection=x,this.select()},a.prototype.onTripleClick=function(o){var u=o.getDocumentPosition(),f=this.editor;this.setState("selectByLines");var m=f.getSelectionRange();m.isMultiLine()&&m.contains(u.row,u.column)?(this.$clickSelection=f.selection.getLineRange(m.start.row),this.$clickSelection.end=f.selection.getLineRange(m.end.row).end):this.$clickSelection=f.selection.getLineRange(u.row),this.select()},a.prototype.onQuadClick=function(o){var u=this.editor;u.selectAll(),this.$clickSelection=u.getSelectionRange(),this.setState("selectAll")},a.prototype.onMouseWheel=function(o){if(!o.getAccelKey()){o.getShiftKey()&&o.wheelY&&!o.wheelX&&(o.wheelX=o.wheelY,o.wheelY=0);var u=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var f=this.$lastScroll,m=o.domEvent.timeStamp,x=m-f.t,E=x?o.wheelX/x:f.vx,S=x?o.wheelY/x:f.vy;x<w&&(E=(E+f.vx)/2,S=(S+f.vy)/2);var R=Math.abs(E/S),M=!1;if(R>=1&&u.renderer.isScrollableBy(o.wheelX*o.speed,0)&&(M=!0),R<=1&&u.renderer.isScrollableBy(0,o.wheelY*o.speed)&&(M=!0),M)f.allowed=m;else if(m-f.allowed<w){var k=Math.abs(E)<=1.5*Math.abs(f.vx)&&Math.abs(S)<=1.5*Math.abs(f.vy);k?(M=!0,f.allowed=m):f.allowed=0}if(f.t=m,f.vx=E,f.vy=S,M)return u.renderer.scrollBy(o.wheelX*o.speed,o.wheelY*o.speed),o.stop()}},a})();d.prototype.selectEnd=d.prototype.selectByLinesEnd,d.prototype.selectAllEnd=d.prototype.selectByLinesEnd,d.prototype.selectByWordsEnd=d.prototype.selectByLinesEnd,l.DefaultHandlers=d;function h(a,o,u,f){return Math.sqrt(Math.pow(u-a,2)+Math.pow(f-o,2))}function c(a,o,u){if(a.start.row==a.end.row)var f=2*o.column-a.start.column-a.end.column;else if(a.start.row==a.end.row-1&&!a.start.column&&!a.end.column)var f=3*o.column-2*u.getLine(a.start.row).length;else var f=2*o.row-a.start.row-a.end.row;return f<0?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,l,T){var g=i("../lib/event"),b=i("../lib/useragent"),w=(function(){function d(h,c){this.speed,this.wheelX,this.wheelY,this.domEvent=h,this.editor=c,this.x=this.clientX=h.clientX,this.y=this.clientY=h.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return d.prototype.stopPropagation=function(){g.stopPropagation(this.domEvent),this.propagationStopped=!0},d.prototype.preventDefault=function(){g.preventDefault(this.domEvent),this.defaultPrevented=!0},d.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},d.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},d.prototype.getGutterRow=function(){var h=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(h,0),a=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-a},d.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var h=this.editor,c=h.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var a=this.getDocumentPosition();this.$inSelection=c.contains(a.row,a.column)}return this.$inSelection},d.prototype.getButton=function(){return g.getButton(this.domEvent)},d.prototype.getShiftKey=function(){return this.domEvent.shiftKey},d.prototype.getAccelKey=function(){return b.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},d})();l.MouseEvent=w}),ace.define("ace/lib/scroll",["require","exports","module"],function(i,l,T){l.preventParentScroll=function(b){b.stopPropagation();var w=b.currentTarget,d=w.scrollHeight>w.clientHeight;d||b.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(i,l,T){var g=this&&this.__extends||(function(){var m=function(x,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,R){S.__proto__=R}||function(S,R){for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(S[M]=R[M])},m(x,E)};return function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");m(x,E);function S(){this.constructor=x}x.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}})(),b=this&&this.__values||function(m){var x=typeof Symbol=="function"&&Symbol.iterator,E=x&&m[x],S=0;if(E)return E.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&S>=m.length&&(m=void 0),{value:m&&m[S++],done:!m}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")},w=i("./lib/dom");i("./lib/event");var d=i("./range").Range,h=i("./lib/scroll").preventParentScroll,c="ace_tooltip",a=(function(){function m(x){this.isOpen=!1,this.$element=null,this.$parentNode=x}return m.prototype.$init=function(){return this.$element=w.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(x){this.getElement().textContent=x},m.prototype.setHtml=function(x){this.getElement().innerHTML=x},m.prototype.setPosition=function(x,E){this.getElement().style.left=x+"px",this.getElement().style.top=E+"px"},m.prototype.setClassName=function(x){w.addCssClass(this.getElement(),x)},m.prototype.setTheme=function(x){this.theme&&(this.theme.isDark&&w.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&w.removeCssClass(this.getElement(),this.theme.cssClass)),x.isDark&&w.addCssClass(this.getElement(),"ace_dark"),x.cssClass&&w.addCssClass(this.getElement(),x.cssClass),this.theme={isDark:x.isDark,cssClass:x.cssClass}},m.prototype.show=function(x,E,S){x!=null&&this.setText(x),E!=null&&S!=null&&this.setPosition(E,S),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(x){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},m})(),o=(function(){function m(){this.popups=[]}return m.prototype.addPopup=function(x){this.popups.push(x),this.updatePopups()},m.prototype.removePopup=function(x){var E=this.popups.indexOf(x);E!==-1&&(this.popups.splice(E,1),this.updatePopups())},m.prototype.updatePopups=function(){var x,E,S,R;this.popups.sort(function(B,U){return U.priority-B.priority});var M=[];try{for(var k=b(this.popups),v=k.next();!v.done;v=k.next()){var F=v.value,I=!0;try{for(var A=(S=void 0,b(M)),$=A.next();!$.done;$=A.next()){var P=$.value;if(this.doPopupsOverlap(P,F)){I=!1;break}}}catch(B){S={error:B}}finally{try{$&&!$.done&&(R=A.return)&&R.call(A)}finally{if(S)throw S.error}}I?M.push(F):F.hide()}}catch(B){x={error:B}}finally{try{v&&!v.done&&(E=k.return)&&E.call(k)}finally{if(x)throw x.error}}},m.prototype.doPopupsOverlap=function(x,E){var S=x.getElement().getBoundingClientRect(),R=E.getElement().getBoundingClientRect();return S.left<R.right&&S.right>R.left&&S.top<R.bottom&&S.bottom>R.top},m})(),u=new o;l.popupManager=u,l.Tooltip=a;var f=(function(m){g(x,m);function x(E){E===void 0&&(E=document.body);var S=m.call(this,E)||this;S.timeout=void 0,S.lastT=0,S.idleTime=350,S.lastEvent=void 0,S.onMouseOut=S.onMouseOut.bind(S),S.onMouseMove=S.onMouseMove.bind(S),S.waitForHover=S.waitForHover.bind(S),S.hide=S.hide.bind(S);var R=S.getElement();return R.style.whiteSpace="pre-wrap",R.style.pointerEvents="auto",R.addEventListener("mouseout",S.onMouseOut),R.tabIndex=-1,R.addEventListener("blur",(function(){R.contains(document.activeElement)||this.hide()}).bind(S)),R.addEventListener("wheel",h),S}return x.prototype.addToEditor=function(E){E.on("mousemove",this.onMouseMove),E.on("mousedown",this.hide);var S=E.renderer.getMouseEventTarget();S&&typeof S.removeEventListener=="function"&&S.addEventListener("mouseout",this.onMouseOut,!0)},x.prototype.removeFromEditor=function(E){E.off("mousemove",this.onMouseMove),E.off("mousedown",this.hide);var S=E.renderer.getMouseEventTarget();S&&typeof S.removeEventListener=="function"&&S.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},x.prototype.onMouseMove=function(E,S){this.lastEvent=E,this.lastT=Date.now();var R=S.$mouseHandler.isMousePressed;if(this.isOpen){var M=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(M.row,M.column)||R||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||R||(this.lastEvent=E,this.timeout=setTimeout(this.waitForHover,this.idleTime))},x.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var E=Date.now()-this.lastT;if(this.idleTime-E>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-E);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},x.prototype.isOutsideOfText=function(E){var S=E.editor,R=E.getDocumentPosition(),M=S.session.getLine(R.row);if(R.column==M.length){var k=S.renderer.pixelToScreenCoordinates(E.clientX,E.clientY),v=S.session.documentToScreenPosition(R.row,R.column);if(v.column!=k.column||v.row!=k.row)return!0}return!1},x.prototype.setDataProvider=function(E){this.$gatherData=E},x.prototype.showForRange=function(E,S,R,M){if(!(M&&M!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var k=E.renderer;this.isOpen||(u.addPopup(this),this.$registerCloseEvents(),this.setTheme(k.theme)),this.isOpen=!0,this.range=d.fromPoints(S.start,S.end);var v=k.textToScreenCoordinates(S.start.row,S.start.column),F=k.scroller.getBoundingClientRect();v.pageX<F.left&&(v.pageX=F.left);var I=this.getElement();I.innerHTML="",I.appendChild(R),I.style.maxHeight="",I.style.display="block",this.$setPosition(E,v,!0,S),w.$fixPositionBug(I)}},x.prototype.$setPosition=function(E,S,R,M){var k=10;R&&this.addMarker(M,E.session);var v=E.renderer,F=this.getElement(),I=F.offsetHeight,A=F.offsetWidth,$=S.pageY,P=S.pageX,B=window.innerHeight-$-v.lineHeight,U=this.$shouldPlaceAbove(I,$,B-k);F.style.maxHeight=(U?$:B)-k+"px",F.style.top=U?"":$+v.lineHeight+"px",F.style.bottom=U?window.innerHeight-$+"px":"",F.style.left=Math.min(P,window.innerWidth-A-k)+"px"},x.prototype.$shouldPlaceAbove=function(E,S,R){return!(S-E<0&&S<R)},x.prototype.addMarker=function(E,S){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=S,this.marker=S&&S.addMarker(E,"ace_highlight-marker","text")},x.prototype.hide=function(E){E&&this.$fromKeyboard&&E.type=="keydown"&&E.code=="Escape"||!E&&document.activeElement==this.getElement()||E&&E.target&&(E.type!="keydown"||E.ctrlKey||E.metaKey)&&this.$element.contains(E.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,u.removePopup(this)))},x.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},x.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},x.prototype.onMouseOut=function(E){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!E.relatedTarget||this.getElement().contains(E.relatedTarget)||E&&E.currentTarget.contains(E.relatedTarget)||E.relatedTarget.classList.contains("ace_content")||this.hide())},x})(a);l.HoverTooltip=f}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(i,l,T){var g=this&&this.__extends||(function(){var f=function(m,x){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,S){E.__proto__=S}||function(E,S){for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])},f(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");f(m,x);function E(){this.constructor=m}m.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}})(),b=this&&this.__values||function(f){var m=typeof Symbol=="function"&&Symbol.iterator,x=m&&f[m],E=0;if(x)return x.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&E>=f.length&&(f=void 0),{value:f&&f[E++],done:!f}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},w=i("../lib/dom"),d=i("./mouse_event").MouseEvent,h=i("../tooltip").HoverTooltip,c=i("../config").nls,a=i("../range").Range;function o(f){var m=f.editor,x=m.renderer.$gutterLayer;f.$tooltip=new u(m),f.$tooltip.addToEditor(m),f.$tooltip.setDataProvider(function(E,S){var R=E.getDocumentPosition().row;f.$tooltip.showTooltip(R)}),f.editor.setDefaultHandler("guttermousedown",function(E){if(!(!m.isFocused()||E.getButton()!=0)){var S=x.getRegion(E);if(S!="foldWidgets"){var R=E.getDocumentPosition().row,M=m.session.selection;if(E.getShiftKey())M.selectTo(R,0);else{if(E.domEvent.detail==2)return m.selectAll(),E.preventDefault();f.$clickSelection=m.selection.getLineRange(R)}return f.setState("selectByLines"),f.captureMouse(E),E.preventDefault()}}})}l.GutterHandler=o;var u=(function(f){g(m,f);function m(x){var E=f.call(this,x.container)||this;E.id="gt"+ ++m.$uid,E.editor=x,E.visibleTooltipRow;var S=E.getElement();return S.setAttribute("role","tooltip"),S.setAttribute("id",E.id),S.style.pointerEvents="auto",E.idleTime=50,E.onDomMouseMove=E.onDomMouseMove.bind(E),E.onDomMouseOut=E.onDomMouseOut.bind(E),E.setClassName("ace_gutter-tooltip"),E}return m.prototype.onDomMouseMove=function(x){var E=new d(x,this.editor);this.onMouseMove(E,this.editor)},m.prototype.onDomMouseOut=function(x){var E=new d(x,this.editor);this.onMouseOut(E)},m.prototype.addToEditor=function(x){var E=x.renderer.$gutter;E.addEventListener("mousemove",this.onDomMouseMove),E.addEventListener("mouseout",this.onDomMouseOut),f.prototype.addToEditor.call(this,x)},m.prototype.removeFromEditor=function(x){var E=x.renderer.$gutter;E.removeEventListener("mousemove",this.onDomMouseMove),E.removeEventListener("mouseout",this.onDomMouseOut),f.prototype.removeFromEditor.call(this,x)},m.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),f.prototype.destroy.call(this)},Object.defineProperty(m,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),m.prototype.showTooltip=function(x){var E,S=this.editor.renderer.$gutterLayer,R=S.$annotations[x],M;R?M={displayText:Array.from(R.displayText),type:Array.from(R.type)}:M={displayText:[],type:[]};var k=S.session.getFoldLine(x);if(k&&S.$showFoldedAnnotations){for(var v={error:[],security:[],warning:[],info:[],hint:[]},F={error:1,security:2,warning:3,info:4,hint:5},I,A=x+1;A<=k.end.row;A++)if(S.$annotations[A])for(var $=0;$<S.$annotations[A].text.length;$++){var P=S.$annotations[A].type[$];v[P].push(S.$annotations[A].text[$]),(!I||F[P]<F[I])&&(I=P)}if(["error","security","warning"].includes(I)){var B="".concat(m.annotationsToSummaryString(v)," in folded code.");M.displayText.push(B),M.type.push(I+"_fold")}}if(M.displayText.length===0)return this.hide();for(var U={error:[],security:[],warning:[],info:[],hint:[]},W=S.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",A=0;A<M.displayText.length;A++){var j=w.createElement("span"),H=w.createElement("span");(E=H.classList).add.apply(E,["ace_".concat(M.type[A]),W]),H.setAttribute("aria-label","".concat(m.annotationLabels[M.type[A].replace("_fold","")].singular)),H.setAttribute("role","img"),H.appendChild(w.createTextNode(" ")),j.appendChild(H),j.appendChild(w.createTextNode(M.displayText[A])),j.appendChild(w.createElement("br")),U[M.type[A].replace("_fold","")].push(j)}var Q=w.createElement("span");U.error.forEach(function(ie){return Q.appendChild(ie)}),U.security.forEach(function(ie){return Q.appendChild(ie)}),U.warning.forEach(function(ie){return Q.appendChild(ie)}),U.info.forEach(function(ie){return Q.appendChild(ie)}),U.hint.forEach(function(ie){return Q.appendChild(ie)}),Q.setAttribute("aria-live","polite");var X=this.$findLinkedAnnotationNode(x);X&&X.setAttribute("aria-describedby",this.id);var ee=a.fromPoints({row:x,column:0},{row:x,column:0});this.showForRange(this.editor,ee,Q),this.visibleTooltipRow=x,this.editor._signal("showGutterTooltip",this)},m.prototype.$setPosition=function(x,E,S,R){var M=this.$findCellByRow(R.start.row);if(M){var k=M&&M.element,v=k&&k.querySelector(".ace_gutter_annotation");if(v){var F=v.getBoundingClientRect();if(F){var I={pageX:F.right,pageY:F.top};return f.prototype.$setPosition.call(this,x,I,!1,R)}}}},m.prototype.$shouldPlaceAbove=function(x,E,S){return S<x},m.prototype.$findLinkedAnnotationNode=function(x){var E=this.$findCellByRow(x);if(E){var S=E.element;if(S.childNodes.length>2)return S.childNodes[2]}},m.prototype.$findCellByRow=function(x){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(E){return E.row===x})},m.prototype.hide=function(x){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var E=this.$findLinkedAnnotationNode(this.visibleTooltipRow);E&&E.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),f.prototype.hide.call(this,x)}},m.annotationsToSummaryString=function(x){var E,S,R=[],M=["error","security","warning","info","hint"];try{for(var k=b(M),v=k.next();!v.done;v=k.next()){var F=v.value;if(x[F].length){var I=x[F].length===1?m.annotationLabels[F].singular:m.annotationLabels[F].plural;R.push("".concat(x[F].length," ").concat(I))}}}catch(A){E={error:A}}finally{try{v&&!v.done&&(S=k.return)&&S.call(k)}finally{if(E)throw E.error}}return R.join(", ")},m.prototype.isOutsideOfText=function(x){var E=x.editor,S=E.renderer.$gutter.getBoundingClientRect();return!(x.clientX>=S.left&&x.clientX<=S.right&&x.clientY>=S.top&&x.clientY<=S.bottom)},m})(h);u.$uid=0,l.GutterTooltip=u}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(i,l,T){var g=i("../lib/dom"),b=i("../lib/event"),w=i("../lib/useragent"),d=200,h=200,c=5;function a(u){var f=u.editor,m=g.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="";var x=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];x.forEach(function(re){u[re]=this[re]},this),f.on("mousedown",this.onMouseDown.bind(u));var E=f.container,S,R,M,k,v,F,I=0,A,$,P,B,U;this.onDragStart=function(re){if(this.cancelDrag||!E.draggable){var fe=this;return setTimeout(function(){fe.startSelect(),fe.captureMouse(re)},0),re.preventDefault()}v=f.getSelectionRange();var pe=re.dataTransfer;pe.effectAllowed=f.getReadOnly()?"copy":"copyMove",f.container.appendChild(m),pe.setDragImage&&pe.setDragImage(m,0,0),setTimeout(function(){f.container.removeChild(m)}),pe.clearData(),pe.setData("Text",f.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(re){if(E.draggable=!1,$=!1,this.setState(null),!f.getReadOnly()){var fe=re.dataTransfer.dropEffect;!A&&fe=="move"&&f.session.remove(f.getSelectionRange()),f.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(re){if(!(f.getReadOnly()||!ne(re.dataTransfer)))return R=re.clientX,M=re.clientY,S||Q(),I++,re.dataTransfer.dropEffect=A=ae(re),b.preventDefault(re)},this.onDragOver=function(re){if(!(f.getReadOnly()||!ne(re.dataTransfer)))return R=re.clientX,M=re.clientY,S||(Q(),I++),ee!==null&&(ee=null),re.dataTransfer.dropEffect=A=ae(re),b.preventDefault(re)},this.onDragLeave=function(re){if(I--,I<=0&&S)return X(),A=null,b.preventDefault(re)},this.onDrop=function(re){if(F){var fe=re.dataTransfer;if($)switch(A){case"move":v.contains(F.row,F.column)?v={start:F,end:F}:v=f.moveText(v,F);break;case"copy":v=f.moveText(v,F,!0);break}else{var pe=fe.getData("Text");v={start:F,end:f.session.insert(F,pe)},f.focus(),A=null}return X(),b.preventDefault(re)}},b.addListener(E,"dragstart",this.onDragStart.bind(u),f),b.addListener(E,"dragend",this.onDragEnd.bind(u),f),b.addListener(E,"dragenter",this.onDragEnter.bind(u),f),b.addListener(E,"dragover",this.onDragOver.bind(u),f),b.addListener(E,"dragleave",this.onDragLeave.bind(u),f),b.addListener(E,"drop",this.onDrop.bind(u),f);function W(re,fe){var pe=Date.now(),he=!fe||re.row!=fe.row,$e=!fe||re.column!=fe.column;if(!B||he||$e)f.moveCursorToPosition(re),B=pe,U={x:R,y:M};else{var Le=o(U.x,U.y,R,M);Le>c?B=null:pe-B>=h&&(f.renderer.scrollCursorIntoView(),B=null)}}function j(re,fe){var pe=Date.now(),he=f.renderer.layerConfig.lineHeight,$e=f.renderer.layerConfig.characterWidth,Le=f.renderer.scroller.getBoundingClientRect(),Oe={x:{left:R-Le.left,right:Le.right-R},y:{top:M-Le.top,bottom:Le.bottom-M}},Ne=Math.min(Oe.x.left,Oe.x.right),be=Math.min(Oe.y.top,Oe.y.bottom),Se={row:re.row,column:re.column};Ne/$e<=2&&(Se.column+=Oe.x.left<Oe.x.right?-3:2),be/he<=1&&(Se.row+=Oe.y.top<Oe.y.bottom?-1:1);var ge=re.row!=Se.row,Pe=re.column!=Se.column,Je=!fe||re.row!=fe.row;ge||Pe&&!Je?P?pe-P>=d&&f.renderer.scrollCursorIntoView(Se):P=pe:P=null}function H(){var re=F;F=f.renderer.screenToTextCoordinates(R,M),W(F,re),j(F,re)}function Q(){v=f.selection.toOrientedRange(),S=f.session.addMarker(v,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(k),H(),k=setInterval(H,20),I=0,b.addListener(document,"mousemove",ie)}function X(){clearInterval(k),f.session.removeMarker(S),S=null,f.selection.fromOrientedRange(v),f.isFocused()&&!$&&f.$resetCursorStyle(),v=null,F=null,I=0,P=null,B=null,b.removeListener(document,"mousemove",ie)}var ee=null;function ie(){ee==null&&(ee=setTimeout(function(){ee!=null&&S&&X()},20))}function ne(re){var fe=re.types;return!fe||Array.prototype.some.call(fe,function(pe){return pe=="text/plain"||pe=="Text"})}function ae(re){var fe=["copy","copymove","all","uninitialized"],pe=["move","copymove","linkmove","all","uninitialized"],he=w.isMac?re.altKey:re.ctrlKey,$e="uninitialized";try{$e=re.dataTransfer.effectAllowed.toLowerCase()}catch{}var Le="none";return he&&fe.indexOf($e)>=0?Le="copy":pe.indexOf($e)>=0?Le="move":fe.indexOf($e)>=0&&(Le="copy"),Le}}(function(){this.dragWait=function(){var u=Date.now()-this.mousedownEvent.time;u>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var u=this.editor.container;u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(u){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var u=this.editor,f=u.container;f.draggable=!0,u.renderer.$cursorLayer.setBlinking(!1),u.setStyle("ace_dragging");var m=w.isWin?"default":"move";u.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(u){var f=this.editor.container;if(w.isIE&&this.state=="dragReady"){var m=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&f.dragDrop()}if(this.state==="dragWait"){var m=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var f=this.editor,m=u.inSelection(),x=u.getButton(),E=u.domEvent.detail||1;if(E===1&&x===0&&m){if(u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey()))return;this.mousedownEvent.time=Date.now();var S=u.domEvent.target||u.domEvent.srcElement;if("unselectable"in S&&(S.unselectable="on"),f.getDragDelay()){if(w.isWebKit){this.cancelDrag=!0;var R=f.container;R.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0}}}}).call(a.prototype);function o(u,f,m,x){return Math.sqrt(Math.pow(m-u,2)+Math.pow(x-f,2))}l.DragdropHandler=a}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(i,l,T){var g=i("./mouse_event").MouseEvent,b=i("../lib/event"),w=i("../lib/dom");l.addTouchListeners=function(d,h){var c="scroll",a,o,u,f,m,x,E=0,S,R=0,M=0,k=0,v,F;function I(){var W=window.navigator&&window.navigator.clipboard,j=!1,H=function(){var ee=h.getCopyText(),ie=h.session.getUndoManager().hasUndo();F.replaceChild(w.buildDom(j?["span",!ee&&Q("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ee&&Q("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ee&&Q("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],W&&Q("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],ie&&Q("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],Q("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],Q("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),F.firstChild)},Q=function(ee){return h.commands.canExecute(ee,h)},X=function(ee){var ie=ee.target.getAttribute("action");if(ie=="more"||!j)return j=!j,H();ie=="paste"?W.readText().then(function(ne){h.execCommand(ie,ne)}):ie&&((ie=="cut"||ie=="copy")&&(W?W.writeText(h.getCopyText()):document.execCommand("copy")),h.execCommand(ie)),F.firstChild.style.display="none",j=!1,ie!="openCommandPalette"&&h.focus()};F=w.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(ee){c="menu",ee.stopPropagation(),ee.preventDefault(),h.textInput.focus()},ontouchend:function(ee){ee.stopPropagation(),ee.preventDefault(),X(ee)},onclick:X},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],h.container)}function A(){if(!h.getOption("enableMobileMenu")){F&&$();return}F||I();var W=h.selection.cursor,j=h.renderer.textToScreenCoordinates(W.row,W.column),H=h.renderer.textToScreenCoordinates(0,0).pageX,Q=h.renderer.scrollLeft,X=h.container.getBoundingClientRect();F.style.top=j.pageY-X.top-3+"px",j.pageX-X.left<X.width-70?(F.style.left="",F.style.right="10px"):(F.style.right="",F.style.left=H+Q-X.left+"px"),F.style.display="",F.firstChild.style.display="none",h.on("input",$)}function $(W){F&&(F.style.display="none"),h.off("input",$)}function P(){m=null,clearTimeout(m);var W=h.selection.getRange(),j=W.contains(S.row,S.column);(W.isEmpty()||!j)&&(h.selection.moveToPosition(S),h.selection.selectWord()),c="wait",A()}function B(){m=null,clearTimeout(m),h.selection.moveToPosition(S);var W=R>=2?h.selection.getLineRange(S.row):h.session.getBracketRange(S);W&&!W.isEmpty()?h.selection.setRange(W):h.selection.selectWord(),c="wait"}b.addListener(d,"contextmenu",function(W){if(v){var j=h.textInput.getElement();j.focus()}},h),b.addListener(d,"touchstart",function(W){var j=W.touches;if(m||j.length>1){clearTimeout(m),m=null,u=-1,c="zoom";return}v=h.$mouseHandler.isMousePressed=!0;var H=h.renderer.layerConfig.lineHeight,Q=h.renderer.layerConfig.lineHeight,X=W.timeStamp;f=X;var ee=j[0],ie=ee.clientX,ne=ee.clientY;Math.abs(a-ie)+Math.abs(o-ne)>H&&(u=-1),a=W.clientX=ie,o=W.clientY=ne,M=k=0;var ae=new g(W,h);if(S=ae.getDocumentPosition(),X-u<500&&j.length==1&&!E)R++,W.preventDefault(),W.button=0,B();else{R=0;var re=h.selection.cursor,fe=h.selection.isEmpty()?re:h.selection.anchor,pe=h.renderer.$cursorLayer.getPixelPosition(re,!0),he=h.renderer.$cursorLayer.getPixelPosition(fe,!0),$e=h.renderer.scroller.getBoundingClientRect(),Le=h.renderer.layerConfig.offset,Oe=h.renderer.scrollLeft,Ne=function(ge,Pe){return ge=ge/Q,Pe=Pe/H-.75,ge*ge+Pe*Pe};if(W.clientX<$e.left){c="zoom";return}var be=Ne(W.clientX-$e.left-pe.left+Oe,W.clientY-$e.top-pe.top+Le),Se=Ne(W.clientX-$e.left-he.left+Oe,W.clientY-$e.top-he.top+Le);be<3.5&&Se<3.5&&(c=be>Se?"cursor":"anchor"),Se<3.5?c="anchor":be<3.5?c="cursor":c="scroll",m=setTimeout(P,450)}u=X},h),b.addListener(d,"touchend",function(W){v=h.$mouseHandler.isMousePressed=!1,x&&clearInterval(x),c=="zoom"?(c="",E=0):m?(h.selection.moveToPosition(S),E=0,A()):c=="scroll"?(U(),$()):A(),clearTimeout(m),m=null},h),b.addListener(d,"touchmove",function(W){m&&(clearTimeout(m),m=null);var j=W.touches;if(!(j.length>1||c=="zoom")){var H=j[0],Q=a-H.clientX,X=o-H.clientY;if(c=="wait")if(Q*Q+X*X>4)c="cursor";else return W.preventDefault();a=H.clientX,o=H.clientY,W.clientX=H.clientX,W.clientY=H.clientY;var ee=W.timeStamp,ie=ee-f;if(f=ee,c=="scroll"){var ne=new g(W,h);ne.speed=1,ne.wheelX=Q,ne.wheelY=X,10*Math.abs(Q)<Math.abs(X)&&(Q=0),10*Math.abs(X)<Math.abs(Q)&&(X=0),ie!=0&&(M=Q/ie,k=X/ie),h._emit("mousewheel",ne),ne.propagationStopped||(M=k=0)}else{var ae=new g(W,h),re=ae.getDocumentPosition();c=="cursor"?h.selection.moveCursorToPosition(re):c=="anchor"&&h.selection.setSelectionAnchor(re.row,re.column),h.renderer.scrollCursorIntoView(re),W.preventDefault()}}},h);function U(){E+=60,x=setInterval(function(){E--<=0&&(clearInterval(x),x=null),Math.abs(M)<.01&&(M=0),Math.abs(k)<.01&&(k=0),E<20&&(M=.9*M),E<20&&(k=.9*k);var W=h.session.getScrollTop();h.renderer.scrollBy(10*M,10*k),W==h.session.getScrollTop()&&(E=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(i,l,T){var g=i("../lib/event"),b=i("../lib/useragent"),w=i("./default_handlers").DefaultHandlers,d=i("./default_gutter_handler").GutterHandler,h=i("./mouse_event").MouseEvent,c=i("./dragdrop_handler").DragdropHandler,a=i("./touch_handler").addTouchListeners,o=i("../config"),u=(function(){function f(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var x=this;this.editor=m,new w(this),new d(this),new c(this);var E=function(M){var k=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());k&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},S=m.renderer.getMouseEventTarget();g.addListener(S,"click",this.onMouseEvent.bind(this,"click"),m),g.addListener(S,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),g.addMultiMouseDownListener([S,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),g.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),a(m.container,m);var R=m.renderer.$gutter;g.addListener(R,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),g.addListener(R,"click",this.onMouseEvent.bind(this,"gutterclick"),m),g.addListener(R,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),g.addListener(R,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),g.addListener(S,"mousedown",E,m),g.addListener(R,"mousedown",E,m),b.isIE&&m.renderer.scrollBarV&&(g.addListener(m.renderer.scrollBarV.element,"mousedown",E,m),g.addListener(m.renderer.scrollBarH.element,"mousedown",E,m)),m.on("mousemove",function(M){if(!(x.state||x.$dragDelay||!x.$dragEnabled)){var k=m.renderer.screenToTextCoordinates(M.x,M.y),v=m.session.selection.getRange(),F=m.renderer;!v.isEmpty()&&v.insideStart(k.row,k.column)?F.setCursorStyle("default"):F.setCursorStyle("")}},m)}return f.prototype.onMouseEvent=function(m,x){this.editor.session&&this.editor._emit(m,new h(x,this.editor))},f.prototype.onMouseMove=function(m,x){var E=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!E||!E.length||this.editor._emit(m,new h(x,this.editor))},f.prototype.onMouseWheel=function(m,x){var E=new h(x,this.editor);E.speed=this.$scrollSpeed*2,E.wheelX=x.wheelX,E.wheelY=x.wheelY,this.editor._emit(m,E)},f.prototype.setState=function(m){this.state=m},f.prototype.captureMouse=function(m,x){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var E=this.editor,S=this.editor.renderer;S.$isMousePressed=!0;var R=this,M=!0,k=function($){if($){if(b.isWebKit&&!$.which&&R.releaseMouse)return R.releaseMouse();R.x=$.clientX,R.y=$.clientY,x&&x($),R.mouseEvent=new h($,R.editor),R.$mouseMoved=!0}},v=function($){E.off("beforeEndOperation",A),M=!1,E.session&&F(),R[R.state+"End"]&&R[R.state+"End"]($),R.state="",R.isMousePressed=S.$isMousePressed=!1,S.$keepTextAreaAtCursor&&S.$moveTextAreaToCursor(),R.$onCaptureMouseMove=R.releaseMouse=null,$&&R.onMouseEvent("mouseup",$),E.endOperation()},F=function(){R[R.state]&&R[R.state](),R.$mouseMoved=!1},I=function(){M&&(F(),g.nextFrame(I))};if(b.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){v(m)});var A=function($){R.releaseMouse&&E.curOp.command.name&&E.curOp.selectionChanged&&(R[R.state+"End"]&&R[R.state+"End"](),R.state="",R.releaseMouse())};E.on("beforeEndOperation",A),E.startOperation({command:{name:"mouse"}}),R.$onCaptureMouseMove=k,R.releaseMouse=g.capture(this.editor.container,k,v),I()},f.prototype.cancelContextMenu=function(){var m=(function(x){x&&x.domEvent&&x.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),x&&x.domEvent&&g.stopEvent(x.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},f.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},f})();u.prototype.releaseMouse=null,o.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:b.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),l.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(i,l,T){var g=i("../lib/dom"),b=(function(){function w(d){d.on("click",function(h){var c=h.getDocumentPosition(),a=d.session,o=a.getFoldAt(c.row,c.column,1);o&&(h.getAccelKey()?a.removeFold(o):a.expandFold(o),h.stop());var u=h.domEvent&&h.domEvent.target;u&&g.hasCssClass(u,"ace_inline_button")&&g.hasCssClass(u,"ace_toggle_wrap")&&(a.setOption("wrap",!a.getUseWrapMode()),d.renderer.scrollCursorIntoView())}),d.on("gutterclick",function(h){var c=d.renderer.$gutterLayer.getRegion(h);if(c=="foldWidgets"){var a=h.getDocumentPosition().row,o=d.session;o.foldWidgets&&o.foldWidgets[a]&&d.session.onFoldWidgetClick(a,h),d.isFocused()||d.focus(),h.stop()}}),d.on("gutterdblclick",function(h){var c=d.renderer.$gutterLayer.getRegion(h);if(c=="foldWidgets"){var a=h.getDocumentPosition().row,o=d.session,u=o.getParentFoldRangeData(a,!0),f=u.range||u.firstRange;if(f){a=f.start.row;var m=o.getFoldAt(a,o.getLine(a).length,1);m?o.removeFold(m):(o.addFold("...",f),d.renderer.scrollCursorIntoView({row:f.start.row,column:0}))}h.stop()}})}return w})();l.FoldHandler=b}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(i,l,T){var g=i("../lib/keys"),b=i("../lib/event"),w=(function(){function d(h){this.$editor=h,this.$data={editor:h},this.$handlers=[],this.setDefaultHandler(h.commands)}return d.prototype.setDefaultHandler=function(h){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=h,this.addKeyboardHandler(h,0)},d.prototype.setKeyboardHandler=function(h){var c=this.$handlers;if(c[c.length-1]!=h){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(h,1)}},d.prototype.addKeyboardHandler=function(h,c){if(h){typeof h=="function"&&!h.handleKeyboard&&(h.handleKeyboard=h);var a=this.$handlers.indexOf(h);a!=-1&&this.$handlers.splice(a,1),c==null?this.$handlers.push(h):this.$handlers.splice(c,0,h),a==-1&&h.attach&&h.attach(this.$editor)}},d.prototype.removeKeyboardHandler=function(h){var c=this.$handlers.indexOf(h);return c==-1?!1:(this.$handlers.splice(c,1),h.detach&&h.detach(this.$editor),!0)},d.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},d.prototype.getStatusText=function(){var h=this.$data,c=h.editor;return this.$handlers.map(function(a){return a.getStatusText&&a.getStatusText(c,h)||""}).filter(Boolean).join(" ")},d.prototype.$callKeyboardHandlers=function(h,c,a,o){for(var u,f=!1,m=this.$editor.commands,x=this.$handlers.length;x--&&(u=this.$handlers[x].handleKeyboard(this.$data,h,c,a,o),!(!(!u||!u.command)&&(u.command=="null"?f=!0:f=m.exec(u.command,this.$editor,u.args,o),f&&o&&h!=-1&&u.passEvent!=!0&&u.command.passEvent!=!0&&b.stopEvent(o),f))););return!f&&h==-1&&(u={command:"insertstring"},f=m.exec("insertstring",this.$editor,c)),f&&this.$editor._signal&&this.$editor._signal("keyboardActivity",u),f},d.prototype.onCommandKey=function(h,c,a){var o=g.keyCodeToString(a);return this.$callKeyboardHandlers(c,o,a,h)},d.prototype.onTextInput=function(h){return this.$callKeyboardHandlers(-1,h)},d})();l.KeyBinding=w}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(i,l,T){var g=0,b=0,w=!1,d=!1,h=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],o=0,u=1,f=0,m=1,x=2,E=3,S=4,R=5,M=6,k=7,v=8,F=9,I=10,A=11,$=12,P=13,B=14,U=15,W=16,j=17,H=18,Q=[H,H,H,H,H,H,H,H,H,M,R,M,v,R,H,H,H,H,H,H,H,H,H,H,H,H,H,H,R,R,R,M,v,S,S,A,A,A,S,S,S,S,S,I,F,I,F,F,x,x,x,x,x,x,x,x,x,x,F,S,S,S,S,S,S,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,S,S,S,S,S,S,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,S,S,S,S,H,H,H,H,H,H,R,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,F,S,A,A,A,A,S,S,S,S,f,S,S,H,S,S,A,A,x,x,S,f,S,S,S,x,f,S,S,S,S,S],X=[v,v,v,v,v,v,v,v,v,v,v,H,H,H,f,m,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,R,P,B,U,W,j,F,A,A,A,A,A,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v];function ee(re,fe,pe,he){var $e=g?a:c,Le=null,Oe=null,Ne=null,be=0,Se=null,ge=null,Pe=-1,Je=null,Ve=null,Tt=[];if(!he)for(Je=0,he=[];Je<pe;Je++)he[Je]=ae(re[Je]);for(b=g,w=!1,d=!1,h=!1,Ve=0;Ve<pe;Ve++){if(Le=be,Tt[Ve]=Oe=ne(re,he,Tt,Ve),be=$e[Le][Oe],Se=be&240,be&=15,fe[Ve]=Ne=$e[be][5],Se>0)if(Se==16){for(Je=Pe;Je<Ve;Je++)fe[Je]=1;Pe=-1}else Pe=-1;if(ge=$e[be][6],ge)Pe==-1&&(Pe=Ve);else if(Pe>-1){for(Je=Pe;Je<Ve;Je++)fe[Je]=Ne;Pe=-1}he[Ve]==R&&(fe[Ve]=0),b|=Ne}if(h){for(Je=0;Je<pe;Je++)if(he[Je]==M){fe[Je]=g;for(var Ot=Je-1;Ot>=0&&he[Ot]==v;Ot--)fe[Ot]=g}}}function ie(re,fe,pe){if(!(b<re)){if(re==1&&g==u&&!d){pe.reverse();return}for(var he=pe.length,$e=0,Le,Oe,Ne,be;$e<he;){if(fe[$e]>=re){for(Le=$e+1;Le<he&&fe[Le]>=re;)Le++;for(Oe=$e,Ne=Le-1;Oe<Ne;Oe++,Ne--)be=pe[Oe],pe[Oe]=pe[Ne],pe[Ne]=be;$e=Le}$e++}}}function ne(re,fe,pe,he){var $e=fe[he],Le,Oe,Ne,be;switch($e){case f:case m:w=!1;case S:case E:return $e;case x:return w?E:x;case k:return w=!0,m;case v:return S;case F:return he<1||he+1>=fe.length||(Le=pe[he-1])!=x&&Le!=E||(Oe=fe[he+1])!=x&&Oe!=E?S:(w&&(Oe=E),Oe==Le?Oe:S);case I:return Le=he>0?pe[he-1]:R,Le==x&&he+1<fe.length&&fe[he+1]==x?x:S;case A:if(he>0&&pe[he-1]==x)return x;if(w)return S;for(be=he+1,Ne=fe.length;be<Ne&&fe[be]==A;)be++;return be<Ne&&fe[be]==x?x:S;case $:for(Ne=fe.length,be=he+1;be<Ne&&fe[be]==$;)be++;if(be<Ne){var Se=re[he],ge=Se>=1425&&Se<=2303||Se==64286;if(Le=fe[be],ge&&(Le==m||Le==k))return m}return he<1||(Le=fe[he-1])==R?S:pe[he-1];case R:return w=!1,d=!0,g;case M:return h=!0,S;case P:case B:case W:case j:case U:w=!1;case H:return S}}function ae(re){var fe=re.charCodeAt(0),pe=fe>>8;return pe==0?fe>191?f:Q[fe]:pe==5?/[\u0591-\u05f4]/.test(re)?m:f:pe==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(re)?$:/[\u0660-\u0669\u066b-\u066c]/.test(re)?E:fe==1642?A:/[\u06f0-\u06f9]/.test(re)?x:k:pe==32&&fe<=8287?X[fe&255]:pe==254&&fe>=65136?k:S}l.L=f,l.R=m,l.EN=x,l.ON_R=3,l.AN=4,l.R_H=5,l.B=6,l.RLE=7,l.DOT="",l.doBidiReorder=function(re,fe,pe){if(re.length<2)return{};var he=re.split(""),$e=new Array(he.length),Le=new Array(he.length),Oe=[];g=pe?u:o,ee(he,Oe,he.length,fe);for(var Ne=0;Ne<$e.length;$e[Ne]=Ne,Ne++);ie(2,Oe,$e),ie(1,Oe,$e);for(var Ne=0;Ne<$e.length-1;Ne++)fe[Ne]===E?Oe[Ne]=l.AN:Oe[Ne]===m&&(fe[Ne]>k&&fe[Ne]<P||fe[Ne]===S||fe[Ne]===H)?Oe[Ne]=l.ON_R:Ne>0&&he[Ne-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(he[Ne])&&(Oe[Ne-1]=Oe[Ne]=l.R_H,Ne++);he[he.length-1]===l.DOT&&(Oe[he.length-1]=l.B),he[0]===""&&(Oe[0]=l.RLE);for(var Ne=0;Ne<$e.length;Ne++)Le[Ne]=Oe[$e[Ne]];return{logicalFromVisual:$e,bidiLevels:Le}},l.hasBidiCharacters=function(re,fe){for(var pe=!1,he=0;he<re.length;he++)fe[he]=ae(re.charAt(he)),!pe&&(fe[he]==m||fe[he]==k||fe[he]==E)&&(pe=!0);return pe},l.getVisualFromLogicalIdx=function(re,fe){for(var pe=0;pe<fe.logicalFromVisual.length;pe++)if(fe.logicalFromVisual[pe]==re)return pe;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(i,l,T){var g=i("./lib/bidiutil"),b=i("./lib/lang"),w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,d=(function(){function h(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=g,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=w.test(c.getValue())}return h.prototype.isBidiRow=function(c,a,o){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(a,o),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},h.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&w.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},h.prototype.getDocumentRow=function(){var c=0,a=this.session.$screenRowCache;if(a.length){var o=this.session.$getRowCacheIndex(a,this.currentRow);o>=0&&(c=this.session.$docRowCache[o])}return c},h.prototype.getSplitIndex=function(){var c=0,a=this.session.$screenRowCache;if(a.length)for(var o,u=this.session.$getRowCacheIndex(a,this.currentRow);this.currentRow-c>0&&(o=this.session.$getRowCacheIndex(a,this.currentRow-c-1),o===u);)u=o,c++;else c=this.currentRow;return c},h.prototype.updateRowLine=function(c,a){c===void 0&&(c=this.getDocumentRow());var o=c===this.session.getLength()-1,u=o?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var f=this.session.$wrapData[c];f&&(a===void 0&&(a=this.getSplitIndex()),a>0&&f.length?(this.wrapIndent=f.indent,this.wrapOffset=this.wrapIndent*this.charWidths[g.L],this.line=a<f.length?this.line.substring(f[a-1],f[a]):this.line.substring(f[f.length-1])):this.line=this.line.substring(0,f[a]),a==f.length&&(this.line+=this.showInvisibles?u:g.DOT))}else this.line+=this.showInvisibles?u:g.DOT;var m=this.session,x=0,E;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(S,R){return S==="	"||m.isFullWidth(S.charCodeAt(0))?(E=S==="	"?m.getScreenTabSize(R+x):2,x+=E-1,b.stringRepeat(g.DOT,E)):S}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==g.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},h.prototype.updateBidiMap=function(){var c=[];g.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=g.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},h.prototype.markAsDirty=function(){this.currentRow=null},h.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var a=this.characterWidth=c.$characterSize.width,o=c.$measureCharWidth("");this.charWidths[g.L]=this.charWidths[g.EN]=this.charWidths[g.ON_R]=a,this.charWidths[g.R]=this.charWidths[g.AN]=o,this.charWidths[g.R_H]=o*.45,this.charWidths[g.B]=this.charWidths[g.RLE]=0,this.currentRow=null}},h.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},h.prototype.setEolChar=function(c){this.EOL=c},h.prototype.setContentWidth=function(c){this.contentWidth=c},h.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},h.prototype.setRtlDirection=function(c,a){for(var o=c.getCursorPosition(),u=c.selection.getSelectionAnchor().row;u<=o.row;u++)!a&&c.session.getLine(u).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(u,0,1):a&&c.session.getLine(u).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:u},c.session.$bidiHandler.RLE)},h.prototype.getPosLeft=function(c){c-=this.wrapIndent;var a=this.line.charAt(0)===this.RLE?1:0,o=c>a?this.session.getOverwrite()?c:c-1:a,u=g.getVisualFromLogicalIdx(o,this.bidiMap),f=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=a&&f[u]%2!==0&&u++;for(var x=0;x<u;x++)m+=this.charWidths[f[x]];return!this.session.getOverwrite()&&c>a&&f[u]%2===0&&(m+=this.charWidths[f[u]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},h.prototype.getSelections=function(c,a){var o=this.bidiMap,u=o.bidiLevels,f,m=[],x=0,E=Math.min(c,a)-this.wrapIndent,S=Math.max(c,a)-this.wrapIndent,R=!1,M=!1,k=0;this.wrapIndent&&(x+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var v,F=0;F<u.length;F++)v=o.logicalFromVisual[F],f=u[F],R=v>=E&&v<S,R&&!M?k=x:!R&&M&&m.push({left:k,width:x-k}),x+=this.charWidths[f],M=R;if(R&&F===u.length&&m.push({left:k,width:x-k}),this.isRtlDir)for(var I=0;I<m.length;I++)m[I].left+=this.rtlLineOffset;return m},h.prototype.offsetToCol=function(o){this.isRtlDir&&(o-=this.rtlLineOffset);var a=0,o=Math.max(o,0),u=0,f=0,m=this.bidiMap.bidiLevels,x=this.charWidths[m[f]];for(this.wrapIndent&&(o-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);o>u+x/2;){if(u+=x,f===m.length-1){x=0;break}x=this.charWidths[m[++f]]}return f>0&&m[f-1]%2!==0&&m[f]%2===0?(o<u&&f--,a=this.bidiMap.logicalFromVisual[f]):f>0&&m[f-1]%2===0&&m[f]%2!==0?a=1+(o>u?this.bidiMap.logicalFromVisual[f]:this.bidiMap.logicalFromVisual[f-1]):this.isRtlDir&&f===m.length-1&&x===0&&m[f-1]%2===0||!this.isRtlDir&&f===0&&m[f]%2!==0?a=1+this.bidiMap.logicalFromVisual[f]:(f>0&&m[f-1]%2!==0&&x!==0&&f--,a=this.bidiMap.logicalFromVisual[f]),a===0&&this.isRtlDir&&a++,a+this.wrapIndent},h})();l.BidiHandler=d}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(i,l,T){var g=i("./lib/oop"),b=i("./lib/lang"),w=i("./lib/event_emitter").EventEmitter,d=i("./range").Range,h=(function(){function c(a){this.session=a,this.doc=a.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var o=this;this.cursor.on("change",function(u){o.$cursorChanged=!0,o.$silent||o._emit("changeCursor"),!o.$isEmpty&&!o.$silent&&o._emit("changeSelection"),!o.$keepDesiredColumnOnChange&&u.old.column!=u.value.column&&(o.$desiredColumn=null)}),this.anchor.on("change",function(){o.$anchorChanged=!0,!o.$isEmpty&&!o.$silent&&o._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(a,o){this.$isEmpty=!1,this.anchor.setPosition(a,o)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var a=this.anchor,o=this.lead;return a.row>o.row||a.row==o.row&&a.column>o.column},c.prototype.getRange=function(){var a=this.anchor,o=this.lead;return this.$isEmpty?d.fromPoints(o,o):this.isBackwards()?d.fromPoints(o,a):d.fromPoints(a,o)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(a,o){var u=o?a.end:a.start,f=o?a.start:a.end;this.$setSelection(u.row,u.column,f.row,f.column)},c.prototype.$setSelection=function(a,o,u,f){if(!this.$silent){var m=this.$isEmpty,x=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(a,o),this.cursor.setPosition(u,f),this.$isEmpty=!d.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||x)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(a){var o=this.lead;this.$isEmpty&&this.setSelectionAnchor(o.row,o.column),a.call(this)},c.prototype.selectTo=function(a,o){this.$moveSelection(function(){this.moveCursorTo(a,o)})},c.prototype.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})},c.prototype.moveTo=function(a,o){this.clearSelection(),this.moveCursorTo(a,o)},c.prototype.moveToPosition=function(a){this.clearSelection(),this.moveCursorToPosition(a)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(a,o){if(typeof o>"u"){var u=a||this.lead;a=u.row,o=u.column}return this.session.getWordRange(a,o)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var a=this.getCursor(),o=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(o)},c.prototype.getLineRange=function(a,o){var u=typeof a=="number"?a:this.lead.row,f,m=this.session.getFoldLine(u);return m?(u=m.start.row,f=m.end.row):f=u,o===!0?new d(u,0,f,this.session.getLine(f).length):new d(u,0,f+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(a,o,u){var f=a.column,m=a.column+o;return u<0&&(f=a.column-o,m=a.column),this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(f,m).split(" ").length-1==o},c.prototype.moveCursorLeft=function(){var a=this.lead.getPosition(),o;if(o=this.session.getFoldAt(a.row,a.column,-1))this.moveCursorTo(o.start.row,o.start.column);else if(a.column===0)a.row>0&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length);else{var u=this.session.getTabSize();this.wouldMoveIntoSoftTab(a,u,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-u):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var a=this.lead.getPosition(),o;if(o=this.session.getFoldAt(a.row,a.column,1))this.moveCursorTo(o.end.row,o.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var u=this.session.getTabSize(),a=this.lead;this.wouldMoveIntoSoftTab(a,u,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,u):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var a=this.lead.row,o=this.lead.column,u=this.session.documentToScreenRow(a,o),f=this.session.screenToDocumentPosition(u,0),m=this.session.getDisplayLine(a,null,f.row,f.column),x=m.match(/^\s*/);x[0].length!=o&&!this.session.$useEmacsStyleLineStart&&(f.column+=x[0].length),this.moveCursorToPosition(f)},c.prototype.moveCursorLineEnd=function(){var a=this.lead,o=this.session.getDocumentLastRowColumnPosition(a.row,a.column);if(this.lead.column==o.column){var u=this.session.getLine(o.row);if(o.column==u.length){var f=u.search(/\s+$/);f>0&&(o.column=f)}}this.moveCursorTo(o.row,o.column)},c.prototype.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,o=this.doc.getLine(a).length;this.moveCursorTo(a,o)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var a=this.lead.row,o=this.lead.column,u=this.doc.getLine(a),f=u.substring(o);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(a,o,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(f)&&(o+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,f=u.substring(o)),o>=u.length){this.moveCursorTo(a,u.length),this.moveCursorRight(),a<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(f)&&(o+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,o)},c.prototype.moveCursorLongWordLeft=function(){var a=this.lead.row,o=this.lead.column,u;if(u=this.session.getFoldAt(a,o,-1)){this.moveCursorTo(u.start.row,u.start.column);return}var f=this.session.getFoldStringAt(a,o,-1);f==null&&(f=this.doc.getLine(a).substring(0,o));var m=b.stringReverse(f);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(o-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),o<=0){this.moveCursorTo(a,0),this.moveCursorLeft(),a>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(o-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,o)},c.prototype.$shortWordEndIndex=function(a){var o=0,u,f=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(a))o=this.session.tokenRe.lastIndex;else{for(;(u=a[o])&&f.test(u);)o++;if(o<1){for(m.lastIndex=0;(u=a[o])&&!m.test(u);)if(m.lastIndex=0,o++,f.test(u))if(o>2){o--;break}else{for(;(u=a[o])&&f.test(u);)o++;if(o>2)break}}}return m.lastIndex=0,o},c.prototype.moveCursorShortWordRight=function(){var a=this.lead.row,o=this.lead.column,u=this.doc.getLine(a),f=u.substring(o),m=this.session.getFoldAt(a,o,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(o==u.length){var x=this.doc.getLength();do a++,f=this.doc.getLine(a);while(a<x&&/^\s*$/.test(f));/^\s+/.test(f)||(f=""),o=0}var E=this.$shortWordEndIndex(f);this.moveCursorTo(a,o+E)},c.prototype.moveCursorShortWordLeft=function(){var a=this.lead.row,o=this.lead.column,u;if(u=this.session.getFoldAt(a,o,-1))return this.moveCursorTo(u.start.row,u.start.column);var f=this.session.getLine(a).substring(0,o);if(o===0){do a--,f=this.doc.getLine(a);while(a>0&&/^\s*$/.test(f));o=f.length,/\s+$/.test(f)||(f="")}var m=b.stringReverse(f),x=this.$shortWordEndIndex(m);return this.moveCursorTo(a,o-x)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(a,o){var u=this.session.documentToScreenPosition(this.lead.row,this.lead.column),f;if(o===0&&(a!==0&&(this.session.$bidiHandler.isBidiRow(u.row,this.lead.row)?(f=this.session.$bidiHandler.getPosLeft(u.column),u.column=Math.round(f/this.session.$bidiHandler.charWidths[0])):f=u.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?u.column=this.$desiredColumn:this.$desiredColumn=u.column),a!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];a<0?a-=m.rowsAbove||0:a>0&&(a+=m.rowCount-(m.rowsAbove||0))}var x=this.session.screenToDocumentPosition(u.row+a,u.column,f);a!==0&&o===0&&x.row===this.lead.row&&(x.column,this.lead.column),this.moveCursorTo(x.row,x.column+o,o===0)},c.prototype.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)},c.prototype.moveCursorTo=function(a,o,u){var f=this.session.getFoldAt(a,o,1);f&&(a=f.start.row,o=f.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(a);/[\uDC00-\uDFFF]/.test(m.charAt(o))&&m.charAt(o-1)&&(this.lead.row==a&&this.lead.column==o+1?o=o-1:o=o+1),this.lead.setPosition(a,o),this.$keepDesiredColumnOnChange=!1,u||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(a,o,u){var f=this.session.screenToDocumentPosition(a,o);this.moveCursorTo(f.row,f.column,u)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(a){this.setSelectionRange(a,a.cursor==a.start),this.$desiredColumn=a.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(a){var o=this.getRange();return a?(a.start.column=o.start.column,a.start.row=o.start.row,a.end.column=o.end.column,a.end.row=o.end.row):a=o,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a},c.prototype.getRangeOfMovements=function(a){var o=this.getCursor();try{a(this);var u=this.getCursor();return d.fromPoints(o,u)}catch{return d.fromPoints(o,o)}finally{this.moveCursorToPosition(o)}},c.prototype.toJSON=function(){if(this.rangeCount)var a=this.ranges.map(function(o){var u=o.clone();return u.isBackwards=o.cursor==o.start,u});else{var a=this.getRange();a.isBackwards=this.isBackwards()}return a},c.prototype.fromJSON=function(a){if(a.start==null)if(this.rangeList&&a.length>1){this.toSingleRange(a[0]);for(var o=a.length;o--;){var u=d.fromPoints(a[o].start,a[o].end);a[o].isBackwards&&(u.cursor=u.start),this.addRange(u,!0)}return}else a=a[0];this.rangeList&&this.toSingleRange(a),this.setSelectionRange(a,a.isBackwards)},c.prototype.isEqual=function(a){if((a.length||this.rangeCount)&&a.length!=this.rangeCount)return!1;if(!a.length||!this.ranges)return this.getRange().isEqual(a);for(var o=this.ranges.length;o--;)if(!this.ranges[o].isEqual(a[o]))return!1;return!0},c})();h.prototype.setSelectionAnchor=h.prototype.setAnchor,h.prototype.getSelectionAnchor=h.prototype.getAnchor,h.prototype.setSelectionRange=h.prototype.setRange,g.implement(h.prototype,w),l.Selection=h}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(i,l,T){var g=i("./lib/report_error").reportError,b=2e3,w=(function(){function d(h){this.splitRegex,this.states=h,this.regExps={},this.matchMappings={};for(var c in this.states){for(var a=this.states[c],o=[],u=0,f=this.matchMappings[c]={defaultToken:"text"},m="g",x=[],E=0;E<a.length;E++){var S=a[E];if(S.defaultToken&&(f.defaultToken=S.defaultToken),S.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),S.unicode&&m.indexOf("u")===-1&&(m+="u"),S.regex!=null){S.regex instanceof RegExp&&(S.regex=S.regex.toString().slice(1,-1));var R=S.regex,M=new RegExp("(?:("+R+")|(.))").exec("a").length-2;Array.isArray(S.token)?S.token.length==1||M==1?S.token=S.token[0]:M-1!=S.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:S,groupCount:M-1}),S.token=S.token[0]):(S.tokenArray=S.token,S.token=null,S.onMatch=this.$arrayTokens):typeof S.token=="function"&&!S.onMatch&&(M>1?S.onMatch=this.$applyToken:S.onMatch=S.token),M>1&&(/\\\d/.test(S.regex)?R=S.regex.replace(/\\([0-9]+)/g,function(k,v){return"\\"+(parseInt(v,10)+u+1)}):(M=1,R=this.removeCapturingGroups(S.regex)),!S.splitRegex&&typeof S.token!="string"&&x.push(S)),f[u]=E,u+=M,o.push(R),S.onMatch||(S.onMatch=null)}}o.length||(f[0]=0,o.push("$")),x.forEach(function(k){k.splitRegex=this.createSplitterRegexp(k.regex,m)},this),this.regExps[c]=new RegExp("("+o.join(")|(")+")|($)",m)}}return d.prototype.$setMaxTokenCount=function(h){b=h|0},d.prototype.$applyToken=function(h){var c=this.splitRegex.exec(h).slice(1),a=this.token.apply(this,c);if(typeof a=="string")return[{type:a,value:h}];for(var o=[],u=0,f=a.length;u<f;u++)c[u]&&(o[o.length]={type:a[u],value:c[u]});return o},d.prototype.$arrayTokens=function(h){if(!h)return[];var c=this.splitRegex.exec(h);if(!c)return"text";for(var a=[],o=this.tokenArray,u=0,f=o.length;u<f;u++)c[u+1]&&(a[a.length]={type:o[u],value:c[u+1]});return a},d.prototype.removeCapturingGroups=function(h){var c=h.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(a,o){return o?"(?:":a});return c},d.prototype.createSplitterRegexp=function(h,c){if(h.indexOf("(?=")!=-1){var a=0,o=!1,u={};h.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(f,m,x,E,S,R){return o?o=S!="]":S?o=!0:E?(a==u.stack&&(u.end=R+1,u.stack=-1),a--):x&&(a++,x.length!=1&&(u.stack=a,u.start=R)),f}),u.end!=null&&/^\)*$/.test(h.substr(u.end))&&(h=h.substring(0,u.start)+h.substr(u.end))}return h.charAt(0)!="^"&&(h="^"+h),h.charAt(h.length-1)!="$"&&(h+="$"),new RegExp(h,(c||"").replace("g",""))},d.prototype.getLineTokens=function(h,c){if(c&&typeof c!="string"){var a=c.slice(0);c=a[0],c==="#tmp"&&(a.shift(),c=a.shift())}else var a=[];var o=c||"start",u=this.states[o];u||(o="start",u=this.states[o]);var f=this.matchMappings[o],m=this.regExps[o];m.lastIndex=0;for(var x,E=[],S=0,R=0,M={type:null,value:""};x=m.exec(h);){var k=f.defaultToken,v=null,F=x[0],I=m.lastIndex;if(I-F.length>S){var A=h.substring(S,I-F.length);M.type==k?M.value+=A:(M.type&&E.push(M),M={type:k,value:A})}for(var $=0;$<x.length-2;$++)if(x[$+1]!==void 0){v=u[f[$]],v.onMatch?k=v.onMatch(F,o,a,h):k=v.token,v.next&&(typeof v.next=="string"?o=v.next:o=v.next(o,a),u=this.states[o],u||(this.reportError("state doesn't exist",o),o="start",u=this.states[o]),f=this.matchMappings[o],S=I,m=this.regExps[o],m.lastIndex=I),v.consumeLineEnd&&(S=I);break}if(F){if(typeof k=="string")(!v||v.merge!==!1)&&M.type===k?M.value+=F:(M.type&&E.push(M),M={type:k,value:F});else if(k){M.type&&E.push(M),M={type:null,value:""};for(var $=0;$<k.length;$++)E.push(k[$])}}if(S==h.length)break;if(S=I,R++>b){for(R>2*h.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:h});S<h.length;)M.type&&E.push(M),M={value:h.substring(S,S+=500),type:"overflow"};o="start",a=[];break}}return M.type&&E.push(M),a.length>1&&a[0]!==o&&a.unshift("#tmp",o),{tokens:E,state:a.length?a:o}},d})();w.prototype.reportError=g,l.Tokenizer=w}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(i,l,T){var g=i("../lib/deep_copy").deepCopy,b;b=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(h,c){if(!c){for(var a in h)this.$rules[a]=h[a];return}for(var a in h){for(var o=h[a],u=0;u<o.length;u++){var f=o[u];(f.next||f.onMatch)&&(typeof f.next=="string"&&f.next.indexOf(c)!==0&&(f.next=c+f.next),f.nextState&&f.nextState.indexOf(c)!==0&&(f.nextState=c+f.nextState))}this.$rules[c+a]=o}},this.getRules=function(){return this.$rules},this.embedRules=function(h,c,a,o,u){var f=typeof h=="function"?new h().getRules():h;if(o)for(var m=0;m<o.length;m++)o[m]=c+o[m];else{o=[];for(var x in f)o.push(c+x)}if(this.addRules(f,c),a)for(var E=Array.prototype[u?"push":"unshift"],m=0;m<o.length;m++)E.apply(this.$rules[o[m]],g(a));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var w=function(h,c){return(h!="start"||c.length)&&c.unshift(this.nextState,h),this.nextState},d=function(h,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var h=0,c=this.$rules;function a(o){var u=c[o];u.processed=!0;for(var f=0;f<u.length;f++){var m=u[f],x=null;Array.isArray(m)&&(x=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var E=m.next||m.push;if(E&&Array.isArray(E)){var S=m.stateName;S||(S=m.token,typeof S!="string"&&(S=S[0]||""),c[S]&&(S+=h++)),c[S]=E,m.next=S,a(S)}else E=="pop"&&(m.next=d);if(m.push&&(m.nextState=m.next||m.push,m.next=w,delete m.push),m.rules)for(var R in m.rules)c[R]?c[R].push&&c[R].push.apply(c[R],m.rules[R]):c[R]=m.rules[R];var M=typeof m=="string"?m:m.include;if(M&&(M==="$self"&&(M="start"),Array.isArray(M)?x=M.map(function(v){return c[v]}):x=c[M]),x){var k=[f,1].concat(x);m.noEscape&&(k=k.filter(function(v){return!v.next})),u.splice.apply(u,k),f--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(a,this)},this.createKeywordMapper=function(h,c,a,o){var u=Object.create(null);return this.$keywordList=[],Object.keys(h).forEach(function(f){for(var m=h[f],x=m.split(o||"|"),E=x.length;E--;){var S=x[E];this.$keywordList.push(S),a&&(S=S.toLowerCase()),u[S]=f}},this),h=null,a?function(f){return u[f.toLowerCase()]||c}:function(f){return u[f]||c}},this.getKeywords=function(){return this.$keywords}}).call(b.prototype),l.TextHighlightRules=b}),ace.define("ace/mode/behaviour",["require","exports","module"],function(i,l,T){var g;g=function(){this.$behaviours={}},(function(){this.add=function(b,w,d){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[b]:this.$behaviours[b]={}}this.$behaviours[b][w]=d},this.addBehaviours=function(b){for(var w in b)for(var d in b[w])this.add(w,d,b[w][d])},this.remove=function(b){this.$behaviours&&this.$behaviours[b]&&delete this.$behaviours[b]},this.inherit=function(b,w){if(typeof b=="function")var d=new b().getBehaviours(w);else var d=b.getBehaviours(w);this.addBehaviours(d)},this.getBehaviours=function(b){if(b){for(var w={},d=0;d<b.length;d++)this.$behaviours[b[d]]&&(w[b[d]]=this.$behaviours[b[d]]);return w}else return this.$behaviours}}).call(g.prototype),l.Behaviour=g}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(i,l,T){var g=i("./range").Range,b=(function(){function w(d,h,c){this.$session=d,this.$row=h,this.$rowTokens=d.getTokens(h);var a=d.getTokenAt(h,c);this.$tokenIndex=a?a.index:-1}return w.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},w.prototype.stepForward=function(){this.$tokenIndex+=1;for(var d;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,d||(d=this.$session.getLength()),this.$row>=d)return this.$row=d-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},w.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},w.prototype.getCurrentTokenRow=function(){return this.$row},w.prototype.getCurrentTokenColumn=function(){var d=this.$rowTokens,h=this.$tokenIndex,c=d[h].start;if(c!==void 0)return c;for(c=0;h>0;)h-=1,c+=d[h].value.length;return c},w.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},w.prototype.getCurrentTokenRange=function(){var d=this.$rowTokens[this.$tokenIndex],h=this.getCurrentTokenColumn();return new g(this.$row,h,this.$row,h+d.value.length)},w})();l.TokenIterator=b}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(i,l,T){var g=i("../../lib/oop"),b=i("../behaviour").Behaviour,w=i("../../token_iterator").TokenIterator,d=i("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],a,o={},u={'"':'"',"'":"'"},f=function(E){var S=-1;if(E.multiSelect&&(S=E.selection.index,o.rangeCount!=E.multiSelect.rangeCount&&(o={rangeCount:E.multiSelect.rangeCount})),o[S])return a=o[S];a=o[S]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(E,S,R,M){var k=E.end.row-E.start.row;return{text:R+S+M,selection:[0,E.start.column+1,k,E.end.column+(k?0:1)]}},x;x=function(E){E=E||{},this.add("braces","insertion",function(S,R,M,k,v){var F=M.getCursorPosition(),I=k.doc.getLine(F.row);if(v=="{"){f(M);var A=M.getSelectionRange(),$=k.doc.getTextRange(A),P=k.getTokenAt(F.row,F.column);if($!==""&&$!=="{"&&M.getWrapBehavioursEnabled())return m(A,$,"{","}");if(P&&/(?:string)\.quasi|\.xml/.test(P.type)){var B=[/tag\-(?:open|name)/,/attribute\-name/];return B.some(function(ee){return ee.test(P.type)})||/(string)\.quasi/.test(P.type)&&P.value[F.column-P.start-1]!=="$"?void 0:(x.recordAutoInsert(M,k,"}"),{text:"{}",selection:[1,1]})}else if(x.isSaneInsertion(M,k))return/[\]\}\)]/.test(I[F.column])||M.inMultiSelectMode||E.braces?(x.recordAutoInsert(M,k,"}"),{text:"{}",selection:[1,1]}):(x.recordMaybeInsert(M,k,"{"),{text:"{",selection:[1,1]})}else if(v=="}"){f(M);var U=I.substring(F.column,F.column+1);if(U=="}"){var W=k.$findOpeningBracket("}",{column:F.column+1,row:F.row});if(W!==null&&x.isAutoInsertedClosing(F,I,v))return x.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(v==`
`||v==`\r
`){f(M);var j="";x.isMaybeInsertedClosing(F,I)&&(j=d.stringRepeat("}",a.maybeInsertedBrackets),x.clearMaybeInsertedClosing());var U=I.substring(F.column,F.column+1);if(U==="}"){var H=k.findMatchingBracket({row:F.row,column:F.column+1},"}");if(!H)return null;var Q=this.$getIndent(k.getLine(H.row))}else if(j)var Q=this.$getIndent(I);else{x.clearMaybeInsertedClosing();return}var X=Q+k.getTabString();return{text:`
`+X+`
`+Q+j,selection:[1,X.length,1,X.length]}}else x.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(S,R,M,k,v){var F=k.doc.getTextRange(v);if(!v.isMultiLine()&&F=="{"){f(M);var I=k.doc.getLine(v.start.row),A=I.substring(v.end.column,v.end.column+1);if(A=="}")return v.end.column++,v;a.maybeInsertedBrackets--}}),this.add("parens","insertion",function(S,R,M,k,v){if(v=="("){f(M);var F=M.getSelectionRange(),I=k.doc.getTextRange(F);if(I!==""&&M.getWrapBehavioursEnabled())return m(F,I,"(",")");if(x.isSaneInsertion(M,k))return x.recordAutoInsert(M,k,")"),{text:"()",selection:[1,1]}}else if(v==")"){f(M);var A=M.getCursorPosition(),$=k.doc.getLine(A.row),P=$.substring(A.column,A.column+1);if(P==")"){var B=k.$findOpeningBracket(")",{column:A.column+1,row:A.row});if(B!==null&&x.isAutoInsertedClosing(A,$,v))return x.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(S,R,M,k,v){var F=k.doc.getTextRange(v);if(!v.isMultiLine()&&F=="("){f(M);var I=k.doc.getLine(v.start.row),A=I.substring(v.start.column+1,v.start.column+2);if(A==")")return v.end.column++,v}}),this.add("brackets","insertion",function(S,R,M,k,v){if(v=="["){f(M);var F=M.getSelectionRange(),I=k.doc.getTextRange(F);if(I!==""&&M.getWrapBehavioursEnabled())return m(F,I,"[","]");if(x.isSaneInsertion(M,k))return x.recordAutoInsert(M,k,"]"),{text:"[]",selection:[1,1]}}else if(v=="]"){f(M);var A=M.getCursorPosition(),$=k.doc.getLine(A.row),P=$.substring(A.column,A.column+1);if(P=="]"){var B=k.$findOpeningBracket("]",{column:A.column+1,row:A.row});if(B!==null&&x.isAutoInsertedClosing(A,$,v))return x.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(S,R,M,k,v){var F=k.doc.getTextRange(v);if(!v.isMultiLine()&&F=="["){f(M);var I=k.doc.getLine(v.start.row),A=I.substring(v.start.column+1,v.start.column+2);if(A=="]")return v.end.column++,v}}),this.add("string_dquotes","insertion",function(S,R,M,k,v){var F=k.$mode.$quotes||u;if(v.length==1&&F[v]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(v)!=-1)return;f(M);var I=v,A=M.getSelectionRange(),$=k.doc.getTextRange(A);if($!==""&&($.length!=1||!F[$])&&M.getWrapBehavioursEnabled())return m(A,$,I,I);if(!$){var P=M.getCursorPosition(),B=k.doc.getLine(P.row),U=B.substring(P.column-1,P.column),W=B.substring(P.column,P.column+1),j=k.getTokenAt(P.row,P.column),H=k.getTokenAt(P.row,P.column+1);if(U=="\\"&&j&&/escape/.test(j.type))return null;var Q=j&&/string|escape/.test(j.type),X=!H||/string|escape/.test(H.type),ee;if(W==I)ee=Q!==X,ee&&/string\.end/.test(H.type)&&(ee=!1);else{if(Q&&!X||Q&&X)return null;var ie=k.$mode.tokenRe;ie.lastIndex=0;var ne=ie.test(U);ie.lastIndex=0;var ae=ie.test(W),re=k.$mode.$pairQuotesAfter,fe=re&&re[I]&&re[I].test(U);if(!fe&&ne||ae||W&&!/[\s;,.})\]\\]/.test(W))return null;var pe=B[P.column-2];if(U==I&&(pe==I||ie.test(pe)))return null;ee=!0}return{text:ee?I+I:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(S,R,M,k,v){var F=k.$mode.$quotes||u,I=k.doc.getTextRange(v);if(!v.isMultiLine()&&F.hasOwnProperty(I)){f(M);var A=k.doc.getLine(v.start.row),$=A.substring(v.start.column+1,v.start.column+2);if($==I)return v.end.column++,v}}),E.closeDocComment!==!1&&this.add("doc comment end","insertion",function(S,R,M,k,v){if(S==="doc-start"&&(v===`
`||v===`\r
`)&&M.selection.isEmpty()){var F=M.getCursorPosition();if(F.column===0)return;for(var I=k.doc.getLine(F.row),A=k.doc.getLine(F.row+1),$=k.getTokens(F.row),P=0,B=0;B<$.length;B++){P+=$[B].value.length;var U=$[B];if(P>=F.column){if(P===F.column){if(!/\.doc/.test(U.type))return;if(/\*\//.test(U.value)){var W=$[B+1];if(!W||!/\.doc/.test(W.type))return}}var j=F.column-(P-U.value.length),H=U.value.indexOf("*/"),Q=U.value.indexOf("/**",H>-1?H+2:0);if(Q!==-1&&j>Q&&j<Q+3||H!==-1&&Q!==-1&&j>=H&&j<=Q||!/\.doc/.test(U.type))return;break}}var X=this.$getIndent(I);if(/\s*\*/.test(A))return/^\s*\*/.test(I)?{text:v+X+"* ",selection:[1,2+X.length,1,2+X.length]}:{text:v+X+" * ",selection:[1,3+X.length,1,3+X.length]};if(/\/\*\*/.test(I.substring(0,F.column)))return{text:v+X+" * "+v+" "+X+"*/",selection:[1,4+X.length,1,4+X.length]}}})},x.isSaneInsertion=function(E,S){var R=E.getCursorPosition(),M=new w(S,R.row,R.column);if(!this.$matchTokenType(M.getCurrentToken()||"text",h)){if(/[)}\]]/.test(E.session.getLine(R.row)[R.column]))return!0;var k=new w(S,R.row,R.column+1);if(!this.$matchTokenType(k.getCurrentToken()||"text",h))return!1}return M.stepForward(),M.getCurrentTokenRow()!==R.row||this.$matchTokenType(M.getCurrentToken()||"text",c)},x.$matchTokenType=function(E,S){return S.indexOf(E.type||E)>-1},x.recordAutoInsert=function(E,S,R){var M=E.getCursorPosition(),k=S.doc.getLine(M.row);this.isAutoInsertedClosing(M,k,a.autoInsertedLineEnd[0])||(a.autoInsertedBrackets=0),a.autoInsertedRow=M.row,a.autoInsertedLineEnd=R+k.substr(M.column),a.autoInsertedBrackets++},x.recordMaybeInsert=function(E,S,R){var M=E.getCursorPosition(),k=S.doc.getLine(M.row);this.isMaybeInsertedClosing(M,k)||(a.maybeInsertedBrackets=0),a.maybeInsertedRow=M.row,a.maybeInsertedLineStart=k.substr(0,M.column)+R,a.maybeInsertedLineEnd=k.substr(M.column),a.maybeInsertedBrackets++},x.isAutoInsertedClosing=function(E,S,R){return a.autoInsertedBrackets>0&&E.row===a.autoInsertedRow&&R===a.autoInsertedLineEnd[0]&&S.substr(E.column)===a.autoInsertedLineEnd},x.isMaybeInsertedClosing=function(E,S){return a.maybeInsertedBrackets>0&&E.row===a.maybeInsertedRow&&S.substr(E.column)===a.maybeInsertedLineEnd&&S.substr(0,E.column)==a.maybeInsertedLineStart},x.popAutoInsertedClosing=function(){a.autoInsertedLineEnd=a.autoInsertedLineEnd.substr(1),a.autoInsertedBrackets--},x.clearMaybeInsertedClosing=function(){a&&(a.maybeInsertedBrackets=0,a.maybeInsertedRow=-1)},g.inherits(x,b),l.CstyleBehaviour=x}),ace.define("ace/unicode",["require","exports","module"],function(i,l,T){for(var g=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],b=0,w=[],d=0;d<g.length;d+=2)w.push(b+=g[d]),g[d+1]&&w.push(45,b+=g[d+1]);l.wordChars=String.fromCharCode.apply(null,w)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(i,l,T){var g=i("../config"),b=i("../tokenizer").Tokenizer,w=i("./text_highlight_rules").TextHighlightRules,d=i("./behaviour/cstyle").CstyleBehaviour,h=i("../unicode"),c=i("../lib/lang"),a=i("../token_iterator").TokenIterator,o=i("../range").Range,u;u=function(){this.HighlightRules=w},(function(){this.$defaultBehaviour=new d,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new b(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(f,m,x,E){var S=m.doc,R=!0,M=!0,k=1/0,v=m.getTabSize(),F=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var $=this.lineCommentStart.map(c.escapeRegExp).join("|"),I=this.lineCommentStart[0];else var $=c.escapeRegExp(this.lineCommentStart),I=this.lineCommentStart;$=new RegExp("^(\\s*)(?:"+$+") ?"),F=m.getUseSoftTabs();var U=function(ae,re){var fe=ae.match($);if(fe){var pe=fe[1].length,he=fe[0].length;!H(ae,pe,he)&&fe[0][he-1]==" "&&he--,S.removeInLine(re,pe,he)}},j=I+" ",B=function(ae,re){(!R||/\S/.test(ae))&&(H(ae,k,k)?S.insertInLine({row:re,column:k},j):S.insertInLine({row:re,column:k},I))},W=function(ae,re){return $.test(ae)},H=function(ae,re,fe){for(var pe=0;re--&&ae.charAt(re)==" ";)pe++;if(pe%v!=0)return!1;for(var pe=0;ae.charAt(fe++)==" ";)pe++;return v>2?pe%v!=v-1:pe%v==0}}else{if(!this.blockComment)return!1;var I=this.blockComment.start,A=this.blockComment.end,$=new RegExp("^(\\s*)(?:"+c.escapeRegExp(I)+")"),P=new RegExp("(?:"+c.escapeRegExp(A)+")\\s*$"),B=function(ee,ie){W(ee,ie)||(!R||/\S/.test(ee))&&(S.insertInLine({row:ie,column:ee.length},A),S.insertInLine({row:ie,column:k},I))},U=function(ee,ie){var ne;(ne=ee.match(P))&&S.removeInLine(ie,ee.length-ne[0].length,ee.length),(ne=ee.match($))&&S.removeInLine(ie,ne[1].length,ne[0].length)},W=function(ee,ie){if($.test(ee))return!0;for(var ne=m.getTokens(ie),ae=0;ae<ne.length;ae++)if(ne[ae].type==="comment")return!0}}function Q(ee){for(var ie=x;ie<=E;ie++)ee(S.getLine(ie),ie)}var X=1/0;Q(function(ee,ie){var ne=ee.search(/\S/);ne!==-1?(ne<k&&(k=ne),M&&!W(ee,ie)&&(M=!1)):X>ee.length&&(X=ee.length)}),k==1/0&&(k=X,R=!1,M=!1),F&&k%v!=0&&(k=Math.floor(k/v)*v),Q(M?U:B)},this.toggleBlockComment=function(f,m,x,E){var S=this.blockComment;if(S){!S.start&&S[0]&&(S=S[0]);var R=new a(m,E.row,E.column),M=R.getCurrentToken();m.selection;var k=m.selection.toOrientedRange(),v,F;if(M&&/comment/.test(M.type)){for(var I,A;M&&/comment/.test(M.type);){var $=M.value.indexOf(S.start);if($!=-1){var P=R.getCurrentTokenRow(),B=R.getCurrentTokenColumn()+$;I=new o(P,B,P,B+S.start.length);break}M=R.stepBackward()}for(var R=new a(m,E.row,E.column),M=R.getCurrentToken();M&&/comment/.test(M.type);){var $=M.value.indexOf(S.end);if($!=-1){var P=R.getCurrentTokenRow(),B=R.getCurrentTokenColumn()+$;A=new o(P,B,P,B+S.end.length);break}M=R.stepForward()}A&&m.remove(A),I&&(m.remove(I),v=I.start.row,F=-S.start.length)}else F=S.start.length,v=x.start.row,m.insert(x.end,S.end),m.insert(x.start,S.start);k.start.row==v&&(k.start.column+=F),k.end.row==v&&(k.end.column+=F),m.selection.fromOrientedRange(k)}},this.getNextLineIndent=function(f,m,x){return this.$getIndent(m)},this.checkOutdent=function(f,m,x){return!1},this.autoOutdent=function(f,m,x){},this.$getIndent=function(f){return f.match(/^\s*/)[0]},this.createWorker=function(f){return null},this.createModeDelegates=function(f){this.$embeds=[],this.$modes={};for(var m in f)if(f[m]){var x=f[m],E=x.prototype.$id,S=g.$modes[E];S||(g.$modes[E]=S=new x),g.$modes[m]||(g.$modes[m]=S),this.$embeds.push(m),this.$modes[m]=S}for(var R=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],M=function(v){(function(F){var I=R[v],A=F[I];F[R[v]]=function(){return this.$delegator(I,arguments,A)}})(k)},k=this,m=0;m<R.length;m++)M(m)},this.$delegator=function(f,m,x){var E=m[0]||"start";if(typeof E!="string"){if(Array.isArray(E[2])){var S=E[2][E[2].length-1],R=this.$modes[S];if(R)return R[f].apply(R,[E[1]].concat([].slice.call(m,1)))}E=E[0]||"start"}for(var M=0;M<this.$embeds.length;M++)if(this.$modes[this.$embeds[M]]){var k=E.split(this.$embeds[M]);if(!k[0]&&k[1]){m[0]=k[1];var R=this.$modes[this.$embeds[M]];return R[f].apply(R,m)}}var v=x.apply(this,m);return x?v:void 0},this.transformAction=function(f,m,x,E,S){if(this.$behaviour){var R=this.$behaviour.getBehaviours();for(var M in R)if(R[M][m]){var k=R[M][m].apply(this,arguments);if(k)return k}}},this.getKeywords=function(f){if(!this.completionKeywords){var m=this.$tokenizer.rules,x=[];for(var E in m)for(var S=m[E],R=0,M=S.length;R<M;R++)if(typeof S[R].token=="string")/keyword|support|storage/.test(S[R].token)&&x.push(S[R].regex);else if(typeof S[R].token=="object"){for(var k=0,v=S[R].token.length;k<v;k++)if(/keyword|support|storage/.test(S[R].token[k])){var E=S[R].regex.match(/\(.+?\)/g)[k];x.push(E.substr(1,E.length-2))}}this.completionKeywords=x}return f?x.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(f,m,x,E){var S=this.$keywordList||this.$createKeywordList();return S.map(function(R){return{name:R,value:R,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),l.Mode=u}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(i,l,T){var g=i("./lib/dom"),b=(function(){function w(d){this.session=d,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return w.prototype.getRowLength=function(d){var h;return this.lineWidgets?h=this.lineWidgets[d]&&this.lineWidgets[d].rowCount||0:h=0,!this.$useWrapMode||!this.$wrapData[d]?1+h:this.$wrapData[d].length+1+h},w.prototype.$getWidgetScreenLength=function(){var d=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(d+=h.rowCount)}),d},w.prototype.$onChangeEditor=function(d){this.attach(d.editor)},w.prototype.attach=function(d){d&&d.widgetManager&&d.widgetManager!=this&&d.widgetManager.detach(),this.editor!=d&&(this.detach(),this.editor=d,d&&(d.widgetManager=this,d.renderer.on("beforeRender",this.measureWidgets),d.renderer.on("afterRender",this.renderWidgets)))},w.prototype.detach=function(d){var h=this.editor;if(h){this.editor=null,h.widgetManager=null,h.renderer.off("beforeRender",this.measureWidgets),h.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(a){a&&a.el&&a.el.parentNode&&(a._inDocument=!1,a.el.parentNode.removeChild(a.el))})}},w.prototype.updateOnFold=function(d,h){var c=h.lineWidgets;if(!(!c||!d.action)){for(var a=d.data,o=a.start.row,u=a.end.row,f=d.action=="add",m=o+1;m<u;m++)c[m]&&(c[m].hidden=f);c[u]&&(f?c[o]?c[u].hidden=f:c[o]=c[u]:(c[o]==c[u]&&(c[o]=void 0),c[u].hidden=f))}},w.prototype.updateOnChange=function(d){var h=this.session.lineWidgets;if(h){var c=d.start.row,a=d.end.row-c;if(a!==0)if(d.action=="remove"){var o=h.splice(c+1,a);!h[c]&&o[o.length-1]&&(h[c]=o.pop()),o.forEach(function(f){f&&this.removeLineWidget(f)},this),this.$updateRows()}else{var u=new Array(a);h[c]&&h[c].column!=null&&d.start.column>h[c].column&&c++,u.unshift(c,0),h.splice.apply(h,u),this.$updateRows()}}},w.prototype.$updateRows=function(){var d=this.session.lineWidgets;if(d){var h=!0;d.forEach(function(c,a){if(c)for(h=!1,c.row=a;c.$oldWidget;)c.$oldWidget.row=a,c=c.$oldWidget}),h&&(this.session.lineWidgets=null)}},w.prototype.$registerLineWidget=function(d){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var h=this.session.lineWidgets[d.row];return h&&(d.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1)),this.session.lineWidgets[d.row]=d,d},w.prototype.addLineWidget=function(d){if(this.$registerLineWidget(d),d.session=this.session,!this.editor)return d;var h=this.editor.renderer;d.html&&!d.el&&(d.el=g.createElement("div"),d.el.innerHTML=d.html),d.text&&!d.el&&(d.el=g.createElement("div"),d.el.textContent=d.text),d.el&&(g.addCssClass(d.el,"ace_lineWidgetContainer"),d.className&&g.addCssClass(d.el,d.className),d.el.style.position="absolute",d.el.style.zIndex="5",h.container.appendChild(d.el),d._inDocument=!0,d.coverGutter||(d.el.style.zIndex="3"),d.pixelHeight==null&&(d.pixelHeight=d.el.offsetHeight)),d.rowCount==null&&(d.rowCount=d.pixelHeight/h.layerConfig.lineHeight);var c=this.session.getFoldAt(d.row,0);if(d.$fold=c,c){var a=this.session.lineWidgets;d.row==c.end.row&&!a[c.start.row]?a[c.start.row]=d:d.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(d),d},w.prototype.removeLineWidget=function(d){if(d._inDocument=!1,d.session=null,d.el&&d.el.parentNode&&d.el.parentNode.removeChild(d.el),d.editor&&d.editor.destroy)try{d.editor.destroy()}catch{}if(this.session.lineWidgets){var h=this.session.lineWidgets[d.row];if(h==d)this.session.lineWidgets[d.row]=d.$oldWidget,d.$oldWidget&&this.onWidgetChanged(d.$oldWidget);else for(;h;){if(h.$oldWidget==d){h.$oldWidget=d.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows()},w.prototype.getWidgetsAtRow=function(d){for(var h=this.session.lineWidgets,c=h&&h[d],a=[];c;)a.push(c),c=c.$oldWidget;return a},w.prototype.onWidgetChanged=function(d){this.session._changedWidgets.push(d),this.editor&&this.editor.renderer.updateFull()},w.prototype.measureWidgets=function(d,h){var c=this.session._changedWidgets,a=h.layerConfig;if(!(!c||!c.length)){for(var o=1/0,u=0;u<c.length;u++){var f=c[u];if(!(!f||!f.el)&&f.session==this.session){if(!f._inDocument){if(this.session.lineWidgets[f.row]!=f)continue;f._inDocument=!0,h.container.appendChild(f.el)}f.h=f.el.offsetHeight,f.fixedWidth||(f.w=f.el.offsetWidth,f.screenWidth=Math.ceil(f.w/a.characterWidth));var m=f.h/a.lineHeight;f.coverLine&&(m-=this.session.getRowLineCount(f.row),m<0&&(m=0)),f.rowCount!=m&&(f.rowCount=m,f.row<o&&(o=f.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},w.prototype.renderWidgets=function(d,h){var c=h.layerConfig,a=this.session.lineWidgets;if(a){for(var o=Math.min(this.firstRow,c.firstRow),u=Math.max(this.lastRow,c.lastRow,a.length);o>0&&!a[o];)o--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,h.$cursorLayer.config=c;for(var f=o;f<=u;f++){var m=a[f];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,h.container.appendChild(m.el));var x=h.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;m.coverLine||(x+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=x-c.offset+"px";var E=m.coverGutter?0:h.gutterWidth;m.fixedWidth||(E-=h.scrollLeft),m.el.style.left=E+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=h.scrollBar.getWidth()+"px":m.el.style.right=""}}}},w})();l.LineWidgets=b}),ace.define("ace/apply_delta",["require","exports","module"],function(i,l,T){l.applyDelta=function(g,b,w){var d=b.start.row,h=b.start.column,c=g[d]||"";switch(b.action){case"insert":var a=b.lines;if(a.length===1)g[d]=c.substring(0,h)+b.lines[0]+c.substring(h);else{var o=[d,1].concat(b.lines);g.splice.apply(g,o),g[d]=c.substring(0,h)+g[d],g[d+b.lines.length-1]+=c.substring(h)}break;case"remove":var u=b.end.column,f=b.end.row;d===f?g[d]=c.substring(0,h)+c.substring(u):g.splice(d,f-d+1,c.substring(0,h)+g[f].substring(u));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,l,T){var g=i("./lib/oop"),b=i("./lib/event_emitter").EventEmitter,w=(function(){function c(a,o,u){this.$onChange=this.onChange.bind(this),this.attach(a),typeof o!="number"?this.setPosition(o.row,o.column):this.setPosition(o,u)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row)&&!(a.start.row>this.row)){var o=h(a,{row:this.row,column:this.column},this.$insertRight);this.setPosition(o.row,o.column,!0)}},c.prototype.setPosition=function(a,o,u){var f;if(u?f={row:a,column:o}:f=this.$clipPositionToDocument(a,o),!(this.row==f.row&&this.column==f.column)){var m={row:this.row,column:this.column};this.row=f.row,this.column=f.column,this._signal("change",{old:m,value:f})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(a,o){var u={};return a>=this.document.getLength()?(u.row=Math.max(0,this.document.getLength()-1),u.column=this.document.getLine(u.row).length):a<0?(u.row=0,u.column=0):(u.row=a,u.column=Math.min(this.document.getLine(u.row).length,Math.max(0,o))),o<0&&(u.column=0),u},c})();w.prototype.$insertRight=!1,g.implement(w.prototype,b);function d(c,a,o){var u=o?c.column<=a.column:c.column<a.column;return c.row<a.row||c.row==a.row&&u}function h(c,a,o){var u=c.action=="insert",f=(u?1:-1)*(c.end.row-c.start.row),m=(u?1:-1)*(c.end.column-c.start.column),x=c.start,E=u?x:c.end;return d(a,x,o)?{row:a.row,column:a.column}:d(E,a,!o)?{row:a.row+f,column:a.column+(a.row==E.row?m:0)}:{row:x.row,column:x.column}}l.Anchor=w}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(i,l,T){var g=i("./lib/oop"),b=i("./apply_delta").applyDelta,w=i("./lib/event_emitter").EventEmitter,d=i("./range").Range,h=i("./anchor").Anchor,c=(function(){function a(o){this.$lines=[""],o.length===0?this.$lines=[""]:Array.isArray(o)?this.insertMergedLines({row:0,column:0},o):this.insert({row:0,column:0},o)}return a.prototype.setValue=function(o){var u=this.getLength()-1;this.remove(new d(0,0,u,this.getLine(u).length)),this.insert({row:0,column:0},o||"")},a.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},a.prototype.createAnchor=function(o,u){return new h(this,o,u)},a.prototype.$detectNewLine=function(o){var u=o.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=u?u[1]:`
`,this._signal("changeNewLineMode")},a.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},a.prototype.setNewLineMode=function(o){this.$newLineMode!==o&&(this.$newLineMode=o,this._signal("changeNewLineMode"))},a.prototype.getNewLineMode=function(){return this.$newLineMode},a.prototype.isNewLine=function(o){return o==`\r
`||o=="\r"||o==`
`},a.prototype.getLine=function(o){return this.$lines[o]||""},a.prototype.getLines=function(o,u){return this.$lines.slice(o,u+1)},a.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},a.prototype.getLength=function(){return this.$lines.length},a.prototype.getTextRange=function(o){return this.getLinesForRange(o).join(this.getNewLineCharacter())},a.prototype.getLinesForRange=function(o){var u;if(o.start.row===o.end.row)u=[this.getLine(o.start.row).substring(o.start.column,o.end.column)];else{u=this.getLines(o.start.row,o.end.row),u[0]=(u[0]||"").substring(o.start.column);var f=u.length-1;o.end.row-o.start.row==f&&(u[f]=u[f].substring(0,o.end.column))}return u},a.prototype.insertLines=function(o,u){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(o,u)},a.prototype.removeLines=function(o,u){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(o,u)},a.prototype.insertNewLine=function(o){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(o,["",""])},a.prototype.insert=function(o,u){return this.getLength()<=1&&this.$detectNewLine(u),this.insertMergedLines(o,this.$split(u))},a.prototype.insertInLine=function(o,u){var f=this.clippedPos(o.row,o.column),m=this.pos(o.row,o.column+u.length);return this.applyDelta({start:f,end:m,action:"insert",lines:[u]},!0),this.clonePos(m)},a.prototype.clippedPos=function(o,u){var f=this.getLength();o===void 0?o=f:o<0?o=0:o>=f&&(o=f-1,u=void 0);var m=this.getLine(o);return u==null&&(u=m.length),u=Math.min(Math.max(u,0),m.length),{row:o,column:u}},a.prototype.clonePos=function(o){return{row:o.row,column:o.column}},a.prototype.pos=function(o,u){return{row:o,column:u}},a.prototype.$clipPosition=function(o){var u=this.getLength();return o.row>=u?(o.row=Math.max(0,u-1),o.column=this.getLine(u-1).length):(o.row=Math.max(0,o.row),o.column=Math.min(Math.max(o.column,0),this.getLine(o.row).length)),o},a.prototype.insertFullLines=function(o,u){o=Math.min(Math.max(o,0),this.getLength());var f=0;o<this.getLength()?(u=u.concat([""]),f=0):(u=[""].concat(u),o--,f=this.$lines[o].length),this.insertMergedLines({row:o,column:f},u)},a.prototype.insertMergedLines=function(o,u){var f=this.clippedPos(o.row,o.column),m={row:f.row+u.length-1,column:(u.length==1?f.column:0)+u[u.length-1].length};return this.applyDelta({start:f,end:m,action:"insert",lines:u}),this.clonePos(m)},a.prototype.remove=function(o){var u=this.clippedPos(o.start.row,o.start.column),f=this.clippedPos(o.end.row,o.end.column);return this.applyDelta({start:u,end:f,action:"remove",lines:this.getLinesForRange({start:u,end:f})}),this.clonePos(u)},a.prototype.removeInLine=function(o,u,f){var m=this.clippedPos(o,u),x=this.clippedPos(o,f);return this.applyDelta({start:m,end:x,action:"remove",lines:this.getLinesForRange({start:m,end:x})},!0),this.clonePos(m)},a.prototype.removeFullLines=function(o,u){o=Math.min(Math.max(0,o),this.getLength()-1),u=Math.min(Math.max(0,u),this.getLength()-1);var f=u==this.getLength()-1&&o>0,m=u<this.getLength()-1,x=f?o-1:o,E=f?this.getLine(x).length:0,S=m?u+1:u,R=m?0:this.getLine(S).length,M=new d(x,E,S,R),k=this.$lines.slice(o,u+1);return this.applyDelta({start:M.start,end:M.end,action:"remove",lines:this.getLinesForRange(M)}),k},a.prototype.removeNewLine=function(o){o<this.getLength()-1&&o>=0&&this.applyDelta({start:this.pos(o,this.getLine(o).length),end:this.pos(o+1,0),action:"remove",lines:["",""]})},a.prototype.replace=function(o,u){if(o instanceof d||(o=d.fromPoints(o.start,o.end)),u.length===0&&o.isEmpty())return o.start;if(u==this.getTextRange(o))return o.end;this.remove(o);var f;return u?f=this.insert(o.start,u):f=o.start,f},a.prototype.applyDeltas=function(o){for(var u=0;u<o.length;u++)this.applyDelta(o[u])},a.prototype.revertDeltas=function(o){for(var u=o.length-1;u>=0;u--)this.revertDelta(o[u])},a.prototype.applyDelta=function(o,u){var f=o.action=="insert";(f?o.lines.length<=1&&!o.lines[0]:!d.comparePoints(o.start,o.end))||(f&&o.lines.length>2e4?this.$splitAndapplyLargeDelta(o,2e4):(b(this.$lines,o,u),this._signal("change",o)))},a.prototype.$safeApplyDelta=function(o){var u=this.$lines.length;(o.action=="remove"&&o.start.row<u&&o.end.row<u||o.action=="insert"&&o.start.row<=u)&&this.applyDelta(o)},a.prototype.$splitAndapplyLargeDelta=function(o,u){for(var f=o.lines,m=f.length-u+1,x=o.start.row,E=o.start.column,S=0,R=0;S<m;S=R){R+=u-1;var M=f.slice(S,R);M.push(""),this.applyDelta({start:this.pos(x+S,E),end:this.pos(x+R,E=0),action:o.action,lines:M},!0)}o.lines=f.slice(S),o.start.row=x+S,o.start.column=E,this.applyDelta(o,!0)},a.prototype.revertDelta=function(o){this.$safeApplyDelta({start:this.clonePos(o.start),end:this.clonePos(o.end),action:o.action=="insert"?"remove":"insert",lines:o.lines.slice()})},a.prototype.indexToPosition=function(o,u){for(var f=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,x=u||0,E=f.length;x<E;x++)if(o-=f[x].length+m,o<0)return{row:x,column:o+f[x].length+m};return{row:E-1,column:o+f[E-1].length+m}},a.prototype.positionToIndex=function(o,u){for(var f=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,x=0,E=Math.min(o.row,f.length),S=u||0;S<E;++S)x+=f[S].length+m;return x+o.column},a.prototype.$split=function(o){return o.split(/\r\n|\r|\n/)},a})();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",g.implement(c.prototype,w),l.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,l,T){var g=i("./lib/oop"),b=i("./lib/event_emitter").EventEmitter,w=(function(){function d(h,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=h;var a=this;this.$worker=function(){if(a.running){for(var o=new Date,u=a.currentLine,f=-1,m=a.doc,x=u;a.lines[u];)u++;var E=m.getLength(),S=0;for(a.running=!1;u<E;){a.$tokenizeRow(u),f=u;do u++;while(a.lines[u]);if(S++,S%5===0&&new Date-o>20){a.running=setTimeout(a.$worker,20);break}}a.currentLine=u,f==-1&&(f=u),x<=f&&a.fireUpdateEvent(x,f)}}}return d.prototype.setTokenizer=function(h){this.tokenizer=h,this.lines=[],this.states=[],this.start(0)},d.prototype.setDocument=function(h){this.doc=h,this.lines=[],this.states=[],this.stop()},d.prototype.fireUpdateEvent=function(h,c){var a={first:h,last:c};this._signal("update",{data:a})},d.prototype.start=function(h){this.currentLine=Math.min(h||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},d.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},d.prototype.$updateOnChange=function(h){var c=h.start.row,a=h.end.row-c;if(a===0)this.lines[c]=null;else if(h.action=="remove")this.lines.splice(c,a+1,null),this.states.splice(c,a+1,null);else{var o=Array(a+1);o.unshift(c,1),this.lines.splice.apply(this.lines,o),this.states.splice.apply(this.states,o)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},d.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},d.prototype.getTokens=function(h){return this.lines[h]||this.$tokenizeRow(h)},d.prototype.getState=function(h){return this.currentLine==h&&this.$tokenizeRow(h),this.states[h]||"start"},d.prototype.$tokenizeRow=function(h){var c=this.doc.getLine(h),a=this.states[h-1],o=this.tokenizer.getLineTokens(c,a,h);return this.states[h]+""!=o.state+""?(this.states[h]=o.state,this.lines[h+1]=null,this.currentLine>h+1&&(this.currentLine=h+1)):this.currentLine==h&&(this.currentLine=h+1),this.lines[h]=o.tokens},d.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},d})();g.implement(w.prototype,b),l.BackgroundTokenizer=w}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(i,l,T){var g=i("./lib/lang"),b=i("./range").Range,w=(function(){function d(h,c,a){a===void 0&&(a="text"),this.setRegexp(h),this.clazz=c,this.type=a,this.docLen=0}return d.prototype.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},d.prototype.update=function(h,c,a,o){if(this.regExp){for(var u=o.firstRow,f=o.lastRow,m={},x=a.$editor&&a.$editor.$search,E=x&&x.$isMultilineSearch(a.$editor.getLastSearchOptions()),S=u;S<=f;S++){var R=this.cache[S];if(R==null||a.getValue().length!=this.docLen){if(E){R=[];var M=x.$multiLineForward(a,this.regExp,S,f);if(M){var k=M.endRow<=f?M.endRow-1:f;k>S&&(S=k),R.push(new b(M.startRow,M.startCol,M.endRow,M.endCol))}R.length>this.MAX_RANGES&&(R=R.slice(0,this.MAX_RANGES))}else R=g.getMatchOffsets(a.getLine(S),this.regExp),R.length>this.MAX_RANGES&&(R=R.slice(0,this.MAX_RANGES)),R=R.map(function(A){return new b(S,A.offset,S,A.offset+A.length)});this.cache[S]=R.length?R:""}if(R.length!==0)for(var v=R.length;v--;){var F=R[v].toScreenRange(a),I=F.toString();m[I]||(m[I]=!0,c.drawSingleLineMarker(h,F,this.clazz,o))}}this.docLen=a.getValue().length}},d})();w.prototype.MAX_RANGES=500,l.SearchHighlight=w}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(i,l,T){var g=(function(){function k(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return k.prototype.addSession=function(v){this.$session=v},k.prototype.add=function(v,F,I){if(!this.$fromUndo&&v!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),F===!1||!this.lastDeltas){this.lastDeltas=[];var A=this.$undoStack.length;A>this.$undoDepth-1&&this.$undoStack.splice(0,A-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),v.id=this.$rev=++this.$maxRev}(v.action=="remove"||v.action=="insert")&&(this.$lastDelta=v),this.lastDeltas.push(v)}},k.prototype.addSelection=function(v,F){this.selections.push({value:v,rev:F||this.$rev})},k.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},k.prototype.markIgnored=function(v,F){F==null&&(F=this.$rev+1);for(var I=this.$undoStack,A=I.length;A--;){var $=I[A][0];if($.id<=v)break;$.id<F&&($.ignore=!0)}this.lastDeltas=null},k.prototype.getSelection=function(v,F){for(var I=this.selections,A=I.length;A--;){var $=I[A];if($.rev<v)return F&&($=I[A+1]),$}},k.prototype.getRevision=function(){return this.$rev},k.prototype.getDeltas=function(v,F){F==null&&(F=this.$rev+1);for(var I=this.$undoStack,A=null,$=0,P=I.length;P--;){var B=I[P][0];if(B.id<F&&!A&&(A=P+1),B.id<=v){$=P+1;break}}return I.slice($,A)},k.prototype.getChangedRanges=function(v,F){F==null&&(F=this.$rev+1)},k.prototype.getChangedLines=function(v,F){F==null&&(F=this.$rev+1)},k.prototype.undo=function(v,F){this.lastDeltas=null;var I=this.$undoStack;if(b(I,I.length)){v||(v=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var A=I.pop(),$=null;return A&&($=v.undoChanges(A,F),this.$redoStack.push(A),this.$syncRev()),this.$fromUndo=!1,$}},k.prototype.redo=function(v,F){if(this.lastDeltas=null,v||(v=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var I=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);M(this.$redoStack,I),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(P){P[0].id=++this.$maxRev},this)}var A=this.$redoStack.pop(),$=null;return A&&($=v.redoChanges(A,F),this.$undoStack.push(A),this.$syncRev()),this.$fromUndo=!1,$},k.prototype.$syncRev=function(){var v=this.$undoStack,F=v[v.length-1],I=F&&F[0].id||0;this.$redoStackBaseRev=I,this.$rev=I},k.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},k.prototype.canUndo=function(){return this.$undoStack.length>0},k.prototype.canRedo=function(){return this.$redoStack.length>0},k.prototype.bookmark=function(v){v==null&&(v=this.$rev),this.mark=v},k.prototype.isAtBookmark=function(){return this.$rev===this.mark},k.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},k.prototype.fromJSON=function(v){this.reset(),this.$undoStack=v.$undoStack,this.$redoStack=v.$redoStack},k.prototype.$prettyPrint=function(v){return v?a(v):a(this.$undoStack)+`
---
`+a(this.$redoStack)},k})();g.prototype.hasUndo=g.prototype.canUndo,g.prototype.hasRedo=g.prototype.canRedo,g.prototype.isClean=g.prototype.isAtBookmark,g.prototype.markClean=g.prototype.bookmark;function b(k,v){for(var F=v;F--;){var I=k[F];if(I&&!I[0].ignore){for(;F<v-1;){var A=f(k[F],k[F+1]);k[F]=A[0],k[F+1]=A[1],F++}return!0}}}var w=i("./range").Range,d=w.comparePoints;w.comparePoints;function h(k){return{row:k.row,column:k.column}}function c(k){return{start:h(k.start),end:h(k.end),action:k.action,lines:k.lines.slice()}}function a(k){if(k=k||this,Array.isArray(k))return k.map(a).join(`
`);var v="";return k.action?(v=k.action=="insert"?"+":"-",v+="["+k.lines+"]"):k.value&&(Array.isArray(k.value)?v=k.value.map(o).join(`
`):v=o(k.value)),k.start&&(v+=o(k)),(k.id||k.rev)&&(v+="	("+(k.id||k.rev)+")"),v}function o(k){return k.start.row+":"+k.start.column+"=>"+k.end.row+":"+k.end.column}function u(k,v){var F=k.action=="insert",I=v.action=="insert";if(F&&I)if(d(v.start,k.end)>=0)x(v,k,-1);else if(d(v.start,k.start)<=0)x(k,v,1);else return null;else if(F&&!I)if(d(v.start,k.end)>=0)x(v,k,-1);else if(d(v.end,k.start)<=0)x(k,v,-1);else return null;else if(!F&&I)if(d(v.start,k.start)>=0)x(v,k,1);else if(d(v.start,k.start)<=0)x(k,v,1);else return null;else if(!F&&!I)if(d(v.start,k.start)>=0)x(v,k,1);else if(d(v.end,k.start)<=0)x(k,v,-1);else return null;return[v,k]}function f(k,v){for(var F=k.length;F--;)for(var I=0;I<v.length;I++)if(!u(k[F],v[I])){for(;F<k.length;){for(;I--;)u(v[I],k[F]);I=v.length,F++}return[k,v]}return k.selectionBefore=v.selectionBefore=k.selectionAfter=v.selectionAfter=null,[v,k]}function m(k,v){var F=k.action=="insert",I=v.action=="insert";if(F&&I)d(k.start,v.start)<0?x(v,k,1):x(k,v,1);else if(F&&!I)d(k.start,v.end)>=0?x(k,v,-1):(d(k.start,v.start)<=0||x(k,w.fromPoints(v.start,k.start),-1),x(v,k,1));else if(!F&&I)d(v.start,k.end)>=0?x(v,k,-1):(d(v.start,k.start)<=0||x(v,w.fromPoints(k.start,v.start),-1),x(k,v,1));else if(!F&&!I)if(d(v.start,k.end)>=0)x(v,k,-1);else if(d(v.end,k.start)<=0)x(k,v,-1);else{var A,$;return d(k.start,v.start)<0&&(A=k,k=S(k,v.start)),d(k.end,v.end)>0&&($=S(k,v.end)),E(v.end,k.start,k.end,-1),$&&!A&&(k.lines=$.lines,k.start=$.start,k.end=$.end,$=k),[v,A,$].filter(Boolean)}return[v,k]}function x(k,v,F){E(k.start,v.start,v.end,F),E(k.end,v.start,v.end,F)}function E(k,v,F,I){k.row==(I==1?v:F).row&&(k.column+=I*(F.column-v.column)),k.row+=I*(F.row-v.row)}function S(k,v){var F=k.lines,I=k.end;k.end=h(v);var A=k.end.row-k.start.row,$=F.splice(A,F.length),P=A?v.column:v.column-k.start.column;F.push($[0].substring(0,P)),$[0]=$[0].substr(P);var B={start:h(v),end:I,lines:$,action:k.action};return B}function R(k,v){v=c(v);for(var F=k.length;F--;){for(var I=k[F],A=0;A<I.length;A++){var $=I[A],P=m($,v);v=P[0],P.length!=2&&(P[2]?(I.splice(A+1,1,P[1],P[2]),A++):P[1]||(I.splice(A,1),A--))}I.length||k.splice(F,1)}return k}function M(k,v){for(var F=0;F<v.length;F++)for(var I=v[F],A=0;A<I.length;A++)R(k,I[A])}l.UndoManager=g}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(i,l,T){var g=i("../range").Range,b=(function(){function w(d,h){this.foldData=d,Array.isArray(h)?this.folds=h:h=this.folds=[h];var c=h[h.length-1];this.range=new g(h[0].start.row,h[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}return w.prototype.shiftRow=function(d){this.start.row+=d,this.end.row+=d,this.folds.forEach(function(h){h.start.row+=d,h.end.row+=d})},w.prototype.addFold=function(d){if(d.sameRow){if(d.start.row<this.startRow||d.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(d),this.folds.sort(function(h,c){return-h.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(d.start.row,d.start.column)>0?(this.end.row=d.end.row,this.end.column=d.end.column):this.range.compareStart(d.end.row,d.end.column)<0&&(this.start.row=d.start.row,this.start.column=d.start.column)}else if(d.start.row==this.end.row)this.folds.push(d),this.end.row=d.end.row,this.end.column=d.end.column;else if(d.end.row==this.start.row)this.folds.unshift(d),this.start.row=d.start.row,this.start.column=d.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");d.foldLine=this},w.prototype.containsRow=function(d){return d>=this.start.row&&d<=this.end.row},w.prototype.walk=function(d,h,c){var a=0,o=this.folds,u,f,m,x=!0;h==null&&(h=this.end.row,c=this.end.column);for(var E=0;E<o.length;E++){if(u=o[E],f=u.range.compareStart(h,c),f==-1){d(null,h,c,a,x);return}if(m=d(null,u.start.row,u.start.column,a,x),m=!m&&d(u.placeholder,u.start.row,u.start.column,a),m||f===0)return;x=!u.sameRow,a=u.end.column}d(null,h,c,a,x)},w.prototype.getNextFoldTo=function(d,h){for(var c,a,o=0;o<this.folds.length;o++){if(c=this.folds[o],a=c.range.compareEnd(d,h),a==-1)return{fold:c,kind:"after"};if(a===0)return{fold:c,kind:"inside"}}return null},w.prototype.addRemoveChars=function(d,h,c){var a=this.getNextFoldTo(d,h),o,u;if(a){if(o=a.fold,a.kind=="inside"&&o.start.column!=h&&o.start.row!=d)window.console&&window.console.log(d,h,o);else if(o.start.row==d){u=this.folds;var f=u.indexOf(o);for(f===0&&(this.start.column+=c),f;f<u.length;f++){if(o=u[f],o.start.column+=c,!o.sameRow)return;o.end.column+=c}this.end.column+=c}}},w.prototype.split=function(d,h){var c=this.getNextFoldTo(d,h);if(!c||c.kind=="inside")return null;var a=c.fold,o=this.folds,u=this.foldData,f=o.indexOf(a),m=o[f-1];this.end.row=m.end.row,this.end.column=m.end.column,o=o.splice(f,o.length-f);var x=new w(u,o);return u.splice(u.indexOf(this)+1,0,x),x},w.prototype.merge=function(d){for(var h=d.folds,c=0;c<h.length;c++)this.addFold(h[c]);var a=this.foldData;a.splice(a.indexOf(d),1)},w.prototype.toString=function(){var d=[this.range.toString()+": ["];return this.folds.forEach(function(h){d.push("  "+h.toString())}),d.push("]"),d.join(`
`)},w.prototype.idxToPosition=function(d){for(var h=0,c=0;c<this.folds.length;c++){var a=this.folds[c];if(d-=a.start.column-h,d<0)return{row:a.start.row,column:a.start.column+d};if(d-=a.placeholder.length,d<0)return a.start;h=a.end.column}return{row:this.end.row,column:this.end.column+d}},w})();l.FoldLine=b}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(i,l,T){var g=i("./range").Range,b=g.comparePoints,w=(function(){function d(){this.ranges=[],this.$bias=1}return d.prototype.pointIndex=function(h,c,a){for(var o=this.ranges,u=a||0;u<o.length;u++){var f=o[u],m=b(h,f.end);if(!(m>0)){var x=b(h,f.start);return m===0?c&&x!==0?-u-2:u:x>0||x===0&&!c?u:-u-1}}return-u-1},d.prototype.add=function(h){var c=!h.isEmpty(),a=this.pointIndex(h.start,c);a<0&&(a=-a-1);var o=this.pointIndex(h.end,c,a);return o<0?o=-o-1:o++,this.ranges.splice(a,o-a,h)},d.prototype.addList=function(h){for(var c=[],a=h.length;a--;)c.push.apply(c,this.add(h[a]));return c},d.prototype.substractPoint=function(h){var c=this.pointIndex(h);if(c>=0)return this.ranges.splice(c,1)},d.prototype.merge=function(){var h=[],c=this.ranges;c=c.sort(function(m,x){return b(m.start,x.start)});for(var a=c[0],o,u=1;u<c.length;u++){o=a,a=c[u];var f=b(o.end,a.start);f<0||f==0&&!o.isEmpty()&&!a.isEmpty()||(b(o.end,a.end)<0&&(o.end.row=a.end.row,o.end.column=a.end.column),c.splice(u,1),h.push(a),a=o,u--)}return this.ranges=c,h},d.prototype.contains=function(h,c){return this.pointIndex({row:h,column:c})>=0},d.prototype.containsPoint=function(h){return this.pointIndex(h)>=0},d.prototype.rangeAtPoint=function(h){var c=this.pointIndex(h);if(c>=0)return this.ranges[c]},d.prototype.clipRows=function(h,c){var a=this.ranges;if(a[0].start.row>c||a[a.length-1].start.row<h)return[];var o=this.pointIndex({row:h,column:0});o<0&&(o=-o-1);var u=this.pointIndex({row:c,column:0},o);u<0&&(u=-u-1);for(var f=[],m=o;m<u;m++)f.push(a[m]);return f},d.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},d.prototype.attach=function(h){this.session&&this.detach(),this.session=h,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},d.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},d.prototype.$onChange=function(h){for(var c=h.start,a=h.end,o=c.row,u=a.row,f=this.ranges,m=0,x=f.length;m<x;m++){var E=f[m];if(E.end.row>=o)break}if(h.action=="insert")for(var S=u-o,R=-c.column+a.column;m<x;m++){var E=f[m];if(E.start.row>o)break;if(E.start.row==o&&E.start.column>=c.column&&(E.start.column==c.column&&this.$bias<=0||(E.start.column+=R,E.start.row+=S)),E.end.row==o&&E.end.column>=c.column){if(E.end.column==c.column&&this.$bias<0)continue;E.end.column==c.column&&R>0&&m<x-1&&E.end.column>E.start.column&&E.end.column==f[m+1].start.column&&(E.end.column-=R),E.end.column+=R,E.end.row+=S}}else for(var S=o-u,R=c.column-a.column;m<x;m++){var E=f[m];if(E.start.row>u)break;E.end.row<u&&(o<E.end.row||o==E.end.row&&c.column<E.end.column)?(E.end.row=o,E.end.column=c.column):E.end.row==u?E.end.column<=a.column?(S||E.end.column>c.column)&&(E.end.column=c.column,E.end.row=c.row):(E.end.column+=R,E.end.row+=S):E.end.row>u&&(E.end.row+=S),E.start.row<u&&(o<E.start.row||o==E.start.row&&c.column<E.start.column)?(E.start.row=o,E.start.column=c.column):E.start.row==u?E.start.column<=a.column?(S||E.start.column>c.column)&&(E.start.column=c.column,E.start.row=c.row):(E.start.column+=R,E.start.row+=S):E.start.row>u&&(E.start.row+=S)}if(S!=0&&m<x)for(;m<x;m++){var E=f[m];E.start.row+=S,E.end.row+=S}},d})();w.prototype.comparePoints=b,l.RangeList=w}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(i,l,T){var g=this&&this.__extends||(function(){var o=function(u,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(m[E]=x[E])},o(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");o(u,f);function m(){this.constructor=u}u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}})(),b=i("../range_list").RangeList,w=(function(o){g(u,o);function u(f,m){var x=o.call(this)||this;return x.foldLine=null,x.placeholder=m,x.range=f,x.start=f.start,x.end=f.end,x.sameRow=f.start.row==f.end.row,x.subFolds=x.ranges=[],x}return u.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},u.prototype.setFoldLine=function(f){this.foldLine=f,this.subFolds.forEach(function(m){m.setFoldLine(f)})},u.prototype.clone=function(){var f=this.range.clone(),m=new u(f,this.placeholder);return this.subFolds.forEach(function(x){m.subFolds.push(x.clone())}),m.collapseChildren=this.collapseChildren,m},u.prototype.addSubFold=function(f){if(!this.range.isEqual(f)){h(f,this.start);for(var R=f.start.row,M=f.start.column,m=0,x=-1;m<this.subFolds.length&&(x=this.subFolds[m].range.compare(R,M),x==1);m++);var E=this.subFolds[m],S=0;if(x==0){if(E.range.containsRange(f))return E.addSubFold(f);S=1}for(var R=f.range.end.row,M=f.range.end.column,k=m,x=-1;k<this.subFolds.length&&(x=this.subFolds[k].range.compare(R,M),x==1);k++);x==0&&k++;for(var v=this.subFolds.splice(m,k-m,f),F=x==0?v.length-1:v.length,I=S;I<F;I++)f.addSubFold(v[I]);return f.setFoldLine(this.foldLine),f}},u.prototype.restoreRange=function(f){return a(f,this.start)},u})(b);function d(o,u){o.row-=u.row,o.row==0&&(o.column-=u.column)}function h(o,u){d(o.start,u),d(o.end,u)}function c(o,u){o.row==0&&(o.column+=u.column),o.row+=u.row}function a(o,u){c(o.start,u),c(o.end,u)}l.Fold=w}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(i,l,T){var g=i("../range").Range,b=i("./fold_line").FoldLine,w=i("./fold").Fold,d=i("../token_iterator").TokenIterator,h=i("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(a,o,u){var f=this.getFoldLine(a);if(!f)return null;for(var m=f.folds,x=0;x<m.length;x++){var E=m[x].range;if(E.contains(a,o)){if(u==1&&E.isEnd(a,o)&&!E.isEmpty())continue;if(u==-1&&E.isStart(a,o)&&!E.isEmpty())continue;return m[x]}}},this.getFoldsInRange=function(a){var o=a.start,u=a.end,f=this.$foldData,m=[];o.column+=1,u.column-=1;for(var x=0;x<f.length;x++){var E=f[x].range.compareRange(a);if(E!=2){if(E==-2)break;for(var S=f[x].folds,R=0;R<S.length;R++){var M=S[R];if(E=M.range.compareRange(a),E==-2)break;if(E==2)continue;if(E==42)break;m.push(M)}}}return o.column-=1,u.column+=1,m},this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var o=[];a.forEach(function(u){o=o.concat(this.getFoldsInRange(u))},this)}else var o=this.getFoldsInRange(a);return o},this.getAllFolds=function(){for(var a=[],o=this.$foldData,u=0;u<o.length;u++)for(var f=0;f<o[u].folds.length;f++)a.push(o[u].folds[f]);return a},this.getFoldStringAt=function(a,o,u,f){if(f=f||this.getFoldLine(a),!f)return null;for(var m={end:{column:0}},x,E,S=0;S<f.folds.length;S++){E=f.folds[S];var R=E.range.compareEnd(a,o);if(R==-1){x=this.getLine(E.start.row).substring(m.end.column,E.start.column);break}else if(R===0)return null;m=E}return x||(x=this.getLine(E.start.row).substring(m.end.column)),u==-1?x.substring(0,o-m.end.column):u==1?x.substring(o-m.end.column):x},this.getFoldLine=function(a,o){var u=this.$foldData,f=0;for(o&&(f=u.indexOf(o)),f==-1&&(f=0),f;f<u.length;f++){var m=u[f];if(m.start.row<=a&&m.end.row>=a)return m;if(m.end.row>a)return null}return null},this.getNextFoldLine=function(a,o){var u=this.$foldData,f=0;for(o&&(f=u.indexOf(o)),f==-1&&(f=0),f;f<u.length;f++){var m=u[f];if(m.end.row>=a)return m}return null},this.getFoldedRowCount=function(a,o){for(var u=this.$foldData,f=o-a+1,m=0;m<u.length;m++){var x=u[m],E=x.end.row,S=x.start.row;if(E>=o){S<o&&(S>=a?f-=o-S:f=0);break}else E>=a&&(S>=a?f-=E-S:f-=E-a+1)}return f},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(o,u){return o.start.row-u.start.row}),a},this.addFold=function(a,o){var u=this.$foldData,f=!1,m;a instanceof w?m=a:(m=new w(o,a),m.collapseChildren=o.collapseChildren),this.$clipRangeToDocument(m.range);var x=m.start.row,E=m.start.column,S=m.end.row,R=m.end.column,M=this.getFoldAt(x,E,1),k=this.getFoldAt(S,R,-1);if(M&&k==M)return M.addSubFold(m);M&&!M.range.isStart(x,E)&&this.removeFold(M),k&&!k.range.isEnd(S,R)&&this.removeFold(k);var v=this.getFoldsInRange(m.range);v.length>0&&(this.removeFolds(v),m.collapseChildren||v.forEach(function($){m.addSubFold($)}));for(var F=0;F<u.length;F++){var I=u[F];if(S==I.start.row){I.addFold(m),f=!0;break}else if(x==I.end.row){if(I.addFold(m),f=!0,!m.sameRow){var A=u[F+1];if(A&&A.start.row==S){I.merge(A);break}}break}else if(S<=I.start.row)break}return f||(I=this.$addFoldLine(new b(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(I.start.row,I.start.row):this.$updateRowLengthCache(I.start.row,I.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(a){a.forEach(function(o){this.addFold(o)},this)},this.removeFold=function(a){var o=a.foldLine,u=o.start.row,f=o.end.row,m=this.$foldData,x=o.folds;if(x.length==1)m.splice(m.indexOf(o),1);else if(o.range.isEnd(a.end.row,a.end.column))x.pop(),o.end.row=x[x.length-1].end.row,o.end.column=x[x.length-1].end.column;else if(o.range.isStart(a.start.row,a.start.column))x.shift(),o.start.row=x[0].start.row,o.start.column=x[0].start.column;else if(a.sameRow)x.splice(x.indexOf(a),1);else{var E=o.split(a.start.row,a.start.column);x=E.folds,x.shift(),E.start.row=x[0].start.row,E.start.column=x[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(u,f):this.$updateRowLengthCache(u,f)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(a){for(var o=[],u=0;u<a.length;u++)o.push(a[u]);o.forEach(function(f){this.removeFold(f)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(o){a.restoreRange(o),this.addFold(o)},this),a.collapseChildren>0&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(o){this.expandFold(o)},this)},this.unfold=function(a,o){var u,f;if(a==null)u=new g(0,0,this.getLength(),0),o==null&&(o=!0);else if(typeof a=="number")u=new g(a,0,a,this.getLine(a).length);else if("row"in a)u=g.fromPoints(a,a);else{if(Array.isArray(a))return f=[],a.forEach(function(x){f=f.concat(this.unfold(x))},this),f;u=a}f=this.getFoldsInRangeList(u);for(var m=f;f.length==1&&g.comparePoints(f[0].start,u.start)<0&&g.comparePoints(f[0].end,u.end)>0;)this.expandFolds(f),f=this.getFoldsInRangeList(u);if(o!=!1?this.removeFolds(f):this.expandFolds(f),m.length)return m},this.isRowFolded=function(a,o){return!!this.getFoldLine(a,o)},this.getRowFoldEnd=function(a,o){var u=this.getFoldLine(a,o);return u?u.end.row:a},this.getRowFoldStart=function(a,o){var u=this.getFoldLine(a,o);return u?u.start.row:a},this.getFoldDisplayLine=function(a,o,u,f,m){f==null&&(f=a.start.row),m==null&&(m=0),o==null&&(o=a.end.row),u==null&&(u=this.getLine(o).length);var x=this.doc,E="";return a.walk(function(S,R,M,k){if(!(R<f)){if(R==f){if(M<m)return;k=Math.max(m,k)}S!=null?E+=S:E+=x.getLine(R).substring(k,M)}},o,u),E},this.getDisplayLine=function(a,o,u,f){var m=this.getFoldLine(a);if(m)return this.getFoldDisplayLine(m,a,o,u,f);var x;return x=this.doc.getLine(a),x.substring(f||0,o||x.length)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(o){var u=o.folds.map(function(f){return f.clone()});return new b(a,u)}),a},this.toggleFold=function(a){var o=this.selection,u=o.getRange(),f,m;if(u.isEmpty()){var x=u.start;if(f=this.getFoldAt(x.row,x.column),f){this.expandFold(f);return}else if(a){var E=this.getFoldLine(x.row);E&&this.expandFolds(E.folds);return}else(m=this.findMatchingBracket(x))?u.comparePoint(m)==1?u.end=m:(u.start=m,u.start.column++,u.end.column--):(m=this.findMatchingBracket({row:x.row,column:x.column+1}))?(u.comparePoint(m)==1?u.end=m:u.start=m,u.start.column++):u=this.getCommentFoldRange(x.row,x.column)||u}else{var S=this.getFoldsInRange(u);if(a&&S.length){this.expandFolds(S);return}else S.length==1&&(f=S[0])}if(f||(f=this.getFoldAt(u.start.row,u.start.column)),f&&f.range.toString()==u.toString()){this.expandFold(f);return}var R="...";if(!u.isMultiLine()){if(R=this.getTextRange(u),R.length<4)return;R=R.trim().substring(0,2)+".."}this.addFold(R,u)},this.getCommentFoldRange=function(a,o,u){var f=new d(this,a,o),m=f.getCurrentToken(),x=m&&m.type;if(m&&/^comment|string/.test(x)){x=x.match(/comment|string/)[0],x=="comment"&&(x+="|doc-start|\\.doc");var E=new RegExp(x),S=new g;if(u!=1){do m=f.stepBackward();while(m&&E.test(m.type));m=f.stepForward()}S.start.row=f.getCurrentTokenRow(),S.start.column=f.getCurrentTokenColumn()+m.value.length,f=new d(this,a,o);var R=this.getState(f.$row);if(u!=-1){var M=-1;do if(m=f.stepForward(),M==-1){var k=this.getState(f.$row);R.toString()!==k.toString()&&(M=f.$row)}else if(f.$row>M)break;while(m&&E.test(m.type));m=f.stepBackward()}else m=f.getCurrentToken();return S.end.row=f.getCurrentTokenRow(),S.end.column=f.getCurrentTokenColumn(),S.start.row==S.end.row&&S.start.column>S.end.column?void 0:S}},this.foldAll=function(a,o,u,f){u==null&&(u=1e5);var m=this.foldWidgets;if(m){o=o||this.getLength(),a=a||0;for(var x=a;x<o;x++)if(m[x]==null&&(m[x]=this.getFoldWidget(x)),m[x]=="start"&&!(f&&!f(x))){var E=this.getFoldWidgetRange(x);E&&E.isMultiLine()&&E.end.row<=o&&E.start.row>=a&&(x=E.end.row,E.collapseChildren=u,this.addFold("...",E))}}},this.foldToLevel=function(a){for(this.foldAll();a-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var a=this;this.foldAll(null,null,null,function(o){for(var u=a.getTokens(o),f=0;f<u.length;f++){var m=u[f];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=a){this.$foldStyle=a,a=="manual"&&this.unfold();var o=this.$foldMode;this.$setFolding(null),this.$setFolding(o)}},this.$setFolding=function(a){if(this.$foldMode!=a){if(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!a||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(a,o){var u=this.foldWidgets;if(!u||o&&u[a])return{};for(var f=a-1,m;f>=0;){var x=u[f];if(x==null&&(x=u[f]=this.getFoldWidget(f)),x=="start"){var E=this.getFoldWidgetRange(f);if(m||(m=E),E&&E.end.row>=a)break}f--}return{range:f!==-1&&E,firstRange:m}},this.onFoldWidgetClick=function(a,o){o instanceof h&&(o=o.domEvent);var u={children:o.shiftKey,all:o.ctrlKey||o.metaKey,siblings:o.altKey},f=this.$toggleFoldWidget(a,u);if(!f){var m=o.target||o.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(a,o){if(this.getFoldWidget){var u=this.getFoldWidget(a),f=this.getLine(a),m=u==="end"?-1:1,x=this.getFoldAt(a,m===-1?0:f.length,m);if(x)return o.children||o.all?this.removeFold(x):this.expandFold(x),x;var E=this.getFoldWidgetRange(a,!0);if(E&&!E.isMultiLine()&&(x=this.getFoldAt(E.start.row,E.start.column,1),x&&E.isEqual(x.range)))return this.removeFold(x),x;if(o.siblings){var S=this.getParentFoldRangeData(a);if(S.range)var R=S.range.start.row+1,M=S.range.end.row;this.foldAll(R,M,o.all?1e4:0)}else o.children?(M=E?E.end.row:this.getLength(),this.foldAll(a+1,M,o.all?1e4:0)):E&&(o.all&&(E.collapseChildren=1e4),this.addFold("...",E));return E}},this.toggleFoldWidget=function(a){var o=this.selection.getCursor().row;o=this.getRowFoldStart(o);var u=this.$toggleFoldWidget(o,{});if(!u){var f=this.getParentFoldRangeData(o,!0);if(u=f.range||f.firstRange,u){o=u.start.row;var m=this.getFoldAt(o,this.getLine(o).length,1);m?this.removeFold(m):this.addFold("...",u)}}},this.updateFoldWidgets=function(a){var o=a.start.row,u=a.end.row-o;if(u===0)this.foldWidgets[o]=null;else if(a.action=="remove")this.foldWidgets.splice(o,u+1,null);else{var f=Array(u+1);f.unshift(o,1),this.foldWidgets.splice.apply(this.foldWidgets,f)}},this.tokenizerUpdateFoldWidgets=function(a){var o=a.data;o.first!=o.last&&this.foldWidgets.length>o.first&&this.foldWidgets.splice(o.first,this.foldWidgets.length)}}l.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(i,l,T){var g=i("../token_iterator").TokenIterator,b=i("../range").Range;function w(){this.findMatchingBracket=function(d,h){if(d.column==0)return null;var c=h||this.getLine(d.row).charAt(d.column-1);if(c=="")return null;var a=c.match(/([\(\[\{])|([\)\]\}])/);return a?a[1]?this.$findClosingBracket(a[1],d):this.$findOpeningBracket(a[2],d):null},this.getBracketRange=function(d){var h=this.getLine(d.row),c=!0,a,o=h.charAt(d.column-1),u=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(u||(o=h.charAt(d.column),d={row:d.row,column:d.column+1},u=o&&o.match(/([\(\[\{])|([\)\]\}])/),c=!1),!u)return null;if(u[1]){var f=this.$findClosingBracket(u[1],d);if(!f)return null;a=b.fromPoints(d,f),c||(a.end.column++,a.start.column--),a.cursor=a.end}else{var f=this.$findOpeningBracket(u[2],d);if(!f)return null;a=b.fromPoints(f,d),c||(a.start.column++,a.end.column--),a.cursor=a.start}return a},this.getMatchingBracketRanges=function(d,h){var c=this.getLine(d.row),a=/([\(\[\{])|([\)\]\}])/,o=!h&&c.charAt(d.column-1),u=o&&o.match(a);if(u||(o=(h===void 0||h)&&c.charAt(d.column),d={row:d.row,column:d.column+1},u=o&&o.match(a)),!u)return null;var f=new b(d.row,d.column-1,d.row,d.column),m=u[1]?this.$findClosingBracket(u[1],d):this.$findOpeningBracket(u[2],d);if(!m)return[f];var x=new b(m.row,m.column,m.row,m.column+1);return[f,x]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(d,h,c){var a=this.$brackets[d],o=1,u=new g(this,h.row,h.column),f=u.getCurrentToken();if(f||(f=u.stepForward()),!!f){c||(c=new RegExp("(\\.?"+f.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=h.column-u.getCurrentTokenColumn()-2,x=f.value;;){for(;m>=0;){var E=x.charAt(m);if(E==a){if(o-=1,o==0)return{row:u.getCurrentTokenRow(),column:m+u.getCurrentTokenColumn()}}else E==d&&(o+=1);m-=1}do f=u.stepBackward();while(f&&!c.test(f.type));if(f==null)break;x=f.value,m=x.length-1}return null}},this.$findClosingBracket=function(d,h,c){var a=this.$brackets[d],o=1,u=new g(this,h.row,h.column),f=u.getCurrentToken();if(f||(f=u.stepForward()),!!f){c||(c=new RegExp("(\\.?"+f.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=h.column-u.getCurrentTokenColumn();;){for(var x=f.value,E=x.length;m<E;){var S=x.charAt(m);if(S==a){if(o-=1,o==0)return{row:u.getCurrentTokenRow(),column:m+u.getCurrentTokenColumn()}}else S==d&&(o+=1);m+=1}do f=u.stepForward();while(f&&!c.test(f.type));if(f==null)break;m=0}return null}},this.getMatchingTags=function(d){var h=new g(this,d.row,d.column),c=this.$findTagName(h);if(c){var a=h.stepBackward();return a.value==="<"?this.$findClosingTag(h,c):this.$findOpeningTag(h,c)}},this.$findTagName=function(d){var h=d.getCurrentToken(),c=!1,a=!1;if(h&&h.type.indexOf("tag-name")===-1)do a?h=d.stepBackward():h=d.stepForward(),h&&(h.value==="/>"?a=!0:h.type.indexOf("tag-name")!==-1&&(c=!0));while(h&&!c);return h},this.$findClosingTag=function(d,h){var c,a=h.value,o=h.value,u=0,f=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);h=d.stepForward();var m=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+h.value.length),x=!1;do{if(c=h,c.type.indexOf("tag-close")!==-1&&!x){var E=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);x=!0}if(h=d.stepForward(),h){if(h.value===">"&&!x){var E=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);x=!0}if(h.type.indexOf("tag-name")!==-1){if(a=h.value,o===a){if(c.value==="<")u++;else if(c.value==="</"&&(u--,u<0)){d.stepBackward();var S=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+2);h=d.stepForward();var R=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=d.stepForward()),h&&h.value===">")var M=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);else return}}}else if(o===a&&h.value==="/>"&&(u--,u<0))var S=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+2),R=S,M=R,E=new b(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(h&&u>=0);if(f&&E&&S&&M&&m&&R)return{openTag:new b(f.start.row,f.start.column,E.end.row,E.end.column),closeTag:new b(S.start.row,S.start.column,M.end.row,M.end.column),openTagName:m,closeTagName:R}},this.$findOpeningTag=function(d,h){var c=d.getCurrentToken(),a=h.value,o=0,u=d.getCurrentTokenRow(),f=d.getCurrentTokenColumn(),m=f+2,x=new b(u,f,u,m);d.stepForward();var E=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=d.stepForward()),!(!h||h.value!==">")){var S=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);d.stepBackward(),d.stepBackward();do if(h=c,u=d.getCurrentTokenRow(),f=d.getCurrentTokenColumn(),m=f+h.value.length,c=d.stepBackward(),h){if(h.type.indexOf("tag-name")!==-1){if(a===h.value)if(c.value==="<"){if(o++,o>0){var R=new b(u,f,u,m),M=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);do h=d.stepForward();while(h&&h.value!==">");var k=new b(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1)}}else c.value==="</"&&o--}else if(h.value==="/>"){for(var v=0,F=c;F;){if(F.type.indexOf("tag-name")!==-1&&F.value===a){o--;break}else if(F.value==="<")break;F=d.stepBackward(),v++}for(var I=0;I<v;I++)d.stepForward()}}while(c&&o<=0);if(M&&k&&x&&S&&R&&E)return{openTag:new b(M.start.row,M.start.column,k.end.row,k.end.column),closeTag:new b(x.start.row,x.start.column,S.end.row,S.end.column),openTagName:R,closeTagName:E}}}}l.BracketMatch=w}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(i,l,T){var g=i("./lib/oop"),b=i("./lib/lang"),w=i("./bidihandler").BidiHandler,d=i("./config"),h=i("./lib/event_emitter").EventEmitter,c=i("./selection").Selection,a=i("./mode/text").Mode,o=i("./range").Range,u=i("./line_widgets").LineWidgets,f=i("./document").Document,m=i("./background_tokenizer").BackgroundTokenizer,x=i("./search_highlight").SearchHighlight,E=i("./undomanager").UndoManager,S=(function(){function B(U,W){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++B.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new m(new a().getTokenizer(),this);var j=this;this.bgTokenizer.on("update",function(H){j._signal("tokenizerUpdate",H)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof U!="object"||!U.getLine)&&(U=new f(U)),this.setDocument(U),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new w(this),d.resetOptions(this),this.setMode(W),d._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return B.prototype.$initOperationListeners=function(){var U=this;this.curOp=null,this.on("change",function(){U.curOp||(U.startOperation(),U.curOp.selectionBefore=U.$lastSel),U.curOp.docChanged=!0},!0),this.on("changeSelection",function(){U.curOp||(U.startOperation(),U.curOp.selectionBefore=U.$lastSel),U.curOp.selectionChanged=!0},!0),this.$operationResetTimer=b.delayedCall(this.endOperation.bind(this,!0))},B.prototype.startOperation=function(U){if(this.curOp){if(!U||this.curOp.command)return;this.prevOp=this.curOp}U||(U={}),this.$operationResetTimer.schedule(),this.curOp={command:U.command||{},args:U.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",U)},B.prototype.endOperation=function(U){if(this.curOp){if(U&&U.returnValue===!1){this.curOp=null,this._signal("endOperation",U);return}if(U==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var W=this.selection.toJSON();this.curOp.selectionAfter=W,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(W),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",U)}},B.prototype.setDocument=function(U){this.doc&&this.doc.off("change",this.$onChange),this.doc=U,U.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},B.prototype.getDocument=function(){return this.doc},Object.defineProperty(B.prototype,"widgetManager",{get:function(){var U=new u(this);return this.widgetManager=U,this.$editor&&U.attach(this.$editor),U},set:function(U){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:U})},enumerable:!1,configurable:!0}),B.prototype.$resetRowCache=function(U){if(!U){this.$docRowCache=[],this.$screenRowCache=[];return}var W=this.$docRowCache.length,j=this.$getRowCacheIndex(this.$docRowCache,U)+1;W>j&&(this.$docRowCache.splice(j,W),this.$screenRowCache.splice(j,W))},B.prototype.$getRowCacheIndex=function(U,W){for(var j=0,H=U.length-1;j<=H;){var Q=j+H>>1,X=U[Q];if(W>X)j=Q+1;else if(W<X)H=Q-1;else return Q}return j-1},B.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},B.prototype.onChangeFold=function(U){var W=U.data;this.$resetRowCache(W.start.row)},B.prototype.onChange=function(U){this.$modified=!0,this.$bidiHandler.onChange(U),this.$resetRowCache(U.start.row);var W=this.$updateInternalDataOnChange(U);!this.$fromUndo&&this.$undoManager&&(W&&W.length&&(this.$undoManager.add({action:"removeFolds",folds:W},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(U,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(U),this._signal("change",U)},B.prototype.onSelectionChange=function(){this._signal("changeSelection")},B.prototype.setValue=function(U){this.doc.setValue(U),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},B.fromJSON=function(U){typeof U=="string"&&(U=JSON.parse(U));var W=new E;W.$undoStack=U.history.undo,W.$redoStack=U.history.redo,W.mark=U.history.mark,W.$rev=U.history.rev;var j=new B(U.value);return U.folds.forEach(function(H){j.addFold("...",o.fromPoints(H.start,H.end))}),j.setAnnotations(U.annotations),j.setBreakpoints(U.breakpoints),j.setMode(U.mode),j.setScrollLeft(U.scrollLeft),j.setScrollTop(U.scrollTop),j.setUndoManager(W),j.selection.fromJSON(U.selection),j},B.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(U){return U.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},B.prototype.toString=function(){return this.doc.getValue()},B.prototype.getSelection=function(){return this.selection},B.prototype.getState=function(U){return this.bgTokenizer.getState(U)},B.prototype.getTokens=function(U){return this.bgTokenizer.getTokens(U)},B.prototype.getTokenAt=function(U,W){var j=this.bgTokenizer.getTokens(U),H,Q=0;if(W==null){var X=j.length-1;Q=this.getLine(U).length}else for(var X=0;X<j.length&&(Q+=j[X].value.length,!(Q>=W));X++);return H=j[X],H?(H.index=X,H.start=Q-H.value.length,H):null},B.prototype.setUndoManager=function(U){if(this.$undoManager=U,this.$informUndoManager&&this.$informUndoManager.cancel(),U){var W=this;U.addSession(this),this.$syncInformUndoManager=function(){W.$informUndoManager.cancel(),W.mergeUndoDeltas=!1},this.$informUndoManager=b.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},B.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},B.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},B.prototype.getTabString=function(){return this.getUseSoftTabs()?b.stringRepeat(" ",this.getTabSize()):"	"},B.prototype.setUseSoftTabs=function(U){this.setOption("useSoftTabs",U)},B.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},B.prototype.setTabSize=function(U){this.setOption("tabSize",U)},B.prototype.getTabSize=function(){return this.$tabSize},B.prototype.isTabStop=function(U){return this.$useSoftTabs&&U.column%this.$tabSize===0},B.prototype.setNavigateWithinSoftTabs=function(U){this.setOption("navigateWithinSoftTabs",U)},B.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},B.prototype.setOverwrite=function(U){this.setOption("overwrite",U)},B.prototype.getOverwrite=function(){return this.$overwrite},B.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},B.prototype.addGutterDecoration=function(U,W){this.$decorations[U]||(this.$decorations[U]=""),this.$decorations[U]+=" "+W,this._signal("changeBreakpoint",{})},B.prototype.removeGutterCustomWidget=function(U){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(U)},B.prototype.addGutterCustomWidget=function(U,W){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(U,W)},B.prototype.removeGutterDecoration=function(U,W){this.$decorations[U]=(this.$decorations[U]||"").replace(" "+W,""),this._signal("changeBreakpoint",{})},B.prototype.getBreakpoints=function(){return this.$breakpoints},B.prototype.setBreakpoints=function(U){this.$breakpoints=[];for(var W=0;W<U.length;W++)this.$breakpoints[U[W]]="ace_breakpoint";this._signal("changeBreakpoint",{})},B.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},B.prototype.setBreakpoint=function(U,W){W===void 0&&(W="ace_breakpoint"),W?this.$breakpoints[U]=W:delete this.$breakpoints[U],this._signal("changeBreakpoint",{})},B.prototype.clearBreakpoint=function(U){delete this.$breakpoints[U],this._signal("changeBreakpoint",{})},B.prototype.addMarker=function(U,W,j,H){var Q=this.$markerId++,X={range:U,type:j||"line",renderer:typeof j=="function"?j:null,clazz:W,inFront:!!H,id:Q};return H?(this.$frontMarkers[Q]=X,this._signal("changeFrontMarker")):(this.$backMarkers[Q]=X,this._signal("changeBackMarker")),Q},B.prototype.addDynamicMarker=function(U,W){if(U.update){var j=this.$markerId++;return U.id=j,U.inFront=!!W,W?(this.$frontMarkers[j]=U,this._signal("changeFrontMarker")):(this.$backMarkers[j]=U,this._signal("changeBackMarker")),U}},B.prototype.removeMarker=function(U){var W=this.$frontMarkers[U]||this.$backMarkers[U];if(W){var j=W.inFront?this.$frontMarkers:this.$backMarkers;delete j[U],this._signal(W.inFront?"changeFrontMarker":"changeBackMarker")}},B.prototype.getMarkers=function(U){return U?this.$frontMarkers:this.$backMarkers},B.prototype.highlight=function(U){if(!this.$searchHighlight){var W=new x(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(W)}this.$searchHighlight.setRegexp(U)},B.prototype.highlightLines=function(U,W,j,H){typeof W!="number"&&(j=W,W=U),j||(j="ace_step");var Q=new o(U,0,W,1/0);return Q.id=this.addMarker(Q,j,"fullLine",H),Q},B.prototype.setAnnotations=function(U){this.$annotations=U,this._signal("changeAnnotation",{})},B.prototype.getAnnotations=function(){return this.$annotations||[]},B.prototype.clearAnnotations=function(){this.setAnnotations([])},B.prototype.$detectNewLine=function(U){var W=U.match(/^.*?(\r?\n)/m);W?this.$autoNewLine=W[1]:this.$autoNewLine=`
`},B.prototype.getWordRange=function(U,W){var j=this.getLine(U),H=!1;if(W>0&&(H=!!j.charAt(W-1).match(this.tokenRe)),H||(H=!!j.charAt(W).match(this.tokenRe)),H)var Q=this.tokenRe;else if(/^\s+$/.test(j.slice(W-1,W+1)))var Q=/\s/;else var Q=this.nonTokenRe;var X=W;if(X>0){do X--;while(X>=0&&j.charAt(X).match(Q));X++}for(var ee=W;ee<j.length&&j.charAt(ee).match(Q);)ee++;return new o(U,X,U,ee)},B.prototype.getAWordRange=function(U,W){for(var j=this.getWordRange(U,W),H=this.getLine(j.end.row);H.charAt(j.end.column).match(/[ \t]/);)j.end.column+=1;return j},B.prototype.setNewLineMode=function(U){this.doc.setNewLineMode(U)},B.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},B.prototype.setUseWorker=function(U){this.setOption("useWorker",U)},B.prototype.getUseWorker=function(){return this.$useWorker},B.prototype.onReloadTokenizer=function(U){var W=U.data;this.bgTokenizer.start(W.first),this._signal("tokenizerUpdate",U)},B.prototype.setMode=function(U,W){if(U&&typeof U=="object"){if(U.getTokenizer)return this.$onChangeMode(U);var j=U,H=j.path}else H=U||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[H]&&!j){this.$onChangeMode(this.$modes[H]),W&&W();return}this.$modeId=H,d.loadModule(["mode",H],(function(Q){if(!this.destroyed){if(this.$modeId!==H)return W&&W();this.$modes[H]&&!j?this.$onChangeMode(this.$modes[H]):Q&&Q.Mode&&(Q=new Q.Mode(j),j||(this.$modes[H]=Q,Q.$id=H),this.$onChangeMode(Q)),W&&W()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},B.prototype.$onChangeMode=function(U,W){if(W||(this.$modeId=U.$id),this.$mode!==U){var j=this.$mode;this.$mode=U,this.$stopWorker(),this.$useWorker&&this.$startWorker();var H=U.getTokenizer();if(H.on!==void 0){var Q=this.onReloadTokenizer.bind(this);H.on("update",Q)}this.bgTokenizer.setTokenizer(H),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=U.tokenRe,this.nonTokenRe=U.nonTokenRe,W||(U.attachToSession&&U.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(U.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:j,mode:U}))}},B.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},B.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(U){d.warn("Could not load worker",U),this.$worker=null}},B.prototype.getMode=function(){return this.$mode},B.prototype.setScrollTop=function(U){this.$scrollTop===U||isNaN(U)||(this.$scrollTop=U,this._signal("changeScrollTop",U))},B.prototype.getScrollTop=function(){return this.$scrollTop},B.prototype.setScrollLeft=function(U){this.$scrollLeft===U||isNaN(U)||(this.$scrollLeft=U,this._signal("changeScrollLeft",U))},B.prototype.getScrollLeft=function(){return this.$scrollLeft},B.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},B.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var U=0;return this.lineWidgets.forEach(function(W){W&&W.screenWidth>U&&(U=W.screenWidth)}),this.lineWidgetWidth=U},B.prototype.$computeWidth=function(U){if(this.$modified||U){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var W=this.doc.getAllLines(),j=this.$rowLengthCache,H=0,Q=0,X=this.$foldData[Q],ee=X?X.start.row:1/0,ie=W.length,ne=0;ne<ie;ne++){if(ne>ee){if(ne=X.end.row+1,ne>=ie)break;X=this.$foldData[Q++],ee=X?X.start.row:1/0}j[ne]==null&&(j[ne]=this.$getStringScreenWidth(W[ne])[0]),j[ne]>H&&(H=j[ne])}this.screenWidth=H}},B.prototype.getLine=function(U){return this.doc.getLine(U)},B.prototype.getLines=function(U,W){return this.doc.getLines(U,W)},B.prototype.getLength=function(){return this.doc.getLength()},B.prototype.getTextRange=function(U){return this.doc.getTextRange(U||this.selection.getRange())},B.prototype.insert=function(U,W){return this.doc.insert(U,W)},B.prototype.remove=function(U){return this.doc.remove(U)},B.prototype.removeFullLines=function(U,W){return this.doc.removeFullLines(U,W)},B.prototype.undoChanges=function(U,W){if(U.length){this.$fromUndo=!0;for(var j=U.length-1;j!=-1;j--){var H=U[j];H.action=="insert"||H.action=="remove"?this.doc.revertDelta(H):H.folds&&this.addFolds(H.folds)}!W&&this.$undoSelect&&(U.selectionBefore?this.selection.fromJSON(U.selectionBefore):this.selection.setRange(this.$getUndoSelection(U,!0))),this.$fromUndo=!1}},B.prototype.redoChanges=function(U,W){if(U.length){this.$fromUndo=!0;for(var j=0;j<U.length;j++){var H=U[j];(H.action=="insert"||H.action=="remove")&&this.doc.$safeApplyDelta(H)}!W&&this.$undoSelect&&(U.selectionAfter?this.selection.fromJSON(U.selectionAfter):this.selection.setRange(this.$getUndoSelection(U,!1))),this.$fromUndo=!1}},B.prototype.setUndoSelect=function(U){this.$undoSelect=U},B.prototype.$getUndoSelection=function(U,W){function j(ie){return W?ie.action!=="insert":ie.action==="insert"}for(var H,Q,X=0;X<U.length;X++){var ee=U[X];if(ee.start){if(!H){j(ee)?H=o.fromPoints(ee.start,ee.end):H=o.fromPoints(ee.start,ee.start);continue}j(ee)?(Q=ee.start,H.compare(Q.row,Q.column)==-1&&H.setStart(Q),Q=ee.end,H.compare(Q.row,Q.column)==1&&H.setEnd(Q)):(Q=ee.start,H.compare(Q.row,Q.column)==-1&&(H=o.fromPoints(ee.start,ee.start)))}}return H},B.prototype.replace=function(U,W){return this.doc.replace(U,W)},B.prototype.moveText=function(U,W,j){var H=this.getTextRange(U),Q=this.getFoldsInRange(U),X=o.fromPoints(W,W);if(!j){this.remove(U);var ee=U.start.row-U.end.row,ie=ee?-U.end.column:U.start.column-U.end.column;ie&&(X.start.row==U.end.row&&X.start.column>U.end.column&&(X.start.column+=ie),X.end.row==U.end.row&&X.end.column>U.end.column&&(X.end.column+=ie)),ee&&X.start.row>=U.end.row&&(X.start.row+=ee,X.end.row+=ee)}if(X.end=this.insert(X.start,H),Q.length){var ne=U.start,ae=X.start,ee=ae.row-ne.row,ie=ae.column-ne.column;this.addFolds(Q.map(function(pe){return pe=pe.clone(),pe.start.row==ne.row&&(pe.start.column+=ie),pe.end.row==ne.row&&(pe.end.column+=ie),pe.start.row+=ee,pe.end.row+=ee,pe}))}return X},B.prototype.indentRows=function(U,W,j){j=j.replace(/\t/g,this.getTabString());for(var H=U;H<=W;H++)this.doc.insertInLine({row:H,column:0},j)},B.prototype.outdentRows=function(U){for(var W=U.collapseRows(),j=new o(0,0,0,0),H=this.getTabSize(),Q=W.start.row;Q<=W.end.row;++Q){var X=this.getLine(Q);j.start.row=Q,j.end.row=Q;for(var ee=0;ee<H&&X.charAt(ee)==" ";++ee);ee<H&&X.charAt(ee)=="	"?(j.start.column=ee,j.end.column=ee+1):(j.start.column=0,j.end.column=ee),this.remove(j)}},B.prototype.$moveLines=function(U,W,j){if(U=this.getRowFoldStart(U),W=this.getRowFoldEnd(W),j<0){var H=this.getRowFoldStart(U+j);if(H<0)return 0;var Q=H-U}else if(j>0){var H=this.getRowFoldEnd(W+j);if(H>this.doc.getLength()-1)return 0;var Q=H-W}else{U=this.$clipRowToDocument(U),W=this.$clipRowToDocument(W);var Q=W-U+1}var X=new o(U,0,W,Number.MAX_VALUE),ee=this.getFoldsInRange(X).map(function(ne){return ne=ne.clone(),ne.start.row+=Q,ne.end.row+=Q,ne}),ie=j==0?this.doc.getLines(U,W):this.doc.removeFullLines(U,W);return this.doc.insertFullLines(U+Q,ie),ee.length&&this.addFolds(ee),Q},B.prototype.moveLinesUp=function(U,W){return this.$moveLines(U,W,-1)},B.prototype.moveLinesDown=function(U,W){return this.$moveLines(U,W,1)},B.prototype.duplicateLines=function(U,W){return this.$moveLines(U,W,0)},B.prototype.$clipRowToDocument=function(U){return Math.max(0,Math.min(U,this.doc.getLength()-1))},B.prototype.$clipColumnToRow=function(U,W){return W<0?0:Math.min(this.doc.getLine(U).length,W)},B.prototype.$clipPositionToDocument=function(U,W){if(W=Math.max(0,W),U<0)U=0,W=0;else{var j=this.doc.getLength();U>=j?(U=j-1,W=this.doc.getLine(j-1).length):W=Math.min(this.doc.getLine(U).length,W)}return{row:U,column:W}},B.prototype.$clipRangeToDocument=function(U){U.start.row<0?(U.start.row=0,U.start.column=0):U.start.column=this.$clipColumnToRow(U.start.row,U.start.column);var W=this.doc.getLength()-1;return U.end.row>W?(U.end.row=W,U.end.column=this.doc.getLine(W).length):U.end.column=this.$clipColumnToRow(U.end.row,U.end.column),U},B.prototype.setUseWrapMode=function(U){if(U!=this.$useWrapMode){if(this.$useWrapMode=U,this.$modified=!0,this.$resetRowCache(0),U){var W=this.getLength();this.$wrapData=Array(W),this.$updateWrapData(0,W-1)}this._signal("changeWrapMode")}},B.prototype.getUseWrapMode=function(){return this.$useWrapMode},B.prototype.setWrapLimitRange=function(U,W){(this.$wrapLimitRange.min!==U||this.$wrapLimitRange.max!==W)&&(this.$wrapLimitRange={min:U,max:W},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},B.prototype.adjustWrapLimit=function(U,W){var j=this.$wrapLimitRange;j.max<0&&(j={min:W,max:W});var H=this.$constrainWrapLimit(U,j.min,j.max);return H!=this.$wrapLimit&&H>1?(this.$wrapLimit=H,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},B.prototype.$constrainWrapLimit=function(U,W,j){return W&&(U=Math.max(W,U)),j&&(U=Math.min(j,U)),U},B.prototype.getWrapLimit=function(){return this.$wrapLimit},B.prototype.setWrapLimit=function(U){this.setWrapLimitRange(U,U)},B.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},B.prototype.$updateInternalDataOnChange=function(U){var W=this.$useWrapMode,j=U.action,H=U.start,Q=U.end,X=H.row,ee=Q.row,ie=ee-X,ne=null;if(this.$updating=!0,ie!=0)if(j==="remove"){this[W?"$wrapData":"$rowLengthCache"].splice(X,ie);var ae=this.$foldData;ne=this.getFoldsInRange(U),this.removeFolds(ne);var re=this.getFoldLine(Q.row),fe=0;if(re){re.addRemoveChars(Q.row,Q.column,H.column-Q.column),re.shiftRow(-ie);var pe=this.getFoldLine(X);pe&&pe!==re&&(pe.merge(re),re=pe),fe=ae.indexOf(re)+1}for(fe;fe<ae.length;fe++){var re=ae[fe];re.start.row>=Q.row&&re.shiftRow(-ie)}ee=X}else{var he=Array(ie);he.unshift(X,0);var $e=W?this.$wrapData:this.$rowLengthCache;$e.splice.apply($e,he);var ae=this.$foldData,re=this.getFoldLine(X),fe=0;if(re){var Le=re.range.compareInside(H.row,H.column);Le==0?(re=re.split(H.row,H.column),re&&(re.shiftRow(ie),re.addRemoveChars(ee,0,Q.column-H.column))):Le==-1&&(re.addRemoveChars(X,0,Q.column-H.column),re.shiftRow(ie)),fe=ae.indexOf(re)+1}for(fe;fe<ae.length;fe++){var re=ae[fe];re.start.row>=X&&re.shiftRow(ie)}}else{ie=Math.abs(U.start.column-U.end.column),j==="remove"&&(ne=this.getFoldsInRange(U),this.removeFolds(ne),ie=-ie);var re=this.getFoldLine(X);re&&re.addRemoveChars(X,H.column,ie)}return W&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,W?this.$updateWrapData(X,ee):this.$updateRowLengthCache(X,ee),ne},B.prototype.$updateRowLengthCache=function(U,W){this.$rowLengthCache[U]=null,this.$rowLengthCache[W]=null},B.prototype.$updateWrapData=function(U,W){var j=this.doc.getAllLines(),H=this.getTabSize(),Q=this.$wrapData,X=this.$wrapLimit,ee,ie,ne=U;for(W=Math.min(W,j.length-1);ne<=W;)ie=this.getFoldLine(ne,ie),ie?(ee=[],ie.walk((function(ae,re,fe,pe){var he;if(ae!=null){he=this.$getDisplayTokens(ae,ee.length),he[0]=k;for(var $e=1;$e<he.length;$e++)he[$e]=v}else he=this.$getDisplayTokens(j[re].substring(pe,fe),ee.length);ee=ee.concat(he)}).bind(this),ie.end.row,j[ie.end.row].length+1),Q[ie.start.row]=this.$computeWrapSplits(ee,X,H),ne=ie.end.row+1):(ee=this.$getDisplayTokens(j[ne]),Q[ne]=this.$computeWrapSplits(ee,X,H),ne++)},B.prototype.$computeWrapSplits=function(U,W,j){if(U.length==0)return[];var H=[],Q=U.length,X=0,ee=0,ie=this.$wrapAsCode,ne=this.$indentedSoftWrap,ae=W<=Math.max(2*j,8)||ne===!1?0:Math.floor(W/2);function re(){var Le=0;if(ae===0)return Le;if(ne)for(var Oe=0;Oe<U.length;Oe++){var Ne=U[Oe];if(Ne==I)Le+=1;else if(Ne==A)Le+=j;else{if(Ne==$)continue;break}}return ie&&ne!==!1&&(Le+=j),Math.min(Le,ae)}function fe(Le){for(var Oe=Le-X,Ne=X;Ne<Le;Ne++){var be=U[Ne];(be===12||be===2)&&(Oe-=1)}H.length||(pe=re(),H.indent=pe),ee+=Oe,H.push(ee),X=Le}for(var pe=0;Q-X>W-pe;){var he=X+W-pe;if(U[he-1]>=I&&U[he]>=I){fe(he);continue}if(U[he]==k||U[he]==v){for(he;he!=X-1&&U[he]!=k;he--);if(he>X){fe(he);continue}for(he=X+W,he;he<U.length&&U[he]==v;he++);if(he==U.length)break;fe(he);continue}for(var $e=Math.max(he-(W-(W>>2)),X-1);he>$e&&U[he]<k;)he--;if(ie){for(;he>$e&&U[he]<k;)he--;for(;he>$e&&U[he]==F;)he--}else for(;he>$e&&U[he]<I;)he--;if(he>$e){fe(++he);continue}he=X+W,U[he]==M&&he--,fe(he-pe)}return H},B.prototype.$getDisplayTokens=function(U,W){var j=[],H;W=W||0;for(var Q=0;Q<U.length;Q++){var X=U.charCodeAt(Q);if(X==9){H=this.getScreenTabSize(j.length+W),j.push(A);for(var ee=1;ee<H;ee++)j.push($)}else X==32?j.push(I):X>39&&X<48||X>57&&X<64?j.push(F):X>=4352&&P(X)?j.push(R,M):j.push(R)}return j},B.prototype.$getStringScreenWidth=function(U,W,j){if(W==0)return[0,0];W==null&&(W=1/0),j=j||0;var H,Q;for(Q=0;Q<U.length&&(H=U.charCodeAt(Q),H==9?j+=this.getScreenTabSize(j):H>=4352&&P(H)?j+=2:j+=1,!(j>W));Q++);return[j,Q]},B.prototype.getRowLength=function(U){var W=1;return this.lineWidgets&&(W+=this.lineWidgets[U]&&this.lineWidgets[U].rowCount||0),!this.$useWrapMode||!this.$wrapData[U]?W:this.$wrapData[U].length+W},B.prototype.getRowLineCount=function(U){return!this.$useWrapMode||!this.$wrapData[U]?1:this.$wrapData[U].length+1},B.prototype.getRowWrapIndent=function(U){if(this.$useWrapMode){var W=this.screenToDocumentPosition(U,Number.MAX_VALUE),j=this.$wrapData[W.row];return j.length&&j[0]<W.column?j.indent:0}else return 0},B.prototype.getScreenLastRowColumn=function(U){var W=this.screenToDocumentPosition(U,Number.MAX_VALUE);return this.documentToScreenColumn(W.row,W.column)},B.prototype.getDocumentLastRowColumn=function(U,W){var j=this.documentToScreenRow(U,W);return this.getScreenLastRowColumn(j)},B.prototype.getDocumentLastRowColumnPosition=function(U,W){var j=this.documentToScreenRow(U,W);return this.screenToDocumentPosition(j,Number.MAX_VALUE/10)},B.prototype.getRowSplitData=function(U){if(this.$useWrapMode)return this.$wrapData[U]},B.prototype.getScreenTabSize=function(U){return this.$tabSize-(U%this.$tabSize|0)},B.prototype.screenToDocumentRow=function(U,W){return this.screenToDocumentPosition(U,W).row},B.prototype.screenToDocumentColumn=function(U,W){return this.screenToDocumentPosition(U,W).column},B.prototype.screenToDocumentPosition=function(U,W,j){if(U<0)return{row:0,column:0};var H,Q=0,X=0,ee,ie=0,ne=0,ae=this.$screenRowCache,re=this.$getRowCacheIndex(ae,U),fe=ae.length;if(fe&&re>=0)var ie=ae[re],Q=this.$docRowCache[re],pe=U>ae[fe-1];else var pe=!fe;for(var he=this.getLength()-1,$e=this.getNextFoldLine(Q),Le=$e?$e.start.row:1/0;ie<=U&&(ne=this.getRowLength(Q),!(ie+ne>U||Q>=he));)ie+=ne,Q++,Q>Le&&(Q=$e.end.row+1,$e=this.getNextFoldLine(Q,$e),Le=$e?$e.start.row:1/0),pe&&(this.$docRowCache.push(Q),this.$screenRowCache.push(ie));if($e&&$e.start.row<=Q)H=this.getFoldDisplayLine($e),Q=$e.start.row;else{if(ie+ne<=U||Q>he)return{row:he,column:this.getLine(he).length};H=this.getLine(Q),$e=null}var Oe=0,Ne=Math.floor(U-ie);if(this.$useWrapMode){var be=this.$wrapData[Q];be&&(ee=be[Ne],Ne>0&&be.length&&(Oe=be.indent,X=be[Ne-1]||be[be.length-1],H=H.substring(X)))}return j!==void 0&&this.$bidiHandler.isBidiRow(ie+Ne,Q,Ne)&&(W=this.$bidiHandler.offsetToCol(j)),X+=this.$getStringScreenWidth(H,W-Oe)[1],this.$useWrapMode&&X>=ee&&(X=ee-1),$e?$e.idxToPosition(X):{row:Q,column:X}},B.prototype.documentToScreenPosition=function(U,W){if(typeof W>"u")var j=this.$clipPositionToDocument(U.row,U.column);else j=this.$clipPositionToDocument(U,W);U=j.row,W=j.column;var H=0,Q=null,X=null;X=this.getFoldAt(U,W,1),X&&(U=X.start.row,W=X.start.column);var ee,ie=0,ne=this.$docRowCache,ae=this.$getRowCacheIndex(ne,U),re=ne.length;if(re&&ae>=0)var ie=ne[ae],H=this.$screenRowCache[ae],fe=U>ne[re-1];else var fe=!re;for(var pe=this.getNextFoldLine(ie),he=pe?pe.start.row:1/0;ie<U;){if(ie>=he){if(ee=pe.end.row+1,ee>U)break;pe=this.getNextFoldLine(ee,pe),he=pe?pe.start.row:1/0}else ee=ie+1;H+=this.getRowLength(ie),ie=ee,fe&&(this.$docRowCache.push(ie),this.$screenRowCache.push(H))}var $e="";pe&&ie>=he?($e=this.getFoldDisplayLine(pe,U,W),Q=pe.start.row):($e=this.getLine(U).substring(0,W),Q=U);var Le=0;if(this.$useWrapMode){var Oe=this.$wrapData[Q];if(Oe){for(var Ne=0;$e.length>=Oe[Ne];)H++,Ne++;$e=$e.substring(Oe[Ne-1]||0,$e.length),Le=Ne>0?Oe.indent:0}}return this.lineWidgets&&this.lineWidgets[ie]&&this.lineWidgets[ie].rowsAbove&&(H+=this.lineWidgets[ie].rowsAbove),{row:H,column:Le+this.$getStringScreenWidth($e)[0]}},B.prototype.documentToScreenColumn=function(U,W){return this.documentToScreenPosition(U,W).column},B.prototype.documentToScreenRow=function(U,W){return this.documentToScreenPosition(U,W).row},B.prototype.getScreenLength=function(){var U=0,W=null;if(this.$useWrapMode)for(var Q=this.$wrapData.length,X=0,H=0,W=this.$foldData[H++],ee=W?W.start.row:1/0;X<Q;){var ie=this.$wrapData[X];U+=ie?ie.length+1:1,X++,X>ee&&(X=W.end.row+1,W=this.$foldData[H++],ee=W?W.start.row:1/0)}else{U=this.getLength();for(var j=this.$foldData,H=0;H<j.length;H++)W=j[H],U-=W.end.row-W.start.row}return this.lineWidgets&&(U+=this.$getWidgetScreenLength()),U},B.prototype.$setFontMetrics=function(U){this.$enableVarChar&&(this.$getStringScreenWidth=function(W,j,H){if(j===0)return[0,0];j||(j=1/0),H=H||0;var Q,X;for(X=0;X<W.length&&(Q=W.charAt(X),Q==="	"?H+=this.getScreenTabSize(H):H+=U.getCharacterWidth(Q),!(H>j));X++);return[H,X]})},B.prototype.getPrecedingCharacter=function(){var U=this.selection.getCursor();if(U.column===0)return U.row===0?"":this.doc.getNewLineCharacter();var W=this.getLine(U.row);return W[U.column-1]},B.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},B})();S.$uid=0,S.prototype.$modes=d.$modes,S.prototype.getValue=S.prototype.toString,S.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},S.prototype.$overwrite=!1,S.prototype.$mode=null,S.prototype.$modeId=null,S.prototype.$scrollTop=0,S.prototype.$scrollLeft=0,S.prototype.$wrapLimit=80,S.prototype.$useWrapMode=!1,S.prototype.$wrapLimitRange={min:null,max:null},S.prototype.lineWidgets=null,S.prototype.isFullWidth=P,g.implement(S.prototype,h);var R=1,M=2,k=3,v=4,F=9,I=10,A=11,$=12;function P(B){return B<4352?!1:B>=4352&&B<=4447||B>=4515&&B<=4519||B>=4602&&B<=4607||B>=9001&&B<=9002||B>=11904&&B<=11929||B>=11931&&B<=12019||B>=12032&&B<=12245||B>=12272&&B<=12283||B>=12288&&B<=12350||B>=12353&&B<=12438||B>=12441&&B<=12543||B>=12549&&B<=12589||B>=12593&&B<=12686||B>=12688&&B<=12730||B>=12736&&B<=12771||B>=12784&&B<=12830||B>=12832&&B<=12871||B>=12880&&B<=13054||B>=13056&&B<=19903||B>=19968&&B<=42124||B>=42128&&B<=42182||B>=43360&&B<=43388||B>=44032&&B<=55203||B>=55216&&B<=55238||B>=55243&&B<=55291||B>=63744&&B<=64255||B>=65040&&B<=65049||B>=65072&&B<=65106||B>=65108&&B<=65126||B>=65128&&B<=65131||B>=65281&&B<=65376||B>=65504&&B<=65510}i("./edit_session/folding").Folding.call(S.prototype),i("./edit_session/bracket_match").BracketMatch.call(S.prototype),d.defineOptions(S.prototype,"session",{wrap:{set:function(B){if(!B||B=="off"?B=!1:B=="free"?B=!0:B=="printMargin"?B=-1:typeof B=="string"&&(B=parseInt(B,10)||!1),this.$wrap!=B)if(this.$wrap=B,!B)this.setUseWrapMode(!1);else{var U=typeof B=="number"?B:null;this.setWrapLimitRange(U,U),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(B){B=B=="auto"?this.$mode.type!="text":B!="text",B!=this.$wrapAsCode&&(this.$wrapAsCode=B,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(B){this.$useWorker=B,this.$stopWorker(),B&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(B){B=parseInt(B),B>0&&this.$tabSize!==B&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=B,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(B){this.setFoldStyle(B)},handlesSet:!0},overwrite:{set:function(B){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(B){this.doc.setNewLineMode(B)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(B){this.setMode(B)},get:function(){return this.$modeId},handlesSet:!0}}),l.EditSession=S}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(i,l,T){var g=i("./lib/lang"),b=i("./lib/oop"),w=i("./range").Range,d=(function(){function o(){this.$options={}}return o.prototype.set=function(u){return b.mixin(this.$options,u),this},o.prototype.getOptions=function(){return g.copyObject(this.$options)},o.prototype.setOptions=function(u){this.$options=u},o.prototype.find=function(u){var f=this.$options,m=this.$matchIterator(u,f);if(!m)return!1;var x=null;return m.forEach(function(E,S,R,M){return x=new w(E,S,R,M),S==M&&f.start&&f.start.start&&f.skipCurrent!=!1&&x.isEqual(f.start)?(x=null,!1):!0}),x},o.prototype.findAll=function(u){var f=this.$options;if(!f.needle)return[];this.$assembleRegExp(f);var m=f.range,x=m?u.getLines(m.start.row,m.end.row):u.doc.getAllLines(),E=[],S=f.re;if(f.$isMultiLine){var R=S.length,M=x.length-R,k;e:for(var v=S.offset||0;v<=M;v++){for(var F=0;F<R;F++)if(x[v+F].search(S[F])==-1)continue e;var I=x[v],A=x[v+R-1],$=I.length-I.match(S[0])[0].length,P=A.match(S[R-1])[0].length;k&&k.end.row===v&&k.end.column>$||(E.push(k=new w(v,$,v+R-1,P)),R>2&&(v=v+R-2))}}else for(var B,U=0;U<x.length;U++)if(this.$isMultilineSearch(f)){var W=x.length-1;if(B=this.$multiLineForward(u,S,U,W),B){var j=B.endRow<=W?B.endRow-1:W;j>U&&(U=j),E.push(new w(B.startRow,B.startCol,B.endRow,B.endCol))}}else{B=g.getMatchOffsets(x[U],S);for(var F=0;F<B.length;F++){var H=B[F];E.push(new w(U,H.offset,U,H.offset+H.length))}}if(m){for(var Q=m.start.column,X=m.end.column,U=0,F=E.length-1;U<F&&E[U].start.column<Q&&E[U].start.row==0;)U++;for(var ee=m.end.row-m.start.row;U<F&&E[F].end.column>X&&E[F].end.row==ee;)F--;for(E=E.slice(U,F+1),U=0,F=E.length;U<F;U++)E[U].start.row+=m.start.row,E[U].end.row+=m.start.row}return E},o.prototype.parseReplaceString=function(u){for(var f={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",x=0,E=u.length;x<E;x++){var S=u.charCodeAt(x);if(S===f.Backslash){if(x++,x>=E){m+="\\";break}var R=u.charCodeAt(x);switch(R){case f.Backslash:m+="\\";break;case f.n:m+=`
`;break;case f.t:m+="	";break}continue}if(S===f.DollarSign){if(x++,x>=E){m+="$";break}var M=u.charCodeAt(x);if(M===f.DollarSign){m+="$$";continue}if(M===f.Digit0||M===f.Ampersand){m+="$&";continue}if(f.Digit1<=M&&M<=f.Digit9){m+="$"+u[x];continue}}m+=u[x]}return m||u},o.prototype.replace=function(u,f){var m=this.$options,x=this.$assembleRegExp(m);if(m.$isMultiLine)return f;if(x){var E=this.$isMultilineSearch(m);E&&(u=u.replace(/\r\n|\r|\n/g,`
`));var S=x.exec(u);if(!S||!E&&S[0].length!=u.length)return null;if(f=m.regExp?this.parseReplaceString(f):f.replace(/\$/g,"$$$$"),f=u.replace(x,f),m.preserveCase){f=f.split("");for(var R=Math.min(u.length,u.length);R--;){var M=u[R];M&&M.toLowerCase()!=M?f[R]=f[R].toUpperCase():f[R]=f[R].toLowerCase()}f=f.join("")}return f}},o.prototype.$assembleRegExp=function(u,f){if(u.needle instanceof RegExp)return u.re=u.needle;var m=u.needle;if(!u.needle)return u.re=!1;u.regExp||(m=g.escapeRegExp(m));var x=u.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),u.$supportsUnicodeFlag=!0,x+="u"}catch{u.$supportsUnicodeFlag=!1}if(u.wholeWord&&(m=h(m,u)),u.$isMultiLine=!f&&/[\n\r]/.test(m),u.$isMultiLine)return u.re=this.$assembleMultilineRegExp(m,x);try{var E=new RegExp(m,x)}catch{E=!1}return u.re=E},o.prototype.$assembleMultilineRegExp=function(u,f){for(var m=u.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),x=[],E=0;E<m.length;E++)try{x.push(new RegExp(m[E],f))}catch{return!1}return x},o.prototype.$isMultilineSearch=function(u){return u.re&&/\\r\\n|\\r|\\n/.test(u.re.source)&&u.regExp&&!u.$isMultiLine},o.prototype.$multiLineForward=function(u,f,m,x){for(var E,S=a(u,m),R=m;R<=x;){for(var M=0;M<S&&!(R>x);M++){var k=u.getLine(R++);E=E==null?k:E+`
`+k}var v=f.exec(E);if(f.lastIndex=0,v){var F=E.slice(0,v.index).split(`
`),I=v[0].split(`
`),A=m+F.length-1,$=F[F.length-1].length,P=A+I.length-1,B=I.length==1?$+I[0].length:I[I.length-1].length;return{startRow:A,startCol:$,endRow:P,endCol:B}}}return null},o.prototype.$multiLineBackward=function(u,f,m,x,E){for(var S,R=a(u,x),M=u.getLine(x).length-m,k=x;k>=E;){for(var v=0;v<R&&k>=E;v++){var F=u.getLine(k--);S=S==null?F:F+`
`+S}var I=c(S,f,M);if(I){var A=S.slice(0,I.index).split(`
`),$=I[0].split(`
`),P=k+A.length,B=A[A.length-1].length,U=P+$.length-1,W=$.length==1?B+$[0].length:$[$.length-1].length;return{startRow:P,startCol:B,endRow:U,endCol:W}}}return null},o.prototype.$matchIterator=function(u,f){var m=this.$assembleRegExp(f);if(!m)return!1;var x=this.$isMultilineSearch(f),E=this.$multiLineForward,S=this.$multiLineBackward,R=f.backwards==!0,M=f.skipCurrent!=!1,k=m.unicode,v=f.range,F=f.start;F||(F=v?v[R?"end":"start"]:u.selection.getRange()),F.start&&(F=F[M!=R?"end":"start"]);var I=v?v.start.row:0,A=v?v.end.row:u.getLength()-1;if(R)var $=function(U){var W=F.row;if(!B(W,F.column,U)){for(W--;W>=I;W--)if(B(W,Number.MAX_VALUE,U))return;if(f.wrap!=!1){for(W=A,I=F.row;W>=I;W--)if(B(W,Number.MAX_VALUE,U))return}}};else var $=function(W){var j=F.row;if(!B(j,F.column,W)){for(j=j+1;j<=A;j++)if(B(j,0,W))return;if(f.wrap!=!1){for(j=I,A=F.row;j<=A;j++)if(B(j,0,W))return}}};if(f.$isMultiLine)var P=m.length,B=function(U,W,j){var H=R?U-P+1:U;if(!(H<0||H+P>u.getLength())){var Q=u.getLine(H),X=Q.search(m[0]);if(!(!R&&X<W||X===-1)){for(var ee=1;ee<P;ee++)if(Q=u.getLine(H+ee),Q.search(m[ee])==-1)return;var ie=Q.match(m[P-1])[0].length;if(!(R&&ie>W)&&j(H,X,H+P-1,ie))return!0}}};else if(R)var B=function(W,j,H){if(x){var Q=S(u,m,j,W,I);if(!Q)return!1;if(H(Q.startRow,Q.startCol,Q.endRow,Q.endCol))return!0}else{var X=u.getLine(W),ee=[],ie,ne=0;for(m.lastIndex=0;ie=m.exec(X);){var ae=ie[0].length;if(ne=ie.index,!ae){if(ne>=X.length)break;m.lastIndex=ne+=g.skipEmptyMatch(X,ne,k)}if(ie.index+ae>j)break;ee.push(ie.index,ae)}for(var re=ee.length-1;re>=0;re-=2){var fe=ee[re-1],ae=ee[re];if(H(W,fe,W,fe+ae))return!0}}};else var B=function(W,j,H){if(m.lastIndex=j,x){var Q=E(u,m,W,A);if(Q){var X=Q.endRow<=A?Q.endRow-1:A;X>W&&(W=X)}if(!Q)return!1;if(H(Q.startRow,Q.startCol,Q.endRow,Q.endCol))return!0}else for(var ee=u.getLine(W),ie,ne;ne=m.exec(ee);){var ae=ne[0].length;if(ie=ne.index,H(W,ie,W,ie+ae))return!0;if(!ae&&(m.lastIndex=ie+=g.skipEmptyMatch(ee,ie,k),ie>=ee.length))return!1}};return{forEach:$}},o})();function h(o,u){var f=g.supportsLookbehind();function m(R,M){M===void 0&&(M=!0);var k=f&&u.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return k.test(R)||u.regExp?f&&u.$supportsUnicodeFlag?M?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var x=Array.from(o),E=x[0],S=x[x.length-1];return m(E)+o+m(S,!1)}function c(o,u,f){for(var m=null,x=0;x<=o.length;){u.lastIndex=x;var E=u.exec(o);if(!E)break;var S=E.index+E[0].length;if(S>o.length-f)break;(!m||S>m.index+m[0].length)&&(m=E),x=E.index+1}return m}function a(o,u){var f=5e3,m={row:u,column:0},x=o.doc.positionToIndex(m),E=x+f,S=o.doc.indexToPosition(E),R=S.row;return R+1}l.Search=d}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,l,T){var g=this&&this.__extends||(function(){var o=function(u,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(m[E]=x[E])},o(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");o(u,f);function m(){this.constructor=u}u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}})(),b=i("../lib/keys"),w=i("../lib/useragent"),d=b.KEY_MODS,h=(function(){function o(u,f){this.$init(u,f,!1)}return o.prototype.$init=function(u,f,m){this.platform=f||(w.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(u),this.$singleCommand=m},o.prototype.addCommand=function(u){this.commands[u.name]&&this.removeCommand(u),this.commands[u.name]=u,u.bindKey&&this._buildKeyHash(u)},o.prototype.removeCommand=function(u,f){var m=u&&(typeof u=="string"?u:u.name);u=this.commands[m],f||delete this.commands[m];var x=this.commandKeyBinding;for(var E in x){var S=x[E];if(S==u)delete x[E];else if(Array.isArray(S)){var R=S.indexOf(u);R!=-1&&(S.splice(R,1),S.length==1&&(x[E]=S[0]))}}},o.prototype.bindKey=function(u,f,m){if(typeof u=="object"&&u&&(m==null&&(m=u.position),u=u[this.platform]),!!u){if(typeof f=="function")return this.addCommand({exec:f,bindKey:u,name:f.name||u});u.split("|").forEach(function(x){var E="";if(x.indexOf(" ")!=-1){var S=x.split(/\s+/);x=S.pop(),S.forEach(function(k){var v=this.parseKeys(k),F=d[v.hashId]+v.key;E+=(E?" ":"")+F,this._addCommandToBinding(E,"chainKeys")},this),E+=" "}var R=this.parseKeys(x),M=d[R.hashId]+R.key;this._addCommandToBinding(E+M,f,m)},this)}},o.prototype._addCommandToBinding=function(u,f,m){var x=this.commandKeyBinding,E;if(!f)delete x[u];else if(!x[u]||this.$singleCommand)x[u]=f;else{Array.isArray(x[u])?(E=x[u].indexOf(f))!=-1&&x[u].splice(E,1):x[u]=[x[u]],typeof m!="number"&&(m=c(f));var S=x[u];for(E=0;E<S.length;E++){var R=S[E],M=c(R);if(M>m)break}S.splice(E,0,f)}},o.prototype.addCommands=function(u){u&&Object.keys(u).forEach(function(f){var m=u[f];if(m){if(typeof m=="string")return this.bindKey(m,f);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=f),this.addCommand(m))}},this)},o.prototype.removeCommands=function(u){Object.keys(u).forEach(function(f){this.removeCommand(u[f])},this)},o.prototype.bindKeys=function(u){Object.keys(u).forEach(function(f){this.bindKey(f,u[f])},this)},o.prototype._buildKeyHash=function(u){this.bindKey(u.bindKey,u)},o.prototype.parseKeys=function(u){var f=u.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(M){return M}),m=f.pop(),x=b[m];if(b.FUNCTION_KEYS[x])m=b.FUNCTION_KEYS[x].toLowerCase();else if(f.length){if(f.length==1&&f[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var E=0,S=f.length;S--;){var R=b.KEY_MODS[f[S]];if(R==null)return typeof console<"u"&&console.error("invalid modifier "+f[S]+" in "+u),!1;E|=R}return{key:m,hashId:E}},o.prototype.findKeyCommand=function(u,f){var m=d[u]+f;return this.commandKeyBinding[m]},o.prototype.handleKeyboard=function(u,f,m,x){if(!(x<0)){var E=d[f]+m,S=this.commandKeyBinding[E];return u.$keyChain&&(u.$keyChain+=" "+E,S=this.commandKeyBinding[u.$keyChain]||S),S&&(S=="chainKeys"||S[S.length-1]=="chainKeys")?(u.$keyChain=u.$keyChain||E,{command:"null"}):(u.$keyChain&&((!f||f==4)&&m.length==1?u.$keyChain=u.$keyChain.slice(0,-E.length-1):(f==-1||x>0)&&(u.$keyChain="")),{command:S})}},o.prototype.getStatusText=function(u,f){return f.$keyChain||""},o})();function c(o){return typeof o=="object"&&o.bindKey&&o.bindKey.position||(o.isDefault?-100:0)}var a=(function(o){g(u,o);function u(f,m){var x=o.call(this,f,m)||this;return x.$singleCommand=!0,x}return u})(h);a.call=function(o,u,f){h.prototype.$init.call(o,u,f,!0)},h.call=function(o,u,f){h.prototype.$init.call(o,u,f,!1)},l.HashHandler=a,l.MultiHashHandler=h}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(i,l,T){var g=this&&this.__extends||(function(){var c=function(a,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])},c(a,o)};return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(a,o);function u(){this.constructor=a}a.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}})(),b=i("../lib/oop"),w=i("../keyboard/hash_handler").MultiHashHandler,d=i("../lib/event_emitter").EventEmitter,h=(function(c){g(a,c);function a(o,u){var f=c.call(this,u,o)||this;return f.byName=f.commands,f.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),f}return a.prototype.exec=function(o,u,f){if(Array.isArray(o)){for(var m=o.length;m--;)if(this.exec(o[m],u,f))return!0;return!1}typeof o=="string"&&(o=this.commands[o]);var x={editor:u,command:o,args:f};return this.canExecute(o,u)?(x.returnValue=this._emit("exec",x),this._signal("afterExec",x),x.returnValue!==!1):(this._signal("commandUnavailable",x),!1)},a.prototype.canExecute=function(o,u){return typeof o=="string"&&(o=this.commands[o]),!(!o||u&&u.$readOnly&&!o.readOnly||this.$checkCommandState!=!1&&o.isAvailable&&!o.isAvailable(u))},a.prototype.toggleRecording=function(o){if(!this.$inReplay)return o&&o._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(u){this.macro.push([u.command,u.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},a.prototype.replay=function(o){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(o);try{this.$inReplay=!0,this.macro.forEach(function(u){typeof u=="string"?this.exec(u,o):this.exec(u[0],o,u[1])},this)}finally{this.$inReplay=!1}}},a.prototype.trimMacro=function(o){return o.map(function(u){return typeof u[0]!="string"&&(u[0]=u[0].name),u[1]||(u=u[0]),u})},a})(w);b.implement(h.prototype,d),l.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(i,l,T){var g=i("../lib/lang"),b=i("../config"),w=i("../range").Range;function d(c,a){return{win:c,mac:a}}l.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:d("Ctrl-,","Command-,"),exec:function(c){b.loadModule("ace/ext/settings_menu",function(a){a.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:d("Alt-E","F4"),exec:function(c){b.loadModule("ace/ext/error_marker",function(a){a.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:d("Alt-Shift-E","Shift-F4"),exec:function(c){b.loadModule("ace/ext/error_marker",function(a){a.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:d("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:d(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:d("Ctrl-L","Command-L"),exec:function(c,a){typeof a=="number"&&!isNaN(a)&&c.gotoLine(a),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:d("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:d("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:d("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:d("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:d("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:d("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:d("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:d("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:d("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:d("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:d("Ctrl-F","Command-F"),exec:function(c){b.loadModule("ace/ext/searchbox",function(a){a.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:d("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:d("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:d("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:d("Up","Up|Ctrl-P"),exec:function(c,a){c.navigateUp(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:d("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:d("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:d("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:d("Down","Down|Ctrl-N"),exec:function(c,a){c.navigateDown(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:d("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:d("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:d("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:d("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:d("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:d("Left","Left|Ctrl-B"),exec:function(c,a){c.navigateLeft(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:d("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:d("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:d("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:d("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:d("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:d("Right","Right|Ctrl-F"),exec:function(c,a){c.navigateRight(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:d(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:d("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:d(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:d("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:d("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:d("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:d("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:d("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:d("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:d("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:d(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var a=c.$copyWithEmptySelection&&c.selection.isEmpty(),o=a?c.selection.getLineRange():c.selection.getRange();c._emit("cut",o),o.isEmpty()||c.session.remove(o),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,a){c.$handlePaste(a)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:d("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:d("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:d("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:d("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:d("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:d("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:d("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:d("Ctrl-H","Command-Option-F"),exec:function(c){b.loadModule("ace/ext/searchbox",function(a){a.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:d("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:d("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:d("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:d("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:d("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:d("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:d("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:d("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:d("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:d("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:d("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:d("Ctrl-Shift-Backspace",null),exec:function(c){var a=c.selection.getRange();a.start.column=0,c.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:d("Ctrl-Shift-Delete",null),exec:function(c){var a=c.selection.getRange();a.end.column=Number.MAX_VALUE,c.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:d("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:d("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:d("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:d("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:d("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:d("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,a){c.insert(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,a){c.insert(g.stringRepeat(a.text||"",a.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:d(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:d("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:d("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:d("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:d(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:d("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var a=c.selection.getRange();a.start.column=a.end.column=0,a.end.row++,c.selection.setRange(a,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:d("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:d(null,null),exec:function(c){for(var a=c.selection.isBackwards(),o=a?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),u=a?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),f=c.session.doc.getLine(o.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),x=m.replace(/\n\s*/," ").length,E=c.session.doc.getLine(o.row),S=o.row+1;S<=u.row+1;S++){var R=g.stringTrimLeft(g.stringTrimRight(c.session.doc.getLine(S)));R.length!==0&&(R=" "+R),E+=R}u.row+1<c.session.doc.getLength()-1&&(E+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new w(o.row,0,u.row+2,0),E),x>0?(c.selection.moveCursorTo(o.row,o.column),c.selection.selectTo(o.row,o.column+x)):(f=c.session.doc.getLine(o.row).length>f?f+1:f,c.selection.moveCursorTo(o.row,f))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:d(null,null),exec:function(c){var a=c.session.doc.getLength()-1,o=c.session.doc.getLine(a).length,u=c.selection.rangeList.ranges,f=[];u.length<1&&(u=[c.selection.getRange()]);for(var m=0;m<u.length;m++)m==u.length-1&&(u[m].end.row===a&&u[m].end.column===o||f.push(new w(u[m].end.row,u[m].end.column,a,o))),m===0?u[m].start.row===0&&u[m].start.column===0||f.push(new w(0,0,u[m].start.row,u[m].start.column)):f.push(new w(u[m-1].end.row,u[m-1].end.column,u[m].start.row,u[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<f.length;m++)c.selection.addRange(f[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var a=c.getCursorPosition();c.selection.moveTo(a.row-1,Number.MAX_VALUE),c.insert(`
`),a.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:d("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:d(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)l.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(i,l,T){var g=i("../lib/keys"),b=(function(){function d(h){this.editor=h,this.gutterLayer=h.renderer.$gutterLayer,this.element=h.renderer.$gutter,this.lines=h.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return d.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},d.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},d.prototype.$onGutterKeyDown=function(h){if(this.annotationTooltip.isOpen){h.preventDefault(),h.keyCode===g.escape&&this.annotationTooltip.hide();return}if(h.target===this.element){if(h.keyCode!=g.enter)return;h.preventDefault();var c=this.editor.getCursorPosition().row;this.editor.isRowVisible(c)||this.editor.scrollToLine(c,!0,!0),setTimeout((function(){var a=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),o=this.$findNearestFoldLaneWidget(a),u=this.$findNearestAnnotation(a);if(!(o===null&&u===null)){var f=this.$findClosestNumber(o,u,a);if(f===o)if(this.activeLane="fold",this.activeRowIndex=o,this.$isCustomWidgetVisible(o)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=u,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(h),setTimeout((function(){this.editor._signal("gutterkeydown",new w(h,this))}).bind(this),10)},d.prototype.$handleGutterKeyboardInteraction=function(h){if(h.keyCode===g.tab){h.preventDefault();return}if(h.keyCode===g.escape){h.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(h.keyCode===g.up){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(h.keyCode===g.down){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(h.keyCode===g.left){h.preventDefault(),this.$switchLane("annotation");return}if(h.keyCode===g.right){h.preventDefault(),this.$switchLane("fold");return}if(h.keyCode===g.enter||h.keyCode===g.space){switch(h.preventDefault(),this.activeLane){case"fold":var c=this.$rowIndexToRow(this.activeRowIndex),a=this.editor.session.$gutterCustomWidgets[c];if(a)a.callbacks&&a.callbacks.onClick&&a.callbacks.onClick(h,c);else if(this.gutterLayer.session.foldWidgets[c]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),h),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==c&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(c),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},d.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},d.prototype.$isFoldWidgetVisible=function(h){var c=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),a=this.$getFoldWidget(h).style.display!=="none";return c&&a},d.prototype.$isCustomWidgetVisible=function(h){var c=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),a=!!this.$getCustomWidget(h);return c&&a},d.prototype.$isAnnotationVisible=function(h){var c=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),a=this.$getAnnotation(h).style.display!=="none";return c&&a},d.prototype.$getFoldWidget=function(h){var c=this.lines.get(h),a=c.element;return a.childNodes[1]},d.prototype.$getCustomWidget=function(h){var c=this.lines.get(h),a=c.element;return a.childNodes[3]},d.prototype.$getAnnotation=function(h){var c=this.lines.get(h),a=c.element;return a.childNodes[2]},d.prototype.$findNearestFoldLaneWidget=function(h){if(this.$isCustomWidgetVisible(h)||this.$isFoldWidgetVisible(h))return h;for(var c=0;h-c>0||h+c<this.lines.getLength()-1;){if(c++,h-c>=0&&this.$isCustomWidgetVisible(h-c))return h-c;if(h+c<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(h+c))return h+c;if(h-c>=0&&this.$isFoldWidgetVisible(h-c))return h-c;if(h+c<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(h+c))return h+c}return null},d.prototype.$findNearestAnnotation=function(h){if(this.$isAnnotationVisible(h))return h;for(var c=0;h-c>0||h+c<this.lines.getLength()-1;){if(c++,h-c>=0&&this.$isAnnotationVisible(h-c))return h-c;if(h+c<=this.lines.getLength()-1&&this.$isAnnotationVisible(h+c))return h+c}return null},d.prototype.$focusFoldWidget=function(h){if(h!=null){var c=this.$getFoldWidget(h);c.classList.add(this.editor.renderer.keyboardFocusClassName),c.focus()}},d.prototype.$focusCustomWidget=function(h){if(h!=null){var c=this.$getCustomWidget(h);c&&(c.classList.add(this.editor.renderer.keyboardFocusClassName),c.focus())}},d.prototype.$focusAnnotation=function(h){if(h!=null){var c=this.$getAnnotation(h);c.classList.add(this.editor.renderer.keyboardFocusClassName),c.focus()}},d.prototype.$blurFoldWidget=function(h){var c=this.$getFoldWidget(h);c.classList.remove(this.editor.renderer.keyboardFocusClassName),c.blur()},d.prototype.$blurCustomWidget=function(h){var c=this.$getCustomWidget(h);c&&(c.classList.remove(this.editor.renderer.keyboardFocusClassName),c.blur())},d.prototype.$blurAnnotation=function(h){var c=this.$getAnnotation(h);c.classList.remove(this.editor.renderer.keyboardFocusClassName),c.blur()},d.prototype.$moveFoldWidgetUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isFoldWidgetVisible(h)||this.$isCustomWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$isFoldWidgetVisible(h)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},d.prototype.$moveFoldWidgetDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isFoldWidgetVisible(h)||this.$isCustomWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$isFoldWidgetVisible(h)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},d.prototype.$moveAnnotationUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$moveAnnotationDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$findClosestNumber=function(h,c,a){return h===null?c:c===null||Math.abs(a-h)<=Math.abs(a-c)?h:c},d.prototype.$switchLane=function(h){switch(h){case"annotation":if(this.activeLane==="annotation")break;var c=this.$findNearestAnnotation(this.activeRowIndex);if(c==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var a=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(a===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$isCustomWidgetVisible(a)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},d.prototype.$rowIndexToRow=function(h){var c=this.lines.get(h);return c?c.row:null},d.prototype.$rowToRowIndex=function(h){for(var c=0;c<this.lines.getLength();c++){var a=this.lines.get(c);if(a.row==h)return c}return null},d})();l.GutterKeyboardHandler=b;var w=(function(){function d(h,c){this.gutterKeyboardHandler=c,this.domEvent=h}return d.prototype.getKey=function(){return g.keyCodeToString(this.domEvent.keyCode)},d.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},d.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},d.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},d})();l.GutterKeyboardEvent=w}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(i,l,T){var g=this&&this.__values||function(W){var j=typeof Symbol=="function"&&Symbol.iterator,H=j&&W[j],Q=0;if(H)return H.call(W);if(W&&typeof W.length=="number")return{next:function(){return W&&Q>=W.length&&(W=void 0),{value:W&&W[Q++],done:!W}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},b=i("./lib/oop"),w=i("./lib/dom"),d=i("./lib/lang"),h=i("./lib/useragent"),c=i("./keyboard/textinput").TextInput,a=i("./mouse/mouse_handler").MouseHandler,o=i("./mouse/fold_handler").FoldHandler,u=i("./keyboard/keybinding").KeyBinding,f=i("./edit_session").EditSession,m=i("./search").Search,x=i("./range").Range,E=i("./lib/event_emitter").EventEmitter,S=i("./commands/command_manager").CommandManager,R=i("./commands/default_commands").commands,M=i("./config"),k=i("./token_iterator").TokenIterator,v=i("./keyboard/gutter_handler").GutterKeyboardHandler,F=i("./config").nls,I=i("./clipboard"),A=i("./lib/keys"),$=i("./lib/event"),P=i("./tooltip").HoverTooltip,B=(function(){function W(j,H,Q){this.id="editor"+ ++W.$uid,this.session,this.$toDestroy=[];var X=j.getContainerElement();this.container=X,this.renderer=j,this.commands=new S(h.isMac?"mac":"win",R),typeof document=="object"&&(this.textInput=new c(j.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new o(this)),this.keyBinding=new u(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=d.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(ee,ie){ie._$emitInputEvent.schedule(31)}),this.setSession(H||Q&&Q.session||new f("")),M.resetOptions(this),Q&&this.setOptions(Q),M._signal("editor",this)}return W.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},W.prototype.startOperation=function(j){this.session.startOperation(j)},W.prototype.endOperation=function(j){this.session.endOperation(j)},W.prototype.onStartOperation=function(j){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,j||(this.previousCommand=null)},W.prototype.onEndOperation=function(j){if(this.curOp&&this.session){if(j&&j.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var H=this.curOp.command,Q=H&&H.scrollIntoView;if(Q){switch(Q){case"center-animate":Q="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var X=this.selection.getRange(),ee=this.renderer.layerConfig;(X.start.row>=ee.lastRow||X.end.row<=ee.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}Q=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},W.prototype.$historyTracker=function(j){if(this.$mergeUndoDeltas){var H=this.prevOp,Q=this.$mergeableCommands,X=H.command&&j.command.name==H.command.name;if(j.command.name=="insertstring"){var ee=j.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),X=X&&this.mergeNextCommand&&(!/\s/.test(ee)||/\s/.test(H.args)),this.mergeNextCommand=!0}else X=X&&Q.indexOf(j.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(X=!1),X?this.session.mergeUndoDeltas=!0:Q.indexOf(j.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},W.prototype.setKeyboardHandler=function(j,H){if(j&&typeof j=="string"&&j!="ace"){this.$keybindingId=j;var Q=this;M.loadModule(["keybinding",j],function(X){Q.$keybindingId==j&&Q.keyBinding.setKeyboardHandler(X&&X.handler),H&&H()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(j),H&&H()},W.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},W.prototype.setSession=function(j){if(this.session!=j){this.curOp&&this.endOperation(),this.curOp={};var H=this.session;if(H){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var Q=this.session.getSelection();Q.off("changeCursor",this.$onCursorChange),Q.off("changeSelection",this.$onSelectionChange)}this.session=j,j?(this.$onDocumentChange=this.onDocumentChange.bind(this),j.on("change",this.$onDocumentChange),this.renderer.setSession(j),this.$onChangeMode=this.onChangeMode.bind(this),j.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),j.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),j.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),j.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),j.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),j.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=j.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(j)),this._signal("changeSession",{session:j,oldSession:H}),this.curOp=null,H&&H._signal("changeEditor",{oldEditor:this}),H&&(H.$editor=null),j&&j._signal("changeEditor",{editor:this}),j&&(j.$editor=this),j&&!j.destroyed&&j.bgTokenizer.scheduleStart()}},W.prototype.getSession=function(){return this.session},W.prototype.setValue=function(j,H){return this.session.doc.setValue(j),H?H==1?this.navigateFileEnd():H==-1&&this.navigateFileStart():this.selectAll(),j},W.prototype.getValue=function(){return this.session.getValue()},W.prototype.getSelection=function(){return this.selection},W.prototype.resize=function(j){this.renderer.onResize(j)},W.prototype.setTheme=function(j,H){this.renderer.setTheme(j,H)},W.prototype.getTheme=function(){return this.renderer.getTheme()},W.prototype.setStyle=function(j,H){this.renderer.setStyle(j,H)},W.prototype.unsetStyle=function(j){this.renderer.unsetStyle(j)},W.prototype.getFontSize=function(){return this.getOption("fontSize")||w.computedStyle(this.container).fontSize},W.prototype.setFontSize=function(j){this.setOption("fontSize",j)},W.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var j=this;this.$highlightPending=!0,setTimeout(function(){j.$highlightPending=!1;var H=j.session;if(!(!H||H.destroyed)){H.$bracketHighlight&&(H.$bracketHighlight.markerIds.forEach(function(pe){H.removeMarker(pe)}),H.$bracketHighlight=null);var Q=j.getCursorPosition(),X=j.getKeyboardHandler(),ee=X&&X.$getDirectionForHighlight&&X.$getDirectionForHighlight(j),ie=H.getMatchingBracketRanges(Q,ee);if(!ie){var ne=new k(H,Q.row,Q.column),ae=ne.getCurrentToken();if(ae&&/\b(?:tag-open|tag-name)/.test(ae.type)){var re=H.getMatchingTags(Q);re&&(ie=[re.openTagName.isEmpty()?re.openTag:re.openTagName,re.closeTagName.isEmpty()?re.closeTag:re.closeTagName])}}if(!ie&&H.$mode.getMatching&&(ie=H.$mode.getMatching(j.session)),!ie){j.getHighlightIndentGuides()&&j.renderer.$textLayer.$highlightIndentGuide();return}var fe="ace_bracket";Array.isArray(ie)?ie.length==1&&(fe="ace_error_bracket"):ie=[ie],ie.length==2&&(x.comparePoints(ie[0].end,ie[1].start)==0?ie=[x.fromPoints(ie[0].start,ie[1].end)]:x.comparePoints(ie[0].start,ie[1].end)==0&&(ie=[x.fromPoints(ie[1].start,ie[0].end)])),H.$bracketHighlight={ranges:ie,markerIds:ie.map(function(pe){return H.addMarker(pe,fe,"text")})},j.getHighlightIndentGuides()&&j.renderer.$textLayer.$highlightIndentGuide()}},50)}},W.prototype.focus=function(){this.textInput.focus()},W.prototype.isFocused=function(){return this.textInput.isFocused()},W.prototype.blur=function(){this.textInput.blur()},W.prototype.onFocus=function(j){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",j))},W.prototype.onBlur=function(j){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",j))},W.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},W.prototype.onDocumentChange=function(j){var H=this.session.$useWrapMode,Q=j.start.row==j.end.row?j.end.row:1/0;this.renderer.updateLines(j.start.row,Q,H),this._signal("change",j),this.$cursorChange()},W.prototype.onTokenizerUpdate=function(j){var H=j.data;this.renderer.updateLines(H.first,H.last)},W.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},W.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},W.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},W.prototype.$updateHighlightActiveLine=function(){var j=this.getSession(),H;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(H=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(H=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(H=!1)),j.$highlightLineMarker&&!H)j.removeMarker(j.$highlightLineMarker.id),j.$highlightLineMarker=null;else if(!j.$highlightLineMarker&&H){var Q=new x(H.row,H.column,H.row,1/0);Q.id=j.addMarker(Q,"ace_active-line","screenLine"),j.$highlightLineMarker=Q}else H&&(j.$highlightLineMarker.start.row=H.row,j.$highlightLineMarker.end.row=H.row,j.$highlightLineMarker.start.column=H.column,j._signal("changeBackMarker"))},W.prototype.onSelectionChange=function(j){var H=this.session;if(H.$selectionMarker&&H.removeMarker(H.$selectionMarker),H.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var Q=this.selection.getRange(),X=this.getSelectionStyle();H.$selectionMarker=H.addMarker(Q,"ace_selection",X)}var ee=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(ee),this._signal("changeSelection")},W.prototype.$getSelectionHighLightRegexp=function(){var j=this.session,H=this.getSelectionRange();if(!(H.isEmpty()||H.isMultiLine())){var Q=H.start.column,X=H.end.column,ee=j.getLine(H.start.row),ie=ee.substring(Q,X);if(!(ie.length>5e3||!/[\w\d]/.test(ie))){var ne=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:ie}),ae=ee.substring(Q-1,X+1);if(ne.test(ae))return ne}}},W.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},W.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},W.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},W.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},W.prototype.onChangeMode=function(j){this.renderer.updateText(),this._emit("changeMode",j)},W.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},W.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},W.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},W.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},W.prototype.getCopyText=function(){var j=this.getSelectedText(),H=this.session.doc.getNewLineCharacter(),Q=!1;if(!j&&this.$copyWithEmptySelection){Q=!0;for(var X=this.selection.getAllRanges(),ee=0;ee<X.length;ee++){var ie=X[ee];ee&&X[ee-1].start.row==ie.start.row||(j+=this.session.getLine(ie.start.row)+H)}}var ne={text:j};return this._signal("copy",ne),I.lineMode=Q?ne.text:!1,ne.text},W.prototype.onCopy=function(){this.commands.exec("copy",this)},W.prototype.onCut=function(){this.commands.exec("cut",this)},W.prototype.onPaste=function(j,H){var Q={text:j,event:H};this.commands.exec("paste",this,Q)},W.prototype.$handlePaste=function(j){typeof j=="string"&&(j={text:j}),this._signal("paste",j);var H=j.text,Q=H===I.lineMode,X=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)Q?X.insert({row:this.selection.lead.row,column:0},H):this.insert(H);else if(Q)this.selection.rangeList.ranges.forEach(function(fe){X.insert({row:fe.start.row,column:0},H)});else{var ee=H.split(/\r\n|\r|\n/),ie=this.selection.rangeList.ranges,ne=ee.length==2&&(!ee[0]||!ee[1]);if(ee.length!=ie.length||ne)return this.commands.exec("insertstring",this,H);for(var ae=ie.length;ae--;){var re=ie[ae];re.isEmpty()||X.remove(re),X.insert(re.start,ee[ae])}}},W.prototype.execCommand=function(j,H){return this.commands.exec(j,this,H)},W.prototype.insert=function(j,H){var Q=this.session,X=Q.getMode(),ee=this.getCursorPosition();if(this.getBehavioursEnabled()&&!H){var ie=X.transformAction(Q.getState(ee.row),"insertion",this,Q,j);ie&&(j!==ie.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),j=ie.text)}if(j=="	"&&(j=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&j.indexOf(`
`)==-1){var ne=x.fromPoints(ee,ee);ne.end.column+=j.length,this.session.remove(ne)}}else{var ne=this.getSelectionRange();ee=this.session.remove(ne),this.clearSelection()}if(j==`
`||j==`\r
`){var pe=Q.getLine(ee.row);if(ee.column>pe.search(/\S|$/)){var ae=pe.substr(ee.column).search(/\S|$/);Q.doc.removeInLine(ee.row,ee.column,ee.column+ae)}}this.clearSelection();var re=ee.column,fe=Q.getState(ee.row),pe=Q.getLine(ee.row),he=X.checkOutdent(fe,pe,j);if(Q.insert(ee,j),ie&&ie.selection&&(ie.selection.length==2?this.selection.setSelectionRange(new x(ee.row,re+ie.selection[0],ee.row,re+ie.selection[1])):this.selection.setSelectionRange(new x(ee.row+ie.selection[0],ie.selection[1],ee.row+ie.selection[2],ie.selection[3]))),this.$enableAutoIndent){if(Q.getDocument().isNewLine(j)){var $e=X.getNextLineIndent(fe,pe.slice(0,ee.column),Q.getTabString());Q.insert({row:ee.row+1,column:0},$e)}he&&X.autoOutdent(fe,Q,ee.row)}},W.prototype.autoIndent=function(){for(var j=this.session,H=j.getMode(),Q=this.selection.isEmpty()?[new x(0,0,j.doc.getLength()-1,0)]:this.selection.getAllRanges(),X="",ee="",ie="",ne=j.getTabString(),ae=0;ae<Q.length;ae++)for(var re=Q[ae].start.row,fe=Q[ae].end.row,pe=re;pe<=fe;pe++){pe>0&&(X=j.getState(pe-1),ee=j.getLine(pe-1),ie=H.getNextLineIndent(X,ee,ne));var he=j.getLine(pe),$e=H.$getIndent(he);if(ie!==$e){if($e.length>0){var Le=new x(pe,0,pe,$e.length);j.remove(Le)}ie.length>0&&j.insert({row:pe,column:0},ie)}H.autoOutdent(X,j,pe)}},W.prototype.onTextInput=function(j,H){if(!H)return this.keyBinding.onTextInput(j);this.startOperation({command:{name:"insertstring"}});var Q=this.applyComposition.bind(this,j,H);this.selection.rangeCount?this.forEachSelection(Q):Q(),this.endOperation()},W.prototype.applyComposition=function(j,H){if(H.extendLeft||H.extendRight){var Q=this.selection.getRange();Q.start.column-=H.extendLeft,Q.end.column+=H.extendRight,Q.start.column<0&&(Q.start.row--,Q.start.column+=this.session.getLine(Q.start.row).length+1),this.selection.setRange(Q),!j&&!Q.isEmpty()&&this.remove()}if((j||!this.selection.isEmpty())&&this.insert(j,!0),H.restoreStart||H.restoreEnd){var Q=this.selection.getRange();Q.start.column-=H.restoreStart,Q.end.column-=H.restoreEnd,this.selection.setRange(Q)}},W.prototype.onCommandKey=function(j,H,Q){return this.keyBinding.onCommandKey(j,H,Q)},W.prototype.setOverwrite=function(j){this.session.setOverwrite(j)},W.prototype.getOverwrite=function(){return this.session.getOverwrite()},W.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},W.prototype.setScrollSpeed=function(j){this.setOption("scrollSpeed",j)},W.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},W.prototype.setDragDelay=function(j){this.setOption("dragDelay",j)},W.prototype.getDragDelay=function(){return this.getOption("dragDelay")},W.prototype.setSelectionStyle=function(j){this.setOption("selectionStyle",j)},W.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},W.prototype.setHighlightActiveLine=function(j){this.setOption("highlightActiveLine",j)},W.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},W.prototype.setHighlightGutterLine=function(j){this.setOption("highlightGutterLine",j)},W.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},W.prototype.setHighlightSelectedWord=function(j){this.setOption("highlightSelectedWord",j)},W.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},W.prototype.setAnimatedScroll=function(j){this.renderer.setAnimatedScroll(j)},W.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},W.prototype.setShowInvisibles=function(j){this.renderer.setShowInvisibles(j)},W.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},W.prototype.setDisplayIndentGuides=function(j){this.renderer.setDisplayIndentGuides(j)},W.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},W.prototype.setHighlightIndentGuides=function(j){this.renderer.setHighlightIndentGuides(j)},W.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},W.prototype.setShowPrintMargin=function(j){this.renderer.setShowPrintMargin(j)},W.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},W.prototype.setPrintMarginColumn=function(j){this.renderer.setPrintMarginColumn(j)},W.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},W.prototype.setReadOnly=function(j){this.setOption("readOnly",j)},W.prototype.getReadOnly=function(){return this.getOption("readOnly")},W.prototype.setBehavioursEnabled=function(j){this.setOption("behavioursEnabled",j)},W.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},W.prototype.setWrapBehavioursEnabled=function(j){this.setOption("wrapBehavioursEnabled",j)},W.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},W.prototype.setShowFoldWidgets=function(j){this.setOption("showFoldWidgets",j)},W.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},W.prototype.setFadeFoldWidgets=function(j){this.setOption("fadeFoldWidgets",j)},W.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},W.prototype.remove=function(j){this.selection.isEmpty()&&(j=="left"?this.selection.selectLeft():this.selection.selectRight());var H=this.getSelectionRange();if(this.getBehavioursEnabled()){var Q=this.session,X=Q.getState(H.start.row),ee=Q.getMode().transformAction(X,"deletion",this,Q,H);if(H.end.column===0){var ie=Q.getTextRange(H);if(ie[ie.length-1]==`
`){var ne=Q.getLine(H.end.row);/^\s+$/.test(ne)&&(H.end.column=ne.length)}}ee&&(H=ee)}this.session.remove(H),this.clearSelection()},W.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},W.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},W.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},W.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var j=this.getSelectionRange();j.start.column==j.end.column&&j.start.row==j.end.row&&(j.end.column=0,j.end.row++),this.session.remove(j),this.clearSelection()},W.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var j=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(j)},W.prototype.setGhostText=function(j,H){this.renderer.setGhostText(j,H)},W.prototype.removeGhostText=function(){this.renderer.removeGhostText()},W.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var j=this.getCursorPosition(),H=j.column;if(H!==0){var Q=this.session.getLine(j.row),X,ee;H<Q.length?(X=Q.charAt(H)+Q.charAt(H-1),ee=new x(j.row,H-1,j.row,H+1)):(X=Q.charAt(H-1)+Q.charAt(H-2),ee=new x(j.row,H-2,j.row,H)),this.session.replace(ee,X),this.session.selection.moveToPosition(ee.end)}}},W.prototype.toLowerCase=function(){var j=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var H=this.getSelectionRange(),Q=this.session.getTextRange(H);this.session.replace(H,Q.toLowerCase()),this.selection.setSelectionRange(j)},W.prototype.toUpperCase=function(){var j=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var H=this.getSelectionRange(),Q=this.session.getTextRange(H);this.session.replace(H,Q.toUpperCase()),this.selection.setSelectionRange(j)},W.prototype.indent=function(){var j=this.session,H=this.getSelectionRange();if(H.start.row<H.end.row){var Q=this.$getSelectedRows();j.indentRows(Q.first,Q.last,"	");return}else if(H.start.column<H.end.column){var X=j.getTextRange(H);if(!/^\s+$/.test(X)){var Q=this.$getSelectedRows();j.indentRows(Q.first,Q.last,"	");return}}var ee=j.getLine(H.start.row),ie=H.start,ne=j.getTabSize(),ae=j.documentToScreenColumn(ie.row,ie.column);if(this.session.getUseSoftTabs())var re=ne-ae%ne,fe=d.stringRepeat(" ",re);else{for(var re=ae%ne;ee[H.start.column-1]==" "&&re;)H.start.column--,re--;this.selection.setSelectionRange(H),fe="	"}return this.insert(fe)},W.prototype.blockIndent=function(){var j=this.$getSelectedRows();this.session.indentRows(j.first,j.last,"	")},W.prototype.blockOutdent=function(){var j=this.session.getSelection();this.session.outdentRows(j.getRange())},W.prototype.sortLines=function(){for(var j=this.$getSelectedRows(),H=this.session,Q=[],X=j.first;X<=j.last;X++)Q.push(H.getLine(X));Q.sort(function(ne,ae){return ne.toLowerCase()<ae.toLowerCase()?-1:ne.toLowerCase()>ae.toLowerCase()?1:0});for(var ee=new x(0,0,0,0),X=j.first;X<=j.last;X++){var ie=H.getLine(X);ee.start.row=X,ee.end.row=X,ee.end.column=ie.length,H.replace(ee,Q[X-j.first])}},W.prototype.toggleCommentLines=function(){var j=this.session.getState(this.getCursorPosition().row),H=this.$getSelectedRows();this.session.getMode().toggleCommentLines(j,this.session,H.first,H.last)},W.prototype.toggleBlockComment=function(){var j=this.getCursorPosition(),H=this.session.getState(j.row),Q=this.getSelectionRange();this.session.getMode().toggleBlockComment(H,this.session,Q,j)},W.prototype.getNumberAt=function(j,H){var Q=/[\-]?[0-9]+(?:\.[0-9]+)?/g;Q.lastIndex=0;for(var X=this.session.getLine(j);Q.lastIndex<H;){var ee=Q.exec(X);if(ee.index<=H&&ee.index+ee[0].length>=H){var ie={value:ee[0],start:ee.index,end:ee.index+ee[0].length};return ie}}return null},W.prototype.modifyNumber=function(j){var H=this.selection.getCursor().row,Q=this.selection.getCursor().column,X=new x(H,Q-1,H,Q),ee=this.session.getTextRange(X);if(!isNaN(parseFloat(ee))&&isFinite(ee)){var ie=this.getNumberAt(H,Q);if(ie){var ne=ie.value.indexOf(".")>=0?ie.start+ie.value.indexOf(".")+1:ie.end,ae=ie.start+ie.value.length-ne,re=parseFloat(ie.value);re*=Math.pow(10,ae),ne!==ie.end&&Q<ne?j*=Math.pow(10,ie.end-Q-1):j*=Math.pow(10,ie.end-Q),re+=j,re/=Math.pow(10,ae);var fe=re.toFixed(ae),pe=new x(H,ie.start,H,ie.end);this.session.replace(pe,fe),this.moveCursorTo(H,Math.max(ie.start+1,Q+fe.length-ie.value.length))}}else this.toggleWord()},W.prototype.toggleWord=function(){var j=this.selection.getCursor().row,H=this.selection.getCursor().column;this.selection.selectWord();var Q=this.getSelectedText(),X=this.selection.getWordRange().start.column,ee=Q.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),ie=H-X-1;ie<0&&(ie=0);var ne=0,ae=0,re=this;Q.match(/[A-Za-z0-9_]+/)&&ee.forEach(function(Se,ge){ae=ne+Se.length,ie>=ne&&ie<=ae&&(Q=Se,re.selection.clearSelection(),re.moveCursorTo(j,ne+X),re.selection.selectTo(j,ae+X)),ne=ae});for(var fe=this.$toggleWordPairs,pe,he=0;he<fe.length;he++)for(var $e=fe[he],Le=0;Le<=1;Le++){var Oe=+!Le,Ne=Q.match(new RegExp("^\\s?_?("+d.escapeRegExp($e[Le])+")\\s?$","i"));if(Ne){var be=Q.match(new RegExp("([_]|^|\\s)("+d.escapeRegExp(Ne[1])+")($|\\s)","g"));be&&(pe=Q.replace(new RegExp(d.escapeRegExp($e[Le]),"i"),function(Se){var ge=$e[Oe];return Se.toUpperCase()==Se?ge=ge.toUpperCase():Se.charAt(0).toUpperCase()==Se.charAt(0)&&(ge=ge.substr(0,0)+$e[Oe].charAt(0).toUpperCase()+ge.substr(1)),ge}),this.insert(pe),pe="")}}},W.prototype.findLinkAt=function(j,H){var Q,X,ee=this.session.getLine(j),ie=ee.split(/((?:https?|ftp):\/\/[\S]+)/),ne=H;ne<0&&(ne=0);var ae=0,re=0,fe;try{for(var pe=g(ie),he=pe.next();!he.done;he=pe.next()){var $e=he.value;if(re=ae+$e.length,ne>=ae&&ne<=re&&$e.match(/((?:https?|ftp):\/\/[\S]+)/)){fe=$e.replace(/[\s:.,'";}\]]+$/,"");break}ae=re}}catch(Le){Q={error:Le}}finally{try{he&&!he.done&&(X=pe.return)&&X.call(pe)}finally{if(Q)throw Q.error}}return fe},W.prototype.openLink=function(){var j=this.selection.getCursor(),H=this.findLinkAt(j.row,j.column);return H&&window.open(H,"_blank"),H!=null},W.prototype.removeLines=function(){var j=this.$getSelectedRows();this.session.removeFullLines(j.first,j.last),this.clearSelection()},W.prototype.duplicateSelection=function(){var j=this.selection,H=this.session,Q=j.getRange(),X=j.isBackwards();if(Q.isEmpty()){var ee=Q.start.row;H.duplicateLines(ee,ee)}else{var ie=X?Q.start:Q.end,ne=H.insert(ie,H.getTextRange(Q));Q.start=ie,Q.end=ne,j.setSelectionRange(Q,X)}},W.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},W.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},W.prototype.moveText=function(j,H,Q){return this.session.moveText(j,H,Q)},W.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},W.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},W.prototype.$moveLines=function(j,H){var Q,X,ee=this.selection;if(!ee.inMultiSelectMode||this.inVirtualSelectionMode){var ie=ee.toOrientedRange();Q=this.$getSelectedRows(ie),X=this.session.$moveLines(Q.first,Q.last,H?0:j),H&&j==-1&&(X=0),ie.moveBy(X,0),ee.fromOrientedRange(ie)}else{var ne=ee.rangeList.ranges;ee.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var ae=0,re=0,fe=ne.length,pe=0;pe<fe;pe++){var he=pe;ne[pe].moveBy(ae,0),Q=this.$getSelectedRows(ne[pe]);for(var $e=Q.first,Le=Q.last;++pe<fe;){re&&ne[pe].moveBy(re,0);var Oe=this.$getSelectedRows(ne[pe]);if(H&&Oe.first!=Le)break;if(!H&&Oe.first>Le+1)break;Le=Oe.last}for(pe--,ae=this.session.$moveLines($e,Le,H?0:j),H&&j==-1&&(he=pe+1);he<=pe;)ne[he].moveBy(ae,0),he++;H||(ae=0),re+=ae}ee.fromOrientedRange(ee.ranges[0]),ee.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},W.prototype.$getSelectedRows=function(j){return j=(j||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(j.start.row),last:this.session.getRowFoldEnd(j.end.row)}},W.prototype.onCompositionStart=function(j){this.renderer.showComposition(j)},W.prototype.onCompositionUpdate=function(j){this.renderer.setCompositionText(j)},W.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},W.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},W.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},W.prototype.isRowVisible=function(j){return j>=this.getFirstVisibleRow()&&j<=this.getLastVisibleRow()},W.prototype.isRowFullyVisible=function(j){return j>=this.renderer.getFirstFullyVisibleRow()&&j<=this.renderer.getLastFullyVisibleRow()},W.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},W.prototype.$moveByPage=function(j,H){var Q=this.renderer,X=this.renderer.layerConfig,ee=j*Math.floor(X.height/X.lineHeight);H===!0?this.selection.$moveSelection(function(){this.moveCursorBy(ee,0)}):H===!1&&(this.selection.moveCursorBy(ee,0),this.selection.clearSelection());var ie=Q.scrollTop;Q.scrollBy(0,ee*X.lineHeight),H!=null&&Q.scrollCursorIntoView(null,.5),Q.animateScrolling(ie)},W.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},W.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},W.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},W.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},W.prototype.scrollPageDown=function(){this.$moveByPage(1)},W.prototype.scrollPageUp=function(){this.$moveByPage(-1)},W.prototype.scrollToRow=function(j){this.renderer.scrollToRow(j)},W.prototype.scrollToLine=function(j,H,Q,X){this.renderer.scrollToLine(j,H,Q,X)},W.prototype.centerSelection=function(){var j=this.getSelectionRange(),H={row:Math.floor(j.start.row+(j.end.row-j.start.row)/2),column:Math.floor(j.start.column+(j.end.column-j.start.column)/2)};this.renderer.alignCursor(H,.5)},W.prototype.getCursorPosition=function(){return this.selection.getCursor()},W.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},W.prototype.getSelectionRange=function(){return this.selection.getRange()},W.prototype.selectAll=function(){this.selection.selectAll()},W.prototype.clearSelection=function(){this.selection.clearSelection()},W.prototype.moveCursorTo=function(j,H){this.selection.moveCursorTo(j,H)},W.prototype.moveCursorToPosition=function(j){this.selection.moveCursorToPosition(j)},W.prototype.jumpToMatching=function(j,H){var Q=this.getCursorPosition(),X=new k(this.session,Q.row,Q.column),ee=X.getCurrentToken(),ie=0;ee&&ee.type.indexOf("tag-name")!==-1&&(ee=X.stepBackward());var ne=ee||X.stepForward();if(ne){var ae,re=!1,fe={},pe=Q.column-ne.start,he,$e={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(ne.value.match(/[{}()\[\]]/g)){for(;pe<ne.value.length&&!re;pe++)if($e[ne.value[pe]])switch(he=$e[ne.value[pe]]+"."+ne.type.replace("rparen","lparen"),isNaN(fe[he])&&(fe[he]=0),ne.value[pe]){case"(":case"[":case"{":fe[he]++;break;case")":case"]":case"}":fe[he]--,fe[he]===-1&&(ae="bracket",re=!0);break}}else ne.type.indexOf("tag-name")!==-1&&(isNaN(fe[ne.value])&&(fe[ne.value]=0),ee.value==="<"&&ie>1?fe[ne.value]++:ee.value==="</"&&fe[ne.value]--,fe[ne.value]===-1&&(ae="tag",re=!0));re||(ee=ne,ie++,ne=X.stepForward(),pe=0)}while(ne&&!re);if(ae){var Le,Oe;if(ae==="bracket")Le=this.session.getBracketRange(Q),Le||(Le=new x(X.getCurrentTokenRow(),X.getCurrentTokenColumn()+pe-1,X.getCurrentTokenRow(),X.getCurrentTokenColumn()+pe-1),Oe=Le.start,(H||Oe.row===Q.row&&Math.abs(Oe.column-Q.column)<2)&&(Le=this.session.getBracketRange(Oe)));else if(ae==="tag"){if(!ne||ne.type.indexOf("tag-name")===-1)return;if(Le=new x(X.getCurrentTokenRow(),X.getCurrentTokenColumn()-2,X.getCurrentTokenRow(),X.getCurrentTokenColumn()-2),Le.compare(Q.row,Q.column)===0){var Ne=this.session.getMatchingTags(Q);Ne&&(Ne.openTag.contains(Q.row,Q.column)?(Le=Ne.closeTag,Oe=Le.start):(Le=Ne.openTag,Ne.closeTag.start.row===Q.row&&Ne.closeTag.start.column===Q.column?Oe=Le.end:Oe=Le.start))}Oe=Oe||Le.start}Oe=Le&&Le.cursor||Oe,Oe&&(j?Le&&H?this.selection.setRange(Le):Le&&Le.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Oe.row,Oe.column):this.selection.moveTo(Oe.row,Oe.column))}}},W.prototype.gotoLine=function(j,H,Q){this.selection.clearSelection(),this.session.unfold({row:j-1,column:H||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(j-1,H||0),this.isRowFullyVisible(j-1)||this.scrollToLine(j-1,!0,Q)},W.prototype.navigateTo=function(j,H){this.selection.moveTo(j,H)},W.prototype.navigateUp=function(j){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var H=this.selection.anchor.getPosition();return this.moveCursorToPosition(H)}this.selection.clearSelection(),this.selection.moveCursorBy(-j||-1,0)},W.prototype.navigateDown=function(j){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var H=this.selection.anchor.getPosition();return this.moveCursorToPosition(H)}this.selection.clearSelection(),this.selection.moveCursorBy(j||1,0)},W.prototype.navigateLeft=function(j){if(this.selection.isEmpty())for(j=j||1;j--;)this.selection.moveCursorLeft();else{var H=this.getSelectionRange().start;this.moveCursorToPosition(H)}this.clearSelection()},W.prototype.navigateRight=function(j){if(this.selection.isEmpty())for(j=j||1;j--;)this.selection.moveCursorRight();else{var H=this.getSelectionRange().end;this.moveCursorToPosition(H)}this.clearSelection()},W.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},W.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},W.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},W.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},W.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},W.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},W.prototype.replace=function(j,H){H&&this.$search.set(H);var Q=this.$search.find(this.session),X=0;return Q&&(this.$tryReplace(Q,j)&&(X=1),this.selection.setSelectionRange(Q),this.renderer.scrollSelectionIntoView(Q.start,Q.end)),X},W.prototype.replaceAll=function(j,H){H&&this.$search.set(H);var Q=this.$search.findAll(this.session),X=0;if(!Q.length)return X;var ee=this.getSelectionRange();this.selection.moveTo(0,0);for(var ie=Q.length-1;ie>=0;--ie)this.$tryReplace(Q[ie],j)&&X++;return this.selection.setSelectionRange(ee),X},W.prototype.$tryReplace=function(j,H){var Q=this.session.getTextRange(j);return H=this.$search.replace(Q,H),H!==null?(j.end=this.session.replace(j,H),j):null},W.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},W.prototype.find=function(j,H,Q){H||(H={}),typeof j=="string"||j instanceof RegExp?H.needle=j:typeof j=="object"&&b.mixin(H,j);var X=this.selection.getRange();H.needle==null&&(j=this.session.getTextRange(X)||this.$search.$options.needle,j||(X=this.session.getWordRange(X.start.row,X.start.column),j=this.session.getTextRange(X)),this.$search.set({needle:j})),this.$search.set(H),H.start||this.$search.set({start:X});var ee=this.$search.find(this.session);if(H.preventScroll)return ee;if(ee)return this.revealRange(ee,Q),ee;H.backwards?X.start=X.end:X.end=X.start,this.selection.setRange(X)},W.prototype.findNext=function(j,H){this.find({skipCurrent:!0,backwards:!1},j,H)},W.prototype.findPrevious=function(j,H){this.find(j,{skipCurrent:!0,backwards:!0},H)},W.prototype.revealRange=function(j,H){this.session.unfold(j),this.selection.setSelectionRange(j);var Q=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(j.start,j.end,.5),H!==!1&&this.renderer.animateScrolling(Q)},W.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},W.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},W.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(j){j.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},W.prototype.setAutoScrollEditorIntoView=function(j){if(j){var H,Q=this,X=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var ee=this.$scrollAnchor;ee.style.cssText="position:absolute",this.container.insertBefore(ee,this.container.firstChild);var ie=this.on("changeSelection",function(){X=!0}),ne=this.renderer.on("beforeRender",function(){X&&(H=Q.renderer.container.getBoundingClientRect())}),ae=this.renderer.on("afterRender",function(){if(X&&H&&(Q.isFocused()||Q.searchBox&&Q.searchBox.isFocused())){var re=Q.renderer,fe=re.$cursorLayer.$pixelPos,pe=re.layerConfig,he=fe.top-pe.offset;fe.top>=0&&he+H.top<0?X=!0:fe.top<pe.height&&fe.top+H.top+pe.lineHeight>window.innerHeight?X=!1:X=null,X!=null&&(ee.style.top=he+"px",ee.style.left=fe.left+"px",ee.style.height=pe.lineHeight+"px",ee.scrollIntoView(X)),X=H=null}});this.setAutoScrollEditorIntoView=function(re){re||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",ie),this.renderer.off("afterRender",ae),this.renderer.off("beforeRender",ne))}}},W.prototype.$resetCursorStyle=function(){var j=this.$cursorStyle||"ace",H=this.renderer.$cursorLayer;H&&(H.setSmoothBlinking(/smooth/.test(j)),H.isBlinking=!this.$readOnly&&j!="wide",w.setCssClass(H.element,"ace_slim-cursors",/slim/.test(j)))},W.prototype.prompt=function(j,H,Q){var X=this;M.loadModule("ace/ext/prompt",function(ee){ee.prompt(X,j,H,Q)})},W})();B.$uid=0,B.prototype.curOp=null,B.prototype.prevOp={},B.prototype.$mergeableCommands=["backspace","del","insertstring"],B.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],b.implement(B.prototype,E),M.defineOptions(B.prototype,"editor",{selectionStyle:{set:function(W){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:W})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(W){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(W){var j=this;if(this.textInput.setReadOnly(W),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(Q){var X=!1;if(Q&&Q.type=="keydown"){if(Q&&Q.key&&!Q.ctrlKey&&!Q.metaKey&&(Q.key==" "&&Q.preventDefault(),X=Q.key.length==1),!X)return}else Q&&Q.type!=="exec"&&(X=!0);if(X){j.hoverTooltip||(j.hoverTooltip=new P);var ee=w.createElement("div");ee.textContent=F("editor.tooltip.disable-editing","Editing is disabled"),j.hoverTooltip.isOpen||j.hoverTooltip.showForRange(j,j.getSelectionRange(),ee)}else j.hoverTooltip&&j.hoverTooltip.isOpen&&j.hoverTooltip.hide()});var H=this.textInput.getElement();W?($.addListener(H,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):($.removeListener(H,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(W){this.textInput.setCopyWithEmptySelection(W)},initialValue:!1},cursorStyle:{set:function(W){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(W){this.setAutoScrollEditorIntoView(W)}},keyboardHandler:{set:function(W){this.setKeyboardHandler(W)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(W){this.session.setValue(W)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(W){this.setSession(W)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(W){this.renderer.$gutterLayer.setShowLineNumbers(W),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),W&&this.$relativeLineNumbers?U.attach(this):U.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(W){this.$showLineNumbers&&W?U.attach(this):U.detach(this)}},placeholder:{set:function(W){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var j=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(j&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),w.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!j&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),w.addCssClass(this.container,"ace_hasPlaceholder");var H=w.createElement("div");H.className="ace_placeholder",H.textContent=this.$placeholder||"",this.renderer.placeholderNode=H,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!j&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(W){var j={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(X){X.blur(),X.renderer.scroller.focus()},readOnly:!0},H=function(X){if(X.target==this.renderer.scroller&&X.keyCode===A.enter){X.preventDefault();var ee=this.getCursorPosition().row;this.isRowVisible(ee)||this.scrollToLine(ee,!0,!0),this.focus()}},Q;W?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(h.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",F("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",F("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",H.bind(this)),this.commands.addCommand(j),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",F("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",F("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),Q||(Q=new v(this)),Q.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",H.bind(this)),this.commands.removeCommand(j),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),Q&&Q.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(W){this.$textInputAriaLabel=W},initialValue:""},enableMobileMenu:{set:function(W){this.$enableMobileMenu=W},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var U={getText:function(W,j){return(Math.abs(W.selection.lead.row-j)||j+1+(j<9?"":""))+""},getWidth:function(W,j,H){return Math.max(j.toString().length,(H.lastRow+1).toString().length,2)*H.characterWidth},update:function(W,j){j.renderer.$loop.schedule(j.renderer.CHANGE_GUTTER)},attach:function(W){W.renderer.$gutterLayer.$renderer=this,W.on("changeSelection",this.update),this.update(null,W)},detach:function(W){W.renderer.$gutterLayer.$renderer==this&&(W.renderer.$gutterLayer.$renderer=null),W.off("changeSelection",this.update),this.update(null,W)}};l.Editor=B}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(i,l,T){var g=i("../lib/dom"),b=(function(){function w(d,h){this.element=d,this.canvasHeight=h||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return w.prototype.moveContainer=function(d){g.translate(this.element,0,-(d.firstRowScreen*d.lineHeight%this.canvasHeight)-d.offset*this.$offsetCoefficient)},w.prototype.pageChanged=function(d,h){return Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)!==Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)},w.prototype.computeLineTop=function(d,h,c){var a=h.firstRowScreen*h.lineHeight,o=Math.floor(a/this.canvasHeight),u=c.documentToScreenRow(d,0)*h.lineHeight;return u-o*this.canvasHeight},w.prototype.computeLineHeight=function(d,h,c){return h.lineHeight*c.getRowLineCount(d)},w.prototype.getLength=function(){return this.cells.length},w.prototype.get=function(d){return this.cells[d]},w.prototype.shift=function(){this.$cacheCell(this.cells.shift())},w.prototype.pop=function(){this.$cacheCell(this.cells.pop())},w.prototype.push=function(d){if(Array.isArray(d)){this.cells.push.apply(this.cells,d);for(var h=g.createFragment(this.element),c=0;c<d.length;c++)h.appendChild(d[c].element);this.element.appendChild(h)}else this.cells.push(d),this.element.appendChild(d.element)},w.prototype.unshift=function(d){if(Array.isArray(d)){this.cells.unshift.apply(this.cells,d);for(var h=g.createFragment(this.element),c=0;c<d.length;c++)h.appendChild(d[c].element);this.element.firstChild?this.element.insertBefore(h,this.element.firstChild):this.element.appendChild(h)}else this.cells.unshift(d),this.element.insertAdjacentElement("afterbegin",d.element)},w.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},w.prototype.$cacheCell=function(d){d&&(d.element.remove(),this.cellCache.push(d))},w.prototype.createCell=function(d,h,c,a){var o=this.cellCache.pop();if(!o){var u=g.createElement("div");a&&a(u),this.element.appendChild(u),o={element:u,text:"",row:d}}return o.row=d,o},w})();l.Lines=b}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(i,l,T){var g=i("../lib/dom"),b=i("../lib/oop"),w=i("../lib/lang"),d=i("../lib/event_emitter").EventEmitter,h=i("./lines").Lines,c=i("../config").nls,a=(function(){function u(f){this.$showCursorMarker=null,this.element=g.createElement("div"),this.element.className="ace_layer ace_gutter-layer",f.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1}return u.prototype.setSession=function(f){this.session&&this.session.off("change",this.$updateAnnotations),this.session=f,f&&f.on("change",this.$updateAnnotations)},u.prototype.addGutterDecoration=function(f,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(f,m)},u.prototype.removeGutterDecoration=function(f,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(f,m)},u.prototype.setAnnotations=function(f){this.$annotations=[];for(var m=0;m<f.length;m++){var x=f[m],E=x.row,S=this.$annotations[E];S||(S=this.$annotations[E]={text:[],type:[],displayText:[]});var R=x.text,M=x.text,k=x.type;R=R?w.escapeHTML(R):x.html||"",M=M||x.html||"",S.text.indexOf(R)===-1&&(S.text.push(R),S.type.push(k),S.displayText.push(M));var v=x.className;v?S.className=v:k==="error"?S.className=" ace_error":k==="security"&&!/\bace_error\b/.test(S.className)?S.className=" ace_security":k==="warning"&&!/\bace_(error|security)\b/.test(S.className)?S.className=" ace_warning":k==="info"&&!S.className?S.className=" ace_info":k==="hint"&&!S.className&&(S.className=" ace_hint")}},u.prototype.$updateAnnotations=function(f){if(this.$annotations.length){var m=f.start.row,x=f.end.row-m;if(x!==0)if(f.action=="remove")this.$annotations.splice(m,x+1,null);else{var E=new Array(x+1);E.unshift(m,1),this.$annotations.splice.apply(this.$annotations,E)}}},u.prototype.update=function(f){this.config=f;var m=this.session,x=f.firstRow,E=Math.min(f.lastRow+f.gutterOffset,m.getLength()-1);this.oldLastRow=E,this.config=f,this.$lines.moveContainer(f),this.$updateCursorRow();for(var S=m.getNextFoldLine(x),R=S?S.start.row:1/0,M=null,k=-1,v=x;;){if(v>R&&(v=S.end.row+1,S=m.getNextFoldLine(v,S),R=S?S.start.row:1/0),v>E){for(;this.$lines.getLength()>k+1;)this.$lines.pop();break}M=this.$lines.get(++k),M?M.row=v:(M=this.$lines.createCell(v,f,this.session,o),this.$lines.push(M)),this.$renderCell(M,f,S,v),v++}this._signal("afterRender"),this.$updateGutterWidth(f),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},u.prototype.$updateGutterWidth=function(f){var m=this.session,x=m.gutterRenderer||this.$renderer,E=m.$firstLineNumber,S=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(S=m.getLength()+E-1);var R=x?x.getWidth(m,S,f):S.toString().length*f.characterWidth,M=this.$padding||this.$computePadding();R+=M.left+M.right,R!==this.gutterWidth&&!isNaN(R)&&(this.gutterWidth=R,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",R))},u.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var f=this.session.selection.getCursor();this.$cursorRow!==f.row&&(this.$cursorRow=f.row)}},u.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var f=this.session.selection.cursor.row;if(this.$cursorRow=f,!(this.$cursorCell&&this.$cursorCell.row==f)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var x=0;x<m.length;x++){var E=m[x];if(E.row>=this.$cursorRow){if(E.row>this.$cursorRow){var S=this.session.getFoldLine(this.$cursorRow);if(x>0&&S&&S.start.row==m[x-1].row)E=m[x-1];else break}E.element.className="ace_gutter-active-line "+E.element.className,this.$cursorCell=E;break}}}}},u.prototype.$updateCursorMarker=function(){if(this.session){var f=this.session;this.$highlightElement||(this.$highlightElement=g.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var m=f.selection.cursor,x=this.config,E=this.$lines,S=x.firstRowScreen*x.lineHeight,R=Math.floor(S/E.canvasHeight),M=f.documentToScreenRow(m)*x.lineHeight,k=M-R*E.canvasHeight;g.setStyle(this.$highlightElement.style,"height",x.lineHeight+"px"),g.setStyle(this.$highlightElement.style,"top",k+"px")}},u.prototype.scrollLines=function(f){var m=this.config;if(this.config=f,this.$updateCursorRow(),this.$lines.pageChanged(m,f))return this.update(f);this.$lines.moveContainer(f);var x=Math.min(f.lastRow+f.gutterOffset,this.session.getLength()-1),E=this.oldLastRow;if(this.oldLastRow=x,!m||E<f.firstRow)return this.update(f);if(x<m.firstRow)return this.update(f);if(m.firstRow<f.firstRow)for(var S=this.session.getFoldedRowCount(m.firstRow,f.firstRow-1);S>0;S--)this.$lines.shift();if(E>x)for(var S=this.session.getFoldedRowCount(x+1,E);S>0;S--)this.$lines.pop();f.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(f,f.firstRow,m.firstRow-1)),x>E&&this.$lines.push(this.$renderLines(f,E+1,x)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(f)},u.prototype.$renderLines=function(f,m,x){for(var E=[],S=m,R=this.session.getNextFoldLine(S),M=R?R.start.row:1/0;S>M&&(S=R.end.row+1,R=this.session.getNextFoldLine(S,R),M=R?R.start.row:1/0),!(S>x);){var k=this.$lines.createCell(S,f,this.session,o);this.$renderCell(k,f,R,S),E.push(k),S++}return E},u.prototype.$renderCell=function(f,m,x,E){var S=f.element,R=this.session,M=S.childNodes[0],k=S.childNodes[1],v=S.childNodes[2],F=S.childNodes[3],I=v.firstChild,A=R.$firstLineNumber,$=R.$breakpoints,P=R.$decorations,B=R.gutterRenderer||this.$renderer,U=this.$showFoldWidgets&&R.foldWidgets,W=x?x.start.row:Number.MAX_VALUE,j=m.lineHeight+"px",H=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",Q=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",X=(B?B.getText(R,E):E+A).toString();if(this.$highlightGutterLine&&(E==this.$cursorRow||x&&E<this.$cursorRow&&E>=W&&this.$cursorRow<=x.end.row)&&(H+="ace_gutter-active-line ",this.$cursorCell!=f&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=f)),$[E]&&(H+=$[E]),P[E]&&(H+=P[E]),this.$annotations[E]&&E!==W&&(H+=this.$annotations[E].className),U){var ee=U[E];ee==null&&(ee=U[E]=R.getFoldWidget(E))}if(ee){var ie="ace_fold-widget ace_"+ee,ne=ee=="start"&&E==W&&E<x.end.row;if(ne){ie+=" ace_closed";for(var ae="",re=!1,fe=E+1;fe<=x.end.row;fe++)if(this.$annotations[fe]){if(this.$annotations[fe].className===" ace_error"){re=!0,ae=" ace_error_fold";break}this.$annotations[fe].className===" ace_security"?(re=!0,ae=" ace_security_fold"):this.$annotations[fe].className===" ace_warning"&&ae!==" ace_security_fold"&&(re=!0,ae=" ace_warning_fold")}H+=ae}else ie+=" ace_open";k.className!=ie&&(k.className=ie),g.setStyle(k.style,"height",j),g.setStyle(k.style,"display","inline-block"),k.setAttribute("role","button"),k.setAttribute("tabindex","-1");var pe=R.getFoldWidgetRange(E);pe?k.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[pe.start.row+1,pe.end.row+1])):x?k.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[x.start.row+1,x.end.row+1])):k.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[E+1])),ne?(k.setAttribute("aria-expanded","false"),k.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(k.setAttribute("aria-expanded","true"),k.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else k&&(g.setStyle(k.style,"display","none"),k.setAttribute("tabindex","0"),k.removeAttribute("role"),k.removeAttribute("aria-label"));var he=this.session.$gutterCustomWidgets[E];if(he?this.$addCustomWidget(E,he,f):F&&this.$removeCustomWidget(E,f),re&&this.$showFoldedAnnotations){v.className="ace_gutter_annotation",I.className=Q,I.className+=ae,g.setStyle(I.style,"height",j),g.setStyle(v.style,"display","block"),g.setStyle(v.style,"height",j);var $e;switch(ae){case" ace_error_fold":$e=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[X]);break;case" ace_security_fold":$e=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[X]);break;case" ace_warning_fold":$e=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[X]);break}v.setAttribute("aria-label",$e),v.setAttribute("tabindex","-1"),v.setAttribute("role","button")}else if(this.$annotations[E]){v.className="ace_gutter_annotation",I.className=Q,this.$useSvgGutterIcons?I.className+=this.$annotations[E].className:S.classList.add(this.$annotations[E].className.replace(" ","")),g.setStyle(I.style,"height",j),g.setStyle(v.style,"display","block"),g.setStyle(v.style,"height",j);var $e;switch(this.$annotations[E].className){case" ace_error":$e=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[X]);break;case" ace_security":$e=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[X]);break;case" ace_warning":$e=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[X]);break;case" ace_info":$e=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[X]);break;case" ace_hint":$e=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[X]);break}v.setAttribute("aria-label",$e),v.setAttribute("tabindex","-1"),v.setAttribute("role","button")}else g.setStyle(v.style,"display","none"),v.removeAttribute("aria-label"),v.removeAttribute("role"),v.setAttribute("tabindex","0");return X!==M.data&&(M.data=X),S.className!=H&&(S.className=H),g.setStyle(f.element.style,"height",this.$lines.computeLineHeight(E,m,R)+"px"),g.setStyle(f.element.style,"top",this.$lines.computeLineTop(E,m,R)+"px"),f.text=X,v.style.display==="none"&&k.style.display==="none"&&!he?f.element.setAttribute("aria-hidden",!0):f.element.setAttribute("aria-hidden",!1),f},u.prototype.setHighlightGutterLine=function(f){this.$highlightGutterLine=f,!f&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},u.prototype.setShowLineNumbers=function(f){this.$renderer=!f&&{getWidth:function(){return 0},getText:function(){return""}}},u.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},u.prototype.setShowFoldWidgets=function(f){f?g.addCssClass(this.element,"ace_folding-enabled"):g.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=f,this.$padding=null},u.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},u.prototype.$hideFoldWidget=function(f,m){var x=m||this.$getGutterCell(f);if(x&&x.element){var E=x.element.childNodes[1];E&&g.setStyle(E.style,"display","none")}},u.prototype.$showFoldWidget=function(f,m){var x=m||this.$getGutterCell(f);if(x&&x.element){var E=x.element.childNodes[1];E&&this.session.foldWidgets&&this.session.foldWidgets[x.row]&&g.setStyle(E.style,"display","inline-block")}},u.prototype.$getGutterCell=function(f){var m=this.$lines.cells,x=0,E=m.length-1;if(!(f<m[0].row||f>m[E].row)){for(;x<=E;){var S=Math.floor((x+E)/2),R=m[S];if(R.row>f)E=S-1;else if(R.row<f)x=S+1;else return R}return R}},u.prototype.$addCustomWidget=function(f,m,x){var E=m.className,S=m.label,R=m.title,M=m.callbacks;this.session.$gutterCustomWidgets[f]={className:E,label:S,title:R,callbacks:M},this.$hideFoldWidget(f,x);var k=x||this.$getGutterCell(f);if(k&&k.element){var v=k.element.querySelector(".ace_custom-widget");v&&v.remove(),v=g.createElement("span"),v.className="ace_custom-widget ".concat(E),v.setAttribute("tabindex","-1"),v.setAttribute("role","button"),v.setAttribute("aria-label",S),v.setAttribute("title",R),g.setStyle(v.style,"display","inline-block"),g.setStyle(v.style,"height","inherit"),M&&M.onClick&&v.addEventListener("click",function(F){M.onClick(F,f),F.stopPropagation()}),k.element.appendChild(v)}},u.prototype.$removeCustomWidget=function(f,m){delete this.session.$gutterCustomWidgets[f],this.$showFoldWidget(f,m);var x=m||this.$getGutterCell(f);if(x&&x.element){var E=x.element.querySelector(".ace_custom-widget");E&&x.element.removeChild(E)}},u.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var f=g.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(f.borderLeftWidth)||0)+(parseInt(f.paddingLeft)||0)+1,this.$padding.right=(parseInt(f.borderRightWidth)||0)+(parseInt(f.paddingRight)||0),this.$padding},u.prototype.getRegion=function(f){var m=this.$padding||this.$computePadding(),x=this.element.getBoundingClientRect();if(f.x<m.left+x.left)return"markers";if(this.$showFoldWidgets&&f.x>x.right-m.right)return"foldWidgets"},u})();a.prototype.$fixedWidth=!1,a.prototype.$highlightGutterLine=!0,a.prototype.$renderer=void 0,a.prototype.$showLineNumbers=!0,a.prototype.$showFoldWidgets=!0,b.implement(a.prototype,d);function o(u){var f=document.createTextNode("");u.appendChild(f);var m=g.createElement("span");u.appendChild(m);var x=g.createElement("span");u.appendChild(x);var E=g.createElement("span");return x.appendChild(E),u}l.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(i,l,T){var g=i("../range").Range,b=i("../lib/dom"),w=(function(){function h(c){this.element=b.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return h.prototype.setPadding=function(c){this.$padding=c},h.prototype.setSession=function(c){this.session=c},h.prototype.setMarkers=function(c){this.markers=c},h.prototype.elt=function(c,a){var o=this.i!=-1&&this.element.childNodes[this.i];o?this.i++:(o=document.createElement("div"),this.element.appendChild(o),this.i=-1),o.style.cssText=a,o.className=c},h.prototype.update=function(c){if(c){this.config=c,this.i=0;var a;for(var o in this.markers){var u=this.markers[o];if(!u.range){u.update(a,this,this.session,c);continue}var f=u.range.clipRows(c.firstRow,c.lastRow);if(!f.isEmpty())if(f=f.toScreenRange(this.session),u.renderer){var m=this.$getTop(f.start.row,c),x=this.$padding+f.start.column*c.characterWidth;u.renderer(a,f,x,m,c)}else u.type=="fullLine"?this.drawFullLineMarker(a,f,u.clazz,c):u.type=="screenLine"?this.drawScreenLineMarker(a,f,u.clazz,c):f.isMultiLine()?u.type=="text"?this.drawTextMarker(a,f,u.clazz,c):this.drawMultiLineMarker(a,f,u.clazz,c):this.drawSingleLineMarker(a,f,u.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},h.prototype.$getTop=function(c,a){return(c-a.firstRowScreen)*a.lineHeight},h.prototype.drawTextMarker=function(c,a,o,u,f){for(var m=this.session,x=a.start.row,E=a.end.row,S=x,R=0,M=0,k=m.getScreenLastRowColumn(S),v=new g(S,a.start.column,S,M);S<=E;S++)v.start.row=v.end.row=S,v.start.column=S==x?a.start.column:m.getRowWrapIndent(S),v.end.column=k,R=M,M=k,k=S+1<E?m.getScreenLastRowColumn(S+1):S==E?0:a.end.column,this.drawSingleLineMarker(c,v,o+(S==x?" ace_start":"")+" ace_br"+d(S==x||S==x+1&&a.start.column,R<M,M>k,S==E),u,S==E?0:1,f)},h.prototype.drawMultiLineMarker=function(c,a,o,u,f){var m=this.$padding,x=u.lineHeight,E=this.$getTop(a.start.row,u),S=m+a.start.column*u.characterWidth;if(f=f||"",this.session.$bidiHandler.isBidiRow(a.start.row)){var R=a.clone();R.end.row=R.start.row,R.end.column=this.session.getLine(R.start.row).length,this.drawBidiSingleLineMarker(c,R,o+" ace_br1 ace_start",u,null,f)}else this.elt(o+" ace_br1 ace_start","height:"+x+"px;right:"+m+"px;top:"+E+"px;left:"+S+"px;"+(f||""));if(this.session.$bidiHandler.isBidiRow(a.end.row)){var R=a.clone();R.start.row=R.end.row,R.start.column=0,this.drawBidiSingleLineMarker(c,R,o+" ace_br12",u,null,f)}else{E=this.$getTop(a.end.row,u);var M=a.end.column*u.characterWidth;this.elt(o+" ace_br12","height:"+x+"px;width:"+M+"px;top:"+E+"px;left:"+m+"px;"+(f||""))}if(x=(a.end.row-a.start.row-1)*u.lineHeight,!(x<=0)){E=this.$getTop(a.start.row+1,u);var k=(a.start.column?1:0)|(a.end.column?0:8);this.elt(o+(k?" ace_br"+k:""),"height:"+x+"px;right:"+m+"px;top:"+E+"px;left:"+m+"px;"+(f||""))}},h.prototype.drawSingleLineMarker=function(c,a,o,u,f,m){if(this.session.$bidiHandler.isBidiRow(a.start.row))return this.drawBidiSingleLineMarker(c,a,o,u,f,m);var x=u.lineHeight,E=(a.end.column+(f||0)-a.start.column)*u.characterWidth,S=this.$getTop(a.start.row,u),R=this.$padding+a.start.column*u.characterWidth;this.elt(o,"height:"+x+"px;width:"+E+"px;top:"+S+"px;left:"+R+"px;"+(m||""))},h.prototype.drawBidiSingleLineMarker=function(c,a,o,u,f,m){var x=u.lineHeight,E=this.$getTop(a.start.row,u),S=this.$padding,R=this.session.$bidiHandler.getSelections(a.start.column,a.end.column);R.forEach(function(M){this.elt(o,"height:"+x+"px;width:"+(M.width+(f||0))+"px;top:"+E+"px;left:"+(S+M.left)+"px;"+(m||""))},this)},h.prototype.drawFullLineMarker=function(c,a,o,u,f){var m=this.$getTop(a.start.row,u),x=u.lineHeight;a.start.row!=a.end.row&&(x+=this.$getTop(a.end.row,u)-m),this.elt(o,"height:"+x+"px;top:"+m+"px;left:0;right:0;"+(f||""))},h.prototype.drawScreenLineMarker=function(c,a,o,u,f){var m=this.$getTop(a.start.row,u),x=u.lineHeight;this.elt(o,"height:"+x+"px;top:"+m+"px;left:0;right:0;"+(f||""))},h})();w.prototype.$padding=0;function d(h,c,a,o){return(h?1:0)|(c?2:0)|(a?4:0)|(o?8:0)}l.Marker=w}),ace.define("ace/layer/text_util",["require","exports","module"],function(i,l,T){var g=new Set(["text","rparen","lparen"]);l.isTextToken=function(b){return g.has(b)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(i,l,T){var g=i("../lib/oop"),b=i("../lib/dom"),w=i("../lib/lang"),d=i("./lines").Lines,h=i("../lib/event_emitter").EventEmitter,c=i("../config").nls,a=i("./text_util").isTextToken,o=(function(){function u(f){this.dom=b,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",f.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new d(this.element)}return u.prototype.$updateEolChar=function(){var f=this.session.doc,m=f.getNewLineCharacter()==`
`&&f.getNewLineMode()!="windows",x=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=x)return this.EOL_CHAR=x,!0},u.prototype.setPadding=function(f){this.$padding=f,this.element.style.margin="0 "+f+"px"},u.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},u.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},u.prototype.$setFontMetrics=function(f){this.$fontMetrics=f,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},u.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},u.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},u.prototype.setSession=function(f){this.session=f,f&&this.$computeTabString()},u.prototype.setShowInvisibles=function(f){return this.showInvisibles==f?!1:(this.showInvisibles=f,typeof f=="string"?(this.showSpaces=/tab/i.test(f),this.showTabs=/space/i.test(f),this.showEOL=/eol/i.test(f)):this.showSpaces=this.showTabs=this.showEOL=f,this.$computeTabString(),!0)},u.prototype.setDisplayIndentGuides=function(f){return this.displayIndentGuides==f?!1:(this.displayIndentGuides=f,this.$computeTabString(),!0)},u.prototype.setHighlightIndentGuides=function(f){return this.$highlightIndentGuides===f?!1:(this.$highlightIndentGuides=f,f)},u.prototype.$computeTabString=function(){var f=this.session.getTabSize();this.tabSize=f;for(var m=this.$tabStrings=[0],x=1;x<f+1;x++)if(this.showTabs){var E=this.dom.createElement("span");E.className="ace_invisible ace_invisible_tab",E.textContent=w.stringRepeat(this.TAB_CHAR,x),m.push(E)}else m.push(this.dom.createTextNode(w.stringRepeat(" ",x),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var S="ace_indent-guide",R=this.showSpaces?" ace_invisible ace_invisible_space":"",M=this.showSpaces?w.stringRepeat(this.SPACE_CHAR,this.tabSize):w.stringRepeat(" ",this.tabSize),k=this.showTabs?" ace_invisible ace_invisible_tab":"",v=this.showTabs?w.stringRepeat(this.TAB_CHAR,this.tabSize):M,E=this.dom.createElement("span");E.className=S+R,E.textContent=M,this.$tabStrings[" "]=E;var E=this.dom.createElement("span");E.className=S+k,E.textContent=v,this.$tabStrings["	"]=E}},u.prototype.updateLines=function(f,m,x){if(this.config.lastRow!=f.lastRow||this.config.firstRow!=f.firstRow)return this.update(f);this.config=f;for(var E=Math.max(m,f.firstRow),S=Math.min(x,f.lastRow),R=this.element.childNodes,M=0,v=f.firstRow;v<E;v++){var F=this.session.getFoldLine(v);if(F)if(F.containsRow(E)){E=F.start.row;break}else v=F.end.row;M++}for(var k=!1,v=E,F=this.session.getNextFoldLine(v),I=F?F.start.row:1/0;v>I&&(v=F.end.row+1,F=this.session.getNextFoldLine(v,F),I=F?F.start.row:1/0),!(v>S);){var A=R[M++];if(A){this.dom.removeChildren(A),this.$renderLine(A,v,v==I?F:!1),k&&(A.style.top=this.$lines.computeLineTop(v,f,this.session)+"px");var $=f.lineHeight*this.session.getRowLength(v)+"px";A.style.height!=$&&(k=!0,A.style.height=$)}v++}if(k)for(;M<this.$lines.cells.length;){var P=this.$lines.cells[M++];P.element.style.top=this.$lines.computeLineTop(P.row,f,this.session)+"px"}},u.prototype.scrollLines=function(f){var m=this.config;if(this.config=f,this.$lines.pageChanged(m,f))return this.update(f);this.$lines.moveContainer(f);var x=f.lastRow,E=m?m.lastRow:-1;if(!m||E<f.firstRow)return this.update(f);if(x<m.firstRow)return this.update(f);if(!m||m.lastRow<f.firstRow)return this.update(f);if(f.lastRow<m.firstRow)return this.update(f);if(m.firstRow<f.firstRow)for(var S=this.session.getFoldedRowCount(m.firstRow,f.firstRow-1);S>0;S--)this.$lines.shift();if(m.lastRow>f.lastRow)for(var S=this.session.getFoldedRowCount(f.lastRow+1,m.lastRow);S>0;S--)this.$lines.pop();f.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(f,f.firstRow,m.firstRow-1)),f.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(f,m.lastRow+1,f.lastRow)),this.$highlightIndentGuide()},u.prototype.$renderLinesFragment=function(f,m,x){for(var E=[],S=m,R=this.session.getNextFoldLine(S),M=R?R.start.row:1/0;S>M&&(S=R.end.row+1,R=this.session.getNextFoldLine(S,R),M=R?R.start.row:1/0),!(S>x);){var k=this.$lines.createCell(S,f,this.session),v=k.element;this.dom.removeChildren(v),b.setStyle(v.style,"height",this.$lines.computeLineHeight(S,f,this.session)+"px"),b.setStyle(v.style,"top",this.$lines.computeLineTop(S,f,this.session)+"px"),this.$renderLine(v,S,S==M?R:!1),this.$useLineGroups()?v.className="ace_line_group":v.className="ace_line",E.push(k),S++}return E},u.prototype.update=function(f){this.$lines.moveContainer(f),this.config=f;for(var m=f.firstRow,x=f.lastRow,E=this.$lines;E.getLength();)E.pop();E.push(this.$renderLinesFragment(f,m,x))},u.prototype.$renderToken=function(f,m,x,E){for(var S=this,R=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,M=this.dom.createFragment(this.element),k,v=0;k=R.exec(E);){var F=k[1],I=k[2],A=k[3],$=k[4],P=k[5];if(!(!S.showSpaces&&I)){var B=v!=k.index?E.slice(v,k.index):"";if(v=k.index+k[0].length,B&&M.appendChild(this.dom.createTextNode(B,this.element)),F){var U=S.session.getScreenTabSize(m+k.index),W=S.$tabStrings[U].cloneNode(!0);W.charCount=1,M.appendChild(W),m+=U-1}else if(I)if(S.showSpaces){var j=this.dom.createElement("span");j.className="ace_invisible ace_invisible_space",j.textContent=w.stringRepeat(S.SPACE_CHAR,I.length),M.appendChild(j)}else M.appendChild(this.dom.createTextNode(I,this.element));else if(A){var j=this.dom.createElement("span");j.className="ace_invisible ace_invisible_space ace_invalid",j.textContent=w.stringRepeat(S.SPACE_CHAR,A.length),M.appendChild(j)}else if($){m+=1;var j=this.dom.createElement("span");j.style.width=S.config.characterWidth*2+"px",j.className=S.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",j.textContent=S.showSpaces?S.SPACE_CHAR:$,M.appendChild(j)}else if(P){m+=1;var j=this.dom.createElement("span");j.style.width=S.config.characterWidth*2+"px",j.className="ace_cjk",j.textContent=P,M.appendChild(j)}}}if(M.appendChild(this.dom.createTextNode(v?E.slice(v):E,this.element)),a(x.type))f.appendChild(M);else{var H="ace_"+x.type.replace(/\./g," ace_"),j=this.dom.createElement("span");x.type=="fold"&&(j.style.width=x.value.length*this.config.characterWidth+"px",j.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),j.className=H,j.appendChild(M),f.appendChild(j)}return m+E.length},u.prototype.renderIndentGuide=function(f,m,x){var E=m.search(this.$indentGuideRe);if(E<=0||E>=x)return m;if(m[0]==" "){E-=E%this.tabSize;for(var S=E/this.tabSize,R=0;R<S;R++)f.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(E)}else if(m[0]=="	"){for(var R=0;R<E;R++)f.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(E)}return this.$highlightIndentGuide(),m},u.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var f=this.session.doc.$lines;if(f){var m=this.session.selection.getCursor(),x=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,E=Math.floor(x/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:E,start:m.row};var S=this.session.$bracketHighlight;if(S){for(var R=this.session.$bracketHighlight.ranges,M=0;M<R.length;M++)if(m.row!==R[M].start.row){this.$highlightIndentGuideMarker.end=R[M].start.row+1,m.row>R[M].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&f[m.row]!==""&&m.column===f[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var M=m.row+1;M<f.length;M++){var k=f[M],v=/^\s*/.exec(k)[0].length;if(k!==""&&(this.$highlightIndentGuideMarker.end=M,v<=x))break}}this.$renderHighlightIndentGuide()}}},u.prototype.$clearActiveIndentGuide=function(){for(var f=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<f.length;m++)f[m].classList.remove("ace_indent-guide-active")},u.prototype.$setIndentGuideActive=function(f,m){var x=this.session.doc.getLine(f.row);if(x!==""){var E=f.element;if(f.element.classList&&f.element.classList.contains("ace_line_group"))if(f.element.childNodes.length>0)E=f.element.childNodes[0];else return;var S=E.childNodes;if(S){var R=S[m-1];R&&R.classList&&R.classList.contains("ace_indent-guide")&&R.classList.add("ace_indent-guide-active")}}},u.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var f=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var x=0;x<f.length;x++){var E=f[x];if(this.$highlightIndentGuideMarker.end&&E.row>=this.$highlightIndentGuideMarker.start+1){if(E.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(E,m)}}else for(var x=f.length-1;x>=0;x--){var E=f[x];if(this.$highlightIndentGuideMarker.end&&E.row<this.$highlightIndentGuideMarker.start){if(E.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(E,m)}}}},u.prototype.$createLineElement=function(f){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},u.prototype.$renderWrappedLine=function(f,m,x){var E=0,S=0,R=x[0],M=0,k=this.$createLineElement();f.appendChild(k);for(var v=0;v<m.length;v++){var F=m[v],I=F.value;if(v==0&&this.displayIndentGuides){if(E=I.length,I=this.renderIndentGuide(k,I,R),!I)continue;E-=I.length}if(E+I.length<R)M=this.$renderToken(k,M,F,I),E+=I.length;else{for(;E+I.length>=R;){M=this.$renderToken(k,M,F,I.substring(0,R-E)),I=I.substring(R-E),E=R,k=this.$createLineElement(),f.appendChild(k);var A=this.dom.createTextNode(w.stringRepeat("",x.indent),this.element);A.charCount=0,k.appendChild(A),S++,M=0,R=x[S]||Number.MAX_VALUE}I.length!=0&&(E+=I.length,M=this.$renderToken(k,M,F,I))}}x[x.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(k,M,null,"",!0)},u.prototype.$renderSimpleLine=function(f,m){for(var x=0,E=0;E<m.length;E++){var S=m[E],R=S.value;if(!(E==0&&this.displayIndentGuides&&(R=this.renderIndentGuide(f,R),!R))){if(x+R.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(f,x,S,R);x=this.$renderToken(f,x,S,R)}}},u.prototype.$renderOverflowMessage=function(f,m,x,E,S){x&&this.$renderToken(f,m,x,E.slice(0,this.MAX_LINE_LENGTH-m));var R=this.dom.createElement("span");R.className="ace_inline_button ace_keyword ace_toggle_wrap",R.textContent=S?"<hide>":"<click to see more...>",f.appendChild(R)},u.prototype.$renderLine=function(f,m,x){if(!x&&x!=!1&&(x=this.session.getFoldLine(m)),x)var E=this.$getFoldLineTokens(m,x);else var E=this.session.getTokens(m);var S=f;if(E.length){var R=this.session.getRowSplitData(m);if(R&&R.length){this.$renderWrappedLine(f,E,R);var S=f.lastChild}else{var S=f;this.$useLineGroups()&&(S=this.$createLineElement(),f.appendChild(S)),this.$renderSimpleLine(S,E)}}else this.$useLineGroups()&&(S=this.$createLineElement(),f.appendChild(S));if(this.showEOL&&S){x&&(m=x.end.row);var M=this.dom.createElement("span");M.className="ace_invisible ace_invisible_eol",M.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,S.appendChild(M)}},u.prototype.$getFoldLineTokens=function(f,m){var x=this.session,E=[];function S(M,k,v){for(var F=0,I=0;I+M[F].value.length<k;)if(I+=M[F].value.length,F++,F==M.length)return;if(I!=k){var A=M[F].value.substring(k-I);A.length>v-k&&(A=A.substring(0,v-k)),E.push({type:M[F].type,value:A}),I=k+A.length,F+=1}for(;I<v&&F<M.length;){var A=M[F].value;A.length+I>v?E.push({type:M[F].type,value:A.substring(0,v-I)}):E.push(M[F]),I+=A.length,F+=1}}var R=x.getTokens(f);return m.walk(function(M,k,v,F,I){M!=null?E.push({type:"fold",value:M}):(I&&(R=x.getTokens(k)),R.length&&S(R,F,v))},m.end.row,this.session.getLine(m.end.row).length),E},u.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},u})();o.prototype.EOF_CHAR="",o.prototype.EOL_CHAR_LF="",o.prototype.EOL_CHAR_CRLF="",o.prototype.EOL_CHAR=o.prototype.EOL_CHAR_LF,o.prototype.TAB_CHAR="",o.prototype.SPACE_CHAR="",o.prototype.$padding=0,o.prototype.MAX_LINE_LENGTH=1e4,o.prototype.showInvisibles=!1,o.prototype.showSpaces=!1,o.prototype.showTabs=!1,o.prototype.showEOL=!1,o.prototype.displayIndentGuides=!0,o.prototype.$highlightIndentGuides=!0,o.prototype.$tabStrings=[],o.prototype.destroy={},o.prototype.onChangeTabSize=o.prototype.$computeTabString,g.implement(o.prototype,h),l.Text=o}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(i,l,T){var g=i("../lib/dom"),b=(function(){function w(d){this.element=g.createElement("div"),this.element.className="ace_layer ace_cursor-layer",d.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),g.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return w.prototype.$updateOpacity=function(d){for(var h=this.cursors,c=h.length;c--;)g.setStyle(h[c].style,"opacity",d?"":"0")},w.prototype.$startCssAnimation=function(){for(var d=this.cursors,h=d.length;h--;)d[h].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&g.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},w.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,g.removeCssClass(this.element,"ace_animate-blinking")},w.prototype.setPadding=function(d){this.$padding=d},w.prototype.setSession=function(d){this.session=d},w.prototype.setBlinking=function(d){d!=this.isBlinking&&(this.isBlinking=d,this.restartTimer())},w.prototype.setBlinkInterval=function(d){d!=this.blinkInterval&&(this.blinkInterval=d,this.restartTimer())},w.prototype.setSmoothBlinking=function(d){d!=this.smoothBlinking&&(this.smoothBlinking=d,g.setCssClass(this.element,"ace_smooth-blinking",d),this.$updateCursors(!0),this.restartTimer())},w.prototype.addCursor=function(){var d=g.createElement("div");return d.className="ace_cursor",this.element.appendChild(d),this.cursors.push(d),d},w.prototype.removeCursor=function(){if(this.cursors.length>1){var d=this.cursors.pop();return d.parentNode.removeChild(d),d}},w.prototype.hideCursor=function(){this.isVisible=!1,g.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},w.prototype.showCursor=function(){this.isVisible=!0,g.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},w.prototype.restartTimer=function(){var d=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,g.removeCssClass(this.element,"ace_smooth-blinking")),d(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&g.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),g.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var h=(function(){this.timeoutId=setTimeout(function(){d(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){d(!0),h()},this.blinkInterval),h()}},w.prototype.getPixelPosition=function(d,h){if(!this.config||!this.session)return{left:0,top:0};d||(d=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(d),a=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,d.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),o=(c.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:a,top:o}},w.prototype.isCursorInView=function(d,h){return d.top>=0&&d.top<h.maxHeight},w.prototype.update=function(d){this.config=d;var h=this.session.$selectionMarkers,c=0,a=0;(h===void 0||h.length===0)&&(h=[{cursor:null}]);for(var c=0,o=h.length;c<o;c++){var u=this.getPixelPosition(h[c].cursor,!0);if(!((u.top>d.height+d.offset||u.top<0)&&c>1)){var f=this.cursors[a++]||this.addCursor(),m=f.style;this.drawCursor?this.drawCursor(f,u,d,h[c],this.session):this.isCursorInView(u,d)?(g.setStyle(m,"display","block"),g.translate(f,u.left,u.top),g.setStyle(m,"width",Math.round(d.characterWidth)+"px"),g.setStyle(m,"height",d.lineHeight+"px")):g.setStyle(m,"display","none")}}for(;this.cursors.length>a;)this.removeCursor();var x=this.session.getOverwrite();this.$setOverwrite(x),this.$pixelPos=u,this.restartTimer()},w.prototype.$setOverwrite=function(d){d!=this.overwrite&&(this.overwrite=d,d?g.addCssClass(this.element,"ace_overwrite-cursors"):g.removeCssClass(this.element,"ace_overwrite-cursors"))},w.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},w})();b.prototype.$padding=0,b.prototype.drawCursor=null,l.Cursor=b}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,l,T){var g=this&&this.__extends||(function(){var f=function(m,x){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,S){E.__proto__=S}||function(E,S){for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])},f(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");f(m,x);function E(){this.constructor=m}m.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}})(),b=i("./lib/oop"),w=i("./lib/dom"),d=i("./lib/event"),h=i("./lib/event_emitter").EventEmitter,c=32768,a=(function(){function f(m,x){this.element=w.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+x,this.inner=w.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,d.addListener(this.element,"scroll",this.onScroll.bind(this)),d.addListener(this.element,"mousedown",d.preventDefault)}return f.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},f})();b.implement(a.prototype,h);var o=(function(f){g(m,f);function m(x,E){var S=f.call(this,x,"-v")||this;return S.scrollTop=0,S.scrollHeight=0,E.$scrollbarWidth=S.width=w.scrollbarWidth(x.ownerDocument),S.inner.style.width=S.element.style.width=(S.width||15)+5+"px",S.$minWidth=0,S}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var x=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-x)/(this.coeff-x)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(x){this.element.style.height=x+"px"},m.prototype.setScrollHeight=function(x){this.scrollHeight=x,x>c?(this.coeff=c/x,x=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=x+"px"},m.prototype.setScrollTop=function(x){this.scrollTop!=x&&(this.skipEvent=!0,this.scrollTop=x,this.element.scrollTop=x*this.coeff)},m})(a);o.prototype.setInnerHeight=o.prototype.setScrollHeight;var u=(function(f){g(m,f);function m(x,E){var S=f.call(this,x,"-h")||this;return S.scrollLeft=0,S.height=E.$scrollbarWidth,S.inner.style.height=S.element.style.height=(S.height||15)+5+"px",S}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(x){this.element.style.width=x+"px"},m.prototype.setInnerWidth=function(x){this.inner.style.width=x+"px"},m.prototype.setScrollWidth=function(x){this.inner.style.width=x+"px"},m.prototype.setScrollLeft=function(x){this.scrollLeft!=x&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=x)},m})(a);l.ScrollBar=o,l.ScrollBarV=o,l.ScrollBarH=u,l.VScrollBar=o,l.HScrollBar=u}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,l,T){var g=this&&this.__extends||(function(){var u=function(f,m){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,E){x.__proto__=E}||function(x,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(x[S]=E[S])},u(f,m)};return function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");u(f,m);function x(){this.constructor=f}f.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}})(),b=i("./lib/oop"),w=i("./lib/dom"),d=i("./lib/event"),h=i("./lib/event_emitter").EventEmitter;w.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=(function(){function u(f,m){this.element=w.createElement("div"),this.element.className="ace_sb"+m,this.inner=w.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,f.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,d.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return u.prototype.setVisible=function(f){this.element.style.display=f?"":"none",this.isVisible=f,this.coeff=1},u})();b.implement(c.prototype,h);var a=(function(u){g(f,u);function f(m,x){var E=u.call(this,m,"-v")||this;return E.scrollTop=0,E.scrollHeight=0,E.parent=m,E.width=E.VScrollWidth,E.renderer=x,E.inner.style.width=E.element.style.width=(E.width||15)+"px",E.$minWidth=0,E}return f.prototype.onMouseDown=function(m,x){if(m==="mousedown"&&!(d.getButton(x)!==0||x.detail===2)){if(x.target===this.inner){var E=this,S=x.clientY,R=function($){S=$.clientY},M=function(){clearInterval(I)},k=x.clientY,v=this.thumbTop,F=function(){if(S!==void 0){var $=E.scrollTopFromThumbTop(v+S-k);$!==E.scrollTop&&E._emit("scroll",{data:$})}};d.capture(this.inner,R,M);var I=setInterval(F,20);return d.preventDefault(x)}var A=x.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(A)}),d.preventDefault(x)}},f.prototype.getHeight=function(){return this.height},f.prototype.scrollTopFromThumbTop=function(m){var x=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return x=x>>0,x<0?x=0:x>this.pageHeight-this.viewHeight&&(x=this.pageHeight-this.viewHeight),x},f.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},f.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},f.prototype.setScrollHeight=function(m,x){this.pageHeight===m&&!x||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},f.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},f})(c);a.prototype.setInnerHeight=a.prototype.setScrollHeight;var o=(function(u){g(f,u);function f(m,x){var E=u.call(this,m,"-h")||this;return E.scrollLeft=0,E.scrollWidth=0,E.height=E.HScrollHeight,E.inner.style.height=E.element.style.height=(E.height||12)+"px",E.renderer=x,E}return f.prototype.onMouseDown=function(m,x){if(m==="mousedown"&&!(d.getButton(x)!==0||x.detail===2)){if(x.target===this.inner){var E=this,S=x.clientX,R=function($){S=$.clientX},M=function(){clearInterval(I)},k=x.clientX,v=this.thumbLeft,F=function(){if(S!==void 0){var $=E.scrollLeftFromThumbLeft(v+S-k);$!==E.scrollLeft&&E._emit("scroll",{data:$})}};d.capture(this.inner,R,M);var I=setInterval(F,20);return d.preventDefault(x)}var A=x.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(A)}),d.preventDefault(x)}},f.prototype.getHeight=function(){return this.isVisible?this.height:0},f.prototype.scrollLeftFromThumbLeft=function(m){var x=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return x=x>>0,x<0?x=0:x>this.pageWidth-this.viewWidth&&(x=this.pageWidth-this.viewWidth),x},f.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},f.prototype.setScrollWidth=function(m,x){this.pageWidth===m&&!x||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},f.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},f})(c);o.prototype.setInnerWidth=o.prototype.setScrollWidth,l.ScrollBar=a,l.ScrollBarV=a,l.ScrollBarH=o,l.VScrollBar=a,l.HScrollBar=o}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(i,l,T){var g=i("./lib/event"),b=(function(){function w(d,h){this.onRender=d,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=h||window;var c=this;this._flush=function(a){c.pending=!1;var o=c.changes;if(o&&(g.blockIdle(100),c.changes=0,c.onRender(o)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return w.prototype.schedule=function(d){this.changes=this.changes|d,this.changes&&!this.pending&&(g.nextFrame(this._flush),this.pending=!0)},w.prototype.clear=function(d){var h=this.changes;return this.changes=0,h},w})();l.RenderLoop=b}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(i,l,T){var g=i("../lib/oop"),b=i("../lib/dom"),w=i("../lib/lang"),d=i("../lib/event"),h=i("../lib/useragent"),c=i("../lib/event_emitter").EventEmitter,a=512,o=typeof ResizeObserver=="function",u=200,f=(function(){function m(x){this.el=b.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=b.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=b.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),x.appendChild(this.el),this.$measureNode.textContent=w.stringRepeat("X",a),this.$characterSize={width:0,height:0},o?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(x,E){x.width=x.height="auto",x.left=x.top="0px",x.visibility="hidden",x.position="absolute",x.whiteSpace="pre",h.isIE<8?x["font-family"]="inherit":x.font="inherit",x.overflow=E?"hidden":"visible"},m.prototype.checkForSizeChanges=function(x){if(x===void 0&&(x=this.$measureSizes()),x&&(this.$characterSize.width!==x.width||this.$characterSize.height!==x.height)){this.$measureNode.style.fontWeight="bold";var E=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=x,this.charSizes=Object.create(null),this.allowBoldFonts=E&&E.width===x.width&&E.height===x.height,this._emit("changeCharacterSize",{data:x})}},m.prototype.$addObserver=function(){var x=this;this.$observer=new window.ResizeObserver(function(E){x.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var x=this;return this.$pollSizeChangesTimer=d.onIdle(function E(){x.checkForSizeChanges(),d.onIdle(E,500)},500)},m.prototype.setPolling=function(x){x?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(x){var E={height:(x||this.$measureNode).clientHeight,width:(x||this.$measureNode).clientWidth/a};return E.width===0||E.height===0?null:E},m.prototype.$measureCharWidth=function(x){this.$main.textContent=w.stringRepeat(x,a);var E=this.$main.getBoundingClientRect();return E.width/a},m.prototype.getCharacterWidth=function(x){var E=this.charSizes[x];return E===void 0&&(E=this.charSizes[x]=this.$measureCharWidth(x)/this.$characterSize.width),E},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(x){return!x||!x.parentElement?1:(Number(window.getComputedStyle(x).zoom)||1)*this.$getZoom(x.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var x=function(E,S){return["div",{style:"position: absolute;top:"+E+"px;left:"+S+"px;"}]};this.els=b.buildDom([x(0,0),x(u,0),x(0,u),x(u,u)],this.el)},m.prototype.transformCoordinates=function(x,E){if(x){var S=this.$getZoom(this.el);x=v(1/S,x)}function R(ie,ne,ae){var re=ie[1]*ne[0]-ie[0]*ne[1];return[(-ne[1]*ae[0]+ne[0]*ae[1])/re,(+ie[1]*ae[0]-ie[0]*ae[1])/re]}function M(ie,ne){return[ie[0]-ne[0],ie[1]-ne[1]]}function k(ie,ne){return[ie[0]+ne[0],ie[1]+ne[1]]}function v(ie,ne){return[ie*ne[0],ie*ne[1]]}this.els||this.$initTransformMeasureNodes();function F(ie){var ne=ie.getBoundingClientRect();return[ne.left,ne.top]}var I=F(this.els[0]),A=F(this.els[1]),$=F(this.els[2]),P=F(this.els[3]),B=R(M(P,A),M(P,$),M(k(A,$),k(P,I))),U=v(1+B[0],M(A,I)),W=v(1+B[1],M($,I));if(E){var j=E,H=B[0]*j[0]/u+B[1]*j[1]/u+1,Q=k(v(j[0],U),v(j[1],W));return k(v(1/H/u,Q),I)}var X=M(x,I),ee=R(M(U,v(B[0],X)),M(W,v(B[1],X)),X);return v(u,ee)},m})();f.prototype.$characterSize={width:0,height:0},g.implement(f.prototype,c),l.FontMetrics=f}),ace.define("ace/css/editor-css",["require","exports","module"],function(i,l,T){T.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(i,l,T){var g=i("../lib/dom"),b=i("../lib/oop"),w=i("../lib/event_emitter").EventEmitter,d=(function(){function h(c,a){this.renderer=a,this.pixelRatio=1,this.maxHeight=a.layerConfig.maxHeight,this.lineHeight=a.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(c)}return h.prototype.$createCanvas=function(){this.canvas=g.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},h.prototype.setScrollBarV=function(c){this.$createCanvas(),this.scrollbarV=c,c.element.appendChild(this.canvas),this.setDimensions()},h.prototype.$updateDecorators=function(c){if(typeof this.canvas.getContext!="function")return;var a=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(c);var o=this.canvas.getContext("2d");function u(U,W){return U.priority<W.priority?-1:U.priority>W.priority?1:0}var f=this.renderer.session.$annotations;if(o.clearRect(0,0,this.canvas.width,this.canvas.height),f){var m={info:1,warning:2,error:3};f.forEach(function(U){U.priority=m[U.type]||null}),f=f.sort(u);for(var x=0;x<f.length;x++){var E=f[x].row,S=this.getVerticalOffsetForRow(E),R=S+this.lineHeight,M=Math.round(this.heightRatio*S),k=Math.round(this.heightRatio*R),v=Math.round((M+k)/2),F=k-v;F<this.halfMinDecorationHeight&&(F=this.halfMinDecorationHeight),v-F<0&&(v=F),v+F>this.canvasHeight&&(v=this.canvasHeight-F);var I=v-F,A=v+F,$=A-I;o.fillStyle=a[f[x].type]||null,o.fillRect(0,I,Math.round(this.oneZoneWidth-1),$)}}var P=this.renderer.session.selection.getCursor();if(P){var B=Math.round(this.getVerticalOffsetForRow(P.row)*this.heightRatio);o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(0,B,this.canvasWidth,2)}},h.prototype.getVerticalOffsetForRow=function(c){c=c|0;var a=this.renderer.session.documentToScreenRow(c,0)*this.lineHeight;return a},h.prototype.setDimensions=function(c){c=c||this.renderer.layerConfig,this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},h.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},h.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},h})();b.implement(d.prototype,w),l.Decorator=d}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(i,l,T){var g=i("./lib/oop"),b=i("./lib/dom"),w=i("./lib/lang"),d=i("./config"),h=i("./layer/gutter").Gutter,c=i("./layer/marker").Marker,a=i("./layer/text").Text,o=i("./layer/cursor").Cursor,u=i("./scrollbar").HScrollBar,f=i("./scrollbar").VScrollBar,m=i("./scrollbar_custom").HScrollBar,x=i("./scrollbar_custom").VScrollBar,E=i("./renderloop").RenderLoop,S=i("./layer/font_metrics").FontMetrics,R=i("./lib/event_emitter").EventEmitter,M=i("./css/editor-css"),k=i("./layer/decorators").Decorator,v=i("./lib/useragent"),F=i("./layer/text_util").isTextToken;b.importCssString(M,"ace_editor.css",!1);var I=(function(){function A($,P){var B=this;this.container=$||b.createElement("div"),b.addCssClass(this.container,"ace_editor"),b.HI_DPI&&b.addCssClass(this.container,"ace_hidpi"),this.setTheme(P),d.get("useStrictCSP")==null&&d.set("useStrictCSP",!1),this.$gutter=b.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=b.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=b.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var U=this.$textLayer=new a(this.content);this.canvas=U.element,this.$markerFront=new c(this.content),this.$cursorLayer=new o(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new f(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",function(W){B.$scrollAnimation||B.session.setScrollTop(W.data-B.scrollMargin.top)}),this.scrollBarH.on("scroll",function(W){B.$scrollAnimation||B.session.setScrollLeft(W.data-B.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new S(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(W){B.updateCharacterSize(),B.onResize(!0,B.gutterWidth,B.$size.width,B.$size.height),B._signal("changeCharacterSize",W)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!v.isIOS,this.$loop=new E(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),d.resetOptions(this),d._signal("renderer",this)}return A.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),b.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},A.prototype.setSession=function($){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=$,$&&this.scrollMargin.top&&$.getScrollTop()<=0&&$.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession($),this.$markerBack.setSession($),this.$markerFront.setSession($),this.$gutterLayer.setSession($),this.$textLayer.setSession($),$&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},A.prototype.updateLines=function($,P,B){if(P===void 0&&(P=1/0),this.$changedLines?(this.$changedLines.firstRow>$&&(this.$changedLines.firstRow=$),this.$changedLines.lastRow<P&&(this.$changedLines.lastRow=P)):this.$changedLines={firstRow:$,lastRow:P},this.$changedLines.lastRow<this.layerConfig.firstRow)if(B)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},A.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},A.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},A.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},A.prototype.updateFull=function($){$?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},A.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},A.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},A.prototype.onResize=function($,P,B,U){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=$?1:0;var W=this.container;U||(U=W.clientHeight||W.scrollHeight),!U&&this.$maxLines&&this.lineHeight>1&&(!W.style.height||W.style.height=="0px")&&(W.style.height="1px",U=W.clientHeight||W.scrollHeight),B||(B=W.clientWidth||W.scrollWidth);var j=this.$updateCachedSize($,P,B,U);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!B&&!U)return this.resizing=0;$&&(this.$gutterLayer.$padding=null),$?this.$renderChanges(j|this.$changes,!0):this.$loop.schedule(j|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},A.prototype.$updateCachedSize=function($,P,B,U){U-=this.$extraHeight||0;var W=0,j=this.$size,H={width:j.width,height:j.height,scrollerHeight:j.scrollerHeight,scrollerWidth:j.scrollerWidth};if(U&&($||j.height!=U)&&(j.height=U,W|=this.CHANGE_SIZE,j.scrollerHeight=j.height,this.$horizScroll&&(j.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(j.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",W=W|this.CHANGE_SCROLL),B&&($||j.width!=B)){W|=this.CHANGE_SIZE,j.width=B,P==null&&(P=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=P,b.setStyle(this.scrollBarH.element.style,"left",P+"px"),b.setStyle(this.scroller.style,"left",P+this.margin.left+"px"),j.scrollerWidth=Math.max(0,B-P-this.scrollBarV.getWidth()-this.margin.h),b.setStyle(this.$gutter.style,"left",this.margin.left+"px");var Q=this.scrollBarV.getWidth()+"px";b.setStyle(this.scrollBarH.element.style,"right",Q),b.setStyle(this.scroller.style,"right",Q),b.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(j.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||$)&&(W|=this.CHANGE_FULL)}return j.$dirty=!B||!U,W&&this._signal("resize",H),W},A.prototype.onGutterResize=function($){var P=this.$showGutter?$:0;P!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,P,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},A.prototype.adjustWrapLimit=function(){var $=this.$size.scrollerWidth-this.$padding*2,P=Math.floor($/this.characterWidth);return this.session.adjustWrapLimit(P,this.$showPrintMargin&&this.$printMarginColumn)},A.prototype.setAnimatedScroll=function($){this.setOption("animatedScroll",$)},A.prototype.getAnimatedScroll=function(){return this.$animatedScroll},A.prototype.setShowInvisibles=function($){this.setOption("showInvisibles",$),this.session.$bidiHandler.setShowInvisibles($)},A.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},A.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},A.prototype.setDisplayIndentGuides=function($){this.setOption("displayIndentGuides",$)},A.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},A.prototype.setHighlightIndentGuides=function($){this.setOption("highlightIndentGuides",$)},A.prototype.setShowPrintMargin=function($){this.setOption("showPrintMargin",$)},A.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},A.prototype.setPrintMarginColumn=function($){this.setOption("printMarginColumn",$)},A.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},A.prototype.getShowGutter=function(){return this.getOption("showGutter")},A.prototype.setShowGutter=function($){return this.setOption("showGutter",$)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.setFadeFoldWidgets=function($){this.setOption("fadeFoldWidgets",$)},A.prototype.setHighlightGutterLine=function($){this.setOption("highlightGutterLine",$)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var $=b.createElement("div");$.className="ace_layer ace_print-margin-layer",this.$printMarginEl=b.createElement("div"),this.$printMarginEl.className="ace_print-margin",$.appendChild(this.$printMarginEl),this.content.insertBefore($,this.content.firstChild)}var P=this.$printMarginEl.style;P.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",P.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},A.prototype.getContainerElement=function(){return this.container},A.prototype.getMouseEventTarget=function(){return this.scroller},A.prototype.getTextAreaContainer=function(){return this.container},A.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var $=this.textarea.style,P=this.$composition;if(!this.$keepTextAreaAtCursor&&!P){b.translate(this.textarea,-100,0);return}var B=this.$cursorLayer.$pixelPos;if(B){P&&P.markerRange&&(B=this.$cursorLayer.getPixelPosition(P.markerRange.start,!0));var U=this.layerConfig,W=B.top,j=B.left;W-=U.offset;var H=P&&P.useTextareaForIME||v.isMobile?this.lineHeight:1;if(W<0||W>U.height-H){b.translate(this.textarea,0,0);return}var Q=1,X=this.$size.height-H;if(!P)W+=this.lineHeight;else if(P.useTextareaForIME){var ee=this.textarea.value;Q=this.characterWidth*this.session.$getStringScreenWidth(ee)[0]}else W+=this.lineHeight+2;j-=this.scrollLeft,j>this.$size.scrollerWidth-Q&&(j=this.$size.scrollerWidth-Q),j+=this.gutterWidth+this.margin.left,b.setStyle($,"height",H+"px"),b.setStyle($,"width",Q+"px"),b.translate(this.textarea,Math.min(j,this.$size.scrollerWidth-Q),Math.min(W,X))}}},A.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},A.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},A.prototype.getLastFullyVisibleRow=function(){var $=this.layerConfig,P=$.lastRow,B=this.session.documentToScreenRow(P,0)*$.lineHeight;return B-this.session.getScrollTop()>$.height-$.lineHeight?P-1:P},A.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},A.prototype.setPadding=function($){this.$padding=$,this.$textLayer.setPadding($),this.$cursorLayer.setPadding($),this.$markerFront.setPadding($),this.$markerBack.setPadding($),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},A.prototype.setScrollMargin=function($,P,B,U){var W=this.scrollMargin;W.top=$|0,W.bottom=P|0,W.right=U|0,W.left=B|0,W.v=W.top+W.bottom,W.h=W.left+W.right,W.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-W.top),this.updateFull()},A.prototype.setMargin=function($,P,B,U){var W=this.margin;W.top=$|0,W.bottom=P|0,W.right=U|0,W.left=B|0,W.v=W.top+W.bottom,W.h=W.left+W.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},A.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},A.prototype.setHScrollBarAlwaysVisible=function($){this.setOption("hScrollBarAlwaysVisible",$)},A.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},A.prototype.setVScrollBarAlwaysVisible=function($){this.setOption("vScrollBarAlwaysVisible",$)},A.prototype.$updateScrollBarV=function(){var $=this.layerConfig.maxHeight,P=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&($-=(P-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>$-P&&($=this.scrollTop+P,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight($+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},A.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},A.prototype.freeze=function(){this.$frozen=!0},A.prototype.unfreeze=function(){this.$frozen=!1},A.prototype.$renderChanges=function($,P){if(this.$changes&&($|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!$&&!P){this.$changes|=$;return}if(this.$size.$dirty)return this.$changes|=$,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",$),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var B=this.layerConfig;if($&this.CHANGE_FULL||$&this.CHANGE_SIZE||$&this.CHANGE_TEXT||$&this.CHANGE_LINES||$&this.CHANGE_SCROLL||$&this.CHANGE_H_SCROLL){if($|=this.$computeLayerConfig()|this.$loop.clear(),B.firstRow!=this.layerConfig.firstRow&&B.firstRowScreen==this.layerConfig.firstRowScreen){var U=this.scrollTop+(B.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;U>0&&(this.scrollTop=U,$=$|this.CHANGE_SCROLL,$|=this.$computeLayerConfig()|this.$loop.clear())}B=this.layerConfig,this.$updateScrollBarV(),$&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),b.translate(this.content,-this.scrollLeft,-B.offset);var W=B.width+2*this.$padding+"px",j=B.minHeight+"px";b.setStyle(this.content.style,"width",W),b.setStyle(this.content.style,"height",j)}if($&this.CHANGE_H_SCROLL&&(b.translate(this.content,-this.scrollLeft,-B.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),$&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(B),this.$showGutter&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B),this.$markerBack.update(B),this.$markerFront.update(B),this.$cursorLayer.update(B),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}if($&this.CHANGE_SCROLL){this.$changedLines=null,$&this.CHANGE_TEXT||$&this.CHANGE_LINES?this.$textLayer.update(B):this.$textLayer.scrollLines(B),this.$showGutter&&($&this.CHANGE_GUTTER||$&this.CHANGE_LINES?this.$gutterLayer.update(B):this.$gutterLayer.scrollLines(B)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B),this.$markerBack.update(B),this.$markerFront.update(B),this.$cursorLayer.update(B),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}$&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(B),this.$showGutter&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)):$&this.CHANGE_LINES?((this.$updateLines()||$&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)):$&this.CHANGE_TEXT||$&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)):$&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)),$&this.CHANGE_CURSOR&&(this.$cursorLayer.update(B),this.$moveTextAreaToCursor()),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(B),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(B),this._signal("afterRender",$)},A.prototype.$autosize=function(){var $=this.session.getScreenLength()*this.lineHeight,P=this.$maxLines*this.lineHeight,B=Math.min(P,Math.max((this.$minLines||1)*this.lineHeight,$))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(B+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&B>this.$maxPixelHeight&&(B=this.$maxPixelHeight);var U=B<=2*this.lineHeight,W=!U&&$>P;if(B!=this.desiredHeight||this.$size.height!=this.desiredHeight||W!=this.$vScroll){W!=this.$vScroll&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var j=this.container.clientWidth;this.container.style.height=B+"px",this.$updateCachedSize(!0,this.$gutterWidth,j,B),this.desiredHeight=B,this._signal("autosize")}},A.prototype.$computeLayerConfig=function(){var $=this.session,P=this.$size,B=P.height<=2*this.lineHeight,U=this.session.getScreenLength(),W=U*this.lineHeight,j=this.$getLongestLine(),H=!B&&(this.$hScrollBarAlwaysVisible||P.scrollerWidth-j-2*this.$padding<0),Q=this.$horizScroll!==H;Q&&(this.$horizScroll=H,this.scrollBarH.setVisible(H));var X=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),B=P.height<=2*this.lineHeight);var ee=P.scrollerHeight+this.lineHeight,ie=!this.$maxLines&&this.$scrollPastEnd?(P.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;W+=ie;var ne=this.scrollMargin;this.session.setScrollTop(Math.max(-ne.top,Math.min(this.scrollTop,W-P.scrollerHeight+ne.bottom))),this.session.setScrollLeft(Math.max(-ne.left,Math.min(this.scrollLeft,j+2*this.$padding-P.scrollerWidth+ne.right)));var ae=!B&&(this.$vScrollBarAlwaysVisible||P.scrollerHeight-W+ie<0||this.scrollTop>ne.top),re=X!==ae;re&&(this.$vScroll=ae,this.scrollBarV.setVisible(ae));var fe=this.scrollTop%this.lineHeight,pe=Math.ceil(ee/this.lineHeight)-1,he=Math.max(0,Math.round((this.scrollTop-fe)/this.lineHeight)),$e=he+pe,Le,Oe,Ne=this.lineHeight;he=$.screenToDocumentRow(he,0);var be=$.getFoldLine(he);be&&(he=be.start.row),Le=$.documentToScreenRow(he,0),Oe=$.getRowLength(he)*Ne,$e=Math.min($.screenToDocumentRow($e,0),$.getLength()-1),ee=P.scrollerHeight+$.getRowLength($e)*Ne+Oe,fe=this.scrollTop-Le*Ne,fe<0&&Le>0&&(Le=Math.max(0,Le+Math.floor(fe/Ne)),fe=this.scrollTop-Le*Ne);var Se=0;return(this.layerConfig.width!=j||Q)&&(Se=this.CHANGE_H_SCROLL),(Q||re)&&(Se|=this.$updateCachedSize(!0,this.gutterWidth,P.width,P.height),this._signal("scrollbarVisibilityChanged"),re&&(j=this.$getLongestLine())),this.layerConfig={width:j,padding:this.$padding,firstRow:he,firstRowScreen:Le,lastRow:$e,lineHeight:Ne,characterWidth:this.characterWidth,minHeight:ee,maxHeight:W,offset:fe,gutterOffset:Ne?Math.max(0,Math.ceil((fe+P.height-P.scrollerHeight)/Ne)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(j-this.$padding),Se},A.prototype.$updateLines=function(){if(this.$changedLines){var $=this.$changedLines.firstRow,P=this.$changedLines.lastRow;this.$changedLines=null;var B=this.layerConfig;if(!($>B.lastRow+1)&&!(P<B.firstRow)){if(P===1/0){this.$showGutter&&this.$gutterLayer.update(B),this.$textLayer.update(B);return}return this.$textLayer.updateLines(B,$,P),!0}}},A.prototype.$getLongestLine=function(){var $=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&($+=1),this.$textLayer&&$>this.$textLayer.MAX_LINE_LENGTH&&($=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round($*this.characterWidth))},A.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},A.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},A.prototype.addGutterDecoration=function($,P){this.$gutterLayer.addGutterDecoration($,P)},A.prototype.removeGutterDecoration=function($,P){this.$gutterLayer.removeGutterDecoration($,P)},A.prototype.updateBreakpoints=function($){this._rows=$,this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.setAnnotations=function($){this.$gutterLayer.setAnnotations($),this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},A.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},A.prototype.showCursor=function(){this.$cursorLayer.showCursor()},A.prototype.scrollSelectionIntoView=function($,P,B){this.scrollCursorIntoView($,B),this.scrollCursorIntoView(P,B)},A.prototype.scrollCursorIntoView=function($,P,B){if(this.$size.scrollerHeight!==0){var U=this.$cursorLayer.getPixelPosition($),W=U.left,j=U.top,H=B&&B.top||0,Q=B&&B.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var X=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;X+H>j?(P&&X+H>j+this.lineHeight&&(j-=P*this.$size.scrollerHeight),j===0&&(j=-this.scrollMargin.top),this.session.setScrollTop(j)):X+this.$size.scrollerHeight-Q<j+this.lineHeight&&(P&&X+this.$size.scrollerHeight-Q<j-this.lineHeight&&(j+=P*this.$size.scrollerHeight),this.session.setScrollTop(j+this.lineHeight+Q-this.$size.scrollerHeight));var ee=this.scrollLeft,ie=2*this.layerConfig.characterWidth;W-ie<ee?(W-=ie,W<this.$padding+ie&&(W=-this.scrollMargin.left),this.session.setScrollLeft(W)):(W+=ie,ee+this.$size.scrollerWidth<W+this.characterWidth?this.session.setScrollLeft(Math.round(W+this.characterWidth-this.$size.scrollerWidth)):ee<=this.$padding&&W-ee<this.characterWidth&&this.session.setScrollLeft(0))}},A.prototype.getScrollTop=function(){return this.session.getScrollTop()},A.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},A.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},A.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},A.prototype.scrollToRow=function($){this.session.setScrollTop($*this.lineHeight)},A.prototype.alignCursor=function($,P){typeof $=="number"&&($={row:$,column:0});var B=this.$cursorLayer.getPixelPosition($),U=this.$size.scrollerHeight-this.lineHeight,W=B.top-U*(P||0);return this.session.setScrollTop(W),W},A.prototype.$calcSteps=function($,P){var B=0,U=this.STEPS,W=[],j=function(H,Q,X){return X*(Math.pow(H-1,3)+1)+Q};for(B=0;B<U;++B)W.push(j(B/this.STEPS,$,P-$));return W},A.prototype.scrollToLine=function($,P,B,U){var W=this.$cursorLayer.getPixelPosition({row:$,column:0}),j=W.top;P&&(j-=this.$size.scrollerHeight/2);var H=this.scrollTop;this.session.setScrollTop(j),B!==!1&&this.animateScrolling(H,U)},A.prototype.animateScrolling=function($,P){var B=this.scrollTop;if(!this.$animatedScroll)return;var U=this;if($==B)return;if(this.$scrollAnimation){var W=this.$scrollAnimation.steps;if(W.length&&($=W[0],$==B))return}var j=U.$calcSteps($,B);this.$scrollAnimation={from:$,to:B,steps:j},clearInterval(this.$timer),U.session.setScrollTop(j.shift()),U.session.$scrollTop=B;function H(){U.$timer=clearInterval(U.$timer),U.$scrollAnimation=null,U.$stopAnimation=!1,P&&P()}this.$timer=setInterval(function(){if(U.$stopAnimation){H();return}if(!U.session)return clearInterval(U.$timer);j.length?(U.session.setScrollTop(j.shift()),U.session.$scrollTop=B):B!=null?(U.session.$scrollTop=-1,U.session.setScrollTop(B),B=null):H()},10)},A.prototype.scrollToY=function($){this.scrollTop!==$&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=$)},A.prototype.scrollToX=function($){this.scrollLeft!==$&&(this.scrollLeft=$),this.$loop.schedule(this.CHANGE_H_SCROLL)},A.prototype.scrollTo=function($,P){this.session.setScrollTop(P),this.session.setScrollLeft($)},A.prototype.scrollBy=function($,P){P&&this.session.setScrollTop(this.session.getScrollTop()+P),$&&this.session.setScrollLeft(this.session.getScrollLeft()+$)},A.prototype.isScrollableBy=function($,P){if(P<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||P>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||$<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||$>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},A.prototype.pixelToScreenCoordinates=function($,P){var B;if(this.$hasCssTransforms){B={top:0,left:0};var U=this.$fontMetrics.transformCoordinates([$,P]);$=U[1]-this.gutterWidth-this.margin.left,P=U[0]}else B=this.scroller.getBoundingClientRect();var W=$+this.scrollLeft-B.left-this.$padding,j=W/this.characterWidth,H=Math.floor((P+this.scrollTop-B.top)/this.lineHeight),Q=this.$blockCursor?Math.floor(j):Math.round(j);return{row:H,column:Q,side:j-Q>0?1:-1,offsetX:W}},A.prototype.screenToTextCoordinates=function($,P){var B;if(this.$hasCssTransforms){B={top:0,left:0};var U=this.$fontMetrics.transformCoordinates([$,P]);$=U[1]-this.gutterWidth-this.margin.left,P=U[0]}else B=this.scroller.getBoundingClientRect();var W=$+this.scrollLeft-B.left-this.$padding,j=W/this.characterWidth,H=this.$blockCursor?Math.floor(j):Math.round(j),Q=Math.floor((P+this.scrollTop-B.top)/this.lineHeight);return this.session.screenToDocumentPosition(Q,Math.max(H,0),W)},A.prototype.textToScreenCoordinates=function($,P){var B=this.scroller.getBoundingClientRect(),U=this.session.documentToScreenPosition($,P),W=this.$padding+(this.session.$bidiHandler.isBidiRow(U.row,$)?this.session.$bidiHandler.getPosLeft(U.column):Math.round(U.column*this.characterWidth)),j=U.row*this.lineHeight;return{pageX:B.left+W-this.scrollLeft,pageY:B.top+j-this.scrollTop}},A.prototype.visualizeFocus=function(){b.addCssClass(this.container,"ace_focus")},A.prototype.visualizeBlur=function(){b.removeCssClass(this.container,"ace_focus")},A.prototype.showComposition=function($){this.$composition=$,$.cssText||($.cssText=this.textarea.style.cssText),$.useTextareaForIME==null&&($.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(b.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):$.markerId=this.session.addMarker($.markerRange,"ace_composition_marker","text")},A.prototype.setCompositionText=function($){var P=this.session.selection.cursor;this.addToken($,"composition_placeholder",P.row,P.column),this.$moveTextAreaToCursor()},A.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),b.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var $=this.session.selection.cursor;this.removeExtraToken($.row,$.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},A.prototype.setGhostText=function($,P){var B=this.session.selection.cursor,U=P||{row:B.row,column:B.column};this.removeGhostText();var W=this.$calculateWrappedTextChunks($,U);this.addToken(W[0].text,"ghost_text",U.row,U.column),this.$ghostText={text:$,position:{row:U.row,column:U.column}};var j=b.createElement("div");if(W.length>1){var H=this.hideTokensAfterPosition(U.row,U.column),Q;W.slice(1).forEach(function(re){var fe=b.createElement("div"),pe=b.createElement("span");pe.className="ace_ghost_text",re.wrapped&&(fe.className="ghost_text_line_wrapped"),re.text.length===0&&(re.text=" "),pe.appendChild(b.createTextNode(re.text)),fe.appendChild(pe),j.appendChild(fe),Q=fe}),H.forEach(function(re){var fe=b.createElement("span");F(re.type)||(fe.className="ace_"+re.type.replace(/\./g," ace_")),fe.appendChild(b.createTextNode(re.value)),Q.appendChild(fe)}),this.$ghostTextWidget={el:j,row:U.row,column:U.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var X=this.$cursorLayer.getPixelPosition(U,!0),ee=this.container,ie=ee.getBoundingClientRect().height,ne=W.length*this.lineHeight,ae=ne<ie-X.top;if(ae)return;ne<ie?this.scrollBy(0,(W.length-1)*this.lineHeight):this.scrollToRow(U.row)}},A.prototype.$calculateWrappedTextChunks=function($,P){var B=this.$size.scrollerWidth-this.$padding*2,U=Math.floor(B/this.characterWidth)-2;U=U<=0?60:U;for(var W=$.split(/\r?\n/),j=[],H=0;H<W.length;H++){var Q=this.session.$getDisplayTokens(W[H],P.column),X=this.session.$computeWrapSplits(Q,U,this.session.$tabSize);if(X.length>0){var ee=0;X.push(W[H].length);for(var ie=0;ie<X.length;ie++){var ne=W[H].slice(ee,X[ie]);j.push({text:ne,wrapped:!0}),ee=X[ie]}}else j.push({text:W[H],wrapped:!1})}return j},A.prototype.removeGhostText=function(){if(this.$ghostText){var $=this.$ghostText.position;this.removeExtraToken($.row,$.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},A.prototype.addToken=function($,P,B,U){var W=this.session;W.bgTokenizer.lines[B]=null;var j={type:P,value:$},H=W.getTokens(B);if(U==null||!H.length)H.push(j);else for(var Q=0,X=0;X<H.length;X++){var ee=H[X];if(Q+=ee.value.length,U<=Q){var ie=ee.value.length-(Q-U),ne=ee.value.slice(0,ie),ae=ee.value.slice(ie);H.splice(X,1,{type:ee.type,value:ne},j,{type:ee.type,value:ae});break}}this.updateLines(B,B)},A.prototype.hideTokensAfterPosition=function($,P){for(var B=this.session.getTokens($),U=0,W=!1,j=[],H=0;H<B.length;H++){var Q=B[H];if(U+=Q.value.length,Q.type!=="ghost_text"){if(W){j.push({type:Q.type,value:Q.value}),Q.type="hidden_token";continue}U===P&&(W=!0)}}return this.updateLines($,$),j},A.prototype.removeExtraToken=function($,P){this.session.bgTokenizer.lines[$]=null,this.updateLines($,$)},A.prototype.setTheme=function($,P){var B=this;if(this.$themeId=$,B._dispatchEvent("themeChange",{theme:$}),!$||typeof $=="string"){var U=$||this.$options.theme.initialValue;d.loadModule(["theme",U],W)}else W($);function W(j){if(B.$themeId!=$)return P&&P();if(!j||!j.cssClass)throw new Error("couldn't load module "+$+" or it didn't call define");j.$id&&(B.$themeId=j.$id),b.importCssString(j.cssText,j.cssClass,B.container),B.theme&&b.removeCssClass(B.container,B.theme.cssClass);var H="padding"in j?j.padding:"padding"in(B.theme||{})?4:B.$padding;if(B.$padding&&H!=B.$padding&&B.setPadding(H),B.$gutterLayer){var Q=j.$showGutterCursorMarker;Q&&!B.$gutterLayer.$showCursorMarker?B.$gutterLayer.$showCursorMarker="theme":!Q&&B.$gutterLayer.$showCursorMarker=="theme"&&(B.$gutterLayer.$showCursorMarker=null)}B.$theme=j.cssClass,B.theme=j,b.addCssClass(B.container,j.cssClass),b.setCssClass(B.container,"ace_dark",j.isDark),B.$size&&(B.$size.width=0,B.$updateSizeAsync()),B._dispatchEvent("themeLoaded",{theme:j}),P&&P(),v.isSafari&&B.scroller&&(B.scroller.style.background="red",B.scroller.style.background="")}},A.prototype.getTheme=function(){return this.$themeId},A.prototype.setStyle=function($,P){b.setCssClass(this.container,$,P!==!1)},A.prototype.unsetStyle=function($){b.removeCssClass(this.container,$)},A.prototype.setCursorStyle=function($){b.setStyle(this.scroller.style,"cursor",$)},A.prototype.setMouseCursor=function($){b.setStyle(this.scroller.style,"cursor",$)},A.prototype.attachToShadowRoot=function(){b.importCssString(M,"ace_editor.css",this.container)},A.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},A.prototype.$updateCustomScrollbar=function($){var P=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),$===!0?(this.scrollBarV=new x(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(B){P.$scrollAnimation||P.session.setScrollTop(B.data-P.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(B){P.$scrollAnimation||P.session.setScrollLeft(B.data-P.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new k(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new f(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(B){P.$scrollAnimation||P.session.setScrollTop(B.data-P.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(B){P.$scrollAnimation||P.session.setScrollLeft(B.data-P.scrollMargin.left)}))},A.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var $=this;this.$resizeTimer=w.delayedCall(function(){$.destroyed||$.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(P){var B=P[0].contentRect.width,U=P[0].contentRect.height;Math.abs($.$size.width-B)>1||Math.abs($.$size.height-U)>1?$.$resizeTimer.delay():$.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},A})();I.prototype.CHANGE_CURSOR=1,I.prototype.CHANGE_MARKER=2,I.prototype.CHANGE_GUTTER=4,I.prototype.CHANGE_SCROLL=8,I.prototype.CHANGE_LINES=16,I.prototype.CHANGE_TEXT=32,I.prototype.CHANGE_SIZE=64,I.prototype.CHANGE_MARKER_BACK=128,I.prototype.CHANGE_MARKER_FRONT=256,I.prototype.CHANGE_FULL=512,I.prototype.CHANGE_H_SCROLL=1024,I.prototype.$changes=0,I.prototype.$padding=null,I.prototype.$frozen=!1,I.prototype.STEPS=8,g.implement(I.prototype,R),d.defineOptions(I.prototype,"renderer",{useResizeObserver:{set:function(A){!A&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):A&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(A){this.$textLayer.setShowInvisibles(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(A){typeof A=="number"&&(this.$printMarginColumn=A),this.$showPrintMargin=!!A,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(A){this.$gutter.style.display=A?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(A){this.$gutterLayer.$useSvgGutterIcons=A},initialValue:!1},showFoldedAnnotations:{set:function(A){this.$gutterLayer.$showFoldedAnnotations=A},initialValue:!1},fadeFoldWidgets:{set:function(A){b.setCssClass(this.$gutter,"ace_fade-fold-widgets",A)},initialValue:!1},showFoldWidgets:{set:function(A){this.$gutterLayer.setShowFoldWidgets(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(A){this.$textLayer.setDisplayIndentGuides(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(A){this.$textLayer.setHighlightIndentGuides(A)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(A){this.$gutterLayer.setHighlightGutterLine(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(A){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(A){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(A){typeof A=="number"&&(A=A+"px"),this.container.style.fontSize=A,this.updateFontSize()},initialValue:12},fontFamily:{set:function(A){this.container.style.fontFamily=A,this.updateFontSize()}},maxLines:{set:function(A){this.updateFull()}},minLines:{set:function(A){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(A){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(A){A=+A||0,this.$scrollPastEnd!=A&&(this.$scrollPastEnd=A,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(A){this.$gutterLayer.$fixedWidth=!!A,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(A){this.$updateCustomScrollbar(A)},initialValue:!1},theme:{set:function(A){this.setTheme(A)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!v.isMobile&&!v.isIE}}),l.VirtualRenderer=I}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(i,l,T){var g=i("../lib/oop"),b=i("../lib/net"),w=i("../lib/event_emitter").EventEmitter,d=i("../config");function h(u){var f="importScripts('"+b.qualifyURL(u)+"');";try{return new Blob([f],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,x=new m;return x.append(f),x.getBlob("application/javascript")}}function c(u){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(d.get("loadWorkerFromBlob")){var f=h(u),m=window.URL||window.webkitURL,x=m.createObjectURL(f);return new Worker(x)}return new Worker(u)}var a=function(u){u.postMessage||(u=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=u,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){g.implement(this,w),this.$createWorkerFromOldConfig=function(u,f,m,x,E){if(i.nameToUrl&&!i.toUrl&&(i.toUrl=i.nameToUrl),d.get("packaged")||!i.toUrl)x=x||d.moduleUrl(f,"worker");else{var S=this.$normalizePath;x=x||S(i.toUrl("ace/worker/worker.js",null,"_"));var R={};u.forEach(function(M){R[M]=S(i.toUrl(M,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(x),E&&this.send("importScripts",E),this.$worker.postMessage({init:!0,tlns:R,module:f,classname:m}),this.$worker},this.onMessage=function(u){var f=u.data;switch(f.type){case"event":this._signal(f.name,{data:f.data});break;case"call":var m=this.callbacks[f.id];m&&(m(f.data),delete this.callbacks[f.id]);break;case"error":this.reportError(f.data);break;case"log":window.console&&console.log&&console.log.apply(console,f.data);break}},this.reportError=function(u){window.console&&console.error&&console.error(u)},this.$normalizePath=function(u){return b.qualifyURL(u)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(u){u.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(u,f){this.$worker.postMessage({command:u,args:f})},this.call=function(u,f,m){if(m){var x=this.callbackId++;this.callbacks[x]=m,f.push(x)}this.send(u,f)},this.emit=function(u,f){try{f.data&&f.data.err&&(f.data.err={message:f.data.err.message,stack:f.data.err.stack,code:f.data.err.code}),this.$worker&&this.$worker.postMessage({event:u,data:{data:f.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(u){this.$doc&&this.terminate(),this.$doc=u,this.call("setValue",[u.getValue()]),u.on("change",this.changeListener,!0)},this.changeListener=function(u){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),u.action=="insert"?this.deltaQueue.push(u.start,u.lines):this.deltaQueue.push(u.start,u.end)},this.$sendDeltaQueue=function(){var u=this.deltaQueue;u&&(this.deltaQueue=null,u.length>50&&u.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:u}))}}).call(a.prototype);var o=function(u,f,m){var x=null,E=!1,S=Object.create(w),R=[],M=new a({messageBuffer:R,terminate:function(){},postMessage:function(v){R.push(v),x&&(E?setTimeout(k):k())}});M.setEmitSync=function(v){E=v};var k=function(){var v=R.shift();v.command?x[v.command].apply(x,v.args):v.event&&S._signal(v.event,v.data)};return S.postMessage=function(v){M.onMessage({data:v})},S.callback=function(v,F){this.postMessage({type:"call",id:F,data:v})},S.emit=function(v,F){this.postMessage({type:"event",name:v,data:F})},d.loadModule(["worker",f],function(v){for(x=new v[m](S);R.length;)k()}),M};l.UIWorkerClient=o,l.WorkerClient=a,l.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(i,l,T){var g=i("./range").Range,b=i("./lib/event_emitter").EventEmitter,w=i("./lib/oop"),d=(function(){function h(c,a,o,u,f,m){var x=this;this.length=a,this.session=c,this.doc=c.getDocument(),this.mainClass=f,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=u,this.$onCursorChange=function(){setTimeout(function(){x.onCursorChange()})},this.$pos=o;var E=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=E.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return h.prototype.setup=function(){var c=this,a=this.doc,o=this.session;this.selectionBefore=o.selection.toJSON(),o.selection.inMultiSelectMode&&o.selection.toSingleRange(),this.pos=a.createAnchor(this.$pos.row,this.$pos.column);var u=this.pos;u.$insertRight=!0,u.detach(),u.markerId=o.addMarker(new g(u.row,u.column,u.row,u.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(f){var m=a.createAnchor(f.row,f.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),o.setUndoSelect(!1)},h.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,a=this;this.othersActive=!0,this.others.forEach(function(o){o.markerId=c.addMarker(new g(o.row,o.column,o.row,o.column+a.length),a.othersClass,null,!1)})}},h.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},h.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var a=c;if(a.start.row===a.end.row&&a.start.row===this.pos.row){this.$updating=!0;var o=c.action==="insert"?a.end.column-a.start.column:a.start.column-a.end.column,u=a.start.column>=this.pos.column&&a.start.column<=this.pos.column+this.length+1,f=a.start.column-this.pos.column;if(this.updateAnchors(c),u&&(this.length+=o),u&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var x=this.others[m],E={row:x.row,column:x.column+f};this.doc.insertMergedLines(E,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var x=this.others[m],E={row:x.row,column:x.column+f};this.doc.remove(new g(E.row,E.column,E.row,E.column-o))}}this.$updating=!1,this.updateMarkers()}},h.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var a=this.others.length;a--;)this.others[a].onChange(c);this.updateMarkers()},h.prototype.updateMarkers=function(){if(!this.$updating){var c=this,a=this.session,o=function(f,m){a.removeMarker(f.markerId),f.markerId=a.addMarker(new g(f.row,f.column,f.row,f.column+c.length),m,null,!1)};o(this.pos,this.mainClass);for(var u=this.others.length;u--;)o(this.others[u],this.othersClass)}},h.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var a=this.session.selection.getCursor();a.row===this.pos.row&&a.column>=this.pos.column&&a.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},h.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},h.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),a=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,o=0;o<a;o++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},h})();w.implement(d.prototype,b),l.PlaceHolder=d}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,l,T){var g=i("../lib/event"),b=i("../lib/useragent");function w(h,c){return h.row==c.row&&h.column==c.column}function d(h){var c=h.domEvent,a=c.altKey,o=c.shiftKey,u=c.ctrlKey,f=h.getAccelKey(),m=h.getButton();if(u&&b.isMac&&(m=c.button),h.editor.inMultiSelectMode&&m==2){h.editor.textInput.onContextMenu(h.domEvent);return}if(!u&&!a&&!f){m===0&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();return}if(m===0){var x=h.editor,E=x.selection,S=x.inMultiSelectMode,R=h.getDocumentPosition(),M=E.getCursor(),k=h.inSelection()||E.isEmpty()&&w(R,M),v=h.x,F=h.y,I=function(ne){v=ne.clientX,F=ne.clientY},A=x.session,$=x.renderer.pixelToScreenCoordinates(v,F),P=$,B;if(x.$mouseHandler.$enableJumpToDef)u&&a||f&&a?B=o?"block":"add":a&&x.$blockSelectEnabled&&(B="block");else if(f&&!a){if(B="add",!S&&o)return}else a&&x.$blockSelectEnabled&&(B="block");if(B&&b.isMac&&c.ctrlKey&&x.$mouseHandler.cancelContextMenu(),B=="add"){if(!S&&k)return;if(!S){var U=E.toOrientedRange();x.addSelectionMarker(U)}var W=E.rangeList.rangeAtPoint(R);x.inVirtualSelectionMode=!0,o&&(W=null,U=E.ranges[0]||U,x.removeSelectionMarker(U)),x.once("mouseup",function(){var ne=E.toOrientedRange();W&&ne.isEmpty()&&w(W.cursor,ne.cursor)?E.substractPoint(ne.cursor):(o?E.substractPoint(U.cursor):U&&(x.removeSelectionMarker(U),E.addRange(U)),E.addRange(ne)),x.inVirtualSelectionMode=!1})}else if(B=="block"){h.stop(),x.inVirtualSelectionMode=!0;var j,H=[],Q=function(){var ne=x.renderer.pixelToScreenCoordinates(v,F),ae=A.screenToDocumentPosition(ne.row,ne.column,ne.offsetX);w(P,ne)&&w(ae,E.lead)||(P=ne,x.selection.moveToPosition(ae),x.renderer.scrollCursorIntoView(),x.removeSelectionMarkers(H),H=E.rectangularRangeBlock(P,$),x.$mouseHandler.$clickSelection&&H.length==1&&H[0].isEmpty()&&(H[0]=x.$mouseHandler.$clickSelection.clone()),H.forEach(x.addSelectionMarker,x),x.updateSelectionMarkers())};S&&!f?E.toSingleRange():!S&&f&&(j=E.toOrientedRange(),x.addSelectionMarker(j)),o?$=A.documentToScreenPosition(E.lead):E.moveToPosition(R),P={row:-1,column:-1};var X=function(ne){Q(),clearInterval(ie),x.removeSelectionMarkers(H),H.length||(H=[E.toOrientedRange()]),j&&(x.removeSelectionMarker(j),E.toSingleRange(j));for(var ae=0;ae<H.length;ae++)E.addRange(H[ae]);x.inVirtualSelectionMode=!1,x.$mouseHandler.$clickSelection=null},ee=Q;g.capture(x.container,I,X);var ie=setInterval(function(){ee()},20);return h.preventDefault()}}}l.onMouseDown=d}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(i,l,T){l.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(b){b.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(b){b.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(b){b.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(b){b.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(b){b.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(b){b.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(b){b.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(b){b.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(b){b.multiSelect.rangeCount>1?b.multiSelect.joinSelections():b.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(b){b.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(b){b.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(b){b.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],l.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(b){b.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(b){return b&&b.inMultiSelectMode}}];var g=i("../keyboard/hash_handler").HashHandler;l.keyboardHandler=new g(l.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(i,l,T){var g=i("./range_list").RangeList,b=i("./range").Range,w=i("./selection").Selection,d=i("./mouse/multi_select_handler").onMouseDown,h=i("./lib/event"),c=i("./lib/lang"),a=i("./commands/multi_select_commands");l.commands=a.defaultCommands.concat(a.multiSelectCommands);var o=i("./search").Search,u=new o;function f(M,k,v){return u.$options.wrap=!0,u.$options.needle=k,u.$options.backwards=v==-1,u.find(M)}var m=i("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(M,k){if(M){if(!this.inMultiSelectMode&&this.rangeCount===0){var v=this.toOrientedRange();if(this.rangeList.add(v),this.rangeList.add(M),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),k||this.fromOrientedRange(M);this.rangeList.removeAll(),this.rangeList.add(v),this.$onAddRange(v)}M.cursor||(M.cursor=M.end);var F=this.rangeList.add(M);return this.$onAddRange(M),F.length&&this.$onRemoveRange(F),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),k||this.fromOrientedRange(M)}},this.toSingleRange=function(M){M=M||this.ranges[0];var k=this.rangeList.removeAll();k.length&&this.$onRemoveRange(k),M&&this.fromOrientedRange(M)},this.substractPoint=function(M){var k=this.rangeList.substractPoint(M);if(k)return this.$onRemoveRange(k),k[0]},this.mergeOverlappingRanges=function(){var M=this.rangeList.merge();M.length&&this.$onRemoveRange(M)},this.$onAddRange=function(M){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(M),this._signal("addRange",{range:M})},this.$onRemoveRange=function(M){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var k=this.rangeList.ranges.pop();M.push(k),this.rangeCount=0}for(var v=M.length;v--;){var F=this.ranges.indexOf(M[v]);this.ranges.splice(F,1)}this._signal("removeRange",{ranges:M}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),k=k||this.ranges[0],k&&!k.isEqual(this.getRange())&&this.fromOrientedRange(k)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var M=this.ranges.length?this.ranges:[this.getRange()],k=[],v=0;v<M.length;v++){var F=M[v],I=F.start.row,A=F.end.row;if(I===A)k.push(F.clone());else{for(k.push(new b(I,F.start.column,I,this.session.getLine(I).length));++I<A;)k.push(this.getLineRange(I,!0));k.push(new b(A,0,A,F.end.column))}v==0&&!this.isBackwards()&&(k=k.reverse())}this.toSingleRange();for(var v=k.length;v--;)this.addRange(k[v])},this.joinSelections=function(){var M=this.rangeList.ranges,k=M[M.length-1],v=b.fromPoints(M[0].start,k.end);this.toSingleRange(),this.setSelectionRange(v,k.cursor==k.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var M=this.rangeList.ranges,k=M[M.length-1],v=b.fromPoints(M[0].start,k.end);this.toSingleRange(),this.setSelectionRange(v,k.cursor==k.start)}else{var F=this.session.documentToScreenPosition(this.cursor),I=this.session.documentToScreenPosition(this.anchor),A=this.rectangularRangeBlock(F,I);A.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(M,k,v){var F=[],I=M.column<k.column;if(I)var A=M.column,$=k.column,P=M.offsetX,B=k.offsetX;else var A=k.column,$=M.column,P=k.offsetX,B=M.offsetX;var U=M.row<k.row;if(U)var W=M.row,j=k.row;else var W=k.row,j=M.row;A<0&&(A=0),W<0&&(W=0),W==j&&(v=!0);for(var H,Q=W;Q<=j;Q++){var X=b.fromPoints(this.session.screenToDocumentPosition(Q,A,P),this.session.screenToDocumentPosition(Q,$,B));if(X.isEmpty()){if(H&&E(X.end,H))break;H=X.end}X.cursor=I?X.start:X.end,F.push(X)}if(U&&F.reverse(),!v){for(var ee=F.length-1;F[ee].isEmpty()&&ee>0;)ee--;if(ee>0)for(var ie=0;F[ie].isEmpty();)ie++;for(var ne=ee;ne>=ie;ne--)F[ne].isEmpty()&&F.splice(ne,1)}return F}}).call(w.prototype);var x=i("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(M){M.cursor||(M.cursor=M.end);var k=this.getSelectionStyle();return M.marker=this.session.addMarker(M,"ace_selection",k),this.session.$selectionMarkers.push(M),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,M},this.removeSelectionMarker=function(M){if(M.marker){this.session.removeMarker(M.marker);var k=this.session.$selectionMarkers.indexOf(M);k!=-1&&this.session.$selectionMarkers.splice(k,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(M){for(var k=this.session.$selectionMarkers,v=M.length;v--;){var F=M[v];if(F.marker){this.session.removeMarker(F.marker);var I=k.indexOf(F);I!=-1&&k.splice(I,1)}}this.session.selectionMarkerCount=k.length},this.$onAddRange=function(M){this.addSelectionMarker(M.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(M){this.removeSelectionMarkers(M.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(M){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(M){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(M){var k=M.command,v=M.editor;if(v.multiSelect){if(k.multiSelectAction)k.multiSelectAction=="forEach"?F=v.forEachSelection(k,M.args):k.multiSelectAction=="forEachLine"?F=v.forEachSelection(k,M.args,!0):k.multiSelectAction=="single"?(v.exitMultiSelectMode(),F=k.exec(v,M.args||{})):F=k.multiSelectAction(v,M.args||{});else{var F=k.exec(v,M.args||{});v.multiSelect.addRange(v.multiSelect.toOrientedRange()),v.multiSelect.mergeOverlappingRanges()}return F}},this.forEachSelection=function(M,k,v){if(!this.inVirtualSelectionMode){var F=v&&v.keepOrder,I=v==!0||v&&v.$byLines,A=this.session,$=this.selection,P=$.rangeList,B=(F?$:P).ranges,U;if(!B.length)return M.exec?M.exec(this,k||{}):M(this,k||{});var W=$._eventRegistry;$._eventRegistry={};var j=new w(A);this.inVirtualSelectionMode=!0;for(var H=B.length;H--;){if(I)for(;H>0&&B[H].start.row==B[H-1].end.row;)H--;j.fromOrientedRange(B[H]),j.index=H,this.selection=A.selection=j;var Q=M.exec?M.exec(this,k||{}):M(this,k||{});!U&&Q!==void 0&&(U=Q),j.toOrientedRange(B[H])}j.detach(),this.selection=A.selection=$,this.inVirtualSelectionMode=!1,$._eventRegistry=W,$.mergeOverlappingRanges(),$.ranges[0]&&$.fromOrientedRange($.ranges[0]);var X=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),X&&X.from==X.to&&this.renderer.animateScrolling(X.from),U}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var M="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var k=this.multiSelect.rangeList.ranges,v=[],F=0;F<k.length;F++)v.push(this.session.getTextRange(k[F]));var I=this.session.getDocument().getNewLineCharacter();M=v.join(I),M.length==(v.length-1)*I.length&&(M="")}else this.selection.isEmpty()||(M=this.session.getTextRange(this.getSelectionRange()));return M},this.$checkMultiselectChange=function(M,k){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var v=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&k==this.multiSelect.anchor)return;var F=k==this.multiSelect.anchor?v.cursor==v.start?v.end:v.start:v.cursor;F.row!=k.row||this.session.$clipPositionToDocument(F.row,F.column).column!=k.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(M,k,v){if(k=k||{},k.needle=M||k.needle,k.needle==null){var F=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();k.needle=this.session.getTextRange(F)}this.$search.set(k);var I=this.$search.findAll(this.session);if(!I.length)return 0;var A=this.multiSelect;v||A.toSingleRange(I[0]);for(var $=I.length;$--;)A.addRange(I[$],!0);return F&&A.rangeList.rangeAtPoint(F.start)&&A.addRange(F,!0),I.length},this.selectMoreLines=function(M,k){var v=this.selection.toOrientedRange(),F=v.cursor==v.end,I=this.session.documentToScreenPosition(v.cursor);this.selection.$desiredColumn&&(I.column=this.selection.$desiredColumn);var A=this.session.screenToDocumentPosition(I.row+M,I.column);if(v.isEmpty())var P=A;else var $=this.session.documentToScreenPosition(F?v.end:v.start),P=this.session.screenToDocumentPosition($.row+M,$.column);if(F){var B=b.fromPoints(A,P);B.cursor=B.start}else{var B=b.fromPoints(P,A);B.cursor=B.end}if(B.desiredColumn=I.column,!this.selection.inMultiSelectMode)this.selection.addRange(v);else if(k)var U=v.cursor;this.selection.addRange(B),U&&this.selection.substractPoint(U)},this.transposeSelections=function(M){for(var k=this.session,v=k.multiSelect,F=v.ranges,I=F.length;I--;){var A=F[I];if(A.isEmpty()){var $=k.getWordRange(A.start.row,A.start.column);A.start.row=$.start.row,A.start.column=$.start.column,A.end.row=$.end.row,A.end.column=$.end.column}}v.mergeOverlappingRanges();for(var P=[],I=F.length;I--;){var A=F[I];P.unshift(k.getTextRange(A))}M<0?P.unshift(P.pop()):P.push(P.shift());for(var I=F.length;I--;){var A=F[I],B=A.clone();k.replace(A,P[I]),A.start.row=B.start.row,A.start.column=B.start.column}v.fromOrientedRange(v.ranges[0])},this.selectMore=function(M,k,v){var F=this.session,I=F.multiSelect,A=I.toOrientedRange();if(!(A.isEmpty()&&(A=F.getWordRange(A.start.row,A.start.column),A.cursor=M==-1?A.start:A.end,this.multiSelect.addRange(A),v))){var $=F.getTextRange(A),P=f(F,$,M);P&&(P.cursor=M==-1?P.start:P.end,this.session.unfold(P),this.multiSelect.addRange(P),this.renderer.scrollCursorIntoView(null,.5)),k&&this.multiSelect.substractPoint(A.cursor)}},this.alignCursors=function(){var M=this.session,k=M.multiSelect,v=k.ranges,F=-1,I=v.filter(function(ee){if(ee.cursor.row==F)return!0;F=ee.cursor.row});if(!v.length||I.length==v.length-1){var A=this.selection.getRange(),$=A.start.row,P=A.end.row,B=$==P;if(B){var U=this.session.getLength(),W;do W=this.session.getLine(P);while(/[=:]/.test(W)&&++P<U);do W=this.session.getLine($);while(/[=:]/.test(W)&&--$>0);$<0&&($=0),P>=U&&(P=U-1)}var j=this.session.removeFullLines($,P);j=this.$reAlignText(j,B),this.session.insert({row:$,column:0},j.join(`
`)+`
`),B||(A.start.column=0,A.end.column=j[j.length-1].length),this.selection.setRange(A)}else{I.forEach(function(ee){k.substractPoint(ee.cursor)});var H=0,Q=1/0,X=v.map(function(ee){var ie=ee.cursor,ne=M.getLine(ie.row),ae=ne.substr(ie.column).search(/\S/g);return ae==-1&&(ae=0),ie.column>H&&(H=ie.column),ae<Q&&(Q=ae),ae});v.forEach(function(ee,ie){var ne=ee.cursor,ae=H-ne.column,re=X[ie]-Q;ae>re?M.insert(ne,c.stringRepeat(" ",ae-re)):M.remove(new b(ne.row,ne.column,ne.row,ne.column-ae+re)),ee.start.column=ee.end.column=H,ee.start.row=ee.end.row=ne.row,ee.cursor=ee.end}),k.fromOrientedRange(v[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(M,k){var v=!0,F=!0,I,A,$;return M.map(function(j){var H=j.match(/(\s*)(.*?)(\s*)([=:].*)/);return H?I==null?(I=H[1].length,A=H[2].length,$=H[3].length,H):(I+A+$!=H[1].length+H[2].length+H[3].length&&(F=!1),I!=H[1].length&&(v=!1),I>H[1].length&&(I=H[1].length),A<H[2].length&&(A=H[2].length),$>H[3].length&&($=H[3].length),H):[j]}).map(k?B:v?F?U:B:W);function P(j){return c.stringRepeat(" ",j)}function B(j){return j[2]?P(I)+j[2]+P(A-j[2].length+$)+j[4].replace(/^([=:])\s+/,"$1 "):j[0]}function U(j){return j[2]?P(I+A-j[2].length)+j[2]+P($)+j[4].replace(/^([=:])\s+/,"$1 "):j[0]}function W(j){return j[2]?P(I)+j[2]+P($)+j[4].replace(/^([=:])\s+/,"$1 "):j[0]}}}).call(x.prototype);function E(M,k){return M.row==k.row&&M.column==k.column}l.onSessionChange=function(M){var k=M.session;k&&!k.multiSelect&&(k.$selectionMarkers=[],k.selection.$initRangeList(),k.multiSelect=k.selection),this.multiSelect=k&&k.multiSelect;var v=M.oldSession;v&&(v.multiSelect.off("addRange",this.$onAddRange),v.multiSelect.off("removeRange",this.$onRemoveRange),v.multiSelect.off("multiSelect",this.$onMultiSelect),v.multiSelect.off("singleSelect",this.$onSingleSelect),v.multiSelect.lead.off("change",this.$checkMultiselectChange),v.multiSelect.anchor.off("change",this.$checkMultiselectChange)),k&&(k.multiSelect.on("addRange",this.$onAddRange),k.multiSelect.on("removeRange",this.$onRemoveRange),k.multiSelect.on("multiSelect",this.$onMultiSelect),k.multiSelect.on("singleSelect",this.$onSingleSelect),k.multiSelect.lead.on("change",this.$checkMultiselectChange),k.multiSelect.anchor.on("change",this.$checkMultiselectChange)),k&&this.inMultiSelectMode!=k.selection.inMultiSelectMode&&(k.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function S(M){M.$multiselectOnSessionChange||(M.$onAddRange=M.$onAddRange.bind(M),M.$onRemoveRange=M.$onRemoveRange.bind(M),M.$onMultiSelect=M.$onMultiSelect.bind(M),M.$onSingleSelect=M.$onSingleSelect.bind(M),M.$multiselectOnSessionChange=l.onSessionChange.bind(M),M.$checkMultiselectChange=M.$checkMultiselectChange.bind(M),M.$multiselectOnSessionChange(M),M.on("changeSession",M.$multiselectOnSessionChange),M.on("mousedown",d),M.commands.addCommands(a.defaultCommands),R(M))}function R(M){if(!M.textInput)return;var k=M.textInput.getElement(),v=!1;h.addListener(k,"keydown",function(I){var A=I.keyCode==18&&!(I.ctrlKey||I.shiftKey||I.metaKey);M.$blockSelectEnabled&&A?v||(M.renderer.setMouseCursor("crosshair"),v=!0):v&&F()},M),h.addListener(k,"keyup",F,M),h.addListener(k,"blur",F,M);function F(I){v&&(M.renderer.setMouseCursor(""),v=!1)}}l.MultiSelect=S,i("./config").defineOptions(x.prototype,"editor",{enableMultiselect:{set:function(M){S(this),M?this.on("mousedown",d):this.off("mousedown",d)},value:!0},enableBlockSelect:{set:function(M){this.$blockSelectEnabled=M},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(i,l,T){var g=i("../../range").Range,b=l.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(w,d,h){var c=w.getLine(h);return this.foldingStartMarker.test(c)?"start":d=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(w,d,h){return null},this.indentationBlock=function(w,d,h){var c=/\S/,a=w.getLine(d),o=a.search(c);if(o!=-1){for(var u=h||a.length,f=w.getLength(),m=d,x=d;++d<f;){var E=w.getLine(d).search(c);if(E!=-1){if(E<=o){var S=w.getTokenAt(d,0);if(!S||S.type!=="string")break}x=d}}if(x>m){var R=w.getLine(x).length;return new g(m,u,x,R)}}},this.openingBracketBlock=function(w,d,h,c,a){var o={row:h,column:c+1},u=w.$findClosingBracket(d,o,a);if(u){var f=w.foldWidgets[u.row];return f==null&&(f=w.getFoldWidget(u.row)),f=="start"&&u.row>o.row&&(u.row--,u.column=w.getLine(u.row).length),g.fromPoints(o,u)}},this.closingBracketBlock=function(w,d,h,c,a){var o={row:h,column:c},u=w.$findOpeningBracket(d,o);if(u)return u.column++,o.column--,g.fromPoints(u,o)}}).call(b.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(i,l,T){var g=i("../lib/dom"),b=i("../range").Range,w=i("../config").nls;function d(c,a,o){for(var u=0,f=c.length-1;u<=f;){var m=u+f>>1,x=o(a,c[m]);if(x>0)u=m+1;else if(x<0)f=m-1;else return m}return-(u+1)}function h(c,a,o){var u=c.getAnnotations().sort(b.comparePoints);if(u.length){var f=d(u,{row:a,column:-1},b.comparePoints);f<0&&(f=-f-1),f>=u.length?f=o>0?0:u.length-1:f===0&&o<0&&(f=u.length-1);var m=u[f];if(!(!m||!o)){if(m.row===a){do m=u[f+=o];while(m&&m.row===a);if(!m)return u.slice()}var x=[];a=m.row;do x[o<0?"unshift":"push"](m),m=u[f+=o];while(m&&m.row==a);return x.length&&x}}}l.showErrorMarker=function(c,a){var o=c.session,u=c.getCursorPosition(),f=u.row,m=o.widgetManager.getWidgetsAtRow(f).filter(function(I){return I.type=="errorMarker"})[0];m?m.destroy():f-=a;var x=h(o,f,a),E;if(x){var S=x[0];u.column=(S.pos&&typeof S.column!="number"?S.pos.sc:S.column)||0,u.row=S.row,E=c.renderer.$gutterLayer.$annotations[u.row]}else{if(m)return;E={displayText:[w("error-marker.good-state","Looks good!")],className:"ace_ok"}}c.session.unfold(u.row),c.selection.moveToPosition(u);var R={row:u.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},M=R.el.appendChild(g.createElement("div")),k=R.el.appendChild(g.createElement("div"));k.className="error_widget_arrow "+E.className;var v=c.renderer.$cursorLayer.getPixelPosition(u).left;k.style.left=v+c.renderer.gutterWidth-5+"px",R.el.className="error_widget_wrapper",M.className="error_widget "+E.className,E.displayText.forEach(function(I,A){M.appendChild(g.createTextNode(I)),A<E.displayText.length-1&&M.appendChild(g.createElement("br"))}),M.appendChild(g.createElement("div"));var F=function(I,A,$){if(A===0&&($==="esc"||$==="return"))return R.destroy(),{command:"null"}};R.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(F),o.widgetManager.removeLineWidget(R),c.off("changeSelection",R.destroy),c.off("changeSession",R.destroy),c.off("mouseup",R.destroy),c.off("change",R.destroy))},c.keyBinding.addKeyboardHandler(F),c.on("changeSelection",R.destroy),c.on("changeSession",R.destroy),c.on("mouseup",R.destroy),c.on("change",R.destroy),c.session.widgetManager.addLineWidget(R),R.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:R.el.offsetHeight})},g.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(i,l,T){i("./loader_build")(l);var g=i("./lib/dom"),b=i("./range").Range,w=i("./editor").Editor,d=i("./edit_session").EditSession,h=i("./undomanager").UndoManager,c=i("./virtual_renderer").VirtualRenderer;i("./worker/worker_client"),i("./keyboard/hash_handler"),i("./placeholder"),i("./multi_select"),i("./mode/folding/fold_mode"),i("./theme/textmate"),i("./ext/error_marker"),l.config=i("./config"),l.edit=function(o,u){if(typeof o=="string"){var f=o;if(o=document.getElementById(f),!o)throw new Error("ace.edit can't find div #"+f)}if(o&&o.env&&o.env.editor instanceof w)return o.env.editor;var m="";if(o&&/input|textarea/i.test(o.tagName)){var x=o;m=x.value,o=g.createElement("pre"),x.parentNode.replaceChild(o,x)}else o&&(m=o.textContent,o.innerHTML="");var E=l.createEditSession(m),S=new w(new c(o),E,u),R={document:E,editor:S,onResize:S.resize.bind(S,null)};return x&&(R.textarea=x),S.on("destroy",function(){R.editor.container.env=null}),S.container.env=S.env=R,S},l.createEditSession=function(o,u){var f=new d(o,u);return f.setUndoManager(new h),f},l.Range=b,l.Editor=w,l.EditSession=d,l.UndoManager=h,l.VirtualRenderer=c;var a=l.config.version;l.version=a}),(function(){ace.require(["ace/ace"],function(i){i&&(i.config.init(!0),i.define=ace.define);var l=(function(){return this})();!l&&typeof window<"u"&&(l=window),!l&&typeof self<"u"&&(l=self),l.ace||(l.ace=i);for(var T in i)i.hasOwnProperty(T)&&(l.ace[T]=i[T]);l.ace.default=l.ace,e&&(e.exports=l.ace)})})()})(ace$1)),ace$1.exports}var lodash_isequal={exports:{}};lodash_isequal.exports;var hasRequiredLodash_isequal;function requireLodash_isequal(){return hasRequiredLodash_isequal||(hasRequiredLodash_isequal=1,(function(e,n){var i=200,l="__lodash_hash_undefined__",T=1,g=2,b=9007199254740991,w="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",c="[object Boolean]",a="[object Date]",o="[object Error]",u="[object Function]",f="[object GeneratorFunction]",m="[object Map]",x="[object Number]",E="[object Null]",S="[object Object]",R="[object Promise]",M="[object Proxy]",k="[object RegExp]",v="[object Set]",F="[object String]",I="[object Symbol]",A="[object Undefined]",$="[object WeakMap]",P="[object ArrayBuffer]",B="[object DataView]",U="[object Float32Array]",W="[object Float64Array]",j="[object Int8Array]",H="[object Int16Array]",Q="[object Int32Array]",X="[object Uint8Array]",ee="[object Uint8ClampedArray]",ie="[object Uint16Array]",ne="[object Uint32Array]",ae=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,pe={};pe[U]=pe[W]=pe[j]=pe[H]=pe[Q]=pe[X]=pe[ee]=pe[ie]=pe[ne]=!0,pe[w]=pe[d]=pe[P]=pe[c]=pe[B]=pe[a]=pe[o]=pe[u]=pe[m]=pe[x]=pe[S]=pe[k]=pe[v]=pe[F]=pe[$]=!1;var he=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,$e=typeof self=="object"&&self&&self.Object===Object&&self,Le=he||$e||Function("return this")(),Oe=n&&!n.nodeType&&n,Ne=Oe&&!0&&e&&!e.nodeType&&e,be=Ne&&Ne.exports===Oe,Se=be&&he.process,ge=(function(){try{return Se&&Se.binding&&Se.binding("util")}catch{}})(),Pe=ge&&ge.isTypedArray;function Je(Te,le){for(var _e=-1,Ie=Te==null?0:Te.length,ft=0,Et=[];++_e<Ie;){var Ht=Te[_e];le(Ht,_e,Te)&&(Et[ft++]=Ht)}return Et}function Ve(Te,le){for(var _e=-1,Ie=le.length,ft=Te.length;++_e<Ie;)Te[ft+_e]=le[_e];return Te}function Tt(Te,le){for(var _e=-1,Ie=Te==null?0:Te.length;++_e<Ie;)if(le(Te[_e],_e,Te))return!0;return!1}function Ot(Te,le){for(var _e=-1,Ie=Array(Te);++_e<Te;)Ie[_e]=le(_e);return Ie}function Dt(Te){return function(le){return Te(le)}}function nn(Te,le){return Te.has(le)}function fn(Te,le){return Te?.[le]}function bn(Te){var le=-1,_e=Array(Te.size);return Te.forEach(function(Ie,ft){_e[++le]=[ft,Ie]}),_e}function Be(Te,le){return function(_e){return Te(le(_e))}}function He(Te){var le=-1,_e=Array(Te.size);return Te.forEach(function(Ie){_e[++le]=Ie}),_e}var Mt=Array.prototype,zt=Function.prototype,Ft=Object.prototype,wt=Le["__core-js_shared__"],xn=zt.toString,we=Ft.hasOwnProperty,Ee=(function(){var Te=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return Te?"Symbol(src)_1."+Te:""})(),Ae=Ft.toString,mt=RegExp("^"+xn.call(we).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=be?Le.Buffer:void 0,st=Le.Symbol,Ce=Le.Uint8Array,Ke=Ft.propertyIsEnumerable,pt=Mt.splice,it=st?st.toStringTag:void 0,Rt=Object.getOwnPropertySymbols,dt=_t?_t.isBuffer:void 0,bt=Be(Object.keys,Object),At=Kn(Le,"DataView"),nt=Kn(Le,"Map"),vt=Kn(Le,"Promise"),$r=Kn(Le,"Set"),Br=Kn(Le,"WeakMap"),mr=Kn(Object,"create"),Tn=Nr(At),Ur=Nr(nt),Lr=Nr(vt),gr=Nr($r),_r=Nr(Br),ai=st?st.prototype:void 0,yr=ai?ai.valueOf:void 0;function vr(Te){var le=-1,_e=Te==null?0:Te.length;for(this.clear();++le<_e;){var Ie=Te[le];this.set(Ie[0],Ie[1])}}function ti(){this.__data__=mr?mr(null):{},this.size=0}function It(Te){var le=this.has(Te)&&delete this.__data__[Te];return this.size-=le?1:0,le}function pn(Te){var le=this.__data__;if(mr){var _e=le[Te];return _e===l?void 0:_e}return we.call(le,Te)?le[Te]:void 0}function Vn(Te){var le=this.__data__;return mr?le[Te]!==void 0:we.call(le,Te)}function lr(Te,le){var _e=this.__data__;return this.size+=this.has(Te)?0:1,_e[Te]=mr&&le===void 0?l:le,this}vr.prototype.clear=ti,vr.prototype.delete=It,vr.prototype.get=pn,vr.prototype.has=Vn,vr.prototype.set=lr;function ur(Te){var le=-1,_e=Te==null?0:Te.length;for(this.clear();++le<_e;){var Ie=Te[le];this.set(Ie[0],Ie[1])}}function us(){this.__data__=[],this.size=0}function ki(Te){var le=this.__data__,_e=ye(le,Te);if(_e<0)return!1;var Ie=le.length-1;return _e==Ie?le.pop():pt.call(le,_e,1),--this.size,!0}function fi(Te){var le=this.__data__,_e=ye(le,Te);return _e<0?void 0:le[_e][1]}function qr(Te){return ye(this.__data__,Te)>-1}function ni(Te,le){var _e=this.__data__,Ie=ye(_e,Te);return Ie<0?(++this.size,_e.push([Te,le])):_e[Ie][1]=le,this}ur.prototype.clear=us,ur.prototype.delete=ki,ur.prototype.get=fi,ur.prototype.has=qr,ur.prototype.set=ni;function Gn(Te){var le=-1,_e=Te==null?0:Te.length;for(this.clear();++le<_e;){var Ie=Te[le];this.set(Ie[0],Ie[1])}}function Xn(){this.size=0,this.__data__={hash:new vr,map:new(nt||ur),string:new vr}}function Er(Te){var le=ir(this,Te).delete(Te);return this.size-=le?1:0,le}function cr(Te){return ir(this,Te).get(Te)}function $n(Te){return ir(this,Te).has(Te)}function Ir(Te,le){var _e=ir(this,Te),Ie=_e.size;return _e.set(Te,le),this.size+=_e.size==Ie?0:1,this}Gn.prototype.clear=Xn,Gn.prototype.delete=Er,Gn.prototype.get=cr,Gn.prototype.has=$n,Gn.prototype.set=Ir;function Yt(Te){var le=-1,_e=Te==null?0:Te.length;for(this.__data__=new Gn;++le<_e;)this.add(Te[le])}function nr(Te){return this.__data__.set(Te,l),this}function Dr(Te){return this.__data__.has(Te)}Yt.prototype.add=Yt.prototype.push=nr,Yt.prototype.has=Dr;function kt(Te){var le=this.__data__=new ur(Te);this.size=le.size}function $t(){this.__data__=new ur,this.size=0}function Qn(Te){var le=this.__data__,_e=le.delete(Te);return this.size=le.size,_e}function Tr(Te){return this.__data__.get(Te)}function z(Te){return this.__data__.has(Te)}function Z(Te,le){var _e=this.__data__;if(_e instanceof ur){var Ie=_e.__data__;if(!nt||Ie.length<i-1)return Ie.push([Te,le]),this.size=++_e.size,this;_e=this.__data__=new Gn(Ie)}return _e.set(Te,le),this.size=_e.size,this}kt.prototype.clear=$t,kt.prototype.delete=Qn,kt.prototype.get=Tr,kt.prototype.has=z,kt.prototype.set=Z;function ue(Te,le){var _e=y(Te),Ie=!_e&&L(Te),ft=!_e&&!Ie&&K(Te),Et=!_e&&!Ie&&!ft&&et(Te),Ht=_e||Ie||ft||Et,rn=Ht?Ot(Te.length,String):[],Nt=rn.length;for(var Kt in Te)we.call(Te,Kt)&&!(Ht&&(Kt=="length"||ft&&(Kt=="offset"||Kt=="parent")||Et&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||tn(Kt,Nt)))&&rn.push(Kt);return rn}function ye(Te,le){for(var _e=Te.length;_e--;)if(pi(Te[_e][0],le))return _e;return-1}function Re(Te,le,_e){var Ie=le(Te);return y(Te)?Ie:Ve(Ie,_e(Te))}function qe(Te){return Te==null?Te===void 0?A:E:it&&it in Object(Te)?Gi(Te):Cr(Te)}function rt(Te){return Ue(Te)&&qe(Te)==w}function xt(Te,le,_e,Ie,ft){return Te===le?!0:Te==null||le==null||!Ue(Te)&&!Ue(le)?Te!==Te&&le!==le:Ct(Te,le,_e,Ie,xt,ft)}function Ct(Te,le,_e,Ie,ft,Et){var Ht=y(Te),rn=y(le),Nt=Ht?d:Wt(Te),Kt=rn?d:Wt(le);Nt=Nt==w?S:Nt,Kt=Kt==w?S:Kt;var mn=Nt==S,Rn=Kt==S,jn=Nt==Kt;if(jn&&K(Te)){if(!K(le))return!1;Ht=!0,mn=!1}if(jn&&!mn)return Et||(Et=new kt),Ht||et(Te)?br(Te,le,_e,Ie,ft,Et):Or(Te,le,Nt,_e,Ie,ft,Et);if(!(_e&T)){var On=mn&&we.call(Te,"__wrapped__"),Pr=Rn&&we.call(le,"__wrapped__");if(On||Pr){var di=On?Te.value():Te,mi=Pr?le.value():le;return Et||(Et=new kt),ft(di,mi,_e,Ie,Et)}}return jn?(Et||(Et=new kt),Yr(Te,le,_e,Ie,ft,Et)):!1}function qt(Te){if(!ke(Te)||Ki(Te))return!1;var le=oe(Te)?mt:re;return le.test(Nr(Te))}function dn(Te){return Ue(Te)&&ve(Te.length)&&!!pe[qe(Te)]}function rr(Te){if(!Wr(Te))return bt(Te);var le=[];for(var _e in Object(Te))we.call(Te,_e)&&_e!="constructor"&&le.push(_e);return le}function br(Te,le,_e,Ie,ft,Et){var Ht=_e&T,rn=Te.length,Nt=le.length;if(rn!=Nt&&!(Ht&&Nt>rn))return!1;var Kt=Et.get(Te);if(Kt&&Et.get(le))return Kt==le;var mn=-1,Rn=!0,jn=_e&g?new Yt:void 0;for(Et.set(Te,le),Et.set(le,Te);++mn<rn;){var On=Te[mn],Pr=le[mn];if(Ie)var di=Ht?Ie(Pr,On,mn,le,Te,Et):Ie(On,Pr,mn,Te,le,Et);if(di!==void 0){if(di)continue;Rn=!1;break}if(jn){if(!Tt(le,function(mi,Ts){if(!nn(jn,Ts)&&(On===mi||ft(On,mi,_e,Ie,Et)))return jn.push(Ts)})){Rn=!1;break}}else if(!(On===Pr||ft(On,Pr,_e,Ie,Et))){Rn=!1;break}}return Et.delete(Te),Et.delete(le),Rn}function Or(Te,le,_e,Ie,ft,Et,Ht){switch(_e){case B:if(Te.byteLength!=le.byteLength||Te.byteOffset!=le.byteOffset)return!1;Te=Te.buffer,le=le.buffer;case P:return!(Te.byteLength!=le.byteLength||!Et(new Ce(Te),new Ce(le)));case c:case a:case x:return pi(+Te,+le);case o:return Te.name==le.name&&Te.message==le.message;case k:case F:return Te==le+"";case m:var rn=bn;case v:var Nt=Ie&T;if(rn||(rn=He),Te.size!=le.size&&!Nt)return!1;var Kt=Ht.get(Te);if(Kt)return Kt==le;Ie|=g,Ht.set(Te,le);var mn=br(rn(Te),rn(le),Ie,ft,Et,Ht);return Ht.delete(Te),mn;case I:if(yr)return yr.call(Te)==yr.call(le)}return!1}function Yr(Te,le,_e,Ie,ft,Et){var Ht=_e&T,rn=jr(Te),Nt=rn.length,Kt=jr(le),mn=Kt.length;if(Nt!=mn&&!Ht)return!1;for(var Rn=Nt;Rn--;){var jn=rn[Rn];if(!(Ht?jn in le:we.call(le,jn)))return!1}var On=Et.get(Te);if(On&&Et.get(le))return On==le;var Pr=!0;Et.set(Te,le),Et.set(le,Te);for(var di=Ht;++Rn<Nt;){jn=rn[Rn];var mi=Te[jn],Ts=le[jn];if(Ie)var Wo=Ht?Ie(Ts,mi,jn,le,Te,Et):Ie(mi,Ts,jn,Te,le,Et);if(!(Wo===void 0?mi===Ts||ft(mi,Ts,_e,Ie,Et):Wo)){Pr=!1;break}di||(di=jn=="constructor")}if(Pr&&!di){var Ra=Te.constructor,Hr=le.constructor;Ra!=Hr&&"constructor"in Te&&"constructor"in le&&!(typeof Ra=="function"&&Ra instanceof Ra&&typeof Hr=="function"&&Hr instanceof Hr)&&(Pr=!1)}return Et.delete(Te),Et.delete(le),Pr}function jr(Te){return Re(Te,gt,oi)}function ir(Te,le){var _e=Te.__data__;return cs(le)?_e[typeof le=="string"?"string":"hash"]:_e.map}function Kn(Te,le){var _e=fn(Te,le);return qt(_e)?_e:void 0}function Gi(Te){var le=we.call(Te,it),_e=Te[it];try{Te[it]=void 0;var Ie=!0}catch{}var ft=Ae.call(Te);return Ie&&(le?Te[it]=_e:delete Te[it]),ft}var oi=Rt?function(Te){return Te==null?[]:(Te=Object(Te),Je(Rt(Te),function(le){return Ke.call(Te,le)}))}:St,Wt=qe;(At&&Wt(new At(new ArrayBuffer(1)))!=B||nt&&Wt(new nt)!=m||vt&&Wt(vt.resolve())!=R||$r&&Wt(new $r)!=v||Br&&Wt(new Br)!=$)&&(Wt=function(Te){var le=qe(Te),_e=le==S?Te.constructor:void 0,Ie=_e?Nr(_e):"";if(Ie)switch(Ie){case Tn:return B;case Ur:return m;case Lr:return R;case gr:return v;case _r:return $}return le});function tn(Te,le){return le=le??b,!!le&&(typeof Te=="number"||fe.test(Te))&&Te>-1&&Te%1==0&&Te<le}function cs(Te){var le=typeof Te;return le=="string"||le=="number"||le=="symbol"||le=="boolean"?Te!=="__proto__":Te===null}function Ki(Te){return!!Ee&&Ee in Te}function Wr(Te){var le=Te&&Te.constructor,_e=typeof le=="function"&&le.prototype||Ft;return Te===_e}function Cr(Te){return Ae.call(Te)}function Nr(Te){if(Te!=null){try{return xn.call(Te)}catch{}try{return Te+""}catch{}}return""}function pi(Te,le){return Te===le||Te!==Te&&le!==le}var L=rt((function(){return arguments})())?rt:function(Te){return Ue(Te)&&we.call(Te,"callee")&&!Ke.call(Te,"callee")},y=Array.isArray;function V(Te){return Te!=null&&ve(Te.length)&&!oe(Te)}var K=dt||Vt;function J(Te,le){return xt(Te,le)}function oe(Te){if(!ke(Te))return!1;var le=qe(Te);return le==u||le==f||le==h||le==M}function ve(Te){return typeof Te=="number"&&Te>-1&&Te%1==0&&Te<=b}function ke(Te){var le=typeof Te;return Te!=null&&(le=="object"||le=="function")}function Ue(Te){return Te!=null&&typeof Te=="object"}var et=Pe?Dt(Pe):dn;function gt(Te){return V(Te)?ue(Te):rr(Te)}function St(){return[]}function Vt(){return!1}e.exports=J})(lodash_isequal,lodash_isequal.exports)),lodash_isequal.exports}var editorOptions={},hasRequiredEditorOptions;function requireEditorOptions(){if(hasRequiredEditorOptions)return editorOptions;hasRequiredEditorOptions=1,Object.defineProperty(editorOptions,"__esModule",{value:!0}),editorOptions.getAceInstance=editorOptions.debounce=editorOptions.editorEvents=editorOptions.editorOptions=void 0;var e=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions.editorOptions=e;var n=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions.editorEvents=n;var i=function(){var T;return typeof window>"u"?(commonjsGlobal.window={},T=requireAce$1(),delete commonjsGlobal.window):window.ace?(T=window.ace,T.acequire=window.ace.require||window.ace.acequire):T=requireAce$1(),T};editorOptions.getAceInstance=i;var l=function(T,g){var b=null;return function(){var w=this,d=arguments;clearTimeout(b),b=setTimeout(function(){T.apply(w,d)},g)}};return editorOptions.debounce=l,editorOptions}var hasRequiredAce;function requireAce(){if(hasRequiredAce)return ace$2;hasRequiredAce=1;var e=ace$2&&ace$2.__extends||(function(){var h=function(c,a){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])},h(c,a)};return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");h(c,a);function o(){this.constructor=c}c.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}})(),n=ace$2&&ace$2.__assign||function(){return n=Object.assign||function(h){for(var c,a=1,o=arguments.length;a<o;a++){c=arguments[a];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(h[u]=c[u])}return h},n.apply(this,arguments)};Object.defineProperty(ace$2,"__esModule",{value:!0});var i=requireAce$1(),l=requirePropTypes(),T=requireReact(),g=requireLodash_isequal(),b=requireEditorOptions(),w=(0,b.getAceInstance)(),d=(function(h){e(c,h);function c(a){var o=h.call(this,a)||this;return b.editorEvents.forEach(function(u){o[u]=o[u].bind(o)}),o.debounce=b.debounce,o}return c.prototype.isInShadow=function(a){for(var o=a&&a.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},c.prototype.componentDidMount=function(){var a=this,o=this.props,u=o.className,f=o.onBeforeLoad,m=o.onValidate,x=o.mode,E=o.focus,S=o.theme,R=o.fontSize,M=o.lineHeight,k=o.value,v=o.defaultValue,F=o.showGutter,I=o.wrapEnabled,A=o.showPrintMargin,$=o.scrollMargin,P=$===void 0?[0,0,0,0]:$,B=o.keyboardHandler,U=o.onLoad,W=o.commands,j=o.annotations,H=o.markers,Q=o.placeholder;this.editor=w.edit(this.refEditor),f&&f(w);for(var X=Object.keys(this.props.editorProps),ee=0;ee<X.length;ee++)this.editor[X[ee]]=this.props.editorProps[X[ee]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(P[0],P[1],P[2],P[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof x=="string"?"ace/mode/".concat(x):x),S&&S!==""&&this.editor.setTheme("ace/theme/".concat(S)),this.editor.setFontSize(typeof R=="number"?"".concat(R,"px"):R),M&&(this.editor.container.style.lineHeight=typeof M=="number"?"".concat(M,"px"):"".concat(M),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(v||k||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(F),this.editor.getSession().setUseWrapMode(I),this.editor.setShowPrintMargin(A),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),Q&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),m&&this.editor.getSession().on("changeAnnotation",function(){var ne=a.editor.getSession().getAnnotations();a.props.onValidate(ne)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(j||[]),H&&H.length>0&&this.handleMarkers(H);var ie=this.editor.$options;b.editorOptions.forEach(function(ne){ie.hasOwnProperty(ne)?a.editor.setOption(ne,a.props[ne]):a.props[ne]&&console.warn("ReactAce: editor option ".concat(ne," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(W)&&W.forEach(function(ne){typeof ne.exec=="string"?a.editor.commands.bindKey(ne.bindKey,ne.exec):a.editor.commands.addCommand(ne)}),B&&this.editor.setKeyboardHandler("ace/keyboard/"+B),u&&(this.refEditor.className+=" "+u),U&&U(this.editor),this.editor.resize(),E&&this.editor.focus()},c.prototype.componentDidUpdate=function(a){for(var o=a,u=this.props,f=0;f<b.editorOptions.length;f++){var m=b.editorOptions[f];u[m]!==o[m]&&this.editor.setOption(m,u[m])}if(u.className!==o.className){var x=this.refEditor.className,E=x.trim().split(" "),S=o.className.trim().split(" ");S.forEach(function(k){var v=E.indexOf(k);E.splice(v,1)}),this.refEditor.className=" "+u.className+" "+E.join(" ")}var R=this.editor&&u.value!=null&&this.editor.getValue()!==u.value;if(R){this.silent=!0;var M=this.editor.session.selection.toJSON();this.editor.setValue(u.value,u.cursorStart),this.editor.session.selection.fromJSON(M),this.silent=!1}u.placeholder!==o.placeholder&&this.updatePlaceholder(),u.mode!==o.mode&&this.editor.getSession().setMode(typeof u.mode=="string"?"ace/mode/".concat(u.mode):u.mode),u.theme!==o.theme&&this.editor.setTheme("ace/theme/"+u.theme),u.keyboardHandler!==o.keyboardHandler&&(u.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+u.keyboardHandler):this.editor.setKeyboardHandler(null)),u.fontSize!==o.fontSize&&this.editor.setFontSize(typeof u.fontSize=="number"?"".concat(u.fontSize,"px"):u.fontSize),u.lineHeight!==o.lineHeight&&(this.editor.container.style.lineHeight=typeof u.lineHeight=="number"?"".concat(u.lineHeight,"px"):u.lineHeight,this.editor.renderer.updateFontSize()),u.wrapEnabled!==o.wrapEnabled&&this.editor.getSession().setUseWrapMode(u.wrapEnabled),u.showPrintMargin!==o.showPrintMargin&&this.editor.setShowPrintMargin(u.showPrintMargin),u.showGutter!==o.showGutter&&this.editor.renderer.setShowGutter(u.showGutter),g(u.setOptions,o.setOptions)||this.handleOptions(u),(R||!g(u.annotations,o.annotations))&&this.editor.getSession().setAnnotations(u.annotations||[]),!g(u.markers,o.markers)&&Array.isArray(u.markers)&&this.handleMarkers(u.markers),g(u.scrollMargin,o.scrollMargin)||this.handleScrollMargins(u.scrollMargin),(a.height!==this.props.height||a.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!a.focus&&this.editor.focus()},c.prototype.handleScrollMargins=function(a){a===void 0&&(a=[0,0,0,0]),this.editor.renderer.setScrollMargin(a[0],a[1],a[2],a[3])},c.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},c.prototype.onChange=function(a){if(this.editor&&this.props.onChange&&!this.silent){var o=this.editor.getValue();this.props.onChange(o,a)}},c.prototype.onSelectionChange=function(a){if(this.props.onSelectionChange){var o=this.editor.getSelection();this.props.onSelectionChange(o,a)}},c.prototype.onCursorChange=function(a){if(this.props.onCursorChange){var o=this.editor.getSelection();this.props.onCursorChange(o,a)}},c.prototype.onInput=function(a){this.props.onInput&&this.props.onInput(a),this.props.placeholder&&this.updatePlaceholder()},c.prototype.onFocus=function(a){this.props.onFocus&&this.props.onFocus(a,this.editor)},c.prototype.onBlur=function(a){this.props.onBlur&&this.props.onBlur(a,this.editor)},c.prototype.onCopy=function(a){var o=a.text;this.props.onCopy&&this.props.onCopy(o)},c.prototype.onPaste=function(a){var o=a.text;this.props.onPaste&&this.props.onPaste(o)},c.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},c.prototype.handleOptions=function(a){for(var o=Object.keys(a.setOptions),u=0;u<o.length;u++)this.editor.setOption(o[u],a.setOptions[o[u]])},c.prototype.handleMarkers=function(a){var o=this,u=this.editor.getSession().getMarkers(!0);for(var f in u)u.hasOwnProperty(f)&&this.editor.getSession().removeMarker(u[f].id);u=this.editor.getSession().getMarkers(!1);for(var f in u)u.hasOwnProperty(f)&&u[f].clazz!=="ace_active-line"&&u[f].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(u[f].id);a.forEach(function(m){var x=m.startRow,E=m.startCol,S=m.endRow,R=m.endCol,M=m.className,k=m.type,v=m.inFront,F=v===void 0?!1:v,I=new i.Range(x,E,S,R);o.editor.getSession().addMarker(I,M,k,F)})},c.prototype.updatePlaceholder=function(){var a=this.editor,o=this.props.placeholder,u=!a.session.getValue().length,f=a.renderer.placeholderNode;!u&&f?(a.renderer.scroller.removeChild(a.renderer.placeholderNode),a.renderer.placeholderNode=null):u&&!f?(f=a.renderer.placeholderNode=document.createElement("div"),f.textContent=o||"",f.className="ace_comment ace_placeholder",f.style.padding="0 9px",f.style.position="absolute",f.style.zIndex="3",a.renderer.scroller.appendChild(f)):u&&f&&(f.textContent=o)},c.prototype.updateRef=function(a){this.refEditor=a},c.prototype.render=function(){var a=this.props,o=a.name,u=a.width,f=a.height,m=a.style,x=n({width:u,height:f},m);return T.createElement("div",{ref:this.updateRef,id:o,style:x})},c.propTypes={mode:l.oneOfType([l.string,l.object]),focus:l.bool,theme:l.string,name:l.string,className:l.string,height:l.string,width:l.string,fontSize:l.oneOfType([l.number,l.string]),lineHeight:l.oneOfType([l.number,l.string]),showGutter:l.bool,onChange:l.func,onCopy:l.func,onPaste:l.func,onFocus:l.func,onInput:l.func,onBlur:l.func,onScroll:l.func,value:l.string,defaultValue:l.string,onLoad:l.func,onSelectionChange:l.func,onCursorChange:l.func,onBeforeLoad:l.func,onValidate:l.func,minLines:l.number,maxLines:l.number,readOnly:l.bool,highlightActiveLine:l.bool,tabSize:l.number,showPrintMargin:l.bool,cursorStart:l.number,debounceChangePeriod:l.number,editorProps:l.object,setOptions:l.object,style:l.object,scrollMargin:l.array,annotations:l.array,markers:l.array,keyboardHandler:l.string,wrapEnabled:l.bool,enableSnippets:l.bool,enableBasicAutocompletion:l.oneOfType([l.bool,l.array]),enableLiveAutocompletion:l.oneOfType([l.bool,l.array]),navigateToFileEnd:l.bool,commands:l.array,placeholder:l.string},c.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},c})(T.Component);return ace$2.default=d,ace$2}var diff={},split={},extSplit={exports:{}},hasRequiredExtSplit;function requireExtSplit(){return hasRequiredExtSplit||(hasRequiredExtSplit=1,(function(e,n){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(i,l,T){var g=i("./lib/oop");i("./lib/lang");var b=i("./lib/event_emitter").EventEmitter,w=i("./editor").Editor,d=i("./virtual_renderer").VirtualRenderer,h=i("./edit_session").EditSession,c;c=function(a,o,u){this.BELOW=1,this.BESIDE=0,this.$container=a,this.$theme=o,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(u||1),this.$cEditor=this.$editors[0],this.on("focus",(function(f){this.$cEditor=f}).bind(this))},(function(){g.implement(this,b),this.$createEditor=function(){var a=document.createElement("div");a.className=this.$editorCSS,a.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(a);var o=new w(new d(a,this.$theme));return o.on("focus",(function(){this._emit("focus",o)}).bind(this)),this.$editors.push(o),o.setFontSize(this.$fontSize),o},this.setSplits=function(a){var o;if(a<1)throw"The number of splits have to be > 0!";if(a!=this.$splits){if(a>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<a;)o=this.$editors[this.$splits],this.$container.appendChild(o.container),o.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<a;)this.$createEditor(),this.$splits++}else for(;this.$splits>a;)o=this.$editors[this.$splits-1],this.$container.removeChild(o.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(a){return this.$editors[a]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(a){this.$editors.forEach(function(o){o.setTheme(a)})},this.setKeyboardHandler=function(a){this.$editors.forEach(function(o){o.setKeyboardHandler(a)})},this.forEach=function(a,o){this.$editors.forEach(a,o)},this.$fontSize="",this.setFontSize=function(a){this.$fontSize=a,this.forEach(function(o){o.setFontSize(a)})},this.$cloneSession=function(a){var o=new h(a.getDocument(),a.getMode()),u=a.getUndoManager();return o.setUndoManager(u),o.setTabSize(a.getTabSize()),o.setUseSoftTabs(a.getUseSoftTabs()),o.setOverwrite(a.getOverwrite()),o.setBreakpoints(a.getBreakpoints()),o.setUseWrapMode(a.getUseWrapMode()),o.setUseWorker(a.getUseWorker()),o.setWrapLimitRange(a.$wrapLimitRange.min,a.$wrapLimitRange.max),o.$foldData=a.$cloneFoldData(),o},this.setSession=function(a,o){var u;o==null?u=this.$cEditor:u=this.$editors[o];var f=this.$editors.some(function(m){return m.session===a});return f&&(a=this.$cloneSession(a)),u.setSession(a),a},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(a){this.$orientation!=a&&(this.$orientation=a,this.resize())},this.resize=function(){var a=this.$container.clientWidth,o=this.$container.clientHeight,u;if(this.$orientation==this.BESIDE)for(var f=a/this.$splits,m=0;m<this.$splits;m++)u=this.$editors[m],u.container.style.width=f+"px",u.container.style.top="0px",u.container.style.left=m*f+"px",u.container.style.height=o+"px",u.resize();else for(var x=o/this.$splits,m=0;m<this.$splits;m++)u=this.$editors[m],u.container.style.width=a+"px",u.container.style.top=m*x+"px",u.container.style.left="0px",u.container.style.height=x+"px",u.resize()}}).call(c.prototype),l.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(i,l,T){T.exports=i("../split")}),(function(){ace.require(["ace/ext/split"],function(i){e&&(e.exports=i)})})()})(extSplit)),extSplit.exports}var lodash_get,hasRequiredLodash_get;function requireLodash_get(){if(hasRequiredLodash_get)return lodash_get;hasRequiredLodash_get=1;var e="Expected a function",n="__lodash_hash_undefined__",i="[object Function]",l="[object GeneratorFunction]",T="[object Symbol]",g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/,w=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/[\\^$.*+?()[\]{}|]/g,c=/\\(\\)?/g,a=/^\[object .+?Constructor\]$/,o=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,u=typeof self=="object"&&self&&self.Object===Object&&self,f=o||u||Function("return this")();function m(Ce,Ke){return Ce?.[Ke]}function x(Ce){var Ke=!1;if(Ce!=null&&typeof Ce.toString!="function")try{Ke=!!(Ce+"")}catch{}return Ke}var E=Array.prototype,S=Function.prototype,R=Object.prototype,M=f["__core-js_shared__"],k=(function(){var Ce=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return Ce?"Symbol(src)_1."+Ce:""})(),v=S.toString,F=R.hasOwnProperty,I=R.toString,A=RegExp("^"+v.call(F).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=f.Symbol,P=E.splice,B=nn(f,"Map"),U=nn(Object,"create"),W=$?$.prototype:void 0,j=W?W.toString:void 0;function H(Ce){var Ke=-1,pt=Ce?Ce.length:0;for(this.clear();++Ke<pt;){var it=Ce[Ke];this.set(it[0],it[1])}}function Q(){this.__data__=U?U(null):{}}function X(Ce){return this.has(Ce)&&delete this.__data__[Ce]}function ee(Ce){var Ke=this.__data__;if(U){var pt=Ke[Ce];return pt===n?void 0:pt}return F.call(Ke,Ce)?Ke[Ce]:void 0}function ie(Ce){var Ke=this.__data__;return U?Ke[Ce]!==void 0:F.call(Ke,Ce)}function ne(Ce,Ke){var pt=this.__data__;return pt[Ce]=U&&Ke===void 0?n:Ke,this}H.prototype.clear=Q,H.prototype.delete=X,H.prototype.get=ee,H.prototype.has=ie,H.prototype.set=ne;function ae(Ce){var Ke=-1,pt=Ce?Ce.length:0;for(this.clear();++Ke<pt;){var it=Ce[Ke];this.set(it[0],it[1])}}function re(){this.__data__=[]}function fe(Ce){var Ke=this.__data__,pt=Pe(Ke,Ce);if(pt<0)return!1;var it=Ke.length-1;return pt==it?Ke.pop():P.call(Ke,pt,1),!0}function pe(Ce){var Ke=this.__data__,pt=Pe(Ke,Ce);return pt<0?void 0:Ke[pt][1]}function he(Ce){return Pe(this.__data__,Ce)>-1}function $e(Ce,Ke){var pt=this.__data__,it=Pe(pt,Ce);return it<0?pt.push([Ce,Ke]):pt[it][1]=Ke,this}ae.prototype.clear=re,ae.prototype.delete=fe,ae.prototype.get=pe,ae.prototype.has=he,ae.prototype.set=$e;function Le(Ce){var Ke=-1,pt=Ce?Ce.length:0;for(this.clear();++Ke<pt;){var it=Ce[Ke];this.set(it[0],it[1])}}function Oe(){this.__data__={hash:new H,map:new(B||ae),string:new H}}function Ne(Ce){return Dt(this,Ce).delete(Ce)}function be(Ce){return Dt(this,Ce).get(Ce)}function Se(Ce){return Dt(this,Ce).has(Ce)}function ge(Ce,Ke){return Dt(this,Ce).set(Ce,Ke),this}Le.prototype.clear=Oe,Le.prototype.delete=Ne,Le.prototype.get=be,Le.prototype.has=Se,Le.prototype.set=ge;function Pe(Ce,Ke){for(var pt=Ce.length;pt--;)if(wt(Ce[pt][0],Ke))return pt;return-1}function Je(Ce,Ke){Ke=fn(Ke,Ce)?[Ke]:Ot(Ke);for(var pt=0,it=Ke.length;Ce!=null&&pt<it;)Ce=Ce[Mt(Ke[pt++])];return pt&&pt==it?Ce:void 0}function Ve(Ce){if(!Ee(Ce)||Be(Ce))return!1;var Ke=we(Ce)||x(Ce)?A:a;return Ke.test(zt(Ce))}function Tt(Ce){if(typeof Ce=="string")return Ce;if(mt(Ce))return j?j.call(Ce):"";var Ke=Ce+"";return Ke=="0"&&1/Ce==-1/0?"-0":Ke}function Ot(Ce){return xn(Ce)?Ce:He(Ce)}function Dt(Ce,Ke){var pt=Ce.__data__;return bn(Ke)?pt[typeof Ke=="string"?"string":"hash"]:pt.map}function nn(Ce,Ke){var pt=m(Ce,Ke);return Ve(pt)?pt:void 0}function fn(Ce,Ke){if(xn(Ce))return!1;var pt=typeof Ce;return pt=="number"||pt=="symbol"||pt=="boolean"||Ce==null||mt(Ce)?!0:b.test(Ce)||!g.test(Ce)||Ke!=null&&Ce in Object(Ke)}function bn(Ce){var Ke=typeof Ce;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?Ce!=="__proto__":Ce===null}function Be(Ce){return!!k&&k in Ce}var He=Ft(function(Ce){Ce=_t(Ce);var Ke=[];return w.test(Ce)&&Ke.push(""),Ce.replace(d,function(pt,it,Rt,dt){Ke.push(Rt?dt.replace(c,"$1"):it||pt)}),Ke});function Mt(Ce){if(typeof Ce=="string"||mt(Ce))return Ce;var Ke=Ce+"";return Ke=="0"&&1/Ce==-1/0?"-0":Ke}function zt(Ce){if(Ce!=null){try{return v.call(Ce)}catch{}try{return Ce+""}catch{}}return""}function Ft(Ce,Ke){if(typeof Ce!="function"||Ke&&typeof Ke!="function")throw new TypeError(e);var pt=function(){var it=arguments,Rt=Ke?Ke.apply(this,it):it[0],dt=pt.cache;if(dt.has(Rt))return dt.get(Rt);var bt=Ce.apply(this,it);return pt.cache=dt.set(Rt,bt),bt};return pt.cache=new(Ft.Cache||Le),pt}Ft.Cache=Le;function wt(Ce,Ke){return Ce===Ke||Ce!==Ce&&Ke!==Ke}var xn=Array.isArray;function we(Ce){var Ke=Ee(Ce)?I.call(Ce):"";return Ke==i||Ke==l}function Ee(Ce){var Ke=typeof Ce;return!!Ce&&(Ke=="object"||Ke=="function")}function Ae(Ce){return!!Ce&&typeof Ce=="object"}function mt(Ce){return typeof Ce=="symbol"||Ae(Ce)&&I.call(Ce)==T}function _t(Ce){return Ce==null?"":Tt(Ce)}function st(Ce,Ke,pt){var it=Ce==null?void 0:Je(Ce,Ke);return it===void 0?pt:it}return lodash_get=st,lodash_get}var hasRequiredSplit;function requireSplit(){if(hasRequiredSplit)return split;hasRequiredSplit=1;var e=split&&split.__extends||(function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(f[x]=m[x])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(o,u);function f(){this.constructor=o}o.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})(),n=split&&split.__assign||function(){return n=Object.assign||function(a){for(var o,u=1,f=arguments.length;u<f;u++){o=arguments[u];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(a[m]=o[m])}return a},n.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var i=requireEditorOptions(),l=(0,i.getAceInstance)(),T=requireAce$1(),g=requireExtSplit(),b=requirePropTypes(),w=requireReact(),d=requireLodash_isequal(),h=requireLodash_get(),c=(function(a){e(o,a);function o(u){var f=a.call(this,u)||this;return i.editorEvents.forEach(function(m){f[m]=f[m].bind(f)}),f.debounce=i.debounce,f}return o.prototype.isInShadow=function(u){for(var f=u&&u.parentNode;f;){if(f.toString()==="[object ShadowRoot]")return!0;f=f.parentNode}return!1},o.prototype.componentDidMount=function(){var u=this,f=this.props,m=f.className,x=f.onBeforeLoad,E=f.mode,S=f.focus,R=f.theme,M=f.fontSize,k=f.value,v=f.defaultValue,F=f.cursorStart,I=f.showGutter,A=f.wrapEnabled,$=f.showPrintMargin,P=f.scrollMargin,B=P===void 0?[0,0,0,0]:P,U=f.keyboardHandler,W=f.onLoad,j=f.commands,H=f.annotations,Q=f.markers,X=f.splits;this.editor=l.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(R)),x&&x(l);var ee=Object.keys(this.props.editorProps),ie=new g.Split(this.editor.container,"ace/theme/".concat(R),X);this.editor.env.split=ie,this.splitEditor=ie.getEditor(0),this.split=ie,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var ne=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),ie.forEach(function(re,fe){for(var pe=0;pe<ee.length;pe++)re[ee[pe]]=u.props.editorProps[ee[pe]];var he=h(v,fe),$e=h(k,fe,"");re.session.setUndoManager(new l.UndoManager),re.setTheme("ace/theme/".concat(R)),re.renderer.setScrollMargin(B[0],B[1],B[2],B[3]),re.getSession().setMode("ace/mode/".concat(E)),re.setFontSize(M),re.renderer.setShowGutter(I),re.getSession().setUseWrapMode(A),re.setShowPrintMargin($),re.on("focus",u.onFocus),re.on("blur",u.onBlur),re.on("input",u.onInput),re.on("copy",u.onCopy),re.on("paste",u.onPaste),re.on("change",u.onChange),re.getSession().selection.on("changeSelection",u.onSelectionChange),re.getSession().selection.on("changeCursor",u.onCursorChange),re.session.on("changeScrollTop",u.onScroll),re.setValue(he===void 0?$e:he,F);var Le=h(H,fe,[]),Oe=h(Q,fe,[]);re.getSession().setAnnotations(Le),Oe&&Oe.length>0&&u.handleMarkers(Oe,re);for(var pe=0;pe<i.editorOptions.length;pe++){var Ne=i.editorOptions[pe];ne.hasOwnProperty(Ne)?re.setOption(Ne,u.props[Ne]):u.props[Ne]&&console.warn("ReaceAce: editor option ".concat(Ne," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}u.handleOptions(u.props,re),Array.isArray(j)&&j.forEach(function(be){typeof be.exec=="string"?re.commands.bindKey(be.bindKey,be.exec):re.commands.addCommand(be)}),U&&re.setKeyboardHandler("ace/keyboard/"+U)}),m&&(this.refEditor.className+=" "+m),S&&this.splitEditor.focus();var ae=this.editor.env.split;ae.setOrientation(this.props.orientation==="below"?ae.BELOW:ae.BESIDE),ae.resize(!0),W&&W(ae)},o.prototype.componentDidUpdate=function(u){var f=this,m=u,x=this.props,E=this.editor.env.split;if(x.splits!==m.splits&&E.setSplits(x.splits),x.orientation!==m.orientation&&E.setOrientation(x.orientation==="below"?E.BELOW:E.BESIDE),E.forEach(function(k,v){x.mode!==m.mode&&k.getSession().setMode("ace/mode/"+x.mode),x.keyboardHandler!==m.keyboardHandler&&(x.keyboardHandler?k.setKeyboardHandler("ace/keyboard/"+x.keyboardHandler):k.setKeyboardHandler(null)),x.fontSize!==m.fontSize&&k.setFontSize(x.fontSize),x.wrapEnabled!==m.wrapEnabled&&k.getSession().setUseWrapMode(x.wrapEnabled),x.showPrintMargin!==m.showPrintMargin&&k.setShowPrintMargin(x.showPrintMargin),x.showGutter!==m.showGutter&&k.renderer.setShowGutter(x.showGutter);for(var F=0;F<i.editorOptions.length;F++){var I=i.editorOptions[F];x[I]!==m[I]&&k.setOption(I,x[I])}d(x.setOptions,m.setOptions)||f.handleOptions(x,k);var A=h(x.value,v,"");if(k.getValue()!==A){f.silent=!0;var $=k.session.selection.toJSON();k.setValue(A,x.cursorStart),k.session.selection.fromJSON($),f.silent=!1}var P=h(x.annotations,v,[]),B=h(m.annotations,v,[]);d(P,B)||k.getSession().setAnnotations(P);var U=h(x.markers,v,[]),W=h(m.markers,v,[]);!d(U,W)&&Array.isArray(U)&&f.handleMarkers(U,k)}),x.className!==m.className){var S=this.refEditor.className,R=S.trim().split(" "),M=m.className.trim().split(" ");M.forEach(function(k){var v=R.indexOf(k);R.splice(v,1)}),this.refEditor.className=" "+x.className+" "+R.join(" ")}x.theme!==m.theme&&E.setTheme("ace/theme/"+x.theme),x.focus&&!m.focus&&this.splitEditor.focus(),(x.height!==this.props.height||x.width!==this.props.width)&&this.editor.resize()},o.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},o.prototype.onChange=function(u){if(this.props.onChange&&!this.silent){var f=[];this.editor.env.split.forEach(function(m){f.push(m.getValue())}),this.props.onChange(f,u)}},o.prototype.onSelectionChange=function(u){if(this.props.onSelectionChange){var f=[];this.editor.env.split.forEach(function(m){f.push(m.getSelection())}),this.props.onSelectionChange(f,u)}},o.prototype.onCursorChange=function(u){if(this.props.onCursorChange){var f=[];this.editor.env.split.forEach(function(m){f.push(m.getSelection())}),this.props.onCursorChange(f,u)}},o.prototype.onFocus=function(u){this.props.onFocus&&this.props.onFocus(u)},o.prototype.onInput=function(u){this.props.onInput&&this.props.onInput(u)},o.prototype.onBlur=function(u){this.props.onBlur&&this.props.onBlur(u)},o.prototype.onCopy=function(u){this.props.onCopy&&this.props.onCopy(u)},o.prototype.onPaste=function(u){this.props.onPaste&&this.props.onPaste(u)},o.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},o.prototype.handleOptions=function(u,f){for(var m=Object.keys(u.setOptions),x=0;x<m.length;x++)f.setOption(m[x],u.setOptions[m[x]])},o.prototype.handleMarkers=function(u,f){var m=f.getSession().getMarkers(!0);for(var x in m)m.hasOwnProperty(x)&&f.getSession().removeMarker(m[x].id);m=f.getSession().getMarkers(!1);for(var x in m)m.hasOwnProperty(x)&&f.getSession().removeMarker(m[x].id);u.forEach(function(E){var S=E.startRow,R=E.startCol,M=E.endRow,k=E.endCol,v=E.className,F=E.type,I=E.inFront,A=I===void 0?!1:I,$=new T.Range(S,R,M,k);f.getSession().addMarker($,v,F,A)})},o.prototype.updateRef=function(u){this.refEditor=u},o.prototype.render=function(){var u=this.props,f=u.name,m=u.width,x=u.height,E=u.style,S=n({width:m,height:x},E);return w.createElement("div",{ref:this.updateRef,id:f,style:S})},o.propTypes={className:b.string,debounceChangePeriod:b.number,defaultValue:b.arrayOf(b.string),focus:b.bool,fontSize:b.oneOfType([b.number,b.string]),height:b.string,mode:b.string,name:b.string,onBlur:b.func,onChange:b.func,onCopy:b.func,onFocus:b.func,onInput:b.func,onLoad:b.func,onPaste:b.func,onScroll:b.func,orientation:b.string,showGutter:b.bool,splits:b.number,theme:b.string,value:b.arrayOf(b.string),width:b.string,onSelectionChange:b.func,onCursorChange:b.func,onBeforeLoad:b.func,minLines:b.number,maxLines:b.number,readOnly:b.bool,highlightActiveLine:b.bool,tabSize:b.number,showPrintMargin:b.bool,cursorStart:b.number,editorProps:b.object,setOptions:b.object,style:b.object,scrollMargin:b.array,annotations:b.array,markers:b.array,keyboardHandler:b.string,wrapEnabled:b.bool,enableBasicAutocompletion:b.oneOfType([b.bool,b.array]),enableLiveAutocompletion:b.oneOfType([b.bool,b.array]),commands:b.array},o.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},o})(w.Component);return split.default=c,split}var diffMatchPatch={exports:{}},hasRequiredDiffMatchPatch;function requireDiffMatchPatch(){return hasRequiredDiffMatchPatch||(hasRequiredDiffMatchPatch=1,(function(e){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},i=-1,l=1,T=0;n.Diff=function(g,b){return[g,b]},n.prototype.diff_main=function(g,b,w,d){typeof d>"u"&&(this.Diff_Timeout<=0?d=Number.MAX_VALUE:d=new Date().getTime()+this.Diff_Timeout*1e3);var h=d;if(g==null||b==null)throw new Error("Null input. (diff_main)");if(g==b)return g?[new n.Diff(T,g)]:[];typeof w>"u"&&(w=!0);var c=w,a=this.diff_commonPrefix(g,b),o=g.substring(0,a);g=g.substring(a),b=b.substring(a),a=this.diff_commonSuffix(g,b);var u=g.substring(g.length-a);g=g.substring(0,g.length-a),b=b.substring(0,b.length-a);var f=this.diff_compute_(g,b,c,h);return o&&f.unshift(new n.Diff(T,o)),u&&f.push(new n.Diff(T,u)),this.diff_cleanupMerge(f),f},n.prototype.diff_compute_=function(g,b,w,d){var h;if(!g)return[new n.Diff(l,b)];if(!b)return[new n.Diff(i,g)];var c=g.length>b.length?g:b,a=g.length>b.length?b:g,o=c.indexOf(a);if(o!=-1)return h=[new n.Diff(l,c.substring(0,o)),new n.Diff(T,a),new n.Diff(l,c.substring(o+a.length))],g.length>b.length&&(h[0][0]=h[2][0]=i),h;if(a.length==1)return[new n.Diff(i,g),new n.Diff(l,b)];var u=this.diff_halfMatch_(g,b);if(u){var f=u[0],m=u[1],x=u[2],E=u[3],S=u[4],R=this.diff_main(f,x,w,d),M=this.diff_main(m,E,w,d);return R.concat([new n.Diff(T,S)],M)}return w&&g.length>100&&b.length>100?this.diff_lineMode_(g,b,d):this.diff_bisect_(g,b,d)},n.prototype.diff_lineMode_=function(g,b,w){var d=this.diff_linesToChars_(g,b);g=d.chars1,b=d.chars2;var h=d.lineArray,c=this.diff_main(g,b,!1,w);this.diff_charsToLines_(c,h),this.diff_cleanupSemantic(c),c.push(new n.Diff(T,""));for(var a=0,o=0,u=0,f="",m="";a<c.length;){switch(c[a][0]){case l:u++,m+=c[a][1];break;case i:o++,f+=c[a][1];break;case T:if(o>=1&&u>=1){c.splice(a-o-u,o+u),a=a-o-u;for(var x=this.diff_main(f,m,!1,w),E=x.length-1;E>=0;E--)c.splice(a,0,x[E]);a=a+x.length}u=0,o=0,f="",m="";break}a++}return c.pop(),c},n.prototype.diff_bisect_=function(g,b,w){for(var d=g.length,h=b.length,c=Math.ceil((d+h)/2),a=c,o=2*c,u=new Array(o),f=new Array(o),m=0;m<o;m++)u[m]=-1,f[m]=-1;u[a+1]=0,f[a+1]=0;for(var x=d-h,E=x%2!=0,S=0,R=0,M=0,k=0,v=0;v<c&&!(new Date().getTime()>w);v++){for(var F=-v+S;F<=v-R;F+=2){var I=a+F,A;F==-v||F!=v&&u[I-1]<u[I+1]?A=u[I+1]:A=u[I-1]+1;for(var $=A-F;A<d&&$<h&&g.charAt(A)==b.charAt($);)A++,$++;if(u[I]=A,A>d)R+=2;else if($>h)S+=2;else if(E){var P=a+x-F;if(P>=0&&P<o&&f[P]!=-1){var B=d-f[P];if(A>=B)return this.diff_bisectSplit_(g,b,A,$,w)}}}for(var U=-v+M;U<=v-k;U+=2){var P=a+U,B;U==-v||U!=v&&f[P-1]<f[P+1]?B=f[P+1]:B=f[P-1]+1;for(var W=B-U;B<d&&W<h&&g.charAt(d-B-1)==b.charAt(h-W-1);)B++,W++;if(f[P]=B,B>d)k+=2;else if(W>h)M+=2;else if(!E){var I=a+x-U;if(I>=0&&I<o&&u[I]!=-1){var A=u[I],$=a+A-I;if(B=d-B,A>=B)return this.diff_bisectSplit_(g,b,A,$,w)}}}}return[new n.Diff(i,g),new n.Diff(l,b)]},n.prototype.diff_bisectSplit_=function(g,b,w,d,h){var c=g.substring(0,w),a=b.substring(0,d),o=g.substring(w),u=b.substring(d),f=this.diff_main(c,a,!1,h),m=this.diff_main(o,u,!1,h);return f.concat(m)},n.prototype.diff_linesToChars_=function(g,b){var w=[],d={};w[0]="";function h(u){for(var f="",m=0,x=-1,E=w.length;x<u.length-1;){x=u.indexOf(`
`,m),x==-1&&(x=u.length-1);var S=u.substring(m,x+1);(d.hasOwnProperty?d.hasOwnProperty(S):d[S]!==void 0)?f+=String.fromCharCode(d[S]):(E==c&&(S=u.substring(m),x=u.length),f+=String.fromCharCode(E),d[S]=E,w[E++]=S),m=x+1}return f}var c=4e4,a=h(g);c=65535;var o=h(b);return{chars1:a,chars2:o,lineArray:w}},n.prototype.diff_charsToLines_=function(g,b){for(var w=0;w<g.length;w++){for(var d=g[w][1],h=[],c=0;c<d.length;c++)h[c]=b[d.charCodeAt(c)];g[w][1]=h.join("")}},n.prototype.diff_commonPrefix=function(g,b){if(!g||!b||g.charAt(0)!=b.charAt(0))return 0;for(var w=0,d=Math.min(g.length,b.length),h=d,c=0;w<h;)g.substring(c,h)==b.substring(c,h)?(w=h,c=w):d=h,h=Math.floor((d-w)/2+w);return h},n.prototype.diff_commonSuffix=function(g,b){if(!g||!b||g.charAt(g.length-1)!=b.charAt(b.length-1))return 0;for(var w=0,d=Math.min(g.length,b.length),h=d,c=0;w<h;)g.substring(g.length-h,g.length-c)==b.substring(b.length-h,b.length-c)?(w=h,c=w):d=h,h=Math.floor((d-w)/2+w);return h},n.prototype.diff_commonOverlap_=function(g,b){var w=g.length,d=b.length;if(w==0||d==0)return 0;w>d?g=g.substring(w-d):w<d&&(b=b.substring(0,w));var h=Math.min(w,d);if(g==b)return h;for(var c=0,a=1;;){var o=g.substring(h-a),u=b.indexOf(o);if(u==-1)return c;a+=u,(u==0||g.substring(h-a)==b.substring(0,a))&&(c=a,a++)}},n.prototype.diff_halfMatch_=function(g,b){if(this.Diff_Timeout<=0)return null;var w=g.length>b.length?g:b,d=g.length>b.length?b:g;if(w.length<4||d.length*2<w.length)return null;var h=this;function c(R,M,k){for(var v=R.substring(k,k+Math.floor(R.length/4)),F=-1,I="",A,$,P,B;(F=M.indexOf(v,F+1))!=-1;){var U=h.diff_commonPrefix(R.substring(k),M.substring(F)),W=h.diff_commonSuffix(R.substring(0,k),M.substring(0,F));I.length<W+U&&(I=M.substring(F-W,F)+M.substring(F,F+U),A=R.substring(0,k-W),$=R.substring(k+U),P=M.substring(0,F-W),B=M.substring(F+U))}return I.length*2>=R.length?[A,$,P,B,I]:null}var a=c(w,d,Math.ceil(w.length/4)),o=c(w,d,Math.ceil(w.length/2)),u;if(!a&&!o)return null;o?a?u=a[4].length>o[4].length?a:o:u=o:u=a;var f,m,x,E;g.length>b.length?(f=u[0],m=u[1],x=u[2],E=u[3]):(x=u[0],E=u[1],f=u[2],m=u[3]);var S=u[4];return[f,m,x,E,S]},n.prototype.diff_cleanupSemantic=function(g){for(var b=!1,w=[],d=0,h=null,c=0,a=0,o=0,u=0,f=0;c<g.length;)g[c][0]==T?(w[d++]=c,a=u,o=f,u=0,f=0,h=g[c][1]):(g[c][0]==l?u+=g[c][1].length:f+=g[c][1].length,h&&h.length<=Math.max(a,o)&&h.length<=Math.max(u,f)&&(g.splice(w[d-1],0,new n.Diff(i,h)),g[w[d-1]+1][0]=l,d--,d--,c=d>0?w[d-1]:-1,a=0,o=0,u=0,f=0,h=null,b=!0)),c++;for(b&&this.diff_cleanupMerge(g),this.diff_cleanupSemanticLossless(g),c=1;c<g.length;){if(g[c-1][0]==i&&g[c][0]==l){var m=g[c-1][1],x=g[c][1],E=this.diff_commonOverlap_(m,x),S=this.diff_commonOverlap_(x,m);E>=S?(E>=m.length/2||E>=x.length/2)&&(g.splice(c,0,new n.Diff(T,x.substring(0,E))),g[c-1][1]=m.substring(0,m.length-E),g[c+1][1]=x.substring(E),c++):(S>=m.length/2||S>=x.length/2)&&(g.splice(c,0,new n.Diff(T,m.substring(0,S))),g[c-1][0]=l,g[c-1][1]=x.substring(0,x.length-S),g[c+1][0]=i,g[c+1][1]=m.substring(S),c++),c++}c++}},n.prototype.diff_cleanupSemanticLossless=function(g){function b(S,R){if(!S||!R)return 6;var M=S.charAt(S.length-1),k=R.charAt(0),v=M.match(n.nonAlphaNumericRegex_),F=k.match(n.nonAlphaNumericRegex_),I=v&&M.match(n.whitespaceRegex_),A=F&&k.match(n.whitespaceRegex_),$=I&&M.match(n.linebreakRegex_),P=A&&k.match(n.linebreakRegex_),B=$&&S.match(n.blanklineEndRegex_),U=P&&R.match(n.blanklineStartRegex_);return B||U?5:$||P?4:v&&!I&&A?3:I||A?2:v||F?1:0}for(var w=1;w<g.length-1;){if(g[w-1][0]==T&&g[w+1][0]==T){var d=g[w-1][1],h=g[w][1],c=g[w+1][1],a=this.diff_commonSuffix(d,h);if(a){var o=h.substring(h.length-a);d=d.substring(0,d.length-a),h=o+h.substring(0,h.length-a),c=o+c}for(var u=d,f=h,m=c,x=b(d,h)+b(h,c);h.charAt(0)===c.charAt(0);){d+=h.charAt(0),h=h.substring(1)+c.charAt(0),c=c.substring(1);var E=b(d,h)+b(h,c);E>=x&&(x=E,u=d,f=h,m=c)}g[w-1][1]!=u&&(u?g[w-1][1]=u:(g.splice(w-1,1),w--),g[w][1]=f,m?g[w+1][1]=m:(g.splice(w+1,1),w--))}w++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(g){for(var b=!1,w=[],d=0,h=null,c=0,a=!1,o=!1,u=!1,f=!1;c<g.length;)g[c][0]==T?(g[c][1].length<this.Diff_EditCost&&(u||f)?(w[d++]=c,a=u,o=f,h=g[c][1]):(d=0,h=null),u=f=!1):(g[c][0]==i?f=!0:u=!0,h&&(a&&o&&u&&f||h.length<this.Diff_EditCost/2&&a+o+u+f==3)&&(g.splice(w[d-1],0,new n.Diff(i,h)),g[w[d-1]+1][0]=l,d--,h=null,a&&o?(u=f=!0,d=0):(d--,c=d>0?w[d-1]:-1,u=f=!1),b=!0)),c++;b&&this.diff_cleanupMerge(g)},n.prototype.diff_cleanupMerge=function(g){g.push(new n.Diff(T,""));for(var b=0,w=0,d=0,h="",c="",a;b<g.length;)switch(g[b][0]){case l:d++,c+=g[b][1],b++;break;case i:w++,h+=g[b][1],b++;break;case T:w+d>1?(w!==0&&d!==0&&(a=this.diff_commonPrefix(c,h),a!==0&&(b-w-d>0&&g[b-w-d-1][0]==T?g[b-w-d-1][1]+=c.substring(0,a):(g.splice(0,0,new n.Diff(T,c.substring(0,a))),b++),c=c.substring(a),h=h.substring(a)),a=this.diff_commonSuffix(c,h),a!==0&&(g[b][1]=c.substring(c.length-a)+g[b][1],c=c.substring(0,c.length-a),h=h.substring(0,h.length-a))),b-=w+d,g.splice(b,w+d),h.length&&(g.splice(b,0,new n.Diff(i,h)),b++),c.length&&(g.splice(b,0,new n.Diff(l,c)),b++),b++):b!==0&&g[b-1][0]==T?(g[b-1][1]+=g[b][1],g.splice(b,1)):b++,d=0,w=0,h="",c="";break}g[g.length-1][1]===""&&g.pop();var o=!1;for(b=1;b<g.length-1;)g[b-1][0]==T&&g[b+1][0]==T&&(g[b][1].substring(g[b][1].length-g[b-1][1].length)==g[b-1][1]?(g[b][1]=g[b-1][1]+g[b][1].substring(0,g[b][1].length-g[b-1][1].length),g[b+1][1]=g[b-1][1]+g[b+1][1],g.splice(b-1,1),o=!0):g[b][1].substring(0,g[b+1][1].length)==g[b+1][1]&&(g[b-1][1]+=g[b+1][1],g[b][1]=g[b][1].substring(g[b+1][1].length)+g[b+1][1],g.splice(b+1,1),o=!0)),b++;o&&this.diff_cleanupMerge(g)},n.prototype.diff_xIndex=function(g,b){var w=0,d=0,h=0,c=0,a;for(a=0;a<g.length&&(g[a][0]!==l&&(w+=g[a][1].length),g[a][0]!==i&&(d+=g[a][1].length),!(w>b));a++)h=w,c=d;return g.length!=a&&g[a][0]===i?c:c+(b-h)},n.prototype.diff_prettyHtml=function(g){for(var b=[],w=/&/g,d=/</g,h=/>/g,c=/\n/g,a=0;a<g.length;a++){var o=g[a][0],u=g[a][1],f=u.replace(w,"&amp;").replace(d,"&lt;").replace(h,"&gt;").replace(c,"&para;<br>");switch(o){case l:b[a]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case i:b[a]='<del style="background:#ffe6e6;">'+f+"</del>";break;case T:b[a]="<span>"+f+"</span>";break}}return b.join("")},n.prototype.diff_text1=function(g){for(var b=[],w=0;w<g.length;w++)g[w][0]!==l&&(b[w]=g[w][1]);return b.join("")},n.prototype.diff_text2=function(g){for(var b=[],w=0;w<g.length;w++)g[w][0]!==i&&(b[w]=g[w][1]);return b.join("")},n.prototype.diff_levenshtein=function(g){for(var b=0,w=0,d=0,h=0;h<g.length;h++){var c=g[h][0],a=g[h][1];switch(c){case l:w+=a.length;break;case i:d+=a.length;break;case T:b+=Math.max(w,d),w=0,d=0;break}}return b+=Math.max(w,d),b},n.prototype.diff_toDelta=function(g){for(var b=[],w=0;w<g.length;w++)switch(g[w][0]){case l:b[w]="+"+encodeURI(g[w][1]);break;case i:b[w]="-"+g[w][1].length;break;case T:b[w]="="+g[w][1].length;break}return b.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(g,b){for(var w=[],d=0,h=0,c=b.split(/\t/g),a=0;a<c.length;a++){var o=c[a].substring(1);switch(c[a].charAt(0)){case"+":try{w[d++]=new n.Diff(l,decodeURI(o))}catch{throw new Error("Illegal escape in diff_fromDelta: "+o)}break;case"-":case"=":var u=parseInt(o,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+o);var f=g.substring(h,h+=u);c[a].charAt(0)=="="?w[d++]=new n.Diff(T,f):w[d++]=new n.Diff(i,f);break;default:if(c[a])throw new Error("Invalid diff operation in diff_fromDelta: "+c[a])}}if(h!=g.length)throw new Error("Delta length ("+h+") does not equal source text length ("+g.length+").");return w},n.prototype.match_main=function(g,b,w){if(g==null||b==null||w==null)throw new Error("Null input. (match_main)");return w=Math.max(0,Math.min(w,g.length)),g==b?0:g.length?g.substring(w,w+b.length)==b?w:this.match_bitap_(g,b,w):-1},n.prototype.match_bitap_=function(g,b,w){if(b.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var d=this.match_alphabet_(b),h=this;function c(A,$){var P=A/b.length,B=Math.abs(w-$);return h.Match_Distance?P+B/h.Match_Distance:B?1:P}var a=this.Match_Threshold,o=g.indexOf(b,w);o!=-1&&(a=Math.min(c(0,o),a),o=g.lastIndexOf(b,w+b.length),o!=-1&&(a=Math.min(c(0,o),a)));var u=1<<b.length-1;o=-1;for(var f,m,x=b.length+g.length,E,S=0;S<b.length;S++){for(f=0,m=x;f<m;)c(S,w+m)<=a?f=m:x=m,m=Math.floor((x-f)/2+f);x=m;var R=Math.max(1,w-m+1),M=Math.min(w+m,g.length)+b.length,k=Array(M+2);k[M+1]=(1<<S)-1;for(var v=M;v>=R;v--){var F=d[g.charAt(v-1)];if(S===0?k[v]=(k[v+1]<<1|1)&F:k[v]=(k[v+1]<<1|1)&F|((E[v+1]|E[v])<<1|1)|E[v+1],k[v]&u){var I=c(S,v-1);if(I<=a)if(a=I,o=v-1,o>w)R=Math.max(1,2*w-o);else break}}if(c(S+1,w)>a)break;E=k}return o},n.prototype.match_alphabet_=function(g){for(var b={},w=0;w<g.length;w++)b[g.charAt(w)]=0;for(var w=0;w<g.length;w++)b[g.charAt(w)]|=1<<g.length-w-1;return b},n.prototype.patch_addContext_=function(g,b){if(b.length!=0){if(g.start2===null)throw Error("patch not initialized");for(var w=b.substring(g.start2,g.start2+g.length1),d=0;b.indexOf(w)!=b.lastIndexOf(w)&&w.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,w=b.substring(g.start2-d,g.start2+g.length1+d);d+=this.Patch_Margin;var h=b.substring(g.start2-d,g.start2);h&&g.diffs.unshift(new n.Diff(T,h));var c=b.substring(g.start2+g.length1,g.start2+g.length1+d);c&&g.diffs.push(new n.Diff(T,c)),g.start1-=h.length,g.start2-=h.length,g.length1+=h.length+c.length,g.length2+=h.length+c.length}},n.prototype.patch_make=function(g,b,w){var d,h;if(typeof g=="string"&&typeof b=="string"&&typeof w>"u")d=g,h=this.diff_main(d,b,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(g&&typeof g=="object"&&typeof b>"u"&&typeof w>"u")h=g,d=this.diff_text1(h);else if(typeof g=="string"&&b&&typeof b=="object"&&typeof w>"u")d=g,h=b;else if(typeof g=="string"&&typeof b=="string"&&w&&typeof w=="object")d=g,h=w;else throw new Error("Unknown call format to patch_make.");if(h.length===0)return[];for(var c=[],a=new n.patch_obj,o=0,u=0,f=0,m=d,x=d,E=0;E<h.length;E++){var S=h[E][0],R=h[E][1];switch(!o&&S!==T&&(a.start1=u,a.start2=f),S){case l:a.diffs[o++]=h[E],a.length2+=R.length,x=x.substring(0,f)+R+x.substring(f);break;case i:a.length1+=R.length,a.diffs[o++]=h[E],x=x.substring(0,f)+x.substring(f+R.length);break;case T:R.length<=2*this.Patch_Margin&&o&&h.length!=E+1?(a.diffs[o++]=h[E],a.length1+=R.length,a.length2+=R.length):R.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(a,m),c.push(a),a=new n.patch_obj,o=0,m=x,u=f);break}S!==l&&(u+=R.length),S!==i&&(f+=R.length)}return o&&(this.patch_addContext_(a,m),c.push(a)),c},n.prototype.patch_deepCopy=function(g){for(var b=[],w=0;w<g.length;w++){var d=g[w],h=new n.patch_obj;h.diffs=[];for(var c=0;c<d.diffs.length;c++)h.diffs[c]=new n.Diff(d.diffs[c][0],d.diffs[c][1]);h.start1=d.start1,h.start2=d.start2,h.length1=d.length1,h.length2=d.length2,b[w]=h}return b},n.prototype.patch_apply=function(g,b){if(g.length==0)return[b,[]];g=this.patch_deepCopy(g);var w=this.patch_addPadding(g);b=w+b+w,this.patch_splitMax(g);for(var d=0,h=[],c=0;c<g.length;c++){var a=g[c].start2+d,o=this.diff_text1(g[c].diffs),u,f=-1;if(o.length>this.Match_MaxBits?(u=this.match_main(b,o.substring(0,this.Match_MaxBits),a),u!=-1&&(f=this.match_main(b,o.substring(o.length-this.Match_MaxBits),a+o.length-this.Match_MaxBits),(f==-1||u>=f)&&(u=-1))):u=this.match_main(b,o,a),u==-1)h[c]=!1,d-=g[c].length2-g[c].length1;else{h[c]=!0,d=u-a;var m;if(f==-1?m=b.substring(u,u+o.length):m=b.substring(u,f+this.Match_MaxBits),o==m)b=b.substring(0,u)+this.diff_text2(g[c].diffs)+b.substring(u+o.length);else{var x=this.diff_main(o,m,!1);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(x)/o.length>this.Patch_DeleteThreshold)h[c]=!1;else{this.diff_cleanupSemanticLossless(x);for(var E=0,S,R=0;R<g[c].diffs.length;R++){var M=g[c].diffs[R];M[0]!==T&&(S=this.diff_xIndex(x,E)),M[0]===l?b=b.substring(0,u+S)+M[1]+b.substring(u+S):M[0]===i&&(b=b.substring(0,u+S)+b.substring(u+this.diff_xIndex(x,E+M[1].length))),M[0]!==i&&(E+=M[1].length)}}}}}return b=b.substring(w.length,b.length-w.length),[b,h]},n.prototype.patch_addPadding=function(g){for(var b=this.Patch_Margin,w="",d=1;d<=b;d++)w+=String.fromCharCode(d);for(var d=0;d<g.length;d++)g[d].start1+=b,g[d].start2+=b;var h=g[0],c=h.diffs;if(c.length==0||c[0][0]!=T)c.unshift(new n.Diff(T,w)),h.start1-=b,h.start2-=b,h.length1+=b,h.length2+=b;else if(b>c[0][1].length){var a=b-c[0][1].length;c[0][1]=w.substring(c[0][1].length)+c[0][1],h.start1-=a,h.start2-=a,h.length1+=a,h.length2+=a}if(h=g[g.length-1],c=h.diffs,c.length==0||c[c.length-1][0]!=T)c.push(new n.Diff(T,w)),h.length1+=b,h.length2+=b;else if(b>c[c.length-1][1].length){var a=b-c[c.length-1][1].length;c[c.length-1][1]+=w.substring(0,a),h.length1+=a,h.length2+=a}return w},n.prototype.patch_splitMax=function(g){for(var b=this.Match_MaxBits,w=0;w<g.length;w++)if(!(g[w].length1<=b)){var d=g[w];g.splice(w--,1);for(var h=d.start1,c=d.start2,a="";d.diffs.length!==0;){var o=new n.patch_obj,u=!0;for(o.start1=h-a.length,o.start2=c-a.length,a!==""&&(o.length1=o.length2=a.length,o.diffs.push(new n.Diff(T,a)));d.diffs.length!==0&&o.length1<b-this.Patch_Margin;){var f=d.diffs[0][0],m=d.diffs[0][1];f===l?(o.length2+=m.length,c+=m.length,o.diffs.push(d.diffs.shift()),u=!1):f===i&&o.diffs.length==1&&o.diffs[0][0]==T&&m.length>2*b?(o.length1+=m.length,h+=m.length,u=!1,o.diffs.push(new n.Diff(f,m)),d.diffs.shift()):(m=m.substring(0,b-o.length1-this.Patch_Margin),o.length1+=m.length,h+=m.length,f===T?(o.length2+=m.length,c+=m.length):u=!1,o.diffs.push(new n.Diff(f,m)),m==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(m.length))}a=this.diff_text2(o.diffs),a=a.substring(a.length-this.Patch_Margin);var x=this.diff_text1(d.diffs).substring(0,this.Patch_Margin);x!==""&&(o.length1+=x.length,o.length2+=x.length,o.diffs.length!==0&&o.diffs[o.diffs.length-1][0]===T?o.diffs[o.diffs.length-1][1]+=x:o.diffs.push(new n.Diff(T,x))),u||g.splice(++w,0,o)}}},n.prototype.patch_toText=function(g){for(var b=[],w=0;w<g.length;w++)b[w]=g[w];return b.join("")},n.prototype.patch_fromText=function(g){var b=[];if(!g)return b;for(var w=g.split(`
`),d=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;d<w.length;){var c=w[d].match(h);if(!c)throw new Error("Invalid patch string: "+w[d]);var a=new n.patch_obj;for(b.push(a),a.start1=parseInt(c[1],10),c[2]===""?(a.start1--,a.length1=1):c[2]=="0"?a.length1=0:(a.start1--,a.length1=parseInt(c[2],10)),a.start2=parseInt(c[3],10),c[4]===""?(a.start2--,a.length2=1):c[4]=="0"?a.length2=0:(a.start2--,a.length2=parseInt(c[4],10)),d++;d<w.length;){var o=w[d].charAt(0);try{var u=decodeURI(w[d].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+u)}if(o=="-")a.diffs.push(new n.Diff(i,u));else if(o=="+")a.diffs.push(new n.Diff(l,u));else if(o==" ")a.diffs.push(new n.Diff(T,u));else{if(o=="@")break;if(o!=="")throw new Error('Invalid patch mode "'+o+'" in: '+u)}d++}}return b},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){var g,b;this.length1===0?g=this.start1+",0":this.length1==1?g=this.start1+1:g=this.start1+1+","+this.length1,this.length2===0?b=this.start2+",0":this.length2==1?b=this.start2+1:b=this.start2+1+","+this.length2;for(var w=["@@ -"+g+" +"+b+` @@
`],d,h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case l:d="+";break;case i:d="-";break;case T:d=" ";break}w[h+1]=d+encodeURI(this.diffs[h][1])+`
`}return w.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=i,e.exports.DIFF_INSERT=l,e.exports.DIFF_EQUAL=T})(diffMatchPatch)),diffMatchPatch.exports}var hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff;hasRequiredDiff=1;var e=diff&&diff.__extends||(function(){var b=function(w,d){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(h[a]=c[a])},b(w,d)};return function(w,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");b(w,d);function h(){this.constructor=w}w.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}})();Object.defineProperty(diff,"__esModule",{value:!0});var n=requirePropTypes(),i=requireReact(),l=requireSplit(),T=requireDiffMatchPatch(),g=(function(b){e(w,b);function w(d){var h=b.call(this,d)||this;return h.state={value:h.props.value},h.onChange=h.onChange.bind(h),h.diff=h.diff.bind(h),h}return w.prototype.componentDidUpdate=function(){var d=this.props.value;d!==this.state.value&&this.setState({value:d})},w.prototype.onChange=function(d){this.setState({value:d}),this.props.onChange&&this.props.onChange(d)},w.prototype.diff=function(){var d=new T,h=this.state.value[0],c=this.state.value[1];if(h.length===0&&c.length===0)return[];var a=d.diff_main(h,c);d.diff_cleanupSemantic(a);var o=this.generateDiffedLines(a),u=this.setCodeMarkers(o);return u},w.prototype.generateDiffedLines=function(d){var h={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},c={left:[],right:[]},a={left:1,right:1};return d.forEach(function(o){var u=o[0],f=o[1],m=f.split(`
`).length-1;if(f.length!==0){var x=f[0],E=f[f.length-1],S=0;switch(u){case h.DIFF_EQUAL:a.left+=m,a.right+=m;break;case h.DIFF_DELETE:x===`
`&&(a.left++,m--),S=m,S===0&&c.right.push({startLine:a.right,endLine:a.right}),E===`
`&&(S-=1),c.left.push({startLine:a.left,endLine:a.left+S}),a.left+=m;break;case h.DIFF_INSERT:x===`
`&&(a.right++,m--),S=m,S===0&&c.left.push({startLine:a.left,endLine:a.left}),E===`
`&&(S-=1),c.right.push({startLine:a.right,endLine:a.right+S}),a.right+=m;break;default:throw new Error("Diff type was not defined.")}}}),c},w.prototype.setCodeMarkers=function(d){d===void 0&&(d={left:[],right:[]});for(var h=[],c={left:[],right:[]},a=0;a<d.left.length;a++){var o={startRow:d.left[a].startLine-1,endRow:d.left[a].endLine,type:"text",className:"codeMarker"};c.left.push(o)}for(var a=0;a<d.right.length;a++){var o={startRow:d.right[a].startLine-1,endRow:d.right[a].endLine,type:"text",className:"codeMarker"};c.right.push(o)}return h[0]=c.left,h[1]=c.right,h},w.prototype.render=function(){var d=this.diff();return i.createElement(l.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:d})},w.propTypes={cursorStart:n.number,editorProps:n.object,enableBasicAutocompletion:n.bool,enableLiveAutocompletion:n.bool,focus:n.bool,fontSize:n.number,height:n.string,highlightActiveLine:n.bool,maxLines:n.number,minLines:n.number,mode:n.string,name:n.string,className:n.string,onLoad:n.func,onPaste:n.func,onScroll:n.func,onChange:n.func,orientation:n.string,readOnly:n.bool,scrollMargin:n.array,setOptions:n.object,showGutter:n.bool,showPrintMargin:n.bool,splits:n.number,style:n.object,tabSize:n.number,theme:n.string,value:n.array,width:n.string,wrapEnabled:n.bool},w.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},w})(i.Component);return diff.default=g,diff}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1,Object.defineProperty(lib$1,"__esModule",{value:!0}),lib$1.diff=lib$1.split=void 0;var e=requireAce(),n=requireDiff();lib$1.diff=n.default;var i=requireSplit();return lib$1.split=i.default,lib$1.default=e.default,lib$1}var libExports=requireLib$1();const AceEditor=getDefaultExportFromCjs(libExports),useTypedSelector=useSelector,useTypedDispatch=useDispatch,BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(e=>(e.SOURCE_THREE_INTERPRETER="Source 3 (Legacy)",e.PYTHON="Python",e))(Languages||{});const supportedLanguages=["Python","Source 3 (Legacy)"],languageToModeMap=Object.freeze({Python:"python","Source 3 (Legacy)":"javascript"});var extLanguage_tools={exports:{}},hasRequiredExtLanguage_tools;function requireExtLanguage_tools(){return hasRequiredExtLanguage_tools||(hasRequiredExtLanguage_tools=1,(function(e,n){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(i,l,T){var g=i("./lib/dom"),b=i("./lib/oop"),w=i("./lib/event_emitter").EventEmitter,d=i("./lib/lang"),h=i("./range").Range,c=i("./range_list").RangeList,a=i("./keyboard/hash_handler").HashHandler,o=i("./tokenizer").Tokenizer,u=i("./clipboard"),f={CURRENT_WORD:function(v){return v.session.getTextRange(v.session.getWordRange())},SELECTION:function(v,F,I){var A=v.session.getTextRange();return I?A.replace(/\n\r?([ \t]*\S)/g,`
`+I+"$1"):A},CURRENT_LINE:function(v){return v.session.getLine(v.getCursorPosition().row)},PREV_LINE:function(v){return v.session.getLine(v.getCursorPosition().row-1)},LINE_INDEX:function(v){return v.getCursorPosition().row},LINE_NUMBER:function(v){return v.getCursorPosition().row+1},SOFT_TABS:function(v){return v.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(v){return v.session.getTabSize()},CLIPBOARD:function(v){return u.getText&&u.getText()},FILENAME:function(v){return/[^/\\]*$/.exec(this.FILEPATH(v))[0]},FILENAME_BASE:function(v){return/[^/\\]*$/.exec(this.FILEPATH(v))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(v){return this.FILEPATH(v).replace(/[^/\\]*$/,"")},FILEPATH:function(v){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(v){var F=v.session.$mode||{};return F.blockComment&&F.blockComment.start||""},BLOCK_COMMENT_END:function(v){var F=v.session.$mode||{};return F.blockComment&&F.blockComment.end||""},LINE_COMMENT:function(v){var F=v.session.$mode||{};return F.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};f.SELECTED_TEXT=f.SELECTION;function m(v){var F=new Date().toLocaleString("en-us",v);return F.length==1?"0"+F:F}var x=(function(){function v(){this.snippetMap={},this.snippetNameMap={},this.variables=f}return v.prototype.getTokenizer=function(){return v.$tokenizer||this.createTokenizer()},v.prototype.createTokenizer=function(){function F($){return $=$.substr(1),/^\d+$/.test($)?[{tabstopId:parseInt($,10)}]:[{text:$}]}function I($){return"(?:[^\\\\"+$+"]|\\\\.)"}var A={regex:"/("+I("/")+"+)/",onMatch:function($,P,B){var U=B[0];return U.fmtString=!0,U.guard=$.slice(1,-1),U.flag="",""},next:"formatString"};return v.$tokenizer=new o({start:[{regex:/\\./,onMatch:function($,P,B){var U=$[1];return(U=="}"&&B.length||"`$\\".indexOf(U)!=-1)&&($=U),[$]}},{regex:/}/,onMatch:function($,P,B){return[B.length?B.shift():$]}},{regex:/\$(?:\d+|\w+)/,onMatch:F},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function($,P,B){var U=F($.substr(1));return B.unshift(U[0]),U},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+I("\\|")+"*\\|",onMatch:function($,P,B){var U=$.slice(1,-1).replace(/\\[,|\\]|,/g,function(W){return W.length==2?W[1]:"\0"}).split("\0").map(function(W){return{value:W}});return B[0].choices=U,[U[0]]},next:"start"},A,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function($,P,B){return B.length&&B[0].expectElse?(B[0].expectElse=!1,B[0].ifEnd={elseEnd:B[0]},[B[0].ifEnd]):":"}},{regex:/\\./,onMatch:function($,P,B){var U=$[1];return U=="}"&&B.length||"`$\\".indexOf(U)!=-1?$=U:U=="n"?$=`
`:U=="t"?$="	":"ulULE".indexOf(U)!=-1&&($={changeCase:U,local:U>"a"}),[$]}},{regex:"/\\w*}",onMatch:function($,P,B){var U=B.shift();return U&&(U.flag=$.slice(1,-1)),this.next=U&&U.tabstopId?"start":"",[U||$]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function($,P,B){return[{text:$.slice(1)}]}},{regex:/\${\w+/,onMatch:function($,P,B){var U={text:$.slice(2)};return B.unshift(U),[U]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function($,P,B){var U=B.shift();return this.next=U&&U.tabstopId?"start":"",[U||$]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function($,P,B){var U=B[0];return U.formatFunction=$.slice(2,-1),[B.shift()]},next:"formatString"},A,{regex:/:[\?\-+]?/,onMatch:function($,P,B){$[1]=="+"&&(B[0].ifEnd=B[0]),$[1]=="?"&&(B[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),v.$tokenizer},v.prototype.tokenizeTmSnippet=function(F,I){return this.getTokenizer().getLineTokens(F,I).tokens.map(function(A){return A.value||A})},v.prototype.getVariableValue=function(F,I,A){if(/^\d+$/.test(I))return(this.variables.__||{})[I]||"";if(/^[A-Z]\d+$/.test(I))return(this.variables[I[0]+"__"]||{})[I.substr(1)]||"";if(I=I.replace(/^TM_/,""),!this.variables.hasOwnProperty(I))return"";var $=this.variables[I];return typeof $=="function"&&($=this.variables[I](F,I,A)),$??""},v.prototype.tmStrFormat=function(F,I,A){if(!I.fmt)return F;var $=I.flag||"",P=I.guard;P=new RegExp(P,$.replace(/[^gim]/g,""));var B=typeof I.fmt=="string"?this.tokenizeTmSnippet(I.fmt,"formatString"):I.fmt,U=this,W=F.replace(P,function(){var j=U.variables.__;U.variables.__=[].slice.call(arguments);for(var H=U.resolveVariables(B,A),Q="E",X=0;X<H.length;X++){var ee=H[X];if(typeof ee=="object")if(H[X]="",ee.changeCase&&ee.local){var ie=H[X+1];ie&&typeof ie=="string"&&(ee.changeCase=="u"?H[X]=ie[0].toUpperCase():H[X]=ie[0].toLowerCase(),H[X+1]=ie.substr(1))}else ee.changeCase&&(Q=ee.changeCase);else Q=="U"?H[X]=ee.toUpperCase():Q=="L"&&(H[X]=ee.toLowerCase())}return U.variables.__=j,H.join("")});return W},v.prototype.tmFormatFunction=function(F,I,A){return I.formatFunction=="upcase"?F.toUpperCase():I.formatFunction=="downcase"?F.toLowerCase():F},v.prototype.resolveVariables=function(F,I){for(var A=[],$="",P=!0,B=0;B<F.length;B++){var U=F[B];if(typeof U=="string"){A.push(U),U==`
`?(P=!0,$=""):P&&($=/^\t*/.exec(U)[0],P=/\S/.test(U));continue}if(U){if(P=!1,U.fmtString){var W=F.indexOf(U,B+1);W==-1&&(W=F.length),U.fmt=F.slice(B+1,W),B=W}if(U.text){var j=this.getVariableValue(I,U.text,$)+"";U.fmtString&&(j=this.tmStrFormat(j,U,I)),U.formatFunction&&(j=this.tmFormatFunction(j,U,I)),j&&!U.ifEnd?(A.push(j),H(U)):!j&&U.ifEnd&&H(U.ifEnd)}else U.elseEnd?H(U.elseEnd):(U.tabstopId!=null||U.changeCase!=null)&&A.push(U)}}function H(Q){var X=F.indexOf(Q,B+1);X!=-1&&(B=X)}return A},v.prototype.getDisplayTextForSnippet=function(F,I){var A=E.call(this,F,I);return A.text},v.prototype.insertSnippetForSelection=function(F,I,A){A===void 0&&(A={});var $=E.call(this,F,I,A),P=F.getSelectionRange(),B=F.session.replace(P,$.text),U=new S(F),W=F.inVirtualSelectionMode&&F.selection.index;U.addTabstops($.tabstops,P.start,B,W)},v.prototype.insertSnippet=function(F,I,A){A===void 0&&(A={});var $=this;if(F.inVirtualSelectionMode)return $.insertSnippetForSelection(F,I,A);F.forEachSelection(function(){$.insertSnippetForSelection(F,I,A)},null,{keepOrder:!0}),F.tabstopManager&&F.tabstopManager.tabNext()},v.prototype.$getScope=function(F){var I=F.session.$mode.$id||"";if(I=I.split("/").pop(),I==="html"||I==="php"){I==="php"&&!F.session.$mode.inlinePhp&&(I="html");var A=F.getCursorPosition(),$=F.session.getState(A.row);typeof $=="object"&&($=$[0]),$.substring&&($.substring(0,3)=="js-"?I="javascript":$.substring(0,4)=="css-"?I="css":$.substring(0,4)=="php-"&&(I="php"))}return I},v.prototype.getActiveScopes=function(F){var I=this.$getScope(F),A=[I],$=this.snippetMap;return $[I]&&$[I].includeScopes&&A.push.apply(A,$[I].includeScopes),A.push("_"),A},v.prototype.expandWithTab=function(F,I){var A=this,$=F.forEachSelection(function(){return A.expandSnippetForSelection(F,I)},null,{keepOrder:!0});return $&&F.tabstopManager&&F.tabstopManager.tabNext(),$},v.prototype.expandSnippetForSelection=function(F,I){var A=F.getCursorPosition(),$=F.session.getLine(A.row),P=$.substring(0,A.column),B=$.substr(A.column),U=this.snippetMap,W;return this.getActiveScopes(F).some(function(j){var H=U[j];return H&&(W=this.findMatchingSnippet(H,P,B)),!!W},this),W?(I&&I.dryRun||(F.session.doc.removeInLine(A.row,A.column-W.replaceBefore.length,A.column+W.replaceAfter.length),this.variables.M__=W.matchBefore,this.variables.T__=W.matchAfter,this.insertSnippetForSelection(F,W.content),this.variables.M__=this.variables.T__=null),!0):!1},v.prototype.findMatchingSnippet=function(F,I,A){for(var $=F.length;$--;){var P=F[$];if(!(P.startRe&&!P.startRe.test(I))&&!(P.endRe&&!P.endRe.test(A))&&!(!P.startRe&&!P.endRe))return P.matchBefore=P.startRe?P.startRe.exec(I):[""],P.matchAfter=P.endRe?P.endRe.exec(A):[""],P.replaceBefore=P.triggerRe?P.triggerRe.exec(I)[0]:"",P.replaceAfter=P.endTriggerRe?P.endTriggerRe.exec(A)[0]:"",P}},v.prototype.register=function(F,I){var A=this.snippetMap,$=this.snippetNameMap,P=this;F||(F=[]);function B(j){return j&&!/^\^?\(.*\)\$?$|^\\b$/.test(j)&&(j="(?:"+j+")"),j||""}function U(j,H,Q){return j=B(j),H=B(H),j=H+j,j&&j[j.length-1]!="$"&&(j=j+"$"),new RegExp(j)}function W(j){j.scope||(j.scope=I||"_"),I=j.scope,A[I]||(A[I]=[],$[I]={});var H=$[I];if(j.name){var Q=H[j.name];Q&&P.unregister(Q),H[j.name]=j}A[I].push(j),j.prefix&&(j.tabTrigger=j.prefix),!j.content&&j.body&&(j.content=Array.isArray(j.body)?j.body.join(`
`):j.body),j.tabTrigger&&!j.trigger&&(!j.guard&&/^\w/.test(j.tabTrigger)&&(j.guard="\\b"),j.trigger=d.escapeRegExp(j.tabTrigger)),!(!j.trigger&&!j.guard&&!j.endTrigger&&!j.endGuard)&&(j.startRe=U(j.trigger,j.guard),j.triggerRe=new RegExp(j.trigger),j.endRe=U(j.endTrigger,j.endGuard),j.endTriggerRe=new RegExp(j.endTrigger))}Array.isArray(F)?F.forEach(W):Object.keys(F).forEach(function(j){W(F[j])}),this._signal("registerSnippets",{scope:I})},v.prototype.unregister=function(F,I){var A=this.snippetMap,$=this.snippetNameMap;function P(B){var U=$[B.scope||I];if(U&&U[B.name]){delete U[B.name];var W=A[B.scope||I],j=W&&W.indexOf(B);j>=0&&W.splice(j,1)}}F.content?P(F):Array.isArray(F)&&F.forEach(P)},v.prototype.parseSnippetFile=function(F){F=F.replace(/\r/g,"");for(var I=[],A={},$=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,P;P=$.exec(F);){if(P[1])try{A=JSON.parse(P[1]),I.push(A)}catch{}if(P[4])A.content=P[4].replace(/^\t/gm,""),I.push(A),A={};else{var B=P[2],U=P[3];if(B=="regex"){var W=/\/((?:[^\/\\]|\\.)*)|$/g;A.guard=W.exec(U)[1],A.trigger=W.exec(U)[1],A.endTrigger=W.exec(U)[1],A.endGuard=W.exec(U)[1]}else B=="snippet"?(A.tabTrigger=U.match(/^\S*/)[0],A.name||(A.name=U)):B&&(A[B]=U)}}return I},v.prototype.getSnippetByName=function(F,I){var A=this.snippetNameMap,$;return this.getActiveScopes(I).some(function(P){var B=A[P];return B&&($=B[F]),!!$},this),$},v})();b.implement(x.prototype,w);var E=function(v,F,I){I===void 0&&(I={});var A=v.getCursorPosition(),$=v.session.getLine(A.row),P=v.session.getTabString(),B=$.match(/^\s*/)[0];A.column<B.length&&(B=B.slice(0,A.column)),F=F.replace(/\r/g,"");var U=this.tokenizeTmSnippet(F);U=this.resolveVariables(U,v),U=U.map(function(he){return he==`
`&&!I.excludeExtraIndent?he+B:typeof he=="string"?he.replace(/\t/g,P):he});var W=[];U.forEach(function(he,$e){if(typeof he=="object"){var Le=he.tabstopId,Oe=W[Le];if(Oe||(Oe=W[Le]=[],Oe.index=Le,Oe.value="",Oe.parents={}),Oe.indexOf(he)===-1){he.choices&&!Oe.choices&&(Oe.choices=he.choices),Oe.push(he);var Ne=U.indexOf(he,$e+1);if(Ne!==-1){var be=U.slice($e+1,Ne),Se=be.some(function(ge){return typeof ge=="object"});Se&&!Oe.value?Oe.value=be:be.length&&(!Oe.value||typeof Oe.value!="string")&&(Oe.value=be.join(""))}}}}),W.forEach(function(he){he.length=0});var j={};function H(he){for(var $e=[],Le=0;Le<he.length;Le++){var Oe=he[Le];if(typeof Oe=="object"){if(j[Oe.tabstopId])continue;var Ne=he.lastIndexOf(Oe,Le-1);Oe=$e[Ne]||{tabstopId:Oe.tabstopId}}$e[Le]=Oe}return $e}for(var Q=0;Q<U.length;Q++){var X=U[Q];if(typeof X=="object"){var ee=X.tabstopId,ie=W[ee],ne=U.indexOf(X,Q+1);if(j[ee]){j[ee]===X&&(delete j[ee],Object.keys(j).forEach(function(he){ie.parents[he]=!0}));continue}j[ee]=X;var ae=ie.value;typeof ae!="string"?ae=H(ae):X.fmt&&(ae=this.tmStrFormat(ae,X,v)),U.splice.apply(U,[Q+1,Math.max(0,ne-Q)].concat(ae,X)),ie.indexOf(X)===-1&&ie.push(X)}}var re=0,fe=0,pe="";return U.forEach(function(he){if(typeof he=="string"){var $e=he.split(`
`);$e.length>1?(fe=$e[$e.length-1].length,re+=$e.length-1):fe+=he.length,pe+=he}else he&&(he.start?he.end={row:re,column:fe}:he.start={row:re,column:fe})}),{text:pe,tabstops:W,tokens:U}},S=(function(){function v(F){if(this.index=0,this.ranges=[],this.tabstops=[],F.tabstopManager)return F.tabstopManager;F.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=d.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(F)}return v.prototype.attach=function(F){this.$openTabstops=null,this.selectedTabstop=null,this.editor=F,this.session=F.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},v.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},v.prototype.onChange=function(F){for(var I=F.action[0]=="r",A=this.selectedTabstop||{},$=A.parents||{},P=this.tabstops.slice(),B=0;B<P.length;B++){var U=P[B],W=U==A||$[U.index];if(U.rangeList.$bias=W?0:1,F.action=="remove"&&U!==A){var j=U.parents&&U.parents[A.index],H=U.rangeList.pointIndex(F.start,j);H=H<0?-H-1:H+1;var Q=U.rangeList.pointIndex(F.end,j);Q=Q<0?-Q-1:Q-1;for(var X=U.rangeList.ranges.slice(H,Q),ee=0;ee<X.length;ee++)this.removeRange(X[ee])}U.rangeList.$onChange(F)}var ie=this.session;!this.$inChange&&I&&ie.getLength()==1&&!ie.getValue()&&this.detach()},v.prototype.updateLinkedFields=function(){var F=this.selectedTabstop;if(!(!F||!F.hasLinkedRanges||!F.firstNonLinked)){this.$inChange=!0;for(var I=this.session,A=I.getTextRange(F.firstNonLinked),$=0;$<F.length;$++){var P=F[$];if(P.linked){var B=P.original,U=l.snippetManager.tmStrFormat(A,B,this.editor);I.replace(P,U)}}this.$inChange=!1}},v.prototype.onAfterExec=function(F){F.command&&!F.command.readOnly&&this.updateLinkedFields()},v.prototype.onChangeSelection=function(){if(this.editor){for(var F=this.editor.selection.lead,I=this.editor.selection.anchor,A=this.editor.selection.isEmpty(),$=0;$<this.ranges.length;$++)if(!this.ranges[$].linked){var P=this.ranges[$].contains(F.row,F.column),B=A||this.ranges[$].contains(I.row,I.column);if(P&&B)return}this.detach()}},v.prototype.onChangeSession=function(){this.detach()},v.prototype.tabNext=function(F){var I=this.tabstops.length,A=this.index+(F||1);A=Math.min(Math.max(A,1),I),A==I&&(A=0),this.selectTabstop(A),this.updateTabstopMarkers(),A===0&&this.detach()},v.prototype.selectTabstop=function(F){this.$openTabstops=null;var I=this.tabstops[this.index];if(I&&this.addTabstopMarkers(I),this.index=F,I=this.tabstops[this.index],!(!I||!I.length)){this.selectedTabstop=I;var A=I.firstNonLinked||I;if(I.choices&&(A.cursor=A.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(A);else{var $=this.editor.multiSelect;$.toSingleRange(A);for(var P=0;P<I.length;P++)I.hasLinkedRanges&&I[P].linked||$.addRange(I[P].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},v.prototype.addTabstops=function(F,I,A){var $=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!F[0]){var P=h.fromPoints(A,A);M(P.start,I),M(P.end,I),F[0]=[P],F[0].index=0}var B=this.index,U=[B+1,0],W=this.ranges,j=this.snippetId=(this.snippetId||0)+1;F.forEach(function(H,Q){var X=this.$openTabstops[Q]||H;X.snippetId=j;for(var ee=0;ee<H.length;ee++){var ie=H[ee],ne=h.fromPoints(ie.start,ie.end||ie.start);R(ne.start,I),R(ne.end,I),ne.original=ie,ne.tabstop=X,W.push(ne),X!=H?X.unshift(ne):X[ee]=ne,ie.fmtString||X.firstNonLinked&&$?(ne.linked=!0,X.hasLinkedRanges=!0):X.firstNonLinked||(X.firstNonLinked=ne)}X.firstNonLinked||(X.hasLinkedRanges=!1),X===H&&(U.push(X),this.$openTabstops[Q]=X),this.addTabstopMarkers(X),X.rangeList=X.rangeList||new c,X.rangeList.$bias=0,X.rangeList.addList(X)},this),U.length>2&&(this.tabstops.length&&U.push(U.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,U))},v.prototype.addTabstopMarkers=function(F){var I=this.session;F.forEach(function(A){A.markerId||(A.markerId=I.addMarker(A,"ace_snippet-marker","text"))})},v.prototype.removeTabstopMarkers=function(F){var I=this.session;F.forEach(function(A){I.removeMarker(A.markerId),A.markerId=null})},v.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var F=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&F--,this.tabstops.forEach(function(I){I.snippetId===F?this.addTabstopMarkers(I):this.removeTabstopMarkers(I)},this)}},v.prototype.removeRange=function(F){var I=F.tabstop.indexOf(F);I!=-1&&F.tabstop.splice(I,1),I=this.ranges.indexOf(F),I!=-1&&this.ranges.splice(I,1),I=F.tabstop.rangeList.ranges.indexOf(F),I!=-1&&F.tabstop.splice(I,1),this.session.removeMarker(F.markerId),F.tabstop.length||(I=this.tabstops.indexOf(F.tabstop),I!=-1&&this.tabstops.splice(I,1),this.tabstops.length||this.detach())},v})();S.prototype.keyboardHandler=new a,S.prototype.keyboardHandler.bindKeys({Tab:function(v){l.snippetManager&&l.snippetManager.expandWithTab(v)||(v.tabstopManager.tabNext(1),v.renderer.scrollCursorIntoView())},"Shift-Tab":function(v){v.tabstopManager.tabNext(-1),v.renderer.scrollCursorIntoView()},Esc:function(v){v.tabstopManager.detach()}});var R=function(v,F){v.row==0&&(v.column+=F.column),v.row+=F.row},M=function(v,F){v.row==F.row&&(v.column-=F.column),v.row-=F.row};g.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),l.snippetManager=new x;var k=i("./editor").Editor;(function(){this.insertSnippet=function(v,F){return l.snippetManager.insertSnippet(this,v,F)},this.expandSnippet=function(v){return l.snippetManager.expandWithTab(this,v)}}).call(k.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(i,l,T){var g=i("../virtual_renderer").VirtualRenderer,b=i("../editor").Editor,w=i("../range").Range,d=i("../lib/event"),h=i("../lib/lang"),c=i("../lib/dom"),a=i("../config").nls,o=i("./../lib/useragent"),u=function(R){return"suggest-aria-id:".concat(R)},f=o.isSafari?"menu":"listbox",m=o.isSafari?"menuitem":"option",x=o.isSafari?"aria-current":"aria-selected",E=function(R){var M=new g(R);M.$maxLines=4;var k=new b(M);return k.setHighlightActiveLine(!1),k.setShowPrintMargin(!1),k.renderer.setShowGutter(!1),k.renderer.setHighlightGutterLine(!1),k.$mouseHandler.$focusTimeout=0,k.$highlightTagPending=!0,k},S=(function(){function R(M){var k=c.createElement("div"),v=E(k);M&&M.appendChild(k),k.style.display="none",v.renderer.content.style.cursor="default",v.renderer.setStyle("ace_autocomplete"),v.renderer.$textLayer.element.setAttribute("role",f),v.renderer.$textLayer.element.setAttribute("aria-roledescription",a("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),v.renderer.$textLayer.element.setAttribute("aria-label",a("autocomplete.popup.aria-label","Autocomplete suggestions")),v.renderer.textarea.setAttribute("aria-hidden","true"),v.setOption("displayIndentGuides",!1),v.setOption("dragDelay",150);var F=function(){};v.focus=F,v.$isFocused=!0,v.renderer.$cursorLayer.restartTimer=F,v.renderer.$cursorLayer.element.style.opacity="0",v.renderer.$maxLines=8,v.renderer.$keepTextAreaAtCursor=!1,v.setHighlightActiveLine(!1),v.session.highlight(""),v.session.$searchHighlight.clazz="ace_highlight-marker",v.on("mousedown",function(W){var j=W.getDocumentPosition();v.selection.moveToPosition(j),$.start.row=$.end.row=j.row,W.stop()});var I,A=new w(-1,0,-1,1/0),$=new w(-1,0,-1,1/0);$.id=v.session.addMarker($,"ace_active-line","fullLine"),v.setSelectOnHover=function(W){W?A.id&&(v.session.removeMarker(A.id),A.id=null):A.id=v.session.addMarker(A,"ace_line-hover","fullLine")},v.setSelectOnHover(!1),v.on("mousemove",function(W){if(!I){I=W;return}if(!(I.x==W.x&&I.y==W.y)){I=W,I.scrollTop=v.renderer.scrollTop,v.isMouseOver=!0;var j=I.getDocumentPosition().row;A.start.row!=j&&(A.id||v.setRow(j),B(j))}}),v.renderer.on("beforeRender",function(){if(I&&A.start.row!=-1){I.$pos=null;var W=I.getDocumentPosition().row;A.id||v.setRow(W),B(W,!0)}}),v.renderer.on("afterRender",function(){for(var W=v.renderer.$textLayer,j=W.config.firstRow,H=W.config.lastRow;j<=H;j++){var Q=W.element.childNodes[j-W.config.firstRow];Q.setAttribute("role",m),Q.setAttribute("aria-roledescription",a("autocomplete.popup.item.aria-roledescription","item")),Q.setAttribute("aria-setsize",v.data.length),Q.setAttribute("aria-describedby","doc-tooltip"),Q.setAttribute("aria-posinset",j+1);var X=v.getData(j);if(X){var ee="".concat(X.caption||X.value).concat(X.meta?", ".concat(X.meta):"");Q.setAttribute("aria-label",ee)}var ie=Q.querySelectorAll(".ace_completion-highlight");ie.forEach(function(ne){ne.setAttribute("role","mark")})}}),v.renderer.on("afterRender",function(){var W=v.getRow(),j=v.renderer.$textLayer,H=j.element.childNodes[W-j.config.firstRow],Q=document.activeElement;if(H!==v.selectedNode&&v.selectedNode&&(c.removeCssClass(v.selectedNode,"ace_selected"),v.selectedNode.removeAttribute(x),v.selectedNode.removeAttribute("id")),Q.removeAttribute("aria-activedescendant"),v.selectedNode=H,H){var X=u(W);c.addCssClass(H,"ace_selected"),H.id=X,j.element.setAttribute("aria-activedescendant",X),Q.setAttribute("aria-activedescendant",X),H.setAttribute(x,"true")}});var P=function(){B(-1)},B=function(W,j){W!==A.start.row&&(A.start.row=A.end.row=W,j||v.session._emit("changeBackMarker"),v._emit("changeHoverMarker"))};v.getHoveredRow=function(){return A.start.row},d.addListener(v.container,"mouseout",function(){v.isMouseOver=!1,P()}),v.on("hide",P),v.on("changeSelection",P),v.session.doc.getLength=function(){return v.data.length},v.session.doc.getLine=function(W){var j=v.data[W];return typeof j=="string"?j:j&&j.value||""};var U=v.session.bgTokenizer;return U.$tokenizeRow=function(W){var j=v.data[W],H=[];if(!j)return H;typeof j=="string"&&(j={value:j});var Q=j.caption||j.value||j.name;function X(he,$e){he&&H.push({type:(j.className||"")+($e||""),value:he})}for(var ee=Q.toLowerCase(),ie=(v.filterText||"").toLowerCase(),ne=0,ae=0,re=0;re<=ie.length;re++)if(re!=ae&&(j.matchMask&1<<re||re==ie.length)){var fe=ie.slice(ae,re);ae=re;var pe=ee.indexOf(fe,ne);if(pe==-1)continue;X(Q.slice(ne,pe),""),ne=pe+fe.length,X(Q.slice(pe,ne),"completion-highlight")}return X(Q.slice(ne,Q.length),""),H.push({type:"completion-spacer",value:" "}),j.meta&&H.push({type:"completion-meta",value:j.meta}),j.message&&H.push({type:"completion-message",value:j.message}),H},U.$updateOnChange=F,U.start=F,v.session.$computeWidth=function(){return this.screenWidth=0},v.isOpen=!1,v.isTopdown=!1,v.autoSelect=!0,v.filterText="",v.isMouseOver=!1,v.data=[],v.setData=function(W,j){v.filterText=j||"",v.setValue(h.stringRepeat(`
`,W.length),-1),v.data=W||[],v.setRow(0)},v.getData=function(W){return v.data[W]},v.getRow=function(){return $.start.row},v.setRow=function(W){W=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,W)),$.start.row!=W&&(v.selection.clearSelection(),$.start.row=$.end.row=W||0,v.session._emit("changeBackMarker"),v.moveCursorTo(W||0,0),v.isOpen&&v._signal("select"))},v.on("changeSelection",function(){v.isOpen&&v.setRow(v.selection.lead.row),v.renderer.scrollCursorIntoView()}),v.hide=function(){this.container.style.display="none",v.anchorPos=null,v.anchor=null,v.isOpen&&(v.isOpen=!1,this._signal("hide"))},v.tryShow=function(W,j,H,Q){if(!Q&&v.isOpen&&v.anchorPos&&v.anchor&&v.anchorPos.top===W.top&&v.anchorPos.left===W.left&&v.anchor===H)return!0;var X=this.container,ee=this.renderer.scrollBar.width||10,ie=window.innerHeight-ee,ne=window.innerWidth-ee,ae=this.renderer,re=ae.$maxLines*j*1.4,fe={top:0,bottom:0},pe=ie-W.top-3*this.$borderSize-j,he=W.top-3*this.$borderSize;H||(he<=pe||pe>=re?H="bottom":H="top"),H==="top"?(fe.bottom=W.top-this.$borderSize,fe.top=fe.bottom-re):H==="bottom"&&(fe.top=W.top+j+this.$borderSize,fe.bottom=fe.top+re);var $e=fe.top>=0&&fe.bottom<=ie;if(!Q&&!$e)return!1;$e?ae.$maxPixelHeight=null:H==="top"?ae.$maxPixelHeight=he:ae.$maxPixelHeight=pe,H==="top"?(X.style.top="",X.style.bottom=ie+ee-fe.bottom+"px",v.isTopdown=!1):(X.style.top=fe.top+"px",X.style.bottom="",v.isTopdown=!0),X.style.display="";var Le=W.left;return Le+X.offsetWidth>ne&&(Le=ne-X.offsetWidth),X.style.left=Le+"px",X.style.right="",c.$fixPositionBug(X),v.isOpen||(v.isOpen=!0,this._signal("show"),I=null),v.anchorPos=W,v.anchor=H,!0},v.show=function(W,j,H){this.tryShow(W,j,H?"bottom":void 0,!0)},v.goTo=function(W){var j=this.getRow(),H=this.session.getLength()-1;switch(W){case"up":j=j<=0?H:j-1;break;case"down":j=j>=H?-1:j+1;break;case"start":j=0;break;case"end":j=H;break}this.setRow(j)},v.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},v.$imageSize=0,v.$borderSize=1,v}return R})();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),l.AcePopup=S,l.$singleLineEditor=E,l.getAriaId=u}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(i,l,T){var g=(function(){function b(w){this.editor=w,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return b.prototype.setScreenReaderContent=function(w){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var h=this.popup.getRow(),c=this.popup.renderer.$textLayer,a=c.element.childNodes[h-c.config.firstRow];if(a){for(var o="doc-tooltip ",u=0;u<this._lines.length;u++)o+="ace-inline-screenreader-line-".concat(u," ");a.setAttribute("aria-describedby",o)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=w.split(/\r\n|\r|\n/);var d=this.createCodeBlock();this.screenReaderDiv.appendChild(d)},b.prototype.destroy=function(){this.screenReaderDiv.remove()},b.prototype.createCodeBlock=function(){var w=document.createElement("pre");w.setAttribute("id","ace-inline-screenreader");for(var d=0;d<this._lines.length;d++){var h=document.createElement("code");h.setAttribute("id","ace-inline-screenreader-line-".concat(d));var c=document.createTextNode(this._lines[d]);h.appendChild(c),w.appendChild(h)}return w},b})();l.AceInlineScreenReader=g}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(i,l,T){var g=i("../snippets").snippetManager,b=i("./inline_screenreader").AceInlineScreenReader,w=(function(){function d(){this.editor=null}return d.prototype.show=function(h,c,a){if(a=a||"",h&&this.editor&&this.editor!==h&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!h||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new b(h));var o=c.snippet?g.getDisplayTextForSnippet(h,c.snippet):c.value;return c.hideInlinePreview||!o||!o.startsWith(a)?!1:(this.editor=h,this.inlineScreenReader.setScreenReaderContent(o),o=o.slice(a.length),o===""?h.removeGhostText():h.setGhostText(o),!0)},d.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},d.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},d.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},d})();l.AceInline=w}),ace.define("ace/autocomplete/util",["require","exports","module"],function(i,l,T){l.parForEach=function(b,w,d){var h=0,c=b.length;c===0&&d();for(var a=0;a<c;a++)w(b[a],function(o,u){h++,h===c&&d(o,u)})};var g=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;l.retrievePrecedingIdentifier=function(b,w,d){d=d||g;for(var h=[],c=w-1;c>=0&&d.test(b[c]);c--)h.push(b[c]);return h.reverse().join("")},l.retrieveFollowingIdentifier=function(b,w,d){d=d||g;for(var h=[],c=w;c<b.length&&d.test(b[c]);c++)h.push(b[c]);return h},l.getCompletionPrefix=function(b){var w=b.getCursorPosition(),d=b.session.getLine(w.row),h;return b.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(a){!h&&a&&(h=this.retrievePrecedingIdentifier(d,w.column,a))}).bind(this))}).bind(this)),h||this.retrievePrecedingIdentifier(d,w.column)},l.triggerAutocomplete=function(b,d){var d=d??b.session.getPrecedingCharacter();return b.completers.some(function(h){if(h.triggerCharacters&&Array.isArray(h.triggerCharacters))return h.triggerCharacters.includes(d)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(i,l,T){var g=i("./keyboard/hash_handler").HashHandler,b=i("./autocomplete/popup").AcePopup,w=i("./autocomplete/inline").AceInline,d=i("./autocomplete/popup").getAriaId,h=i("./autocomplete/util"),c=i("./lib/lang"),a=i("./lib/dom"),o=i("./snippets").snippetManager,u=i("./config"),f=i("./lib/event"),m=i("./lib/scroll").preventParentScroll,x=function(M,k){k.completer&&k.completer.destroy()},E=(function(){function M(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new g,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var k=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!k||this.editor.completers.length===0||(this.completions=new R(M.completionsForLoading),this.openPopup(this.editor,k.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(M,"completionsForLoading",{get:function(){return[{caption:u.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),M.prototype.$init=function(){return this.popup=new b(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(k){this.insertMatch(),k.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),f.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},M.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new w,this.inlineRenderer},M.prototype.getPopup=function(){return this.popup||this.$init()},M.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},M.prototype.$seen=function(k){!this.hasSeen.has(k)&&k&&k.completer&&k.completer.onSeen&&typeof k.completer.onSeen=="function"&&(k.completer.onSeen(this.editor,k),this.hasSeen.add(k))},M.prototype.$onPopupChange=function(k){if(this.inlineRenderer&&this.inlineEnabled){var v=k?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(v),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},M.prototype.$updateGhostText=function(k){var v=this.base.row,F=this.base.column,I=this.editor.getCursorPosition().column,A=this.editor.session.getLine(v).slice(F,I);this.inlineRenderer.show(this.editor,k,A)?this.$seen(k):this.inlineRenderer.hide()},M.prototype.$onPopupRender=function(){var k=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var v=this.popup.getFirstVisibleRow();v<=this.popup.getLastVisibleRow();v++){var F=this.popup.getData(v);F&&(!k||F.hideInlinePreview)&&this.$seen(F)}},M.prototype.$onPopupShow=function(k){this.$onPopupChange(k),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},M.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var k=this.editor.container.parentNode,v=[];k;)v.push(k),k.addEventListener("scroll",this.onLayoutChange,{passive:!0}),k=k.parentNode;this.$elements=v}},M.prototype.unObserveLayoutChanges=function(){var k=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(v){v.removeEventListener("scroll",k.onLayoutChange,{passive:!0})}),this.$elements=null},M.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},M.prototype.$updatePopupPosition=function(){var k=this.editor,v=k.renderer,F=v.layerConfig.lineHeight,I=v.$cursorLayer.getPixelPosition(this.base,!0);I.left-=this.popup.getTextLeftOffset();var A=k.container.getBoundingClientRect();I.top+=A.top-v.layerConfig.offset,I.left+=A.left-k.renderer.scrollLeft,I.left+=v.gutterWidth;var $={top:I.top,left:I.left};v.$ghostText&&v.$ghostTextWidget&&this.base.row===v.$ghostText.position.row&&($.top+=v.$ghostTextWidget.el.offsetHeight);var P=k.container.getBoundingClientRect().bottom-F,B=P<$.top?{top:P,left:$.left}:$;this.popup.tryShow(B,F,"bottom")||this.popup.tryShow(I,F,"top")||this.popup.show(I,F)},M.prototype.openPopup=function(k,v,F){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var I=this.popup.getRow(),A=this.popup.data[I];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:d(this.popup.getRow()),inline:this.inlineEnabled}),k.keyBinding.addKeyboardHandler(this.keyboardHandler);var $;this.stickySelection&&($=this.popup.data.indexOf(A)),(!$||$===-1)&&($=0),this.popup.setRow(this.autoSelect?$:-1),$===I&&A!==this.completions.filtered[$]&&this.$onPopupChange();var P=this.inlineRenderer&&this.inlineEnabled;if($===I&&P){var B=this.popup.getData(this.popup.getRow());this.$updateGhostText(B)}F||(this.popup.setTheme(k.getTheme()),this.popup.setFontSize(k.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},M.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},M.prototype.changeListener=function(k){var v=this.editor.selection.lead;(v.row!=this.base.row||v.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},M.prototype.blurListener=function(k){var v=document.activeElement,F=this.editor.textInput.getElement(),I=k.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(k.relatedTarget),A=this.popup&&this.popup.container;v!=F&&v.parentNode!=A&&!I&&v!=this.tooltipNode&&k.relatedTarget!=F&&this.detach()},M.prototype.mousedownListener=function(k){this.detach()},M.prototype.mousewheelListener=function(k){this.popup&&!this.popup.isMouseOver&&this.detach()},M.prototype.mouseOutListener=function(k){this.popup.isOpen&&this.$updatePopupPosition()},M.prototype.goTo=function(k){this.popup.goTo(k)},M.prototype.insertMatch=function(k,v){if(k||(k=this.popup.getData(this.popup.getRow())),!k)return!1;if(k.value==="")return this.detach();var F=this.completions,I=this.getCompletionProvider().insertMatch(this.editor,k,F.filterText,v);return this.completions==F&&this.detach(),I},M.prototype.showPopup=function(k,v){this.editor&&this.detach(),this.activated=!0,this.editor=k,k.completer!=this&&(k.completer&&k.completer.detach(),k.completer=this),k.on("changeSelection",this.changeListener),k.on("blur",this.blurListener),k.on("mousedown",this.mousedownListener),k.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,v)},M.prototype.getCompletionProvider=function(k){return this.completionProvider||(this.completionProvider=new S(k)),this.completionProvider},M.prototype.gatherCompletions=function(k,v){return this.getCompletionProvider().gatherCompletions(k,v)},M.prototype.updateCompletions=function(k,v){if(k&&this.base&&this.completions){var I=this.editor.getCursorPosition(),A=this.editor.session.getTextRange({start:this.base,end:I});if(A==this.completions.filterText)return;if(this.completions.setFilter(A),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==A&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,A,k);return}if(v&&v.matches){var I=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(I.row,I.column),this.base.$insertRight=!0,this.completions=new R(v.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",k)}var F=this.editor.getSession(),I=this.editor.getCursorPosition(),A=h.getCompletionPrefix(this.editor);this.base=F.doc.createAnchor(I.row,I.column-A.length),this.base.$insertRight=!0;var $={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:A,pos:I}).provideCompletions(this.editor,$,(function(P,B,U){var W=B.filtered,j=h.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),U){if(!W.length){var H=!this.autoShown&&this.emptyMessage;if(typeof H=="function"&&(H=this.emptyMessage(j)),H){var Q=[{caption:H,value:""}];this.completions=new R(Q),this.openPopup(this.editor,j,k),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(W.length==1&&W[0].value==j&&!W[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&W.length==1)return this.insertMatch(W[0])}this.completions=!U&&this.showLoadingState?new R(M.completionsForLoading.concat(W),B.filterText):B,this.openPopup(this.editor,j,k),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!U)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},M.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},M.prototype.updateDocTooltip=function(){var k=this.popup,v=this.completions&&this.completions.filtered,F=v&&(v[k.getHoveredRow()]||v[k.getRow()]),I=null;if(!F||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var A=this.editor.completers.length,$=0;$<A;$++){var P=this.editor.completers[$];if(P.getDocTooltip&&F.completerId===P.id){I=P.getDocTooltip(F);break}}if(!I&&typeof F!="string"&&(I=F),typeof I=="string"&&(I={docText:I}),!I||!(I.docHTML||I.docText))return this.hideDocTooltip();this.showDocTooltip(I)},M.prototype.showDocTooltip=function(k){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var v=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(v.isDark?"ace_dark ":"")+(v.cssClass||"");var F=this.tooltipNode;k.docHTML?F.innerHTML=k.docHTML:k.docText&&(F.textContent=k.docText),F.parentNode||this.popup.container.appendChild(this.tooltipNode);var I=this.popup,A=I.container.getBoundingClientRect(),$=400,P=300,B=I.renderer.scrollBar.width||10,U=A.left,W=window.innerWidth-A.right-B,j=I.isTopdown?window.innerHeight-B-A.bottom:A.top,H=[Math.min(W/$,1),Math.min(U/$,1),Math.min(j/P,1)*.9],Q=Math.max.apply(Math,H),X=F.style;X.display="block",Q==H[0]||H[0]>=1?(X.left=A.right+1+"px",X.right="",X.maxWidth=$*Q+"px",X.top=A.top+"px",X.bottom="",X.maxHeight=Math.min(window.innerHeight-B-A.top,P)+"px"):Q==H[1]||H[1]>=1?(X.right=window.innerWidth-A.left+"px",X.left="",X.maxWidth=$*Q+"px",X.top=A.top+"px",X.bottom="",X.maxHeight=Math.min(window.innerHeight-B-A.top,P)+"px"):Q==H[2]&&(X.left=A.left+"px",X.right="",X.maxWidth=Math.min($,window.innerWidth-A.left)+"px",I.isTopdown?(X.top=A.bottom+"px",X.bottom="",X.maxHeight=Math.min(window.innerHeight-B-A.bottom,P)+"px"):(X.top="",X.bottom=window.innerHeight-A.top+"px",X.maxHeight=Math.min(A.top,P)+"px")),a.$fixPositionBug(F)},M.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var k=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==k&&this.editor.focus(),this.tooltipNode=null,k.parentNode&&k.parentNode.removeChild(k)}},M.prototype.onTooltipClick=function(k){for(var v=k.target;v&&v!=this.tooltipNode;){if(v.nodeName=="A"&&v.href){v.rel="noreferrer",v.target="_blank";break}v=v.parentNode}},M.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var k=this.popup.container;k&&k.parentNode&&k.parentNode.removeChild(k)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",x),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},M.for=function(k){return k.completer instanceof M||(k.completer&&(k.completer.destroy(),k.completer=null),u.get("sharedPopups")?(M.$sharedInstance||(M.$sharedInstance=new M),k.completer=M.$sharedInstance):(k.completer=new M,k.once("destroy",x))),k.completer},M})();E.prototype.commands={Up:function(M){M.completer.goTo("up")},Down:function(M){M.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(M){M.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(M){M.completer.goTo("end")},Esc:function(M){M.completer.detach()},Return:function(M){return M.completer.insertMatch()},"Shift-Return":function(M){M.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(M){var k=M.completer.insertMatch();if(!k&&!M.tabstopManager)M.completer.goTo("down");else return k},Backspace:function(M){M.execCommand("backspace");var k=h.getCompletionPrefix(M);!k&&M.completer&&M.completer.detach()},PageUp:function(M){M.completer.popup.gotoPageUp()},PageDown:function(M){M.completer.popup.gotoPageDown()}},E.startCommand={name:"startAutocomplete",exec:function(M,k){var v=E.for(M);v.autoInsert=!1,v.autoSelect=!0,v.autoShown=!1,v.showPopup(M,k),v.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var S=(function(){function M(k){this.initialPosition=k,this.active=!0}return M.prototype.insertByIndex=function(k,v,F){return!this.completions||!this.completions.filtered?!1:this.insertMatch(k,this.completions.filtered[v],F)},M.prototype.insertMatch=function(k,v,F){if(!v)return!1;if(k.startOperation({command:{name:"insertMatch"}}),v.completer&&v.completer.insertMatch)v.completer.insertMatch(k,v);else{if(!this.completions)return!1;var I=this.completions.filterText.length,A=0;if(v.range&&v.range.start.row===v.range.end.row&&(I-=this.initialPosition.prefix.length,I+=this.initialPosition.pos.column-v.range.start.column,A+=v.range.end.column-this.initialPosition.pos.column),I||A){var $;k.selection.getAllRanges?$=k.selection.getAllRanges():$=[k.getSelectionRange()];for(var P=0,B;B=$[P];P++)B.start.column-=I,B.end.column+=A,k.session.remove(B)}v.snippet?o.insertSnippet(k,v.snippet):this.$insertString(k,v),v.completer&&v.completer.onInsert&&typeof v.completer.onInsert=="function"&&v.completer.onInsert(k,v),v.command&&v.command==="startAutocomplete"&&k.execCommand(v.command)}return k.endOperation(),!0},M.prototype.$insertString=function(k,v){var F=v.value||v;k.execCommand("insertstring",F)},M.prototype.gatherCompletions=function(k,v){var F=k.getSession(),I=k.getCursorPosition(),A=h.getCompletionPrefix(k),$=[];this.completers=k.completers;var P=k.completers.length;return k.completers.forEach(function(B,U){B.getCompletions(k,F,I,A,function(W,j){B.hideInlinePreview&&(j=j.map(function(H){return Object.assign(H,{hideInlinePreview:B.hideInlinePreview})})),!W&&j&&($=$.concat(j)),v(null,{prefix:h.getCompletionPrefix(k),matches:$,finished:--P===0})})}),!0},M.prototype.provideCompletions=function(k,v,F){var I=(function(B){var U=B.prefix,W=B.matches;this.completions=new R(W),v.exactMatch&&(this.completions.exactMatch=!0),v.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(U),(B.finished||this.completions.filtered.length)&&F(null,this.completions,B.finished)}).bind(this),A=!0,$=null;if(this.gatherCompletions(k,(function(B,U){if(this.active){B&&(F(B,[],!0),this.detach());var W=U.prefix;if(W.indexOf(U.prefix)===0){if(A){$=U;return}I(U)}}}).bind(this)),A=!1,$){var P=$;$=null,I(P)}},M.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(k){typeof k.cancel=="function"&&k.cancel()})},M})(),R=(function(){function M(k,v){this.all=k,this.filtered=k,this.filterText=v||"",this.exactMatch=!1,this.ignoreCaption=!1}return M.prototype.setFilter=function(k){if(k.length>this.filterText&&k.lastIndexOf(this.filterText,0)===0)var v=this.filtered;else var v=this.all;this.filterText=k,v=this.filterCompletions(v,this.filterText),v=v.sort(function(I,A){return A.exactMatch-I.exactMatch||A.$score-I.$score||(I.caption||I.value).localeCompare(A.caption||A.value)});var F=null;v=v.filter(function(I){var A=I.snippet||I.caption||I.value;return A===F?!1:(F=A,!0)}),this.filtered=v},M.prototype.filterCompletions=function(k,v){var F=[],I=v.toUpperCase(),A=v.toLowerCase();e:for(var $=0,P;P=k[$];$++){if(P.skipFilter){P.$score=P.score,F.push(P);continue}var B=!this.ignoreCaption&&P.caption||P.value||P.snippet;if(B){var U=-1,W=0,j=0,H,Q;if(this.exactMatch){if(v!==B.substr(0,v.length))continue e}else{var X=B.toLowerCase().indexOf(A);if(X>-1)j=X;else for(var ee=0;ee<v.length;ee++){var ie=B.indexOf(A[ee],U+1),ne=B.indexOf(I[ee],U+1);if(H=ie>=0&&(ne<0||ie<ne)?ie:ne,H<0)continue e;Q=H-U-1,Q>0&&(U===-1&&(j+=10),j+=Q,W=W|1<<ee),U=H}}P.matchMask=W,P.exactMatch=j?0:1,P.$score=(P.score||0)-j,F.push(P)}}return F},M})();l.Autocomplete=E,l.CompletionProvider=S,l.FilteredList=R}),ace.define("ace/marker_group",["require","exports","module"],function(i,l,T){var g=(function(){function b(w,d){d&&(this.markerType=d.markerType),this.markers=[],this.session=w,w.addDynamicMarker(this)}return b.prototype.getMarkerAtPosition=function(w){return this.markers.find(function(d){return d.range.contains(w.row,w.column)})},b.prototype.markersComparator=function(w,d){return w.range.start.row-d.range.start.row},b.prototype.setMarkers=function(w){this.markers=w.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},b.prototype.update=function(w,d,h,c){if(!(!this.markers||!this.markers.length))for(var a=c.firstRow,o=c.lastRow,u,f=0,m=0,x=0;x<this.markers.length;x++){var E=this.markers[x];if(!(E.range.end.row<a)&&!(E.range.start.row>o)&&(E.range.start.row===m?f++:(m=E.range.start.row,f=0),!(f>200))){var S=E.range.clipRows(a,o);if(!(S.start.row===S.end.row&&S.start.column===S.end.column)){var R=S.toScreenRange(h);if(R.isEmpty()){u=h.getNextFoldLine(S.end.row,u),u&&u.end.row>S.end.row&&(a=u.end.row);continue}this.markerType==="fullLine"?d.drawFullLineMarker(w,R,E.className,c):R.isMultiLine()?this.markerType==="line"?d.drawMultiLineMarker(w,R,E.className,c):d.drawTextMarker(w,R,E.className,c):d.drawSingleLineMarker(w,R,E.className+" ace_br15",c)}}}},b})();g.prototype.MAX_MARKERS=1e4,l.MarkerGroup=g}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(i,l,T){var g=i("../range").Range,b=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function w(h,c){var a=h.getTextRange(g.fromPoints({row:0,column:0},c));return a.split(b).length-1}function d(h,c){var a=w(h,c),o=h.getValue().split(b),u=Object.create(null),f=o[a];return o.forEach(function(m,x){if(!(!m||m===f)){var E=Math.abs(a-x),S=o.length-E;u[m]?u[m]=Math.max(S,u[m]):u[m]=S}}),u}l.getCompletions=function(h,c,a,o,u){var f=d(c,a),m=Object.keys(f);u(null,m.map(function(x){return{caption:x,value:x,score:f[x],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(i,l,T){var g=i("../snippets").snippetManager,b=i("../autocomplete").Autocomplete,w=i("../config"),d=i("../lib/lang"),h=i("../autocomplete/util"),c=i("../marker_group").MarkerGroup,a=i("../autocomplete/text_completer"),o={getCompletions:function(A,$,P,B,U){if($.$mode.completer)return $.$mode.completer.getCompletions(A,$,P,B,U);var W=A.session.getState(P.row),j=$.$mode.getCompletions(W,$,P,B);j=j.map(function(H){return H.completerId=o.id,H}),U(null,j)},id:"keywordCompleter"},u=function(A){var $={};return A.replace(/\${(\d+)(:(.*?))?}/g,function(P,B,U,W){return $[B]=W||""}).replace(/\$(\d+?)/g,function(P,B){return $[B]})},f={getCompletions:function(A,$,P,B,U){var W=[],j=$.getTokenAt(P.row,P.column);j&&j.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?W.push("html-tag"):W=g.getActiveScopes(A);var H=g.snippetMap,Q=[];W.forEach(function(X){for(var ee=H[X]||[],ie=ee.length;ie--;){var ne=ee[ie],ae=ne.name||ne.tabTrigger;ae&&Q.push({caption:ae,snippet:ne.content,meta:ne.tabTrigger&&!ne.name?ne.tabTrigger+" ":"snippet",completerId:f.id})}},this),U(null,Q)},getDocTooltip:function(A){A.snippet&&!A.docHTML&&(A.docHTML=["<b>",d.escapeHTML(A.caption),"</b>","<hr></hr>",d.escapeHTML(u(A.snippet))].join(""))},id:"snippetCompleter"},m=[f,a,o];l.setCompleters=function(A){m.length=0,A&&m.push.apply(m,A)},l.addCompleter=function(A){m.push(A)},l.textCompleter=a,l.keyWordCompleter=o,l.snippetCompleter=f;var x={name:"expandSnippet",exec:function(A){return g.expandWithTab(A)},bindKey:"Tab"},E=function(A,$){S($.session.$mode)},S=function(A){typeof A=="string"&&(A=w.$modes[A]),A&&(g.files||(g.files={}),R(A.$id,A.snippetFileId),A.modes&&A.modes.forEach(S))},R=function(A,$){!$||!A||g.files[A]||(g.files[A]={},w.loadModule($,function(P){P&&(g.files[A]=P,!P.snippets&&P.snippetText&&(P.snippets=g.parseSnippetFile(P.snippetText)),g.register(P.snippets||[],P.scope),P.includeScopes&&(g.snippetMap[P.scope].includeScopes=P.includeScopes,P.includeScopes.forEach(function(B){S("ace/mode/"+B)})))}))},M=function(A){var $=A.editor,P=$.completer&&$.completer.activated;if(A.command.name==="backspace")P&&!h.getCompletionPrefix($)&&$.completer.detach();else if(A.command.name==="insertstring"&&!P){k=A;var B=A.editor.$liveAutocompletionDelay;B?v.delay(B):F(A)}},k,v=d.delayedCall(function(){F(k)},0),F=function(A){var $=A.editor,P=h.getCompletionPrefix($),B=A.args,U=h.triggerAutocomplete($,B);if(P&&P.length>=$.$liveAutocompletionThreshold||U){var W=b.for($);W.autoShown=!0,W.showPopup($)}},I=i("../editor").Editor;i("../config").defineOptions(I.prototype,"editor",{enableBasicAutocompletion:{set:function(A){A?(b.for(this),this.completers||(this.completers=Array.isArray(A)?A:m),this.commands.addCommand(b.startCommand)):this.commands.removeCommand(b.startCommand)},value:!1},enableLiveAutocompletion:{set:function(A){A?(this.completers||(this.completers=Array.isArray(A)?A:m),this.commands.on("afterExec",M)):this.commands.off("afterExec",M)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(A){A?(this.commands.addCommand(x),this.on("changeMode",E),E(null,this)):(this.commands.removeCommand(x),this.off("changeMode",E))},value:!1}}),l.MarkerGroup=c}),(function(){ace.require(["ace/ext/language_tools"],function(i){e&&(e.exports=i)})})()})(extLanguage_tools)),extLanguage_tools.exports}requireExtLanguage_tools();var modeJavascript={exports:{}},hasRequiredModeJavascript;function requireModeJavascript(){return hasRequiredModeJavascript||(hasRequiredModeJavascript=1,(function(e,n){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,l,T){var g=i("../lib/oop"),b=i("./text_highlight_rules").TextHighlightRules,w=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},w.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};g.inherits(w,b),w.getTagRule=function(d){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},w.getStartRule=function(d){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:d}},w.getEndRule=function(d){return{token:"comment.doc",regex:"\\*\\/",next:d}},l.JsDocCommentHighlightRules=w}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(i,l,T){var g=i("../lib/oop"),b=i("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,w=i("./text_highlight_rules").TextHighlightRules,d="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",h=function(o){var u={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},f=this.createKeywordMapper(u,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",x="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",E="(function)(\\s*)(\\*?)",S={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(u).join("|")+"\\b)"+d+")(\\s*)(\\()"};this.$rules={no_regex:[b.getStartRule("doc-start"),a("no_regex"),S,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+d+")(\\s*)(=)(\\s*)"+E+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+d+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+d+")(\\s*)(:)(\\s*)"+E+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+E+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:f,regex:d},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:E+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:d},{regex:"",token:"empty",next:"no_regex"}],start:[b.getStartRule("doc-start"),a("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[a("function_arguments"),{token:"variable.parameter",regex:d},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:x},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:x},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!o||!o.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(R,M,k){if(this.next=R=="{"?this.nextState:"",R=="{"&&k.length)k.unshift("start",M);else if(R=="}"&&k.length&&(k.shift(),this.next=k.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return R=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:x},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+d+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!o||o.jsx!=!1)&&c.call(this)),this.embedRules(b,"doc-",[b.getEndRule("no_regex")]),this.normalizeRules()};g.inherits(h,w);function c(){var o=d.replace("\\d","\\d\\-"),u={onMatch:function(m,x,E){var S=m.charAt(1)=="/"?2:1;return S==1?(x!=this.nextState?E.unshift(this.next,this.nextState,0):E.unshift(this.next),E[2]++):S==2&&x==this.nextState&&(E[1]--,(!E[1]||E[1]<0)&&(E.shift(),E.shift())),[{type:"meta.tag.punctuation."+(S==1?"":"end-")+"tag-open.xml",value:m.slice(0,S)},{type:"meta.tag.tag-name.xml",value:m.substr(S)}]},regex:"</?(?:"+o+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(u);var f={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[f,u,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,x,E){return x==E[0]&&E.shift(),m.length==2&&(E[0]==this.nextState&&E[1]--,(!E[1]||E[1]<0)&&E.splice(0,2)),this.next=E[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},f,a("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:o},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},u],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function a(o){return[{token:"comment",regex:/\/\*/,next:[b.getTagRule(),{token:"comment",regex:"\\*\\/",next:o||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[b.getTagRule(),{token:"comment",regex:"$|^",next:o||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}l.JavaScriptHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(i,l,T){var g=i("../range").Range,b=function(){};(function(){this.checkOutdent=function(w,d){return/^\s+$/.test(w)?/^\s*\}/.test(d):!1},this.autoOutdent=function(w,d){var h=w.getLine(d),c=h.match(/^(\s*\})/);if(!c)return 0;var a=c[1].length,o=w.findMatchingBracket({row:d,column:a});if(!o||o.row==d)return 0;var u=this.$getIndent(w.getLine(o.row));w.replace(new g(d,0,d,a-1),u)},this.$getIndent=function(w){return w.match(/^\s*/)[0]}}).call(b.prototype),l.MatchingBraceOutdent=b}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(i,l,T){var g=i("../../lib/oop"),b=i("../behaviour").Behaviour,w=i("../../token_iterator").TokenIterator;function d(c,a){return c&&c.type.lastIndexOf(a+".xml")>-1}var h=function(){this.add("string_dquotes","insertion",function(c,a,o,u,f){if(f=='"'||f=="'"){var m=f,x=u.doc.getTextRange(o.getSelectionRange());if(x!==""&&x!=="'"&&x!='"'&&o.getWrapBehavioursEnabled())return{text:m+x+m,selection:!1};var E=o.getCursorPosition(),S=u.doc.getLine(E.row),R=S.substring(E.column,E.column+1),M=new w(u,E.row,E.column),k=M.getCurrentToken();if(R==m&&(d(k,"attribute-value")||d(k,"string")))return{text:"",selection:[1,1]};if(k||(k=M.stepBackward()),!k)return;for(;d(k,"tag-whitespace")||d(k,"whitespace");)k=M.stepBackward();var v=!R||R.match(/\s/);if(d(k,"attribute-equals")&&(v||R==">")||d(k,"decl-attribute-equals")&&(v||R=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,a,o,u,f){var m=u.doc.getTextRange(f);if(!f.isMultiLine()&&(m=='"'||m=="'")){var x=u.doc.getLine(f.start.row),E=x.substring(f.start.column+1,f.start.column+2);if(E==m)return f.end.column++,f}}),this.add("autoclosing","insertion",function(c,a,o,u,f){if(f==">"){var m=o.getSelectionRange().start,x=new w(u,m.row,m.column),E=x.getCurrentToken()||x.stepBackward();if(!E||!(d(E,"tag-name")||d(E,"tag-whitespace")||d(E,"attribute-name")||d(E,"attribute-equals")||d(E,"attribute-value"))||d(E,"reference.attribute-value"))return;if(d(E,"attribute-value")){var S=x.getCurrentTokenColumn()+E.value.length;if(m.column<S)return;if(m.column==S){var R=x.stepForward();if(R&&d(R,"attribute-value"))return;x.stepBackward()}}if(/^\s*>/.test(u.getLine(m.row).slice(m.column)))return;for(;!d(E,"tag-name");)if(E=x.stepBackward(),E.value=="<"){E=x.stepForward();break}var M=x.getCurrentTokenRow(),k=x.getCurrentTokenColumn();if(d(x.stepBackward(),"end-tag-open"))return;var v=E.value;return M==m.row&&(v=v.substring(0,m.column-k)),this.voidElements&&this.voidElements.hasOwnProperty(v.toLowerCase())?void 0:{text:"></"+v+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,a,o,u,f){if(f==`
`){var m=o.getCursorPosition(),x=u.getLine(m.row),E=new w(u,m.row,m.column),S=E.getCurrentToken();if(d(S,"")&&S.type.indexOf("tag-close")!==-1){if(S.value=="/>")return;for(;S&&S.type.indexOf("tag-name")===-1;)S=E.stepBackward();if(!S)return;var R=S.value,M=E.getCurrentTokenRow();if(S=E.stepBackward(),!S||S.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[R]||!this.voidElements){var k=u.getTokenAt(m.row,m.column+1),x=u.getLine(M),v=this.$getIndent(x),F=v+u.getTabString();return k&&k.value==="</"?{text:`
`+F+`
`+v,selection:[1,F.length,1,F.length]}:{text:`
`+F}}}}})};g.inherits(h,b),l.XmlBehaviour=h}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(i,l,T){var g=i("../../lib/oop"),b=i("../../token_iterator").TokenIterator,w=i("../behaviour/cstyle").CstyleBehaviour,d=i("../behaviour/xml").XmlBehaviour,h=function(){var c=new d({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(c),this.inherit(w),this.add("autoclosing-fragment","insertion",function(a,o,u,f,m){if(m==">"){var x=u.getSelectionRange().start,E=new b(f,x.row,x.column),S=E.getCurrentToken()||E.stepBackward();if(!S)return;if(S.value=="<")return{text:"></>",selection:[1,1]}}})};g.inherits(h,w),l.JavaScriptBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(i,l,T){var g=i("../../lib/oop"),b=i("../../range").Range,w=i("./fold_mode").FoldMode,d=l.FoldMode=function(a,o){w.call(this),this.voidElements=a||{},this.optionalEndTags=g.mixin({},this.voidElements),o&&g.mixin(this.optionalEndTags,o)};g.inherits(d,w);var h=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(a,o){return a&&a.type&&a.type.lastIndexOf(o+".xml")>-1}(function(){this.getFoldWidget=function(a,o,u){var f=this._getFirstTagInLine(a,u);return f?f.closing||!f.tagName&&f.selfClosing?o==="markbeginend"?"end":"":!f.tagName||f.selfClosing||this.voidElements.hasOwnProperty(f.tagName.toLowerCase())||this._findEndTagInLine(a,u,f.tagName,f.end.column)?"":"start":this.getCommentFoldWidget(a,u)},this.getCommentFoldWidget=function(a,o){return/comment/.test(a.getState(o))&&/<!-/.test(a.getLine(o))?"start":""},this._getFirstTagInLine=function(a,o){for(var u=a.getTokens(o),f=new h,m=0;m<u.length;m++){var x=u[m];if(c(x,"tag-open")){if(f.end.column=f.start.column+x.value.length,f.closing=c(x,"end-tag-open"),x=u[++m],!x)return null;if(f.tagName=x.value,x.value===""){if(x=u[++m],!x)return null;f.tagName=x.value}for(f.end.column+=x.value.length,m++;m<u.length;m++)if(x=u[m],f.end.column+=x.value.length,c(x,"tag-close")){f.selfClosing=x.value=="/>";break}return f}else if(c(x,"tag-close"))return f.selfClosing=x.value=="/>",f;f.start.column+=x.value.length}return null},this._findEndTagInLine=function(a,o,u,f){for(var m=a.getTokens(o),x=0,E=0;E<m.length;E++){var S=m[E];if(x+=S.value.length,!(x<f-1)&&c(S,"end-tag-open")&&(S=m[E+1],c(S,"tag-name")&&S.value===""&&(S=m[E+2]),S&&S.value==u))return!0}return!1},this.getFoldWidgetRange=function(a,o,u){var f=this._getFirstTagInLine(a,u);if(!f)return this.getCommentFoldWidget(a,u)&&a.getCommentFoldRange(u,a.getLine(u).length);var m=a.getMatchingTags({row:u,column:0});if(m)return new b(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(d.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(i,l,T){var g=i("../../lib/oop"),b=i("../../range").Range,w=i("./fold_mode").FoldMode,d=l.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};g.inherits(d,w),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,a){var o=h.getLine(a);if(this.singleLineBlockCommentRe.test(o)&&!this.startRegionRe.test(o)&&!this.tripleStarBlockCommentRe.test(o))return"";var u=this._getFoldWidgetBase(h,c,a);return!u&&this.startRegionRe.test(o)?"start":u},this.getFoldWidgetRange=function(h,c,a,o){var u=h.getLine(a);if(this.startRegionRe.test(u))return this.getCommentRegionBlock(h,u,a);var x=u.match(this.foldingStartMarker);if(x){var f=x.index;if(x[1])return this.openingBracketBlock(h,x[1],a,f);var m=h.getCommentFoldRange(a,f+x[0].length,1);return m&&!m.isMultiLine()&&(o?m=this.getSectionRange(h,a):c!="all"&&(m=null)),m}if(c!=="markbegin"){var x=u.match(this.foldingStopMarker);if(x){var f=x.index+x[0].length;return x[1]?this.closingBracketBlock(h,x[1],a,f):h.getCommentFoldRange(a,f,-1)}}},this.getSectionRange=function(h,c){var a=h.getLine(c),o=a.search(/\S/),u=c,f=a.length;c=c+1;for(var m=c,x=h.getLength();++c<x;){a=h.getLine(c);var E=a.search(/\S/);if(E!==-1){if(o>E)break;var S=this.getFoldWidgetRange(h,"all",c);if(S){if(S.start.row<=u)break;if(S.isMultiLine())c=S.end.row;else if(o==E)break}m=c}}return new b(u,f,m,h.getLine(m).length)},this.getCommentRegionBlock=function(h,c,a){for(var o=c.search(/\s*$/),u=h.getLength(),f=a,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,x=1;++a<u;){c=h.getLine(a);var E=m.exec(c);if(E&&(E[1]?x--:x++,!x))break}var S=a;if(S>f)return new b(f,o,S,c.length)}}).call(d.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(i,l,T){var g=i("../../lib/oop"),b=i("./xml").FoldMode,w=i("./cstyle").FoldMode,d=l.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end))),this.xmlFoldMode=new b};g.inherits(d,w),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,a){var o=this.getFoldWidgetBase(h,c,a);return o||this.xmlFoldMode.getFoldWidget(h,c,a)},this.getFoldWidgetRange=function(h,c,a,o){var u=this.getFoldWidgetRangeBase(h,c,a,o);return u||this.xmlFoldMode.getFoldWidgetRange(h,c,a)}}).call(d.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(i,l,T){var g=i("../lib/oop"),b=i("./text").Mode,w=i("./javascript_highlight_rules").JavaScriptHighlightRules,d=i("./matching_brace_outdent").MatchingBraceOutdent,h=i("../worker/worker_client").WorkerClient,c=i("./behaviour/javascript").JavaScriptBehaviour,a=i("./folding/javascript").FoldMode,o=function(){this.HighlightRules=w,this.$outdent=new d,this.$behaviour=new c,this.foldingRules=new a};g.inherits(o,b),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(u,f,m){var x=this.$getIndent(f),E=this.getTokenizer().getLineTokens(f,u),S=E.tokens,R=E.state;if(S.length&&S[S.length-1].type=="comment")return x;if(u=="start"||u=="no_regex"){var M=f.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);M&&(x+=m)}else if(u=="doc-start"&&(R=="start"||R=="no_regex"))return"";return x},this.checkOutdent=function(u,f,m){return this.$outdent.checkOutdent(f,m)},this.autoOutdent=function(u,f,m){this.$outdent.autoOutdent(f,m)},this.createWorker=function(u){var f=new h(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return f.attachToDocument(u.getDocument()),f.on("annotate",function(m){u.setAnnotations(m.data)}),f.on("terminate",function(){u.clearAnnotations()}),f},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(o.prototype),l.Mode=o}),(function(){ace.require(["ace/mode/javascript"],function(i){e&&(e.exports=i)})})()})(modeJavascript)),modeJavascript.exports}requireModeJavascript();var modePython={exports:{}},hasRequiredModePython;function requireModePython(){return hasRequiredModePython||(hasRequiredModePython=1,(function(e,n){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,l,T){var g=i("../lib/oop"),b=i("./text_highlight_rules").TextHighlightRules,w=function(){var d="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",h="True|False|None|NotImplemented|Ellipsis|__debug__",c="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",a=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":c,"variable.language":"self|cls","constant.language":h,keyword:d},"identifier"),o="[uU]?",u="[rR]",f="[fF]",m="(?:[rR][fF]|[fF][rR])",x="(?:(?:[1-9]\\d*)|(?:0))",E="(?:0[oO]?[0-7]+)",S="(?:0[xX][\\dA-Fa-f]+)",R="(?:0[bB][01]+)",M="(?:"+x+"|"+E+"|"+S+"|"+R+")",k="(?:[eE][+-]?\\d+)",v="(?:\\.\\d+)",F="(?:\\d+)",I="(?:(?:"+F+"?"+v+")|(?:"+F+"\\.))",A="(?:(?:"+I+"|"+F+")"+k+")",$="(?:"+A+"|"+I+")",P=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:o+'"{3}',next:"qqstring3"},{token:"string",regex:o+'"(?=.)',next:"qqstring"},{token:"string",regex:o+"'{3}",next:"qstring3"},{token:"string",regex:o+"'(?=.)",next:"qstring"},{token:"string",regex:u+'"{3}',next:"rawqqstring3"},{token:"string",regex:u+'"(?=.)',next:"rawqqstring"},{token:"string",regex:u+"'{3}",next:"rawqstring3"},{token:"string",regex:u+"'(?=.)",next:"rawqstring"},{token:"string",regex:f+'"{3}',next:"fqqstring3"},{token:"string",regex:f+'"(?=.)',next:"fqqstring"},{token:"string",regex:f+"'{3}",next:"fqstring3"},{token:"string",regex:f+"'(?=.)",next:"fqstring"},{token:"string",regex:m+'"{3}',next:"rfqqstring3"},{token:"string",regex:m+'"(?=.)',next:"rfqqstring"},{token:"string",regex:m+"'{3}",next:"rfqstring3"},{token:"string",regex:m+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:P},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:P},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:P},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:P},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:P},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:P},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:P},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:P},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+$+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:$},{token:"constant.numeric",regex:M+"[lL]\\b"},{token:"constant.numeric",regex:M+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:a,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};g.inherits(w,b),l.PythonHighlightRules=w}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(i,l,T){var g=i("../../lib/oop"),b=i("./fold_mode").FoldMode,w=l.FoldMode=function(d){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+d+")(?:\\s*)(?:#.*)?$")};g.inherits(w,b),(function(){this.getFoldWidgetRange=function(d,h,c){var a=d.getLine(c),o=a.match(this.foldingStartMarker);if(o)return o[1]?this.openingBracketBlock(d,o[1],c,o.index):o[2]?this.indentationBlock(d,c,o.index+o[2].length):this.indentationBlock(d,c)}}).call(w.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(i,l,T){var g=i("../lib/oop"),b=i("./text").Mode,w=i("./python_highlight_rules").PythonHighlightRules,d=i("./folding/pythonic").FoldMode,h=i("../range").Range,c=function(){this.HighlightRules=w,this.foldingRules=new d("\\:"),this.$behaviour=this.$defaultBehaviour};g.inherits(c,b),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(o,u,f){var m=this.$getIndent(u),x=this.getTokenizer().getLineTokens(u,o),E=x.tokens;if(E.length&&E[E.length-1].type=="comment")return m;if(o=="start"){var S=u.match(/^.*[\{\(\[:]\s*$/);S&&(m+=f)}return m};var a={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(o,u,f){if(f!==`\r
`&&f!=="\r"&&f!==`
`)return!1;var m=this.getTokenizer().getLineTokens(u.trim(),o).tokens;if(!m)return!1;do var x=m.pop();while(x&&(x.type=="comment"||x.type=="text"&&x.value.match(/^\s+$/)));return x?x.type=="keyword"&&a[x.value]:!1},this.autoOutdent=function(o,u,f){f+=1;var m=this.$getIndent(u.getLine(f)),x=u.getTabString();m.slice(-x.length)==x&&u.remove(new h(f,m.length-x.length,f,m.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(c.prototype),l.Mode=c}),(function(){ace.require(["ace/mode/python"],function(i){e&&(e.exports=i)})})()})(modePython)),modePython.exports}requireModePython();var themeDracula={exports:{}},hasRequiredThemeDracula;function requireThemeDracula(){return hasRequiredThemeDracula||(hasRequiredThemeDracula=1,(function(e,n){ace.define("ace/theme/dracula-css",["require","exports","module"],function(i,l,T){T.exports=`/*
 * Copyright  2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

.ace-dracula .ace_gutter {
  background: #282a36;
  color: rgb(144,145,148)
}

.ace-dracula .ace_print-margin {
  width: 1px;
  background: #44475a
}

.ace-dracula {
  background-color: #282a36;
  color: #f8f8f2
}

.ace-dracula .ace_cursor {
  color: #f8f8f0
}

.ace-dracula .ace_marker-layer .ace_selection {
  background: #44475a
}

.ace-dracula.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #282a36;
  border-radius: 2px
}

.ace-dracula .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-dracula .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #a29709
}

.ace-dracula .ace_marker-layer .ace_active-line {
  background: #44475a
}

.ace-dracula .ace_gutter-active-line {
  background-color: #44475a
}

.ace-dracula .ace_marker-layer .ace_selected-word {
  box-shadow: 0px 0px 0px 1px #a29709;
  border-radius: 3px;
}

.ace-dracula .ace_fold {
  background-color: #50fa7b;
  border-color: #f8f8f2
}

.ace-dracula .ace_keyword {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_language {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_numeric {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character.ace_escape {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_other {
  color: #bd93f9
}

.ace-dracula .ace_support.ace_function {
  color: #8be9fd
}

.ace-dracula .ace_support.ace_constant {
  color: #6be5fd
}

.ace-dracula .ace_support.ace_class {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_support.ace_type {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_storage {
  color: #ff79c6
}

.ace-dracula .ace_storage.ace_type {
  font-style: italic;
  color: #8be9fd
}

.ace-dracula .ace_invalid {
  color: #F8F8F0;
  background-color: #ff79c6
}

.ace-dracula .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #bd93f9
}

.ace-dracula .ace_string {
  color: #f1fa8c
}

.ace-dracula .ace_comment {
  color: #6272a4
}

.ace-dracula .ace_variable {
  color: #50fa7b
}

.ace-dracula .ace_variable.ace_parameter {
  font-style: italic;
  color: #ffb86c
}

.ace-dracula .ace_entity.ace_other.ace_attribute-name {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_function {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_tag {
  color: #ff79c6
}
.ace-dracula .ace_invisible {
  color: #626680;
}

.ace-dracula .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-dracula .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAADCwsK76u2xAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjYGBoAAAAhACBGFbxzQAAAABJRU5ErkJggg==") right repeat-y;
}
`}),ace.define("ace/theme/dracula",["require","exports","module","ace/theme/dracula-css","ace/lib/dom"],function(i,l,T){l.isDark=!0,l.cssClass="ace-dracula",l.cssText=i("./dracula-css"),l.$selectionColorConflict=!0;var g=i("../lib/dom");g.importCssString(l.cssText,l.cssClass,!1)}),(function(){ace.require(["ace/theme/dracula"],function(i){e&&(e.exports=i)})})()})(themeDracula)),themeDracula.exports}requireThemeDracula();var themeTomorrow_night_eighties={exports:{}},hasRequiredThemeTomorrow_night_eighties;function requireThemeTomorrow_night_eighties(){return hasRequiredThemeTomorrow_night_eighties||(hasRequiredThemeTomorrow_night_eighties=1,(function(e,n){ace.define("ace/theme/tomorrow_night_eighties-css",["require","exports","module"],function(i,l,T){T.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties-css","ace/lib/dom"],function(i,l,T){l.isDark=!0,l.cssClass="ace-tomorrow-night-eighties",l.cssText=i("./tomorrow_night_eighties-css");var g=i("../lib/dom");g.importCssString(l.cssText,l.cssClass,!1)}),(function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(i){e&&(e.exports=i)})})()})(themeTomorrow_night_eighties)),themeTomorrow_night_eighties.exports}requireThemeTomorrow_night_eighties();const Editor=e=>{const n=useTypedSelector(l=>l.workspace.currentLanguage),{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(AceEditor,{mode:languageToModeMap[n],theme:i==="dark"?"dracula":"tomorrow_night_eighties",fontSize:15,width:"100%",...e})},JsonDisplay=({jsonProgram:e})=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardBody,{children:[jsxRuntimeExports.jsx(Text,{children:"JSON Code:"}),jsxRuntimeExports.jsx(Box,{overflowX:"scroll",children:jsxRuntimeExports.jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:e})})]})});function formatProdErrorMessage$1(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function createStore(e,n,i){if(typeof e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof n=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof n=="function"&&typeof i>"u"&&(i=n,n=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(formatProdErrorMessage$1(1));return i(createStore)(e,n)}let l=e,T=n,g=new Map,b=g,w=0,d=!1;function h(){b===g&&(b=new Map,g.forEach((x,E)=>{b.set(E,x)}))}function c(){if(d)throw new Error(formatProdErrorMessage$1(3));return T}function a(x){if(typeof x!="function")throw new Error(formatProdErrorMessage$1(4));if(d)throw new Error(formatProdErrorMessage$1(5));let E=!0;h();const S=w++;return b.set(S,x),function(){if(E){if(d)throw new Error(formatProdErrorMessage$1(6));E=!1,h(),b.delete(S),g=null}}}function o(x){if(!isPlainObject$1(x))throw new Error(formatProdErrorMessage$1(7));if(typeof x.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof x.type!="string")throw new Error(formatProdErrorMessage$1(17));if(d)throw new Error(formatProdErrorMessage$1(9));try{d=!0,T=l(T,x)}finally{d=!1}return(g=b).forEach(S=>{S()}),x}function u(x){if(typeof x!="function")throw new Error(formatProdErrorMessage$1(10));l=x,o({type:actionTypes_default.REPLACE})}function f(){const x=a;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(formatProdErrorMessage$1(11));function S(){const M=E;M.next&&M.next(c())}return S(),{unsubscribe:x(S)}},[symbol_observable_default](){return this}}}return o({type:actionTypes_default.INIT}),{dispatch:o,subscribe:a,getState:c,replaceReducer:u,[symbol_observable_default]:f}}function assertReducerShape(e){Object.keys(e).forEach(n=>{const i=e[n];if(typeof i(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof i(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(e){const n=Object.keys(e),i={};for(let g=0;g<n.length;g++){const b=n[g];typeof e[b]=="function"&&(i[b]=e[b])}const l=Object.keys(i);let T;try{assertReducerShape(i)}catch(g){T=g}return function(b={},w){if(T)throw T;let d=!1;const h={};for(let c=0;c<l.length;c++){const a=l[c],o=i[a],u=b[a],f=o(u,w);if(typeof f>"u")throw w&&w.type,new Error(formatProdErrorMessage$1(14));h[a]=f,d=d||f!==u}return d=d||l.length!==Object.keys(b).length,d?h:b}}function compose(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,i)=>(...l)=>n(i(...l)))}function applyMiddleware(...e){return n=>(i,l)=>{const T=n(i,l);let g=()=>{throw new Error(formatProdErrorMessage$1(15))};const b={getState:T.getState,dispatch:(d,...h)=>g(d,...h)},w=e.map(d=>d(b));return g=compose(...w)(T.dispatch),{...T,dispatch:g}}}function isAction(e){return isPlainObject$1(e)&&"type"in e&&typeof e.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var O=Object,getPrototypeOf=O.getPrototypeOf,CONSTRUCTOR="constructor",PROTOTYPE="prototype",CONFIGURABLE="configurable",ENUMERABLE="enumerable",WRITABLE="writable",VALUE="value",isDraft=e=>!!e&&!!e[DRAFT_STATE];function isDraftable(e){return e?isPlainObject(e)||isArray(e)||!!e[DRAFTABLE]||!!e[CONSTRUCTOR]?.[DRAFTABLE]||isMap(e)||isSet(e):!1}var objectCtorString=O[PROTOTYPE][CONSTRUCTOR].toString(),cachedCtorStrings=new WeakMap;function isPlainObject(e){if(!e||!isObjectish(e))return!1;const n=getPrototypeOf(e);if(n===null||n===O[PROTOTYPE])return!0;const i=O.hasOwnProperty.call(n,CONSTRUCTOR)&&n[CONSTRUCTOR];if(i===Object)return!0;if(!isFunction(i))return!1;let l=cachedCtorStrings.get(i);return l===void 0&&(l=Function.toString.call(i),cachedCtorStrings.set(i,l)),l===objectCtorString}function each(e,n,i=!0){getArchtype(e)===0?(i?Reflect.ownKeys(e):O.keys(e)).forEach(T=>{n(T,e[T],e)}):e.forEach((l,T)=>n(T,l,e))}function getArchtype(e){const n=e[DRAFT_STATE];return n?n.type_:isArray(e)?1:isMap(e)?2:isSet(e)?3:0}var has=(e,n,i=getArchtype(e))=>i===2?e.has(n):O[PROTOTYPE].hasOwnProperty.call(e,n),get=(e,n,i=getArchtype(e))=>i===2?e.get(n):e[n],set=(e,n,i,l=getArchtype(e))=>{l===2?e.set(n,i):l===3?e.add(i):e[n]=i};function is(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}var isArray=Array.isArray,isMap=e=>e instanceof Map,isSet=e=>e instanceof Set,isObjectish=e=>typeof e=="object",isFunction=e=>typeof e=="function",isBoolean$1=e=>typeof e=="boolean",latest=e=>e.copy_||e.base_,getFinalValue=e=>e.modified_?e.copy_:e.base_;function shallowCopy(e,n){if(isMap(e))return new Map(e);if(isSet(e))return new Set(e);if(isArray(e))return Array[PROTOTYPE].slice.call(e);const i=isPlainObject(e);if(n===!0||n==="class_only"&&!i){const l=O.getOwnPropertyDescriptors(e);delete l[DRAFT_STATE];let T=Reflect.ownKeys(l);for(let g=0;g<T.length;g++){const b=T[g],w=l[b];w[WRITABLE]===!1&&(w[WRITABLE]=!0,w[CONFIGURABLE]=!0),(w.get||w.set)&&(l[b]={[CONFIGURABLE]:!0,[WRITABLE]:!0,[ENUMERABLE]:w[ENUMERABLE],[VALUE]:e[b]})}return O.create(getPrototypeOf(e),l)}else{const l=getPrototypeOf(e);if(l!==null&&i)return{...e};const T=O.create(l);return O.assign(T,e)}}function freeze(e,n=!1){return isFrozen(e)||isDraft(e)||(getArchtype(e)>1&&O.defineProperties(e,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),O.freeze(e),n&&each(e,(i,l)=>{freeze(l,!0)},!1)),e}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={[VALUE]:dontMutateFrozenCollections};function isFrozen(e){return e===null||!isObjectish(e)?!0:O.isFrozen(e)}var PluginMapSet="MapSet",PluginPatches="Patches",plugins={};function getPlugin(e){const n=plugins[e];return n||die(0,e),n}var isPluginLoaded=e=>!!plugins[e],currentScope,getCurrentScope=()=>currentScope,createScope=(e,n)=>({drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:isPluginLoaded(PluginMapSet)?getPlugin(PluginMapSet):void 0});function usePatchesInScope(e,n){n&&(e.patchPlugin_=getPlugin(PluginPatches),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}var enterScope=e=>currentScope=createScope(currentScope,e);function revokeDraft(e){const n=e[DRAFT_STATE];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function processResult(e,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];if(e!==void 0&&e!==i){i[DRAFT_STATE].modified_&&(revokeScope(n),die(4)),isDraftable(e)&&(e=finalize(n,e));const{patchPlugin_:T}=n;T&&T.generateReplacementPatches_(i[DRAFT_STATE].base_,e,n)}else e=finalize(n,i);return maybeFreeze(n,e,!0),revokeScope(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==NOTHING?e:void 0}function finalize(e,n){if(isFrozen(n))return n;const i=n[DRAFT_STATE];if(!i)return handleValue(n,e.handledSet_,e);if(!isSameScope(i,e))return n;if(!i.modified_)return i.base_;if(!i.finalized_){const{callbacks_:l}=i;if(l)for(;l.length>0;)l.pop()(e);generatePatchesAndFinalize(i,e)}return i.copy_}function maybeFreeze(e,n,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(n,i)}function markStateFinalized(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var isSameScope=(e,n)=>e.scope_===n,EMPTY_LOCATIONS_RESULT=[];function updateDraftInParent(e,n,i,l){const T=latest(e),g=e.type_;if(l!==void 0&&get(T,l,g)===n){set(T,l,i,g);return}if(!e.draftLocations_){const w=e.draftLocations_=new Map;each(T,(d,h)=>{if(isDraft(h)){const c=w.get(h)||[];c.push(d),w.set(h,c)}})}const b=e.draftLocations_.get(n)??EMPTY_LOCATIONS_RESULT;for(const w of b)set(T,w,i,g)}function registerChildFinalizationCallback(e,n,i){e.callbacks_.push(function(T){const g=n;if(!g||!isSameScope(g,T))return;T.mapSetPlugin_?.fixSetContents(g);const b=getFinalValue(g);updateDraftInParent(e,g.draft_??g,b,i),generatePatchesAndFinalize(g,T)})}function generatePatchesAndFinalize(e,n){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:l}=n;if(l){const T=l.getPath(e);T&&l.generatePatches_(e,T,n)}markStateFinalized(e)}}function handleCrossReference(e,n,i){const{scope_:l}=e;if(isDraft(i)){const T=i[DRAFT_STATE];isSameScope(T,l)&&T.callbacks_.push(function(){prepareCopy(e);const b=getFinalValue(T);updateDraftInParent(e,i,b,n)})}else isDraftable(i)&&e.callbacks_.push(function(){const g=latest(e);get(g,n,e.type_)===i&&l.drafts_.length>1&&(e.assigned_.get(n)??!1)===!0&&e.copy_&&handleValue(get(e.copy_,n,e.type_),l.handledSet_,l)})}function handleValue(e,n,i){return!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||isDraft(e)||n.has(e)||!isDraftable(e)||isFrozen(e)||(n.add(e),each(e,(l,T)=>{if(isDraft(T)){const g=T[DRAFT_STATE];if(isSameScope(g,i)){const b=getFinalValue(g);set(e,l,b,e.type_),markStateFinalized(g)}}else isDraftable(T)&&handleValue(T,n,i)})),e}function createProxyProxy(e,n){const i=isArray(e),l={type_:i?1:0,scope_:n?n.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let T=l,g=objectTraps;i&&(T=[l],g=arrayTraps);const{revoke:b,proxy:w}=Proxy.revocable(T,g);return l.draft_=w,l.revoke_=b,[w,l]}var objectTraps={get(e,n){if(n===DRAFT_STATE)return e;const i=latest(e);if(!has(i,n,e.type_))return readPropFromProto(e,i,n);const l=i[n];if(e.finalized_||!isDraftable(l))return l;if(l===peek(e.base_,n)){prepareCopy(e);const T=e.type_===1?+n:n,g=createProxy(e.scope_,l,e,T);return e.copy_[T]=g}return l},has(e,n){return n in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,n,i){const l=getDescriptorFromProto(latest(e),n);if(l?.set)return l.set.call(e.draft_,i),!0;if(!e.modified_){const T=peek(latest(e),n),g=T?.[DRAFT_STATE];if(g&&g.base_===i)return e.copy_[n]=i,e.assigned_.set(n,!1),!0;if(is(i,T)&&(i!==void 0||has(e.base_,n,e.type_)))return!0;prepareCopy(e),markChanged(e)}return e.copy_[n]===i&&(i!==void 0||n in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=i,e.assigned_.set(n,!0),handleCrossReference(e,n,i)),!0},deleteProperty(e,n){return prepareCopy(e),peek(e.base_,n)!==void 0||n in e.base_?(e.assigned_.set(n,!1),markChanged(e)):e.assigned_.delete(n),e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const i=latest(e),l=Reflect.getOwnPropertyDescriptor(i,n);return l&&{[WRITABLE]:!0,[CONFIGURABLE]:e.type_!==1||n!=="length",[ENUMERABLE]:l[ENUMERABLE],[VALUE]:i[n]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(e,n)=>{arrayTraps[e]=function(){const i=arguments;return i[0]=i[0][0],n.apply(this,i)}});arrayTraps.deleteProperty=function(e,n){return arrayTraps.set.call(this,e,n,void 0)};arrayTraps.set=function(e,n,i){return objectTraps.set.call(this,e[0],n,i,e[0])};function peek(e,n){const i=e[DRAFT_STATE];return(i?latest(i):e)[n]}function readPropFromProto(e,n,i){const l=getDescriptorFromProto(n,i);return l?VALUE in l?l[VALUE]:l.get?.call(e.draft_):void 0}function getDescriptorFromProto(e,n){if(!(n in e))return;let i=getPrototypeOf(e);for(;i;){const l=Object.getOwnPropertyDescriptor(i,n);if(l)return l;i=getPrototypeOf(i)}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.assigned_=new Map,e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,l)=>{if(isFunction(n)&&!isFunction(i)){const g=i;i=n;const b=this;return function(d=g,...h){return b.produce(d,c=>i.call(this,c,...h))}}isFunction(i)||die(6),l!==void 0&&!isFunction(l)&&die(7);let T;if(isDraftable(n)){const g=enterScope(this),b=createProxy(g,n,void 0);let w=!0;try{T=i(b),w=!1}finally{w?revokeScope(g):leaveScope(g)}return usePatchesInScope(g,l),processResult(T,g)}else if(!n||!isObjectish(n)){if(T=i(n),T===void 0&&(T=n),T===NOTHING&&(T=void 0),this.autoFreeze_&&freeze(T,!0),l){const g=[],b=[];getPlugin(PluginPatches).generateReplacementPatches_(n,T,{patches_:g,inversePatches_:b}),l(g,b)}return T}else die(1,n)},this.produceWithPatches=(n,i)=>{if(isFunction(n))return(b,...w)=>this.produceWithPatches(b,d=>n(d,...w));let l,T;return[this.produce(n,i,(b,w)=>{l=b,T=w}),l,T]},isBoolean$1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),isBoolean$1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),isBoolean$1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));const n=enterScope(this),i=createProxy(n,e,void 0);return i[DRAFT_STATE].isManual_=!0,leaveScope(n),i}finishDraft(e,n){const i=e&&e[DRAFT_STATE];(!i||!i.isManual_)&&die(9);const{scope_:l}=i;return usePatchesInScope(l,n),processResult(void 0,l)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const T=n[i];if(T.path.length===0&&T.op==="replace"){e=T.value;break}}i>-1&&(n=n.slice(i+1));const l=getPlugin(PluginPatches).applyPatches_;return isDraft(e)?l(e,n):this.produce(e,T=>l(T,n))}};function createProxy(e,n,i,l){const[T,g]=isMap(n)?getPlugin(PluginMapSet).proxyMap_(n,i):isSet(n)?getPlugin(PluginMapSet).proxySet_(n,i):createProxyProxy(n,i);return(i?.scope_??getCurrentScope()).drafts_.push(T),g.callbacks_=i?.callbacks_??[],g.key_=l,i&&l!==void 0?registerChildFinalizationCallback(i,g,l):g.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(g);const{patchPlugin_:h}=d;g.modified_&&h&&h.generatePatches_(g,[],d)}),T}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;const n=e[DRAFT_STATE];let i,l=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=shallowCopy(e,n.scope_.immer_.useStrictShallowCopy_),l=n.scope_.immer_.shouldUseStrictIteration()}else i=shallowCopy(e,!0);return each(i,(T,g)=>{set(i,T,currentImpl(g))},l),n&&(n.finalized_=!1),i}var immer=new Immer2,produce=immer.produce;function createThunkMiddleware(e){return({dispatch:i,getState:l})=>T=>g=>typeof g=="function"?g(i,l,e):T(g)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(e,n){function i(...l){if(n){let T=n(...l);if(!T)throw new Error(formatProdErrorMessage(0));return{type:e,payload:T.payload,..."meta"in T&&{meta:T.meta},..."error"in T&&{error:T.error}}}return{type:e,payload:l[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=l=>isAction(l)&&l.type===e,i}var Tuple=class rf extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,rf.prototype)}static get[Symbol.species](){return rf}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new rf(...n[0].concat(this)):new rf(...n.concat(this))}};function freezeDraftable(e){return isDraftable(e)?produce(e,()=>{}):e}function getOrInsertComputed(e,n,i){return e.has(n)?e.get(n):e.set(n,i(n)).get(n)}function isBoolean(e){return typeof e=="boolean"}var buildGetDefaultMiddleware=()=>function(n){const{thunk:i=!0,immutableCheck:l=!0,serializableCheck:T=!0,actionCreatorCheck:g=!0}=n??{};let b=new Tuple;return i&&(isBoolean(i)?b.push(thunk):b.push(withExtraArgument(i.extraArgument))),b},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=e=>n=>{setTimeout(n,e)},autoBatchEnhancer=(e={type:"raf"})=>n=>(...i)=>{const l=n(...i);let T=!0,g=!1,b=!1;const w=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):e.type==="callback"?e.queueNotification:createQueueWithTimer(e.timeout),h=()=>{b=!1,g&&(g=!1,w.forEach(c=>c()))};return Object.assign({},l,{subscribe(c){const a=()=>T&&c(),o=l.subscribe(a);return w.add(c),()=>{o(),w.delete(c)}},dispatch(c){try{return T=!c?.meta?.[SHOULD_AUTOBATCH],g=!T,g&&(b||(b=!0,d(h))),l.dispatch(c)}finally{T=!0}}})},buildGetDefaultEnhancers=e=>function(i){const{autoBatch:l=!0}=i??{};let T=new Tuple(e);return l&&T.push(autoBatchEnhancer(typeof l=="object"?l:void 0)),T};function configureStore(e){const n=buildGetDefaultMiddleware(),{reducer:i=void 0,middleware:l,devTools:T=!0,preloadedState:g=void 0,enhancers:b=void 0}=e||{};let w;if(typeof i=="function")w=i;else if(isPlainObject$1(i))w=combineReducers(i);else throw new Error(formatProdErrorMessage(1));let d;typeof l=="function"?d=l(n):d=n();let h=compose;T&&(h=composeWithDevTools({trace:!1,...typeof T=="object"&&T}));const c=applyMiddleware(...d),a=buildGetDefaultEnhancers(c);let o=typeof b=="function"?b(a):a();const u=h(...o);return createStore(w,g,u)}function executeReducerBuilderCallback(e){const n={},i=[];let l;const T={addCase(g,b){const w=typeof g=="string"?g:g.type;if(!w)throw new Error(formatProdErrorMessage(28));if(w in n)throw new Error(formatProdErrorMessage(29));return n[w]=b,T},addAsyncThunk(g,b){return b.pending&&(n[g.pending.type]=b.pending),b.rejected&&(n[g.rejected.type]=b.rejected),b.fulfilled&&(n[g.fulfilled.type]=b.fulfilled),b.settled&&i.push({matcher:g.settled,reducer:b.settled}),T},addMatcher(g,b){return i.push({matcher:g,reducer:b}),T},addDefaultCase(g){return l=g,T}};return e(T),[n,i,l]}function isStateFunction(e){return typeof e=="function"}function createReducer(e,n){let[i,l,T]=executeReducerBuilderCallback(n),g;if(isStateFunction(e))g=()=>freezeDraftable(e());else{const w=freezeDraftable(e);g=()=>w}function b(w=g(),d){let h=[i[d.type],...l.filter(({matcher:c})=>c(d)).map(({reducer:c})=>c)];return h.filter(c=>!!c).length===0&&(h=[T]),h.reduce((c,a)=>{if(a)if(isDraft(c)){const u=a(c,d);return u===void 0?c:u}else{if(isDraftable(c))return produce(c,o=>a(o,d));{const o=a(c,d);if(o===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return o}}return c},w)}return b.getInitialState=g,b}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(e,n){return`${e}/${n}`}function buildCreateSlice({creators:e}={}){const n=e?.asyncThunk?.[asyncThunkSymbol];return function(l){const{name:T,reducerPath:g=T}=l;if(!T)throw new Error(formatProdErrorMessage(11));const b=(typeof l.reducers=="function"?l.reducers(buildReducerCreators()):l.reducers)||{},w=Object.keys(b),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,M){const k=typeof R=="string"?R:R.type;if(!k)throw new Error(formatProdErrorMessage(12));if(k in d.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return d.sliceCaseReducersByType[k]=M,h},addMatcher(R,M){return d.sliceMatchers.push({matcher:R,reducer:M}),h},exposeAction(R,M){return d.actionCreators[R]=M,h},exposeCaseReducer(R,M){return d.sliceCaseReducersByName[R]=M,h}};w.forEach(R=>{const M=b[R],k={reducerName:R,type:getType(T,R),createNotation:typeof l.reducers=="function"};isAsyncThunkSliceReducerDefinition(M)?handleThunkCaseReducerDefinition(k,M,h,n):handleNormalReducerDefinition(k,M,h)});function c(){const[R={},M=[],k=void 0]=typeof l.extraReducers=="function"?executeReducerBuilderCallback(l.extraReducers):[l.extraReducers],v={...R,...d.sliceCaseReducersByType};return createReducer(l.initialState,F=>{for(let I in v)F.addCase(I,v[I]);for(let I of d.sliceMatchers)F.addMatcher(I.matcher,I.reducer);for(let I of M)F.addMatcher(I.matcher,I.reducer);k&&F.addDefaultCase(k)})}const a=R=>R,o=new Map,u=new WeakMap;let f;function m(R,M){return f||(f=c()),f(R,M)}function x(){return f||(f=c()),f.getInitialState()}function E(R,M=!1){function k(F){let I=F[R];return typeof I>"u"&&M&&(I=getOrInsertComputed(u,k,x)),I}function v(F=a){const I=getOrInsertComputed(o,M,()=>new WeakMap);return getOrInsertComputed(I,F,()=>{const A={};for(const[$,P]of Object.entries(l.selectors??{}))A[$]=wrapSelector(P,F,()=>getOrInsertComputed(u,F,x),M);return A})}return{reducerPath:R,getSelectors:v,get selectors(){return v(k)},selectSlice:k}}const S={name:T,reducer:m,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...E(g),injectInto(R,{reducerPath:M,...k}={}){const v=M??g;return R.inject({reducerPath:v,reducer:m},k),{...S,...E(v,!0)}}};return S}}function wrapSelector(e,n,i,l){function T(g,...b){let w=n(g);return typeof w>"u"&&l&&(w=i()),e(w,...b)}return T.unwrapped=e,T}var createSlice=buildCreateSlice();function buildReducerCreators(){function e(n,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...i}}return e.withTypes=()=>e,{reducer(n){return Object.assign({[n.name](...i){return n(...i)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:i}},asyncThunk:e}}function handleNormalReducerDefinition({type:e,reducerName:n,createNotation:i},l,T){let g,b;if("reducer"in l){if(i&&!isCaseReducerWithPrepareDefinition(l))throw new Error(formatProdErrorMessage(17));g=l.reducer,b=l.prepare}else g=l;T.addCase(e,g).exposeCaseReducer(n,g).exposeAction(n,b?createAction(e,b):createAction(e))}function isAsyncThunkSliceReducerDefinition(e){return e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(e){return e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:e,reducerName:n},i,l,T){if(!T)throw new Error(formatProdErrorMessage(18));const{payloadCreator:g,fulfilled:b,pending:w,rejected:d,settled:h,options:c}=i,a=T(e,g,c);l.exposeAction(n,a),b&&l.addCase(a.fulfilled,b),w&&l.addCase(a.pending,w),d&&l.addCase(a.rejected,d),h&&l.addMatcher(a.settled,h),l.exposeCaseReducer(n,{fulfilled:b||noop,pending:w||noop,rejected:d||noop,settled:h||noop})}function noop(){}function formatProdErrorMessage(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const loadSamplePythonPrograms=async()=>(await __vitePreload(async()=>{const{samplePythonPrograms:e}=await import("./index-CxR4alL1.js");return{samplePythonPrograms:e}},[])).samplePythonPrograms,loadSampleSourceThreePrograms=async()=>(await __vitePreload(async()=>{const{sampleSourceThreePrograms:e}=await import("./index-OcF0Dhf2.js");return{sampleSourceThreePrograms:e}},[])).sampleSourceThreePrograms;let samplePythonPrograms,sampleSourceThreePrograms;const sampleProgramLoader=async e=>{switch(e){case Languages.PYTHON:return samplePythonPrograms===void 0&&(samplePythonPrograms=await loadSamplePythonPrograms()),samplePythonPrograms;case Languages.SOURCE_THREE_INTERPRETER:return sampleSourceThreePrograms===void 0&&(sampleSourceThreePrograms=await loadSampleSourceThreePrograms()),sampleSourceThreePrograms}},defaultPrograms=Object.freeze({[Languages.PYTHON]:`# Write your Python program here!
`,[Languages.SOURCE_THREE_INTERPRETER]:`// Write your Source 3 program here!
`}),initialState={currentLanguage:Languages.PYTHON,editorValue:{...defaultPrograms}},WorkspaceSlice=createSlice({name:"workspace",initialState,reducers:{setCurrentLanguage:(e,n)=>{e.currentLanguage=n.payload},setEditorValue:(e,n)=>{e.editorValue[e.currentLanguage]=n.payload},resetEditorValues:(e,n)=>{const i=n.payload;i!==void 0?e.editorValue[i]=defaultPrograms[i]:e.editorValue={...defaultPrograms}}}}),WorkspaceActions=WorkspaceSlice.actions,workspace=WorkspaceSlice.reducer,{setCurrentLanguage:setCurrentLanguage$1}=WorkspaceActions,LanguageSelector=()=>{const e=useTypedSelector(i=>i.workspace.currentLanguage),n=useTypedDispatch();return jsxRuntimeExports.jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:e,onChange:i=>n(setCurrentLanguage$1(i.target.value)),children:supportedLanguages.map(i=>jsxRuntimeExports.jsx("option",{value:i,children:i},i))})},UserGuide=()=>{const{isOpen:e,onOpen:n,onClose:i}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"link",onClick:n,fontWeight:"normal",children:"View User Guide"}),jsxRuntimeExports.jsxs(Modal,{isOpen:e,onClose:i,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:"User Guide"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{paddingBottom:0,children:jsxRuntimeExports.jsxs(OrderedList,{children:[jsxRuntimeExports.jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the appropriate language mode:"," ",Languages.SOURCE_THREE_INTERPRETER," or ",Languages.PYTHON]}),jsxRuntimeExports.jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsxRuntimeExports.jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsxRuntimeExports.jsx(ModalFooter,{paddingTop:0})]})]})]})},ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),SampleProgramListItem=({label:e,onClick:n})=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{children:"Load"}),jsxRuntimeExports.jsx(ArrowForwardIcon,{})]}),onClick:n,children:e})}),{setEditorValue:setEditorValue$1}=WorkspaceActions,SampleProgramSidebar=()=>{const[e,n]=reactExports.useState(),i=useTypedSelector(T=>T.workspace.currentLanguage),l=useTypedDispatch();return reactExports.useEffect(()=>{n(void 0),sampleProgramLoader(i).then(n)},[i]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Sample ",i," Programs"]}),jsxRuntimeExports.jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsxRuntimeExports.jsx(CardBody,{paddingTop:0,children:jsxRuntimeExports.jsx(Stack,{divider:jsxRuntimeExports.jsx(StackDivider,{}),children:e===void 0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"Loading sample programs"}):e.length==0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):e.map((T,g)=>jsxRuntimeExports.jsx(SampleProgramListItem,{label:`Sample Program ${g+1}`,onClick:()=>l(setEditorValue$1(T))},g))})})]})};var sicp={},createContext={},constants={},types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Variant=e.Chapter=e.ErrorSeverity=e.ErrorType=void 0,(function(n){n.SYNTAX="Syntax",n.TYPE="Type",n.RUNTIME="Runtime"})(e.ErrorType||(e.ErrorType={})),(function(n){n.WARNING="Warning",n.ERROR="Error"})(e.ErrorSeverity||(e.ErrorSeverity={})),(function(n){n[n.SOURCE_1=1]="SOURCE_1",n[n.SOURCE_2=2]="SOURCE_2",n[n.SOURCE_3=3]="SOURCE_3",n[n.SOURCE_4=4]="SOURCE_4",n[n.FULL_JS=-1]="FULL_JS",n[n.HTML=-2]="HTML",n[n.LIBRARY_PARSER=100]="LIBRARY_PARSER"})(e.Chapter||(e.Chapter={})),(function(n){n.DEFAULT="default",n.NATIVE="native",n.WASM="wasm",n.LAZY="lazy",n.NON_DET="non-det",n.CONCURRENT="concurrent",n.GPU="gpu"})(e.Variant||(e.Variant={}))})(types)),types}var hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const e=requireTypes();return constants.CUT="cut",constants.TRY_AGAIN="retry",constants.GLOBAL=typeof window>"u"?commonjsGlobal:window,constants.NATIVE_STORAGE_ID="nativeStorage",constants.MODULE_PARAMS_ID="moduleParams",constants.MODULE_CONTEXTS_ID="moduleContexts",constants.MAX_LIST_DISPLAY_LENGTH=100,constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}},constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10},constants.sourceLanguages=[{chapter:e.Chapter.SOURCE_1,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_1,variant:e.Variant.WASM},{chapter:e.Chapter.SOURCE_1,variant:e.Variant.LAZY},{chapter:e.Chapter.SOURCE_2,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_2,variant:e.Variant.LAZY},{chapter:e.Chapter.SOURCE_3,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_3,variant:e.Variant.CONCURRENT},{chapter:e.Chapter.SOURCE_3,variant:e.Variant.NON_DET},{chapter:e.Chapter.SOURCE_4,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_4,variant:e.Variant.GPU}],constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015},constants}var lib={},acorn$3={exports:{}},acorn$2=acorn$3.exports,hasRequiredAcorn$1;function requireAcorn$1(){return hasRequiredAcorn$1||(hasRequiredAcorn$1=1,(function(e,n){(function(i,l){l(n)})(acorn$2,(function(i){var l=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],T=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],g="-----------------------------------------------------------------------------------------------------------------------------------------------------",b="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",w={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},d="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",h={5:d,"5module":d+" export import",6:d+" const class extends export import super"},c=/^in(stanceof)?$/,a=new RegExp("["+b+"]"),o=new RegExp("["+b+g+"]");function u(L,y){for(var V=65536,K=0;K<y.length;K+=2){if(V+=y[K],V>L)return!1;if(V+=y[K+1],V>=L)return!0}return!1}function f(L,y){return L<65?L===36:L<91?!0:L<97?L===95:L<123?!0:L<=65535?L>=170&&a.test(String.fromCharCode(L)):y===!1?!1:u(L,T)}function m(L,y){return L<48?L===36:L<58?!0:L<65?!1:L<91?!0:L<97?L===95:L<123?!0:L<=65535?L>=170&&o.test(String.fromCharCode(L)):y===!1?!1:u(L,T)||u(L,l)}var x=function(y,V){V===void 0&&(V={}),this.label=y,this.keyword=V.keyword,this.beforeExpr=!!V.beforeExpr,this.startsExpr=!!V.startsExpr,this.isLoop=!!V.isLoop,this.isAssign=!!V.isAssign,this.prefix=!!V.prefix,this.postfix=!!V.postfix,this.binop=V.binop||null,this.updateContext=null};function E(L,y){return new x(L,{beforeExpr:!0,binop:y})}var S={beforeExpr:!0},R={startsExpr:!0},M={};function k(L,y){return y===void 0&&(y={}),y.keyword=L,M[L]=new x(L,y)}var v={num:new x("num",R),regexp:new x("regexp",R),string:new x("string",R),name:new x("name",R),privateId:new x("privateId",R),eof:new x("eof"),bracketL:new x("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new x("]"),braceL:new x("{",{beforeExpr:!0,startsExpr:!0}),braceR:new x("}"),parenL:new x("(",{beforeExpr:!0,startsExpr:!0}),parenR:new x(")"),comma:new x(",",S),semi:new x(";",S),colon:new x(":",S),dot:new x("."),question:new x("?",S),questionDot:new x("?."),arrow:new x("=>",S),template:new x("template"),invalidTemplate:new x("invalidTemplate"),ellipsis:new x("...",S),backQuote:new x("`",R),dollarBraceL:new x("${",{beforeExpr:!0,startsExpr:!0}),eq:new x("=",{beforeExpr:!0,isAssign:!0}),assign:new x("_=",{beforeExpr:!0,isAssign:!0}),incDec:new x("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new x("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:E("||",1),logicalAND:E("&&",2),bitwiseOR:E("|",3),bitwiseXOR:E("^",4),bitwiseAND:E("&",5),equality:E("==/!=/===/!==",6),relational:E("</>/<=/>=",7),bitShift:E("<</>>/>>>",8),plusMin:new x("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:E("%",10),star:E("*",10),slash:E("/",10),starstar:new x("**",{beforeExpr:!0}),coalesce:E("??",1),_break:k("break"),_case:k("case",S),_catch:k("catch"),_continue:k("continue"),_debugger:k("debugger"),_default:k("default",S),_do:k("do",{isLoop:!0,beforeExpr:!0}),_else:k("else",S),_finally:k("finally"),_for:k("for",{isLoop:!0}),_function:k("function",R),_if:k("if"),_return:k("return",S),_switch:k("switch"),_throw:k("throw",S),_try:k("try"),_var:k("var"),_const:k("const"),_while:k("while",{isLoop:!0}),_with:k("with"),_new:k("new",{beforeExpr:!0,startsExpr:!0}),_this:k("this",R),_super:k("super",R),_class:k("class",R),_extends:k("extends",S),_export:k("export"),_import:k("import",R),_null:k("null",R),_true:k("true",R),_false:k("false",R),_in:k("in",{beforeExpr:!0,binop:7}),_instanceof:k("instanceof",{beforeExpr:!0,binop:7}),_typeof:k("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:k("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:k("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},F=/\r\n?|\n|\u2028|\u2029/,I=new RegExp(F.source,"g");function A(L){return L===10||L===13||L===8232||L===8233}function $(L,y,V){V===void 0&&(V=L.length);for(var K=y;K<V;K++){var J=L.charCodeAt(K);if(A(J))return K<V-1&&J===13&&L.charCodeAt(K+1)===10?K+2:K+1}return-1}var P=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,B=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,U=Object.prototype,W=U.hasOwnProperty,j=U.toString,H=Object.hasOwn||(function(L,y){return W.call(L,y)}),Q=Array.isArray||(function(L){return j.call(L)==="[object Array]"}),X=Object.create(null);function ee(L){return X[L]||(X[L]=new RegExp("^(?:"+L.replace(/ /g,"|")+")$"))}function ie(L){return L<=65535?String.fromCharCode(L):(L-=65536,String.fromCharCode((L>>10)+55296,(L&1023)+56320))}var ne=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ae=function(y,V){this.line=y,this.column=V};ae.prototype.offset=function(y){return new ae(this.line,this.column+y)};var re=function(y,V,K){this.start=V,this.end=K,y.sourceFile!==null&&(this.source=y.sourceFile)};function fe(L,y){for(var V=1,K=0;;){var J=$(L,K,y);if(J<0)return new ae(V,y-K);++V,K=J}}var pe={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},he=!1;function $e(L){var y={};for(var V in pe)y[V]=L&&H(L,V)?L[V]:pe[V];if(y.ecmaVersion==="latest"?y.ecmaVersion=1e8:y.ecmaVersion==null?(!he&&typeof console=="object"&&console.warn&&(he=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),y.ecmaVersion=11):y.ecmaVersion>=2015&&(y.ecmaVersion-=2009),y.allowReserved==null&&(y.allowReserved=y.ecmaVersion<5),(!L||L.allowHashBang==null)&&(y.allowHashBang=y.ecmaVersion>=14),Q(y.onToken)){var K=y.onToken;y.onToken=function(J){return K.push(J)}}return Q(y.onComment)&&(y.onComment=Le(y,y.onComment)),y}function Le(L,y){return function(V,K,J,oe,ve,ke){var Ue={type:V?"Block":"Line",value:K,start:J,end:oe};L.locations&&(Ue.loc=new re(this,ve,ke)),L.ranges&&(Ue.range=[J,oe]),y.push(Ue)}}var Oe=1,Ne=2,be=4,Se=8,ge=16,Pe=32,Je=64,Ve=128,Tt=256,Ot=Oe|Ne|Tt;function Dt(L,y){return Ne|(L?be:0)|(y?Se:0)}var nn=0,fn=1,bn=2,Be=3,He=4,Mt=5,zt=function(y,V,K){this.options=y=$e(y),this.sourceFile=y.sourceFile,this.keywords=ee(h[y.ecmaVersion>=6?6:y.sourceType==="module"?"5module":5]);var J="";y.allowReserved!==!0&&(J=w[y.ecmaVersion>=6?6:y.ecmaVersion===5?5:3],y.sourceType==="module"&&(J+=" await")),this.reservedWords=ee(J);var oe=(J?J+" ":"")+w.strict;this.reservedWordsStrict=ee(oe),this.reservedWordsStrictBind=ee(oe+" "+w.strictBind),this.input=String(V),this.containsEsc=!1,K?(this.pos=K,this.lineStart=this.input.lastIndexOf(`
`,K-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(F).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=v.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=y.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&y.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Oe),this.regexpState=null,this.privateNameStack=[]},Ft={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};zt.prototype.parse=function(){var y=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(y)},Ft.inFunction.get=function(){return(this.currentVarScope().flags&Ne)>0},Ft.inGenerator.get=function(){return(this.currentVarScope().flags&Se)>0&&!this.currentVarScope().inClassFieldInit},Ft.inAsync.get=function(){return(this.currentVarScope().flags&be)>0&&!this.currentVarScope().inClassFieldInit},Ft.canAwait.get=function(){for(var L=this.scopeStack.length-1;L>=0;L--){var y=this.scopeStack[L];if(y.inClassFieldInit||y.flags&Tt)return!1;if(y.flags&Ne)return(y.flags&be)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Ft.allowSuper.get=function(){var L=this.currentThisScope(),y=L.flags,V=L.inClassFieldInit;return(y&Je)>0||V||this.options.allowSuperOutsideMethod},Ft.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Ve)>0},Ft.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Ft.allowNewDotTarget.get=function(){var L=this.currentThisScope(),y=L.flags,V=L.inClassFieldInit;return(y&(Ne|Tt))>0||V},Ft.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Tt)>0},zt.extend=function(){for(var y=[],V=arguments.length;V--;)y[V]=arguments[V];for(var K=this,J=0;J<y.length;J++)K=y[J](K);return K},zt.parse=function(y,V){return new this(V,y).parse()},zt.parseExpressionAt=function(y,V,K){var J=new this(K,y,V);return J.nextToken(),J.parseExpression()},zt.tokenizer=function(y,V){return new this(V,y)},Object.defineProperties(zt.prototype,Ft);var wt=zt.prototype,xn=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;wt.strictDirective=function(L){if(this.options.ecmaVersion<5)return!1;for(;;){B.lastIndex=L,L+=B.exec(this.input)[0].length;var y=xn.exec(this.input.slice(L));if(!y)return!1;if((y[1]||y[2])==="use strict"){B.lastIndex=L+y[0].length;var V=B.exec(this.input),K=V.index+V[0].length,J=this.input.charAt(K);return J===";"||J==="}"||F.test(V[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(J)||J==="!"&&this.input.charAt(K+1)==="=")}L+=y[0].length,B.lastIndex=L,L+=B.exec(this.input)[0].length,this.input[L]===";"&&L++}},wt.eat=function(L){return this.type===L?(this.next(),!0):!1},wt.isContextual=function(L){return this.type===v.name&&this.value===L&&!this.containsEsc},wt.eatContextual=function(L){return this.isContextual(L)?(this.next(),!0):!1},wt.expectContextual=function(L){this.eatContextual(L)||this.unexpected()},wt.canInsertSemicolon=function(){return this.type===v.eof||this.type===v.braceR||F.test(this.input.slice(this.lastTokEnd,this.start))},wt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},wt.semicolon=function(){!this.eat(v.semi)&&!this.insertSemicolon()&&this.unexpected()},wt.afterTrailingComma=function(L,y){if(this.type===L)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),y||this.next(),!0},wt.expect=function(L){this.eat(L)||this.unexpected()},wt.unexpected=function(L){this.raise(L??this.start,"Unexpected token")};var we=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};wt.checkPatternErrors=function(L,y){if(L){L.trailingComma>-1&&this.raiseRecoverable(L.trailingComma,"Comma is not permitted after the rest element");var V=y?L.parenthesizedAssign:L.parenthesizedBind;V>-1&&this.raiseRecoverable(V,y?"Assigning to rvalue":"Parenthesized pattern")}},wt.checkExpressionErrors=function(L,y){if(!L)return!1;var V=L.shorthandAssign,K=L.doubleProto;if(!y)return V>=0||K>=0;V>=0&&this.raise(V,"Shorthand property assignments are valid only in destructuring patterns"),K>=0&&this.raiseRecoverable(K,"Redefinition of __proto__ property")},wt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},wt.isSimpleAssignTarget=function(L){return L.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(L.expression):L.type==="Identifier"||L.type==="MemberExpression"};var Ee=zt.prototype;Ee.parseTopLevel=function(L){var y=Object.create(null);for(L.body||(L.body=[]);this.type!==v.eof;){var V=this.parseStatement(null,!0,y);L.body.push(V)}if(this.inModule)for(var K=0,J=Object.keys(this.undefinedExports);K<J.length;K+=1){var oe=J[K];this.raiseRecoverable(this.undefinedExports[oe].start,"Export '"+oe+"' is not defined")}return this.adaptDirectivePrologue(L.body),this.next(),L.sourceType=this.options.sourceType,this.finishNode(L,"Program")};var Ae={kind:"loop"},mt={kind:"switch"};Ee.isLet=function(L){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;B.lastIndex=this.pos;var y=B.exec(this.input),V=this.pos+y[0].length,K=this.input.charCodeAt(V);if(K===91||K===92)return!0;if(L)return!1;if(K===123||K>55295&&K<56320)return!0;if(f(K,!0)){for(var J=V+1;m(K=this.input.charCodeAt(J),!0);)++J;if(K===92||K>55295&&K<56320)return!0;var oe=this.input.slice(V,J);if(!c.test(oe))return!0}return!1},Ee.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;B.lastIndex=this.pos;var L=B.exec(this.input),y=this.pos+L[0].length,V;return!F.test(this.input.slice(this.pos,y))&&this.input.slice(y,y+8)==="function"&&(y+8===this.input.length||!(m(V=this.input.charCodeAt(y+8))||V>55295&&V<56320))},Ee.parseStatement=function(L,y,V){var K=this.type,J=this.startNode(),oe;switch(this.isLet(L)&&(K=v._var,oe="let"),K){case v._break:case v._continue:return this.parseBreakContinueStatement(J,K.keyword);case v._debugger:return this.parseDebuggerStatement(J);case v._do:return this.parseDoStatement(J);case v._for:return this.parseForStatement(J);case v._function:return L&&(this.strict||L!=="if"&&L!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(J,!1,!L);case v._class:return L&&this.unexpected(),this.parseClass(J,!0);case v._if:return this.parseIfStatement(J);case v._return:return this.parseReturnStatement(J);case v._switch:return this.parseSwitchStatement(J);case v._throw:return this.parseThrowStatement(J);case v._try:return this.parseTryStatement(J);case v._const:case v._var:return oe=oe||this.value,L&&oe!=="var"&&this.unexpected(),this.parseVarStatement(J,oe);case v._while:return this.parseWhileStatement(J);case v._with:return this.parseWithStatement(J);case v.braceL:return this.parseBlock(!0,J);case v.semi:return this.parseEmptyStatement(J);case v._export:case v._import:if(this.options.ecmaVersion>10&&K===v._import){B.lastIndex=this.pos;var ve=B.exec(this.input),ke=this.pos+ve[0].length,Ue=this.input.charCodeAt(ke);if(Ue===40||Ue===46)return this.parseExpressionStatement(J,this.parseExpression())}return this.options.allowImportExportEverywhere||(y||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),K===v._import?this.parseImport(J):this.parseExport(J,V);default:if(this.isAsyncFunction())return L&&this.unexpected(),this.next(),this.parseFunctionStatement(J,!0,!L);var et=this.value,gt=this.parseExpression();return K===v.name&&gt.type==="Identifier"&&this.eat(v.colon)?this.parseLabeledStatement(J,et,gt,L):this.parseExpressionStatement(J,gt)}},Ee.parseBreakContinueStatement=function(L,y){var V=y==="break";this.next(),this.eat(v.semi)||this.insertSemicolon()?L.label=null:this.type!==v.name?this.unexpected():(L.label=this.parseIdent(),this.semicolon());for(var K=0;K<this.labels.length;++K){var J=this.labels[K];if((L.label==null||J.name===L.label.name)&&(J.kind!=null&&(V||J.kind==="loop")||L.label&&V))break}return K===this.labels.length&&this.raise(L.start,"Unsyntactic "+y),this.finishNode(L,V?"BreakStatement":"ContinueStatement")},Ee.parseDebuggerStatement=function(L){return this.next(),this.semicolon(),this.finishNode(L,"DebuggerStatement")},Ee.parseDoStatement=function(L){return this.next(),this.labels.push(Ae),L.body=this.parseStatement("do"),this.labels.pop(),this.expect(v._while),L.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(v.semi):this.semicolon(),this.finishNode(L,"DoWhileStatement")},Ee.parseForStatement=function(L){this.next();var y=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ae),this.enterScope(0),this.expect(v.parenL),this.type===v.semi)return y>-1&&this.unexpected(y),this.parseFor(L,null);var V=this.isLet();if(this.type===v._var||this.type===v._const||V){var K=this.startNode(),J=V?"let":this.value;return this.next(),this.parseVar(K,!0,J),this.finishNode(K,"VariableDeclaration"),(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&K.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===v._in?y>-1&&this.unexpected(y):L.await=y>-1),this.parseForIn(L,K)):(y>-1&&this.unexpected(y),this.parseFor(L,K))}var oe=this.isContextual("let"),ve=!1,ke=this.containsEsc,Ue=new we,et=this.start,gt=y>-1?this.parseExprSubscripts(Ue,"await"):this.parseExpression(!0,Ue);return this.type===v._in||(ve=this.options.ecmaVersion>=6&&this.isContextual("of"))?(y>-1?(this.type===v._in&&this.unexpected(y),L.await=!0):ve&&this.options.ecmaVersion>=8&&(gt.start===et&&!ke&&gt.type==="Identifier"&&gt.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(L.await=!1)),oe&&ve&&this.raise(gt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(gt,!1,Ue),this.checkLValPattern(gt),this.parseForIn(L,gt)):(this.checkExpressionErrors(Ue,!0),y>-1&&this.unexpected(y),this.parseFor(L,gt))},Ee.parseFunctionStatement=function(L,y,V){return this.next(),this.parseFunction(L,st|(V?0:Ce),!1,y)},Ee.parseIfStatement=function(L){return this.next(),L.test=this.parseParenExpression(),L.consequent=this.parseStatement("if"),L.alternate=this.eat(v._else)?this.parseStatement("if"):null,this.finishNode(L,"IfStatement")},Ee.parseReturnStatement=function(L){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(v.semi)||this.insertSemicolon()?L.argument=null:(L.argument=this.parseExpression(),this.semicolon()),this.finishNode(L,"ReturnStatement")},Ee.parseSwitchStatement=function(L){this.next(),L.discriminant=this.parseParenExpression(),L.cases=[],this.expect(v.braceL),this.labels.push(mt),this.enterScope(0);for(var y,V=!1;this.type!==v.braceR;)if(this.type===v._case||this.type===v._default){var K=this.type===v._case;y&&this.finishNode(y,"SwitchCase"),L.cases.push(y=this.startNode()),y.consequent=[],this.next(),K?y.test=this.parseExpression():(V&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),V=!0,y.test=null),this.expect(v.colon)}else y||this.unexpected(),y.consequent.push(this.parseStatement(null));return this.exitScope(),y&&this.finishNode(y,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(L,"SwitchStatement")},Ee.parseThrowStatement=function(L){return this.next(),F.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),L.argument=this.parseExpression(),this.semicolon(),this.finishNode(L,"ThrowStatement")};var _t=[];Ee.parseCatchClauseParam=function(){var L=this.parseBindingAtom(),y=L.type==="Identifier";return this.enterScope(y?Pe:0),this.checkLValPattern(L,y?He:bn),this.expect(v.parenR),L},Ee.parseTryStatement=function(L){if(this.next(),L.block=this.parseBlock(),L.handler=null,this.type===v._catch){var y=this.startNode();this.next(),this.eat(v.parenL)?y.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),y.param=null,this.enterScope(0)),y.body=this.parseBlock(!1),this.exitScope(),L.handler=this.finishNode(y,"CatchClause")}return L.finalizer=this.eat(v._finally)?this.parseBlock():null,!L.handler&&!L.finalizer&&this.raise(L.start,"Missing catch or finally clause"),this.finishNode(L,"TryStatement")},Ee.parseVarStatement=function(L,y,V){return this.next(),this.parseVar(L,!1,y,V),this.semicolon(),this.finishNode(L,"VariableDeclaration")},Ee.parseWhileStatement=function(L){return this.next(),L.test=this.parseParenExpression(),this.labels.push(Ae),L.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(L,"WhileStatement")},Ee.parseWithStatement=function(L){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),L.object=this.parseParenExpression(),L.body=this.parseStatement("with"),this.finishNode(L,"WithStatement")},Ee.parseEmptyStatement=function(L){return this.next(),this.finishNode(L,"EmptyStatement")},Ee.parseLabeledStatement=function(L,y,V,K){for(var J=0,oe=this.labels;J<oe.length;J+=1){var ve=oe[J];ve.name===y&&this.raise(V.start,"Label '"+y+"' is already declared")}for(var ke=this.type.isLoop?"loop":this.type===v._switch?"switch":null,Ue=this.labels.length-1;Ue>=0;Ue--){var et=this.labels[Ue];if(et.statementStart===L.start)et.statementStart=this.start,et.kind=ke;else break}return this.labels.push({name:y,kind:ke,statementStart:this.start}),L.body=this.parseStatement(K?K.indexOf("label")===-1?K+"label":K:"label"),this.labels.pop(),L.label=V,this.finishNode(L,"LabeledStatement")},Ee.parseExpressionStatement=function(L,y){return L.expression=y,this.semicolon(),this.finishNode(L,"ExpressionStatement")},Ee.parseBlock=function(L,y,V){for(L===void 0&&(L=!0),y===void 0&&(y=this.startNode()),y.body=[],this.expect(v.braceL),L&&this.enterScope(0);this.type!==v.braceR;){var K=this.parseStatement(null);y.body.push(K)}return V&&(this.strict=!1),this.next(),L&&this.exitScope(),this.finishNode(y,"BlockStatement")},Ee.parseFor=function(L,y){return L.init=y,this.expect(v.semi),L.test=this.type===v.semi?null:this.parseExpression(),this.expect(v.semi),L.update=this.type===v.parenR?null:this.parseExpression(),this.expect(v.parenR),L.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(L,"ForStatement")},Ee.parseForIn=function(L,y){var V=this.type===v._in;return this.next(),y.type==="VariableDeclaration"&&y.declarations[0].init!=null&&(!V||this.options.ecmaVersion<8||this.strict||y.kind!=="var"||y.declarations[0].id.type!=="Identifier")&&this.raise(y.start,(V?"for-in":"for-of")+" loop variable declaration may not have an initializer"),L.left=y,L.right=V?this.parseExpression():this.parseMaybeAssign(),this.expect(v.parenR),L.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(L,V?"ForInStatement":"ForOfStatement")},Ee.parseVar=function(L,y,V,K){for(L.declarations=[],L.kind=V;;){var J=this.startNode();if(this.parseVarId(J,V),this.eat(v.eq)?J.init=this.parseMaybeAssign(y):!K&&V==="const"&&!(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!K&&J.id.type!=="Identifier"&&!(y&&(this.type===v._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):J.init=null,L.declarations.push(this.finishNode(J,"VariableDeclarator")),!this.eat(v.comma))break}return L},Ee.parseVarId=function(L,y){L.id=this.parseBindingAtom(),this.checkLValPattern(L.id,y==="var"?fn:bn,!1)};var st=1,Ce=2,Ke=4;Ee.parseFunction=function(L,y,V,K,J){this.initFunction(L),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!K)&&(this.type===v.star&&y&Ce&&this.unexpected(),L.generator=this.eat(v.star)),this.options.ecmaVersion>=8&&(L.async=!!K),y&st&&(L.id=y&Ke&&this.type!==v.name?null:this.parseIdent(),L.id&&!(y&Ce)&&this.checkLValSimple(L.id,this.strict||L.generator||L.async?this.treatFunctionsAsVar?fn:bn:Be));var oe=this.yieldPos,ve=this.awaitPos,ke=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Dt(L.async,L.generator)),y&st||(L.id=this.type===v.name?this.parseIdent():null),this.parseFunctionParams(L),this.parseFunctionBody(L,V,!1,J),this.yieldPos=oe,this.awaitPos=ve,this.awaitIdentPos=ke,this.finishNode(L,y&st?"FunctionDeclaration":"FunctionExpression")},Ee.parseFunctionParams=function(L){this.expect(v.parenL),L.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ee.parseClass=function(L,y){this.next();var V=this.strict;this.strict=!0,this.parseClassId(L,y),this.parseClassSuper(L);var K=this.enterClassBody(),J=this.startNode(),oe=!1;for(J.body=[],this.expect(v.braceL);this.type!==v.braceR;){var ve=this.parseClassElement(L.superClass!==null);ve&&(J.body.push(ve),ve.type==="MethodDefinition"&&ve.kind==="constructor"?(oe&&this.raiseRecoverable(ve.start,"Duplicate constructor in the same class"),oe=!0):ve.key&&ve.key.type==="PrivateIdentifier"&&pt(K,ve)&&this.raiseRecoverable(ve.key.start,"Identifier '#"+ve.key.name+"' has already been declared"))}return this.strict=V,this.next(),L.body=this.finishNode(J,"ClassBody"),this.exitClassBody(),this.finishNode(L,y?"ClassDeclaration":"ClassExpression")},Ee.parseClassElement=function(L){if(this.eat(v.semi))return null;var y=this.options.ecmaVersion,V=this.startNode(),K="",J=!1,oe=!1,ve="method",ke=!1;if(this.eatContextual("static")){if(y>=13&&this.eat(v.braceL))return this.parseClassStaticBlock(V),V;this.isClassElementNameStart()||this.type===v.star?ke=!0:K="static"}if(V.static=ke,!K&&y>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===v.star)&&!this.canInsertSemicolon()?oe=!0:K="async"),!K&&(y>=9||!oe)&&this.eat(v.star)&&(J=!0),!K&&!oe&&!J){var Ue=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?ve=Ue:K=Ue)}if(K?(V.computed=!1,V.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),V.key.name=K,this.finishNode(V.key,"Identifier")):this.parseClassElementName(V),y<13||this.type===v.parenL||ve!=="method"||J||oe){var et=!V.static&&it(V,"constructor"),gt=et&&L;et&&ve!=="method"&&this.raise(V.key.start,"Constructor can't have get/set modifier"),V.kind=et?"constructor":ve,this.parseClassMethod(V,J,oe,gt)}else this.parseClassField(V);return V},Ee.isClassElementNameStart=function(){return this.type===v.name||this.type===v.privateId||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword},Ee.parseClassElementName=function(L){this.type===v.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),L.computed=!1,L.key=this.parsePrivateIdent()):this.parsePropertyName(L)},Ee.parseClassMethod=function(L,y,V,K){var J=L.key;L.kind==="constructor"?(y&&this.raise(J.start,"Constructor can't be a generator"),V&&this.raise(J.start,"Constructor can't be an async method")):L.static&&it(L,"prototype")&&this.raise(J.start,"Classes may not have a static property named prototype");var oe=L.value=this.parseMethod(y,V,K);return L.kind==="get"&&oe.params.length!==0&&this.raiseRecoverable(oe.start,"getter should have no params"),L.kind==="set"&&oe.params.length!==1&&this.raiseRecoverable(oe.start,"setter should have exactly one param"),L.kind==="set"&&oe.params[0].type==="RestElement"&&this.raiseRecoverable(oe.params[0].start,"Setter cannot use rest params"),this.finishNode(L,"MethodDefinition")},Ee.parseClassField=function(L){if(it(L,"constructor")?this.raise(L.key.start,"Classes can't have a field named 'constructor'"):L.static&&it(L,"prototype")&&this.raise(L.key.start,"Classes can't have a static field named 'prototype'"),this.eat(v.eq)){var y=this.currentThisScope(),V=y.inClassFieldInit;y.inClassFieldInit=!0,L.value=this.parseMaybeAssign(),y.inClassFieldInit=V}else L.value=null;return this.semicolon(),this.finishNode(L,"PropertyDefinition")},Ee.parseClassStaticBlock=function(L){L.body=[];var y=this.labels;for(this.labels=[],this.enterScope(Tt|Je);this.type!==v.braceR;){var V=this.parseStatement(null);L.body.push(V)}return this.next(),this.exitScope(),this.labels=y,this.finishNode(L,"StaticBlock")},Ee.parseClassId=function(L,y){this.type===v.name?(L.id=this.parseIdent(),y&&this.checkLValSimple(L.id,bn,!1)):(y===!0&&this.unexpected(),L.id=null)},Ee.parseClassSuper=function(L){L.superClass=this.eat(v._extends)?this.parseExprSubscripts(null,!1):null},Ee.enterClassBody=function(){var L={declared:Object.create(null),used:[]};return this.privateNameStack.push(L),L.declared},Ee.exitClassBody=function(){var L=this.privateNameStack.pop(),y=L.declared,V=L.used;if(this.options.checkPrivateFields)for(var K=this.privateNameStack.length,J=K===0?null:this.privateNameStack[K-1],oe=0;oe<V.length;++oe){var ve=V[oe];H(y,ve.name)||(J?J.used.push(ve):this.raiseRecoverable(ve.start,"Private field '#"+ve.name+"' must be declared in an enclosing class"))}};function pt(L,y){var V=y.key.name,K=L[V],J="true";return y.type==="MethodDefinition"&&(y.kind==="get"||y.kind==="set")&&(J=(y.static?"s":"i")+y.kind),K==="iget"&&J==="iset"||K==="iset"&&J==="iget"||K==="sget"&&J==="sset"||K==="sset"&&J==="sget"?(L[V]="true",!1):K?!0:(L[V]=J,!1)}function it(L,y){var V=L.computed,K=L.key;return!V&&(K.type==="Identifier"&&K.name===y||K.type==="Literal"&&K.value===y)}Ee.parseExportAllDeclaration=function(L,y){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(L.exported=this.parseModuleExportName(),this.checkExport(y,L.exported,this.lastTokStart)):L.exported=null),this.expectContextual("from"),this.type!==v.string&&this.unexpected(),L.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(L.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(L,"ExportAllDeclaration")},Ee.parseExport=function(L,y){if(this.next(),this.eat(v.star))return this.parseExportAllDeclaration(L,y);if(this.eat(v._default))return this.checkExport(y,"default",this.lastTokStart),L.declaration=this.parseExportDefaultDeclaration(),this.finishNode(L,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())L.declaration=this.parseExportDeclaration(L),L.declaration.type==="VariableDeclaration"?this.checkVariableExport(y,L.declaration.declarations):this.checkExport(y,L.declaration.id,L.declaration.id.start),L.specifiers=[],L.source=null;else{if(L.declaration=null,L.specifiers=this.parseExportSpecifiers(y),this.eatContextual("from"))this.type!==v.string&&this.unexpected(),L.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(L.attributes=this.parseWithClause());else{for(var V=0,K=L.specifiers;V<K.length;V+=1){var J=K[V];this.checkUnreserved(J.local),this.checkLocalExport(J.local),J.local.type==="Literal"&&this.raise(J.local.start,"A string literal cannot be used as an exported binding without `from`.")}L.source=null}this.semicolon()}return this.finishNode(L,"ExportNamedDeclaration")},Ee.parseExportDeclaration=function(L){return this.parseStatement(null)},Ee.parseExportDefaultDeclaration=function(){var L;if(this.type===v._function||(L=this.isAsyncFunction())){var y=this.startNode();return this.next(),L&&this.next(),this.parseFunction(y,st|Ke,!1,L)}else if(this.type===v._class){var V=this.startNode();return this.parseClass(V,"nullableID")}else{var K=this.parseMaybeAssign();return this.semicolon(),K}},Ee.checkExport=function(L,y,V){L&&(typeof y!="string"&&(y=y.type==="Identifier"?y.name:y.value),H(L,y)&&this.raiseRecoverable(V,"Duplicate export '"+y+"'"),L[y]=!0)},Ee.checkPatternExport=function(L,y){var V=y.type;if(V==="Identifier")this.checkExport(L,y,y.start);else if(V==="ObjectPattern")for(var K=0,J=y.properties;K<J.length;K+=1){var oe=J[K];this.checkPatternExport(L,oe)}else if(V==="ArrayPattern")for(var ve=0,ke=y.elements;ve<ke.length;ve+=1){var Ue=ke[ve];Ue&&this.checkPatternExport(L,Ue)}else V==="Property"?this.checkPatternExport(L,y.value):V==="AssignmentPattern"?this.checkPatternExport(L,y.left):V==="RestElement"&&this.checkPatternExport(L,y.argument)},Ee.checkVariableExport=function(L,y){if(L)for(var V=0,K=y;V<K.length;V+=1){var J=K[V];this.checkPatternExport(L,J.id)}},Ee.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Ee.parseExportSpecifier=function(L){var y=this.startNode();return y.local=this.parseModuleExportName(),y.exported=this.eatContextual("as")?this.parseModuleExportName():y.local,this.checkExport(L,y.exported,y.exported.start),this.finishNode(y,"ExportSpecifier")},Ee.parseExportSpecifiers=function(L){var y=[],V=!0;for(this.expect(v.braceL);!this.eat(v.braceR);){if(V)V=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;y.push(this.parseExportSpecifier(L))}return y},Ee.parseImport=function(L){return this.next(),this.type===v.string?(L.specifiers=_t,L.source=this.parseExprAtom()):(L.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),L.source=this.type===v.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(L.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(L,"ImportDeclaration")},Ee.parseImportSpecifier=function(){var L=this.startNode();return L.imported=this.parseModuleExportName(),this.eatContextual("as")?L.local=this.parseIdent():(this.checkUnreserved(L.imported),L.local=L.imported),this.checkLValSimple(L.local,bn),this.finishNode(L,"ImportSpecifier")},Ee.parseImportDefaultSpecifier=function(){var L=this.startNode();return L.local=this.parseIdent(),this.checkLValSimple(L.local,bn),this.finishNode(L,"ImportDefaultSpecifier")},Ee.parseImportNamespaceSpecifier=function(){var L=this.startNode();return this.next(),this.expectContextual("as"),L.local=this.parseIdent(),this.checkLValSimple(L.local,bn),this.finishNode(L,"ImportNamespaceSpecifier")},Ee.parseImportSpecifiers=function(){var L=[],y=!0;if(this.type===v.name&&(L.push(this.parseImportDefaultSpecifier()),!this.eat(v.comma)))return L;if(this.type===v.star)return L.push(this.parseImportNamespaceSpecifier()),L;for(this.expect(v.braceL);!this.eat(v.braceR);){if(y)y=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;L.push(this.parseImportSpecifier())}return L},Ee.parseWithClause=function(){var L=[];if(!this.eat(v._with))return L;this.expect(v.braceL);for(var y={},V=!0;!this.eat(v.braceR);){if(V)V=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var K=this.parseImportAttribute(),J=K.key.type==="Identifier"?K.key.name:K.key.value;H(y,J)&&this.raiseRecoverable(K.key.start,"Duplicate attribute key '"+J+"'"),y[J]=!0,L.push(K)}return L},Ee.parseImportAttribute=function(){var L=this.startNode();return L.key=this.type===v.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(v.colon),this.type!==v.string&&this.unexpected(),L.value=this.parseExprAtom(),this.finishNode(L,"ImportAttribute")},Ee.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===v.string){var L=this.parseLiteral(this.value);return ne.test(L.value)&&this.raise(L.start,"An export name cannot include a lone surrogate."),L}return this.parseIdent(!0)},Ee.adaptDirectivePrologue=function(L){for(var y=0;y<L.length&&this.isDirectiveCandidate(L[y]);++y)L[y].directive=L[y].expression.raw.slice(1,-1)},Ee.isDirectiveCandidate=function(L){return this.options.ecmaVersion>=5&&L.type==="ExpressionStatement"&&L.expression.type==="Literal"&&typeof L.expression.value=="string"&&(this.input[L.start]==='"'||this.input[L.start]==="'")};var Rt=zt.prototype;Rt.toAssignable=function(L,y,V){if(this.options.ecmaVersion>=6&&L)switch(L.type){case"Identifier":this.inAsync&&L.name==="await"&&this.raise(L.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":L.type="ObjectPattern",V&&this.checkPatternErrors(V,!0);for(var K=0,J=L.properties;K<J.length;K+=1){var oe=J[K];this.toAssignable(oe,y),oe.type==="RestElement"&&(oe.argument.type==="ArrayPattern"||oe.argument.type==="ObjectPattern")&&this.raise(oe.argument.start,"Unexpected token")}break;case"Property":L.kind!=="init"&&this.raise(L.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(L.value,y);break;case"ArrayExpression":L.type="ArrayPattern",V&&this.checkPatternErrors(V,!0),this.toAssignableList(L.elements,y);break;case"SpreadElement":L.type="RestElement",this.toAssignable(L.argument,y),L.argument.type==="AssignmentPattern"&&this.raise(L.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":L.operator!=="="&&this.raise(L.left.end,"Only '=' operator can be used for specifying default value."),L.type="AssignmentPattern",delete L.operator,this.toAssignable(L.left,y);break;case"ParenthesizedExpression":this.toAssignable(L.expression,y,V);break;case"ChainExpression":this.raiseRecoverable(L.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!y)break;default:this.raise(L.start,"Assigning to rvalue")}else V&&this.checkPatternErrors(V,!0);return L},Rt.toAssignableList=function(L,y){for(var V=L.length,K=0;K<V;K++){var J=L[K];J&&this.toAssignable(J,y)}if(V){var oe=L[V-1];this.options.ecmaVersion===6&&y&&oe&&oe.type==="RestElement"&&oe.argument.type!=="Identifier"&&this.unexpected(oe.argument.start)}return L},Rt.parseSpread=function(L){var y=this.startNode();return this.next(),y.argument=this.parseMaybeAssign(!1,L),this.finishNode(y,"SpreadElement")},Rt.parseRestBinding=function(){var L=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==v.name&&this.unexpected(),L.argument=this.parseBindingAtom(),this.finishNode(L,"RestElement")},Rt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case v.bracketL:var L=this.startNode();return this.next(),L.elements=this.parseBindingList(v.bracketR,!0,!0),this.finishNode(L,"ArrayPattern");case v.braceL:return this.parseObj(!0)}return this.parseIdent()},Rt.parseBindingList=function(L,y,V,K){for(var J=[],oe=!0;!this.eat(L);)if(oe?oe=!1:this.expect(v.comma),y&&this.type===v.comma)J.push(null);else{if(V&&this.afterTrailingComma(L))break;if(this.type===v.ellipsis){var ve=this.parseRestBinding();this.parseBindingListItem(ve),J.push(ve),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(L);break}else J.push(this.parseAssignableListItem(K))}return J},Rt.parseAssignableListItem=function(L){var y=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(y),y},Rt.parseBindingListItem=function(L){return L},Rt.parseMaybeDefault=function(L,y,V){if(V=V||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(v.eq))return V;var K=this.startNodeAt(L,y);return K.left=V,K.right=this.parseMaybeAssign(),this.finishNode(K,"AssignmentPattern")},Rt.checkLValSimple=function(L,y,V){y===void 0&&(y=nn);var K=y!==nn;switch(L.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(L.name)&&this.raiseRecoverable(L.start,(K?"Binding ":"Assigning to ")+L.name+" in strict mode"),K&&(y===bn&&L.name==="let"&&this.raiseRecoverable(L.start,"let is disallowed as a lexically bound name"),V&&(H(V,L.name)&&this.raiseRecoverable(L.start,"Argument name clash"),V[L.name]=!0),y!==Mt&&this.declareName(L.name,y,L.start));break;case"ChainExpression":this.raiseRecoverable(L.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":K&&this.raiseRecoverable(L.start,"Binding member expression");break;case"ParenthesizedExpression":return K&&this.raiseRecoverable(L.start,"Binding parenthesized expression"),this.checkLValSimple(L.expression,y,V);default:this.raise(L.start,(K?"Binding":"Assigning to")+" rvalue")}},Rt.checkLValPattern=function(L,y,V){switch(y===void 0&&(y=nn),L.type){case"ObjectPattern":for(var K=0,J=L.properties;K<J.length;K+=1){var oe=J[K];this.checkLValInnerPattern(oe,y,V)}break;case"ArrayPattern":for(var ve=0,ke=L.elements;ve<ke.length;ve+=1){var Ue=ke[ve];Ue&&this.checkLValInnerPattern(Ue,y,V)}break;default:this.checkLValSimple(L,y,V)}},Rt.checkLValInnerPattern=function(L,y,V){switch(y===void 0&&(y=nn),L.type){case"Property":this.checkLValInnerPattern(L.value,y,V);break;case"AssignmentPattern":this.checkLValPattern(L.left,y,V);break;case"RestElement":this.checkLValPattern(L.argument,y,V);break;default:this.checkLValPattern(L,y,V)}};var dt=function(y,V,K,J,oe){this.token=y,this.isExpr=!!V,this.preserveSpace=!!K,this.override=J,this.generator=!!oe},bt={b_stat:new dt("{",!1),b_expr:new dt("{",!0),b_tmpl:new dt("${",!1),p_stat:new dt("(",!1),p_expr:new dt("(",!0),q_tmpl:new dt("`",!0,!0,function(L){return L.tryReadTemplateToken()}),f_stat:new dt("function",!1),f_expr:new dt("function",!0),f_expr_gen:new dt("function",!0,!1,null,!0),f_gen:new dt("function",!1,!1,null,!0)},At=zt.prototype;At.initialContext=function(){return[bt.b_stat]},At.curContext=function(){return this.context[this.context.length-1]},At.braceIsBlock=function(L){var y=this.curContext();return y===bt.f_expr||y===bt.f_stat?!0:L===v.colon&&(y===bt.b_stat||y===bt.b_expr)?!y.isExpr:L===v._return||L===v.name&&this.exprAllowed?F.test(this.input.slice(this.lastTokEnd,this.start)):L===v._else||L===v.semi||L===v.eof||L===v.parenR||L===v.arrow?!0:L===v.braceL?y===bt.b_stat:L===v._var||L===v._const||L===v.name?!1:!this.exprAllowed},At.inGeneratorContext=function(){for(var L=this.context.length-1;L>=1;L--){var y=this.context[L];if(y.token==="function")return y.generator}return!1},At.updateContext=function(L){var y,V=this.type;V.keyword&&L===v.dot?this.exprAllowed=!1:(y=V.updateContext)?y.call(this,L):this.exprAllowed=V.beforeExpr},At.overrideContext=function(L){this.curContext()!==L&&(this.context[this.context.length-1]=L)},v.parenR.updateContext=v.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var L=this.context.pop();L===bt.b_stat&&this.curContext().token==="function"&&(L=this.context.pop()),this.exprAllowed=!L.isExpr},v.braceL.updateContext=function(L){this.context.push(this.braceIsBlock(L)?bt.b_stat:bt.b_expr),this.exprAllowed=!0},v.dollarBraceL.updateContext=function(){this.context.push(bt.b_tmpl),this.exprAllowed=!0},v.parenL.updateContext=function(L){var y=L===v._if||L===v._for||L===v._with||L===v._while;this.context.push(y?bt.p_stat:bt.p_expr),this.exprAllowed=!0},v.incDec.updateContext=function(){},v._function.updateContext=v._class.updateContext=function(L){L.beforeExpr&&L!==v._else&&!(L===v.semi&&this.curContext()!==bt.p_stat)&&!(L===v._return&&F.test(this.input.slice(this.lastTokEnd,this.start)))&&!((L===v.colon||L===v.braceL)&&this.curContext()===bt.b_stat)?this.context.push(bt.f_expr):this.context.push(bt.f_stat),this.exprAllowed=!1},v.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},v.backQuote.updateContext=function(){this.curContext()===bt.q_tmpl?this.context.pop():this.context.push(bt.q_tmpl),this.exprAllowed=!1},v.star.updateContext=function(L){if(L===v._function){var y=this.context.length-1;this.context[y]===bt.f_expr?this.context[y]=bt.f_expr_gen:this.context[y]=bt.f_gen}this.exprAllowed=!0},v.name.updateContext=function(L){var y=!1;this.options.ecmaVersion>=6&&L!==v.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(y=!0),this.exprAllowed=y};var nt=zt.prototype;nt.checkPropClash=function(L,y,V){if(!(this.options.ecmaVersion>=9&&L.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(L.computed||L.method||L.shorthand))){var K=L.key,J;switch(K.type){case"Identifier":J=K.name;break;case"Literal":J=String(K.value);break;default:return}var oe=L.kind;if(this.options.ecmaVersion>=6){J==="__proto__"&&oe==="init"&&(y.proto&&(V?V.doubleProto<0&&(V.doubleProto=K.start):this.raiseRecoverable(K.start,"Redefinition of __proto__ property")),y.proto=!0);return}J="$"+J;var ve=y[J];if(ve){var ke;oe==="init"?ke=this.strict&&ve.init||ve.get||ve.set:ke=ve.init||ve[oe],ke&&this.raiseRecoverable(K.start,"Redefinition of property")}else ve=y[J]={init:!1,get:!1,set:!1};ve[oe]=!0}},nt.parseExpression=function(L,y){var V=this.start,K=this.startLoc,J=this.parseMaybeAssign(L,y);if(this.type===v.comma){var oe=this.startNodeAt(V,K);for(oe.expressions=[J];this.eat(v.comma);)oe.expressions.push(this.parseMaybeAssign(L,y));return this.finishNode(oe,"SequenceExpression")}return J},nt.parseMaybeAssign=function(L,y,V){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(L);this.exprAllowed=!1}var K=!1,J=-1,oe=-1,ve=-1;y?(J=y.parenthesizedAssign,oe=y.trailingComma,ve=y.doubleProto,y.parenthesizedAssign=y.trailingComma=-1):(y=new we,K=!0);var ke=this.start,Ue=this.startLoc;(this.type===v.parenL||this.type===v.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=L==="await");var et=this.parseMaybeConditional(L,y);if(V&&(et=V.call(this,et,ke,Ue)),this.type.isAssign){var gt=this.startNodeAt(ke,Ue);return gt.operator=this.value,this.type===v.eq&&(et=this.toAssignable(et,!1,y)),K||(y.parenthesizedAssign=y.trailingComma=y.doubleProto=-1),y.shorthandAssign>=et.start&&(y.shorthandAssign=-1),this.type===v.eq?this.checkLValPattern(et):this.checkLValSimple(et),gt.left=et,this.next(),gt.right=this.parseMaybeAssign(L),ve>-1&&(y.doubleProto=ve),this.finishNode(gt,"AssignmentExpression")}else K&&this.checkExpressionErrors(y,!0);return J>-1&&(y.parenthesizedAssign=J),oe>-1&&(y.trailingComma=oe),et},nt.parseMaybeConditional=function(L,y){var V=this.start,K=this.startLoc,J=this.parseExprOps(L,y);if(this.checkExpressionErrors(y))return J;if(this.eat(v.question)){var oe=this.startNodeAt(V,K);return oe.test=J,oe.consequent=this.parseMaybeAssign(),this.expect(v.colon),oe.alternate=this.parseMaybeAssign(L),this.finishNode(oe,"ConditionalExpression")}return J},nt.parseExprOps=function(L,y){var V=this.start,K=this.startLoc,J=this.parseMaybeUnary(y,!1,!1,L);return this.checkExpressionErrors(y)||J.start===V&&J.type==="ArrowFunctionExpression"?J:this.parseExprOp(J,V,K,-1,L)},nt.parseExprOp=function(L,y,V,K,J){var oe=this.type.binop;if(oe!=null&&(!J||this.type!==v._in)&&oe>K){var ve=this.type===v.logicalOR||this.type===v.logicalAND,ke=this.type===v.coalesce;ke&&(oe=v.logicalAND.binop);var Ue=this.value;this.next();var et=this.start,gt=this.startLoc,St=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,J),et,gt,oe,J),Vt=this.buildBinary(y,V,L,St,Ue,ve||ke);return(ve&&this.type===v.coalesce||ke&&(this.type===v.logicalOR||this.type===v.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Vt,y,V,K,J)}return L},nt.buildBinary=function(L,y,V,K,J,oe){K.type==="PrivateIdentifier"&&this.raise(K.start,"Private identifier can only be left side of binary expression");var ve=this.startNodeAt(L,y);return ve.left=V,ve.operator=J,ve.right=K,this.finishNode(ve,oe?"LogicalExpression":"BinaryExpression")},nt.parseMaybeUnary=function(L,y,V,K){var J=this.start,oe=this.startLoc,ve;if(this.isContextual("await")&&this.canAwait)ve=this.parseAwait(K),y=!0;else if(this.type.prefix){var ke=this.startNode(),Ue=this.type===v.incDec;ke.operator=this.value,ke.prefix=!0,this.next(),ke.argument=this.parseMaybeUnary(null,!0,Ue,K),this.checkExpressionErrors(L,!0),Ue?this.checkLValSimple(ke.argument):this.strict&&ke.operator==="delete"&&vt(ke.argument)?this.raiseRecoverable(ke.start,"Deleting local variable in strict mode"):ke.operator==="delete"&&$r(ke.argument)?this.raiseRecoverable(ke.start,"Private fields can not be deleted"):y=!0,ve=this.finishNode(ke,Ue?"UpdateExpression":"UnaryExpression")}else if(!y&&this.type===v.privateId)(K||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),ve=this.parsePrivateIdent(),this.type!==v._in&&this.unexpected();else{if(ve=this.parseExprSubscripts(L,K),this.checkExpressionErrors(L))return ve;for(;this.type.postfix&&!this.canInsertSemicolon();){var et=this.startNodeAt(J,oe);et.operator=this.value,et.prefix=!1,et.argument=ve,this.checkLValSimple(ve),this.next(),ve=this.finishNode(et,"UpdateExpression")}}if(!V&&this.eat(v.starstar))if(y)this.unexpected(this.lastTokStart);else return this.buildBinary(J,oe,ve,this.parseMaybeUnary(null,!1,!1,K),"**",!1);else return ve};function vt(L){return L.type==="Identifier"||L.type==="ParenthesizedExpression"&&vt(L.expression)}function $r(L){return L.type==="MemberExpression"&&L.property.type==="PrivateIdentifier"||L.type==="ChainExpression"&&$r(L.expression)||L.type==="ParenthesizedExpression"&&$r(L.expression)}nt.parseExprSubscripts=function(L,y){var V=this.start,K=this.startLoc,J=this.parseExprAtom(L,y);if(J.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return J;var oe=this.parseSubscripts(J,V,K,!1,y);return L&&oe.type==="MemberExpression"&&(L.parenthesizedAssign>=oe.start&&(L.parenthesizedAssign=-1),L.parenthesizedBind>=oe.start&&(L.parenthesizedBind=-1),L.trailingComma>=oe.start&&(L.trailingComma=-1)),oe},nt.parseSubscripts=function(L,y,V,K,J){for(var oe=this.options.ecmaVersion>=8&&L.type==="Identifier"&&L.name==="async"&&this.lastTokEnd===L.end&&!this.canInsertSemicolon()&&L.end-L.start===5&&this.potentialArrowAt===L.start,ve=!1;;){var ke=this.parseSubscript(L,y,V,K,oe,ve,J);if(ke.optional&&(ve=!0),ke===L||ke.type==="ArrowFunctionExpression"){if(ve){var Ue=this.startNodeAt(y,V);Ue.expression=ke,ke=this.finishNode(Ue,"ChainExpression")}return ke}L=ke}},nt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(v.arrow)},nt.parseSubscriptAsyncArrow=function(L,y,V,K){return this.parseArrowExpression(this.startNodeAt(L,y),V,!0,K)},nt.parseSubscript=function(L,y,V,K,J,oe,ve){var ke=this.options.ecmaVersion>=11,Ue=ke&&this.eat(v.questionDot);K&&Ue&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var et=this.eat(v.bracketL);if(et||Ue&&this.type!==v.parenL&&this.type!==v.backQuote||this.eat(v.dot)){var gt=this.startNodeAt(y,V);gt.object=L,et?(gt.property=this.parseExpression(),this.expect(v.bracketR)):this.type===v.privateId&&L.type!=="Super"?gt.property=this.parsePrivateIdent():gt.property=this.parseIdent(this.options.allowReserved!=="never"),gt.computed=!!et,ke&&(gt.optional=Ue),L=this.finishNode(gt,"MemberExpression")}else if(!K&&this.eat(v.parenL)){var St=new we,Vt=this.yieldPos,Te=this.awaitPos,le=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var _e=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1,St);if(J&&!Ue&&this.shouldParseAsyncArrow())return this.checkPatternErrors(St,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Vt,this.awaitPos=Te,this.awaitIdentPos=le,this.parseSubscriptAsyncArrow(y,V,_e,ve);this.checkExpressionErrors(St,!0),this.yieldPos=Vt||this.yieldPos,this.awaitPos=Te||this.awaitPos,this.awaitIdentPos=le||this.awaitIdentPos;var Ie=this.startNodeAt(y,V);Ie.callee=L,Ie.arguments=_e,ke&&(Ie.optional=Ue),L=this.finishNode(Ie,"CallExpression")}else if(this.type===v.backQuote){(Ue||oe)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var ft=this.startNodeAt(y,V);ft.tag=L,ft.quasi=this.parseTemplate({isTagged:!0}),L=this.finishNode(ft,"TaggedTemplateExpression")}return L},nt.parseExprAtom=function(L,y,V){this.type===v.slash&&this.readRegexp();var K,J=this.potentialArrowAt===this.start;switch(this.type){case v._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),K=this.startNode(),this.next(),this.type===v.parenL&&!this.allowDirectSuper&&this.raise(K.start,"super() call outside constructor of a subclass"),this.type!==v.dot&&this.type!==v.bracketL&&this.type!==v.parenL&&this.unexpected(),this.finishNode(K,"Super");case v._this:return K=this.startNode(),this.next(),this.finishNode(K,"ThisExpression");case v.name:var oe=this.start,ve=this.startLoc,ke=this.containsEsc,Ue=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ke&&Ue.name==="async"&&!this.canInsertSemicolon()&&this.eat(v._function))return this.overrideContext(bt.f_expr),this.parseFunction(this.startNodeAt(oe,ve),0,!1,!0,y);if(J&&!this.canInsertSemicolon()){if(this.eat(v.arrow))return this.parseArrowExpression(this.startNodeAt(oe,ve),[Ue],!1,y);if(this.options.ecmaVersion>=8&&Ue.name==="async"&&this.type===v.name&&!ke&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Ue=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(v.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(oe,ve),[Ue],!0,y)}return Ue;case v.regexp:var et=this.value;return K=this.parseLiteral(et.value),K.regex={pattern:et.pattern,flags:et.flags},K;case v.num:case v.string:return this.parseLiteral(this.value);case v._null:case v._true:case v._false:return K=this.startNode(),K.value=this.type===v._null?null:this.type===v._true,K.raw=this.type.keyword,this.next(),this.finishNode(K,"Literal");case v.parenL:var gt=this.start,St=this.parseParenAndDistinguishExpression(J,y);return L&&(L.parenthesizedAssign<0&&!this.isSimpleAssignTarget(St)&&(L.parenthesizedAssign=gt),L.parenthesizedBind<0&&(L.parenthesizedBind=gt)),St;case v.bracketL:return K=this.startNode(),this.next(),K.elements=this.parseExprList(v.bracketR,!0,!0,L),this.finishNode(K,"ArrayExpression");case v.braceL:return this.overrideContext(bt.b_expr),this.parseObj(!1,L);case v._function:return K=this.startNode(),this.next(),this.parseFunction(K,0);case v._class:return this.parseClass(this.startNode(),!1);case v._new:return this.parseNew();case v.backQuote:return this.parseTemplate();case v._import:return this.options.ecmaVersion>=11?this.parseExprImport(V):this.unexpected();default:return this.parseExprAtomDefault()}},nt.parseExprAtomDefault=function(){this.unexpected()},nt.parseExprImport=function(L){var y=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===v.parenL&&!L)return this.parseDynamicImport(y);if(this.type===v.dot){var V=this.startNodeAt(y.start,y.loc&&y.loc.start);return V.name="import",y.meta=this.finishNode(V,"Identifier"),this.parseImportMeta(y)}else this.unexpected()},nt.parseDynamicImport=function(L){if(this.next(),L.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(v.parenR)?L.options=null:(this.expect(v.comma),this.afterTrailingComma(v.parenR)?L.options=null:(L.options=this.parseMaybeAssign(),this.eat(v.parenR)||(this.expect(v.comma),this.afterTrailingComma(v.parenR)||this.unexpected())));else if(!this.eat(v.parenR)){var y=this.start;this.eat(v.comma)&&this.eat(v.parenR)?this.raiseRecoverable(y,"Trailing comma is not allowed in import()"):this.unexpected(y)}return this.finishNode(L,"ImportExpression")},nt.parseImportMeta=function(L){this.next();var y=this.containsEsc;return L.property=this.parseIdent(!0),L.property.name!=="meta"&&this.raiseRecoverable(L.property.start,"The only valid meta property for import is 'import.meta'"),y&&this.raiseRecoverable(L.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(L.start,"Cannot use 'import.meta' outside a module"),this.finishNode(L,"MetaProperty")},nt.parseLiteral=function(L){var y=this.startNode();return y.value=L,y.raw=this.input.slice(this.start,this.end),y.raw.charCodeAt(y.raw.length-1)===110&&(y.bigint=y.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(y,"Literal")},nt.parseParenExpression=function(){this.expect(v.parenL);var L=this.parseExpression();return this.expect(v.parenR),L},nt.shouldParseArrow=function(L){return!this.canInsertSemicolon()},nt.parseParenAndDistinguishExpression=function(L,y){var V=this.start,K=this.startLoc,J,oe=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var ve=this.start,ke=this.startLoc,Ue=[],et=!0,gt=!1,St=new we,Vt=this.yieldPos,Te=this.awaitPos,le;for(this.yieldPos=0,this.awaitPos=0;this.type!==v.parenR;)if(et?et=!1:this.expect(v.comma),oe&&this.afterTrailingComma(v.parenR,!0)){gt=!0;break}else if(this.type===v.ellipsis){le=this.start,Ue.push(this.parseParenItem(this.parseRestBinding())),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Ue.push(this.parseMaybeAssign(!1,St,this.parseParenItem));var _e=this.lastTokEnd,Ie=this.lastTokEndLoc;if(this.expect(v.parenR),L&&this.shouldParseArrow(Ue)&&this.eat(v.arrow))return this.checkPatternErrors(St,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Vt,this.awaitPos=Te,this.parseParenArrowList(V,K,Ue,y);(!Ue.length||gt)&&this.unexpected(this.lastTokStart),le&&this.unexpected(le),this.checkExpressionErrors(St,!0),this.yieldPos=Vt||this.yieldPos,this.awaitPos=Te||this.awaitPos,Ue.length>1?(J=this.startNodeAt(ve,ke),J.expressions=Ue,this.finishNodeAt(J,"SequenceExpression",_e,Ie)):J=Ue[0]}else J=this.parseParenExpression();if(this.options.preserveParens){var ft=this.startNodeAt(V,K);return ft.expression=J,this.finishNode(ft,"ParenthesizedExpression")}else return J},nt.parseParenItem=function(L){return L},nt.parseParenArrowList=function(L,y,V,K){return this.parseArrowExpression(this.startNodeAt(L,y),V,!1,K)};var Br=[];nt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var L=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===v.dot){var y=this.startNodeAt(L.start,L.loc&&L.loc.start);y.name="new",L.meta=this.finishNode(y,"Identifier"),this.next();var V=this.containsEsc;return L.property=this.parseIdent(!0),L.property.name!=="target"&&this.raiseRecoverable(L.property.start,"The only valid meta property for new is 'new.target'"),V&&this.raiseRecoverable(L.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(L.start,"'new.target' can only be used in functions and class static block"),this.finishNode(L,"MetaProperty")}var K=this.start,J=this.startLoc;return L.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),K,J,!0,!1),this.eat(v.parenL)?L.arguments=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1):L.arguments=Br,this.finishNode(L,"NewExpression")},nt.parseTemplateElement=function(L){var y=L.isTagged,V=this.startNode();return this.type===v.invalidTemplate?(y||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),V.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):V.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),V.tail=this.type===v.backQuote,this.finishNode(V,"TemplateElement")},nt.parseTemplate=function(L){L===void 0&&(L={});var y=L.isTagged;y===void 0&&(y=!1);var V=this.startNode();this.next(),V.expressions=[];var K=this.parseTemplateElement({isTagged:y});for(V.quasis=[K];!K.tail;)this.type===v.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(v.dollarBraceL),V.expressions.push(this.parseExpression()),this.expect(v.braceR),V.quasis.push(K=this.parseTemplateElement({isTagged:y}));return this.next(),this.finishNode(V,"TemplateLiteral")},nt.isAsyncProp=function(L){return!L.computed&&L.key.type==="Identifier"&&L.key.name==="async"&&(this.type===v.name||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===v.star)&&!F.test(this.input.slice(this.lastTokEnd,this.start))},nt.parseObj=function(L,y){var V=this.startNode(),K=!0,J={};for(V.properties=[],this.next();!this.eat(v.braceR);){if(K)K=!1;else if(this.expect(v.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(v.braceR))break;var oe=this.parseProperty(L,y);L||this.checkPropClash(oe,J,y),V.properties.push(oe)}return this.finishNode(V,L?"ObjectPattern":"ObjectExpression")},nt.parseProperty=function(L,y){var V=this.startNode(),K,J,oe,ve;if(this.options.ecmaVersion>=9&&this.eat(v.ellipsis))return L?(V.argument=this.parseIdent(!1),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(V,"RestElement")):(V.argument=this.parseMaybeAssign(!1,y),this.type===v.comma&&y&&y.trailingComma<0&&(y.trailingComma=this.start),this.finishNode(V,"SpreadElement"));this.options.ecmaVersion>=6&&(V.method=!1,V.shorthand=!1,(L||y)&&(oe=this.start,ve=this.startLoc),L||(K=this.eat(v.star)));var ke=this.containsEsc;return this.parsePropertyName(V),!L&&!ke&&this.options.ecmaVersion>=8&&!K&&this.isAsyncProp(V)?(J=!0,K=this.options.ecmaVersion>=9&&this.eat(v.star),this.parsePropertyName(V)):J=!1,this.parsePropertyValue(V,L,K,J,oe,ve,y,ke),this.finishNode(V,"Property")},nt.parseGetterSetter=function(L){L.kind=L.key.name,this.parsePropertyName(L),L.value=this.parseMethod(!1);var y=L.kind==="get"?0:1;if(L.value.params.length!==y){var V=L.value.start;L.kind==="get"?this.raiseRecoverable(V,"getter should have no params"):this.raiseRecoverable(V,"setter should have exactly one param")}else L.kind==="set"&&L.value.params[0].type==="RestElement"&&this.raiseRecoverable(L.value.params[0].start,"Setter cannot use rest params")},nt.parsePropertyValue=function(L,y,V,K,J,oe,ve,ke){(V||K)&&this.type===v.colon&&this.unexpected(),this.eat(v.colon)?(L.value=y?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,ve),L.kind="init"):this.options.ecmaVersion>=6&&this.type===v.parenL?(y&&this.unexpected(),L.kind="init",L.method=!0,L.value=this.parseMethod(V,K)):!y&&!ke&&this.options.ecmaVersion>=5&&!L.computed&&L.key.type==="Identifier"&&(L.key.name==="get"||L.key.name==="set")&&this.type!==v.comma&&this.type!==v.braceR&&this.type!==v.eq?((V||K)&&this.unexpected(),this.parseGetterSetter(L)):this.options.ecmaVersion>=6&&!L.computed&&L.key.type==="Identifier"?((V||K)&&this.unexpected(),this.checkUnreserved(L.key),L.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=J),L.kind="init",y?L.value=this.parseMaybeDefault(J,oe,this.copyNode(L.key)):this.type===v.eq&&ve?(ve.shorthandAssign<0&&(ve.shorthandAssign=this.start),L.value=this.parseMaybeDefault(J,oe,this.copyNode(L.key))):L.value=this.copyNode(L.key),L.shorthand=!0):this.unexpected()},nt.parsePropertyName=function(L){if(this.options.ecmaVersion>=6){if(this.eat(v.bracketL))return L.computed=!0,L.key=this.parseMaybeAssign(),this.expect(v.bracketR),L.key;L.computed=!1}return L.key=this.type===v.num||this.type===v.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},nt.initFunction=function(L){L.id=null,this.options.ecmaVersion>=6&&(L.generator=L.expression=!1),this.options.ecmaVersion>=8&&(L.async=!1)},nt.parseMethod=function(L,y,V){var K=this.startNode(),J=this.yieldPos,oe=this.awaitPos,ve=this.awaitIdentPos;return this.initFunction(K),this.options.ecmaVersion>=6&&(K.generator=L),this.options.ecmaVersion>=8&&(K.async=!!y),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Dt(y,K.generator)|Je|(V?Ve:0)),this.expect(v.parenL),K.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(K,!1,!0,!1),this.yieldPos=J,this.awaitPos=oe,this.awaitIdentPos=ve,this.finishNode(K,"FunctionExpression")},nt.parseArrowExpression=function(L,y,V,K){var J=this.yieldPos,oe=this.awaitPos,ve=this.awaitIdentPos;return this.enterScope(Dt(V,!1)|ge),this.initFunction(L),this.options.ecmaVersion>=8&&(L.async=!!V),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,L.params=this.toAssignableList(y,!0),this.parseFunctionBody(L,!0,!1,K),this.yieldPos=J,this.awaitPos=oe,this.awaitIdentPos=ve,this.finishNode(L,"ArrowFunctionExpression")},nt.parseFunctionBody=function(L,y,V,K){var J=y&&this.type!==v.braceL,oe=this.strict,ve=!1;if(J)L.body=this.parseMaybeAssign(K),L.expression=!0,this.checkParams(L,!1);else{var ke=this.options.ecmaVersion>=7&&!this.isSimpleParamList(L.params);(!oe||ke)&&(ve=this.strictDirective(this.end),ve&&ke&&this.raiseRecoverable(L.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Ue=this.labels;this.labels=[],ve&&(this.strict=!0),this.checkParams(L,!oe&&!ve&&!y&&!V&&this.isSimpleParamList(L.params)),this.strict&&L.id&&this.checkLValSimple(L.id,Mt),L.body=this.parseBlock(!1,void 0,ve&&!oe),L.expression=!1,this.adaptDirectivePrologue(L.body.body),this.labels=Ue}this.exitScope()},nt.isSimpleParamList=function(L){for(var y=0,V=L;y<V.length;y+=1){var K=V[y];if(K.type!=="Identifier")return!1}return!0},nt.checkParams=function(L,y){for(var V=Object.create(null),K=0,J=L.params;K<J.length;K+=1){var oe=J[K];this.checkLValInnerPattern(oe,fn,y?null:V)}},nt.parseExprList=function(L,y,V,K){for(var J=[],oe=!0;!this.eat(L);){if(oe)oe=!1;else if(this.expect(v.comma),y&&this.afterTrailingComma(L))break;var ve=void 0;V&&this.type===v.comma?ve=null:this.type===v.ellipsis?(ve=this.parseSpread(K),K&&this.type===v.comma&&K.trailingComma<0&&(K.trailingComma=this.start)):ve=this.parseMaybeAssign(!1,K),J.push(ve)}return J},nt.checkUnreserved=function(L){var y=L.start,V=L.end,K=L.name;if(this.inGenerator&&K==="yield"&&this.raiseRecoverable(y,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&K==="await"&&this.raiseRecoverable(y,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&K==="arguments"&&this.raiseRecoverable(y,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(K==="arguments"||K==="await")&&this.raise(y,"Cannot use "+K+" in class static initialization block"),this.keywords.test(K)&&this.raise(y,"Unexpected keyword '"+K+"'"),!(this.options.ecmaVersion<6&&this.input.slice(y,V).indexOf("\\")!==-1)){var J=this.strict?this.reservedWordsStrict:this.reservedWords;J.test(K)&&(!this.inAsync&&K==="await"&&this.raiseRecoverable(y,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(y,"The keyword '"+K+"' is reserved"))}},nt.parseIdent=function(L){var y=this.parseIdentNode();return this.next(!!L),this.finishNode(y,"Identifier"),L||(this.checkUnreserved(y),y.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=y.start)),y},nt.parseIdentNode=function(){var L=this.startNode();return this.type===v.name?L.name=this.value:this.type.keyword?(L.name=this.type.keyword,(L.name==="class"||L.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=v.name):this.unexpected(),L},nt.parsePrivateIdent=function(){var L=this.startNode();return this.type===v.privateId?L.name=this.value:this.unexpected(),this.next(),this.finishNode(L,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(L.start,"Private field '#"+L.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(L)),L},nt.parseYield=function(L){this.yieldPos||(this.yieldPos=this.start);var y=this.startNode();return this.next(),this.type===v.semi||this.canInsertSemicolon()||this.type!==v.star&&!this.type.startsExpr?(y.delegate=!1,y.argument=null):(y.delegate=this.eat(v.star),y.argument=this.parseMaybeAssign(L)),this.finishNode(y,"YieldExpression")},nt.parseAwait=function(L){this.awaitPos||(this.awaitPos=this.start);var y=this.startNode();return this.next(),y.argument=this.parseMaybeUnary(null,!0,!1,L),this.finishNode(y,"AwaitExpression")};var mr=zt.prototype;mr.raise=function(L,y){var V=fe(this.input,L);y+=" ("+V.line+":"+V.column+")";var K=new SyntaxError(y);throw K.pos=L,K.loc=V,K.raisedAt=this.pos,K},mr.raiseRecoverable=mr.raise,mr.curPosition=function(){if(this.options.locations)return new ae(this.curLine,this.pos-this.lineStart)};var Tn=zt.prototype,Ur=function(y){this.flags=y,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Tn.enterScope=function(L){this.scopeStack.push(new Ur(L))},Tn.exitScope=function(){this.scopeStack.pop()},Tn.treatFunctionsAsVarInScope=function(L){return L.flags&Ne||!this.inModule&&L.flags&Oe},Tn.declareName=function(L,y,V){var K=!1;if(y===bn){var J=this.currentScope();K=J.lexical.indexOf(L)>-1||J.functions.indexOf(L)>-1||J.var.indexOf(L)>-1,J.lexical.push(L),this.inModule&&J.flags&Oe&&delete this.undefinedExports[L]}else if(y===He){var oe=this.currentScope();oe.lexical.push(L)}else if(y===Be){var ve=this.currentScope();this.treatFunctionsAsVar?K=ve.lexical.indexOf(L)>-1:K=ve.lexical.indexOf(L)>-1||ve.var.indexOf(L)>-1,ve.functions.push(L)}else for(var ke=this.scopeStack.length-1;ke>=0;--ke){var Ue=this.scopeStack[ke];if(Ue.lexical.indexOf(L)>-1&&!(Ue.flags&Pe&&Ue.lexical[0]===L)||!this.treatFunctionsAsVarInScope(Ue)&&Ue.functions.indexOf(L)>-1){K=!0;break}if(Ue.var.push(L),this.inModule&&Ue.flags&Oe&&delete this.undefinedExports[L],Ue.flags&Ot)break}K&&this.raiseRecoverable(V,"Identifier '"+L+"' has already been declared")},Tn.checkLocalExport=function(L){this.scopeStack[0].lexical.indexOf(L.name)===-1&&this.scopeStack[0].var.indexOf(L.name)===-1&&(this.undefinedExports[L.name]=L)},Tn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Tn.currentVarScope=function(){for(var L=this.scopeStack.length-1;;L--){var y=this.scopeStack[L];if(y.flags&Ot)return y}},Tn.currentThisScope=function(){for(var L=this.scopeStack.length-1;;L--){var y=this.scopeStack[L];if(y.flags&Ot&&!(y.flags&ge))return y}};var Lr=function(y,V,K){this.type="",this.start=V,this.end=0,y.options.locations&&(this.loc=new re(y,K)),y.options.directSourceFile&&(this.sourceFile=y.options.directSourceFile),y.options.ranges&&(this.range=[V,0])},gr=zt.prototype;gr.startNode=function(){return new Lr(this,this.start,this.startLoc)},gr.startNodeAt=function(L,y){return new Lr(this,L,y)};function _r(L,y,V,K){return L.type=y,L.end=V,this.options.locations&&(L.loc.end=K),this.options.ranges&&(L.range[1]=V),L}gr.finishNode=function(L,y){return _r.call(this,L,y,this.lastTokEnd,this.lastTokEndLoc)},gr.finishNodeAt=function(L,y,V,K){return _r.call(this,L,y,V,K)},gr.copyNode=function(L){var y=new Lr(this,L.start,this.startLoc);for(var V in L)y[V]=L[V];return y};var ai="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",yr="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",vr=yr+" Extended_Pictographic",ti=vr,It=ti+" EBase EComp EMod EPres ExtPict",pn=It,Vn=pn,lr={9:yr,10:vr,11:ti,12:It,13:pn,14:Vn},ur="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",us={9:"",10:"",11:"",12:"",13:"",14:ur},ki="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",fi="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",qr=fi+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ni=qr+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Gn=ni+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Xn=Gn+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Er=Xn+" "+ai,cr={9:fi,10:qr,11:ni,12:Gn,13:Xn,14:Er},$n={};function Ir(L){var y=$n[L]={binary:ee(lr[L]+" "+ki),binaryOfStrings:ee(us[L]),nonBinary:{General_Category:ee(ki),Script:ee(cr[L])}};y.nonBinary.Script_Extensions=y.nonBinary.Script,y.nonBinary.gc=y.nonBinary.General_Category,y.nonBinary.sc=y.nonBinary.Script,y.nonBinary.scx=y.nonBinary.Script_Extensions}for(var Yt=0,nr=[9,10,11,12,13,14];Yt<nr.length;Yt+=1){var Dr=nr[Yt];Ir(Dr)}var kt=zt.prototype,$t=function(y,V){this.parent=y,this.base=V||this};$t.prototype.separatedFrom=function(y){for(var V=this;V;V=V.parent)for(var K=y;K;K=K.parent)if(V.base===K.base&&V!==K)return!0;return!1},$t.prototype.sibling=function(){return new $t(this.parent,this.base)};var Qn=function(y){this.parser=y,this.validFlags="gim"+(y.options.ecmaVersion>=6?"uy":"")+(y.options.ecmaVersion>=9?"s":"")+(y.options.ecmaVersion>=13?"d":"")+(y.options.ecmaVersion>=15?"v":""),this.unicodeProperties=$n[y.options.ecmaVersion>=14?14:y.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Qn.prototype.reset=function(y,V,K){var J=K.indexOf("v")!==-1,oe=K.indexOf("u")!==-1;this.start=y|0,this.source=V+"",this.flags=K,J&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=oe&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=oe&&this.parser.options.ecmaVersion>=9)},Qn.prototype.raise=function(y){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+y)},Qn.prototype.at=function(y,V){V===void 0&&(V=!1);var K=this.source,J=K.length;if(y>=J)return-1;var oe=K.charCodeAt(y);if(!(V||this.switchU)||oe<=55295||oe>=57344||y+1>=J)return oe;var ve=K.charCodeAt(y+1);return ve>=56320&&ve<=57343?(oe<<10)+ve-56613888:oe},Qn.prototype.nextIndex=function(y,V){V===void 0&&(V=!1);var K=this.source,J=K.length;if(y>=J)return J;var oe=K.charCodeAt(y),ve;return!(V||this.switchU)||oe<=55295||oe>=57344||y+1>=J||(ve=K.charCodeAt(y+1))<56320||ve>57343?y+1:y+2},Qn.prototype.current=function(y){return y===void 0&&(y=!1),this.at(this.pos,y)},Qn.prototype.lookahead=function(y){return y===void 0&&(y=!1),this.at(this.nextIndex(this.pos,y),y)},Qn.prototype.advance=function(y){y===void 0&&(y=!1),this.pos=this.nextIndex(this.pos,y)},Qn.prototype.eat=function(y,V){return V===void 0&&(V=!1),this.current(V)===y?(this.advance(V),!0):!1},Qn.prototype.eatChars=function(y,V){V===void 0&&(V=!1);for(var K=this.pos,J=0,oe=y;J<oe.length;J+=1){var ve=oe[J],ke=this.at(K,V);if(ke===-1||ke!==ve)return!1;K=this.nextIndex(K,V)}return this.pos=K,!0},kt.validateRegExpFlags=function(L){for(var y=L.validFlags,V=L.flags,K=!1,J=!1,oe=0;oe<V.length;oe++){var ve=V.charAt(oe);y.indexOf(ve)===-1&&this.raise(L.start,"Invalid regular expression flag"),V.indexOf(ve,oe+1)>-1&&this.raise(L.start,"Duplicate regular expression flag"),ve==="u"&&(K=!0),ve==="v"&&(J=!0)}this.options.ecmaVersion>=15&&K&&J&&this.raise(L.start,"Invalid regular expression flag")};function Tr(L){for(var y in L)return!0;return!1}kt.validateRegExpPattern=function(L){this.regexp_pattern(L),!L.switchN&&this.options.ecmaVersion>=9&&Tr(L.groupNames)&&(L.switchN=!0,this.regexp_pattern(L))},kt.regexp_pattern=function(L){L.pos=0,L.lastIntValue=0,L.lastStringValue="",L.lastAssertionIsQuantifiable=!1,L.numCapturingParens=0,L.maxBackReference=0,L.groupNames=Object.create(null),L.backReferenceNames.length=0,L.branchID=null,this.regexp_disjunction(L),L.pos!==L.source.length&&(L.eat(41)&&L.raise("Unmatched ')'"),(L.eat(93)||L.eat(125))&&L.raise("Lone quantifier brackets")),L.maxBackReference>L.numCapturingParens&&L.raise("Invalid escape");for(var y=0,V=L.backReferenceNames;y<V.length;y+=1){var K=V[y];L.groupNames[K]||L.raise("Invalid named capture referenced")}},kt.regexp_disjunction=function(L){var y=this.options.ecmaVersion>=16;for(y&&(L.branchID=new $t(L.branchID,null)),this.regexp_alternative(L);L.eat(124);)y&&(L.branchID=L.branchID.sibling()),this.regexp_alternative(L);y&&(L.branchID=L.branchID.parent),this.regexp_eatQuantifier(L,!0)&&L.raise("Nothing to repeat"),L.eat(123)&&L.raise("Lone quantifier brackets")},kt.regexp_alternative=function(L){for(;L.pos<L.source.length&&this.regexp_eatTerm(L););},kt.regexp_eatTerm=function(L){return this.regexp_eatAssertion(L)?(L.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(L)&&L.switchU&&L.raise("Invalid quantifier"),!0):(L.switchU?this.regexp_eatAtom(L):this.regexp_eatExtendedAtom(L))?(this.regexp_eatQuantifier(L),!0):!1},kt.regexp_eatAssertion=function(L){var y=L.pos;if(L.lastAssertionIsQuantifiable=!1,L.eat(94)||L.eat(36))return!0;if(L.eat(92)){if(L.eat(66)||L.eat(98))return!0;L.pos=y}if(L.eat(40)&&L.eat(63)){var V=!1;if(this.options.ecmaVersion>=9&&(V=L.eat(60)),L.eat(61)||L.eat(33))return this.regexp_disjunction(L),L.eat(41)||L.raise("Unterminated group"),L.lastAssertionIsQuantifiable=!V,!0}return L.pos=y,!1},kt.regexp_eatQuantifier=function(L,y){return y===void 0&&(y=!1),this.regexp_eatQuantifierPrefix(L,y)?(L.eat(63),!0):!1},kt.regexp_eatQuantifierPrefix=function(L,y){return L.eat(42)||L.eat(43)||L.eat(63)||this.regexp_eatBracedQuantifier(L,y)},kt.regexp_eatBracedQuantifier=function(L,y){var V=L.pos;if(L.eat(123)){var K=0,J=-1;if(this.regexp_eatDecimalDigits(L)&&(K=L.lastIntValue,L.eat(44)&&this.regexp_eatDecimalDigits(L)&&(J=L.lastIntValue),L.eat(125)))return J!==-1&&J<K&&!y&&L.raise("numbers out of order in {} quantifier"),!0;L.switchU&&!y&&L.raise("Incomplete quantifier"),L.pos=V}return!1},kt.regexp_eatAtom=function(L){return this.regexp_eatPatternCharacters(L)||L.eat(46)||this.regexp_eatReverseSolidusAtomEscape(L)||this.regexp_eatCharacterClass(L)||this.regexp_eatUncapturingGroup(L)||this.regexp_eatCapturingGroup(L)},kt.regexp_eatReverseSolidusAtomEscape=function(L){var y=L.pos;if(L.eat(92)){if(this.regexp_eatAtomEscape(L))return!0;L.pos=y}return!1},kt.regexp_eatUncapturingGroup=function(L){var y=L.pos;if(L.eat(40)){if(L.eat(63)){if(this.options.ecmaVersion>=16){var V=this.regexp_eatModifiers(L),K=L.eat(45);if(V||K){for(var J=0;J<V.length;J++){var oe=V.charAt(J);V.indexOf(oe,J+1)>-1&&L.raise("Duplicate regular expression modifiers")}if(K){var ve=this.regexp_eatModifiers(L);!V&&!ve&&L.current()===58&&L.raise("Invalid regular expression modifiers");for(var ke=0;ke<ve.length;ke++){var Ue=ve.charAt(ke);(ve.indexOf(Ue,ke+1)>-1||V.indexOf(Ue)>-1)&&L.raise("Duplicate regular expression modifiers")}}}}if(L.eat(58)){if(this.regexp_disjunction(L),L.eat(41))return!0;L.raise("Unterminated group")}}L.pos=y}return!1},kt.regexp_eatCapturingGroup=function(L){if(L.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(L):L.current()===63&&L.raise("Invalid group"),this.regexp_disjunction(L),L.eat(41))return L.numCapturingParens+=1,!0;L.raise("Unterminated group")}return!1},kt.regexp_eatModifiers=function(L){for(var y="",V=0;(V=L.current())!==-1&&z(V);)y+=ie(V),L.advance();return y};function z(L){return L===105||L===109||L===115}kt.regexp_eatExtendedAtom=function(L){return L.eat(46)||this.regexp_eatReverseSolidusAtomEscape(L)||this.regexp_eatCharacterClass(L)||this.regexp_eatUncapturingGroup(L)||this.regexp_eatCapturingGroup(L)||this.regexp_eatInvalidBracedQuantifier(L)||this.regexp_eatExtendedPatternCharacter(L)},kt.regexp_eatInvalidBracedQuantifier=function(L){return this.regexp_eatBracedQuantifier(L,!0)&&L.raise("Nothing to repeat"),!1},kt.regexp_eatSyntaxCharacter=function(L){var y=L.current();return Z(y)?(L.lastIntValue=y,L.advance(),!0):!1};function Z(L){return L===36||L>=40&&L<=43||L===46||L===63||L>=91&&L<=94||L>=123&&L<=125}kt.regexp_eatPatternCharacters=function(L){for(var y=L.pos,V=0;(V=L.current())!==-1&&!Z(V);)L.advance();return L.pos!==y},kt.regexp_eatExtendedPatternCharacter=function(L){var y=L.current();return y!==-1&&y!==36&&!(y>=40&&y<=43)&&y!==46&&y!==63&&y!==91&&y!==94&&y!==124?(L.advance(),!0):!1},kt.regexp_groupSpecifier=function(L){if(L.eat(63)){this.regexp_eatGroupName(L)||L.raise("Invalid group");var y=this.options.ecmaVersion>=16,V=L.groupNames[L.lastStringValue];if(V)if(y)for(var K=0,J=V;K<J.length;K+=1){var oe=J[K];oe.separatedFrom(L.branchID)||L.raise("Duplicate capture group name")}else L.raise("Duplicate capture group name");y?(V||(L.groupNames[L.lastStringValue]=[])).push(L.branchID):L.groupNames[L.lastStringValue]=!0}},kt.regexp_eatGroupName=function(L){if(L.lastStringValue="",L.eat(60)){if(this.regexp_eatRegExpIdentifierName(L)&&L.eat(62))return!0;L.raise("Invalid capture group name")}return!1},kt.regexp_eatRegExpIdentifierName=function(L){if(L.lastStringValue="",this.regexp_eatRegExpIdentifierStart(L)){for(L.lastStringValue+=ie(L.lastIntValue);this.regexp_eatRegExpIdentifierPart(L);)L.lastStringValue+=ie(L.lastIntValue);return!0}return!1},kt.regexp_eatRegExpIdentifierStart=function(L){var y=L.pos,V=this.options.ecmaVersion>=11,K=L.current(V);return L.advance(V),K===92&&this.regexp_eatRegExpUnicodeEscapeSequence(L,V)&&(K=L.lastIntValue),ue(K)?(L.lastIntValue=K,!0):(L.pos=y,!1)};function ue(L){return f(L,!0)||L===36||L===95}kt.regexp_eatRegExpIdentifierPart=function(L){var y=L.pos,V=this.options.ecmaVersion>=11,K=L.current(V);return L.advance(V),K===92&&this.regexp_eatRegExpUnicodeEscapeSequence(L,V)&&(K=L.lastIntValue),ye(K)?(L.lastIntValue=K,!0):(L.pos=y,!1)};function ye(L){return m(L,!0)||L===36||L===95||L===8204||L===8205}kt.regexp_eatAtomEscape=function(L){return this.regexp_eatBackReference(L)||this.regexp_eatCharacterClassEscape(L)||this.regexp_eatCharacterEscape(L)||L.switchN&&this.regexp_eatKGroupName(L)?!0:(L.switchU&&(L.current()===99&&L.raise("Invalid unicode escape"),L.raise("Invalid escape")),!1)},kt.regexp_eatBackReference=function(L){var y=L.pos;if(this.regexp_eatDecimalEscape(L)){var V=L.lastIntValue;if(L.switchU)return V>L.maxBackReference&&(L.maxBackReference=V),!0;if(V<=L.numCapturingParens)return!0;L.pos=y}return!1},kt.regexp_eatKGroupName=function(L){if(L.eat(107)){if(this.regexp_eatGroupName(L))return L.backReferenceNames.push(L.lastStringValue),!0;L.raise("Invalid named reference")}return!1},kt.regexp_eatCharacterEscape=function(L){return this.regexp_eatControlEscape(L)||this.regexp_eatCControlLetter(L)||this.regexp_eatZero(L)||this.regexp_eatHexEscapeSequence(L)||this.regexp_eatRegExpUnicodeEscapeSequence(L,!1)||!L.switchU&&this.regexp_eatLegacyOctalEscapeSequence(L)||this.regexp_eatIdentityEscape(L)},kt.regexp_eatCControlLetter=function(L){var y=L.pos;if(L.eat(99)){if(this.regexp_eatControlLetter(L))return!0;L.pos=y}return!1},kt.regexp_eatZero=function(L){return L.current()===48&&!jr(L.lookahead())?(L.lastIntValue=0,L.advance(),!0):!1},kt.regexp_eatControlEscape=function(L){var y=L.current();return y===116?(L.lastIntValue=9,L.advance(),!0):y===110?(L.lastIntValue=10,L.advance(),!0):y===118?(L.lastIntValue=11,L.advance(),!0):y===102?(L.lastIntValue=12,L.advance(),!0):y===114?(L.lastIntValue=13,L.advance(),!0):!1},kt.regexp_eatControlLetter=function(L){var y=L.current();return Re(y)?(L.lastIntValue=y%32,L.advance(),!0):!1};function Re(L){return L>=65&&L<=90||L>=97&&L<=122}kt.regexp_eatRegExpUnicodeEscapeSequence=function(L,y){y===void 0&&(y=!1);var V=L.pos,K=y||L.switchU;if(L.eat(117)){if(this.regexp_eatFixedHexDigits(L,4)){var J=L.lastIntValue;if(K&&J>=55296&&J<=56319){var oe=L.pos;if(L.eat(92)&&L.eat(117)&&this.regexp_eatFixedHexDigits(L,4)){var ve=L.lastIntValue;if(ve>=56320&&ve<=57343)return L.lastIntValue=(J-55296)*1024+(ve-56320)+65536,!0}L.pos=oe,L.lastIntValue=J}return!0}if(K&&L.eat(123)&&this.regexp_eatHexDigits(L)&&L.eat(125)&&qe(L.lastIntValue))return!0;K&&L.raise("Invalid unicode escape"),L.pos=V}return!1};function qe(L){return L>=0&&L<=1114111}kt.regexp_eatIdentityEscape=function(L){if(L.switchU)return this.regexp_eatSyntaxCharacter(L)?!0:L.eat(47)?(L.lastIntValue=47,!0):!1;var y=L.current();return y!==99&&(!L.switchN||y!==107)?(L.lastIntValue=y,L.advance(),!0):!1},kt.regexp_eatDecimalEscape=function(L){L.lastIntValue=0;var y=L.current();if(y>=49&&y<=57){do L.lastIntValue=10*L.lastIntValue+(y-48),L.advance();while((y=L.current())>=48&&y<=57);return!0}return!1};var rt=0,xt=1,Ct=2;kt.regexp_eatCharacterClassEscape=function(L){var y=L.current();if(qt(y))return L.lastIntValue=-1,L.advance(),xt;var V=!1;if(L.switchU&&this.options.ecmaVersion>=9&&((V=y===80)||y===112)){L.lastIntValue=-1,L.advance();var K;if(L.eat(123)&&(K=this.regexp_eatUnicodePropertyValueExpression(L))&&L.eat(125))return V&&K===Ct&&L.raise("Invalid property name"),K;L.raise("Invalid property name")}return rt};function qt(L){return L===100||L===68||L===115||L===83||L===119||L===87}kt.regexp_eatUnicodePropertyValueExpression=function(L){var y=L.pos;if(this.regexp_eatUnicodePropertyName(L)&&L.eat(61)){var V=L.lastStringValue;if(this.regexp_eatUnicodePropertyValue(L)){var K=L.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(L,V,K),xt}}if(L.pos=y,this.regexp_eatLoneUnicodePropertyNameOrValue(L)){var J=L.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(L,J)}return rt},kt.regexp_validateUnicodePropertyNameAndValue=function(L,y,V){H(L.unicodeProperties.nonBinary,y)||L.raise("Invalid property name"),L.unicodeProperties.nonBinary[y].test(V)||L.raise("Invalid property value")},kt.regexp_validateUnicodePropertyNameOrValue=function(L,y){if(L.unicodeProperties.binary.test(y))return xt;if(L.switchV&&L.unicodeProperties.binaryOfStrings.test(y))return Ct;L.raise("Invalid property name")},kt.regexp_eatUnicodePropertyName=function(L){var y=0;for(L.lastStringValue="";dn(y=L.current());)L.lastStringValue+=ie(y),L.advance();return L.lastStringValue!==""};function dn(L){return Re(L)||L===95}kt.regexp_eatUnicodePropertyValue=function(L){var y=0;for(L.lastStringValue="";rr(y=L.current());)L.lastStringValue+=ie(y),L.advance();return L.lastStringValue!==""};function rr(L){return dn(L)||jr(L)}kt.regexp_eatLoneUnicodePropertyNameOrValue=function(L){return this.regexp_eatUnicodePropertyValue(L)},kt.regexp_eatCharacterClass=function(L){if(L.eat(91)){var y=L.eat(94),V=this.regexp_classContents(L);return L.eat(93)||L.raise("Unterminated character class"),y&&V===Ct&&L.raise("Negated character class may contain strings"),!0}return!1},kt.regexp_classContents=function(L){return L.current()===93?xt:L.switchV?this.regexp_classSetExpression(L):(this.regexp_nonEmptyClassRanges(L),xt)},kt.regexp_nonEmptyClassRanges=function(L){for(;this.regexp_eatClassAtom(L);){var y=L.lastIntValue;if(L.eat(45)&&this.regexp_eatClassAtom(L)){var V=L.lastIntValue;L.switchU&&(y===-1||V===-1)&&L.raise("Invalid character class"),y!==-1&&V!==-1&&y>V&&L.raise("Range out of order in character class")}}},kt.regexp_eatClassAtom=function(L){var y=L.pos;if(L.eat(92)){if(this.regexp_eatClassEscape(L))return!0;if(L.switchU){var V=L.current();(V===99||Gi(V))&&L.raise("Invalid class escape"),L.raise("Invalid escape")}L.pos=y}var K=L.current();return K!==93?(L.lastIntValue=K,L.advance(),!0):!1},kt.regexp_eatClassEscape=function(L){var y=L.pos;if(L.eat(98))return L.lastIntValue=8,!0;if(L.switchU&&L.eat(45))return L.lastIntValue=45,!0;if(!L.switchU&&L.eat(99)){if(this.regexp_eatClassControlLetter(L))return!0;L.pos=y}return this.regexp_eatCharacterClassEscape(L)||this.regexp_eatCharacterEscape(L)},kt.regexp_classSetExpression=function(L){var y=xt,V;if(!this.regexp_eatClassSetRange(L))if(V=this.regexp_eatClassSetOperand(L)){V===Ct&&(y=Ct);for(var K=L.pos;L.eatChars([38,38]);){if(L.current()!==38&&(V=this.regexp_eatClassSetOperand(L))){V!==Ct&&(y=xt);continue}L.raise("Invalid character in character class")}if(K!==L.pos)return y;for(;L.eatChars([45,45]);)this.regexp_eatClassSetOperand(L)||L.raise("Invalid character in character class");if(K!==L.pos)return y}else L.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(L)){if(V=this.regexp_eatClassSetOperand(L),!V)return y;V===Ct&&(y=Ct)}},kt.regexp_eatClassSetRange=function(L){var y=L.pos;if(this.regexp_eatClassSetCharacter(L)){var V=L.lastIntValue;if(L.eat(45)&&this.regexp_eatClassSetCharacter(L)){var K=L.lastIntValue;return V!==-1&&K!==-1&&V>K&&L.raise("Range out of order in character class"),!0}L.pos=y}return!1},kt.regexp_eatClassSetOperand=function(L){return this.regexp_eatClassSetCharacter(L)?xt:this.regexp_eatClassStringDisjunction(L)||this.regexp_eatNestedClass(L)},kt.regexp_eatNestedClass=function(L){var y=L.pos;if(L.eat(91)){var V=L.eat(94),K=this.regexp_classContents(L);if(L.eat(93))return V&&K===Ct&&L.raise("Negated character class may contain strings"),K;L.pos=y}if(L.eat(92)){var J=this.regexp_eatCharacterClassEscape(L);if(J)return J;L.pos=y}return null},kt.regexp_eatClassStringDisjunction=function(L){var y=L.pos;if(L.eatChars([92,113])){if(L.eat(123)){var V=this.regexp_classStringDisjunctionContents(L);if(L.eat(125))return V}else L.raise("Invalid escape");L.pos=y}return null},kt.regexp_classStringDisjunctionContents=function(L){for(var y=this.regexp_classString(L);L.eat(124);)this.regexp_classString(L)===Ct&&(y=Ct);return y},kt.regexp_classString=function(L){for(var y=0;this.regexp_eatClassSetCharacter(L);)y++;return y===1?xt:Ct},kt.regexp_eatClassSetCharacter=function(L){var y=L.pos;if(L.eat(92))return this.regexp_eatCharacterEscape(L)||this.regexp_eatClassSetReservedPunctuator(L)?!0:L.eat(98)?(L.lastIntValue=8,!0):(L.pos=y,!1);var V=L.current();return V<0||V===L.lookahead()&&br(V)||Or(V)?!1:(L.advance(),L.lastIntValue=V,!0)};function br(L){return L===33||L>=35&&L<=38||L>=42&&L<=44||L===46||L>=58&&L<=64||L===94||L===96||L===126}function Or(L){return L===40||L===41||L===45||L===47||L>=91&&L<=93||L>=123&&L<=125}kt.regexp_eatClassSetReservedPunctuator=function(L){var y=L.current();return Yr(y)?(L.lastIntValue=y,L.advance(),!0):!1};function Yr(L){return L===33||L===35||L===37||L===38||L===44||L===45||L>=58&&L<=62||L===64||L===96||L===126}kt.regexp_eatClassControlLetter=function(L){var y=L.current();return jr(y)||y===95?(L.lastIntValue=y%32,L.advance(),!0):!1},kt.regexp_eatHexEscapeSequence=function(L){var y=L.pos;if(L.eat(120)){if(this.regexp_eatFixedHexDigits(L,2))return!0;L.switchU&&L.raise("Invalid escape"),L.pos=y}return!1},kt.regexp_eatDecimalDigits=function(L){var y=L.pos,V=0;for(L.lastIntValue=0;jr(V=L.current());)L.lastIntValue=10*L.lastIntValue+(V-48),L.advance();return L.pos!==y};function jr(L){return L>=48&&L<=57}kt.regexp_eatHexDigits=function(L){var y=L.pos,V=0;for(L.lastIntValue=0;ir(V=L.current());)L.lastIntValue=16*L.lastIntValue+Kn(V),L.advance();return L.pos!==y};function ir(L){return L>=48&&L<=57||L>=65&&L<=70||L>=97&&L<=102}function Kn(L){return L>=65&&L<=70?10+(L-65):L>=97&&L<=102?10+(L-97):L-48}kt.regexp_eatLegacyOctalEscapeSequence=function(L){if(this.regexp_eatOctalDigit(L)){var y=L.lastIntValue;if(this.regexp_eatOctalDigit(L)){var V=L.lastIntValue;y<=3&&this.regexp_eatOctalDigit(L)?L.lastIntValue=y*64+V*8+L.lastIntValue:L.lastIntValue=y*8+V}else L.lastIntValue=y;return!0}return!1},kt.regexp_eatOctalDigit=function(L){var y=L.current();return Gi(y)?(L.lastIntValue=y-48,L.advance(),!0):(L.lastIntValue=0,!1)};function Gi(L){return L>=48&&L<=55}kt.regexp_eatFixedHexDigits=function(L,y){var V=L.pos;L.lastIntValue=0;for(var K=0;K<y;++K){var J=L.current();if(!ir(J))return L.pos=V,!1;L.lastIntValue=16*L.lastIntValue+Kn(J),L.advance()}return!0};var oi=function(y){this.type=y.type,this.value=y.value,this.start=y.start,this.end=y.end,y.options.locations&&(this.loc=new re(y,y.startLoc,y.endLoc)),y.options.ranges&&(this.range=[y.start,y.end])},Wt=zt.prototype;Wt.next=function(L){!L&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new oi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Wt.getToken=function(){return this.next(),new oi(this)},typeof Symbol<"u"&&(Wt[Symbol.iterator]=function(){var L=this;return{next:function(){var y=L.getToken();return{done:y.type===v.eof,value:y}}}}),Wt.nextToken=function(){var L=this.curContext();if((!L||!L.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(v.eof);if(L.override)return L.override(this);this.readToken(this.fullCharCodeAtPos())},Wt.readToken=function(L){return f(L,this.options.ecmaVersion>=6)||L===92?this.readWord():this.getTokenFromCode(L)},Wt.fullCharCodeAtPos=function(){var L=this.input.charCodeAt(this.pos);if(L<=55295||L>=56320)return L;var y=this.input.charCodeAt(this.pos+1);return y<=56319||y>=57344?L:(L<<10)+y-56613888},Wt.skipBlockComment=function(){var L=this.options.onComment&&this.curPosition(),y=this.pos,V=this.input.indexOf("*/",this.pos+=2);if(V===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=V+2,this.options.locations)for(var K=void 0,J=y;(K=$(this.input,J,this.pos))>-1;)++this.curLine,J=this.lineStart=K;this.options.onComment&&this.options.onComment(!0,this.input.slice(y+2,V),y,this.pos,L,this.curPosition())},Wt.skipLineComment=function(L){for(var y=this.pos,V=this.options.onComment&&this.curPosition(),K=this.input.charCodeAt(this.pos+=L);this.pos<this.input.length&&!A(K);)K=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(y+L,this.pos),y,this.pos,V,this.curPosition())},Wt.skipSpace=function(){e:for(;this.pos<this.input.length;){var L=this.input.charCodeAt(this.pos);switch(L){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(L>8&&L<14||L>=5760&&P.test(String.fromCharCode(L)))++this.pos;else break e}}},Wt.finishToken=function(L,y){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var V=this.type;this.type=L,this.value=y,this.updateContext(V)},Wt.readToken_dot=function(){var L=this.input.charCodeAt(this.pos+1);if(L>=48&&L<=57)return this.readNumber(!0);var y=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&L===46&&y===46?(this.pos+=3,this.finishToken(v.ellipsis)):(++this.pos,this.finishToken(v.dot))},Wt.readToken_slash=function(){var L=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):L===61?this.finishOp(v.assign,2):this.finishOp(v.slash,1)},Wt.readToken_mult_modulo_exp=function(L){var y=this.input.charCodeAt(this.pos+1),V=1,K=L===42?v.star:v.modulo;return this.options.ecmaVersion>=7&&L===42&&y===42&&(++V,K=v.starstar,y=this.input.charCodeAt(this.pos+2)),y===61?this.finishOp(v.assign,V+1):this.finishOp(K,V)},Wt.readToken_pipe_amp=function(L){var y=this.input.charCodeAt(this.pos+1);if(y===L){if(this.options.ecmaVersion>=12){var V=this.input.charCodeAt(this.pos+2);if(V===61)return this.finishOp(v.assign,3)}return this.finishOp(L===124?v.logicalOR:v.logicalAND,2)}return y===61?this.finishOp(v.assign,2):this.finishOp(L===124?v.bitwiseOR:v.bitwiseAND,1)},Wt.readToken_caret=function(){var L=this.input.charCodeAt(this.pos+1);return L===61?this.finishOp(v.assign,2):this.finishOp(v.bitwiseXOR,1)},Wt.readToken_plus_min=function(L){var y=this.input.charCodeAt(this.pos+1);return y===L?y===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||F.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(v.incDec,2):y===61?this.finishOp(v.assign,2):this.finishOp(v.plusMin,1)},Wt.readToken_lt_gt=function(L){var y=this.input.charCodeAt(this.pos+1),V=1;return y===L?(V=L===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+V)===61?this.finishOp(v.assign,V+1):this.finishOp(v.bitShift,V)):y===33&&L===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(y===61&&(V=2),this.finishOp(v.relational,V))},Wt.readToken_eq_excl=function(L){var y=this.input.charCodeAt(this.pos+1);return y===61?this.finishOp(v.equality,this.input.charCodeAt(this.pos+2)===61?3:2):L===61&&y===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(v.arrow)):this.finishOp(L===61?v.eq:v.prefix,1)},Wt.readToken_question=function(){var L=this.options.ecmaVersion;if(L>=11){var y=this.input.charCodeAt(this.pos+1);if(y===46){var V=this.input.charCodeAt(this.pos+2);if(V<48||V>57)return this.finishOp(v.questionDot,2)}if(y===63){if(L>=12){var K=this.input.charCodeAt(this.pos+2);if(K===61)return this.finishOp(v.assign,3)}return this.finishOp(v.coalesce,2)}}return this.finishOp(v.question,1)},Wt.readToken_numberSign=function(){var L=this.options.ecmaVersion,y=35;if(L>=13&&(++this.pos,y=this.fullCharCodeAtPos(),f(y,!0)||y===92))return this.finishToken(v.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ie(y)+"'")},Wt.getTokenFromCode=function(L){switch(L){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(v.parenL);case 41:return++this.pos,this.finishToken(v.parenR);case 59:return++this.pos,this.finishToken(v.semi);case 44:return++this.pos,this.finishToken(v.comma);case 91:return++this.pos,this.finishToken(v.bracketL);case 93:return++this.pos,this.finishToken(v.bracketR);case 123:return++this.pos,this.finishToken(v.braceL);case 125:return++this.pos,this.finishToken(v.braceR);case 58:return++this.pos,this.finishToken(v.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(v.backQuote);case 48:var y=this.input.charCodeAt(this.pos+1);if(y===120||y===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(y===111||y===79)return this.readRadixNumber(8);if(y===98||y===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(L);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(L);case 124:case 38:return this.readToken_pipe_amp(L);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(L);case 60:case 62:return this.readToken_lt_gt(L);case 61:case 33:return this.readToken_eq_excl(L);case 63:return this.readToken_question();case 126:return this.finishOp(v.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ie(L)+"'")},Wt.finishOp=function(L,y){var V=this.input.slice(this.pos,this.pos+y);return this.pos+=y,this.finishToken(L,V)},Wt.readRegexp=function(){for(var L,y,V=this.pos;;){this.pos>=this.input.length&&this.raise(V,"Unterminated regular expression");var K=this.input.charAt(this.pos);if(F.test(K)&&this.raise(V,"Unterminated regular expression"),L)L=!1;else{if(K==="[")y=!0;else if(K==="]"&&y)y=!1;else if(K==="/"&&!y)break;L=K==="\\"}++this.pos}var J=this.input.slice(V,this.pos);++this.pos;var oe=this.pos,ve=this.readWord1();this.containsEsc&&this.unexpected(oe);var ke=this.regexpState||(this.regexpState=new Qn(this));ke.reset(V,J,ve),this.validateRegExpFlags(ke),this.validateRegExpPattern(ke);var Ue=null;try{Ue=new RegExp(J,ve)}catch{}return this.finishToken(v.regexp,{pattern:J,flags:ve,value:Ue})},Wt.readInt=function(L,y,V){for(var K=this.options.ecmaVersion>=12&&y===void 0,J=V&&this.input.charCodeAt(this.pos)===48,oe=this.pos,ve=0,ke=0,Ue=0,et=y??1/0;Ue<et;++Ue,++this.pos){var gt=this.input.charCodeAt(this.pos),St=void 0;if(K&&gt===95){J&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),ke===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Ue===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),ke=gt;continue}if(gt>=97?St=gt-97+10:gt>=65?St=gt-65+10:gt>=48&&gt<=57?St=gt-48:St=1/0,St>=L)break;ke=gt,ve=ve*L+St}return K&&ke===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===oe||y!=null&&this.pos-oe!==y?null:ve};function tn(L,y){return y?parseInt(L,8):parseFloat(L.replace(/_/g,""))}function cs(L){return typeof BigInt!="function"?null:BigInt(L.replace(/_/g,""))}Wt.readRadixNumber=function(L){var y=this.pos;this.pos+=2;var V=this.readInt(L);return V==null&&this.raise(this.start+2,"Expected number in radix "+L),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(V=cs(this.input.slice(y,this.pos)),++this.pos):f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,V)},Wt.readNumber=function(L){var y=this.pos;!L&&this.readInt(10,void 0,!0)===null&&this.raise(y,"Invalid number");var V=this.pos-y>=2&&this.input.charCodeAt(y)===48;V&&this.strict&&this.raise(y,"Invalid number");var K=this.input.charCodeAt(this.pos);if(!V&&!L&&this.options.ecmaVersion>=11&&K===110){var J=cs(this.input.slice(y,this.pos));return++this.pos,f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,J)}V&&/[89]/.test(this.input.slice(y,this.pos))&&(V=!1),K===46&&!V&&(++this.pos,this.readInt(10),K=this.input.charCodeAt(this.pos)),(K===69||K===101)&&!V&&(K=this.input.charCodeAt(++this.pos),(K===43||K===45)&&++this.pos,this.readInt(10)===null&&this.raise(y,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var oe=tn(this.input.slice(y,this.pos),V);return this.finishToken(v.num,oe)},Wt.readCodePoint=function(){var L=this.input.charCodeAt(this.pos),y;if(L===123){this.options.ecmaVersion<6&&this.unexpected();var V=++this.pos;y=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,y>1114111&&this.invalidStringToken(V,"Code point out of bounds")}else y=this.readHexChar(4);return y},Wt.readString=function(L){for(var y="",V=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var K=this.input.charCodeAt(this.pos);if(K===L)break;K===92?(y+=this.input.slice(V,this.pos),y+=this.readEscapedChar(!1),V=this.pos):K===8232||K===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(A(K)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return y+=this.input.slice(V,this.pos++),this.finishToken(v.string,y)};var Ki={};Wt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(L){if(L===Ki)this.readInvalidTemplateToken();else throw L}this.inTemplateElement=!1},Wt.invalidStringToken=function(L,y){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ki;this.raise(L,y)},Wt.readTmplToken=function(){for(var L="",y=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var V=this.input.charCodeAt(this.pos);if(V===96||V===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===v.template||this.type===v.invalidTemplate)?V===36?(this.pos+=2,this.finishToken(v.dollarBraceL)):(++this.pos,this.finishToken(v.backQuote)):(L+=this.input.slice(y,this.pos),this.finishToken(v.template,L));if(V===92)L+=this.input.slice(y,this.pos),L+=this.readEscapedChar(!0),y=this.pos;else if(A(V)){switch(L+=this.input.slice(y,this.pos),++this.pos,V){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:L+=`
`;break;default:L+=String.fromCharCode(V);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),y=this.pos}else++this.pos}},Wt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(v.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Wt.readEscapedChar=function(L){var y=this.input.charCodeAt(++this.pos);switch(++this.pos,y){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ie(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),L){var V=this.pos-1;this.invalidStringToken(V,"Invalid escape sequence in template string")}default:if(y>=48&&y<=55){var K=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],J=parseInt(K,8);return J>255&&(K=K.slice(0,-1),J=parseInt(K,8)),this.pos+=K.length-1,y=this.input.charCodeAt(this.pos),(K!=="0"||y===56||y===57)&&(this.strict||L)&&this.invalidStringToken(this.pos-1-K.length,L?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(J)}return A(y)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(y)}},Wt.readHexChar=function(L){var y=this.pos,V=this.readInt(16,L);return V===null&&this.invalidStringToken(y,"Bad character escape sequence"),V},Wt.readWord1=function(){this.containsEsc=!1;for(var L="",y=!0,V=this.pos,K=this.options.ecmaVersion>=6;this.pos<this.input.length;){var J=this.fullCharCodeAtPos();if(m(J,K))this.pos+=J<=65535?1:2;else if(J===92){this.containsEsc=!0,L+=this.input.slice(V,this.pos);var oe=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var ve=this.readCodePoint();(y?f:m)(ve,K)||this.invalidStringToken(oe,"Invalid Unicode escape"),L+=ie(ve),V=this.pos}else break;y=!1}return L+this.input.slice(V,this.pos)},Wt.readWord=function(){var L=this.readWord1(),y=v.name;return this.keywords.test(L)&&(y=M[L]),this.finishToken(y,L)};var Wr="8.14.0";zt.acorn={Parser:zt,version:Wr,defaultOptions:pe,Position:ae,SourceLocation:re,getLineInfo:fe,Node:Lr,TokenType:x,tokTypes:v,keywordTypes:M,TokContext:dt,tokContexts:bt,isIdentifierChar:m,isIdentifierStart:f,Token:oi,isNewLine:A,lineBreak:F,lineBreakG:I,nonASCIIwhitespace:P};function Cr(L,y){return zt.parse(L,y)}function Nr(L,y,V){return zt.parseExpressionAt(L,y,V)}function pi(L,y){return zt.tokenizer(L,y)}i.Node=Lr,i.Parser=zt,i.Position=ae,i.SourceLocation=re,i.TokContext=dt,i.Token=oi,i.TokenType=x,i.defaultOptions=pe,i.getLineInfo=fe,i.isIdentifierChar=m,i.isIdentifierStart=f,i.isNewLine=A,i.keywordTypes=M,i.lineBreak=F,i.lineBreakG=I,i.nonASCIIwhitespace=P,i.parse=Cr,i.parseExpressionAt=Nr,i.tokContexts=bt,i.tokTypes=v,i.tokenizer=pi,i.version=Wr}))})(acorn$3,acorn$3.exports)),acorn$3.exports}var astring={},hasRequiredAstring;function requireAstring(){if(hasRequiredAstring)return astring;hasRequiredAstring=1,Object.defineProperty(astring,"__esModule",{value:!0}),astring.generate=I,astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function e(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}function n(A,$){for(var P=0;P<$.length;P++){var B=$[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function i(A,$,P){return $&&n(A.prototype,$),A}var l=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var T={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},g=17;astring.NEEDS_PARENTHESES=g;var b={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:g,ClassExpression:g,FunctionExpression:g,ObjectExpression:g,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=b;function w(A,$){var P=A.generator;if(A.write("("),$!=null&&$.length>0){P[$[0].type]($[0],A);for(var B=$.length,U=1;U<B;U++){var W=$[U];A.write(", "),P[W.type](W,A)}}A.write(")")}function d(A,$,P,B){var U=A.expressionsPrecedence[$.type];if(U===g)return!0;var W=A.expressionsPrecedence[P.type];return U!==W?!B&&U===15&&W===14&&P.operator==="**"||U<W:U!==13&&U!==14?!1:$.operator==="**"&&P.operator==="**"?!B:U===13&&W===13&&($.operator==="??"||P.operator==="??")?!0:B?T[$.operator]<=T[P.operator]:T[$.operator]<T[P.operator]}function h(A,$,P,B){var U=A.generator;d(A,$,P,B)?(A.write("("),U[$.type]($,A),A.write(")")):U[$.type]($,A)}function c(A,$,P,B){var U=$.split(`
`),W=U.length-1;if(A.write(U[0].trim()),W>0){A.write(B);for(var j=1;j<W;j++)A.write(P+U[j].trim()+B);A.write(P+U[W].trim())}}function a(A,$,P,B){for(var U=$.length,W=0;W<U;W++){var j=$[W];A.write(P),j.type[0]==="L"?A.write("// "+j.value.trim()+`
`,j):(A.write("/*"),c(A,j.value,P,B),A.write("*/"+B))}}function o(A){for(var $=A;$!=null;){var P=$,B=P.type;if(B[0]==="C"&&B[1]==="a")return!0;if(B[0]==="M"&&B[1]==="e"&&B[2]==="m")$=$.object;else return!1}}function u(A,$){var P=A.generator,B=$.declarations;A.write($.kind+" ");var U=B.length;if(U>0){P.VariableDeclarator(B[0],A);for(var W=1;W<U;W++)A.write(", "),P.VariableDeclarator(B[W],A)}}var f,m,x,E,S,R,M={Program:function($,P){var B=P.indent.repeat(P.indentLevel),U=P.lineEnd,W=P.writeComments;W&&$.comments!=null&&a(P,$.comments,B,U);for(var j=$.body,H=j.length,Q=0;Q<H;Q++){var X=j[Q];W&&X.comments!=null&&a(P,X.comments,B,U),P.write(B),this[X.type](X,P),P.write(U)}W&&$.trailingComments!=null&&a(P,$.trailingComments,B,U)},BlockStatement:R=function($,P){var B=P.indent.repeat(P.indentLevel++),U=P.lineEnd,W=P.writeComments,j=B+P.indent;P.write("{");var H=$.body;if(H!=null&&H.length>0){P.write(U),W&&$.comments!=null&&a(P,$.comments,j,U);for(var Q=H.length,X=0;X<Q;X++){var ee=H[X];W&&ee.comments!=null&&a(P,ee.comments,j,U),P.write(j),this[ee.type](ee,P),P.write(U)}P.write(B)}else W&&$.comments!=null&&(P.write(U),a(P,$.comments,j,U),P.write(B));W&&$.trailingComments!=null&&a(P,$.trailingComments,j,U),P.write("}"),P.indentLevel--},ClassBody:R,StaticBlock:function($,P){P.write("static "),this.BlockStatement($,P)},EmptyStatement:function($,P){P.write(";")},ExpressionStatement:function($,P){var B=P.expressionsPrecedence[$.expression.type];B===g||B===3&&$.expression.left.type[0]==="O"?(P.write("("),this[$.expression.type]($.expression,P),P.write(")")):this[$.expression.type]($.expression,P),P.write(";")},IfStatement:function($,P){P.write("if ("),this[$.test.type]($.test,P),P.write(") "),this[$.consequent.type]($.consequent,P),$.alternate!=null&&(P.write(" else "),this[$.alternate.type]($.alternate,P))},LabeledStatement:function($,P){this[$.label.type]($.label,P),P.write(": "),this[$.body.type]($.body,P)},BreakStatement:function($,P){P.write("break"),$.label!=null&&(P.write(" "),this[$.label.type]($.label,P)),P.write(";")},ContinueStatement:function($,P){P.write("continue"),$.label!=null&&(P.write(" "),this[$.label.type]($.label,P)),P.write(";")},WithStatement:function($,P){P.write("with ("),this[$.object.type]($.object,P),P.write(") "),this[$.body.type]($.body,P)},SwitchStatement:function($,P){var B=P.indent.repeat(P.indentLevel++),U=P.lineEnd,W=P.writeComments;P.indentLevel++;var j=B+P.indent,H=j+P.indent;P.write("switch ("),this[$.discriminant.type]($.discriminant,P),P.write(") {"+U);for(var Q=$.cases,X=Q.length,ee=0;ee<X;ee++){var ie=Q[ee];W&&ie.comments!=null&&a(P,ie.comments,j,U),ie.test?(P.write(j+"case "),this[ie.test.type](ie.test,P),P.write(":"+U)):P.write(j+"default:"+U);for(var ne=ie.consequent,ae=ne.length,re=0;re<ae;re++){var fe=ne[re];W&&fe.comments!=null&&a(P,fe.comments,H,U),P.write(H),this[fe.type](fe,P),P.write(U)}}P.indentLevel-=2,P.write(B+"}")},ReturnStatement:function($,P){P.write("return"),$.argument&&(P.write(" "),this[$.argument.type]($.argument,P)),P.write(";")},ThrowStatement:function($,P){P.write("throw "),this[$.argument.type]($.argument,P),P.write(";")},TryStatement:function($,P){if(P.write("try "),this[$.block.type]($.block,P),$.handler){var B=$.handler;B.param==null?P.write(" catch "):(P.write(" catch ("),this[B.param.type](B.param,P),P.write(") ")),this[B.body.type](B.body,P)}$.finalizer&&(P.write(" finally "),this[$.finalizer.type]($.finalizer,P))},WhileStatement:function($,P){P.write("while ("),this[$.test.type]($.test,P),P.write(") "),this[$.body.type]($.body,P)},DoWhileStatement:function($,P){P.write("do "),this[$.body.type]($.body,P),P.write(" while ("),this[$.test.type]($.test,P),P.write(");")},ForStatement:function($,P){if(P.write("for ("),$.init!=null){var B=$.init;B.type[0]==="V"?u(P,B):this[B.type](B,P)}P.write("; "),$.test&&this[$.test.type]($.test,P),P.write("; "),$.update&&this[$.update.type]($.update,P),P.write(") "),this[$.body.type]($.body,P)},ForInStatement:f=function($,P){P.write("for ".concat($.await?"await ":"","("));var B=$.left;B.type[0]==="V"?u(P,B):this[B.type](B,P),P.write($.type[3]==="I"?" in ":" of "),this[$.right.type]($.right,P),P.write(") "),this[$.body.type]($.body,P)},ForOfStatement:f,DebuggerStatement:function($,P){P.write("debugger;",$)},FunctionDeclaration:m=function($,P){P.write(($.async?"async ":"")+($.generator?"function* ":"function ")+($.id?$.id.name:""),$),w(P,$.params),P.write(" "),this[$.body.type]($.body,P)},FunctionExpression:m,VariableDeclaration:function($,P){u(P,$),P.write(";")},VariableDeclarator:function($,P){this[$.id.type]($.id,P),$.init!=null&&(P.write(" = "),this[$.init.type]($.init,P))},ClassDeclaration:function($,P){if(P.write("class "+($.id?"".concat($.id.name," "):""),$),$.superClass){P.write("extends ");var B=$.superClass,U=B.type,W=P.expressionsPrecedence[U];(U[0]!=="C"||U[1]!=="l"||U[5]!=="E")&&(W===g||W<P.expressionsPrecedence.ClassExpression)?(P.write("("),this[$.superClass.type](B,P),P.write(")")):this[B.type](B,P),P.write(" ")}this.ClassBody($.body,P)},ImportDeclaration:function($,P){P.write("import ");var B=$.specifiers,U=$.attributes,W=B.length,j=0;if(W>0){for(;j<W;){j>0&&P.write(", ");var H=B[j],Q=H.type[6];if(Q==="D")P.write(H.local.name,H),j++;else if(Q==="N")P.write("* as "+H.local.name,H),j++;else break}if(j<W){for(P.write("{");;){var X=B[j],ee=X.imported.name;if(P.write(ee,X),ee!==X.local.name&&P.write(" as "+X.local.name),++j<W)P.write(", ");else break}P.write("}")}P.write(" from ")}if(this.Literal($.source,P),U&&U.length>0){P.write(" with { ");for(var ie=0;ie<U.length;ie++)this.ImportAttribute(U[ie],P),ie<U.length-1&&P.write(", ");P.write(" }")}P.write(";")},ImportAttribute:function($,P){this.Identifier($.key,P),P.write(": "),this.Literal($.value,P)},ImportExpression:function($,P){P.write("import("),this[$.source.type]($.source,P),P.write(")")},ExportDefaultDeclaration:function($,P){P.write("export default "),this[$.declaration.type]($.declaration,P),P.expressionsPrecedence[$.declaration.type]!=null&&$.declaration.type[0]!=="F"&&P.write(";")},ExportNamedDeclaration:function($,P){if(P.write("export "),$.declaration)this[$.declaration.type]($.declaration,P);else{P.write("{");var B=$.specifiers,U=B.length;if(U>0)for(var W=0;;){var j=B[W],H=j.local.name;if(P.write(H,j),H!==j.exported.name&&P.write(" as "+j.exported.name),++W<U)P.write(", ");else break}if(P.write("}"),$.source&&(P.write(" from "),this.Literal($.source,P)),$.attributes&&$.attributes.length>0){P.write(" with { ");for(var Q=0;Q<$.attributes.length;Q++)this.ImportAttribute($.attributes[Q],P),Q<$.attributes.length-1&&P.write(", ");P.write(" }")}P.write(";")}},ExportAllDeclaration:function($,P){if($.exported!=null?P.write("export * as "+$.exported.name+" from "):P.write("export * from "),this.Literal($.source,P),$.attributes&&$.attributes.length>0){P.write(" with { ");for(var B=0;B<$.attributes.length;B++)this.ImportAttribute($.attributes[B],P),B<$.attributes.length-1&&P.write(", ");P.write(" }")}P.write(";")},MethodDefinition:function($,P){$.static&&P.write("static ");var B=$.kind[0];(B==="g"||B==="s")&&P.write($.kind+" "),$.value.async&&P.write("async "),$.value.generator&&P.write("*"),$.computed?(P.write("["),this[$.key.type]($.key,P),P.write("]")):this[$.key.type]($.key,P),w(P,$.value.params),P.write(" "),this[$.value.body.type]($.value.body,P)},ClassExpression:function($,P){this.ClassDeclaration($,P)},ArrowFunctionExpression:function($,P){P.write($.async?"async ":"",$);var B=$.params;B!=null&&(B.length===1&&B[0].type[0]==="I"?P.write(B[0].name,B[0]):w(P,$.params)),P.write(" => "),$.body.type[0]==="O"?(P.write("("),this.ObjectExpression($.body,P),P.write(")")):this[$.body.type]($.body,P)},ThisExpression:function($,P){P.write("this",$)},Super:function($,P){P.write("super",$)},RestElement:x=function($,P){P.write("..."),this[$.argument.type]($.argument,P)},SpreadElement:x,YieldExpression:function($,P){P.write($.delegate?"yield*":"yield"),$.argument&&(P.write(" "),this[$.argument.type]($.argument,P))},AwaitExpression:function($,P){P.write("await ",$),h(P,$.argument,$)},TemplateLiteral:function($,P){var B=$.quasis,U=$.expressions;P.write("`");for(var W=U.length,j=0;j<W;j++){var H=U[j],Q=B[j];P.write(Q.value.raw,Q),P.write("${"),this[H.type](H,P),P.write("}")}var X=B[B.length-1];P.write(X.value.raw,X),P.write("`")},TemplateElement:function($,P){P.write($.value.raw,$)},TaggedTemplateExpression:function($,P){h(P,$.tag,$),this[$.quasi.type]($.quasi,P)},ArrayExpression:S=function($,P){if(P.write("["),$.elements.length>0)for(var B=$.elements,U=B.length,W=0;;){var j=B[W];if(j!=null&&this[j.type](j,P),++W<U)P.write(", ");else{j==null&&P.write(", ");break}}P.write("]")},ArrayPattern:S,ObjectExpression:function($,P){var B=P.indent.repeat(P.indentLevel++),U=P.lineEnd,W=P.writeComments,j=B+P.indent;if(P.write("{"),$.properties.length>0){P.write(U),W&&$.comments!=null&&a(P,$.comments,j,U);for(var H=","+U,Q=$.properties,X=Q.length,ee=0;;){var ie=Q[ee];if(W&&ie.comments!=null&&a(P,ie.comments,j,U),P.write(j),this[ie.type](ie,P),++ee<X)P.write(H);else break}P.write(U),W&&$.trailingComments!=null&&a(P,$.trailingComments,j,U),P.write(B+"}")}else W?$.comments!=null?(P.write(U),a(P,$.comments,j,U),$.trailingComments!=null&&a(P,$.trailingComments,j,U),P.write(B+"}")):$.trailingComments!=null?(P.write(U),a(P,$.trailingComments,j,U),P.write(B+"}")):P.write("}"):P.write("}");P.indentLevel--},Property:function($,P){$.method||$.kind[0]!=="i"?this.MethodDefinition($,P):($.shorthand||($.computed?(P.write("["),this[$.key.type]($.key,P),P.write("]")):this[$.key.type]($.key,P),P.write(": ")),this[$.value.type]($.value,P))},PropertyDefinition:function($,P){if($.static&&P.write("static "),$.computed&&P.write("["),this[$.key.type]($.key,P),$.computed&&P.write("]"),$.value==null){$.key.type[0]!=="F"&&P.write(";");return}P.write(" = "),this[$.value.type]($.value,P),P.write(";")},ObjectPattern:function($,P){if(P.write("{"),$.properties.length>0)for(var B=$.properties,U=B.length,W=0;this[B[W].type](B[W],P),++W<U;)P.write(", ");P.write("}")},SequenceExpression:function($,P){w(P,$.expressions)},UnaryExpression:function($,P){if($.prefix){var B=$.operator,U=$.argument,W=$.argument.type;P.write(B);var j=d(P,U,$);!j&&(B.length>1||W[0]==="U"&&(W[1]==="n"||W[1]==="p")&&U.prefix&&U.operator[0]===B&&(B==="+"||B==="-"))&&P.write(" "),j?(P.write(B.length>1?" (":"("),this[W](U,P),P.write(")")):this[W](U,P)}else this[$.argument.type]($.argument,P),P.write($.operator)},UpdateExpression:function($,P){$.prefix?(P.write($.operator),this[$.argument.type]($.argument,P)):(this[$.argument.type]($.argument,P),P.write($.operator))},AssignmentExpression:function($,P){this[$.left.type]($.left,P),P.write(" "+$.operator+" "),this[$.right.type]($.right,P)},AssignmentPattern:function($,P){this[$.left.type]($.left,P),P.write(" = "),this[$.right.type]($.right,P)},BinaryExpression:E=function($,P){var B=$.operator==="in";B&&P.write("("),h(P,$.left,$,!1),P.write(" "+$.operator+" "),h(P,$.right,$,!0),B&&P.write(")")},LogicalExpression:E,ConditionalExpression:function($,P){var B=$.test,U=P.expressionsPrecedence[B.type];U===g||U<=P.expressionsPrecedence.ConditionalExpression?(P.write("("),this[B.type](B,P),P.write(")")):this[B.type](B,P),P.write(" ? "),this[$.consequent.type]($.consequent,P),P.write(" : "),this[$.alternate.type]($.alternate,P)},NewExpression:function($,P){P.write("new ");var B=P.expressionsPrecedence[$.callee.type];B===g||B<P.expressionsPrecedence.CallExpression||o($.callee)?(P.write("("),this[$.callee.type]($.callee,P),P.write(")")):this[$.callee.type]($.callee,P),w(P,$.arguments)},CallExpression:function($,P){var B=P.expressionsPrecedence[$.callee.type];B===g||B<P.expressionsPrecedence.CallExpression?(P.write("("),this[$.callee.type]($.callee,P),P.write(")")):this[$.callee.type]($.callee,P),$.optional&&P.write("?."),w(P,$.arguments)},ChainExpression:function($,P){this[$.expression.type]($.expression,P)},MemberExpression:function($,P){var B=P.expressionsPrecedence[$.object.type];B===g||B<P.expressionsPrecedence.MemberExpression?(P.write("("),this[$.object.type]($.object,P),P.write(")")):this[$.object.type]($.object,P),$.computed?($.optional&&P.write("?."),P.write("["),this[$.property.type]($.property,P),P.write("]")):($.optional?P.write("?."):P.write("."),this[$.property.type]($.property,P))},MetaProperty:function($,P){P.write($.meta.name+"."+$.property.name,$)},Identifier:function($,P){P.write($.name,$)},PrivateIdentifier:function($,P){P.write("#".concat($.name),$)},Literal:function($,P){$.raw!=null?P.write($.raw,$):$.regex!=null?this.RegExpLiteral($,P):$.bigint!=null?P.write($.bigint+"n",$):P.write(l($.value),$)},RegExpLiteral:function($,P){var B=$.regex;P.write("/".concat(B.pattern,"/").concat(B.flags),$)}};astring.GENERATOR=M;var k={},v=M;astring.baseGenerator=v;var F=(function(){function A($){e(this,A);var P=$??k;this.output="",P.output!=null?(this.output=P.output,this.write=this.writeToStream):this.output="",this.generator=P.generator!=null?P.generator:M,this.expressionsPrecedence=P.expressionsPrecedence!=null?P.expressionsPrecedence:b,this.indent=P.indent!=null?P.indent:"  ",this.lineEnd=P.lineEnd!=null?P.lineEnd:`
`,this.indentLevel=P.startingIndentLevel!=null?P.startingIndentLevel:0,this.writeComments=P.comments?P.comments:!1,P.sourceMap!=null&&(this.write=P.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=P.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:P.sourceMap.file||P.sourceMap._file})}return i(A,[{key:"write",value:function(P){this.output+=P}},{key:"writeToStream",value:function(P){this.output.write(P)}},{key:"writeAndMap",value:function(P,B){this.output+=P,this.map(P,B)}},{key:"writeToStreamAndMap",value:function(P,B){this.output.write(P),this.map(P,B)}},{key:"map",value:function(P,B){if(B!=null){var U=B.type;if(U[0]==="L"&&U[2]==="n"){this.column=0,this.line++;return}if(B.loc!=null){var W=this.mapping;W.original=B.loc.start,W.name=B.name,this.sourceMap.addMapping(W)}if(U[0]==="T"&&U[8]==="E"||U[0]==="L"&&U[1]==="i"&&typeof B.value=="string"){for(var j=P.length,H=this.column,Q=this.line,X=0;X<j;X++)P[X]===`
`?(H=0,Q++):H++;this.column=H,this.line=Q;return}}var ee=P.length,ie=this.lineEnd;ee>0&&(this.lineEndSize>0&&(ie.length===1?P[ee-1]===ie:P.endsWith(ie))?(this.line+=this.lineEndSize,this.column=0):this.column+=ee)}},{key:"toString",value:function(){return this.output}}]),A})();function I(A,$){var P=new F($);return P.generator[A.type](A,P),P.output}return astring}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};var hasRequiredGpuBrowser;function requireGpuBrowser(){return hasRequiredGpuBrowser||(hasRequiredGpuBrowser=1,(function(e,n){(function(i){e.exports=i()})(function(){return(function(){function i(l,T,g){function b(h,c){if(!T[h]){if(!l[h]){var a=typeof commonjsRequire=="function"&&commonjsRequire;if(!c&&a)return a(h,!0);if(w)return w(h,!0);var o=new Error("Cannot find module '"+h+"'");throw o.code="MODULE_NOT_FOUND",o}var u=T[h]={exports:{}};l[h][0].call(u.exports,function(f){var m=l[h][1][f];return b(m||f)},u,u.exports,i,l,T,g)}return T[h].exports}for(var w=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<g.length;d++)b(g[d]);return b}return i})()({1:[function(i,l,T){(function(g,b){typeof T=="object"&&typeof l<"u"?b(T):(g=g||self,b(g.acorn={}))})(this,function(g){var b={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},w="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",d={5:w,"5module":w+" export import",6:w+" const class extends export import super"},h=/^in(stanceof)?$/,c="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",a="--------------------------------------------------------------------------------------------------------------------------------------------------",o=new RegExp("["+c+"]"),u=new RegExp("["+c+a+"]");c=a=null;var f=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],m=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function x(z,Z){for(var ue=65536,ye=0;ye<Z.length;ye+=2){if(ue+=Z[ye],ue>z)return!1;if(ue+=Z[ye+1],ue>=z)return!0}}function E(z,Z){return z<65?z===36:z<91?!0:z<97?z===95:z<123?!0:z<=65535?z>=170&&o.test(String.fromCharCode(z)):Z===!1?!1:x(z,f)}function S(z,Z){return z<48?z===36:z<58?!0:z<65?!1:z<91?!0:z<97?z===95:z<123?!0:z<=65535?z>=170&&u.test(String.fromCharCode(z)):Z===!1?!1:x(z,f)||x(z,m)}var R=function(Z,ue){ue===void 0&&(ue={}),this.label=Z,this.keyword=ue.keyword,this.beforeExpr=!!ue.beforeExpr,this.startsExpr=!!ue.startsExpr,this.isLoop=!!ue.isLoop,this.isAssign=!!ue.isAssign,this.prefix=!!ue.prefix,this.postfix=!!ue.postfix,this.binop=ue.binop||null,this.updateContext=null};function M(z,Z){return new R(z,{beforeExpr:!0,binop:Z})}var k={beforeExpr:!0},v={startsExpr:!0},F={};function I(z,Z){return Z===void 0&&(Z={}),Z.keyword=z,F[z]=new R(z,Z)}var A={num:new R("num",v),regexp:new R("regexp",v),string:new R("string",v),name:new R("name",v),eof:new R("eof"),bracketL:new R("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new R("]"),braceL:new R("{",{beforeExpr:!0,startsExpr:!0}),braceR:new R("}"),parenL:new R("(",{beforeExpr:!0,startsExpr:!0}),parenR:new R(")"),comma:new R(",",k),semi:new R(";",k),colon:new R(":",k),dot:new R("."),question:new R("?",k),arrow:new R("=>",k),template:new R("template"),invalidTemplate:new R("invalidTemplate"),ellipsis:new R("...",k),backQuote:new R("`",v),dollarBraceL:new R("${",{beforeExpr:!0,startsExpr:!0}),eq:new R("=",{beforeExpr:!0,isAssign:!0}),assign:new R("_=",{beforeExpr:!0,isAssign:!0}),incDec:new R("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new R("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:M("||",1),logicalAND:M("&&",2),bitwiseOR:M("|",3),bitwiseXOR:M("^",4),bitwiseAND:M("&",5),equality:M("==/!=/===/!==",6),relational:M("</>/<=/>=",7),bitShift:M("<</>>/>>>",8),plusMin:new R("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:M("%",10),star:M("*",10),slash:M("/",10),starstar:new R("**",{beforeExpr:!0}),_break:I("break"),_case:I("case",k),_catch:I("catch"),_continue:I("continue"),_debugger:I("debugger"),_default:I("default",k),_do:I("do",{isLoop:!0,beforeExpr:!0}),_else:I("else",k),_finally:I("finally"),_for:I("for",{isLoop:!0}),_function:I("function",v),_if:I("if"),_return:I("return",k),_switch:I("switch"),_throw:I("throw",k),_try:I("try"),_var:I("var"),_const:I("const"),_while:I("while",{isLoop:!0}),_with:I("with"),_new:I("new",{beforeExpr:!0,startsExpr:!0}),_this:I("this",v),_super:I("super",v),_class:I("class",v),_extends:I("extends",k),_export:I("export"),_import:I("import",v),_null:I("null",v),_true:I("true",v),_false:I("false",v),_in:I("in",{beforeExpr:!0,binop:7}),_instanceof:I("instanceof",{beforeExpr:!0,binop:7}),_typeof:I("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:I("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:I("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},$=/\r\n?|\n|\u2028|\u2029/,P=new RegExp($.source,"g");function B(z,Z){return z===10||z===13||!Z&&(z===8232||z===8233)}var U=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,W=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,j=Object.prototype,H=j.hasOwnProperty,Q=j.toString;function X(z,Z){return H.call(z,Z)}var ee=Array.isArray||(function(z){return Q.call(z)==="[object Array]"});function ie(z){return new RegExp("^(?:"+z.replace(/ /g,"|")+")$")}var ne=function(Z,ue){this.line=Z,this.column=ue};ne.prototype.offset=function(Z){return new ne(this.line,this.column+Z)};var ae=function(Z,ue,ye){this.start=ue,this.end=ye,Z.sourceFile!==null&&(this.source=Z.sourceFile)};function re(z,Z){for(var ue=1,ye=0;;){P.lastIndex=ye;var Re=P.exec(z);if(Re&&Re.index<Z)++ue,ye=Re.index+Re[0].length;else return new ne(ue,Z-ye)}}var fe={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function pe(z){var Z={};for(var ue in fe)Z[ue]=z&&X(z,ue)?z[ue]:fe[ue];if(Z.ecmaVersion>=2015&&(Z.ecmaVersion-=2009),Z.allowReserved==null&&(Z.allowReserved=Z.ecmaVersion<5),ee(Z.onToken)){var ye=Z.onToken;Z.onToken=function(Re){return ye.push(Re)}}return ee(Z.onComment)&&(Z.onComment=he(Z,Z.onComment)),Z}function he(z,Z){return function(ue,ye,Re,qe,rt,xt){var Ct={type:ue?"Block":"Line",value:ye,start:Re,end:qe};z.locations&&(Ct.loc=new ae(this,rt,xt)),z.ranges&&(Ct.range=[Re,qe]),Z.push(Ct)}}var $e=1,Le=2,Oe=$e|Le,Ne=4,be=8,Se=16,ge=32,Pe=64,Je=128;function Ve(z,Z){return Le|(z?Ne:0)|(Z?be:0)}var Tt=0,Ot=1,Dt=2,nn=3,fn=4,bn=5,Be=function(Z,ue,ye){this.options=Z=pe(Z),this.sourceFile=Z.sourceFile,this.keywords=ie(d[Z.ecmaVersion>=6?6:Z.sourceType==="module"?"5module":5]);var Re="";if(Z.allowReserved!==!0){for(var qe=Z.ecmaVersion;!(Re=b[qe]);qe--);Z.sourceType==="module"&&(Re+=" await")}this.reservedWords=ie(Re);var rt=(Re?Re+" ":"")+b.strict;this.reservedWordsStrict=ie(rt),this.reservedWordsStrictBind=ie(rt+" "+b.strictBind),this.input=String(ue),this.containsEsc=!1,ye?(this.pos=ye,this.lineStart=this.input.lastIndexOf(`
`,ye-1)+1,this.curLine=this.input.slice(0,this.lineStart).split($).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Z.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&Z.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope($e),this.regexpState=null},He={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Be.prototype.parse=function(){var Z=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Z)},He.inFunction.get=function(){return(this.currentVarScope().flags&Le)>0},He.inGenerator.get=function(){return(this.currentVarScope().flags&be)>0},He.inAsync.get=function(){return(this.currentVarScope().flags&Ne)>0},He.allowSuper.get=function(){return(this.currentThisScope().flags&Pe)>0},He.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Je)>0},He.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Be.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&Le)>0},Be.extend=function(){for(var Z=[],ue=arguments.length;ue--;)Z[ue]=arguments[ue];for(var ye=this,Re=0;Re<Z.length;Re++)ye=Z[Re](ye);return ye},Be.parse=function(Z,ue){return new this(ue,Z).parse()},Be.parseExpressionAt=function(Z,ue,ye){var Re=new this(ye,Z,ue);return Re.nextToken(),Re.parseExpression()},Be.tokenizer=function(Z,ue){return new this(ue,Z)},Object.defineProperties(Be.prototype,He);var Mt=Be.prototype,zt=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;Mt.strictDirective=function(z){for(;;){W.lastIndex=z,z+=W.exec(this.input)[0].length;var Z=zt.exec(this.input.slice(z));if(!Z)return!1;if((Z[1]||Z[2])==="use strict")return!0;z+=Z[0].length,W.lastIndex=z,z+=W.exec(this.input)[0].length,this.input[z]===";"&&z++}},Mt.eat=function(z){return this.type===z?(this.next(),!0):!1},Mt.isContextual=function(z){return this.type===A.name&&this.value===z&&!this.containsEsc},Mt.eatContextual=function(z){return this.isContextual(z)?(this.next(),!0):!1},Mt.expectContextual=function(z){this.eatContextual(z)||this.unexpected()},Mt.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||$.test(this.input.slice(this.lastTokEnd,this.start))},Mt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Mt.semicolon=function(){!this.eat(A.semi)&&!this.insertSemicolon()&&this.unexpected()},Mt.afterTrailingComma=function(z,Z){if(this.type===z)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Z||this.next(),!0},Mt.expect=function(z){this.eat(z)||this.unexpected()},Mt.unexpected=function(z){this.raise(z??this.start,"Unexpected token")};function Ft(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Mt.checkPatternErrors=function(z,Z){if(z){z.trailingComma>-1&&this.raiseRecoverable(z.trailingComma,"Comma is not permitted after the rest element");var ue=Z?z.parenthesizedAssign:z.parenthesizedBind;ue>-1&&this.raiseRecoverable(ue,"Parenthesized pattern")}},Mt.checkExpressionErrors=function(z,Z){if(!z)return!1;var ue=z.shorthandAssign,ye=z.doubleProto;if(!Z)return ue>=0||ye>=0;ue>=0&&this.raise(ue,"Shorthand property assignments are valid only in destructuring patterns"),ye>=0&&this.raiseRecoverable(ye,"Redefinition of __proto__ property")},Mt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Mt.isSimpleAssignTarget=function(z){return z.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(z.expression):z.type==="Identifier"||z.type==="MemberExpression"};var wt=Be.prototype;wt.parseTopLevel=function(z){var Z={};for(z.body||(z.body=[]);this.type!==A.eof;){var ue=this.parseStatement(null,!0,Z);z.body.push(ue)}if(this.inModule)for(var ye=0,Re=Object.keys(this.undefinedExports);ye<Re.length;ye+=1){var qe=Re[ye];this.raiseRecoverable(this.undefinedExports[qe].start,"Export '"+qe+"' is not defined")}return this.adaptDirectivePrologue(z.body),this.next(),z.sourceType=this.options.sourceType,this.finishNode(z,"Program")};var xn={kind:"loop"},we={kind:"switch"};wt.isLet=function(z){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;W.lastIndex=this.pos;var Z=W.exec(this.input),ue=this.pos+Z[0].length,ye=this.input.charCodeAt(ue);if(ye===91)return!0;if(z)return!1;if(ye===123)return!0;if(E(ye,!0)){for(var Re=ue+1;S(this.input.charCodeAt(Re),!0);)++Re;var qe=this.input.slice(ue,Re);if(!h.test(qe))return!0}return!1},wt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;W.lastIndex=this.pos;var z=W.exec(this.input),Z=this.pos+z[0].length;return!$.test(this.input.slice(this.pos,Z))&&this.input.slice(Z,Z+8)==="function"&&(Z+8===this.input.length||!S(this.input.charAt(Z+8)))},wt.parseStatement=function(z,Z,ue){var ye=this.type,Re=this.startNode(),qe;switch(this.isLet(z)&&(ye=A._var,qe="let"),ye){case A._break:case A._continue:return this.parseBreakContinueStatement(Re,ye.keyword);case A._debugger:return this.parseDebuggerStatement(Re);case A._do:return this.parseDoStatement(Re);case A._for:return this.parseForStatement(Re);case A._function:return z&&(this.strict||z!=="if"&&z!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Re,!1,!z);case A._class:return z&&this.unexpected(),this.parseClass(Re,!0);case A._if:return this.parseIfStatement(Re);case A._return:return this.parseReturnStatement(Re);case A._switch:return this.parseSwitchStatement(Re);case A._throw:return this.parseThrowStatement(Re);case A._try:return this.parseTryStatement(Re);case A._const:case A._var:return qe=qe||this.value,z&&qe!=="var"&&this.unexpected(),this.parseVarStatement(Re,qe);case A._while:return this.parseWhileStatement(Re);case A._with:return this.parseWithStatement(Re);case A.braceL:return this.parseBlock(!0,Re);case A.semi:return this.parseEmptyStatement(Re);case A._export:case A._import:if(this.options.ecmaVersion>10&&ye===A._import){W.lastIndex=this.pos;var rt=W.exec(this.input),xt=this.pos+rt[0].length,Ct=this.input.charCodeAt(xt);if(Ct===40)return this.parseExpressionStatement(Re,this.parseExpression())}return this.options.allowImportExportEverywhere||(Z||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),ye===A._import?this.parseImport(Re):this.parseExport(Re,ue);default:if(this.isAsyncFunction())return z&&this.unexpected(),this.next(),this.parseFunctionStatement(Re,!0,!z);var qt=this.value,dn=this.parseExpression();return ye===A.name&&dn.type==="Identifier"&&this.eat(A.colon)?this.parseLabeledStatement(Re,qt,dn,z):this.parseExpressionStatement(Re,dn)}},wt.parseBreakContinueStatement=function(z,Z){var ue=Z==="break";this.next(),this.eat(A.semi)||this.insertSemicolon()?z.label=null:this.type!==A.name?this.unexpected():(z.label=this.parseIdent(),this.semicolon());for(var ye=0;ye<this.labels.length;++ye){var Re=this.labels[ye];if((z.label==null||Re.name===z.label.name)&&(Re.kind!=null&&(ue||Re.kind==="loop")||z.label&&ue))break}return ye===this.labels.length&&this.raise(z.start,"Unsyntactic "+Z),this.finishNode(z,ue?"BreakStatement":"ContinueStatement")},wt.parseDebuggerStatement=function(z){return this.next(),this.semicolon(),this.finishNode(z,"DebuggerStatement")},wt.parseDoStatement=function(z){return this.next(),this.labels.push(xn),z.body=this.parseStatement("do"),this.labels.pop(),this.expect(A._while),z.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(z,"DoWhileStatement")},wt.parseForStatement=function(z){this.next();var Z=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(xn),this.enterScope(0),this.expect(A.parenL),this.type===A.semi)return Z>-1&&this.unexpected(Z),this.parseFor(z,null);var ue=this.isLet();if(this.type===A._var||this.type===A._const||ue){var ye=this.startNode(),Re=ue?"let":this.value;return this.next(),this.parseVar(ye,!0,Re),this.finishNode(ye,"VariableDeclaration"),(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&ye.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===A._in?Z>-1&&this.unexpected(Z):z.await=Z>-1),this.parseForIn(z,ye)):(Z>-1&&this.unexpected(Z),this.parseFor(z,ye))}var qe=new Ft,rt=this.parseExpression(!0,qe);return this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===A._in?Z>-1&&this.unexpected(Z):z.await=Z>-1),this.toAssignable(rt,!1,qe),this.checkLVal(rt),this.parseForIn(z,rt)):(this.checkExpressionErrors(qe,!0),Z>-1&&this.unexpected(Z),this.parseFor(z,rt))},wt.parseFunctionStatement=function(z,Z,ue){return this.next(),this.parseFunction(z,Ae|(ue?0:mt),!1,Z)},wt.parseIfStatement=function(z){return this.next(),z.test=this.parseParenExpression(),z.consequent=this.parseStatement("if"),z.alternate=this.eat(A._else)?this.parseStatement("if"):null,this.finishNode(z,"IfStatement")},wt.parseReturnStatement=function(z){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?z.argument=null:(z.argument=this.parseExpression(),this.semicolon()),this.finishNode(z,"ReturnStatement")},wt.parseSwitchStatement=function(z){this.next(),z.discriminant=this.parseParenExpression(),z.cases=[],this.expect(A.braceL),this.labels.push(we),this.enterScope(0);for(var Z,ue=!1;this.type!==A.braceR;)if(this.type===A._case||this.type===A._default){var ye=this.type===A._case;Z&&this.finishNode(Z,"SwitchCase"),z.cases.push(Z=this.startNode()),Z.consequent=[],this.next(),ye?Z.test=this.parseExpression():(ue&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),ue=!0,Z.test=null),this.expect(A.colon)}else Z||this.unexpected(),Z.consequent.push(this.parseStatement(null));return this.exitScope(),Z&&this.finishNode(Z,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(z,"SwitchStatement")},wt.parseThrowStatement=function(z){return this.next(),$.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),z.argument=this.parseExpression(),this.semicolon(),this.finishNode(z,"ThrowStatement")};var Ee=[];wt.parseTryStatement=function(z){if(this.next(),z.block=this.parseBlock(),z.handler=null,this.type===A._catch){var Z=this.startNode();if(this.next(),this.eat(A.parenL)){Z.param=this.parseBindingAtom();var ue=Z.param.type==="Identifier";this.enterScope(ue?ge:0),this.checkLVal(Z.param,ue?fn:Dt),this.expect(A.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),Z.param=null,this.enterScope(0);Z.body=this.parseBlock(!1),this.exitScope(),z.handler=this.finishNode(Z,"CatchClause")}return z.finalizer=this.eat(A._finally)?this.parseBlock():null,!z.handler&&!z.finalizer&&this.raise(z.start,"Missing catch or finally clause"),this.finishNode(z,"TryStatement")},wt.parseVarStatement=function(z,Z){return this.next(),this.parseVar(z,!1,Z),this.semicolon(),this.finishNode(z,"VariableDeclaration")},wt.parseWhileStatement=function(z){return this.next(),z.test=this.parseParenExpression(),this.labels.push(xn),z.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(z,"WhileStatement")},wt.parseWithStatement=function(z){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),z.object=this.parseParenExpression(),z.body=this.parseStatement("with"),this.finishNode(z,"WithStatement")},wt.parseEmptyStatement=function(z){return this.next(),this.finishNode(z,"EmptyStatement")},wt.parseLabeledStatement=function(z,Z,ue,ye){for(var Re=0,qe=this.labels;Re<qe.length;Re+=1){var rt=qe[Re];rt.name===Z&&this.raise(ue.start,"Label '"+Z+"' is already declared")}for(var xt=this.type.isLoop?"loop":this.type===A._switch?"switch":null,Ct=this.labels.length-1;Ct>=0;Ct--){var qt=this.labels[Ct];if(qt.statementStart===z.start)qt.statementStart=this.start,qt.kind=xt;else break}return this.labels.push({name:Z,kind:xt,statementStart:this.start}),z.body=this.parseStatement(ye?ye.indexOf("label")===-1?ye+"label":ye:"label"),this.labels.pop(),z.label=ue,this.finishNode(z,"LabeledStatement")},wt.parseExpressionStatement=function(z,Z){return z.expression=Z,this.semicolon(),this.finishNode(z,"ExpressionStatement")},wt.parseBlock=function(z,Z){for(z===void 0&&(z=!0),Z===void 0&&(Z=this.startNode()),Z.body=[],this.expect(A.braceL),z&&this.enterScope(0);!this.eat(A.braceR);){var ue=this.parseStatement(null);Z.body.push(ue)}return z&&this.exitScope(),this.finishNode(Z,"BlockStatement")},wt.parseFor=function(z,Z){return z.init=Z,this.expect(A.semi),z.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),z.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),z.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(z,"ForStatement")},wt.parseForIn=function(z,Z){var ue=this.type===A._in;return this.next(),Z.type==="VariableDeclaration"&&Z.declarations[0].init!=null&&(!ue||this.options.ecmaVersion<8||this.strict||Z.kind!=="var"||Z.declarations[0].id.type!=="Identifier")?this.raise(Z.start,(ue?"for-in":"for-of")+" loop variable declaration may not have an initializer"):Z.type==="AssignmentPattern"&&this.raise(Z.start,"Invalid left-hand side in for-loop"),z.left=Z,z.right=ue?this.parseExpression():this.parseMaybeAssign(),this.expect(A.parenR),z.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(z,ue?"ForInStatement":"ForOfStatement")},wt.parseVar=function(z,Z,ue){for(z.declarations=[],z.kind=ue;;){var ye=this.startNode();if(this.parseVarId(ye,ue),this.eat(A.eq)?ye.init=this.parseMaybeAssign(Z):ue==="const"&&!(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():ye.id.type!=="Identifier"&&!(Z&&(this.type===A._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):ye.init=null,z.declarations.push(this.finishNode(ye,"VariableDeclarator")),!this.eat(A.comma))break}return z},wt.parseVarId=function(z,Z){z.id=this.parseBindingAtom(),this.checkLVal(z.id,Z==="var"?Ot:Dt,!1)};var Ae=1,mt=2,_t=4;wt.parseFunction=function(z,Z,ue,ye){this.initFunction(z),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!ye)&&(this.type===A.star&&Z&mt&&this.unexpected(),z.generator=this.eat(A.star)),this.options.ecmaVersion>=8&&(z.async=!!ye),Z&Ae&&(z.id=Z&_t&&this.type!==A.name?null:this.parseIdent(),z.id&&!(Z&mt)&&this.checkLVal(z.id,this.strict||z.generator||z.async?this.treatFunctionsAsVar?Ot:Dt:nn));var Re=this.yieldPos,qe=this.awaitPos,rt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ve(z.async,z.generator)),Z&Ae||(z.id=this.type===A.name?this.parseIdent():null),this.parseFunctionParams(z),this.parseFunctionBody(z,ue,!1),this.yieldPos=Re,this.awaitPos=qe,this.awaitIdentPos=rt,this.finishNode(z,Z&Ae?"FunctionDeclaration":"FunctionExpression")},wt.parseFunctionParams=function(z){this.expect(A.parenL),z.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},wt.parseClass=function(z,Z){this.next();var ue=this.strict;this.strict=!0,this.parseClassId(z,Z),this.parseClassSuper(z);var ye=this.startNode(),Re=!1;for(ye.body=[],this.expect(A.braceL);!this.eat(A.braceR);){var qe=this.parseClassElement(z.superClass!==null);qe&&(ye.body.push(qe),qe.type==="MethodDefinition"&&qe.kind==="constructor"&&(Re&&this.raise(qe.start,"Duplicate constructor in the same class"),Re=!0))}return z.body=this.finishNode(ye,"ClassBody"),this.strict=ue,this.finishNode(z,Z?"ClassDeclaration":"ClassExpression")},wt.parseClassElement=function(z){var Z=this;if(this.eat(A.semi))return null;var ue=this.startNode(),ye=function(Ct,qt){qt===void 0&&(qt=!1);var dn=Z.start,rr=Z.startLoc;return Z.eatContextual(Ct)?Z.type!==A.parenL&&(!qt||!Z.canInsertSemicolon())?!0:(ue.key&&Z.unexpected(),ue.computed=!1,ue.key=Z.startNodeAt(dn,rr),ue.key.name=Ct,Z.finishNode(ue.key,"Identifier"),!1):!1};ue.kind="method",ue.static=ye("static");var Re=this.eat(A.star),qe=!1;Re||(this.options.ecmaVersion>=8&&ye("async",!0)?(qe=!0,Re=this.options.ecmaVersion>=9&&this.eat(A.star)):ye("get")?ue.kind="get":ye("set")&&(ue.kind="set")),ue.key||this.parsePropertyName(ue);var rt=ue.key,xt=!1;return!ue.computed&&!ue.static&&(rt.type==="Identifier"&&rt.name==="constructor"||rt.type==="Literal"&&rt.value==="constructor")?(ue.kind!=="method"&&this.raise(rt.start,"Constructor can't have get/set modifier"),Re&&this.raise(rt.start,"Constructor can't be a generator"),qe&&this.raise(rt.start,"Constructor can't be an async method"),ue.kind="constructor",xt=z):ue.static&&rt.type==="Identifier"&&rt.name==="prototype"&&this.raise(rt.start,"Classes may not have a static property named prototype"),this.parseClassMethod(ue,Re,qe,xt),ue.kind==="get"&&ue.value.params.length!==0&&this.raiseRecoverable(ue.value.start,"getter should have no params"),ue.kind==="set"&&ue.value.params.length!==1&&this.raiseRecoverable(ue.value.start,"setter should have exactly one param"),ue.kind==="set"&&ue.value.params[0].type==="RestElement"&&this.raiseRecoverable(ue.value.params[0].start,"Setter cannot use rest params"),ue},wt.parseClassMethod=function(z,Z,ue,ye){return z.value=this.parseMethod(Z,ue,ye),this.finishNode(z,"MethodDefinition")},wt.parseClassId=function(z,Z){this.type===A.name?(z.id=this.parseIdent(),Z&&this.checkLVal(z.id,Dt,!1)):(Z===!0&&this.unexpected(),z.id=null)},wt.parseClassSuper=function(z){z.superClass=this.eat(A._extends)?this.parseExprSubscripts():null},wt.parseExport=function(z,Z){if(this.next(),this.eat(A.star))return this.expectContextual("from"),this.type!==A.string&&this.unexpected(),z.source=this.parseExprAtom(),this.semicolon(),this.finishNode(z,"ExportAllDeclaration");if(this.eat(A._default)){this.checkExport(Z,"default",this.lastTokStart);var ue;if(this.type===A._function||(ue=this.isAsyncFunction())){var ye=this.startNode();this.next(),ue&&this.next(),z.declaration=this.parseFunction(ye,Ae|_t,!1,ue)}else if(this.type===A._class){var Re=this.startNode();z.declaration=this.parseClass(Re,"nullableID")}else z.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(z,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())z.declaration=this.parseStatement(null),z.declaration.type==="VariableDeclaration"?this.checkVariableExport(Z,z.declaration.declarations):this.checkExport(Z,z.declaration.id.name,z.declaration.id.start),z.specifiers=[],z.source=null;else{if(z.declaration=null,z.specifiers=this.parseExportSpecifiers(Z),this.eatContextual("from"))this.type!==A.string&&this.unexpected(),z.source=this.parseExprAtom();else{for(var qe=0,rt=z.specifiers;qe<rt.length;qe+=1){var xt=rt[qe];this.checkUnreserved(xt.local),this.checkLocalExport(xt.local)}z.source=null}this.semicolon()}return this.finishNode(z,"ExportNamedDeclaration")},wt.checkExport=function(z,Z,ue){z&&(X(z,Z)&&this.raiseRecoverable(ue,"Duplicate export '"+Z+"'"),z[Z]=!0)},wt.checkPatternExport=function(z,Z){var ue=Z.type;if(ue==="Identifier")this.checkExport(z,Z.name,Z.start);else if(ue==="ObjectPattern")for(var ye=0,Re=Z.properties;ye<Re.length;ye+=1){var qe=Re[ye];this.checkPatternExport(z,qe)}else if(ue==="ArrayPattern")for(var rt=0,xt=Z.elements;rt<xt.length;rt+=1){var Ct=xt[rt];Ct&&this.checkPatternExport(z,Ct)}else ue==="Property"?this.checkPatternExport(z,Z.value):ue==="AssignmentPattern"?this.checkPatternExport(z,Z.left):ue==="RestElement"?this.checkPatternExport(z,Z.argument):ue==="ParenthesizedExpression"&&this.checkPatternExport(z,Z.expression)},wt.checkVariableExport=function(z,Z){if(z)for(var ue=0,ye=Z;ue<ye.length;ue+=1){var Re=ye[ue];this.checkPatternExport(z,Re.id)}},wt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},wt.parseExportSpecifiers=function(z){var Z=[],ue=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(ue)ue=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;var ye=this.startNode();ye.local=this.parseIdent(!0),ye.exported=this.eatContextual("as")?this.parseIdent(!0):ye.local,this.checkExport(z,ye.exported.name,ye.exported.start),Z.push(this.finishNode(ye,"ExportSpecifier"))}return Z},wt.parseImport=function(z){return this.next(),this.type===A.string?(z.specifiers=Ee,z.source=this.parseExprAtom()):(z.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),z.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(z,"ImportDeclaration")},wt.parseImportSpecifiers=function(){var z=[],Z=!0;if(this.type===A.name){var ue=this.startNode();if(ue.local=this.parseIdent(),this.checkLVal(ue.local,Dt),z.push(this.finishNode(ue,"ImportDefaultSpecifier")),!this.eat(A.comma))return z}if(this.type===A.star){var ye=this.startNode();return this.next(),this.expectContextual("as"),ye.local=this.parseIdent(),this.checkLVal(ye.local,Dt),z.push(this.finishNode(ye,"ImportNamespaceSpecifier")),z}for(this.expect(A.braceL);!this.eat(A.braceR);){if(Z)Z=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;var Re=this.startNode();Re.imported=this.parseIdent(!0),this.eatContextual("as")?Re.local=this.parseIdent():(this.checkUnreserved(Re.imported),Re.local=Re.imported),this.checkLVal(Re.local,Dt),z.push(this.finishNode(Re,"ImportSpecifier"))}return z},wt.adaptDirectivePrologue=function(z){for(var Z=0;Z<z.length&&this.isDirectiveCandidate(z[Z]);++Z)z[Z].directive=z[Z].expression.raw.slice(1,-1)},wt.isDirectiveCandidate=function(z){return z.type==="ExpressionStatement"&&z.expression.type==="Literal"&&typeof z.expression.value=="string"&&(this.input[z.start]==='"'||this.input[z.start]==="'")};var st=Be.prototype;st.toAssignable=function(z,Z,ue){if(this.options.ecmaVersion>=6&&z)switch(z.type){case"Identifier":this.inAsync&&z.name==="await"&&this.raise(z.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":z.type="ObjectPattern",ue&&this.checkPatternErrors(ue,!0);for(var ye=0,Re=z.properties;ye<Re.length;ye+=1){var qe=Re[ye];this.toAssignable(qe,Z),qe.type==="RestElement"&&(qe.argument.type==="ArrayPattern"||qe.argument.type==="ObjectPattern")&&this.raise(qe.argument.start,"Unexpected token")}break;case"Property":z.kind!=="init"&&this.raise(z.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(z.value,Z);break;case"ArrayExpression":z.type="ArrayPattern",ue&&this.checkPatternErrors(ue,!0),this.toAssignableList(z.elements,Z);break;case"SpreadElement":z.type="RestElement",this.toAssignable(z.argument,Z),z.argument.type==="AssignmentPattern"&&this.raise(z.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":z.operator!=="="&&this.raise(z.left.end,"Only '=' operator can be used for specifying default value."),z.type="AssignmentPattern",delete z.operator,this.toAssignable(z.left,Z);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(z.expression,Z,ue);break;case"MemberExpression":if(!Z)break;default:this.raise(z.start,"Assigning to rvalue")}else ue&&this.checkPatternErrors(ue,!0);return z},st.toAssignableList=function(z,Z){for(var ue=z.length,ye=0;ye<ue;ye++){var Re=z[ye];Re&&this.toAssignable(Re,Z)}if(ue){var qe=z[ue-1];this.options.ecmaVersion===6&&Z&&qe&&qe.type==="RestElement"&&qe.argument.type!=="Identifier"&&this.unexpected(qe.argument.start)}return z},st.parseSpread=function(z){var Z=this.startNode();return this.next(),Z.argument=this.parseMaybeAssign(!1,z),this.finishNode(Z,"SpreadElement")},st.parseRestBinding=function(){var z=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==A.name&&this.unexpected(),z.argument=this.parseBindingAtom(),this.finishNode(z,"RestElement")},st.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case A.bracketL:var z=this.startNode();return this.next(),z.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(z,"ArrayPattern");case A.braceL:return this.parseObj(!0)}return this.parseIdent()},st.parseBindingList=function(z,Z,ue){for(var ye=[],Re=!0;!this.eat(z);)if(Re?Re=!1:this.expect(A.comma),Z&&this.type===A.comma)ye.push(null);else{if(ue&&this.afterTrailingComma(z))break;if(this.type===A.ellipsis){var qe=this.parseRestBinding();this.parseBindingListItem(qe),ye.push(qe),this.type===A.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(z);break}else{var rt=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(rt),ye.push(rt)}}return ye},st.parseBindingListItem=function(z){return z},st.parseMaybeDefault=function(z,Z,ue){if(ue=ue||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return ue;var ye=this.startNodeAt(z,Z);return ye.left=ue,ye.right=this.parseMaybeAssign(),this.finishNode(ye,"AssignmentPattern")},st.checkLVal=function(z,Z,ue){switch(Z===void 0&&(Z=Tt),z.type){case"Identifier":Z===Dt&&z.name==="let"&&this.raiseRecoverable(z.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(z.name)&&this.raiseRecoverable(z.start,(Z?"Binding ":"Assigning to ")+z.name+" in strict mode"),ue&&(X(ue,z.name)&&this.raiseRecoverable(z.start,"Argument name clash"),ue[z.name]=!0),Z!==Tt&&Z!==bn&&this.declareName(z.name,Z,z.start);break;case"MemberExpression":Z&&this.raiseRecoverable(z.start,"Binding member expression");break;case"ObjectPattern":for(var ye=0,Re=z.properties;ye<Re.length;ye+=1){var qe=Re[ye];this.checkLVal(qe,Z,ue)}break;case"Property":this.checkLVal(z.value,Z,ue);break;case"ArrayPattern":for(var rt=0,xt=z.elements;rt<xt.length;rt+=1){var Ct=xt[rt];Ct&&this.checkLVal(Ct,Z,ue)}break;case"AssignmentPattern":this.checkLVal(z.left,Z,ue);break;case"RestElement":this.checkLVal(z.argument,Z,ue);break;case"ParenthesizedExpression":this.checkLVal(z.expression,Z,ue);break;default:this.raise(z.start,(Z?"Binding":"Assigning to")+" rvalue")}};var Ce=Be.prototype;Ce.checkPropClash=function(z,Z,ue){if(!(this.options.ecmaVersion>=9&&z.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(z.computed||z.method||z.shorthand))){var ye=z.key,Re;switch(ye.type){case"Identifier":Re=ye.name;break;case"Literal":Re=String(ye.value);break;default:return}var qe=z.kind;if(this.options.ecmaVersion>=6){Re==="__proto__"&&qe==="init"&&(Z.proto&&(ue?ue.doubleProto<0&&(ue.doubleProto=ye.start):this.raiseRecoverable(ye.start,"Redefinition of __proto__ property")),Z.proto=!0);return}Re="$"+Re;var rt=Z[Re];if(rt){var xt;qe==="init"?xt=this.strict&&rt.init||rt.get||rt.set:xt=rt.init||rt[qe],xt&&this.raiseRecoverable(ye.start,"Redefinition of property")}else rt=Z[Re]={init:!1,get:!1,set:!1};rt[qe]=!0}},Ce.parseExpression=function(z,Z){var ue=this.start,ye=this.startLoc,Re=this.parseMaybeAssign(z,Z);if(this.type===A.comma){var qe=this.startNodeAt(ue,ye);for(qe.expressions=[Re];this.eat(A.comma);)qe.expressions.push(this.parseMaybeAssign(z,Z));return this.finishNode(qe,"SequenceExpression")}return Re},Ce.parseMaybeAssign=function(z,Z,ue){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(z);this.exprAllowed=!1}var ye=!1,Re=-1,qe=-1;Z?(Re=Z.parenthesizedAssign,qe=Z.trailingComma,Z.parenthesizedAssign=Z.trailingComma=-1):(Z=new Ft,ye=!0);var rt=this.start,xt=this.startLoc;(this.type===A.parenL||this.type===A.name)&&(this.potentialArrowAt=this.start);var Ct=this.parseMaybeConditional(z,Z);if(ue&&(Ct=ue.call(this,Ct,rt,xt)),this.type.isAssign){var qt=this.startNodeAt(rt,xt);return qt.operator=this.value,qt.left=this.type===A.eq?this.toAssignable(Ct,!1,Z):Ct,ye||(Z.parenthesizedAssign=Z.trailingComma=Z.doubleProto=-1),Z.shorthandAssign>=qt.left.start&&(Z.shorthandAssign=-1),this.checkLVal(Ct),this.next(),qt.right=this.parseMaybeAssign(z),this.finishNode(qt,"AssignmentExpression")}else ye&&this.checkExpressionErrors(Z,!0);return Re>-1&&(Z.parenthesizedAssign=Re),qe>-1&&(Z.trailingComma=qe),Ct},Ce.parseMaybeConditional=function(z,Z){var ue=this.start,ye=this.startLoc,Re=this.parseExprOps(z,Z);if(this.checkExpressionErrors(Z))return Re;if(this.eat(A.question)){var qe=this.startNodeAt(ue,ye);return qe.test=Re,qe.consequent=this.parseMaybeAssign(),this.expect(A.colon),qe.alternate=this.parseMaybeAssign(z),this.finishNode(qe,"ConditionalExpression")}return Re},Ce.parseExprOps=function(z,Z){var ue=this.start,ye=this.startLoc,Re=this.parseMaybeUnary(Z,!1);return this.checkExpressionErrors(Z)||Re.start===ue&&Re.type==="ArrowFunctionExpression"?Re:this.parseExprOp(Re,ue,ye,-1,z)},Ce.parseExprOp=function(z,Z,ue,ye,Re){var qe=this.type.binop;if(qe!=null&&(!Re||this.type!==A._in)&&qe>ye){var rt=this.type===A.logicalOR||this.type===A.logicalAND,xt=this.value;this.next();var Ct=this.start,qt=this.startLoc,dn=this.parseExprOp(this.parseMaybeUnary(null,!1),Ct,qt,qe,Re),rr=this.buildBinary(Z,ue,z,dn,xt,rt);return this.parseExprOp(rr,Z,ue,ye,Re)}return z},Ce.buildBinary=function(z,Z,ue,ye,Re,qe){var rt=this.startNodeAt(z,Z);return rt.left=ue,rt.operator=Re,rt.right=ye,this.finishNode(rt,qe?"LogicalExpression":"BinaryExpression")},Ce.parseMaybeUnary=function(z,Z){var ue=this.start,ye=this.startLoc,Re;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))Re=this.parseAwait(),Z=!0;else if(this.type.prefix){var qe=this.startNode(),rt=this.type===A.incDec;qe.operator=this.value,qe.prefix=!0,this.next(),qe.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(z,!0),rt?this.checkLVal(qe.argument):this.strict&&qe.operator==="delete"&&qe.argument.type==="Identifier"?this.raiseRecoverable(qe.start,"Deleting local variable in strict mode"):Z=!0,Re=this.finishNode(qe,rt?"UpdateExpression":"UnaryExpression")}else{if(Re=this.parseExprSubscripts(z),this.checkExpressionErrors(z))return Re;for(;this.type.postfix&&!this.canInsertSemicolon();){var xt=this.startNodeAt(ue,ye);xt.operator=this.value,xt.prefix=!1,xt.argument=Re,this.checkLVal(Re),this.next(),Re=this.finishNode(xt,"UpdateExpression")}}return!Z&&this.eat(A.starstar)?this.buildBinary(ue,ye,Re,this.parseMaybeUnary(null,!1),"**",!1):Re},Ce.parseExprSubscripts=function(z){var Z=this.start,ue=this.startLoc,ye=this.parseExprAtom(z);if(ye.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return ye;var Re=this.parseSubscripts(ye,Z,ue);return z&&Re.type==="MemberExpression"&&(z.parenthesizedAssign>=Re.start&&(z.parenthesizedAssign=-1),z.parenthesizedBind>=Re.start&&(z.parenthesizedBind=-1)),Re},Ce.parseSubscripts=function(z,Z,ue,ye){for(var Re=this.options.ecmaVersion>=8&&z.type==="Identifier"&&z.name==="async"&&this.lastTokEnd===z.end&&!this.canInsertSemicolon()&&this.input.slice(z.start,z.end)==="async";;){var qe=this.parseSubscript(z,Z,ue,ye,Re);if(qe===z||qe.type==="ArrowFunctionExpression")return qe;z=qe}},Ce.parseSubscript=function(z,Z,ue,ye,Re){var qe=this.eat(A.bracketL);if(qe||this.eat(A.dot)){var rt=this.startNodeAt(Z,ue);rt.object=z,rt.property=qe?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),rt.computed=!!qe,qe&&this.expect(A.bracketR),z=this.finishNode(rt,"MemberExpression")}else if(!ye&&this.eat(A.parenL)){var xt=new Ft,Ct=this.yieldPos,qt=this.awaitPos,dn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var rr=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1,xt);if(Re&&!this.canInsertSemicolon()&&this.eat(A.arrow))return this.checkPatternErrors(xt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Ct,this.awaitPos=qt,this.awaitIdentPos=dn,this.parseArrowExpression(this.startNodeAt(Z,ue),rr,!0);this.checkExpressionErrors(xt,!0),this.yieldPos=Ct||this.yieldPos,this.awaitPos=qt||this.awaitPos,this.awaitIdentPos=dn||this.awaitIdentPos;var br=this.startNodeAt(Z,ue);br.callee=z,br.arguments=rr,z=this.finishNode(br,"CallExpression")}else if(this.type===A.backQuote){var Or=this.startNodeAt(Z,ue);Or.tag=z,Or.quasi=this.parseTemplate({isTagged:!0}),z=this.finishNode(Or,"TaggedTemplateExpression")}return z},Ce.parseExprAtom=function(z){this.type===A.slash&&this.readRegexp();var Z,ue=this.potentialArrowAt===this.start;switch(this.type){case A._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Z=this.startNode(),this.next(),this.type===A.parenL&&!this.allowDirectSuper&&this.raise(Z.start,"super() call outside constructor of a subclass"),this.type!==A.dot&&this.type!==A.bracketL&&this.type!==A.parenL&&this.unexpected(),this.finishNode(Z,"Super");case A._this:return Z=this.startNode(),this.next(),this.finishNode(Z,"ThisExpression");case A.name:var ye=this.start,Re=this.startLoc,qe=this.containsEsc,rt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!qe&&rt.name==="async"&&!this.canInsertSemicolon()&&this.eat(A._function))return this.parseFunction(this.startNodeAt(ye,Re),0,!1,!0);if(ue&&!this.canInsertSemicolon()){if(this.eat(A.arrow))return this.parseArrowExpression(this.startNodeAt(ye,Re),[rt],!1);if(this.options.ecmaVersion>=8&&rt.name==="async"&&this.type===A.name&&!qe)return rt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(A.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ye,Re),[rt],!0)}return rt;case A.regexp:var xt=this.value;return Z=this.parseLiteral(xt.value),Z.regex={pattern:xt.pattern,flags:xt.flags},Z;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return Z=this.startNode(),Z.value=this.type===A._null?null:this.type===A._true,Z.raw=this.type.keyword,this.next(),this.finishNode(Z,"Literal");case A.parenL:var Ct=this.start,qt=this.parseParenAndDistinguishExpression(ue);return z&&(z.parenthesizedAssign<0&&!this.isSimpleAssignTarget(qt)&&(z.parenthesizedAssign=Ct),z.parenthesizedBind<0&&(z.parenthesizedBind=Ct)),qt;case A.bracketL:return Z=this.startNode(),this.next(),Z.elements=this.parseExprList(A.bracketR,!0,!0,z),this.finishNode(Z,"ArrayExpression");case A.braceL:return this.parseObj(!1,z);case A._function:return Z=this.startNode(),this.next(),this.parseFunction(Z,0);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();case A._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Ce.parseExprImport=function(){var z=this.startNode();switch(this.next(),this.type){case A.parenL:return this.parseDynamicImport(z);default:this.unexpected()}},Ce.parseDynamicImport=function(z){if(this.next(),z.source=this.parseMaybeAssign(),!this.eat(A.parenR)){var Z=this.start;this.eat(A.comma)&&this.eat(A.parenR)?this.raiseRecoverable(Z,"Trailing comma is not allowed in import()"):this.unexpected(Z)}return this.finishNode(z,"ImportExpression")},Ce.parseLiteral=function(z){var Z=this.startNode();return Z.value=z,Z.raw=this.input.slice(this.start,this.end),Z.raw.charCodeAt(Z.raw.length-1)===110&&(Z.bigint=Z.raw.slice(0,-1)),this.next(),this.finishNode(Z,"Literal")},Ce.parseParenExpression=function(){this.expect(A.parenL);var z=this.parseExpression();return this.expect(A.parenR),z},Ce.parseParenAndDistinguishExpression=function(z){var Z=this.start,ue=this.startLoc,ye,Re=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var qe=this.start,rt=this.startLoc,xt=[],Ct=!0,qt=!1,dn=new Ft,rr=this.yieldPos,br=this.awaitPos,Or;for(this.yieldPos=0,this.awaitPos=0;this.type!==A.parenR;)if(Ct?Ct=!1:this.expect(A.comma),Re&&this.afterTrailingComma(A.parenR,!0)){qt=!0;break}else if(this.type===A.ellipsis){Or=this.start,xt.push(this.parseParenItem(this.parseRestBinding())),this.type===A.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else xt.push(this.parseMaybeAssign(!1,dn,this.parseParenItem));var Yr=this.start,jr=this.startLoc;if(this.expect(A.parenR),z&&!this.canInsertSemicolon()&&this.eat(A.arrow))return this.checkPatternErrors(dn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=rr,this.awaitPos=br,this.parseParenArrowList(Z,ue,xt);(!xt.length||qt)&&this.unexpected(this.lastTokStart),Or&&this.unexpected(Or),this.checkExpressionErrors(dn,!0),this.yieldPos=rr||this.yieldPos,this.awaitPos=br||this.awaitPos,xt.length>1?(ye=this.startNodeAt(qe,rt),ye.expressions=xt,this.finishNodeAt(ye,"SequenceExpression",Yr,jr)):ye=xt[0]}else ye=this.parseParenExpression();if(this.options.preserveParens){var ir=this.startNodeAt(Z,ue);return ir.expression=ye,this.finishNode(ir,"ParenthesizedExpression")}else return ye},Ce.parseParenItem=function(z){return z},Ce.parseParenArrowList=function(z,Z,ue){return this.parseArrowExpression(this.startNodeAt(z,Z),ue)};var Ke=[];Ce.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var z=this.startNode(),Z=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(A.dot)){z.meta=Z;var ue=this.containsEsc;return z.property=this.parseIdent(!0),(z.property.name!=="target"||ue)&&this.raiseRecoverable(z.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(z.start,"new.target can only be used in functions"),this.finishNode(z,"MetaProperty")}var ye=this.start,Re=this.startLoc,qe=this.type===A._import;return z.callee=this.parseSubscripts(this.parseExprAtom(),ye,Re,!0),qe&&z.callee.type==="ImportExpression"&&this.raise(ye,"Cannot use new with import()"),this.eat(A.parenL)?z.arguments=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1):z.arguments=Ke,this.finishNode(z,"NewExpression")},Ce.parseTemplateElement=function(z){var Z=z.isTagged,ue=this.startNode();return this.type===A.invalidTemplate?(Z||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),ue.value={raw:this.value,cooked:null}):ue.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),ue.tail=this.type===A.backQuote,this.finishNode(ue,"TemplateElement")},Ce.parseTemplate=function(z){z===void 0&&(z={});var Z=z.isTagged;Z===void 0&&(Z=!1);var ue=this.startNode();this.next(),ue.expressions=[];var ye=this.parseTemplateElement({isTagged:Z});for(ue.quasis=[ye];!ye.tail;)this.type===A.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(A.dollarBraceL),ue.expressions.push(this.parseExpression()),this.expect(A.braceR),ue.quasis.push(ye=this.parseTemplateElement({isTagged:Z}));return this.next(),this.finishNode(ue,"TemplateLiteral")},Ce.isAsyncProp=function(z){return!z.computed&&z.key.type==="Identifier"&&z.key.name==="async"&&(this.type===A.name||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===A.star)&&!$.test(this.input.slice(this.lastTokEnd,this.start))},Ce.parseObj=function(z,Z){var ue=this.startNode(),ye=!0,Re={};for(ue.properties=[],this.next();!this.eat(A.braceR);){if(ye)ye=!1;else if(this.expect(A.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(A.braceR))break;var qe=this.parseProperty(z,Z);z||this.checkPropClash(qe,Re,Z),ue.properties.push(qe)}return this.finishNode(ue,z?"ObjectPattern":"ObjectExpression")},Ce.parseProperty=function(z,Z){var ue=this.startNode(),ye,Re,qe,rt;if(this.options.ecmaVersion>=9&&this.eat(A.ellipsis))return z?(ue.argument=this.parseIdent(!1),this.type===A.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(ue,"RestElement")):(this.type===A.parenL&&Z&&(Z.parenthesizedAssign<0&&(Z.parenthesizedAssign=this.start),Z.parenthesizedBind<0&&(Z.parenthesizedBind=this.start)),ue.argument=this.parseMaybeAssign(!1,Z),this.type===A.comma&&Z&&Z.trailingComma<0&&(Z.trailingComma=this.start),this.finishNode(ue,"SpreadElement"));this.options.ecmaVersion>=6&&(ue.method=!1,ue.shorthand=!1,(z||Z)&&(qe=this.start,rt=this.startLoc),z||(ye=this.eat(A.star)));var xt=this.containsEsc;return this.parsePropertyName(ue),!z&&!xt&&this.options.ecmaVersion>=8&&!ye&&this.isAsyncProp(ue)?(Re=!0,ye=this.options.ecmaVersion>=9&&this.eat(A.star),this.parsePropertyName(ue,Z)):Re=!1,this.parsePropertyValue(ue,z,ye,Re,qe,rt,Z,xt),this.finishNode(ue,"Property")},Ce.parsePropertyValue=function(z,Z,ue,ye,Re,qe,rt,xt){if((ue||ye)&&this.type===A.colon&&this.unexpected(),this.eat(A.colon))z.value=Z?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,rt),z.kind="init";else if(this.options.ecmaVersion>=6&&this.type===A.parenL)Z&&this.unexpected(),z.kind="init",z.method=!0,z.value=this.parseMethod(ue,ye);else if(!Z&&!xt&&this.options.ecmaVersion>=5&&!z.computed&&z.key.type==="Identifier"&&(z.key.name==="get"||z.key.name==="set")&&this.type!==A.comma&&this.type!==A.braceR){(ue||ye)&&this.unexpected(),z.kind=z.key.name,this.parsePropertyName(z),z.value=this.parseMethod(!1);var Ct=z.kind==="get"?0:1;if(z.value.params.length!==Ct){var qt=z.value.start;z.kind==="get"?this.raiseRecoverable(qt,"getter should have no params"):this.raiseRecoverable(qt,"setter should have exactly one param")}else z.kind==="set"&&z.value.params[0].type==="RestElement"&&this.raiseRecoverable(z.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!z.computed&&z.key.type==="Identifier"?((ue||ye)&&this.unexpected(),this.checkUnreserved(z.key),z.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Re),z.kind="init",Z?z.value=this.parseMaybeDefault(Re,qe,z.key):this.type===A.eq&&rt?(rt.shorthandAssign<0&&(rt.shorthandAssign=this.start),z.value=this.parseMaybeDefault(Re,qe,z.key)):z.value=z.key,z.shorthand=!0):this.unexpected()},Ce.parsePropertyName=function(z){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return z.computed=!0,z.key=this.parseMaybeAssign(),this.expect(A.bracketR),z.key;z.computed=!1}return z.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Ce.initFunction=function(z){z.id=null,this.options.ecmaVersion>=6&&(z.generator=z.expression=!1),this.options.ecmaVersion>=8&&(z.async=!1)},Ce.parseMethod=function(z,Z,ue){var ye=this.startNode(),Re=this.yieldPos,qe=this.awaitPos,rt=this.awaitIdentPos;return this.initFunction(ye),this.options.ecmaVersion>=6&&(ye.generator=z),this.options.ecmaVersion>=8&&(ye.async=!!Z),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ve(Z,ye.generator)|Pe|(ue?Je:0)),this.expect(A.parenL),ye.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(ye,!1,!0),this.yieldPos=Re,this.awaitPos=qe,this.awaitIdentPos=rt,this.finishNode(ye,"FunctionExpression")},Ce.parseArrowExpression=function(z,Z,ue){var ye=this.yieldPos,Re=this.awaitPos,qe=this.awaitIdentPos;return this.enterScope(Ve(ue,!1)|Se),this.initFunction(z),this.options.ecmaVersion>=8&&(z.async=!!ue),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,z.params=this.toAssignableList(Z,!0),this.parseFunctionBody(z,!0,!1),this.yieldPos=ye,this.awaitPos=Re,this.awaitIdentPos=qe,this.finishNode(z,"ArrowFunctionExpression")},Ce.parseFunctionBody=function(z,Z,ue){var ye=Z&&this.type!==A.braceL,Re=this.strict,qe=!1;if(ye)z.body=this.parseMaybeAssign(),z.expression=!0,this.checkParams(z,!1);else{var rt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(z.params);(!Re||rt)&&(qe=this.strictDirective(this.end),qe&&rt&&this.raiseRecoverable(z.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var xt=this.labels;this.labels=[],qe&&(this.strict=!0),this.checkParams(z,!Re&&!qe&&!Z&&!ue&&this.isSimpleParamList(z.params)),z.body=this.parseBlock(!1),z.expression=!1,this.adaptDirectivePrologue(z.body.body),this.labels=xt}this.exitScope(),this.strict&&z.id&&this.checkLVal(z.id,bn),this.strict=Re},Ce.isSimpleParamList=function(z){for(var Z=0,ue=z;Z<ue.length;Z+=1){var ye=ue[Z];if(ye.type!=="Identifier")return!1}return!0},Ce.checkParams=function(z,Z){for(var ue={},ye=0,Re=z.params;ye<Re.length;ye+=1){var qe=Re[ye];this.checkLVal(qe,Ot,Z?null:ue)}},Ce.parseExprList=function(z,Z,ue,ye){for(var Re=[],qe=!0;!this.eat(z);){if(qe)qe=!1;else if(this.expect(A.comma),Z&&this.afterTrailingComma(z))break;var rt=void 0;ue&&this.type===A.comma?rt=null:this.type===A.ellipsis?(rt=this.parseSpread(ye),ye&&this.type===A.comma&&ye.trailingComma<0&&(ye.trailingComma=this.start)):rt=this.parseMaybeAssign(!1,ye),Re.push(rt)}return Re},Ce.checkUnreserved=function(z){var Z=z.start,ue=z.end,ye=z.name;if(this.inGenerator&&ye==="yield"&&this.raiseRecoverable(Z,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&ye==="await"&&this.raiseRecoverable(Z,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(ye)&&this.raise(Z,"Unexpected keyword '"+ye+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Z,ue).indexOf("\\")!==-1)){var Re=this.strict?this.reservedWordsStrict:this.reservedWords;Re.test(ye)&&(!this.inAsync&&ye==="await"&&this.raiseRecoverable(Z,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Z,"The keyword '"+ye+"' is reserved"))}},Ce.parseIdent=function(z,Z){var ue=this.startNode();return this.type===A.name?ue.name=this.value:this.type.keyword?(ue.name=this.type.keyword,(ue.name==="class"||ue.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!z),this.finishNode(ue,"Identifier"),z||(this.checkUnreserved(ue),ue.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ue.start)),ue},Ce.parseYield=function(z){this.yieldPos||(this.yieldPos=this.start);var Z=this.startNode();return this.next(),this.type===A.semi||this.canInsertSemicolon()||this.type!==A.star&&!this.type.startsExpr?(Z.delegate=!1,Z.argument=null):(Z.delegate=this.eat(A.star),Z.argument=this.parseMaybeAssign(z)),this.finishNode(Z,"YieldExpression")},Ce.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var z=this.startNode();return this.next(),z.argument=this.parseMaybeUnary(null,!1),this.finishNode(z,"AwaitExpression")};var pt=Be.prototype;pt.raise=function(z,Z){var ue=re(this.input,z);Z+=" ("+ue.line+":"+ue.column+")";var ye=new SyntaxError(Z);throw ye.pos=z,ye.loc=ue,ye.raisedAt=this.pos,ye},pt.raiseRecoverable=pt.raise,pt.curPosition=function(){if(this.options.locations)return new ne(this.curLine,this.pos-this.lineStart)};var it=Be.prototype,Rt=function(Z){this.flags=Z,this.var=[],this.lexical=[],this.functions=[]};it.enterScope=function(z){this.scopeStack.push(new Rt(z))},it.exitScope=function(){this.scopeStack.pop()},it.treatFunctionsAsVarInScope=function(z){return z.flags&Le||!this.inModule&&z.flags&$e},it.declareName=function(z,Z,ue){var ye=!1;if(Z===Dt){var Re=this.currentScope();ye=Re.lexical.indexOf(z)>-1||Re.functions.indexOf(z)>-1||Re.var.indexOf(z)>-1,Re.lexical.push(z),this.inModule&&Re.flags&$e&&delete this.undefinedExports[z]}else if(Z===fn){var qe=this.currentScope();qe.lexical.push(z)}else if(Z===nn){var rt=this.currentScope();this.treatFunctionsAsVar?ye=rt.lexical.indexOf(z)>-1:ye=rt.lexical.indexOf(z)>-1||rt.var.indexOf(z)>-1,rt.functions.push(z)}else for(var xt=this.scopeStack.length-1;xt>=0;--xt){var Ct=this.scopeStack[xt];if(Ct.lexical.indexOf(z)>-1&&!(Ct.flags&ge&&Ct.lexical[0]===z)||!this.treatFunctionsAsVarInScope(Ct)&&Ct.functions.indexOf(z)>-1){ye=!0;break}if(Ct.var.push(z),this.inModule&&Ct.flags&$e&&delete this.undefinedExports[z],Ct.flags&Oe)break}ye&&this.raiseRecoverable(ue,"Identifier '"+z+"' has already been declared")},it.checkLocalExport=function(z){this.scopeStack[0].lexical.indexOf(z.name)===-1&&this.scopeStack[0].var.indexOf(z.name)===-1&&(this.undefinedExports[z.name]=z)},it.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},it.currentVarScope=function(){for(var z=this.scopeStack.length-1;;z--){var Z=this.scopeStack[z];if(Z.flags&Oe)return Z}},it.currentThisScope=function(){for(var z=this.scopeStack.length-1;;z--){var Z=this.scopeStack[z];if(Z.flags&Oe&&!(Z.flags&Se))return Z}};var dt=function(Z,ue,ye){this.type="",this.start=ue,this.end=0,Z.options.locations&&(this.loc=new ae(Z,ye)),Z.options.directSourceFile&&(this.sourceFile=Z.options.directSourceFile),Z.options.ranges&&(this.range=[ue,0])},bt=Be.prototype;bt.startNode=function(){return new dt(this,this.start,this.startLoc)},bt.startNodeAt=function(z,Z){return new dt(this,z,Z)};function At(z,Z,ue,ye){return z.type=Z,z.end=ue,this.options.locations&&(z.loc.end=ye),this.options.ranges&&(z.range[1]=ue),z}bt.finishNode=function(z,Z){return At.call(this,z,Z,this.lastTokEnd,this.lastTokEndLoc)},bt.finishNodeAt=function(z,Z,ue,ye){return At.call(this,z,Z,ue,ye)};var nt=function(Z,ue,ye,Re,qe){this.token=Z,this.isExpr=!!ue,this.preserveSpace=!!ye,this.override=Re,this.generator=!!qe},vt={b_stat:new nt("{",!1),b_expr:new nt("{",!0),b_tmpl:new nt("${",!1),p_stat:new nt("(",!1),p_expr:new nt("(",!0),q_tmpl:new nt("`",!0,!0,function(z){return z.tryReadTemplateToken()}),f_stat:new nt("function",!1),f_expr:new nt("function",!0),f_expr_gen:new nt("function",!0,!1,null,!0),f_gen:new nt("function",!1,!1,null,!0)},$r=Be.prototype;$r.initialContext=function(){return[vt.b_stat]},$r.braceIsBlock=function(z){var Z=this.curContext();return Z===vt.f_expr||Z===vt.f_stat?!0:z===A.colon&&(Z===vt.b_stat||Z===vt.b_expr)?!Z.isExpr:z===A._return||z===A.name&&this.exprAllowed?$.test(this.input.slice(this.lastTokEnd,this.start)):z===A._else||z===A.semi||z===A.eof||z===A.parenR||z===A.arrow?!0:z===A.braceL?Z===vt.b_stat:z===A._var||z===A._const||z===A.name?!1:!this.exprAllowed},$r.inGeneratorContext=function(){for(var z=this.context.length-1;z>=1;z--){var Z=this.context[z];if(Z.token==="function")return Z.generator}return!1},$r.updateContext=function(z){var Z,ue=this.type;ue.keyword&&z===A.dot?this.exprAllowed=!1:(Z=ue.updateContext)?Z.call(this,z):this.exprAllowed=ue.beforeExpr},A.parenR.updateContext=A.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var z=this.context.pop();z===vt.b_stat&&this.curContext().token==="function"&&(z=this.context.pop()),this.exprAllowed=!z.isExpr},A.braceL.updateContext=function(z){this.context.push(this.braceIsBlock(z)?vt.b_stat:vt.b_expr),this.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.context.push(vt.b_tmpl),this.exprAllowed=!0},A.parenL.updateContext=function(z){var Z=z===A._if||z===A._for||z===A._with||z===A._while;this.context.push(Z?vt.p_stat:vt.p_expr),this.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=A._class.updateContext=function(z){z.beforeExpr&&z!==A.semi&&z!==A._else&&!(z===A._return&&$.test(this.input.slice(this.lastTokEnd,this.start)))&&!((z===A.colon||z===A.braceL)&&this.curContext()===vt.b_stat)?this.context.push(vt.f_expr):this.context.push(vt.f_stat),this.exprAllowed=!1},A.backQuote.updateContext=function(){this.curContext()===vt.q_tmpl?this.context.pop():this.context.push(vt.q_tmpl),this.exprAllowed=!1},A.star.updateContext=function(z){if(z===A._function){var Z=this.context.length-1;this.context[Z]===vt.f_expr?this.context[Z]=vt.f_expr_gen:this.context[Z]=vt.f_gen}this.exprAllowed=!0},A.name.updateContext=function(z){var Z=!1;this.options.ecmaVersion>=6&&z!==A.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Z=!0),this.exprAllowed=Z};var Br="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",mr=Br+" Extended_Pictographic",Tn=mr,Ur={9:Br,10:mr,11:Tn},Lr="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",gr="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",_r=gr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ai=_r+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",yr={9:gr,10:_r,11:ai},vr={};function ti(z){var Z=vr[z]={binary:ie(Ur[z]+" "+Lr),nonBinary:{General_Category:ie(Lr),Script:ie(yr[z])}};Z.nonBinary.Script_Extensions=Z.nonBinary.Script,Z.nonBinary.gc=Z.nonBinary.General_Category,Z.nonBinary.sc=Z.nonBinary.Script,Z.nonBinary.scx=Z.nonBinary.Script_Extensions}ti(9),ti(10),ti(11);var It=Be.prototype,pn=function(Z){this.parser=Z,this.validFlags="gim"+(Z.options.ecmaVersion>=6?"uy":"")+(Z.options.ecmaVersion>=9?"s":""),this.unicodeProperties=vr[Z.options.ecmaVersion>=11?11:Z.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};pn.prototype.reset=function(Z,ue,ye){var Re=ye.indexOf("u")!==-1;this.start=Z|0,this.source=ue+"",this.flags=ye,this.switchU=Re&&this.parser.options.ecmaVersion>=6,this.switchN=Re&&this.parser.options.ecmaVersion>=9},pn.prototype.raise=function(Z){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Z)},pn.prototype.at=function(Z){var ue=this.source,ye=ue.length;if(Z>=ye)return-1;var Re=ue.charCodeAt(Z);if(!this.switchU||Re<=55295||Re>=57344||Z+1>=ye)return Re;var qe=ue.charCodeAt(Z+1);return qe>=56320&&qe<=57343?(Re<<10)+qe-56613888:Re},pn.prototype.nextIndex=function(Z){var ue=this.source,ye=ue.length;if(Z>=ye)return ye;var Re=ue.charCodeAt(Z),qe;return!this.switchU||Re<=55295||Re>=57344||Z+1>=ye||(qe=ue.charCodeAt(Z+1))<56320||qe>57343?Z+1:Z+2},pn.prototype.current=function(){return this.at(this.pos)},pn.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},pn.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},pn.prototype.eat=function(Z){return this.current()===Z?(this.advance(),!0):!1};function Vn(z){return z<=65535?String.fromCharCode(z):(z-=65536,String.fromCharCode((z>>10)+55296,(z&1023)+56320))}It.validateRegExpFlags=function(z){for(var Z=z.validFlags,ue=z.flags,ye=0;ye<ue.length;ye++){var Re=ue.charAt(ye);Z.indexOf(Re)===-1&&this.raise(z.start,"Invalid regular expression flag"),ue.indexOf(Re,ye+1)>-1&&this.raise(z.start,"Duplicate regular expression flag")}},It.validateRegExpPattern=function(z){this.regexp_pattern(z),!z.switchN&&this.options.ecmaVersion>=9&&z.groupNames.length>0&&(z.switchN=!0,this.regexp_pattern(z))},It.regexp_pattern=function(z){z.pos=0,z.lastIntValue=0,z.lastStringValue="",z.lastAssertionIsQuantifiable=!1,z.numCapturingParens=0,z.maxBackReference=0,z.groupNames.length=0,z.backReferenceNames.length=0,this.regexp_disjunction(z),z.pos!==z.source.length&&(z.eat(41)&&z.raise("Unmatched ')'"),(z.eat(93)||z.eat(125))&&z.raise("Lone quantifier brackets")),z.maxBackReference>z.numCapturingParens&&z.raise("Invalid escape");for(var Z=0,ue=z.backReferenceNames;Z<ue.length;Z+=1){var ye=ue[Z];z.groupNames.indexOf(ye)===-1&&z.raise("Invalid named capture referenced")}},It.regexp_disjunction=function(z){for(this.regexp_alternative(z);z.eat(124);)this.regexp_alternative(z);this.regexp_eatQuantifier(z,!0)&&z.raise("Nothing to repeat"),z.eat(123)&&z.raise("Lone quantifier brackets")},It.regexp_alternative=function(z){for(;z.pos<z.source.length&&this.regexp_eatTerm(z););},It.regexp_eatTerm=function(z){return this.regexp_eatAssertion(z)?(z.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(z)&&z.switchU&&z.raise("Invalid quantifier"),!0):(z.switchU?this.regexp_eatAtom(z):this.regexp_eatExtendedAtom(z))?(this.regexp_eatQuantifier(z),!0):!1},It.regexp_eatAssertion=function(z){var Z=z.pos;if(z.lastAssertionIsQuantifiable=!1,z.eat(94)||z.eat(36))return!0;if(z.eat(92)){if(z.eat(66)||z.eat(98))return!0;z.pos=Z}if(z.eat(40)&&z.eat(63)){var ue=!1;if(this.options.ecmaVersion>=9&&(ue=z.eat(60)),z.eat(61)||z.eat(33))return this.regexp_disjunction(z),z.eat(41)||z.raise("Unterminated group"),z.lastAssertionIsQuantifiable=!ue,!0}return z.pos=Z,!1},It.regexp_eatQuantifier=function(z,Z){return Z===void 0&&(Z=!1),this.regexp_eatQuantifierPrefix(z,Z)?(z.eat(63),!0):!1},It.regexp_eatQuantifierPrefix=function(z,Z){return z.eat(42)||z.eat(43)||z.eat(63)||this.regexp_eatBracedQuantifier(z,Z)},It.regexp_eatBracedQuantifier=function(z,Z){var ue=z.pos;if(z.eat(123)){var ye=0,Re=-1;if(this.regexp_eatDecimalDigits(z)&&(ye=z.lastIntValue,z.eat(44)&&this.regexp_eatDecimalDigits(z)&&(Re=z.lastIntValue),z.eat(125)))return Re!==-1&&Re<ye&&!Z&&z.raise("numbers out of order in {} quantifier"),!0;z.switchU&&!Z&&z.raise("Incomplete quantifier"),z.pos=ue}return!1},It.regexp_eatAtom=function(z){return this.regexp_eatPatternCharacters(z)||z.eat(46)||this.regexp_eatReverseSolidusAtomEscape(z)||this.regexp_eatCharacterClass(z)||this.regexp_eatUncapturingGroup(z)||this.regexp_eatCapturingGroup(z)},It.regexp_eatReverseSolidusAtomEscape=function(z){var Z=z.pos;if(z.eat(92)){if(this.regexp_eatAtomEscape(z))return!0;z.pos=Z}return!1},It.regexp_eatUncapturingGroup=function(z){var Z=z.pos;if(z.eat(40)){if(z.eat(63)&&z.eat(58)){if(this.regexp_disjunction(z),z.eat(41))return!0;z.raise("Unterminated group")}z.pos=Z}return!1},It.regexp_eatCapturingGroup=function(z){if(z.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(z):z.current()===63&&z.raise("Invalid group"),this.regexp_disjunction(z),z.eat(41))return z.numCapturingParens+=1,!0;z.raise("Unterminated group")}return!1},It.regexp_eatExtendedAtom=function(z){return z.eat(46)||this.regexp_eatReverseSolidusAtomEscape(z)||this.regexp_eatCharacterClass(z)||this.regexp_eatUncapturingGroup(z)||this.regexp_eatCapturingGroup(z)||this.regexp_eatInvalidBracedQuantifier(z)||this.regexp_eatExtendedPatternCharacter(z)},It.regexp_eatInvalidBracedQuantifier=function(z){return this.regexp_eatBracedQuantifier(z,!0)&&z.raise("Nothing to repeat"),!1},It.regexp_eatSyntaxCharacter=function(z){var Z=z.current();return lr(Z)?(z.lastIntValue=Z,z.advance(),!0):!1};function lr(z){return z===36||z>=40&&z<=43||z===46||z===63||z>=91&&z<=94||z>=123&&z<=125}It.regexp_eatPatternCharacters=function(z){for(var Z=z.pos,ue=0;(ue=z.current())!==-1&&!lr(ue);)z.advance();return z.pos!==Z},It.regexp_eatExtendedPatternCharacter=function(z){var Z=z.current();return Z!==-1&&Z!==36&&!(Z>=40&&Z<=43)&&Z!==46&&Z!==63&&Z!==91&&Z!==94&&Z!==124?(z.advance(),!0):!1},It.regexp_groupSpecifier=function(z){if(z.eat(63)){if(this.regexp_eatGroupName(z)){z.groupNames.indexOf(z.lastStringValue)!==-1&&z.raise("Duplicate capture group name"),z.groupNames.push(z.lastStringValue);return}z.raise("Invalid group")}},It.regexp_eatGroupName=function(z){if(z.lastStringValue="",z.eat(60)){if(this.regexp_eatRegExpIdentifierName(z)&&z.eat(62))return!0;z.raise("Invalid capture group name")}return!1},It.regexp_eatRegExpIdentifierName=function(z){if(z.lastStringValue="",this.regexp_eatRegExpIdentifierStart(z)){for(z.lastStringValue+=Vn(z.lastIntValue);this.regexp_eatRegExpIdentifierPart(z);)z.lastStringValue+=Vn(z.lastIntValue);return!0}return!1},It.regexp_eatRegExpIdentifierStart=function(z){var Z=z.pos,ue=z.current();return z.advance(),ue===92&&this.regexp_eatRegExpUnicodeEscapeSequence(z)&&(ue=z.lastIntValue),ur(ue)?(z.lastIntValue=ue,!0):(z.pos=Z,!1)};function ur(z){return E(z,!0)||z===36||z===95}It.regexp_eatRegExpIdentifierPart=function(z){var Z=z.pos,ue=z.current();return z.advance(),ue===92&&this.regexp_eatRegExpUnicodeEscapeSequence(z)&&(ue=z.lastIntValue),us(ue)?(z.lastIntValue=ue,!0):(z.pos=Z,!1)};function us(z){return S(z,!0)||z===36||z===95||z===8204||z===8205}It.regexp_eatAtomEscape=function(z){return this.regexp_eatBackReference(z)||this.regexp_eatCharacterClassEscape(z)||this.regexp_eatCharacterEscape(z)||z.switchN&&this.regexp_eatKGroupName(z)?!0:(z.switchU&&(z.current()===99&&z.raise("Invalid unicode escape"),z.raise("Invalid escape")),!1)},It.regexp_eatBackReference=function(z){var Z=z.pos;if(this.regexp_eatDecimalEscape(z)){var ue=z.lastIntValue;if(z.switchU)return ue>z.maxBackReference&&(z.maxBackReference=ue),!0;if(ue<=z.numCapturingParens)return!0;z.pos=Z}return!1},It.regexp_eatKGroupName=function(z){if(z.eat(107)){if(this.regexp_eatGroupName(z))return z.backReferenceNames.push(z.lastStringValue),!0;z.raise("Invalid named reference")}return!1},It.regexp_eatCharacterEscape=function(z){return this.regexp_eatControlEscape(z)||this.regexp_eatCControlLetter(z)||this.regexp_eatZero(z)||this.regexp_eatHexEscapeSequence(z)||this.regexp_eatRegExpUnicodeEscapeSequence(z)||!z.switchU&&this.regexp_eatLegacyOctalEscapeSequence(z)||this.regexp_eatIdentityEscape(z)},It.regexp_eatCControlLetter=function(z){var Z=z.pos;if(z.eat(99)){if(this.regexp_eatControlLetter(z))return!0;z.pos=Z}return!1},It.regexp_eatZero=function(z){return z.current()===48&&!Xn(z.lookahead())?(z.lastIntValue=0,z.advance(),!0):!1},It.regexp_eatControlEscape=function(z){var Z=z.current();return Z===116?(z.lastIntValue=9,z.advance(),!0):Z===110?(z.lastIntValue=10,z.advance(),!0):Z===118?(z.lastIntValue=11,z.advance(),!0):Z===102?(z.lastIntValue=12,z.advance(),!0):Z===114?(z.lastIntValue=13,z.advance(),!0):!1},It.regexp_eatControlLetter=function(z){var Z=z.current();return ki(Z)?(z.lastIntValue=Z%32,z.advance(),!0):!1};function ki(z){return z>=65&&z<=90||z>=97&&z<=122}It.regexp_eatRegExpUnicodeEscapeSequence=function(z){var Z=z.pos;if(z.eat(117)){if(this.regexp_eatFixedHexDigits(z,4)){var ue=z.lastIntValue;if(z.switchU&&ue>=55296&&ue<=56319){var ye=z.pos;if(z.eat(92)&&z.eat(117)&&this.regexp_eatFixedHexDigits(z,4)){var Re=z.lastIntValue;if(Re>=56320&&Re<=57343)return z.lastIntValue=(ue-55296)*1024+(Re-56320)+65536,!0}z.pos=ye,z.lastIntValue=ue}return!0}if(z.switchU&&z.eat(123)&&this.regexp_eatHexDigits(z)&&z.eat(125)&&fi(z.lastIntValue))return!0;z.switchU&&z.raise("Invalid unicode escape"),z.pos=Z}return!1};function fi(z){return z>=0&&z<=1114111}It.regexp_eatIdentityEscape=function(z){if(z.switchU)return this.regexp_eatSyntaxCharacter(z)?!0:z.eat(47)?(z.lastIntValue=47,!0):!1;var Z=z.current();return Z!==99&&(!z.switchN||Z!==107)?(z.lastIntValue=Z,z.advance(),!0):!1},It.regexp_eatDecimalEscape=function(z){z.lastIntValue=0;var Z=z.current();if(Z>=49&&Z<=57){do z.lastIntValue=10*z.lastIntValue+(Z-48),z.advance();while((Z=z.current())>=48&&Z<=57);return!0}return!1},It.regexp_eatCharacterClassEscape=function(z){var Z=z.current();if(qr(Z))return z.lastIntValue=-1,z.advance(),!0;if(z.switchU&&this.options.ecmaVersion>=9&&(Z===80||Z===112)){if(z.lastIntValue=-1,z.advance(),z.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(z)&&z.eat(125))return!0;z.raise("Invalid property name")}return!1};function qr(z){return z===100||z===68||z===115||z===83||z===119||z===87}It.regexp_eatUnicodePropertyValueExpression=function(z){var Z=z.pos;if(this.regexp_eatUnicodePropertyName(z)&&z.eat(61)){var ue=z.lastStringValue;if(this.regexp_eatUnicodePropertyValue(z)){var ye=z.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(z,ue,ye),!0}}if(z.pos=Z,this.regexp_eatLoneUnicodePropertyNameOrValue(z)){var Re=z.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(z,Re),!0}return!1},It.regexp_validateUnicodePropertyNameAndValue=function(z,Z,ue){X(z.unicodeProperties.nonBinary,Z)||z.raise("Invalid property name"),z.unicodeProperties.nonBinary[Z].test(ue)||z.raise("Invalid property value")},It.regexp_validateUnicodePropertyNameOrValue=function(z,Z){z.unicodeProperties.binary.test(Z)||z.raise("Invalid property name")},It.regexp_eatUnicodePropertyName=function(z){var Z=0;for(z.lastStringValue="";ni(Z=z.current());)z.lastStringValue+=Vn(Z),z.advance();return z.lastStringValue!==""};function ni(z){return ki(z)||z===95}It.regexp_eatUnicodePropertyValue=function(z){var Z=0;for(z.lastStringValue="";Gn(Z=z.current());)z.lastStringValue+=Vn(Z),z.advance();return z.lastStringValue!==""};function Gn(z){return ni(z)||Xn(z)}It.regexp_eatLoneUnicodePropertyNameOrValue=function(z){return this.regexp_eatUnicodePropertyValue(z)},It.regexp_eatCharacterClass=function(z){if(z.eat(91)){if(z.eat(94),this.regexp_classRanges(z),z.eat(93))return!0;z.raise("Unterminated character class")}return!1},It.regexp_classRanges=function(z){for(;this.regexp_eatClassAtom(z);){var Z=z.lastIntValue;if(z.eat(45)&&this.regexp_eatClassAtom(z)){var ue=z.lastIntValue;z.switchU&&(Z===-1||ue===-1)&&z.raise("Invalid character class"),Z!==-1&&ue!==-1&&Z>ue&&z.raise("Range out of order in character class")}}},It.regexp_eatClassAtom=function(z){var Z=z.pos;if(z.eat(92)){if(this.regexp_eatClassEscape(z))return!0;if(z.switchU){var ue=z.current();(ue===99||$n(ue))&&z.raise("Invalid class escape"),z.raise("Invalid escape")}z.pos=Z}var ye=z.current();return ye!==93?(z.lastIntValue=ye,z.advance(),!0):!1},It.regexp_eatClassEscape=function(z){var Z=z.pos;if(z.eat(98))return z.lastIntValue=8,!0;if(z.switchU&&z.eat(45))return z.lastIntValue=45,!0;if(!z.switchU&&z.eat(99)){if(this.regexp_eatClassControlLetter(z))return!0;z.pos=Z}return this.regexp_eatCharacterClassEscape(z)||this.regexp_eatCharacterEscape(z)},It.regexp_eatClassControlLetter=function(z){var Z=z.current();return Xn(Z)||Z===95?(z.lastIntValue=Z%32,z.advance(),!0):!1},It.regexp_eatHexEscapeSequence=function(z){var Z=z.pos;if(z.eat(120)){if(this.regexp_eatFixedHexDigits(z,2))return!0;z.switchU&&z.raise("Invalid escape"),z.pos=Z}return!1},It.regexp_eatDecimalDigits=function(z){var Z=z.pos,ue=0;for(z.lastIntValue=0;Xn(ue=z.current());)z.lastIntValue=10*z.lastIntValue+(ue-48),z.advance();return z.pos!==Z};function Xn(z){return z>=48&&z<=57}It.regexp_eatHexDigits=function(z){var Z=z.pos,ue=0;for(z.lastIntValue=0;Er(ue=z.current());)z.lastIntValue=16*z.lastIntValue+cr(ue),z.advance();return z.pos!==Z};function Er(z){return z>=48&&z<=57||z>=65&&z<=70||z>=97&&z<=102}function cr(z){return z>=65&&z<=70?10+(z-65):z>=97&&z<=102?10+(z-97):z-48}It.regexp_eatLegacyOctalEscapeSequence=function(z){if(this.regexp_eatOctalDigit(z)){var Z=z.lastIntValue;if(this.regexp_eatOctalDigit(z)){var ue=z.lastIntValue;Z<=3&&this.regexp_eatOctalDigit(z)?z.lastIntValue=Z*64+ue*8+z.lastIntValue:z.lastIntValue=Z*8+ue}else z.lastIntValue=Z;return!0}return!1},It.regexp_eatOctalDigit=function(z){var Z=z.current();return $n(Z)?(z.lastIntValue=Z-48,z.advance(),!0):(z.lastIntValue=0,!1)};function $n(z){return z>=48&&z<=55}It.regexp_eatFixedHexDigits=function(z,Z){var ue=z.pos;z.lastIntValue=0;for(var ye=0;ye<Z;++ye){var Re=z.current();if(!Er(Re))return z.pos=ue,!1;z.lastIntValue=16*z.lastIntValue+cr(Re),z.advance()}return!0};var Ir=function(Z){this.type=Z.type,this.value=Z.value,this.start=Z.start,this.end=Z.end,Z.options.locations&&(this.loc=new ae(Z,Z.startLoc,Z.endLoc)),Z.options.ranges&&(this.range=[Z.start,Z.end])},Yt=Be.prototype;Yt.next=function(z){!z&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ir(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Yt.getToken=function(){return this.next(),new Ir(this)},typeof Symbol<"u"&&(Yt[Symbol.iterator]=function(){var z=this;return{next:function(){var Z=z.getToken();return{done:Z.type===A.eof,value:Z}}}}),Yt.curContext=function(){return this.context[this.context.length-1]},Yt.nextToken=function(){var z=this.curContext();if((!z||!z.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(A.eof);if(z.override)return z.override(this);this.readToken(this.fullCharCodeAtPos())},Yt.readToken=function(z){return E(z,this.options.ecmaVersion>=6)||z===92?this.readWord():this.getTokenFromCode(z)},Yt.fullCharCodeAtPos=function(){var z=this.input.charCodeAt(this.pos);if(z<=55295||z>=57344)return z;var Z=this.input.charCodeAt(this.pos+1);return(z<<10)+Z-56613888},Yt.skipBlockComment=function(){var z=this.options.onComment&&this.curPosition(),Z=this.pos,ue=this.input.indexOf("*/",this.pos+=2);if(ue===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=ue+2,this.options.locations){P.lastIndex=Z;for(var ye;(ye=P.exec(this.input))&&ye.index<this.pos;)++this.curLine,this.lineStart=ye.index+ye[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(Z+2,ue),Z,this.pos,z,this.curPosition())},Yt.skipLineComment=function(z){for(var Z=this.pos,ue=this.options.onComment&&this.curPosition(),ye=this.input.charCodeAt(this.pos+=z);this.pos<this.input.length&&!B(ye);)ye=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Z+z,this.pos),Z,this.pos,ue,this.curPosition())},Yt.skipSpace=function(){e:for(;this.pos<this.input.length;){var z=this.input.charCodeAt(this.pos);switch(z){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(z>8&&z<14||z>=5760&&U.test(String.fromCharCode(z)))++this.pos;else break e}}},Yt.finishToken=function(z,Z){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var ue=this.type;this.type=z,this.value=Z,this.updateContext(ue)},Yt.readToken_dot=function(){var z=this.input.charCodeAt(this.pos+1);if(z>=48&&z<=57)return this.readNumber(!0);var Z=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&z===46&&Z===46?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))},Yt.readToken_slash=function(){var z=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):z===61?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},Yt.readToken_mult_modulo_exp=function(z){var Z=this.input.charCodeAt(this.pos+1),ue=1,ye=z===42?A.star:A.modulo;return this.options.ecmaVersion>=7&&z===42&&Z===42&&(++ue,ye=A.starstar,Z=this.input.charCodeAt(this.pos+2)),Z===61?this.finishOp(A.assign,ue+1):this.finishOp(ye,ue)},Yt.readToken_pipe_amp=function(z){var Z=this.input.charCodeAt(this.pos+1);return Z===z?this.finishOp(z===124?A.logicalOR:A.logicalAND,2):Z===61?this.finishOp(A.assign,2):this.finishOp(z===124?A.bitwiseOR:A.bitwiseAND,1)},Yt.readToken_caret=function(){var z=this.input.charCodeAt(this.pos+1);return z===61?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},Yt.readToken_plus_min=function(z){var Z=this.input.charCodeAt(this.pos+1);return Z===z?Z===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||$.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):Z===61?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},Yt.readToken_lt_gt=function(z){var Z=this.input.charCodeAt(this.pos+1),ue=1;return Z===z?(ue=z===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+ue)===61?this.finishOp(A.assign,ue+1):this.finishOp(A.bitShift,ue)):Z===33&&z===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Z===61&&(ue=2),this.finishOp(A.relational,ue))},Yt.readToken_eq_excl=function(z){var Z=this.input.charCodeAt(this.pos+1);return Z===61?this.finishOp(A.equality,this.input.charCodeAt(this.pos+2)===61?3:2):z===61&&Z===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(z===61?A.eq:A.prefix,1)},Yt.getTokenFromCode=function(z){switch(z){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 63:return++this.pos,this.finishToken(A.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var Z=this.input.charCodeAt(this.pos+1);if(Z===120||Z===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Z===111||Z===79)return this.readRadixNumber(8);if(Z===98||Z===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(z);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(z);case 124:case 38:return this.readToken_pipe_amp(z);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(z);case 60:case 62:return this.readToken_lt_gt(z);case 61:case 33:return this.readToken_eq_excl(z);case 126:return this.finishOp(A.prefix,1)}this.raise(this.pos,"Unexpected character '"+nr(z)+"'")},Yt.finishOp=function(z,Z){var ue=this.input.slice(this.pos,this.pos+Z);return this.pos+=Z,this.finishToken(z,ue)},Yt.readRegexp=function(){for(var z,Z,ue=this.pos;;){this.pos>=this.input.length&&this.raise(ue,"Unterminated regular expression");var ye=this.input.charAt(this.pos);if($.test(ye)&&this.raise(ue,"Unterminated regular expression"),z)z=!1;else{if(ye==="[")Z=!0;else if(ye==="]"&&Z)Z=!1;else if(ye==="/"&&!Z)break;z=ye==="\\"}++this.pos}var Re=this.input.slice(ue,this.pos);++this.pos;var qe=this.pos,rt=this.readWord1();this.containsEsc&&this.unexpected(qe);var xt=this.regexpState||(this.regexpState=new pn(this));xt.reset(ue,Re,rt),this.validateRegExpFlags(xt),this.validateRegExpPattern(xt);var Ct=null;try{Ct=new RegExp(Re,rt)}catch{}return this.finishToken(A.regexp,{pattern:Re,flags:rt,value:Ct})},Yt.readInt=function(z,Z){for(var ue=this.pos,ye=0,Re=0,qe=Z??1/0;Re<qe;++Re){var rt=this.input.charCodeAt(this.pos),xt=void 0;if(rt>=97?xt=rt-97+10:rt>=65?xt=rt-65+10:rt>=48&&rt<=57?xt=rt-48:xt=1/0,xt>=z)break;++this.pos,ye=ye*z+xt}return this.pos===ue||Z!=null&&this.pos-ue!==Z?null:ye},Yt.readRadixNumber=function(z){var Z=this.pos;this.pos+=2;var ue=this.readInt(z);return ue==null&&this.raise(this.start+2,"Expected number in radix "+z),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(ue=typeof BigInt<"u"?BigInt(this.input.slice(Z,this.pos)):null,++this.pos):E(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,ue)},Yt.readNumber=function(z){var Z=this.pos;!z&&this.readInt(10)===null&&this.raise(Z,"Invalid number");var ue=this.pos-Z>=2&&this.input.charCodeAt(Z)===48;ue&&this.strict&&this.raise(Z,"Invalid number");var ye=this.input.charCodeAt(this.pos);if(!ue&&!z&&this.options.ecmaVersion>=11&&ye===110){var Re=this.input.slice(Z,this.pos),qe=typeof BigInt<"u"?BigInt(Re):null;return++this.pos,E(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,qe)}ue&&/[89]/.test(this.input.slice(Z,this.pos))&&(ue=!1),ye===46&&!ue&&(++this.pos,this.readInt(10),ye=this.input.charCodeAt(this.pos)),(ye===69||ye===101)&&!ue&&(ye=this.input.charCodeAt(++this.pos),(ye===43||ye===45)&&++this.pos,this.readInt(10)===null&&this.raise(Z,"Invalid number")),E(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var rt=this.input.slice(Z,this.pos),xt=ue?parseInt(rt,8):parseFloat(rt);return this.finishToken(A.num,xt)},Yt.readCodePoint=function(){var z=this.input.charCodeAt(this.pos),Z;if(z===123){this.options.ecmaVersion<6&&this.unexpected();var ue=++this.pos;Z=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Z>1114111&&this.invalidStringToken(ue,"Code point out of bounds")}else Z=this.readHexChar(4);return Z};function nr(z){return z<=65535?String.fromCharCode(z):(z-=65536,String.fromCharCode((z>>10)+55296,(z&1023)+56320))}Yt.readString=function(z){for(var Z="",ue=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ye=this.input.charCodeAt(this.pos);if(ye===z)break;ye===92?(Z+=this.input.slice(ue,this.pos),Z+=this.readEscapedChar(!1),ue=this.pos):(B(ye,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Z+=this.input.slice(ue,this.pos++),this.finishToken(A.string,Z)};var Dr={};Yt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(z){if(z===Dr)this.readInvalidTemplateToken();else throw z}this.inTemplateElement=!1},Yt.invalidStringToken=function(z,Z){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Dr;this.raise(z,Z)},Yt.readTmplToken=function(){for(var z="",Z=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var ue=this.input.charCodeAt(this.pos);if(ue===96||ue===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===A.template||this.type===A.invalidTemplate)?ue===36?(this.pos+=2,this.finishToken(A.dollarBraceL)):(++this.pos,this.finishToken(A.backQuote)):(z+=this.input.slice(Z,this.pos),this.finishToken(A.template,z));if(ue===92)z+=this.input.slice(Z,this.pos),z+=this.readEscapedChar(!0),Z=this.pos;else if(B(ue)){switch(z+=this.input.slice(Z,this.pos),++this.pos,ue){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:z+=`
`;break;default:z+=String.fromCharCode(ue);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Z=this.pos}else++this.pos}},Yt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(A.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Yt.readEscapedChar=function(z){var Z=this.input.charCodeAt(++this.pos);switch(++this.pos,Z){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return nr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(z){var ue=this.pos-1;return this.invalidStringToken(ue,"Invalid escape sequence in template string"),null}default:if(Z>=48&&Z<=55){var ye=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Re=parseInt(ye,8);return Re>255&&(ye=ye.slice(0,-1),Re=parseInt(ye,8)),this.pos+=ye.length-1,Z=this.input.charCodeAt(this.pos),(ye!=="0"||Z===56||Z===57)&&(this.strict||z)&&this.invalidStringToken(this.pos-1-ye.length,z?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Re)}return B(Z)?"":String.fromCharCode(Z)}},Yt.readHexChar=function(z){var Z=this.pos,ue=this.readInt(16,z);return ue===null&&this.invalidStringToken(Z,"Bad character escape sequence"),ue},Yt.readWord1=function(){this.containsEsc=!1;for(var z="",Z=!0,ue=this.pos,ye=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Re=this.fullCharCodeAtPos();if(S(Re,ye))this.pos+=Re<=65535?1:2;else if(Re===92){this.containsEsc=!0,z+=this.input.slice(ue,this.pos);var qe=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var rt=this.readCodePoint();(Z?E:S)(rt,ye)||this.invalidStringToken(qe,"Invalid Unicode escape"),z+=nr(rt),ue=this.pos}else break;Z=!1}return z+this.input.slice(ue,this.pos)},Yt.readWord=function(){var z=this.readWord1(),Z=A.name;return this.keywords.test(z)&&(Z=F[z]),this.finishToken(Z,z)};var kt="7.1.0";Be.acorn={Parser:Be,version:kt,defaultOptions:fe,Position:ne,SourceLocation:ae,getLineInfo:re,Node:dt,TokenType:R,tokTypes:A,keywordTypes:F,TokContext:nt,tokContexts:vt,isIdentifierChar:S,isIdentifierStart:E,Token:Ir,isNewLine:B,lineBreak:$,lineBreakG:P,nonASCIIwhitespace:U};function $t(z,Z){return Be.parse(z,Z)}function Qn(z,Z,ue){return Be.parseExpressionAt(z,Z,ue)}function Tr(z,Z){return Be.tokenizer(z,Z)}g.Node=dt,g.Parser=Be,g.Position=ne,g.SourceLocation=ae,g.TokContext=nt,g.Token=Ir,g.TokenType=R,g.defaultOptions=fe,g.getLineInfo=re,g.isIdentifierChar=S,g.isIdentifierStart=E,g.isNewLine=B,g.keywordTypes=F,g.lineBreak=$,g.lineBreakG=P,g.nonASCIIwhitespace=U,g.parse=$t,g.parseExpressionAt=Qn,g.tokContexts=vt,g.tokTypes=A,g.tokenizer=Tr,g.version=kt,Object.defineProperty(g,"__esModule",{value:!0})})},{}],2:[function(i,l,T){},{}],3:[function(i,l,T){function g(c,a={}){const{contextName:o="gl",throwGetError:u,useTrackablePrimitives:f,readPixelsFile:m,recording:x=[],variables:E={},onReadPixels:S,onUnrecognizedArgumentLookup:R}=a,M=new Proxy(c,{get:$}),k=[],v={};let F=0,I="",A;return M;function $(re,fe){switch(fe){case"addComment":return X;case"checkThrowError":return ee;case"getReadPixelsVariableName":return A;case"insertVariable":return U;case"reset":return B;case"setIndent":return j;case"toString":return P;case"getContextVariableName":return ae}return typeof c[fe]=="function"?function(){switch(fe){case"getError":return u?x.push(`${I}if (${o}.getError() !== ${o}.NONE) throw new Error('error');`):x.push(`${I}${o}.getError();`),c.getError();case"getExtension":{const Oe=`${o}Variables${k.length}`;x.push(`${I}const ${Oe} = ${o}.getExtension('${arguments[0]}');`);const Ne=c.getExtension(arguments[0]);if(Ne&&typeof Ne=="object"){const be=b(Ne,{getEntity:W,useTrackablePrimitives:f,recording:x,contextName:Oe,contextVariables:k,variables:E,indent:I,onUnrecognizedArgumentLookup:R});return k.push(be),be}else k.push(null);return Ne}case"readPixels":const he=k.indexOf(arguments[6]);let $e;if(he===-1){const Oe=ne(arguments[6]);Oe?($e=Oe,x.push(`${I}${Oe}`)):($e=`${o}Variable${k.length}`,k.push(arguments[6]),x.push(`${I}const ${$e} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else $e=`${o}Variable${he}`;A=$e;const Le=[arguments[0],arguments[1],arguments[2],arguments[3],W(arguments[4]),W(arguments[5]),$e];return x.push(`${I}${o}.readPixels(${Le.join(", ")});`),m&&Q(arguments[2],arguments[3]),S&&S($e,Le),c.readPixels.apply(c,arguments);case"drawBuffers":return x.push(`${I}${o}.drawBuffers([${w(arguments[0],{contextName:o,contextVariables:k,getEntity:W,addVariable:H,variables:E,onUnrecognizedArgumentLookup:R})}]);`),c.drawBuffers(arguments[0])}let pe=c[fe].apply(c,arguments);switch(typeof pe){case"undefined":x.push(`${I}${ie(fe,arguments)};`);return;case"number":case"boolean":if(f&&k.indexOf(h(pe))===-1){x.push(`${I}const ${o}Variable${k.length} = ${ie(fe,arguments)};`),k.push(pe=h(pe));break}default:pe===null?x.push(`${ie(fe,arguments)};`):x.push(`${I}const ${o}Variable${k.length} = ${ie(fe,arguments)};`),k.push(pe)}return pe}:(v[c[fe]]=fe,c[fe])}function P(){return x.join(`
`)}function B(){for(;x.length>0;)x.pop()}function U(re,fe){E[re]=fe}function W(re){const fe=v[re];return fe?o+"."+fe:re}function j(re){I=" ".repeat(re)}function H(re,fe){const pe=`${o}Variable${k.length}`;return x.push(`${I}const ${pe} = ${fe};`),k.push(re),pe}function Q(re,fe){const pe=`${o}Variable${k.length}`,he=`imageDatum${F}`;x.push(`${I}let ${he} = ["P3\\n# ${m}.ppm\\n", ${re}, ' ', ${fe}, "\\n255\\n"].join("");`),x.push(`${I}for (let i = 0; i < ${he}.length; i += 4) {`),x.push(`${I}  ${he} += ${pe}[i] + ' ' + ${pe}[i + 1] + ' ' + ${pe}[i + 2] + ' ';`),x.push(`${I}}`),x.push(`${I}if (typeof require !== "undefined") {`),x.push(`${I}  require('fs').writeFileSync('./${m}.ppm', ${he});`),x.push(`${I}}`),F++}function X(re){x.push(`${I}// ${re}`)}function ee(){x.push(`${I}(() => {
${I}const error = ${o}.getError();
${I}if (error !== ${o}.NONE) {
${I}  const names = Object.getOwnPropertyNames(gl);
${I}  for (let i = 0; i < names.length; i++) {
${I}    const name = names[i];
${I}    if (${o}[name] === error) {
${I}      throw new Error('${o} threw ' + name);
${I}    }
${I}  }
${I}}
${I}})();`)}function ie(re,fe){return`${o}.${re}(${w(fe,{contextName:o,contextVariables:k,getEntity:W,addVariable:H,variables:E,onUnrecognizedArgumentLookup:R})})`}function ne(re){if(E){for(const fe in E)if(E[fe]===re)return fe}return null}function ae(re){const fe=k.indexOf(re);return fe!==-1?`${o}Variable${fe}`:null}}function b(c,a){const o=new Proxy(c,{get:v}),u={},{contextName:f,contextVariables:m,getEntity:x,useTrackablePrimitives:E,recording:S,variables:R,indent:M,onUnrecognizedArgumentLookup:k}=a;return o;function v($,P){return typeof $[P]=="function"?function(){switch(P){case"drawBuffersWEBGL":return S.push(`${M}${f}.drawBuffersWEBGL([${w(arguments[0],{contextName:f,contextVariables:m,getEntity:F,addVariable:A,variables:R,onUnrecognizedArgumentLookup:k})}]);`),c.drawBuffersWEBGL(arguments[0])}let B=c[P].apply(c,arguments);switch(typeof B){case"undefined":S.push(`${M}${I(P,arguments)};`);return;case"number":case"boolean":E&&m.indexOf(h(B))===-1?(S.push(`${M}const ${f}Variable${m.length} = ${I(P,arguments)};`),m.push(B=h(B))):(S.push(`${M}const ${f}Variable${m.length} = ${I(P,arguments)};`),m.push(B));break;default:B===null?S.push(`${I(P,arguments)};`):S.push(`${M}const ${f}Variable${m.length} = ${I(P,arguments)};`),m.push(B)}return B}:(u[c[P]]=P,c[P])}function F($){return u.hasOwnProperty($)?`${f}.${u[$]}`:x($)}function I($,P){return`${f}.${$}(${w(P,{contextName:f,contextVariables:m,getEntity:F,addVariable:A,variables:R,onUnrecognizedArgumentLookup:k})})`}function A($,P){const B=`${f}Variable${m.length}`;return m.push($),S.push(`${M}const ${B} = ${P};`),B}}function w(c,a){const{variables:o,onUnrecognizedArgumentLookup:u}=a;return Array.from(c).map(m=>{const x=f(m);return x||d(m,a)}).join(", ");function f(m){if(o){for(const x in o)if(o.hasOwnProperty(x)&&o[x]===m)return x}return u?u(m):null}}function d(c,a){const{contextName:o,contextVariables:u,getEntity:f,addVariable:m,onUnrecognizedArgumentLookup:x}=a;if(typeof c>"u")return"undefined";if(c===null)return"null";const E=u.indexOf(c);if(E>-1)return`${o}Variable${E}`;switch(c.constructor.name){case"String":const S=/\n/.test(c),R=/'/.test(c),M=/"/.test(c);return S?"`"+c+"`":R&&!M?'"'+c+'"':"'"+c+"'";case"Number":return f(c);case"Boolean":return f(c);case"Array":return m(c,`new ${c.constructor.name}([${Array.from(c).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return m(c,`new ${c.constructor.name}(${JSON.stringify(Array.from(c))})`);default:if(x){const k=x(c);if(k)return k}throw new Error(`unrecognized argument type ${c.constructor.name}`)}}function h(c){return new c.constructor(c)}typeof l<"u"&&(l.exports={glWiretap:g,glExtensionWiretap:b}),typeof window<"u"&&(g.glExtensionWiretap=b,window.glWiretap=g)},{}],4:[function(i,l,T){function g(m){const x=new Array(m.length);for(let E=0;E<m.length;E++){const S=m[E];S.toArray?x[E]=S.toArray():x[E]=S}return x}function b(){const m=g(arguments),x=new Float32Array(this.output.x);for(let E=0;E<this.output.x;E++)this.thread.x=E,this.thread.y=0,this.thread.z=0,x[E]=this._fn.apply(this,m);return x}function w(){const m=g(arguments),x=new Array(this.output.y);for(let E=0;E<this.output.y;E++){const S=new Float32Array(this.output.x);for(let R=0;R<this.output.x;R++)this.thread.x=R,this.thread.y=E,this.thread.z=0,S[R]=this._fn.apply(this,m);x[E]=S}return x}function d(){const m=g(arguments);for(let x=0;x<this.output.y;x++)for(let E=0;E<this.output.x;E++)this.thread.x=E,this.thread.y=x,this.thread.z=0,this._fn.apply(this,m)}function h(){const m=g(arguments),x=new Array(this.output.z);for(let E=0;E<this.output.z;E++){const S=new Array(this.output.y);for(let R=0;R<this.output.y;R++){const M=new Float32Array(this.output.x);for(let k=0;k<this.output.x;k++)this.thread.x=k,this.thread.y=R,this.thread.z=E,M[k]=this._fn.apply(this,m);S[R]=M}x[E]=S}return x}function c(m){m.setOutput=S=>{m.output=o(S),m.graphical&&a(m)},m.toJSON=()=>{throw new Error("Not usable with gpuMock")},m.setConstants=S=>(m.constants=S,m),m.setGraphical=S=>(m.graphical=S,m),m.setCanvas=S=>(m.canvas=S,m),m.setContext=S=>(m.context=S,m),m.destroy=()=>{},m.validateSettings=()=>{},m.graphical&&m.output&&a(m),m.exec=function(){return new Promise((S,R)=>{try{S(m.apply(m,arguments))}catch(M){R(M)}})},m.getPixels=S=>{const{x:R,y:M}=m.output;return S?f(m._imageData.data,R,M):m._imageData.data.slice(0)},m.color=function(S,R,M,k){typeof k>"u"&&(k=1),S=Math.floor(S*255),R=Math.floor(R*255),M=Math.floor(M*255),k=Math.floor(k*255);const v=m.output.x,F=m.output.y,I=m.thread.x,A=F-m.thread.y-1,$=I+A*v;m._colorData[$*4+0]=S,m._colorData[$*4+1]=R,m._colorData[$*4+2]=M,m._colorData[$*4+3]=k};const x=()=>m,E=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let S=0;S<E.length;S++)m[E[S]]=x;return m}function a(m){const{x,y:E}=m.output;if(m.context&&m.context.createImageData){const S=new Uint8ClampedArray(x*E*4);m._imageData=m.context.createImageData(x,E),m._colorData=S}else{const S=new Uint8ClampedArray(x*E*4);m._imageData={data:S},m._colorData=S}}function o(m){let x=null;if(m.length)if(m.length===3){const[E,S,R]=m;x={x:E,y:S,z:R}}else if(m.length===2){const[E,S]=m;x={x:E,y:S}}else{const[E]=m;x={x:E}}else x=m;return x}function u(m,x={}){const E=x.output?o(x.output):null;function S(){return S.output.z?h.apply(S,arguments):S.output.y?S.graphical?d.apply(S,arguments):w.apply(S,arguments):b.apply(S,arguments)}return S._fn=m,S.constants=x.constants||null,S.context=x.context||null,S.canvas=x.canvas||null,S.graphical=x.graphical||!1,S._imageData=null,S._colorData=null,S.output=E,S.thread={x:0,y:0,z:0},c(S)}function f(m,x,E){const S=E/2|0,R=x*4,M=new Uint8ClampedArray(x*4),k=m.slice(0);for(let v=0;v<S;++v){const F=v*R,I=(E-v-1)*R;M.set(k.subarray(F,F+R)),k.copyWithin(F,I,I+R),k.set(M,I)}return k}l.exports={gpuMock:u}},{}],5:[function(i,l,T){const{utils:g}=i("./utils");function b(w,d){const h=d.toString();return new Function(`return function ${w} (${g.getArgumentNamesFromString(h).join(", ")}) {
  ${g.getFunctionBodyFromString(h)}
}`)()}l.exports={alias:b}},{"./utils":114}],6:[function(i,l,T){const{FunctionNode:g}=i("../function-node");class b extends g{astFunction(d,h){if(!this.isRootKernel){h.push("function"),h.push(" "),h.push(this.name),h.push("(");for(let c=0;c<this.argumentNames.length;++c){const a=this.argumentNames[c];c>0&&h.push(", "),h.push("user_"),h.push(a)}h.push(`) {
`)}for(let c=0;c<d.body.body.length;++c)this.astGeneric(d.body.body[c],h),h.push(`
`);return this.isRootKernel||h.push(`}
`),h}astReturnStatement(d,h){const c=this.returnType||this.getType(d.argument);return this.returnType||(this.returnType=c),this.isRootKernel?(h.push(this.leadingReturnStatement),this.astGeneric(d.argument,h),h.push(`;
`),h.push(this.followingReturnStatement),h.push(`continue;
`)):this.isSubKernel?(h.push(`subKernelResult_${this.name} = `),this.astGeneric(d.argument,h),h.push(";"),h.push(`return subKernelResult_${this.name};`)):(h.push("return "),this.astGeneric(d.argument,h),h.push(";")),h}astLiteral(d,h){if(isNaN(d.value))throw this.astErrorOutput("Non-numeric literal not supported : "+d.value,d);return h.push(d.value),h}astBinaryExpression(d,h){return h.push("("),this.astGeneric(d.left,h),h.push(d.operator),this.astGeneric(d.right,h),h.push(")"),h}astIdentifierExpression(d,h){if(d.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",d);switch(d.name){case"Infinity":h.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(d.name)?h.push("constants_"+d.name):h.push("user_"+d.name)}return h}astForStatement(d,h){if(d.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",d);const c=[],a=[],o=[],u=[];let f=null;if(d.init){this.pushState("in-for-loop-init"),this.astGeneric(d.init,c);for(let m=0;m<c.length;m++)c[m].includes&&c[m].includes(",")&&(f=!1);this.popState("in-for-loop-init")}else f=!1;if(d.test?this.astGeneric(d.test,a):f=!1,d.update?this.astGeneric(d.update,o):f=!1,d.body&&(this.pushState("loop-body"),this.astGeneric(d.body,u),this.popState("loop-body")),f===null&&(f=this.isSafe(d.init)&&this.isSafe(d.test)),f)h.push(`for (${c.join("")};${a.join("")};${o.join("")}){
`),h.push(u.join("")),h.push(`}
`);else{const m=this.getInternalVariableName("safeI");c.length>0&&h.push(c.join(""),`;
`),h.push(`for (let ${m}=0;${m}<LOOP_MAX;${m}++){
`),a.length>0&&h.push(`if (!${a.join("")}) break;
`),h.push(u.join("")),h.push(`
${o.join("")};`),h.push(`}
`)}return h}astWhileStatement(d,h){if(d.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",d);return h.push("for (let i = 0; i < LOOP_MAX; i++) {"),h.push("if ("),this.astGeneric(d.test,h),h.push(`) {
`),this.astGeneric(d.body,h),h.push(`} else {
`),h.push(`break;
`),h.push(`}
`),h.push(`}
`),h}astDoWhileStatement(d,h){if(d.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",d);return h.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(d.body,h),h.push("if (!"),this.astGeneric(d.test,h),h.push(`) {
`),h.push(`break;
`),h.push(`}
`),h.push(`}
`),h}astAssignmentExpression(d,h){const c=this.getDeclaration(d.left);if(c&&!c.assignable)throw this.astErrorOutput(`Variable ${d.left.name} is not assignable here`,d);return this.astGeneric(d.left,h),h.push(d.operator),this.astGeneric(d.right,h),h}astBlockStatement(d,h){if(this.isState("loop-body")){this.pushState("block-body");for(let c=0;c<d.body.length;c++)this.astGeneric(d.body[c],h);this.popState("block-body")}else{h.push(`{
`);for(let c=0;c<d.body.length;c++)this.astGeneric(d.body[c],h);h.push(`}
`)}return h}astVariableDeclaration(d,h){h.push(`${d.kind} `);const{declarations:c}=d;for(let a=0;a<c.length;a++){a>0&&h.push(",");const o=c[a],u=this.getDeclaration(o.id);u.valueType||(u.valueType=this.getType(o.init)),this.astGeneric(o,h)}return this.isState("in-for-loop-init")||h.push(";"),h}astIfStatement(d,h){return h.push("if ("),this.astGeneric(d.test,h),h.push(")"),d.consequent.type==="BlockStatement"?this.astGeneric(d.consequent,h):(h.push(` {
`),this.astGeneric(d.consequent,h),h.push(`
}
`)),d.alternate&&(h.push("else "),d.alternate.type==="BlockStatement"||d.alternate.type==="IfStatement"?this.astGeneric(d.alternate,h):(h.push(` {
`),this.astGeneric(d.alternate,h),h.push(`
}
`))),h}astSwitchStatement(d,h){const{discriminant:c,cases:a}=d;h.push("switch ("),this.astGeneric(c,h),h.push(`) {
`);for(let o=0;o<a.length;o++){if(a[o].test===null){h.push(`default:
`),this.astGeneric(a[o].consequent,h),a[o].consequent&&a[o].consequent.length>0&&h.push(`break;
`);continue}h.push("case "),this.astGeneric(a[o].test,h),h.push(`:
`),a[o].consequent&&a[o].consequent.length>0&&(this.astGeneric(a[o].consequent,h),h.push(`break;
`))}h.push(`
}`)}astThisExpression(d,h){return h.push("_this"),h}astMemberExpression(d,h){const{signature:c,type:a,property:o,xProperty:u,yProperty:f,zProperty:m,name:x,origin:E}=this.getMemberExpressionDetails(d);switch(c){case"this.thread.value":return h.push(`_this.thread.${x}`),h;case"this.output.value":switch(x){case"x":h.push("outputX");break;case"y":h.push("outputY");break;case"z":h.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",d)}return h;case"value":throw this.astErrorOutput("Unexpected expression",d);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(E==="Math")return h.push(Math[x]),h;switch(o){case"r":return h.push(`user_${x}[0]`),h;case"g":return h.push(`user_${x}[1]`),h;case"b":return h.push(`user_${x}[2]`),h;case"a":return h.push(`user_${x}[3]`),h}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(d.object,h),h.push("["),this.astGeneric(d.property,h),h.push("]"),h;case"fn()[][]":return this.astGeneric(d.object.object,h),h.push("["),this.astGeneric(d.object.property,h),h.push("]"),h.push("["),this.astGeneric(d.property,h),h.push("]"),h;default:throw this.astErrorOutput("Unexpected expression",d)}if(!d.computed)switch(a){case"Number":case"Integer":case"Float":case"Boolean":return h.push(`${E}_${x}`),h}const S=`${E}_${x}`;switch(a){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let R,M;if(E==="constants"){const k=this.constants[x];M=this.constantTypes[x]==="Input",R=M?k.size:null}else M=this.isInput(x),R=M?this.argumentSizes[this.argumentNames.indexOf(x)]:null;h.push(`${S}`),m&&f?M?(h.push("[("),this.astGeneric(m,h),h.push(`*${this.dynamicArguments?"(outputY * outputX)":R[1]*R[0]})+(`),this.astGeneric(f,h),h.push(`*${this.dynamicArguments?"outputX":R[0]})+`),this.astGeneric(u,h),h.push("]")):(h.push("["),this.astGeneric(m,h),h.push("]"),h.push("["),this.astGeneric(f,h),h.push("]"),h.push("["),this.astGeneric(u,h),h.push("]")):f?M?(h.push("[("),this.astGeneric(f,h),h.push(`*${this.dynamicArguments?"outputX":R[0]})+`),this.astGeneric(u,h),h.push("]")):(h.push("["),this.astGeneric(f,h),h.push("]"),h.push("["),this.astGeneric(u,h),h.push("]")):typeof u<"u"&&(h.push("["),this.astGeneric(u,h),h.push("]"))}return h}astCallExpression(d,h){if(d.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",d);let c=this.astMemberExpressionUnroll(d.callee);this.calledFunctions.indexOf(c)<0&&this.calledFunctions.push(c),this.isAstMathFunction(d),this.onFunctionCall&&this.onFunctionCall(this.name,c,d.arguments),h.push(c),h.push("(");const a=this.lookupFunctionArgumentTypes(c)||[];for(let o=0;o<d.arguments.length;++o){const u=d.arguments[o];let f=this.getType(u);a[o]||this.triggerImplyArgumentType(c,o,f,this),o>0&&h.push(", "),this.astGeneric(u,h)}return h.push(")"),h}astArrayExpression(d,h){const c=this.getType(d),a=d.elements.length,o=[];for(let u=0;u<a;++u){const f=[];this.astGeneric(d.elements[u],f),o.push(f.join(""))}switch(c){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":h.push(`[${o.join(", ")}]`);break;default:h.push(`new Float32Array([${o.join(", ")}])`)}return h}astDebuggerStatement(d,h){return h.push("debugger;"),h}}l.exports={CPUFunctionNode:b}},{"../function-node":10}],7:[function(i,l,T){const{utils:g}=i("../../utils");function b(d,h){const c=[];for(const a in h){if(!h.hasOwnProperty(a))continue;const o=h[a],u=d[a];switch(o){case"Number":case"Integer":case"Float":case"Boolean":c.push(`${a}:${u}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":c.push(`${a}:new ${u.constructor.name}(${JSON.stringify(Array.from(u))})`);break}}return`{ ${c.join()} }`}function w(d,h){const c=[],a=[],o=[],u=!/^function/.test(d.color.toString());if(c.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(d.output))});`,`  const _constantTypes = ${JSON.stringify(d.constantTypes)};`,`  const _constants = ${b(d.constants,d.constantTypes)};`),a.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),d.graphical){c.push(`  const _imageData = context.createImageData(${d.output[0]}, ${d.output[1]});`),c.push(`  const _colorData = new Uint8ClampedArray(${d.output[0]} * ${d.output[1]} * 4);`);const x=g.flattenFunctionToString((u?"function ":"")+d.color.toString(),{thisLookup:S=>{switch(S){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(d[S])},findDependency:(S,R)=>null}),E=g.flattenFunctionToString((u?"function ":"")+d.getPixels.toString(),{thisLookup:S=>{switch(S){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(d[S])},findDependency:()=>null});a.push("    _imageData,","    _colorData,",`    color: ${x},`),o.push(`  kernel.getPixels = ${E};`)}const f=[],m=Object.keys(d.constantTypes);for(let x=0;x<m.length;x++)f.push(d.constantTypes[m]);if(d.argumentTypes.indexOf("HTMLImageArray")!==-1||f.indexOf("HTMLImageArray")!==-1){const x=g.flattenFunctionToString((u?"function ":"")+d._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(E,S)=>E==="this"?(u?"function ":"")+d[S].toString():null,thisLookup:E=>{switch(E){case"canvas":return;case"context":return"context"}}});o.push(x),a.push("    _mediaTo2DArray,"),a.push("    _imageTo3DArray,")}else if(d.argumentTypes.indexOf("HTMLImage")!==-1||f.indexOf("HTMLImage")!==-1){const x=g.flattenFunctionToString((u?"function ":"")+d._mediaTo2DArray.toString(),{findDependency:(E,S)=>null,thisLookup:E=>{switch(E){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});o.push(x),a.push("    _mediaTo2DArray,")}return`function(settings) {
${c.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${d._kernelString}
  })
    .apply({ ${a.join(`
`)} });
  ${o.join(`
`)}
  return kernel;
}`}l.exports={cpuKernelString:w}},{"../../utils":114}],8:[function(i,l,T){const{Kernel:g}=i("../kernel"),{FunctionBuilder:b}=i("../function-builder"),{CPUFunctionNode:w}=i("./function-node"),{utils:d}=i("../../utils"),{cpuKernelString:h}=i("./kernel-string");class c extends g{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(o){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(o){return o}static getSignature(o,u){return"cpu"+(u.length>0?":"+u.join(","):"")}constructor(o,u){super(o,u),this.mergeSettings(o.settings||u),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(o){return[]}validateSettings(o){if(!this.output||this.output.length===0){if(o.length!==1)throw new Error("Auto output only supported for kernels with only one input");const u=d.getVariableType(o[0],this.strictIntegers);if(u==="Array")this.output=d.getDimensions(u);else if(u==="NumberTexture"||u==="ArrayTexture(4)")this.output=o[0].output;else throw new Error("Auto output not supported for input type: "+u)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const u=[];for(let f=0;f<this.subKernels.length;f++){const{name:m}=this.subKernels[f];u.push(this.output.length>1?`resultX_${m}[x] = subKernelResult_${m};
`:`result_${m}[x] = subKernelResult_${m};
`)}this.followingReturnStatement=u.join("")}const o=b.fromKernel(this,w);this.translatedSources=o.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=o.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:u,output:f}=this;if(!u)throw new Error("no canvas available for using graphical output");const m=f[0],x=f[1]||1;u.width=m,u.height=x,this._imageData=this.context.createImageData(m,x),this._colorData=new Uint8ClampedArray(m*x*4)}const o=this.getKernelString();this.kernelString=o,this.debug&&(console.log("Function output:"),console.log(o));try{this.run=new Function([],o).bind(this)()}catch(u){console.error("An error occurred compiling the javascript: ",u)}this.buildSignature(arguments),this.built=!0}color(o,u,f,m){typeof m>"u"&&(m=1),o=Math.floor(o*255),u=Math.floor(u*255),f=Math.floor(f*255),m=Math.floor(m*255);const x=this.output[0],E=this.output[1],S=this.thread.x,R=E-this.thread.y-1,M=S+R*x;this._colorData[M*4+0]=o,this._colorData[M*4+1]=u,this._colorData[M*4+2]=f,this._colorData[M*4+3]=m}getKernelString(){if(this._kernelString!==null)return this._kernelString;let o=null,{translatedSources:u}=this;return u.length>1?u=u.filter(f=>/^function/.test(f)?f:(o=f,!1)):o=u.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(f=>"user_"+f).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody(o):this._resultKernelBody(o)}
    ${u.length>0?u.join(`
`):""}
  };`}toString(){return h(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const o=[];for(let u in this.constants)switch(this.constantTypes[u]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`    const constants_${u} = this._mediaTo2DArray(this.constants.${u});
`);break;case"HTMLImageArray":o.push(`    const constants_${u} = this._imageTo3DArray(this.constants.${u});
`);break;case"Input":o.push(`    const constants_${u} = this.constants.${u}.value;
`);break;default:o.push(`    const constants_${u} = this.constants.${u};
`)}return o.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const o=[];for(let f=0;f<this.argumentTypes.length;f++)this.argumentTypes[f]==="Array"&&o.push(this.argumentNames[f]);if(o.length===0)return"";const u=[];for(let f=0;f<o.length;f++){const m=o[f],x=this._mapSubKernels(E=>`user_${m} === result_${E.name}`).join(" || ");u.push(`user_${m} === result${x?` || ${x}`:""}`)}return`if (${u.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const o=[];for(let u=0;u<this.argumentTypes.length;u++){const f=`user_${this.argumentNames[u]}`;switch(this.argumentTypes[u]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`    ${f} = this._mediaTo2DArray(${f});
`);break;case"HTMLImageArray":o.push(`    ${f} = this._imageTo3DArray(${f});
`);break;case"Input":o.push(`    ${f} = ${f}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":o.push(`
    if (${f}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${f});
      if (textureIndex !== -1) {
        ${f} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${f});
        ${f} = ${f}.toArray();
        _this.arrayCache.push(${f});
      }
    }`);break}}return o.join("")}_mediaTo2DArray(o){const u=this.canvas,f=o.width>0?o.width:o.videoWidth,m=o.height>0?o.height:o.videoHeight;u.width<f&&(u.width=f),u.height<m&&(u.height=m);const x=this.context;let E;o.constructor===ImageData?E=o.data:(x.drawImage(o,0,0,f,m),E=x.getImageData(0,0,f,m).data);const S=new Array(m);let R=0;for(let M=m-1;M>=0;M--){const k=S[M]=new Array(f);for(let v=0;v<f;v++){const F=new Float32Array(4);F[0]=E[R++]/255,F[1]=E[R++]/255,F[2]=E[R++]/255,F[3]=E[R++]/255,k[v]=F}}return S}getPixels(o){const[u,f]=this.output;return o?d.flipPixels(this._imageData.data,u,f):this._imageData.data.slice(0)}_imageTo3DArray(o){const u=new Array(o.length);for(let f=0;f<o.length;f++)u[f]=this._mediaTo2DArray(o[f]);return u}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(o){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(o):this._resultImmutableKernel1DLoop(o))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(o):this._resultImmutableKernel2DLoop(o))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(o):this._resultImmutableKernel3DLoop(o))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(o){switch(this.output.length){case 2:return this._graphicalKernel2DLoop(o)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${u}(outputX);
    ${this._mapSubKernels(f=>`const result_${f.name} = new ${u}(outputX);
`).join("    ")}
    ${this._mapSubKernels(f=>`let subKernelResult_${f.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${o}
    }`}_mutableKernel1DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${o}(outputX);
    ${this._mapSubKernels(u=>`const result_${u.name} = new ${o}(outputX);
`).join("    ")}
    ${this._mapSubKernels(u=>`let subKernelResult_${u.name};
`).join("    ")}`}_resultMutableKernel1DLoop(o){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${o}
    }`}_resultImmutableKernel2DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(f=>`const result_${f.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(f=>`let subKernelResult_${f.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${u}(outputX);
      ${this._mapSubKernels(f=>`const resultX_${f.name} = result_${f.name}[y] = new ${u}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_mutableKernel2DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(u=>`const result_${u.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(u=>`let subKernelResult_${u.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${o}(outputX);
      ${this._mapSubKernels(u=>`const resultX_${u.name} = result_${u.name}[y] = new ${o}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(f=>`const resultX_${f.name} = result_${f.name}[y] = new ${u}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_graphicalKernel2DLoop(o){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_resultImmutableKernel3DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(f=>`const result_${f.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(f=>`let subKernelResult_${f.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(f=>`const resultY_${f.name} = result_${f.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${u}(outputX);
        ${this._mapSubKernels(f=>`const resultX_${f.name} = resultY_${f.name}[y] = new ${u}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${o}
        }
      }
    }`}_mutableKernel3DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(u=>`const result_${u.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(u=>`let subKernelResult_${u.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(u=>`const resultY_${u.name} = result_${u.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${o}(outputX);
        ${this._mapSubKernels(u=>`const resultX_${u.name} = resultY_${u.name}[y] = new ${o}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop(o){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${o}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map(o=>`${o.property}: result_${o.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels(o){return this.subKernels===null?[""]:this.subKernels.map(o)}destroy(o){o&&delete this.canvas}static destroyContext(o){}toJSON(){const o=super.toJSON();return o.functionNodes=b.fromKernel(this,w).toJSON(),o}setOutput(o){super.setOutput(o);const[u,f]=this.output;this.graphical&&(this._imageData=this.context.createImageData(u,f),this._colorData=new Uint8ClampedArray(u*f*4))}prependString(o){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(o)}hasPrependString(o){return this._prependedString.indexOf(o)>-1}}l.exports={CPUKernel:c}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(i,l,T){class g{static fromKernel(w,d,h){const{kernelArguments:c,kernelConstants:a,argumentNames:o,argumentSizes:u,argumentBitRatios:f,constants:m,constantBitRatios:x,debug:E,loopMaxIterations:S,nativeFunctions:R,output:M,optimizeFloatMemory:k,precision:v,plugins:F,source:I,subKernels:A,functions:$,leadingReturnStatement:P,followingReturnStatement:B,dynamicArguments:U,dynamicOutput:W}=w,j=new Array(c.length),H={};for(let ge=0;ge<c.length;ge++)j[ge]=c[ge].type;for(let ge=0;ge<a.length;ge++){const Pe=a[ge];H[Pe.name]=Pe.type}const Q=(ge,Pe)=>Se.needsArgumentType(ge,Pe),X=(ge,Pe,Je)=>{Se.assignArgumentType(ge,Pe,Je)},ee=(ge,Pe,Je)=>Se.lookupReturnType(ge,Pe,Je),ie=ge=>Se.lookupFunctionArgumentTypes(ge),ne=(ge,Pe)=>Se.lookupFunctionArgumentName(ge,Pe),ae=(ge,Pe)=>Se.lookupFunctionArgumentBitRatio(ge,Pe),re=(ge,Pe,Je,Ve)=>{Se.assignArgumentType(ge,Pe,Je,Ve)},fe=(ge,Pe,Je,Ve)=>{Se.assignArgumentBitRatio(ge,Pe,Je,Ve)},pe=(ge,Pe,Je)=>{Se.trackFunctionCall(ge,Pe,Je)},he=(ge,Pe)=>{const Je=[];for(let Tt=0;Tt<ge.params.length;Tt++)Je.push(ge.params[Tt].name);const Ve=new d(Pe,Object.assign({},$e,{returnType:null,ast:ge,name:ge.id.name,argumentNames:Je,lookupReturnType:ee,lookupFunctionArgumentTypes:ie,lookupFunctionArgumentName:ne,lookupFunctionArgumentBitRatio:ae,needsArgumentType:Q,assignArgumentType:X,triggerImplyArgumentType:re,triggerImplyArgumentBitRatio:fe,onFunctionCall:pe}));Ve.traceFunctionAST(ge),Se.addFunctionNode(Ve)},$e=Object.assign({isRootKernel:!1,onNestedFunction:he,lookupReturnType:ee,lookupFunctionArgumentTypes:ie,lookupFunctionArgumentName:ne,lookupFunctionArgumentBitRatio:ae,needsArgumentType:Q,assignArgumentType:X,triggerImplyArgumentType:re,triggerImplyArgumentBitRatio:fe,onFunctionCall:pe,optimizeFloatMemory:k,precision:v,constants:m,constantTypes:H,constantBitRatios:x,debug:E,loopMaxIterations:S,output:M,plugins:F,dynamicArguments:U,dynamicOutput:W},h||{}),Le=Object.assign({},$e,{isRootKernel:!0,name:"kernel",argumentNames:o,argumentTypes:j,argumentSizes:u,argumentBitRatios:f,leadingReturnStatement:P,followingReturnStatement:B});if(typeof I=="object"&&I.functionNodes)return new g().fromJSON(I.functionNodes,d);const Oe=new d(I,Le);let Ne=null;$&&(Ne=$.map(ge=>new d(ge.source,{returnType:ge.returnType,argumentTypes:ge.argumentTypes,output:M,plugins:F,constants:m,constantTypes:H,constantBitRatios:x,optimizeFloatMemory:k,precision:v,lookupReturnType:ee,lookupFunctionArgumentTypes:ie,lookupFunctionArgumentName:ne,lookupFunctionArgumentBitRatio:ae,needsArgumentType:Q,assignArgumentType:X,triggerImplyArgumentType:re,triggerImplyArgumentBitRatio:fe,onFunctionCall:pe,onNestedFunction:he})));let be=null;A&&(be=A.map(ge=>{const{name:Pe,source:Je}=ge;return new d(Je,Object.assign({},$e,{name:Pe,isSubKernel:!0,isRootKernel:!1}))}));const Se=new g({kernel:w,rootNode:Oe,functionNodes:Ne,nativeFunctions:R,subKernelNodes:be});return Se}constructor(w){if(w=w||{},this.kernel=w.kernel,this.rootNode=w.rootNode,this.functionNodes=w.functionNodes||[],this.subKernelNodes=w.subKernelNodes||[],this.nativeFunctions=w.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let d=0;d<this.functionNodes.length;d++)this.functionMap[this.functionNodes[d].name]=this.functionNodes[d];if(this.subKernelNodes)for(let d=0;d<this.subKernelNodes.length;d++)this.functionMap[this.subKernelNodes[d].name]=this.subKernelNodes[d];if(this.nativeFunctions)for(let d=0;d<this.nativeFunctions.length;d++){const h=this.nativeFunctions[d];this.nativeFunctionNames.push(h.name)}}addFunctionNode(w){if(!w.name)throw new Error("functionNode.name needs set");this.functionMap[w.name]=w,w.isRootKernel&&(this.rootNode=w)}traceFunctionCalls(w,d){if(w=w||"kernel",d=d||[],this.nativeFunctionNames.indexOf(w)>-1){const c=d.indexOf(w);if(c===-1)d.push(w);else{const a=d.splice(c,1)[0];d.push(a)}return d}const h=this.functionMap[w];if(h){const c=d.indexOf(w);if(c===-1){d.push(w),h.toString();for(let a=0;a<h.calledFunctions.length;++a)this.traceFunctionCalls(h.calledFunctions[a],d)}else{const a=d.splice(c,1)[0];d.push(a)}}return d}getPrototypeString(w){return this.getPrototypes(w).join(`
`)}getPrototypes(w){return this.rootNode&&this.rootNode.toString(),w?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(w,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(w){const d=[];for(let h=0;h<w.length;++h)this.functionMap[w[h]]&&d.push(this.functionMap[w[h]].toString());return d.join(`
`)}getPrototypesFromFunctionNames(w){const d=[];for(let h=0;h<w.length;++h){const c=w[h],a=this.nativeFunctionNames.indexOf(c);if(a>-1){d.push(this.nativeFunctions[a].source);continue}const o=this.functionMap[c];o&&d.push(o.toString())}return d}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(w=>{const d=this.nativeFunctions.indexOf(w);if(d>-1)return{name:w,source:this.nativeFunctions[d].source};if(this.functionMap[w])return this.functionMap[w].toJSON();throw new Error(`function ${w} not found`)})}fromJSON(w,d){this.functionMap={};for(let h=0;h<w.length;h++){const c=w[h];this.functionMap[c.settings.name]=new d(c.ast,c.settings)}return this}getString(w){return w?this.getStringFromFunctionNames(this.traceFunctionCalls(w).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(w,d,h){if(d.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${d.type}`);if(this._isNativeFunction(w))return this._lookupNativeFunctionReturnType(w);if(this._isFunction(w)){const c=this._getFunction(w);if(c.returnType)return c.returnType;{for(let o=0;o<this.lookupChain.length;o++)if(this.lookupChain[o].ast===d){if(c.argumentTypes.length===0&&d.arguments.length>0){const u=d.arguments;for(let f=0;f<u.length;f++)this.lookupChain.push({name:h.name,ast:u[o],requestingNode:h}),c.argumentTypes[f]=h.getType(u[f]),this.lookupChain.pop();return c.returnType=c.getType(c.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:h.name,ast:d,requestingNode:h});const a=c.getType(c.getJsAST());return this.lookupChain.pop(),c.returnType=a}}return null}_getFunction(w){return this._isFunction(w),this.functionMap[w]}_isFunction(w){return!!this.functionMap[w]}_getNativeFunction(w){for(let d=0;d<this.nativeFunctions.length;d++)if(this.nativeFunctions[d].name===w)return this.nativeFunctions[d];return null}_isNativeFunction(w){return!!this._getNativeFunction(w)}_lookupNativeFunctionReturnType(w){let d=this._getNativeFunction(w);if(d)return d.returnType;throw new Error(`Native function ${w} not found`)}lookupFunctionArgumentTypes(w){return this._isNativeFunction(w)?this._getNativeFunction(w).argumentTypes:this._isFunction(w)?this._getFunction(w).argumentTypes:null}lookupFunctionArgumentName(w,d){return this._getFunction(w).argumentNames[d]}lookupFunctionArgumentBitRatio(w,d){if(!this._isFunction(w))throw new Error("function not found");if(this.rootNode.name===w){const o=this.rootNode.argumentNames.indexOf(d);if(o!==-1)return this.rootNode.argumentBitRatios[o]}const h=this._getFunction(w),c=h.argumentNames.indexOf(d);if(c===-1)throw new Error("argument not found");const a=h.argumentBitRatios[c];if(typeof a!="number")throw new Error("argument bit ratio not found");return a}needsArgumentType(w,d){return this._isFunction(w)?!this._getFunction(w).argumentTypes[d]:!1}assignArgumentType(w,d,h,c){if(!this._isFunction(w))return;const a=this._getFunction(w);a.argumentTypes[d]||(a.argumentTypes[d]=h)}assignArgumentBitRatio(w,d,h,c){const a=this._getFunction(w);if(this._isNativeFunction(h))return null;const o=this._getFunction(h),u=a.argumentNames.indexOf(d);if(u===-1)throw new Error(`Argument ${d} not found in arguments from function ${w}`);const f=a.argumentBitRatios[u];if(typeof f!="number")throw new Error(`Bit ratio for argument ${d} not found in function ${w}`);o.argumentBitRatios||(o.argumentBitRatios=new Array(o.argumentNames.length));const m=o.argumentBitRatios[u];if(typeof m=="number"){if(m!==f)throw new Error(`Incompatible bit ratio found at function ${w} at argument ${d}`);return m}return o.argumentBitRatios[u]=f,f}trackFunctionCall(w,d,h){this.functionNodeDependencies[w]||(this.functionNodeDependencies[w]=new Set,this.functionCalls[w]=[]),this.functionNodeDependencies[w].add(d),this.functionCalls[w].push(h)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(w){const d=this.subKernelNodes[w];let h=!1;for(let c=0;c<this.rootNode.functionCalls.length;c++)this.rootNode.functionCalls[c].ast.callee.name===d.name&&(h=!0);if(!h)throw new Error(`SubKernel ${d.name} never called by kernel`);return d.returnType||d.getType(d.getJsAST())}getReturnTypes(){const w={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},d=this.traceFunctionCalls(this.rootNode.name);for(let h=0;h<d.length;h++){const c=d[h],a=this.functionMap[c];w[c]=a.getType(a.ast)}return w}}l.exports={FunctionBuilder:g}},{}],10:[function(i,l,T){const g=i("acorn"),{utils:b}=i("../utils"),{FunctionTracer:w}=i("./function-tracer");class d{constructor(a,o){if(!a&&!o.ast)throw new Error("source parameter is missing");if(o=o||{},this.source=a,this.ast=null,this.name=typeof a=="string"?o.isRootKernel?"kernel":o.name||b.getFunctionNameFromString(a):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?b.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,o)for(const u in o)o.hasOwnProperty(u)&&this.hasOwnProperty(u)&&(this[u]=o[u]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!b.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(a){return this.constants?this.constants.hasOwnProperty(a):!1}isInput(a){return this.argumentTypes[this.argumentNames.indexOf(a)]==="Input"}pushState(a){this.states.push(a)}popState(a){if(this.state!==a)throw new Error(`Cannot popState ${a} when in ${this.state}`);this.states.pop()}isState(a){return this.state===a}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(a){if(a.type==="Identifier")return a.name;if(a.type==="ThisExpression")return"this";if(a.type==="MemberExpression"&&a.object&&a.property)return a.object.hasOwnProperty("name")&&a.object.name!=="Math"?this.astMemberExpressionUnroll(a.property):this.astMemberExpressionUnroll(a.object)+"."+this.astMemberExpressionUnroll(a.property);if(a.hasOwnProperty("expressions")){const o=a.expressions[0];if(o.type==="Literal"&&o.value===0&&a.expressions.length===2)return this.astMemberExpressionUnroll(a.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",a)}getJsAST(a){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(a=a||g,a===null)throw new Error("Missing JS to AST parser");const o=Object.freeze(a.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),u=o.body[0].declarations[0].init;if(this.traceFunctionAST(u),!o)throw new Error("Failed to parse JS code");return this.ast=u}traceFunctionAST(a){const{contexts:o,declarations:u,functions:f,identifiers:m,functionCalls:x}=new w(a);this.contexts=o,this.identifiers=m,this.functionCalls=x,this.functions=f;for(let E=0;E<u.length;E++){const S=u[E],{ast:R,inForLoopInit:M,inForLoopTest:k}=S,{init:v}=R,F=this.getDependencies(v);let I=null;if(M&&k)I="Integer";else if(v){const A=this.getType(v);switch(A){case"Integer":case"Float":case"Number":v.type==="MemberExpression"?I=A:I="Number";break;case"LiteralInteger":I="Number";break;default:I=A}}S.valueType=I,S.dependencies=F,S.isSafe=this.isSafeDependencies(F)}for(let E=0;E<f.length;E++)this.onNestedFunction(f[E],this.source)}getDeclaration(a){for(let o=0;o<this.identifiers.length;o++){const u=this.identifiers[o];if(a===u.ast)return u.declaration}return null}getVariableType(a){if(a.type!=="Identifier")throw new Error(`ast of ${a.type} not "Identifier"`);let o=null;const u=this.argumentNames.indexOf(a.name);if(u===-1){const f=this.getDeclaration(a);if(f)return f.valueType}else{const f=this.argumentTypes[u];f&&(o=f)}if(!o&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return o}getLookupType(a){if(!h.hasOwnProperty(a))throw new Error(`unknown typeLookupMap ${a}`);return h[a]}getConstantType(a){if(this.constantTypes[a]){const o=this.constantTypes[a];return o==="Float"?"Number":o}throw new Error(`Type for constant "${a}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const a={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:a}}getType(a){if(Array.isArray(a))return this.getType(a[a.length-1]);switch(a.type){case"BlockStatement":return this.getType(a.body);case"ArrayExpression":switch(this.getType(a.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${a.elements.length})`}return`Array(${a.elements.length})`;case"Literal":const u=this.astKey(a);return this.literalTypes[u]?this.literalTypes[u]:Number.isInteger(a.value)?"LiteralInteger":a.value===!0||a.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(a.left);case"CallExpression":if(this.isAstMathFunction(a))return"Number";if(!a.callee||!a.callee.name){if(a.callee.type==="SequenceExpression"&&a.callee.expressions[a.callee.expressions.length-1].property.name){const S=a.callee.expressions[a.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(S,a.arguments),this.lookupReturnType(S,a,this)}if(this.getVariableSignature(a.callee,!0)==="this.color")return null;if(a.callee.type==="MemberExpression"&&a.callee.object&&a.callee.property&&a.callee.property.name&&a.arguments){const S=a.callee.property.name;return this.inferArgumentTypesIfNeeded(S,a.arguments),this.lookupReturnType(S,a,this)}throw this.astErrorOutput("Unknown call expression",a)}if(a.callee&&a.callee.name){const S=a.callee.name;return this.inferArgumentTypesIfNeeded(S,a.arguments),this.lookupReturnType(S,a,this)}throw this.astErrorOutput(`Unhandled getType Type "${a.type}"`,a);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(a.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const f=this.getType(a.left);if(this.isState("skip-literal-correction"))return f;if(f==="LiteralInteger"){const S=this.getType(a.right);return S==="LiteralInteger"?a.left.value%1===0?"Integer":"Float":S}return h[f]||f;case"UpdateExpression":return this.getType(a.argument);case"UnaryExpression":return a.operator==="~"?"Integer":this.getType(a.argument);case"VariableDeclaration":{const S=a.declarations;let R;for(let M=0;M<S.length;M++){const k=S[M];R=this.getType(k)}if(!R)throw this.astErrorOutput("Unable to find type for declaration",a);return R}case"VariableDeclarator":const m=this.getDeclaration(a.id);if(!m)throw this.astErrorOutput("Unable to find declarator",a);if(!m.valueType)throw this.astErrorOutput("Unable to find declarator valueType",a);return m.valueType;case"Identifier":if(a.name==="Infinity")return"Number";if(this.isAstVariable(a)&&this.getVariableSignature(a)==="value")return this.getCheckVariableType(a);const x=this.findIdentifierOrigin(a);return x&&x.init?this.getType(x.init):null;case"ReturnStatement":return this.getType(a.argument);case"MemberExpression":if(this.isAstMathFunction(a)){switch(a.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(a)){switch(this.getVariableSignature(a)){case"value[]":return this.getLookupType(this.getCheckVariableType(a.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(a.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(a.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(a.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(a.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(a.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(a.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(a.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(a.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(a.object));case"value.value":if(this.isAstMathVariable(a))return"Number";switch(a.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(a.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",a)}throw this.astErrorOutput("Unhandled getType MemberExpression",a);case"ConditionalExpression":return this.getType(a.consequent);case"FunctionDeclaration":case"FunctionExpression":const E=this.findLastReturn(a.body);return E?this.getType(E):null;case"IfStatement":return this.getType(a.consequent);case"SequenceExpression":return this.getType(a.expressions[a.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${a.type}"`,a)}}getCheckVariableType(a){const o=this.getVariableType(a);if(!o)throw this.astErrorOutput(`${a.type} is not defined`,a);return o}inferArgumentTypesIfNeeded(a,o){for(let u=0;u<o.length;u++){if(!this.needsArgumentType(a,u))continue;const f=this.getType(o[u]);if(!f)throw this.astErrorOutput(`Unable to infer argument ${u}`,o[u]);this.assignArgumentType(a,u,f)}}isAstMathVariable(a){const o=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return a.type==="MemberExpression"&&a.object&&a.object.type==="Identifier"&&a.object.name==="Math"&&a.property&&a.property.type==="Identifier"&&o.indexOf(a.property.name)>-1}isAstMathFunction(a){const o=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return a.type==="CallExpression"&&a.callee&&a.callee.type==="MemberExpression"&&a.callee.object&&a.callee.object.type==="Identifier"&&a.callee.object.name==="Math"&&a.callee.property&&a.callee.property.type==="Identifier"&&o.indexOf(a.callee.property.name)>-1}isAstVariable(a){return a.type==="Identifier"||a.type==="MemberExpression"}isSafe(a){return this.isSafeDependencies(this.getDependencies(a))}isSafeDependencies(a){return a&&a.every?a.every(o=>o.isSafe):!0}getDependencies(a,o,u){if(o||(o=[]),!a)return null;if(Array.isArray(a)){for(let f=0;f<a.length;f++)this.getDependencies(a[f],o,u);return o}switch(a.type){case"AssignmentExpression":return this.getDependencies(a.left,o,u),this.getDependencies(a.right,o,u),o;case"ConditionalExpression":return this.getDependencies(a.test,o,u),this.getDependencies(a.alternate,o,u),this.getDependencies(a.consequent,o,u),o;case"Literal":o.push({origin:"literal",value:a.value,isSafe:u===!0?!1:a.value>-1/0&&a.value<1/0&&!isNaN(a.value)});break;case"VariableDeclarator":return this.getDependencies(a.init,o,u);case"Identifier":const f=this.getDeclaration(a);if(f)o.push({name:a.name,origin:"declaration",isSafe:u?!1:this.isSafeDependencies(f.dependencies)});else if(this.argumentNames.indexOf(a.name)>-1)o.push({name:a.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${a.name}"`);break;case"FunctionDeclaration":return this.getDependencies(a.body.body[a.body.body.length-1],o,u);case"ReturnStatement":return this.getDependencies(a.argument,o);case"BinaryExpression":case"LogicalExpression":return u=a.operator==="/"||a.operator==="*",this.getDependencies(a.left,o,u),this.getDependencies(a.right,o,u),o;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(a.argument,o,u);case"VariableDeclaration":return this.getDependencies(a.declarations,o,u);case"ArrayExpression":return o.push({origin:"declaration",isSafe:!0}),o;case"CallExpression":return o.push({origin:"function",isSafe:!0}),o;case"MemberExpression":const m=this.getMemberExpressionDetails(a);switch(m.signature){case"value[]":this.getDependencies(a.object,o,u);break;case"value[][]":this.getDependencies(a.object.object,o,u);break;case"value[][][]":this.getDependencies(a.object.object.object,o,u);break;case"this.output.value":this.dynamicOutput&&o.push({name:m.name,origin:"output",isSafe:!1});break}if(m)return m.property&&this.getDependencies(m.property,o,u),m.xProperty&&this.getDependencies(m.xProperty,o,u),m.yProperty&&this.getDependencies(m.yProperty,o,u),m.zProperty&&this.getDependencies(m.zProperty,o,u),o;case"SequenceExpression":return this.getDependencies(a.expressions,o,u);default:throw this.astErrorOutput(`Unhandled type ${a.type} in getDependencies`,a)}return o}getVariableSignature(a,o){if(!this.isAstVariable(a))throw new Error(`ast of type "${a.type}" is not a variable signature`);if(a.type==="Identifier")return"value";const u=[];for(;a;)a.computed?u.push("[]"):a.type==="ThisExpression"?u.unshift("this"):a.property&&a.property.name?a.property.name==="x"||a.property.name==="y"||a.property.name==="z"?u.unshift(o?"."+a.property.name:".value"):a.property.name==="constants"||a.property.name==="thread"||a.property.name==="output"?u.unshift("."+a.property.name):u.unshift(o?"."+a.property.name:".value"):a.name?u.unshift(o?a.name:"value"):a.callee&&a.callee.name?u.unshift(o?a.callee.name+"()":"fn()"):a.elements?u.unshift("[]"):u.unshift("unknown"),a=a.object;const f=u.join("");return o||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(f)>-1?f:null}build(){return this.toString().length>0}astGeneric(a,o){if(a===null)throw this.astErrorOutput("NULL ast",a);if(Array.isArray(a)){for(let u=0;u<a.length;u++)this.astGeneric(a[u],o);return o}switch(a.type){case"FunctionDeclaration":return this.astFunctionDeclaration(a,o);case"FunctionExpression":return this.astFunctionExpression(a,o);case"ReturnStatement":return this.astReturnStatement(a,o);case"Literal":return this.astLiteral(a,o);case"BinaryExpression":return this.astBinaryExpression(a,o);case"Identifier":return this.astIdentifierExpression(a,o);case"AssignmentExpression":return this.astAssignmentExpression(a,o);case"ExpressionStatement":return this.astExpressionStatement(a,o);case"EmptyStatement":return this.astEmptyStatement(a,o);case"BlockStatement":return this.astBlockStatement(a,o);case"IfStatement":return this.astIfStatement(a,o);case"SwitchStatement":return this.astSwitchStatement(a,o);case"BreakStatement":return this.astBreakStatement(a,o);case"ContinueStatement":return this.astContinueStatement(a,o);case"ForStatement":return this.astForStatement(a,o);case"WhileStatement":return this.astWhileStatement(a,o);case"DoWhileStatement":return this.astDoWhileStatement(a,o);case"VariableDeclaration":return this.astVariableDeclaration(a,o);case"VariableDeclarator":return this.astVariableDeclarator(a,o);case"ThisExpression":return this.astThisExpression(a,o);case"SequenceExpression":return this.astSequenceExpression(a,o);case"UnaryExpression":return this.astUnaryExpression(a,o);case"UpdateExpression":return this.astUpdateExpression(a,o);case"LogicalExpression":return this.astLogicalExpression(a,o);case"MemberExpression":return this.astMemberExpression(a,o);case"CallExpression":return this.astCallExpression(a,o);case"ArrayExpression":return this.astArrayExpression(a,o);case"DebuggerStatement":return this.astDebuggerStatement(a,o);case"ConditionalExpression":return this.astConditionalExpression(a,o)}throw this.astErrorOutput("Unknown ast type : "+a.type,a)}astErrorOutput(a,o){if(typeof this.source!="string")return new Error(a);const u=b.getAstString(this.source,o),m=this.source.substr(o.start).split(/\n/),x=m.length>0?m[m.length-1]:0;return new Error(`${a} on line ${m.length}, position ${x.length}:
 ${u}`)}astDebuggerStatement(a,o){return o}astConditionalExpression(a,o){if(a.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",a);return o.push("("),this.astGeneric(a.test,o),o.push("?"),this.astGeneric(a.consequent,o),o.push(":"),this.astGeneric(a.alternate,o),o.push(")"),o}astFunction(a,o){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(a,o){return this.isChildFunction(a)?o:this.astFunction(a,o)}astFunctionExpression(a,o){return this.isChildFunction(a)?o:this.astFunction(a,o)}isChildFunction(a){for(let o=0;o<this.functions.length;o++)if(this.functions[o]===a)return!0;return!1}astReturnStatement(a,o){return o}astLiteral(a,o){return this.literalTypes[this.astKey(a)]="Number",o}astBinaryExpression(a,o){return o}astIdentifierExpression(a,o){return o}astAssignmentExpression(a,o){return o}astExpressionStatement(a,o){return this.astGeneric(a.expression,o),o.push(";"),o}astEmptyStatement(a,o){return o}astBlockStatement(a,o){return o}astIfStatement(a,o){return o}astSwitchStatement(a,o){return o}astBreakStatement(a,o){return o.push("break;"),o}astContinueStatement(a,o){return o.push(`continue;
`),o}astForStatement(a,o){return o}astWhileStatement(a,o){return o}astDoWhileStatement(a,o){return o}astVariableDeclarator(a,o){return this.astGeneric(a.id,o),a.init!==null&&(o.push("="),this.astGeneric(a.init,o)),o}astThisExpression(a,o){return o}astSequenceExpression(a,o){const{expressions:u}=a,f=[];for(let m=0;m<u.length;m++){const x=u[m],E=[];this.astGeneric(x,E),f.push(E.join(""))}return f.length>1?o.push("(",f.join(","),")"):o.push(f[0]),o}astUnaryExpression(a,o){return this.checkAndUpconvertBitwiseUnary(a,o)||(a.prefix?(o.push(a.operator),this.astGeneric(a.argument,o)):(this.astGeneric(a.argument,o),o.push(a.operator))),o}checkAndUpconvertBitwiseUnary(a,o){}astUpdateExpression(a,o){return a.prefix?(o.push(a.operator),this.astGeneric(a.argument,o)):(this.astGeneric(a.argument,o),o.push(a.operator)),o}astLogicalExpression(a,o){return o.push("("),this.astGeneric(a.left,o),o.push(a.operator),this.astGeneric(a.right,o),o.push(")"),o}astMemberExpression(a,o){return o}astCallExpression(a,o){return o}astArrayExpression(a,o){return o}getMemberExpressionDetails(a){if(a.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${a.type} not a MemberExpression`,a);let o=null,u=null;const f=this.getVariableSignature(a);switch(f){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:f,type:"Integer",name:a.property.name};case"value[]":if(typeof a.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.name,{name:o,origin:"user",signature:f,type:this.getVariableType(a.object),xProperty:a.property};case"value[][]":if(typeof a.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.object.name,{name:o,origin:"user",signature:f,type:this.getVariableType(a.object.object),yProperty:a.object.property,xProperty:a.property};case"value[][][]":if(typeof a.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.object.object.name,{name:o,origin:"user",signature:f,type:this.getVariableType(a.object.object.object),zProperty:a.object.object.property,yProperty:a.object.property,xProperty:a.property};case"value[][][][]":if(typeof a.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.object.object.object.name,{name:o,origin:"user",signature:f,type:this.getVariableType(a.object.object.object.object),zProperty:a.object.object.property,yProperty:a.object.property,xProperty:a.property};case"value.value":if(typeof a.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(this.isAstMathVariable(a))return o=a.property.name,{name:o,origin:"Math",type:"Number",signature:f};switch(a.property.name){case"r":case"g":case"b":case"a":return o=a.object.name,{name:o,property:a.property.name,origin:"user",signature:f,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",a)}case"this.constants.value":if(typeof a.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:u,origin:"constants",signature:f};case"this.constants.value[]":if(typeof a.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.object.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:u,origin:"constants",signature:f,xProperty:a.property};case"this.constants.value[][]":{if(typeof a.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.object.object.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:u,origin:"constants",signature:f,yProperty:a.object.property,xProperty:a.property}}case"this.constants.value[][][]":{if(typeof a.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.object.object.object.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:u,origin:"constants",signature:f,zProperty:a.object.object.property,yProperty:a.object.property,xProperty:a.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:f,property:a.property};default:throw this.astErrorOutput("Unexpected expression",a)}}findIdentifierOrigin(a){const o=[this.ast];for(;o.length>0;){const u=o[0];if(u.type==="VariableDeclarator"&&u.id&&u.id.name&&u.id.name===a.name)return u;if(o.shift(),u.argument)o.push(u.argument);else if(u.body)o.push(u.body);else if(u.declarations)o.push(u.declarations);else if(Array.isArray(u))for(let f=0;f<u.length;f++)o.push(u[f])}return null}findLastReturn(a){const o=[a||this.ast];for(;o.length>0;){const u=o.pop();if(u.type==="ReturnStatement")return u;if(u.type!=="FunctionDeclaration")if(u.argument)o.push(u.argument);else if(u.body)o.push(u.body);else if(u.declarations)o.push(u.declarations);else if(Array.isArray(u))for(let f=0;f<u.length;f++)o.push(u[f]);else u.consequent?o.push(u.consequent):u.cases&&o.push(u.cases)}return null}getInternalVariableName(a){return this._internalVariableNames.hasOwnProperty(a)||(this._internalVariableNames[a]=0),this._internalVariableNames[a]++,this._internalVariableNames[a]===1?a:a+this._internalVariableNames[a]}astKey(a,o=","){if(!a.start||!a.end)throw new Error("AST start and end needed");return`${a.start}${o}${a.end}`}}const h={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};l.exports={FunctionNode:d}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(i,l,T){const{utils:g}=i("../utils");function b(h){return h.length>0?h[h.length-1]:null}const w={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class d{constructor(c){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(c)}isState(c){return this.states[this.states.length-1]===c}hasState(c){return this.states.indexOf(c)>-1}pushState(c){this.states.push(c)}popState(c){if(this.isState(c))this.states.pop();else throw new Error(`Cannot pop the non-active state "${c}"`)}get currentFunctionContext(){return b(this.functionContexts)}get currentContext(){return b(this.runningContexts)}newFunctionContext(){const c={"@contextType":"function"};this.contexts.push(c),this.functionContexts.push(c)}newContext(c){const a=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(a),this.runningContexts.push(a),c();const{currentFunctionContext:o}=this;for(const u in o)!o.hasOwnProperty(u)||a.hasOwnProperty(u)||(a[u]=o[u]);return this.runningContexts.pop(),a}useFunctionContext(c){const a=b(this.functionContexts);this.runningContexts.push(a),c(),this.runningContexts.pop()}getIdentifiers(c){const a=this.trackedIdentifiers=[];return this.pushState(w.trackIdentifiers),c(),this.trackedIdentifiers=null,this.popState(w.trackIdentifiers),a}getDeclaration(c){const{currentContext:a,currentFunctionContext:o,runningContexts:u}=this,f=a[c]||o[c]||null;if(!f&&a===o&&u.length>0){const m=u[u.length-2];if(m[c])return m[c]}return f}scan(c){if(c){if(Array.isArray(c)){for(let a=0;a<c.length;a++)this.scan(c[a]);return}switch(c.type){case"Program":this.useFunctionContext(()=>{this.scan(c.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(c.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(c.left),this.scan(c.right);break;case"BinaryExpression":this.scan(c.left),this.scan(c.right);break;case"UpdateExpression":if(c.operator==="++"){const a=this.getDeclaration(c.argument.name);a&&(a.suggestedType="Integer")}this.scan(c.argument);break;case"UnaryExpression":this.scan(c.argument);break;case"VariableDeclaration":c.kind==="var"?this.useFunctionContext(()=>{c.declarations=g.normalizeDeclarations(c),this.scan(c.declarations)}):(c.declarations=g.normalizeDeclarations(c),this.scan(c.declarations));break;case"VariableDeclarator":{const{currentContext:a}=this,o=this.hasState(w.inForLoopInit),u={ast:c,context:a,name:c.id.name,origin:"declaration",inForLoopInit:o,inForLoopTest:null,assignable:a===this.currentFunctionContext||!o&&!a.hasOwnProperty(c.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};a[c.id.name]||(a[c.id.name]=u),this.declarations.push(u),this.scan(c.id),this.scan(c.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(c.body):this.functions.push(c);break;case"IfStatement":this.scan(c.test),this.scan(c.consequent),c.alternate&&this.scan(c.alternate);break;case"ForStatement":{let a;const o=this.newContext(()=>{this.pushState(w.inForLoopInit),this.scan(c.init),this.popState(w.inForLoopInit),a=this.getIdentifiers(()=>{this.scan(c.test)}),this.scan(c.update),this.newContext(()=>{this.scan(c.body)})});if(a)for(const u in o)u!=="@contextType"&&a.indexOf(u)>-1&&(o[u].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(c.body),this.scan(c.test)});break;case"Identifier":{this.isState(w.trackIdentifiers)&&this.trackedIdentifiers.push(c.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(c.name),ast:c});break}case"ReturnStatement":this.returnStatements.push(c),this.scan(c.argument);break;case"MemberExpression":this.pushState(w.memberExpression),this.scan(c.object),this.scan(c.property),this.popState(w.memberExpression);break;case"ExpressionStatement":this.scan(c.expression);break;case"SequenceExpression":this.scan(c.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:c}),this.scan(c.arguments);break;case"ArrayExpression":this.scan(c.elements);break;case"ConditionalExpression":this.scan(c.test),this.scan(c.alternate),this.scan(c.consequent);break;case"SwitchStatement":this.scan(c.discriminant),this.scan(c.cases);break;case"SwitchCase":this.scan(c.test),this.scan(c.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${c.type}"`)}}}}l.exports={FunctionTracer:d}},{"../utils":114}],12:[function(i,l,T){const{glWiretap:g}=i("gl-wiretap"),{utils:b}=i("../../utils");function w(u){return u.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function d(u,f,m,x,E){m.built||m.build.apply(m,f),f=f?Array.from(f).map(Le=>{switch(typeof Le){case"boolean":return new Boolean(Le);case"number":return new Number(Le);default:return Le}}):null;const S=[],R=g(m.context,{useTrackablePrimitives:!0,onReadPixels:Le=>{if(pe.subKernels){if(!M)S.push(`    const result = { result: ${h(Le,pe)} };`),M=!0;else{const Oe=pe.subKernels[k++].property;S.push(`    result${isNaN(Oe)?"."+Oe:`[${Oe}]`} = ${h(Le,pe)};`)}k===pe.subKernels.length&&S.push("    return result;");return}Le?S.push(`    return ${h(Le,pe)};`):S.push("    return null;")},onUnrecognizedArgumentLookup:Le=>{const Oe=o(Le,pe.kernelArguments,[],R);if(Oe)return Oe;const Ne=o(Le,pe.kernelConstants,B?Object.keys(B).map(be=>B[be]):[],R);return Ne||null}});let M=!1,k=0;const{source:v,canvas:F,output:I,pipeline:A,graphical:$,loopMaxIterations:P,constants:B,optimizeFloatMemory:U,precision:W,fixIntegerDivisionAccuracy:j,functions:H,nativeFunctions:Q,subKernels:X,immutable:ee,argumentTypes:ie,constantTypes:ne,kernelArguments:ae,kernelConstants:re,tactic:fe}=m,pe=new u(v,{canvas:F,context:R,checkContext:!1,output:I,pipeline:A,graphical:$,loopMaxIterations:P,constants:B,optimizeFloatMemory:U,precision:W,fixIntegerDivisionAccuracy:j,functions:H,nativeFunctions:Q,subKernels:X,immutable:ee,argumentTypes:ie,constantTypes:ne,tactic:fe});let he=[];if(R.setIndent(2),pe.build.apply(pe,f),he.push(R.toString()),R.reset(),pe.kernelArguments.forEach((Le,Oe)=>{switch(Le.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":R.insertVariable(`uploadValue_${Le.name}`,Le.uploadValue);break;case"HTMLImageArray":for(let Ne=0;Ne<f[Oe].length;Ne++){const be=f[Oe];R.insertVariable(`uploadValue_${Le.name}[${Ne}]`,be[Ne])}break;case"Input":R.insertVariable(`uploadValue_${Le.name}`,Le.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":R.insertVariable(`uploadValue_${Le.name}`,f[Oe].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${Le.type}`)}}),he.push("/** start of injected functions **/"),he.push(`function ${w(b.flattenTo)}`),he.push(`function ${w(b.flatten2dArrayTo)}`),he.push(`function ${w(b.flatten3dArrayTo)}`),he.push(`function ${w(b.flatten4dArrayTo)}`),he.push(`function ${w(b.isArray)}`),pe.renderOutput!==pe.renderTexture&&pe.formatValues&&he.push(`  const renderOutput = function ${w(pe.formatValues)};`),he.push("/** end of injected functions **/"),he.push(`  const innerKernel = function (${pe.kernelArguments.map(Le=>Le.varName).join(", ")}) {`),R.setIndent(4),pe.run.apply(pe,f),pe.renderKernels?pe.renderKernels():pe.renderOutput&&pe.renderOutput(),he.push("    /** start setup uploads for kernel values **/"),pe.kernelArguments.forEach(Le=>{he.push("    "+Le.getStringValueHandler().split(`
`).join(`
    `))}),he.push("    /** end setup uploads for kernel values **/"),he.push(R.toString()),pe.renderOutput===pe.renderTexture){R.reset();const Le=R.getContextVariableName(pe.framebuffer);if(pe.renderKernels){const Oe=pe.renderKernels(),Ne=R.getContextVariableName(pe.texture.texture);he.push(`    return {
      result: {
        texture: ${Ne},
        type: '${Oe.result.type}',
        toArray: ${a(Oe.result,Ne,Le)}
      },`);const{subKernels:be,mappedTextures:Se}=pe;for(let ge=0;ge<be.length;ge++){const Pe=Se[ge],Je=be[ge],Ve=Oe[Je.property],Tt=R.getContextVariableName(Pe.texture);he.push(`
      ${Je.property}: {
        texture: ${Tt},
        type: '${Ve.type}',
        toArray: ${a(Ve,Tt,Le)}
      },`)}he.push("    };")}else{const Oe=pe.renderOutput(),Ne=R.getContextVariableName(pe.texture.texture);he.push(`    return {
        texture: ${Ne},
        type: '${Oe.type}',
        toArray: ${a(Oe,Ne,Le)}
      };`)}}he.push(`    ${E?`
`+E+"    ":""}`),he.push(S.join(`
`)),he.push("  };"),pe.graphical&&(he.push(c(pe)),he.push("  innerKernel.getPixels = getPixels;")),he.push("  return innerKernel;");let $e=[];return re.forEach(Le=>{$e.push(`${Le.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${$e.join("")}
  ${x||""}
${he.join(`
`)}
}`}function h(u,f){const m=f.precision==="single"?u:`new Float32Array(${u}.buffer)`;return f.output[2]?`renderOutput(${m}, ${f.output[0]}, ${f.output[1]}, ${f.output[2]})`:f.output[1]?`renderOutput(${m}, ${f.output[0]}, ${f.output[1]})`:`renderOutput(${m}, ${f.output[0]})`}function c(u){const f=u.getPixels.toString(),m=!/^function/.test(f);return b.flattenFunctionToString(`${m?"function ":""}${f}`,{findDependency:(x,E)=>x==="utils"?`const ${E} = ${b[E].toString()};`:null,thisLookup:x=>{if(x==="context")return null;if(u.hasOwnProperty(x))return JSON.stringify(u[x]);throw new Error(`unhandled thisLookup ${x}`)}})}function a(u,f,m){const x=u.toArray.toString(),E=!/^function/.test(x),S=b.flattenFunctionToString(`${E?"function ":""}${x}`,{findDependency:(R,M)=>{if(R==="utils")return`const ${M} = ${b[M].toString()};`;if(R==="this")return M==="framebuffer"?"":`${E?"function ":""}${u[M].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(R,M)=>{if(R==="texture")return f;if(R==="context")return M?null:"gl";if(u.hasOwnProperty(R))return JSON.stringify(u[R]);throw new Error(`unhandled thisLookup ${R}`)}});return`() => {
  function framebuffer() { return ${m}; };
  ${S}
  return toArray();
  }`}function o(u,f,m,x,E){if(u===null||f===null)return null;switch(typeof u){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&u instanceof HTMLImageElement)for(let S=0;S<f.length;S++){const R=f[S];if(R.type!=="HTMLImageArray"&&R||R.uploadValue!==u)continue;const M=m[S].indexOf(u);if(M===-1)continue;const k=`uploadValue_${R.name}[${M}]`;return x.insertVariable(k,u),k}for(let S=0;S<f.length;S++){const R=f[S];if(u!==R.uploadValue)continue;const M=`uploadValue_${R.name}`;return x.insertVariable(M,R),M}return null}l.exports={glKernelString:d}},{"../../utils":114,"gl-wiretap":3}],13:[function(i,l,T){const{Kernel:g}=i("../kernel"),{utils:b}=i("../../utils"),{GLTextureArray2Float:w}=i("./texture/array-2-float"),{GLTextureArray2Float2D:d}=i("./texture/array-2-float-2d"),{GLTextureArray2Float3D:h}=i("./texture/array-2-float-3d"),{GLTextureArray3Float:c}=i("./texture/array-3-float"),{GLTextureArray3Float2D:a}=i("./texture/array-3-float-2d"),{GLTextureArray3Float3D:o}=i("./texture/array-3-float-3d"),{GLTextureArray4Float:u}=i("./texture/array-4-float"),{GLTextureArray4Float2D:f}=i("./texture/array-4-float-2d"),{GLTextureArray4Float3D:m}=i("./texture/array-4-float-3d"),{GLTextureFloat:x}=i("./texture/float"),{GLTextureFloat2D:E}=i("./texture/float-2d"),{GLTextureFloat3D:S}=i("./texture/float-3d"),{GLTextureMemoryOptimized:R}=i("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:M}=i("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:k}=i("./texture/memory-optimized-3d"),{GLTextureUnsigned:v}=i("./texture/unsigned"),{GLTextureUnsigned2D:F}=i("./texture/unsigned-2d"),{GLTextureUnsigned3D:I}=i("./texture/unsigned-3d"),{GLTextureGraphical:A}=i("./texture/graphical");class $ extends g{static get mode(){return"gpu"}static getIsFloatRead(){const U=`function kernelFunction() {
      return 1;
    }`,W=new this(U,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});W.build(),W.run();const j=W.renderOutput();return W.destroy(!0),j[0]===1}static getIsIntegerDivisionAccurate(){function U(Q,X){return Q[this.thread.x]/X[this.thread.x]}const W=new this(U.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),j=[[6,6030401],[3,3991]];W.build.apply(W,j),W.run.apply(W,j);const H=W.renderOutput();return W.destroy(!0),H[0]===2&&H[1]===1511}static getIsSpeedTacticSupported(){function U(Q){return Q[this.thread.x]}const W=new this(U.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),j=[[0,1,2,3]];W.build.apply(W,j),W.run.apply(W,j);const H=W.renderOutput();return W.destroy(!0),Math.round(H[0])===0&&Math.round(H[1])===1&&Math.round(H[2])===2&&Math.round(H[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const U=this.testContext,W=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:W,kernelMap:W,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.LOW_INT),lowFloatPrecision:U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.LOW_FLOAT),mediumIntPrecision:U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.MEDIUM_INT),mediumFloatPrecision:U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.MEDIUM_FLOAT),highIntPrecision:U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.HIGH_INT),highFloatPrecision:U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(U,W){return U.getVariablePrecisionString()+(W.length>0?":"+W.join(","):"")}setFixIntegerDivisionAccuracy(U){return this.fixIntegerDivisionAccuracy=U,this}setPrecision(U){return this.precision=U,this}setFloatTextures(U){return b.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=U,this}static nativeFunctionArguments(U){const W=[],j=[],H=[],Q=/^[a-zA-Z_]/,X=/[a-zA-Z_0-9]/;let ee=0,ie=null,ne=null;for(;ee<U.length;){const ae=U[ee],re=U[ee+1],fe=H.length>0?H[H.length-1]:null;if(fe==="FUNCTION_ARGUMENTS"&&ae==="/"&&re==="*"){H.push("MULTI_LINE_COMMENT"),ee+=2;continue}else if(fe==="MULTI_LINE_COMMENT"&&ae==="*"&&re==="/"){H.pop(),ee+=2;continue}else if(fe==="FUNCTION_ARGUMENTS"&&ae==="/"&&re==="/"){H.push("COMMENT"),ee+=2;continue}else if(fe==="COMMENT"&&ae===`
`){H.pop(),ee++;continue}else if(fe===null&&ae==="("){H.push("FUNCTION_ARGUMENTS"),ee++;continue}else if(fe==="FUNCTION_ARGUMENTS"){if(ae===")"){H.pop();break}if(ae==="f"&&re==="l"&&U[ee+2]==="o"&&U[ee+3]==="a"&&U[ee+4]==="t"&&U[ee+5]===" "){H.push("DECLARE_VARIABLE"),ne="float",ie="",ee+=6;continue}else if(ae==="i"&&re==="n"&&U[ee+2]==="t"&&U[ee+3]===" "){H.push("DECLARE_VARIABLE"),ne="int",ie="",ee+=4;continue}else if(ae==="v"&&re==="e"&&U[ee+2]==="c"&&U[ee+3]==="2"&&U[ee+4]===" "){H.push("DECLARE_VARIABLE"),ne="vec2",ie="",ee+=5;continue}else if(ae==="v"&&re==="e"&&U[ee+2]==="c"&&U[ee+3]==="3"&&U[ee+4]===" "){H.push("DECLARE_VARIABLE"),ne="vec3",ie="",ee+=5;continue}else if(ae==="v"&&re==="e"&&U[ee+2]==="c"&&U[ee+3]==="4"&&U[ee+4]===" "){H.push("DECLARE_VARIABLE"),ne="vec4",ie="",ee+=5;continue}}else if(fe==="DECLARE_VARIABLE"){if(ie===""){if(ae===" "){ee++;continue}if(!Q.test(ae))throw new Error("variable name is not expected string")}ie+=ae,X.test(re)||(H.pop(),j.push(ie),W.push(P[ne]))}ee++}if(H.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:j,argumentTypes:W}}static nativeFunctionReturnType(U){return P[U.match(/int|float|vec[2-4]/)[0]]}static combineKernels(U,W){U.apply(null,arguments);const{texSize:j,context:H,threadDim:Q}=W.texSize;let X;if(W.precision==="single"){const ee=j[0],ie=Math.ceil(j[1]/4);X=new Float32Array(ee*ie*4*4),H.readPixels(0,0,ee,ie*4,H.RGBA,H.FLOAT,X)}else{const ee=new Uint8Array(j[0]*j[1]*4);H.readPixels(0,0,j[0],j[1],H.RGBA,H.UNSIGNED_BYTE,ee),X=new Float32Array(ee.buffer)}if(X=X.subarray(0,Q[0]*Q[1]*Q[2]),W.output.length===1)return X;if(W.output.length===2)return b.splitArray(X,W.output[0]);if(W.output.length===3)return b.splitArray(X,W.output[0]*W.output[1]).map(function(ie){return b.splitArray(ie,W.output[0])})}constructor(U,W){super(U,W),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:U}=this.constructor;if(this.texSize[0]>U.maxTextureSize||this.texSize[1]>U.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${U.maxTextureSize},${U.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(U){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=W=>W,this.TextureConstructor=A,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=I,null):this.output[1]>0?(this.TextureConstructor=F,null):(this.TextureConstructor=v,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(U)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=I,this.formatValues=b.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=F,this.formatValues=b.erect2DPackedFloat,null):(this.TextureConstructor=v,this.formatValues=b.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(U)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=k,null):this.output[1]>0?(this.TextureConstructor=M,null):(this.TextureConstructor=R,null):this.output[2]>0?(this.TextureConstructor=S,null):this.output[1]>0?(this.TextureConstructor=E,null):(this.TextureConstructor=x,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=h,null):this.output[1]>0?(this.TextureConstructor=d,null):(this.TextureConstructor=w,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,null):this.output[1]>0?(this.TextureConstructor=a,null):(this.TextureConstructor=c,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=m,null):this.output[1]>0?(this.TextureConstructor=f,null):(this.TextureConstructor=u,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=k,this.formatValues=b.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=M,this.formatValues=b.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=R,this.formatValues=b.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=h,this.formatValues=b.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=b.erect2DArray2,null):(this.TextureConstructor=w,this.formatValues=b.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=b.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=b.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=b.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=m,this.formatValues=b.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=f,this.formatValues=b.erect2DArray4,null):(this.TextureConstructor=u,this.formatValues=b.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=S,this.formatValues=b.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=E,this.formatValues=b.erect2DFloat,null):(this.TextureConstructor=x,this.formatValues=b.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=h,this.formatValues=b.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=b.erect2DArray2,null):(this.TextureConstructor=w,this.formatValues=b.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=b.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=b.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=b.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=m,this.formatValues=b.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=f,this.formatValues=b.erect2DArray4,null):(this.TextureConstructor=u,this.formatValues=b.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return b.linesToString(this.getMainResultKernelNumberTexture())+b.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return b.linesToString(this.getMainResultKernelArray2Texture())+b.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return b.linesToString(this.getMainResultKernelArray3Texture())+b.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return b.linesToString(this.getMainResultKernelArray4Texture())+b.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:U,context:W}=this,j=new Uint8Array(U[0]*U[1]*4);return W.readPixels(0,0,U[0],U[1],W.RGBA,W.UNSIGNED_BYTE,j),j}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:U,context:W}=this,j=U[0],H=U[1],Q=new Float32Array(j*H*4);return W.readPixels(0,0,j,H,W.RGBA,W.FLOAT,Q),Q}getPixels(U){const{context:W,output:j}=this,[H,Q]=j,X=new Uint8Array(H*Q*4);return W.readPixels(0,0,H,Q,W.RGBA,W.UNSIGNED_BYTE,X),new Uint8ClampedArray((U?X:b.flipPixels(X,H,Q)).buffer)}renderKernelsToArrays(){const U={result:this.renderOutput()};for(let W=0;W<this.subKernels.length;W++)U[this.subKernels[W].property]=this.mappedTextures[W].toArray();return U}renderKernelsToTextures(){const U={result:this.renderOutput()};if(this.immutable)for(let W=0;W<this.subKernels.length;W++)U[this.subKernels[W].property]=this.mappedTextures[W].clone();else for(let W=0;W<this.subKernels.length;W++)U[this.subKernels[W].property]=this.mappedTextures[W];return U}resetSwitchingKernels(){const U=this.switchingKernels;return this.switchingKernels=null,U}setOutput(U){const W=this.toKernelOutput(U);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const j=[W[0],W[1]||1,W[2]||1],H=b.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},j),Q=this.texSize;if(Q){const ee=this.getVariablePrecisionString(Q,this.tactic),ie=this.getVariablePrecisionString(H,this.tactic);if(ee!==ie){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:ie,needed:U});return}}this.output=W,this.threadDim=j,this.texSize=H;const{context:X}=this;if(X.bindFramebuffer(X.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],X.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let ee=0;ee<this.mappedTextures.length;ee++)this.mappedTextures[ee].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=W;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(U){this.switchingKernels?this.switchingKernels.push(U):this.switchingKernels=[U]}getVariablePrecisionString(U=this.texSize,W=this.tactic,j=!1){if(!W){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const H=this.constructor.features[j?"lowIntPrecision":"lowFloatPrecision"],Q=this.constructor.features[j?"mediumIntPrecision":"mediumFloatPrecision"],X=this.constructor.features[j?"highIntPrecision":"highFloatPrecision"],ee=Math.log2(U[0]*U[1]);if(ee<=H.rangeMax)return"lowp";if(ee<=Q.rangeMax)return"mediump";if(ee<=X.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(W){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${W}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(U,W){if(this.immutable){if(this.texture.texture===W.texture){const{prevArg:j}=U;j&&(j.texture._refs===1&&(this.texture.delete(),this.texture=j.clone(),this._textureSwitched=!0),j.delete()),U.prevArg=W.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:j}=this;for(let H=0;H<j.length;H++){const Q=j[H];if(Q.texture===W.texture){const{prevArg:X}=U;X&&(X.texture._refs===1&&(Q.delete(),j[H]=X.clone(),this._mappedTextureSwitched[H]=!0),X.delete()),U.prevArg=W.clone();return}}}}}onActivate(U){if(this._textureSwitched=!0,this.texture=U.texture,this.mappedTextures){for(let W=0;W<this.mappedTextures.length;W++)this._mappedTextureSwitched[W]=!0;this.mappedTextures=U.mappedTextures}}initCanvas(){}}const P={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};l.exports={GLKernel:$}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(2)"}toArray(){return g.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureArray2Float2D:w}},{"../../../utils":114,"./float":25}],15:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(2)"}toArray(){return g.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}l.exports={GLTextureArray2Float3D:w}},{"../../../utils":114,"./float":25}],16:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(2)"}toArray(){return g.erectArray2(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureArray2Float:w}},{"../../../utils":114,"./float":25}],17:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(3)"}toArray(){return g.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureArray3Float2D:w}},{"../../../utils":114,"./float":25}],18:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(3)"}toArray(){return g.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}l.exports={GLTextureArray3Float3D:w}},{"../../../utils":114,"./float":25}],19:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(3)"}toArray(){return g.erectArray3(this.renderValues(),this.output[0])}}l.exports={GLTextureArray3Float:w}},{"../../../utils":114,"./float":25}],20:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(4)"}toArray(){return g.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureArray4Float2D:w}},{"../../../utils":114,"./float":25}],21:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(4)"}toArray(){return g.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}l.exports={GLTextureArray4Float3D:w}},{"../../../utils":114,"./float":25}],22:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(4)"}toArray(){return g.erectArray4(this.renderValues(),this.output[0])}}l.exports={GLTextureArray4Float:w}},{"../../../utils":114,"./float":25}],23:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(1)"}toArray(){return g.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureFloat2D:w}},{"../../../utils":114,"./float":25}],24:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="ArrayTexture(1)"}toArray(){return g.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}l.exports={GLTextureFloat3D:w}},{"../../../utils":114,"./float":25}],25:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTexture:b}=i("./index");class w extends b{get textureType(){return this.context.FLOAT}constructor(h){super(h),this.type="ArrayTexture(1)"}renderRawOutput(){const h=this.context,c=this.size;h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer()),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,this.texture,0);const a=new Float32Array(c[0]*c[1]*4);return h.readPixels(0,0,c[0],c[1],h.RGBA,h.FLOAT,a),a}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return g.erectFloat(this.renderValues(),this.output[0])}}l.exports={GLTextureFloat:w}},{"../../../utils":114,"./index":27}],26:[function(i,l,T){const{GLTextureUnsigned:g}=i("./unsigned");class b extends g{constructor(d){super(d),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}l.exports={GLTextureGraphical:b}},{"./unsigned":33}],27:[function(i,l,T){const{Texture:g}=i("../../../texture");class b extends g{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:h,size:c,texture:a,kernel:o}=this;o.debug&&console.warn("cloning internal texture"),h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer()),w(h,a),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,a,0);const u=h.createTexture();w(h,u),h.texImage2D(h.TEXTURE_2D,0,this.internalFormat,c[0],c[1],0,this.textureFormat,this.textureType,null),h.copyTexSubImage2D(h.TEXTURE_2D,0,0,0,0,0,c[0],c[1]),u._refs=1,this.texture=u}newTexture(){this.texture._refs--;const h=this.context,c=this.size;this.kernel.debug&&console.warn("new internal texture");const o=h.createTexture();w(h,o),h.texImage2D(h.TEXTURE_2D,0,this.internalFormat,c[0],c[1],0,this.textureFormat,this.textureType,null),o._refs=1,this.texture=o}clear(){if(this.texture._refs){this.texture._refs--;const a=this.context,o=this.texture=a.createTexture();w(a,o);const u=this.size;o._refs=1,a.texImage2D(a.TEXTURE_2D,0,this.internalFormat,u[0],u[1],0,this.textureFormat,this.textureType,null)}const{context:h,texture:c}=this;h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer()),h.bindTexture(h.TEXTURE_2D,c),w(h,c),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,c,0),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function w(d,h){d.activeTexture(d.TEXTURE15),d.bindTexture(d.TEXTURE_2D,h),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST)}l.exports={GLTexture:b}},{"../../../texture":113}],28:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="MemoryOptimizedNumberTexture"}toArray(){return g.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureMemoryOptimized2D:w}},{"../../../utils":114,"./float":25}],29:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="MemoryOptimizedNumberTexture"}toArray(){return g.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}l.exports={GLTextureMemoryOptimized3D:w}},{"../../../utils":114,"./float":25}],30:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureFloat:b}=i("./float");class w extends b{constructor(h){super(h),this.type="MemoryOptimizedNumberTexture"}toArray(){return g.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}l.exports={GLTextureMemoryOptimized:w}},{"../../../utils":114,"./float":25}],31:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureUnsigned:b}=i("./unsigned");class w extends b{constructor(h){super(h),this.type="NumberTexture"}toArray(){return g.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}l.exports={GLTextureUnsigned2D:w}},{"../../../utils":114,"./unsigned":33}],32:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTextureUnsigned:b}=i("./unsigned");class w extends b{constructor(h){super(h),this.type="NumberTexture"}toArray(){return g.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}l.exports={GLTextureUnsigned3D:w}},{"../../../utils":114,"./unsigned":33}],33:[function(i,l,T){const{utils:g}=i("../../../utils"),{GLTexture:b}=i("./index");class w extends b{get textureType(){return this.context.UNSIGNED_BYTE}constructor(h){super(h),this.type="NumberTexture"}renderRawOutput(){const{context:h}=this;h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer()),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,this.texture,0);const c=new Uint8Array(this.size[0]*this.size[1]*4);return h.readPixels(0,0,this.size[0],this.size[1],h.RGBA,h.UNSIGNED_BYTE,c),c}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return g.erectPackedFloat(this.renderValues(),this.output[0])}}l.exports={GLTextureUnsigned:w}},{"../../../utils":114,"./index":27}],34:[function(i,l,T){const g=i("gl"),{WebGLKernel:b}=i("../web-gl/kernel"),{glKernelString:w}=i("../gl/kernel-string");let d=null,h=null,c=null,a=null,o=null;class u extends b{static get isSupported(){return d!==null||(this.setupFeatureChecks(),d=c!==null),d}static setupFeatureChecks(){if(h=null,a=null,typeof g=="function")try{if(c=g(2,2,{preserveDrawingBuffer:!0}),!c||!c.getExtension)return;a={STACKGL_resize_drawingbuffer:c.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:c.getExtension("STACKGL_destroy_context"),OES_texture_float:c.getExtension("OES_texture_float"),OES_texture_float_linear:c.getExtension("OES_texture_float_linear"),OES_element_index_uint:c.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:c.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:c.getExtension("WEBGL_color_buffer_float")},o=this.getFeatures()}catch(m){console.warn(m)}}static isContextMatch(m){try{return m.getParameter(m.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!a.OES_texture_float}static getIsDrawBuffers(){return!!a.WEBGL_draw_buffers}static getChannelCount(){return a.WEBGL_draw_buffers?c.getParameter(a.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return c.getParameter(c.MAX_TEXTURE_SIZE)}static get testCanvas(){return h}static get testContext(){return c}static get features(){return o}initCanvas(){return{}}initContext(){return g(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(m){const x=m.getExtension("STACKGL_destroy_context");x&&x.destroy&&x.destroy()}toString(){return w(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(m){return super.setOutput(m),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}l.exports={HeadlessGLKernel:u}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(i,l,T){class g{constructor(w,d){const{name:h,kernel:c,context:a,checkContext:o,onRequestContextHandle:u,onUpdateValueMismatch:f,origin:m,strictIntegers:x,type:E,tactic:S}=d;if(!h)throw new Error("name not set");if(!E)throw new Error("type not set");if(!m)throw new Error("origin not set");if(m!=="user"&&m!=="constants")throw new Error(`origin must be "user" or "constants" value is "${m}"`);if(!u)throw new Error("onRequestContextHandle is not set");this.name=h,this.origin=m,this.tactic=S,this.varName=m==="constants"?`constants.${h}`:h,this.kernel=c,this.strictIntegers=x,this.type=w.type||E,this.size=w.size||null,this.index=null,this.context=a,this.checkContext=o??!0,this.contextHandle=null,this.onRequestContextHandle=u,this.onUpdateValueMismatch=f,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(w){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}l.exports={KernelValue:g}},{}],36:[function(i,l,T){const{utils:g}=i("../utils"),{Input:b}=i("../input");class w{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(c){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(c){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(c,a){if(typeof c!="object"){if(typeof c!="string")throw new Error("source not a string");if(!g.isFunctionString(c))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof c=="string"?g.getArgumentNamesFromString(c):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=c,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(c){for(let a in c)if(!(!c.hasOwnProperty(a)||!this.hasOwnProperty(a))){switch(a){case"output":if(!Array.isArray(c.output)){this.setOutput(c.output);continue}break;case"functions":this.functions=[];for(let o=0;o<c.functions.length;o++)this.addFunction(c.functions[o]);continue;case"graphical":c[a]&&!c.hasOwnProperty("precision")&&(this.precision="unsigned"),this[a]=c[a];continue;case"nativeFunctions":if(!c.nativeFunctions)continue;this.nativeFunctions=[];for(let o=0;o<c.nativeFunctions.length;o++){const u=c.nativeFunctions[o],{name:f,source:m}=u;this.addNativeFunction(f,m,u)}continue}this[a]=c[a]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(c))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(c){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(c,a={}){if(c.name&&c.source&&c.argumentTypes&&"returnType"in c)this.functions.push(c);else if("settings"in c&&"source"in c)this.functions.push(this.functionToIGPUFunction(c.source,c.settings));else if(typeof c=="string"||typeof c=="function")this.functions.push(this.functionToIGPUFunction(c,a));else throw new Error("function not properly defined");return this}addNativeFunction(c,a,o={}){const{argumentTypes:u,argumentNames:f}=o.argumentTypes?d(o.argumentTypes):this.constructor.nativeFunctionArguments(a)||{};return this.nativeFunctions.push({name:c,source:a,settings:o,argumentTypes:u,argumentNames:f,returnType:o.returnType||this.constructor.nativeFunctionReturnType(a)}),this}setupArguments(c){if(this.kernelArguments=[],this.argumentTypes)for(let a=0;a<this.argumentTypes.length;a++)this.kernelArguments.push({type:this.argumentTypes[a]});else if(!this.argumentTypes){this.argumentTypes=[];for(let a=0;a<c.length;a++){const o=g.getVariableType(c[a],this.strictIntegers),u=o==="Integer"?"Number":o;this.argumentTypes.push(u),this.kernelArguments.push({type:u})}}this.argumentSizes=new Array(c.length),this.argumentBitRatios=new Int32Array(c.length);for(let a=0;a<c.length;a++){const o=c[a];this.argumentSizes[a]=o.constructor===b?o.size:null,this.argumentBitRatios[a]=this.getBitRatio(o)}if(this.argumentNames.length!==c.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let c=this.constantTypes===null;if(c&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let a in this.constants){if(c){const o=g.getVariableType(this.constants[a],this.strictIntegers);this.constantTypes[a]=o,this.kernelConstants.push({name:a,type:o})}else this.kernelConstants.push({name:a,type:this.constantTypes[a]});this.constantBitRatios[a]=this.getBitRatio(this.constants[a])}}setOptimizeFloatMemory(c){return this.optimizeFloatMemory=c,this}toKernelOutput(c){return c.hasOwnProperty("x")?c.hasOwnProperty("y")?c.hasOwnProperty("z")?[c.x,c.y,c.z]:[c.x,c.y]:[c.x]:c}setOutput(c){return this.output=this.toKernelOutput(c),this}setDebug(c){return this.debug=c,this}setGraphical(c){return this.graphical=c,this.precision="unsigned",this}setLoopMaxIterations(c){return this.loopMaxIterations=c,this}setConstants(c){return this.constants=c,this}setConstantTypes(c){return this.constantTypes=c,this}setFunctions(c){for(let a=0;a<c.length;a++)this.addFunction(c[a]);return this}setNativeFunctions(c){for(let a=0;a<c.length;a++){const o=c[a],{name:u,source:f}=o;this.addNativeFunction(u,f,o)}return this}setInjectedNative(c){return this.injectedNative=c,this}setPipeline(c){return this.pipeline=c,this}setPrecision(c){return this.precision=c,this}setDimensions(c){return g.warnDeprecated("method","setDimensions","setOutput"),this.output=c,this}setOutputToTexture(c){return g.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=c,this}setImmutable(c){return this.immutable=c,this}setCanvas(c){return this.canvas=c,this}setStrictIntegers(c){return this.strictIntegers=c,this}setDynamicOutput(c){return this.dynamicOutput=c,this}setHardcodeConstants(c){return g.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(c),this.setDynamicArguments(c),this}setDynamicArguments(c){return this.dynamicArguments=c,this}setUseLegacyEncoder(c){return this.useLegacyEncoder=c,this}setWarnVarUsage(c){return g.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return g.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return g.warnDeprecated("method","getWebGl"),this.context}setContext(c){return this.context=c,this}setArgumentTypes(c){if(Array.isArray(c))this.argumentTypes=c;else{this.argumentTypes=[];for(const a in c){if(!c.hasOwnProperty(a))continue;const o=this.argumentNames.indexOf(a);if(o===-1)throw new Error(`unable to find argument ${a}`);this.argumentTypes[o]=c[a]}}return this}setTactic(c){return this.tactic=c,this}requestFallback(c){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(c)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(c){if(this.subKernels===null&&(this.subKernels=[]),!c.source)throw new Error('subKernel missing "source" property');if(!c.property&&isNaN(c.property))throw new Error('subKernel missing "property" property');if(!c.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(c),this}destroy(c){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(c){if(this.precision==="single")return 4;if(Array.isArray(c[0]))return this.getBitRatio(c[0]);if(c.constructor===b)return this.getBitRatio(c.value);switch(c.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(c){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!g.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let c=0;c<this.output.length;c++)if(isNaN(this.output[c])||this.output[c]<1)throw new Error(`${this.constructor.name}.output[${c}] incorrectly defined as \`${this.output[c]}\`, needs to be numeric, and greater than 0`)}prependString(c){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(c){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(c=>c.name):null,returnType:this.returnType}}}buildSignature(c){const a=this.constructor;this.signature=a.getSignature(this,a.getArgumentTypes(this,c))}static getArgumentTypes(c,a){const o=new Array(a.length);for(let u=0;u<a.length;u++){const f=a[u],m=c.argumentTypes[u];if(f.type)o[u]=f.type;else switch(m){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":o[u]=g.getVariableType(f);break;default:o[u]=m}}return o}static getSignature(c,a){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(c,a={}){if(typeof c!="string"&&typeof c!="function")throw new Error("source not a string or function");const o=typeof c=="string"?c:c.toString();let u=[];return Array.isArray(a.argumentTypes)?u=a.argumentTypes:typeof a.argumentTypes=="object"?u=g.getArgumentNamesFromString(o).map(f=>a.argumentTypes[f])||[]:u=a.argumentTypes||[],{name:g.getFunctionNameFromString(o)||null,source:o,argumentTypes:u,returnType:a.returnType||null}}onActivate(c){}}function d(h){const c=Object.keys(h),a=[];for(let o=0;o<c.length;o++){const u=c[o];a.push(h[u])}return{argumentTypes:a,argumentNames:c}}l.exports={Kernel:w}},{"../input":110,"../utils":114}],37:[function(i,l,T){const g=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;l.exports={fragmentShader:g}},{}],38:[function(i,l,T){const{utils:g}=i("../../utils"),{FunctionNode:b}=i("../function-node");class w extends b{constructor(a,o){super(a,o),o&&o.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=o.fixIntegerDivisionAccuracy)}astConditionalExpression(a,o){if(a.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",a);const u=this.getType(a.consequent),f=this.getType(a.alternate);return u===null&&f===null?(o.push("if ("),this.astGeneric(a.test,o),o.push(") {"),this.astGeneric(a.consequent,o),o.push(";"),o.push("} else {"),this.astGeneric(a.alternate,o),o.push(";"),o.push("}"),o):(o.push("("),this.astGeneric(a.test,o),o.push("?"),this.astGeneric(a.consequent,o),o.push(":"),this.astGeneric(a.alternate,o),o.push(")"),o)}astFunction(a,o){if(this.isRootKernel)o.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(a.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:u}=this;if(!u)o.push("void");else{const f=d[u];if(!f)throw new Error(`unknown type ${u}`);o.push(f)}}if(o.push(" "),o.push(this.name),o.push("("),!this.isRootKernel)for(let u=0;u<this.argumentNames.length;++u){const f=this.argumentNames[u];u>0&&o.push(", ");let m=this.argumentTypes[this.argumentNames.indexOf(f)];if(!m)throw this.astErrorOutput(`Unknown argument ${f} type`,a);m==="LiteralInteger"&&(this.argumentTypes[u]=m="Number");const x=d[m];if(!x)throw this.astErrorOutput("Unexpected expression",a);const E=g.sanitizeName(f);x==="sampler2D"||x==="sampler2DArray"?o.push(`${x} user_${E},ivec2 user_${E}Size,ivec3 user_${E}Dim`):o.push(`${x} user_${E}`)}o.push(`) {
`);for(let u=0;u<a.body.body.length;++u)this.astGeneric(a.body.body[u],o),o.push(`
`);return o.push(`}
`),o}astReturnStatement(a,o){if(!a.argument)throw this.astErrorOutput("Unexpected return statement",a);this.pushState("skip-literal-correction");const u=this.getType(a.argument);this.popState("skip-literal-correction");const f=[];switch(this.returnType||(u==="LiteralInteger"||u==="Integer"?this.returnType="Number":this.returnType=u),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(u){case"Integer":f.push("float("),this.astGeneric(a.argument,f),f.push(")");break;case"LiteralInteger":this.castLiteralToFloat(a.argument,f),this.getType(a)==="Integer"&&(f.unshift("float("),f.push(")"));break;default:this.astGeneric(a.argument,f)}break;case"Integer":switch(u){case"Float":case"Number":this.castValueToInteger(a.argument,f);break;case"LiteralInteger":this.castLiteralToInteger(a.argument,f);break;default:this.astGeneric(a.argument,f)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(a.argument,f);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,a)}return this.isRootKernel?(o.push(`kernelResult = ${f.join("")};`),o.push("return;")):this.isSubKernel?(o.push(`subKernelResult_${this.name} = ${f.join("")};`),o.push(`return subKernelResult_${this.name};`)):o.push(`return ${f.join("")};`),o}astLiteral(a,o){if(isNaN(a.value))throw this.astErrorOutput("Non-numeric literal not supported : "+a.value,a);const u=this.astKey(a);return Number.isInteger(a.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[u]="Integer",o.push(`${a.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[u]="Number",o.push(`${a.value}.0`)):(this.literalTypes[u]="Number",o.push(`${a.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[u]="Integer",o.push(Math.round(a.value))):(this.literalTypes[u]="Number",o.push(`${a.value}`)),o}astBinaryExpression(a,o){if(this.checkAndUpconvertOperator(a,o))return o;if(this.fixIntegerDivisionAccuracy&&a.operator==="/"){switch(o.push("divWithIntCheck("),this.pushState("building-float"),this.getType(a.left)){case"Integer":this.castValueToFloat(a.left,o);break;case"LiteralInteger":this.castLiteralToFloat(a.left,o);break;default:this.astGeneric(a.left,o)}switch(o.push(", "),this.getType(a.right)){case"Integer":this.castValueToFloat(a.right,o);break;case"LiteralInteger":this.castLiteralToFloat(a.right,o);break;default:this.astGeneric(a.right,o)}return this.popState("building-float"),o.push(")"),o}o.push("(");const u=this.getType(a.left)||"Number",f=this.getType(a.right)||"Number",m=u+" & "+f;switch(m){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(a.left,o),o.push(h[a.operator]||a.operator),this.castLiteralToFloat(a.right,o),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((a.operator===">"||a.operator==="<"&&a.right.type==="Literal")&&!Number.isInteger(a.right.value)){this.pushState("building-float"),this.castValueToFloat(a.left,o),o.push(h[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.pushState("casting-to-integer"),a.right.type==="Literal"){const x=[];if(this.astGeneric(a.right,x),this.getType(a.right)==="Integer")o.push(x.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",a)}else o.push("int("),this.astGeneric(a.right,o),o.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.castLiteralToInteger(a.right,o),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.castValueToFloat(a.right,o),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.castLiteralToFloat(a.right,o),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(a.left,o),o.push(h[a.operator]||a.operator),this.castValueToInteger(a.right,o),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.pushState("casting-to-float"),this.astGeneric(a.right,o),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(a.left,o),o.push(h[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(h[a.operator]||a.operator),this.castValueToFloat(a.right,o),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${m}`,a)}return o.push(")"),o}checkAndUpconvertOperator(a,o){const u=this.checkAndUpconvertBitwiseOperators(a,o);if(u)return u;const m={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[a.operator];if(!m)return null;switch(o.push(m),o.push("("),this.getType(a.left)){case"Integer":this.castValueToFloat(a.left,o);break;case"LiteralInteger":this.castLiteralToFloat(a.left,o);break;default:this.astGeneric(a.left,o)}switch(o.push(","),this.getType(a.right)){case"Integer":this.castValueToFloat(a.right,o);break;case"LiteralInteger":this.castLiteralToFloat(a.right,o);break;default:this.astGeneric(a.right,o)}return o.push(")"),o}checkAndUpconvertBitwiseOperators(a,o){const f={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[a.operator];if(!f)return null;switch(o.push(f),o.push("("),this.getType(a.left)){case"Number":case"Float":this.castValueToInteger(a.left,o);break;case"LiteralInteger":this.castLiteralToInteger(a.left,o);break;default:this.astGeneric(a.left,o)}switch(o.push(","),this.getType(a.right)){case"Number":case"Float":this.castValueToInteger(a.right,o);break;case"LiteralInteger":this.castLiteralToInteger(a.right,o);break;default:this.astGeneric(a.right,o)}return o.push(")"),o}checkAndUpconvertBitwiseUnary(a,o){const f={"~":"bitwiseNot"}[a.operator];if(!f)return null;switch(o.push(f),o.push("("),this.getType(a.argument)){case"Number":case"Float":this.castValueToInteger(a.argument,o);break;case"LiteralInteger":this.castLiteralToInteger(a.argument,o);break;default:this.astGeneric(a.argument,o)}return o.push(")"),o}castLiteralToInteger(a,o){return this.pushState("casting-to-integer"),this.astGeneric(a,o),this.popState("casting-to-integer"),o}castLiteralToFloat(a,o){return this.pushState("casting-to-float"),this.astGeneric(a,o),this.popState("casting-to-float"),o}castValueToInteger(a,o){return this.pushState("casting-to-integer"),o.push("int("),this.astGeneric(a,o),o.push(")"),this.popState("casting-to-integer"),o}castValueToFloat(a,o){return this.pushState("casting-to-float"),o.push("float("),this.astGeneric(a,o),o.push(")"),this.popState("casting-to-float"),o}astIdentifierExpression(a,o){if(a.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",a);const u=this.getType(a),f=g.sanitizeName(a.name);return a.name==="Infinity"?o.push("3.402823466e+38"):u==="Boolean"?this.argumentNames.indexOf(f)>-1?o.push(`bool(user_${f})`):o.push(`user_${f}`):o.push(`user_${f}`),o}astForStatement(a,o){if(a.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",a);const u=[],f=[],m=[],x=[];let E=null;if(a.init){const{declarations:S}=a.init;S.length>1&&(E=!1),this.astGeneric(a.init,u);for(let R=0;R<S.length;R++)S[R].init&&S[R].init.type!=="Literal"&&(E=!1)}else E=!1;if(a.test?this.astGeneric(a.test,f):E=!1,a.update?this.astGeneric(a.update,m):E=!1,a.body&&(this.pushState("loop-body"),this.astGeneric(a.body,x),this.popState("loop-body")),E===null&&(E=this.isSafe(a.init)&&this.isSafe(a.test)),E){const S=u.join(""),R=S[S.length-1]!==";";o.push(`for (${S}${R?";":""}${f.join("")};${m.join("")}){
`),o.push(x.join("")),o.push(`}
`)}else{const S=this.getInternalVariableName("safeI");u.length>0&&o.push(u.join(""),`
`),o.push(`for (int ${S}=0;${S}<LOOP_MAX;${S}++){
`),f.length>0&&o.push(`if (!${f.join("")}) break;
`),o.push(x.join("")),o.push(`
${m.join("")};`),o.push(`}
`)}return o}astWhileStatement(a,o){if(a.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",a);const u=this.getInternalVariableName("safeI");return o.push(`for (int ${u}=0;${u}<LOOP_MAX;${u}++){
`),o.push("if (!"),this.astGeneric(a.test,o),o.push(`) break;
`),this.astGeneric(a.body,o),o.push(`}
`),o}astDoWhileStatement(a,o){if(a.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",a);const u=this.getInternalVariableName("safeI");return o.push(`for (int ${u}=0;${u}<LOOP_MAX;${u}++){
`),this.astGeneric(a.body,o),o.push("if (!"),this.astGeneric(a.test,o),o.push(`) break;
`),o.push(`}
`),o}astAssignmentExpression(a,o){if(a.operator==="%=")this.astGeneric(a.left,o),o.push("="),o.push("mod("),this.astGeneric(a.left,o),o.push(","),this.astGeneric(a.right,o),o.push(")");else if(a.operator==="**=")this.astGeneric(a.left,o),o.push("="),o.push("pow("),this.astGeneric(a.left,o),o.push(","),this.astGeneric(a.right,o),o.push(")");else{const u=this.getType(a.left),f=this.getType(a.right);return this.astGeneric(a.left,o),o.push(a.operator),u!=="Integer"&&f==="Integer"?(o.push("float("),this.astGeneric(a.right,o),o.push(")")):this.astGeneric(a.right,o),o}}astBlockStatement(a,o){if(this.isState("loop-body")){this.pushState("block-body");for(let u=0;u<a.body.length;u++)this.astGeneric(a.body[u],o);this.popState("block-body")}else{o.push(`{
`);for(let u=0;u<a.body.length;u++)this.astGeneric(a.body[u],o);o.push(`}
`)}return o}astVariableDeclaration(a,o){const u=a.declarations;if(!u||!u[0]||!u[0].init)throw this.astErrorOutput("Unexpected expression",a);const f=[];let m=null;const x=[];let E=[];for(let S=0;S<u.length;S++){const R=u[S],M=R.init,k=this.getDeclaration(R.id),v=this.getType(R.init);let F=v;F==="LiteralInteger"&&(k.suggestedType==="Integer"?F="Integer":F="Number");const I=d[F];if(!I)throw this.astErrorOutput(`Markup type ${F} not handled`,a);const A=[];if(v==="Integer"&&F==="Integer"){if(k.valueType="Number",S===0||m===null)A.push("float ");else if(F!==m)throw new Error("Unhandled declaration");m=F,A.push(`user_${g.sanitizeName(R.id.name)}=`),A.push("float("),this.astGeneric(M,A),A.push(")")}else k.valueType=F,S===0||m===null?A.push(`${I} `):F!==m&&(x.push(E.join(",")),E=[],A.push(`${I} `)),m=F,A.push(`user_${g.sanitizeName(R.id.name)}=`),v==="Number"&&F==="Integer"?M.left&&M.left.type==="Literal"?this.astGeneric(M,A):(A.push("int("),this.astGeneric(M,A),A.push(")")):v==="LiteralInteger"&&F==="Integer"?this.castLiteralToInteger(M,A):this.astGeneric(M,A);E.push(A.join(""))}return E.length>0&&x.push(E.join(",")),f.push(x.join(";")),o.push(f.join("")),o.push(";"),o}astIfStatement(a,o){return o.push("if ("),this.astGeneric(a.test,o),o.push(")"),a.consequent.type==="BlockStatement"?this.astGeneric(a.consequent,o):(o.push(` {
`),this.astGeneric(a.consequent,o),o.push(`
}
`)),a.alternate&&(o.push("else "),a.alternate.type==="BlockStatement"||a.alternate.type==="IfStatement"?this.astGeneric(a.alternate,o):(o.push(` {
`),this.astGeneric(a.alternate,o),o.push(`
}
`))),o}astSwitchStatement(a,o){if(a.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",a);const{discriminant:u,cases:f}=a,m=this.getType(u),x=`switchDiscriminant${this.astKey(a,"_")}`;switch(m){case"Float":case"Number":o.push(`float ${x} = `),this.astGeneric(u,o),o.push(`;
`);break;case"Integer":o.push(`int ${x} = `),this.astGeneric(u,o),o.push(`;
`);break}if(f.length===1&&!f[0].test)return this.astGeneric(f[0].consequent,o),o;let E=!1,S=[],R=!1,M=!1;for(let k=0;k<f.length;k++){if(f[k].test){if(k===0||!M?(M=!0,o.push(`if (${x} == `)):E?(o.push(`${x} == `),E=!1):o.push(` else if (${x} == `),m==="Integer")switch(this.getType(f[k].test)){case"Number":case"Float":this.castValueToInteger(f[k].test,o);break;case"LiteralInteger":this.castLiteralToInteger(f[k].test,o);break}else if(m==="Float")switch(this.getType(f[k].test)){case"LiteralInteger":this.castLiteralToFloat(f[k].test,o);break;case"Integer":this.castValueToFloat(f[k].test,o);break}else throw new Error("unhanlded");if(!f[k].consequent||f[k].consequent.length===0){E=!0,o.push(" || ");continue}o.push(`) {
`)}else if(f.length>k+1){R=!0,this.astGeneric(f[k].consequent,S);continue}else o.push(` else {
`);this.astGeneric(f[k].consequent,o),o.push(`
}`)}return R&&(o.push(" else {"),o.push(S.join("")),o.push("}")),o}astThisExpression(a,o){return o.push("this"),o}astMemberExpression(a,o){const{property:u,name:f,signature:m,origin:x,type:E,xProperty:S,yProperty:R,zProperty:M}=this.getMemberExpressionDetails(a);switch(m){case"value.thread.value":case"this.thread.value":if(f!=="x"&&f!=="y"&&f!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",a);return o.push(`threadId.${f}`),o;case"this.output.value":if(this.dynamicOutput)switch(f){case"x":this.isState("casting-to-float")?o.push("float(uOutputDim.x)"):o.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?o.push("float(uOutputDim.y)"):o.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?o.push("float(uOutputDim.z)"):o.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",a)}else switch(f){case"x":this.isState("casting-to-integer")?o.push(this.output[0]):o.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?o.push(this.output[1]):o.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?o.push(this.output[2]):o.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",a)}return o;case"value":throw this.astErrorOutput("Unexpected expression",a);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(x==="Math")return o.push(Math[f]),o;const v=g.sanitizeName(f);switch(u){case"r":return o.push(`user_${v}.r`),o;case"g":return o.push(`user_${v}.g`),o;case"b":return o.push(`user_${v}.b`),o;case"a":return o.push(`user_${v}.a`),o}break;case"this.constants.value":if(typeof S>"u")switch(E){case"Array(2)":case"Array(3)":case"Array(4)":return o.push(`constants_${g.sanitizeName(f)}`),o}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(a.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(u)),o.push("]"),o;case"fn()[][]":return this.astCallExpression(a.object.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(a.object.property)),o.push("]"),o.push("["),o.push(this.memberExpressionPropertyMarkup(a.property)),o.push("]"),o;case"[][]":return this.astArrayExpression(a.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(u)),o.push("]"),o;default:throw this.astErrorOutput("Unexpected expression",a)}if(a.computed===!1)switch(E){case"Number":case"Integer":case"Float":case"Boolean":return o.push(`${x}_${g.sanitizeName(f)}`),o}const k=`${x}_${g.sanitizeName(f)}`;switch(E){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(a.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(S)),o.push("]");break;case"HTMLImageArray":o.push(`getImage3D(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"ArrayTexture(1)":o.push(`getFloatFromSampler2D(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":o.push(`getMemoryOptimizedVec2(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"ArrayTexture(2)":o.push(`getVec2FromSampler2D(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":o.push(`getMemoryOptimizedVec3(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"ArrayTexture(3)":o.push(`getVec3FromSampler2D(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":o.push(`getMemoryOptimizedVec4(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`getVec4FromSampler2D(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")o.push(`getMemoryOptimized32(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");else{const v=x==="user"?this.lookupFunctionArgumentBitRatio(this.name,f):this.constantBitRatios[f];switch(v){case 1:o.push(`get8(${k}, ${k}Size, ${k}Dim, `);break;case 2:o.push(`get16(${k}, ${k}Size, ${k}Dim, `);break;case 4:case 0:o.push(`get32(${k}, ${k}Size, ${k}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${v}`)}this.memberExpressionXYZ(S,R,M,o),o.push(")")}break;case"MemoryOptimizedNumberTexture":o.push(`getMemoryOptimized32(${k}, ${k}Size, ${k}Dim, `),this.memberExpressionXYZ(S,R,M,o),o.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":o.push(`${k}[${this.memberExpressionPropertyMarkup(R)}]`),R&&o.push(`[${this.memberExpressionPropertyMarkup(S)}]`);break;default:throw new Error(`unhandled member expression "${E}"`)}return o}astCallExpression(a,o){if(!a.callee)throw this.astErrorOutput("Unknown CallExpression",a);let u=null;const f=this.isAstMathFunction(a);if(f||a.callee.object&&a.callee.object.type==="ThisExpression"?u=a.callee.property.name:a.callee.type==="SequenceExpression"&&a.callee.expressions[0].type==="Literal"&&!isNaN(a.callee.expressions[0].raw)?u=a.callee.expressions[1].property.name:u=a.callee.name,!u)throw this.astErrorOutput("Unhandled function, couldn't find name",a);switch(u){case"pow":u="_pow";break;case"round":u="_round";break}if(this.calledFunctions.indexOf(u)<0&&this.calledFunctions.push(u),u==="random"&&this.plugins&&this.plugins.length>0)for(let m=0;m<this.plugins.length;m++){const x=this.plugins[m];if(x.functionMatch==="Math.random()"&&x.functionReplace)return o.push(x.functionReplace),o}if(this.onFunctionCall&&this.onFunctionCall(this.name,u,a.arguments),o.push(u),o.push("("),f)for(let m=0;m<a.arguments.length;++m){const x=a.arguments[m],E=this.getType(x);switch(m>0&&o.push(", "),E){case"Integer":this.castValueToFloat(x,o);break;default:this.astGeneric(x,o);break}}else{const m=this.lookupFunctionArgumentTypes(u)||[];for(let x=0;x<a.arguments.length;++x){const E=a.arguments[x];let S=m[x];x>0&&o.push(", ");const R=this.getType(E);switch(S||(this.triggerImplyArgumentType(u,x,R,this),S=R),R){case"Boolean":this.astGeneric(E,o);continue;case"Number":case"Float":if(S==="Integer"){o.push("int("),this.astGeneric(E,o),o.push(")");continue}else if(S==="Number"||S==="Float"){this.astGeneric(E,o);continue}else if(S==="LiteralInteger"){this.castLiteralToFloat(E,o);continue}break;case"Integer":if(S==="Number"||S==="Float"){o.push("float("),this.astGeneric(E,o),o.push(")");continue}else if(S==="Integer"){this.astGeneric(E,o);continue}break;case"LiteralInteger":if(S==="Integer"){this.castLiteralToInteger(E,o);continue}else if(S==="Number"||S==="Float"){this.castLiteralToFloat(E,o);continue}else if(S==="LiteralInteger"){this.astGeneric(E,o);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(S===R){if(E.type==="Identifier")o.push(`user_${g.sanitizeName(E.name)}`);else if(E.type==="ArrayExpression"||E.type==="MemberExpression"||E.type==="CallExpression")this.astGeneric(E,o);else throw this.astErrorOutput(`Unhandled argument type ${E.type}`,a);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(S===R){if(E.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${E.type}`,a);this.triggerImplyArgumentBitRatio(this.name,E.name,u,x);const M=g.sanitizeName(E.name);o.push(`user_${M},user_${M}Size,user_${M}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${R} and ${S} for argument named "${E.name}"`,a)}}return o.push(")"),o}astArrayExpression(a,o){const u=this.getType(a),f=a.elements.length;switch(u){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":o.push(`mat${f}(`);break;default:o.push(`vec${f}(`)}for(let m=0;m<f;++m){m>0&&o.push(", ");const x=a.elements[m];this.astGeneric(x,o)}return o.push(")"),o}memberExpressionXYZ(a,o,u,f){return u?f.push(this.memberExpressionPropertyMarkup(u),", "):f.push("0, "),o?f.push(this.memberExpressionPropertyMarkup(o),", "):f.push("0, "),f.push(this.memberExpressionPropertyMarkup(a)),f}memberExpressionPropertyMarkup(a){if(!a)throw new Error("Property not set");const o=this.getType(a),u=[];switch(o){case"Number":case"Float":this.castValueToInteger(a,u);break;case"LiteralInteger":this.castLiteralToInteger(a,u);break;default:this.astGeneric(a,u)}return u.join("")}}const d={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},h={"===":"==","!==":"!="};l.exports={WebGLFunctionNode:w}},{"../../utils":114,"../function-node":10}],39:[function(i,l,T){const{WebGLKernelValueBoolean:g}=i("./kernel-value/boolean"),{WebGLKernelValueFloat:b}=i("./kernel-value/float"),{WebGLKernelValueInteger:w}=i("./kernel-value/integer"),{WebGLKernelValueHTMLImage:d}=i("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:h}=i("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:c}=i("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:a}=i("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:o}=i("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:u}=i("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:f}=i("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:m}=i("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:x}=i("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:E}=i("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:S}=i("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:R}=i("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:M}=i("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:k}=i("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:v}=i("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:F}=i("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:I}=i("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:A}=i("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:$}=i("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:P}=i("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:B}=i("./kernel-value/array2"),{WebGLKernelValueArray3:U}=i("./kernel-value/array3"),{WebGLKernelValueArray4:W}=i("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:j}=i("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:H}=i("./kernel-value/dynamic-unsigned-array"),Q={unsigned:{dynamic:{Boolean:g,Integer:w,Float:b,Array:H,"Array(2)":B,"Array(3)":U,"Array(4)":W,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:m,NumberTexture:R,"ArrayTexture(1)":R,"ArrayTexture(2)":R,"ArrayTexture(3)":R,"ArrayTexture(4)":R,MemoryOptimizedNumberTexture:E,HTMLCanvas:h,OffscreenCanvas:h,HTMLImage:h,ImageBitmap:h,ImageData:h,HTMLImageArray:!1,HTMLVideo:a},static:{Boolean:g,Float:b,Integer:w,Array:j,"Array(2)":B,"Array(3)":U,"Array(4)":W,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:f,NumberTexture:S,"ArrayTexture(1)":S,"ArrayTexture(2)":S,"ArrayTexture(3)":S,"ArrayTexture(4)":S,MemoryOptimizedNumberTexture:x,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:!1,HTMLVideo:c}},single:{dynamic:{Boolean:g,Integer:w,Float:b,Array:k,"Array(2)":B,"Array(3)":U,"Array(4)":W,"Array1D(2)":F,"Array1D(3)":F,"Array1D(4)":F,"Array2D(2)":A,"Array2D(3)":A,"Array2D(4)":A,"Array3D(2)":P,"Array3D(3)":P,"Array3D(4)":P,Input:u,NumberTexture:R,"ArrayTexture(1)":R,"ArrayTexture(2)":R,"ArrayTexture(3)":R,"ArrayTexture(4)":R,MemoryOptimizedNumberTexture:E,HTMLCanvas:h,OffscreenCanvas:h,HTMLImage:h,ImageBitmap:h,ImageData:h,HTMLImageArray:!1,HTMLVideo:a},static:{Boolean:g,Float:b,Integer:w,Array:M,"Array(2)":B,"Array(3)":U,"Array(4)":W,"Array1D(2)":v,"Array1D(3)":v,"Array1D(4)":v,"Array2D(2)":I,"Array2D(3)":I,"Array2D(4)":I,"Array3D(2)":$,"Array3D(3)":$,"Array3D(4)":$,Input:o,NumberTexture:S,"ArrayTexture(1)":S,"ArrayTexture(2)":S,"ArrayTexture(3)":S,"ArrayTexture(4)":S,MemoryOptimizedNumberTexture:x,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:!1,HTMLVideo:c}}};function X(ee,ie,ne,ae){if(!ee)throw new Error("type missing");if(!ie)throw new Error("dynamic missing");if(!ne)throw new Error("precision missing");ae.type&&(ee=ae.type);const re=Q[ne][ie];if(re[ee]===!1)return null;if(re[ee]===void 0)throw new Error(`Could not find a KernelValue for ${ee}`);return re[ee]}l.exports={lookupKernelValueType:X,kernelValueMaps:Q}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(i,l,T){const{WebGLKernelValue:g}=i("./index"),{Input:b}=i("../../../input");class w extends g{checkSize(h,c){if(!this.kernel.validate)return;const{maxTextureSize:a}=this.kernel.constructor.features;if(h>a||c>a)throw h>c?new Error(`Argument texture width of ${h} larger than maximum size of ${a} for your GPU`):h<c?new Error(`Argument texture height of ${c} larger than maximum size of ${a} for your GPU`):new Error(`Argument texture height and width of ${c} larger than maximum size of ${a} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:h}=this;h.activeTexture(this.contextHandle),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(h){if(Array.isArray(h[0]))return this.getBitRatio(h[0]);if(h.constructor===b)return this.getBitRatio(h.value);switch(h.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}l.exports={WebGLKernelArray:w}},{"../../../input":110,"./index":59}],41:[function(i,l,T){const{WebGLKernelValue:g}=i("./index");class b extends g{constructor(d,h){super(d,h),this.uploadValue=d}getSource(d){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${d[0]},${d[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=d)}}l.exports={WebGLKernelValueArray2:b}},{"./index":59}],42:[function(i,l,T){const{WebGLKernelValue:g}=i("./index");class b extends g{constructor(d,h){super(d,h),this.uploadValue=d}getSource(d){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${d[0]},${d[1]},${d[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=d)}}l.exports={WebGLKernelValueArray3:b}},{"./index":59}],43:[function(i,l,T){const{WebGLKernelValue:g}=i("./index");class b extends g{constructor(d,h){super(d,h),this.uploadValue=d}getSource(d){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${d[0]},${d[1]},${d[2]},${d[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=d)}}l.exports={WebGLKernelValueArray4:b}},{"./index":59}],44:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValue:b}=i("./index");class w extends b{constructor(h,c){super(h,c),this.uploadValue=h}getSource(h){return this.origin==="constants"?`const bool ${this.id} = ${h};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(h){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=h)}}l.exports={WebGLKernelValueBoolean:w}},{"../../../utils":114,"./index":59}],45:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueHTMLImage:b}=i("./html-image");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){const{width:c,height:a}=h;this.checkSize(c,a),this.dimensions=[c,a,1],this.textureSize=[c,a],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicHTMLImage:w}},{"../../../utils":114,"./html-image":57}],46:[function(i,l,T){const{WebGLKernelValueDynamicHTMLImage:g}=i("./dynamic-html-image");class b extends g{}l.exports={WebGLKernelValueDynamicHTMLVideo:b}},{"./dynamic-html-image":45}],47:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:b}=i("./memory-optimized-number-texture");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.dimensions=h.dimensions,this.checkSize(h.size[0],h.size[1]),this.textureSize=h.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:w}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueNumberTexture:b}=i("./number-texture");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.dimensions=h.dimensions,this.checkSize(h.size[0],h.size[1]),this.textureSize=h.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicNumberTexture:w}},{"../../../utils":114,"./number-texture":62}],49:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray:b}=i("./single-array");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.dimensions=g.getDimensions(h,!0),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicSingleArray:w}},{"../../../utils":114,"./single-array":63}],50:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray1DI:b}=i("./single-array1d-i");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.setShape(h),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicSingleArray1DI:w}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray2DI:b}=i("./single-array2d-i");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.setShape(h),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicSingleArray2DI:w}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray3DI:b}=i("./single-array3d-i");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.setShape(h),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicSingleArray3DI:w}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleInput:b}=i("./single-input");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){let[c,a,o]=h.size;this.dimensions=new Int32Array([c||1,a||1,o||1]),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicSingleInput:w}},{"../../../utils":114,"./single-input":67}],54:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedArray:b}=i("./unsigned-array");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){this.dimensions=g.getDimensions(h,!0),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const c=this.getTransferArrayType(h);this.preUploadValue=new c(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicUnsignedArray:w}},{"../../../utils":114,"./unsigned-array":68}],55:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedInput:b}=i("./unsigned-input");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(h){let[c,a,o]=h.size;this.dimensions=new Int32Array([c||1,a||1,o||1]),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const u=this.getTransferArrayType(h.value);this.preUploadValue=new u(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGLKernelValueDynamicUnsignedInput:w}},{"../../../utils":114,"./unsigned-input":69}],56:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValue:b}=i("./index");class w extends b{constructor(h,c){super(h,c),this.uploadValue=h}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(h){return this.origin==="constants"?Number.isInteger(h)?`const float ${this.id} = ${h}.0;
`:`const float ${this.id} = ${h};
`:`uniform float ${this.id};
`}updateValue(h){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=h)}}l.exports={WebGLKernelValueFloat:w}},{"../../../utils":114,"./index":59}],57:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c);const{width:a,height:o}=h;this.checkSize(a,o),this.dimensions=[a,o,1],this.textureSize=[a,o],this.uploadValue=h}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue=h),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueHTMLImage:w}},{"../../../utils":114,"./array":40}],58:[function(i,l,T){const{WebGLKernelValueHTMLImage:g}=i("./html-image");class b extends g{}l.exports={WebGLKernelValueHTMLVideo:b}},{"./html-image":57}],59:[function(i,l,T){const{utils:g}=i("../../../utils"),{KernelValue:b}=i("../../kernel-value");class w extends b{constructor(h,c){super(h,c),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=h.constructor,this.onRequestTexture=c.onRequestTexture,this.onRequestIndex=c.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${g.sanitizeName(this.name)}`}setup(){}getTransferArrayType(h){if(Array.isArray(h[0]))return this.getTransferArrayType(h[0]);switch(h.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return h.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),h.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}l.exports={WebGLKernelValue:w}},{"../../../utils":114,"../../kernel-value":35}],60:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValue:b}=i("./index");class w extends b{constructor(h,c){super(h,c),this.uploadValue=h}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(h){return this.origin==="constants"?`const int ${this.id} = ${parseInt(h)};
`:`uniform int ${this.id};
`}updateValue(h){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=h)}}l.exports={WebGLKernelValueInteger:w}},{"../../../utils":114,"./index":59}],61:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array"),w="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class d extends b{constructor(c,a){super(c,a);const[o,u]=c.size;this.checkSize(o,u),this.dimensions=c.dimensions,this.textureSize=c.size,this.uploadValue=c.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(c){if(c.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(c.constructor);return}if(this.checkContext&&c.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:a,context:o}=this;if(a.pipeline)if(a.immutable)a.updateTextureArgumentRefs(this,c);else{if(a.texture&&a.texture.texture===c.texture)throw new Error(w);if(a.mappedTextures){const{mappedTextures:u}=a;for(let f=0;f<u.length;f++)if(u[f].texture===c.texture)throw new Error(w)}}o.activeTexture(this.contextHandle),o.bindTexture(o.TEXTURE_2D,this.uploadValue=c.texture),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueMemoryOptimizedNumberTexture:d,sameError:w}},{"../../../utils":114,"./array":40}],62:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array"),{sameError:w}=i("./memory-optimized-number-texture");class d extends b{constructor(c,a){super(c,a);const[o,u]=c.size;this.checkSize(o,u);const{size:f,dimensions:m}=c;this.bitRatio=this.getBitRatio(c),this.dimensions=m,this.textureSize=f,this.uploadValue=c.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(c){if(c.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(c.constructor);return}if(this.checkContext&&c.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:a,context:o}=this;if(a.pipeline)if(a.immutable)a.updateTextureArgumentRefs(this,c);else{if(a.texture&&a.texture.texture===c.texture)throw new Error(w);if(a.mappedTextures){const{mappedTextures:u}=a;for(let f=0;f<u.length;f++)if(u[f].texture===c.texture)throw new Error(w)}}o.activeTexture(this.contextHandle),o.bindTexture(o.TEXTURE_2D,this.uploadValue=c.texture),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueNumberTexture:d}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=4,this.dimensions=g.getDimensions(h,!0),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueSingleArray:w}},{"../../../utils":114,"./array":40}],64:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=4,this.setShape(h)}setShape(h){const c=g.getDimensions(h,!0);this.textureSize=g.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flatten2dArrayTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueSingleArray1DI:w}},{"../../../utils":114,"./array":40}],65:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=4,this.setShape(h)}setShape(h){const c=g.getDimensions(h,!0);this.textureSize=g.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],c[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flatten3dArrayTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueSingleArray2DI:w}},{"../../../utils":114,"./array":40}],66:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=4,this.setShape(h)}setShape(h){const c=g.getDimensions(h,!0);this.textureSize=g.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],c[2],c[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flatten4dArrayTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueSingleArray3DI:w}},{"../../../utils":114,"./array":40}],67:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=4;let[a,o,u]=h.size;this.dimensions=new Int32Array([a||1,o||1,u||1]),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h.value,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueSingleInput:w}},{"../../../utils":114,"./array":40}],68:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=this.getBitRatio(h),this.dimensions=g.getDimensions(h,!0),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(h),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return g.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h,this.preUploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueUnsignedArray:w}},{"../../../utils":114,"./array":40}],69:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("./array");class w extends b{constructor(h,c){super(h,c),this.bitRatio=this.getBitRatio(h);const[a,o,u]=h.size;this.dimensions=new Int32Array([a||1,o||1,u||1]),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(h.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return g.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:c}=this;g.flattenTo(h.value,this.preUploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGLKernelValueUnsignedInput:w}},{"../../../utils":114,"./array":40}],70:[function(i,l,T){const{GLKernel:g}=i("../gl/kernel"),{FunctionBuilder:b}=i("../function-builder"),{WebGLFunctionNode:w}=i("./function-node"),{utils:d}=i("../../utils"),h=i("../../plugins/math-random-uniformly-distributed"),{fragmentShader:c}=i("./fragment-shader"),{vertexShader:a}=i("./vertex-shader"),{glKernelString:o}=i("../gl/kernel-string"),{lookupKernelValueType:u}=i("./kernel-value-maps");let f=null,m=null,x=null,E=null,S=null;const R=[h],M=[],k={};class v extends g{static get isSupported(){return f!==null||(this.setupFeatureChecks(),f=this.isContextMatch(x)),f}static setupFeatureChecks(){typeof document<"u"?m=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(m=new OffscreenCanvas(0,0)),m&&(x=m.getContext("webgl")||m.getContext("experimental-webgl"),!(!x||!x.getExtension)&&(E={OES_texture_float:x.getExtension("OES_texture_float"),OES_texture_float_linear:x.getExtension("OES_texture_float_linear"),OES_element_index_uint:x.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:x.getExtension("WEBGL_draw_buffers")},S=this.getFeatures()))}static isContextMatch(I){return typeof WebGLRenderingContext<"u"?I instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!E.OES_texture_float}static getIsDrawBuffers(){return!!E.WEBGL_draw_buffers}static getChannelCount(){return E.WEBGL_draw_buffers?x.getParameter(E.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return x.getParameter(x.MAX_TEXTURE_SIZE)}static lookupKernelValueType(I,A,$,P){return u(I,A,$,P)}static get testCanvas(){return m}static get testContext(){return x}static get features(){return S}static get fragmentShader(){return c}static get vertexShader(){return a}constructor(I,A){super(I,A),this.program=null,this.pipeline=A.pipeline,this.endianness=d.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(I.settings||A),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const I=document.createElement("canvas");return I.width=2,I.height=2,I}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const I={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",I)||this.canvas.getContext("experimental-webgl",I)}initPlugins(I){const A=[],{source:$}=this;if(typeof $=="string")for(let P=0;P<R.length;P++){const B=R[P];$.match(B.functionMatch)&&A.push(B)}else if(typeof $=="object"&&I.pluginNames)for(let P=0;P<R.length;P++){const B=R[P];I.pluginNames.some(W=>W===B.name)&&A.push(B)}return A}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(I){if(!this.validate){this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:A}=this.constructor;if(this.optimizeFloatMemory===!0&&!A.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!A.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&A.isTextureFloat&&(this.precision=A.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!A.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&A.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(I.length!==1)throw new Error("Auto output only supported for kernels with only one input");const $=d.getVariableType(I[0],this.strictIntegers);switch($){case"Array":this.output=d.getDimensions($);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=I[0].output;break;default:throw new Error("Auto output not supported for input type: "+$)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=d.clone(this.output);return}else this.precision===null&&A.isTextureFloat&&(this.precision="single");this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:I,canvas:A}=this;if(this.maxTexSize===null){let $=M.indexOf(A);$===-1&&($=M.length,M.push(A),k[$]=[I[0],I[1]]),this.maxTexSize=k[$]}this.maxTexSize[0]<I[0]&&(this.maxTexSize[0]=I[0]),this.maxTexSize[1]<I[1]&&(this.maxTexSize[1]=I[1])}setupArguments(I){this.kernelArguments=[],this.argumentTextureCount=0;const A=this.argumentTypes===null;if(A&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],I.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(I.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:$}=this;let P=0;const B=()=>this.createTexture(),U=()=>this.constantTextureCount+P++,W=H=>{this.switchKernels({type:"argumentMismatch",needed:H})},j=()=>$.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let H=0;H<I.length;H++){const Q=I[H],X=this.argumentNames[H];let ee;A?(ee=d.getVariableType(Q,this.strictIntegers),this.argumentTypes.push(ee)):ee=this.argumentTypes[H];const ie=this.constructor.lookupKernelValueType(ee,this.dynamicArguments?"dynamic":"static",this.precision,I[H]);if(ie===null)return this.requestFallback(I);const ne=new ie(Q,{name:X,type:ee,tactic:this.tactic,origin:"user",context:$,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:B,onRequestIndex:U,onUpdateValueMismatch:W,onRequestContextHandle:j});this.kernelArguments.push(ne),ne.setup(),this.argumentSizes.push(ne.textureSize),this.argumentBitRatios[H]=ne.bitRatio}}createTexture(){const I=this.context.createTexture();return this.textureCache.push(I),I}setupConstants(I){const{context:A}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let $=this.constantTypes===null;$&&(this.constantTypes={}),this.constantBitRatios={};let P=0;for(const B in this.constants){const U=this.constants[B];let W;$?(W=d.getVariableType(U,this.strictIntegers),this.constantTypes[B]=W):W=this.constantTypes[B];const j=this.constructor.lookupKernelValueType(W,"static",this.precision,U);if(j===null)return this.requestFallback(I);const H=new j(U,{name:B,type:W,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>P++,onRequestContextHandle:()=>A.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[B]=H.bitRatio,this.kernelConstants.push(H),H.setup(),H.forceUploadEachRun&&this.forceUploadKernelConstants.push(H)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const I=this.pickRenderStrategy(arguments);if(I)return I;const{texSize:A,context:$,canvas:P}=this;$.enable($.SCISSOR_TEST),this.pipeline&&this.precision==="single"?($.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),P.width=this.maxTexSize[0],P.height=this.maxTexSize[1]):($.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),P.width=this.maxTexSize[0],P.height=this.maxTexSize[1]);const B=this.threadDim=Array.from(this.output);for(;B.length<3;)B.push(1);const U=this.getVertexShader(arguments),W=$.createShader($.VERTEX_SHADER);$.shaderSource(W,U),$.compileShader(W),this.vertShader=W;const j=this.getFragmentShader(arguments),H=$.createShader($.FRAGMENT_SHADER);if($.shaderSource(H,j),$.compileShader(H),this.fragShader=H,this.debug&&(console.log("GLSL Shader Output:"),console.log(j)),!$.getShaderParameter(W,$.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+$.getShaderInfoLog(W));if(!$.getShaderParameter(H,$.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+$.getShaderInfoLog(H));const Q=this.program=$.createProgram();$.attachShader(Q,W),$.attachShader(Q,H),$.linkProgram(Q),this.framebuffer=$.createFramebuffer(),this.framebuffer.width=A[0],this.framebuffer.height=A[1],this.rawValueFramebuffers={};const X=new Float32Array([-1,-1,1,-1,-1,1,1,1]),ee=new Float32Array([0,0,1,0,0,1,1,1]),ie=X.byteLength;let ne=this.buffer;ne?$.bindBuffer($.ARRAY_BUFFER,ne):(ne=this.buffer=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,ne),$.bufferData($.ARRAY_BUFFER,X.byteLength+ee.byteLength,$.STATIC_DRAW)),$.bufferSubData($.ARRAY_BUFFER,0,X),$.bufferSubData($.ARRAY_BUFFER,ie,ee);const ae=$.getAttribLocation(this.program,"aPos");$.enableVertexAttribArray(ae),$.vertexAttribPointer(ae,2,$.FLOAT,!1,0,0);const re=$.getAttribLocation(this.program,"aTexCoord");$.enableVertexAttribArray(re),$.vertexAttribPointer(re,2,$.FLOAT,!1,0,ie),$.bindFramebuffer($.FRAMEBUFFER,this.framebuffer);let fe=0;$.useProgram(this.program);for(let pe in this.constants)this.kernelConstants[fe++].updateValue(this.constants[pe]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const I=b.fromKernel(this,w,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=I.getPrototypeString("kernel"),this.setupReturnTypes(I)}setupReturnTypes(I){if(!this.graphical&&!this.returnType&&(this.returnType=I.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let A=0;A<this.subKernels.length;A++){const $=this.subKernels[A];$.returnType||($.returnType=I.getSubKernelResultType(A))}}run(){const{kernelArguments:I,texSize:A,forceUploadKernelConstants:$,context:P}=this;P.useProgram(this.program),P.scissor(0,0,A[0],A[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",A)),this.setUniform2f("ratio",A[0]/this.maxTexSize[0],A[1]/this.maxTexSize[1]);for(let B=0;B<$.length;B++){const U=$[B];if(U.updateValue(this.constants[U.name]),this.switchingKernels)return}for(let B=0;B<I.length;B++)if(I[B].updateValue(arguments[B]),this.switchingKernels)return;if(this.plugins)for(let B=0;B<this.plugins.length;B++){const U=this.plugins[B];U.onBeforeRun&&U.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return P.bindRenderbuffer(P.RENDERBUFFER,null),P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),P.drawArrays(P.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;P.bindRenderbuffer(P.RENDERBUFFER,null),P.bindFramebuffer(P.FRAMEBUFFER,null),P.drawArrays(P.TRIANGLE_STRIP,0,4);return}P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),P.drawArrays(P.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:I}=this;switch(this.getInternalFormat()){case I.RGBA:return I.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const I=this.context;I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const I=this.context,A=this.texSize;if(this.texture){I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,this.texture.texture,0);return}const $=this.createTexture();I.activeTexture(I.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),I.bindTexture(I.TEXTURE_2D,$),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,I.NEAREST),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,I.NEAREST);const P=this.getInternalFormat();this.precision==="single"?I.texImage2D(I.TEXTURE_2D,0,P,A[0],A[1],0,I.RGBA,I.FLOAT,null):I.texImage2D(I.TEXTURE_2D,0,P,A[0],A[1],0,P,I.UNSIGNED_BYTE,null),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,$,0),this.texture=new this.TextureConstructor({texture:$,size:A,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const I=this.context;for(let A=0;A<this.mappedTextures.length;A++){const $=this.mappedTextures[A];($.beforeMutate()||this._mappedTextureSwitched[A])&&(I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0+A+1,I.TEXTURE_2D,$.texture,0),this._mappedTextureSwitched[A]=!1)}}_setupSubOutputTextures(){const I=this.context;if(this.mappedTextures){for(let $=0;$<this.subKernels.length;$++)I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0+$+1,I.TEXTURE_2D,this.mappedTextures[$].texture,0);return}const A=this.texSize;this.drawBuffersMap=[I.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let $=0;$<this.subKernels.length;$++){const P=this.createTexture();this.drawBuffersMap.push(I.COLOR_ATTACHMENT0+$+1),I.activeTexture(I.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+$),I.bindTexture(I.TEXTURE_2D,P),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,I.NEAREST),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,I.NEAREST),this.precision==="single"?I.texImage2D(I.TEXTURE_2D,0,I.RGBA,A[0],A[1],0,I.RGBA,I.FLOAT,null):I.texImage2D(I.TEXTURE_2D,0,I.RGBA,A[0],A[1],0,I.RGBA,I.UNSIGNED_BYTE,null),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0+$+1,I.TEXTURE_2D,P,0),this.mappedTextures.push(new this.TextureConstructor({texture:P,size:A,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(I,A){if(this.uniform1fCache.hasOwnProperty(I)){const P=this.uniform1fCache[I];if(A===P)return}this.uniform1fCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform1f($,A)}setUniform1i(I,A){if(this.uniform1iCache.hasOwnProperty(I)){const P=this.uniform1iCache[I];if(A===P)return}this.uniform1iCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform1i($,A)}setUniform2f(I,A,$){if(this.uniform2fCache.hasOwnProperty(I)){const B=this.uniform2fCache[I];if(A===B[0]&&$===B[1])return}this.uniform2fCache[I]=[A,$];const P=this.getUniformLocation(I);this.context.uniform2f(P,A,$)}setUniform2fv(I,A){if(this.uniform2fvCache.hasOwnProperty(I)){const P=this.uniform2fvCache[I];if(A[0]===P[0]&&A[1]===P[1])return}this.uniform2fvCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform2fv($,A)}setUniform2iv(I,A){if(this.uniform2ivCache.hasOwnProperty(I)){const P=this.uniform2ivCache[I];if(A[0]===P[0]&&A[1]===P[1])return}this.uniform2ivCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform2iv($,A)}setUniform3fv(I,A){if(this.uniform3fvCache.hasOwnProperty(I)){const P=this.uniform3fvCache[I];if(A[0]===P[0]&&A[1]===P[1]&&A[2]===P[2])return}this.uniform3fvCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform3fv($,A)}setUniform3iv(I,A){if(this.uniform3ivCache.hasOwnProperty(I)){const P=this.uniform3ivCache[I];if(A[0]===P[0]&&A[1]===P[1]&&A[2]===P[2])return}this.uniform3ivCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform3iv($,A)}setUniform4fv(I,A){if(this.uniform4fvCache.hasOwnProperty(I)){const P=this.uniform4fvCache[I];if(A[0]===P[0]&&A[1]===P[1]&&A[2]===P[2]&&A[3]===P[3])return}this.uniform4fvCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform4fv($,A)}setUniform4iv(I,A){if(this.uniform4ivCache.hasOwnProperty(I)){const P=this.uniform4ivCache[I];if(A[0]===P[0]&&A[1]===P[1]&&A[2]===P[2]&&A[3]===P[3])return}this.uniform4ivCache[I]=A;const $=this.getUniformLocation(I);this.context.uniform4iv($,A)}getUniformLocation(I){return this.programUniformLocationCache.hasOwnProperty(I)?this.programUniformLocationCache[I]:this.programUniformLocationCache[I]=this.context.getUniformLocation(this.program,I)}_getFragShaderArtifactMap(I){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(I),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(I){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(I=>I.source&&this.source.match(I.functionMatch)?I.source:"").join(`
`):`
`}_getConstantsString(){const I=[],{threadDim:A,texSize:$}=this;return this.dynamicOutput?I.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):I.push(`ivec3 uOutputDim = ivec3(${A[0]}, ${A[1]}, ${A[2]})`,`ivec2 uTexSize = ivec2(${$[0]}, ${$[1]})`),d.linesToString(I)}_getTextureCoordinate(){const I=this.subKernels;return I===null||I.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(I){const A=[],{argumentNames:$}=this;for(let P=0;P<$.length;P++)A.push(this.kernelArguments[P].getSource(I[P]));return A.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const I=[],{constants:A}=this;if(A){let $=0;for(const P in A)this.constants.hasOwnProperty(P)&&I.push(this.kernelConstants[$++].getSource(this.constants[P]))}return I.join("")}getRawValueFramebuffer(I,A){if(this.rawValueFramebuffers[I]||(this.rawValueFramebuffers[I]={}),!this.rawValueFramebuffers[I][A]){const $=this.context.createFramebuffer();$.width=I,$.height=A,this.rawValueFramebuffers[I][A]=$}return this.rawValueFramebuffers[I][A]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const I=[this.getKernelResultDeclaration()],{subKernels:A}=this;if(A!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let $=0;$<A.length;$++){const P=A[$];I.push(P.returnType==="Integer"?`int subKernelResult_${P.name} = 0`:`float subKernelResult_${P.name} = 0.0`)}break;case"Array(2)":for(let $=0;$<A.length;$++)I.push(`vec2 subKernelResult_${A[$].name}`);break;case"Array(3)":for(let $=0;$<A.length;$++)I.push(`vec3 subKernelResult_${A[$].name}`);break;case"Array(4)":for(let $=0;$<A.length;$++)I.push(`vec4 subKernelResult_${A[$].name}`);break}return d.linesToString(I)+this.translatedSource}getMainResultGraphical(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const I=[];if(!this.subKernels)return"";for(let A=0;A<this.subKernels.length;A++)this.subKernels[A].returnType==="Integer"?I.push(`  gl_FragData[${A+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[A].name}))`):I.push(`  gl_FragData[${A+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[A].name})`);return d.linesToString(I)}getMainResultMemoryOptimizedFloats(){const I=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const A=["r","g","b","a"];for(let $=0;$<A.length;$++){const P=A[$];this.getMainResultKernelMemoryOptimizedFloats(I,P),this.getMainResultSubKernelMemoryOptimizedFloats(I,P),$+1<A.length&&I.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return d.linesToString(I)}getMainResultKernelMemoryOptimizedFloats(I,A){I.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${A} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(I,A){if(!this.subKernels)return I;for(let $=0;$<this.subKernels.length;$++)this.subKernels[$].returnType==="Integer"?I.push(`  gl_FragData[${$+1}].${A} = float(subKernelResult_${this.subKernels[$].name})`):I.push(`  gl_FragData[${$+1}].${A} = subKernelResult_${this.subKernels[$].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const I=[];if(!this.subKernels)return I;for(let A=0;A<this.subKernels.length;++A){const $=this.subKernels[A];$.returnType==="Integer"?I.push(`  gl_FragData[${A+1}][0] = float(subKernelResult_${$.name})`):I.push(`  gl_FragData[${A+1}][0] = subKernelResult_${$.name}`)}return I}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const I=[];if(!this.subKernels)return I;for(let A=0;A<this.subKernels.length;++A)I.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`);return I}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const I=[];if(!this.subKernels)return I;for(let A=0;A<this.subKernels.length;++A)I.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`,`  gl_FragData[${A+1}][2] = subKernelResult_${this.subKernels[A].name}[2]`);return I}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const I=[];if(!this.subKernels)return I;switch(this.returnType){case"Number":case"Float":case"Integer":for(let A=0;A<this.subKernels.length;++A)this.subKernels[A].returnType==="Integer"?I.push(`  gl_FragData[${A+1}] = float(subKernelResult_${this.subKernels[A].name})`):I.push(`  gl_FragData[${A+1}] = subKernelResult_${this.subKernels[A].name}`);break;case"Array(2)":for(let A=0;A<this.subKernels.length;++A)I.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`);break;case"Array(3)":for(let A=0;A<this.subKernels.length;++A)I.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`,`  gl_FragData[${A+1}][2] = subKernelResult_${this.subKernels[A].name}[2]`);break;case"Array(4)":for(let A=0;A<this.subKernels.length;++A)I.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`,`  gl_FragData[${A+1}][2] = subKernelResult_${this.subKernels[A].name}[2]`,`  gl_FragData[${A+1}][3] = subKernelResult_${this.subKernels[A].name}[3]`);break}return I}replaceArtifacts(I,A){return I.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,($,P)=>{if(A.hasOwnProperty(P))return A[P];throw`unhandled artifact ${P}`})}getFragmentShader(I){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(I))}getVertexShader(I){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(I))}toString(){const I=d.linesToString(["const gl = context"]);return o(this.constructor,arguments,this,I)}destroy(I){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const $ in this.rawValueFramebuffers){for(const P in this.rawValueFramebuffers[$])this.context.deleteFramebuffer(this.rawValueFramebuffers[$][P]),delete this.rawValueFramebuffers[$][P];delete this.rawValueFramebuffers[$]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const $=this.textureCache.indexOf(this.texture.texture);$>-1&&this.textureCache.splice($,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let $=0;$<this.mappedTextures.length;$++){const P=this.mappedTextures[$];P.delete();const B=this.textureCache.indexOf(P.texture);B>-1&&this.textureCache.splice(B,1)}this.mappedTextures=null}if(this.kernelArguments)for(let $=0;$<this.kernelArguments.length;$++)this.kernelArguments[$].destroy();if(this.kernelConstants)for(let $=0;$<this.kernelConstants.length;$++)this.kernelConstants[$].destroy();for(;this.textureCache.length>0;){const $=this.textureCache.pop();this.context.deleteTexture($)}if(I){const $=M.indexOf(this.canvas);$>=0&&(M[$]=null,k[$]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const A=this.gpu.kernels.indexOf(this);A!==-1&&this.gpu.kernels.splice(A,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(I){const A=I.getExtension("WEBGL_lose_context");A&&A.loseContext()}toJSON(){const I=super.toJSON();return I.functionNodes=b.fromKernel(this,w).toJSON(),I.settings.threadDim=this.threadDim,I}}l.exports={WebGLKernel:v}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(i,l,T){const g=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;l.exports={vertexShader:g}},{}],72:[function(i,l,T){const g=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;l.exports={fragmentShader:g}},{}],73:[function(i,l,T){const{utils:g}=i("../../utils"),{WebGLFunctionNode:b}=i("../web-gl/function-node");class w extends b{astIdentifierExpression(h,c){if(h.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",h);const a=this.getType(h),o=g.sanitizeName(h.name);return h.name==="Infinity"?c.push("intBitsToFloat(2139095039)"):a==="Boolean"?this.argumentNames.indexOf(o)>-1?c.push(`bool(user_${o})`):c.push(`user_${o}`):c.push(`user_${o}`),c}}l.exports={WebGL2FunctionNode:w}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(i,l,T){const{WebGL2KernelValueBoolean:g}=i("./kernel-value/boolean"),{WebGL2KernelValueFloat:b}=i("./kernel-value/float"),{WebGL2KernelValueInteger:w}=i("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:d}=i("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:h}=i("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:c}=i("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:a}=i("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:o}=i("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:u}=i("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:f}=i("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:m}=i("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:x}=i("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:E}=i("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:S}=i("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:R}=i("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:M}=i("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:k}=i("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:v}=i("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:F}=i("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:I}=i("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:A}=i("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:$}=i("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:P}=i("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:B}=i("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:U}=i("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:W}=i("./kernel-value/array2"),{WebGL2KernelValueArray3:j}=i("./kernel-value/array3"),{WebGL2KernelValueArray4:H}=i("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Q}=i("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:X}=i("./kernel-value/dynamic-unsigned-array"),ee={unsigned:{dynamic:{Boolean:g,Integer:w,Float:b,Array:X,"Array(2)":W,"Array(3)":j,"Array(4)":H,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:E,NumberTexture:k,"ArrayTexture(1)":k,"ArrayTexture(2)":k,"ArrayTexture(3)":k,"ArrayTexture(4)":k,MemoryOptimizedNumberTexture:R,HTMLCanvas:h,OffscreenCanvas:h,HTMLImage:h,ImageBitmap:h,ImageData:h,HTMLImageArray:a,HTMLVideo:u},static:{Boolean:g,Float:b,Integer:w,Array:Q,"Array(2)":W,"Array(3)":j,"Array(4)":H,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:x,NumberTexture:M,"ArrayTexture(1)":M,"ArrayTexture(2)":M,"ArrayTexture(3)":M,"ArrayTexture(4)":M,MemoryOptimizedNumberTexture:R,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:c,HTMLVideo:o}},single:{dynamic:{Boolean:g,Integer:w,Float:b,Array:F,"Array(2)":W,"Array(3)":j,"Array(4)":H,"Array1D(2)":A,"Array1D(3)":A,"Array1D(4)":A,"Array2D(2)":P,"Array2D(3)":P,"Array2D(4)":P,"Array3D(2)":U,"Array3D(3)":U,"Array3D(4)":U,Input:m,NumberTexture:k,"ArrayTexture(1)":k,"ArrayTexture(2)":k,"ArrayTexture(3)":k,"ArrayTexture(4)":k,MemoryOptimizedNumberTexture:R,HTMLCanvas:h,OffscreenCanvas:h,HTMLImage:h,ImageBitmap:h,ImageData:h,HTMLImageArray:a,HTMLVideo:u},static:{Boolean:g,Float:b,Integer:w,Array:v,"Array(2)":W,"Array(3)":j,"Array(4)":H,"Array1D(2)":I,"Array1D(3)":I,"Array1D(4)":I,"Array2D(2)":$,"Array2D(3)":$,"Array2D(4)":$,"Array3D(2)":B,"Array3D(3)":B,"Array3D(4)":B,Input:f,NumberTexture:M,"ArrayTexture(1)":M,"ArrayTexture(2)":M,"ArrayTexture(3)":M,"ArrayTexture(4)":M,MemoryOptimizedNumberTexture:S,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:c,HTMLVideo:o}}};function ie(ne,ae,re,fe){if(!ne)throw new Error("type missing");if(!ae)throw new Error("dynamic missing");if(!re)throw new Error("precision missing");fe.type&&(ne=fe.type);const pe=ee[re][ae];if(pe[ne]===!1)return null;if(pe[ne]===void 0)throw new Error(`Could not find a KernelValue for ${ne}`);return pe[ne]}l.exports={kernelValueMaps:ee,lookupKernelValueType:ie}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(i,l,T){const{WebGLKernelValueArray2:g}=i("../../web-gl/kernel-value/array2");class b extends g{}l.exports={WebGL2KernelValueArray2:b}},{"../../web-gl/kernel-value/array2":41}],76:[function(i,l,T){const{WebGLKernelValueArray3:g}=i("../../web-gl/kernel-value/array3");class b extends g{}l.exports={WebGL2KernelValueArray3:b}},{"../../web-gl/kernel-value/array3":42}],77:[function(i,l,T){const{WebGLKernelValueArray4:g}=i("../../web-gl/kernel-value/array4");class b extends g{}l.exports={WebGL2KernelValueArray4:b}},{"../../web-gl/kernel-value/array4":43}],78:[function(i,l,T){const{WebGLKernelValueBoolean:g}=i("../../web-gl/kernel-value/boolean");class b extends g{}l.exports={WebGL2KernelValueBoolean:b}},{"../../web-gl/kernel-value/boolean":44}],79:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueHTMLImageArray:b}=i("./html-image-array");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2DArray ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}updateValue(h){const{width:c,height:a}=h[0];this.checkSize(c,a),this.dimensions=[c,a,h.length],this.textureSize=[c,a],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGL2KernelValueDynamicHTMLImageArray:w}},{"../../../utils":114,"./html-image-array":92}],80:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicHTMLImage:b}=i("../../web-gl/kernel-value/dynamic-html-image");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}}l.exports={WebGL2KernelValueDynamicHTMLImage:w}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueDynamicHTMLImage:b}=i("./dynamic-html-image");class w extends b{}l.exports={WebGL2KernelValueDynamicHTMLVideo:w}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:b}=i("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class w extends b{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}l.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:w}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicNumberTexture:b}=i("../../web-gl/kernel-value/dynamic-number-texture");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}}l.exports={WebGL2KernelValueDynamicNumberTexture:w}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray:b}=i("../../web-gl2/kernel-value/single-array");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}updateValue(h){this.dimensions=g.getDimensions(h,!0),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGL2KernelValueDynamicSingleArray:w}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray1DI:b}=i("../../web-gl2/kernel-value/single-array1d-i");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}updateValue(h){this.setShape(h),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGL2KernelValueDynamicSingleArray1DI:w}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray2DI:b}=i("../../web-gl2/kernel-value/single-array2d-i");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}updateValue(h){this.setShape(h),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGL2KernelValueDynamicSingleArray2DI:w}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray3DI:b}=i("../../web-gl2/kernel-value/single-array3d-i");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}updateValue(h){this.setShape(h),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGL2KernelValueDynamicSingleArray3DI:w}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleInput:b}=i("../../web-gl2/kernel-value/single-input");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}updateValue(h){let[c,a,o]=h.size;this.dimensions=new Int32Array([c||1,a||1,o||1]),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(h)}}l.exports={WebGL2KernelValueDynamicSingleInput:w}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:b}=i("../../web-gl/kernel-value/dynamic-unsigned-array");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}}l.exports={WebGL2KernelValueDynamicUnsignedArray:w}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:b}=i("../../web-gl/kernel-value/dynamic-unsigned-input");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`uniform ${h} ivec2 ${this.sizeId}`,`uniform ${h} ivec3 ${this.dimensionsId}`])}}l.exports={WebGL2KernelValueDynamicUnsignedInput:w}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueFloat:b}=i("../../web-gl/kernel-value/float");class w extends b{}l.exports={WebGL2KernelValueFloat:w}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelArray:b}=i("../../web-gl/kernel-value/array");class w extends b{constructor(h,c){super(h,c),this.checkSize(h[0].width,h[0].height),this.dimensions=[h[0].width,h[0].height,h.length],this.textureSize=[h[0].width,h[0].height]}defineTexture(){const{context:h}=this;h.activeTexture(this.contextHandle),h.bindTexture(h.TEXTURE_2D_ARRAY,this.texture),h.texParameteri(h.TEXTURE_2D_ARRAY,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D_ARRAY,h.TEXTURE_MIN_FILTER,h.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2DArray ${this.id}`,`${h} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${h} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){const{context:c}=this;c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D_ARRAY,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage3D(c.TEXTURE_2D_ARRAY,0,c.RGBA,h[0].width,h[0].height,h.length,0,c.RGBA,c.UNSIGNED_BYTE,null);for(let a=0;a<h.length;a++)c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,a,h[a].width,h[a].height,1,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue=h[a]);this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGL2KernelValueHTMLImageArray:w}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueHTMLImage:b}=i("../../web-gl/kernel-value/html-image");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`${h} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${h} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}l.exports={WebGL2KernelValueHTMLImage:w}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGL2KernelValueHTMLImage:b}=i("./html-image");class w extends b{}l.exports={WebGL2KernelValueHTMLVideo:w}},{"../../../utils":114,"./html-image":93}],95:[function(i,l,T){const{WebGLKernelValueInteger:g}=i("../../web-gl/kernel-value/integer");class b extends g{getSource(d){const h=this.getVariablePrecisionString();return this.origin==="constants"?`const ${h} int ${this.id} = ${parseInt(d)};
`:`uniform ${h} int ${this.id};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=d)}}l.exports={WebGL2KernelValueInteger:b}},{"../../web-gl/kernel-value/integer":60}],96:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:b}=i("../../web-gl/kernel-value/memory-optimized-number-texture");class w extends b{getSource(){const{id:h,sizeId:c,textureSize:a,dimensionsId:o,dimensions:u}=this,f=this.getVariablePrecisionString();return g.linesToString([`uniform sampler2D ${h}`,`${f} ivec2 ${c} = ivec2(${a[0]}, ${a[1]})`,`${f} ivec3 ${o} = ivec3(${u[0]}, ${u[1]}, ${u[2]})`])}}l.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:w}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueNumberTexture:b}=i("../../web-gl/kernel-value/number-texture");class w extends b{getSource(){const{id:h,sizeId:c,textureSize:a,dimensionsId:o,dimensions:u}=this,f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${h}`,`${f} ivec2 ${c} = ivec2(${a[0]}, ${a[1]})`,`${f} ivec3 ${o} = ivec3(${u[0]}, ${u[1]}, ${u[2]})`])}}l.exports={WebGL2KernelValueNumberTexture:w}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray:b}=i("../../web-gl/kernel-value/single-array");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`${h} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${h} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGL2KernelValueSingleArray:w}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray1DI:b}=i("../../web-gl/kernel-value/single-array1d-i");class w extends b{updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGL2KernelValueSingleArray1DI:w}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray2DI:b}=i("../../web-gl/kernel-value/single-array2d-i");class w extends b{updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGL2KernelValueSingleArray2DI:w}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray3DI:b}=i("../../web-gl/kernel-value/single-array3d-i");class w extends b{updateValue(h){if(h.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(h.constructor);return}const{context:c}=this;g.flattenTo(h,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGL2KernelValueSingleArray3DI:w}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleInput:b}=i("../../web-gl/kernel-value/single-input");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`${h} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${h} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(h){const{context:c}=this;g.flattenTo(h.value,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}l.exports={WebGL2KernelValueSingleInput:w}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedArray:b}=i("../../web-gl/kernel-value/unsigned-array");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`${h} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${h} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}l.exports={WebGL2KernelValueUnsignedArray:w}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(i,l,T){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedInput:b}=i("../../web-gl/kernel-value/unsigned-input");class w extends b{getSource(){const h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${this.id}`,`${h} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${h} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}l.exports={WebGL2KernelValueUnsignedInput:w}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(i,l,T){const{WebGLKernel:g}=i("../web-gl/kernel"),{WebGL2FunctionNode:b}=i("./function-node"),{FunctionBuilder:w}=i("../function-builder"),{utils:d}=i("../../utils"),{fragmentShader:h}=i("./fragment-shader"),{vertexShader:c}=i("./vertex-shader"),{lookupKernelValueType:a}=i("./kernel-value-maps");let o=null,u=null,f=null,m=null;class x extends g{static get isSupported(){return o!==null||(this.setupFeatureChecks(),o=this.isContextMatch(f)),o}static setupFeatureChecks(){typeof document<"u"?u=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(u=new OffscreenCanvas(0,0)),u&&(f=u.getContext("webgl2"),!(!f||!f.getExtension)&&(f.getExtension("EXT_color_buffer_float"),f.getExtension("OES_texture_float_linear"),m=this.getFeatures()))}static isContextMatch(S){return typeof WebGL2RenderingContext<"u"?S instanceof WebGL2RenderingContext:!1}static getFeatures(){const S=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.LOW_INT),lowFloatPrecision:S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.LOW_FLOAT),mediumIntPrecision:S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.MEDIUM_INT),mediumFloatPrecision:S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.MEDIUM_FLOAT),highIntPrecision:S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.HIGH_INT),highFloatPrecision:S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return f.getParameter(f.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return f.getParameter(f.MAX_TEXTURE_SIZE)}static lookupKernelValueType(S,R,M,k){return a(S,R,M,k)}static get testCanvas(){return u}static get testContext(){return f}static get features(){return m}static get fragmentShader(){return h}static get vertexShader(){return c}initContext(){const S={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",S)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(S){if(!this.validate){this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:R}=this.constructor;if(this.precision==="single"&&!R.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=R.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!R.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&R.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(S.length!==1)throw new Error("Auto output only supported for kernels with only one input");const M=d.getVariableType(S[0],this.strictIntegers);switch(M){case"Array":this.output=d.getDimensions(M);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=S[0].output;break;default:throw new Error("Auto output not supported for input type: "+M)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=d.clone(this.output);return}else!this.graphical&&this.precision===null&&R.isTextureFloat&&(this.precision="single");this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const S=w.fromKernel(this,b,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=S.getPrototypeString("kernel"),this.setupReturnTypes(S)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:S}=this;switch(this.getInternalFormat()){case S.R32F:return S.RED;case S.RG32F:return S.RG;case S.RGBA32F:return S.RGBA;case S.RGBA:return S.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:S}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?S.RGBA32F:S.R32F;case"Array(2)":return S.RG32F;case"Array(3)":case"Array(4)":return S.RGBA32F;default:throw new Error("Unhandled return type")}return S.RGBA32F}return S.RGBA}_setupOutputTexture(){const S=this.context;if(this.texture){S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,this.texture.texture,0);return}S.bindFramebuffer(S.FRAMEBUFFER,this.framebuffer);const R=S.createTexture(),M=this.texSize;S.activeTexture(S.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),S.bindTexture(S.TEXTURE_2D,R),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.REPEAT),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.REPEAT),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST);const k=this.getInternalFormat();this.precision==="single"?S.texStorage2D(S.TEXTURE_2D,1,k,M[0],M[1]):S.texImage2D(S.TEXTURE_2D,0,k,M[0],M[1],0,k,S.UNSIGNED_BYTE,null),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,R,0),this.texture=new this.TextureConstructor({texture:R,size:M,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const S=this.context;if(this.mappedTextures){for(let M=0;M<this.subKernels.length;M++)S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0+M+1,S.TEXTURE_2D,this.mappedTextures[M].texture,0);return}const R=this.texSize;this.drawBuffersMap=[S.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let M=0;M<this.subKernels.length;M++){const k=this.createTexture();this.drawBuffersMap.push(S.COLOR_ATTACHMENT0+M+1),S.activeTexture(S.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+M),S.bindTexture(S.TEXTURE_2D,k),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST);const v=this.getInternalFormat();this.precision==="single"?S.texStorage2D(S.TEXTURE_2D,1,v,R[0],R[1]):S.texImage2D(S.TEXTURE_2D,0,S.RGBA,R[0],R[1],0,S.RGBA,S.UNSIGNED_BYTE,null),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0+M+1,S.TEXTURE_2D,k,0),this.mappedTextures.push(new this.TextureConstructor({texture:k,size:R,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const S=this.subKernels,R=this.getVariablePrecisionString(this.texSize,this.tactic);return S===null||S.length<1?`in ${R} vec2 vTexCoord;
`:`out ${R} vec2 vTexCoord;
`}_getMainArgumentsString(S){const R=[],M=this.argumentNames;for(let k=0;k<M.length;k++)R.push(this.kernelArguments[k].getSource(S[k]));return R.join("")}getKernelString(){const S=[this.getKernelResultDeclaration()],R=this.subKernels;if(R!==null)switch(S.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let M=0;M<R.length;M++){const k=R[M];S.push(k.returnType==="Integer"?`int subKernelResult_${k.name} = 0`:`float subKernelResult_${k.name} = 0.0`,`layout(location = ${M+1}) out vec4 data${M+1}`)}break;case"Array(2)":for(let M=0;M<R.length;M++)S.push(`vec2 subKernelResult_${R[M].name}`,`layout(location = ${M+1}) out vec4 data${M+1}`);break;case"Array(3)":for(let M=0;M<R.length;M++)S.push(`vec3 subKernelResult_${R[M].name}`,`layout(location = ${M+1}) out vec4 data${M+1}`);break;case"Array(4)":for(let M=0;M<R.length;M++)S.push(`vec4 subKernelResult_${R[M].name}`,`layout(location = ${M+1}) out vec4 data${M+1}`);break}else S.push("out vec4 data0");return d.linesToString(S)+this.translatedSource}getMainResultGraphical(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const S=[];if(!this.subKernels)return"";for(let R=0;R<this.subKernels.length;R++)this.subKernels[R].returnType==="Integer"?S.push(`  data${R+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[R].name}))`):S.push(`  data${R+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[R].name})`);return d.linesToString(S)}getMainResultKernelMemoryOptimizedFloats(S,R){S.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${R} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(S,R){if(!this.subKernels)return S;for(let M=0;M<this.subKernels.length;M++){const k=this.subKernels[M];k.returnType==="Integer"?S.push(`  data${M+1}.${R} = float(subKernelResult_${k.name})`):S.push(`  data${M+1}.${R} = subKernelResult_${k.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const S=[];if(!this.subKernels)return S;for(let R=0;R<this.subKernels.length;++R){const M=this.subKernels[R];M.returnType==="Integer"?S.push(`  data${R+1}[0] = float(subKernelResult_${M.name})`):S.push(`  data${R+1}[0] = subKernelResult_${M.name}`)}return S}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const S=[];if(!this.subKernels)return S;for(let R=0;R<this.subKernels.length;++R){const M=this.subKernels[R];S.push(`  data${R+1}[0] = subKernelResult_${M.name}[0]`,`  data${R+1}[1] = subKernelResult_${M.name}[1]`)}return S}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const S=[];if(!this.subKernels)return S;for(let R=0;R<this.subKernels.length;++R){const M=this.subKernels[R];S.push(`  data${R+1}[0] = subKernelResult_${M.name}[0]`,`  data${R+1}[1] = subKernelResult_${M.name}[1]`,`  data${R+1}[2] = subKernelResult_${M.name}[2]`)}return S}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const S=[];if(!this.subKernels)return S;for(let R=0;R<this.subKernels.length;++R)S.push(`  data${R+1} = subKernelResult_${this.subKernels[R].name}`);return S}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const S=super.toJSON();return S.functionNodes=w.fromKernel(this,b).toJSON(),S.settings.threadDim=this.threadDim,S}}l.exports={WebGL2Kernel:x}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(i,l,T){const g=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;l.exports={vertexShader:g}},{}],107:[function(i,l,T){const g=i("./index"),b=g.GPU;for(const d in g)g.hasOwnProperty(d)&&d!=="GPU"&&(b[d]=g[d]);typeof window<"u"&&w(window),typeof self<"u"&&w(self);function w(d){d.GPU||Object.defineProperty(d,"GPU",{get(){return b}})}l.exports=g},{"./index":109}],108:[function(i,l,T){const{gpuMock:g}=i("gpu-mock.js"),{utils:b}=i("./utils"),{Kernel:w}=i("./backend/kernel"),{CPUKernel:d}=i("./backend/cpu/kernel"),{HeadlessGLKernel:h}=i("./backend/headless-gl/kernel"),{WebGL2Kernel:c}=i("./backend/web-gl2/kernel"),{WebGLKernel:a}=i("./backend/web-gl/kernel"),{kernelRunShortcut:o}=i("./kernel-run-shortcut"),u=[h,c,a],f=["gpu","cpu"],m={headlessgl:h,webgl2:c,webgl:a};let x=!0;class E{static disableValidation(){x=!1}static enableValidation(){x=!0}static get isGPUSupported(){return u.some(M=>M.isSupported)}static get isKernelMapSupported(){return u.some(M=>M.isSupported&&M.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return a.isSupported}static get isWebGL2Supported(){return c.isSupported}static get isHeadlessGLSupported(){return h.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return c.isSupported}static get isSinglePrecisionSupported(){return u.some(M=>M.isSupported&&M.features.isFloatRead&&M.features.isTextureFloat)}constructor(M){if(M=M||{},this.canvas=M.canvas||null,this.context=M.context||null,this.mode=M.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),M.functions)for(let k=0;k<M.functions.length;k++)this.addFunction(M.functions[k]);if(M.nativeFunctions)for(const k in M.nativeFunctions){if(!M.nativeFunctions.hasOwnProperty(k))continue;const v=M.nativeFunctions[k],{name:F,source:I}=v;this.addNativeFunction(F,I,v)}}}chooseKernel(){if(this.Kernel)return;let M=null;if(this.context){for(let k=0;k<u.length;k++){const v=u[k];if(v.isContextMatch(this.context)){if(!v.isSupported)throw new Error(`Kernel type ${v.name} not supported`);M=v;break}}if(M===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in m)(!x||m[this.mode].isSupported)&&(M=m[this.mode]);else if(this.mode==="gpu"){for(let k=0;k<u.length;k++)if(u[k].isSupported){M=u[k];break}}else this.mode==="cpu"&&(M=d);if(!M)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let k=0;k<u.length;k++)if(u[k].isSupported){M=u[k];break}M||(M=d)}this.mode||(this.mode=M.mode),this.Kernel=M}createKernel(M,k){if(typeof M>"u")throw new Error("Missing source parameter");if(typeof M!="object"&&!b.isFunction(M)&&typeof M!="string")throw new Error("source parameter not a function");const v=this.kernels;if(this.mode==="dev"){const W=g(M,S(k));return v.push(W),W}M=typeof M=="function"?M.toString():M;const F={},I=S(k)||{};k&&typeof k.argumentTypes=="object"&&(I.argumentTypes=Object.keys(k.argumentTypes).map(W=>k.argumentTypes[W]));function A(W){console.warn("Falling back to CPU");const j=new d(M,{argumentTypes:U.argumentTypes,constantTypes:U.constantTypes,graphical:U.graphical,loopMaxIterations:U.loopMaxIterations,constants:U.constants,dynamicOutput:U.dynamicOutput,dynamicArgument:U.dynamicArguments,output:U.output,precision:U.precision,pipeline:U.pipeline,immutable:U.immutable,optimizeFloatMemory:U.optimizeFloatMemory,fixIntegerDivisionAccuracy:U.fixIntegerDivisionAccuracy,functions:U.functions,nativeFunctions:U.nativeFunctions,injectedNative:U.injectedNative,subKernels:U.subKernels,strictIntegers:U.strictIntegers,debug:U.debug});j.build.apply(j,W);const H=j.run.apply(j,W);return U.replaceKernel(j),H}function $(W,j,H){H.debug&&console.warn("Switching kernels");let Q=null;if(H.signature&&!F[H.signature]&&(F[H.signature]=H),H.dynamicOutput)for(let re=W.length-1;re>=0;re--){const fe=W[re];fe.type==="outputPrecisionMismatch"&&(Q=fe.needed)}const X=H.constructor,ee=X.getArgumentTypes(H,j),ie=X.getSignature(H,ee),ne=F[ie];if(ne)return ne.onActivate(H),ne;const ae=F[ie]=new X(M,{argumentTypes:ee,constantTypes:H.constantTypes,graphical:H.graphical,loopMaxIterations:H.loopMaxIterations,constants:H.constants,dynamicOutput:H.dynamicOutput,dynamicArgument:H.dynamicArguments,context:H.context,canvas:H.canvas,output:Q||H.output,precision:H.precision,pipeline:H.pipeline,immutable:H.immutable,optimizeFloatMemory:H.optimizeFloatMemory,fixIntegerDivisionAccuracy:H.fixIntegerDivisionAccuracy,functions:H.functions,nativeFunctions:H.nativeFunctions,injectedNative:H.injectedNative,subKernels:H.subKernels,strictIntegers:H.strictIntegers,debug:H.debug,gpu:H.gpu,validate:x,returnType:H.returnType,tactic:H.tactic,onRequestFallback:A,onRequestSwitchKernel:$,texture:H.texture,mappedTextures:H.mappedTextures,drawBuffersMap:H.drawBuffersMap});return ae.build.apply(ae,j),U.replaceKernel(ae),v.push(ae),ae}const P=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:x,onRequestFallback:A,onRequestSwitchKernel:$},I),B=new this.Kernel(M,P),U=o(B);return this.canvas||(this.canvas=B.canvas),this.context||(this.context=B.context),v.push(B),U}createKernelMap(){let M,k;const v=typeof arguments[arguments.length-2];if(v==="function"||v==="string"?(M=arguments[arguments.length-2],k=arguments[arguments.length-1]):M=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&f.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const F=S(k);if(k&&typeof k.argumentTypes=="object"&&(F.argumentTypes=Object.keys(k.argumentTypes).map(I=>k.argumentTypes[I])),Array.isArray(arguments[0])){F.subKernels=[];const I=arguments[0];for(let A=0;A<I.length;A++){const $=I[A].toString(),P=b.getFunctionNameFromString($);F.subKernels.push({name:P,source:$,property:A})}}else{F.subKernels=[];const I=arguments[0];for(let A in I){if(!I.hasOwnProperty(A))continue;const $=I[A].toString(),P=b.getFunctionNameFromString($);F.subKernels.push({name:P||A,source:$,property:A})}}return this.createKernel(M,F)}combineKernels(){const M=arguments[0],k=arguments[arguments.length-1];if(M.kernel.constructor.mode==="cpu")return k;const v=arguments[0].canvas,F=arguments[0].context,I=arguments.length-1;for(let A=0;A<I;A++)arguments[A].setCanvas(v).setContext(F).setPipeline(!0);return function(){const A=k.apply(this,arguments);return A.toArray?A.toArray():A}}setFunctions(M){return this.functions=M,this}setNativeFunctions(M){return this.nativeFunctions=M,this}addFunction(M,k){return this.functions.push({source:M,settings:k}),this}addNativeFunction(M,k,v){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:M,source:k},v)),this}injectNative(M){return this.injectedNative=M,this}destroy(){return new Promise((M,k)=>{this.kernels||M(),setTimeout(()=>{try{for(let F=0;F<this.kernels.length;F++)this.kernels[F].destroy(!0);let v=this.kernels[0];v&&(v.kernel&&(v=v.kernel),v.constructor.destroyContext&&v.constructor.destroyContext(this.context))}catch(v){k(v)}M()},0)})}}function S(R){if(!R)return{};const M=Object.assign({},R);return R.hasOwnProperty("floatOutput")&&(b.warnDeprecated("setting","floatOutput","precision"),M.precision=R.floatOutput?"single":"unsigned"),R.hasOwnProperty("outputToTexture")&&(b.warnDeprecated("setting","outputToTexture","pipeline"),M.pipeline=!!R.outputToTexture),R.hasOwnProperty("outputImmutable")&&(b.warnDeprecated("setting","outputImmutable","immutable"),M.immutable=!!R.outputImmutable),R.hasOwnProperty("floatTextures")&&(b.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),M.optimizeFloatMemory=!!R.floatTextures),M}l.exports={GPU:E,kernelOrder:u,kernelTypes:f}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(i,l,T){const{GPU:g}=i("./gpu"),{alias:b}=i("./alias"),{utils:w}=i("./utils"),{Input:d,input:h}=i("./input"),{Texture:c}=i("./texture"),{FunctionBuilder:a}=i("./backend/function-builder"),{FunctionNode:o}=i("./backend/function-node"),{CPUFunctionNode:u}=i("./backend/cpu/function-node"),{CPUKernel:f}=i("./backend/cpu/kernel"),{HeadlessGLKernel:m}=i("./backend/headless-gl/kernel"),{WebGLFunctionNode:x}=i("./backend/web-gl/function-node"),{WebGLKernel:E}=i("./backend/web-gl/kernel"),{kernelValueMaps:S}=i("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:R}=i("./backend/web-gl2/function-node"),{WebGL2Kernel:M}=i("./backend/web-gl2/kernel"),{kernelValueMaps:k}=i("./backend/web-gl2/kernel-value-maps"),{GLKernel:v}=i("./backend/gl/kernel"),{Kernel:F}=i("./backend/kernel"),{FunctionTracer:I}=i("./backend/function-tracer"),A=i("./plugins/math-random-uniformly-distributed");l.exports={alias:b,CPUFunctionNode:u,CPUKernel:f,GPU:g,FunctionBuilder:a,FunctionNode:o,HeadlessGLKernel:m,Input:d,input:h,Texture:c,utils:w,WebGL2FunctionNode:R,WebGL2Kernel:M,webGL2KernelValueMaps:k,WebGLFunctionNode:x,WebGLKernel:E,webGLKernelValueMaps:S,GLKernel:v,Kernel:F,FunctionTracer:I,plugins:{mathRandom:A}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(i,l,T){class g{constructor(d,h){this.value=d,Array.isArray(h)?this.size=h:(this.size=new Int32Array(3),h.z?this.size=new Int32Array([h.x,h.y,h.z]):h.y?this.size=new Int32Array([h.x,h.y]):this.size=new Int32Array([h.x]));const[c,a,o]=this.size;if(o){if(this.value.length!==c*a*o)throw new Error(`Input size ${this.value.length} does not match ${c} * ${a} * ${o} = ${a*c*o}`)}else if(a){if(this.value.length!==c*a)throw new Error(`Input size ${this.value.length} does not match ${c} * ${a} = ${a*c}`)}else if(this.value.length!==c)throw new Error(`Input size ${this.value.length} does not match ${c}`)}toArray(){const{utils:d}=i("./utils"),[h,c,a]=this.size;return a?d.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),h,c,a):c?d.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),h,c):this.value}}function b(w,d){return new g(w,d)}l.exports={Input:g,input:b}},{"./utils":114}],111:[function(i,l,T){const{utils:g}=i("./utils");function b(d){let h=function(){return d.build.apply(d,arguments),h=function(){let a=d.run.apply(d,arguments);if(d.switchingKernels){const o=d.resetSwitchingKernels(),u=d.onRequestSwitchKernel(o,arguments,d);c.kernel=d=u,a=u.run.apply(u,arguments)}return d.renderKernels?d.renderKernels():d.renderOutput?d.renderOutput():a},h.apply(d,arguments)};const c=function(){return h.apply(d,arguments)};return c.exec=function(){return new Promise((a,o)=>{try{a(h.apply(this,arguments))}catch(u){o(u)}})},c.replaceKernel=function(a){d=a,w(d,c)},w(d,c),c}function w(d,h){if(h.kernel){h.kernel=d;return}const c=g.allPropertiesOf(d);for(let a=0;a<c.length;a++){const o=c[a];o[0]==="_"&&o[1]==="_"||(typeof d[o]=="function"?o.substring(0,3)==="add"||o.substring(0,3)==="set"?h[o]=function(){return h.kernel[o].apply(h.kernel,arguments),h}:h[o]=function(){return h.kernel[o].apply(h.kernel,arguments)}:(h.__defineGetter__(o,()=>h.kernel[o]),h.__defineSetter__(o,u=>{h.kernel[o]=u})))}h.kernel=d}l.exports={kernelRunShortcut:b}},{"./utils":114}],112:[function(i,l,T){const a={name:"math-random-uniformly-distributed",onBeforeRun:o=>{o.setUniform1f("randomSeed1",Math.random()),o.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};l.exports=a},{}],113:[function(i,l,T){class g{constructor(w){const{texture:d,size:h,dimensions:c,output:a,context:o,type:u="NumberTexture",kernel:f,internalFormat:m,textureFormat:x}=w;if(!a)throw new Error('settings property "output" required.');if(!o)throw new Error('settings property "context" required.');if(!d)throw new Error('settings property "texture" required.');if(!f)throw new Error('settings property "kernel" required.');this.texture=d,d._refs?d._refs++:d._refs=1,this.size=h,this.dimensions=c,this.output=a,this.context=o,this.kernel=f,this.type=u,this._deleted=!1,this.internalFormat=m,this.textureFormat=x}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}l.exports={Texture:g}},{}],114:[function(i,l,T){const g=i("acorn"),{Input:b}=i("./input"),{Texture:w}=i("./texture"),d=/function ([^(]*)/,h=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=/([^\s,]+)/g,a={systemEndianness(){return m},getSystemEndianness(){const x=new ArrayBuffer(4),E=new Uint32Array(x),S=new Uint8Array(x);if(E[0]=3735928559,S[0]===239)return"LE";if(S[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(x){return typeof x=="function"},isFunctionString(x){return typeof x=="string"?x.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(x){const E=d.exec(x);return!E||E.length===0?null:E[1].trim()},getFunctionBodyFromString(x){return x.substring(x.indexOf("{")+1,x.lastIndexOf("}"))},getArgumentNamesFromString(x){const E=x.replace(h,"");let S=E.slice(E.indexOf("(")+1,E.indexOf(")")).match(c);return S===null&&(S=[]),S},clone(x){if(x===null||typeof x!="object"||x.hasOwnProperty("isActiveClone"))return x;const E=x.constructor();for(let S in x)Object.prototype.hasOwnProperty.call(x,S)&&(x.isActiveClone=null,E[S]=a.clone(x[S]),delete x.isActiveClone);return E},isArray(x){return!isNaN(x.length)},getVariableType(x,E){if(a.isArray(x))return x.length>0&&x[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(x.constructor){case Boolean:return"Boolean";case Number:return E&&Number.isInteger(x)?"Integer":"Float";case w:return x.type;case b:return"Input"}if("nodeName"in x)switch(x.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(x.hasOwnProperty("type"))return x.type;if(typeof OffscreenCanvas<"u"&&x instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&x instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&x instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(x,E){let[S,R,M]=E,k=(S||1)*(R||1)*(M||1);return x.optimizeFloatMemory&&x.precision==="single"&&(S=k=Math.ceil(k/4)),R>1&&S*R===k?new Int32Array([S,R]):a.closestSquareDimensions(k)},closestSquareDimensions(x){const E=Math.sqrt(x);let S=Math.ceil(E),R=Math.floor(E);for(;S*R<x;)S--,R=Math.ceil(x/S);return new Int32Array([R,Math.ceil(x/R)])},getMemoryOptimizedFloatTextureSize(x,E){const R=a.roundTo((x[0]||1)*(x[1]||1)*(x[2]||1)*(x[3]||1),4)/E;return a.closestSquareDimensions(R)},getMemoryOptimizedPackedTextureSize(x,E){const[S,R,M]=x,v=a.roundTo((S||1)*(R||1)*(M||1),4)/(4/E);return a.closestSquareDimensions(v)},roundTo(x,E){return Math.floor((x+E-1)/E)*E},getDimensions(x,E){let S;if(a.isArray(x)){const R=[];let M=x;for(;a.isArray(M);)R.push(M.length),M=M[0];S=R.reverse()}else if(x instanceof w)S=x.output;else if(x instanceof b)S=x.size;else throw new Error(`Unknown dimensions of ${x}`);if(E)for(S=Array.from(S);S.length<3;)S.push(1);return new Int32Array(S)},flatten2dArrayTo(x,E){let S=0;for(let R=0;R<x.length;R++)E.set(x[R],S),S+=x[R].length},flatten3dArrayTo(x,E){let S=0;for(let R=0;R<x.length;R++)for(let M=0;M<x[R].length;M++)E.set(x[R][M],S),S+=x[R][M].length},flatten4dArrayTo(x,E){let S=0;for(let R=0;R<x.length;R++)for(let M=0;M<x[R].length;M++)for(let k=0;k<x[R][M].length;k++)E.set(x[R][M][k],S),S+=x[R][M][k].length},flattenTo(x,E){a.isArray(x[0])?a.isArray(x[0][0])?a.isArray(x[0][0][0])?a.flatten4dArrayTo(x,E):a.flatten3dArrayTo(x,E):a.flatten2dArrayTo(x,E):E.set(x)},splitArray(x,E){const S=[];for(let R=0;R<x.length;R+=E)S.push(new x.constructor(x.buffer,R*4+x.byteOffset,E));return S},getAstString(x,E){const S=Array.isArray(x)?x:x.split(/\r?\n/g),R=E.loc.start,M=E.loc.end,k=[];if(R.line===M.line)k.push(S[R.line-1].substring(R.column,M.column));else{k.push(S[R.line-1].slice(R.column));for(let v=R.line;v<M.line;v++)k.push(S[v]);k.push(S[M.line-1].slice(0,M.column))}return k.join(`
`)},allPropertiesOf(x){const E=[];do E.push.apply(E,Object.getOwnPropertyNames(x));while(x=Object.getPrototypeOf(x));return E},linesToString(x){return x.length>0?x.join(`;
`)+`;
`:`
`},warnDeprecated(x,E,S){console.warn(S?`You are using a deprecated ${x} "${E}". It has been replaced with "${S}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${x} "${E}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(x,E,S)=>{const R=S/2|0,M=E*4,k=new Uint8ClampedArray(E*4),v=x.slice(0);for(let F=0;F<R;++F){const I=F*M,A=(S-F-1)*M;k.set(v.subarray(I,I+M)),v.copyWithin(I,A,A+M),v.set(k,A)}return v},erectPackedFloat:(x,E)=>x.subarray(0,E),erect2DPackedFloat:(x,E,S)=>{const R=new Array(S);for(let M=0;M<S;M++){const k=M*E,v=k+E;R[M]=x.subarray(k,v)}return R},erect3DPackedFloat:(x,E,S,R)=>{const M=new Array(R);for(let k=0;k<R;k++){const v=new Array(S);for(let F=0;F<S;F++){const I=k*S*E+F*E,A=I+E;v[F]=x.subarray(I,A)}M[k]=v}return M},erectMemoryOptimizedFloat:(x,E)=>x.subarray(0,E),erectMemoryOptimized2DFloat:(x,E,S)=>{const R=new Array(S);for(let M=0;M<S;M++){const k=M*E;R[M]=x.subarray(k,k+E)}return R},erectMemoryOptimized3DFloat:(x,E,S,R)=>{const M=new Array(R);for(let k=0;k<R;k++){const v=new Array(S);for(let F=0;F<S;F++){const I=k*S*E+F*E;v[F]=x.subarray(I,I+E)}M[k]=v}return M},erectFloat:(x,E)=>{const S=new Float32Array(E);let R=0;for(let M=0;M<E;M++)S[M]=x[R],R+=4;return S},erect2DFloat:(x,E,S)=>{const R=new Array(S);let M=0;for(let k=0;k<S;k++){const v=new Float32Array(E);for(let F=0;F<E;F++)v[F]=x[M],M+=4;R[k]=v}return R},erect3DFloat:(x,E,S,R)=>{const M=new Array(R);let k=0;for(let v=0;v<R;v++){const F=new Array(S);for(let I=0;I<S;I++){const A=new Float32Array(E);for(let $=0;$<E;$++)A[$]=x[k],k+=4;F[I]=A}M[v]=F}return M},erectArray2:(x,E)=>{const S=new Array(E),R=E*4;let M=0;for(let k=0;k<R;k+=4)S[M++]=x.subarray(k,k+2);return S},erect2DArray2:(x,E,S)=>{const R=new Array(S),M=E*4;for(let k=0;k<S;k++){const v=new Array(E),F=k*M;let I=0;for(let A=0;A<M;A+=4)v[I++]=x.subarray(A+F,A+F+2);R[k]=v}return R},erect3DArray2:(x,E,S,R)=>{const M=E*4,k=new Array(R);for(let v=0;v<R;v++){const F=new Array(S);for(let I=0;I<S;I++){const A=new Array(E),$=v*M*S+I*M;let P=0;for(let B=0;B<M;B+=4)A[P++]=x.subarray(B+$,B+$+2);F[I]=A}k[v]=F}return k},erectArray3:(x,E)=>{const S=new Array(E),R=E*4;let M=0;for(let k=0;k<R;k+=4)S[M++]=x.subarray(k,k+3);return S},erect2DArray3:(x,E,S)=>{const R=E*4,M=new Array(S);for(let k=0;k<S;k++){const v=new Array(E),F=k*R;let I=0;for(let A=0;A<R;A+=4)v[I++]=x.subarray(A+F,A+F+3);M[k]=v}return M},erect3DArray3:(x,E,S,R)=>{const M=E*4,k=new Array(R);for(let v=0;v<R;v++){const F=new Array(S);for(let I=0;I<S;I++){const A=new Array(E),$=v*M*S+I*M;let P=0;for(let B=0;B<M;B+=4)A[P++]=x.subarray(B+$,B+$+3);F[I]=A}k[v]=F}return k},erectArray4:(x,E)=>{const S=new Array(x),R=E*4;let M=0;for(let k=0;k<R;k+=4)S[M++]=x.subarray(k,k+4);return S},erect2DArray4:(x,E,S)=>{const R=E*4,M=new Array(S);for(let k=0;k<S;k++){const v=new Array(E),F=k*R;let I=0;for(let A=0;A<R;A+=4)v[I++]=x.subarray(A+F,A+F+4);M[k]=v}return M},erect3DArray4:(x,E,S,R)=>{const M=E*4,k=new Array(R);for(let v=0;v<R;v++){const F=new Array(S);for(let I=0;I<S;I++){const A=new Array(E),$=v*M*S+I*M;let P=0;for(let B=0;B<M;B+=4)A[P++]=x.subarray(B+$,B+$+4);F[I]=A}k[v]=F}return k},flattenFunctionToString:(x,E)=>{const{findDependency:S,thisLookup:R,doNotDefine:M}=E;let k=E.flattened;k||(k=E.flattened={});const v=g.parse(x),F=[];let I=0;function A(P){if(Array.isArray(P)){const B=[];for(let U=0;U<P.length;U++)B.push(A(P[U]));return B.join("")}switch(P.type){case"Program":return A(P.body)+(P.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${P.id.name}(${P.params.map(A).join(", ")}) ${A(P.body)}`;case"BlockStatement":{const U=[];I+=2;for(let W=0;W<P.body.length;W++){const j=A(P.body[W]);j&&U.push(" ".repeat(I)+j,`;
`)}return I-=2,`{
${U.join("")}}`}case"VariableDeclaration":const B=a.normalizeDeclarations(P).map(A).filter(U=>U!==null);return B.length<1?"":`${P.kind} ${B.join(",")}`;case"VariableDeclarator":return P.init.object&&P.init.object.type==="ThisExpression"?R(P.init.property.name,!0)?`${P.id.name} = ${A(P.init)}`:null:`${P.id.name} = ${A(P.init)}`;case"CallExpression":{if(P.callee.property.name==="subarray")return`${A(P.callee.object)}.${A(P.callee.property)}(${P.arguments.map(U=>A(U)).join(", ")})`;if(P.callee.object.name==="gl"||P.callee.object.name==="context")return`${A(P.callee.object)}.${A(P.callee.property)}(${P.arguments.map(U=>A(U)).join(", ")})`;if(P.callee.object.type==="ThisExpression")return F.push(S("this",P.callee.property.name)),`${P.callee.property.name}(${P.arguments.map(U=>A(U)).join(", ")})`;if(P.callee.object.name){const U=S(P.callee.object.name,P.callee.property.name);return U===null?`${P.callee.object.name}.${P.callee.property.name}(${P.arguments.map(W=>A(W)).join(", ")})`:(F.push(U),`${P.callee.property.name}(${P.arguments.map(W=>A(W)).join(", ")})`)}else{if(P.callee.object.type==="MemberExpression")return`${A(P.callee.object)}.${P.callee.property.name}(${P.arguments.map(U=>A(U)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${A(P.argument)}`;case"BinaryExpression":return`(${A(P.left)}${P.operator}${A(P.right)})`;case"UnaryExpression":return P.prefix?`${P.operator} ${A(P.argument)}`:`${A(P.argument)} ${P.operator}`;case"ExpressionStatement":return`${A(P.expression)}`;case"SequenceExpression":return`(${A(P.expressions)})`;case"ArrowFunctionExpression":return`(${P.params.map(A).join(", ")}) => ${A(P.body)}`;case"Literal":return P.raw;case"Identifier":return P.name;case"MemberExpression":return P.object.type==="ThisExpression"?R(P.property.name):P.computed?`${A(P.object)}[${A(P.property)}]`:A(P.object)+"."+A(P.property);case"ThisExpression":return"this";case"NewExpression":return`new ${A(P.callee)}(${P.arguments.map(U=>A(U)).join(", ")})`;case"ForStatement":return`for (${A(P.init)};${A(P.test)};${A(P.update)}) ${A(P.body)}`;case"AssignmentExpression":return`${A(P.left)}${P.operator}${A(P.right)}`;case"UpdateExpression":return`${A(P.argument)}${P.operator}`;case"IfStatement":return`if (${A(P.test)}) ${A(P.consequent)}`;case"ThrowStatement":return`throw ${A(P.argument)}`;case"ObjectPattern":return P.properties.map(A).join(", ");case"ArrayPattern":return P.elements.map(A).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${A(P.test)}?${A(P.consequent)}:${A(P.alternate)}`;case"Property":if(P.kind==="init")return A(P.key)}throw new Error(`unhandled ast.type of ${P.type}`)}const $=A(v);if(F.length>0){const P=[];for(let B=0;B<F.length;B++){const U=F[B];k[U]||(k[U]=!0),U&&P.push(a.flattenFunctionToString(U,E)+`
`)}return P.join("")+$}return $},normalizeDeclarations:x=>{if(x.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const E=[];for(let S=0;S<x.declarations.length;S++){const R=x.declarations[S];if(R.id&&R.id.type==="ObjectPattern"&&R.id.properties){const{properties:M}=R.id;for(let k=0;k<M.length;k++){const v=M[k];if(v.value.type==="ObjectPattern"&&v.value.properties)for(let F=0;F<v.value.properties.length;F++){const I=v.value.properties[F];if(I.type==="Property")E.push({type:"VariableDeclarator",id:{type:"Identifier",name:I.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:R.init,property:{type:"Identifier",name:v.key.name},computed:!1},property:{type:"Identifier",name:I.key.name},computed:!1}});else throw new Error("unexpected state")}else if(v.value.type==="Identifier")E.push({type:"VariableDeclarator",id:{type:"Identifier",name:v.value&&v.value.name?v.value.name:v.key.name},init:{type:"MemberExpression",object:R.init,property:{type:"Identifier",name:v.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(R.id&&R.id.type==="ArrayPattern"&&R.id.elements){const{elements:M}=R.id;for(let k=0;k<M.length;k++){const v=M[k];if(v.type==="Identifier")E.push({type:"VariableDeclarator",id:{type:"Identifier",name:v.name},init:{type:"MemberExpression",object:R.init,property:{type:"Literal",value:k,raw:k.toString(),start:v.start,end:v.end},computed:!0}});else throw new Error("unexpected state")}}else E.push(R)}return E},splitHTMLImageToRGB:(x,E)=>{const S=x.createKernel(function(F){return F[this.thread.y][this.thread.x].r*255},{output:[E.width,E.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),R=x.createKernel(function(F){return F[this.thread.y][this.thread.x].g*255},{output:[E.width,E.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),M=x.createKernel(function(F){return F[this.thread.y][this.thread.x].b*255},{output:[E.width,E.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),k=x.createKernel(function(F){return F[this.thread.y][this.thread.x].a*255},{output:[E.width,E.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),v=[S(E),R(E),M(E),k(E)];return v.rKernel=S,v.gKernel=R,v.bKernel=M,v.aKernel=k,v.gpu=x,v},splitRGBAToCanvases:(x,E,S,R)=>{const M=x.createKernel(function(I){const A=I[this.thread.y][this.thread.x];this.color(A.r/255,0,0,255)},{output:[S,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});M(E);const k=x.createKernel(function(I){const A=I[this.thread.y][this.thread.x];this.color(0,A.g/255,0,255)},{output:[S,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});k(E);const v=x.createKernel(function(I){const A=I[this.thread.y][this.thread.x];this.color(0,0,A.b/255,255)},{output:[S,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});v(E);const F=x.createKernel(function(I){const A=I[this.thread.y][this.thread.x];this.color(255,255,255,A.a/255)},{output:[S,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return F(E),[M.canvas,k.canvas,v.canvas,F.canvas]},getMinifySafeName:x=>{try{const E=g.parse(`const value = ${x.toString()}`),{init:S}=E.body[0].declarations[0];return S.body.name||S.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(x){return o.test(x)&&(x=x.replace(o,"S_S")),u.test(x)?x=x.replace(u,"U_U"):f.test(x)&&(x=x.replace(f,"u_u")),x}},o=/\$/,u=/__/,f=/_/,m=a.getSystemEndianness();l.exports={utils:a}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser)),gpuBrowser.exports}var rttc={},runtimeSourceError={},hasRequiredRuntimeSourceError;function requireRuntimeSourceError(){if(hasRequiredRuntimeSourceError)return runtimeSourceError;hasRequiredRuntimeSourceError=1,Object.defineProperty(runtimeSourceError,"__esModule",{value:!0}),runtimeSourceError.RuntimeSourceError=void 0;const e=requireConstants(),n=requireTypes();class i{constructor(T){this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR,this.location=T?T.loc:e.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}return runtimeSourceError.RuntimeSourceError=i,runtimeSourceError}var hasRequiredRttc;function requireRttc(){if(hasRequiredRttc)return rttc;hasRequiredRttc=1,Object.defineProperty(rttc,"__esModule",{value:!0}),rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const e=requireRuntimeSourceError(),n=requireTypes(),i=" on left hand side of operation",l=" on right hand side of operation";class T extends e.RuntimeSourceError{constructor(S,R,M,k,v=n.Chapter.SOURCE_4){super(S),this.side=R,this.expected=M,this.got=k,this.chapter=v,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR}explain(){const S=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${S}.`}elaborate(){return this.explain()}}rttc.TypeError=T;const g=E=>E===null?"null":Array.isArray(E)?"array":typeof E,b=E=>g(E)==="number",w=E=>b(E)&&E>>>0===E&&E<2**32-1,d=E=>g(E)==="string",h=E=>g(E)==="boolean",c=E=>g(E)==="object",a=E=>g(E)==="array",o=(E,S,R,M=n.Chapter.SOURCE_4)=>(S==="+"||S==="-")&&!b(R)?new T(E,"","number",g(R),M):S==="!"&&!h(R)?new T(E,"","boolean",g(R),M):void 0;rttc.checkUnaryExpression=o;const u=(E,S,R,M,k)=>{switch(S){case"-":case"*":case"/":case"%":return b(M)?b(k)?void 0:new T(E,l,"number",g(k),R):new T(E,i,"number",g(M),R);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return R>2&&(S==="==="||S==="!==")?void 0:b(M)?b(k)?void 0:new T(E,l,"number",g(k),R):d(M)?d(k)?void 0:new T(E,l,"string",g(k),R):new T(E,i,"string or number",g(M),R);default:return}};rttc.checkBinaryExpression=u;const f=(E,S,R=n.Chapter.SOURCE_4)=>h(S)?void 0:new T(E," as condition","boolean",g(S),R);rttc.checkIfStatement=f;const m=(E,S,R)=>c(S)?d(R)?void 0:new T(E," as prop","string",g(R)):a(S)?w(R)?void 0:b(R)?new T(E," as prop","array index","other number"):new T(E," as prop","array index",g(R)):new T(E,"","object or array",g(S));rttc.checkMemberAccess=m;const x=E=>E.name!==void 0;return rttc.isIdentifier=x,rttc}var transfomer={},astCreator={},hasRequiredAstCreator;function requireAstCreator(){return hasRequiredAstCreator||(hasRequiredAstCreator=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.whileStatement=e.ifStatement=e.variableDeclarator=e.variableDeclaration=e.arrowFunctionExpression=e.blockExpression=e.functionDeclaration=e.functionDeclarationExpression=e.primitive=e.unaryExpression=e.binaryExpression=e.assignmentExpression=e.arrayExpression=e.conditionalExpression=e.mutateToConditionalExpression=e.logicalExpression=e.mutateToMemberExpression=e.mutateToReturnStatement=e.mutateToExpressionStatement=e.mutateToAssignmentExpression=e.mutateToCallExpression=e.objectExpression=e.property=e.returnStatement=e.program=e.blockStatement=e.functionExpression=e.blockArrowFunction=e.expressionStatement=e.callExpression=e.constantDeclaration=e.declaration=e.memberExpression=e.literal=e.identifier=e.locationDummyNode=e.getVariableDecarationName=void 0;const n=ae=>ae.declarations[0].id.name;e.getVariableDecarationName=n;const i=(ae,re)=>(0,e.literal)("Dummy",{start:{line:ae,column:re},end:{line:ae,column:re}});e.locationDummyNode=i;const l=(ae,re)=>({type:"Identifier",name:ae,loc:re});e.identifier=l;const T=(ae,re)=>({type:"Literal",value:ae,loc:re});e.literal=T;const g=(ae,re)=>({type:"MemberExpression",object:ae,computed:typeof re=="number",optional:!1,property:typeof re=="number"?(0,e.literal)(re):(0,e.identifier)(re)});e.memberExpression=g;const b=(ae,re,fe,pe)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,e.identifier)(ae),init:fe}],kind:re,loc:pe});e.declaration=b;const w=(ae,re,fe)=>(0,e.declaration)(ae,"const",re,fe);e.constantDeclaration=w;const d=(ae,re,fe)=>({type:"CallExpression",callee:ae,arguments:re,optional:!1,loc:fe});e.callExpression=d;const h=ae=>({type:"ExpressionStatement",expression:ae});e.expressionStatement=h;const c=(ae,re,fe)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:ae,body:Array.isArray(re)?(0,e.blockStatement)(re):re,loc:fe});e.blockArrowFunction=c;const a=(ae,re,fe)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:ae,body:Array.isArray(re)?(0,e.blockStatement)(re):re,loc:fe});e.functionExpression=a;const o=ae=>({type:"BlockStatement",body:ae});e.blockStatement=o;const u=ae=>({type:"Program",sourceType:"module",body:ae});e.program=u;const f=(ae,re)=>({type:"ReturnStatement",argument:ae,loc:re});e.returnStatement=f;const m=(ae,re)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,e.identifier)(ae),value:re,kind:"init"});e.property=m;const x=ae=>({type:"ObjectExpression",properties:ae});e.objectExpression=x;const E=(ae,re,fe)=>{ae.type="CallExpression",ae=ae,ae.callee=re,ae.arguments=fe};e.mutateToCallExpression=E;const S=(ae,re,fe)=>{ae.type="AssignmentExpression",ae=ae,ae.operator="=",ae.left=re,ae.right=fe};e.mutateToAssignmentExpression=S;const R=(ae,re)=>{ae.type="ExpressionStatement",ae=ae,ae.expression=re};e.mutateToExpressionStatement=R;const M=(ae,re)=>{ae.type="ReturnStatement",ae=ae,ae.argument=re};e.mutateToReturnStatement=M;const k=(ae,re,fe)=>{ae.type="MemberExpression",ae=ae,ae.object=re,ae.property=fe,ae.computed=!1};e.mutateToMemberExpression=k;const v=(ae,re,fe,pe)=>({type:"LogicalExpression",operator:ae,left:re,right:fe,loc:pe});e.logicalExpression=v;const F=(ae,re,fe,pe)=>{ae.type="ConditionalExpression",ae=ae,ae.test=re,ae.consequent=fe,ae.alternate=pe};e.mutateToConditionalExpression=F;const I=(ae,re,fe,pe)=>({type:"ConditionalExpression",test:ae,consequent:re,alternate:fe,loc:pe});e.conditionalExpression=I;const A=ae=>({type:"ArrayExpression",elements:ae});e.arrayExpression=A;const $=(ae,re)=>({type:"AssignmentExpression",operator:"=",left:ae,right:re});e.assignmentExpression=$;const P=(ae,re,fe,pe)=>({type:"BinaryExpression",operator:ae,left:re,right:fe,loc:pe});e.binaryExpression=P;const B=(ae,re,fe)=>({type:"UnaryExpression",operator:ae,prefix:!0,argument:re,loc:fe});e.unaryExpression=B;const U=ae=>ae===void 0?(0,e.identifier)("undefined"):(0,e.literal)(ae);e.primitive=U;const W=(ae,re,fe,pe)=>({type:"FunctionExpression",id:ae,params:re,body:fe,loc:pe});e.functionDeclarationExpression=W;const j=(ae,re,fe,pe)=>({type:"FunctionDeclaration",id:ae,params:re,body:fe,loc:pe});e.functionDeclaration=j;const H=(ae,re)=>({type:"BlockExpression",body:ae,loc:re});e.blockExpression=H;const Q=(ae,re,fe)=>({type:"ArrowFunctionExpression",expression:re.type!=="BlockStatement",generator:!1,params:ae,body:re,loc:fe});e.arrowFunctionExpression=Q;const X=(ae,re)=>({type:"VariableDeclaration",kind:"const",declarations:ae,loc:re});e.variableDeclaration=X;const ee=(ae,re,fe)=>({type:"VariableDeclarator",id:ae,init:re,loc:fe});e.variableDeclarator=ee;const ie=(ae,re,fe,pe)=>({type:"IfStatement",test:ae,consequent:re,alternate:fe,loc:pe});e.ifStatement=ie;const ne=(ae,re,fe)=>({type:"WhileStatement",test:re,body:ae,loc:fe});e.whileStatement=ne})(astCreator)),astCreator}var walkers={},walk$1={exports:{}},walk=walk$1.exports,hasRequiredWalk;function requireWalk(){return hasRequiredWalk||(hasRequiredWalk=1,(function(e,n){(function(i,l){l(n)})(walk,(function(i){function l(S,R,M,k,v){M||(M=E),(function F(I,A,$){var P=$||I.type;M[P](I,A,F),R[P]&&R[P](I,A)})(S,k,v)}function T(S,R,M,k,v){var F=[];M||(M=E),(function I(A,$,P){var B=P||A.type,U=A!==F[F.length-1];U&&F.push(A),M[B](A,$,I),R[B]&&R[B](A,$||F,F),U&&F.pop()})(S,k,v)}function g(S,R,M,k,v){var F=M?f(M,k||void 0):k;(function I(A,$,P){F[P||A.type](A,$,I)})(S,R,v)}function b(S){return typeof S=="string"?function(R){return R===S}:S||function(){return!0}}var w=function(R,M){this.node=R,this.state=M};function d(S,R,M,k,v){M||(M=E);var F;(function I(A,$,P){var B=P||A.type;M[B](A,$,I),F!==A&&(R(A,$,B),F=A)})(S,k,v)}function h(S,R,M,k){M||(M=E);var v=[],F;(function I(A,$,P){var B=P||A.type,U=A!==v[v.length-1];U&&v.push(A),M[B](A,$,I),F!==A&&(R(A,$||v,v,B),F=A),U&&v.pop()})(S,k)}function c(S,R,M,k,v,F){v||(v=E),k=b(k);try{(function I(A,$,P){var B=P||A.type;if((R==null||A.start<=R)&&(M==null||A.end>=M)&&v[B](A,$,I),(R==null||A.start===R)&&(M==null||A.end===M)&&k(B,A))throw new w(A,$)})(S,F)}catch(I){if(I instanceof w)return I;throw I}}function a(S,R,M,k,v){M=b(M),k||(k=E);try{(function F(I,A,$){var P=$||I.type;if(!(I.start>R||I.end<R)&&(k[P](I,A,F),M(P,I)))throw new w(I,A)})(S,v)}catch(F){if(F instanceof w)return F;throw F}}function o(S,R,M,k,v){M=b(M),k||(k=E);try{(function F(I,A,$){if(!(I.end<R)){var P=$||I.type;if(I.start>=R&&M(P,I))throw new w(I,A);k[P](I,A,F)}})(S,v)}catch(F){if(F instanceof w)return F;throw F}}function u(S,R,M,k,v){M=b(M),k||(k=E);var F;return(function I(A,$,P){if(!(A.start>R)){var B=P||A.type;A.end<=R&&(!F||F.node.end<A.end)&&M(B,A)&&(F=new w(A,$)),k[B](A,$,I)}})(S,v),F}function f(S,R){var M=Object.create(R||E);for(var k in S)M[k]=S[k];return M}function m(S,R,M){M(S,R)}function x(S,R,M){}var E={};E.Program=E.BlockStatement=E.StaticBlock=function(S,R,M){for(var k=0,v=S.body;k<v.length;k+=1){var F=v[k];M(F,R,"Statement")}},E.Statement=m,E.EmptyStatement=x,E.ExpressionStatement=E.ParenthesizedExpression=E.ChainExpression=function(S,R,M){return M(S.expression,R,"Expression")},E.IfStatement=function(S,R,M){M(S.test,R,"Expression"),M(S.consequent,R,"Statement"),S.alternate&&M(S.alternate,R,"Statement")},E.LabeledStatement=function(S,R,M){return M(S.body,R,"Statement")},E.BreakStatement=E.ContinueStatement=x,E.WithStatement=function(S,R,M){M(S.object,R,"Expression"),M(S.body,R,"Statement")},E.SwitchStatement=function(S,R,M){M(S.discriminant,R,"Expression");for(var k=0,v=S.cases;k<v.length;k+=1){var F=v[k];M(F,R)}},E.SwitchCase=function(S,R,M){S.test&&M(S.test,R,"Expression");for(var k=0,v=S.consequent;k<v.length;k+=1){var F=v[k];M(F,R,"Statement")}},E.ReturnStatement=E.YieldExpression=E.AwaitExpression=function(S,R,M){S.argument&&M(S.argument,R,"Expression")},E.ThrowStatement=E.SpreadElement=function(S,R,M){return M(S.argument,R,"Expression")},E.TryStatement=function(S,R,M){M(S.block,R,"Statement"),S.handler&&M(S.handler,R),S.finalizer&&M(S.finalizer,R,"Statement")},E.CatchClause=function(S,R,M){S.param&&M(S.param,R,"Pattern"),M(S.body,R,"Statement")},E.WhileStatement=E.DoWhileStatement=function(S,R,M){M(S.test,R,"Expression"),M(S.body,R,"Statement")},E.ForStatement=function(S,R,M){S.init&&M(S.init,R,"ForInit"),S.test&&M(S.test,R,"Expression"),S.update&&M(S.update,R,"Expression"),M(S.body,R,"Statement")},E.ForInStatement=E.ForOfStatement=function(S,R,M){M(S.left,R,"ForInit"),M(S.right,R,"Expression"),M(S.body,R,"Statement")},E.ForInit=function(S,R,M){S.type==="VariableDeclaration"?M(S,R):M(S,R,"Expression")},E.DebuggerStatement=x,E.FunctionDeclaration=function(S,R,M){return M(S,R,"Function")},E.VariableDeclaration=function(S,R,M){for(var k=0,v=S.declarations;k<v.length;k+=1){var F=v[k];M(F,R)}},E.VariableDeclarator=function(S,R,M){M(S.id,R,"Pattern"),S.init&&M(S.init,R,"Expression")},E.Function=function(S,R,M){S.id&&M(S.id,R,"Pattern");for(var k=0,v=S.params;k<v.length;k+=1){var F=v[k];M(F,R,"Pattern")}M(S.body,R,S.expression?"Expression":"Statement")},E.Pattern=function(S,R,M){S.type==="Identifier"?M(S,R,"VariablePattern"):S.type==="MemberExpression"?M(S,R,"MemberPattern"):M(S,R)},E.VariablePattern=x,E.MemberPattern=m,E.RestElement=function(S,R,M){return M(S.argument,R,"Pattern")},E.ArrayPattern=function(S,R,M){for(var k=0,v=S.elements;k<v.length;k+=1){var F=v[k];F&&M(F,R,"Pattern")}},E.ObjectPattern=function(S,R,M){for(var k=0,v=S.properties;k<v.length;k+=1){var F=v[k];F.type==="Property"?(F.computed&&M(F.key,R,"Expression"),M(F.value,R,"Pattern")):F.type==="RestElement"&&M(F.argument,R,"Pattern")}},E.Expression=m,E.ThisExpression=E.Super=E.MetaProperty=x,E.ArrayExpression=function(S,R,M){for(var k=0,v=S.elements;k<v.length;k+=1){var F=v[k];F&&M(F,R,"Expression")}},E.ObjectExpression=function(S,R,M){for(var k=0,v=S.properties;k<v.length;k+=1){var F=v[k];M(F,R)}},E.FunctionExpression=E.ArrowFunctionExpression=E.FunctionDeclaration,E.SequenceExpression=function(S,R,M){for(var k=0,v=S.expressions;k<v.length;k+=1){var F=v[k];M(F,R,"Expression")}},E.TemplateLiteral=function(S,R,M){for(var k=0,v=S.quasis;k<v.length;k+=1){var F=v[k];M(F,R)}for(var I=0,A=S.expressions;I<A.length;I+=1){var $=A[I];M($,R,"Expression")}},E.TemplateElement=x,E.UnaryExpression=E.UpdateExpression=function(S,R,M){M(S.argument,R,"Expression")},E.BinaryExpression=E.LogicalExpression=function(S,R,M){M(S.left,R,"Expression"),M(S.right,R,"Expression")},E.AssignmentExpression=E.AssignmentPattern=function(S,R,M){M(S.left,R,"Pattern"),M(S.right,R,"Expression")},E.ConditionalExpression=function(S,R,M){M(S.test,R,"Expression"),M(S.consequent,R,"Expression"),M(S.alternate,R,"Expression")},E.NewExpression=E.CallExpression=function(S,R,M){if(M(S.callee,R,"Expression"),S.arguments)for(var k=0,v=S.arguments;k<v.length;k+=1){var F=v[k];M(F,R,"Expression")}},E.MemberExpression=function(S,R,M){M(S.object,R,"Expression"),S.computed&&M(S.property,R,"Expression")},E.ExportNamedDeclaration=E.ExportDefaultDeclaration=function(S,R,M){S.declaration&&M(S.declaration,R,S.type==="ExportNamedDeclaration"||S.declaration.id?"Statement":"Expression"),S.source&&M(S.source,R,"Expression")},E.ExportAllDeclaration=function(S,R,M){S.exported&&M(S.exported,R),M(S.source,R,"Expression")},E.ImportDeclaration=function(S,R,M){for(var k=0,v=S.specifiers;k<v.length;k+=1){var F=v[k];M(F,R)}M(S.source,R,"Expression")},E.ImportExpression=function(S,R,M){M(S.source,R,"Expression")},E.ImportSpecifier=E.ImportDefaultSpecifier=E.ImportNamespaceSpecifier=E.Identifier=E.PrivateIdentifier=E.Literal=x,E.TaggedTemplateExpression=function(S,R,M){M(S.tag,R,"Expression"),M(S.quasi,R,"Expression")},E.ClassDeclaration=E.ClassExpression=function(S,R,M){return M(S,R,"Class")},E.Class=function(S,R,M){S.id&&M(S.id,R,"Pattern"),S.superClass&&M(S.superClass,R,"Expression"),M(S.body,R)},E.ClassBody=function(S,R,M){for(var k=0,v=S.body;k<v.length;k+=1){var F=v[k];M(F,R)}},E.MethodDefinition=E.PropertyDefinition=E.Property=function(S,R,M){S.computed&&M(S.key,R,"Expression"),S.value&&M(S.value,R,"Expression")},i.ancestor=T,i.base=E,i.findNodeAfter=o,i.findNodeAround=a,i.findNodeAt=c,i.findNodeBefore=u,i.full=d,i.fullAncestor=h,i.make=f,i.recursive=g,i.simple=l}))})(walk$1,walk$1.exports)),walk$1.exports}var hasRequiredWalkers;function requireWalkers(){if(hasRequiredWalkers)return walkers;hasRequiredWalkers=1,Object.defineProperty(walkers,"__esModule",{value:!0}),walkers.base=walkers.findNodeAfter=walkers.findNodeAround=walkers.findNodeAt=walkers.make=walkers.fullAncestor=walkers.full=walkers.recursive=walkers.ancestor=walkers.simple=void 0;const e=requireWalk();return walkers.simple=e.simple,walkers.ancestor=e.ancestor,walkers.recursive=e.recursive,walkers.full=e.full,walkers.fullAncestor=e.fullAncestor,walkers.make=e.make,walkers.findNodeAt=e.findNodeAt,walkers.findNodeAround=e.findNodeAround,walkers.findNodeAfter=e.findNodeAfter,walkers.base=e.base,walkers}var bodyVerifier={},hasRequiredBodyVerifier;function requireBodyVerifier(){if(hasRequiredBodyVerifier)return bodyVerifier;hasRequiredBodyVerifier=1,Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const e=requireWalkers();class n{constructor(l,T,g){this.checkBody=b=>{let w=!0;if((0,e.simple)(b,{FunctionDeclaration(){w=!1},ArrowFunctionExpression(){w=!1},ReturnStatement(){w=!1},BreakStatement(){w=!1},ContinueStatement(){w=!1}}),!w)return;const d=new RegExp(/^math_[a-z]+$/);if((0,e.simple)(b,{CallExpression(m){if(m.callee.type!=="Identifier"){w=!1;return}const x=m.callee.name;if(!d.test(x)){w=!1;return}}}),!w)return;const h=new Set;(0,e.simple)(b,{VariableDeclaration(m){m.declarations[0].id.type==="Identifier"&&h.add(m.declarations[0].id.name)}}),this.localVar=h;const c=[],a=this.getArrayName;if((0,e.simple)(b,{AssignmentExpression(m){if(!(m.left.type==="Identifier"&&h.has(m.left.name))){if(m.left.type==="MemberExpression"){const x=a(m.left);if(h.has(x.name))return}c.push(m)}}}),c.length!==1||c[0].left.type!=="MemberExpression")return;const o=this.getPropertyAccess(c[0].left);if(o.length===0||o.length>this.counters.length)return;const u=this.getPropertyAccess,f=this.outputArray;if((0,e.simple)(b,{MemberExpression(m){if(a(m).name!==f.name)return;const E=u(m);JSON.stringify(E)!==JSON.stringify(o)&&(w=!1)}},(0,e.make)({MemberExpression:()=>{}})),!!w){for(let m=0;m<this.counters.length&&o[m]===this.counters[m];m++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=b=>{let w=b;for(;w.type==="MemberExpression";)w=w.object;return w},this.getPropertyAccess=b=>{const w=[];let d=!0,h=b;for(;h.type==="MemberExpression";){if(h.property.type!=="Identifier"){d=!1;break}w.push(h.property.name),h=h.object}return d?(this.outputArray=h,w.reverse()):[]},this.program=l,this.node=T,this.counters=g,this.state=0,this.checkBody(T)}}return bodyVerifier.default=n,bodyVerifier}var loopVerifier={},hasRequiredLoopVerifier;function requireLoopVerifier(){if(hasRequiredLoopVerifier)return loopVerifier;hasRequiredLoopVerifier=1,Object.defineProperty(loopVerifier,"__esModule",{value:!0});class e{constructor(i){this.forLoopTransform=l=>{!l.init||!l.update||!l.test||(this.ok=this.hasCounter(l.init)&&this.hasCondition(l.test)&&this.hasUpdate(l.update))},this.hasCounter=l=>{if(!l||l.type!=="VariableDeclaration"||l.kind!=="let")return!1;const T=l.declarations;if(T.length>1)return!1;const g=T[0];if(g.id.type!=="Identifier"||!g.init)return!1;this.counter=g.id.name;const b=g.init;return!(!b||b.type!=="Literal"||b.value!==0)},this.hasCondition=l=>{if(l.type!=="BinaryExpression"||!(l.operator==="<"||l.operator==="<="))return!1;const T=l.left;if(T.type!=="Identifier"||T.name!==this.counter)return!1;const g=l.right;return g.type==="Identifier"||g.type==="Literal"?(this.end=g,!0):!1},this.hasUpdate=l=>{if(l.type!=="AssignmentExpression"||l.operator!=="="||l.left.type!=="Identifier"||l.left.name!==this.counter||l.right.type!=="BinaryExpression")return!1;const T=l.right;if(T.operator!=="+")return!1;const g=T.left.type==="Identifier"&&T.left.name===this.counter,b=T.right.type==="Identifier"&&T.right.name===this.counter,w=T.left.type==="Literal"&&T.left.value===1,d=T.right.type==="Literal"&&T.right.value===1;return g&&d||b&&w},this.node=i,this.forLoopTransform(this.node)}}return loopVerifier.default=e,loopVerifier}var hasRequiredTransfomer;function requireTransfomer(){if(hasRequiredTransfomer)return transfomer;hasRequiredTransfomer=1,Object.defineProperty(transfomer,"__esModule",{value:!0}),transfomer.gpuRuntimeTranspile=void 0;const e=requireAstCreator(),n=requireWalkers(),i=requireBodyVerifier(),l=requireLoopVerifier();let T=0;class g{constructor(d,h){this.transform=()=>{const c=this.gpuTranspile,a=[];return(0,n.simple)(this.program,{ForStatement(o){const u=c(o);u>0&&o.loc&&a.push([o.loc.start.line,u])}},(0,n.make)({ForStatement:()=>{}})),a},this.gpuTranspile=c=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(c),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const a=new i.default(this.program,this.innerBody,this.counters);if(a.state===0)return 0;this.state=a.state,this.outputArray=a.outputArray,this.localVar=a.localVar,this.getOuterVariables(),this.getTargetBody(c);const o=[];for(const S in this.outerVariables)if(this.outerVariables.hasOwnProperty(S)){const R=this.outerVariables[S];o.push([e.literal(S),JSON.parse(JSON.stringify(R))])}const u=a.getArrayName,f=this.localVar;(0,n.ancestor)(this.targetBody,{AssignmentExpression(S,R){if(S.left.type==="Identifier"||S.left.type!=="MemberExpression")return;const M=u(S.left);if(f.has(M.name))return;const k=R.length;e.mutateToReturnStatement(R[k-2],S.right)}});const m=[];for(let S=0;S<this.state;S++)m.push(e.identifier(this.counters[S]));const x=e.blockArrowFunction(this.counters.map(S=>e.identifier(S)),this.targetBody),E=e.callExpression(this.globalIds.__createKernelSource,[e.arrayExpression(this.end),e.arrayExpression(o.map(e.arrayExpression)),e.arrayExpression(Array.from(f.values()).map(S=>e.literal(S))),this.outputArray,x,e.literal(T++)],c.loc);return e.mutateToExpressionStatement(c,E),this.state},this.checkOuterLoops=c=>{let a=c;for(;a.type==="ForStatement";){const o=new l.default(a);if(!o.ok||(this.innerBody=a.body,this.counters.push(o.counter),this.end.push(o.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;a=this.innerBody.body[0]}},this.program=d,this.globalIds={__createKernelSource:h}}getTargetBody(d){let h=this.state;for(this.targetBody=d;h>1;)this.targetBody=this.targetBody.body.body[0],h--;this.targetBody=this.targetBody.body}getOuterVariables(){const d=this.innerBody,h=this.localVar,c=this.counters,a=this.outputArray.name,o={};(0,n.simple)(d,{Identifier(u){h.has(u.name)||c.includes(u.name)||u.name===a||u.name.startsWith("math_")||(o[u.name]=u)}}),this.outerVariables=o}}function b(w,d){const h=w.params.map(f=>f.name),c=w.body;(0,n.simple)(c,{CallExpression(f){if(f.callee.type!=="Identifier")return;const x=f.callee.name.split("_")[1],E=f.arguments;e.mutateToCallExpression(f,e.memberExpression(e.identifier("Math"),x),E)}});const a=new Set([...h,"Math"]);(0,n.simple)(c,{Identifier(f){a.has(f.name)||d.has(f.name)||e.mutateToMemberExpression(f,e.memberExpression(e.identifier("this"),"constants"),e.identifier(f.name))}});let o=["x"];h.length===2&&(o=["y","x"]),h.length===3&&(o=["z","y","x"]);const u=h.slice();return(0,n.simple)(c,{Identifier(f){let m=-1;for(let E=0;E<u.length;E=E+1)if(f.name===u[E]){m=E;break}if(m===-1)return;const x=o[m];e.mutateToMemberExpression(f,e.memberExpression(e.identifier("this"),"thread"),e.identifier(x))}}),c}return transfomer.gpuRuntimeTranspile=b,transfomer.default=g,transfomer}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const e=requireAcorn$1(),n=requireAstring(),i=requireGpuBrowser(),l=requireConstants(),T=requireRttc(),g=requireTransfomer(),b=200;function w(k,v,F){for(let I=0;I<v[0];I++)F[I]=c(k[I])}function d(k,v,F){for(let I=0;I<v[0];I++)for(let A=0;A<v[1];A++)F[I][A]=c(k[I][A])}function h(k,v,F){for(let I=0;I<v[0];I++)for(let A=0;A<v[1];A++)for(let $=0;$<v[2];$++)F[I][A][$]=c(k[I][A][$])}function c(k){if(!(k instanceof Float32Array))return k;const v=k.map(F=>c(F));return Array.from(v)}function a(k){return Array.isArray(k)}function o(k,v){for(let F=0;F<v[0];F=F+1)if(!Array.isArray(k[F]))return!1;return!0}function u(k,v){for(let F=0;F<v[0];F=F+1){if(!Array.isArray(k[F]))return!1;for(let I=0;I<v[1];I=I+1)if(!Array.isArray(k[F][I]))return!1}return!0}function f(k,v){let F;if(v.length===1&&(F=k(0)),v.length===2&&(F=k(0,0)),v.length===3&&(F=k(0,0,0)),typeof F!="number")return!1;let I=1;for(const A of v)I=I*A;return I>b}function m(k,v,F){function I(){for(let P=0;P<v[0];P++)F[P]=k(P)}function A(){for(let P=0;P<v[0];P=P+1)for(let B=0;B<v[1];B=B+1)F[P][B]=k(P,B)}function $(){for(let P=0;P<v[0];P=P+1)for(let B=0;B<v[1];B=B+1)for(let U=0;U<v[2];U=U+1)F[P][B][U]=k(P,B,U)}return v.length===1?I():v.length===2?A():$()}function x(k,v,F,I,A){const $=new i.GPU;let P=a(I),B="";if(P||(B=typeof I),k.length>1&&(P=P&&o(I,k),P||(B="undefined")),k.length>2&&(P=P&&u(I,k),P||(B="undefined")),!P)throw new T.TypeError(I,"","object or array",B);if(P=f(A,k),!P){m(A,k,I);return}const U=[];for(let Q=k.length-1;Q>=0;Q--)U.push(k[Q]);const W={constants:{}};W.constants=v;const H=$.createKernel(F,W).setOutput(U)();k.length===1&&w(H,k,I),k.length===2&&d(H,k,I),k.length===3&&h(H,k,I)}lib.__createKernel=x;function E(k){const v={};return k.forEach(([F,I])=>v[F]=I),v}const S=new Map;function R(){S.clear()}lib.__clearKernelCache=R;function M(k,v,F,I,A,$){const P=E(v),B=S.get($);if(B!==void 0)return x(k,P,B,I,A);const U=A.toString(),j=(0,e.parse)(U,l.ACORN_PARSE_OPTIONS).body[0].expression,H=(0,g.gpuRuntimeTranspile)(j,new Set(F)),Q=new Function((0,n.generate)(H));return S.set($,Q),x(k,P,Q,I,A)}return lib.__createKernelSource=M,lib}var schedulers={},errors={},stringify={},closure={},interpreter={},lodash$1={exports:{}};var lodash=lodash$1.exports,hasRequiredLodash;function requireLodash(){return hasRequiredLodash||(hasRequiredLodash=1,(function(e,n){(function(){var i,l="4.17.21",T=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",w="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,c="__lodash_placeholder__",a=1,o=2,u=4,f=1,m=2,x=1,E=2,S=4,R=8,M=16,k=32,v=64,F=128,I=256,A=512,$=30,P="...",B=800,U=16,W=1,j=2,H=3,Q=1/0,X=9007199254740991,ee=17976931348623157e292,ie=NaN,ne=4294967295,ae=ne-1,re=ne>>>1,fe=[["ary",F],["bind",x],["bindKey",E],["curry",R],["curryRight",M],["flip",A],["partial",k],["partialRight",v],["rearg",I]],pe="[object Arguments]",he="[object Array]",$e="[object AsyncFunction]",Le="[object Boolean]",Oe="[object Date]",Ne="[object DOMException]",be="[object Error]",Se="[object Function]",ge="[object GeneratorFunction]",Pe="[object Map]",Je="[object Number]",Ve="[object Null]",Tt="[object Object]",Ot="[object Promise]",Dt="[object Proxy]",nn="[object RegExp]",fn="[object Set]",bn="[object String]",Be="[object Symbol]",He="[object Undefined]",Mt="[object WeakMap]",zt="[object WeakSet]",Ft="[object ArrayBuffer]",wt="[object DataView]",xn="[object Float32Array]",we="[object Float64Array]",Ee="[object Int8Array]",Ae="[object Int16Array]",mt="[object Int32Array]",_t="[object Uint8Array]",st="[object Uint8ClampedArray]",Ce="[object Uint16Array]",Ke="[object Uint32Array]",pt=/\b__p \+= '';/g,it=/\b(__p \+=) '' \+/g,Rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,At=RegExp(dt.source),nt=RegExp(bt.source),vt=/<%-([\s\S]+?)%>/g,$r=/<%([\s\S]+?)%>/g,Br=/<%=([\s\S]+?)%>/g,mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tn=/^\w*$/,Ur=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lr=/[\\^$.*+?()[\]{}|]/g,gr=RegExp(Lr.source),_r=/^\s+/,ai=/\s/,yr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vr=/\{\n\/\* \[wrapped with (.+)\] \*/,ti=/,? & /,It=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pn=/[()=,{}\[\]\/\s]/,Vn=/\\(\\)?/g,lr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ur=/\w*$/,us=/^[-+]0x[0-9a-f]+$/i,ki=/^0b[01]+$/i,fi=/^\[object .+?Constructor\]$/,qr=/^0o[0-7]+$/i,ni=/^(?:0|[1-9]\d*)$/,Gn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xn=/($^)/,Er=/['\n\r\u2028\u2029\\]/g,cr="\\ud800-\\udfff",$n="\\u0300-\\u036f",Ir="\\ufe20-\\ufe2f",Yt="\\u20d0-\\u20ff",nr=$n+Ir+Yt,Dr="\\u2700-\\u27bf",kt="a-z\\xdf-\\xf6\\xf8-\\xff",$t="\\xac\\xb1\\xd7\\xf7",Qn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tr="\\u2000-\\u206f",z=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z="A-Z\\xc0-\\xd6\\xd8-\\xde",ue="\\ufe0e\\ufe0f",ye=$t+Qn+Tr+z,Re="[']",qe="["+cr+"]",rt="["+ye+"]",xt="["+nr+"]",Ct="\\d+",qt="["+Dr+"]",dn="["+kt+"]",rr="[^"+cr+ye+Ct+Dr+kt+Z+"]",br="\\ud83c[\\udffb-\\udfff]",Or="(?:"+xt+"|"+br+")",Yr="[^"+cr+"]",jr="(?:\\ud83c[\\udde6-\\uddff]){2}",ir="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="["+Z+"]",Gi="\\u200d",oi="(?:"+dn+"|"+rr+")",Wt="(?:"+Kn+"|"+rr+")",tn="(?:"+Re+"(?:d|ll|m|re|s|t|ve))?",cs="(?:"+Re+"(?:D|LL|M|RE|S|T|VE))?",Ki=Or+"?",Wr="["+ue+"]?",Cr="(?:"+Gi+"(?:"+[Yr,jr,ir].join("|")+")"+Wr+Ki+")*",Nr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",L=Wr+Ki+Cr,y="(?:"+[qt,jr,ir].join("|")+")"+L,V="(?:"+[Yr+xt+"?",xt,jr,ir,qe].join("|")+")",K=RegExp(Re,"g"),J=RegExp(xt,"g"),oe=RegExp(br+"(?="+br+")|"+V+L,"g"),ve=RegExp([Kn+"?"+dn+"+"+tn+"(?="+[rt,Kn,"$"].join("|")+")",Wt+"+"+cs+"(?="+[rt,Kn+oi,"$"].join("|")+")",Kn+"?"+oi+"+"+tn,Kn+"+"+cs,pi,Nr,Ct,y].join("|"),"g"),ke=RegExp("["+Gi+cr+nr+ue+"]"),Ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,et=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gt=-1,St={};St[xn]=St[we]=St[Ee]=St[Ae]=St[mt]=St[_t]=St[st]=St[Ce]=St[Ke]=!0,St[pe]=St[he]=St[Ft]=St[Le]=St[wt]=St[Oe]=St[be]=St[Se]=St[Pe]=St[Je]=St[Tt]=St[nn]=St[fn]=St[bn]=St[Mt]=!1;var Vt={};Vt[pe]=Vt[he]=Vt[Ft]=Vt[wt]=Vt[Le]=Vt[Oe]=Vt[xn]=Vt[we]=Vt[Ee]=Vt[Ae]=Vt[mt]=Vt[Pe]=Vt[Je]=Vt[Tt]=Vt[nn]=Vt[fn]=Vt[bn]=Vt[Be]=Vt[_t]=Vt[st]=Vt[Ce]=Vt[Ke]=!0,Vt[be]=Vt[Se]=Vt[Mt]=!1;var Te={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,Et=parseInt,Ht=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,rn=typeof self=="object"&&self&&self.Object===Object&&self,Nt=Ht||rn||Function("return this")(),Kt=n&&!n.nodeType&&n,mn=Kt&&!0&&e&&!e.nodeType&&e,Rn=mn&&mn.exports===Kt,jn=Rn&&Ht.process,On=(function(){try{var je=mn&&mn.require&&mn.require("util").types;return je||jn&&jn.binding&&jn.binding("util")}catch{}})(),Pr=On&&On.isArrayBuffer,di=On&&On.isDate,mi=On&&On.isMap,Ts=On&&On.isRegExp,Wo=On&&On.isSet,Ra=On&&On.isTypedArray;function Hr(je,at,Ze){switch(Ze.length){case 0:return je.call(at);case 1:return je.call(at,Ze[0]);case 2:return je.call(at,Ze[0],Ze[1]);case 3:return je.call(at,Ze[0],Ze[1],Ze[2])}return je.apply(at,Ze)}function nd(je,at,Ze,Pt){for(var sn=-1,gn=je==null?0:je.length;++sn<gn;){var Jn=je[sn];at(Pt,Jn,Ze(Jn),je)}return Pt}function Ri(je,at){for(var Ze=-1,Pt=je==null?0:je.length;++Ze<Pt&&at(je[Ze],Ze,je)!==!1;);return je}function rd(je,at){for(var Ze=je==null?0:je.length;Ze--&&at(je[Ze],Ze,je)!==!1;);return je}function sf(je,at){for(var Ze=-1,Pt=je==null?0:je.length;++Ze<Pt;)if(!at(je[Ze],Ze,je))return!1;return!0}function ea(je,at){for(var Ze=-1,Pt=je==null?0:je.length,sn=0,gn=[];++Ze<Pt;){var Jn=je[Ze];at(Jn,Ze,je)&&(gn[sn++]=Jn)}return gn}function Xl(je,at){var Ze=je==null?0:je.length;return!!Ze&&Qa(je,at,0)>-1}function Ho(je,at,Ze){for(var Pt=-1,sn=je==null?0:je.length;++Pt<sn;)if(Ze(at,je[Pt]))return!0;return!1}function Zn(je,at){for(var Ze=-1,Pt=je==null?0:je.length,sn=Array(Pt);++Ze<Pt;)sn[Ze]=at(je[Ze],Ze,je);return sn}function ta(je,at){for(var Ze=-1,Pt=at.length,sn=je.length;++Ze<Pt;)je[sn+Ze]=at[Ze];return je}function gc(je,at,Ze,Pt){var sn=-1,gn=je==null?0:je.length;for(Pt&&gn&&(Ze=je[++sn]);++sn<gn;)Ze=at(Ze,je[sn],sn,je);return Ze}function af(je,at,Ze,Pt){var sn=je==null?0:je.length;for(Pt&&sn&&(Ze=je[--sn]);sn--;)Ze=at(Ze,je[sn],sn,je);return Ze}function yc(je,at){for(var Ze=-1,Pt=je==null?0:je.length;++Ze<Pt;)if(at(je[Ze],Ze,je))return!0;return!1}var sd=Ma("length");function ad(je){return je.split("")}function od(je){return je.match(It)||[]}function of(je,at,Ze){var Pt;return Ze(je,function(sn,gn,Jn){if(at(sn,gn,Jn))return Pt=gn,!1}),Pt}function Ql(je,at,Ze,Pt){for(var sn=je.length,gn=Ze+(Pt?1:-1);Pt?gn--:++gn<sn;)if(at(je[gn],gn,je))return gn;return-1}function Qa(je,at,Ze){return at===at?hd(je,at,Ze):Ql(je,lf,Ze)}function ld(je,at,Ze,Pt){for(var sn=Ze-1,gn=je.length;++sn<gn;)if(Pt(je[sn],at))return sn;return-1}function lf(je){return je!==je}function Zl(je,at){var Ze=je==null?0:je.length;return Ze?Jl(je,at)/Ze:ie}function Ma(je){return function(at){return at==null?i:at[je]}}function vc(je){return function(at){return je==null?i:je[at]}}function bc(je,at,Ze,Pt,sn){return sn(je,function(gn,Jn,Nn){Ze=Pt?(Pt=!1,gn):at(Ze,gn,Jn,Nn)}),Ze}function uf(je,at){var Ze=je.length;for(je.sort(at);Ze--;)je[Ze]=je[Ze].value;return je}function Jl(je,at){for(var Ze,Pt=-1,sn=je.length;++Pt<sn;){var gn=at(je[Pt]);gn!==i&&(Ze=Ze===i?gn:Ze+gn)}return Ze}function eu(je,at){for(var Ze=-1,Pt=Array(je);++Ze<je;)Pt[Ze]=at(Ze);return Pt}function cf(je,at){return Zn(at,function(Ze){return[Ze,je[Ze]]})}function $a(je){return je&&je.slice(0,Ja(je)+1).replace(_r,"")}function Mi(je){return function(at){return je(at)}}function xc(je,at){return Zn(at,function(Ze){return je[Ze]})}function Go(je,at){return je.has(at)}function Sc(je,at){for(var Ze=-1,Pt=je.length;++Ze<Pt&&Qa(at,je[Ze],0)>-1;);return Ze}function wc(je,at){for(var Ze=je.length;Ze--&&Qa(at,je[Ze],0)>-1;);return Ze}function Ko(je,at){for(var Ze=je.length,Pt=0;Ze--;)je[Ze]===at&&++Pt;return Pt}var qo=vc(Te),ud=vc(le);function tu(je){return"\\"+Ie[je]}function hf(je,at){return je==null?i:je[at]}function La(je){return ke.test(je)}function _c(je){return Ue.test(je)}function Ec(je){for(var at,Ze=[];!(at=je.next()).done;)Ze.push(at.value);return Ze}function nu(je){var at=-1,Ze=Array(je.size);return je.forEach(function(Pt,sn){Ze[++at]=[sn,Pt]}),Ze}function Tc(je,at){return function(Ze){return je(at(Ze))}}function Os(je,at){for(var Ze=-1,Pt=je.length,sn=0,gn=[];++Ze<Pt;){var Jn=je[Ze];(Jn===at||Jn===c)&&(je[Ze]=c,gn[sn++]=Ze)}return gn}function ru(je){var at=-1,Ze=Array(je.size);return je.forEach(function(Pt){Ze[++at]=Pt}),Ze}function cd(je){var at=-1,Ze=Array(je.size);return je.forEach(function(Pt){Ze[++at]=[Pt,Pt]}),Ze}function hd(je,at,Ze){for(var Pt=Ze-1,sn=je.length;++Pt<sn;)if(je[Pt]===at)return Pt;return-1}function fd(je,at,Ze){for(var Pt=Ze+1;Pt--;)if(je[Pt]===at)return Pt;return Pt}function Za(je){return La(je)?pf(je):sd(je)}function sr(je){return La(je)?df(je):ad(je)}function Ja(je){for(var at=je.length;at--&&ai.test(je.charAt(at)););return at}var ff=vc(_e);function pf(je){for(var at=oe.lastIndex=0;oe.test(je);)++at;return at}function df(je){return je.match(oe)||[]}function mf(je){return je.match(ve)||[]}var Cc=(function je(at){at=at==null?Nt:eo.defaults(Nt.Object(),at,eo.pick(Nt,et));var Ze=at.Array,Pt=at.Date,sn=at.Error,gn=at.Function,Jn=at.Math,Nn=at.Object,iu=at.RegExp,Ia=at.String,$i=at.TypeError,Yo=Ze.prototype,gf=gn.prototype,to=Nn.prototype,su=at["__core-js_shared__"],au=gf.toString,Ln=to.hasOwnProperty,yf=0,ou=(function(){var C=/[^.]+$/.exec(su&&su.keys&&su.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""})(),gi=to.toString,lu=au.call(Nn),qi=Nt._,no=iu("^"+au.call(Ln).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ro=Rn?at.Buffer:i,hs=at.Symbol,Da=at.Uint8Array,uu=ro?ro.allocUnsafe:i,Cs=Tc(Nn.getPrototypeOf,Nn),Ac=Nn.create,Xo=to.propertyIsEnumerable,Ns=Yo.splice,vf=hs?hs.isConcatSpreadable:i,Xr=hs?hs.iterator:i,Ps=hs?hs.toStringTag:i,Yi=(function(){try{var C=da(Nn,"defineProperty");return C({},"",{}),C}catch{}})(),bf=at.clearTimeout!==Nt.clearTimeout&&at.clearTimeout,cu=Pt&&Pt.now!==Nt.Date.now&&Pt.now,Oa=at.setTimeout!==Nt.setTimeout&&at.setTimeout,io=Jn.ceil,Qo=Jn.floor,Zo=Nn.getOwnPropertySymbols,xf=ro?ro.isBuffer:i,Li=at.isFinite,so=Yo.join,ao=Tc(Nn.keys,Nn),hr=Jn.max,Ar=Jn.min,Xi=Pt.now,Qi=at.parseInt,Fs=Jn.random,As=Yo.reverse,Zi=da(at,"DataView"),Ii=da(at,"Map"),hu=da(at,"Promise"),na=da(at,"Set"),Na=da(at,"WeakMap"),oo=da(Nn,"create"),kr=Na&&new Na,In={},_n=si(Zi),ra=si(Ii),Ji=si(hu),kc=si(na),ia=si(Na),Jo=hs?hs.prototype:i,lo=Jo?Jo.valueOf:i,Pa=Jo?Jo.toString:i;function me(C){if(dr(C)&&!an(C)&&!(C instanceof on)){if(C instanceof yi)return C;if(Ln.call(C,"__wrapped__"))return Uu(C)}return new yi(C)}var sa=(function(){function C(){}return function(N){if(!tr(N))return{};if(Ac)return Ac(N);C.prototype=N;var q=new C;return C.prototype=i,q}})();function aa(){}function yi(C,N){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!N,this.__index__=0,this.__values__=i}me.templateSettings={escape:vt,evaluate:$r,interpolate:Br,variable:"",imports:{_:me}},me.prototype=aa.prototype,me.prototype.constructor=me,yi.prototype=sa(aa.prototype),yi.prototype.constructor=yi;function on(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ne,this.__views__=[]}function Vs(){var C=new on(this.__wrapped__);return C.__actions__=ui(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=ui(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=ui(this.__views__),C}function oa(){if(this.__filtered__){var C=new on(this);C.__dir__=-1,C.__filtered__=!0}else C=this.clone(),C.__dir__*=-1;return C}function zs(){var C=this.__wrapped__.value(),N=this.__dir__,q=an(C),te=N<0,ce=q?C.length:0,xe=Sd(0,ce,this.__views__),Me=xe.start,Fe=xe.end,Ge=Fe-Me,ct=te?Fe:Me-1,ht=this.__iteratees__,yt=ht.length,Lt=0,jt=Ar(Ge,this.__takeCount__);if(!q||!te&&ce==Ge&&jt==Ge)return jc(C,this.__actions__);var Jt=[];e:for(;Ge--&&Lt<jt;){ct+=N;for(var hn=-1,en=C[ct];++hn<yt;){var En=ht[hn],Cn=En.iteratee,_s=En.type,Hi=Cn(en);if(_s==j)en=Hi;else if(!Hi){if(_s==W)continue e;break e}}Jt[Lt++]=en}return Jt}on.prototype=sa(aa.prototype),on.prototype.constructor=on;function Bs(C){var N=-1,q=C==null?0:C.length;for(this.clear();++N<q;){var te=C[N];this.set(te[0],te[1])}}function Rc(){this.__data__=oo?oo(null):{},this.size=0}function uo(C){var N=this.has(C)&&delete this.__data__[C];return this.size-=N?1:0,N}function fu(C){var N=this.__data__;if(oo){var q=N[C];return q===d?i:q}return Ln.call(N,C)?N[C]:i}function Fa(C){var N=this.__data__;return oo?N[C]!==i:Ln.call(N,C)}function Qr(C,N){var q=this.__data__;return this.size+=this.has(C)?0:1,q[C]=oo&&N===i?d:N,this}Bs.prototype.clear=Rc,Bs.prototype.delete=uo,Bs.prototype.get=fu,Bs.prototype.has=Fa,Bs.prototype.set=Qr;function es(C){var N=-1,q=C==null?0:C.length;for(this.clear();++N<q;){var te=C[N];this.set(te[0],te[1])}}function Sf(){this.__data__=[],this.size=0}function pd(C){var N=this.__data__,q=ks(N,C);if(q<0)return!1;var te=N.length-1;return q==te?N.pop():Ns.call(N,q,1),--this.size,!0}function dd(C){var N=this.__data__,q=ks(N,C);return q<0?i:N[q][1]}function md(C){return ks(this.__data__,C)>-1}function Rr(C,N){var q=this.__data__,te=ks(q,C);return te<0?(++this.size,q.push([C,N])):q[te][1]=N,this}es.prototype.clear=Sf,es.prototype.delete=pd,es.prototype.get=dd,es.prototype.has=md,es.prototype.set=Rr;function fs(C){var N=-1,q=C==null?0:C.length;for(this.clear();++N<q;){var te=C[N];this.set(te[0],te[1])}}function el(){this.size=0,this.__data__={hash:new Bs,map:new(Ii||es),string:new Bs}}function tl(C){var N=bl(this,C).delete(C);return this.size-=N?1:0,N}function Mc(C){return bl(this,C).get(C)}function co(C){return bl(this,C).has(C)}function ho(C,N){var q=bl(this,C),te=q.size;return q.set(C,N),this.size+=q.size==te?0:1,this}fs.prototype.clear=el,fs.prototype.delete=tl,fs.prototype.get=Mc,fs.prototype.has=co,fs.prototype.set=ho;function Va(C){var N=-1,q=C==null?0:C.length;for(this.__data__=new fs;++N<q;)this.add(C[N])}function wf(C){return this.__data__.set(C,d),this}function gd(C){return this.__data__.has(C)}Va.prototype.add=Va.prototype.push=wf,Va.prototype.has=gd;function ts(C){var N=this.__data__=new es(C);this.size=N.size}function za(){this.__data__=new es,this.size=0}function $c(C){var N=this.__data__,q=N.delete(C);return this.size=N.size,q}function pu(C){return this.__data__.get(C)}function _f(C){return this.__data__.has(C)}function fo(C,N){var q=this.__data__;if(q instanceof es){var te=q.__data__;if(!Ii||te.length<T-1)return te.push([C,N]),this.size=++q.size,this;q=this.__data__=new fs(te)}return q.set(C,N),this.size=q.size,this}ts.prototype.clear=za,ts.prototype.delete=$c,ts.prototype.get=pu,ts.prototype.has=_f,ts.prototype.set=fo;function du(C,N){var q=an(C),te=!q&&qa(C),ce=!q&&!te&&Sa(C),xe=!q&&!te&&!ce&&wa(C),Me=q||te||ce||xe,Fe=Me?eu(C.length,Ia):[],Ge=Fe.length;for(var ct in C)(N||Ln.call(C,ct))&&!(Me&&(ct=="length"||ce&&(ct=="offset"||ct=="parent")||xe&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||bs(ct,Ge)))&&Fe.push(ct);return Fe}function nl(C){var N=C.length;return N?C[So(0,N-1)]:i}function mu(C,N){return Al(ui(C),ds(N,0,C.length))}function Ef(C){return Al(ui(C))}function gu(C,N,q){(q!==i&&!Ui(C[N],q)||q===i&&!(N in C))&&Di(C,N,q)}function ps(C,N,q){var te=C[N];(!(Ln.call(C,N)&&Ui(te,q))||q===i&&!(N in C))&&Di(C,N,q)}function ks(C,N){for(var q=C.length;q--;)if(Ui(C[q][0],N))return q;return-1}function Tf(C,N,q,te){return Rs(C,function(ce,xe,Me){N(te,ce,q(ce),Me)}),te}function Lc(C,N){return C&&as(N,Kr(N),C)}function po(C,N){return C&&as(N,Ai(N),C)}function Di(C,N,q){N=="__proto__"&&Yi?Yi(C,N,{configurable:!0,enumerable:!0,value:q,writable:!0}):C[N]=q}function mo(C,N){for(var q=-1,te=N.length,ce=Ze(te),xe=C==null;++q<te;)ce[q]=xe?i:_a(C,N[q]);return ce}function ds(C,N,q){return C===C&&(q!==i&&(C=C<=q?C:q),N!==i&&(C=C>=N?C:N)),C}function li(C,N,q,te,ce,xe){var Me,Fe=N&a,Ge=N&o,ct=N&u;if(q&&(Me=ce?q(C,te,ce,xe):q(C)),Me!==i)return Me;if(!tr(C))return C;var ht=an(C);if(ht){if(Me=Uf(C),!Fe)return ui(C,Me)}else{var yt=Jr(C),Lt=yt==Se||yt==ge;if(Sa(C))return Gc(C,Fe);if(yt==Tt||yt==pe||Lt&&!ce){if(Me=Ge||Lt?{}:ah(C),!Fe)return Ge?Pf(C,po(Me,C)):Nf(C,Lc(Me,C))}else{if(!Vt[yt])return ce?C:{};Me=jf(C,yt,Fe)}}xe||(xe=new ts);var jt=xe.get(C);if(jt)return jt;xe.set(C,Me),jl(C)?C.forEach(function(en){Me.add(li(en,N,q,en,C,xe))}):Tp(C)&&C.forEach(function(en,En){Me.set(En,li(en,N,q,En,C,xe))});var Jt=ct?Ge?sh:Du:Ge?Ai:Kr,hn=ht?i:Jt(C);return Ri(hn||C,function(en,En){hn&&(En=en,en=C[En]),ps(Me,En,li(en,N,q,En,C,xe))}),Me}function Cf(C){var N=Kr(C);return function(q){return la(q,C,N)}}function la(C,N,q){var te=q.length;if(C==null)return!te;for(C=Nn(C);te--;){var ce=q[te],xe=N[ce],Me=C[ce];if(Me===i&&!(ce in C)||!xe(Me))return!1}return!0}function Ic(C,N,q){if(typeof C!="function")throw new $i(b);return Cl(function(){C.apply(i,q)},N)}function ns(C,N,q,te){var ce=-1,xe=Xl,Me=!0,Fe=C.length,Ge=[],ct=N.length;if(!Fe)return Ge;q&&(N=Zn(N,Mi(q))),te?(xe=Ho,Me=!1):N.length>=T&&(xe=Go,Me=!1,N=new Va(N));e:for(;++ce<Fe;){var ht=C[ce],yt=q==null?ht:q(ht);if(ht=te||ht!==0?ht:0,Me&&yt===yt){for(var Lt=ct;Lt--;)if(N[Lt]===yt)continue e;Ge.push(ht)}else xe(N,yt,te)||Ge.push(ht)}return Ge}var Rs=Xc(gs),yu=Xc(bu,!0);function ua(C,N){var q=!0;return Rs(C,function(te,ce,xe){return q=!!N(te,ce,xe),q}),q}function ms(C,N,q){for(var te=-1,ce=C.length;++te<ce;){var xe=C[te],Me=N(xe);if(Me!=null&&(Fe===i?Me===Me&&!Ci(Me):q(Me,Fe)))var Fe=Me,Ge=xe}return Ge}function rl(C,N,q,te){var ce=C.length;for(q=Zt(q),q<0&&(q=-q>ce?0:ce+q),te=te===i||te>ce?ce:Zt(te),te<0&&(te+=ce),te=q>te?0:Gh(te);q<te;)C[q++]=N;return C}function vu(C,N){var q=[];return Rs(C,function(te,ce,xe){N(te,ce,xe)&&q.push(te)}),q}function Fr(C,N,q,te,ce){var xe=-1,Me=C.length;for(q||(q=lh),ce||(ce=[]);++xe<Me;){var Fe=C[xe];N>0&&q(Fe)?N>1?Fr(Fe,N-1,q,te,ce):ta(ce,Fe):te||(ce[ce.length]=Fe)}return ce}var Ba=Qc(),go=Qc(!0);function gs(C,N){return C&&Ba(C,N,Kr)}function bu(C,N){return C&&go(C,N,Kr)}function Us(C,N){return ea(N,function(q){return ji(C[q])})}function Ms(C,N){N=Fi(N,C);for(var q=0,te=N.length;C!=null&&q<te;)C=C[xi(N[q++])];return q&&q==te?C:i}function Dc(C,N,q){var te=N(C);return an(C)?te:ta(te,q(C))}function Zr(C){return C==null?C===i?He:Ve:Ps&&Ps in Nn(C)?xl(C):ch(C)}function il(C,N){return C>N}function Oi(C,N){return C!=null&&Ln.call(C,N)}function rs(C,N){return C!=null&&N in Nn(C)}function ca(C,N,q){return C>=Ar(N,q)&&C<hr(N,q)}function sl(C,N,q){for(var te=q?Ho:Xl,ce=C[0].length,xe=C.length,Me=xe,Fe=Ze(xe),Ge=1/0,ct=[];Me--;){var ht=C[Me];Me&&N&&(ht=Zn(ht,Mi(N))),Ge=Ar(ht.length,Ge),Fe[Me]=!q&&(N||ce>=120&&ht.length>=120)?new Va(Me&&ht):i}ht=C[0];var yt=-1,Lt=Fe[0];e:for(;++yt<ce&&ct.length<Ge;){var jt=ht[yt],Jt=N?N(jt):jt;if(jt=q||jt!==0?jt:0,!(Lt?Go(Lt,Jt):te(ct,Jt,q))){for(Me=xe;--Me;){var hn=Fe[Me];if(!(hn?Go(hn,Jt):te(C[Me],Jt,q)))continue e}Lt&&Lt.push(Jt),ct.push(jt)}}return ct}function Af(C,N,q,te){return gs(C,function(ce,xe,Me){N(te,q(ce),xe,Me)}),te}function ss(C,N,q){N=Fi(N,C),C=El(C,N);var te=C==null?C:C[xi(Yn(N))];return te==null?i:Hr(te,C,q)}function vi(C){return dr(C)&&Zr(C)==pe}function xr(C){return dr(C)&&Zr(C)==Ft}function xu(C){return dr(C)&&Zr(C)==Oe}function Ni(C,N,q,te,ce){return C===N?!0:C==null||N==null||!dr(C)&&!dr(N)?C!==C&&N!==N:ln(C,N,q,te,Ni,ce)}function ln(C,N,q,te,ce,xe){var Me=an(C),Fe=an(N),Ge=Me?he:Jr(C),ct=Fe?he:Jr(N);Ge=Ge==pe?Tt:Ge,ct=ct==pe?Tt:ct;var ht=Ge==Tt,yt=ct==Tt,Lt=Ge==ct;if(Lt&&Sa(C)){if(!Sa(N))return!1;Me=!0,ht=!1}if(Lt&&!ht)return xe||(xe=new ts),Me||wa(C)?yl(C,N,q,te,ce,xe):Bf(C,N,Ge,q,te,ce,xe);if(!(q&f)){var jt=ht&&Ln.call(C,"__wrapped__"),Jt=yt&&Ln.call(N,"__wrapped__");if(jt||Jt){var hn=jt?C.value():C,en=Jt?N.value():N;return xe||(xe=new ts),ce(hn,en,q,te,xe)}}return Lt?(xe||(xe=new ts),ih(C,N,q,te,ce,xe)):!1}function zn(C){return dr(C)&&Jr(C)==Pe}function fr(C,N,q,te){var ce=q.length,xe=ce,Me=!te;if(C==null)return!xe;for(C=Nn(C);ce--;){var Fe=q[ce];if(Me&&Fe[2]?Fe[1]!==C[Fe[0]]:!(Fe[0]in C))return!1}for(;++ce<xe;){Fe=q[ce];var Ge=Fe[0],ct=C[Ge],ht=Fe[1];if(Me&&Fe[2]){if(ct===i&&!(Ge in C))return!1}else{var yt=new ts;if(te)var Lt=te(ct,ht,Ge,C,N,yt);if(!(Lt===i?Ni(ht,ct,f|m,te,yt):Lt))return!1}}return!0}function al(C){if(!tr(C)||Wf(C))return!1;var N=ji(C)?no:fi;return N.test(si(C))}function yo(C){return dr(C)&&Zr(C)==nn}function Ua(C){return dr(C)&&Jr(C)==fn}function Su(C){return dr(C)&&tc(C.length)&&!!St[Zr(C)]}function vo(C){return typeof C=="function"?C:C==null?hi:typeof C=="object"?an(C)?Oc(C[0],C[1]):_u(C):de(C)}function ha(C){if(!Co(C))return ao(C);var N=[];for(var q in Nn(C))Ln.call(C,q)&&q!="constructor"&&N.push(q);return N}function yd(C){if(!tr(C))return Ws(C);var N=Co(C),q=[];for(var te in C)te=="constructor"&&(N||!Ln.call(C,te))||q.push(te);return q}function er(C,N){return C<N}function wu(C,N){var q=-1,te=Ti(C)?Ze(C.length):[];return Rs(C,function(ce,xe,Me){te[++q]=N(ce,xe,Me)}),te}function _u(C){var N=Ou(C);return N.length==1&&N[0][2]?zu(N[0][0],N[0][1]):function(q){return q===C||fr(q,C,N)}}function Oc(C,N){return wl(C)&&Ls(N)?zu(xi(C),N):function(q){var te=_a(q,C);return te===i&&te===N?qh(q,C):Ni(N,te,f|m)}}function ol(C,N,q,te,ce){C!==N&&Ba(N,function(xe,Me){if(ce||(ce=new ts),tr(xe))vd(C,N,Me,q,ol,te,ce);else{var Fe=te?te(Wn(C,Me),xe,Me+"",C,N,ce):i;Fe===i&&(Fe=xe),gu(C,Me,Fe)}},Ai)}function vd(C,N,q,te,ce,xe,Me){var Fe=Wn(C,q),Ge=Wn(N,q),ct=Me.get(Ge);if(ct){gu(C,q,ct);return}var ht=xe?xe(Fe,Ge,q+"",C,N,Me):i,yt=ht===i;if(yt){var Lt=an(Ge),jt=!Lt&&Sa(Ge),Jt=!Lt&&!jt&&wa(Ge);ht=Ge,Lt||jt||Jt?an(Fe)?ht=Fe:wr(Fe)?ht=ui(Fe):jt?(yt=!1,ht=Gc(Ge,!0)):Jt?(yt=!1,ht=Kc(Ge,!0)):ht=[]:Bl(Ge)||qa(Ge)?(ht=Fe,qa(Fe)?ht=nc(Fe):(!tr(Fe)||ji(Fe))&&(ht=ah(Ge))):yt=!1}yt&&(Me.set(Ge,ht),ce(ht,Ge,te,xe,Me),Me.delete(Ge)),gu(C,q,ht)}function Eu(C,N){var q=C.length;if(q)return N+=N<0?q:0,bs(N,q)?C[N]:i}function Tu(C,N,q){N.length?N=Zn(N,function(xe){return an(xe)?function(Me){return Ms(Me,xe.length===1?xe[0]:xe)}:xe}):N=[hi];var te=-1;N=Zn(N,Mi(Xt()));var ce=wu(C,function(xe,Me,Fe){var Ge=Zn(N,function(ct){return ct(xe)});return{criteria:Ge,index:++te,value:xe}});return uf(ce,function(xe,Me){return Of(xe,Me,q)})}function Nc(C,N){return ri(C,N,function(q,te){return qh(C,te)})}function ri(C,N,q){for(var te=-1,ce=N.length,xe={};++te<ce;){var Me=N[te],Fe=Ms(C,Me);q(Fe,Me)&&wo(xe,Fi(Me,C),Fe)}return xe}function Sr(C){return function(N){return Ms(N,C)}}function bo(C,N,q,te){var ce=te?ld:Qa,xe=-1,Me=N.length,Fe=C;for(C===N&&(N=ui(N)),q&&(Fe=Zn(C,Mi(q)));++xe<Me;)for(var Ge=0,ct=N[xe],ht=q?q(ct):ct;(Ge=ce(Fe,ht,Ge,te))>-1;)Fe!==C&&Ns.call(Fe,Ge,1),Ns.call(C,Ge,1);return C}function xo(C,N){for(var q=C?N.length:0,te=q-1;q--;){var ce=N[q];if(q==te||ce!==xe){var xe=ce;bs(ce)?Ns.call(C,ce,1):ll(C,ce)}}return C}function So(C,N){return C+Qo(Fs()*(N-C+1))}function Pc(C,N,q,te){for(var ce=-1,xe=hr(io((N-C)/(q||1)),0),Me=Ze(xe);xe--;)Me[te?xe:++ce]=C,C+=q;return Me}function ys(C,N){var q="";if(!C||N<1||N>X)return q;do N%2&&(q+=C),N=Qo(N/2),N&&(C+=C);while(N);return q}function un(C,N){return Bu(hh(C,N,hi),C+"")}function Fc(C){return nl(zo(C))}function Vc(C,N){var q=zo(C);return Al(q,ds(N,0,q.length))}function wo(C,N,q,te){if(!tr(C))return C;N=Fi(N,C);for(var ce=-1,xe=N.length,Me=xe-1,Fe=C;Fe!=null&&++ce<xe;){var Ge=xi(N[ce]),ct=q;if(Ge==="__proto__"||Ge==="constructor"||Ge==="prototype")return C;if(ce!=Me){var ht=Fe[Ge];ct=te?te(ht,Ge,Fe):i,ct===i&&(ct=tr(ht)?ht:bs(N[ce+1])?[]:{})}ps(Fe,Ge,ct),Fe=Fe[Ge]}return C}var zc=kr?function(C,N){return kr.set(C,N),C}:hi,kf=Yi?function(C,N){return Yi(C,"toString",{configurable:!0,enumerable:!1,value:Uo(N),writable:!0})}:hi;function Rf(C){return Al(zo(C))}function Pi(C,N,q){var te=-1,ce=C.length;N<0&&(N=-N>ce?0:ce+N),q=q>ce?ce:q,q<0&&(q+=ce),ce=N>q?0:q-N>>>0,N>>>=0;for(var xe=Ze(ce);++te<ce;)xe[te]=C[te+N];return xe}function Mf(C,N){var q;return Rs(C,function(te,ce,xe){return q=N(te,ce,xe),!q}),!!q}function _o(C,N,q){var te=0,ce=C==null?te:C.length;if(typeof N=="number"&&N===N&&ce<=re){for(;te<ce;){var xe=te+ce>>>1,Me=C[xe];Me!==null&&!Ci(Me)&&(q?Me<=N:Me<N)?te=xe+1:ce=xe}return ce}return Cu(C,N,hi,q)}function Cu(C,N,q,te){var ce=0,xe=C==null?0:C.length;if(xe===0)return 0;N=q(N);for(var Me=N!==N,Fe=N===null,Ge=Ci(N),ct=N===i;ce<xe;){var ht=Qo((ce+xe)/2),yt=q(C[ht]),Lt=yt!==i,jt=yt===null,Jt=yt===yt,hn=Ci(yt);if(Me)var en=te||Jt;else ct?en=Jt&&(te||Lt):Fe?en=Jt&&Lt&&(te||!jt):Ge?en=Jt&&Lt&&!jt&&(te||!hn):jt||hn?en=!1:en=te?yt<=N:yt<N;en?ce=ht+1:xe=ht}return Ar(xe,ae)}function $f(C,N){for(var q=-1,te=C.length,ce=0,xe=[];++q<te;){var Me=C[q],Fe=N?N(Me):Me;if(!q||!Ui(Fe,Ge)){var Ge=Fe;xe[ce++]=Me===0?0:Me}}return xe}function Bc(C){return typeof C=="number"?C:Ci(C)?ie:+C}function bi(C){if(typeof C=="string")return C;if(an(C))return Zn(C,bi)+"";if(Ci(C))return Pa?Pa.call(C):"";var N=C+"";return N=="0"&&1/C==-Q?"-0":N}function js(C,N,q){var te=-1,ce=Xl,xe=C.length,Me=!0,Fe=[],Ge=Fe;if(q)Me=!1,ce=Ho;else if(xe>=T){var ct=N?null:Vf(C);if(ct)return ru(ct);Me=!1,ce=Go,Ge=new Va}else Ge=N?[]:Fe;e:for(;++te<xe;){var ht=C[te],yt=N?N(ht):ht;if(ht=q||ht!==0?ht:0,Me&&yt===yt){for(var Lt=Ge.length;Lt--;)if(Ge[Lt]===yt)continue e;N&&Ge.push(yt),Fe.push(ht)}else ce(Ge,yt,q)||(Ge!==Fe&&Ge.push(yt),Fe.push(ht))}return Fe}function ll(C,N){return N=Fi(N,C),C=El(C,N),C==null||delete C[xi(Yn(N))]}function Uc(C,N,q,te){return wo(C,N,q(Ms(C,N)),te)}function ul(C,N,q,te){for(var ce=C.length,xe=te?ce:-1;(te?xe--:++xe<ce)&&N(C[xe],xe,C););return q?Pi(C,te?0:xe,te?xe+1:ce):Pi(C,te?xe+1:0,te?ce:xe)}function jc(C,N){var q=C;return q instanceof on&&(q=q.value()),gc(N,function(te,ce){return ce.func.apply(ce.thisArg,ta([te],ce.args))},q)}function Au(C,N,q){var te=C.length;if(te<2)return te?js(C[0]):[];for(var ce=-1,xe=Ze(te);++ce<te;)for(var Me=C[ce],Fe=-1;++Fe<te;)Fe!=ce&&(xe[ce]=ns(xe[ce]||Me,C[Fe],N,q));return js(Fr(xe,1),N,q)}function Wc(C,N,q){for(var te=-1,ce=C.length,xe=N.length,Me={};++te<ce;){var Fe=te<xe?N[te]:i;q(Me,C[te],Fe)}return Me}function Hc(C){return wr(C)?C:[]}function ku(C){return typeof C=="function"?C:hi}function Fi(C,N){return an(C)?C:wl(C,N)?[C]:fh(Dn(C))}var Lf=un;function vs(C,N,q){var te=C.length;return q=q===i?te:q,!N&&q>=te?C:Pi(C,N,q)}var cl=bf||function(C){return Nt.clearTimeout(C)};function Gc(C,N){if(N)return C.slice();var q=C.length,te=uu?uu(q):new C.constructor(q);return C.copy(te),te}function hl(C){var N=new C.constructor(C.byteLength);return new Da(N).set(new Da(C)),N}function bd(C,N){var q=N?hl(C.buffer):C.buffer;return new C.constructor(q,C.byteOffset,C.byteLength)}function If(C){var N=new C.constructor(C.source,ur.exec(C));return N.lastIndex=C.lastIndex,N}function Df(C){return lo?Nn(lo.call(C)):{}}function Kc(C,N){var q=N?hl(C.buffer):C.buffer;return new C.constructor(q,C.byteOffset,C.length)}function qc(C,N){if(C!==N){var q=C!==i,te=C===null,ce=C===C,xe=Ci(C),Me=N!==i,Fe=N===null,Ge=N===N,ct=Ci(N);if(!Fe&&!ct&&!xe&&C>N||xe&&Me&&Ge&&!Fe&&!ct||te&&Me&&Ge||!q&&Ge||!ce)return 1;if(!te&&!xe&&!ct&&C<N||ct&&q&&ce&&!te&&!xe||Fe&&q&&ce||!Me&&ce||!Ge)return-1}return 0}function Of(C,N,q){for(var te=-1,ce=C.criteria,xe=N.criteria,Me=ce.length,Fe=q.length;++te<Me;){var Ge=qc(ce[te],xe[te]);if(Ge){if(te>=Fe)return Ge;var ct=q[te];return Ge*(ct=="desc"?-1:1)}}return C.index-N.index}function Ru(C,N,q,te){for(var ce=-1,xe=C.length,Me=q.length,Fe=-1,Ge=N.length,ct=hr(xe-Me,0),ht=Ze(Ge+ct),yt=!te;++Fe<Ge;)ht[Fe]=N[Fe];for(;++ce<Me;)(yt||ce<xe)&&(ht[q[ce]]=C[ce]);for(;ct--;)ht[Fe++]=C[ce++];return ht}function Yc(C,N,q,te){for(var ce=-1,xe=C.length,Me=-1,Fe=q.length,Ge=-1,ct=N.length,ht=hr(xe-Fe,0),yt=Ze(ht+ct),Lt=!te;++ce<ht;)yt[ce]=C[ce];for(var jt=ce;++Ge<ct;)yt[jt+Ge]=N[Ge];for(;++Me<Fe;)(Lt||ce<xe)&&(yt[jt+q[Me]]=C[ce++]);return yt}function ui(C,N){var q=-1,te=C.length;for(N||(N=Ze(te));++q<te;)N[q]=C[q];return N}function as(C,N,q,te){var ce=!q;q||(q={});for(var xe=-1,Me=N.length;++xe<Me;){var Fe=N[xe],Ge=te?te(q[Fe],C[Fe],Fe,q,C):i;Ge===i&&(Ge=C[Fe]),ce?Di(q,Fe,Ge):ps(q,Fe,Ge)}return q}function Nf(C,N){return as(C,Nu(C),N)}function Pf(C,N){return as(C,Sl(C),N)}function Mu(C,N){return function(q,te){var ce=an(q)?nd:Tf,xe=N?N():{};return ce(q,C,Xt(te,2),xe)}}function fa(C){return un(function(N,q){var te=-1,ce=q.length,xe=ce>1?q[ce-1]:i,Me=ce>2?q[2]:i;for(xe=C.length>3&&typeof xe=="function"?(ce--,xe):i,Me&&ii(q[0],q[1],Me)&&(xe=ce<3?i:xe,ce=1),N=Nn(N);++te<ce;){var Fe=q[te];Fe&&C(N,Fe,te,xe)}return N})}function Xc(C,N){return function(q,te){if(q==null)return q;if(!Ti(q))return C(q,te);for(var ce=q.length,xe=N?ce:-1,Me=Nn(q);(N?xe--:++xe<ce)&&te(Me[xe],xe,Me)!==!1;);return q}}function Qc(C){return function(N,q,te){for(var ce=-1,xe=Nn(N),Me=te(N),Fe=Me.length;Fe--;){var Ge=Me[C?Fe:++ce];if(q(xe[Ge],Ge,xe)===!1)break}return N}}function Zc(C,N,q){var te=N&x,ce=fl(C);function xe(){var Me=this&&this!==Nt&&this instanceof xe?ce:C;return Me.apply(te?q:this,arguments)}return xe}function Jc(C){return function(N){N=Dn(N);var q=La(N)?sr(N):i,te=q?q[0]:N.charAt(0),ce=q?vs(q,1).join(""):N.slice(1);return te[C]()+ce}}function ja(C){return function(N){return gc(Zp(Bo(N).replace(K,"")),C,"")}}function fl(C){return function(){var N=arguments;switch(N.length){case 0:return new C;case 1:return new C(N[0]);case 2:return new C(N[0],N[1]);case 3:return new C(N[0],N[1],N[2]);case 4:return new C(N[0],N[1],N[2],N[3]);case 5:return new C(N[0],N[1],N[2],N[3],N[4]);case 6:return new C(N[0],N[1],N[2],N[3],N[4],N[5]);case 7:return new C(N[0],N[1],N[2],N[3],N[4],N[5],N[6])}var q=sa(C.prototype),te=C.apply(q,N);return tr(te)?te:q}}function xd(C,N,q){var te=fl(C);function ce(){for(var xe=arguments.length,Me=Ze(xe),Fe=xe,Ge=pr(ce);Fe--;)Me[Fe]=arguments[Fe];var ct=xe<3&&Me[0]!==Ge&&Me[xe-1]!==Ge?[]:Os(Me,Ge);if(xe-=ct.length,xe<q)return Iu(C,N,To,ce.placeholder,i,Me,ct,i,i,q-xe);var ht=this&&this!==Nt&&this instanceof ce?te:C;return Hr(ht,this,Me)}return ce}function eh(C){return function(N,q,te){var ce=Nn(N);if(!Ti(N)){var xe=Xt(q,3);N=Kr(N),q=function(Fe){return xe(ce[Fe],Fe,ce)}}var Me=C(N,q,te);return Me>-1?ce[xe?N[Me]:Me]:i}}function Eo(C){return $s(function(N){var q=N.length,te=q,ce=yi.prototype.thru;for(C&&N.reverse();te--;){var xe=N[te];if(typeof xe!="function")throw new $i(b);if(ce&&!Me&&ar(xe)=="wrapper")var Me=new yi([],!0)}for(te=Me?te:q;++te<q;){xe=N[te];var Fe=ar(xe),Ge=Fe=="wrapper"?vl(xe):i;Ge&&_l(Ge[0])&&Ge[1]==(F|R|k|I)&&!Ge[4].length&&Ge[9]==1?Me=Me[ar(Ge[0])].apply(Me,Ge[3]):Me=xe.length==1&&_l(xe)?Me[Fe]():Me.thru(xe)}return function(){var ct=arguments,ht=ct[0];if(Me&&ct.length==1&&an(ht))return Me.plant(ht).value();for(var yt=0,Lt=q?N[yt].apply(this,ct):ht;++yt<q;)Lt=N[yt].call(this,Lt);return Lt}})}function To(C,N,q,te,ce,xe,Me,Fe,Ge,ct){var ht=N&F,yt=N&x,Lt=N&E,jt=N&(R|M),Jt=N&A,hn=Lt?i:fl(C);function en(){for(var En=arguments.length,Cn=Ze(En),_s=En;_s--;)Cn[_s]=arguments[_s];if(jt)var Hi=pr(en),Es=Ko(Cn,Hi);if(te&&(Cn=Ru(Cn,te,ce,jt)),xe&&(Cn=Yc(Cn,xe,Me,jt)),En-=Es,jt&&En<ct){var zr=Os(Cn,Hi);return Iu(C,N,To,en.placeholder,q,Cn,zr,Fe,Ge,ct-En)}var Js=yt?q:this,Xa=Lt?Js[C]:C;return En=Cn.length,Fe?Cn=Tl(Cn,Fe):Jt&&En>1&&Cn.reverse(),ht&&Ge<En&&(Cn.length=Ge),this&&this!==Nt&&this instanceof en&&(Xa=hn||fl(Xa)),Xa.apply(Js,Cn)}return en}function pl(C,N){return function(q,te){return Af(q,C,N(te),{})}}function dl(C,N){return function(q,te){var ce;if(q===i&&te===i)return N;if(q!==i&&(ce=q),te!==i){if(ce===i)return te;typeof q=="string"||typeof te=="string"?(q=bi(q),te=bi(te)):(q=Bc(q),te=Bc(te)),ce=C(q,te)}return ce}}function $u(C){return $s(function(N){return N=Zn(N,Mi(Xt())),un(function(q){var te=this;return C(N,function(ce){return Hr(ce,te,q)})})})}function pa(C,N){N=N===i?" ":bi(N);var q=N.length;if(q<2)return q?ys(N,C):N;var te=ys(N,io(C/Za(N)));return La(N)?vs(sr(te),0,C).join(""):te.slice(0,C)}function Ff(C,N,q,te){var ce=N&x,xe=fl(C);function Me(){for(var Fe=-1,Ge=arguments.length,ct=-1,ht=te.length,yt=Ze(ht+Ge),Lt=this&&this!==Nt&&this instanceof Me?xe:C;++ct<ht;)yt[ct]=te[ct];for(;Ge--;)yt[ct++]=arguments[++Fe];return Hr(Lt,ce?q:this,yt)}return Me}function Lu(C){return function(N,q,te){return te&&typeof te!="number"&&ii(N,q,te)&&(q=te=i),N=Qs(N),q===i?(q=N,N=0):q=Qs(q),te=te===i?N<q?1:-1:Qs(te),Pc(N,q,te,C)}}function ml(C){return function(N,q){return typeof N=="string"&&typeof q=="string"||(N=Wi(N),q=Wi(q)),C(N,q)}}function Iu(C,N,q,te,ce,xe,Me,Fe,Ge,ct){var ht=N&R,yt=ht?Me:i,Lt=ht?i:Me,jt=ht?xe:i,Jt=ht?i:xe;N|=ht?k:v,N&=~(ht?v:k),N&S||(N&=-4);var hn=[C,N,ce,jt,yt,Jt,Lt,Fe,Ge,ct],en=q.apply(i,hn);return _l(C)&&Gf(en,hn),en.placeholder=te,Ao(en,C,N)}function gl(C){var N=Jn[C];return function(q,te){if(q=Wi(q),te=te==null?0:Ar(Zt(te),292),te&&Li(q)){var ce=(Dn(q)+"e").split("e"),xe=N(ce[0]+"e"+(+ce[1]+te));return ce=(Dn(xe)+"e").split("e"),+(ce[0]+"e"+(+ce[1]-te))}return N(q)}}var Vf=na&&1/ru(new na([,-0]))[1]==Q?function(C){return new na(C)}:_;function th(C){return function(N){var q=Jr(N);return q==Pe?nu(N):q==fn?cd(N):cf(N,C(N))}}function ci(C,N,q,te,ce,xe,Me,Fe){var Ge=N&E;if(!Ge&&typeof C!="function")throw new $i(b);var ct=te?te.length:0;if(ct||(N&=-97,te=ce=i),Me=Me===i?Me:hr(Zt(Me),0),Fe=Fe===i?Fe:Zt(Fe),ct-=ce?ce.length:0,N&v){var ht=te,yt=ce;te=ce=i}var Lt=Ge?i:vl(C),jt=[C,N,q,te,ce,ht,yt,xe,Me,Fe];if(Lt&&Hf(jt,Lt),C=jt[0],N=jt[1],q=jt[2],te=jt[3],ce=jt[4],Fe=jt[9]=jt[9]===i?Ge?0:C.length:hr(jt[9]-ct,0),!Fe&&N&(R|M)&&(N&=-25),!N||N==x)var Jt=Zc(C,N,q);else N==R||N==M?Jt=xd(C,N,Fe):(N==k||N==(x|k))&&!ce.length?Jt=Ff(C,N,q,te):Jt=To.apply(i,jt);var hn=Lt?zc:Gf;return Ao(hn(Jt,jt),C,N)}function nh(C,N,q,te){return C===i||Ui(C,to[q])&&!Ln.call(te,q)?N:C}function rh(C,N,q,te,ce,xe){return tr(C)&&tr(N)&&(xe.set(N,C),ol(C,N,i,rh,xe),xe.delete(N)),C}function zf(C){return Bl(C)?i:C}function yl(C,N,q,te,ce,xe){var Me=q&f,Fe=C.length,Ge=N.length;if(Fe!=Ge&&!(Me&&Ge>Fe))return!1;var ct=xe.get(C),ht=xe.get(N);if(ct&&ht)return ct==N&&ht==C;var yt=-1,Lt=!0,jt=q&m?new Va:i;for(xe.set(C,N),xe.set(N,C);++yt<Fe;){var Jt=C[yt],hn=N[yt];if(te)var en=Me?te(hn,Jt,yt,N,C,xe):te(Jt,hn,yt,C,N,xe);if(en!==i){if(en)continue;Lt=!1;break}if(jt){if(!yc(N,function(En,Cn){if(!Go(jt,Cn)&&(Jt===En||ce(Jt,En,q,te,xe)))return jt.push(Cn)})){Lt=!1;break}}else if(!(Jt===hn||ce(Jt,hn,q,te,xe))){Lt=!1;break}}return xe.delete(C),xe.delete(N),Lt}function Bf(C,N,q,te,ce,xe,Me){switch(q){case wt:if(C.byteLength!=N.byteLength||C.byteOffset!=N.byteOffset)return!1;C=C.buffer,N=N.buffer;case Ft:return!(C.byteLength!=N.byteLength||!xe(new Da(C),new Da(N)));case Le:case Oe:case Je:return Ui(+C,+N);case be:return C.name==N.name&&C.message==N.message;case nn:case bn:return C==N+"";case Pe:var Fe=nu;case fn:var Ge=te&f;if(Fe||(Fe=ru),C.size!=N.size&&!Ge)return!1;var ct=Me.get(C);if(ct)return ct==N;te|=m,Me.set(C,N);var ht=yl(Fe(C),Fe(N),te,ce,xe,Me);return Me.delete(C),ht;case Be:if(lo)return lo.call(C)==lo.call(N)}return!1}function ih(C,N,q,te,ce,xe){var Me=q&f,Fe=Du(C),Ge=Fe.length,ct=Du(N),ht=ct.length;if(Ge!=ht&&!Me)return!1;for(var yt=Ge;yt--;){var Lt=Fe[yt];if(!(Me?Lt in N:Ln.call(N,Lt)))return!1}var jt=xe.get(C),Jt=xe.get(N);if(jt&&Jt)return jt==N&&Jt==C;var hn=!0;xe.set(C,N),xe.set(N,C);for(var en=Me;++yt<Ge;){Lt=Fe[yt];var En=C[Lt],Cn=N[Lt];if(te)var _s=Me?te(Cn,En,Lt,N,C,xe):te(En,Cn,Lt,C,N,xe);if(!(_s===i?En===Cn||ce(En,Cn,q,te,xe):_s)){hn=!1;break}en||(en=Lt=="constructor")}if(hn&&!en){var Hi=C.constructor,Es=N.constructor;Hi!=Es&&"constructor"in C&&"constructor"in N&&!(typeof Hi=="function"&&Hi instanceof Hi&&typeof Es=="function"&&Es instanceof Es)&&(hn=!1)}return xe.delete(C),xe.delete(N),hn}function $s(C){return Bu(hh(C,i,qn),C+"")}function Du(C){return Dc(C,Kr,Nu)}function sh(C){return Dc(C,Ai,Sl)}var vl=kr?function(C){return kr.get(C)}:_;function ar(C){for(var N=C.name+"",q=In[N],te=Ln.call(In,N)?q.length:0;te--;){var ce=q[te],xe=ce.func;if(xe==null||xe==C)return ce.name}return N}function pr(C){var N=Ln.call(me,"placeholder")?me:C;return N.placeholder}function Xt(){var C=me.iteratee||Yl;return C=C===Yl?vo:C,arguments.length?C(arguments[0],arguments[1]):C}function bl(C,N){var q=C.__data__;return Vu(N)?q[typeof N=="string"?"string":"hash"]:q.map}function Ou(C){for(var N=Kr(C),q=N.length;q--;){var te=N[q],ce=C[te];N[q]=[te,ce,Ls(ce)]}return N}function da(C,N){var q=hf(C,N);return al(q)?q:i}function xl(C){var N=Ln.call(C,Ps),q=C[Ps];try{C[Ps]=i;var te=!0}catch{}var ce=gi.call(C);return te&&(N?C[Ps]=q:delete C[Ps]),ce}var Nu=Zo?function(C){return C==null?[]:(C=Nn(C),ea(Zo(C),function(N){return Xo.call(C,N)}))}:ut,Sl=Zo?function(C){for(var N=[];C;)ta(N,Nu(C)),C=Cs(C);return N}:ut,Jr=Zr;(Zi&&Jr(new Zi(new ArrayBuffer(1)))!=wt||Ii&&Jr(new Ii)!=Pe||hu&&Jr(hu.resolve())!=Ot||na&&Jr(new na)!=fn||Na&&Jr(new Na)!=Mt)&&(Jr=function(C){var N=Zr(C),q=N==Tt?C.constructor:i,te=q?si(q):"";if(te)switch(te){case _n:return wt;case ra:return Pe;case Ji:return Ot;case kc:return fn;case ia:return Mt}return N});function Sd(C,N,q){for(var te=-1,ce=q.length;++te<ce;){var xe=q[te],Me=xe.size;switch(xe.type){case"drop":C+=Me;break;case"dropRight":N-=Me;break;case"take":N=Ar(N,C+Me);break;case"takeRight":C=hr(C,N-Me);break}}return{start:C,end:N}}function Pu(C){var N=C.match(vr);return N?N[1].split(ti):[]}function Fu(C,N,q){N=Fi(N,C);for(var te=-1,ce=N.length,xe=!1;++te<ce;){var Me=xi(N[te]);if(!(xe=C!=null&&q(C,Me)))break;C=C[Me]}return xe||++te!=ce?xe:(ce=C==null?0:C.length,!!ce&&tc(ce)&&bs(Me,ce)&&(an(C)||qa(C)))}function Uf(C){var N=C.length,q=new C.constructor(N);return N&&typeof C[0]=="string"&&Ln.call(C,"index")&&(q.index=C.index,q.input=C.input),q}function ah(C){return typeof C.constructor=="function"&&!Co(C)?sa(Cs(C)):{}}function jf(C,N,q){var te=C.constructor;switch(N){case Ft:return hl(C);case Le:case Oe:return new te(+C);case wt:return bd(C,q);case xn:case we:case Ee:case Ae:case mt:case _t:case st:case Ce:case Ke:return Kc(C,q);case Pe:return new te;case Je:case bn:return new te(C);case nn:return If(C);case fn:return new te;case Be:return Df(C)}}function oh(C,N){var q=N.length;if(!q)return C;var te=q-1;return N[te]=(q>1?"& ":"")+N[te],N=N.join(q>2?", ":" "),C.replace(yr,`{
/* [wrapped with `+N+`] */
`)}function lh(C){return an(C)||qa(C)||!!(vf&&C&&C[vf])}function bs(C,N){var q=typeof C;return N=N??X,!!N&&(q=="number"||q!="symbol"&&ni.test(C))&&C>-1&&C%1==0&&C<N}function ii(C,N,q){if(!tr(q))return!1;var te=typeof N;return(te=="number"?Ti(q)&&bs(N,q.length):te=="string"&&N in q)?Ui(q[N],C):!1}function wl(C,N){if(an(C))return!1;var q=typeof C;return q=="number"||q=="symbol"||q=="boolean"||C==null||Ci(C)?!0:Tn.test(C)||!mr.test(C)||N!=null&&C in Nn(N)}function Vu(C){var N=typeof C;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?C!=="__proto__":C===null}function _l(C){var N=ar(C),q=me[N];if(typeof q!="function"||!(N in on.prototype))return!1;if(C===q)return!0;var te=vl(q);return!!te&&C===te[0]}function Wf(C){return!!ou&&ou in C}var uh=su?ji:Qe;function Co(C){var N=C&&C.constructor,q=typeof N=="function"&&N.prototype||to;return C===q}function Ls(C){return C===C&&!tr(C)}function zu(C,N){return function(q){return q==null?!1:q[C]===N&&(N!==i||C in Nn(q))}}function wd(C){var N=Pl(C,function(te){return q.size===h&&q.clear(),te}),q=N.cache;return N}function Hf(C,N){var q=C[1],te=N[1],ce=q|te,xe=ce<(x|E|F),Me=te==F&&q==R||te==F&&q==I&&C[7].length<=N[8]||te==(F|I)&&N[7].length<=N[8]&&q==R;if(!(xe||Me))return C;te&x&&(C[2]=N[2],ce|=q&x?0:S);var Fe=N[3];if(Fe){var Ge=C[3];C[3]=Ge?Ru(Ge,Fe,N[4]):Fe,C[4]=Ge?Os(C[3],c):N[4]}return Fe=N[5],Fe&&(Ge=C[5],C[5]=Ge?Yc(Ge,Fe,N[6]):Fe,C[6]=Ge?Os(C[5],c):N[6]),Fe=N[7],Fe&&(C[7]=Fe),te&F&&(C[8]=C[8]==null?N[8]:Ar(C[8],N[8])),C[9]==null&&(C[9]=N[9]),C[0]=N[0],C[1]=ce,C}function Ws(C){var N=[];if(C!=null)for(var q in Nn(C))N.push(q);return N}function ch(C){return gi.call(C)}function hh(C,N,q){return N=hr(N===i?C.length-1:N,0),function(){for(var te=arguments,ce=-1,xe=hr(te.length-N,0),Me=Ze(xe);++ce<xe;)Me[ce]=te[N+ce];ce=-1;for(var Fe=Ze(N+1);++ce<N;)Fe[ce]=te[ce];return Fe[N]=q(Me),Hr(C,this,Fe)}}function El(C,N){return N.length<2?C:Ms(C,Pi(N,0,-1))}function Tl(C,N){for(var q=C.length,te=Ar(N.length,q),ce=ui(C);te--;){var xe=N[te];C[te]=bs(xe,q)?ce[xe]:i}return C}function Wn(C,N){if(!(N==="constructor"&&typeof C[N]=="function")&&N!="__proto__")return C[N]}var Gf=Hs(zc),Cl=Oa||function(C,N){return Nt.setTimeout(C,N)},Bu=Hs(kf);function Ao(C,N,q){var te=N+"";return Bu(C,oh(te,Kf(Pu(te),q)))}function Hs(C){var N=0,q=0;return function(){var te=Xi(),ce=U-(te-q);if(q=te,ce>0){if(++N>=B)return arguments[0]}else N=0;return C.apply(i,arguments)}}function Al(C,N){var q=-1,te=C.length,ce=te-1;for(N=N===i?te:N;++q<N;){var xe=So(q,ce),Me=C[xe];C[xe]=C[q],C[q]=Me}return C.length=N,C}var fh=wd(function(C){var N=[];return C.charCodeAt(0)===46&&N.push(""),C.replace(Ur,function(q,te,ce,xe){N.push(ce?xe.replace(Vn,"$1"):te||q)}),N});function xi(C){if(typeof C=="string"||Ci(C))return C;var N=C+"";return N=="0"&&1/C==-Q?"-0":N}function si(C){if(C!=null){try{return au.call(C)}catch{}try{return C+""}catch{}}return""}function Kf(C,N){return Ri(fe,function(q){var te="_."+q[0];N&q[1]&&!Xl(C,te)&&C.push(te)}),C.sort()}function Uu(C){if(C instanceof on)return C.clone();var N=new yi(C.__wrapped__,C.__chain__);return N.__actions__=ui(C.__actions__),N.__index__=C.__index__,N.__values__=C.__values__,N}function qf(C,N,q){(q?ii(C,N,q):N===i)?N=1:N=hr(Zt(N),0);var te=C==null?0:C.length;if(!te||N<1)return[];for(var ce=0,xe=0,Me=Ze(io(te/N));ce<te;)Me[xe++]=Pi(C,ce,ce+=N);return Me}function ph(C){for(var N=-1,q=C==null?0:C.length,te=0,ce=[];++N<q;){var xe=C[N];xe&&(ce[te++]=xe)}return ce}function dh(){var C=arguments.length;if(!C)return[];for(var N=Ze(C-1),q=arguments[0],te=C;te--;)N[te-1]=arguments[te];return ta(an(q)?ui(q):[q],Fr(N,1))}var ju=un(function(C,N){return wr(C)?ns(C,Fr(N,1,wr,!0)):[]}),Yf=un(function(C,N){var q=Yn(N);return wr(q)&&(q=i),wr(C)?ns(C,Fr(N,1,wr,!0),Xt(q,2)):[]}),Gs=un(function(C,N){var q=Yn(N);return wr(q)&&(q=i),wr(C)?ns(C,Fr(N,1,wr,!0),i,q):[]});function Mr(C,N,q){var te=C==null?0:C.length;return te?(N=q||N===i?1:Zt(N),Pi(C,N<0?0:N,te)):[]}function mh(C,N,q){var te=C==null?0:C.length;return te?(N=q||N===i?1:Zt(N),N=te-N,Pi(C,0,N<0?0:N)):[]}function Xf(C,N){return C&&C.length?ul(C,Xt(N,3),!0,!0):[]}function Gr(C,N){return C&&C.length?ul(C,Xt(N,3),!0):[]}function _d(C,N,q,te){var ce=C==null?0:C.length;return ce?(q&&typeof q!="number"&&ii(C,N,q)&&(q=0,te=ce),rl(C,N,q,te)):[]}function gh(C,N,q){var te=C==null?0:C.length;if(!te)return-1;var ce=q==null?0:Zt(q);return ce<0&&(ce=hr(te+ce,0)),Ql(C,Xt(N,3),ce)}function yh(C,N,q){var te=C==null?0:C.length;if(!te)return-1;var ce=te-1;return q!==i&&(ce=Zt(q),ce=q<0?hr(te+ce,0):Ar(ce,te-1)),Ql(C,Xt(N,3),ce,!0)}function qn(C){var N=C==null?0:C.length;return N?Fr(C,1):[]}function Si(C){var N=C==null?0:C.length;return N?Fr(C,Q):[]}function Ks(C,N){var q=C==null?0:C.length;return q?(N=N===i?1:Zt(N),Fr(C,N)):[]}function Qf(C){for(var N=-1,q=C==null?0:C.length,te={};++N<q;){var ce=C[N];te[ce[0]]=ce[1]}return te}function bh(C){return C&&C.length?C[0]:i}function Zf(C,N,q){var te=C==null?0:C.length;if(!te)return-1;var ce=q==null?0:Zt(q);return ce<0&&(ce=hr(te+ce,0)),Qa(C,N,ce)}function Ed(C){var N=C==null?0:C.length;return N?Pi(C,0,-1):[]}var Wu=un(function(C){var N=Zn(C,Hc);return N.length&&N[0]===C[0]?sl(N):[]}),wi=un(function(C){var N=Yn(C),q=Zn(C,Hc);return N===Yn(q)?N=i:q.pop(),q.length&&q[0]===C[0]?sl(q,Xt(N,2)):[]}),xs=un(function(C){var N=Yn(C),q=Zn(C,Hc);return N=typeof N=="function"?N:i,N&&q.pop(),q.length&&q[0]===C[0]?sl(q,i,N):[]});function Jf(C,N){return C==null?"":so.call(C,N)}function Yn(C){var N=C==null?0:C.length;return N?C[N-1]:i}function ep(C,N,q){var te=C==null?0:C.length;if(!te)return-1;var ce=te;return q!==i&&(ce=Zt(q),ce=ce<0?hr(te+ce,0):Ar(ce,te-1)),N===N?fd(C,N,ce):Ql(C,lf,ce,!0)}function qs(C,N){return C&&C.length?Eu(C,Zt(N)):i}var Wa=un(Is);function Is(C,N){return C&&C.length&&N&&N.length?bo(C,N):C}function xh(C,N,q){return C&&C.length&&N&&N.length?bo(C,N,Xt(q,2)):C}function Sh(C,N,q){return C&&C.length&&N&&N.length?bo(C,N,i,q):C}var Ss=$s(function(C,N){var q=C==null?0:C.length,te=mo(C,N);return xo(C,Zn(N,function(ce){return bs(ce,q)?+ce:ce}).sort(qc)),te});function tp(C,N){var q=[];if(!(C&&C.length))return q;var te=-1,ce=[],xe=C.length;for(N=Xt(N,3);++te<xe;){var Me=C[te];N(Me,te,C)&&(q.push(Me),ce.push(te))}return xo(C,ce),q}function ma(C){return C==null?C:As.call(C)}function kl(C,N,q){var te=C==null?0:C.length;return te?(q&&typeof q!="number"&&ii(C,N,q)?(N=0,q=te):(N=N==null?0:Zt(N),q=q===i?te:Zt(q)),Pi(C,N,q)):[]}function Rl(C,N){return _o(C,N)}function ko(C,N,q){return Cu(C,N,Xt(q,2))}function np(C,N){var q=C==null?0:C.length;if(q){var te=_o(C,N);if(te<q&&Ui(C[te],N))return te}return-1}function rp(C,N){return _o(C,N,!0)}function Ml(C,N,q){return Cu(C,N,Xt(q,2),!0)}function ip(C,N){var q=C==null?0:C.length;if(q){var te=_o(C,N,!0)-1;if(Ui(C[te],N))return te}return-1}function Hu(C){return C&&C.length?$f(C):[]}function sp(C,N){return C&&C.length?$f(C,Xt(N,2)):[]}function Td(C){var N=C==null?0:C.length;return N?Pi(C,1,N):[]}function Cd(C,N,q){return C&&C.length?(N=q||N===i?1:Zt(N),Pi(C,0,N<0?0:N)):[]}function Mn(C,N,q){var te=C==null?0:C.length;return te?(N=q||N===i?1:Zt(N),N=te-N,Pi(C,N<0?0:N,te)):[]}function Hn(C,N){return C&&C.length?ul(C,Xt(N,3),!1,!0):[]}function yn(C,N){return C&&C.length?ul(C,Xt(N,3)):[]}var Sn=un(function(C){return js(Fr(C,1,wr,!0))}),Pn=un(function(C){var N=Yn(C);return wr(N)&&(N=i),js(Fr(C,1,wr,!0),Xt(N,2))}),Vi=un(function(C){var N=Yn(C);return N=typeof N=="function"?N:i,js(Fr(C,1,wr,!0),i,N)});function ga(C){return C&&C.length?js(C):[]}function Ro(C,N){return C&&C.length?js(C,Xt(N,2)):[]}function wh(C,N){return N=typeof N=="function"?N:i,C&&C.length?js(C,i,N):[]}function ws(C){if(!(C&&C.length))return[];var N=0;return C=ea(C,function(q){if(wr(q))return N=hr(q.length,N),!0}),eu(N,function(q){return Zn(C,Ma(q))})}function or(C,N){if(!(C&&C.length))return[];var q=ws(C);return N==null?q:Zn(q,function(te){return Hr(N,i,te)})}var ya=un(function(C,N){return wr(C)?ns(C,N):[]}),Ha=un(function(C){return Au(ea(C,wr))}),_h=un(function(C){var N=Yn(C);return wr(N)&&(N=i),Au(ea(C,wr),Xt(N,2))}),zi=un(function(C){var N=Yn(C);return N=typeof N=="function"?N:i,Au(ea(C,wr),i,N)}),Mo=un(ws);function $l(C,N){return Wc(C||[],N||[],ps)}function _i(C,N){return Wc(C||[],N||[],wo)}var Eh=un(function(C){var N=C.length,q=N>1?C[N-1]:i;return q=typeof q=="function"?(C.pop(),q):i,or(C,q)});function Ll(C){var N=me(C);return N.__chain__=!0,N}function ap(C,N){return N(C),C}function Ga(C,N){return N(C)}var Gu=$s(function(C){var N=C.length,q=N?C[0]:0,te=this.__wrapped__,ce=function(xe){return mo(xe,C)};return N>1||this.__actions__.length||!(te instanceof on)||!bs(q)?this.thru(ce):(te=te.slice(q,+q+(N?1:0)),te.__actions__.push({func:Ga,args:[ce],thisArg:i}),new yi(te,this.__chain__).thru(function(xe){return N&&!xe.length&&xe.push(i),xe}))});function va(){return Ll(this)}function Vr(){return new yi(this.value(),this.__chain__)}function ba(){this.__values__===i&&(this.__values__=Mp(this.value()));var C=this.__index__>=this.__values__.length,N=C?i:this.__values__[this.__index__++];return{done:C,value:N}}function $o(){return this}function Ys(C){for(var N,q=this;q instanceof aa;){var te=Uu(q);te.__index__=0,te.__values__=i,N?ce.__wrapped__=te:N=te;var ce=te;q=q.__wrapped__}return ce.__wrapped__=C,N}function Th(){var C=this.__wrapped__;if(C instanceof on){var N=C;return this.__actions__.length&&(N=new on(this)),N=N.reverse(),N.__actions__.push({func:Ga,args:[ma],thisArg:i}),new yi(N,this.__chain__)}return this.thru(ma)}function Ch(){return jc(this.__wrapped__,this.__actions__)}var op=Mu(function(C,N,q){Ln.call(C,q)?++C[q]:Di(C,q,1)});function Il(C,N,q){var te=an(C)?sf:ua;return q&&ii(C,N,q)&&(N=i),te(C,Xt(N,3))}function Ah(C,N){var q=an(C)?ea:vu;return q(C,Xt(N,3))}var Bi=eh(gh),lp=eh(yh);function Ei(C,N){return Fr(Dl(C,N),1)}function up(C,N){return Fr(Dl(C,N),Q)}function cp(C,N,q){return q=q===i?1:Zt(q),Fr(Dl(C,N),q)}function hp(C,N){var q=an(C)?Ri:Rs;return q(C,Xt(N,3))}function Xs(C,N){var q=an(C)?rd:yu;return q(C,Xt(N,3))}var Ku=Mu(function(C,N,q){Ln.call(C,q)?C[q].push(N):Di(C,q,[N])});function kh(C,N,q,te){C=Ti(C)?C:zo(C),q=q&&!te?Zt(q):0;var ce=C.length;return q<0&&(q=hr(ce+q,0)),Wl(C)?q<=ce&&C.indexOf(N,q)>-1:!!ce&&Qa(C,N,q)>-1}var Lo=un(function(C,N,q){var te=-1,ce=typeof N=="function",xe=Ti(C)?Ze(C.length):[];return Rs(C,function(Me){xe[++te]=ce?Hr(N,Me,q):ss(Me,N,q)}),xe}),fp=Mu(function(C,N,q){Di(C,q,N)});function Dl(C,N){var q=an(C)?Zn:wu;return q(C,Xt(N,3))}function pp(C,N,q,te){return C==null?[]:(an(N)||(N=N==null?[]:[N]),q=te?i:q,an(q)||(q=q==null?[]:[q]),Tu(C,N,q))}var dp=Mu(function(C,N,q){C[q?0:1].push(N)},function(){return[[],[]]});function qu(C,N,q){var te=an(C)?gc:bc,ce=arguments.length<3;return te(C,Xt(N,4),q,ce,Rs)}function Rh(C,N,q){var te=an(C)?af:bc,ce=arguments.length<3;return te(C,Xt(N,4),q,ce,yu)}function Ad(C,N){var q=an(C)?ea:vu;return q(C,Qu(Xt(N,3)))}function kd(C){var N=an(C)?nl:Fc;return N(C)}function Rd(C,N,q){(q?ii(C,N,q):N===i)?N=1:N=Zt(N);var te=an(C)?mu:Vc;return te(C,N)}function mp(C){var N=an(C)?Ef:Rf;return N(C)}function gp(C){if(C==null)return 0;if(Ti(C))return Wl(C)?Za(C):C.length;var N=Jr(C);return N==Pe||N==fn?C.size:ha(C).length}function Io(C,N,q){var te=an(C)?yc:Mf;return q&&ii(C,N,q)&&(N=i),te(C,Xt(N,3))}var Yu=un(function(C,N){if(C==null)return[];var q=N.length;return q>1&&ii(C,N[0],N[1])?N=[]:q>2&&ii(N[0],N[1],N[2])&&(N=[N[0]]),Tu(C,Fr(N,1),[])}),Ol=cu||function(){return Nt.Date.now()};function yp(C,N){if(typeof N!="function")throw new $i(b);return C=Zt(C),function(){if(--C<1)return N.apply(this,arguments)}}function Mh(C,N,q){return N=q?i:N,N=C&&N==null?C.length:N,ci(C,F,i,i,i,i,N)}function $h(C,N){var q;if(typeof N!="function")throw new $i(b);return C=Zt(C),function(){return--C>0&&(q=N.apply(this,arguments)),C<=1&&(N=i),q}}var Xu=un(function(C,N,q){var te=x;if(q.length){var ce=Os(q,pr(Xu));te|=k}return ci(C,te,N,q,ce)}),Lh=un(function(C,N,q){var te=x|E;if(q.length){var ce=Os(q,pr(Lh));te|=k}return ci(N,te,C,q,ce)});function Nl(C,N,q){N=q?i:N;var te=ci(C,R,i,i,i,i,i,N);return te.placeholder=Nl.placeholder,te}function Ih(C,N,q){N=q?i:N;var te=ci(C,M,i,i,i,i,i,N);return te.placeholder=Ih.placeholder,te}function Dh(C,N,q){var te,ce,xe,Me,Fe,Ge,ct=0,ht=!1,yt=!1,Lt=!0;if(typeof C!="function")throw new $i(b);N=Wi(N)||0,tr(q)&&(ht=!!q.leading,yt="maxWait"in q,xe=yt?hr(Wi(q.maxWait)||0,N):xe,Lt="trailing"in q?!!q.trailing:Lt);function jt(zr){var Js=te,Xa=ce;return te=ce=i,ct=zr,Me=C.apply(Xa,Js),Me}function Jt(zr){return ct=zr,Fe=Cl(En,N),ht?jt(zr):Me}function hn(zr){var Js=zr-Ge,Xa=zr-ct,nm=N-Js;return yt?Ar(nm,xe-Xa):nm}function en(zr){var Js=zr-Ge,Xa=zr-ct;return Ge===i||Js>=N||Js<0||yt&&Xa>=xe}function En(){var zr=Ol();if(en(zr))return Cn(zr);Fe=Cl(En,hn(zr))}function Cn(zr){return Fe=i,Lt&&te?jt(zr):(te=ce=i,Me)}function _s(){Fe!==i&&cl(Fe),ct=0,te=Ge=ce=Fe=i}function Hi(){return Fe===i?Me:Cn(Ol())}function Es(){var zr=Ol(),Js=en(zr);if(te=arguments,ce=this,Ge=zr,Js){if(Fe===i)return Jt(Ge);if(yt)return cl(Fe),Fe=Cl(En,N),jt(Ge)}return Fe===i&&(Fe=Cl(En,N)),Me}return Es.cancel=_s,Es.flush=Hi,Es}var Fn=un(function(C,N){return Ic(C,1,N)}),Oh=un(function(C,N,q){return Ic(C,Wi(N)||0,q)});function Md(C){return ci(C,A)}function Pl(C,N){if(typeof C!="function"||N!=null&&typeof N!="function")throw new $i(b);var q=function(){var te=arguments,ce=N?N.apply(this,te):te[0],xe=q.cache;if(xe.has(ce))return xe.get(ce);var Me=C.apply(this,te);return q.cache=xe.set(ce,Me)||xe,Me};return q.cache=new(Pl.Cache||fs),q}Pl.Cache=fs;function Qu(C){if(typeof C!="function")throw new $i(b);return function(){var N=arguments;switch(N.length){case 0:return!C.call(this);case 1:return!C.call(this,N[0]);case 2:return!C.call(this,N[0],N[1]);case 3:return!C.call(this,N[0],N[1],N[2])}return!C.apply(this,N)}}function $d(C){return $h(2,C)}var Ld=Lf(function(C,N){N=N.length==1&&an(N[0])?Zn(N[0],Mi(Xt())):Zn(Fr(N,1),Mi(Xt()));var q=N.length;return un(function(te){for(var ce=-1,xe=Ar(te.length,q);++ce<xe;)te[ce]=N[ce].call(this,te[ce]);return Hr(C,this,te)})}),Do=un(function(C,N){var q=Os(N,pr(Do));return ci(C,k,i,N,q)}),Ka=un(function(C,N){var q=Os(N,pr(Ka));return ci(C,v,i,N,q)}),Nh=$s(function(C,N){return ci(C,I,i,i,i,N)});function Zu(C,N){if(typeof C!="function")throw new $i(b);return N=N===i?N:Zt(N),un(C,N)}function Ph(C,N){if(typeof C!="function")throw new $i(b);return N=N==null?0:hr(Zt(N),0),un(function(q){var te=q[N],ce=vs(q,0,N);return te&&ta(ce,te),Hr(C,this,ce)})}function xa(C,N,q){var te=!0,ce=!0;if(typeof C!="function")throw new $i(b);return tr(q)&&(te="leading"in q?!!q.leading:te,ce="trailing"in q?!!q.trailing:ce),Dh(C,N,{leading:te,maxWait:N,trailing:ce})}function Ds(C){return Mh(C,1)}function Fl(C,N){return Do(ku(N),C)}function Id(){if(!arguments.length)return[];var C=arguments[0];return an(C)?C:[C]}function vp(C){return li(C,u)}function bp(C,N){return N=typeof N=="function"?N:i,li(C,u,N)}function xp(C){return li(C,a|u)}function Sp(C,N){return N=typeof N=="function"?N:i,li(C,a|u,N)}function Dd(C,N){return N==null||la(C,N,Kr(N))}function Ui(C,N){return C===N||C!==C&&N!==N}var wp=ml(il),_p=ml(function(C,N){return C>=N}),qa=vi((function(){return arguments})())?vi:function(C){return dr(C)&&Ln.call(C,"callee")&&!Xo.call(C,"callee")},an=Ze.isArray,Fh=Pr?Mi(Pr):xr;function Ti(C){return C!=null&&tc(C.length)&&!ji(C)}function wr(C){return dr(C)&&Ti(C)}function Vl(C){return C===!0||C===!1||dr(C)&&Zr(C)==Le}var Sa=xf||Qe,Ep=di?Mi(di):xu;function vn(C){return dr(C)&&C.nodeType===1&&!Bl(C)}function Vh(C){if(C==null)return!0;if(Ti(C)&&(an(C)||typeof C=="string"||typeof C.splice=="function"||Sa(C)||wa(C)||qa(C)))return!C.length;var N=Jr(C);if(N==Pe||N==fn)return!C.size;if(Co(C))return!ha(C).length;for(var q in C)if(Ln.call(C,q))return!1;return!0}function Ju(C,N){return Ni(C,N)}function zh(C,N,q){q=typeof q=="function"?q:i;var te=q?q(C,N):i;return te===i?Ni(C,N,i,q):!!te}function ec(C){if(!dr(C))return!1;var N=Zr(C);return N==be||N==Ne||typeof C.message=="string"&&typeof C.name=="string"&&!Bl(C)}function Bh(C){return typeof C=="number"&&Li(C)}function ji(C){if(!tr(C))return!1;var N=Zr(C);return N==Se||N==ge||N==$e||N==Dt}function zl(C){return typeof C=="number"&&C==Zt(C)}function tc(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=X}function tr(C){var N=typeof C;return C!=null&&(N=="object"||N=="function")}function dr(C){return C!=null&&typeof C=="object"}var Tp=mi?Mi(mi):zn;function Cp(C,N){return C===N||fr(C,N,Ou(N))}function Ap(C,N,q){return q=typeof q=="function"?q:i,fr(C,N,Ou(N),q)}function Bn(C){return jh(C)&&C!=+C}function Uh(C){if(uh(C))throw new sn(g);return al(C)}function ei(C){return C===null}function Od(C){return C==null}function jh(C){return typeof C=="number"||dr(C)&&Zr(C)==Je}function Bl(C){if(!dr(C)||Zr(C)!=Tt)return!1;var N=Cs(C);if(N===null)return!0;var q=Ln.call(N,"constructor")&&N.constructor;return typeof q=="function"&&q instanceof q&&au.call(q)==lu}var Ul=Ts?Mi(Ts):yo;function Wh(C){return zl(C)&&C>=-X&&C<=X}var jl=Wo?Mi(Wo):Ua;function Wl(C){return typeof C=="string"||!an(C)&&dr(C)&&Zr(C)==bn}function Ci(C){return typeof C=="symbol"||dr(C)&&Zr(C)==Be}var wa=Ra?Mi(Ra):Su;function Hh(C){return C===i}function Nd(C){return dr(C)&&Jr(C)==Mt}function kp(C){return dr(C)&&Zr(C)==zt}var Pd=ml(er),Rp=ml(function(C,N){return C<=N});function Mp(C){if(!C)return[];if(Ti(C))return Wl(C)?sr(C):ui(C);if(Xr&&C[Xr])return Ec(C[Xr]());var N=Jr(C),q=N==Pe?nu:N==fn?ru:zo;return q(C)}function Qs(C){if(!C)return C===0?C:0;if(C=Wi(C),C===Q||C===-Q){var N=C<0?-1:1;return N*ee}return C===C?C:0}function Zt(C){var N=Qs(C),q=N%1;return N===N?q?N-q:N:0}function Gh(C){return C?ds(Zt(C),0,ne):0}function Wi(C){if(typeof C=="number")return C;if(Ci(C))return ie;if(tr(C)){var N=typeof C.valueOf=="function"?C.valueOf():C;C=tr(N)?N+"":N}if(typeof C!="string")return C===0?C:+C;C=$a(C);var q=ki.test(C);return q||qr.test(C)?Et(C.slice(2),q?2:8):us.test(C)?ie:+C}function nc(C){return as(C,Ai(C))}function Fd(C){return C?ds(Zt(C),-X,X):C===0?C:0}function Dn(C){return C==null?"":bi(C)}var $p=fa(function(C,N){if(Co(N)||Ti(N)){as(N,Kr(N),C);return}for(var q in N)Ln.call(N,q)&&ps(C,q,N[q])}),rc=fa(function(C,N){as(N,Ai(N),C)}),Oo=fa(function(C,N,q,te){as(N,Ai(N),C,te)}),Vd=fa(function(C,N,q,te){as(N,Kr(N),C,te)}),os=$s(mo);function Kh(C,N){var q=sa(C);return N==null?q:Lc(q,N)}var Lp=un(function(C,N){C=Nn(C);var q=-1,te=N.length,ce=te>2?N[2]:i;for(ce&&ii(N[0],N[1],ce)&&(te=1);++q<te;)for(var xe=N[q],Me=Ai(xe),Fe=-1,Ge=Me.length;++Fe<Ge;){var ct=Me[Fe],ht=C[ct];(ht===i||Ui(ht,to[ct])&&!Ln.call(C,ct))&&(C[ct]=xe[ct])}return C}),Ip=un(function(C){return C.push(i,rh),Hr(Po,i,C)});function Dp(C,N){return of(C,Xt(N,3),gs)}function Hl(C,N){return of(C,Xt(N,3),bu)}function ls(C,N){return C==null?C:Ba(C,Xt(N,3),Ai)}function Op(C,N){return C==null?C:go(C,Xt(N,3),Ai)}function ic(C,N){return C&&gs(C,Xt(N,3))}function Zs(C,N){return C&&bu(C,Xt(N,3))}function zd(C){return C==null?[]:Us(C,Kr(C))}function Bd(C){return C==null?[]:Us(C,Ai(C))}function _a(C,N,q){var te=C==null?i:Ms(C,N);return te===i?q:te}function Np(C,N){return C!=null&&Fu(C,N,Oi)}function qh(C,N){return C!=null&&Fu(C,N,rs)}var Ud=pl(function(C,N,q){N!=null&&typeof N.toString!="function"&&(N=gi.call(N)),C[N]=q},Uo(hi)),jd=pl(function(C,N,q){N!=null&&typeof N.toString!="function"&&(N=gi.call(N)),Ln.call(C,N)?C[N].push(q):C[N]=[q]},Xt),Wd=un(ss);function Kr(C){return Ti(C)?du(C):ha(C)}function Ai(C){return Ti(C)?du(C,!0):yd(C)}function Hd(C,N){var q={};return N=Xt(N,3),gs(C,function(te,ce,xe){Di(q,N(te,ce,xe),te)}),q}function Pp(C,N){var q={};return N=Xt(N,3),gs(C,function(te,ce,xe){Di(q,ce,N(te,ce,xe))}),q}var No=fa(function(C,N,q){ol(C,N,q)}),Po=fa(function(C,N,q,te){ol(C,N,q,te)}),Fp=$s(function(C,N){var q={};if(C==null)return q;var te=!1;N=Zn(N,function(xe){return xe=Fi(xe,C),te||(te=xe.length>1),xe}),as(C,sh(C),q),te&&(q=li(q,a|o|u,zf));for(var ce=N.length;ce--;)ll(q,N[ce]);return q});function Gd(C,N){return Vo(C,Qu(Xt(N)))}var Fo=$s(function(C,N){return C==null?{}:Nc(C,N)});function Vo(C,N){if(C==null)return{};var q=Zn(sh(C),function(te){return[te]});return N=Xt(N),ri(C,q,function(te,ce){return N(te,ce[0])})}function Vp(C,N,q){N=Fi(N,C);var te=-1,ce=N.length;for(ce||(ce=1,C=i);++te<ce;){var xe=C==null?i:C[xi(N[te])];xe===i&&(te=ce,xe=q),C=ji(xe)?xe.call(C):xe}return C}function sc(C,N,q){return C==null?C:wo(C,N,q)}function Yh(C,N,q,te){return te=typeof te=="function"?te:i,C==null?C:wo(C,N,q,te)}var ac=th(Kr),Gl=th(Ai);function zp(C,N,q){var te=an(C),ce=te||Sa(C)||wa(C);if(N=Xt(N,4),q==null){var xe=C&&C.constructor;ce?q=te?new xe:[]:tr(C)?q=ji(xe)?sa(Cs(C)):{}:q={}}return(ce?Ri:gs)(C,function(Me,Fe,Ge){return N(q,Me,Fe,Ge)}),q}function Bp(C,N){return C==null?!0:ll(C,N)}function Kd(C,N,q){return C==null?C:Uc(C,N,ku(q))}function Up(C,N,q,te){return te=typeof te=="function"?te:i,C==null?C:Uc(C,N,ku(q),te)}function zo(C){return C==null?[]:xc(C,Kr(C))}function Xh(C){return C==null?[]:xc(C,Ai(C))}function qd(C,N,q){return q===i&&(q=N,N=i),q!==i&&(q=Wi(q),q=q===q?q:0),N!==i&&(N=Wi(N),N=N===N?N:0),ds(Wi(C),N,q)}function oc(C,N,q){return N=Qs(N),q===i?(q=N,N=0):q=Qs(q),C=Wi(C),ca(C,N,q)}function lc(C,N,q){if(q&&typeof q!="boolean"&&ii(C,N,q)&&(N=q=i),q===i&&(typeof N=="boolean"?(q=N,N=i):typeof C=="boolean"&&(q=C,C=i)),C===i&&N===i?(C=0,N=1):(C=Qs(C),N===i?(N=C,C=0):N=Qs(N)),C>N){var te=C;C=N,N=te}if(q||C%1||N%1){var ce=Fs();return Ar(C+ce*(N-C+ft("1e-"+((ce+"").length-1))),N)}return So(C,N)}var uc=ja(function(C,N,q){return N=N.toLowerCase(),C+(q?jp(N):N)});function jp(C){return Ya(Dn(C).toLowerCase())}function Bo(C){return C=Dn(C),C&&C.replace(Gn,qo).replace(J,"")}function Yd(C,N,q){C=Dn(C),N=bi(N);var te=C.length;q=q===i?te:ds(Zt(q),0,te);var ce=q;return q-=N.length,q>=0&&C.slice(q,ce)==N}function Wp(C){return C=Dn(C),C&&nt.test(C)?C.replace(bt,ud):C}function Hp(C){return C=Dn(C),C&&gr.test(C)?C.replace(Lr,"\\$&"):C}var Gp=ja(function(C,N,q){return C+(q?"-":"")+N.toLowerCase()}),Kp=ja(function(C,N,q){return C+(q?" ":"")+N.toLowerCase()}),Qh=Jc("toLowerCase");function qp(C,N,q){C=Dn(C),N=Zt(N);var te=N?Za(C):0;if(!N||te>=N)return C;var ce=(N-te)/2;return pa(Qo(ce),q)+C+pa(io(ce),q)}function Yp(C,N,q){C=Dn(C),N=Zt(N);var te=N?Za(C):0;return N&&te<N?C+pa(N-te,q):C}function cc(C,N,q){C=Dn(C),N=Zt(N);var te=N?Za(C):0;return N&&te<N?pa(N-te,q)+C:C}function Xd(C,N,q){return q||N==null?N=0:N&&(N=+N),Qi(Dn(C).replace(_r,""),N||0)}function Qd(C,N,q){return(q?ii(C,N,q):N===i)?N=1:N=Zt(N),ys(Dn(C),N)}function Zh(){var C=arguments,N=Dn(C[0]);return C.length<3?N:N.replace(C[1],C[2])}var Jh=ja(function(C,N,q){return C+(q?"_":"")+N.toLowerCase()});function hc(C,N,q){return q&&typeof q!="number"&&ii(C,N,q)&&(N=q=i),q=q===i?ne:q>>>0,q?(C=Dn(C),C&&(typeof N=="string"||N!=null&&!Ul(N))&&(N=bi(N),!N&&La(C))?vs(sr(C),0,q):C.split(N,q)):[]}var ef=ja(function(C,N,q){return C+(q?" ":"")+Ya(N)});function Xp(C,N,q){return C=Dn(C),q=q==null?0:ds(Zt(q),0,C.length),N=bi(N),C.slice(q,q+N.length)==N}function tf(C,N,q){var te=me.templateSettings;q&&ii(C,N,q)&&(N=i),C=Dn(C),N=Oo({},N,te,nh);var ce=Oo({},N.imports,te.imports,nh),xe=Kr(ce),Me=xc(ce,xe),Fe,Ge,ct=0,ht=N.interpolate||Xn,yt="__p += '",Lt=iu((N.escape||Xn).source+"|"+ht.source+"|"+(ht===Br?lr:Xn).source+"|"+(N.evaluate||Xn).source+"|$","g"),jt="//# sourceURL="+(Ln.call(N,"sourceURL")?(N.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gt+"]")+`
`;C.replace(Lt,function(en,En,Cn,_s,Hi,Es){return Cn||(Cn=_s),yt+=C.slice(ct,Es).replace(Er,tu),En&&(Fe=!0,yt+=`' +
__e(`+En+`) +
'`),Hi&&(Ge=!0,yt+=`';
`+Hi+`;
__p += '`),Cn&&(yt+=`' +
((__t = (`+Cn+`)) == null ? '' : __t) +
'`),ct=Es+en.length,en}),yt+=`';
`;var Jt=Ln.call(N,"variable")&&N.variable;if(!Jt)yt=`with (obj) {
`+yt+`
}
`;else if(pn.test(Jt))throw new sn(w);yt=(Ge?yt.replace(pt,""):yt).replace(it,"$1").replace(Rt,"$1;"),yt="function("+(Jt||"obj")+`) {
`+(Jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Fe?", __e = _.escape":"")+(Ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var hn=nf(function(){return gn(xe,jt+"return "+yt).apply(i,Me)});if(hn.source=yt,ec(hn))throw hn;return hn}function Ea(C){return Dn(C).toLowerCase()}function Ta(C){return Dn(C).toUpperCase()}function Ca(C,N,q){if(C=Dn(C),C&&(q||N===i))return $a(C);if(!C||!(N=bi(N)))return C;var te=sr(C),ce=sr(N),xe=Sc(te,ce),Me=wc(te,ce)+1;return vs(te,xe,Me).join("")}function Kl(C,N,q){if(C=Dn(C),C&&(q||N===i))return C.slice(0,Ja(C)+1);if(!C||!(N=bi(N)))return C;var te=sr(C),ce=wc(te,sr(N))+1;return vs(te,0,ce).join("")}function ql(C,N,q){if(C=Dn(C),C&&(q||N===i))return C.replace(_r,"");if(!C||!(N=bi(N)))return C;var te=sr(C),ce=Sc(te,sr(N));return vs(te,ce).join("")}function Aa(C,N){var q=$,te=P;if(tr(N)){var ce="separator"in N?N.separator:ce;q="length"in N?Zt(N.length):q,te="omission"in N?bi(N.omission):te}C=Dn(C);var xe=C.length;if(La(C)){var Me=sr(C);xe=Me.length}if(q>=xe)return C;var Fe=q-Za(te);if(Fe<1)return te;var Ge=Me?vs(Me,0,Fe).join(""):C.slice(0,Fe);if(ce===i)return Ge+te;if(Me&&(Fe+=Ge.length-Fe),Ul(ce)){if(C.slice(Fe).search(ce)){var ct,ht=Ge;for(ce.global||(ce=iu(ce.source,Dn(ur.exec(ce))+"g")),ce.lastIndex=0;ct=ce.exec(ht);)var yt=ct.index;Ge=Ge.slice(0,yt===i?Fe:yt)}}else if(C.indexOf(bi(ce),Fe)!=Fe){var Lt=Ge.lastIndexOf(ce);Lt>-1&&(Ge=Ge.slice(0,Lt))}return Ge+te}function Zd(C){return C=Dn(C),C&&At.test(C)?C.replace(dt,ff):C}var Qp=ja(function(C,N,q){return C+(q?" ":"")+N.toUpperCase()}),Ya=Jc("toUpperCase");function Zp(C,N,q){return C=Dn(C),N=q?i:N,N===i?_c(C)?mf(C):od(C):C.match(N)||[]}var nf=un(function(C,N){try{return Hr(C,i,N)}catch(q){return ec(q)?q:new sn(q)}}),fc=$s(function(C,N){return Ri(N,function(q){q=xi(q),Di(C,q,Xu(C[q],C))}),C});function Jp(C){var N=C==null?0:C.length,q=Xt();return C=N?Zn(C,function(te){if(typeof te[1]!="function")throw new $i(b);return[q(te[0]),te[1]]}):[],un(function(te){for(var ce=-1;++ce<N;){var xe=C[ce];if(Hr(xe[0],this,te))return Hr(xe[1],this,te)}})}function Jd(C){return Cf(li(C,a))}function Uo(C){return function(){return C}}function pc(C,N){return C==null||C!==C?N:C}var ed=Eo(),jo=Eo(!0);function hi(C){return C}function Yl(C){return vo(typeof C=="function"?C:li(C,a))}function dc(C){return _u(li(C,a))}function td(C,N){return Oc(C,li(N,a))}var em=un(function(C,N){return function(q){return ss(q,C,N)}}),mc=un(function(C,N){return function(q){return ss(C,q,N)}});function s(C,N,q){var te=Kr(N),ce=Us(N,te);q==null&&!(tr(N)&&(ce.length||!te.length))&&(q=N,N=C,C=this,ce=Us(N,Kr(N)));var xe=!(tr(q)&&"chain"in q)||!!q.chain,Me=ji(C);return Ri(ce,function(Fe){var Ge=N[Fe];C[Fe]=Ge,Me&&(C.prototype[Fe]=function(){var ct=this.__chain__;if(xe||ct){var ht=C(this.__wrapped__),yt=ht.__actions__=ui(this.__actions__);return yt.push({func:Ge,args:arguments,thisArg:C}),ht.__chain__=ct,ht}return Ge.apply(C,ta([this.value()],arguments))})}),C}function p(){return Nt._===this&&(Nt._=qi),this}function _(){}function D(C){return C=Zt(C),un(function(N){return Eu(N,C)})}var G=$u(Zn),Y=$u(sf),se=$u(yc);function de(C){return wl(C)?Ma(xi(C)):Sr(C)}function De(C){return function(N){return C==null?i:Ms(C,N)}}var Xe=Lu(),ot=Lu(!0);function ut(){return[]}function Qe(){return!1}function tt(){return{}}function Bt(){return""}function Qt(){return!0}function Un(C,N){if(C=Zt(C),C<1||C>X)return[];var q=ne,te=Ar(C,ne);N=Xt(N),C-=ne;for(var ce=eu(te,N);++q<C;)N(q);return ce}function We(C){return an(C)?Zn(C,xi):Ci(C)?[C]:ui(fh(Dn(C)))}function ze(C){var N=++yf;return Dn(C)+N}var Ye=dl(function(C,N){return C+N},0),lt=gl("ceil"),Gt=dl(function(C,N){return C/N},1),An=gl("floor");function Ut(C){return C&&C.length?ms(C,hi,il):i}function cn(C,N){return C&&C.length?ms(C,Xt(N,2),il):i}function wn(C){return Zl(C,hi)}function kn(C,N){return Zl(C,Xt(N,2))}function ka(C){return C&&C.length?ms(C,hi,er):i}function tm(C,N){return C&&C.length?ms(C,Xt(N,2),er):i}var rm=dl(function(C,N){return C*N},1),im=gl("round"),sm=dl(function(C,N){return C-N},0);function am(C){return C&&C.length?Jl(C,hi):0}function om(C,N){return C&&C.length?Jl(C,Xt(N,2)):0}return me.after=yp,me.ary=Mh,me.assign=$p,me.assignIn=rc,me.assignInWith=Oo,me.assignWith=Vd,me.at=os,me.before=$h,me.bind=Xu,me.bindAll=fc,me.bindKey=Lh,me.castArray=Id,me.chain=Ll,me.chunk=qf,me.compact=ph,me.concat=dh,me.cond=Jp,me.conforms=Jd,me.constant=Uo,me.countBy=op,me.create=Kh,me.curry=Nl,me.curryRight=Ih,me.debounce=Dh,me.defaults=Lp,me.defaultsDeep=Ip,me.defer=Fn,me.delay=Oh,me.difference=ju,me.differenceBy=Yf,me.differenceWith=Gs,me.drop=Mr,me.dropRight=mh,me.dropRightWhile=Xf,me.dropWhile=Gr,me.fill=_d,me.filter=Ah,me.flatMap=Ei,me.flatMapDeep=up,me.flatMapDepth=cp,me.flatten=qn,me.flattenDeep=Si,me.flattenDepth=Ks,me.flip=Md,me.flow=ed,me.flowRight=jo,me.fromPairs=Qf,me.functions=zd,me.functionsIn=Bd,me.groupBy=Ku,me.initial=Ed,me.intersection=Wu,me.intersectionBy=wi,me.intersectionWith=xs,me.invert=Ud,me.invertBy=jd,me.invokeMap=Lo,me.iteratee=Yl,me.keyBy=fp,me.keys=Kr,me.keysIn=Ai,me.map=Dl,me.mapKeys=Hd,me.mapValues=Pp,me.matches=dc,me.matchesProperty=td,me.memoize=Pl,me.merge=No,me.mergeWith=Po,me.method=em,me.methodOf=mc,me.mixin=s,me.negate=Qu,me.nthArg=D,me.omit=Fp,me.omitBy=Gd,me.once=$d,me.orderBy=pp,me.over=G,me.overArgs=Ld,me.overEvery=Y,me.overSome=se,me.partial=Do,me.partialRight=Ka,me.partition=dp,me.pick=Fo,me.pickBy=Vo,me.property=de,me.propertyOf=De,me.pull=Wa,me.pullAll=Is,me.pullAllBy=xh,me.pullAllWith=Sh,me.pullAt=Ss,me.range=Xe,me.rangeRight=ot,me.rearg=Nh,me.reject=Ad,me.remove=tp,me.rest=Zu,me.reverse=ma,me.sampleSize=Rd,me.set=sc,me.setWith=Yh,me.shuffle=mp,me.slice=kl,me.sortBy=Yu,me.sortedUniq=Hu,me.sortedUniqBy=sp,me.split=hc,me.spread=Ph,me.tail=Td,me.take=Cd,me.takeRight=Mn,me.takeRightWhile=Hn,me.takeWhile=yn,me.tap=ap,me.throttle=xa,me.thru=Ga,me.toArray=Mp,me.toPairs=ac,me.toPairsIn=Gl,me.toPath=We,me.toPlainObject=nc,me.transform=zp,me.unary=Ds,me.union=Sn,me.unionBy=Pn,me.unionWith=Vi,me.uniq=ga,me.uniqBy=Ro,me.uniqWith=wh,me.unset=Bp,me.unzip=ws,me.unzipWith=or,me.update=Kd,me.updateWith=Up,me.values=zo,me.valuesIn=Xh,me.without=ya,me.words=Zp,me.wrap=Fl,me.xor=Ha,me.xorBy=_h,me.xorWith=zi,me.zip=Mo,me.zipObject=$l,me.zipObjectDeep=_i,me.zipWith=Eh,me.entries=ac,me.entriesIn=Gl,me.extend=rc,me.extendWith=Oo,s(me,me),me.add=Ye,me.attempt=nf,me.camelCase=uc,me.capitalize=jp,me.ceil=lt,me.clamp=qd,me.clone=vp,me.cloneDeep=xp,me.cloneDeepWith=Sp,me.cloneWith=bp,me.conformsTo=Dd,me.deburr=Bo,me.defaultTo=pc,me.divide=Gt,me.endsWith=Yd,me.eq=Ui,me.escape=Wp,me.escapeRegExp=Hp,me.every=Il,me.find=Bi,me.findIndex=gh,me.findKey=Dp,me.findLast=lp,me.findLastIndex=yh,me.findLastKey=Hl,me.floor=An,me.forEach=hp,me.forEachRight=Xs,me.forIn=ls,me.forInRight=Op,me.forOwn=ic,me.forOwnRight=Zs,me.get=_a,me.gt=wp,me.gte=_p,me.has=Np,me.hasIn=qh,me.head=bh,me.identity=hi,me.includes=kh,me.indexOf=Zf,me.inRange=oc,me.invoke=Wd,me.isArguments=qa,me.isArray=an,me.isArrayBuffer=Fh,me.isArrayLike=Ti,me.isArrayLikeObject=wr,me.isBoolean=Vl,me.isBuffer=Sa,me.isDate=Ep,me.isElement=vn,me.isEmpty=Vh,me.isEqual=Ju,me.isEqualWith=zh,me.isError=ec,me.isFinite=Bh,me.isFunction=ji,me.isInteger=zl,me.isLength=tc,me.isMap=Tp,me.isMatch=Cp,me.isMatchWith=Ap,me.isNaN=Bn,me.isNative=Uh,me.isNil=Od,me.isNull=ei,me.isNumber=jh,me.isObject=tr,me.isObjectLike=dr,me.isPlainObject=Bl,me.isRegExp=Ul,me.isSafeInteger=Wh,me.isSet=jl,me.isString=Wl,me.isSymbol=Ci,me.isTypedArray=wa,me.isUndefined=Hh,me.isWeakMap=Nd,me.isWeakSet=kp,me.join=Jf,me.kebabCase=Gp,me.last=Yn,me.lastIndexOf=ep,me.lowerCase=Kp,me.lowerFirst=Qh,me.lt=Pd,me.lte=Rp,me.max=Ut,me.maxBy=cn,me.mean=wn,me.meanBy=kn,me.min=ka,me.minBy=tm,me.stubArray=ut,me.stubFalse=Qe,me.stubObject=tt,me.stubString=Bt,me.stubTrue=Qt,me.multiply=rm,me.nth=qs,me.noConflict=p,me.noop=_,me.now=Ol,me.pad=qp,me.padEnd=Yp,me.padStart=cc,me.parseInt=Xd,me.random=lc,me.reduce=qu,me.reduceRight=Rh,me.repeat=Qd,me.replace=Zh,me.result=Vp,me.round=im,me.runInContext=je,me.sample=kd,me.size=gp,me.snakeCase=Jh,me.some=Io,me.sortedIndex=Rl,me.sortedIndexBy=ko,me.sortedIndexOf=np,me.sortedLastIndex=rp,me.sortedLastIndexBy=Ml,me.sortedLastIndexOf=ip,me.startCase=ef,me.startsWith=Xp,me.subtract=sm,me.sum=am,me.sumBy=om,me.template=tf,me.times=Un,me.toFinite=Qs,me.toInteger=Zt,me.toLength=Gh,me.toLower=Ea,me.toNumber=Wi,me.toSafeInteger=Fd,me.toString=Dn,me.toUpper=Ta,me.trim=Ca,me.trimEnd=Kl,me.trimStart=ql,me.truncate=Aa,me.unescape=Zd,me.uniqueId=ze,me.upperCase=Qp,me.upperFirst=Ya,me.each=hp,me.eachRight=Xs,me.first=bh,s(me,(function(){var C={};return gs(me,function(N,q){Ln.call(me.prototype,q)||(C[q]=N)}),C})(),{chain:!1}),me.VERSION=l,Ri(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){me[C].placeholder=me}),Ri(["drop","take"],function(C,N){on.prototype[C]=function(q){q=q===i?1:hr(Zt(q),0);var te=this.__filtered__&&!N?new on(this):this.clone();return te.__filtered__?te.__takeCount__=Ar(q,te.__takeCount__):te.__views__.push({size:Ar(q,ne),type:C+(te.__dir__<0?"Right":"")}),te},on.prototype[C+"Right"]=function(q){return this.reverse()[C](q).reverse()}}),Ri(["filter","map","takeWhile"],function(C,N){var q=N+1,te=q==W||q==H;on.prototype[C]=function(ce){var xe=this.clone();return xe.__iteratees__.push({iteratee:Xt(ce,3),type:q}),xe.__filtered__=xe.__filtered__||te,xe}}),Ri(["head","last"],function(C,N){var q="take"+(N?"Right":"");on.prototype[C]=function(){return this[q](1).value()[0]}}),Ri(["initial","tail"],function(C,N){var q="drop"+(N?"":"Right");on.prototype[C]=function(){return this.__filtered__?new on(this):this[q](1)}}),on.prototype.compact=function(){return this.filter(hi)},on.prototype.find=function(C){return this.filter(C).head()},on.prototype.findLast=function(C){return this.reverse().find(C)},on.prototype.invokeMap=un(function(C,N){return typeof C=="function"?new on(this):this.map(function(q){return ss(q,C,N)})}),on.prototype.reject=function(C){return this.filter(Qu(Xt(C)))},on.prototype.slice=function(C,N){C=Zt(C);var q=this;return q.__filtered__&&(C>0||N<0)?new on(q):(C<0?q=q.takeRight(-C):C&&(q=q.drop(C)),N!==i&&(N=Zt(N),q=N<0?q.dropRight(-N):q.take(N-C)),q)},on.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},on.prototype.toArray=function(){return this.take(ne)},gs(on.prototype,function(C,N){var q=/^(?:filter|find|map|reject)|While$/.test(N),te=/^(?:head|last)$/.test(N),ce=me[te?"take"+(N=="last"?"Right":""):N],xe=te||/^find/.test(N);ce&&(me.prototype[N]=function(){var Me=this.__wrapped__,Fe=te?[1]:arguments,Ge=Me instanceof on,ct=Fe[0],ht=Ge||an(Me),yt=function(En){var Cn=ce.apply(me,ta([En],Fe));return te&&Lt?Cn[0]:Cn};ht&&q&&typeof ct=="function"&&ct.length!=1&&(Ge=ht=!1);var Lt=this.__chain__,jt=!!this.__actions__.length,Jt=xe&&!Lt,hn=Ge&&!jt;if(!xe&&ht){Me=hn?Me:new on(this);var en=C.apply(Me,Fe);return en.__actions__.push({func:Ga,args:[yt],thisArg:i}),new yi(en,Lt)}return Jt&&hn?C.apply(this,Fe):(en=this.thru(yt),Jt?te?en.value()[0]:en.value():en)})}),Ri(["pop","push","shift","sort","splice","unshift"],function(C){var N=Yo[C],q=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",te=/^(?:pop|shift)$/.test(C);me.prototype[C]=function(){var ce=arguments;if(te&&!this.__chain__){var xe=this.value();return N.apply(an(xe)?xe:[],ce)}return this[q](function(Me){return N.apply(an(Me)?Me:[],ce)})}}),gs(on.prototype,function(C,N){var q=me[N];if(q){var te=q.name+"";Ln.call(In,te)||(In[te]=[]),In[te].push({name:N,func:q})}}),In[To(i,E).name]=[{name:"wrapper",func:i}],on.prototype.clone=Vs,on.prototype.reverse=oa,on.prototype.value=zs,me.prototype.at=Gu,me.prototype.chain=va,me.prototype.commit=Vr,me.prototype.next=ba,me.prototype.plant=Ys,me.prototype.reverse=Th,me.prototype.toJSON=me.prototype.valueOf=me.prototype.value=Ch,me.prototype.first=me.prototype.head,Xr&&(me.prototype[Xr]=$o),me}),eo=Cc();mn?((mn.exports=eo)._=eo,Kt._=eo):Nt._=eo}).call(lodash)})(lodash$1,lodash$1.exports)),lodash$1.exports}var moduleLoader={},xmlhttprequestTs_umd$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var xmlhttprequestTs_umd=xmlhttprequestTs_umd$1.exports,hasRequiredXmlhttprequestTs_umd;function requireXmlhttprequestTs_umd(){return hasRequiredXmlhttprequestTs_umd||(hasRequiredXmlhttprequestTs_umd=1,(function(e,n){(function(i,l){l(n,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(xmlhttprequestTs_umd,(function(i,l,T,g,b,w,d,h){var c=(function(){function a(){this.UNSENT=a.UNSENT,this.OPENED=a.OPENED,this.HEADERS_RECEIVED=a.HEADERS_RECEIVED,this.LOADING=a.LOADING,this.DONE=a.DONE,this.disableHeaderCheck=!1,this.readyState=a.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return a.prototype.open=function(o,u,f,m,x){if(f===void 0&&(f=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod(o))throw new Error("SecurityError: Request method not allowed");this.settings={method:o,url:u,async:typeof f!="boolean"?!0:f,user:m,password:x},this.setState(this.OPENED)},a.prototype.setDisableHeaderCheck=function(o){this.disableHeaderCheck=o},a.prototype.setRequestHeader=function(o,u){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader(o)){console.warn('Refused to set unsafe header "'+o+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");o=this.headersLowerCase[o.toLowerCase()]||o,this.headersLowerCase[o.toLowerCase()]=o,this.headers[o]=this.headers[o]?this.headers[o]+", "+u:u},a.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var o="";if(this.response){for(var u in this.response.headers)if(u!=="set-cookie"&&u!=="set-cookie2"){var f=this.response.headers[u];typeof f=="string"?o+=u+": "+f+`\r
`:Array.isArray(f)?o+=u+": "+f.join(", ")+`\r
`:o+=u+`:\r
`}}return o.substr(0,o.length-2)},a.prototype.getResponseHeader=function(o){if(typeof o=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[o.toLowerCase()]&&!this.errorFlag){var u=this.response.headers[o.toLowerCase()];if(typeof u=="string")return u;if(Array.isArray(u))return u.join(", ")}return null},a.prototype.getRequestHeader=function(o){if(typeof o=="string"&&this.headersLowerCase[o.toLowerCase()])return this.headers[this.headersLowerCase[o.toLowerCase()]]},a.prototype.send=function(o){var u=this,f=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var m=!1,x=!1,E=b.parse(this.settings.url),S;switch(E.protocol){case"https:":m=!0;case"http:":S=E.hostname;break;case"file:":x=!0;break;case void 0:case null:case"":S="localhost";break;default:throw new Error("Protocol not supported.")}if(x){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)l.readFile(unescape(E.pathname||"/"),"utf8",function(X,ee){X?f.handleError(X):(f.status=200,f.responseText=ee,f.setState(f.DONE))});else try{this.responseText=l.readFileSync(unescape(E.pathname||"/"),"utf8"),this.status=200,this.setState(f.DONE)}catch(X){this.handleError(X)}return}var R=E.port||(m?443:80),M=E.pathname+(E.search?E.search:"");for(var k in this.defaultHeaders)this.headersLowerCase[k.toLowerCase()]||(this.headers[k]=this.defaultHeaders[k]);if(S&&(this.headers.Host=S),E.host&&E.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),m&&R===443||R===80||(this.headers.Host+=":"+E.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var v=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+v.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?o=null:o?(this.headers["Content-Length"]=""+(Buffer.isBuffer(o)?o.length:Buffer.byteLength(o)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var F={host:S,port:R,path:M,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){u.readyState!==u.DONE&&f.handleTimeout(new Error("request timed out after "+u.timeout+"ms"))},this.timeout));var I=m?g.request:T.request;this.sendFlag=!0,f.dispatchEvent("readystatechange");var A=function(X){f.handleError(X)},$=0,P=function(X){if(f.response=X,f.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(f.response.headers.location&&(f.response.statusCode===301||f.response.statusCode===302||f.response.statusCode===303||f.response.statusCode===307)){if($++,$>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");f.settings.url=f.response.headers.location;var ee=b.parse(f.settings.url);S=ee.hostname,S&&(f.headers.Host=S);var ie={hostname:ee.hostname,port:ee.port,path:ee.path,method:f.response.statusCode===303?"GET":f.settings.method,headers:f.headers,withCredentials:f.withCredentials};m=E.protocol==="https:",I=m?g.request:T.request,f.request=I(ie,P).on("error",A),f.request.end();return}f.response.setEncoding("utf8"),f.setState(f.HEADERS_RECEIVED),f.status=f.response.statusCode||0,f.response.on("data",function(ne){ne&&(f.responseText+=ne),f.sendFlag&&f.setState(f.LOADING)}),f.response.on("end",function(){f.sendFlag&&(f.setState(f.DONE),f.sendFlag=!1)}),f.response.on("error",function(ne){f.handleError(ne)})};f.request=I(F,P).on("error",A),o&&f.request.write(o),f.request.end(),f.dispatchEvent("loadstart")}else{var B=new Date().getTime(),U=w.tmpdir()+d.sep+"ts-xmlhttprequest-content-"+process.pid,W=w.tmpdir()+d.sep+"ts-xmlhttprequest-sync-"+process.pid;l.writeFileSync(W,"","utf8");var j="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(m?"s":"")+".request;let options = "+JSON.stringify(F)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+U+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+W+"');});response.on('error', function(error) {fs.writeFileSync('"+U+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+W+"');});}).on('error', function(error) {fs.writeFileSync('"+U+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+W+"');});"+(o?"req.write('"+JSON.stringify(o).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";f.dispatchEvent("loadstart"),this.setState(f.LOADING);var H=h.spawn(process.argv[0],["-e",j]);for(H.on("exit",function(X,ee){try{l.unlinkSync(W)}catch{}try{l.unlinkSync(U)}catch{}});l.existsSync(W);)if(this.timeout!==0&&new Date().getTime()>=B+this.timeout)return H.stdin.end(),H.kill(),f.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));H.stdin.end(),H.kill();var Q=JSON.parse(l.readFileSync(U,"utf8"));l.unlinkSync(U),Q.err?f.handleError(Q.err):(f.response=Q.data,f.status=Q.data.statusCode,f.responseText=Q.data.text,f.setState(f.DONE))}},a.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},a.prototype.addEventListener=function(o,u){o in this.listeners||(this.listeners[o]=[]),this.listeners[o].push(u)},a.prototype.removeEventListener=function(o,u){o in this.listeners&&(this.listeners[o]=this.listeners[o].filter(function(f){return f!==u}))},a.prototype.dispatchEvent=function(o,u){var f="on"+o;if(typeof this[f]=="function"&&this[f](u),o in this.listeners)for(var m=0,x=this.listeners[o].length;m<x;m++)this.listeners[o][m].call(this,u)},a.prototype.setState=function(o){(o===this.LOADING||this.readyState!==o)&&(this.readyState=o,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},a.prototype.handleTimeout=function(o){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=o.toString(),this.responseText=o.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",o),this.setState(this.DONE)},a.prototype.handleError=function(o){this.status=0,this.statusText=o.toString(),this.responseText=o.stack||"",this.errorFlag=!0,this.dispatchEvent("error",o),this.setState(this.DONE)},a.prototype.isAllowedHttpHeader=function(o){return(this.disableHeaderCheck||o&&this.forbiddenRequestHeaders.indexOf(o.toLowerCase())===-1)===!0},a.prototype.isAllowedHttpMethod=function(o){return(o&&this.forbiddenRequestMethods.indexOf(o)===-1)===!0},a.UNSENT=0,a.OPENED=1,a.HEADERS_RECEIVED=2,a.LOADING=3,a.DONE=4,a})();i.XMLHttpRequest=c,Object.defineProperty(i,"__esModule",{value:!0})}))})(xmlhttprequestTs_umd$1,xmlhttprequestTs_umd$1.exports)),xmlhttprequestTs_umd$1.exports}var moduleErrors={},hasRequiredModuleErrors;function requireModuleErrors(){if(hasRequiredModuleErrors)return moduleErrors;hasRequiredModuleErrors=1,Object.defineProperty(moduleErrors,"__esModule",{value:!0}),moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const e=requireRuntimeSourceError();class n extends e.RuntimeSourceError{constructor(g){super(g)}explain(){return n.message}elaborate(){return n.elaboration}}moduleErrors.ModuleConnectionError=n,n.message="Unable to get modules.",n.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class i extends e.RuntimeSourceError{constructor(g,b){super(b),this.moduleName=g}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=i;class l extends e.RuntimeSourceError{constructor(g,b){super(b),this.moduleName=g}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}return moduleErrors.ModuleInternalError=l,moduleErrors}var hasRequiredModuleLoader;function requireModuleLoader(){return hasRequiredModuleLoader||(hasRequiredModuleLoader=1,(function(exports$1){Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.loadModuleDocs=exports$1.memoizedloadModuleDocs=exports$1.loadModuleTabs=exports$1.loadModuleBundle=exports$1.memoizedGetModuleFile=exports$1.memoizedGetModuleManifest=exports$1.httpGet=exports$1.setModulesStaticURL=exports$1.MODULES_STATIC_URL=exports$1.newHttpRequest=void 0;const lodash_1=requireLodash(),xmlhttprequest_ts_1=requireXmlhttprequestTs_umd(),moduleErrors_1=requireModuleErrors(),newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports$1.newHttpRequest=newHttpRequest,exports$1.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(e){exports$1.MODULES_STATIC_URL=e}exports$1.setModulesStaticURL=setModulesStaticURL;function httpGet(e){const n=(0,exports$1.newHttpRequest)();try{typeof window>"u"&&(n.timeout=1e4),n.open("GET",e,!1),n.send(null)}catch(i){if(!(i instanceof DOMException))throw i}if(n.status!==200&&n.status!==304)throw new moduleErrors_1.ModuleConnectionError;return n.responseText}exports$1.httpGet=httpGet,exports$1.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const e=httpGet(`${exports$1.MODULES_STATIC_URL}/modules.json`);return JSON.parse(e)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(e,n)=>memoizedGetModuleFileInternal({name:e,type:n});exports$1.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:e,type:n}){return httpGet(`${exports$1.MODULES_STATIC_URL}/${n}s/${e}.js${n==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports$1.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports$1.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports$1.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports$1.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports$1.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports$1.loadModuleTabs=loadModuleTabs,exports$1.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(e,n){try{const i=(0,exports$1.memoizedGetModuleManifest)();if(!Object.keys(i).includes(e))throw new moduleErrors_1.ModuleNotFoundError(e,n);const T=getModuleFile({name:e,type:"json"});return JSON.parse(T)}catch{return console.warn("Failed to load module documentation"),null}}exports$1.loadModuleDocs=loadModuleDocs})(moduleLoader)),moduleLoader}var inspector={},hasRequiredInspector;function requireInspector(){if(hasRequiredInspector)return inspector;hasRequiredInspector=1,Object.defineProperty(inspector,"__esModule",{value:!0}),inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const e=(d,h,c)=>{d.debugger.state.it=h,d.debugger.state.scheduler=c};inspector.saveState=e;const n=d=>{l=d};inspector.setBreakpointAtLine=n;const i=d=>(d.runtime.break=!0,{status:"suspended",scheduler:d.debugger.state.scheduler,it:d.debugger.state.it,context:d});inspector.manualToggleDebugger=i;let l=[],T=!0,g=-1;const b=(d,h)=>{if(h.loc){const c=h.loc.start.line-1;!T&&c!==g&&(T=!0),d.runtime.debuggerOn&&l[c]!==void 0&&T&&(T=!1,g=c,d.runtime.break=!0)}};inspector.checkEditorBreakpoints=b;const w=()=>l.length>0;return inspector.areBreakpointsSet=w,inspector}var operators={},timeoutErrors={},formatters={},hasRequiredFormatters;function requireFormatters(){if(hasRequiredFormatters)return formatters;hasRequiredFormatters=1,Object.defineProperty(formatters,"__esModule",{value:!0}),formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function e(T,g){return typeof T=="string"?T:g.reduce((b,w,d)=>b+w+T[d+1],T[0])}function n(T,...g){return e(T,g).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=n;function i(T,...g){const b=e(T,g),w=b.match(/^[^\S\n]*(?=\S)/gm),d=w&&Math.min(...w.map(h=>h.length));return d?b.replace(new RegExp(`^.{${d}}`,"gm"),"").trim():b.trim()}formatters.stripIndent=i;function l(T,g=15,b="..."){if(T.length<g)return T;const w=Math.ceil(g-b.length/2);return T.slice(0,w)+" ... "+T.slice(w)}return formatters.simplify=l,formatters}var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const e=requireConstants(),n=requireTypes(),i=requireFormatters(),l=requireStringify(),T=requireRuntimeSourceError();function g(h){const c=h/1e3,a=c*e.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,i.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${c} to ${a} seconds.
      This page may be unresponsive for up to ${a} seconds if you do so.`}class b extends T.RuntimeSourceError{}timeoutErrors.TimeoutError=b;class w extends b{constructor(c,a){super(c),this.maxExecTime=a,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR}explain(){return(0,i.stripIndent)`${"Potential infinite loop detected"}.
    ${g(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=w;class d extends b{constructor(c,a,o){super(c),this.calls=a,this.maxExecTime=o,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const c=this.calls.map(([a,o])=>`${a}(${o.map(u=>(0,l.stringify)(u)).join(", ")})`);return(0,i.stripIndent)`${"Potential infinite recursion detected"}: ${c.join(" ... ")}.
      ${g(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=d,timeoutErrors}var makeWrapper={},hasRequiredMakeWrapper;function requireMakeWrapper(){if(hasRequiredMakeWrapper)return makeWrapper;hasRequiredMakeWrapper=1,Object.defineProperty(makeWrapper,"__esModule",{value:!0}),makeWrapper.makeWrapper=void 0;function e(n,i){for(const l in n)n.hasOwnProperty(l)&&Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(n,l));for(const l of["length","name"])n.hasOwnProperty(l)&&Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(n,l))}return makeWrapper.makeWrapper=e,makeWrapper}var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getProp=e.setProp=e.wrap=e.callIteratively=e.evaluateBinaryExpression=e.binaryOp=e.evaluateUnaryExpression=e.unaryOp=e.boolOrErr=e.callIfFuncAndRightArgs=e.makeLazyFunction=e.wrapLazyCallee=e.delayIt=e.forceIt=e.throwIfTimeout=void 0;const n=requireCreateContext(),i=requireErrors(),l=requireRuntimeSourceError(),T=requireTimeoutErrors(),g=requireAstCreator(),b=requireAstCreator(),w=requireMakeWrapper(),d=requireRttc();function h(I,A,$,P,B){if($-A>I.maxExecTime)throw new T.PotentialInfiniteLoopError(b.locationDummyNode(P,B),I.maxExecTime)}e.throwIfTimeout=h;function c(I){if(I!=null&&I.isMemoized!==void 0){if(I.isMemoized)return I.memoizedValue;const A=c(I.f());return I.isMemoized=!0,I.memoizedValue=A,A}else return I}e.forceIt=c;function a(I){return{isMemoized:!1,value:void 0,f:I}}e.delayIt=a;function o(I){if(I=c(I),typeof I=="function"){const A=(...$)=>I(...$.map(c));return(0,w.makeWrapper)(I,A),A[Symbol.toStringTag]=()=>I.toString(),A.toString=()=>I.toString(),A}else if(I instanceof n.LazyBuiltIn)if(I.evaluateArgs){const A=(...$)=>I.func(...$.map(c));return(0,w.makeWrapper)(I.func,A),A[Symbol.toStringTag]=()=>I.toString(),A.toString=()=>I.toString(),A}else return I;return I}e.wrapLazyCallee=o;function u(I){return new n.LazyBuiltIn(I,!1)}e.makeLazyFunction=u;function f(I,A,$,...P){const B=b.callExpression(b.locationDummyNode(A,$),P,{start:{line:A,column:$},end:{line:A,column:$}});if(typeof I=="function"){const U=I;I.transformedFunction!==void 0&&(I=I.transformedFunction);const W=I.length,j=P.length,H=I.minArgsNeeded!==void 0;if(H?I.minArgsNeeded>j:W!==j)throw new i.InvalidNumberOfArguments(B,H?I.minArgsNeeded:W,j,H);try{const Q=P.map(c);return U(...Q)}catch(Q){throw Q instanceof l.RuntimeSourceError||Q instanceof i.ExceptionError?Q:new i.ExceptionError(Q,B.loc)}}else if(I instanceof n.LazyBuiltIn)try{return I.evaluateArgs&&(P=P.map(c)),I.func(...P)}catch(U){throw U instanceof l.RuntimeSourceError||U instanceof i.ExceptionError?U:new i.ExceptionError(U,B.loc)}else throw new i.CallingNonFunctionValue(I,B)}e.callIfFuncAndRightArgs=f;function m(I,A,$){I=c(I);const P=d.checkIfStatement(b.locationDummyNode(A,$),I);if(P===void 0)return I;throw P}e.boolOrErr=m;function x(I,A,$,P){A=c(A);const B=d.checkUnaryExpression(b.locationDummyNode($,P),I,A);if(B===void 0)return E(I,A);throw B}e.unaryOp=x;function E(I,A){return I==="!"?!A:I==="-"?-A:+A}e.evaluateUnaryExpression=E;function S(I,A,$,P,B,U){$=c($),P=c(P);const W=d.checkBinaryExpression(b.locationDummyNode(B,U),I,A,$,P);if(W===void 0)return R(I,$,P);throw W}e.binaryOp=S;function R(I,A,$){switch(I){case"+":return A+$;case"-":return A-$;case"*":return A*$;case"/":return A/$;case"%":return A%$;case"===":return A===$;case"!==":return A!==$;case"<=":return A<=$;case"<":return A<$;case">":return A>$;case">=":return A>=$;default:return}}e.evaluateBinaryExpression=R;const M=(I,A,...$)=>{let P=-1,B=-1;const U=Date.now(),W=[];for(;;){const j=(0,g.locationDummyNode)(P,B);if(I=c(I),typeof I=="function"){I.transformedFunction!==void 0&&(I=I.transformedFunction);const Q=I.length,X=$.length,ee=I.minArgsNeeded!==void 0;if(ee?I.minArgsNeeded>X:Q!==X)throw new i.InvalidNumberOfArguments((0,g.callExpression)(j,$,{start:{line:P,column:B},end:{line:P,column:B}}),ee?I.minArgsNeeded:Q,X,ee)}else if(I instanceof n.LazyBuiltIn)I.evaluateArgs&&($=$.map(c)),I=I.func;else throw new i.CallingNonFunctionValue(I,j);let H;try{if(H=I(...$),Date.now()-U>A.maxExecTime)throw new T.PotentialInfiniteRecursionError(j,W,A.maxExecTime)}catch(Q){throw Q instanceof l.RuntimeSourceError||Q instanceof i.ExceptionError?Q:new i.ExceptionError(Q,j.loc)}if(H==null)return H;if(H.isTail===!0)I=H.function,$=H.arguments,P=H.line,B=H.column,W.push([H.functionName,$]);else return H.isTail===!1?H.value:H}};e.callIteratively=M;const k=(I,A,$,P)=>{$&&(I.minArgsNeeded=I.length);const B=(...U)=>(0,e.callIteratively)(I,P,...U);return(0,w.makeWrapper)(I,B),B.transformedFunction=I,B[Symbol.toStringTag]=()=>A,B.toString=()=>A,B};e.wrap=k;const v=(I,A,$,P,B)=>{const U=(0,g.locationDummyNode)(P,B),W=d.checkMemberAccess(U,I,A);if(W===void 0)return I[A]=$;throw W};e.setProp=v;const F=(I,A,$,P)=>{const B=(0,g.locationDummyNode)($,P),U=d.checkMemberAccess(B,I,A);if(U===void 0){if(I[A]!==void 0&&!I.hasOwnProperty(A))throw new i.GetInheritedPropertyError(B,I,A);return I[A]}else throw U};e.getProp=F})(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.apply=e.evaluate=e.evaluators=e.pushEnvironment=e.createBlockEnvironment=e.actualValue=void 0;const n=requireLodash(),i=requireConstants(),l=requireCreateContext(),T=requireErrors(),g=requireRuntimeSourceError(),b=requireModuleLoader(),w=requireInspector(),d=requireTypes(),h=requireAstCreator(),c=requireOperators(),a=requireRttc(),o=requireClosure();class u{}class f{}class m{constructor(Se){this.value=Se}}class x{constructor(Se,ge,Pe){this.callee=Se,this.args=ge,this.node=Pe}}class E{constructor(Se,ge){this.exp=Se,this.env=ge,this.isMemoized=!1,this.value=null}}const S=(be,Se)=>new E(be,Se);function*R(be,Se){if(be instanceof E){if(be.isMemoized)return be.value;(0,e.pushEnvironment)(Se,be.env);const ge=yield*M(be.exp,Se);return X(Se),be.value=ge,be.isMemoized=!0,ge}else return be}function*M(be,Se){const ge=yield*Oe(be,Se);return yield*R(ge,Se)}e.actualValue=M;const k=(be,Se,ge)=>{const Pe={name:be.functionName,tail:be.environment,head:{},id:(0,n.uniqueId)()};return ge&&(Pe.callExpression=Object.assign(Object.assign({},ge),{arguments:Se.map(h.primitive)})),be.node.params.forEach((Je,Ve)=>{Je.type==="RestElement"?Pe.head[Je.argument.name]=Se.slice(Ve):Pe.head[Je.name]=Se[Ve]}),Pe},v=(be,Se="blockEnvironment",ge={})=>({name:Se,tail:H(be),head:ge,id:(0,n.uniqueId)()});e.createBlockEnvironment=v;const F=(be,Se)=>{throw be.errors.push(Se),be.runtime.environments=be.runtime.environments.slice(-be.numberOfOuterEnvironments),Se},I=Symbol("Used to implement hoisting");function A(be,Se,ge){const Pe=H(be);if(Pe.head.hasOwnProperty(Se)){const Je=Object.getOwnPropertyDescriptors(Pe.head);return F(be,new T.VariableRedeclaration(ge,Se,Je[Se].writable))}return Pe.head[Se]=I,Pe}function $(be,Se){for(const ge of Se.declarations)A(be,ge.id.name,Se)}function P(be,Se){for(const ge of Se.specifiers)A(be,ge.local.name,Se)}function B(be,Se){for(const ge of Se.body)switch(ge.type){case"VariableDeclaration":$(be,ge);break;case"FunctionDeclaration":A(be,ge.id.name,ge);break}}function U(be,Se,ge,Pe=!1){const Je=H(be);return Je.head[Se]!==I?F(be,new T.VariableRedeclaration(be.runtime.nodes[0],Se,!Pe)):(Object.defineProperty(Je.head,Se,{value:ge,writable:!Pe,enumerable:!0}),Je)}function*W(be,Se){(0,w.checkEditorBreakpoints)(be,Se),be.runtime.nodes.unshift(Se),yield be}function*j(be){be.runtime.break=!1,be.runtime.nodes.shift(),yield be}const H=be=>be.runtime.environments[0],Q=(be,Se)=>{be.runtime.environments[0]=Se,be.runtime.environmentTree.insert(Se)},X=be=>be.runtime.environments.shift(),ee=(be,Se)=>{be.runtime.environments.unshift(Se),be.runtime.environmentTree.insert(Se)};e.pushEnvironment=ee;const ie=(be,Se)=>{let ge=H(be);for(;ge;){if(ge.head.hasOwnProperty(Se))return ge.head[Se]===I?F(be,new T.UnassignedVariable(Se,be.runtime.nodes[0])):ge.head[Se];ge=ge.tail}return F(be,new T.UndefinedVariable(Se,be.runtime.nodes[0]))},ne=(be,Se,ge)=>{let Pe=H(be);for(;Pe;)if(Pe.head.hasOwnProperty(Se)){if(Pe.head[Se]===I)break;if(Object.getOwnPropertyDescriptors(Pe.head)[Se].writable){Pe.head[Se]=ge;return}return F(be,new T.ConstAssignment(be.runtime.nodes[0],Se))}else Pe=Pe.tail;return F(be,new T.UndefinedVariable(Se,be.runtime.nodes[0]))},ae=(be,Se,ge,Pe)=>{var Je;if(Se instanceof o.default){const Ve=Se.node.params,Tt=((Je=Ve[Ve.length-1])===null||Je===void 0?void 0:Je.type)==="RestElement";if(Tt?Ve.length-1>ge.length:Ve.length!==ge.length)return F(be,new T.InvalidNumberOfArguments(Pe,Tt?Ve.length-1:Ve.length,ge.length,Tt))}else{const Ve=Se.minArgsNeeded!=null;if(Ve?Se.minArgsNeeded>ge.length:Se.length!==ge.length)return F(be,new T.InvalidNumberOfArguments(Pe,Ve?Se.minArgsNeeded:Se.length,ge.length,Ve))}};function*re(be,Se){const ge=[];for(const Pe of Se.arguments)be.variant===d.Variant.LAZY?ge.push(S(Pe,H(be))):Pe.type==="SpreadElement"?ge.push(...yield*M(Pe.argument,be)):ge.push(yield*M(Pe,be));return ge}function fe(be){return be.operator==="&&"?(0,h.conditionalExpression)(be.left,be.right,(0,h.literal)(!1),be.loc):(0,h.conditionalExpression)(be.left,(0,h.literal)(!0),be.right,be.loc)}function*pe(be,Se){const ge=yield*M(be.test,Se),Pe=a.checkIfStatement(be,ge,Se.chapter);return Pe?F(Se,Pe):ge?be.consequent:be.alternate}function*he(be,Se){B(be,Se);let ge;for(const Pe of Se.body)if(ge=yield*Oe(Pe,be),ge instanceof m||ge instanceof x||ge instanceof u||ge instanceof f)break;return ge}e.evaluators={Literal:function*(be,Se){return be.value},TemplateLiteral:function*(be){return be.quasis[0].value.cooked},ThisExpression:function*(be,Se){return H(Se).thisContext},ArrayExpression:function*(be,Se){const ge=[];for(const Pe of be.elements)ge.push(yield*Oe(Pe,Se));return ge},DebuggerStatement:function*(be,Se){Se.runtime.break=!0,yield},FunctionExpression:function*(be,Se){return new o.default(be,H(Se),Se)},ArrowFunctionExpression:function*(be,Se){return o.default.makeFromArrowFunction(be,H(Se),Se)},Identifier:function*(be,Se){return ie(Se,be.name)},CallExpression:function*(be,Se){const ge=yield*M(be.callee,Se),Pe=yield*re(Se,be);let Je;return be.callee.type==="MemberExpression"&&(Je=yield*M(be.callee.object,Se)),yield*Ne(Se,ge,Pe,be,Je)},NewExpression:function*(be,Se){const ge=yield*Oe(be.callee,Se),Pe=[];for(const Ve of be.arguments)Pe.push(yield*Oe(Ve,Se));const Je={};return ge instanceof o.default?(Je.__proto__=ge.fun.prototype,ge.fun.apply(Je,Pe)):(Je.__proto__=ge.prototype,ge.apply(Je,Pe)),Je},UnaryExpression:function*(be,Se){const ge=yield*M(be.argument,Se),Pe=a.checkUnaryExpression(be,be.operator,ge,Se.chapter);return Pe?F(Se,Pe):(0,c.evaluateUnaryExpression)(be.operator,ge)},BinaryExpression:function*(be,Se){const ge=yield*M(be.left,Se),Pe=yield*M(be.right,Se),Je=a.checkBinaryExpression(be,be.operator,Se.chapter,ge,Pe);return Je?F(Se,Je):(0,c.evaluateBinaryExpression)(be.operator,ge,Pe)},ConditionalExpression:function*(be,Se){return yield*this.IfStatement(be,Se)},LogicalExpression:function*(be,Se){return yield*this.ConditionalExpression(fe(be),Se)},VariableDeclaration:function*(be,Se){const ge=be.declarations[0],Pe=be.kind==="const",Je=ge.id,Ve=yield*Oe(ge.init,Se);U(Se,Je.name,Ve,Pe)},ContinueStatement:function*(be,Se){return new f},BreakStatement:function*(be,Se){return new u},ForStatement:function*(be,Se){const ge=(0,e.createBlockEnvironment)(Se,"forLoopEnvironment");(0,e.pushEnvironment)(Se,ge);const Pe=be.init,Je=be.test,Ve=be.update;Pe.type==="VariableDeclaration"&&$(Se,Pe),yield*M(Pe,Se);let Tt;for(;yield*M(Je,Se);){const Ot=(0,e.createBlockEnvironment)(Se,"forBlockEnvironment");(0,e.pushEnvironment)(Se,Ot);for(const Dt in ge.head)ge.head.hasOwnProperty(Dt)&&(A(Se,Dt,be),U(Se,Dt,ge.head[Dt],!0));if(Tt=yield*M(be.body,Se),X(Se),Tt instanceof f&&(Tt=void 0),Tt instanceof u){Tt=void 0;break}if(Tt instanceof m||Tt instanceof x)break;yield*M(Ve,Se)}return X(Se),Tt},MemberExpression:function*(be,Se){let ge=yield*M(be.object,Se);ge instanceof o.default&&(ge=ge.fun);let Pe;be.computed?Pe=yield*M(be.property,Se):Pe=be.property.name;const Je=a.checkMemberAccess(be,ge,Pe);if(Je)return F(Se,Je);if(ge!=null&&typeof ge[Pe]<"u"&&!ge.hasOwnProperty(Pe))return F(Se,new T.GetInheritedPropertyError(be,ge,Pe));try{return ge[Pe]}catch{return F(Se,new T.GetPropertyError(be,ge,Pe))}},AssignmentExpression:function*(be,Se){if(be.left.type==="MemberExpression"){const Je=be.left,Ve=yield*M(Je.object,Se);let Tt;Je.computed?Tt=yield*M(Je.property,Se):Tt=Je.property.name;const Ot=a.checkMemberAccess(be,Ve,Tt);if(Ot)return F(Se,Ot);const Dt=yield*Oe(be.right,Se);try{Ve[Tt]=Dt}catch{return F(Se,new T.SetPropertyError(be,Ve,Tt))}return Dt}const ge=be.left,Pe=yield*Oe(be.right,Se);return ne(Se,ge.name,Pe),Pe},FunctionDeclaration:function*(be,Se){const ge=be.id,Pe=new o.default(be,H(Se),Se);U(Se,ge.name,Pe,!0)},IfStatement:function*(be,Se){const ge=yield*pe(be,Se);if(ge!==null)return yield*Oe(ge,Se)},ExpressionStatement:function*(be,Se){return yield*Oe(be.expression,Se)},ReturnStatement:function*(be,Se){let ge=be.argument;for(;ge.type==="LogicalExpression"||ge.type==="ConditionalExpression";)ge.type==="LogicalExpression"&&(ge=fe(ge)),ge=yield*pe(ge,Se);if(ge.type==="CallExpression"&&Se.variant!==d.Variant.LAZY){const Pe=yield*M(ge.callee,Se),Je=yield*re(Se,ge);return new x(Pe,Je,ge)}else return new m(yield*Oe(ge,Se))},WhileStatement:function*(be,Se){let ge;for(;(yield*M(be.test,Se))&&!(ge instanceof m)&&!(ge instanceof u)&&!(ge instanceof x);)ge=yield*M(be.body,Se);if(!(ge instanceof u))return ge},ObjectExpression:function*(be,Se){const ge={};for(const Pe of be.properties){const Je=Pe;let Ve;Je.key.type==="Identifier"?Ve=Je.key.name:Ve=yield*Oe(Je.key,Se),ge[Ve]=yield*Oe(Je.value,Se)}return ge},BlockStatement:function*(be,Se){const ge=(0,e.createBlockEnvironment)(Se,"blockEnvironment");(0,e.pushEnvironment)(Se,ge);const Pe=yield*he(Se,be);return X(Se),Pe},ImportDeclaration:function*(be,Se){try{const ge=be.source.value,Pe=be.specifiers.map(Ve=>{if(Ve.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${Ve.type}.`);return{imported:Ve.imported.name,local:Ve.local.name}});ge in Se.moduleContexts||(Se.moduleContexts[ge]={state:null,tabs:(0,b.loadModuleTabs)(ge,be)});const Je=(0,b.loadModuleBundle)(ge,Se,be);P(Se,be);for(const Ve of Pe)U(Se,Ve.local,Je[Ve.imported],!0);return}catch(ge){return F(Se,ge)}},Program:function*(be,Se){Se.numberOfOuterEnvironments+=1;const ge=(0,e.createBlockEnvironment)(Se,"programEnvironment");return(0,e.pushEnvironment)(Se,ge),yield*R(yield*he(Se,be),Se)}};function $e(be){return(0,n.isEmpty)(be.head)}function Le(be){if($e(be)){const Se=be.tail;return Se===null?be:Le(Se)}else return be}function*Oe(be,Se){yield*W(Se,be);const ge=yield*e.evaluators[be.type](be,Se);return yield*j(Se),ge instanceof o.default&&Object.defineProperty(Le(H(Se)).head,(0,n.uniqueId)(),{value:ge,writable:!1,enumerable:!0}),ge}e.evaluate=Oe;function*Ne(be,Se,ge,Pe,Je){let Ve,Tt=0;for(;!(Ve instanceof m);)if(Se instanceof o.default){ae(be,Se,ge,Pe);const Ot=k(Se,ge,Pe);Ve instanceof x?Q(be,Ot):((0,e.pushEnvironment)(be,Ot),Tt++);const Dt=(0,e.createBlockEnvironment)(be,"functionBodyEnvironment");Dt.thisContext=Je,(0,e.pushEnvironment)(be,Dt),Ve=yield*he(be,Se.node.body),X(be),Ve instanceof x?(Se=Ve.callee,Pe=Ve.node,ge=Ve.args):Ve instanceof m||(Ve=new m(void 0))}else if(Se instanceof l.LazyBuiltIn)try{let Ot=ge;if(Se.evaluateArgs){Ot=[];for(const Dt of ge)Ot.push(yield*R(Dt,be))}Ve=Se.func.apply(Je,Ot);break}catch(Ot){be.runtime.environments=be.runtime.environments.slice(-be.numberOfOuterEnvironments);const Dt=Pe?Pe.loc:i.UNKNOWN_LOCATION;if(!(Ot instanceof g.RuntimeSourceError||Ot instanceof T.ExceptionError))return F(be,new T.ExceptionError(Ot,Dt));throw Ve=void 0,Ot}else if(typeof Se=="function"){ae(be,Se,ge,Pe);try{const Ot=[];for(const Dt of ge)Ot.push(yield*R(Dt,be));Ve=Se.apply(Je,Ot);break}catch(Ot){be.runtime.environments=be.runtime.environments.slice(-be.numberOfOuterEnvironments);const Dt=Pe?Pe.loc:i.UNKNOWN_LOCATION;if(!(Ot instanceof g.RuntimeSourceError||Ot instanceof T.ExceptionError))return F(be,new T.ExceptionError(Ot,Dt));throw Ve=void 0,Ot}}else return F(be,new T.CallingNonFunctionValue(Se,Pe));Ve instanceof m&&(Ve=Ve.value);for(let Ot=1;Ot<=Tt;Ot++)X(be);return Ve}e.apply=Ne})(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const e=requireAstring(),n=requireAstCreator(),i=requireInterpreter(),l=(b,w,d)=>{function h(){const c=Array.prototype.slice.call(arguments),a=(0,i.apply)(w,b,c,(0,n.callExpression)((0,n.identifier)(d),c),this);let o=a.next();for(;!o.done;)o=a.next();return o.value}return Object.defineProperty(h,"name",{value:d}),Object.setPrototypeOf(h,()=>{}),Object.defineProperty(h,"Inherits",{value:c=>{h.prototype=Object.create(c.prototype),h.prototype.constructor=h}}),h.toString=()=>(0,e.generate)(b.originalNode),h.call=(c,...a)=>h.apply(c,a),h};class T extends Function{constructor(w){return super(),Object.setPrototypeOf(w,new.target.prototype)}}class g extends T{constructor(w,d,h){super(function(...a){return c.apply(this,a)}),this.node=w,this.environment=d,this.originalNode=w,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(a=>a.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const c=l(this,h,this.functionName);this.fun=c}static makeFromArrowFunction(w,d,h){function c(u){return u.type!=="BlockStatement"}const a=c(w.body)?[(0,n.returnStatement)(w.body,w.body.loc)]:w.body,o=new g((0,n.blockArrowFunction)(w.params,a,w.loc),d,h);return o.originalNode=w,o}toString(){return(0,e.generate)(this.originalNode)}}return closure.default=g,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify;hasRequiredStringify=1,Object.defineProperty(stringify,"__esModule",{value:!0}),stringify.lineTreeToString=stringify.stringDagToSingleLine=stringify.stringDagToLineTree=stringify.valueToStringDag=stringify.typeToString=stringify.stringify=void 0;const e=requireConstants(),n=requireClosure(),i=requireOperators();function l(a){return typeof a.replPrefix=="string"&&typeof a.replSuffix=="string"&&typeof a.replArrayContents=="function"}const T=(a,o=2,u=80)=>{if(a=(0,i.forceIt)(a),typeof o=="string")throw"stringify with arbitrary indent string not supported";let f=o;return o>10&&(f=10),c(d(w(a),f,u))};stringify.stringify=T;function g(a){return b(a)}stringify.typeToString=g;function b(a,o={_next:0}){function u(f){return b(f,o)}switch(a.kind){case"primitive":return a.name;case"variable":return a.constraint&&a.constraint!=="none"?a.constraint:(a.name in o||(o[a.name]="T"+o._next++),o[a.name]);case"list":return`List<${u(a.elementType)}>`;case"array":return`Array<${u(a.elementType)}>`;case"pair":const f=u(a.headType);return a.tailType.kind==="list"&&f===u(a.tailType.elementType)?`List<${f}>`:`[${u(a.headType)}, ${u(a.tailType)}]`;case"function":let m=a.parameterTypes.map(u).join(", ");return(a.parameterTypes.length!==1||a.parameterTypes[0].kind==="function")&&(m=`(${m})`),`${m} -> ${u(a.returnType)}`;default:return"Unable to infer type"}}function w(a){const o=new Map,u=new Map;function f(R){const M=u.get(R);if(M!==void 0)return[M,!1];o.set(R,o.size);const k=R,[v,F]=S(k[0]),[I,A]=S(k[1]),$=F||A;o.delete(R);const P={type:"pair",head:v,tail:I,length:v.length+I.length+4};return $||u.set(R,P),[P,$]}function m(R,M,k,v){const F=u.get(R);if(F!==void 0)return[F,!1];o.set(R,o.size);const I=M.map(S);let A=k.length+v.length+Math.max(0,I.length-1)*2,$=!1;for(let B=0;B<I.length;B++)I[B]==null&&(I[B]=S(void 0)),A+=I[B][0].length,$||($=I[B][1]);o.delete(R);const P={type:"arraylike",elems:I.map(B=>B[0]),prefix:k,suffix:v,length:A};return $||u.set(R,P),[P,$]}function x(R){const M=u.get(R);if(M!==void 0)return[M,!1];o.set(R,o.size);const k=Object.entries(R),v=k.map(P=>S(P[1]));let F=2+Math.max(0,k.length-1)*2+k.length*2,I=!1;const A=[];for(let P=0;P<v.length;P++)F+=k[P][0].length,F+=v[P].length,I||(I=v[P][1]),A.push({type:"kvpair",key:k[P][0],value:v[P][0],length:v[P][0].length+k[P][0].length});o.delete(R);const $={type:"arraylike",elems:A,prefix:"{",suffix:"}",length:F};return I||u.set(R,$),[$,I]}function E(R){const M=R.split(`
`);return M.length===1?[{type:"terminal",str:M[0],length:M[0].length},!1]:[{type:"multiline",lines:M,length:1/0},!1]}function S(R){if(R===null)return[{type:"terminal",str:"null",length:4},!1];if(R===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if(o.has(R))return[{type:"terminal",str:"...<circular>",length:13},!0];if(R instanceof n.default)return E(R.toString());if(typeof R=="string"){const M=JSON.stringify(R);return[{type:"terminal",str:M,length:M.length},!1]}else return typeof R!="object"?E(R.toString()):o.size>e.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof R.toReplString=="function"?E(R.toReplString()):Array.isArray(R)?R.length===2?f(R):m(R,R,"[","]"):l(R)?m(R,R.replArrayContents(),R.replPrefix,R.replSuffix):Object.getPrototypeOf(R)===Object.prototype?x(R):E(R.toString())}return S(a)[0]}stringify.valueToStringDag=w;function d(a,o,u){const m="["+" ".repeat(Math.max(0,o-1)),x=new Map;function E(S){const R=x.get(S);if(R!==void 0)return R;let M;if(S.type==="terminal")M={type:"line",line:S};else if(S.type==="multiline")M={type:"block",prefixFirst:"",prefixRest:"",block:S.lines.map(k=>({type:"line",line:{type:"terminal",str:k,length:k.length}})),suffixRest:"",suffixLast:""};else if(S.type==="pair"){const k=E(S.head),v=E(S.tail);S.length-2>u||k.type!=="line"||v.type!=="line"?M={type:"block",prefixFirst:m,prefixRest:"",block:[k,v],suffixRest:",",suffixLast:"]"}:M={type:"line",line:S}}else if(S.type==="arraylike"){const k=S.elems.map(E);S.length-S.prefix.length-S.suffix.length>u||k.some(v=>v.type!=="line")?M={type:"block",prefixFirst:S.prefix+" ".repeat(Math.max(0,o-S.prefix.length)),prefixRest:" ".repeat(Math.max(S.prefix.length,o)),block:k,suffixRest:",",suffixLast:S.suffix}:M={type:"line",line:S}}else if(S.type==="kvpair"){const k=E(S.value);S.length>u||k.type!=="line"?M={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(S.key),length:0}},k],suffixRest:":",suffixLast:""}:M={type:"line",line:S}}else throw"up";return x.set(S,M),M}return E(a)}stringify.stringDagToLineTree=d;function h(a){function o(u,f){if(u.type==="multiline")throw"Tried to format multiline string as single line string";if(u.type==="terminal")f.push(u.str);else if(u.type==="pair")f.push("["),o(u.head,f),f.push(", "),o(u.tail,f),f.push("]");else if(u.type==="kvpair")f.push(JSON.stringify(u.key)),f.push(": "),o(u.value,f);else if(u.type==="arraylike"){f.push(u.prefix),u.elems.length>0&&o(u.elems[0],f);for(let m=1;m<u.elems.length;m++)f.push(", "),o(u.elems[m],f);f.push(u.suffix)}return f}return o(a,[]).join("")}stringify.stringDagToSingleLine=h;function c(a){let o="";const u=new Map,f=new Map;function m(x,E){const S=f.get(x);if(S!==void 0){const k=S.get(E.length);if(k!==void 0){o+=o.substring(k[0],k[1]);return}}const R=o.length;if(x.type==="line")u.has(x.line)||u.set(x.line,h(x.line)),o+=u.get(x.line);else if(x.type==="block"){o+=x.prefixFirst;const k=E+" ".repeat(x.prefixFirst.length),v=E+x.prefixRest;m(x.block[0],k);for(let F=1;F<x.block.length;F++)o+=x.suffixRest,o+=v,m(x.block[F],v);o+=x.suffixLast}const M=o.length;if(S===void 0){const k=new Map;k.set(E.length,[R,M]),f.set(x,k)}else S.set(E.length,[R,M])}return m(a,`
`),o}return stringify.lineTreeToString=c,stringify}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const e=requireAstring(),n=requireTypes(),i=requireStringify(),l=requireRuntimeSourceError();class T extends l.RuntimeSourceError{constructor(E){super(E)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=T;class g{constructor(E,S){this.error=E,this.location=S,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=g;class b extends l.RuntimeSourceError{constructor(E,S){super(E),this.calls=S,this.customGenerator=Object.assign(Object.assign({},e.baseGenerator),{CallExpression(R,M){M.write((0,e.generate)(R.callee)),M.write("(");const k=R.arguments.map(v=>(0,i.stringify)(v.value));M.write(k.join(", ")),M.write(")")}})}explain(){const E=S=>(0,e.generate)(S,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(S=>E(S)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=b,b.MAX_CALLS_TO_SHOW=3;class w extends l.RuntimeSourceError{constructor(E,S){super(S),this.callee=E,this.node=S}explain(){return`Calling non-function value ${(0,i.stringify)(this.callee)}.`}elaborate(){const E=this.callee,S=(0,i.stringify)(E);let R="";R=this.node.arguments.map(e.generate).join(", ");const k=`Because ${S} is not a function, you cannot run ${S}(${R}).`,v=`If you were planning to perform multiplication by ${S}, you need to use the * operator.`;return Number.isFinite(E)?`${k} ${v}`:k}}errors.CallingNonFunctionValue=w;class d extends l.RuntimeSourceError{constructor(E,S){super(S),this.name=E}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=d;class h extends l.RuntimeSourceError{constructor(E,S){super(S),this.name=E}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=h;class c extends l.RuntimeSourceError{constructor(E,S,R,M=!1){super(E),this.expected=S,this.got=R,this.hasVarArgs=M,this.calleeStr=(0,e.generate)(E.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const E=this.calleeStr,S=this.expected===1?"":"s";return`Try calling function ${E} again, but with ${this.expected} argument${S} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=c;class a extends l.RuntimeSourceError{constructor(E,S,R){super(E),this.node=E,this.name=S,this.writable=R}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const E=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let S="";return this.node.type==="FunctionDeclaration"?S="("+this.node.params.map(e.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(S=(0,e.generate)(this.node.declarations[0].init)),`${E} As such, you can just do

	${this.name} = ${S};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=a;class o extends l.RuntimeSourceError{constructor(E,S){super(E),this.name=S}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=o;class u extends l.RuntimeSourceError{constructor(E,S,R){super(E),this.obj=S,this.prop=R}explain(){return`Cannot read property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=u;class f extends l.RuntimeSourceError{constructor(E,S,R){super(E),this.obj=S,this.prop=R,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR,this.location=E.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=f;class m extends l.RuntimeSourceError{constructor(E,S,R){super(E),this.obj=S,this.prop=R}explain(){return`Cannot assign property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=m,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const e=requireErrors(),n=requireInspector();class i{run(w,d){return new Promise((h,c)=>{d.runtime.isRunning=!0;let a=w.next();try{for(;!a.done;)a=w.next(),d.runtime.break&&((0,n.saveState)(d,w,this),a.done=!0)}catch{h({status:"error"})}finally{d.runtime.isRunning=!1}d.runtime.break?h({status:"suspended",it:w,scheduler:this,context:d}):h({status:"finished",context:d,value:a.value})})}}schedulers.AsyncScheduler=i;class l{run(w,d){return new Promise((h,c)=>{try{const a=w.next();a.done?h({status:"finished",context:d,value:a.value}):h({status:"suspended-non-det",it:w,scheduler:this,context:d,value:a.value})}catch(a){g(a,d),h({status:"error"})}finally{d.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=l;class T{constructor(w){this.steps=w}run(w,d){return new Promise((h,c)=>{d.runtime.isRunning=!0;let a=!1,o=w.next();const u=setInterval(()=>{let f=0;try{for(;!o.done&&f<this.steps;)f++,o=w.next(),a=d.runtime.break&&d.runtime.debuggerOn,a&&(o.done=!0);(0,n.saveState)(d,w,this)}catch(m){g(m,d),d.runtime.isRunning=!1,clearInterval(u),h({status:"error"})}o.done&&(d.runtime.isRunning=!1,clearInterval(u),h(a?{status:"suspended",it:w,scheduler:this,context:d}:{status:"finished",context:d,value:o.value}))})})}}schedulers.PreemptiveScheduler=T;function g(b,w){if(/Maximum call stack/.test(b.toString())){const d=w.runtime.environments,h=[];let c=0;for(let a=0;c<e.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&a<d.length;a++)d[a].callExpression&&(h.unshift(d[a].callExpression),c++);w.errors.push(new e.MaximumStackLimitExceeded(w.runtime.nodes[0],h))}}return schedulers}var lazyList_prelude={},hasRequiredLazyList_prelude;function requireLazyList_prelude(){return hasRequiredLazyList_prelude||(hasRequiredLazyList_prelude=1,Object.defineProperty(lazyList_prelude,"__esModule",{value:!0}),lazyList_prelude.lazyListPrelude=void 0,lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`),lazyList_prelude}var list={},hasRequiredList;function requireList(){if(hasRequiredList)return list;hasRequiredList=1,Object.defineProperty(list,"__esModule",{value:!0}),list.rawDisplayList=list.set_tail=list.set_head=list.vector_to_list=list.list_to_vector=list.is_list=list.list=list.is_null=list.tail=list.head=list.is_pair=list.pair=void 0;const e=requireStringify();function n(f){return Array.isArray===void 0?f instanceof Array:Array.isArray(f)}function i(f,m){return[f,m]}list.pair=i;function l(f){return n(f)&&f.length===2}list.is_pair=l;function T(f){if(l(f))return f[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,e.stringify)(f))}list.head=T;function g(f){if(l(f))return f[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,e.stringify)(f))}list.tail=g;function b(f){return f===null}list.is_null=b;function w(...f){let m=null;for(let x=f.length-1;x>=0;x-=1)m=i(f[x],m);return m}list.list=w;function d(f){for(;l(f);)f=g(f);return b(f)}list.is_list=d;function h(f){const m=[];for(;!b(f);)m.push(T(f)),f=g(f);return m}list.list_to_vector=h;function c(f){return w(...f)}list.vector_to_list=c;function a(f,m){if(l(f)){f[0]=m;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,e.stringify)(f))}list.set_head=a;function o(f,m){if(l(f)){f[1]=m;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,e.stringify)(f))}list.set_tail=o;function u(f,m,x){const E=new Set,S=new Map;class R{constructor(I){this.replPrefix="list(",this.replSuffix=")",this.listNode=I}replArrayContents(){const I=[];let A=this.listNode;for(;A!==null;)I.push(T(A)),A=g(A);return I}}function M(F){return S.get(F)||F}const k=[];let v=0;for(k.push(m);v<k.length;){const F=k[v];v++,!E.has(F)&&(E.add(F),l(F)&&k.push(T(F),g(F)))}for(;k.length>0;){const F=k.pop();if(!l(F))continue;const I=T(F),A=g(F),$=M(A),P=b($)||$ instanceof R?new R(i(I,A)):i(I,A);S.set(F,P)}for(const F of S.values())if(l(F))a(F,M(T(F))),o(F,M(g(F)));else if(F instanceof R){a(F.listNode,M(T(F.listNode)));let I=M(g(F.listNode));I instanceof R&&(I=I.listNode),o(F.listNode,I)}return f(M(m),x),m}return list.rawDisplayList=u,list}var list_prelude={},hasRequiredList_prelude;function requireList_prelude(){return hasRequiredList_prelude||(hasRequiredList_prelude=1,Object.defineProperty(list_prelude,"__esModule",{value:!0}),list_prelude.listPrelude=void 0,list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`),list_prelude}var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const e=requireClosure(),n=requireStringify();function i(R,M,k){return console.log((M===void 0?"":M+" ")+R.toString()),R}misc.rawDisplay=i;function l(R,...M){const k=(M[0]===void 0?"":M[0]+" ")+(0,n.stringify)(R);throw new Error(k)}misc.error_message=l;function T(R,M,k,v){return(...F)=>{const I=S(),A=M(...F),$=S()-I;return v("Duration: "+Math.round($)+"ms","",k),A}}misc.timed=T;function g(R){return typeof R=="number"}misc.is_number=g;function b(R){return typeof R>"u"}misc.is_undefined=b;function w(R){return typeof R=="string"}misc.is_string=w;function d(R){return typeof R=="boolean"}misc.is_boolean=d;function h(R){return typeof R=="object"||c(R)}misc.is_object=h;function c(R){return typeof R=="function"}misc.is_function=c;function a(R){return g(R)&&isNaN(R)}misc.is_NaN=a;function o(R,M){return R.hasOwnProperty(M)}misc.has_own_property=o;function u(R){return R instanceof Array}misc.is_array=u;function f(R){return R.length}misc.array_length=f;function m(R,M){if(typeof R=="string"&&typeof M=="number"&&Number.isInteger(M)&&2<=M&&M<=36)return parseInt(R,M);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=m;function x(R,M){if(typeof R!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof M!="number"||!Number.isInteger(M)||M<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return R[M]}misc.char_at=x;function E(R){var M;if(R instanceof e.default){const k=R.node.params;return((M=k[k.length-1])===null||M===void 0?void 0:M.type)==="RestElement"?k.length-1:k.length}else{if(typeof R=="function")return R.length;throw new Error("arity expects a function as argument")}}misc.arity=E;function S(){return new Date().getTime()}return misc.get_time=S,misc}var nonDet_prelude={},hasRequiredNonDet_prelude;function requireNonDet_prelude(){return hasRequiredNonDet_prelude||(hasRequiredNonDet_prelude=1,Object.defineProperty(nonDet_prelude,"__esModule",{value:!0}),nonDet_prelude.nonDetPrelude=void 0,nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`),nonDet_prelude}var parser$1={},parser={},acornLoose$1={exports:{}},acorn$1={exports:{}},acorn=acorn$1.exports,hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,(function(e,n){(function(i,l){l(n)})(acorn,(function(i){var l=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],T=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],g="-----------------------------------------------------------------------------------------------------------------------------------------------------",b="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",w={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},d="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",h={5:d,"5module":d+" export import",6:d+" const class extends export import super"},c=/^in(stanceof)?$/,a=new RegExp("["+b+"]"),o=new RegExp("["+b+g+"]");function u(y,V){for(var K=65536,J=0;J<V.length;J+=2){if(K+=V[J],K>y)return!1;if(K+=V[J+1],K>=y)return!0}return!1}function f(y,V){return y<65?y===36:y<91?!0:y<97?y===95:y<123?!0:y<=65535?y>=170&&a.test(String.fromCharCode(y)):V===!1?!1:u(y,T)}function m(y,V){return y<48?y===36:y<58?!0:y<65?!1:y<91?!0:y<97?y===95:y<123?!0:y<=65535?y>=170&&o.test(String.fromCharCode(y)):V===!1?!1:u(y,T)||u(y,l)}var x=function(V,K){K===void 0&&(K={}),this.label=V,this.keyword=K.keyword,this.beforeExpr=!!K.beforeExpr,this.startsExpr=!!K.startsExpr,this.isLoop=!!K.isLoop,this.isAssign=!!K.isAssign,this.prefix=!!K.prefix,this.postfix=!!K.postfix,this.binop=K.binop||null,this.updateContext=null};function E(y,V){return new x(y,{beforeExpr:!0,binop:V})}var S={beforeExpr:!0},R={startsExpr:!0},M={};function k(y,V){return V===void 0&&(V={}),V.keyword=y,M[y]=new x(y,V)}var v={num:new x("num",R),regexp:new x("regexp",R),string:new x("string",R),name:new x("name",R),privateId:new x("privateId",R),eof:new x("eof"),bracketL:new x("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new x("]"),braceL:new x("{",{beforeExpr:!0,startsExpr:!0}),braceR:new x("}"),parenL:new x("(",{beforeExpr:!0,startsExpr:!0}),parenR:new x(")"),comma:new x(",",S),semi:new x(";",S),colon:new x(":",S),dot:new x("."),question:new x("?",S),questionDot:new x("?."),arrow:new x("=>",S),template:new x("template"),invalidTemplate:new x("invalidTemplate"),ellipsis:new x("...",S),backQuote:new x("`",R),dollarBraceL:new x("${",{beforeExpr:!0,startsExpr:!0}),eq:new x("=",{beforeExpr:!0,isAssign:!0}),assign:new x("_=",{beforeExpr:!0,isAssign:!0}),incDec:new x("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new x("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:E("||",1),logicalAND:E("&&",2),bitwiseOR:E("|",3),bitwiseXOR:E("^",4),bitwiseAND:E("&",5),equality:E("==/!=/===/!==",6),relational:E("</>/<=/>=",7),bitShift:E("<</>>/>>>",8),plusMin:new x("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:E("%",10),star:E("*",10),slash:E("/",10),starstar:new x("**",{beforeExpr:!0}),coalesce:E("??",1),_break:k("break"),_case:k("case",S),_catch:k("catch"),_continue:k("continue"),_debugger:k("debugger"),_default:k("default",S),_do:k("do",{isLoop:!0,beforeExpr:!0}),_else:k("else",S),_finally:k("finally"),_for:k("for",{isLoop:!0}),_function:k("function",R),_if:k("if"),_return:k("return",S),_switch:k("switch"),_throw:k("throw",S),_try:k("try"),_var:k("var"),_const:k("const"),_while:k("while",{isLoop:!0}),_with:k("with"),_new:k("new",{beforeExpr:!0,startsExpr:!0}),_this:k("this",R),_super:k("super",R),_class:k("class",R),_extends:k("extends",S),_export:k("export"),_import:k("import",R),_null:k("null",R),_true:k("true",R),_false:k("false",R),_in:k("in",{beforeExpr:!0,binop:7}),_instanceof:k("instanceof",{beforeExpr:!0,binop:7}),_typeof:k("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:k("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:k("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},F=/\r\n?|\n|\u2028|\u2029/,I=new RegExp(F.source,"g");function A(y){return y===10||y===13||y===8232||y===8233}function $(y,V,K){K===void 0&&(K=y.length);for(var J=V;J<K;J++){var oe=y.charCodeAt(J);if(A(oe))return J<K-1&&oe===13&&y.charCodeAt(J+1)===10?J+2:J+1}return-1}var P=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,B=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,U=Object.prototype,W=U.hasOwnProperty,j=U.toString,H=Object.hasOwn||(function(y,V){return W.call(y,V)}),Q=Array.isArray||(function(y){return j.call(y)==="[object Array]"}),X=Object.create(null);function ee(y){return X[y]||(X[y]=new RegExp("^(?:"+y.replace(/ /g,"|")+")$"))}function ie(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}var ne=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ae=function(V,K){this.line=V,this.column=K};ae.prototype.offset=function(V){return new ae(this.line,this.column+V)};var re=function(V,K,J){this.start=K,this.end=J,V.sourceFile!==null&&(this.source=V.sourceFile)};function fe(y,V){for(var K=1,J=0;;){var oe=$(y,J,V);if(oe<0)return new ae(K,V-J);++K,J=oe}}var pe={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},he=!1;function $e(y){var V={};for(var K in pe)V[K]=y&&H(y,K)?y[K]:pe[K];if(V.ecmaVersion==="latest"?V.ecmaVersion=1e8:V.ecmaVersion==null?(!he&&typeof console=="object"&&console.warn&&(he=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),V.ecmaVersion=11):V.ecmaVersion>=2015&&(V.ecmaVersion-=2009),V.allowReserved==null&&(V.allowReserved=V.ecmaVersion<5),(!y||y.allowHashBang==null)&&(V.allowHashBang=V.ecmaVersion>=14),Q(V.onToken)){var J=V.onToken;V.onToken=function(oe){return J.push(oe)}}return Q(V.onComment)&&(V.onComment=Le(V,V.onComment)),V}function Le(y,V){return function(K,J,oe,ve,ke,Ue){var et={type:K?"Block":"Line",value:J,start:oe,end:ve};y.locations&&(et.loc=new re(this,ke,Ue)),y.ranges&&(et.range=[oe,ve]),V.push(et)}}var Oe=1,Ne=2,be=4,Se=8,ge=16,Pe=32,Je=64,Ve=128,Tt=256,Ot=512,Dt=Oe|Ne|Tt;function nn(y,V){return Ne|(y?be:0)|(V?Se:0)}var fn=0,bn=1,Be=2,He=3,Mt=4,zt=5,Ft=function(V,K,J){this.options=V=$e(V),this.sourceFile=V.sourceFile,this.keywords=ee(h[V.ecmaVersion>=6?6:V.sourceType==="module"?"5module":5]);var oe="";V.allowReserved!==!0&&(oe=w[V.ecmaVersion>=6?6:V.ecmaVersion===5?5:3],V.sourceType==="module"&&(oe+=" await")),this.reservedWords=ee(oe);var ve=(oe?oe+" ":"")+w.strict;this.reservedWordsStrict=ee(ve),this.reservedWordsStrictBind=ee(ve+" "+w.strictBind),this.input=String(K),this.containsEsc=!1,J?(this.pos=J,this.lineStart=this.input.lastIndexOf(`
`,J-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(F).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=v.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=V.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&V.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Oe),this.regexpState=null,this.privateNameStack=[]},wt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ft.prototype.parse=function(){var V=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(V)},wt.inFunction.get=function(){return(this.currentVarScope().flags&Ne)>0},wt.inGenerator.get=function(){return(this.currentVarScope().flags&Se)>0},wt.inAsync.get=function(){return(this.currentVarScope().flags&be)>0},wt.canAwait.get=function(){for(var y=this.scopeStack.length-1;y>=0;y--){var V=this.scopeStack[y],K=V.flags;if(K&(Tt|Ot))return!1;if(K&Ne)return(K&be)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},wt.allowSuper.get=function(){var y=this.currentThisScope(),V=y.flags;return(V&Je)>0||this.options.allowSuperOutsideMethod},wt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Ve)>0},wt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},wt.allowNewDotTarget.get=function(){for(var y=this.scopeStack.length-1;y>=0;y--){var V=this.scopeStack[y],K=V.flags;if(K&(Tt|Ot)||K&Ne&&!(K&ge))return!0}return!1},wt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Tt)>0},Ft.extend=function(){for(var V=[],K=arguments.length;K--;)V[K]=arguments[K];for(var J=this,oe=0;oe<V.length;oe++)J=V[oe](J);return J},Ft.parse=function(V,K){return new this(K,V).parse()},Ft.parseExpressionAt=function(V,K,J){var oe=new this(J,V,K);return oe.nextToken(),oe.parseExpression()},Ft.tokenizer=function(V,K){return new this(K,V)},Object.defineProperties(Ft.prototype,wt);var xn=Ft.prototype,we=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;xn.strictDirective=function(y){if(this.options.ecmaVersion<5)return!1;for(;;){B.lastIndex=y,y+=B.exec(this.input)[0].length;var V=we.exec(this.input.slice(y));if(!V)return!1;if((V[1]||V[2])==="use strict"){B.lastIndex=y+V[0].length;var K=B.exec(this.input),J=K.index+K[0].length,oe=this.input.charAt(J);return oe===";"||oe==="}"||F.test(K[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(oe)||oe==="!"&&this.input.charAt(J+1)==="=")}y+=V[0].length,B.lastIndex=y,y+=B.exec(this.input)[0].length,this.input[y]===";"&&y++}},xn.eat=function(y){return this.type===y?(this.next(),!0):!1},xn.isContextual=function(y){return this.type===v.name&&this.value===y&&!this.containsEsc},xn.eatContextual=function(y){return this.isContextual(y)?(this.next(),!0):!1},xn.expectContextual=function(y){this.eatContextual(y)||this.unexpected()},xn.canInsertSemicolon=function(){return this.type===v.eof||this.type===v.braceR||F.test(this.input.slice(this.lastTokEnd,this.start))},xn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},xn.semicolon=function(){!this.eat(v.semi)&&!this.insertSemicolon()&&this.unexpected()},xn.afterTrailingComma=function(y,V){if(this.type===y)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),V||this.next(),!0},xn.expect=function(y){this.eat(y)||this.unexpected()},xn.unexpected=function(y){this.raise(y??this.start,"Unexpected token")};var Ee=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};xn.checkPatternErrors=function(y,V){if(y){y.trailingComma>-1&&this.raiseRecoverable(y.trailingComma,"Comma is not permitted after the rest element");var K=V?y.parenthesizedAssign:y.parenthesizedBind;K>-1&&this.raiseRecoverable(K,V?"Assigning to rvalue":"Parenthesized pattern")}},xn.checkExpressionErrors=function(y,V){if(!y)return!1;var K=y.shorthandAssign,J=y.doubleProto;if(!V)return K>=0||J>=0;K>=0&&this.raise(K,"Shorthand property assignments are valid only in destructuring patterns"),J>=0&&this.raiseRecoverable(J,"Redefinition of __proto__ property")},xn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},xn.isSimpleAssignTarget=function(y){return y.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(y.expression):y.type==="Identifier"||y.type==="MemberExpression"};var Ae=Ft.prototype;Ae.parseTopLevel=function(y){var V=Object.create(null);for(y.body||(y.body=[]);this.type!==v.eof;){var K=this.parseStatement(null,!0,V);y.body.push(K)}if(this.inModule)for(var J=0,oe=Object.keys(this.undefinedExports);J<oe.length;J+=1){var ve=oe[J];this.raiseRecoverable(this.undefinedExports[ve].start,"Export '"+ve+"' is not defined")}return this.adaptDirectivePrologue(y.body),this.next(),y.sourceType=this.options.sourceType,this.finishNode(y,"Program")};var mt={kind:"loop"},_t={kind:"switch"};Ae.isLet=function(y){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;B.lastIndex=this.pos;var V=B.exec(this.input),K=this.pos+V[0].length,J=this.input.charCodeAt(K);if(J===91||J===92)return!0;if(y)return!1;if(J===123||J>55295&&J<56320)return!0;if(f(J,!0)){for(var oe=K+1;m(J=this.input.charCodeAt(oe),!0);)++oe;if(J===92||J>55295&&J<56320)return!0;var ve=this.input.slice(K,oe);if(!c.test(ve))return!0}return!1},Ae.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;B.lastIndex=this.pos;var y=B.exec(this.input),V=this.pos+y[0].length,K;return!F.test(this.input.slice(this.pos,V))&&this.input.slice(V,V+8)==="function"&&(V+8===this.input.length||!(m(K=this.input.charCodeAt(V+8))||K>55295&&K<56320))},Ae.isUsingKeyword=function(y,V){if(this.options.ecmaVersion<17||!this.isContextual(y?"await":"using"))return!1;B.lastIndex=this.pos;var K=B.exec(this.input),J=this.pos+K[0].length;if(F.test(this.input.slice(this.pos,J)))return!1;if(y){var oe=J+5,ve;if(this.input.slice(J,oe)!=="using"||oe===this.input.length||m(ve=this.input.charCodeAt(oe))||ve>55295&&ve<56320)return!1;B.lastIndex=oe;var ke=B.exec(this.input);if(ke&&F.test(this.input.slice(oe,oe+ke[0].length)))return!1}if(V){var Ue=J+2,et;if(this.input.slice(J,Ue)==="of"&&(Ue===this.input.length||!m(et=this.input.charCodeAt(Ue))&&!(et>55295&&et<56320)))return!1}var gt=this.input.charCodeAt(J);return f(gt,!0)||gt===92},Ae.isAwaitUsing=function(y){return this.isUsingKeyword(!0,y)},Ae.isUsing=function(y){return this.isUsingKeyword(!1,y)},Ae.parseStatement=function(y,V,K){var J=this.type,oe=this.startNode(),ve;switch(this.isLet(y)&&(J=v._var,ve="let"),J){case v._break:case v._continue:return this.parseBreakContinueStatement(oe,J.keyword);case v._debugger:return this.parseDebuggerStatement(oe);case v._do:return this.parseDoStatement(oe);case v._for:return this.parseForStatement(oe);case v._function:return y&&(this.strict||y!=="if"&&y!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(oe,!1,!y);case v._class:return y&&this.unexpected(),this.parseClass(oe,!0);case v._if:return this.parseIfStatement(oe);case v._return:return this.parseReturnStatement(oe);case v._switch:return this.parseSwitchStatement(oe);case v._throw:return this.parseThrowStatement(oe);case v._try:return this.parseTryStatement(oe);case v._const:case v._var:return ve=ve||this.value,y&&ve!=="var"&&this.unexpected(),this.parseVarStatement(oe,ve);case v._while:return this.parseWhileStatement(oe);case v._with:return this.parseWithStatement(oe);case v.braceL:return this.parseBlock(!0,oe);case v.semi:return this.parseEmptyStatement(oe);case v._export:case v._import:if(this.options.ecmaVersion>10&&J===v._import){B.lastIndex=this.pos;var ke=B.exec(this.input),Ue=this.pos+ke[0].length,et=this.input.charCodeAt(Ue);if(et===40||et===46)return this.parseExpressionStatement(oe,this.parseExpression())}return this.options.allowImportExportEverywhere||(V||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),J===v._import?this.parseImport(oe):this.parseExport(oe,K);default:if(this.isAsyncFunction())return y&&this.unexpected(),this.next(),this.parseFunctionStatement(oe,!0,!y);var gt=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(gt)return V&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),gt==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(oe,!1,gt),this.semicolon(),this.finishNode(oe,"VariableDeclaration");var St=this.value,Vt=this.parseExpression();return J===v.name&&Vt.type==="Identifier"&&this.eat(v.colon)?this.parseLabeledStatement(oe,St,Vt,y):this.parseExpressionStatement(oe,Vt)}},Ae.parseBreakContinueStatement=function(y,V){var K=V==="break";this.next(),this.eat(v.semi)||this.insertSemicolon()?y.label=null:this.type!==v.name?this.unexpected():(y.label=this.parseIdent(),this.semicolon());for(var J=0;J<this.labels.length;++J){var oe=this.labels[J];if((y.label==null||oe.name===y.label.name)&&(oe.kind!=null&&(K||oe.kind==="loop")||y.label&&K))break}return J===this.labels.length&&this.raise(y.start,"Unsyntactic "+V),this.finishNode(y,K?"BreakStatement":"ContinueStatement")},Ae.parseDebuggerStatement=function(y){return this.next(),this.semicolon(),this.finishNode(y,"DebuggerStatement")},Ae.parseDoStatement=function(y){return this.next(),this.labels.push(mt),y.body=this.parseStatement("do"),this.labels.pop(),this.expect(v._while),y.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(v.semi):this.semicolon(),this.finishNode(y,"DoWhileStatement")},Ae.parseForStatement=function(y){this.next();var V=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(mt),this.enterScope(0),this.expect(v.parenL),this.type===v.semi)return V>-1&&this.unexpected(V),this.parseFor(y,null);var K=this.isLet();if(this.type===v._var||this.type===v._const||K){var J=this.startNode(),oe=K?"let":this.value;return this.next(),this.parseVar(J,!0,oe),this.finishNode(J,"VariableDeclaration"),this.parseForAfterInit(y,J,V)}var ve=this.isContextual("let"),ke=!1,Ue=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(Ue){var et=this.startNode();return this.next(),Ue==="await using"&&this.next(),this.parseVar(et,!0,Ue),this.finishNode(et,"VariableDeclaration"),this.parseForAfterInit(y,et,V)}var gt=this.containsEsc,St=new Ee,Vt=this.start,Te=V>-1?this.parseExprSubscripts(St,"await"):this.parseExpression(!0,St);return this.type===v._in||(ke=this.options.ecmaVersion>=6&&this.isContextual("of"))?(V>-1?(this.type===v._in&&this.unexpected(V),y.await=!0):ke&&this.options.ecmaVersion>=8&&(Te.start===Vt&&!gt&&Te.type==="Identifier"&&Te.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(y.await=!1)),ve&&ke&&this.raise(Te.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Te,!1,St),this.checkLValPattern(Te),this.parseForIn(y,Te)):(this.checkExpressionErrors(St,!0),V>-1&&this.unexpected(V),this.parseFor(y,Te))},Ae.parseForAfterInit=function(y,V,K){return(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&V.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===v._in?K>-1&&this.unexpected(K):y.await=K>-1),this.parseForIn(y,V)):(K>-1&&this.unexpected(K),this.parseFor(y,V))},Ae.parseFunctionStatement=function(y,V,K){return this.next(),this.parseFunction(y,Ce|(K?0:Ke),!1,V)},Ae.parseIfStatement=function(y){return this.next(),y.test=this.parseParenExpression(),y.consequent=this.parseStatement("if"),y.alternate=this.eat(v._else)?this.parseStatement("if"):null,this.finishNode(y,"IfStatement")},Ae.parseReturnStatement=function(y){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(v.semi)||this.insertSemicolon()?y.argument=null:(y.argument=this.parseExpression(),this.semicolon()),this.finishNode(y,"ReturnStatement")},Ae.parseSwitchStatement=function(y){this.next(),y.discriminant=this.parseParenExpression(),y.cases=[],this.expect(v.braceL),this.labels.push(_t),this.enterScope(0);for(var V,K=!1;this.type!==v.braceR;)if(this.type===v._case||this.type===v._default){var J=this.type===v._case;V&&this.finishNode(V,"SwitchCase"),y.cases.push(V=this.startNode()),V.consequent=[],this.next(),J?V.test=this.parseExpression():(K&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),K=!0,V.test=null),this.expect(v.colon)}else V||this.unexpected(),V.consequent.push(this.parseStatement(null));return this.exitScope(),V&&this.finishNode(V,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(y,"SwitchStatement")},Ae.parseThrowStatement=function(y){return this.next(),F.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),y.argument=this.parseExpression(),this.semicolon(),this.finishNode(y,"ThrowStatement")};var st=[];Ae.parseCatchClauseParam=function(){var y=this.parseBindingAtom(),V=y.type==="Identifier";return this.enterScope(V?Pe:0),this.checkLValPattern(y,V?Mt:Be),this.expect(v.parenR),y},Ae.parseTryStatement=function(y){if(this.next(),y.block=this.parseBlock(),y.handler=null,this.type===v._catch){var V=this.startNode();this.next(),this.eat(v.parenL)?V.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),V.param=null,this.enterScope(0)),V.body=this.parseBlock(!1),this.exitScope(),y.handler=this.finishNode(V,"CatchClause")}return y.finalizer=this.eat(v._finally)?this.parseBlock():null,!y.handler&&!y.finalizer&&this.raise(y.start,"Missing catch or finally clause"),this.finishNode(y,"TryStatement")},Ae.parseVarStatement=function(y,V,K){return this.next(),this.parseVar(y,!1,V,K),this.semicolon(),this.finishNode(y,"VariableDeclaration")},Ae.parseWhileStatement=function(y){return this.next(),y.test=this.parseParenExpression(),this.labels.push(mt),y.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(y,"WhileStatement")},Ae.parseWithStatement=function(y){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),y.object=this.parseParenExpression(),y.body=this.parseStatement("with"),this.finishNode(y,"WithStatement")},Ae.parseEmptyStatement=function(y){return this.next(),this.finishNode(y,"EmptyStatement")},Ae.parseLabeledStatement=function(y,V,K,J){for(var oe=0,ve=this.labels;oe<ve.length;oe+=1){var ke=ve[oe];ke.name===V&&this.raise(K.start,"Label '"+V+"' is already declared")}for(var Ue=this.type.isLoop?"loop":this.type===v._switch?"switch":null,et=this.labels.length-1;et>=0;et--){var gt=this.labels[et];if(gt.statementStart===y.start)gt.statementStart=this.start,gt.kind=Ue;else break}return this.labels.push({name:V,kind:Ue,statementStart:this.start}),y.body=this.parseStatement(J?J.indexOf("label")===-1?J+"label":J:"label"),this.labels.pop(),y.label=K,this.finishNode(y,"LabeledStatement")},Ae.parseExpressionStatement=function(y,V){return y.expression=V,this.semicolon(),this.finishNode(y,"ExpressionStatement")},Ae.parseBlock=function(y,V,K){for(y===void 0&&(y=!0),V===void 0&&(V=this.startNode()),V.body=[],this.expect(v.braceL),y&&this.enterScope(0);this.type!==v.braceR;){var J=this.parseStatement(null);V.body.push(J)}return K&&(this.strict=!1),this.next(),y&&this.exitScope(),this.finishNode(V,"BlockStatement")},Ae.parseFor=function(y,V){return y.init=V,this.expect(v.semi),y.test=this.type===v.semi?null:this.parseExpression(),this.expect(v.semi),y.update=this.type===v.parenR?null:this.parseExpression(),this.expect(v.parenR),y.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(y,"ForStatement")},Ae.parseForIn=function(y,V){var K=this.type===v._in;return this.next(),V.type==="VariableDeclaration"&&V.declarations[0].init!=null&&(!K||this.options.ecmaVersion<8||this.strict||V.kind!=="var"||V.declarations[0].id.type!=="Identifier")&&this.raise(V.start,(K?"for-in":"for-of")+" loop variable declaration may not have an initializer"),y.left=V,y.right=K?this.parseExpression():this.parseMaybeAssign(),this.expect(v.parenR),y.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(y,K?"ForInStatement":"ForOfStatement")},Ae.parseVar=function(y,V,K,J){for(y.declarations=[],y.kind=K;;){var oe=this.startNode();if(this.parseVarId(oe,K),this.eat(v.eq)?oe.init=this.parseMaybeAssign(V):!J&&K==="const"&&!(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!J&&(K==="using"||K==="await using")&&this.options.ecmaVersion>=17&&this.type!==v._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+K+" declaration"):!J&&oe.id.type!=="Identifier"&&!(V&&(this.type===v._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):oe.init=null,y.declarations.push(this.finishNode(oe,"VariableDeclarator")),!this.eat(v.comma))break}return y},Ae.parseVarId=function(y,V){y.id=V==="using"||V==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(y.id,V==="var"?bn:Be,!1)};var Ce=1,Ke=2,pt=4;Ae.parseFunction=function(y,V,K,J,oe){this.initFunction(y),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!J)&&(this.type===v.star&&V&Ke&&this.unexpected(),y.generator=this.eat(v.star)),this.options.ecmaVersion>=8&&(y.async=!!J),V&Ce&&(y.id=V&pt&&this.type!==v.name?null:this.parseIdent(),y.id&&!(V&Ke)&&this.checkLValSimple(y.id,this.strict||y.generator||y.async?this.treatFunctionsAsVar?bn:Be:He));var ve=this.yieldPos,ke=this.awaitPos,Ue=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nn(y.async,y.generator)),V&Ce||(y.id=this.type===v.name?this.parseIdent():null),this.parseFunctionParams(y),this.parseFunctionBody(y,K,!1,oe),this.yieldPos=ve,this.awaitPos=ke,this.awaitIdentPos=Ue,this.finishNode(y,V&Ce?"FunctionDeclaration":"FunctionExpression")},Ae.parseFunctionParams=function(y){this.expect(v.parenL),y.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ae.parseClass=function(y,V){this.next();var K=this.strict;this.strict=!0,this.parseClassId(y,V),this.parseClassSuper(y);var J=this.enterClassBody(),oe=this.startNode(),ve=!1;for(oe.body=[],this.expect(v.braceL);this.type!==v.braceR;){var ke=this.parseClassElement(y.superClass!==null);ke&&(oe.body.push(ke),ke.type==="MethodDefinition"&&ke.kind==="constructor"?(ve&&this.raiseRecoverable(ke.start,"Duplicate constructor in the same class"),ve=!0):ke.key&&ke.key.type==="PrivateIdentifier"&&it(J,ke)&&this.raiseRecoverable(ke.key.start,"Identifier '#"+ke.key.name+"' has already been declared"))}return this.strict=K,this.next(),y.body=this.finishNode(oe,"ClassBody"),this.exitClassBody(),this.finishNode(y,V?"ClassDeclaration":"ClassExpression")},Ae.parseClassElement=function(y){if(this.eat(v.semi))return null;var V=this.options.ecmaVersion,K=this.startNode(),J="",oe=!1,ve=!1,ke="method",Ue=!1;if(this.eatContextual("static")){if(V>=13&&this.eat(v.braceL))return this.parseClassStaticBlock(K),K;this.isClassElementNameStart()||this.type===v.star?Ue=!0:J="static"}if(K.static=Ue,!J&&V>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===v.star)&&!this.canInsertSemicolon()?ve=!0:J="async"),!J&&(V>=9||!ve)&&this.eat(v.star)&&(oe=!0),!J&&!ve&&!oe){var et=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?ke=et:J=et)}if(J?(K.computed=!1,K.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),K.key.name=J,this.finishNode(K.key,"Identifier")):this.parseClassElementName(K),V<13||this.type===v.parenL||ke!=="method"||oe||ve){var gt=!K.static&&Rt(K,"constructor"),St=gt&&y;gt&&ke!=="method"&&this.raise(K.key.start,"Constructor can't have get/set modifier"),K.kind=gt?"constructor":ke,this.parseClassMethod(K,oe,ve,St)}else this.parseClassField(K);return K},Ae.isClassElementNameStart=function(){return this.type===v.name||this.type===v.privateId||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword},Ae.parseClassElementName=function(y){this.type===v.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),y.computed=!1,y.key=this.parsePrivateIdent()):this.parsePropertyName(y)},Ae.parseClassMethod=function(y,V,K,J){var oe=y.key;y.kind==="constructor"?(V&&this.raise(oe.start,"Constructor can't be a generator"),K&&this.raise(oe.start,"Constructor can't be an async method")):y.static&&Rt(y,"prototype")&&this.raise(oe.start,"Classes may not have a static property named prototype");var ve=y.value=this.parseMethod(V,K,J);return y.kind==="get"&&ve.params.length!==0&&this.raiseRecoverable(ve.start,"getter should have no params"),y.kind==="set"&&ve.params.length!==1&&this.raiseRecoverable(ve.start,"setter should have exactly one param"),y.kind==="set"&&ve.params[0].type==="RestElement"&&this.raiseRecoverable(ve.params[0].start,"Setter cannot use rest params"),this.finishNode(y,"MethodDefinition")},Ae.parseClassField=function(y){return Rt(y,"constructor")?this.raise(y.key.start,"Classes can't have a field named 'constructor'"):y.static&&Rt(y,"prototype")&&this.raise(y.key.start,"Classes can't have a static field named 'prototype'"),this.eat(v.eq)?(this.enterScope(Ot|Je),y.value=this.parseMaybeAssign(),this.exitScope()):y.value=null,this.semicolon(),this.finishNode(y,"PropertyDefinition")},Ae.parseClassStaticBlock=function(y){y.body=[];var V=this.labels;for(this.labels=[],this.enterScope(Tt|Je);this.type!==v.braceR;){var K=this.parseStatement(null);y.body.push(K)}return this.next(),this.exitScope(),this.labels=V,this.finishNode(y,"StaticBlock")},Ae.parseClassId=function(y,V){this.type===v.name?(y.id=this.parseIdent(),V&&this.checkLValSimple(y.id,Be,!1)):(V===!0&&this.unexpected(),y.id=null)},Ae.parseClassSuper=function(y){y.superClass=this.eat(v._extends)?this.parseExprSubscripts(null,!1):null},Ae.enterClassBody=function(){var y={declared:Object.create(null),used:[]};return this.privateNameStack.push(y),y.declared},Ae.exitClassBody=function(){var y=this.privateNameStack.pop(),V=y.declared,K=y.used;if(this.options.checkPrivateFields)for(var J=this.privateNameStack.length,oe=J===0?null:this.privateNameStack[J-1],ve=0;ve<K.length;++ve){var ke=K[ve];H(V,ke.name)||(oe?oe.used.push(ke):this.raiseRecoverable(ke.start,"Private field '#"+ke.name+"' must be declared in an enclosing class"))}};function it(y,V){var K=V.key.name,J=y[K],oe="true";return V.type==="MethodDefinition"&&(V.kind==="get"||V.kind==="set")&&(oe=(V.static?"s":"i")+V.kind),J==="iget"&&oe==="iset"||J==="iset"&&oe==="iget"||J==="sget"&&oe==="sset"||J==="sset"&&oe==="sget"?(y[K]="true",!1):J?!0:(y[K]=oe,!1)}function Rt(y,V){var K=y.computed,J=y.key;return!K&&(J.type==="Identifier"&&J.name===V||J.type==="Literal"&&J.value===V)}Ae.parseExportAllDeclaration=function(y,V){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(y.exported=this.parseModuleExportName(),this.checkExport(V,y.exported,this.lastTokStart)):y.exported=null),this.expectContextual("from"),this.type!==v.string&&this.unexpected(),y.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(y.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(y,"ExportAllDeclaration")},Ae.parseExport=function(y,V){if(this.next(),this.eat(v.star))return this.parseExportAllDeclaration(y,V);if(this.eat(v._default))return this.checkExport(V,"default",this.lastTokStart),y.declaration=this.parseExportDefaultDeclaration(),this.finishNode(y,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())y.declaration=this.parseExportDeclaration(y),y.declaration.type==="VariableDeclaration"?this.checkVariableExport(V,y.declaration.declarations):this.checkExport(V,y.declaration.id,y.declaration.id.start),y.specifiers=[],y.source=null,this.options.ecmaVersion>=16&&(y.attributes=[]);else{if(y.declaration=null,y.specifiers=this.parseExportSpecifiers(V),this.eatContextual("from"))this.type!==v.string&&this.unexpected(),y.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(y.attributes=this.parseWithClause());else{for(var K=0,J=y.specifiers;K<J.length;K+=1){var oe=J[K];this.checkUnreserved(oe.local),this.checkLocalExport(oe.local),oe.local.type==="Literal"&&this.raise(oe.local.start,"A string literal cannot be used as an exported binding without `from`.")}y.source=null,this.options.ecmaVersion>=16&&(y.attributes=[])}this.semicolon()}return this.finishNode(y,"ExportNamedDeclaration")},Ae.parseExportDeclaration=function(y){return this.parseStatement(null)},Ae.parseExportDefaultDeclaration=function(){var y;if(this.type===v._function||(y=this.isAsyncFunction())){var V=this.startNode();return this.next(),y&&this.next(),this.parseFunction(V,Ce|pt,!1,y)}else if(this.type===v._class){var K=this.startNode();return this.parseClass(K,"nullableID")}else{var J=this.parseMaybeAssign();return this.semicolon(),J}},Ae.checkExport=function(y,V,K){y&&(typeof V!="string"&&(V=V.type==="Identifier"?V.name:V.value),H(y,V)&&this.raiseRecoverable(K,"Duplicate export '"+V+"'"),y[V]=!0)},Ae.checkPatternExport=function(y,V){var K=V.type;if(K==="Identifier")this.checkExport(y,V,V.start);else if(K==="ObjectPattern")for(var J=0,oe=V.properties;J<oe.length;J+=1){var ve=oe[J];this.checkPatternExport(y,ve)}else if(K==="ArrayPattern")for(var ke=0,Ue=V.elements;ke<Ue.length;ke+=1){var et=Ue[ke];et&&this.checkPatternExport(y,et)}else K==="Property"?this.checkPatternExport(y,V.value):K==="AssignmentPattern"?this.checkPatternExport(y,V.left):K==="RestElement"&&this.checkPatternExport(y,V.argument)},Ae.checkVariableExport=function(y,V){if(y)for(var K=0,J=V;K<J.length;K+=1){var oe=J[K];this.checkPatternExport(y,oe.id)}},Ae.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Ae.parseExportSpecifier=function(y){var V=this.startNode();return V.local=this.parseModuleExportName(),V.exported=this.eatContextual("as")?this.parseModuleExportName():V.local,this.checkExport(y,V.exported,V.exported.start),this.finishNode(V,"ExportSpecifier")},Ae.parseExportSpecifiers=function(y){var V=[],K=!0;for(this.expect(v.braceL);!this.eat(v.braceR);){if(K)K=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;V.push(this.parseExportSpecifier(y))}return V},Ae.parseImport=function(y){return this.next(),this.type===v.string?(y.specifiers=st,y.source=this.parseExprAtom()):(y.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),y.source=this.type===v.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(y.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(y,"ImportDeclaration")},Ae.parseImportSpecifier=function(){var y=this.startNode();return y.imported=this.parseModuleExportName(),this.eatContextual("as")?y.local=this.parseIdent():(this.checkUnreserved(y.imported),y.local=y.imported),this.checkLValSimple(y.local,Be),this.finishNode(y,"ImportSpecifier")},Ae.parseImportDefaultSpecifier=function(){var y=this.startNode();return y.local=this.parseIdent(),this.checkLValSimple(y.local,Be),this.finishNode(y,"ImportDefaultSpecifier")},Ae.parseImportNamespaceSpecifier=function(){var y=this.startNode();return this.next(),this.expectContextual("as"),y.local=this.parseIdent(),this.checkLValSimple(y.local,Be),this.finishNode(y,"ImportNamespaceSpecifier")},Ae.parseImportSpecifiers=function(){var y=[],V=!0;if(this.type===v.name&&(y.push(this.parseImportDefaultSpecifier()),!this.eat(v.comma)))return y;if(this.type===v.star)return y.push(this.parseImportNamespaceSpecifier()),y;for(this.expect(v.braceL);!this.eat(v.braceR);){if(V)V=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;y.push(this.parseImportSpecifier())}return y},Ae.parseWithClause=function(){var y=[];if(!this.eat(v._with))return y;this.expect(v.braceL);for(var V={},K=!0;!this.eat(v.braceR);){if(K)K=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var J=this.parseImportAttribute(),oe=J.key.type==="Identifier"?J.key.name:J.key.value;H(V,oe)&&this.raiseRecoverable(J.key.start,"Duplicate attribute key '"+oe+"'"),V[oe]=!0,y.push(J)}return y},Ae.parseImportAttribute=function(){var y=this.startNode();return y.key=this.type===v.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(v.colon),this.type!==v.string&&this.unexpected(),y.value=this.parseExprAtom(),this.finishNode(y,"ImportAttribute")},Ae.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===v.string){var y=this.parseLiteral(this.value);return ne.test(y.value)&&this.raise(y.start,"An export name cannot include a lone surrogate."),y}return this.parseIdent(!0)},Ae.adaptDirectivePrologue=function(y){for(var V=0;V<y.length&&this.isDirectiveCandidate(y[V]);++V)y[V].directive=y[V].expression.raw.slice(1,-1)},Ae.isDirectiveCandidate=function(y){return this.options.ecmaVersion>=5&&y.type==="ExpressionStatement"&&y.expression.type==="Literal"&&typeof y.expression.value=="string"&&(this.input[y.start]==='"'||this.input[y.start]==="'")};var dt=Ft.prototype;dt.toAssignable=function(y,V,K){if(this.options.ecmaVersion>=6&&y)switch(y.type){case"Identifier":this.inAsync&&y.name==="await"&&this.raise(y.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":y.type="ObjectPattern",K&&this.checkPatternErrors(K,!0);for(var J=0,oe=y.properties;J<oe.length;J+=1){var ve=oe[J];this.toAssignable(ve,V),ve.type==="RestElement"&&(ve.argument.type==="ArrayPattern"||ve.argument.type==="ObjectPattern")&&this.raise(ve.argument.start,"Unexpected token")}break;case"Property":y.kind!=="init"&&this.raise(y.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(y.value,V);break;case"ArrayExpression":y.type="ArrayPattern",K&&this.checkPatternErrors(K,!0),this.toAssignableList(y.elements,V);break;case"SpreadElement":y.type="RestElement",this.toAssignable(y.argument,V),y.argument.type==="AssignmentPattern"&&this.raise(y.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":y.operator!=="="&&this.raise(y.left.end,"Only '=' operator can be used for specifying default value."),y.type="AssignmentPattern",delete y.operator,this.toAssignable(y.left,V);break;case"ParenthesizedExpression":this.toAssignable(y.expression,V,K);break;case"ChainExpression":this.raiseRecoverable(y.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!V)break;default:this.raise(y.start,"Assigning to rvalue")}else K&&this.checkPatternErrors(K,!0);return y},dt.toAssignableList=function(y,V){for(var K=y.length,J=0;J<K;J++){var oe=y[J];oe&&this.toAssignable(oe,V)}if(K){var ve=y[K-1];this.options.ecmaVersion===6&&V&&ve&&ve.type==="RestElement"&&ve.argument.type!=="Identifier"&&this.unexpected(ve.argument.start)}return y},dt.parseSpread=function(y){var V=this.startNode();return this.next(),V.argument=this.parseMaybeAssign(!1,y),this.finishNode(V,"SpreadElement")},dt.parseRestBinding=function(){var y=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==v.name&&this.unexpected(),y.argument=this.parseBindingAtom(),this.finishNode(y,"RestElement")},dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case v.bracketL:var y=this.startNode();return this.next(),y.elements=this.parseBindingList(v.bracketR,!0,!0),this.finishNode(y,"ArrayPattern");case v.braceL:return this.parseObj(!0)}return this.parseIdent()},dt.parseBindingList=function(y,V,K,J){for(var oe=[],ve=!0;!this.eat(y);)if(ve?ve=!1:this.expect(v.comma),V&&this.type===v.comma)oe.push(null);else{if(K&&this.afterTrailingComma(y))break;if(this.type===v.ellipsis){var ke=this.parseRestBinding();this.parseBindingListItem(ke),oe.push(ke),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(y);break}else oe.push(this.parseAssignableListItem(J))}return oe},dt.parseAssignableListItem=function(y){var V=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(V),V},dt.parseBindingListItem=function(y){return y},dt.parseMaybeDefault=function(y,V,K){if(K=K||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(v.eq))return K;var J=this.startNodeAt(y,V);return J.left=K,J.right=this.parseMaybeAssign(),this.finishNode(J,"AssignmentPattern")},dt.checkLValSimple=function(y,V,K){V===void 0&&(V=fn);var J=V!==fn;switch(y.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(y.name)&&this.raiseRecoverable(y.start,(J?"Binding ":"Assigning to ")+y.name+" in strict mode"),J&&(V===Be&&y.name==="let"&&this.raiseRecoverable(y.start,"let is disallowed as a lexically bound name"),K&&(H(K,y.name)&&this.raiseRecoverable(y.start,"Argument name clash"),K[y.name]=!0),V!==zt&&this.declareName(y.name,V,y.start));break;case"ChainExpression":this.raiseRecoverable(y.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":J&&this.raiseRecoverable(y.start,"Binding member expression");break;case"ParenthesizedExpression":return J&&this.raiseRecoverable(y.start,"Binding parenthesized expression"),this.checkLValSimple(y.expression,V,K);default:this.raise(y.start,(J?"Binding":"Assigning to")+" rvalue")}},dt.checkLValPattern=function(y,V,K){switch(V===void 0&&(V=fn),y.type){case"ObjectPattern":for(var J=0,oe=y.properties;J<oe.length;J+=1){var ve=oe[J];this.checkLValInnerPattern(ve,V,K)}break;case"ArrayPattern":for(var ke=0,Ue=y.elements;ke<Ue.length;ke+=1){var et=Ue[ke];et&&this.checkLValInnerPattern(et,V,K)}break;default:this.checkLValSimple(y,V,K)}},dt.checkLValInnerPattern=function(y,V,K){switch(V===void 0&&(V=fn),y.type){case"Property":this.checkLValInnerPattern(y.value,V,K);break;case"AssignmentPattern":this.checkLValPattern(y.left,V,K);break;case"RestElement":this.checkLValPattern(y.argument,V,K);break;default:this.checkLValPattern(y,V,K)}};var bt=function(V,K,J,oe,ve){this.token=V,this.isExpr=!!K,this.preserveSpace=!!J,this.override=oe,this.generator=!!ve},At={b_stat:new bt("{",!1),b_expr:new bt("{",!0),b_tmpl:new bt("${",!1),p_stat:new bt("(",!1),p_expr:new bt("(",!0),q_tmpl:new bt("`",!0,!0,function(y){return y.tryReadTemplateToken()}),f_stat:new bt("function",!1),f_expr:new bt("function",!0),f_expr_gen:new bt("function",!0,!1,null,!0),f_gen:new bt("function",!1,!1,null,!0)},nt=Ft.prototype;nt.initialContext=function(){return[At.b_stat]},nt.curContext=function(){return this.context[this.context.length-1]},nt.braceIsBlock=function(y){var V=this.curContext();return V===At.f_expr||V===At.f_stat?!0:y===v.colon&&(V===At.b_stat||V===At.b_expr)?!V.isExpr:y===v._return||y===v.name&&this.exprAllowed?F.test(this.input.slice(this.lastTokEnd,this.start)):y===v._else||y===v.semi||y===v.eof||y===v.parenR||y===v.arrow?!0:y===v.braceL?V===At.b_stat:y===v._var||y===v._const||y===v.name?!1:!this.exprAllowed},nt.inGeneratorContext=function(){for(var y=this.context.length-1;y>=1;y--){var V=this.context[y];if(V.token==="function")return V.generator}return!1},nt.updateContext=function(y){var V,K=this.type;K.keyword&&y===v.dot?this.exprAllowed=!1:(V=K.updateContext)?V.call(this,y):this.exprAllowed=K.beforeExpr},nt.overrideContext=function(y){this.curContext()!==y&&(this.context[this.context.length-1]=y)},v.parenR.updateContext=v.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var y=this.context.pop();y===At.b_stat&&this.curContext().token==="function"&&(y=this.context.pop()),this.exprAllowed=!y.isExpr},v.braceL.updateContext=function(y){this.context.push(this.braceIsBlock(y)?At.b_stat:At.b_expr),this.exprAllowed=!0},v.dollarBraceL.updateContext=function(){this.context.push(At.b_tmpl),this.exprAllowed=!0},v.parenL.updateContext=function(y){var V=y===v._if||y===v._for||y===v._with||y===v._while;this.context.push(V?At.p_stat:At.p_expr),this.exprAllowed=!0},v.incDec.updateContext=function(){},v._function.updateContext=v._class.updateContext=function(y){y.beforeExpr&&y!==v._else&&!(y===v.semi&&this.curContext()!==At.p_stat)&&!(y===v._return&&F.test(this.input.slice(this.lastTokEnd,this.start)))&&!((y===v.colon||y===v.braceL)&&this.curContext()===At.b_stat)?this.context.push(At.f_expr):this.context.push(At.f_stat),this.exprAllowed=!1},v.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},v.backQuote.updateContext=function(){this.curContext()===At.q_tmpl?this.context.pop():this.context.push(At.q_tmpl),this.exprAllowed=!1},v.star.updateContext=function(y){if(y===v._function){var V=this.context.length-1;this.context[V]===At.f_expr?this.context[V]=At.f_expr_gen:this.context[V]=At.f_gen}this.exprAllowed=!0},v.name.updateContext=function(y){var V=!1;this.options.ecmaVersion>=6&&y!==v.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(V=!0),this.exprAllowed=V};var vt=Ft.prototype;vt.checkPropClash=function(y,V,K){if(!(this.options.ecmaVersion>=9&&y.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(y.computed||y.method||y.shorthand))){var J=y.key,oe;switch(J.type){case"Identifier":oe=J.name;break;case"Literal":oe=String(J.value);break;default:return}var ve=y.kind;if(this.options.ecmaVersion>=6){oe==="__proto__"&&ve==="init"&&(V.proto&&(K?K.doubleProto<0&&(K.doubleProto=J.start):this.raiseRecoverable(J.start,"Redefinition of __proto__ property")),V.proto=!0);return}oe="$"+oe;var ke=V[oe];if(ke){var Ue;ve==="init"?Ue=this.strict&&ke.init||ke.get||ke.set:Ue=ke.init||ke[ve],Ue&&this.raiseRecoverable(J.start,"Redefinition of property")}else ke=V[oe]={init:!1,get:!1,set:!1};ke[ve]=!0}},vt.parseExpression=function(y,V){var K=this.start,J=this.startLoc,oe=this.parseMaybeAssign(y,V);if(this.type===v.comma){var ve=this.startNodeAt(K,J);for(ve.expressions=[oe];this.eat(v.comma);)ve.expressions.push(this.parseMaybeAssign(y,V));return this.finishNode(ve,"SequenceExpression")}return oe},vt.parseMaybeAssign=function(y,V,K){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(y);this.exprAllowed=!1}var J=!1,oe=-1,ve=-1,ke=-1;V?(oe=V.parenthesizedAssign,ve=V.trailingComma,ke=V.doubleProto,V.parenthesizedAssign=V.trailingComma=-1):(V=new Ee,J=!0);var Ue=this.start,et=this.startLoc;(this.type===v.parenL||this.type===v.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=y==="await");var gt=this.parseMaybeConditional(y,V);if(K&&(gt=K.call(this,gt,Ue,et)),this.type.isAssign){var St=this.startNodeAt(Ue,et);return St.operator=this.value,this.type===v.eq&&(gt=this.toAssignable(gt,!1,V)),J||(V.parenthesizedAssign=V.trailingComma=V.doubleProto=-1),V.shorthandAssign>=gt.start&&(V.shorthandAssign=-1),this.type===v.eq?this.checkLValPattern(gt):this.checkLValSimple(gt),St.left=gt,this.next(),St.right=this.parseMaybeAssign(y),ke>-1&&(V.doubleProto=ke),this.finishNode(St,"AssignmentExpression")}else J&&this.checkExpressionErrors(V,!0);return oe>-1&&(V.parenthesizedAssign=oe),ve>-1&&(V.trailingComma=ve),gt},vt.parseMaybeConditional=function(y,V){var K=this.start,J=this.startLoc,oe=this.parseExprOps(y,V);if(this.checkExpressionErrors(V))return oe;if(this.eat(v.question)){var ve=this.startNodeAt(K,J);return ve.test=oe,ve.consequent=this.parseMaybeAssign(),this.expect(v.colon),ve.alternate=this.parseMaybeAssign(y),this.finishNode(ve,"ConditionalExpression")}return oe},vt.parseExprOps=function(y,V){var K=this.start,J=this.startLoc,oe=this.parseMaybeUnary(V,!1,!1,y);return this.checkExpressionErrors(V)||oe.start===K&&oe.type==="ArrowFunctionExpression"?oe:this.parseExprOp(oe,K,J,-1,y)},vt.parseExprOp=function(y,V,K,J,oe){var ve=this.type.binop;if(ve!=null&&(!oe||this.type!==v._in)&&ve>J){var ke=this.type===v.logicalOR||this.type===v.logicalAND,Ue=this.type===v.coalesce;Ue&&(ve=v.logicalAND.binop);var et=this.value;this.next();var gt=this.start,St=this.startLoc,Vt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,oe),gt,St,ve,oe),Te=this.buildBinary(V,K,y,Vt,et,ke||Ue);return(ke&&this.type===v.coalesce||Ue&&(this.type===v.logicalOR||this.type===v.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Te,V,K,J,oe)}return y},vt.buildBinary=function(y,V,K,J,oe,ve){J.type==="PrivateIdentifier"&&this.raise(J.start,"Private identifier can only be left side of binary expression");var ke=this.startNodeAt(y,V);return ke.left=K,ke.operator=oe,ke.right=J,this.finishNode(ke,ve?"LogicalExpression":"BinaryExpression")},vt.parseMaybeUnary=function(y,V,K,J){var oe=this.start,ve=this.startLoc,ke;if(this.isContextual("await")&&this.canAwait)ke=this.parseAwait(J),V=!0;else if(this.type.prefix){var Ue=this.startNode(),et=this.type===v.incDec;Ue.operator=this.value,Ue.prefix=!0,this.next(),Ue.argument=this.parseMaybeUnary(null,!0,et,J),this.checkExpressionErrors(y,!0),et?this.checkLValSimple(Ue.argument):this.strict&&Ue.operator==="delete"&&$r(Ue.argument)?this.raiseRecoverable(Ue.start,"Deleting local variable in strict mode"):Ue.operator==="delete"&&Br(Ue.argument)?this.raiseRecoverable(Ue.start,"Private fields can not be deleted"):V=!0,ke=this.finishNode(Ue,et?"UpdateExpression":"UnaryExpression")}else if(!V&&this.type===v.privateId)(J||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),ke=this.parsePrivateIdent(),this.type!==v._in&&this.unexpected();else{if(ke=this.parseExprSubscripts(y,J),this.checkExpressionErrors(y))return ke;for(;this.type.postfix&&!this.canInsertSemicolon();){var gt=this.startNodeAt(oe,ve);gt.operator=this.value,gt.prefix=!1,gt.argument=ke,this.checkLValSimple(ke),this.next(),ke=this.finishNode(gt,"UpdateExpression")}}if(!K&&this.eat(v.starstar))if(V)this.unexpected(this.lastTokStart);else return this.buildBinary(oe,ve,ke,this.parseMaybeUnary(null,!1,!1,J),"**",!1);else return ke};function $r(y){return y.type==="Identifier"||y.type==="ParenthesizedExpression"&&$r(y.expression)}function Br(y){return y.type==="MemberExpression"&&y.property.type==="PrivateIdentifier"||y.type==="ChainExpression"&&Br(y.expression)||y.type==="ParenthesizedExpression"&&Br(y.expression)}vt.parseExprSubscripts=function(y,V){var K=this.start,J=this.startLoc,oe=this.parseExprAtom(y,V);if(oe.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return oe;var ve=this.parseSubscripts(oe,K,J,!1,V);return y&&ve.type==="MemberExpression"&&(y.parenthesizedAssign>=ve.start&&(y.parenthesizedAssign=-1),y.parenthesizedBind>=ve.start&&(y.parenthesizedBind=-1),y.trailingComma>=ve.start&&(y.trailingComma=-1)),ve},vt.parseSubscripts=function(y,V,K,J,oe){for(var ve=this.options.ecmaVersion>=8&&y.type==="Identifier"&&y.name==="async"&&this.lastTokEnd===y.end&&!this.canInsertSemicolon()&&y.end-y.start===5&&this.potentialArrowAt===y.start,ke=!1;;){var Ue=this.parseSubscript(y,V,K,J,ve,ke,oe);if(Ue.optional&&(ke=!0),Ue===y||Ue.type==="ArrowFunctionExpression"){if(ke){var et=this.startNodeAt(V,K);et.expression=Ue,Ue=this.finishNode(et,"ChainExpression")}return Ue}y=Ue}},vt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(v.arrow)},vt.parseSubscriptAsyncArrow=function(y,V,K,J){return this.parseArrowExpression(this.startNodeAt(y,V),K,!0,J)},vt.parseSubscript=function(y,V,K,J,oe,ve,ke){var Ue=this.options.ecmaVersion>=11,et=Ue&&this.eat(v.questionDot);J&&et&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var gt=this.eat(v.bracketL);if(gt||et&&this.type!==v.parenL&&this.type!==v.backQuote||this.eat(v.dot)){var St=this.startNodeAt(V,K);St.object=y,gt?(St.property=this.parseExpression(),this.expect(v.bracketR)):this.type===v.privateId&&y.type!=="Super"?St.property=this.parsePrivateIdent():St.property=this.parseIdent(this.options.allowReserved!=="never"),St.computed=!!gt,Ue&&(St.optional=et),y=this.finishNode(St,"MemberExpression")}else if(!J&&this.eat(v.parenL)){var Vt=new Ee,Te=this.yieldPos,le=this.awaitPos,_e=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Ie=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1,Vt);if(oe&&!et&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Vt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Te,this.awaitPos=le,this.awaitIdentPos=_e,this.parseSubscriptAsyncArrow(V,K,Ie,ke);this.checkExpressionErrors(Vt,!0),this.yieldPos=Te||this.yieldPos,this.awaitPos=le||this.awaitPos,this.awaitIdentPos=_e||this.awaitIdentPos;var ft=this.startNodeAt(V,K);ft.callee=y,ft.arguments=Ie,Ue&&(ft.optional=et),y=this.finishNode(ft,"CallExpression")}else if(this.type===v.backQuote){(et||ve)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Et=this.startNodeAt(V,K);Et.tag=y,Et.quasi=this.parseTemplate({isTagged:!0}),y=this.finishNode(Et,"TaggedTemplateExpression")}return y},vt.parseExprAtom=function(y,V,K){this.type===v.slash&&this.readRegexp();var J,oe=this.potentialArrowAt===this.start;switch(this.type){case v._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),J=this.startNode(),this.next(),this.type===v.parenL&&!this.allowDirectSuper&&this.raise(J.start,"super() call outside constructor of a subclass"),this.type!==v.dot&&this.type!==v.bracketL&&this.type!==v.parenL&&this.unexpected(),this.finishNode(J,"Super");case v._this:return J=this.startNode(),this.next(),this.finishNode(J,"ThisExpression");case v.name:var ve=this.start,ke=this.startLoc,Ue=this.containsEsc,et=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Ue&&et.name==="async"&&!this.canInsertSemicolon()&&this.eat(v._function))return this.overrideContext(At.f_expr),this.parseFunction(this.startNodeAt(ve,ke),0,!1,!0,V);if(oe&&!this.canInsertSemicolon()){if(this.eat(v.arrow))return this.parseArrowExpression(this.startNodeAt(ve,ke),[et],!1,V);if(this.options.ecmaVersion>=8&&et.name==="async"&&this.type===v.name&&!Ue&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return et=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(v.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ve,ke),[et],!0,V)}return et;case v.regexp:var gt=this.value;return J=this.parseLiteral(gt.value),J.regex={pattern:gt.pattern,flags:gt.flags},J;case v.num:case v.string:return this.parseLiteral(this.value);case v._null:case v._true:case v._false:return J=this.startNode(),J.value=this.type===v._null?null:this.type===v._true,J.raw=this.type.keyword,this.next(),this.finishNode(J,"Literal");case v.parenL:var St=this.start,Vt=this.parseParenAndDistinguishExpression(oe,V);return y&&(y.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Vt)&&(y.parenthesizedAssign=St),y.parenthesizedBind<0&&(y.parenthesizedBind=St)),Vt;case v.bracketL:return J=this.startNode(),this.next(),J.elements=this.parseExprList(v.bracketR,!0,!0,y),this.finishNode(J,"ArrayExpression");case v.braceL:return this.overrideContext(At.b_expr),this.parseObj(!1,y);case v._function:return J=this.startNode(),this.next(),this.parseFunction(J,0);case v._class:return this.parseClass(this.startNode(),!1);case v._new:return this.parseNew();case v.backQuote:return this.parseTemplate();case v._import:return this.options.ecmaVersion>=11?this.parseExprImport(K):this.unexpected();default:return this.parseExprAtomDefault()}},vt.parseExprAtomDefault=function(){this.unexpected()},vt.parseExprImport=function(y){var V=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===v.parenL&&!y)return this.parseDynamicImport(V);if(this.type===v.dot){var K=this.startNodeAt(V.start,V.loc&&V.loc.start);return K.name="import",V.meta=this.finishNode(K,"Identifier"),this.parseImportMeta(V)}else this.unexpected()},vt.parseDynamicImport=function(y){if(this.next(),y.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(v.parenR)?y.options=null:(this.expect(v.comma),this.afterTrailingComma(v.parenR)?y.options=null:(y.options=this.parseMaybeAssign(),this.eat(v.parenR)||(this.expect(v.comma),this.afterTrailingComma(v.parenR)||this.unexpected())));else if(!this.eat(v.parenR)){var V=this.start;this.eat(v.comma)&&this.eat(v.parenR)?this.raiseRecoverable(V,"Trailing comma is not allowed in import()"):this.unexpected(V)}return this.finishNode(y,"ImportExpression")},vt.parseImportMeta=function(y){this.next();var V=this.containsEsc;return y.property=this.parseIdent(!0),y.property.name!=="meta"&&this.raiseRecoverable(y.property.start,"The only valid meta property for import is 'import.meta'"),V&&this.raiseRecoverable(y.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(y.start,"Cannot use 'import.meta' outside a module"),this.finishNode(y,"MetaProperty")},vt.parseLiteral=function(y){var V=this.startNode();return V.value=y,V.raw=this.input.slice(this.start,this.end),V.raw.charCodeAt(V.raw.length-1)===110&&(V.bigint=V.value!=null?V.value.toString():V.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(V,"Literal")},vt.parseParenExpression=function(){this.expect(v.parenL);var y=this.parseExpression();return this.expect(v.parenR),y},vt.shouldParseArrow=function(y){return!this.canInsertSemicolon()},vt.parseParenAndDistinguishExpression=function(y,V){var K=this.start,J=this.startLoc,oe,ve=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var ke=this.start,Ue=this.startLoc,et=[],gt=!0,St=!1,Vt=new Ee,Te=this.yieldPos,le=this.awaitPos,_e;for(this.yieldPos=0,this.awaitPos=0;this.type!==v.parenR;)if(gt?gt=!1:this.expect(v.comma),ve&&this.afterTrailingComma(v.parenR,!0)){St=!0;break}else if(this.type===v.ellipsis){_e=this.start,et.push(this.parseParenItem(this.parseRestBinding())),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else et.push(this.parseMaybeAssign(!1,Vt,this.parseParenItem));var Ie=this.lastTokEnd,ft=this.lastTokEndLoc;if(this.expect(v.parenR),y&&this.shouldParseArrow(et)&&this.eat(v.arrow))return this.checkPatternErrors(Vt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Te,this.awaitPos=le,this.parseParenArrowList(K,J,et,V);(!et.length||St)&&this.unexpected(this.lastTokStart),_e&&this.unexpected(_e),this.checkExpressionErrors(Vt,!0),this.yieldPos=Te||this.yieldPos,this.awaitPos=le||this.awaitPos,et.length>1?(oe=this.startNodeAt(ke,Ue),oe.expressions=et,this.finishNodeAt(oe,"SequenceExpression",Ie,ft)):oe=et[0]}else oe=this.parseParenExpression();if(this.options.preserveParens){var Et=this.startNodeAt(K,J);return Et.expression=oe,this.finishNode(Et,"ParenthesizedExpression")}else return oe},vt.parseParenItem=function(y){return y},vt.parseParenArrowList=function(y,V,K,J){return this.parseArrowExpression(this.startNodeAt(y,V),K,!1,J)};var mr=[];vt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var y=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===v.dot){var V=this.startNodeAt(y.start,y.loc&&y.loc.start);V.name="new",y.meta=this.finishNode(V,"Identifier"),this.next();var K=this.containsEsc;return y.property=this.parseIdent(!0),y.property.name!=="target"&&this.raiseRecoverable(y.property.start,"The only valid meta property for new is 'new.target'"),K&&this.raiseRecoverable(y.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(y.start,"'new.target' can only be used in functions and class static block"),this.finishNode(y,"MetaProperty")}var J=this.start,oe=this.startLoc;return y.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),J,oe,!0,!1),this.eat(v.parenL)?y.arguments=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1):y.arguments=mr,this.finishNode(y,"NewExpression")},vt.parseTemplateElement=function(y){var V=y.isTagged,K=this.startNode();return this.type===v.invalidTemplate?(V||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),K.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):K.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),K.tail=this.type===v.backQuote,this.finishNode(K,"TemplateElement")},vt.parseTemplate=function(y){y===void 0&&(y={});var V=y.isTagged;V===void 0&&(V=!1);var K=this.startNode();this.next(),K.expressions=[];var J=this.parseTemplateElement({isTagged:V});for(K.quasis=[J];!J.tail;)this.type===v.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(v.dollarBraceL),K.expressions.push(this.parseExpression()),this.expect(v.braceR),K.quasis.push(J=this.parseTemplateElement({isTagged:V}));return this.next(),this.finishNode(K,"TemplateLiteral")},vt.isAsyncProp=function(y){return!y.computed&&y.key.type==="Identifier"&&y.key.name==="async"&&(this.type===v.name||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===v.star)&&!F.test(this.input.slice(this.lastTokEnd,this.start))},vt.parseObj=function(y,V){var K=this.startNode(),J=!0,oe={};for(K.properties=[],this.next();!this.eat(v.braceR);){if(J)J=!1;else if(this.expect(v.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(v.braceR))break;var ve=this.parseProperty(y,V);y||this.checkPropClash(ve,oe,V),K.properties.push(ve)}return this.finishNode(K,y?"ObjectPattern":"ObjectExpression")},vt.parseProperty=function(y,V){var K=this.startNode(),J,oe,ve,ke;if(this.options.ecmaVersion>=9&&this.eat(v.ellipsis))return y?(K.argument=this.parseIdent(!1),this.type===v.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(K,"RestElement")):(K.argument=this.parseMaybeAssign(!1,V),this.type===v.comma&&V&&V.trailingComma<0&&(V.trailingComma=this.start),this.finishNode(K,"SpreadElement"));this.options.ecmaVersion>=6&&(K.method=!1,K.shorthand=!1,(y||V)&&(ve=this.start,ke=this.startLoc),y||(J=this.eat(v.star)));var Ue=this.containsEsc;return this.parsePropertyName(K),!y&&!Ue&&this.options.ecmaVersion>=8&&!J&&this.isAsyncProp(K)?(oe=!0,J=this.options.ecmaVersion>=9&&this.eat(v.star),this.parsePropertyName(K)):oe=!1,this.parsePropertyValue(K,y,J,oe,ve,ke,V,Ue),this.finishNode(K,"Property")},vt.parseGetterSetter=function(y){var V=y.key.name;this.parsePropertyName(y),y.value=this.parseMethod(!1),y.kind=V;var K=y.kind==="get"?0:1;if(y.value.params.length!==K){var J=y.value.start;y.kind==="get"?this.raiseRecoverable(J,"getter should have no params"):this.raiseRecoverable(J,"setter should have exactly one param")}else y.kind==="set"&&y.value.params[0].type==="RestElement"&&this.raiseRecoverable(y.value.params[0].start,"Setter cannot use rest params")},vt.parsePropertyValue=function(y,V,K,J,oe,ve,ke,Ue){(K||J)&&this.type===v.colon&&this.unexpected(),this.eat(v.colon)?(y.value=V?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,ke),y.kind="init"):this.options.ecmaVersion>=6&&this.type===v.parenL?(V&&this.unexpected(),y.method=!0,y.value=this.parseMethod(K,J),y.kind="init"):!V&&!Ue&&this.options.ecmaVersion>=5&&!y.computed&&y.key.type==="Identifier"&&(y.key.name==="get"||y.key.name==="set")&&this.type!==v.comma&&this.type!==v.braceR&&this.type!==v.eq?((K||J)&&this.unexpected(),this.parseGetterSetter(y)):this.options.ecmaVersion>=6&&!y.computed&&y.key.type==="Identifier"?((K||J)&&this.unexpected(),this.checkUnreserved(y.key),y.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=oe),V?y.value=this.parseMaybeDefault(oe,ve,this.copyNode(y.key)):this.type===v.eq&&ke?(ke.shorthandAssign<0&&(ke.shorthandAssign=this.start),y.value=this.parseMaybeDefault(oe,ve,this.copyNode(y.key))):y.value=this.copyNode(y.key),y.kind="init",y.shorthand=!0):this.unexpected()},vt.parsePropertyName=function(y){if(this.options.ecmaVersion>=6){if(this.eat(v.bracketL))return y.computed=!0,y.key=this.parseMaybeAssign(),this.expect(v.bracketR),y.key;y.computed=!1}return y.key=this.type===v.num||this.type===v.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},vt.initFunction=function(y){y.id=null,this.options.ecmaVersion>=6&&(y.generator=y.expression=!1),this.options.ecmaVersion>=8&&(y.async=!1)},vt.parseMethod=function(y,V,K){var J=this.startNode(),oe=this.yieldPos,ve=this.awaitPos,ke=this.awaitIdentPos;return this.initFunction(J),this.options.ecmaVersion>=6&&(J.generator=y),this.options.ecmaVersion>=8&&(J.async=!!V),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nn(V,J.generator)|Je|(K?Ve:0)),this.expect(v.parenL),J.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(J,!1,!0,!1),this.yieldPos=oe,this.awaitPos=ve,this.awaitIdentPos=ke,this.finishNode(J,"FunctionExpression")},vt.parseArrowExpression=function(y,V,K,J){var oe=this.yieldPos,ve=this.awaitPos,ke=this.awaitIdentPos;return this.enterScope(nn(K,!1)|ge),this.initFunction(y),this.options.ecmaVersion>=8&&(y.async=!!K),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,y.params=this.toAssignableList(V,!0),this.parseFunctionBody(y,!0,!1,J),this.yieldPos=oe,this.awaitPos=ve,this.awaitIdentPos=ke,this.finishNode(y,"ArrowFunctionExpression")},vt.parseFunctionBody=function(y,V,K,J){var oe=V&&this.type!==v.braceL,ve=this.strict,ke=!1;if(oe)y.body=this.parseMaybeAssign(J),y.expression=!0,this.checkParams(y,!1);else{var Ue=this.options.ecmaVersion>=7&&!this.isSimpleParamList(y.params);(!ve||Ue)&&(ke=this.strictDirective(this.end),ke&&Ue&&this.raiseRecoverable(y.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var et=this.labels;this.labels=[],ke&&(this.strict=!0),this.checkParams(y,!ve&&!ke&&!V&&!K&&this.isSimpleParamList(y.params)),this.strict&&y.id&&this.checkLValSimple(y.id,zt),y.body=this.parseBlock(!1,void 0,ke&&!ve),y.expression=!1,this.adaptDirectivePrologue(y.body.body),this.labels=et}this.exitScope()},vt.isSimpleParamList=function(y){for(var V=0,K=y;V<K.length;V+=1){var J=K[V];if(J.type!=="Identifier")return!1}return!0},vt.checkParams=function(y,V){for(var K=Object.create(null),J=0,oe=y.params;J<oe.length;J+=1){var ve=oe[J];this.checkLValInnerPattern(ve,bn,V?null:K)}},vt.parseExprList=function(y,V,K,J){for(var oe=[],ve=!0;!this.eat(y);){if(ve)ve=!1;else if(this.expect(v.comma),V&&this.afterTrailingComma(y))break;var ke=void 0;K&&this.type===v.comma?ke=null:this.type===v.ellipsis?(ke=this.parseSpread(J),J&&this.type===v.comma&&J.trailingComma<0&&(J.trailingComma=this.start)):ke=this.parseMaybeAssign(!1,J),oe.push(ke)}return oe},vt.checkUnreserved=function(y){var V=y.start,K=y.end,J=y.name;if(this.inGenerator&&J==="yield"&&this.raiseRecoverable(V,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&J==="await"&&this.raiseRecoverable(V,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&Dt)&&J==="arguments"&&this.raiseRecoverable(V,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(J==="arguments"||J==="await")&&this.raise(V,"Cannot use "+J+" in class static initialization block"),this.keywords.test(J)&&this.raise(V,"Unexpected keyword '"+J+"'"),!(this.options.ecmaVersion<6&&this.input.slice(V,K).indexOf("\\")!==-1)){var oe=this.strict?this.reservedWordsStrict:this.reservedWords;oe.test(J)&&(!this.inAsync&&J==="await"&&this.raiseRecoverable(V,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(V,"The keyword '"+J+"' is reserved"))}},vt.parseIdent=function(y){var V=this.parseIdentNode();return this.next(!!y),this.finishNode(V,"Identifier"),y||(this.checkUnreserved(V),V.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=V.start)),V},vt.parseIdentNode=function(){var y=this.startNode();return this.type===v.name?y.name=this.value:this.type.keyword?(y.name=this.type.keyword,(y.name==="class"||y.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=v.name):this.unexpected(),y},vt.parsePrivateIdent=function(){var y=this.startNode();return this.type===v.privateId?y.name=this.value:this.unexpected(),this.next(),this.finishNode(y,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(y.start,"Private field '#"+y.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(y)),y},vt.parseYield=function(y){this.yieldPos||(this.yieldPos=this.start);var V=this.startNode();return this.next(),this.type===v.semi||this.canInsertSemicolon()||this.type!==v.star&&!this.type.startsExpr?(V.delegate=!1,V.argument=null):(V.delegate=this.eat(v.star),V.argument=this.parseMaybeAssign(y)),this.finishNode(V,"YieldExpression")},vt.parseAwait=function(y){this.awaitPos||(this.awaitPos=this.start);var V=this.startNode();return this.next(),V.argument=this.parseMaybeUnary(null,!0,!1,y),this.finishNode(V,"AwaitExpression")};var Tn=Ft.prototype;Tn.raise=function(y,V){var K=fe(this.input,y);V+=" ("+K.line+":"+K.column+")",this.sourceFile&&(V+=" in "+this.sourceFile);var J=new SyntaxError(V);throw J.pos=y,J.loc=K,J.raisedAt=this.pos,J},Tn.raiseRecoverable=Tn.raise,Tn.curPosition=function(){if(this.options.locations)return new ae(this.curLine,this.pos-this.lineStart)};var Ur=Ft.prototype,Lr=function(V){this.flags=V,this.var=[],this.lexical=[],this.functions=[]};Ur.enterScope=function(y){this.scopeStack.push(new Lr(y))},Ur.exitScope=function(){this.scopeStack.pop()},Ur.treatFunctionsAsVarInScope=function(y){return y.flags&Ne||!this.inModule&&y.flags&Oe},Ur.declareName=function(y,V,K){var J=!1;if(V===Be){var oe=this.currentScope();J=oe.lexical.indexOf(y)>-1||oe.functions.indexOf(y)>-1||oe.var.indexOf(y)>-1,oe.lexical.push(y),this.inModule&&oe.flags&Oe&&delete this.undefinedExports[y]}else if(V===Mt){var ve=this.currentScope();ve.lexical.push(y)}else if(V===He){var ke=this.currentScope();this.treatFunctionsAsVar?J=ke.lexical.indexOf(y)>-1:J=ke.lexical.indexOf(y)>-1||ke.var.indexOf(y)>-1,ke.functions.push(y)}else for(var Ue=this.scopeStack.length-1;Ue>=0;--Ue){var et=this.scopeStack[Ue];if(et.lexical.indexOf(y)>-1&&!(et.flags&Pe&&et.lexical[0]===y)||!this.treatFunctionsAsVarInScope(et)&&et.functions.indexOf(y)>-1){J=!0;break}if(et.var.push(y),this.inModule&&et.flags&Oe&&delete this.undefinedExports[y],et.flags&Dt)break}J&&this.raiseRecoverable(K,"Identifier '"+y+"' has already been declared")},Ur.checkLocalExport=function(y){this.scopeStack[0].lexical.indexOf(y.name)===-1&&this.scopeStack[0].var.indexOf(y.name)===-1&&(this.undefinedExports[y.name]=y)},Ur.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Ur.currentVarScope=function(){for(var y=this.scopeStack.length-1;;y--){var V=this.scopeStack[y];if(V.flags&(Dt|Ot|Tt))return V}},Ur.currentThisScope=function(){for(var y=this.scopeStack.length-1;;y--){var V=this.scopeStack[y];if(V.flags&(Dt|Ot|Tt)&&!(V.flags&ge))return V}};var gr=function(V,K,J){this.type="",this.start=K,this.end=0,V.options.locations&&(this.loc=new re(V,J)),V.options.directSourceFile&&(this.sourceFile=V.options.directSourceFile),V.options.ranges&&(this.range=[K,0])},_r=Ft.prototype;_r.startNode=function(){return new gr(this,this.start,this.startLoc)},_r.startNodeAt=function(y,V){return new gr(this,y,V)};function ai(y,V,K,J){return y.type=V,y.end=K,this.options.locations&&(y.loc.end=J),this.options.ranges&&(y.range[1]=K),y}_r.finishNode=function(y,V){return ai.call(this,y,V,this.lastTokEnd,this.lastTokEndLoc)},_r.finishNodeAt=function(y,V,K,J){return ai.call(this,y,V,K,J)},_r.copyNode=function(y){var V=new gr(this,y.start,this.startLoc);for(var K in y)V[K]=y[K];return V};var yr="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",vr="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ti=vr+" Extended_Pictographic",It=ti,pn=It+" EBase EComp EMod EPres ExtPict",Vn=pn,lr=Vn,ur={9:vr,10:ti,11:It,12:pn,13:Vn,14:lr},us="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ki={9:"",10:"",11:"",12:"",13:"",14:us},fi="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",qr="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ni=qr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Gn=ni+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Xn=Gn+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Er=Xn+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",cr=Er+" "+yr,$n={9:qr,10:ni,11:Gn,12:Xn,13:Er,14:cr},Ir={};function Yt(y){var V=Ir[y]={binary:ee(ur[y]+" "+fi),binaryOfStrings:ee(ki[y]),nonBinary:{General_Category:ee(fi),Script:ee($n[y])}};V.nonBinary.Script_Extensions=V.nonBinary.Script,V.nonBinary.gc=V.nonBinary.General_Category,V.nonBinary.sc=V.nonBinary.Script,V.nonBinary.scx=V.nonBinary.Script_Extensions}for(var nr=0,Dr=[9,10,11,12,13,14];nr<Dr.length;nr+=1){var kt=Dr[nr];Yt(kt)}var $t=Ft.prototype,Qn=function(V,K){this.parent=V,this.base=K||this};Qn.prototype.separatedFrom=function(V){for(var K=this;K;K=K.parent)for(var J=V;J;J=J.parent)if(K.base===J.base&&K!==J)return!0;return!1},Qn.prototype.sibling=function(){return new Qn(this.parent,this.base)};var Tr=function(V){this.parser=V,this.validFlags="gim"+(V.options.ecmaVersion>=6?"uy":"")+(V.options.ecmaVersion>=9?"s":"")+(V.options.ecmaVersion>=13?"d":"")+(V.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ir[V.options.ecmaVersion>=14?14:V.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Tr.prototype.reset=function(V,K,J){var oe=J.indexOf("v")!==-1,ve=J.indexOf("u")!==-1;this.start=V|0,this.source=K+"",this.flags=J,oe&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=ve&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=ve&&this.parser.options.ecmaVersion>=9)},Tr.prototype.raise=function(V){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+V)},Tr.prototype.at=function(V,K){K===void 0&&(K=!1);var J=this.source,oe=J.length;if(V>=oe)return-1;var ve=J.charCodeAt(V);if(!(K||this.switchU)||ve<=55295||ve>=57344||V+1>=oe)return ve;var ke=J.charCodeAt(V+1);return ke>=56320&&ke<=57343?(ve<<10)+ke-56613888:ve},Tr.prototype.nextIndex=function(V,K){K===void 0&&(K=!1);var J=this.source,oe=J.length;if(V>=oe)return oe;var ve=J.charCodeAt(V),ke;return!(K||this.switchU)||ve<=55295||ve>=57344||V+1>=oe||(ke=J.charCodeAt(V+1))<56320||ke>57343?V+1:V+2},Tr.prototype.current=function(V){return V===void 0&&(V=!1),this.at(this.pos,V)},Tr.prototype.lookahead=function(V){return V===void 0&&(V=!1),this.at(this.nextIndex(this.pos,V),V)},Tr.prototype.advance=function(V){V===void 0&&(V=!1),this.pos=this.nextIndex(this.pos,V)},Tr.prototype.eat=function(V,K){return K===void 0&&(K=!1),this.current(K)===V?(this.advance(K),!0):!1},Tr.prototype.eatChars=function(V,K){K===void 0&&(K=!1);for(var J=this.pos,oe=0,ve=V;oe<ve.length;oe+=1){var ke=ve[oe],Ue=this.at(J,K);if(Ue===-1||Ue!==ke)return!1;J=this.nextIndex(J,K)}return this.pos=J,!0},$t.validateRegExpFlags=function(y){for(var V=y.validFlags,K=y.flags,J=!1,oe=!1,ve=0;ve<K.length;ve++){var ke=K.charAt(ve);V.indexOf(ke)===-1&&this.raise(y.start,"Invalid regular expression flag"),K.indexOf(ke,ve+1)>-1&&this.raise(y.start,"Duplicate regular expression flag"),ke==="u"&&(J=!0),ke==="v"&&(oe=!0)}this.options.ecmaVersion>=15&&J&&oe&&this.raise(y.start,"Invalid regular expression flag")};function z(y){for(var V in y)return!0;return!1}$t.validateRegExpPattern=function(y){this.regexp_pattern(y),!y.switchN&&this.options.ecmaVersion>=9&&z(y.groupNames)&&(y.switchN=!0,this.regexp_pattern(y))},$t.regexp_pattern=function(y){y.pos=0,y.lastIntValue=0,y.lastStringValue="",y.lastAssertionIsQuantifiable=!1,y.numCapturingParens=0,y.maxBackReference=0,y.groupNames=Object.create(null),y.backReferenceNames.length=0,y.branchID=null,this.regexp_disjunction(y),y.pos!==y.source.length&&(y.eat(41)&&y.raise("Unmatched ')'"),(y.eat(93)||y.eat(125))&&y.raise("Lone quantifier brackets")),y.maxBackReference>y.numCapturingParens&&y.raise("Invalid escape");for(var V=0,K=y.backReferenceNames;V<K.length;V+=1){var J=K[V];y.groupNames[J]||y.raise("Invalid named capture referenced")}},$t.regexp_disjunction=function(y){var V=this.options.ecmaVersion>=16;for(V&&(y.branchID=new Qn(y.branchID,null)),this.regexp_alternative(y);y.eat(124);)V&&(y.branchID=y.branchID.sibling()),this.regexp_alternative(y);V&&(y.branchID=y.branchID.parent),this.regexp_eatQuantifier(y,!0)&&y.raise("Nothing to repeat"),y.eat(123)&&y.raise("Lone quantifier brackets")},$t.regexp_alternative=function(y){for(;y.pos<y.source.length&&this.regexp_eatTerm(y););},$t.regexp_eatTerm=function(y){return this.regexp_eatAssertion(y)?(y.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(y)&&y.switchU&&y.raise("Invalid quantifier"),!0):(y.switchU?this.regexp_eatAtom(y):this.regexp_eatExtendedAtom(y))?(this.regexp_eatQuantifier(y),!0):!1},$t.regexp_eatAssertion=function(y){var V=y.pos;if(y.lastAssertionIsQuantifiable=!1,y.eat(94)||y.eat(36))return!0;if(y.eat(92)){if(y.eat(66)||y.eat(98))return!0;y.pos=V}if(y.eat(40)&&y.eat(63)){var K=!1;if(this.options.ecmaVersion>=9&&(K=y.eat(60)),y.eat(61)||y.eat(33))return this.regexp_disjunction(y),y.eat(41)||y.raise("Unterminated group"),y.lastAssertionIsQuantifiable=!K,!0}return y.pos=V,!1},$t.regexp_eatQuantifier=function(y,V){return V===void 0&&(V=!1),this.regexp_eatQuantifierPrefix(y,V)?(y.eat(63),!0):!1},$t.regexp_eatQuantifierPrefix=function(y,V){return y.eat(42)||y.eat(43)||y.eat(63)||this.regexp_eatBracedQuantifier(y,V)},$t.regexp_eatBracedQuantifier=function(y,V){var K=y.pos;if(y.eat(123)){var J=0,oe=-1;if(this.regexp_eatDecimalDigits(y)&&(J=y.lastIntValue,y.eat(44)&&this.regexp_eatDecimalDigits(y)&&(oe=y.lastIntValue),y.eat(125)))return oe!==-1&&oe<J&&!V&&y.raise("numbers out of order in {} quantifier"),!0;y.switchU&&!V&&y.raise("Incomplete quantifier"),y.pos=K}return!1},$t.regexp_eatAtom=function(y){return this.regexp_eatPatternCharacters(y)||y.eat(46)||this.regexp_eatReverseSolidusAtomEscape(y)||this.regexp_eatCharacterClass(y)||this.regexp_eatUncapturingGroup(y)||this.regexp_eatCapturingGroup(y)},$t.regexp_eatReverseSolidusAtomEscape=function(y){var V=y.pos;if(y.eat(92)){if(this.regexp_eatAtomEscape(y))return!0;y.pos=V}return!1},$t.regexp_eatUncapturingGroup=function(y){var V=y.pos;if(y.eat(40)){if(y.eat(63)){if(this.options.ecmaVersion>=16){var K=this.regexp_eatModifiers(y),J=y.eat(45);if(K||J){for(var oe=0;oe<K.length;oe++){var ve=K.charAt(oe);K.indexOf(ve,oe+1)>-1&&y.raise("Duplicate regular expression modifiers")}if(J){var ke=this.regexp_eatModifiers(y);!K&&!ke&&y.current()===58&&y.raise("Invalid regular expression modifiers");for(var Ue=0;Ue<ke.length;Ue++){var et=ke.charAt(Ue);(ke.indexOf(et,Ue+1)>-1||K.indexOf(et)>-1)&&y.raise("Duplicate regular expression modifiers")}}}}if(y.eat(58)){if(this.regexp_disjunction(y),y.eat(41))return!0;y.raise("Unterminated group")}}y.pos=V}return!1},$t.regexp_eatCapturingGroup=function(y){if(y.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(y):y.current()===63&&y.raise("Invalid group"),this.regexp_disjunction(y),y.eat(41))return y.numCapturingParens+=1,!0;y.raise("Unterminated group")}return!1},$t.regexp_eatModifiers=function(y){for(var V="",K=0;(K=y.current())!==-1&&Z(K);)V+=ie(K),y.advance();return V};function Z(y){return y===105||y===109||y===115}$t.regexp_eatExtendedAtom=function(y){return y.eat(46)||this.regexp_eatReverseSolidusAtomEscape(y)||this.regexp_eatCharacterClass(y)||this.regexp_eatUncapturingGroup(y)||this.regexp_eatCapturingGroup(y)||this.regexp_eatInvalidBracedQuantifier(y)||this.regexp_eatExtendedPatternCharacter(y)},$t.regexp_eatInvalidBracedQuantifier=function(y){return this.regexp_eatBracedQuantifier(y,!0)&&y.raise("Nothing to repeat"),!1},$t.regexp_eatSyntaxCharacter=function(y){var V=y.current();return ue(V)?(y.lastIntValue=V,y.advance(),!0):!1};function ue(y){return y===36||y>=40&&y<=43||y===46||y===63||y>=91&&y<=94||y>=123&&y<=125}$t.regexp_eatPatternCharacters=function(y){for(var V=y.pos,K=0;(K=y.current())!==-1&&!ue(K);)y.advance();return y.pos!==V},$t.regexp_eatExtendedPatternCharacter=function(y){var V=y.current();return V!==-1&&V!==36&&!(V>=40&&V<=43)&&V!==46&&V!==63&&V!==91&&V!==94&&V!==124?(y.advance(),!0):!1},$t.regexp_groupSpecifier=function(y){if(y.eat(63)){this.regexp_eatGroupName(y)||y.raise("Invalid group");var V=this.options.ecmaVersion>=16,K=y.groupNames[y.lastStringValue];if(K)if(V)for(var J=0,oe=K;J<oe.length;J+=1){var ve=oe[J];ve.separatedFrom(y.branchID)||y.raise("Duplicate capture group name")}else y.raise("Duplicate capture group name");V?(K||(y.groupNames[y.lastStringValue]=[])).push(y.branchID):y.groupNames[y.lastStringValue]=!0}},$t.regexp_eatGroupName=function(y){if(y.lastStringValue="",y.eat(60)){if(this.regexp_eatRegExpIdentifierName(y)&&y.eat(62))return!0;y.raise("Invalid capture group name")}return!1},$t.regexp_eatRegExpIdentifierName=function(y){if(y.lastStringValue="",this.regexp_eatRegExpIdentifierStart(y)){for(y.lastStringValue+=ie(y.lastIntValue);this.regexp_eatRegExpIdentifierPart(y);)y.lastStringValue+=ie(y.lastIntValue);return!0}return!1},$t.regexp_eatRegExpIdentifierStart=function(y){var V=y.pos,K=this.options.ecmaVersion>=11,J=y.current(K);return y.advance(K),J===92&&this.regexp_eatRegExpUnicodeEscapeSequence(y,K)&&(J=y.lastIntValue),ye(J)?(y.lastIntValue=J,!0):(y.pos=V,!1)};function ye(y){return f(y,!0)||y===36||y===95}$t.regexp_eatRegExpIdentifierPart=function(y){var V=y.pos,K=this.options.ecmaVersion>=11,J=y.current(K);return y.advance(K),J===92&&this.regexp_eatRegExpUnicodeEscapeSequence(y,K)&&(J=y.lastIntValue),Re(J)?(y.lastIntValue=J,!0):(y.pos=V,!1)};function Re(y){return m(y,!0)||y===36||y===95||y===8204||y===8205}$t.regexp_eatAtomEscape=function(y){return this.regexp_eatBackReference(y)||this.regexp_eatCharacterClassEscape(y)||this.regexp_eatCharacterEscape(y)||y.switchN&&this.regexp_eatKGroupName(y)?!0:(y.switchU&&(y.current()===99&&y.raise("Invalid unicode escape"),y.raise("Invalid escape")),!1)},$t.regexp_eatBackReference=function(y){var V=y.pos;if(this.regexp_eatDecimalEscape(y)){var K=y.lastIntValue;if(y.switchU)return K>y.maxBackReference&&(y.maxBackReference=K),!0;if(K<=y.numCapturingParens)return!0;y.pos=V}return!1},$t.regexp_eatKGroupName=function(y){if(y.eat(107)){if(this.regexp_eatGroupName(y))return y.backReferenceNames.push(y.lastStringValue),!0;y.raise("Invalid named reference")}return!1},$t.regexp_eatCharacterEscape=function(y){return this.regexp_eatControlEscape(y)||this.regexp_eatCControlLetter(y)||this.regexp_eatZero(y)||this.regexp_eatHexEscapeSequence(y)||this.regexp_eatRegExpUnicodeEscapeSequence(y,!1)||!y.switchU&&this.regexp_eatLegacyOctalEscapeSequence(y)||this.regexp_eatIdentityEscape(y)},$t.regexp_eatCControlLetter=function(y){var V=y.pos;if(y.eat(99)){if(this.regexp_eatControlLetter(y))return!0;y.pos=V}return!1},$t.regexp_eatZero=function(y){return y.current()===48&&!ir(y.lookahead())?(y.lastIntValue=0,y.advance(),!0):!1},$t.regexp_eatControlEscape=function(y){var V=y.current();return V===116?(y.lastIntValue=9,y.advance(),!0):V===110?(y.lastIntValue=10,y.advance(),!0):V===118?(y.lastIntValue=11,y.advance(),!0):V===102?(y.lastIntValue=12,y.advance(),!0):V===114?(y.lastIntValue=13,y.advance(),!0):!1},$t.regexp_eatControlLetter=function(y){var V=y.current();return qe(V)?(y.lastIntValue=V%32,y.advance(),!0):!1};function qe(y){return y>=65&&y<=90||y>=97&&y<=122}$t.regexp_eatRegExpUnicodeEscapeSequence=function(y,V){V===void 0&&(V=!1);var K=y.pos,J=V||y.switchU;if(y.eat(117)){if(this.regexp_eatFixedHexDigits(y,4)){var oe=y.lastIntValue;if(J&&oe>=55296&&oe<=56319){var ve=y.pos;if(y.eat(92)&&y.eat(117)&&this.regexp_eatFixedHexDigits(y,4)){var ke=y.lastIntValue;if(ke>=56320&&ke<=57343)return y.lastIntValue=(oe-55296)*1024+(ke-56320)+65536,!0}y.pos=ve,y.lastIntValue=oe}return!0}if(J&&y.eat(123)&&this.regexp_eatHexDigits(y)&&y.eat(125)&&rt(y.lastIntValue))return!0;J&&y.raise("Invalid unicode escape"),y.pos=K}return!1};function rt(y){return y>=0&&y<=1114111}$t.regexp_eatIdentityEscape=function(y){if(y.switchU)return this.regexp_eatSyntaxCharacter(y)?!0:y.eat(47)?(y.lastIntValue=47,!0):!1;var V=y.current();return V!==99&&(!y.switchN||V!==107)?(y.lastIntValue=V,y.advance(),!0):!1},$t.regexp_eatDecimalEscape=function(y){y.lastIntValue=0;var V=y.current();if(V>=49&&V<=57){do y.lastIntValue=10*y.lastIntValue+(V-48),y.advance();while((V=y.current())>=48&&V<=57);return!0}return!1};var xt=0,Ct=1,qt=2;$t.regexp_eatCharacterClassEscape=function(y){var V=y.current();if(dn(V))return y.lastIntValue=-1,y.advance(),Ct;var K=!1;if(y.switchU&&this.options.ecmaVersion>=9&&((K=V===80)||V===112)){y.lastIntValue=-1,y.advance();var J;if(y.eat(123)&&(J=this.regexp_eatUnicodePropertyValueExpression(y))&&y.eat(125))return K&&J===qt&&y.raise("Invalid property name"),J;y.raise("Invalid property name")}return xt};function dn(y){return y===100||y===68||y===115||y===83||y===119||y===87}$t.regexp_eatUnicodePropertyValueExpression=function(y){var V=y.pos;if(this.regexp_eatUnicodePropertyName(y)&&y.eat(61)){var K=y.lastStringValue;if(this.regexp_eatUnicodePropertyValue(y)){var J=y.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(y,K,J),Ct}}if(y.pos=V,this.regexp_eatLoneUnicodePropertyNameOrValue(y)){var oe=y.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(y,oe)}return xt},$t.regexp_validateUnicodePropertyNameAndValue=function(y,V,K){H(y.unicodeProperties.nonBinary,V)||y.raise("Invalid property name"),y.unicodeProperties.nonBinary[V].test(K)||y.raise("Invalid property value")},$t.regexp_validateUnicodePropertyNameOrValue=function(y,V){if(y.unicodeProperties.binary.test(V))return Ct;if(y.switchV&&y.unicodeProperties.binaryOfStrings.test(V))return qt;y.raise("Invalid property name")},$t.regexp_eatUnicodePropertyName=function(y){var V=0;for(y.lastStringValue="";rr(V=y.current());)y.lastStringValue+=ie(V),y.advance();return y.lastStringValue!==""};function rr(y){return qe(y)||y===95}$t.regexp_eatUnicodePropertyValue=function(y){var V=0;for(y.lastStringValue="";br(V=y.current());)y.lastStringValue+=ie(V),y.advance();return y.lastStringValue!==""};function br(y){return rr(y)||ir(y)}$t.regexp_eatLoneUnicodePropertyNameOrValue=function(y){return this.regexp_eatUnicodePropertyValue(y)},$t.regexp_eatCharacterClass=function(y){if(y.eat(91)){var V=y.eat(94),K=this.regexp_classContents(y);return y.eat(93)||y.raise("Unterminated character class"),V&&K===qt&&y.raise("Negated character class may contain strings"),!0}return!1},$t.regexp_classContents=function(y){return y.current()===93?Ct:y.switchV?this.regexp_classSetExpression(y):(this.regexp_nonEmptyClassRanges(y),Ct)},$t.regexp_nonEmptyClassRanges=function(y){for(;this.regexp_eatClassAtom(y);){var V=y.lastIntValue;if(y.eat(45)&&this.regexp_eatClassAtom(y)){var K=y.lastIntValue;y.switchU&&(V===-1||K===-1)&&y.raise("Invalid character class"),V!==-1&&K!==-1&&V>K&&y.raise("Range out of order in character class")}}},$t.regexp_eatClassAtom=function(y){var V=y.pos;if(y.eat(92)){if(this.regexp_eatClassEscape(y))return!0;if(y.switchU){var K=y.current();(K===99||oi(K))&&y.raise("Invalid class escape"),y.raise("Invalid escape")}y.pos=V}var J=y.current();return J!==93?(y.lastIntValue=J,y.advance(),!0):!1},$t.regexp_eatClassEscape=function(y){var V=y.pos;if(y.eat(98))return y.lastIntValue=8,!0;if(y.switchU&&y.eat(45))return y.lastIntValue=45,!0;if(!y.switchU&&y.eat(99)){if(this.regexp_eatClassControlLetter(y))return!0;y.pos=V}return this.regexp_eatCharacterClassEscape(y)||this.regexp_eatCharacterEscape(y)},$t.regexp_classSetExpression=function(y){var V=Ct,K;if(!this.regexp_eatClassSetRange(y))if(K=this.regexp_eatClassSetOperand(y)){K===qt&&(V=qt);for(var J=y.pos;y.eatChars([38,38]);){if(y.current()!==38&&(K=this.regexp_eatClassSetOperand(y))){K!==qt&&(V=Ct);continue}y.raise("Invalid character in character class")}if(J!==y.pos)return V;for(;y.eatChars([45,45]);)this.regexp_eatClassSetOperand(y)||y.raise("Invalid character in character class");if(J!==y.pos)return V}else y.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(y)){if(K=this.regexp_eatClassSetOperand(y),!K)return V;K===qt&&(V=qt)}},$t.regexp_eatClassSetRange=function(y){var V=y.pos;if(this.regexp_eatClassSetCharacter(y)){var K=y.lastIntValue;if(y.eat(45)&&this.regexp_eatClassSetCharacter(y)){var J=y.lastIntValue;return K!==-1&&J!==-1&&K>J&&y.raise("Range out of order in character class"),!0}y.pos=V}return!1},$t.regexp_eatClassSetOperand=function(y){return this.regexp_eatClassSetCharacter(y)?Ct:this.regexp_eatClassStringDisjunction(y)||this.regexp_eatNestedClass(y)},$t.regexp_eatNestedClass=function(y){var V=y.pos;if(y.eat(91)){var K=y.eat(94),J=this.regexp_classContents(y);if(y.eat(93))return K&&J===qt&&y.raise("Negated character class may contain strings"),J;y.pos=V}if(y.eat(92)){var oe=this.regexp_eatCharacterClassEscape(y);if(oe)return oe;y.pos=V}return null},$t.regexp_eatClassStringDisjunction=function(y){var V=y.pos;if(y.eatChars([92,113])){if(y.eat(123)){var K=this.regexp_classStringDisjunctionContents(y);if(y.eat(125))return K}else y.raise("Invalid escape");y.pos=V}return null},$t.regexp_classStringDisjunctionContents=function(y){for(var V=this.regexp_classString(y);y.eat(124);)this.regexp_classString(y)===qt&&(V=qt);return V},$t.regexp_classString=function(y){for(var V=0;this.regexp_eatClassSetCharacter(y);)V++;return V===1?Ct:qt},$t.regexp_eatClassSetCharacter=function(y){var V=y.pos;if(y.eat(92))return this.regexp_eatCharacterEscape(y)||this.regexp_eatClassSetReservedPunctuator(y)?!0:y.eat(98)?(y.lastIntValue=8,!0):(y.pos=V,!1);var K=y.current();return K<0||K===y.lookahead()&&Or(K)||Yr(K)?!1:(y.advance(),y.lastIntValue=K,!0)};function Or(y){return y===33||y>=35&&y<=38||y>=42&&y<=44||y===46||y>=58&&y<=64||y===94||y===96||y===126}function Yr(y){return y===40||y===41||y===45||y===47||y>=91&&y<=93||y>=123&&y<=125}$t.regexp_eatClassSetReservedPunctuator=function(y){var V=y.current();return jr(V)?(y.lastIntValue=V,y.advance(),!0):!1};function jr(y){return y===33||y===35||y===37||y===38||y===44||y===45||y>=58&&y<=62||y===64||y===96||y===126}$t.regexp_eatClassControlLetter=function(y){var V=y.current();return ir(V)||V===95?(y.lastIntValue=V%32,y.advance(),!0):!1},$t.regexp_eatHexEscapeSequence=function(y){var V=y.pos;if(y.eat(120)){if(this.regexp_eatFixedHexDigits(y,2))return!0;y.switchU&&y.raise("Invalid escape"),y.pos=V}return!1},$t.regexp_eatDecimalDigits=function(y){var V=y.pos,K=0;for(y.lastIntValue=0;ir(K=y.current());)y.lastIntValue=10*y.lastIntValue+(K-48),y.advance();return y.pos!==V};function ir(y){return y>=48&&y<=57}$t.regexp_eatHexDigits=function(y){var V=y.pos,K=0;for(y.lastIntValue=0;Kn(K=y.current());)y.lastIntValue=16*y.lastIntValue+Gi(K),y.advance();return y.pos!==V};function Kn(y){return y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102}function Gi(y){return y>=65&&y<=70?10+(y-65):y>=97&&y<=102?10+(y-97):y-48}$t.regexp_eatLegacyOctalEscapeSequence=function(y){if(this.regexp_eatOctalDigit(y)){var V=y.lastIntValue;if(this.regexp_eatOctalDigit(y)){var K=y.lastIntValue;V<=3&&this.regexp_eatOctalDigit(y)?y.lastIntValue=V*64+K*8+y.lastIntValue:y.lastIntValue=V*8+K}else y.lastIntValue=V;return!0}return!1},$t.regexp_eatOctalDigit=function(y){var V=y.current();return oi(V)?(y.lastIntValue=V-48,y.advance(),!0):(y.lastIntValue=0,!1)};function oi(y){return y>=48&&y<=55}$t.regexp_eatFixedHexDigits=function(y,V){var K=y.pos;y.lastIntValue=0;for(var J=0;J<V;++J){var oe=y.current();if(!Kn(oe))return y.pos=K,!1;y.lastIntValue=16*y.lastIntValue+Gi(oe),y.advance()}return!0};var Wt=function(V){this.type=V.type,this.value=V.value,this.start=V.start,this.end=V.end,V.options.locations&&(this.loc=new re(V,V.startLoc,V.endLoc)),V.options.ranges&&(this.range=[V.start,V.end])},tn=Ft.prototype;tn.next=function(y){!y&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Wt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},tn.getToken=function(){return this.next(),new Wt(this)},typeof Symbol<"u"&&(tn[Symbol.iterator]=function(){var y=this;return{next:function(){var V=y.getToken();return{done:V.type===v.eof,value:V}}}}),tn.nextToken=function(){var y=this.curContext();if((!y||!y.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(v.eof);if(y.override)return y.override(this);this.readToken(this.fullCharCodeAtPos())},tn.readToken=function(y){return f(y,this.options.ecmaVersion>=6)||y===92?this.readWord():this.getTokenFromCode(y)},tn.fullCharCodeAtPos=function(){var y=this.input.charCodeAt(this.pos);if(y<=55295||y>=56320)return y;var V=this.input.charCodeAt(this.pos+1);return V<=56319||V>=57344?y:(y<<10)+V-56613888},tn.skipBlockComment=function(){var y=this.options.onComment&&this.curPosition(),V=this.pos,K=this.input.indexOf("*/",this.pos+=2);if(K===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=K+2,this.options.locations)for(var J=void 0,oe=V;(J=$(this.input,oe,this.pos))>-1;)++this.curLine,oe=this.lineStart=J;this.options.onComment&&this.options.onComment(!0,this.input.slice(V+2,K),V,this.pos,y,this.curPosition())},tn.skipLineComment=function(y){for(var V=this.pos,K=this.options.onComment&&this.curPosition(),J=this.input.charCodeAt(this.pos+=y);this.pos<this.input.length&&!A(J);)J=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(V+y,this.pos),V,this.pos,K,this.curPosition())},tn.skipSpace=function(){e:for(;this.pos<this.input.length;){var y=this.input.charCodeAt(this.pos);switch(y){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(y>8&&y<14||y>=5760&&P.test(String.fromCharCode(y)))++this.pos;else break e}}},tn.finishToken=function(y,V){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var K=this.type;this.type=y,this.value=V,this.updateContext(K)},tn.readToken_dot=function(){var y=this.input.charCodeAt(this.pos+1);if(y>=48&&y<=57)return this.readNumber(!0);var V=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&y===46&&V===46?(this.pos+=3,this.finishToken(v.ellipsis)):(++this.pos,this.finishToken(v.dot))},tn.readToken_slash=function(){var y=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):y===61?this.finishOp(v.assign,2):this.finishOp(v.slash,1)},tn.readToken_mult_modulo_exp=function(y){var V=this.input.charCodeAt(this.pos+1),K=1,J=y===42?v.star:v.modulo;return this.options.ecmaVersion>=7&&y===42&&V===42&&(++K,J=v.starstar,V=this.input.charCodeAt(this.pos+2)),V===61?this.finishOp(v.assign,K+1):this.finishOp(J,K)},tn.readToken_pipe_amp=function(y){var V=this.input.charCodeAt(this.pos+1);if(V===y){if(this.options.ecmaVersion>=12){var K=this.input.charCodeAt(this.pos+2);if(K===61)return this.finishOp(v.assign,3)}return this.finishOp(y===124?v.logicalOR:v.logicalAND,2)}return V===61?this.finishOp(v.assign,2):this.finishOp(y===124?v.bitwiseOR:v.bitwiseAND,1)},tn.readToken_caret=function(){var y=this.input.charCodeAt(this.pos+1);return y===61?this.finishOp(v.assign,2):this.finishOp(v.bitwiseXOR,1)},tn.readToken_plus_min=function(y){var V=this.input.charCodeAt(this.pos+1);return V===y?V===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||F.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(v.incDec,2):V===61?this.finishOp(v.assign,2):this.finishOp(v.plusMin,1)},tn.readToken_lt_gt=function(y){var V=this.input.charCodeAt(this.pos+1),K=1;return V===y?(K=y===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+K)===61?this.finishOp(v.assign,K+1):this.finishOp(v.bitShift,K)):V===33&&y===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(V===61&&(K=2),this.finishOp(v.relational,K))},tn.readToken_eq_excl=function(y){var V=this.input.charCodeAt(this.pos+1);return V===61?this.finishOp(v.equality,this.input.charCodeAt(this.pos+2)===61?3:2):y===61&&V===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(v.arrow)):this.finishOp(y===61?v.eq:v.prefix,1)},tn.readToken_question=function(){var y=this.options.ecmaVersion;if(y>=11){var V=this.input.charCodeAt(this.pos+1);if(V===46){var K=this.input.charCodeAt(this.pos+2);if(K<48||K>57)return this.finishOp(v.questionDot,2)}if(V===63){if(y>=12){var J=this.input.charCodeAt(this.pos+2);if(J===61)return this.finishOp(v.assign,3)}return this.finishOp(v.coalesce,2)}}return this.finishOp(v.question,1)},tn.readToken_numberSign=function(){var y=this.options.ecmaVersion,V=35;if(y>=13&&(++this.pos,V=this.fullCharCodeAtPos(),f(V,!0)||V===92))return this.finishToken(v.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ie(V)+"'")},tn.getTokenFromCode=function(y){switch(y){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(v.parenL);case 41:return++this.pos,this.finishToken(v.parenR);case 59:return++this.pos,this.finishToken(v.semi);case 44:return++this.pos,this.finishToken(v.comma);case 91:return++this.pos,this.finishToken(v.bracketL);case 93:return++this.pos,this.finishToken(v.bracketR);case 123:return++this.pos,this.finishToken(v.braceL);case 125:return++this.pos,this.finishToken(v.braceR);case 58:return++this.pos,this.finishToken(v.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(v.backQuote);case 48:var V=this.input.charCodeAt(this.pos+1);if(V===120||V===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(V===111||V===79)return this.readRadixNumber(8);if(V===98||V===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(y);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(y);case 124:case 38:return this.readToken_pipe_amp(y);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(y);case 60:case 62:return this.readToken_lt_gt(y);case 61:case 33:return this.readToken_eq_excl(y);case 63:return this.readToken_question();case 126:return this.finishOp(v.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ie(y)+"'")},tn.finishOp=function(y,V){var K=this.input.slice(this.pos,this.pos+V);return this.pos+=V,this.finishToken(y,K)},tn.readRegexp=function(){for(var y,V,K=this.pos;;){this.pos>=this.input.length&&this.raise(K,"Unterminated regular expression");var J=this.input.charAt(this.pos);if(F.test(J)&&this.raise(K,"Unterminated regular expression"),y)y=!1;else{if(J==="[")V=!0;else if(J==="]"&&V)V=!1;else if(J==="/"&&!V)break;y=J==="\\"}++this.pos}var oe=this.input.slice(K,this.pos);++this.pos;var ve=this.pos,ke=this.readWord1();this.containsEsc&&this.unexpected(ve);var Ue=this.regexpState||(this.regexpState=new Tr(this));Ue.reset(K,oe,ke),this.validateRegExpFlags(Ue),this.validateRegExpPattern(Ue);var et=null;try{et=new RegExp(oe,ke)}catch{}return this.finishToken(v.regexp,{pattern:oe,flags:ke,value:et})},tn.readInt=function(y,V,K){for(var J=this.options.ecmaVersion>=12&&V===void 0,oe=K&&this.input.charCodeAt(this.pos)===48,ve=this.pos,ke=0,Ue=0,et=0,gt=V??1/0;et<gt;++et,++this.pos){var St=this.input.charCodeAt(this.pos),Vt=void 0;if(J&&St===95){oe&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Ue===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),et===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Ue=St;continue}if(St>=97?Vt=St-97+10:St>=65?Vt=St-65+10:St>=48&&St<=57?Vt=St-48:Vt=1/0,Vt>=y)break;Ue=St,ke=ke*y+Vt}return J&&Ue===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ve||V!=null&&this.pos-ve!==V?null:ke};function cs(y,V){return V?parseInt(y,8):parseFloat(y.replace(/_/g,""))}function Ki(y){return typeof BigInt!="function"?null:BigInt(y.replace(/_/g,""))}tn.readRadixNumber=function(y){var V=this.pos;this.pos+=2;var K=this.readInt(y);return K==null&&this.raise(this.start+2,"Expected number in radix "+y),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(K=Ki(this.input.slice(V,this.pos)),++this.pos):f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,K)},tn.readNumber=function(y){var V=this.pos;!y&&this.readInt(10,void 0,!0)===null&&this.raise(V,"Invalid number");var K=this.pos-V>=2&&this.input.charCodeAt(V)===48;K&&this.strict&&this.raise(V,"Invalid number");var J=this.input.charCodeAt(this.pos);if(!K&&!y&&this.options.ecmaVersion>=11&&J===110){var oe=Ki(this.input.slice(V,this.pos));return++this.pos,f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,oe)}K&&/[89]/.test(this.input.slice(V,this.pos))&&(K=!1),J===46&&!K&&(++this.pos,this.readInt(10),J=this.input.charCodeAt(this.pos)),(J===69||J===101)&&!K&&(J=this.input.charCodeAt(++this.pos),(J===43||J===45)&&++this.pos,this.readInt(10)===null&&this.raise(V,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ve=cs(this.input.slice(V,this.pos),K);return this.finishToken(v.num,ve)},tn.readCodePoint=function(){var y=this.input.charCodeAt(this.pos),V;if(y===123){this.options.ecmaVersion<6&&this.unexpected();var K=++this.pos;V=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,V>1114111&&this.invalidStringToken(K,"Code point out of bounds")}else V=this.readHexChar(4);return V},tn.readString=function(y){for(var V="",K=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var J=this.input.charCodeAt(this.pos);if(J===y)break;J===92?(V+=this.input.slice(K,this.pos),V+=this.readEscapedChar(!1),K=this.pos):J===8232||J===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(A(J)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return V+=this.input.slice(K,this.pos++),this.finishToken(v.string,V)};var Wr={};tn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(y){if(y===Wr)this.readInvalidTemplateToken();else throw y}this.inTemplateElement=!1},tn.invalidStringToken=function(y,V){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Wr;this.raise(y,V)},tn.readTmplToken=function(){for(var y="",V=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var K=this.input.charCodeAt(this.pos);if(K===96||K===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===v.template||this.type===v.invalidTemplate)?K===36?(this.pos+=2,this.finishToken(v.dollarBraceL)):(++this.pos,this.finishToken(v.backQuote)):(y+=this.input.slice(V,this.pos),this.finishToken(v.template,y));if(K===92)y+=this.input.slice(V,this.pos),y+=this.readEscapedChar(!0),V=this.pos;else if(A(K)){switch(y+=this.input.slice(V,this.pos),++this.pos,K){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:y+=`
`;break;default:y+=String.fromCharCode(K);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),V=this.pos}else++this.pos}},tn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(v.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},tn.readEscapedChar=function(y){var V=this.input.charCodeAt(++this.pos);switch(++this.pos,V){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ie(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),y){var K=this.pos-1;this.invalidStringToken(K,"Invalid escape sequence in template string")}default:if(V>=48&&V<=55){var J=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],oe=parseInt(J,8);return oe>255&&(J=J.slice(0,-1),oe=parseInt(J,8)),this.pos+=J.length-1,V=this.input.charCodeAt(this.pos),(J!=="0"||V===56||V===57)&&(this.strict||y)&&this.invalidStringToken(this.pos-1-J.length,y?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(oe)}return A(V)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(V)}},tn.readHexChar=function(y){var V=this.pos,K=this.readInt(16,y);return K===null&&this.invalidStringToken(V,"Bad character escape sequence"),K},tn.readWord1=function(){this.containsEsc=!1;for(var y="",V=!0,K=this.pos,J=this.options.ecmaVersion>=6;this.pos<this.input.length;){var oe=this.fullCharCodeAtPos();if(m(oe,J))this.pos+=oe<=65535?1:2;else if(oe===92){this.containsEsc=!0,y+=this.input.slice(K,this.pos);var ve=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var ke=this.readCodePoint();(V?f:m)(ke,J)||this.invalidStringToken(ve,"Invalid Unicode escape"),y+=ie(ke),K=this.pos}else break;V=!1}return y+this.input.slice(K,this.pos)},tn.readWord=function(){var y=this.readWord1(),V=v.name;return this.keywords.test(y)&&(V=M[y]),this.finishToken(V,y)};var Cr="8.15.0";Ft.acorn={Parser:Ft,version:Cr,defaultOptions:pe,Position:ae,SourceLocation:re,getLineInfo:fe,Node:gr,TokenType:x,tokTypes:v,keywordTypes:M,TokContext:bt,tokContexts:At,isIdentifierChar:m,isIdentifierStart:f,Token:Wt,isNewLine:A,lineBreak:F,lineBreakG:I,nonASCIIwhitespace:P};function Nr(y,V){return Ft.parse(y,V)}function pi(y,V,K){return Ft.parseExpressionAt(y,V,K)}function L(y,V){return Ft.tokenizer(y,V)}i.Node=gr,i.Parser=Ft,i.Position=ae,i.SourceLocation=re,i.TokContext=bt,i.Token=Wt,i.TokenType=x,i.defaultOptions=pe,i.getLineInfo=fe,i.isIdentifierChar=m,i.isIdentifierStart=f,i.isNewLine=A,i.keywordTypes=M,i.lineBreak=F,i.lineBreakG=I,i.nonASCIIwhitespace=P,i.parse=Nr,i.parseExpressionAt=pi,i.tokContexts=At,i.tokTypes=v,i.tokenizer=L,i.version=Cr}))})(acorn$1,acorn$1.exports)),acorn$1.exports}var acornLoose=acornLoose$1.exports,hasRequiredAcornLoose;function requireAcornLoose(){return hasRequiredAcornLoose||(hasRequiredAcornLoose=1,(function(e,n){(function(i,l){l(n,requireAcorn())})(acornLoose,(function(i,l){var T="";function g(u){return u.name===T}function b(){}var w=function(f,m){if(m===void 0&&(m={}),this.toks=this.constructor.BaseParser.tokenizer(f,m),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:l.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=b,this.tok.validateRegExpPattern=b,this.options.locations){var x=this.toks.curPosition();this.tok.loc=new l.SourceLocation(this.toks,x,x)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};w.prototype.startNode=function(){return new l.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},w.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},w.prototype.startNodeAt=function(f){return this.options.locations?new l.Node(this.toks,f[0],f[1]):new l.Node(this.toks,f)},w.prototype.finishNode=function(f,m){return f.type=m,f.end=this.last.end,this.options.locations&&(f.loc.end=this.last.loc.end),this.options.ranges&&(f.range[1]=this.last.end),f},w.prototype.dummyNode=function(f){var m=this.startNode();return m.type=f,m.end=m.start,this.options.locations&&(m.loc.end=m.loc.start),this.options.ranges&&(m.range[1]=m.start),this.last={type:l.tokTypes.name,start:m.start,end:m.start,loc:m.loc},m},w.prototype.dummyIdent=function(){var f=this.dummyNode("Identifier");return f.name=T,f},w.prototype.dummyString=function(){var f=this.dummyNode("Literal");return f.value=f.raw=T,f},w.prototype.eat=function(f){return this.tok.type===f?(this.next(),!0):!1},w.prototype.isContextual=function(f){return this.tok.type===l.tokTypes.name&&this.tok.value===f},w.prototype.eatContextual=function(f){return this.tok.value===f&&this.eat(l.tokTypes.name)},w.prototype.canInsertSemicolon=function(){return this.tok.type===l.tokTypes.eof||this.tok.type===l.tokTypes.braceR||l.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},w.prototype.semicolon=function(){return this.eat(l.tokTypes.semi)},w.prototype.expect=function(f){if(this.eat(f))return!0;for(var m=1;m<=2;m++)if(this.lookAhead(m).type===f){for(var x=0;x<m;x++)this.next();return!0}},w.prototype.pushCx=function(){this.context.push(this.curIndent)},w.prototype.popCx=function(){this.curIndent=this.context.pop()},w.prototype.lineEnd=function(f){for(;f<this.input.length&&!l.isNewLine(this.input.charCodeAt(f));)++f;return f},w.prototype.indentationAfter=function(f){for(var m=0;;++f){var x=this.input.charCodeAt(f);if(x===32)++m;else if(x===9)m+=this.options.tabSize;else return m}},w.prototype.closes=function(f,m,x,E){return this.tok.type===f||this.tok.type===l.tokTypes.eof?!0:x!==this.curLineStart&&this.curIndent<m&&this.tokenStartsLine()&&(!E||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<m)},w.prototype.tokenStartsLine=function(){for(var f=this.tok.start-1;f>=this.curLineStart;--f){var m=this.input.charCodeAt(f);if(m!==9&&m!==32)return!1}return!0},w.prototype.extend=function(f,m){this[f]=m(this[f])},w.prototype.parse=function(){return this.next(),this.parseTopLevel()},w.extend=function(){for(var f=[],m=arguments.length;m--;)f[m]=arguments[m];for(var x=this,E=0;E<f.length;E++)x=f[E](x);return x},w.parse=function(f,m){return new this(f,m).parse()},w.BaseParser=l.Parser;var d=w.prototype;function h(u){return u<14&&u>8||u===32||u===160||l.isNewLine(u)}d.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},d.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===l.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=l.tokTypes.ellipsis),new l.Token(this.toks)}catch(S){if(!(S instanceof SyntaxError))throw S;var u=S.message,f=S.raisedAt,m=!0;if(/unterminated/i.test(u))if(f=this.lineEnd(S.pos+1),/string/.test(u))m={start:S.pos,end:f,type:l.tokTypes.string,value:this.input.slice(S.pos+1,f)};else if(/regular expr/i.test(u)){var x=this.input.slice(S.pos,f);try{x=new RegExp(x)}catch{}m={start:S.pos,end:f,type:l.tokTypes.regexp,value:x}}else/template/.test(u)?m={start:S.pos,end:f,type:l.tokTypes.template,value:this.input.slice(S.pos,f)}:m=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix|numeric separator/i.test(u))for(;f<this.input.length&&!h(this.input.charCodeAt(f));)++f;else if(/character escape|expected hexadecimal/i.test(u))for(;f<this.input.length;){var E=this.input.charCodeAt(f++);if(E===34||E===39||l.isNewLine(E))break}else if(/unexpected character/i.test(u))f++,m=!1;else if(/regular expression/i.test(u))m=!0;else throw S;if(this.resetTo(f),m===!0&&(m={start:f,end:f,type:l.tokTypes.name,value:T}),m)return this.options.locations&&(m.loc=new l.SourceLocation(this.toks,l.getLineInfo(this.input,m.start),l.getLineInfo(this.input,m.end))),m}},d.resetTo=function(u){this.toks.pos=u,this.toks.containsEsc=!1;var f=this.input.charAt(u-1);if(this.toks.exprAllowed=!f||/[[{(,;:?/*=+\-~!|&%^<>]/.test(f)||/[enwfd]/.test(f)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(u-10,u)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=l.lineBreakG.lastIndex=0;for(var m;(m=l.lineBreakG.exec(this.input))&&m.index<u;)++this.toks.curLine,this.toks.lineStart=m.index+m[0].length}},d.lookAhead=function(u){for(;u>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[u-1]};var c=w.prototype;c.parseTopLevel=function(){var u=this.startNodeAt(this.options.locations?[0,l.getLineInfo(this.input,0)]:0);for(u.body=[];this.tok.type!==l.tokTypes.eof;)u.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(u.body),this.last=this.tok,u.sourceType=this.options.sourceType==="commonjs"?"script":this.options.sourceType,this.finishNode(u,"Program")},c.parseStatement=function(){var u=this.tok.type,f=this.startNode(),m;switch(this.toks.isLet()&&(u=l.tokTypes._var,m="let"),u){case l.tokTypes._break:case l.tokTypes._continue:this.next();var x=u===l.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?f.label=null:(f.label=this.tok.type===l.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(f,x?"BreakStatement":"ContinueStatement");case l.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(f,"DebuggerStatement");case l.tokTypes._do:return this.next(),f.body=this.parseStatement(),f.test=this.eat(l.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(f,"DoWhileStatement");case l.tokTypes._for:this.next();var E=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(l.tokTypes.parenL),this.tok.type===l.tokTypes.semi)return this.parseFor(f,null);var S=this.toks.isLet(),R=this.toks.isAwaitUsing(!0),M=!R&&this.toks.isUsing(!0);if(S||this.tok.type===l.tokTypes._var||this.tok.type===l.tokTypes._const||M||R){var k=S?"let":M?"using":R?"await using":this.tok.value,v=this.startNode();return M||R?(R&&this.next(),this.parseVar(v,!0,k)):v=this.parseVar(v,!0,k),v.declarations.length===1&&(this.tok.type===l.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==l.tokTypes._in&&(f.await=E),this.parseForIn(f,v)):this.parseFor(f,v)}var F=this.parseExpression(!0);return this.tok.type===l.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==l.tokTypes._in&&(f.await=E),this.parseForIn(f,this.toAssignable(F))):this.parseFor(f,F);case l.tokTypes._function:return this.next(),this.parseFunction(f,!0);case l.tokTypes._if:return this.next(),f.test=this.parseParenExpression(),f.consequent=this.parseStatement(),f.alternate=this.eat(l.tokTypes._else)?this.parseStatement():null,this.finishNode(f,"IfStatement");case l.tokTypes._return:return this.next(),this.eat(l.tokTypes.semi)||this.canInsertSemicolon()?f.argument=null:(f.argument=this.parseExpression(),this.semicolon()),this.finishNode(f,"ReturnStatement");case l.tokTypes._switch:var I=this.curIndent,A=this.curLineStart;this.next(),f.discriminant=this.parseParenExpression(),f.cases=[],this.pushCx(),this.expect(l.tokTypes.braceL);for(var $;!this.closes(l.tokTypes.braceR,I,A,!0);)if(this.tok.type===l.tokTypes._case||this.tok.type===l.tokTypes._default){var P=this.tok.type===l.tokTypes._case;$&&this.finishNode($,"SwitchCase"),f.cases.push($=this.startNode()),$.consequent=[],this.next(),P?$.test=this.parseExpression():$.test=null,this.expect(l.tokTypes.colon)}else $||(f.cases.push($=this.startNode()),$.consequent=[],$.test=null),$.consequent.push(this.parseStatement());return $&&this.finishNode($,"SwitchCase"),this.popCx(),this.eat(l.tokTypes.braceR),this.finishNode(f,"SwitchStatement");case l.tokTypes._throw:return this.next(),f.argument=this.parseExpression(),this.semicolon(),this.finishNode(f,"ThrowStatement");case l.tokTypes._try:if(this.next(),f.block=this.parseBlock(),f.handler=null,this.tok.type===l.tokTypes._catch){var B=this.startNode();this.next(),this.eat(l.tokTypes.parenL)?(B.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(l.tokTypes.parenR)):B.param=null,B.body=this.parseBlock(),f.handler=this.finishNode(B,"CatchClause")}return f.finalizer=this.eat(l.tokTypes._finally)?this.parseBlock():null,!f.handler&&!f.finalizer?f.block:this.finishNode(f,"TryStatement");case l.tokTypes._var:case l.tokTypes._const:return this.parseVar(f,!1,m||this.tok.value);case l.tokTypes._while:return this.next(),f.test=this.parseParenExpression(),f.body=this.parseStatement(),this.finishNode(f,"WhileStatement");case l.tokTypes._with:return this.next(),f.object=this.parseParenExpression(),f.body=this.parseStatement(),this.finishNode(f,"WithStatement");case l.tokTypes.braceL:return this.parseBlock();case l.tokTypes.semi:return this.next(),this.finishNode(f,"EmptyStatement");case l.tokTypes._class:return this.parseClass(!0);case l.tokTypes._import:if(this.options.ecmaVersion>10){var U=this.lookAhead(1).type;if(U===l.tokTypes.parenL||U===l.tokTypes.dot)return f.expression=this.parseExpression(),this.semicolon(),this.finishNode(f,"ExpressionStatement")}return this.parseImport();case l.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(f,!0,!0);if(this.toks.isUsing(!1))return this.parseVar(f,!1,"using");if(this.toks.isAwaitUsing(!1))return this.next(),this.parseVar(f,!1,"await using");var W=this.parseExpression();return g(W)?(this.next(),this.tok.type===l.tokTypes.eof?this.finishNode(f,"EmptyStatement"):this.parseStatement()):u===l.tokTypes.name&&W.type==="Identifier"&&this.eat(l.tokTypes.colon)?(f.body=this.parseStatement(),f.label=W,this.finishNode(f,"LabeledStatement")):(f.expression=W,this.semicolon(),this.finishNode(f,"ExpressionStatement"))}},c.parseBlock=function(){var u=this.startNode();this.pushCx(),this.expect(l.tokTypes.braceL);var f=this.curIndent,m=this.curLineStart;for(u.body=[];!this.closes(l.tokTypes.braceR,f,m,!0);)u.body.push(this.parseStatement());return this.popCx(),this.eat(l.tokTypes.braceR),this.finishNode(u,"BlockStatement")},c.parseFor=function(u,f){return u.init=f,u.test=u.update=null,this.eat(l.tokTypes.semi)&&this.tok.type!==l.tokTypes.semi&&(u.test=this.parseExpression()),this.eat(l.tokTypes.semi)&&this.tok.type!==l.tokTypes.parenR&&(u.update=this.parseExpression()),this.popCx(),this.expect(l.tokTypes.parenR),u.body=this.parseStatement(),this.finishNode(u,"ForStatement")},c.parseForIn=function(u,f){var m=this.tok.type===l.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),u.left=f,u.right=this.parseExpression(),this.popCx(),this.expect(l.tokTypes.parenR),u.body=this.parseStatement(),this.finishNode(u,m)},c.parseVar=function(u,f,m){u.kind=m,this.next(),u.declarations=[];do{var x=this.startNode();x.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),x.init=this.eat(l.tokTypes.eq)?this.parseMaybeAssign(f):null,u.declarations.push(this.finishNode(x,"VariableDeclarator"))}while(this.eat(l.tokTypes.comma));if(!u.declarations.length){var E=this.startNode();E.id=this.dummyIdent(),u.declarations.push(this.finishNode(E,"VariableDeclarator"))}return f||this.semicolon(),this.finishNode(u,"VariableDeclaration")},c.parseClass=function(u){var f=this.startNode();this.next(),this.tok.type===l.tokTypes.name?f.id=this.parseIdent():u===!0?f.id=this.dummyIdent():f.id=null,f.superClass=this.eat(l.tokTypes._extends)?this.parseExpression():null,f.body=this.startNode(),f.body.body=[],this.pushCx();var m=this.curIndent+1,x=this.curLineStart;for(this.eat(l.tokTypes.braceL),this.curIndent+1<m&&(m=this.curIndent,x=this.curLineStart);!this.closes(l.tokTypes.braceR,m,x);){var E=this.parseClassElement();E&&f.body.body.push(E)}return this.popCx(),this.eat(l.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(f.body,"ClassBody"),this.finishNode(f,u?"ClassDeclaration":"ClassExpression")},c.parseClassElement=function(){if(this.eat(l.tokTypes.semi))return null;var u=this.options,f=u.ecmaVersion,m=u.locations,x=this.curIndent,E=this.curLineStart,S=this.startNode(),R="",M=!1,k=!1,v="method",F=!1;if(this.eatContextual("static")){if(f>=13&&this.eat(l.tokTypes.braceL))return this.parseClassStaticBlock(S),S;this.isClassElementNameStart()||this.toks.type===l.tokTypes.star?F=!0:R="static"}if(S.static=F,!R&&f>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===l.tokTypes.star)&&!this.canInsertSemicolon()?k=!0:R="async"),!R){M=this.eat(l.tokTypes.star);var I=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?v=I:R=I)}if(R)S.computed=!1,S.key=this.startNodeAt(m?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),S.key.name=R,this.finishNode(S.key,"Identifier");else if(this.parseClassElementName(S),g(S.key))return g(this.parseMaybeAssign())&&this.next(),this.eat(l.tokTypes.comma),null;if(f<13||this.toks.type===l.tokTypes.parenL||v!=="method"||M||k){var A=!S.computed&&!S.static&&!M&&!k&&v==="method"&&(S.key.type==="Identifier"&&S.key.name==="constructor"||S.key.type==="Literal"&&S.key.value==="constructor");S.kind=A?"constructor":v,S.value=this.parseMethod(M,k),this.finishNode(S,"MethodDefinition")}else{if(this.eat(l.tokTypes.eq))if(this.curLineStart!==E&&this.curIndent<=x&&this.tokenStartsLine())S.value=null;else{var $=this.inAsync,P=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,S.value=this.parseMaybeAssign(),this.inAsync=$,this.inGenerator=P}else S.value=null;this.semicolon(),this.finishNode(S,"PropertyDefinition")}return S},c.parseClassStaticBlock=function(u){var f=this.curIndent,m=this.curLineStart;for(u.body=[],this.pushCx();!this.closes(l.tokTypes.braceR,f,m,!0);)u.body.push(this.parseStatement());return this.popCx(),this.eat(l.tokTypes.braceR),this.finishNode(u,"StaticBlock")},c.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},c.parseClassElementName=function(u){this.toks.type===l.tokTypes.privateId?(u.computed=!1,u.key=this.parsePrivateIdent()):this.parsePropertyName(u)},c.parseFunction=function(u,f,m){var x=this.inAsync,E=this.inGenerator,S=this.inFunction;return this.initFunction(u),this.options.ecmaVersion>=6&&(u.generator=this.eat(l.tokTypes.star)),this.options.ecmaVersion>=8&&(u.async=!!m),this.tok.type===l.tokTypes.name?u.id=this.parseIdent():f===!0&&(u.id=this.dummyIdent()),this.inAsync=u.async,this.inGenerator=u.generator,this.inFunction=!0,u.params=this.parseFunctionParams(),u.body=this.parseBlock(),this.toks.adaptDirectivePrologue(u.body.body),this.inAsync=x,this.inGenerator=E,this.inFunction=S,this.finishNode(u,f?"FunctionDeclaration":"FunctionExpression")},c.parseExport=function(){var u=this.startNode();if(this.next(),this.eat(l.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?u.exported=this.parseExprAtom():u.exported=null),u.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.options.ecmaVersion>=16&&(u.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(u,"ExportAllDeclaration");if(this.eat(l.tokTypes._default)){var f;if(this.tok.type===l.tokTypes._function||(f=this.toks.isAsyncFunction())){var m=this.startNode();this.next(),f&&this.next(),u.declaration=this.parseFunction(m,"nullableID",f)}else this.tok.type===l.tokTypes._class?u.declaration=this.parseClass("nullableID"):(u.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(u,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(u.declaration=this.parseStatement(),u.specifiers=[],u.source=null):(u.declaration=null,u.specifiers=this.parseExportSpecifierList(),u.source=this.eatContextual("from")?this.parseExprAtom():null,this.options.ecmaVersion>=16&&(u.attributes=this.parseWithClause()),this.semicolon()),this.finishNode(u,"ExportNamedDeclaration")},c.parseImport=function(){var u=this.startNode();if(this.next(),this.tok.type===l.tokTypes.string)u.specifiers=[],u.source=this.parseExprAtom();else{var f;this.tok.type===l.tokTypes.name&&this.tok.value!=="from"&&(f=this.startNode(),f.local=this.parseIdent(),this.finishNode(f,"ImportDefaultSpecifier"),this.eat(l.tokTypes.comma)),u.specifiers=this.parseImportSpecifiers(),u.source=this.eatContextual("from")&&this.tok.type===l.tokTypes.string?this.parseExprAtom():this.dummyString(),f&&u.specifiers.unshift(f)}return this.options.ecmaVersion>=16&&(u.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(u,"ImportDeclaration")},c.parseImportSpecifiers=function(){var u=[];if(this.tok.type===l.tokTypes.star){var f=this.startNode();this.next(),f.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),u.push(this.finishNode(f,"ImportNamespaceSpecifier"))}else{var m=this.curIndent,x=this.curLineStart,E=this.nextLineStart;for(this.pushCx(),this.eat(l.tokTypes.braceL),this.curLineStart>E&&(E=this.curLineStart);!this.closes(l.tokTypes.braceR,m+(this.curLineStart<=E?1:0),x);){var S=this.startNode();if(this.eat(l.tokTypes.star))S.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(S,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(S.imported=this.parseModuleExportName(),g(S.imported)))break;S.local=this.eatContextual("as")?this.parseModuleExportName():S.imported,this.finishNode(S,"ImportSpecifier")}u.push(S),this.eat(l.tokTypes.comma)}this.eat(l.tokTypes.braceR),this.popCx()}return u},c.parseWithClause=function(){var u=[];if(!this.eat(l.tokTypes._with))return u;var f=this.curIndent,m=this.curLineStart,x=this.nextLineStart;for(this.pushCx(),this.eat(l.tokTypes.braceL),this.curLineStart>x&&(x=this.curLineStart);!this.closes(l.tokTypes.braceR,f+(this.curLineStart<=x?1:0),m);){var E=this.startNode();if(E.key=this.tok.type===l.tokTypes.string?this.parseExprAtom():this.parseIdent(),this.eat(l.tokTypes.colon))this.tok.type===l.tokTypes.string?E.value=this.parseExprAtom():E.value=this.dummyString();else{if(g(E.key))break;if(this.tok.type===l.tokTypes.string)E.value=this.parseExprAtom();else break}u.push(this.finishNode(E,"ImportAttribute")),this.eat(l.tokTypes.comma)}return this.eat(l.tokTypes.braceR),this.popCx(),u},c.parseExportSpecifierList=function(){var u=[],f=this.curIndent,m=this.curLineStart,x=this.nextLineStart;for(this.pushCx(),this.eat(l.tokTypes.braceL),this.curLineStart>x&&(x=this.curLineStart);!this.closes(l.tokTypes.braceR,f+(this.curLineStart<=x?1:0),m)&&!this.isContextual("from");){var E=this.startNode();if(E.local=this.parseModuleExportName(),g(E.local))break;E.exported=this.eatContextual("as")?this.parseModuleExportName():E.local,this.finishNode(E,"ExportSpecifier"),u.push(E),this.eat(l.tokTypes.comma)}return this.eat(l.tokTypes.braceR),this.popCx(),u},c.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===l.tokTypes.string?this.parseExprAtom():this.parseIdent()};var a=w.prototype;a.checkLVal=function(u){if(!u)return u;switch(u.type){case"Identifier":case"MemberExpression":return u;case"ParenthesizedExpression":return u.expression=this.checkLVal(u.expression),u;default:return this.dummyIdent()}},a.parseExpression=function(u){var f=this.storeCurrentPos(),m=this.parseMaybeAssign(u);if(this.tok.type===l.tokTypes.comma){var x=this.startNodeAt(f);for(x.expressions=[m];this.eat(l.tokTypes.comma);)x.expressions.push(this.parseMaybeAssign(u));return this.finishNode(x,"SequenceExpression")}return m},a.parseParenExpression=function(){this.pushCx(),this.expect(l.tokTypes.parenL);var u=this.parseExpression();return this.popCx(),this.expect(l.tokTypes.parenR),u},a.parseMaybeAssign=function(u){if(this.inGenerator&&this.toks.isContextual("yield")){var f=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==l.tokTypes.star&&!this.tok.type.startsExpr?(f.delegate=!1,f.argument=null):(f.delegate=this.eat(l.tokTypes.star),f.argument=this.parseMaybeAssign()),this.finishNode(f,"YieldExpression")}var m=this.storeCurrentPos(),x=this.parseMaybeConditional(u);if(this.tok.type.isAssign){var E=this.startNodeAt(m);return E.operator=this.tok.value,E.left=this.tok.type===l.tokTypes.eq?this.toAssignable(x):this.checkLVal(x),this.next(),E.right=this.parseMaybeAssign(u),this.finishNode(E,"AssignmentExpression")}return x},a.parseMaybeConditional=function(u){var f=this.storeCurrentPos(),m=this.parseExprOps(u);if(this.eat(l.tokTypes.question)){var x=this.startNodeAt(f);return x.test=m,x.consequent=this.parseMaybeAssign(),x.alternate=this.expect(l.tokTypes.colon)?this.parseMaybeAssign(u):this.dummyIdent(),this.finishNode(x,"ConditionalExpression")}return m},a.parseExprOps=function(u){var f=this.storeCurrentPos(),m=this.curIndent,x=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),f,-1,u,m,x)},a.parseExprOp=function(u,f,m,x,E,S){if(this.curLineStart!==S&&this.curIndent<E&&this.tokenStartsLine())return u;var R=this.tok.type.binop;if(R!=null&&(!x||this.tok.type!==l.tokTypes._in)&&R>m){var M=this.startNodeAt(f);if(M.left=u,M.operator=this.tok.value,this.next(),this.curLineStart!==S&&this.curIndent<E&&this.tokenStartsLine())M.right=this.dummyIdent();else{var k=this.storeCurrentPos();M.right=this.parseExprOp(this.parseMaybeUnary(!1),k,R,x,E,S)}return this.finishNode(M,/&&|\|\||\?\?/.test(M.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(M,f,m,x,E,S)}return u},a.parseMaybeUnary=function(u){var f=this.storeCurrentPos(),m;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))m=this.parseAwait(),u=!0;else if(this.tok.type.prefix){var x=this.startNode(),E=this.tok.type===l.tokTypes.incDec;E||(u=!0),x.operator=this.tok.value,x.prefix=!0,this.next(),x.argument=this.parseMaybeUnary(!0),E&&(x.argument=this.checkLVal(x.argument)),m=this.finishNode(x,E?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===l.tokTypes.ellipsis){var S=this.startNode();this.next(),S.argument=this.parseMaybeUnary(u),m=this.finishNode(S,"SpreadElement")}else if(!u&&this.tok.type===l.tokTypes.privateId)m=this.parsePrivateIdent();else for(m=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var R=this.startNodeAt(f);R.operator=this.tok.value,R.prefix=!1,R.argument=this.checkLVal(m),this.next(),m=this.finishNode(R,"UpdateExpression")}if(!u&&this.eat(l.tokTypes.starstar)){var M=this.startNodeAt(f);return M.operator="**",M.left=m,M.right=this.parseMaybeUnary(!1),this.finishNode(M,"BinaryExpression")}return m},a.parseExprSubscripts=function(){var u=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),u,!1,this.curIndent,this.curLineStart)},a.parseSubscripts=function(u,f,m,x,E){for(var S=this.options.ecmaVersion>=11,R=!1;;){if(this.curLineStart!==E&&this.curIndent<=x&&this.tokenStartsLine())if(this.tok.type===l.tokTypes.dot&&this.curIndent===x)--x;else break;var M=u.type==="Identifier"&&u.name==="async"&&!this.canInsertSemicolon(),k=S&&this.eat(l.tokTypes.questionDot);if(k&&(R=!0),k&&this.tok.type!==l.tokTypes.parenL&&this.tok.type!==l.tokTypes.bracketL&&this.tok.type!==l.tokTypes.backQuote||this.eat(l.tokTypes.dot)){var v=this.startNodeAt(f);v.object=u,this.curLineStart!==E&&this.curIndent<=x&&this.tokenStartsLine()?v.property=this.dummyIdent():v.property=this.parsePropertyAccessor()||this.dummyIdent(),v.computed=!1,S&&(v.optional=k),u=this.finishNode(v,"MemberExpression")}else if(this.tok.type===l.tokTypes.bracketL){this.pushCx(),this.next();var F=this.startNodeAt(f);F.object=u,F.property=this.parseExpression(),F.computed=!0,S&&(F.optional=k),this.popCx(),this.expect(l.tokTypes.bracketR),u=this.finishNode(F,"MemberExpression")}else if(!m&&this.tok.type===l.tokTypes.parenL){var I=this.parseExprList(l.tokTypes.parenR);if(M&&this.eat(l.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(f),I,!0);var A=this.startNodeAt(f);A.callee=u,A.arguments=I,S&&(A.optional=k),u=this.finishNode(A,"CallExpression")}else if(this.tok.type===l.tokTypes.backQuote){var $=this.startNodeAt(f);$.tag=u,$.quasi=this.parseTemplate(),u=this.finishNode($,"TaggedTemplateExpression")}else break}if(R){var P=this.startNodeAt(f);P.expression=u,u=this.finishNode(P,"ChainExpression")}return u},a.parseExprAtom=function(){var u;switch(this.tok.type){case l.tokTypes._this:case l.tokTypes._super:var f=this.tok.type===l.tokTypes._this?"ThisExpression":"Super";return u=this.startNode(),this.next(),this.finishNode(u,f);case l.tokTypes.name:var m=this.storeCurrentPos(),x=this.parseIdent(),E=!1;if(x.name==="async"&&!this.canInsertSemicolon()){if(this.eat(l.tokTypes._function))return this.toks.overrideContext(l.tokContexts.f_expr),this.parseFunction(this.startNodeAt(m),!1,!0);this.tok.type===l.tokTypes.name&&(x=this.parseIdent(),E=!0)}return this.eat(l.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(m),[x],E):x;case l.tokTypes.regexp:u=this.startNode();var S=this.tok.value;return u.regex={pattern:S.pattern,flags:S.flags},u.value=S.value,u.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(u,"Literal");case l.tokTypes.num:case l.tokTypes.string:return u=this.startNode(),u.value=this.tok.value,u.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===l.tokTypes.num&&u.raw.charCodeAt(u.raw.length-1)===110&&(u.bigint=u.value!=null?u.value.toString():u.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(u,"Literal");case l.tokTypes._null:case l.tokTypes._true:case l.tokTypes._false:return u=this.startNode(),u.value=this.tok.type===l.tokTypes._null?null:this.tok.type===l.tokTypes._true,u.raw=this.tok.type.keyword,this.next(),this.finishNode(u,"Literal");case l.tokTypes.parenL:var R=this.storeCurrentPos();this.next();var M=this.parseExpression();if(this.expect(l.tokTypes.parenR),this.eat(l.tokTypes.arrow)){var k=M.expressions||[M];return k.length&&g(k[k.length-1])&&k.pop(),this.parseArrowExpression(this.startNodeAt(R),k)}if(this.options.preserveParens){var v=this.startNodeAt(R);v.expression=M,M=this.finishNode(v,"ParenthesizedExpression")}return M;case l.tokTypes.bracketL:return u=this.startNode(),u.elements=this.parseExprList(l.tokTypes.bracketR,!0),this.finishNode(u,"ArrayExpression");case l.tokTypes.braceL:return this.toks.overrideContext(l.tokContexts.b_expr),this.parseObj();case l.tokTypes._class:return this.parseClass(!1);case l.tokTypes._function:return u=this.startNode(),this.next(),this.parseFunction(u,!1);case l.tokTypes._new:return this.parseNew();case l.tokTypes.backQuote:return this.parseTemplate();case l.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},a.parseExprImport=function(){var u=this.startNode(),f=this.parseIdent(!0);switch(this.tok.type){case l.tokTypes.parenL:return this.parseDynamicImport(u);case l.tokTypes.dot:return u.meta=f,this.parseImportMeta(u);default:return u.name="import",this.finishNode(u,"Identifier")}},a.parseDynamicImport=function(u){var f=this.parseExprList(l.tokTypes.parenR);return u.source=f[0]||this.dummyString(),u.options=f[1]||null,this.finishNode(u,"ImportExpression")},a.parseImportMeta=function(u){return this.next(),u.property=this.parseIdent(!0),this.finishNode(u,"MetaProperty")},a.parseNew=function(){var u=this.startNode(),f=this.curIndent,m=this.curLineStart,x=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(l.tokTypes.dot))return u.meta=x,u.property=this.parseIdent(!0),this.finishNode(u,"MetaProperty");var E=this.storeCurrentPos();return u.callee=this.parseSubscripts(this.parseExprAtom(),E,!0,f,m),this.tok.type===l.tokTypes.parenL?u.arguments=this.parseExprList(l.tokTypes.parenR):u.arguments=[],this.finishNode(u,"NewExpression")},a.parseTemplateElement=function(){var u=this.startNode();return this.tok.type===l.tokTypes.invalidTemplate?u.value={raw:this.tok.value,cooked:null}:u.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),u.tail=this.tok.type===l.tokTypes.backQuote,this.finishNode(u,"TemplateElement")},a.parseTemplate=function(){var u=this.startNode();this.next(),u.expressions=[];var f=this.parseTemplateElement();for(u.quasis=[f];!f.tail;)this.next(),u.expressions.push(this.parseExpression()),this.expect(l.tokTypes.braceR)?f=this.parseTemplateElement():(f=this.startNode(),f.value={cooked:"",raw:""},f.tail=!0,this.finishNode(f,"TemplateElement")),u.quasis.push(f);return this.expect(l.tokTypes.backQuote),this.finishNode(u,"TemplateLiteral")},a.parseObj=function(){var u=this.startNode();u.properties=[],this.pushCx();var f=this.curIndent+1,m=this.curLineStart;for(this.eat(l.tokTypes.braceL),this.curIndent+1<f&&(f=this.curIndent,m=this.curLineStart);!this.closes(l.tokTypes.braceR,f,m);){var x=this.startNode(),E=void 0,S=void 0,R=void 0;if(this.options.ecmaVersion>=9&&this.eat(l.tokTypes.ellipsis)){x.argument=this.parseMaybeAssign(),u.properties.push(this.finishNode(x,"SpreadElement")),this.eat(l.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(R=this.storeCurrentPos(),x.method=!1,x.shorthand=!1,E=this.eat(l.tokTypes.star)),this.parsePropertyName(x),this.toks.isAsyncProp(x)?(S=!0,E=this.options.ecmaVersion>=9&&this.eat(l.tokTypes.star),this.parsePropertyName(x)):S=!1,g(x.key)){g(this.parseMaybeAssign())&&this.next(),this.eat(l.tokTypes.comma);continue}if(this.eat(l.tokTypes.colon))x.kind="init",x.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===l.tokTypes.parenL||this.tok.type===l.tokTypes.braceL))x.kind="init",x.method=!0,x.value=this.parseMethod(E,S);else if(this.options.ecmaVersion>=5&&x.key.type==="Identifier"&&!x.computed&&(x.key.name==="get"||x.key.name==="set")&&this.tok.type!==l.tokTypes.comma&&this.tok.type!==l.tokTypes.braceR&&this.tok.type!==l.tokTypes.eq)x.kind=x.key.name,this.parsePropertyName(x),x.value=this.parseMethod(!1);else{if(x.kind="init",this.options.ecmaVersion>=6)if(this.eat(l.tokTypes.eq)){var M=this.startNodeAt(R);M.operator="=",M.left=x.key,M.right=this.parseMaybeAssign(),x.value=this.finishNode(M,"AssignmentExpression")}else x.value=x.key;else x.value=this.dummyIdent();x.shorthand=!0}u.properties.push(this.finishNode(x,"Property")),this.eat(l.tokTypes.comma)}return this.popCx(),this.eat(l.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(u,"ObjectExpression")},a.parsePropertyName=function(u){if(this.options.ecmaVersion>=6)if(this.eat(l.tokTypes.bracketL)){u.computed=!0,u.key=this.parseExpression(),this.expect(l.tokTypes.bracketR);return}else u.computed=!1;var f=this.tok.type===l.tokTypes.num||this.tok.type===l.tokTypes.string?this.parseExprAtom():this.parseIdent();u.key=f||this.dummyIdent()},a.parsePropertyAccessor=function(){if(this.tok.type===l.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===l.tokTypes.privateId)return this.parsePrivateIdent()},a.parseIdent=function(){var u=this.tok.type===l.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!u)return this.dummyIdent();this.tok.type.keyword&&(this.toks.type=l.tokTypes.name);var f=this.startNode();return this.next(),f.name=u,this.finishNode(f,"Identifier")},a.parsePrivateIdent=function(){var u=this.startNode();return u.name=this.tok.value,this.next(),this.finishNode(u,"PrivateIdentifier")},a.initFunction=function(u){u.id=null,u.params=[],this.options.ecmaVersion>=6&&(u.generator=!1,u.expression=!1),this.options.ecmaVersion>=8&&(u.async=!1)},a.toAssignable=function(u,f){if(!(!u||u.type==="Identifier"||u.type==="MemberExpression"&&!f))if(u.type==="ParenthesizedExpression")this.toAssignable(u.expression,f);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(u.type==="ObjectExpression"){u.type="ObjectPattern";for(var m=0,x=u.properties;m<x.length;m+=1){var E=x[m];this.toAssignable(E,f)}}else if(u.type==="ArrayExpression")u.type="ArrayPattern",this.toAssignableList(u.elements,f);else if(u.type==="Property")this.toAssignable(u.value,f);else if(u.type==="SpreadElement")u.type="RestElement",this.toAssignable(u.argument,f);else if(u.type==="AssignmentExpression")u.type="AssignmentPattern",delete u.operator;else return this.dummyIdent()}return u},a.toAssignableList=function(u,f){for(var m=0,x=u;m<x.length;m+=1){var E=x[m];this.toAssignable(E,f)}return u},a.parseFunctionParams=function(u){return u=this.parseExprList(l.tokTypes.parenR),this.toAssignableList(u,!0)},a.parseMethod=function(u,f){var m=this.startNode(),x=this.inAsync,E=this.inGenerator,S=this.inFunction;return this.initFunction(m),this.options.ecmaVersion>=6&&(m.generator=!!u),this.options.ecmaVersion>=8&&(m.async=!!f),this.inAsync=m.async,this.inGenerator=m.generator,this.inFunction=!0,m.params=this.parseFunctionParams(),m.body=this.parseBlock(),this.toks.adaptDirectivePrologue(m.body.body),this.inAsync=x,this.inGenerator=E,this.inFunction=S,this.finishNode(m,"FunctionExpression")},a.parseArrowExpression=function(u,f,m){var x=this.inAsync,E=this.inGenerator,S=this.inFunction;return this.initFunction(u),this.options.ecmaVersion>=8&&(u.async=!!m),this.inAsync=u.async,this.inGenerator=!1,this.inFunction=!0,u.params=this.toAssignableList(f,!0),u.expression=this.tok.type!==l.tokTypes.braceL,u.expression?u.body=this.parseMaybeAssign():(u.body=this.parseBlock(),this.toks.adaptDirectivePrologue(u.body.body)),this.inAsync=x,this.inGenerator=E,this.inFunction=S,this.finishNode(u,"ArrowFunctionExpression")},a.parseExprList=function(u,f){this.pushCx();var m=this.curIndent,x=this.curLineStart,E=[];for(this.next();!this.closes(u,m+1,x);){if(this.eat(l.tokTypes.comma)){E.push(f?null:this.dummyIdent());continue}var S=this.parseMaybeAssign();if(g(S)){if(this.closes(u,m,x))break;this.next()}else E.push(S);this.eat(l.tokTypes.comma)}return this.popCx(),this.eat(u)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),E},a.parseAwait=function(){var u=this.startNode();return this.next(),u.argument=this.parseMaybeUnary(),this.finishNode(u,"AwaitExpression")},l.defaultOptions.tabSize=4;function o(u,f){return w.parse(u,f)}i.LooseParser=w,i.isDummy=g,i.parse=o}))})(acornLoose$1,acornLoose$1.exports)),acornLoose$1.exports}var validator={},validityErrors={},hasRequiredValidityErrors;function requireValidityErrors(){if(hasRequiredValidityErrors)return validityErrors;hasRequiredValidityErrors=1,Object.defineProperty(validityErrors,"__esModule",{value:!0}),validityErrors.NoAssignmentToForVariable=void 0;const e=requireTypes();class n{constructor(l){this.node=l,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}return validityErrors.NoAssignmentToForVariable=n,validityErrors}var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const e=requireErrors(),n=requireValidityErrors(),i=requireAstCreator(),l=requireWalkers();class T{constructor(w){this.isConstant=w,this.accessedBeforeDeclaration=!1}}function g(b,w){const d=new Map,h=new Map;function c(f){const m=new Map;for(const x of f.body)x.type==="VariableDeclaration"?m.set((0,i.getVariableDecarationName)(x),new T(x.kind==="const")):x.type==="FunctionDeclaration"&&m.set(x.id.name,new T(!0));h.set(f,!1),d.set(f,m)}function a(f){d.set(f,new Map(f.params.map(m=>[m.name,new T(!1)]))),h.set(f,!1)}(0,l.ancestor)(b,{Program:c,BlockStatement:c,FunctionDeclaration:a,ArrowFunctionExpression:a,ForStatement(f,m){const x=f.init;x.type==="VariableDeclaration"&&(d.set(f,new Map([[(0,i.getVariableDecarationName)(x),new T(x.kind==="const")]])),h.set(f,!1))}});function o(f,m){const x=f.name,E=m[m.length-2];for(let S=m.length-1;S>=0;S--){const R=m[S],M=d.get(R);if(M?.has(x)){M.get(x).accessedBeforeDeclaration=!0,E.type==="AssignmentExpression"&&E.left===f&&(M.get(x).isConstant&&w.errors.push(new e.ConstAssignment(E,x)),R.type==="ForStatement"&&R.init!==E&&R.update!==E&&w.errors.push(new n.NoAssignmentToForVariable(E)));break}}}const u=Object.assign(Object.assign({},l.base),{VariableDeclarator(f,m,x){f.init&&x(f.init,m,"Expression")}});return(0,l.ancestor)(b,{VariableDeclaration(f,m){const x=m[m.length-2],E=(0,i.getVariableDecarationName)(f),S=d.get(x).get(E).accessedBeforeDeclaration;f.typability=S?"Untypable":"NotYetTyped"},Identifier:o,FunctionDeclaration(f,m){const x=m[m.length-2];f.typability=h.get(x)?"Untypable":"NotYetTyped"},Pattern(f,m){f.type==="Identifier"?o(f,m):f.type==="MemberExpression"&&f.object.type==="Identifier"&&o(f.object,m)},CallExpression(f,m){for(let x=m.length-1;x>=0;x--){const E=m[x];if(h.has(E)){h.set(E,!0);break}}}},u),b}return validator.validateAndAnnotate=g,validator}var rules={},bracesAroundFor={},hasRequiredBracesAroundFor;function requireBracesAroundFor(){if(hasRequiredBracesAroundFor)return bracesAroundFor;hasRequiredBracesAroundFor=1,Object.defineProperty(bracesAroundFor,"__esModule",{value:!0}),bracesAroundFor.BracesAroundForError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const g=(0,e.generate)(this.node.init),b=(0,e.generate)(this.node.test),w=(0,e.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${g} ${b}; ${w}) {
		//code goes here
	}`}`}}bracesAroundFor.BracesAroundForError=i;const l={name:"braces-around-for",checkers:{ForStatement(T,g){return T.body.type!=="BlockStatement"?[new i(T)]:[]}}};return bracesAroundFor.default=l,bracesAroundFor}var bracesAroundIfElse={},hasRequiredBracesAroundIfElse;function requireBracesAroundIfElse(){if(hasRequiredBracesAroundIfElse)return bracesAroundIfElse;hasRequiredBracesAroundIfElse=1,Object.defineProperty(bracesAroundIfElse,"__esModule",{value:!0}),bracesAroundIfElse.BracesAroundIfElseError=void 0;const e=requireAstring(),n=requireTypes(),i=requireFormatters();class l{constructor(b,w){this.node=b,this.branch=w,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let b,w,d;return this.branch==="consequent"?(b="if",w=`if (${(0,e.generate)(this.node.test)})`,d=this.node.consequent):(b=w="else",d=this.node.alternate),(0,i.stripIndent)`
      ${b} block need to be enclosed with a pair of curly braces.

      ${w} {
        ${(0,e.generate)(d)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse.BracesAroundIfElseError=l;const T={name:"braces-around-if-else",checkers:{IfStatement(g,b){const w=[];if(g.consequent&&g.consequent.type!=="BlockStatement"&&w.push(new l(g,"consequent")),g.alternate){const d=g.alternate.type!=="BlockStatement",h=g.alternate.type!=="IfStatement";d&&h&&w.push(new l(g,"alternate"))}return w}}};return bracesAroundIfElse.default=T,bracesAroundIfElse}var bracesAroundWhile={},hasRequiredBracesAroundWhile;function requireBracesAroundWhile(){if(hasRequiredBracesAroundWhile)return bracesAroundWhile;hasRequiredBracesAroundWhile=1,Object.defineProperty(bracesAroundWhile,"__esModule",{value:!0}),bracesAroundWhile.BracesAroundWhileError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,e.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile.BracesAroundWhileError=i;const l={name:"braces-around-while",checkers:{WhileStatement(T,g){return T.body.type!=="BlockStatement"?[new i(T)]:[]}}};return bracesAroundWhile.default=l,bracesAroundWhile}var forStatementMustHaveAllParts={},hasRequiredForStatementMustHaveAllParts;function requireForStatementMustHaveAllParts(){if(hasRequiredForStatementMustHaveAllParts)return forStatementMustHaveAllParts;hasRequiredForStatementMustHaveAllParts=1,Object.defineProperty(forStatementMustHaveAllParts,"__esModule",{value:!0}),forStatementMustHaveAllParts.ForStatmentMustHaveAllParts=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g,b){this.node=g,this.missingParts=b,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,n.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts.ForStatmentMustHaveAllParts=i;const l={name:"for-statement-must-have-all-parts",checkers:{ForStatement(T){const g=["init","test","update"].filter(b=>T[b]===null);return g.length>0?[new i(T,g)]:[]}}};return forStatementMustHaveAllParts.default=l,forStatementMustHaveAllParts}var noDeclareMutable={},hasRequiredNoDeclareMutable;function requireNoDeclareMutable(){if(hasRequiredNoDeclareMutable)return noDeclareMutable;hasRequiredNoDeclareMutable=1,Object.defineProperty(noDeclareMutable,"__esModule",{value:!0}),noDeclareMutable.NoDeclareMutableError=void 0;const e=requireAstring(),n=requireTypes(),i=["let","var"];class l{constructor(b){this.node=b,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const b=this.node.declarations[0].id.name,w=(0,e.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${b} = ${w};`}}noDeclareMutable.NoDeclareMutableError=l;const T={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(g,b){return i.includes(g.kind)?[new l(g)]:[]}}};return noDeclareMutable.default=T,noDeclareMutable}var noDotAbbreviation={},hasRequiredNoDotAbbreviation;function requireNoDotAbbreviation(){if(hasRequiredNoDotAbbreviation)return noDotAbbreviation;hasRequiredNoDotAbbreviation=1,Object.defineProperty(noDotAbbreviation,"__esModule",{value:!0}),noDotAbbreviation.NoDotAbbreviationError=void 0;const e=requireTypes();class n{constructor(T){this.node=T,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation.NoDotAbbreviationError=n;const i={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(l,T){return l.computed?[]:[new n(l)]}}};return noDotAbbreviation.default=i,noDotAbbreviation}var noEval={},hasRequiredNoEval;function requireNoEval(){if(hasRequiredNoEval)return noEval;hasRequiredNoEval=1,Object.defineProperty(noEval,"__esModule",{value:!0}),noEval.NoEval=void 0;const e=requireTypes();class n{constructor(T){this.node=T,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval.NoEval=n;const i={name:"no-eval",checkers:{Identifier(l,T){return l.name==="eval"?[new n(l)]:[]}}};return noEval.default=i,noEval}var noHolesInArrays={},hasRequiredNoHolesInArrays;function requireNoHolesInArrays(){if(hasRequiredNoHolesInArrays)return noHolesInArrays;hasRequiredNoHolesInArrays=1,Object.defineProperty(noHolesInArrays,"__esModule",{value:!0}),noHolesInArrays.NoHolesInArrays=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,n.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays.NoHolesInArrays=i;const l={name:"no-holes-in-arrays",checkers:{ArrayExpression(T){return T.elements.some(g=>g===null)?[new i(T)]:[]}}};return noHolesInArrays.default=l,noHolesInArrays}var noIfWithoutElse={},hasRequiredNoIfWithoutElse;function requireNoIfWithoutElse(){if(hasRequiredNoIfWithoutElse)return noIfWithoutElse;hasRequiredNoIfWithoutElse=1,Object.defineProperty(noIfWithoutElse,"__esModule",{value:!0}),noIfWithoutElse.NoIfWithoutElseError=void 0;const e=requireAstring(),n=requireTypes(),i=requireFormatters();class l{constructor(b){this.node=b,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,i.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,e.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse.NoIfWithoutElseError=l;const T={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(g,b){return g.alternate?[]:[new l(g)]}}};return noIfWithoutElse.default=T,noIfWithoutElse}var noImplicitDeclareUndefined={},hasRequiredNoImplicitDeclareUndefined;function requireNoImplicitDeclareUndefined(){if(hasRequiredNoImplicitDeclareUndefined)return noImplicitDeclareUndefined;hasRequiredNoImplicitDeclareUndefined=1,Object.defineProperty(noImplicitDeclareUndefined,"__esModule",{value:!0}),noImplicitDeclareUndefined.NoImplicitDeclareUndefinedError=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,n.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined.NoImplicitDeclareUndefinedError=i;const l={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(T,g){const b=[];for(const w of T.declarations)w.init||b.push(new i(w.id));return b}}};return noImplicitDeclareUndefined.default=l,noImplicitDeclareUndefined}var noImplicitReturnUndefined={},hasRequiredNoImplicitReturnUndefined;function requireNoImplicitReturnUndefined(){if(hasRequiredNoImplicitReturnUndefined)return noImplicitReturnUndefined;hasRequiredNoImplicitReturnUndefined=1,Object.defineProperty(noImplicitReturnUndefined,"__esModule",{value:!0}),noImplicitReturnUndefined.NoImplicitReturnUndefinedError=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,n.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined.NoImplicitReturnUndefinedError=i;const l={name:"no-implicit-return-undefined",checkers:{ReturnStatement(T,g){return T.argument?[]:[new i(T)]}}};return noImplicitReturnUndefined.default=l,noImplicitReturnUndefined}var noNull={},hasRequiredNoNull;function requireNoNull(){if(hasRequiredNoNull)return noNull;hasRequiredNoNull=1,Object.defineProperty(noNull,"__esModule",{value:!0}),noNull.NoNullError=void 0;const e=requireTypes();class n{constructor(T){this.node=T,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source 1 specs."}}noNull.NoNullError=n;const i={name:"no-null",disableOn:2,checkers:{Literal(l,T){return l.value===null?[new n(l)]:[]}}};return noNull.default=i,noNull}var noSpreadInArray={},hasRequiredNoSpreadInArray;function requireNoSpreadInArray(){if(hasRequiredNoSpreadInArray)return noSpreadInArray;hasRequiredNoSpreadInArray=1,Object.defineProperty(noSpreadInArray,"__esModule",{value:!0}),noSpreadInArray.NoSpreadInArray=void 0;const e=requireTypes();class n{constructor(T){this.node=T,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray.NoSpreadInArray=n;const i={name:"no-assignment-expression",checkers:{SpreadElement(l,T){return T[T.length-2].type==="CallExpression"?[]:[new n(l)]}}};return noSpreadInArray.default=i,noSpreadInArray}var noTemplateExpression={},hasRequiredNoTemplateExpression;function requireNoTemplateExpression(){if(hasRequiredNoTemplateExpression)return noTemplateExpression;hasRequiredNoTemplateExpression=1,Object.defineProperty(noTemplateExpression,"__esModule",{value:!0}),noTemplateExpression.NoTemplateExpressionError=void 0;const e=requireTypes();class n{constructor(T){this.node=T,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression.NoTemplateExpressionError=n;const i={name:"no-template-expression",checkers:{TemplateLiteral(l,T){return l.expressions.length>0?[new n(l)]:[]}}};return noTemplateExpression.default=i,noTemplateExpression}var noUnspecifiedLiteral={},hasRequiredNoUnspecifiedLiteral;function requireNoUnspecifiedLiteral(){if(hasRequiredNoUnspecifiedLiteral)return noUnspecifiedLiteral;hasRequiredNoUnspecifiedLiteral=1,Object.defineProperty(noUnspecifiedLiteral,"__esModule",{value:!0}),noUnspecifiedLiteral.NoUnspecifiedLiteral=void 0;const e=requireTypes(),n=["boolean","string","number"];class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral.NoUnspecifiedLiteral=i;const l={name:"no-unspecified-literal",checkers:{Literal(T,g){return T.value!==null&&!n.includes(typeof T.value)?[new i(T)]:[]}}};return noUnspecifiedLiteral.default=l,noUnspecifiedLiteral}var noUnspecifiedOperator={},hasRequiredNoUnspecifiedOperator;function requireNoUnspecifiedOperator(){if(hasRequiredNoUnspecifiedOperator)return noUnspecifiedOperator;hasRequiredNoUnspecifiedOperator=1,Object.defineProperty(noUnspecifiedOperator,"__esModule",{value:!0}),noUnspecifiedOperator.NoUnspecifiedOperatorError=void 0;const e=requireTypes();class n{constructor(T){this.node=T,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR,this.unspecifiedOperator=T.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator.NoUnspecifiedOperatorError=n;const i={name:"no-unspecified-operator",checkers:{BinaryExpression(l,T){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(l.operator)?[]:[new n(l)]},UnaryExpression(l){return["-","!"].includes(l.operator)?[]:[new n(l)]}}};return noUnspecifiedOperator.default=i,noUnspecifiedOperator}var noUpdateAssignment={},hasRequiredNoUpdateAssignment;function requireNoUpdateAssignment(){if(hasRequiredNoUpdateAssignment)return noUpdateAssignment;hasRequiredNoUpdateAssignment=1,Object.defineProperty(noUpdateAssignment,"__esModule",{value:!0}),noUpdateAssignment.NoUpdateAssignment=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const g=(0,e.generate)(this.node.left),b=(0,e.generate)(this.node.right),w=this.node.operator.slice(0,-1);return w==="+"||w==="-"||w==="/"||w==="*"?`
	${g} = ${g} ${w} ${b};`:""}}noUpdateAssignment.NoUpdateAssignment=i;const l={name:"no-update-assignment",checkers:{AssignmentExpression(T,g){return T.operator!=="="?[new i(T)]:[]}}};return noUpdateAssignment.default=l,noUpdateAssignment}var noVar={},hasRequiredNoVar;function requireNoVar(){if(hasRequiredNoVar)return noVar;hasRequiredNoVar=1,Object.defineProperty(noVar,"__esModule",{value:!0}),noVar.NoVarError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const g=this.node.declarations[0].id.name,b=(0,e.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${g} = ${b};`}}noVar.NoVarError=i;const l={name:"no-var",checkers:{VariableDeclaration(T,g){return T.kind==="var"?[new i(T)]:[]}}};return noVar.default=l,noVar}var singleVariableDeclaration={},hasRequiredSingleVariableDeclaration;function requireSingleVariableDeclaration(){if(hasRequiredSingleVariableDeclaration)return singleVariableDeclaration;hasRequiredSingleVariableDeclaration=1,Object.defineProperty(singleVariableDeclaration,"__esModule",{value:!0}),singleVariableDeclaration.MultipleDeclarationsError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR,this.fixs=g.declarations.map(b=>({type:"VariableDeclaration",kind:"let",loc:b.loc,declarations:[b]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(b=>"	"+(0,e.generate)(b)).join(`
`)+`
`}}singleVariableDeclaration.MultipleDeclarationsError=i;const l={name:"single-variable-declaration",checkers:{VariableDeclaration(T,g){return T.declarations.length>1?[new i(T)]:[]}}};return singleVariableDeclaration.default=l,singleVariableDeclaration}var hasRequiredRules;function requireRules(){if(hasRequiredRules)return rules;hasRequiredRules=1,Object.defineProperty(rules,"__esModule",{value:!0});const e=requireBracesAroundFor(),n=requireBracesAroundIfElse(),i=requireBracesAroundWhile(),l=requireForStatementMustHaveAllParts(),T=requireNoDeclareMutable(),g=requireNoDotAbbreviation(),b=requireNoEval(),w=requireNoHolesInArrays(),d=requireNoIfWithoutElse(),h=requireNoImplicitDeclareUndefined(),c=requireNoImplicitReturnUndefined(),a=requireNoNull(),o=requireNoSpreadInArray(),u=requireNoTemplateExpression(),f=requireNoUnspecifiedLiteral(),m=requireNoUnspecifiedOperator(),x=requireNoUpdateAssignment(),E=requireNoVar(),S=requireSingleVariableDeclaration(),R=[e.default,n.default,i.default,l.default,T.default,g.default,d.default,h.default,c.default,a.default,f.default,m.default,x.default,E.default,S.default,b.default,w.default,u.default,o.default];return rules.default=R,rules}var syntaxBlacklist={},hasRequiredSyntaxBlacklist;function requireSyntaxBlacklist(){return hasRequiredSyntaxBlacklist||(hasRequiredSyntaxBlacklist=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.libraryParserLanguage=void 0,e.libraryParserLanguage=100;const n={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:e.libraryParserLanguage,NewExpression:e.libraryParserLanguage,TryStatement:e.libraryParserLanguage,CatchClause:e.libraryParserLanguage,ThrowStatement:e.libraryParserLanguage,ThisExpression:e.libraryParserLanguage,Super:e.libraryParserLanguage,ClassDeclaration:e.libraryParserLanguage,ClassExpression:e.libraryParserLanguage,Class:e.libraryParserLanguage,ClassBody:e.libraryParserLanguage,MethodDefinition:e.libraryParserLanguage,FunctionExpression:e.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};e.default=n})(syntaxBlacklist)),syntaxBlacklist}var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.typedParse=e.looseParse=e.parseWithComments=e.createAcornParserOptions=e.tokenize=e.parse=e.parseAt=e.TrailingCommaError=e.MissingSemicolonError=e.FatalSyntaxError=e.DisallowedConstructError=void 0;const n=requireAcorn$1(),i=requireAcornLoose(),l=requireConstants(),T=requireTypes(),g=requireFormatters(),b=requireWalkers(),w=requireValidator(),d=requireRules(),h=requireSyntaxBlacklist();class c{constructor(A){this.node=A,this.type=T.ErrorType.SYNTAX,this.severity=T.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,g.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(A){switch(A){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return A.split(/(?=[A-Z])/).map((P,B)=>B===0?P:P.toLowerCase()).join(" ")+"s"}}}e.DisallowedConstructError=c;class a{constructor(A,$){this.location=A,this.message=$,this.type=T.ErrorType.SYNTAX,this.severity=T.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}e.FatalSyntaxError=a;class o{constructor(A){this.location=A,this.type=T.ErrorType.SYNTAX,this.severity=T.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}e.MissingSemicolonError=o;class u{constructor(A){this.location=A}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}e.TrailingCommaError=u;function f(I,A){let $;try{$=(0,n.parseExpressionAt)(I,A,l.ACORN_PARSE_OPTIONS)}catch{return}return $}e.parseAt=f;function m(I,A){let $;try{$=(0,n.parse)(I,(0,e.createAcornParserOptions)(A)),(0,b.ancestor)($,F,void 0,A)}catch(B){if(B instanceof SyntaxError){const U=B.loc,W={start:{line:U.line,column:U.column},end:{line:U.line,column:U.column+1}};A.errors.push(new a(W,B.toString()))}else throw B}const P=A.errors.find(B=>B.severity===T.ErrorSeverity.ERROR);if($&&!P)return $}e.parse=m;function x(I,A){return[...(0,n.tokenizer)(I,(0,e.createAcornParserOptions)(A))]}e.tokenize=x;const E=I=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(A,$){I.errors.push(new o({end:{line:$.line,column:$.column+1},start:$}))},onTrailingComma(A,$){I.errors.push(new u({end:{line:$.line,column:$.column+1},start:$}))}});e.createAcornParserOptions=E;function S(I){let A=[];const $={sourceType:"module",ecmaVersion:6,locations:!0,onComment:A};let P;try{P=(0,n.parse)(I,$)}catch{A=[],P=(0,i.parse)(I,$)}return[P,A]}e.parseWithComments=S;function R(I,A){return(0,i.parse)(I,(0,e.createAcornParserOptions)(A))}e.looseParse=R;function M(I,A){const $=R(I,A);return $===void 0?null:(0,w.validateAndAnnotate)($,A)}e.typedParse=M;function k(I,A){const $=new Map,P=new Set;return Object.entries(I).map(U=>{const W=U[0];$.set(W,(j,H,Q)=>{P.has(j)||(P.add(j),H.chapter<I[j.type]&&H.errors.push(new c(j)))})}),A.forEach(U=>{const W=U.checkers;Object.entries(W).forEach(H=>{const Q=H[0],X=H[1],ee=$.get(Q),ie=(ne,ae,re)=>{if(typeof U.disableOn<"u"&&ae.chapter>=U.disableOn)return;X(ne,re).forEach(pe=>ae.errors.push(pe))};$.set(Q,(ne,ae,re)=>{ee(ne,ae,re),ie(ne,ae,re)})})}),v($)}const v=I=>Array.from(I).reduce((A,[$,P])=>Object.assign(A,{[$]:P}),{}),F=k(h.default,d.default)})(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const e=requireParser$1(),n=requireSyntaxBlacklist(),i=requireFormatters(),l=requireList();class T extends Error{constructor(f){super(f),this.name="ParseError"}}function g(){console.error((0,i.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function b(u){return u.length===1?c(u[0]):(0,l.vector_to_list)(["sequence",(0,l.vector_to_list)(u.map(c))])}function w(u){return d(u)?(0,l.vector_to_list)(["block",b(u)]):b(u)}function d(u){return u.reduce((f,m)=>f||m.type==="VariableDeclaration"||m.type==="FunctionDeclaration",!1)}const h=new Map([["Program",u=>(u=u,b(u.body))],["BlockStatement",u=>w(u.body)],["ExpressionStatement",u=>c(u.expression)],["IfStatement",u=>(0,l.vector_to_list)(["conditional_statement",c(u.test),c(u.consequent),u.alternate===null?b([]):c(u.alternate)])],["FunctionDeclaration",u=>(0,l.vector_to_list)(["function_declaration",c(u.id),(0,l.vector_to_list)(u.params.map(c)),w(u.body.body)])],["VariableDeclaration",u=>{if(u.kind==="let")return(0,l.vector_to_list)(["variable_declaration",c(u.declarations[0].id),c(u.declarations[0].init)]);if(u.kind==="const")return(0,l.vector_to_list)(["constant_declaration",c(u.declarations[0].id),c(u.declarations[0].init)]);throw g(),new T("Invalid declaration kind")}],["ReturnStatement",u=>(0,l.vector_to_list)(["return_statement",c(u.argument)])],["CallExpression",u=>(0,l.vector_to_list)(["application",c(u.callee),(0,l.vector_to_list)(u.arguments.map(c))])],["UnaryExpression",u=>(0,l.vector_to_list)(["unary_operator_combination",u.operator==="-"?"-unary":u.operator,c(u.argument)])],["BinaryExpression",u=>(0,l.vector_to_list)(["binary_operator_combination",u.operator,c(u.left),c(u.right)])],["LogicalExpression",u=>(0,l.vector_to_list)(["logical_composition",u.operator,c(u.left),c(u.right)])],["ConditionalExpression",u=>(0,l.vector_to_list)(["conditional_expression",c(u.test),c(u.consequent),c(u.alternate)])],["ArrowFunctionExpression",u=>(0,l.vector_to_list)(["lambda_expression",(0,l.vector_to_list)(u.params.map(c)),u.body.type==="BlockStatement"?w(u.body.body):(0,l.vector_to_list)(["return_statement",c(u.body)])])],["Identifier",u=>(0,l.vector_to_list)(["name",u.name])],["Literal",u=>(0,l.vector_to_list)(["literal",u.value])],["ArrayExpression",u=>(0,l.vector_to_list)(["array_expression",(0,l.vector_to_list)(u.elements.map(c))])],["AssignmentExpression",u=>{if(u.left.type==="Identifier")return(0,l.vector_to_list)(["assignment",c(u.left),c(u.right)]);if(u.left.type==="MemberExpression")return(0,l.vector_to_list)(["object_assignment",c(u.left),c(u.right)]);throw g(),new T("Invalid assignment")}],["ForStatement",u=>(0,l.vector_to_list)(["for_loop",c(u.init),c(u.test),c(u.update),c(u.body)])],["WhileStatement",u=>(0,l.vector_to_list)(["while_loop",c(u.test),c(u.body)])],["BreakStatement",u=>(0,l.vector_to_list)(["break_statement"])],["ContinueStatement",u=>(0,l.vector_to_list)(["continue_statement"])],["ObjectExpression",u=>(0,l.vector_to_list)(["object_expression",(0,l.vector_to_list)(u.properties.map(c))])],["MemberExpression",u=>(0,l.vector_to_list)(["object_access",c(u.object),!u.computed&&u.property.type==="Identifier"?(0,l.vector_to_list)(["property",u.property.name]):c(u.property)])],["Property",u=>(0,l.vector_to_list)(["key_value_pair",u.key.type==="Identifier"?(0,l.vector_to_list)(["property",u.key.name]):c(u.key),c(u.value)])],["ImportDeclaration",u=>(0,l.vector_to_list)(["import_declaration",(0,l.vector_to_list)(u.specifiers.map(c)),u.source.value])],["ImportSpecifier",u=>(0,l.vector_to_list)(["name",u.imported.name])],["ClassDeclaration",u=>(0,l.vector_to_list)(["class_declaration",(0,l.vector_to_list)(["name",u.id===null?null:u.id.name,u.superClass===null||u.superClass===void 0?null:c(u.superClass),u.body.body.map(c)])])],["NewExpression",u=>(0,l.vector_to_list)(["new_expression",c(u.callee),(0,l.vector_to_list)(u.arguments.map(c))])],["MethodDefinition",u=>(0,l.vector_to_list)(["method_definition",u.kind,u.static,c(u.key),c(u.value)])],["FunctionExpression",u=>(0,l.vector_to_list)(["lambda_expression",(0,l.vector_to_list)(u.params.map(c)),w(u.body.body)])],["ThisExpression",u=>(0,l.vector_to_list)(["this_expression"])],["Super",u=>(0,l.vector_to_list)(["super_expression"])],["TryStatement",u=>(0,l.vector_to_list)(["try_statement",c(u.block),u.handler===null||u.handler===void 0?null:(0,l.vector_to_list)(["name",u.handler.param.name]),u.handler===null||u.handler===void 0?null:c(u.handler.body)])],["ThrowStatement",u=>(0,l.vector_to_list)(["throw_statement",c(u.argument)])],["SpreadElement",u=>(0,l.vector_to_list)(["spread_element",c(u.argument)])],["RestElement",u=>(0,l.vector_to_list)(["rest_element",c(u.argument)])]]);function c(u){if(h.has(u.type)){const m=h.get(u.type)(u);return m!=null&&typeof m=="object"&&m.tag!==void 0&&(m.loc=u.loc),m}else throw g(),new T("Cannot transform unknown type: "+u.type)}function a(u,f){f.chapter=n.libraryParserLanguage;const m=(0,e.parse)(u,f);if(f.errors.length>0)throw new T(f.errors[0].explain());if(m!==void 0)return c(m);throw g(),new T("Invalid parse")}parser$1.parse=a;function o(u,f){const m=(0,e.tokenize)(u,f).map(x=>u.substring(x.start,x.end));return(0,l.vector_to_list)(m)}return parser$1.tokenize=o,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const e=requireList();function n(T){let g;if((0,e.is_pair)(T))g=T[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+T);if(typeof g=="function")return g();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+g)}stream.stream_tail=n;function i(...T){return l((0,e.list)(...T))}stream.stream=i;function l(T){return(0,e.is_null)(T)?null:(0,e.pair)((0,e.head)(T),()=>l((0,e.tail)(T)))}return stream.list_to_stream=l,stream}var stream_prelude={},hasRequiredStream_prelude;function requireStream_prelude(){return hasRequiredStream_prelude||(hasRequiredStream_prelude=1,Object.defineProperty(stream_prelude,"__esModule",{value:!0}),stream_prelude.streamPrelude=void 0,stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`),stream_prelude}var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const e=requireAstring(),n=requireTypes(),i=requireFormatters(),l=requireStringify();class T{constructor(M,k){this.node=M,this.receivedType=k,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,l.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=T;class g{constructor(M,k,v){this.node=M,this.arrayType=k,this.receivedType=v,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`Expected array type: ${(0,l.typeToString)(this.arrayType)}
    but got: ${(0,l.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=g;class b{constructor(M){this.node=M,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[M]=d(this.node);return`Reassignment of constant ${M}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=b;class w{constructor(M,k,v){this.node=M,this.expectedType=k,this.receivedType=v,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[M,k]=d(this.node);return(0,i.stripIndent)`
    Expected assignment of ${M}:
      ${k}
    to get a value of type:
      ${(0,l.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,l.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=w;function d(R){const M=R.left,k=(0,i.simplify)((0,e.generate)(R.right));return[M.name,k]}class h{constructor(M){this.node=M,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${c(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=h;function c(R){var M;return["VariableDeclaration","FunctionDeclaration"].includes(R.type)?R.type==="VariableDeclaration"?R.declarations[0].id.name:(M=R.id)===null||M===void 0?void 0:M.name:R.type==="Identifier"?R.name:JSON.stringify(R)}class a{constructor(M,k,v){this.node=M,this.numExpectedArgs=k,this.numReceived=v,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=a;class o{constructor(M,k,v,F){this.node=M,this.args=k,this.expectedTypes=v,this.receivedTypes=F,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const M=this.args.map(F=>(0,i.simplify)((0,e.generate)(F)));if("operator"in this.node){const F=this.node.operator;return this.expectedTypes.length===2?(0,i.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${M[0]} ${F} ${M[1]}
        The binary operator (${F}) expected two operands with types:
          ${(0,l.typeToString)(this.expectedTypes[0])} ${F} ${(0,l.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,l.typeToString)(this.receivedTypes[0])} ${F} ${(0,l.typeToString)(this.receivedTypes[1])}
        `:(0,i.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${F} ${M[0]}
        The unary operator (${F}) expected its operand to be of type:
          ${(0,l.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,l.typeToString)(this.receivedTypes[0])}
        `}const k=(0,i.simplify)((0,e.generate)(this.node));function v(F){switch(F.length){case 1:return`an argument of type:
      ${(0,l.typeToString)(F[0])}`;default:return`${F.length} arguments of types:
      ${F.map(l.typeToString).join(", ")}`}}return(0,i.stripIndent)`
    A type mismatch was detected in the function call:
      ${k}
    The function expected ${v(this.expectedTypes)}
    but instead received ${v(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=o;function u(R){let M=(0,i.simplify)((0,e.generate)(R.test)),k;switch(R.type){case"IfStatement":{M=`if (${M}) { ... } else { ... }`,k="if statement";break}case"ConditionalExpression":{M=`${M} ? ... : ...`,k="conditional expression";break}case"WhileStatement":{M=`while (${M}) { ... }`,k="while statement";break}case"ForStatement":M=`for (...; ${M}; ...) { ... }`,k="for statement"}return{exprString:M,kind:k}}class f{constructor(M,k){this.node=M,this.receivedType=k,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:M,kind:k}=u(this.node);return(0,i.stripIndent)`
    Expected the test part of the ${k}:
      ${M}
    to have type boolean, but instead it is type:
      ${(0,l.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=f;class m{constructor(M,k){this.node=M,this.name=k,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=m;class x{constructor(M,k,v){this.node=M,this.consequentType=k,this.alternateType=v,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:M,kind:k}=u(this.node);return(0,i.stripIndent)`
    The two branches of the ${k}:
      ${M}
    produce different types!
    The true branch has type:
      ${(0,l.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,l.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=x;class E{constructor(M,k){this.node=M,this.callerType=k,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`
    In
      ${(0,i.simplify)((0,e.generate)(this.node))}
    expected
      ${(0,i.simplify)((0,e.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,l.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=E;class S{constructor(M,k,v,F){this.node=M,this.argVarName=k,this.preUnifyType=v,this.predicateType=F,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const M=(0,e.generate)(this.node);return(0,i.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${M}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,l.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,l.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=S,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const e=requireTypes(),n=requireStringify();class i{constructor(d,h){this.node=d,this.message=h,this.type=e.ErrorType.TYPE,this.severity=e.ErrorSeverity.WARNING,d.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=i;class l extends Error{constructor(d){super(),this.message=d}}internalTypeErrors.InternalTypeError=l;class T extends l{constructor(d,h){super(`Failed to unify LHS: ${(0,n.typeToString)(d)}, RHS: ${(0,n.typeToString)(h)}`),this.LHS=d,this.RHS=h}}internalTypeErrors.UnifyError=T;class g extends l{constructor(d,h){super(`Expected ${d} args, got ${h}`),this.numExpectedArgs=d,this.numReceived=h}}internalTypeErrors.InternalDifferentNumberArgumentsError=g;class b extends l{constructor(d){super("contains a cyclic reference to itself"),this.name=d}}return internalTypeErrors.InternalCyclicReferenceError=b,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const e=requireTypeErrors(),n=requireParser$1(),i=requireStringify(),l=requireInternalTypeErrors(),T="-_1";let g=0;function b(we,Ee){if(we!==null){if(Ee&&we.typability!=="Untypable")try{we.inferredType=M(we.inferredType,Ee),we.typability="Typed"}catch(Ae){c(Ae)&&!(Ae instanceof l.InternalCyclicReferenceError)&&u(new l.TypeError(we,Ae))}else we.inferredType=he(g),g++;switch(we.type){case"Program":{we.body.forEach(Ae=>{b(Ae,Ee)});break}case"UnaryExpression":{b(we.argument,Ee);break}case"LogicalExpression":case"BinaryExpression":{b(we.left,Ee),b(we.right,Ee);break}case"ExpressionStatement":{b(we.expression,Ee);break}case"BlockStatement":{we.body.forEach(Ae=>{b(Ae,Ee)});break}case"WhileStatement":{b(we.test,Ee),b(we.body,Ee);break}case"ForStatement":{b(we.init,Ee),b(we.test,Ee),b(we.update,Ee),b(we.body,Ee);break}case"ConditionalExpression":case"IfStatement":{b(we.test,Ee),b(we.consequent,Ee),we.alternate&&b(we.alternate,Ee);break}case"CallExpression":{b(we.callee,Ee),we.arguments.forEach(Ae=>{b(Ae,Ee)});break}case"ReturnStatement":{const Ae=we.argument;b(Ae,Ee);break}case"VariableDeclaration":{const Ae=we.declarations[0].init;b(Ae,Ee);break}case"ArrowFunctionExpression":{we.params.forEach(Ae=>{b(Ae,Ee)}),b(we.body,Ee);break}case"FunctionDeclaration":{const Ae=we;if(Ee)try{Ae.functionInferredType=M(Ae.functionInferredType,Ee)}catch(mt){mt instanceof l.InternalCyclicReferenceError?u(new e.CyclicReferenceError(we)):c(mt)&&u(new l.TypeError(we,mt))}else Ae.functionInferredType=he(g);g++,Ae.params.forEach(mt=>{b(mt,Ee)}),b(Ae.body,Ee);break}case"AssignmentExpression":b(we.left,Ee),b(we.right,Ee);break;case"ArrayExpression":we.elements.forEach(Ae=>b(Ae,Ee));break;case"MemberExpression":b(we.object,Ee),b(we.property,Ee);break;default:return}}}function w(we){return we.kind==="pair"}function d(we){return we.kind==="list"}function h(we){return d(we)?we.elementType:null}function c(we){return we instanceof l.InternalTypeError}let a=!1,o=[];function u(we){we instanceof e.UndefinedIdentifierError&&a||(a=!0,o.push(we))}function f(we,Ee){function Ae(mt){g=0,a=!1,o=[];const _t=Ee.typeEnvironment;if(Ee.chapter>=3&&_t.length===3){const Ce=_t[2].typeMap;for(const[Ke,pt]of wt)Ce.set(Ke,pt)}const st=[];b(mt);try{re(mt,_t,st,!0)}catch(Ce){c(Ce)?u(new l.TypeError(mt,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+Ce.message)):u(new l.TypeError(mt,`Uncaught error during typechecking, report this to the adminstrators!
`+Ce.message))}return b(mt,st),[mt,o]}for(const mt of Ee.unTypecheckedCode)Ae((0,n.typedParse)(mt,Ee));return Ee.unTypecheckedCode=[],Ae(we)}typeChecker.typeCheck=f;function m(we){const Ee=g;return g++,Object.assign(Object.assign({},we),{name:`T${Ee}`})}function x(we,Ee){switch(we.kind){case"primitive":return we;case"list":return{kind:"list",elementType:x(we.elementType,Ee)};case"array":return{kind:"array",elementType:x(we.elementType,Ee)};case"pair":return{kind:"pair",headType:x(we.headType,Ee),tailType:x(we.tailType,Ee)};case"variable":return Ee[we.name];case"function":return Object.assign(Object.assign({},we),{parameterTypes:we.parameterTypes.map(Ae=>x(Ae,Ee)),returnType:x(we.returnType,Ee)})}}function E(we,Ee){const Ae=[...we];return Ee.forEach(mt=>{Ae.findIndex(_t=>_t.name===mt.name)===-1&&Ae.push(mt)}),Ae}function S(we){switch(we.kind){case"primitive":return[];case"list":return S(we.elementType);case"array":return S(we.elementType);case"pair":return E(S(we.headType),S(we.tailType));case"variable":return[we];case"function":return E(we.parameterTypes.reduce((Ee,Ae)=>E(Ee,S(Ae)),[]),S(we.returnType))}}function R(we){const Ee=we.polyType,Ae=S(Ee),mt={};return Ae.forEach(_t=>{mt[_t.name]=m(_t)}),x(Ee,mt)}function M(we,Ee){switch(we.kind){case"primitive":return we;case"pair":{const Ae=M(we.headType,Ee),mt=M(we.tailType,Ee);return mt.kind==="list"&&Ae===h(mt)?Oe(Ae):Le(Ae,mt)}case"list":return{kind:"list",elementType:M(we.elementType,Ee)};case"array":return{kind:"array",elementType:M(we.elementType,Ee)};case"variable":{for(const Ae of Ee){const mt=Ae[0],_t=Ae[1];if(mt.name===we.name){if(k(_t,mt.name)){if(w(_t)&&mt===_t.tailType)return{kind:"list",elementType:_t.headType};if(mt.kind==="variable"&&mt===h(_t))return{kind:"list",elementType:mt};throw new l.InternalCyclicReferenceError(we.name)}return M(Ae[1],Ee)}}return we}case"function":return Object.assign(Object.assign({},we),{parameterTypes:we.parameterTypes.map(Ae=>M(Ae,Ee)),returnType:M(we.returnType,Ee)})}}function k(we,Ee){switch(we.kind){case"primitive":return!1;case"pair":return k(we.headType,Ee)||k(we.tailType,Ee);case"array":case"list":return k(we.elementType,Ee);case"variable":return we.name===Ee;case"function":return we.parameterTypes.some(mt=>k(mt,Ee))||k(we.returnType,Ee)}}function v(we,Ee,Ae){for(const mt of Ee)if(mt[0].name===we.name)return $(Ee,[Ae,mt[1]]);return Ae.kind==="variable"&&we.constraint==="addable"&&Ae.constraint==="none"&&(Ae.constraint=we.constraint),we!==Ae&&Ee.push([we,Ae]),Ee}function F(we,Ee){return we.constraint==="addable"&&Ee.kind!=="variable"&&!(Ee.kind==="primitive"&&(Ee.name==="string"||Ee.name==="number"))}function I(we){return{kind:"function",parameterTypes:[m(he("T"))],returnType:Se}}function A(){return Ve(m(he("T")),Se)}function $(we,[Ee,Ae]){if(Ee.kind==="primitive"&&Ae.kind==="primitive"&&Ee.name===Ae.name)return we;if(Ee.kind!=="variable"&&Ae.kind==="variable")return $(we,[Ae,Ee]);if(Ee.kind==="variable"){if(Ae=M(Ae,we),(Ae.kind==="primitive"||Ae.kind==="variable")&&Ee.name===Ae.name)return we;if(Ae.kind==="pair"&&Ee===Ae.tailType)$(we,[Ee,Oe(Ae.headType)]);else if(Ae.kind==="pair"&&Ae.tailType.kind==="list"){const mt=$(we,[Ae.headType,h(Ae.tailType)]);return $(mt,[Ee,Oe(Ae.headType)])}else if(k(Ae,Ee.name))throw new l.InternalCyclicReferenceError(Ee.name);if(F(Ee,Ae))throw new l.UnifyError(Ee,Ae);return v(Ee,we,M(Ae,we))}else if(Ee.kind==="function"&&Ae.kind==="function"){if(Ee.parameterTypes.length!==Ae.parameterTypes.length)throw new l.InternalDifferentNumberArgumentsError(Ae.parameterTypes.length,Ee.parameterTypes.length);let mt=we;for(let _t=0;_t<Ee.parameterTypes.length;_t++)mt=$(mt,[Ee.parameterTypes[_t],Ae.parameterTypes[_t]]);return mt=$(mt,[Ee.returnType,Ae.returnType]),mt}else if(Ee.kind==="pair"&&Ae.kind==="pair"){const mt=$(we,[Ee.headType,Ae.headType]);return $(mt,[Ee.tailType,Ae.tailType])}else{if(Ee.kind==="list"&&Ae.kind==="list")return $(we,[Ee.elementType,Ae.elementType]);if(Ee.kind==="list"&&Ae.kind==="pair")return $(we,[Ae,Le(Ee.elementType,Ee)]);if(Ae.kind==="list"&&Ee.kind==="pair")return $(we,[Ee,Le(Ae.elementType,Ae)]);if(Ee.kind==="array"&&Ae.kind==="array")return $(we,[Ee.elementType,Ae.elementType])}throw new l.UnifyError(Ee,Ae)}function P(we,Ee,Ae,mt,_t,st){ae(_t);for(const Ce of Ee)ie(Ce.argVarName,m(he("PredicatedT")),_t);for(const Ce of Ee){const Ke=X(Ce.argVarName,_t),pt=M(Ke,st),it=Ce.ifTrueType.kind==="forall"?R(Ce.ifTrueType):Ce.ifTrueType;try{st=$(st,[Ke,it])}catch(Rt){Rt instanceof l.UnifyError&&u(new e.InconsistentPredicateTestError(Ce.node,Ce.argVarName,pt,it))}}return st=re(Ae,_t,st,mt),_t.pop(),st}function B(we,Ee,Ae,mt,_t,st,Ce){if(Ce=P(we,Ee,Ae,_t,st,Ce),mt!==void 0)try{Ce=re(mt,st,Ce,_t)}catch(Ke){Ke instanceof l.UnifyError&&u(new e.ConsequentAlternateMismatchError(we,Ke.RHS,Ke.LHS))}return Ce}function U(we){switch(we.type){case"IfStatement":return U(we.consequent)||U(we.alternate);case"BlockStatement":return we.body.some(Ee=>U(Ee));case"ForStatement":case"WhileStatement":return U(we.body);case"ReturnStatement":return!0;default:return!1}}function W(we){switch(we.type){case"ExpressionStatement":return!0;case"IfStatement":return W(we.consequent)||W(we.alternate);case"BlockStatement":return we.body.some(Ee=>W(Ee));case"ForStatement":case"WhileStatement":return W(we.body);default:return!1}}function j(we,Ee,Ae=[]){if(we.type==="LogicalExpression"&&we.operator==="&&")return Ae=j(we.left,Ee,Ae),j(we.right,Ee,Ae);if(we.type==="UnaryExpression"&&we.operator==="!")return H(we.argument,Ee,Ae);if(we.type==="CallExpression"&&we.callee.type==="Identifier"&&we.arguments.length===1&&we.arguments[0].type==="Identifier"){const mt=X(we.callee.name,Ee);if(mt!==void 0&&mt.kind==="predicate")return Ae.push({node:we,ifTrueType:mt.ifTrueType,argVarName:we.arguments[0].name}),Ae}return Ae}function H(we,Ee,Ae=[]){return we.type==="LogicalExpression"&&we.operator==="||"?(Ae=H(we.left,Ee,Ae),H(we.right,Ee,Ae)):we.type==="UnaryExpression"&&we.operator==="!"?j(we.argument,Ee,Ae):Ae}function Q(we,Ee){const Ae=we.body.length-1;if(Ee){for(let mt=Ae;mt>=0;mt--)if(W(we.body[mt]))return mt;return Ae}else return we.body.findIndex((mt,_t)=>_t===Ae||U(mt))}function X(we,Ee){for(let Ae=Ee.length-1;Ae>=0;Ae--)if(Ee[Ae].typeMap.has(we))return Ee[Ae].typeMap.get(we)}function ee(we,Ee){for(let Ae=Ee.length-1;Ae>=0;Ae--)if(Ee[Ae].declKindMap.has(we))return Ee[Ae].declKindMap.get(we)}function ie(we,Ee,Ae){Ae[Ae.length-1].typeMap.set(we,Ee)}function ne(we,Ee,Ae){Ae[Ae.length-1].declKindMap.set(we,Ee)}function ae(we){we.push({typeMap:new Map,declKindMap:new Map})}function re(we,Ee,Ae,mt=!1){try{return fe(we,Ee,Ae,mt)}catch(_t){if(_t instanceof l.InternalCyclicReferenceError)return u(new e.CyclicReferenceError(we)),Ae;throw _t}}function fe(we,Ee,Ae,mt=!1){const _t=we.inferredType;switch(we.type){case"UnaryExpression":{const st=we.operator==="-"?T:we.operator,Ce=X(st,Ee),Ke=we.argument,pt=Ke.inferredType,it=[];let Rt=re(Ke,Ee,Ae);it.push(M(Ke.inferredType,Rt));try{Rt=$(Rt,[Ve(pt,_t),Ce])}catch(dt){if(dt instanceof l.UnifyError){const bt=Ce.parameterTypes;return u(new e.InvalidArgumentTypesError(we,[Ke],bt,it)),Rt}}return Rt}case"LogicalExpression":{const st=we.left,Ce=st.inferredType,Ke=we.right,pt=Ke.inferredType;let it=Ae;it=$(Ae,[_t,Se]),it=re(st,Ee,it);const Rt=M(st.inferredType,it);let dt;if(we.operator==="&&"){const bt=j(we.left,Ee);bt.length>0&&(it=P(we,bt,we.right,mt,Ee,it),dt=M(Ke.inferredType,it))}else if(we.operator==="||"){const bt=H(we.left,Ee);bt.length>0&&(it=P(we,bt,we.right,mt,Ee,it),dt=M(Ke.inferredType,it))}dt===void 0&&(it=re(Ke,Ee,it),dt=M(Ke.inferredType,it));try{it=$(Ae,[Ce,Se]),it=$(Ae,[pt,Se])}catch(bt){bt instanceof l.UnifyError&&u(new e.InvalidArgumentTypesError(we,[st,Ke],[Se,Se],[Rt,dt]))}return it}case"BinaryExpression":{const st=X(we.operator,Ee),Ce=st.kind==="forall"?R(st):st.kind==="predicate"?I():st,Ke=we.left,pt=Ke.inferredType,it=we.right,Rt=it.inferredType,dt=[Ke,it];let bt=Ae;const At=[];dt.forEach(nt=>{bt=re(nt,Ee,bt),At.push(M(nt.inferredType,bt))});try{bt=$(Ae,[Ve(pt,Rt,_t),Ce])}catch(nt){if(nt instanceof l.UnifyError){const vt=Ce.parameterTypes;u(new e.InvalidArgumentTypesError(we,dt,vt,At))}}return bt}case"ExpressionStatement":return re(we.expression,Ee,$(Ae,[_t,Je]));case"ReturnStatement":{const st=we.argument;return re(st,Ee,$(Ae,[_t,st.inferredType]))}case"WhileStatement":{const st=we.test,Ce=st.inferredType,Ke=we.body,pt=Ke.inferredType;let it=$(Ae,[_t,pt]);try{it=re(st,Ee,it),it=$(it,[Ce,Se])}catch(Rt){Rt instanceof l.UnifyError&&u(new e.InvalidTestConditionError(we,Rt.RHS))}return re(Ke,Ee,it,mt)}case"ForStatement":{const st=we.init,Ce=we.test,Ke=Ce.inferredType,pt=we.body,it=pt.inferredType,Rt=we.update;let dt=$(Ae,[_t,it]);if(ae(Ee),st.type==="VariableDeclaration"&&st.kind!=="var"&&st.declarations[0].id.type==="Identifier"){const At=st.declarations[0].id.name;ie(At,st.declarations[0].init.inferredType,Ee),ne(At,st.kind,Ee),dt=re(st,Ee,dt),ie(At,Ne(M(st.declarations[0].init.inferredType,dt)),Ee)}else dt=re(st,Ee,dt);try{dt=re(Ce,Ee,dt),dt=$(dt,[Ke,Se])}catch(At){At instanceof l.UnifyError&&u(new e.InvalidTestConditionError(we,At.RHS))}dt=re(Rt,Ee,dt);const bt=re(pt,Ee,dt,mt);return Ee.pop(),bt}case"Program":case"BlockStatement":{ae(Ee);for(const nt of we.body)if(nt.type==="ImportDeclaration")for(const vt of nt.specifiers)vt.type==="ImportSpecifier"&&vt.local.type==="Identifier"&&(ie(vt.local.name,Ne(he("T1")),Ee),ne(vt.local.name,"const",Ee));const st=we.body.length-1,Ce=Q(we,mt);let Ke=-1,pt=!1,it=st;const Rt=[];for(;it>=0;){const nt=we.body[it];(nt.type==="FunctionDeclaration"||nt.type==="VariableDeclaration")&&(pt||(pt=!0,Ke=it),Rt.push(nt)),it--}Rt.forEach(nt=>{if(nt.type==="FunctionDeclaration"&&nt.id!==null){const vt=nt.id.name;ie(vt,nt.functionInferredType,Ee),ne(vt,"const",Ee)}else if(nt.type==="VariableDeclaration"&&nt.kind!=="var"&&nt.declarations[0].id.type==="Identifier"){const vt=nt.declarations[0].id.name;ie(vt,nt.declarations[0].init.inferredType,Ee),ne(vt,nt.kind,Ee)}});const dt=we.body[Ce],bt=mt&&dt.type==="ExpressionStatement"?dt.expression.inferredType:dt.inferredType;let At=$(Ae,[_t,bt]);for(let nt=0;nt<=Ke;nt++)nt===Ce?At=re(we.body[nt],Ee,At,mt):At=re(we.body[nt],Ee,At);Rt.forEach(nt=>{nt.type==="FunctionDeclaration"&&nt.id!==null?ie(nt.id.name,Ne(M(nt.functionInferredType,At)),Ee):nt.type==="VariableDeclaration"&&nt.declarations[0].id.type==="Identifier"&&ie(nt.declarations[0].id.name,Ne(M(nt.declarations[0].init.inferredType,At)),Ee)});for(let nt=Ke+1;nt<=st;nt++){const vt=we.body[nt];nt===Ce?At=re(vt,Ee,At,mt):At=re(vt,Ee,At)}return we.type==="BlockStatement"&&Ee.pop(),At}case"Literal":{const st=we.value,Ce=typeof st;if(st===null)return $(Ae,[_t,Oe(he(g++))]);if(Ce==="number")return $(Ae,[_t,ge]);if(Ce==="boolean")return $(Ae,[_t,Se]);if(Ce==="string")return $(Ae,[_t,Pe]);throw Error("Unexpected literal type")}case"Identifier":{const st=we.name,Ce=X(st,Ee);return Ce!==void 0?Ce.kind==="forall"?$(Ae,[_t,R(Ce)]):Ce.kind==="predicate"?$(Ae,[_t,A()]):$(Ae,[_t,Ce]):(u(new e.UndefinedIdentifierError(we,st)),Ae)}case"ConditionalExpression":case"IfStatement":{const st=we.test,Ce=st.inferredType,Ke=we.consequent,pt=Ke.inferredType,it=we.alternate,Rt=it.inferredType;let dt=Ae;try{dt=re(st,Ee,dt),dt=$(dt,[Ce,Se])}catch(nt){nt instanceof l.UnifyError&&u(new e.InvalidTestConditionError(we,nt.RHS))}const bt=j(st,Ee),At=H(st,Ee);if(bt.length>0)dt=B(we,bt,Ke,it,mt,Ee,dt);else if(At.length>0)dt=B(we,At,it,Ke,mt,Ee,dt);else{dt=re(Ke,Ee,dt,mt);try{dt=re(it,Ee,dt,mt)}catch(nt){nt instanceof l.UnifyError&&u(new e.ConsequentAlternateMismatchError(we,nt.RHS,nt.LHS))}}try{dt=$(dt,[_t,pt]),dt=$(dt,[_t,Rt])}catch(nt){nt instanceof l.UnifyError&&u(new e.ConsequentAlternateMismatchError(we,nt.RHS,nt.LHS))}return dt}case"ArrowFunctionExpression":{ae(Ee);const st=we.params,Ce=st.map(Rt=>Rt.inferredType),Ke=we.body;Ce.push(Ke.inferredType);const pt=$(Ae,[_t,Ve(...Ce)]);st.forEach(Rt=>{ie(Rt.name,Rt.inferredType,Ee)});const it=re(Ke,Ee,pt);return Ee.pop(),it}case"VariableDeclaration":{const st=we.declarations[0].init;return re(st,Ee,$(Ae,[_t,Je]))}case"FunctionDeclaration":{const st=we;let Ce=$(Ae,[_t,Je]);ae(Ee);const Ke=st.functionInferredType,pt=we.params,it=pt.map(bt=>bt.inferredType),Rt=we.body;it.push(Rt.inferredType),Ce=$(Ce,[Ke,Ve(...it)]),pt.forEach(bt=>{ie(bt.name,bt.inferredType,Ee)});const dt=re(Rt,Ee,Ce);return Ee.pop(),dt}case"CallExpression":{const st=we.callee,Ce=st.inferredType,Ke=we.arguments,pt=Ke.map(bt=>bt.inferredType);pt.push(_t);let it=Ae;it=re(st,Ee,it);const Rt=M(st.inferredType,it),dt=[];Ke.forEach(bt=>{it=re(bt,Ee,it),dt.push(M(bt.inferredType,it))});try{it=$(Ae,[Ve(...pt),Ce])}catch(bt){if(bt instanceof l.UnifyError)if(Rt.kind==="function"){const At=Rt.parameterTypes;u(new e.InvalidArgumentTypesError(we,Ke,At,dt))}else u(new e.CallingNonFunctionType(we,Rt));else bt instanceof l.InternalDifferentNumberArgumentsError&&u(new e.DifferentNumberArgumentsError(we,bt.numExpectedArgs,bt.numReceived))}return it}case"AssignmentExpression":{const st=we.left,Ce=we.right,Ke=Ce.inferredType,pt=st.inferredType;let it=$(Ae,[_t,Ke]);if(it=re(Ce,Ee,it),st.type==="Identifier"&&ee(st.name,Ee)==="const")return u(new e.ReassignConstError(we)),it;it=re(st,Ee,it);try{return $(it,[Ke,pt])}catch(Rt){Rt instanceof l.UnifyError&&(st.type==="Identifier"?u(new e.DifferentAssignmentError(we,M(pt,it),M(Ke,it))):u(new e.ArrayAssignmentError(we,be(M(pt,it)),be(M(Ke,it)))))}return it}case"ArrayExpression":{let st=Ae;const Ce=we.elements;Ce.forEach(pt=>{st=re(pt,Ee,st)});const Ke=he(g++);return st=$(st,[_t,be(Ke)]),Ce.forEach(pt=>{try{st=$(st,[Ke,pt.inferredType])}catch(it){it instanceof l.UnifyError&&u(new e.ArrayAssignmentError(we,M(we.inferredType,st),be(M(pt.inferredType,st))))}}),st}case"MemberExpression":{const Ce=we.object.name,Ke=we.property,pt=Ke.inferredType;let it=re(Ke,Ee,Ae);const Rt=X(Ce,Ee);if(Rt.kind==="predicate")throw Rt.ifTrueType.kind==="forall"?new l.InternalTypeError(`Expected ${Ce} to be an array, got ${(0,i.typeToString)(R(Rt.ifTrueType))}`):new l.InternalTypeError(`Expected ${Ce} to be an array, got ${(0,i.typeToString)(Rt.ifTrueType)}`);if(Rt.kind==="forall")throw new l.InternalTypeError(`Expected ${Ce} to be an array, got ${(0,i.typeToString)(R(Rt))}`);const dt=M(Rt,it);if(dt.kind!=="array")throw new l.InternalTypeError(`Expected ${Ce} to be an array, got ${(0,i.typeToString)(dt)}`);const bt=dt.elementType;try{it=$(Ae,[pt,ge])}catch(At){At instanceof l.UnifyError&&u(new e.InvalidArrayIndexType(we,M(pt,it)))}return $(it,[_t,bt])}default:return $(Ae,[_t,Je])}}function pe(we){return{kind:"primitive",name:we}}function he(we){return{kind:"variable",name:`T${we}`,constraint:"none"}}typeChecker.tVar=he;function $e(we){return{kind:"variable",name:`${we}`,constraint:"addable"}}function Le(we,Ee){return{kind:"pair",headType:we,tailType:Ee}}function Oe(we){return{kind:"list",elementType:we}}function Ne(we){return{kind:"forall",polyType:we}}typeChecker.tForAll=Ne;function be(we){return{kind:"array",elementType:we}}const Se=pe("boolean"),ge=pe("number"),Pe=pe("string"),Je=pe("undefined");function Ve(...we){const Ee=we.slice(0,-1),Ae=we.slice(-1)[0];return{kind:"function",parameterTypes:Ee,returnType:Ae}}function Tt(we){return{kind:"predicate",ifTrueType:we}}const Ot=[["Infinity",ge],["NaN",ge],["undefined",Je],["math_E",ge],["math_LN2",ge],["math_LN10",ge],["math_LOG2E",ge],["math_LOG10E",ge],["math_PI",ge],["math_SQRT1_2",ge],["math_SQRT2",ge],["is_boolean",Tt(Se)],["is_number",Tt(ge)],["is_string",Tt(Pe)],["is_undefined",Tt(Je)],["is_function",Tt(Ne(Ve(he("T"),he("U"))))],["math_abs",Ve(ge,ge)],["math_acos",Ve(ge,ge)],["math_acosh",Ve(ge,ge)],["math_asin",Ve(ge,ge)],["math_asinh",Ve(ge,ge)],["math_atan",Ve(ge,ge)],["math_atan2",Ve(ge,ge,ge)],["math_atanh",Ve(ge,ge)],["math_cbrt",Ve(ge,ge)],["math_ceil",Ve(ge,ge)],["math_clz32",Ve(ge,ge)],["math_cos",Ve(ge,ge)],["math_cosh",Ve(ge,ge)],["math_exp",Ve(ge,ge)],["math_expm1",Ve(ge,ge)],["math_floor",Ve(ge,ge)],["math_fround",Ve(ge,ge)],["math_hypot",Ne(he("T"))],["math_imul",Ve(ge,ge,ge)],["math_log",Ve(ge,ge)],["math_log1p",Ve(ge,ge)],["math_log2",Ve(ge,ge)],["math_log10",Ve(ge,ge)],["math_max",Ne(he("T"))],["math_min",Ne(he("T"))],["math_pow",Ve(ge,ge,ge)],["math_random",Ve(ge)],["math_round",Ve(ge,ge)],["math_sign",Ve(ge,ge)],["math_sin",Ve(ge,ge)],["math_sinh",Ve(ge,ge)],["math_sqrt",Ve(ge,ge)],["math_tan",Ve(ge,ge)],["math_tanh",Ve(ge,ge)],["math_trunc",Ve(ge,ge)],["parse_int",Ve(Pe,ge,ge)],["prompt",Ve(Pe,Pe)],["get_time",Ve(ge)],["stringify",Ne(Ve(he("T"),Pe))],["display",Ne(he("T"))],["error",Ne(he("T"))]],Dt=he("headType"),nn=he("tailType"),fn=[["pair",Ne(Ve(Dt,nn,Le(Dt,nn)))],["head",Ne(Ve(Le(Dt,nn),Dt))],["tail",Ne(Ve(Le(Dt,nn),nn))],["is_pair",Tt(Ne(Le(Dt,nn)))],["is_null",Tt(Ne(Oe(he("T"))))],["is_list",Tt(Ne(Oe(he("T"))))]],bn=[["set_head",Ne(Ve(Le(Dt,nn),Dt,Je))],["set_tail",Ne(Ve(Le(Dt,nn),nn,Je))]],Be=[["is_array",Tt(Ne(be(he("T"))))],["array_length",Ne(Ve(be(he("T")),ge))]],He=[["list",Ne(he("T1"))]],Mt=[[T,Ve(ge,ge)],["!",Ve(Se,Se)],["&&",Ne(Ve(Se,he("T"),he("T")))],["||",Ne(Ve(Se,he("T"),he("T")))],["<",Ne(Ve($e("A"),$e("A"),Se))],["<=",Ne(Ve($e("A"),$e("A"),Se))],[">",Ne(Ve($e("A"),$e("A"),Se))],[">=",Ne(Ve($e("A"),$e("A"),Se))],["+",Ne(Ve($e("A"),$e("A"),$e("A")))],["%",Ve(ge,ge,ge)],["-",Ve(ge,ge,ge)],["*",Ve(ge,ge,ge)],["/",Ve(ge,ge,ge)]],zt=[["===",Ne(Ve($e("A"),$e("A"),Se))],["!==",Ne(Ve($e("A"),$e("A"),Se))]],Ft=[["===",Ne(Ve(he("T1"),he("T2"),Se))],["!==",Ne(Ve(he("T1"),he("T2"),Se))]],wt=[["is_stream",Ne(Ve(he("T1"),Se))],["list_to_stream",Ne(Ve(Oe(he("T1")),he("T2")))],["stream_to_list",Ne(Ve(he("T1"),Oe(he("T2"))))],["stream_length",Ne(Ve(he("T1"),ge))],["stream_map",Ne(Ve(he("T1"),he("T2")))],["build_stream",Ne(Ve(ge,Ve(ge,he("T1")),he("T2")))],["stream_for_each",Ne(Ve(Ve(he("T1"),he("T2")),Se))],["stream_reverse",Ne(Ve(he("T1"),he("T1")))],["stream_append",Ne(Ve(he("T1"),he("T1"),he("T1")))],["stream_member",Ne(Ve(he("T1"),he("T2"),he("T2")))],["stream_remove",Ne(Ve(he("T1"),he("T2"),he("T2")))],["stream_remove_all",Ne(Ve(he("T1"),he("T2"),he("T2")))],["stream_filter",Ne(Ve(Ve(he("T1"),Se),he("T2"),he("T2")))],["enum_stream",Ne(Ve(ge,ge,he("T1")))],["integers_from",Ne(Ve(ge,he("T1")))],["eval_stream",Ne(Ve(he("T1"),ge,Oe(he("T2"))))],["stream_ref",Ne(Ve(he("T1"),ge,he("T2")))]];function xn(we){const Ee=[...Ot,...Mt];return we>=2&&Ee.push(...fn,...He),we>=3?Ee.push(...Ft,...bn,...Be):Ee.push(...zt),[{typeMap:new Map(Ee),declKindMap:new Map(Ee.map(Ae=>[Ae[0],"const"]))}]}return typeChecker.createTypeEnvironment=xn,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importBuiltins=e.importExternalSymbols=e.defineBuiltin=e.defineSymbol=e.ensureGlobalEnvironmentExist=e.createEmptyContext=e.createGlobalEnvironment=e.EnvTreeNode=e.EnvTree=e.LazyBuiltIn=void 0;const n=requireConstants(),i=requireLib(),l=requireSchedulers(),T=requireLazyList_prelude(),g=requireList(),b=requireList(),w=requireList_prelude(),d=requireMisc(),h=requireNonDet_prelude(),c=requireParser(),a=requireStream(),o=requireStream_prelude(),u=requireTypeChecker(),f=requireTypes(),m=requireMakeWrapper(),x=requireOperators(),E=requireStringify();class S{constructor(ee,ie){this.func=ee,this.evaluateArgs=ie}}e.LazyBuiltIn=S;class R{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(ee){const ie=ee.tail;if(ie===null)this._root===null&&(this._root=new M(ee,null),this.map.set(ee,this._root));else{const ne=this.map.get(ie);if(ne){const ae=new M(ee,ne);ne.addChild(ae),this.map.set(ee,ae)}}}getTreeNode(ee){return this.map.get(ee)}}e.EnvTree=R;class M{constructor(ee,ie){this.environment=ee,this.parent=ie,this._children=[]}get children(){return this._children}resetChildren(ee){this.clearChildren(),this.addChildren(ee),ee.forEach(ie=>ie.parent=this)}clearChildren(){this._children=[]}addChildren(ee){this._children.push(...ee)}addChild(ee){return this._children.push(ee),ee}}e.EnvTreeNode=M;const k=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new R,environments:[],value:void 0,nodes:[]}),v=()=>({observers:{callbacks:Array()},status:!1,state:{it:(function*(){})(),scheduler:new l.AsyncScheduler}}),F=()=>({tail:null,name:"global",head:{},id:"-1"});e.createGlobalEnvironment=F;const I=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(x)),gpu:new Map(Object.entries(i)),maxExecTime:n.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),A=(X,ee=f.Variant.DEFAULT,ie,ne)=>({chapter:X,externalSymbols:ie,errors:[],externalContext:ne,runtime:k(),numberOfOuterEnvironments:1,prelude:null,debugger:v(),nativeStorage:I(),executionMethod:"auto",variant:ee,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,u.createTypeEnvironment)(X),previousCode:[]});e.createEmptyContext=A;const $=X=>{if(X.runtime||(X.runtime=k()),X.runtime.environments||(X.runtime.environments=[]),X.runtime.environmentTree||(X.runtime.environmentTree=new R),X.runtime.environments.length===0){const ee=(0,e.createGlobalEnvironment)();X.runtime.environments.push(ee),X.runtime.environmentTree.insert(ee)}};e.ensureGlobalEnvironmentExist=$;const P=(X,ee,ie)=>{const ne=X.runtime.environments[0];Object.defineProperty(ne.head,ee,{value:ie,writable:!1,enumerable:!0}),X.nativeStorage.builtins.set(ee,ie);const ae=X.typeEnvironment[0];ae.declKindMap.has(ee)||(ae.typeMap.set(ee,(0,u.tForAll)((0,u.tVar)("T1"))),ae.declKindMap.set(ee,"const"))};e.defineSymbol=P;function B(X,ee,ie,ne=void 0){if(typeof ie=="function"){const ae=ee.split("(")[0].trim(),re=`function ${ee} {
	[implementation hidden]
}`;ie.toString=()=>re,ie.minArgsNeeded=ne,(0,e.defineSymbol)(X,ae,ie)}else if(ie instanceof S){const ae=(...pe)=>ie.func(...pe),re=ee.split("(")[0].trim(),fe=`function ${ee} {
	[implementation hidden]
}`;ae.toString=()=>fe,(0,m.makeWrapper)(ie.func,ae),(0,e.defineSymbol)(X,re,new S(ae,ie.evaluateArgs))}else(0,e.defineSymbol)(X,ee,ie)}e.defineBuiltin=B;const U=(X,ee)=>{(0,e.ensureGlobalEnvironmentExist)(X),ee.forEach(ie=>{(0,e.defineSymbol)(X,ie,n.GLOBAL[ie])})};e.importExternalSymbols=U;const W=(X,ee)=>{(0,e.ensureGlobalEnvironmentExist)(X);const ie=(he,...$e)=>ee.rawDisplay(he,$e[0],X.externalContext),ne=(he,...$e)=>{if($e.length===1&&$e[0]!==void 0&&typeof $e[0]!="string")throw new TypeError("display expects the second argument to be a string");return ie((0,E.stringify)(he),$e[0]),he},ae=(he,...$e)=>{if($e.length===1&&$e[0]!==void 0&&typeof $e[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return g.rawDisplayList(ne,he,$e[0])},re=he=>{const $e=Date.now(),Le=ee.prompt(he,"",X.externalContext);return X.nativeStorage.maxExecTime+=Date.now()-$e,Le},fe=he=>{const $e=Date.now();ee.alert(he,"",X.externalContext),X.nativeStorage.maxExecTime+=Date.now()-$e},pe=(...he)=>(ee.visualiseList(he,X.externalContext),he[0]);if(X.chapter>=1){B(X,"get_time()",d.get_time),B(X,"display(val, prepend = undefined)",ne,1),B(X,"raw_display(str, prepend = undefined)",ie,1),B(X,"stringify(val, indent = 2, maxLineLength = 80)",E.stringify,1),B(X,"error(str, prepend = undefined)",d.error_message,1),B(X,"prompt(str)",re),B(X,"is_number(val)",d.is_number),B(X,"is_string(val)",d.is_string),B(X,"is_function(val)",d.is_function),B(X,"is_boolean(val)",d.is_boolean),B(X,"is_undefined(val)",d.is_undefined),B(X,"parse_int(str, radix)",d.parse_int),B(X,"char_at(str, index)",d.char_at),B(X,"arity(f)",d.arity),B(X,"undefined",void 0),B(X,"NaN",NaN),B(X,"Infinity",1/0);const he=Object.getOwnPropertyNames(Math),$e=[..."abcdefghijklmnopqrstuvwxyz"];for(const Le of he){const Oe=Math[Le];if(typeof Oe=="function"){let Ne,be;Le==="max"||Le==="min"?(Ne="...values",be=0):Ne=$e.slice(0,Oe.length).join(", "),B(X,`math_${Le}(${Ne})`,Oe,be)}else B(X,`math_${Le}`,Oe)}}X.chapter>=2&&(X.variant===f.Variant.LAZY?(B(X,"pair(left, right)",new S(g.pair,!1)),B(X,"list(...values)",new S(g.list,!1),0),B(X,"is_pair(val)",new S(g.is_pair,!0)),B(X,"head(xs)",new S(g.head,!0)),B(X,"tail(xs)",new S(g.tail,!0)),B(X,"is_null(val)",new S(g.is_null,!0)),B(X,"draw_data(...xs)",new S(pe,!0),1),B(X,"is_list(val)",new S(g.is_list,!0))):(B(X,"pair(left, right)",g.pair),B(X,"is_pair(val)",g.is_pair),B(X,"head(xs)",g.head),B(X,"tail(xs)",g.tail),B(X,"is_null(val)",g.is_null),B(X,"list(...values)",g.list,0),B(X,"draw_data(...xs)",pe,1),B(X,"display_list(val, prepend = undefined)",ae,0),B(X,"is_list(val)",g.is_list))),X.chapter>=3&&(B(X,"set_head(xs, val)",g.set_head),B(X,"set_tail(xs, val)",g.set_tail),B(X,"array_length(arr)",d.array_length),B(X,"is_array(val)",d.is_array),B(X,"stream_tail(stream)",a.stream_tail),B(X,"stream(...values)",a.stream,0)),X.chapter>=4&&(B(X,"parse(program_string)",he=>c.parse(he,Q(X.chapter))),B(X,"tokenize(program_string)",he=>c.tokenize(he,Q(X.chapter))),B(X,"apply_in_underlying_javascript(fun, args)",(he,$e)=>he.apply(he,(0,b.list_to_vector)($e))),X.variant===f.Variant.GPU&&(B(X,"__clearKernelCache()",i.__clearKernelCache),B(X,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",i.__createKernelSource))),X.chapter===f.Chapter.LIBRARY_PARSER&&(B(X,"is_object(val)",d.is_object),B(X,"is_NaN(val)",d.is_NaN),B(X,"has_own_property(obj, prop)",d.has_own_property),B(X,"alert(val)",fe),B(X,"timed(fun)",he=>d.timed(X,he,X.externalContext,ee.rawDisplay))),X.variant===f.Variant.LAZY&&(B(X,"wrapLazyCallee(f)",new S(x.wrapLazyCallee,!0)),B(X,"makeLazyFunction(f)",new S(x.makeLazyFunction,!0)),B(X,"forceIt(val)",new S(x.forceIt,!0)),B(X,"delayIt(xs)",new S(x.delayIt,!0)))};e.importBuiltins=W;function j(X){let ee="";X.chapter>=2&&(ee+=X.variant===f.Variant.LAZY?T.lazyListPrelude:w.listPrelude),X.chapter>=3&&(ee+=o.streamPrelude),X.variant===f.Variant.NON_DET&&(ee+=h.nonDetPrelude),ee!==""&&(X.prelude=ee)}const H={rawDisplay:d.rawDisplay,prompt:d.rawDisplay,alert:d.rawDisplay,visualiseList:X=>{throw new Error("List visualizer is not enabled")}},Q=(X=f.Chapter.SOURCE_1,ee=f.Variant.DEFAULT,ie=[],ne,ae=H)=>{if(X===f.Chapter.FULL_JS)return Object.assign(Object.assign({},Q(f.Chapter.SOURCE_4,ee,ie,ne,ae)),{chapter:f.Chapter.FULL_JS});const re=(0,e.createEmptyContext)(X,ee,ie,ne);return(0,e.importBuiltins)(re,ae),j(re),(0,e.importExternalSymbols)(re,ie),re};e.default=Q})(createContext)),createContext}var hasRequiredSicp;function requireSicp(){if(hasRequiredSicp)return sicp;hasRequiredSicp=1,Object.defineProperty(sicp,"__esModule",{value:!0});const n=requireCreateContext().default(4).nativeStorage.builtins;n.get("get_time"),n.get("display"),n.get("raw_display");const i=n.get("stringify");n.get("error"),n.get("prompt");const l=n.get("is_number"),T=n.get("is_string"),g=n.get("is_function"),b=n.get("is_boolean"),w=n.get("is_undefined");n.get("parse_int"),n.get("char_at");const d=n.get("arity");n.get("math_abs"),n.get("math_acos"),n.get("math_acosh"),n.get("math_asin"),n.get("math_asinh"),n.get("math_atan"),n.get("math_atanh"),n.get("math_atan2"),n.get("math_ceil"),n.get("math_cbrt"),n.get("math_expm1"),n.get("math_clz32"),n.get("math_cos"),n.get("math_cosh"),n.get("math_exp"),n.get("math_floor"),n.get("math_fround"),n.get("math_hypot"),n.get("math_imul"),n.get("math_log"),n.get("math_log1p"),n.get("math_log2"),n.get("math_log10"),n.get("math_max"),n.get("math_min"),n.get("math_pow"),n.get("math_random"),n.get("math_round"),n.get("math_sign"),n.get("math_sin"),n.get("math_sinh"),n.get("math_sqrt"),n.get("math_tan"),n.get("math_tanh"),n.get("math_trunc"),n.get("math_E"),n.get("math_LN10"),n.get("math_LN2"),n.get("math_LOG10E"),n.get("math_LOG2E"),n.get("math_PI"),n.get("math_SQRT1_2"),n.get("math_SQRT2");const h=n.get("pair"),c=n.get("is_pair"),a=n.get("head"),o=n.get("tail"),u=n.get("is_null"),f=n.get("list");n.get("draw_data"),n.get("display_list"),n.get("is_list"),n.get("set_head"),n.get("set_tail"),n.get("array_length"),n.get("is_array");const m=n.get("stream_tail");n.get("stream"),n.get("parse"),n.get("tokenize"),n.get("apply_in_underlying_javascript");function x(Be,He){return c(Be)?c(He)&&x(a(Be),a(He))&&x(o(Be),o(He)):u(Be)?u(He):l(Be)?l(He)&&Be===He:b(Be)?b(He)&&(Be&&He||!Be&&!He):T(Be)?T(He)&&Be===He:w(Be)?w(He):g(Be)?g(He)&&Be===He:!1}function E(Be,He){return u(Be)?He:E(o(Be),He+1)}function S(Be){return E(Be,0)}function R(Be,He,Mt){return u(He)?P(Mt):R(Be,o(He),h(Be(a(He)),Mt))}function M(Be,He){return R(Be,He,null)}function k(Be,He,Mt){return Be<0?Mt:k(Be-1,He,h(He(Be),Mt))}function v(Be,He){return k(He-1,Be,null)}function F(Be,He){return u(He)?!0:(Be(a(He)),F(Be,o(He)))}function I(Be,He){return u(Be)?He("null"):c(Be)?I(a(Be),Mt=>I(o(Be),zt=>He("["+Mt+","+zt+"]"))):He(i(Be))}function A(Be){return I(Be,He=>He)}function $(Be,He){return u(Be)?He:$(o(Be),h(a(Be),He))}function P(Be){return $(Be,null)}function B(Be,He,Mt){return u(Be)?Mt(He):B(o(Be),He,zt=>Mt(h(a(Be),zt)))}function U(Be,He){return B(Be,He,Mt=>Mt)}function W(Be,He){return u(He)?null:Be===a(He)?He:W(Be,o(He))}function j(Be,He,Mt){const zt=U,Ft=P;return u(He)?zt(Ft(Mt),He):Be===a(He)?zt(Ft(Mt),o(He)):j(Be,o(He),h(a(He),Mt))}function H(Be,He){return j(Be,He,null)}function Q(Be,He,Mt){const zt=U,Ft=P;return u(He)?zt(Ft(Mt),He):Be===a(He)?Q(Be,o(He),Mt):Q(Be,o(He),h(a(He),Mt))}function X(Be,He){return Q(Be,He,null)}function ee(Be,He,Mt){return u(He)?P(Mt):Be(a(He))?ee(Be,o(He),h(a(He),Mt)):ee(Be,o(He),Mt)}function ie(Be,He){return ee(Be,He,null)}function ne(Be,He,Mt){const zt=P;return Be>He?zt(Mt):ne(Be+1,He,h(Be,Mt))}function ae(Be,He){return ne(Be,He,null)}function re(Be,He){return He===0?a(Be):re(o(Be),He-1)}function fe(Be,He,Mt,zt){return u(Mt)?zt(He):fe(Be,He,o(Mt),Ft=>zt(Be(a(Mt),Ft)))}function pe(Be,He,Mt){return fe(Be,He,Mt,zt=>zt)}function he(Be){return u(Be)||c(Be)&&g(o(Be))&&d(o(Be))===0&&he(m(Be))}function $e(Be){return u(Be)?null:h(a(Be),()=>$e(o(Be)))}function Le(Be){return u(Be)?null:h(a(Be),Le(m(Be)))}function Oe(Be){return u(Be)?0:1+Oe(m(Be))}function Ne(Be,He){return u(He)?null:h(Be(a(He)),()=>Ne(Be,m(He)))}function be(Be,He){function Mt(zt){return zt>=He?null:h(Be(zt),()=>Mt(zt+1))}return Mt(0)}function Se(Be,He){return u(He)?!0:(Be(a(He)),Se(Be,m(He)))}function ge(Be){function He(Mt,zt){return u(Mt)?zt:He(m(Mt),h(a(Mt),()=>zt))}return He(Be,null)}function Pe(Be,He){return u(Be)?He:h(a(Be),()=>Pe(m(Be),He))}function Je(Be,He){return u(He)?null:a(He)===Be?He:Je(Be,m(He))}function Ve(Be,He){return u(He)?null:Be===a(He)?m(He):h(a(He),()=>Ve(Be,m(He)))}function Tt(Be,He){return u(He)?null:Be===a(He)?Tt(Be,m(He)):h(a(He),()=>Tt(Be,m(He)))}function Ot(Be,He){return u(He)?null:Be(a(He))?h(a(He),()=>Ot(Be,m(He))):Ot(Be,m(He))}function Dt(Be,He){return Be>He?null:h(Be,()=>Dt(Be+1,He))}function nn(Be){return h(Be,()=>nn(Be+1))}function fn(Be,He){function Mt(zt,Ft){return Ft===1?f(a(zt)):h(a(zt),Mt(m(zt),Ft-1))}return He===0?null:Mt(Be,He)}function bn(Be,He){return He===0?a(Be):bn(m(Be),He-1)}return sicp.equal=x,sicp.$length=E,sicp.length=S,sicp.$map=R,sicp.map=M,sicp.$build_list=k,sicp.build_list=v,sicp.for_each=F,sicp.$list_to_string=I,sicp.list_to_string=A,sicp.$reverse=$,sicp.reverse=P,sicp.$append=B,sicp.append=U,sicp.member=W,sicp.$remove=j,sicp.remove=H,sicp.$remove_all=Q,sicp.remove_all=X,sicp.$filter=ee,sicp.filter=ie,sicp.$enum_list=ne,sicp.enum_list=ae,sicp.list_ref=re,sicp.$accumulate=fe,sicp.accumulate=pe,sicp.is_stream=he,sicp.list_to_stream=$e,sicp.stream_to_list=Le,sicp.stream_length=Oe,sicp.stream_map=Ne,sicp.build_stream=be,sicp.stream_for_each=Se,sicp.stream_reverse=ge,sicp.stream_append=Pe,sicp.stream_member=Je,sicp.stream_remove=Ve,sicp.stream_remove_all=Tt,sicp.stream_filter=Ot,sicp.enum_stream=Dt,sicp.integers_from=nn,sicp.eval_stream=fn,sicp.stream_ref=bn,sicp.get_time=n.get("get_time"),sicp.display=n.get("display"),sicp.raw_display=n.get("raw_display"),sicp.stringify=n.get("stringify"),sicp.error=n.get("error"),sicp.prompt=n.get("prompt"),sicp.is_number=n.get("is_number"),sicp.is_string=n.get("is_string"),sicp.is_function=n.get("is_function"),sicp.is_boolean=n.get("is_boolean"),sicp.is_undefined=n.get("is_undefined"),sicp.parse_int=n.get("parse_int"),sicp.char_at=n.get("char_at"),sicp.arity=n.get("arity"),sicp.math_abs=n.get("math_abs"),sicp.math_acos=n.get("math_acos"),sicp.math_acosh=n.get("math_acosh"),sicp.math_asin=n.get("math_asin"),sicp.math_asinh=n.get("math_asinh"),sicp.math_atan=n.get("math_atan"),sicp.math_atanh=n.get("math_atanh"),sicp.math_atan2=n.get("math_atan2"),sicp.math_ceil=n.get("math_ceil"),sicp.math_cbrt=n.get("math_cbrt"),sicp.math_expm1=n.get("math_expm1"),sicp.math_clz32=n.get("math_clz32"),sicp.math_cos=n.get("math_cos"),sicp.math_cosh=n.get("math_cosh"),sicp.math_exp=n.get("math_exp"),sicp.math_floor=n.get("math_floor"),sicp.math_fround=n.get("math_fround"),sicp.math_hypot=n.get("math_hypot"),sicp.math_imul=n.get("math_imul"),sicp.math_log=n.get("math_log"),sicp.math_log1p=n.get("math_log1p"),sicp.math_log2=n.get("math_log2"),sicp.math_log10=n.get("math_log10"),sicp.math_max=n.get("math_max"),sicp.math_min=n.get("math_min"),sicp.math_pow=n.get("math_pow"),sicp.math_random=n.get("math_random"),sicp.math_round=n.get("math_round"),sicp.math_sign=n.get("math_sign"),sicp.math_sin=n.get("math_sin"),sicp.math_sinh=n.get("math_sinh"),sicp.math_sqrt=n.get("math_sqrt"),sicp.math_tan=n.get("math_tan"),sicp.math_tanh=n.get("math_tanh"),sicp.math_trunc=n.get("math_trunc"),sicp.math_E=n.get("math_E"),sicp.math_LN10=n.get("math_LN10"),sicp.math_LN2=n.get("math_LN2"),sicp.math_LOG10E=n.get("math_LOG10E"),sicp.math_LOG2E=n.get("math_LOG2E"),sicp.math_PI=n.get("math_PI"),sicp.math_SQRT1_2=n.get("math_SQRT1_2"),sicp.math_SQRT2=n.get("math_SQRT2"),sicp.pair=n.get("pair"),sicp.is_pair=n.get("is_pair"),sicp.head=n.get("head"),sicp.tail=n.get("tail"),sicp.is_null=n.get("is_null"),sicp.list=n.get("list"),sicp.draw_data=n.get("draw_data"),sicp.display_list=n.get("display_list"),sicp.is_list=n.get("is_list"),sicp.set_head=n.get("set_head"),sicp.set_tail=n.get("set_tail"),sicp.array_length=n.get("array_length"),sicp.is_array=n.get("is_array"),sicp.stream_tail=n.get("stream_tail"),sicp.stream=n.get("stream"),sicp.parse=n.get("parse"),sicp.tokenize=n.get("tokenize"),sicp.apply_in_underlying_javascript=n.get("apply_in_underlying_javascript"),sicp}var sicpExports=requireSicp();function list_to_array(e){return sicpExports.is_null(e)?[]:[sicpExports.head(e)].concat(list_to_array(sicpExports.tail(e)))}function parameters(e){return sicpExports.map(n=>sicpExports.head(n)==="rest_element"?{tag:"rest",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(n))))}:sicpExports.head(sicpExports.tail(n)),e)}function objectify(e){switch(sicpExports.head(e)){case"literal":return{tag:"lit",val:sicpExports.head(sicpExports.tail(e))};case"name":return{tag:"nam",sym:sicpExports.head(sicpExports.tail(e))};case"application":return{tag:"app",fun:objectify(sicpExports.head(sicpExports.tail(e))),args:list_to_array(sicpExports.map(objectify,sicpExports.head(sicpExports.tail(sicpExports.tail(e)))))};case"logical_composition":return{tag:"log",sym:sicpExports.head(sicpExports.tail(e)),frst:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),scnd:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"binary_operator_combination":return{tag:"binop",sym:sicpExports.head(sicpExports.tail(e)),frst:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),scnd:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"object_access":return{tag:"arr_acc",arr:objectify(sicpExports.head(sicpExports.tail(e))),ind:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e))))),ind:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(sicpExports.map(objectify,sicpExports.head(sicpExports.tail(e))))};case"unary_operator_combination":return{tag:"unop",sym:sicpExports.head(sicpExports.tail(e)),frst:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(sicpExports.head(sicpExports.tail(e)))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"sequence":return{tag:"seq",stmts:list_to_array(sicpExports.map(objectify,sicpExports.head(sicpExports.tail(e))))};case"block":return{tag:"blk",body:objectify(sicpExports.head(sicpExports.tail(e)))};case"variable_declaration":return{tag:"let",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"constant_declaration":return{tag:"const",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"assignment":return{tag:"assmt",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(sicpExports.head(sicpExports.tail(e))),cons:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),alt:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"while_loop":return{tag:"while",pred:objectify(sicpExports.head(sicpExports.tail(e))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"for_loop":return{tag:"for",init:objectify(sicpExports.head(sicpExports.tail(e))),pred:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),upd:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e))))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(sicpExports.tail(e))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(sicpExports.head(sicpExports.tail(e))),cons:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),alt:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"function_declaration":return{tag:"fun",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),prms:list_to_array(parameters(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"return_statement":return{tag:"ret",expr:objectify(sicpExports.head(sicpExports.tail(e)))};case"import_declaration":return{tag:"import",syms:sicpExports.map(n=>sicpExports.head(sicpExports.tail(n)),sicpExports.head(sicpExports.tail(e))),from:sicpExports.head(sicpExports.tail(sicpExports.tail(e)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e))))};case"property":return{tag:"prop",sym:sicpExports.head(sicpExports.tail(e))};default:throw sicpExports.error(e,"unknown syntax:")}}function parse_into_json(e){const n=objectify(sicpExports.parse(e));return JSON.stringify(n)}function parseIntoJsonChunks(e){const n=objectify(sicpExports.parse(e));return convertToJsonChunks(n)}function convertToJsonChunks(e,n=1500){if(JSON.stringify(e).length<=n)return[JSON.stringify(e)];switch(e.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(e)];case"seq":const i=[];let l=0;for(const b of e.stmts){if(l+=JSON.stringify(b).length,l>n&&i.length>1)break;i.push(b)}const T=e.stmts.slice(i.length);return i.push({tag:"pause_for_input"}),[JSON.stringify({tag:"seq",stmts:i})].concat(convertToJsonChunks({tag:"seq",stmts:T}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(e)]}}const readUntilPrompt=async(e,n=0,i=()=>{})=>{const l=e.readable.getReader(),T=n&&setTimeout(()=>{throw l.releaseLock(),e.close(),new Error("Timed Out.")},n);let g="";for(;;){const{value:b,done:w}=await l.read(),d=new TextDecoder().decode(b);g+=d;const h=g.split(`
`);for(const c of h.slice(0,h.length))i(c);if(g=h[h.length-1],g.substring(0,4)==">>> "||w)return n&&clearTimeout(T),i(g),l.releaseLock(),w}},writeLines=async(e,...n)=>{const i=e.writable.getWriter();for(const l of n){const T=new TextEncoder().encode(l+`
`),g=100;for(let b=0;b<T.length;b+=g){const w=T.slice(b,b+g);await i.write(w),await sleep(10)}}i.releaseLock()},processRawOutput=e=>{let n=e.trim();const i=[">>>",">OK",">"];for(const T of i)n.startsWith(T)&&(n=n.substring(T.length).trim());const l="raw REPL; CTRL-B to exit";if(n.startsWith(l)&&(n=n.substring(l.length).trim()),!!n)return n},runProgram=async(e,n)=>{console.log("Sending program chunk..."),await writeLines(e,RAW_MODE_ENTER,n,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(e,0,i=>{const l=processRawOutput(i);l&&console.log(l)}),console.log("Sending chunk complete...")},sleep=e=>new Promise(n=>setTimeout(n,e)),cleanProgram=e=>e.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),getInterpreterLib=async()=>(await __vitePreload(async()=>{const{default:e}=await import("./index-Bg2lWxxV.js");return{default:e}},[])).default,getSourceThreePrelude=async()=>(await __vitePreload(async()=>{const{sourceThreePrelude:e}=await import("./index-C9Zpxbc1.js");return{sourceThreePrelude:e}},[])).sourceThreePrelude,{setCurrentLanguage,setEditorValue,resetEditorValues}=WorkspaceActions,EditorPage=()=>{const[e,n]=reactExports.useState(""),i=useTypedDispatch(),l=useTypedSelector(m=>m.workspace.currentLanguage),T=reactExports.useCallback(m=>i(setCurrentLanguage(m)),[i]),g=useTypedSelector(m=>m.workspace.editorValue[l]),b=reactExports.useCallback(m=>i(setEditorValue(m)),[i]),[w,d]=reactExports.useState(!1),[h,c]=reactExports.useState(),[a,o]=reactExports.useState();reactExports.useEffect(()=>{h||w&&getSourceThreePrelude().then(c)},[w]),reactExports.useEffect(()=>{a||l===Languages.SOURCE_THREE_INTERPRETER&&getInterpreterLib().then(o)},[l]);const u=async()=>{if(l===Languages.SOURCE_THREE_INTERPRETER)try{parse_into_json(g),n("")}catch(x){n("[ERROR] "+x);return}const m=await navigator.serial.requestPort();switch(await m.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(m,KEYBOARD_INTERRUPT),await readUntilPrompt(m,2e3),l){case Languages.PYTHON:await runProgram(m,cleanProgram(g));break;case Languages.SOURCE_THREE_INTERPRETER:if(!a)throw new Error("Interpreter not loaded");if(await runProgram(m,cleanProgram(a.prefix)),await runProgram(m,cleanProgram(a.prefix2)),await runProgram(m,cleanProgram(a.spikeMicrocode)),w){if(!h)throw new Error("Preludes not loaded");for(const S of h){console.log("Sending prelude chunk");const R=parse_into_json(S);await writeLines(m,RAW_MODE_ENTER,"json_prelude = '''\\",...R.match(/.{1,1000}/g).map(M=>M+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(m,0,M=>{const k=processRawOutput(M);k&&console.log(k)}),console.log("Sending prelude chunk complete"),await runProgram(m,cleanProgram(a.evaluatePrelude))}}console.log("Sending JSON program");const x=parseIntoJsonChunks(g),E=x[0];await writeLines(m,RAW_MODE_ENTER,"json_string = '''\\",...E.match(/.{1,500}/g).map(S=>S+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(m,0,S=>{const R=processRawOutput(S);R&&console.log(R)}),console.log("Sending JSON program complete"),await writeLines(m,RAW_MODE_ENTER,cleanProgram(a.suffix),RAW_MODE_COMPILE,...x.slice(1).flatMap(S=>[S,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(m,0,S=>{const R=processRawOutput(S);R&&console.log(R)});break}await writeLines(m,END_OF_TRANSMISSION),m.close()},f=()=>{try{n(parse_into_json(g))}catch(m){n("[ERROR] "+m)}};return reactExports.useEffect(()=>{const m=queryString.parse(location.hash),x=lzStringExports.decompressFromEncodedURIComponent(m.prgrm);x&&(T(Languages.SOURCE_THREE_INTERPRETER),b(x))},[]),reactExports.useEffect(()=>{resetEditorValues(l),n("")},[l,b]),jsxRuntimeExports.jsx(Box,{className:"App",children:jsxRuntimeExports.jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsxRuntimeExports.jsx(GridItem,{colSpan:2,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Heading,{children:"SEKER: SourceSPIKE Prime Runner"}),jsxRuntimeExports.jsx(UserGuide,{}),l===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE_INTERPRETER," Programs is in beta!"]}),e&&jsxRuntimeExports.jsx(JsonDisplay,{jsonProgram:e}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsxRuntimeExports.jsx(LanguageSelector,{}),l===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Checkbox,{isChecked:w,onChange:()=>d(m=>!m),children:"Prelude"}),jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ButtonGroup,{size:"sm",children:[jsxRuntimeExports.jsx(Button,{onClick:u,children:"Run on Device"}),l===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Button,{onClick:f,children:"Parse into JSON"})]})]}),jsxRuntimeExports.jsx(Box,{borderRadius:6,overflow:"clip",children:jsxRuntimeExports.jsx(Editor,{name:"editor",onChange:b,value:g,wrapEnabled:!0})})]})}),jsxRuntimeExports.jsx(GridItem,{children:jsxRuntimeExports.jsx(SampleProgramSidebar,{})})]})})},rootReducer=combineReducers({workspace}),store=configureStore({reducer:rootReducer}),App=()=>jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(EditorPage,{})}),config={initialColorMode:"system",useSystemColorMode:!0},theme=extendTheme({config,fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React.StrictMode,{children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(App,{})})]}));
