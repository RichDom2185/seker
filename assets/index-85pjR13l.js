function _mergeNamespaces(i,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const rt in a)if(rt!=="default"&&!(rt in i)){const et=Object.getOwnPropertyDescriptor(a,rt);et&&Object.defineProperty(i,rt,et.get?et:{enumerable:!0,get:()=>a[rt]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))a(rt);new MutationObserver(rt=>{for(const et of rt)if(et.type==="childList")for(const ot of et.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&a(ot)}).observe(document,{childList:!0,subtree:!0});function o(rt){const et={};return rt.integrity&&(et.integrity=rt.integrity),rt.referrerPolicy&&(et.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?et.credentials="include":rt.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function a(rt){if(rt.ep)return;rt.ep=!0;const et=o(rt);fetch(rt.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var rt=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,rt.get?rt:{enumerable:!0,get:function(){return i[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,rt={},et=null,ot=null;if(s!=null)for(a in s.ref!==void 0&&(ot=s.ref),s.key!==void 0&&(et=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(rt[a]=s[a]);var at=arguments.length-2;if(at===1)rt.children=o;else if(1<at){for(var nt=Array(at),it=0;it<at;it++)nt[it]=arguments[it+2];rt.children=nt}if(i&&i.defaultProps)for(a in at=i.defaultProps,at)rt[a]===void 0&&(rt[a]=at[a]);return{$$typeof:l$2,type:i,key:et,ref:ot,props:rt,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$2(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$2(""+i.key):s.toString(36)}function R$1(i,s,o,a,rt){var et=typeof i;(et==="undefined"||et==="boolean")&&(i=null);var ot=!1;if(i===null)ot=!0;else switch(et){case"string":case"number":ot=!0;break;case"object":switch(i.$$typeof){case l$2:case n$3:ot=!0}}if(ot)return ot=i,rt=rt(ot),i=a===""?"."+Q$1(ot,0):a,I$1(rt)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(rt,s,o,"",function(it){return it})):rt!=null&&(O$1(rt)&&(rt=N$1(rt,o+(!rt.key||ot&&ot.key===rt.key?"":(""+rt.key).replace(P$1,"$&/")+"/")+i)),s.push(rt)),1;if(ot=0,a=a===""?".":a+":",I$1(i))for(var at=0;at<i.length;at++){et=i[at];var nt=a+Q$1(et,at);ot+=R$1(et,s,o,nt,rt)}else if(nt=A$2(i),typeof nt=="function")for(i=nt.call(i),at=0;!(et=i.next()).done;)et=et.value,nt=a+Q$1(et,at++),ot+=R$1(et,s,o,nt,rt);else if(et==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$1(i,s,o){if(i==null)return i;var a=[],rt=0;return R$1(i,a,"","",function(et){return s.call(o,et,rt++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),rt=i.key,et=i.ref,ot=i._owner;if(s!=null){if(s.ref!==void 0&&(et=s.ref,ot=K$1.current),s.key!==void 0&&(rt=""+s.key),i.type&&i.type.defaultProps)var at=i.type.defaultProps;for(nt in s)J.call(s,nt)&&!L$1.hasOwnProperty(nt)&&(a[nt]=s[nt]===void 0&&at!==void 0?at[nt]:s[nt])}var nt=arguments.length-2;if(nt===1)a.children=o;else if(1<nt){at=Array(nt);for(var it=0;it<nt;it++)at[it]=arguments[it+2];a.children=at}return{$$typeof:l$2,type:i.type,key:rt,ref:et,props:a,_owner:ot}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$3,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$4=getDefaultExportFromCjs(reactExports),ReactOriginal=_mergeNamespaces({__proto__:null,default:React$4},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,s,o){var a,rt={},et=null,ot=null;o!==void 0&&(et=""+o),s.key!==void 0&&(et=""+s.key),s.ref!==void 0&&(ot=s.ref);for(a in s)m$2.call(s,a)&&!p$3.hasOwnProperty(a)&&(rt[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)rt[a]===void 0&&(rt[a]=s[a]);return{$$typeof:k$1,type:i,key:et,ref:ot,props:rt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(o){var a=this;this._insertTag=function(rt){var et;a.tags.length===0?a.insertionPoint?et=a.insertionPoint.nextSibling:a.prepend?et=a.container.firstChild:et=a.before:et=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(rt,et),a.tags.push(rt)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag(rt);try{et.insertRule(a,et.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var rt;return(rt=a.parentNode)==null?void 0:rt.removeChild(a)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$1(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,o){return i.replace(s,o)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,o){return i.slice(s,o)}function strlen(i){return i.length}function sizeof(i){return i.length}function append$1(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length$1=0,position$1=0,character=0,characters="";function node(i,s,o,a,rt,et,ot){return{value:i,root:s,parent:o,type:a,props:rt,children:et,line,column,length:ot,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$1?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,s){return substr(characters,i,s)}function token$1(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length$1=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek$1())&&character<33;)next();return token$1(i)>2||token$1(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek$1()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek$1()===47)break;return"/*"+slice(s,position$1-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token$1(peek$1());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$2("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$2(i,s,o,a,rt,et,ot,at,nt){for(var it=0,j=0,_=ot,$=0,tt=0,st=0,lt=1,ct=1,ht=1,ut=0,pt="",mt=rt,vt=et,dt=a,St=pt;ct;)switch(st=ut,ut=next()){case 40:if(st!=108&&charat(St,_-1)==58){indexof(St+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:St+=delimit(ut);break;case 9:case 10:case 13:case 32:St+=whitespace(st);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment(commenter(next(),caret()),s,o),nt);break;default:St+="/"}break;case 123*lt:at[it++]=strlen(St)*ht;case 125*lt:case 59:case 0:switch(ut){case 0:case 125:ct=0;case 59+j:ht==-1&&(St=replace(St,/\f/g,"")),tt>0&&strlen(St)-_&&append$1(tt>32?declaration(St+";",a,o,_-1):declaration(replace(St," ","")+";",a,o,_-2),nt);break;case 59:St+=";";default:if(append$1(dt=ruleset(St,s,o,it,j,rt,at,pt,mt=[],vt=[],_),et),ut===123)if(j===0)parse$2(St,s,dt,dt,mt,et,_,at,vt);else switch($===99&&charat(St,3)===110?100:$){case 100:case 108:case 109:case 115:parse$2(i,dt,dt,a&&append$1(ruleset(i,dt,dt,0,0,rt,at,pt,rt,mt=[],_),vt),rt,vt,_,at,a?mt:vt);break;default:parse$2(St,dt,dt,dt,[""],vt,0,at,vt)}}it=j=tt=0,lt=ht=1,pt=St="",_=ot;break;case 58:_=1+strlen(St),tt=st;default:if(lt<1){if(ut==123)--lt;else if(ut==125&&lt++==0&&prev()==125)continue}switch(St+=from(ut),ut*lt){case 38:ht=j>0?1:(St+="\f",-1);break;case 44:at[it++]=(strlen(St)-1)*ht,ht=1;break;case 64:peek$1()===45&&(St+=delimit(next())),$=peek$1(),j=_=strlen(pt=St+=identifier(caret())),ut++;break;case 45:st===45&&strlen(St)==2&&(lt=0)}}return et}function ruleset(i,s,o,a,rt,et,ot,at,nt,it,j){for(var _=rt-1,$=rt===0?et:[""],tt=sizeof($),st=0,lt=0,ct=0;st<a;++st)for(var ht=0,ut=substr(i,_+1,_=abs(lt=ot[st])),pt=i;ht<tt;++ht)(pt=trim(lt>0?$[ht]+" "+ut:replace(ut,/&\f/g,$[ht])))&&(nt[ct++]=pt);return node(i,s,o,rt===0?RULESET:at,nt,it,j)}function comment(i,s,o){return node(i,s,o,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,o,a){return node(i,s,o,DECLARATION,substr(i,0,a),substr(i,a+1,-1),a)}function serialize(i,s){for(var o="",a=sizeof(i),rt=0;rt<a;rt++)o+=s(i[rt],rt,i,s)||"";return o}function stringify$4(i,s,o,a){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,a)+"}";case RULESET:i.value=i.props.join(",")}return strlen(o=serialize(i.children,a))?i.return=i.value+"{"+o+"}":""}function middleware(i){var s=sizeof(i);return function(o,a,rt,et){for(var ot="",at=0;at<s;at++)ot+=i[at](o,a,rt,et)||"";return ot}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var weakMemoize=function(s){var o=new WeakMap;return function(a){if(o.has(a))return o.get(a);var rt=s(a);return o.set(a,rt),rt}};function memoize$3(i){var s=Object.create(null);return function(o){return s[o]===void 0&&(s[o]=i(o)),s[o]}}var identifierWithPointTracking=function(s,o,a){for(var rt=0,et=0;rt=et,et=peek$1(),rt===38&&et===12&&(o[a]=1),!token$1(et);)next();return slice(s,position$1)},toRules=function(s,o){var a=-1,rt=44;do switch(token$1(rt)){case 0:rt===38&&peek$1()===12&&(o[a]=1),s[a]+=identifierWithPointTracking(position$1-1,o,a);break;case 2:s[a]+=delimit(rt);break;case 4:if(rt===44){s[++a]=peek$1()===58?"&\f":"",o[a]=s[a].length;break}default:s[a]+=from(rt)}while(rt=next());return s},getRules=function(s,o){return dealloc(toRules(alloc(s),o))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var o=s.value,a=s.parent,rt=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&o.charCodeAt(0)!==58&&!fixedElements.get(a))&&!rt){fixedElements.set(s,!0);for(var et=[],ot=getRules(o,et),at=a.props,nt=0,it=0;nt<ot.length;nt++)for(var j=0;j<at.length;j++,it++)s.props[it]=et[nt]?ot[nt].replace(/&\f/g,at[j]):at[j]+" "+ot[nt]}}},removeLabel=function(s){if(s.type==="decl"){var o=s.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$1(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(s,o,a,rt){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],rt);case RULESET:if(s.length)return combine(s.props,function(et){switch(match(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy(s,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var o=s.key;if(o==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(lt){var ct=lt.getAttribute("data-emotion");ct.indexOf(" ")!==-1&&(document.head.appendChild(lt),lt.setAttribute("data-s",""))})}var rt=s.stylisPlugins||defaultStylisPlugins,et={},ot,at=[];ot=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(lt){for(var ct=lt.getAttribute("data-emotion").split(" "),ht=1;ht<ct.length;ht++)et[ct[ht]]=!0;at.push(lt)});var nt,it=[compat,removeLabel];{var j,_=[stringify$4,rulesheet(function(lt){j.insert(lt)})],$=middleware(it.concat(rt,_)),tt=function(ct){return serialize(compile(ct),$)};nt=function(ct,ht,ut,pt){j=ut,tt(ct?ct+"{"+ht.styles+"}":ht.styles),pt&&(st.inserted[ht.name]=!0)}}var st={key:o,sheet:new StyleSheet({key:o,container:ot,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:et,registered:{},insert:nt};return st.sheet.hydrate(at),st};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)({}).hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$1.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g$1=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$2=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$2=b?Symbol.for("react.memo"):60115,t$2=b?Symbol.for("react.lazy"):60116,v$2=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c:switch(i=i.type,i){case l:case m$1:case e:case g$1:case f:case p$2:return i;default:switch(i=i&&i.$$typeof,i){case k:case n$1:case t$2:case r$2:case h:return i;default:return s}}case d:return s}}}function A$1(i){return z$1(i)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$2;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(i){return A$1(i)||z$1(i)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(i){return z$1(i)===k};reactIs_production_min.isContextProvider=function(i){return z$1(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z$1(i)===n$1};reactIs_production_min.isFragment=function(i){return z$1(i)===e};reactIs_production_min.isLazy=function(i){return z$1(i)===t$2};reactIs_production_min.isMemo=function(i){return z$1(i)===r$2};reactIs_production_min.isPortal=function(i){return z$1(i)===d};reactIs_production_min.isProfiler=function(i){return z$1(i)===g$1};reactIs_production_min.isStrictMode=function(i){return z$1(i)===f};reactIs_production_min.isSuspense=function(i){return z$1(i)===p$2};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$1||i===g$1||i===f||i===p$2||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t$2||i.$$typeof===r$2||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$2)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(i,s,o){var a="";return o.split(" ").forEach(function(rt){i[rt]!==void 0?s.push(i[rt]+";"):a+=rt+" "}),a}var registerStyles=function(s,o,a){var rt=s.key+"-"+o.name;(a===!1||isBrowser$2===!1)&&s.registered[rt]===void 0&&(s.registered[rt]=o.styles)},insertStyles=function(s,o,a){registerStyles(s,o,a);var rt=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var et=o;do s.insert(o===et?"."+rt:"",et,s.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2(i){for(var s=0,o,a=0,rt=i.length;rt>=4;++a,rt-=4)o=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,s=(o&65535)*1540483477+((o>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(rt){case 3:s^=(i.charCodeAt(a+2)&255)<<16;case 2:s^=(i.charCodeAt(a+1)&255)<<8;case 1:s^=i.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$3(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,o){switch(s){case"animation":case"animationName":if(typeof o=="string")return o.replace(animationRegex,function(a,rt,et){return cursor={name:rt,styles:et,next:cursor},rt})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof o=="number"&&o!==0?o+"px":o},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,o){if(o==null)return"";var a=o;if(a.__emotion_styles!==void 0)return a;switch(typeof o){case"boolean":return"";case"object":{var rt=o;if(rt.anim===1)return cursor={name:rt.name,styles:rt.styles,next:cursor},rt.name;var et=o;if(et.styles!==void 0){var ot=et.next;if(ot!==void 0)for(;ot!==void 0;)cursor={name:ot.name,styles:ot.styles,next:cursor},ot=ot.next;var at=et.styles+";";return at}return createStringFromObject(i,s,o)}case"function":{if(i!==void 0){var nt=cursor,it=o(i);return cursor=nt,handleInterpolation(i,s,it)}break}}var j=o;if(s==null)return j;var _=s[j];return _!==void 0?_:j}function createStringFromObject(i,s,o){var a="";if(Array.isArray(o))for(var rt=0;rt<o.length;rt++)a+=handleInterpolation(i,s,o[rt])+";";else for(var et in o){var ot=o[et];if(typeof ot!="object"){var at=ot;s!=null&&s[at]!==void 0?a+=et+"{"+s[at]+"}":isProcessableValue(at)&&(a+=processStyleName(et)+":"+processStyleValue(et,at)+";")}else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(s==null||s[ot[0]]===void 0))for(var nt=0;nt<ot.length;nt++)isProcessableValue(ot[nt])&&(a+=processStyleName(et)+":"+processStyleValue(et,ot[nt])+";");else{var it=handleInterpolation(i,s,ot);switch(et){case"animation":case"animationName":{a+=processStyleName(et)+":"+it+";";break}default:a+=et+"{"+it+"}"}}}return a}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor;function serializeStyles(i,s,o){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,rt="";cursor=void 0;var et=i[0];if(et==null||et.raw===void 0)a=!1,rt+=handleInterpolation(o,s,et);else{var ot=et;rt+=ot[0]}for(var at=1;at<i.length;at++)if(rt+=handleInterpolation(o,s,i[at]),a){var nt=et;rt+=nt[at]}labelPattern.lastIndex=0;for(var it="",j;(j=labelPattern.exec(rt))!==null;)it+="-"+j[1];var _=murmur2(rt)+it;return{name:_,styles:rt,next:cursor}}var syncFallback=function(s){return s()},useInsertionEffect=ReactOriginal.useInsertionEffect?ReactOriginal.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(s){return reactExports.forwardRef(function(o,a){var rt=reactExports.useContext(EmotionCacheContext);return s(o,rt,a)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(s,o){if(typeof o=="function"){var a=o(s);return a}return _extends$1({},s,o)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function(s){return getTheme$1(i,s)})}),ThemeProvider$1=function(s){var o=reactExports.useContext(ThemeContext);return s.theme!==o&&(o=createCacheWithTheme(o)(s.theme)),reactExports.createElement(ThemeContext.Provider,{value:o},s.children)},Global=withEmotionCache(function(i,s){var o=i.styles,a=serializeStyles([o],void 0,reactExports.useContext(ThemeContext)),rt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=s.key+"-global",ot=new s.sheet.constructor({key:et,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),at=!1,nt=document.querySelector('style[data-emotion="'+et+" "+a.name+'"]');return s.sheet.tags.length&&(ot.before=s.sheet.tags[0]),nt!==null&&(at=!0,nt.setAttribute("data-emotion",et),ot.hydrate([nt])),rt.current=[ot,at],function(){ot.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var et=rt.current,ot=et[0],at=et[1];if(at){et[1]=!1;return}if(a.next!==void 0&&insertStyles(s,a.next,!0),ot.tags.length){var nt=ot.tags[ot.tags.length-1].nextElementSibling;ot.before=nt,ot.flush()}s.insert("",a,ot,!1)},[s,a.name]),null});function css$2(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return serializeStyles(s)}var keyframes$1=function(){var s=css$2.apply(void 0,arguments),o="animation-"+s.name;return{name:o,styles:"@keyframes "+o+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},css$1=String.raw,vhPolyfill=css$1`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:i=""})=>jsxRuntimeExports.jsx(Global,{styles:css$1`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${i} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${i} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${i} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${i} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${i} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${i} :where(b, strong) {
        font-weight: bold;
      }

      ${i} small {
        font-size: 80%;
      }

      ${i} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${i} sub {
        bottom: -0.25em;
      }

      ${i} sup {
        top: -0.5em;
      }

      ${i} img {
        border-style: none;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${i} :where(button, input) {
        overflow: visible;
      }

      ${i} :where(button, select) {
        text-transform: none;
      }

      ${i} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${i} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${i} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${i} progress {
        vertical-align: baseline;
      }

      ${i} textarea {
        overflow: auto;
      }

      ${i} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${i} input[type="number"]::-webkit-inner-spin-button,
      ${i} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${i} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${i} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${i} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${i} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${i} details {
        display: block;
      }

      ${i} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${i} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${i} button {
        background: transparent;
        padding: 0;
      }

      ${i} fieldset {
        margin: 0;
        padding: 0;
      }

      ${i} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${i} textarea {
        resize: vertical;
      }

      ${i} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${i} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${i} table {
        border-collapse: collapse;
      }

      ${i} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${i} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${i} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${i} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${i} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(i,s){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${s}`}function createContext$2(i={}){const{name:s,strict:o=!0,hookName:a="useContext",providerName:rt="Provider",errorMessage:et,defaultValue:ot}=i,at=reactExports.createContext(ot);at.displayName=s;function nt(){var it;const j=reactExports.useContext(at);if(!j&&o){const _=new Error(et??getErrorMessage(a,rt));throw _.name="ContextError",(it=Error.captureStackTrace)==null||it.call(Error,_,nt),_}return j}return[at.Provider,nt,at]}var[PortalManagerContextProvider,usePortalManager]=createContext$2({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:s,zIndex:o}=i;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:o},children:s})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Mt,Dt){var Bt=Mt.length;Mt.push(Dt);e:for(;0<Bt;){var Kt=Bt-1>>>1,Wt=Mt[Kt];if(0<rt(Wt,Dt))Mt[Kt]=Dt,Mt[Bt]=Wt,Bt=Kt;else break e}}function o(Mt){return Mt.length===0?null:Mt[0]}function a(Mt){if(Mt.length===0)return null;var Dt=Mt[0],Bt=Mt.pop();if(Bt!==Dt){Mt[0]=Bt;e:for(var Kt=0,Wt=Mt.length,zt=Wt>>>1;Kt<zt;){var Ht=2*(Kt+1)-1,Zt=Mt[Ht],Qt=Ht+1,hr=Mt[Qt];if(0>rt(Zt,Bt))Qt<Wt&&0>rt(hr,Zt)?(Mt[Kt]=hr,Mt[Qt]=Bt,Kt=Qt):(Mt[Kt]=Zt,Mt[Ht]=Bt,Kt=Ht);else if(Qt<Wt&&0>rt(hr,Bt))Mt[Kt]=hr,Mt[Qt]=Bt,Kt=Qt;else break e}}return Dt}function rt(Mt,Dt){var Bt=Mt.sortIndex-Dt.sortIndex;return Bt!==0?Bt:Mt.id-Dt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;i.unstable_now=function(){return et.now()}}else{var ot=Date,at=ot.now();i.unstable_now=function(){return ot.now()-at}}var nt=[],it=[],j=1,_=null,$=3,tt=!1,st=!1,lt=!1,ct=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Mt){for(var Dt=o(it);Dt!==null;){if(Dt.callback===null)a(it);else if(Dt.startTime<=Mt)a(it),Dt.sortIndex=Dt.expirationTime,s(nt,Dt);else break;Dt=o(it)}}function mt(Mt){if(lt=!1,pt(Mt),!st)if(o(nt)!==null)st=!0,It(vt);else{var Dt=o(it);Dt!==null&&Ot(mt,Dt.startTime-Mt)}}function vt(Mt,Dt){st=!1,lt&&(lt=!1,ht(yt),yt=-1),tt=!0;var Bt=$;try{for(pt(Dt),_=o(nt);_!==null&&(!(_.expirationTime>Dt)||Mt&&!_t());){var Kt=_.callback;if(typeof Kt=="function"){_.callback=null,$=_.priorityLevel;var Wt=Kt(_.expirationTime<=Dt);Dt=i.unstable_now(),typeof Wt=="function"?_.callback=Wt:_===o(nt)&&a(nt),pt(Dt)}else a(nt);_=o(nt)}if(_!==null)var zt=!0;else{var Ht=o(it);Ht!==null&&Ot(mt,Ht.startTime-Dt),zt=!1}return zt}finally{_=null,$=Bt,tt=!1}}var dt=!1,St=null,yt=-1,gt=5,Et=-1;function _t(){return!(i.unstable_now()-Et<gt)}function kt(){if(St!==null){var Mt=i.unstable_now();Et=Mt;var Dt=!0;try{Dt=St(!0,Mt)}finally{Dt?Ct():(dt=!1,St=null)}}else dt=!1}var Ct;if(typeof ut=="function")Ct=function(){ut(kt)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,At=Tt.port2;Tt.port1.onmessage=kt,Ct=function(){At.postMessage(null)}}else Ct=function(){ct(kt,0)};function It(Mt){St=Mt,dt||(dt=!0,Ct())}function Ot(Mt,Dt){yt=ct(function(){Mt(i.unstable_now())},Dt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Mt){Mt.callback=null},i.unstable_continueExecution=function(){st||tt||(st=!0,It(vt))},i.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<Mt?Math.floor(1e3/Mt):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return o(nt)},i.unstable_next=function(Mt){switch($){case 1:case 2:case 3:var Dt=3;break;default:Dt=$}var Bt=$;$=Dt;try{return Mt()}finally{$=Bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Mt,Dt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Bt=$;$=Mt;try{return Dt()}finally{$=Bt}},i.unstable_scheduleCallback=function(Mt,Dt,Bt){var Kt=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?Kt+Bt:Kt):Bt=Kt,Mt){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=Bt+Wt,Mt={id:j++,callback:Dt,priorityLevel:Mt,startTime:Bt,expirationTime:Wt,sortIndex:-1},Bt>Kt?(Mt.sortIndex=Bt,s(it,Mt),o(nt)===null&&Mt===o(it)&&(lt?(ht(yt),yt=-1):lt=!0,Ot(mt,Bt-Kt))):(Mt.sortIndex=Wt,s(nt,Mt),st||tt||(st=!0,It(vt))),Mt},i.unstable_shouldYield=_t,i.unstable_wrapCallback=function(Mt){var Dt=$;return function(){var Bt=$;$=Dt;try{return Mt.apply(this,arguments)}finally{$=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,o,a,rt,et,ot){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=rt,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=et,this.removeEmptyString=ot}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var rt=z.hasOwnProperty(s)?z[s]:null;(rt!==null?rt.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,rt,a)&&(o=null),a||rt===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):rt.mustUseProperty?i[rt.propertyName]=o===null?rt.type===3?!1:"":o:(s=rt.attributeName,a=rt.attributeNamespace,o===null?i.removeAttribute(s):(rt=rt.type,o=rt===3||rt===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(it){var a=it}Reflect.construct(i,[],s)}else{try{s.call()}catch(it){a=it}i.call(s.prototype)}else{try{throw Error()}catch(it){a=it}i()}}catch(it){if(it&&a&&typeof it.stack=="string"){for(var rt=it.stack.split(`
`),et=a.stack.split(`
`),ot=rt.length-1,at=et.length-1;1<=ot&&0<=at&&rt[ot]!==et[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(rt[ot]!==et[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||rt[ot]!==et[at]){var nt=`
`+rt[ot].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var rt=o.get,et=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return rt.call(this)},set:function(ot){a=""+ot,et.call(this,ot)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(ot){a=""+ot},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var rt=0;rt<o.length;rt++)s["$"+o[rt]]=!0;for(o=0;o<i.length;o++)rt=s.hasOwnProperty("$"+i[o].value),i[o].selected!==rt&&(i[o].selected=rt),rt&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,rt=0;rt<i.length;rt++){if(i[rt].value===o){i[rt].selected=!0,a&&(i[rt].defaultSelected=!0);return}s!==null||i[rt].disabled||(s=i[rt])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p$1(92));if(eb(o)){if(1<o.length)throw Error(p$1(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,rt){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,rt)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,rt=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,rt):i[o]=rt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p$1(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,rt,et,ot,at,nt){var it=Array.prototype.slice.call(arguments,3);try{s.apply(o,it)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,rt,et,ot,at,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,rt,et,ot,at,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$1(188));return s!==i?null:i}for(var o=i,a=s;;){var rt=o.return;if(rt===null)break;var et=rt.alternate;if(et===null){if(a=rt.return,a!==null){o=a;continue}break}if(rt.child===et.child){for(et=rt.child;et;){if(et===o)return Xb(rt),i;if(et===a)return Xb(rt),s;et=et.sibling}throw Error(p$1(188))}if(o.return!==a.return)o=rt,a=et;else{for(var ot=!1,at=rt.child;at;){if(at===o){ot=!0,o=rt,a=et;break}if(at===a){ot=!0,a=rt,o=et;break}at=at.sibling}if(!ot){for(at=et.child;at;){if(at===o){ot=!0,o=et,a=rt;break}if(at===a){ot=!0,a=et,o=rt;break}at=at.sibling}if(!ot)throw Error(p$1(189))}}if(o.alternate!==a)throw Error(p$1(190))}if(o.tag!==3)throw Error(p$1(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,rt=i.suspendedLanes,et=i.pingedLanes,ot=o&268435455;if(ot!==0){var at=ot&~rt;at!==0?a=tc(at):(et&=ot,et!==0&&(a=tc(et)))}else ot=o&~rt,ot!==0?a=tc(ot):et!==0&&(a=tc(et));if(a===0)return 0;if(s!==0&&s!==a&&!(s&rt)&&(rt=a&-a,et=s&-s,rt>=et||rt===16&&(et&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),rt=1<<o,a|=i[o],s&=~rt;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,rt=i.expirationTimes,et=i.pendingLanes;0<et;){var ot=31-oc(et),at=1<<ot,nt=rt[ot];nt===-1?(!(at&o)||at&a)&&(rt[ot]=vc(at,s)):nt<=s&&(i.expiredLanes|=at),et&=~at}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var rt=31-oc(o),et=1<<rt;s[rt]=0,a[rt]=-1,i[rt]=-1,o&=~et}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),rt=1<<a;rt&s|i[a]&s&&(i[a]|=s),o&=~rt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,rt,et){return i===null||i.nativeEvent!==et?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:et,targetContainers:[rt]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,rt!==null&&s.indexOf(rt)===-1&&s.push(rt),i)}function Uc(i,s,o,a,rt){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,rt),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,rt),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,rt),!0;case"pointerover":var et=rt.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,i,s,o,a,rt)),!0;case"gotpointercapture":return et=rt.pointerId,Pc.set(et,Tc(Pc.get(et)||null,i,s,o,a,rt)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(rt){return ad(rt,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var rt=C,et=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=rt,cd.transition=et}}function gd(i,s,o,a){var rt=C,et=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=rt,cd.transition=et}}function fd(i,s,o,a){if(dd){var rt=Yc(i,s,o,a);if(rt===null)hd(i,s,a,id$2,o),Sc(i,a);else if(Uc(rt,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;rt!==null;){var et=Cb(rt);if(et!==null&&Ec(et),et=Yc(i,s,o,a),et===null&&hd(i,s,a,id$2,o),et===rt)break;rt=et}rt!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id$2=null;function Yc(i,s,o,a){if(id$2=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id$2=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,rt="value"in kd?kd.value:kd.textContent,et=rt.length;for(i=0;i<o&&s[i]===rt[i];i++);var ot=o-i;for(a=1;a<=ot&&s[o-a]===rt[et-a];a++);return md=rt.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,rt,et,ot){this._reactName=o,this._targetInst=rt,this.type=a,this.nativeEvent=et,this.target=ot,this.currentTarget=null;for(var at in i)i.hasOwnProperty(at)&&(o=i[at],this[at]=o?o(et):et[at]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var rt=o[a];if(!ja.call(s,rt)||!He(i[rt],s[rt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var rt=o.textContent.length,et=Math.min(a.start,rt);a=a.end===void 0?et:Math.min(a.end,rt),!i.extend&&et>a&&(rt=a,a=et,et=rt),rt=Ke(o,et);var ot=Ke(o,a);rt&&ot&&(i.rangeCount!==1||i.anchorNode!==rt.node||i.anchorOffset!==rt.offset||i.focusNode!==ot.node||i.focusOffset!==ot.offset)&&(s=s.createRange(),s.setStart(rt.node,rt.offset),i.removeAllRanges(),et>a?(i.addRange(s),i.extend(ot.node,ot.offset)):(s.setEnd(ot.node,ot.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],rt=a.event;a=a.listeners;e:{var et=void 0;if(s)for(var ot=a.length-1;0<=ot;ot--){var at=a[ot],nt=at.instance,it=at.currentTarget;if(at=at.listener,nt!==et&&rt.isPropagationStopped())break e;nf(rt,at,it),et=nt}else for(ot=0;ot<a.length;ot++){if(at=a[ot],nt=at.instance,it=at.currentTarget,at=at.listener,nt!==et&&rt.isPropagationStopped())break e;nf(rt,at,it),et=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}o=rt.bind(null,s,o,i),rt=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(rt=!0),a?rt!==void 0?i.addEventListener(s,o,{capture:!0,passive:rt}):i.addEventListener(s,o,!0):rt!==void 0?i.addEventListener(s,o,{passive:rt}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,rt){var et=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var ot=a.tag;if(ot===3||ot===4){var at=a.stateNode.containerInfo;if(at===rt||at.nodeType===8&&at.parentNode===rt)break;if(ot===4)for(ot=a.return;ot!==null;){var nt=ot.tag;if((nt===3||nt===4)&&(nt=ot.stateNode.containerInfo,nt===rt||nt.nodeType===8&&nt.parentNode===rt))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(nt=ot.tag,nt===5||nt===6){a=et=ot;continue e}at=at.parentNode}}a=a.return}Jb(function(){var it=et,j=xb(o),_=[];e:{var $=df.get(i);if($!==void 0){var tt=td,st=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":st="focus",tt=Fd;break;case"focusout":st="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var lt=(s&4)!==0,ct=!lt&&i==="scroll",ht=lt?$!==null?$+"Capture":null:$;lt=[];for(var ut=it,pt;ut!==null;){pt=ut;var mt=pt.stateNode;if(pt.tag===5&&mt!==null&&(pt=mt,ht!==null&&(mt=Kb(ut,ht),mt!=null&&lt.push(tf(ut,mt,pt)))),ct)break;ut=ut.return}0<lt.length&&($=new tt($,st,null,o,j),_.push({event:$,listeners:lt}))}}if(!(s&7)){e:{if($=i==="mouseover"||i==="pointerover",tt=i==="mouseout"||i==="pointerout",$&&o!==wb&&(st=o.relatedTarget||o.fromElement)&&(Wc(st)||st[uf]))break e;if((tt||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,tt?(st=o.relatedTarget||o.toElement,tt=it,st=st?Wc(st):null,st!==null&&(ct=Vb(st),st!==ct||st.tag!==5&&st.tag!==6)&&(st=null)):(tt=null,st=it),tt!==st)){if(lt=Bd,mt="onMouseLeave",ht="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(lt=Td,mt="onPointerLeave",ht="onPointerEnter",ut="pointer"),ct=tt==null?$:ue(tt),pt=st==null?$:ue(st),$=new lt(mt,ut+"leave",tt,o,j),$.target=ct,$.relatedTarget=pt,mt=null,Wc(j)===it&&(lt=new lt(ht,ut+"enter",st,o,j),lt.target=pt,lt.relatedTarget=ct,mt=lt),ct=mt,tt&&st)t:{for(lt=tt,ht=st,ut=0,pt=lt;pt;pt=vf(pt))ut++;for(pt=0,mt=ht;mt;mt=vf(mt))pt++;for(;0<ut-pt;)lt=vf(lt),ut--;for(;0<pt-ut;)ht=vf(ht),pt--;for(;ut--;){if(lt===ht||ht!==null&&lt===ht.alternate)break t;lt=vf(lt),ht=vf(ht)}lt=null}else lt=null;tt!==null&&wf(_,$,tt,lt,!1),st!==null&&ct!==null&&wf(_,ct,st,lt,!0)}}e:{if($=it?ue(it):window,tt=$.nodeName&&$.nodeName.toLowerCase(),tt==="select"||tt==="input"&&$.type==="file")var vt=ve;else if(me($))if(we)vt=Fe;else{vt=De;var dt=Ce}else(tt=$.nodeName)&&tt.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(vt=Ee);if(vt&&(vt=vt(i,it))){ne(_,vt,o,j);break e}dt&&dt(i,$,it),i==="focusout"&&(dt=$._wrapperState)&&dt.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(dt=it?ue(it):window,i){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,o,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,o,j)}var St;if(ae)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(i,o)&&(yt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(de&&o.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(St=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(it,yt),0<dt.length&&(yt=new Ld(yt,i,null,o,j),_.push({event:yt,listeners:dt}),St?yt.data=St:(St=he(o),St!==null&&(yt.data=St)))),(St=ce?je(i,o):ke(i,o))&&(it=oe(it,"onBeforeInput"),0<it.length&&(j=new Ld("onBeforeInput","beforeinput",null,o,j),_.push({event:j,listeners:it}),j.data=St))}se(_,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var rt=i,et=rt.stateNode;rt.tag===5&&et!==null&&(rt=et,et=Kb(i,o),et!=null&&a.unshift(tf(i,et,rt)),et=Kb(i,s),et!=null&&a.push(tf(i,et,rt))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,rt){for(var et=s._reactName,ot=[];o!==null&&o!==a;){var at=o,nt=at.alternate,it=at.stateNode;if(nt!==null&&nt===a)break;at.tag===5&&it!==null&&(at=it,rt?(nt=Kb(o,et),nt!=null&&ot.unshift(tf(o,nt,at))):rt||(nt=Kb(o,et),nt!=null&&ot.push(tf(o,nt,at)))),o=o.return}ot.length!==0&&i.push({event:s,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var rt=o.nextSibling;if(i.removeChild(o),rt&&rt.nodeType===8)if(o=rt.data,o==="/$"){if(a===0){i.removeChild(rt),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=rt}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var rt={},et;for(et in o)rt[et]=s[et];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p$1(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var rt in a)if(!(rt in s))throw Error(p$1(108,Ra(i)||"Unknown",rt));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p$1(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),rt}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var rt=32-oc(a)-1;a&=~(1<<rt),o+=1;var et=32-oc(s)+rt;if(30<et){var ot=rt-rt%5;et=(a&(1<<ot)-1).toString(32),a>>=ot,rt-=ot,rg=1<<32-oc(s)+rt|o<<rt|a,sg=et+i}else rg=1<<et|o<<rt|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$1(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$1(309));var a=o.stateNode}if(!a)throw Error(p$1(147,i));var rt=a,et=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===et?s.ref:(s=function(ot){var at=rt.refs;ot===null?delete at[et]:at[et]=ot},s._stringRef=et,s)}if(typeof i!="string")throw Error(p$1(284));if(!o._owner)throw Error(p$1(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(ht,ut){if(i){var pt=ht.deletions;pt===null?(ht.deletions=[ut],ht.flags|=16):pt.push(ut)}}function o(ht,ut){if(!i)return null;for(;ut!==null;)s(ht,ut),ut=ut.sibling;return null}function a(ht,ut){for(ht=new Map;ut!==null;)ut.key!==null?ht.set(ut.key,ut):ht.set(ut.index,ut),ut=ut.sibling;return ht}function rt(ht,ut){return ht=Pg(ht,ut),ht.index=0,ht.sibling=null,ht}function et(ht,ut,pt){return ht.index=pt,i?(pt=ht.alternate,pt!==null?(pt=pt.index,pt<ut?(ht.flags|=2,ut):pt):(ht.flags|=2,ut)):(ht.flags|=1048576,ut)}function ot(ht){return i&&ht.alternate===null&&(ht.flags|=2),ht}function at(ht,ut,pt,mt){return ut===null||ut.tag!==6?(ut=Qg(pt,ht.mode,mt),ut.return=ht,ut):(ut=rt(ut,pt),ut.return=ht,ut)}function nt(ht,ut,pt,mt){var vt=pt.type;return vt===ya?j(ht,ut,pt.props.children,mt,pt.key):ut!==null&&(ut.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&Ng(vt)===ut.type)?(mt=rt(ut,pt.props),mt.ref=Lg(ht,ut,pt),mt.return=ht,mt):(mt=Rg(pt.type,pt.key,pt.props,null,ht.mode,mt),mt.ref=Lg(ht,ut,pt),mt.return=ht,mt)}function it(ht,ut,pt,mt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==pt.containerInfo||ut.stateNode.implementation!==pt.implementation?(ut=Sg(pt,ht.mode,mt),ut.return=ht,ut):(ut=rt(ut,pt.children||[]),ut.return=ht,ut)}function j(ht,ut,pt,mt,vt){return ut===null||ut.tag!==7?(ut=Tg(pt,ht.mode,mt,vt),ut.return=ht,ut):(ut=rt(ut,pt),ut.return=ht,ut)}function _(ht,ut,pt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=Qg(""+ut,ht.mode,pt),ut.return=ht,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return pt=Rg(ut.type,ut.key,ut.props,null,ht.mode,pt),pt.ref=Lg(ht,null,ut),pt.return=ht,pt;case wa:return ut=Sg(ut,ht.mode,pt),ut.return=ht,ut;case Ha:var mt=ut._init;return _(ht,mt(ut._payload),pt)}if(eb(ut)||Ka(ut))return ut=Tg(ut,ht.mode,pt,null),ut.return=ht,ut;Mg(ht,ut)}return null}function $(ht,ut,pt,mt){var vt=ut!==null?ut.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return vt!==null?null:at(ht,ut,""+pt,mt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===vt?nt(ht,ut,pt,mt):null;case wa:return pt.key===vt?it(ht,ut,pt,mt):null;case Ha:return vt=pt._init,$(ht,ut,vt(pt._payload),mt)}if(eb(pt)||Ka(pt))return vt!==null?null:j(ht,ut,pt,mt,null);Mg(ht,pt)}return null}function tt(ht,ut,pt,mt,vt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return ht=ht.get(pt)||null,at(ut,ht,""+mt,vt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return ht=ht.get(mt.key===null?pt:mt.key)||null,nt(ut,ht,mt,vt);case wa:return ht=ht.get(mt.key===null?pt:mt.key)||null,it(ut,ht,mt,vt);case Ha:var dt=mt._init;return tt(ht,ut,pt,dt(mt._payload),vt)}if(eb(mt)||Ka(mt))return ht=ht.get(pt)||null,j(ut,ht,mt,vt,null);Mg(ut,mt)}return null}function st(ht,ut,pt,mt){for(var vt=null,dt=null,St=ut,yt=ut=0,gt=null;St!==null&&yt<pt.length;yt++){St.index>yt?(gt=St,St=null):gt=St.sibling;var Et=$(ht,St,pt[yt],mt);if(Et===null){St===null&&(St=gt);break}i&&St&&Et.alternate===null&&s(ht,St),ut=et(Et,ut,yt),dt===null?vt=Et:dt.sibling=Et,dt=Et,St=gt}if(yt===pt.length)return o(ht,St),I&&tg(ht,yt),vt;if(St===null){for(;yt<pt.length;yt++)St=_(ht,pt[yt],mt),St!==null&&(ut=et(St,ut,yt),dt===null?vt=St:dt.sibling=St,dt=St);return I&&tg(ht,yt),vt}for(St=a(ht,St);yt<pt.length;yt++)gt=tt(St,ht,yt,pt[yt],mt),gt!==null&&(i&&gt.alternate!==null&&St.delete(gt.key===null?yt:gt.key),ut=et(gt,ut,yt),dt===null?vt=gt:dt.sibling=gt,dt=gt);return i&&St.forEach(function(_t){return s(ht,_t)}),I&&tg(ht,yt),vt}function lt(ht,ut,pt,mt){var vt=Ka(pt);if(typeof vt!="function")throw Error(p$1(150));if(pt=vt.call(pt),pt==null)throw Error(p$1(151));for(var dt=vt=null,St=ut,yt=ut=0,gt=null,Et=pt.next();St!==null&&!Et.done;yt++,Et=pt.next()){St.index>yt?(gt=St,St=null):gt=St.sibling;var _t=$(ht,St,Et.value,mt);if(_t===null){St===null&&(St=gt);break}i&&St&&_t.alternate===null&&s(ht,St),ut=et(_t,ut,yt),dt===null?vt=_t:dt.sibling=_t,dt=_t,St=gt}if(Et.done)return o(ht,St),I&&tg(ht,yt),vt;if(St===null){for(;!Et.done;yt++,Et=pt.next())Et=_(ht,Et.value,mt),Et!==null&&(ut=et(Et,ut,yt),dt===null?vt=Et:dt.sibling=Et,dt=Et);return I&&tg(ht,yt),vt}for(St=a(ht,St);!Et.done;yt++,Et=pt.next())Et=tt(St,ht,yt,Et.value,mt),Et!==null&&(i&&Et.alternate!==null&&St.delete(Et.key===null?yt:Et.key),ut=et(Et,ut,yt),dt===null?vt=Et:dt.sibling=Et,dt=Et);return i&&St.forEach(function(kt){return s(ht,kt)}),I&&tg(ht,yt),vt}function ct(ht,ut,pt,mt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var vt=pt.key,dt=ut;dt!==null;){if(dt.key===vt){if(vt=pt.type,vt===ya){if(dt.tag===7){o(ht,dt.sibling),ut=rt(dt,pt.props.children),ut.return=ht,ht=ut;break e}}else if(dt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&Ng(vt)===dt.type){o(ht,dt.sibling),ut=rt(dt,pt.props),ut.ref=Lg(ht,dt,pt),ut.return=ht,ht=ut;break e}o(ht,dt);break}else s(ht,dt);dt=dt.sibling}pt.type===ya?(ut=Tg(pt.props.children,ht.mode,mt,pt.key),ut.return=ht,ht=ut):(mt=Rg(pt.type,pt.key,pt.props,null,ht.mode,mt),mt.ref=Lg(ht,ut,pt),mt.return=ht,ht=mt)}return ot(ht);case wa:e:{for(dt=pt.key;ut!==null;){if(ut.key===dt)if(ut.tag===4&&ut.stateNode.containerInfo===pt.containerInfo&&ut.stateNode.implementation===pt.implementation){o(ht,ut.sibling),ut=rt(ut,pt.children||[]),ut.return=ht,ht=ut;break e}else{o(ht,ut);break}else s(ht,ut);ut=ut.sibling}ut=Sg(pt,ht.mode,mt),ut.return=ht,ht=ut}return ot(ht);case Ha:return dt=pt._init,ct(ht,ut,dt(pt._payload),mt)}if(eb(pt))return st(ht,ut,pt,mt);if(Ka(pt))return lt(ht,ut,pt,mt);Mg(ht,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,ut!==null&&ut.tag===6?(o(ht,ut.sibling),ut=rt(ut,pt),ut.return=ht,ht=ut):(o(ht,ut),ut=Qg(pt,ht.mode,mt),ut.return=ht,ht=ut),ot(ht)):o(ht,ut)}return ct}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var rt=s.interleaved;return rt===null?(o.next=o,gh(s)):(o.next=rt.next,rt.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var rt=a.pending;return rt===null?s.next=s:(s.next=rt.next,rt.next=s),a.pending=s,ih(i,o)}return rt=a.interleaved,rt===null?(s.next=s,gh(a)):(s.next=rt.next,rt.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var rt=null,et=null;if(o=o.firstBaseUpdate,o!==null){do{var ot={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};et===null?rt=et=ot:et=et.next=ot,o=o.next}while(o!==null);et===null?rt=et=s:et=et.next=s}else rt=et=s;o={baseState:a.baseState,firstBaseUpdate:rt,lastBaseUpdate:et,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var rt=i.updateQueue;jh=!1;var et=rt.firstBaseUpdate,ot=rt.lastBaseUpdate,at=rt.shared.pending;if(at!==null){rt.shared.pending=null;var nt=at,it=nt.next;nt.next=null,ot===null?et=it:ot.next=it,ot=nt;var j=i.alternate;j!==null&&(j=j.updateQueue,at=j.lastBaseUpdate,at!==ot&&(at===null?j.firstBaseUpdate=it:at.next=it,j.lastBaseUpdate=nt))}if(et!==null){var _=rt.baseState;ot=0,j=it=nt=null,at=et;do{var $=at.lane,tt=at.eventTime;if((a&$)===$){j!==null&&(j=j.next={eventTime:tt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var st=i,lt=at;switch($=s,tt=o,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){_=st.call(tt,_,$);break e}_=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,$=typeof st=="function"?st.call(tt,_,$):st,$==null)break e;_=A({},_,$);break e;case 2:jh=!0}}at.callback!==null&&at.lane!==0&&(i.flags|=64,$=rt.effects,$===null?rt.effects=[at]:$.push(at))}else tt={eventTime:tt,lane:$,tag:at.tag,payload:at.payload,callback:at.callback,next:null},j===null?(it=j=tt,nt=_):j=j.next=tt,ot|=$;if(at=at.next,at===null){if(at=rt.shared.pending,at===null)break;$=at,at=$.next,$.next=null,rt.lastBaseUpdate=$,rt.shared.pending=null}}while(!0);if(j===null&&(nt=_),rt.baseState=nt,rt.firstBaseUpdate=it,rt.lastBaseUpdate=j,s=rt.shared.interleaved,s!==null){rt=s;do ot|=rt.lane,rt=rt.next;while(rt!==s)}else et===null&&(rt.shared.lanes=0);rh|=ot,i.lanes=ot,i.memoizedState=_}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],rt=a.callback;if(rt!==null){if(a.callback=null,a=o,typeof rt!="function")throw Error(p$1(191,rt));rt.call(a)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,s){switch(G(wh,s),G(vh$1,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh$1,i),G(uh,o))}function Bh(i){vh$1.current===i&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,rt,et){if(Hh=et,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,rt),Jh){et=0;do{if(Jh=!1,Kh=0,25<=et)throw Error(p$1(301));et+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,rt)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=i;var a=N,rt=a.baseQueue,et=o.pending;if(et!==null){if(rt!==null){var ot=rt.next;rt.next=et.next,et.next=ot}a.baseQueue=rt=et,o.pending=null}if(rt!==null){et=rt.next,a=a.baseState;var at=ot=null,nt=null,it=et;do{var j=it.lane;if((Hh&j)===j)nt!==null&&(nt=nt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),a=it.hasEagerState?it.eagerState:i(a,it.action);else{var _={lane:j,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};nt===null?(at=nt=_,ot=a):nt=nt.next=_,M.lanes|=j,rh|=j}it=it.next}while(it!==null&&it!==et);nt===null?ot=a:nt.next=at,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=ot,s.baseQueue=nt,o.lastRenderedState=a}if(i=o.interleaved,i!==null){rt=i;do et=rt.lane,M.lanes|=et,rh|=et,rt=rt.next;while(rt!==i)}else rt===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=i;var a=o.dispatch,rt=o.pending,et=s.memoizedState;if(rt!==null){o.pending=null;var ot=rt=rt.next;do et=i(et,ot.action),ot=ot.next;while(ot!==rt);He(et,s.memoizedState)||(dh=!0),s.memoizedState=et,s.baseQueue===null&&(s.baseState=et),o.lastRenderedState=et}return[et,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),rt=s(),et=!He(a.memoizedState,rt);if(et&&(a.memoizedState=rt,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||et||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,rt,s),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(o,s,rt)}return rt}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var rt=Th();M.flags|=i,rt.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var rt=Uh();a=a===void 0?null:a;var et=void 0;if(N!==null){var ot=N.memoizedState;if(et=ot.destroy,a!==null&&Mh(a,ot.deps)){rt.memoizedState=bi(s,o,et,a);return}}M.flags|=i,rt.memoizedState=bi(1|s,o,et,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var rt=R();gi(o,i,a,rt),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),rt={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,rt);else{var et=i.alternate;if(i.lanes===0&&(et===null||et.lanes===0)&&(et=s.lastRenderedReducer,et!==null))try{var ot=s.lastRenderedState,at=et(ot,o);if(rt.hasEagerState=!0,rt.eagerState=at,He(at,ot)){var nt=s.interleaved;nt===null?(rt.next=rt,gh(s)):(rt.next=nt.next,nt.next=rt),s.interleaved=rt;return}}catch{}finally{}o=hh(i,s,rt,a),o!==null&&(rt=R(),gi(o,i,a,rt),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,rt=Th();if(I){if(o===void 0)throw Error(p$1(407));o=o()}else{if(o=s(),Q===null)throw Error(p$1(349));Hh&30||di(a,s,o)}rt.memoizedState=o;var et={value:o,getSnapshot:s};return rt.queue=et,mi(ai.bind(null,a,et,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,et,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),rt=yi(i),et=mh(a,rt);et.payload=s,o!=null&&(et.callback=o),s=nh(i,et,rt),s!==null&&(gi(s,i,rt,a),oh(s,i,rt))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),rt=yi(i),et=mh(a,rt);et.tag=1,et.payload=s,o!=null&&(et.callback=o),s=nh(i,et,rt),s!==null&&(gi(s,i,rt,a),oh(s,i,rt))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),rt=mh(o,a);rt.tag=2,s!=null&&(rt.callback=s),s=nh(i,rt,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,rt,et,ot){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,et,ot):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(rt,et):!0}function Gi(i,s,o){var a=!1,rt=Vf,et=s.contextType;return typeof et=="object"&&et!==null?et=eh(et):(rt=Zf(s)?Xf:H.current,a=s.contextTypes,et=(a=a!=null)?Yf(i,rt):Vf),s=new s(o,et),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=rt,i.__reactInternalMemoizedMaskedChildContext=et),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var rt=i.stateNode;rt.props=o,rt.state=i.memoizedState,rt.refs={},kh(i);var et=s.contextType;typeof et=="object"&&et!==null?rt.context=eh(et):(et=Zf(s)?Xf:H.current,rt.context=Yf(i,et)),rt.state=i.memoizedState,et=s.getDerivedStateFromProps,typeof et=="function"&&(Di(i,s,et,o),rt.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(s=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),s!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(i,o,rt,a),rt.state=i.memoizedState),typeof rt.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var rt=o}catch(et){rt=`
Error generating stack: `+et.message+`
`+et.stack}return{value:i,source:s,stack:rt,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var rt=s.value;o.payload=function(){return a(rt)},o.callback=function(){Li(i,s)}}var et=i.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ot=s.stack;this.componentDidCatch(s.value,{componentStack:ot!==null?ot:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var rt=new Set;a.set(s,rt)}else rt=a.get(s),rt===void 0&&(rt=new Set,a.set(s,rt));rt.has(o)||(rt.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,rt){return i.mode&1?(i.flags|=65536,i.lanes=rt,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,rt){o=o.render;var et=s.ref;return ch(s,rt),a=Nh(i,s,o,a,et,rt),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~rt,Zi(i,s,rt)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,rt),s.child)}function $i(i,s,o,a,rt){if(i===null){var et=o.type;return typeof et=="function"&&!aj(et)&&et.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=et,bj(i,s,et,a,rt)):(i=Rg(o.type,null,a,s,s.mode,rt),i.ref=s.ref,i.return=s,s.child=i)}if(et=i.child,!(i.lanes&rt)){var ot=et.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(ot,a)&&i.ref===s.ref)return Zi(i,s,rt)}return s.flags|=1,i=Pg(et,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,rt){if(i!==null){var et=i.memoizedProps;if(Ie(et,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=et,(i.lanes&rt)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,rt)}return cj(i,s,o,a,rt)}function dj(i,s,o){var a=s.pendingProps,rt=a.children,et=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=et!==null?et.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=et!==null?et.baseLanes:o,G(ej,fj),fj|=a}else et!==null?(a=et.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,rt,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,rt){var et=Zf(o)?Xf:H.current;return et=Yf(s,et),ch(s,rt),o=Nh(i,s,o,a,et,rt),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~rt,Zi(i,s,rt)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,rt),s.child)}function hj(i,s,o,a,rt){if(Zf(o)){var et=!0;cg(s)}else et=!1;if(ch(s,rt),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,rt),a=!0;else if(i===null){var ot=s.stateNode,at=s.memoizedProps;ot.props=at;var nt=ot.context,it=o.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(o)?Xf:H.current,it=Yf(s,it));var j=o.getDerivedStateFromProps,_=typeof j=="function"||typeof ot.getSnapshotBeforeUpdate=="function";_||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==a||nt!==it)&&Hi(s,ot,a,it),jh=!1;var $=s.memoizedState;ot.state=$,qh(s,a,ot,rt),nt=s.memoizedState,at!==a||$!==nt||Wf.current||jh?(typeof j=="function"&&(Di(s,o,j,a),nt=s.memoizedState),(at=jh||Fi(s,o,at,a,$,nt,it))?(_||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(s.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=nt),ot.props=a,ot.state=nt,ot.context=it,a=at):(typeof ot.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{ot=s.stateNode,lh(i,s),at=s.memoizedProps,it=s.type===s.elementType?at:Ci(s.type,at),ot.props=it,_=s.pendingProps,$=ot.context,nt=o.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(o)?Xf:H.current,nt=Yf(s,nt));var tt=o.getDerivedStateFromProps;(j=typeof tt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==_||$!==nt)&&Hi(s,ot,a,nt),jh=!1,$=s.memoizedState,ot.state=$,qh(s,a,ot,rt);var st=s.memoizedState;at!==_||$!==st||Wf.current||jh?(typeof tt=="function"&&(Di(s,o,tt,a),st=s.memoizedState),(it=jh||Fi(s,o,it,a,$,st,nt)||!1)?(j||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(a,st,nt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(a,st,nt)),typeof ot.componentDidUpdate=="function"&&(s.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=st),ot.props=a,ot.state=st,ot.context=nt,a=it):(typeof ot.componentDidUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,et,rt)}function jj(i,s,o,a,rt,et){gj(i,s);var ot=(s.flags&128)!==0;if(!a&&!ot)return rt&&dg(s,o,!1),Zi(i,s,et);a=s.stateNode,Wi.current=s;var at=ot&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&ot?(s.child=Ug(s,i.child,null,et),s.child=Ug(s,null,at,et)):Xi(i,s,at,et),s.memoizedState=a.state,rt&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,rt){return Ig(),Jg(rt),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,rt=L.current,et=!1,ot=(s.flags&128)!==0,at;if((at=ot)||(at=i!==null&&i.memoizedState===null?!1:(rt&2)!==0),at?(et=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(rt|=1),G(L,rt&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(ot=a.children,i=a.fallback,et?(a=s.mode,et=s.child,ot={mode:"hidden",children:ot},!(a&1)&&et!==null?(et.childLanes=0,et.pendingProps=ot):et=pj(ot,a,0,null),i=Tg(i,a,o,null),et.return=s,i.return=s,et.sibling=i,s.child=et,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,ot));if(rt=i.memoizedState,rt!==null&&(at=rt.dehydrated,at!==null))return rj(i,s,ot,a,at,rt,o);if(et){et=a.fallback,ot=s.mode,rt=i.child,at=rt.sibling;var nt={mode:"hidden",children:a.children};return!(ot&1)&&s.child!==rt?(a=s.child,a.childLanes=0,a.pendingProps=nt,s.deletions=null):(a=Pg(rt,nt),a.subtreeFlags=rt.subtreeFlags&14680064),at!==null?et=Pg(at,et):(et=Tg(et,ot,o,null),et.flags|=2),et.return=s,a.return=s,a.sibling=et,s.child=a,a=et,et=s.child,ot=i.child.memoizedState,ot=ot===null?nj(o):{baseLanes:ot.baseLanes|o,cachePool:null,transitions:ot.transitions},et.memoizedState=ot,et.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return et=i.child,i=et.sibling,a=Pg(et,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,rt,et,ot){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p$1(422))),sj(i,s,ot,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(et=a.fallback,rt=s.mode,a=pj({mode:"visible",children:a.children},rt,0,null),et=Tg(et,rt,ot,null),et.flags|=2,a.return=s,et.return=s,a.sibling=et,s.child=a,s.mode&1&&Ug(s,i.child,null,ot),s.child.memoizedState=nj(ot),s.memoizedState=mj,et);if(!(s.mode&1))return sj(i,s,ot,null);if(rt.data==="$!"){if(a=rt.nextSibling&&rt.nextSibling.dataset,a)var at=a.dgst;return a=at,et=Error(p$1(419)),a=Ki(et,a,void 0),sj(i,s,ot,a)}if(at=(ot&i.childLanes)!==0,dh||at){if(a=Q,a!==null){switch(ot&-ot){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(a.suspendedLanes|ot)?0:rt,rt!==0&&rt!==et.retryLane&&(et.retryLane=rt,ih(i,rt),gi(a,i,rt,-1))}return tj(),a=Ki(Error(p$1(421))),sj(i,s,ot,a)}return rt.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),rt._reactRetry=s,null):(i=et.treeContext,yg=Lf(rt.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,rt){var et=i.memoizedState;et===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:rt}:(et.isBackwards=s,et.rendering=null,et.renderingStartTime=0,et.last=a,et.tail=o,et.tailMode=rt)}function xj(i,s,o){var a=s.pendingProps,rt=a.revealOrder,et=a.tail;if(Xi(i,s,a.children,o),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(rt){case"forwards":for(o=s.child,rt=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(rt=o),o=o.sibling;o=rt,o===null?(rt=s.child,s.child=null):(rt=o.sibling,o.sibling=null),wj(s,!1,rt,o,et);break;case"backwards":for(o=null,rt=s.child,s.child=null;rt!==null;){if(i=rt.alternate,i!==null&&Ch(i)===null){s.child=rt;break}i=rt.sibling,rt.sibling=o,o=rt,rt=i}wj(s,!0,o,null,et);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$1(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,rt=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=rt;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L,L.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(rt=s.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var rt=i.memoizedProps;if(rt!==a){i=s.stateNode,xh(uh.current);var et=null;switch(o){case"input":rt=Ya(i,rt),a=Ya(i,a),et=[];break;case"select":rt=A({},rt,{value:void 0}),a=A({},a,{value:void 0}),et=[];break;case"textarea":rt=gb(i,rt),a=gb(i,a),et=[];break;default:typeof rt.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var ot;o=null;for(it in rt)if(!a.hasOwnProperty(it)&&rt.hasOwnProperty(it)&&rt[it]!=null)if(it==="style"){var at=rt[it];for(ot in at)at.hasOwnProperty(ot)&&(o||(o={}),o[ot]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?et||(et=[]):(et=et||[]).push(it,null));for(it in a){var nt=a[it];if(at=rt!=null?rt[it]:void 0,a.hasOwnProperty(it)&&nt!==at&&(nt!=null||at!=null))if(it==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||nt&&nt.hasOwnProperty(ot)||(o||(o={}),o[ot]="");for(ot in nt)nt.hasOwnProperty(ot)&&at[ot]!==nt[ot]&&(o||(o={}),o[ot]=nt[ot])}else o||(et||(et=[]),et.push(it,o)),o=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,at=at?at.__html:void 0,nt!=null&&at!==nt&&(et=et||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||(et=et||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&D("scroll",i),et||at===nt||(et=[])):(et=et||[]).push(it,nt))}o&&(et=et||[]).push("style",o);var it=et;(s.updateQueue=it)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var rt=i.child;rt!==null;)o|=rt.lanes|rt.childLanes,a|=rt.subtreeFlags&14680064,a|=rt.flags&14680064,rt.return=i,rt=rt.sibling;else for(rt=i.child;rt!==null;)o|=rt.lanes|rt.childLanes,a|=rt.subtreeFlags,a|=rt.flags,rt.return=i,rt=rt.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var rt=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,rt),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p$1(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var et=s.memoizedProps;switch(a[Of]=s,a[Pf]=et,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,et),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!et.multiple},D("invalid",a);break;case"textarea":hb(a,et),D("invalid",a)}ub(o,et),rt=null;for(var ot in et)if(et.hasOwnProperty(ot)){var at=et[ot];ot==="children"?typeof at=="string"?a.textContent!==at&&(et.suppressHydrationWarning!==!0&&Af(a.textContent,at,i),rt=["children",at]):typeof at=="number"&&a.textContent!==""+at&&(et.suppressHydrationWarning!==!0&&Af(a.textContent,at,i),rt=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,et,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(a.onclick=Bf)}a=rt,s.updateQueue=a,a!==null&&(s.flags|=4)}else{ot=rt.nodeType===9?rt:rt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=ot.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=ot.createElement(o,{is:a.is}):(i=ot.createElement(o),o==="select"&&(ot=i,a.multiple?ot.multiple=!0:a.size&&(ot.size=a.size))):i=ot.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch(ot=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),rt=a;break;case"iframe":case"object":case"embed":D("load",i),rt=a;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],i);rt=a;break;case"source":D("error",i),rt=a;break;case"img":case"image":case"link":D("error",i),D("load",i),rt=a;break;case"details":D("toggle",i),rt=a;break;case"input":Za(i,a),rt=Ya(i,a),D("invalid",i);break;case"option":rt=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},rt=A({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),rt=gb(i,a),D("invalid",i);break;default:rt=a}ub(o,rt),at=rt;for(et in at)if(at.hasOwnProperty(et)){var nt=at[et];et==="style"?sb(i,nt):et==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):et==="children"?typeof nt=="string"?(o!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?nt!=null&&et==="onScroll"&&D("scroll",i):nt!=null&&ta(i,et,nt,ot))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,et=a.value,et!=null?fb(i,!!a.multiple,et,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p$1(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(et=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}et&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,et=!1;else if(et=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!et)throw Error(p$1(318));if(et=s.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),et=!1}else zg!==null&&(Fj(zg),zg=null),et=!0;if(!et)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),et=s.memoizedState,et===null)return S(s),null;if(a=(s.flags&128)!==0,ot=et.rendering,ot===null)if(a)Dj(et,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(ot=Ch(i),ot!==null){for(s.flags|=128,Dj(et,!1),a=ot.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)et=o,i=a,et.flags&=14680066,ot=et.alternate,ot===null?(et.childLanes=0,et.lanes=i,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=ot.childLanes,et.lanes=ot.lanes,et.child=ot.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=ot.memoizedProps,et.memoizedState=ot.memoizedState,et.updateQueue=ot.updateQueue,et.type=ot.type,i=ot.dependencies,et.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}et.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(et,!1),s.lanes=4194304)}else{if(!a)if(i=Ch(ot),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(et,!0),et.tail===null&&et.tailMode==="hidden"&&!ot.alternate&&!I)return S(s),null}else 2*B()-et.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj(et,!1),s.lanes=4194304);et.isBackwards?(ot.sibling=s.child,s.child=ot):(o=et.last,o!==null?o.sibling=ot:s.child=ot,et.last=ot)}return et.tail!==null?(s=et.tail,et.rendering=s,et.tail=s.sibling,et.renderingStartTime=B(),s.sibling=null,o=L.current,G(L,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var rt=a.anchorOffset,et=a.focusNode;a=a.focusOffset;try{o.nodeType,et.nodeType}catch{o=null;break e}var ot=0,at=-1,nt=-1,it=0,j=0,_=i,$=null;t:for(;;){for(var tt;_!==o||rt!==0&&_.nodeType!==3||(at=ot+rt),_!==et||a!==0&&_.nodeType!==3||(nt=ot+a),_.nodeType===3&&(ot+=_.nodeValue.length),(tt=_.firstChild)!==null;)$=_,_=tt;for(;;){if(_===i)break t;if($===o&&++it===rt&&(at=ot),$===et&&++j===a&&(nt=ot),(tt=_.nextSibling)!==null)break;_=$,$=_.parentNode}_=tt}o=at===-1||nt===-1?null:{start:at,end:nt}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var st=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,ct=st.memoizedState,ht=s.stateNode,ut=ht.getSnapshotBeforeUpdate(s.elementType===s.type?lt:Ci(s.type,lt),ct);ht.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var pt=s.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(mt){W(s,s.return,mt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return st=Nj,Nj=!1,st}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var rt=a=a.next;do{if((rt.tag&i)===i){var et=rt.destroy;rt.destroy=void 0,et!==void 0&&Mj(s,o,et)}rt=rt.next}while(rt!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,s);case 6:var a=X,rt=Xj;X=null,Yj(i,s,o),X=a,Xj=rt,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,rt=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X=a,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){rt=a=a.next;do{var et=rt,ot=et.destroy;et=et.tag,ot!==void 0&&(et&2||et&4)&&Mj(o,s,ot),rt=rt.next}while(rt!==a)}Yj(i,s,o);break;case 1:if(!U&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(at){W(o,s,at)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Yj(i,s,o),U=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var rt=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(rt,rt))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var rt=o[a];try{var et=i,ot=s,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Xj=!1;break e;case 3:X=at.stateNode.containerInfo,Xj=!0;break e;case 4:X=at.stateNode.containerInfo,Xj=!0;break e}at=at.return}if(X===null)throw Error(p$1(160));Zj(et,ot,rt),X=null,Xj=!1;var nt=rt.alternate;nt!==null&&(nt.return=null),rt.return=null}catch(it){W(rt,s,it)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(lt){W(i,i.return,lt)}try{Pj(5,i,i.return)}catch(lt){W(i,i.return,lt)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var rt=i.stateNode;try{ob(rt,"")}catch(lt){W(i,i.return,lt)}}if(a&4&&(rt=i.stateNode,rt!=null)){var et=i.memoizedProps,ot=o!==null?o.memoizedProps:et,at=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{at==="input"&&et.type==="radio"&&et.name!=null&&ab(rt,et),vb(at,ot);var it=vb(at,et);for(ot=0;ot<nt.length;ot+=2){var j=nt[ot],_=nt[ot+1];j==="style"?sb(rt,_):j==="dangerouslySetInnerHTML"?nb(rt,_):j==="children"?ob(rt,_):ta(rt,j,_,it)}switch(at){case"input":bb(rt,et);break;case"textarea":ib(rt,et);break;case"select":var $=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!et.multiple;var tt=et.value;tt!=null?fb(rt,!!et.multiple,tt,!1):$!==!!et.multiple&&(et.defaultValue!=null?fb(rt,!!et.multiple,et.defaultValue,!0):fb(rt,!!et.multiple,et.multiple?[]:"",!1))}rt[Pf]=et}catch(lt){W(i,i.return,lt)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p$1(162));rt=i.stateNode,et=i.memoizedProps;try{rt.nodeValue=et}catch(lt){W(i,i.return,lt)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(lt){W(i,i.return,lt)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),rt=i.child,rt.flags&8192&&(et=rt.memoizedState!==null,rt.stateNode.isHidden=et,!et||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(j=o!==null&&o.memoizedState!==null,i.mode&1?(U=(it=U)||j,ck(s,i),U=it):ck(s,i),ek(i),a&8192){if(it=i.memoizedState!==null,(i.stateNode.isHidden=it)&&!j&&i.mode&1)for(V=i,j=i.child;j!==null;){for(_=V=j;V!==null;){switch($=V,tt=$.child,$.tag){case 0:case 11:case 14:case 15:Pj(4,$,$.return);break;case 1:Lj($,$.return);var st=$.stateNode;if(typeof st.componentWillUnmount=="function"){a=$,o=$.return;try{s=a,st.props=s.memoizedProps,st.state=s.memoizedState,st.componentWillUnmount()}catch(lt){W(a,o,lt)}}break;case 5:Lj($,$.return);break;case 22:if($.memoizedState!==null){gk(_);continue}}tt!==null?(tt.return=$,V=tt):gk(_)}j=j.sibling}e:for(j=null,_=i;;){if(_.tag===5){if(j===null){j=_;try{rt=_.stateNode,it?(et=rt.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(at=_.stateNode,nt=_.memoizedProps.style,ot=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,at.style.display=rb("display",ot))}catch(lt){W(i,i.return,lt)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=it?"":_.memoizedProps}catch(lt){W(i,i.return,lt)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===i)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p$1(160))}switch(a.tag){case 5:var rt=a.stateNode;a.flags&32&&(ob(rt,""),a.flags&=-33);var et=Uj(i);Wj(i,et,rt);break;case 3:case 4:var ot=a.stateNode.containerInfo,at=Uj(i);Vj(i,at,ot);break;default:throw Error(p$1(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var rt=V,et=rt.child;if(rt.tag===22&&a){var ot=rt.memoizedState!==null||Jj;if(!ot){var at=rt.alternate,nt=at!==null&&at.memoizedState!==null||U;at=Jj;var it=U;if(Jj=ot,(U=nt)&&!it)for(V=rt;V!==null;)ot=V,nt=ot.child,ot.tag===22&&ot.memoizedState!==null?jk(rt):nt!==null?(nt.return=ot,V=nt):jk(rt);for(;et!==null;)V=et,ik(et),et=et.sibling;V=rt,Jj=at,U=it}kk(i)}else rt.subtreeFlags&8772&&et!==null?(et.return=rt,V=et):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var rt=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(rt,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var et=s.updateQueue;et!==null&&sh(s,et,a);break;case 3:var ot=s.updateQueue;if(ot!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,ot,o)}break;case 5:var at=s.stateNode;if(o===null&&s.flags&4){o=at;var nt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&o.focus();break;case"img":nt.src&&(o.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var it=s.alternate;if(it!==null){var j=it.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||s.flags&512&&Rj(s)}catch($){W(s,s.return,$)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(nt){W(s,o,nt)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var rt=s.return;try{a.componentDidMount()}catch(nt){W(s,rt,nt)}}var et=s.return;try{Rj(s)}catch(nt){W(s,et,nt)}break;case 5:var ot=s.return;try{Rj(s)}catch(nt){W(s,ot,nt)}}}catch(nt){W(s,s.return,nt)}if(s===i){V=null;break}var at=s.sibling;if(at!==null){at.return=s.return,V=at;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var rt=K;K|=2;var et=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(at){Mk(i,at)}while(!0);$g(),mk.current=et,K=rt,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(rt=xc(i),rt!==0&&(a=rt,s=Nk(i,rt))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(rt=i.current.alternate,!(a&30)&&!Ok(rt)&&(s=Ik(i,a),s===2&&(et=xc(i),et!==0&&(a=et,s=Nk(i,et))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=rt,i.finishedLanes=a,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(rt=i.suspendedLanes,(rt&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&rt;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,rt=-1;0<a;){var ot=31-oc(a);et=1<<ot,ot=s[ot],ot>rt&&(rt=ot),a&=~et}if(a=rt,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var rt=o[a],et=rt.getSnapshot;rt=rt.value;try{if(!He(et(),rt))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok.transition,a=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=a,ok.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var rt=a.next,et=o.pending;if(et!==null){var ot=et.next;et.next=rt,a.next=ot}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var rt=a.queue;rt!==null&&(rt.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var et=i,ot=o.return,at=o,nt=s;if(s=Z,at.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt,j=at,_=j.tag;if(!(j.mode&1)&&(_===0||_===11||_===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var tt=Ui(ot);if(tt!==null){tt.flags&=-257,Vi(tt,ot,at,et,s),tt.mode&1&&Si(et,it,s),s=tt,nt=it;var st=s.updateQueue;if(st===null){var lt=new Set;lt.add(nt),s.updateQueue=lt}else st.add(nt);break e}else{if(!(s&1)){Si(et,it,s),tj();break e}nt=Error(p$1(426))}}else if(I&&at.mode&1){var ct=Ui(ot);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Vi(ct,ot,at,et,s),Jg(Ji(nt,at));break e}}et=nt=Ji(nt,at),T!==4&&(T=2),sk===null?sk=[et]:sk.push(et),et=ot;do{switch(et.tag){case 3:et.flags|=65536,s&=-s,et.lanes|=s;var ht=Ni(et,nt,s);ph(et,ht);break e;case 1:at=nt;var ut=et.type,pt=et.stateNode;if(!(et.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Ri===null||!Ri.has(pt)))){et.flags|=65536,s&=-s,et.lanes|=s;var mt=Qi(et,at,s);ph(et,mt);break e}}et=et.return}while(et!==null)}Sk(o)}catch(vt){s=vt,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(rt){Mk(i,rt)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,rt=ok.transition;try{ok.transition=null,C=1,Wk(i,s,o,a)}finally{ok.transition=rt,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));o=i.finishedWork;var rt=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var et=o.lanes|o.childLanes;if(Bc(i,et),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),et=(o.flags&15990)!==0,o.subtreeFlags&15990||et){et=ok.transition,ok.transition=null;var ot=C;C=1;var at=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=at,C=ot,ok.transition=et}else i.current=o;if(vk&&(vk=!1,wk=i,xk=rt),et=i.pendingLanes,et===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)rt=s[o],a(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),et=i.pendingLanes,et&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok.transition,o=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var rt=K;for(K|=4,V=i.current;V!==null;){var et=V,ot=et.child;if(V.flags&16){var at=et.deletions;if(at!==null){for(var nt=0;nt<at.length;nt++){var it=at[nt];for(V=it;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,et)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var $=j.sibling,tt=j.return;if(Sj(j),j===it){V=null;break}if($!==null){$.return=tt,V=$;break}V=tt}}}var st=et.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var ct=lt.sibling;lt.sibling=null,lt=ct}while(lt!==null)}}V=et}}if(et.subtreeFlags&2064&&ot!==null)ot.return=et,V=ot;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Pj(9,et,et.return)}var ht=et.sibling;if(ht!==null){ht.return=et.return,V=ht;break e}V=et.return}}var ut=i.current;for(V=ut;V!==null;){ot=V;var pt=ot.child;if(ot.subtreeFlags&2064&&pt!==null)pt.return=ot,V=pt;else e:for(ot=ut;V!==null;){if(at=V,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Qj(9,at)}}catch(vt){W(at,at.return,vt)}if(at===ot){V=null;break e}var mt=at.sibling;if(mt!==null){mt.return=at.return,V=mt;break e}V=at.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,rt=i.memoizedState;rt!==null&&(o=rt.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$1(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var rt=Yf(s,H.current);ch(s,o),rt=Nh(null,s,a,i,rt,o);var et=Sh();return s.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(et=!0,cg(s)):et=!1,s.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh(s),rt.updater=Ei,s.stateNode=rt,rt._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,et,o)):(s.tag=0,I&&et&&vg(s),Xi(null,s,rt,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,rt=a._init,a=rt(a._payload),s.type=a,rt=s.tag=Zk(a),i=Ci(a,i),rt){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p$1(306,a,""))}return s;case 0:return a=s.type,rt=s.pendingProps,rt=s.elementType===a?rt:Ci(a,rt),cj(i,s,a,rt,o);case 1:return a=s.type,rt=s.pendingProps,rt=s.elementType===a?rt:Ci(a,rt),hj(i,s,a,rt,o);case 3:e:{if(kj(s),i===null)throw Error(p$1(387));a=s.pendingProps,et=s.memoizedState,rt=et.element,lh(i,s),qh(s,a,null,o);var ot=s.memoizedState;if(a=ot.element,et.isDehydrated)if(et={element:a,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},s.updateQueue.baseState=et,s.memoizedState=et,s.flags&256){rt=Ji(Error(p$1(423)),s),s=lj(i,s,a,o,rt);break e}else if(a!==rt){rt=Ji(Error(p$1(424)),s),s=lj(i,s,a,o,rt);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===rt){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,rt=s.pendingProps,et=i!==null?i.memoizedProps:null,ot=rt.children,Ef(a,rt)?ot=null:et!==null&&Ef(a,et)&&(s.flags|=32),gj(i,s),Xi(i,s,ot,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,rt=s.pendingProps,rt=s.elementType===a?rt:Ci(a,rt),Yi(i,s,a,rt,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,rt=s.pendingProps,et=s.memoizedProps,ot=rt.value,G(Wg,a._currentValue),a._currentValue=ot,et!==null)if(He(et.value,ot)){if(et.children===rt.children&&!Wf.current){s=Zi(i,s,o);break e}}else for(et=s.child,et!==null&&(et.return=s);et!==null;){var at=et.dependencies;if(at!==null){ot=et.child;for(var nt=at.firstContext;nt!==null;){if(nt.context===a){if(et.tag===1){nt=mh(-1,o&-o),nt.tag=2;var it=et.updateQueue;if(it!==null){it=it.shared;var j=it.pending;j===null?nt.next=nt:(nt.next=j.next,j.next=nt),it.pending=nt}}et.lanes|=o,nt=et.alternate,nt!==null&&(nt.lanes|=o),bh(et.return,o,s),at.lanes|=o;break}nt=nt.next}}else if(et.tag===10)ot=et.type===s.type?null:et.child;else if(et.tag===18){if(ot=et.return,ot===null)throw Error(p$1(341));ot.lanes|=o,at=ot.alternate,at!==null&&(at.lanes|=o),bh(ot,o,s),ot=et.sibling}else ot=et.child;if(ot!==null)ot.return=et;else for(ot=et;ot!==null;){if(ot===s){ot=null;break}if(et=ot.sibling,et!==null){et.return=ot.return,ot=et;break}ot=ot.return}et=ot}Xi(i,s,rt.children,o),s=s.child}return s;case 9:return rt=s.type,a=s.pendingProps.children,ch(s,o),rt=eh(rt),a=a(rt),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,rt=Ci(a,s.pendingProps),rt=Ci(a.type,rt),$i(i,s,a,rt,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,rt=s.pendingProps,rt=s.elementType===a?rt:Ci(a,rt),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,rt),Ii(s,a,rt,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p$1(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,rt,et){var ot=2;if(a=i,typeof i=="function")aj(i)&&(ot=1);else if(typeof i=="string")ot=5;else e:switch(i){case ya:return Tg(o.children,rt,et,s);case za:ot=8,rt|=8;break;case Aa:return i=Bg(12,o,s,rt|2),i.elementType=Aa,i.lanes=et,i;case Ea:return i=Bg(13,o,s,rt),i.elementType=Ea,i.lanes=et,i;case Fa:return i=Bg(19,o,s,rt),i.elementType=Fa,i.lanes=et,i;case Ia:return pj(o,rt,et,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,a=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return s=Bg(ot,o,s,rt),s.elementType=i,s.type=a,s.lanes=et,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,rt){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,rt,et,ot,at,nt){return i=new al(i,s,o,at,nt),s===1?(s=1,et===!0&&(s|=8)):s=0,et=Bg(3,null,null,s),i.current=et,et.stateNode=i,et.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(et),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,rt,et,ot,at,nt){return i=bl(o,a,!0,i,rt,et,ot,at,nt),i.context=dl(null),o=i.current,a=R(),rt=yi(o),et=mh(a,rt),et.callback=s??null,nh(o,et,rt),i.current.lanes=rt,Ac(i,rt,a),Dk(i,a),i}function fl(i,s,o,a){var rt=s.current,et=R(),ot=yi(rt);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(et,ot),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(rt,s,ot),i!==null&&(gi(i,rt,ot,et),oh(i,rt,ot)),ot}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,rt){if(rt){if(typeof a=="function"){var et=a;a=function(){var it=gl(ot);et.call(it)}}var ot=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=ot,i[uf]=ot.current,sf(i.nodeType===8?i.parentNode:i),Rk(),ot}for(;rt=i.lastChild;)i.removeChild(rt);if(typeof a=="function"){var at=a;a=function(){var it=gl(nt);at.call(it)}}var nt=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,nt,o,a)}),nt}function rl(i,s,o,a,rt){var et=o._reactRootContainer;if(et){var ot=et;if(typeof rt=="function"){var at=rt;rt=function(){var nt=gl(ot);at.call(nt)}}fl(s,ot,i,rt)}else ot=ql(o,s,i,rt,a);return gl(ot)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var rt=R();gi(a,i,1,rt)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var rt=Db(a);if(!rt)throw Error(p$1(90));Wa(a),bb(a,rt)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p$1(299));var o=!1,a="",rt=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(rt=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,rt),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p$1(405));var a=o!=null&&o.hydratedSources||null,rt=!1,et="",ot=kl;if(o!=null&&(o.unstable_strictMode===!0&&(rt=!0),o.identifierPrefix!==void 0&&(et=o.identifierPrefix),o.onRecoverableError!==void 0&&(ot=o.onRecoverableError)),s=el(s,null,i,1,o??null,rt,!1,et,ot),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],rt=o._getVersion,rt=rt(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,rt]:s.mutableSourceEagerHydrationData.push(o,rt);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,[PortalContextProvider,usePortalContext]=createContext$2({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:s,children:o}=i,[a,rt]=reactExports.useState(null),et=reactExports.useRef(null),[,ot]=reactExports.useState({});reactExports.useEffect(()=>ot({}),[]);const at=usePortalContext(),nt=usePortalManager();useSafeLayoutEffect$1(()=>{if(!a)return;const j=a.ownerDocument,_=s?at??j.body:j.body;if(!_)return;et.current=j.createElement("div"),et.current.className=PORTAL_CLASSNAME,_.appendChild(et.current),ot({});const $=et.current;return()=>{_.contains($)&&_.removeChild($)}},[a]);const it=nt!=null&&nt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:nt==null?void 0:nt.zIndex,children:o}):o;return et.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:et.current,children:it}),et.current):jsxRuntimeExports.jsx("span",{ref:j=>{j&&rt(j)}})},ContainerPortal=i=>{const{children:s,containerRef:o,appendToParentPortal:a}=i,rt=o.current,et=rt??(typeof window<"u"?document.body:void 0),ot=reactExports.useMemo(()=>{const nt=rt==null?void 0:rt.ownerDocument.createElement("div");return nt&&(nt.className=PORTAL_CLASSNAME),nt},[rt]),[,at]=reactExports.useState({});return useSafeLayoutEffect$1(()=>at({}),[]),useSafeLayoutEffect$1(()=>{if(!(!ot||!et))return et.appendChild(ot),()=>{et.removeChild(ot)}},[ot,et]),et&&ot?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:a?ot:null,children:s}),ot):null};function Portal(i){const s={appendToParentPortal:!0,...i},{containerRef:o,...a}=s;return o?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:o,...a}):jsxRuntimeExports.jsx(DefaultPortal,{...a})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const i=reactExports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}var ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const i=reactExports.useContext(ColorModeContext);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:s=!0}=i,o={setDataset:a=>{const rt=s?o.preventTransition():void 0;document.documentElement.dataset.theme=a,document.documentElement.style.colorScheme=a,rt==null||rt()},setClassName(a){document.body.classList.add(a?classNames.dark:classNames.light),document.body.classList.remove(a?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(a){var rt;return((rt=o.query().matches)!=null?rt:a==="dark")?"dark":"light"},addListener(a){const rt=o.query(),et=ot=>{a(ot.matches?"dark":"light")};return typeof rt.addListener=="function"?rt.addListener(et):rt.addEventListener("change",et),()=>{typeof rt.removeListener=="function"?rt.removeListener(et):rt.removeEventListener("change",et)}},preventTransition(){const a=document.createElement("style");return a.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(a),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(a)})})}}};return o}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get(s){if(!(globalThis!=null&&globalThis.document))return s;let o;try{o=localStorage.getItem(i)||s}catch{}return o||s},set(s){try{localStorage.setItem(i,s)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{};function getTheme(i,s){return i.type==="cookie"&&i.ssr?i.get(s):s}function ColorModeProvider(i){const{value:s,children:o,options:{useSystemColorMode:a,initialColorMode:rt,disableTransitionOnChange:et}={},colorModeManager:ot=localStorageManager}=i,at=rt==="dark"?"dark":"light",[nt,it]=reactExports.useState(()=>getTheme(ot,at)),[j,_]=reactExports.useState(()=>getTheme(ot)),{getSystemTheme:$,setClassName:tt,setDataset:st,addListener:lt}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:et}),[et]),ct=rt==="system"&&!nt?j:nt,ht=reactExports.useCallback(mt=>{const vt=mt==="system"?$():mt;it(vt),tt(vt==="dark"),st(vt),ot.set(vt)},[ot,$,tt,st]);useSafeLayoutEffect$1(()=>{rt==="system"&&_($())},[]),reactExports.useEffect(()=>{const mt=ot.get();if(mt){ht(mt);return}if(rt==="system"){ht("system");return}ht(at)},[ot,at,rt,ht]);const ut=reactExports.useCallback(()=>{ht(ct==="dark"?"light":"dark")},[ct,ht]);reactExports.useEffect(()=>{if(a)return lt(ht)},[a,lt,ht]);const pt=reactExports.useMemo(()=>({colorMode:s??ct,toggleColorMode:s?noop$2:ut,setColorMode:s?noop$2:ht,forced:s!==void 0}),[ct,ut,ht,s]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:pt,children:o})}ColorModeProvider.displayName="ColorModeProvider";var VALID_VALUES=new Set(["dark","light","system"]);function normalize$1(i){let s=i;return VALID_VALUES.has(s)||(s="light"),s}function getScriptSrc(i={}){const{initialColorMode:s="light",type:o="localStorage",storageKey:a="chakra-ui-color-mode"}=i,rt=normalize$1(s),et=o==="cookie",ot=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${rt}",r="${a}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,at=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${rt}",e="${a}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${et?ot:at}`.trim()}function ColorModeScript(i={}){const{nonce:s}=i;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:s,dangerouslySetInnerHTML:{__html:getScriptSrc(i)}})}function useChakra(){const i=useColorMode(),s=useTheme();return{...i,theme:s}}function getTokenValue(i,s,o){var a,rt;if(s==null)return s;const et=ot=>{var at,nt;return(nt=(at=i.__cssMap)==null?void 0:at[ot])==null?void 0:nt.value};return(rt=(a=et(s))!=null?a:et(o))!=null?rt:o}function getToken(i,s,o){const a=Array.isArray(s)?s:[s],rt=Array.isArray(o)?o:[o];return et=>{const ot=rt.filter(Boolean),at=a.map((nt,it)=>{var j;const _=`${i}.${nt}`;return getTokenValue(et,_,(j=ot[it])!=null?j:nt)});return Array.isArray(s)?at:at[0]}}var cx=(...i)=>i.filter(Boolean).join(" ");function isObject$2(i){const s=typeof i;return i!=null&&(s==="object"||s==="function")&&!Array.isArray(i)}function runIfFn$2(i,...s){return isFunction$4(i)?i(...s):i}var isFunction$4=i=>typeof i=="function",dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function callAllHandlers$1(...i){return function(o){i.some(a=>(a==null||a(o),o==null?void 0:o.defaultPrevented))}}function callAll(...i){return function(o){i.forEach(a=>{a==null||a(o)})}}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(i,s){var o=200,a="__lodash_hash_undefined__",rt=800,et=16,ot=9007199254740991,at="[object Arguments]",nt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",tt="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ct="[object Number]",ht="[object Null]",ut="[object Object]",pt="[object Proxy]",mt="[object RegExp]",vt="[object Set]",dt="[object String]",St="[object Undefined]",yt="[object WeakMap]",gt="[object ArrayBuffer]",Et="[object DataView]",_t="[object Float32Array]",kt="[object Float64Array]",Ct="[object Int8Array]",Tt="[object Int16Array]",At="[object Int32Array]",It="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Mt="[object Uint16Array]",Dt="[object Uint32Array]",Bt=/[\\^$.*+?()[\]{}|]/g,Kt=/^\[object .+?Constructor\]$/,Wt=/^(?:0|[1-9]\d*)$/,zt={};zt[_t]=zt[kt]=zt[Ct]=zt[Tt]=zt[At]=zt[It]=zt[Ot]=zt[Mt]=zt[Dt]=!0,zt[at]=zt[nt]=zt[gt]=zt[j]=zt[Et]=zt[_]=zt[$]=zt[tt]=zt[lt]=zt[ct]=zt[ut]=zt[mt]=zt[vt]=zt[dt]=zt[yt]=!1;var Ht=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Zt=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Ht||Zt||Function("return this")(),hr=s&&!s.nodeType&&s,fr=hr&&!0&&i&&!i.nodeType&&i,pr=fr&&fr.exports===hr,gr=pr&&Ht.process,tr=function(){try{var Nt=fr&&fr.require&&fr.require("util").types;return Nt||gr&&gr.binding&&gr.binding("util")}catch{}}(),rr=tr&&tr.isTypedArray;function qt(Nt,nr,cr){switch(cr.length){case 0:return Nt.call(nr);case 1:return Nt.call(nr,cr[0]);case 2:return Nt.call(nr,cr[0],cr[1]);case 3:return Nt.call(nr,cr[0],cr[1],cr[2])}return Nt.apply(nr,cr)}function xr(Nt,nr){for(var cr=-1,Vr=Array(Nt);++cr<Nt;)Vr[cr]=nr(cr);return Vr}function Sr(Nt){return function(nr){return Nt(nr)}}function dr(Nt,nr){return Nt==null?void 0:Nt[nr]}function Ur(Nt,nr){return function(cr){return Nt(nr(cr))}}var tn=Array.prototype,on=Function.prototype,Rn=Object.prototype,Nn=Qt["__core-js_shared__"],Mn=on.toString,pn=Rn.hasOwnProperty,Hn=function(){var Nt=/[^.]+$/.exec(Nn&&Nn.keys&&Nn.keys.IE_PROTO||"");return Nt?"Symbol(src)_1."+Nt:""}(),In=Rn.toString,_r=Mn.call(Object),Nr=RegExp("^"+Mn.call(pn).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kr=pr?Qt.Buffer:void 0,nn=Qt.Symbol,Yt=Qt.Uint8Array;kr&&kr.allocUnsafe;var er=Ur(Object.getPrototypeOf,Object),lr=Object.create,Lr=Rn.propertyIsEnumerable,Or=tn.splice,Er=nn?nn.toStringTag:void 0,Cr=function(){try{var Nt=wn(Object,"defineProperty");return Nt({},"",{}),Nt}catch{}}(),Hr=kr?kr.isBuffer:void 0,rn=Math.max,Dr=Date.now,Yr=wn(Qt,"Map"),jr=wn(Object,"create"),Gr=function(){function Nt(){}return function(nr){if(!ln(nr))return{};if(lr)return lr(nr);Nt.prototype=nr;var cr=new Nt;return Nt.prototype=void 0,cr}}();function an(Nt){var nr=-1,cr=Nt==null?0:Nt.length;for(this.clear();++nr<cr;){var Vr=Nt[nr];this.set(Vr[0],Vr[1])}}function Rr(){this.__data__=jr?jr(null):{},this.size=0}function mn(Nt){var nr=this.has(Nt)&&delete this.__data__[Nt];return this.size-=nr?1:0,nr}function Rs(Nt){var nr=this.__data__;if(jr){var cr=nr[Nt];return cr===a?void 0:cr}return pn.call(nr,Nt)?nr[Nt]:void 0}function ps(Nt){var nr=this.__data__;return jr?nr[Nt]!==void 0:pn.call(nr,Nt)}function Xn(Nt,nr){var cr=this.__data__;return this.size+=this.has(Nt)?0:1,cr[Nt]=jr&&nr===void 0?a:nr,this}an.prototype.clear=Rr,an.prototype.delete=mn,an.prototype.get=Rs,an.prototype.has=ps,an.prototype.set=Xn;function ls(Nt){var nr=-1,cr=Nt==null?0:Nt.length;for(this.clear();++nr<cr;){var Vr=Nt[nr];this.set(Vr[0],Vr[1])}}function Ns(){this.__data__=[],this.size=0}function ms(Nt){var nr=this.__data__,cr=Is(nr,Nt);if(cr<0)return!1;var Vr=nr.length-1;return cr==Vr?nr.pop():Or.call(nr,cr,1),--this.size,!0}function no(Nt){var nr=this.__data__,cr=Is(nr,Nt);return cr<0?void 0:nr[cr][1]}function Vs(Nt){return Is(this.__data__,Nt)>-1}function io(Nt,nr){var cr=this.__data__,Vr=Is(cr,Nt);return Vr<0?(++this.size,cr.push([Nt,nr])):cr[Vr][1]=nr,this}ls.prototype.clear=Ns,ls.prototype.delete=ms,ls.prototype.get=no,ls.prototype.has=Vs,ls.prototype.set=io;function us(Nt){var nr=-1,cr=Nt==null?0:Nt.length;for(this.clear();++nr<cr;){var Vr=Nt[nr];this.set(Vr[0],Vr[1])}}function cs(){this.size=0,this.__data__={hash:new an,map:new(Yr||ls),string:new an}}function Gs(Nt){var nr=Zr(this,Nt).delete(Nt);return this.size-=nr?1:0,nr}function Jr(Nt){return Zr(this,Nt).get(Nt)}function hs(Nt){return Zr(this,Nt).has(Nt)}function Ks(Nt,nr){var cr=Zr(this,Nt),Vr=cr.size;return cr.set(Nt,nr),this.size+=cr.size==Vr?0:1,this}us.prototype.clear=cs,us.prototype.delete=Gs,us.prototype.get=Jr,us.prototype.has=hs,us.prototype.set=Ks;function ws(Nt){var nr=this.__data__=new ls(Nt);this.size=nr.size}function Zn(){this.__data__=new ls,this.size=0}function ho(Nt){var nr=this.__data__,cr=nr.delete(Nt);return this.size=nr.size,cr}function so(Nt){return this.__data__.get(Nt)}function fo(Nt){return this.__data__.has(Nt)}function po(Nt,nr){var cr=this.__data__;if(cr instanceof ls){var Vr=cr.__data__;if(!Yr||Vr.length<o-1)return Vr.push([Nt,nr]),this.size=++cr.size,this;cr=this.__data__=new us(Vr)}return cr.set(Nt,nr),this.size=cr.size,this}ws.prototype.clear=Zn,ws.prototype.delete=ho,ws.prototype.get=so,ws.prototype.has=fo,ws.prototype.set=po;function oo(Nt,nr){var cr=Ut(Nt),Vr=!cr&&Ft(Nt),Wr=!cr&&!Vr&&wr(Nt),sn=!cr&&!Vr&&!Wr&&Ts(Nt),vn=cr||Vr||Wr||sn,qr=vn?xr(Nt.length,String):[],un=qr.length;for(var Ln in Nt)vn&&(Ln=="length"||Wr&&(Ln=="offset"||Ln=="parent")||sn&&(Ln=="buffer"||Ln=="byteLength"||Ln=="byteOffset")||es(Ln,un))||qr.push(Ln);return qr}function fs(Nt,nr,cr){(cr!==void 0&&!Rt(Nt[nr],cr)||cr===void 0&&!(nr in Nt))&&Es(Nt,nr,cr)}function _s(Nt,nr,cr){var Vr=Nt[nr];(!(pn.call(Nt,nr)&&Rt(Vr,cr))||cr===void 0&&!(nr in Nt))&&Es(Nt,nr,cr)}function Is(Nt,nr){for(var cr=Nt.length;cr--;)if(Rt(Nt[cr][0],nr))return cr;return-1}function Es(Nt,nr,cr){nr=="__proto__"&&Cr?Cr(Nt,nr,{configurable:!0,enumerable:!0,value:cr,writable:!0}):Nt[nr]=cr}var Xs=zr();function gs(Nt){return Nt==null?Nt===void 0?St:ht:Er&&Er in Object(Nt)?zn(Nt):_o(Nt)}function gn(Nt){return hn(Nt)&&gs(Nt)==at}function Xr(Nt){if(!ln(Nt)||yn(Nt))return!1;var nr=Fr(Nt)?Nr:Kt;return nr.test(xt(Nt))}function Qn(Nt){return hn(Nt)&&Br(Nt.length)&&!!zt[gs(Nt)]}function Jn(Nt){if(!ln(Nt))return ss(Nt);var nr=vs(Nt),cr=[];for(var Vr in Nt)Vr=="constructor"&&(nr||!pn.call(Nt,Vr))||cr.push(Vr);return cr}function mo(Nt,nr,cr,Vr,Wr){Nt!==nr&&Xs(nr,function(sn,vn){if(Wr||(Wr=new ws),ln(sn))wo(Nt,nr,vn,cr,mo,Vr,Wr);else{var qr=Vr?Vr(xs(Nt,vn),sn,vn+"",Nt,nr,Wr):void 0;qr===void 0&&(qr=sn),fs(Nt,vn,qr)}},Ls)}function wo(Nt,nr,cr,Vr,Wr,sn,vn){var qr=xs(Nt,cr),un=xs(nr,cr),Ln=vn.get(un);if(Ln){fs(Nt,cr,Ln);return}var Vn=sn?sn(qr,un,cr+"",Nt,nr,vn):void 0,Un=Vn===void 0;if(Un){var On=Ut(un),ts=!On&&wr(un),Ms=!On&&!ts&&Ts(un);Vn=un,On||ts||Ms?Ut(qr)?Vn=qr:vr(qr)?Vn=or(qr):ts?(Un=!1,Vn=Lt(un)):Ms?(Un=!1,Vn=Xt(un)):Vn=[]:jn(un)||Ft(un)?(Vn=qr,Ft(qr)?Vn=Cs(qr):(!ln(qr)||Fr(qr))&&(Vn=_i(un))):Un=!1}Un&&(vn.set(un,Vn),Wr(Vn,un,Vr,sn,vn),vn.delete(un)),fs(Nt,cr,Vn)}function go(Nt,nr){return Po(Eo(Nt,nr,Tn),Nt+"")}var wt=Cr?function(Nt,nr){return Cr(Nt,"toString",{configurable:!0,enumerable:!1,value:kn(nr),writable:!0})}:Tn;function Lt(Nt,nr){return Nt.slice()}function Vt(Nt){var nr=new Nt.constructor(Nt.byteLength);return new Yt(nr).set(new Yt(Nt)),nr}function Xt(Nt,nr){var cr=Vt(Nt.buffer);return new Nt.constructor(cr,Nt.byteOffset,Nt.length)}function or(Nt,nr){var cr=-1,Vr=Nt.length;for(nr||(nr=Array(Vr));++cr<Vr;)nr[cr]=Nt[cr];return nr}function br(Nt,nr,cr,Vr){var Wr=!cr;cr||(cr={});for(var sn=-1,vn=nr.length;++sn<vn;){var qr=nr[sn],un=void 0;un===void 0&&(un=Nt[qr]),Wr?Es(cr,qr,un):_s(cr,qr,un)}return cr}function $r(Nt){return go(function(nr,cr){var Vr=-1,Wr=cr.length,sn=Wr>1?cr[Wr-1]:void 0,vn=Wr>2?cr[2]:void 0;for(sn=Nt.length>3&&typeof sn=="function"?(Wr--,sn):void 0,vn&&ys(cr[0],cr[1],vn)&&(sn=Wr<3?void 0:sn,Wr=1),nr=Object(nr);++Vr<Wr;){var qr=cr[Vr];qr&&Nt(nr,qr,Vr,sn)}return nr})}function zr(Nt){return function(nr,cr,Vr){for(var Wr=-1,sn=Object(nr),vn=Vr(nr),qr=vn.length;qr--;){var un=vn[++Wr];if(cr(sn[un],un,sn)===!1)break}return nr}}function Zr(Nt,nr){var cr=Nt.__data__;return Bs(nr)?cr[typeof nr=="string"?"string":"hash"]:cr.map}function wn(Nt,nr){var cr=dr(Nt,nr);return Xr(cr)?cr:void 0}function zn(Nt){var nr=pn.call(Nt,Er),cr=Nt[Er];try{Nt[Er]=void 0;var Vr=!0}catch{}var Wr=In.call(Nt);return Vr&&(nr?Nt[Er]=cr:delete Nt[Er]),Wr}function _i(Nt){return typeof Nt.constructor=="function"&&!vs(Nt)?Gr(er(Nt)):{}}function es(Nt,nr){var cr=typeof Nt;return nr=nr??ot,!!nr&&(cr=="number"||cr!="symbol"&&Wt.test(Nt))&&Nt>-1&&Nt%1==0&&Nt<nr}function ys(Nt,nr,cr){if(!ln(cr))return!1;var Vr=typeof nr;return(Vr=="number"?sr(cr)&&es(nr,cr.length):Vr=="string"&&nr in cr)?Rt(cr[nr],Nt):!1}function Bs(Nt){var nr=typeof Nt;return nr=="string"||nr=="number"||nr=="symbol"||nr=="boolean"?Nt!=="__proto__":Nt===null}function yn(Nt){return!!Hn&&Hn in Nt}function vs(Nt){var nr=Nt&&Nt.constructor,cr=typeof nr=="function"&&nr.prototype||Rn;return Nt===cr}function ss(Nt){var nr=[];if(Nt!=null)for(var cr in Object(Nt))nr.push(cr);return nr}function _o(Nt){return In.call(Nt)}function Eo(Nt,nr,cr){return nr=rn(nr===void 0?Nt.length-1:nr,0),function(){for(var Vr=arguments,Wr=-1,sn=rn(Vr.length-nr,0),vn=Array(sn);++Wr<sn;)vn[Wr]=Vr[nr+Wr];Wr=-1;for(var qr=Array(nr+1);++Wr<nr;)qr[Wr]=Vr[Wr];return qr[nr]=cr(vn),qt(Nt,this,qr)}}function xs(Nt,nr){if(!(nr==="constructor"&&typeof Nt[nr]=="function")&&nr!="__proto__")return Nt[nr]}var Po=Do(wt);function Do(Nt){var nr=0,cr=0;return function(){var Vr=Dr(),Wr=et-(Vr-cr);if(cr=Vr,Wr>0){if(++nr>=rt)return arguments[0]}else nr=0;return Nt.apply(void 0,arguments)}}function xt(Nt){if(Nt!=null){try{return Mn.call(Nt)}catch{}try{return Nt+""}catch{}}return""}function Rt(Nt,nr){return Nt===nr||Nt!==Nt&&nr!==nr}var Ft=gn(function(){return arguments}())?gn:function(Nt){return hn(Nt)&&pn.call(Nt,"callee")&&!Lr.call(Nt,"callee")},Ut=Array.isArray;function sr(Nt){return Nt!=null&&Br(Nt.length)&&!Fr(Nt)}function vr(Nt){return hn(Nt)&&sr(Nt)}var wr=Hr||ir;function Fr(Nt){if(!ln(Nt))return!1;var nr=gs(Nt);return nr==tt||nr==st||nr==it||nr==pt}function Br(Nt){return typeof Nt=="number"&&Nt>-1&&Nt%1==0&&Nt<=ot}function ln(Nt){var nr=typeof Nt;return Nt!=null&&(nr=="object"||nr=="function")}function hn(Nt){return Nt!=null&&typeof Nt=="object"}function jn(Nt){if(!hn(Nt)||gs(Nt)!=ut)return!1;var nr=er(Nt);if(nr===null)return!0;var cr=pn.call(nr,"constructor")&&nr.constructor;return typeof cr=="function"&&cr instanceof cr&&Mn.call(cr)==_r}var Ts=rr?Sr(rr):Qn;function Cs(Nt){return br(Nt,Ls(Nt))}function Ls(Nt){return sr(Nt)?oo(Nt):Jn(Nt)}var yo=$r(function(Nt,nr,cr,Vr){mo(Nt,nr,cr,Vr)});function kn(Nt){return function(){return Nt}}function Tn(Nt){return Nt}function ir(){return!1}i.exports=yo})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);var isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,s)=>o=>{const a=String(s),rt=isImportant(a),et=withoutImportant(a),ot=i?`${i}.${et}`:et;let at=isObject$2(o.__cssMap)&&ot in o.__cssMap?o.__cssMap[ot].varRef:s;return at=withoutImportant(at),rt?`${at} !important`:at};function createTransform(i){const{scale:s,transform:o,compose:a}=i;return(et,ot)=>{var at;const nt=tokenToCSSVar(s,et)(ot);let it=(at=o==null?void 0:o(nt,ot))!=null?at:nt;return a&&(it=a(it,ot)),it}}var pipe$2=(...i)=>s=>i.reduce((o,a)=>a(o),s);function toConfig(i,s){return o=>{const a={property:o,scale:i};return a.transform=createTransform({scale:i,transform:s}),a}}var getRtl=({rtl:i,ltr:s})=>o=>o.direction==="rtl"?i:s;function logical(i){const{property:s,scale:o,transform:a}=i;return{scale:o,property:getRtl(s),transform:o?createTransform({scale:o,compose:a}):a}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,s){if(i==null||globalSet.has(i))return i;if(!(isCSSFunction(i)||globalSet.has(i)))return`url('${i}')`;const rt=/(^[a-z-A-Z]+)\((.*)\)/g.exec(i),et=rt==null?void 0:rt[1],ot=rt==null?void 0:rt[2];if(!et||!ot)return i;const at=et.includes("-gradient")?et:`${et}-gradient`,[nt,...it]=ot.split(",").map(trimSpace).filter(Boolean);if((it==null?void 0:it.length)===0)return i;const j=nt in directionMap?directionMap[nt]:nt;it.unshift(j);const _=it.map($=>{if(valueSet.has($))return $;const tt=$.indexOf(" "),[st,lt]=tt!==-1?[$.substr(0,tt),$.substr(tt+1)]:[$],ct=isCSSFunction(lt)?lt:lt&&lt.split(" "),ht=`colors.${st}`,ut=ht in s.__cssMap?s.__cssMap[ht].varRef:st;return ct?[ut,...Array.isArray(ct)?ct:[ct]].join(" "):ut});return`${at}(${_.join(", ")})`}var isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,s)=>parseGradient(i,s??{});function isCssVar(i){return/^var\(--.+\)$/.test(i)}var analyzeCSSValue=i=>{const s=parseFloat(i.toString()),o=i.toString().replace(String(s),"");return{unitless:!o,value:s,unit:o}},wrap=i=>s=>`${i}(${s})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},vh(i){return i==="$100vh"?"var(--chakra-vh)":i},px(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue(i);return s||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,s){const o={left:"right",right:"left"};return s.direction==="rtl"?o[i]:i},degree(i){if(isCssVar(i)||i==null)return i;const s=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||s?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:i=>wrap("hue-rotate")(transformFunctions.degree(i)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const s=String(i)==="0"||String(i)==="none";return i!==null&&s?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){var s;const{space:o,divide:a}=(s=flexDirectionTemplate[i])!=null?s:{},rt={flexDirection:i};return o&&(rt[o]=1),a&&(rt[a]=1),rt}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,s,o){return{property:i,scale:s,...s&&{transform:createTransform({scale:s,transform:o})}}},propT(i,s){return{property:i,transform:s}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke")},effect={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});var filter$2={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},layout$1={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(i,s)=>{var o,a,rt;return{[`@media screen and (min-width: ${(rt=(a=(o=s.__breakpoints)==null?void 0:o.get(i))==null?void 0:a.minW)!=null?rt:i})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(i,s)=>{var o,a,rt;return{[`@media screen and (max-width: ${(rt=(a=(o=s.__breakpoints)==null?void 0:o.get(i))==null?void 0:a._minW)!=null?rt:i})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});var list$2={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")};function get$3(i,s,o,a){const rt=typeof s=="string"?s.split("."):[s];for(a=0;a<rt.length&&i;a+=1)i=i[rt[a]];return i===void 0?o:i}var memoize$2=i=>{const s=new WeakMap;return(a,rt,et,ot)=>{if(typeof a>"u")return i(a,rt,et);s.has(a)||s.set(a,new Map);const at=s.get(a);if(at.has(rt))return at.get(rt);const nt=i(a,rt,et,ot);return at.set(rt,nt),nt}},memoizedGet$1=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,s,o)=>{const a={},rt=memoizedGet$1(i,s,{});for(const et in rt)et in o&&o[et]!=null||(a[et]=rt[et]);return a},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,`layerStyles.${i}`,o)},textStyle:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,`textStyles.${i}`,o)},apply:{processResult:!0,transform:(i,s,o)=>getWithPriority(s,i,o)}},position={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(i){if(i===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpression=(i,...s)=>s.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const s=resolveReference(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply$1(s,-1)},calc$1=Object.assign(i=>({add:(...s)=>calc$1(add$1(i,...s)),subtract:(...s)=>calc$1(subtract$1(i,...s)),multiply:(...s)=>calc$1(multiply$1(i,...s)),divide:(...s)=>calc$1(divide$1(i,...s)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,s="-"){return i.replace(/\s+/g,s)}function escape$1(i){const s=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot(s))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,s=""){return[s,i].filter(Boolean).join("-")}function toVarReference(i,s){return`var(${i}${s?`, ${s}`:""})`}function toVarDefinition(i,s=""){return escape$1(`--${addPrefix$1(i,s)}`)}function cssVar$1(i,s,o){const a=toVarDefinition(i,o);return{variable:a,reference:toVarReference(a,s)}}function defineCssVars(i,s){const o={};for(const a of s){if(Array.isArray(a)){const[rt,et]=a;o[rt]=cssVar$1(`${i}-${rt}`,et);continue}o[a]=cssVar$1(`${i}-${a}`)}return o}function getLastItem(i){const s=i==null?0:i.length;return s?i[s-1]:void 0}function analyzeCSSValue2(i){const s=parseFloat(i.toString()),o=i.toString().replace(String(s),"");return{unitless:!o,value:s,unit:o}}function px$1(i){if(i==null)return i;const{unitless:s}=analyzeCSSValue2(i);return s||typeof i=="number"?`${i}px`:i}var sortByBreakpointValue=(i,s)=>parseInt(i[1],10)>parseInt(s[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize(i){const s=sortBps(i);return Object.assign(Object.values(s),s)}function keys(i){const s=Object.keys(sortBps(i));return new Set(s)}function subtract2(i){var s;if(!i)return i;i=(s=px$1(i))!=null?s:i;const o=-.02;return typeof i=="number"?`${i+o}`:i.replace(/(\d+\.?\d*)/u,a=>`${parseFloat(a)+o}`)}function toMediaQueryString(i,s){const o=["@media screen"];return i&&o.push("and",`(min-width: ${px$1(i)})`),s&&o.push("and",`(max-width: ${px$1(s)})`),o.join(" ")}function analyzeBreakpoints(i){var s;if(!i)return null;i.base=(s=i.base)!=null?s:"0px";const o=normalize(i),a=Object.entries(i).sort(sortByBreakpointValue).map(([ot,at],nt,it)=>{var j;let[,_]=(j=it[nt+1])!=null?j:[];return _=parseFloat(_)>0?subtract2(_):void 0,{_minW:subtract2(at),breakpoint:ot,minW:at,maxW:_,maxWQuery:toMediaQueryString(null,_),minWQuery:toMediaQueryString(at),minMaxQuery:toMediaQueryString(at,_)}}),rt=keys(i),et=Array.from(rt.values());return{keys:rt,normalized:o,isResponsive(ot){const at=Object.keys(ot);return at.length>0&&at.every(nt=>rt.has(nt))},asObject:sortBps(i),asArray:normalize(i),details:a,get(ot){return a.find(at=>at.breakpoint===ot)},media:[null,...o.map(ot=>toMediaQueryString(ot)).slice(1)],toArrayValue(ot){if(!isObject$2(ot))throw new Error("toArrayValue: value must be an object");const at=et.map(nt=>{var it;return(it=ot[nt])!=null?it:null});for(;getLastItem(at)===null;)at.pop();return at},toObjectValue(ot){if(!Array.isArray(ot))throw new Error("toObjectValue: value must be an array");return ot.reduce((at,nt,it)=>{const j=et[it];return j!=null&&nt!=null&&(at[j]=nt),at},{})}}}var state={hover:(i,s)=>`${i}:hover ${s}, ${i}[data-hover] ${s}`,focus:(i,s)=>`${i}:focus ${s}, ${i}[data-focus] ${s}`,focusVisible:(i,s)=>`${i}:focus-visible ${s}`,focusWithin:(i,s)=>`${i}:focus-within ${s}`,active:(i,s)=>`${i}:active ${s}, ${i}[data-active] ${s}`,disabled:(i,s)=>`${i}:disabled ${s}, ${i}[data-disabled] ${s}`,invalid:(i,s)=>`${i}:invalid ${s}, ${i}[data-invalid] ${s}`,checked:(i,s)=>`${i}:checked ${s}, ${i}[data-checked] ${s}`,indeterminate:(i,s)=>`${i}:indeterminate ${s}, ${i}[aria-checked=mixed] ${s}, ${i}[data-indeterminate] ${s}`,readOnly:(i,s)=>`${i}:read-only ${s}, ${i}[readonly] ${s}, ${i}[data-read-only] ${s}`,expanded:(i,s)=>`${i}:read-only ${s}, ${i}[aria-expanded=true] ${s}, ${i}[data-expanded] ${s}`,placeholderShown:(i,s)=>`${i}:placeholder-shown ${s}`},toGroup=i=>merge(s=>i(s,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge(s=>i(s,"~ &"),"[data-peer]",".peer"),merge=(i,...s)=>s.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(i,s){return cssVar$1(String(i).replace(/\./g,"-"),void 0,s)}function createThemeVars(i,s){let o={};const a={};for(const[rt,et]of Object.entries(i)){const{isSemantic:ot,value:at}=et,{variable:nt,reference:it}=tokenToCssVar(rt,s==null?void 0:s.cssVarPrefix);if(!ot){if(rt.startsWith("space")){const $=rt.split("."),[tt,...st]=$,lt=`${tt}.-${st.join(".")}`,ct=calc$1.negate(at),ht=calc$1.negate(it);a[lt]={value:ct,var:nt,varRef:ht}}o[nt]=at,a[rt]={value:at,var:nt,varRef:it};continue}const j=$=>{const st=[String(rt).split(".")[0],$].join(".");if(!i[st])return $;const{reference:ct}=tokenToCssVar(st,s==null?void 0:s.cssVarPrefix);return ct},_=isObject$2(at)?at:{default:at};o=mergeWith(o,Object.entries(_).reduce(($,[tt,st])=>{var lt,ct;if(!st)return $;const ht=j(`${st}`);if(tt==="default")return $[nt]=ht,$;const ut=(ct=(lt=pseudoSelectors)==null?void 0:lt[tt])!=null?ct:tt;return $[ut]={[nt]:ht},$},{})),a[rt]={value:it,var:nt,varRef:it}}return{cssVars:o,cssMap:a}}function omit$2(i,s=[]){const o=Object.assign({},i);for(const a of s)a in o&&delete o[a];return o}function pick$1(i,s){const o={};for(const a of s)a in i&&(o[a]=i[a]);return o}function isObject5(i){return typeof i=="object"&&i!=null&&!Array.isArray(i)}function walkObject(i,s,o={}){const{stop:a,getKey:rt}=o;function et(ot,at=[]){var nt;if(isObject5(ot)||Array.isArray(ot)){const it={};for(const[j,_]of Object.entries(ot)){const $=(nt=rt==null?void 0:rt(j))!=null?nt:j,tt=[...at,$];if(a!=null&&a(ot,tt))return s(ot,at);it[$]=et(_,tt)}return it}return s(ot,at)}return et(i)}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(i){return pick$1(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:s,__cssVars:o,__breakpoints:a,...rt}=i;return rt}var isSemanticCondition=i=>pseudoPropNames.includes(i)||i==="default";function flattenTokens({tokens:i,semanticTokens:s}){const o={};return walkObject(i,(a,rt)=>{a!=null&&(o[rt.join(".")]={isSemantic:!1,value:a})}),walkObject(s,(a,rt)=>{a!=null&&(o[rt.join(".")]={isSemantic:!0,value:a})},{stop:a=>Object.keys(a).every(isSemanticCondition)}),o}function toCSSVar(i){var s;const o=omitVars(i),a=extractTokens(o),rt=extractSemanticTokens(o),et=flattenTokens({tokens:a,semanticTokens:rt}),ot=(s=o.config)==null?void 0:s.cssVarPrefix,{cssMap:at,cssVars:nt}=createThemeVars(et,{cssVarPrefix:ot});return Object.assign(o,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...nt},__cssMap:at,__breakpoints:analyzeBreakpoints(o.breakpoints)}),o}var systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$2,ring,interactivity,grid,others,position,effect,space,scroll,typography$1,textDecoration,transform,list$2,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps,expandResponsive=i=>s=>{if(!s.__breakpoints)return i;const{isResponsive:o,toArrayValue:a,media:rt}=s.__breakpoints,et={};for(const ot in i){let at=runIfFn$2(i[ot],s);if(at==null)continue;if(at=isObject$2(at)&&o(at)?a(at):at,!Array.isArray(at)){et[ot]=at;continue}const nt=at.slice(0,rt.length).length;for(let it=0;it<nt;it+=1){const j=rt==null?void 0:rt[it];if(!j){et[ot]=at[it];continue}et[j]=et[j]||{},at[it]!=null&&(et[j][ot]=at[it])}}return et};function splitByComma(i){const s=[];let o="",a=!1;for(let rt=0;rt<i.length;rt++){const et=i[rt];et==="("?(a=!0,o+=et):et===")"?(a=!1,o+=et):et===","&&!a?(s.push(o),o=""):o+=et}return o=o.trim(),o&&s.push(o),s}function isCssVar2(i){return/^var\(--.+\)$/.test(i)}var isCSSVariableTokenValue=(i,s)=>i.startsWith("--")&&typeof s=="string"&&!isCssVar2(s),resolveTokenValue=(i,s)=>{var o,a;if(s==null)return s;const rt=nt=>{var it,j;return(j=(it=i.__cssMap)==null?void 0:it[nt])==null?void 0:j.varRef},et=nt=>{var it;return(it=rt(nt))!=null?it:nt},[ot,at]=splitByComma(s);return s=(a=(o=rt(ot))!=null?o:et(at))!=null?a:et(s),s};function getCss(i){const{configs:s={},pseudos:o={},theme:a}=i,rt=(et,ot=!1)=>{var at,nt,it;const j=runIfFn$2(et,a),_=expandResponsive(j)(a);let $={};for(let tt in _){const st=_[tt];let lt=runIfFn$2(st,a);tt in o&&(tt=o[tt]),isCSSVariableTokenValue(tt,lt)&&(lt=resolveTokenValue(a,lt));let ct=s[tt];if(ct===!0&&(ct={property:tt}),isObject$2(lt)){$[tt]=(at=$[tt])!=null?at:{},$[tt]=mergeWith({},$[tt],rt(lt,!0));continue}let ht=(it=(nt=ct==null?void 0:ct.transform)==null?void 0:nt.call(ct,lt,a,j))!=null?it:lt;ht=ct!=null&&ct.processResult?rt(ht,!0):ht;const ut=runIfFn$2(ct==null?void 0:ct.property,a);if(!ot&&(ct!=null&&ct.static)){const pt=runIfFn$2(ct.static,a);$=mergeWith({},$,pt)}if(ut&&Array.isArray(ut)){for(const pt of ut)$[pt]=ht;continue}if(ut){ut==="&"&&isObject$2(ht)?$=mergeWith({},$,ht):$[ut]=ht;continue}if(isObject$2(ht)){$=mergeWith({},$,ht);continue}$[tt]=ht}return $};return rt}var css=i=>s=>getCss({theme:s,pseudos:pseudoSelectors,configs:systemProps})(i);function defineStyle(i){return i}function defineStyleConfig(i){return i}function createMultiStyleConfigHelpers(i){return{definePartsStyle(s){return s},defineMultiStyleConfig(s){return{parts:i,...s}}}}function normalize2(i,s){if(Array.isArray(i))return i;if(isObject$2(i))return s(i);if(i!=null)return[i]}function getNextIndex(i,s){for(let o=s+1;o<i.length;o++)if(i[o]!=null)return o;return-1}function createResolver(i){const s=i.__breakpoints;return function(a,rt,et,ot){var at,nt;if(!s)return;const it={},j=normalize2(et,s.toArrayValue);if(!j)return it;const _=j.length,$=_===1,tt=!!a.parts;for(let st=0;st<_;st++){const lt=s.details[st],ct=s.details[getNextIndex(j,st)],ht=toMediaQueryString(lt.minW,ct==null?void 0:ct._minW),ut=runIfFn$2((at=a[rt])==null?void 0:at[j[st]],ot);if(ut){if(tt){(nt=a.parts)==null||nt.forEach(pt=>{mergeWith(it,{[pt]:$?ut[pt]:{[ht]:ut[pt]}})});continue}if(!tt){$?mergeWith(it,ut):it[ht]=ut;continue}it[ht]=ut}}return it}}function resolveStyleConfig(i){return s=>{var o;const{variant:a,size:rt,theme:et}=s,ot=createResolver(et);return mergeWith({},runIfFn$2((o=i.baseStyle)!=null?o:{},s),ot(i,"sizes",rt,s),ot(i,"variants",a,s))}}function omitThemingProps(i){return omit$2(i,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(i){return isObject$2(i)?requiredChakraThemeKeys.every(s=>Object.prototype.hasOwnProperty.call(i,s)):!1}var transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints$1,colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},sizes_default=sizes$m,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},{defineMultiStyleConfig:defineMultiStyleConfig$p,definePartsStyle:definePartsStyle$p}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size$4=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$F=definePartsStyle$p(({colorScheme:i})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${i}.500`,_dark:{[$accentColor.variable]:`colors.${i}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size$4.reference,height:$size$4.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size$4.reference} - 8px)`,top:`calc(${$size$4.reference} + 4px)`,insetStart:`calc(${$size$4.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F,sizes:{xs:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$p({stepper:{[$size$4.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function anatomy(i,s={}){let o=!1;function a(){if(!o){o=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function rt(...j){a();for(const _ of j)s[_]=nt(_);return anatomy(i,s)}function et(...j){for(const _ of j)_ in s||(s[_]=nt(_));return anatomy(i,s)}function ot(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.selector]))}function at(){return Object.fromEntries(Object.entries(s).map(([_,$])=>[_,$.className]))}function nt(j){const tt=`chakra-${(["container","root"].includes(j??"")?[i]:[i,j]).filter(Boolean).join("__")}`;return{className:tt,selector:`.${tt}`,toString:()=>j}}return{parts:rt,toPart:nt,extend:et,selectors:ot,classnames:at,get keys(){return Object.keys(s)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function guard(i,s,o){return Math.min(Math.max(i,o),s)}class ColorError extends Error{constructor(s){super(`Failed to parse color: "${s}"`)}}var ColorError$1=ColorError;function parseToRgba(i){if(typeof i!="string")throw new ColorError$1(i);if(i.trim().toLowerCase()==="transparent")return[0,0,0,0];let s=i.trim();s=namedColorRegex.test(i)?nameToHex(i):i;const o=reducedHexRegex.exec(s);if(o){const ot=Array.from(o).slice(1);return[...ot.slice(0,3).map(at=>parseInt(r$1(at,2),16)),parseInt(r$1(ot[3]||"f",2),16)/255]}const a=hexRegex.exec(s);if(a){const ot=Array.from(a).slice(1);return[...ot.slice(0,3).map(at=>parseInt(at,16)),parseInt(ot[3]||"ff",16)/255]}const rt=rgbaRegex.exec(s);if(rt){const ot=Array.from(rt).slice(1);return[...ot.slice(0,3).map(at=>parseInt(at,10)),parseFloat(ot[3]||"1")]}const et=hslaRegex.exec(s);if(et){const[ot,at,nt,it]=Array.from(et).slice(1).map(parseFloat);if(guard(0,100,at)!==at)throw new ColorError$1(i);if(guard(0,100,nt)!==nt)throw new ColorError$1(i);return[...hslToRgb(ot,at,nt),Number.isNaN(it)?1:it]}throw new ColorError$1(i)}function hash(i){let s=5381,o=i.length;for(;o;)s=s*33^i.charCodeAt(--o);return(s>>>0)%2341}const colorToInt=i=>parseInt(i.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((i,s)=>{const o=colorToInt(s.substring(0,3)),a=colorToInt(s.substring(3)).toString(16);let rt="";for(let et=0;et<6-a.length;et++)rt+="0";return i[o]=`${rt}${a}`,i},{});function nameToHex(i){const s=i.toLowerCase().trim(),o=compressedColorMap[hash(s)];if(!o)throw new ColorError$1(i);return`#${o}`}const r$1=(i,s)=>Array.from(Array(s)).map(()=>i).join(""),reducedHexRegex=new RegExp(`^#${r$1("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$1("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$1(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=i=>Math.round(i*255),hslToRgb=(i,s,o)=>{let a=o/100;if(s===0)return[a,a,a].map(roundColor);const rt=(i%360+360)%360/60,et=(1-Math.abs(2*a-1))*(s/100),ot=et*(1-Math.abs(rt%2-1));let at=0,nt=0,it=0;rt>=0&&rt<1?(at=et,nt=ot):rt>=1&&rt<2?(at=ot,nt=et):rt>=2&&rt<3?(nt=et,it=ot):rt>=3&&rt<4?(nt=ot,it=et):rt>=4&&rt<5?(at=ot,it=et):rt>=5&&rt<6&&(at=et,it=ot);const j=a-et/2,_=at+j,$=nt+j,tt=it+j;return[_,$,tt].map(roundColor)};function rgba$1(i,s,o,a){return`rgba(${guard(0,255,i).toFixed()}, ${guard(0,255,s).toFixed()}, ${guard(0,255,o).toFixed()}, ${parseFloat(guard(0,1,a).toFixed(3))})`}function transparentize$1(i,s){const[o,a,rt,et]=parseToRgba(i);return rgba$1(o,a,rt,et-s)}function toHex(i){const[s,o,a,rt]=parseToRgba(i);let et=ot=>{const at=guard(0,255,ot).toString(16);return at.length===1?`0${at}`:at};return`#${et(s)}${et(o)}${et(a)}${rt<1?et(Math.round(rt*255)):""}`}function dlv_es_default(i,s,o,a,rt){for(s=s.split?s.split("."):s,a=0;a<s.length;a++)i=i?i[s[a]]:rt;return i===rt?o:i}var isEmptyObject=i=>Object.keys(i).length===0,getColor=(i,s,o)=>{const a=dlv_es_default(i,`colors.${s}`,s);try{return toHex(a),a}catch{return o??"#000000"}},getBrightness=i=>{const[s,o,a]=parseToRgba(i);return(s*299+o*587+a*114)/1e3},tone=i=>s=>{const o=getColor(s,i);return getBrightness(o)<128?"dark":"light"},isDark=i=>s=>tone(i)(s)==="dark",transparentize=(i,s)=>o=>{const a=getColor(o,i);return transparentize$1(a,1-s)};function generateStripe(i="1rem",s="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${s} 25%,
    transparent 25%,
    transparent 50%,
    ${s} 50%,
    ${s} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(i){const s=randomHex();return!i||isEmptyObject(i)?s:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):s}function randomColorFromString(i){let s=0;if(i.length===0)return s.toString();for(let a=0;a<i.length;a+=1)s=i.charCodeAt(a)+((s<<5)-s),s=s&s;let o="#";for(let a=0;a<3;a+=1){const rt=s>>a*8&255;o+=`00${rt.toString(16)}`.substr(-2)}return o}function randomColorFromList(i,s){let o=0;if(i.length===0)return s[0];for(let a=0;a<i.length;a+=1)o=i.charCodeAt(a)+((o<<5)-o),o=o&o;return o=(o%s.length+s.length)%s.length,s[o]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,s){return o=>o.colorMode==="dark"?s:i}function orient(i){const{orientation:s,vertical:o,horizontal:a}=i;return s?s==="vertical"?o:a:{}}function toRef(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpr=(i,...s)=>s.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const s=toRef(i);return s!=null&&!Number.isNaN(parseFloat(s))?String(s).startsWith("-")?String(s).slice(1):`-${s}`:multiply(s,-1)},calc=Object.assign(i=>({add:(...s)=>calc(add(i,...s)),subtract:(...s)=>calc(subtract(i,...s)),multiply:(...s)=>calc(multiply(i,...s)),divide:(...s)=>calc(divide(i,...s)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,s="-"){return i.replace(/\s+/g,s)}function escape(i){const s=replaceWhiteSpace(i.toString());return s.includes("\\.")?i:isDecimal(i)?s.replace(".","\\."):i}function addPrefix(i,s=""){return[s,escape(i)].filter(Boolean).join("-")}function toVarRef(i,s){return`var(${escape(i)}${s?`, ${s}`:""})`}function toVar(i,s=""){return`--${addPrefix(i,s)}`}function cssVar(i,s){const o=toVar(i,void 0);return{variable:o,reference:toVarRef(o,getFallback(void 0))}}function getFallback(i){return typeof i=="string"?i:i==null?void 0:i.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height$1=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height$1),$translateX=cssVar("switch-thumb-x"),$bg$f=cssVar("switch-bg"),baseStyleTrack$2=i=>{const{colorScheme:s}=i;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height$1.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$f.variable]:"colors.gray.300",_dark:{[$bg$f.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$f.variable]:`colors.${s}.500`,_dark:{[$bg$f.variable]:`colors.${s}.200`}},bg:$bg$f.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height$1.reference],height:[$height$1.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$E=definePartsStyle$o(i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(i),thumb:baseStyleThumb$1})),sizes$l={sm:definePartsStyle$o({container:{[$width.variable]:"1.375rem",[$height$1.variable]:"sizes.3"}}),md:definePartsStyle$o({container:{[$width.variable]:"1.875rem",[$height$1.variable]:"sizes.4"}}),lg:definePartsStyle$o({container:{[$width.variable]:"2.875rem",[$height$1.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,sizes:sizes$l,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$D=definePartsStyle$n({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$n(i=>{const{colorScheme:s}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${s}.100`,`${s}.700`)(i)},td:{background:mode(`${s}.100`,`${s}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$e={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$k={sm:definePartsStyle$n({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$n({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$n({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$5=cssVar$1("tabs-color"),$bg$e=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=i=>{const{orientation:s}=i;return{display:s==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:s}=i;return{flex:s?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:s="start",orientation:o}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[s],flexDirection:o==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$C=definePartsStyle$m(i=>({root:baseStyleRoot$1(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel})),sizes$j={sm:definePartsStyle$m({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$m({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$m({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$m(i=>{const{colorScheme:s,orientation:o}=i,a=o==="vertical",rt=a?"borderStart":"borderBottom",et=a?"marginStart":"marginBottom";return{tablist:{[rt]:"2px solid",borderColor:"inherit"},tab:{[rt]:"2px solid",borderColor:"transparent",[et]:"-2px",_selected:{[$fg$5.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:`colors.${s}.300`},borderColor:"currentColor"},_active:{[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantEnclosed=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$5.variable]:`colors.${s}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$5.variable]:`colors.${s}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$5.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$e.variable]:"colors.gray.50",_dark:{[$bg$e.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$e.variable]:"colors.white",[$fg$5.variable]:`colors.${s}.600`,_dark:{[$bg$e.variable]:"colors.gray.800",[$fg$5.variable]:`colors.${s}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$5.reference,bg:$bg$e.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$m(i=>{const{colorScheme:s,theme:o}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(o,`${s}.700`),bg:getColor(o,`${s}.100`)}}}}),variantSolidRounded=definePartsStyle$m(i=>{const{colorScheme:s}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$5.variable]:"colors.gray.600",_dark:{[$fg$5.variable]:"inherit"},_selected:{[$fg$5.variable]:"colors.white",[$bg$e.variable]:`colors.${s}.600`,_dark:{[$fg$5.variable]:"colors.gray.800",[$bg$e.variable]:`colors.${s}.300`}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantUnstyled$2=definePartsStyle$m({}),variants$d={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$C,sizes:sizes$j,variants:variants$d,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$B={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$3=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.500`,.6)(o);return{[vars.bg.variable]:`colors.${s}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:a,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle$1=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.200`,.16)(o);return{[vars.bg.variable]:`colors.${s}.100`,[vars.color.variable]:`colors.${s}.800`,_dark:{[vars.bg.variable]:a,[vars.color.variable]:`colors.${s}.200`}}},variantOutline$2=i=>{const{colorScheme:s,theme:o}=i,a=transparentize(`${s}.200`,.8)(o);return{[vars.color.variable]:`colors.${s}.500`,_dark:{[vars.color.variable]:a},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$c={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$B,variants:variants$c,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$d=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow$3=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize$1=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$d.variable]:vars.bg.reference,[$shadow$3.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize$1.reference,px:$paddingX.reference,_focusVisible:{[$shadow$3.variable]:"shadows.outline"}},baseStyleLabel$4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$A=definePartsStyle$l({container:baseStyleContainer$4,label:baseStyleLabel$4,closeButton:baseStyleCloseButton$3}),sizes$i={sm:definePartsStyle$l({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize$1.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$l({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize$1.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle$l({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize$1.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$b={subtle:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.subtle(i)}}),solid:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.solid(i)}}),outline:definePartsStyle$l(i=>{var s;return{container:(s=badgeTheme.variants)==null?void 0:s.outline(i)}})},tagTheme=defineMultiStyleConfig$l({variants:variants$b,baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height=cssVar$1("input-height"),$fontSize=cssVar$1("input-font-size"),$padding$1=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$z=definePartsStyle$k({addon:{height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize.variable]:"fontSizes.lg",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.12"},md:{[$fontSize.variable]:"fontSizes.md",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.10"},sm:{[$fontSize.variable]:"fontSizes.sm",[$padding$1.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.8"},xs:{[$fontSize.variable]:"fontSizes.xs",[$padding$1.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.6"}},sizes$h={lg:definePartsStyle$k({field:size.lg,group:size.lg}),md:definePartsStyle$k({field:size.md,group:size.md}),sm:definePartsStyle$k({field:size.sm,group:size.sm}),xs:definePartsStyle$k({field:size.xs,group:size.xs})};function getDefaults(i){const{focusBorderColor:s,errorBorderColor:o}=i;return{focusBorderColor:s||mode("blue.500","blue.300")(i),errorBorderColor:o||mode("red.500","red.300")(i)}}var variantOutline$1=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a),boxShadow:`0 0 0 1px ${getColor(s,a)}`},_focusVisible:{zIndex:1,borderColor:getColor(s,o),boxShadow:`0 0 0 1px ${getColor(s,o)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}}),variantFilled=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a)},_focusVisible:{bg:"transparent",borderColor:getColor(s,o)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}}),variantFlushed=definePartsStyle$k(i=>{const{theme:s}=i,{focusBorderColor:o,errorBorderColor:a}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(s,a),boxShadow:`0px 1px 0px 0px ${getColor(s,a)}`},_focusVisible:{borderColor:getColor(s,o),boxShadow:`0px 1px 0px 0px ${getColor(s,o)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$k({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$z,sizes:sizes$h,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),_a$4,baseStyle$y={...(_a$4=inputTheme.baseStyle)==null?void 0:_a$4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$9={outline:i=>{var s,o;return(o=(s=inputTheme.variants)==null?void 0:s.outline(i).field)!=null?o:{}},flushed:i=>{var s,o;return(o=(s=inputTheme.variants)==null?void 0:s.flushed(i).field)!=null?o:{}},filled:i=>{var s,o;return(o=(s=inputTheme.variants)==null?void 0:s.filled(i).field)!=null?o:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$g={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$y,sizes:sizes$g,variants:variants$9,defaultProps:{size:"md",variant:"outline"}},$bg$c=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$x={bg:$bg$c.reference,color:$fg$4.reference,[$bg$c.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$c.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$c.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$x},{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=i=>{const{colorScheme:s,theme:o,isIndeterminate:a,hasStripe:rt}=i,et=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),ot=mode(`${s}.500`,`${s}.200`)(i),at=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(o,ot)} 50%,
    transparent 100%
  )`;return{...!a&&rt&&et,...a?{bgImage:at}:{bgColor:ot}}},baseStyleLabel$3={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack$1=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle$w=definePartsStyle$j(i=>({label:baseStyleLabel$3,filledTrack:baseStyleFilledTrack$1(i),track:baseStyleTrack$1(i)})),sizes$f={xs:definePartsStyle$j({track:{h:"1"}}),sm:definePartsStyle$j({track:{h:"2"}}),md:definePartsStyle$j({track:{h:"3"}}),lg:definePartsStyle$j({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$j({sizes:sizes$f,baseStyle:baseStyle$w,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$3=i=>typeof i=="function";function runIfFn$1(i,...s){return isFunction$3(i)?i(...s):i}var{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=i=>{const{colorScheme:s}=i;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${s}.600`,`${s}.300`)(i),borderColor:mode(`${s}.600`,`${s}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${s}.500`,`${s}.200`)(i),borderColor:mode(`${s}.500`,`${s}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$2={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$6={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$v=definePartsStyle$i(i=>({icon:baseStyleIcon$6,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,i),label:baseStyleLabel$2})),sizes$e={sm:definePartsStyle$i({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$i({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$i({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$v,sizes:sizes$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=i=>{var s;const o=(s=runIfFn$1(checkboxTheme.baseStyle,i))==null?void 0:s.control;return{...o,borderRadius:"full",_checked:{...o==null?void 0:o._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$u=definePartsStyle$h(i=>{var s,o,a,rt;return{label:(o=(s=checkboxTheme).baseStyle)==null?void 0:o.call(s,i).label,container:(rt=(a=checkboxTheme).baseStyle)==null?void 0:rt.call(a,i).container,control:baseStyleControl(i)}}),sizes$d={md:definePartsStyle$h({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$h({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$h({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$b=cssVar$1("select-bg"),_a$3,baseStyleField$1={...(_a$3=inputTheme.baseStyle)==null?void 0:_a$3.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$b.reference,[$bg$b.variable]:"colors.white",_dark:{[$bg$b.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$b.reference}},baseStyleIcon$5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$t=definePartsStyle$g({field:baseStyleField$1,icon:baseStyleIcon$5}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$c={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$t,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$s={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$s},$bg$a=cssVar$1("skip-link-bg"),baseStyle$r={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},bg:$bg$a.reference}},skipLinkTheme={baseStyle:baseStyle$r},{defineMultiStyleConfig:defineMultiStyleConfig$f,definePartsStyle:definePartsStyle$f}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$9=cssVar$1("slider-bg"),baseStyleContainer$2=i=>{const{orientation:s}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:s,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=i=>({...orient({orientation:i.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$9.variable]:"colors.gray.300",_dark:{[$bg$9.variable]:"colors.whiteAlpha.300"}},bg:$bg$9.reference}),baseStyleThumb=i=>{const{orientation:s}=i;return{...orient({orientation:s,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=i=>{const{colorScheme:s}=i;return{width:"inherit",height:"inherit",[$bg$9.variable]:`colors.${s}.500`,_dark:{[$bg$9.variable]:`colors.${s}.200`},bg:$bg$9.reference}},baseStyle$q=definePartsStyle$f(i=>({container:baseStyleContainer$2(i),track:baseStyleTrack(i),thumb:baseStyleThumb(i),filledTrack:baseStyleFilledTrack(i)})),sizeLg=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$f({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$b={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$q,sizes:sizes$b,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("spinner-size"),baseStyle$p={width:[$size$2.reference],height:[$size$2.reference]},sizes$a={xs:{[$size$2.variable]:"sizes.3"},sm:{[$size$2.variable]:"sizes.4"},md:{[$size$2.variable]:"sizes.6"},lg:{[$size$2.variable]:"sizes.8"},xl:{[$size$2.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$p,sizes:sizes$a,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$4={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$o=definePartsStyle$e({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$4}),sizes$9={md:definePartsStyle$e({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$o,sizes:sizes$9,defaultProps:{size:"md"}}),$bg$8=cssVar$1("kbd-bg"),baseStyle$n={[$bg$8.variable]:"colors.gray.100",_dark:{[$bg$8.variable]:"colors.whiteAlpha.100"},bg:$bg$8.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$n},baseStyle$m={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$m},{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$l=definePartsStyle$d({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$7=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$7.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$7.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$7.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$7.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$k=definePartsStyle$c({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$6=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=i=>{const{isCentered:s,scrollBehavior:o}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:s?"center":"flex-start",overflow:o==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=i=>{const{isCentered:s,scrollBehavior:o}=i;return{borderRadius:"md",color:"inherit",my:s?"auto":"16",mx:s?"auto":void 0,zIndex:"modal",maxH:o==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$6.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$6.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=i=>{const{scrollBehavior:s}=i;return{px:"6",py:"2",flex:"1",overflow:s==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$j=definePartsStyle$b(i=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,i),dialog:runIfFn$1(baseStyleDialog$1,i),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,i),footer:baseStyleFooter$2}));function getSize$3(i){return definePartsStyle$b(i==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:i}})}var sizes$8={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$8,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=i=>{var s,o;return(o=(s=runIfFn$1(inputTheme.baseStyle,i))==null?void 0:s.field)!=null?o:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$i=definePartsStyle$a(i=>{var s;return{root:baseStyleRoot,field:(s=runIfFn$1(baseStyleField,i))!=null?s:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(i){var s,o,a;const rt=(s=inputTheme.sizes)==null?void 0:s[i],et={lg:"md",md:"md",sm:"sm",xs:"sm"},ot=(a=(o=rt.field)==null?void 0:o.fontSize)!=null?a:"md",at=typography_default.fontSizes[ot];return definePartsStyle$a({field:{...rt.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(at).multiply(.75).toString(),_first:{borderTopEndRadius:et[i]},_last:{borderBottomEndRadius:et[i],mt:"-1px",borderTopWidth:1}}})}var sizes$7={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$i,sizes:sizes$7,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$2,baseStyle$h={...(_a$2=inputTheme.baseStyle)==null?void 0:_a$2.field,textAlign:"center"},sizes$6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$8={outline:i=>{var s,o,a;return(a=(o=runIfFn$1((s=inputTheme.variants)==null?void 0:s.outline,i))==null?void 0:o.field)!=null?a:{}},flushed:i=>{var s,o,a;return(a=(o=runIfFn$1((s=inputTheme.variants)==null?void 0:s.flushed,i))==null?void 0:o.field)!=null?a:{}},filled:i=>{var s,o,a;return(a=(o=runIfFn$1((s=inputTheme.variants)==null?void 0:s.filled,i))==null?void 0:o.field)!=null?a:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$h,sizes:sizes$6,variants:variants$8,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$g=definePartsStyle$9({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$g}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(i){return definePartsStyle$8(i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=i=>{const{isFullHeight:s}=i;return{...s&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$f=definePartsStyle$8(i=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,i),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$5={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$5,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$e=definePartsStyle$7({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e}),{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$d=definePartsStyle$6({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$d}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$c=definePartsStyle$5({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$c}),baseStyle$b={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$b},baseStyle$a={fontFamily:"heading",fontWeight:"bold"},sizes$4={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$a,sizes:sizes$4,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$9=definePartsStyle$4({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$9}),baseStyle$8={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:s,theme:o}=i;if(s==="gray")return{color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const a=transparentize(`${s}.200`,.12)(o),rt=transparentize(`${s}.200`,.24)(o);return{color:mode(`${s}.600`,`${s}.200`)(i),bg:"transparent",_hover:{bg:mode(`${s}.50`,a)(i)},_active:{bg:mode(`${s}.100`,rt)(i)}}},variantOutline=i=>{const{colorScheme:s}=i,o=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:s==="gray"?o:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=i=>{var s;const{colorScheme:o}=i;if(o==="gray"){const nt=mode("gray.100","whiteAlpha.200")(i);return{bg:nt,color:mode("gray.800","whiteAlpha.900")(i),_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:nt}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:a=`${o}.500`,color:rt="white",hoverBg:et=`${o}.600`,activeBg:ot=`${o}.700`}=(s=accessibleColorMap[o])!=null?s:{},at=mode(a,`${o}.200`)(i);return{bg:at,color:mode(rt,"gray.800")(i),_hover:{bg:mode(et,`${o}.300`)(i),_disabled:{bg:at}},_active:{bg:mode(ot,`${o}.400`)(i)}}},variantLink=i=>{const{colorScheme:s}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${s}.500`,`${s}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${s}.700`,`${s}.500`)(i)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$7={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$8,variants:variants$7,sizes:sizes$3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$7=definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$2={sm:definePartsStyle$3({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$3({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$3({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$6={elevated:definePartsStyle$3({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$3({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$3({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$7,variants:variants$6,sizes:sizes$2,defaultProps:{variant:"elevated",size:"md"}}),$size$1=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$6={w:[$size$1.reference],h:[$size$1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$1={lg:{[$size$1.variable]:"sizes.10",fontSize:"md"},md:{[$size$1.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$1.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$6,sizes:sizes$1,defaultProps:{size:"md"}},{variants:variants$5,defaultProps}=badgeTheme,baseStyle$5={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$5,variants:variants$5,defaultProps},baseStyle$4={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$4},baseStyle$3={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$4={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$3,variants:variants$4,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$2=definePartsStyle$2({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$2}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$1=definePartsStyle$1({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(i){const{theme:s,colorScheme:o}=i,a=transparentize(`${o}.200`,.16)(s);return{light:`colors.${o}.100`,dark:a}}var variantSubtle=definePartsStyle$1(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:o.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:o.dark}}}}),variantLeftAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:o.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:o.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$1(i=>{const{colorScheme:s}=i,o=getBg(i);return{container:{[$fg.variable]:`colors.${s}.600`,[$bg$1.variable]:o.light,_dark:{[$fg.variable]:`colors.${s}.200`,[$bg$1.variable]:o.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$1(i=>{const{colorScheme:s}=i;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${s}.600`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${s}.200`},color:$fg.reference}}}),variants$3={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$1,variants:variants$3,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border.reference,[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg.reference,fontSize:$fs.reference,width:$size.reference,height:$size.reference,lineHeight:"1",[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"}},baseStyleContainer=i=>{const{name:s,theme:o}=i,a=s?randomColor({string:s}):"colors.gray.400",rt=isDark(a)(o);let et="white";return rt||(et="gray.800"),{bg:$bg.reference,fontSize:$fs.reference,color:et,borderColor:$border.reference,verticalAlign:"top",width:$size.reference,height:$size.reference,"&:not([data-loaded])":{[$bg.variable]:a},[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"}}},baseStyleLabel={fontSize:$fs.reference,lineHeight:"1"},baseStyle=definePartsStyle(i=>({badge:runIfFn$1(baseStyleBadge,i),excessLabel:runIfFn$1(baseStyleExcessLabel,i),container:runIfFn$1(baseStyleContainer,i),label:baseStyleLabel}));function getSize(i){const s=i!=="100%"?sizes_default[i]:void 0;return definePartsStyle({container:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`},excessLabel:{[$size.variable]:s??i,[$fs.variable]:`calc(${s??i} / 2.5)`}})}var sizes={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig({baseStyle,sizes,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},direction="ltr",config$1={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$1};function isFunction$2(i){return typeof i=="function"}function pipe$1(...i){return s=>i.reduce((o,a)=>a(o),s)}var createExtendTheme=i=>function(...o){let a=[...o],rt=o[o.length-1];return isChakraTheme(rt)&&a.length>1?a=a.slice(0,a.length-1):rt=i,pipe$1(...a.map(et=>ot=>isFunction$2(et)?et(ot):mergeThemeOverride(ot,et)))(rt)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...i){return mergeWith({},...i,mergeThemeCustomizer)}function mergeThemeCustomizer(i,s,o,a){if((isFunction$2(i)||isFunction$2(s))&&Object.prototype.hasOwnProperty.call(a,o))return(...rt)=>{const et=isFunction$2(i)?i(...rt):i,ot=isFunction$2(s)?s(...rt):s;return mergeWith({},et,ot,mergeThemeCustomizer)}}function canUseDOM$1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$1=canUseDOM$1();function omit$1(i,s){const o={};return Object.keys(i).forEach(a=>{s.includes(a)||(o[a]=i[a])}),o}function get$2(i,s,o,a){const rt=typeof s=="string"?s.split("."):[s];for(a=0;a<rt.length&&i;a+=1)i=i[rt[a]];return i===void 0?o:i}var memoize$1=i=>{const s=new WeakMap;return(a,rt,et,ot)=>{if(typeof a>"u")return i(a,rt,et);s.has(a)||s.set(a,new Map);const at=s.get(a);if(at.has(rt))return at.get(rt);const nt=i(a,rt,et,ot);return at.set(rt,nt),nt}},memoizedGet=memoize$1(get$2);function objectFilter(i,s){const o={};return Object.keys(i).forEach(a=>{const rt=i[a];s(rt,a,i)&&(o[a]=rt)}),o}var filterUndefined=i=>objectFilter(i,s=>s!=null);function isFunction$1(i){return typeof i=="function"}function runIfFn(i,...s){return isFunction$1(i)?i(...s):i}function callAllHandlers(...i){return function(o){i.some(a=>(a==null||a(o),o==null?void 0:o.defaultPrevented))}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var o,a,rt;if(Array.isArray(i)){if(o=i.length,o!=s.length)return!1;for(a=o;a--!==0;)if(!equal$1(i[a],s[a]))return!1;return!0}var et;if(hasMap&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for(et=i.entries();!(a=et.next()).done;)if(!s.has(a.value[0]))return!1;for(et=i.entries();!(a=et.next()).done;)if(!equal$1(a.value[1],s.get(a.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for(et=i.entries();!(a=et.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(o=i.length,o!=s.length)return!1;for(a=o;a--!==0;)if(i[a]!==s[a])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof s.valueOf=="function")return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof s.toString=="function")return i.toString()===s.toString();if(rt=Object.keys(i),o=rt.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,rt[a]))return!1;if(hasElementType&&i instanceof Element)return!1;for(a=o;a--!==0;)if(!((rt[a]==="_owner"||rt[a]==="__v"||rt[a]==="__o")&&i.$$typeof)&&!equal$1(i[rt[a]],s[rt[a]]))return!1;return!0}return i!==i&&s!==s}var reactFastCompare=function(s,o){try{return equal$1(s,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const isEqual$2=getDefaultExportFromCjs(reactFastCompare);function useStyleConfigImpl(i,s={}){var o;const{styleConfig:a,...rt}=s,{theme:et,colorMode:ot}=useChakra(),at=i?memoizedGet(et,`components.${i}`):void 0,nt=a||at,it=mergeWith({theme:et,colorMode:ot},(o=nt==null?void 0:nt.defaultProps)!=null?o:{},filterUndefined(omit$1(rt,["children"]))),j=reactExports.useRef({});if(nt){const $=resolveStyleConfig(nt)(it);isEqual$2(j.current,$)||(j.current=$)}return j.current}function useStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}function useMultiStyleConfig(i,s={}){return useStyleConfigImpl(i,s)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(i){return validHTMLProps.has(i)||!allPropNames.has(i)}function assignAfter(i,...s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");const o={...i};for(const a of s)if(a!=null)for(const rt in a)Object.prototype.hasOwnProperty.call(a,rt)&&(rt in o&&delete o[rt],o[rt]=a[rt]);return o}function compact(i){const s=Object.assign({},i);for(let o in s)s[o]===void 0&&delete s[o];return s}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$3(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,o,a){var rt;if(o){var et=o.shouldForwardProp;rt=s.__emotion_forwardProp&&et?function(ot){return s.__emotion_forwardProp(ot)&&et(ot)}:et}return typeof rt!="function"&&a&&(rt=s.__emotion_forwardProp),rt},Insertion=function(s){var o=s.cache,a=s.serialized,rt=s.isStringTag;return registerStyles(o,a,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(o,a,rt)}),null},createStyled=function i(s,o){var a=s.__emotion_real===s,rt=a&&s.__emotion_base||s,et,ot;o!==void 0&&(et=o.label,ot=o.target);var at=composeShouldForwardProps(s,o,a),nt=at||getDefaultShouldForwardProp(rt),it=!nt("as");return function(){var j=arguments,_=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(et!==void 0&&_.push("label:"+et+";"),j[0]==null||j[0].raw===void 0)_.push.apply(_,j);else{_.push(j[0][0]);for(var $=j.length,tt=1;tt<$;tt++)_.push(j[tt],j[0][tt])}var st=withEmotionCache(function(lt,ct,ht){var ut=it&&lt.as||rt,pt="",mt=[],vt=lt;if(lt.theme==null){vt={};for(var dt in lt)vt[dt]=lt[dt];vt.theme=reactExports.useContext(ThemeContext)}typeof lt.className=="string"?pt=getRegisteredStyles(ct.registered,mt,lt.className):lt.className!=null&&(pt=lt.className+" ");var St=serializeStyles(_.concat(mt),ct.registered,vt);pt+=ct.key+"-"+St.name,ot!==void 0&&(pt+=" "+ot);var yt=it&&at===void 0?getDefaultShouldForwardProp(ut):nt,gt={};for(var Et in lt)it&&Et==="as"||yt(Et)&&(gt[Et]=lt[Et]);return gt.className=pt,ht&&(gt.ref=ht),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:ct,serialized:St,isStringTag:typeof ut=="string"}),reactExports.createElement(ut,gt))});return st.displayName=et!==void 0?et:"Styled("+(typeof rt=="string"?rt:rt.displayName||rt.name||"Component")+")",st.defaultProps=s.defaultProps,st.__emotion_real=st,st.__emotion_base=rt,st.__emotion_styles=_,st.__emotion_forwardProp=at,Object.defineProperty(st,"toString",{value:function(){return"."+ot}}),st.withComponent=function(lt,ct){return i(lt,_extends$1({},o,ct,{shouldForwardProp:composeShouldForwardProps(st,ct,!0)})).apply(void 0,_)},st}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var _a$1,emotion_styled=(_a$1=newStyled.default)!=null?_a$1:newStyled,toCSSObject=({baseStyle:i})=>s=>{const{theme:o,css:a,__css:rt,sx:et,...ot}=s,at=objectFilter(ot,(_,$)=>isStyleProp($)),nt=runIfFn(i,s),it=assignAfter({},rt,nt,filterUndefined(at),et),j=css(it)(s.theme);return a?[j,a]:j};function styled(i,s){const{baseStyle:o,...a}=s??{};a.shouldForwardProp||(a.shouldForwardProp=shouldForwardProp);const rt=toCSSObject({baseStyle:o}),et=emotion_styled(i,a)(rt);return React$4.forwardRef(function(nt,it){const{colorMode:j,forced:_}=useColorMode();return React$4.createElement(et,{ref:it,"data-theme":_?j:void 0,...nt})})}function factory(){const i=new Map;return new Proxy(styled,{apply(s,o,a){return styled(...a)},get(s,o){return i.has(o)||i.set(o,styled(o)),i.get(o)}})}var chakra=factory();function forwardRef(i){return reactExports.forwardRef(i)}function createContext$1(i={}){const{strict:s=!0,errorMessage:o="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:a}=i,rt=reactExports.createContext(void 0);rt.displayName=a;function et(){var ot;const at=reactExports.useContext(rt);if(!at&&s){const nt=new Error(o);throw nt.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,nt,et),nt}return at}return[rt.Provider,et,rt]}function ThemeProvider(i){const{cssVarsRoot:s,theme:o,children:a}=i,rt=reactExports.useMemo(()=>toCSSVar(o),[o]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:rt,children:[jsxRuntimeExports.jsx(CSSVars,{root:s}),a]})}function CSSVars({root:i=":host, :root"}){const s=[i,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:o=>({[s]:o.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(i){return createContext$1({name:`${i}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${i} />" `})}function GlobalStyle(){const{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:s=>{const o=memoizedGet(s,"styles.global"),a=runIfFn(o,{theme:s,colorMode:i});return a?css(a)(s):void 0}})}var EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:s,environment:o,disabled:a}=i,rt=reactExports.useRef(null),et=reactExports.useMemo(()=>o||{getDocument:()=>{var at,nt;return(nt=(at=rt.current)==null?void 0:at.ownerDocument)!=null?nt:document},getWindow:()=>{var at,nt;return(nt=(at=rt.current)==null?void 0:at.ownerDocument.defaultView)!=null?nt:window}},[o]),ot=!a||!o;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:et,children:[s,ot&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:rt})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=i=>{const{children:s,colorModeManager:o,portalZIndex:a,resetScope:rt,resetCSS:et=!0,theme:ot={},environment:at,cssVarsRoot:nt,disableEnvironment:it,disableGlobalStyle:j}=i,_=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:at,disabled:it,children:s});return jsxRuntimeExports.jsx(ThemeProvider,{theme:ot,cssVarsRoot:nt,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:o,options:ot.config,children:[et?jsxRuntimeExports.jsx(CSSReset,{scope:rt}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!j&&jsxRuntimeExports.jsx(GlobalStyle,{}),a?jsxRuntimeExports.jsx(PortalManager,{zIndex:a,children:_}):_]})})},findById=(i,s)=>i.find(o=>o.id===s);function findToast(i,s){const o=getToastPosition(i,s),a=o?i[o].findIndex(rt=>rt.id===s):-1;return{position:o,index:a}}function getToastPosition(i,s){for(const[o,a]of Object.entries(i))if(findById(a,s))return o}function getToastStyle(i){const s=i.includes("right"),o=i.includes("left");let a="center";return s&&(a="flex-end"),o&&(a="flex-start"),{display:"flex",flexDirection:"column",alignItems:a}}function getToastListStyle(i){const o=i==="top"||i==="bottom"?"0 auto":void 0,a=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,rt=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,et=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",ot=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:o,top:a,bottom:rt,right:et,left:ot}}function useCallbackRef$2(i,s=[]){const o=reactExports.useRef(i);return reactExports.useEffect(()=>{o.current=i}),reactExports.useCallback((...a)=>{var rt;return(rt=o.current)==null?void 0:rt.call(o,...a)},s)}function useTimeout(i,s){const o=useCallbackRef$2(i);reactExports.useEffect(()=>{if(s==null)return;let a=null;return a=window.setTimeout(()=>{o()},s),()=>{a&&window.clearTimeout(a)}},[s,o])}function useUpdateEffect(i,s){const o=reactExports.useRef(!1),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(o.current&&a.current)return i();a.current=!0},s),reactExports.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[])}const MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};function createRenderStep(i){let s=new Set,o=new Set,a=!1,rt=!1;const et=new WeakSet;let ot={delta:0,timestamp:0,isProcessing:!1};function at(it){et.has(it)&&(nt.schedule(it),i()),it(ot)}const nt={schedule:(it,j=!1,_=!1)=>{const tt=_&&a?s:o;return j&&et.add(it),tt.has(it)||tt.add(it),it},cancel:it=>{o.delete(it),et.delete(it)},process:it=>{if(ot=it,a){rt=!0;return}a=!0,[s,o]=[o,s],o.clear(),s.forEach(at),a=!1,rt&&(rt=!1,nt.process(it))}};return nt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(i,s){let o=!1,a=!0;const rt={delta:0,timestamp:0,isProcessing:!1},et=()=>o=!0,ot=stepsOrder.reduce((ht,ut)=>(ht[ut]=createRenderStep(et),ht),{}),{read:at,resolveKeyframes:nt,update:it,preRender:j,render:_,postRender:$}=ot,tt=()=>{const ht=performance.now();o=!1,rt.delta=a?1e3/60:Math.max(Math.min(ht-rt.timestamp,maxElapsed),1),rt.timestamp=ht,rt.isProcessing=!0,at.process(rt),nt.process(rt),it.process(rt),j.process(rt),_.process(rt),$.process(rt),rt.isProcessing=!1,o&&s&&(a=!1,i(tt))},st=()=>{o=!0,a=!0,rt.isProcessing||i(tt)};return{schedule:stepsOrder.reduce((ht,ut)=>{const pt=ot[ut];return ht[ut]=(mt,vt=!1,dt=!1)=>(o||st(),pt.schedule(mt,vt,dt)),ht},{}),cancel:ht=>{for(let ut=0;ut<stepsOrder.length;ut++)ot[stepsOrder[ut]].cancel(ht)},state:rt,steps:ot}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(i,s,o,a,rt){const{visualElement:et}=reactExports.useContext(MotionContext),ot=reactExports.useContext(LazyContext),at=reactExports.useContext(PresenceContext),nt=reactExports.useContext(MotionConfigContext).reducedMotion,it=reactExports.useRef();a=a||ot.renderer,!it.current&&a&&(it.current=a(i,{visualState:s,parent:et,props:o,presenceContext:at,blockInitialAnimation:at?at.initial===!1:!1,reducedMotionConfig:nt}));const j=it.current,_=reactExports.useContext(SwitchLayoutGroupContext);j&&!j.projection&&rt&&(j.type==="html"||j.type==="svg")&&createProjectionNode$1(it.current,o,rt,_),reactExports.useInsertionEffect(()=>{j&&j.update(o,at)});const $=reactExports.useRef(!!(o[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$1(()=>{j&&(j.updateFeatures(),microtask.render(j.render),$.current&&j.animationState&&j.animationState.animateChanges())}),reactExports.useEffect(()=>{j&&(!$.current&&j.animationState&&j.animationState.animateChanges(),$.current&&($.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),j}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(i,s,o,a){const{layoutId:rt,layout:et,drag:ot,dragConstraints:at,layoutScroll:nt,layoutRoot:it}=s;i.projection=new o(i.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(i.parent)),i.projection.setOptions({layoutId:rt,layout:et,alwaysMeasureLayout:!!ot||at&&isRefObject(at),visualElement:i,animationType:typeof et=="string"?et:"both",initialPromotionConfig:a,layoutScroll:nt,layoutRoot:it})}function getClosestProjectingNode(i){if(i)return i.options.allowProjection!==!1?i.projection:getClosestProjectingNode(i.parent)}function useMotionRef(i,s,o){return reactExports.useCallback(a=>{a&&i.mount&&i.mount(a),s&&(a?s.mount(a):s.unmount()),o&&(typeof o=="function"?o(a):isRefObject(o)&&(o.current=a))},[s])}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(s=>isVariantLabel(i[s]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,s){if(isControllingVariants(i)){const{initial:o,animate:a}=i;return{initial:o===!1||isVariantLabel(o)?o:void 0,animate:isVariantLabel(a)?a:void 0}}return i.inherit!==!1?s:{}}function useCreateMotionContext(i){const{initial:s,animate:o}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:o}),[variantLabelsAsDependency(s),variantLabelsAsDependency(o)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:s=>featureProps[i].some(o=>!!s[o])};function loadFeatures(i){for(const s in i)featureDefinitions[s]={...featureDefinitions[s],...i[s]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop$1=i=>i;let invariant=noop$1;function createMotionComponent({preloadedFeatures:i,createVisualElement:s,useRender:o,useVisualState:a,Component:rt}){i&&loadFeatures(i);function et(at,nt){let it;const j={...reactExports.useContext(MotionConfigContext),...at,layoutId:useLayoutId(at)},{isStatic:_}=j,$=useCreateMotionContext(at),tt=a(at,_);if(!_&&isBrowser){useStrictMode();const st=getProjectionFunctionality(j);it=st.MeasureLayout,$.visualElement=useVisualElement(rt,tt,j,s,st.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:$,children:[it&&$.visualElement?jsxRuntimeExports.jsx(it,{visualElement:$.visualElement,...j}):null,o(rt,at,useMotionRef(tt,$.visualElement,nt),tt,_,$.visualElement)]})}const ot=reactExports.forwardRef(et);return ot[motionComponentSymbol]=rt,ot}function useLayoutId({layoutId:i}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&i!==void 0?s+"-"+i:i}function useStrictMode(i,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(i){const{drag:s,layout:o}=featureDefinitions;if(!s&&!o)return{};const a={...s,...o};return{MeasureLayout:s!=null&&s.isEnabled(i)||o!=null&&o.isEnabled(i)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function createMotionProxy(i){function s(a,rt={}){return createMotionComponent(i(a,rt))}if(typeof Proxy>"u")return s;const o=new Map;return new Proxy(s,{get:(a,rt)=>(o.has(rt)||o.set(rt,s(rt)),o.get(rt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}const scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(i,{layout:s,layoutId:o}){return transformProps.has(i)||i.startsWith("origin")||(s||o!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const isMotionValue=i=>!!(i&&i.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,s,o){let a="";for(let rt=0;rt<numTransforms;rt++){const et=transformPropOrder[rt];if(i[et]!==void 0){const ot=translateAlias[et]||et;a+=`${ot}(${i[et]}) `}}return a=a.trim(),o?a=o(i,s?"":a):s&&(a="none"),a}const checkStringStartsWith=i=>s=>typeof s=="string"&&s.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(i,s)=>s&&typeof i=="number"?s.transform(i):i,clamp=(i,s,o)=>o>s?s:o<i?i:o,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$1(i){return typeof i=="string"}function isNullish(i){return i==null}const createUnitType=i=>({test:s=>isString$1(s)&&s.endsWith(i)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(i,s,o){const{style:a,vars:rt,transform:et,transformOrigin:ot}=i;let at=!1,nt=!1,it=!0;for(const j in s){const _=s[j];if(isCSSVariableName(j)){rt[j]=_;continue}const $=numberValueTypes[j],tt=getValueAsType(_,$);if(transformProps.has(j)){if(at=!0,et[j]=tt,!it)continue;_!==($.default||0)&&(it=!1)}else j.startsWith("origin")?(nt=!0,ot[j]=tt):a[j]=tt}if(s.transform||(at||o?a.transform=buildTransform(i.transform,it,o):a.transform&&(a.transform="none")),nt){const{originX:j="50%",originY:_="50%",originZ:$=0}=ot;a.transformOrigin=`${j} ${_} ${$}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(i,s,o){for(const a in s)!isMotionValue(s[a])&&!isForcedMotionValue(a,o)&&(i[a]=s[a])}function useInitialMotionValues({transformTemplate:i},s){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,s,i),Object.assign({},o.vars,o.style)},[s])}function useStyle(i,s){const o=i.style||{},a={};return copyRawValuesOnly(a,o,i),Object.assign(a,useInitialMotionValues(i,s)),a}function useHTMLProps(i,s){const o={},a=useStyle(i,s);return i.drag&&i.dragListener!==!1&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(o.tabIndex=0),o.style=a,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){i&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):i(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,s,o){const a={};for(const rt in i)rt==="values"&&typeof i.values=="object"||(shouldForward(rt)||o===!0&&isValidMotionProp(rt)||!s&&!isValidMotionProp(rt)||i.draggable&&rt.startsWith("onDrag"))&&(a[rt]=i[rt]);return a}function calcOrigin$1(i,s,o){return typeof i=="string"?i:px.transform(s+o*i)}function calcSVGTransformOrigin(i,s,o){const a=calcOrigin$1(s,i.x,i.width),rt=calcOrigin$1(o,i.y,i.height);return`${a} ${rt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,s,o=1,a=0,rt=!0){i.pathLength=1;const et=rt?dashKeys:camelKeys;i[et.offset]=px.transform(-a);const ot=px.transform(s),at=px.transform(o);i[et.array]=`${ot} ${at}`}function buildSVGAttrs(i,{attrX:s,attrY:o,attrScale:a,originX:rt,originY:et,pathLength:ot,pathSpacing:at=1,pathOffset:nt=0,...it},j,_){if(buildHTMLStyles(i,it,_),j){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:$,style:tt,dimensions:st}=i;$.transform&&(st&&(tt.transform=$.transform),delete $.transform),st&&(rt!==void 0||et!==void 0||tt.transform)&&(tt.transformOrigin=calcSVGTransformOrigin(st,rt!==void 0?rt:.5,et!==void 0?et:.5)),s!==void 0&&($.x=s),o!==void 0&&($.y=o),a!==void 0&&($.scale=a),ot!==void 0&&buildSVGPath($,ot,at,nt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,s,o,a){const rt=reactExports.useMemo(()=>{const et=createSvgRenderState();return buildSVGAttrs(et,s,isSVGTag(a),i.transformTemplate),{...et.attrs,style:{...et.style}}},[s]);if(i.style){const et={};copyRawValuesOnly(et,i.style,i),rt.style={...et,...rt.style}}return rt}function createUseRender(i=!1){return(o,a,rt,{latestValues:et},ot)=>{const nt=(isSVGComponent(o)?useSVGProps:useHTMLProps)(a,et,ot,o),it=filterProps(a,typeof o=="string",i),j=o!==reactExports.Fragment?{...it,...nt,ref:rt}:{},{children:_}=a,$=reactExports.useMemo(()=>isMotionValue(_)?_.get():_,[_]);return reactExports.createElement(o,{...j,children:$})}}function renderHTML(i,{style:s,vars:o},a,rt){Object.assign(i.style,s,rt&&rt.getProjectionStyles(a));for(const et in o)i.style.setProperty(et,o[et])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,s,o,a){renderHTML(i,s,void 0,a);for(const rt in s.attrs)i.setAttribute(camelCaseAttributes.has(rt)?rt:camelToDash(rt),s.attrs[rt])}function scrapeMotionValuesFromProps$1(i,s,o){var a;const{style:rt}=i,et={};for(const ot in rt)(isMotionValue(rt[ot])||s.style&&isMotionValue(s.style[ot])||isForcedMotionValue(ot,i)||((a=o==null?void 0:o.getValue(ot))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(et[ot]=rt[ot]);return o&&rt&&typeof rt.willChange=="string"&&(o.applyWillChange=!1),et}function scrapeMotionValuesFromProps(i,s,o){const a=scrapeMotionValuesFromProps$1(i,s,o);for(const rt in i)if(isMotionValue(i[rt])||isMotionValue(s[rt])){const et=transformPropOrder.indexOf(rt)!==-1?"attr"+rt.charAt(0).toUpperCase()+rt.substring(1):rt;a[et]=i[rt]}return a}function getValueState(i){const s=[{},{}];return i==null||i.values.forEach((o,a)=>{s[0][a]=o.get(),s[1][a]=o.getVelocity()}),s}function resolveVariantFromProps(i,s,o,a){if(typeof s=="function"){const[rt,et]=getValueState(a);s=s(o!==void 0?o:i.custom,rt,et)}if(typeof s=="string"&&(s=i.variants&&i.variants[s]),typeof s=="function"){const[rt,et]=getValueState(a);s=s(o!==void 0?o:i.custom,rt,et)}return s}function useConstant(i){const s=reactExports.useRef(null);return s.current===null&&(s.current=i()),s.current}const isKeyframesTarget=i=>Array.isArray(i),isCustomValue=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function resolveMotionValue(i){const s=isMotionValue(i)?i.get():i;return isCustomValue(s)?s.toValue():s}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function getWillChangeName(i){if(transformProps.has(i))return"transform";if(acceleratedValues.has(i))return camelToDash(i)}function addUniqueItem(i,s){i.indexOf(s)===-1&&i.push(s)}function removeItem(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}function makeState({applyWillChange:i=!1,scrapeMotionValuesFromProps:s,createRenderState:o,onMount:a},rt,et,ot,at){const nt={latestValues:makeLatestValues(rt,et,ot,at?!1:i,s),renderState:o()};return a&&(nt.mount=it=>a(rt,it,nt)),nt}const makeUseVisualState=i=>(s,o)=>{const a=reactExports.useContext(MotionContext),rt=reactExports.useContext(PresenceContext),et=()=>makeState(i,s,a,rt,o);return o?et():useConstant(et)};function addWillChange(i,s){const o=getWillChangeName(s);o&&addUniqueItem(i,o)}function forEachDefinition(i,s,o){const a=Array.isArray(s)?s:[s];for(let rt=0;rt<a.length;rt++){const et=resolveVariantFromProps(i,a[rt]);if(et){const{transitionEnd:ot,transition:at,...nt}=et;o(nt,ot)}}}function makeLatestValues(i,s,o,a,rt){var et;const ot={},at=[],nt=a&&((et=i.style)===null||et===void 0?void 0:et.willChange)===void 0,it=rt(i,{});for(const ct in it)ot[ct]=resolveMotionValue(it[ct]);let{initial:j,animate:_}=i;const $=isControllingVariants(i),tt=isVariantNode(i);s&&tt&&!$&&i.inherit!==!1&&(j===void 0&&(j=s.initial),_===void 0&&(_=s.animate));let st=o?o.initial===!1:!1;st=st||j===!1;const lt=st?_:j;return lt&&typeof lt!="boolean"&&!isAnimationControls(lt)&&forEachDefinition(i,lt,(ct,ht)=>{for(const ut in ct){let pt=ct[ut];if(Array.isArray(pt)){const mt=st?pt.length-1:0;pt=pt[mt]}pt!==null&&(ot[ut]=pt)}for(const ut in ht)ot[ut]=ht[ut]}),nt&&(_&&j!==!1&&!isAnimationControls(_)&&forEachDefinition(i,_,ct=>{for(const ht in ct)addWillChange(at,ht)}),at.length&&(ot.willChange=at.join(","))),ot}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,s,{renderState:o,latestValues:a})=>{frame.read(()=>{try{o.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(o,a,isSVGTag(s.tagName),i.transformTemplate),renderSVG(s,o)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({applyWillChange:!0,scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(i,{forwardMotionProps:s=!1},o,a){return{...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:o,useRender:createUseRender(s),createVisualElement:a,Component:i}}function addDomEvent(i,s,o,a={passive:!0}){return i.addEventListener(s,o,a),()=>i.removeEventListener(s,o)}const isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,s="page"){return{point:{x:i[`${s}X`],y:i[`${s}Y`]}}}const addPointerInfo=i=>s=>isPrimaryPointer(s)&&i(s,extractEventInfo(s));function addPointerEvent(i,s,o,a){return addDomEvent(i,s,addPointerInfo(o),a)}const combineFunctions=(i,s)=>o=>s(i(o)),pipe=(...i)=>i.reduce(combineFunctions);function createLock(i){let s=null;return()=>{const o=()=>{s=null};return s===null?(s=i,o):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let s=!1;if(i==="y")s=globalVerticalLock();else if(i==="x")s=globalHorizontalLock();else{const o=globalHorizontalLock(),a=globalVerticalLock();o&&a?s=()=>{o(),a()}:(o&&o(),a&&a())}return s}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}function addHoverEvent(i,s){const o=s?"pointerenter":"pointerleave",a=s?"onHoverStart":"onHoverEnd",rt=(et,ot)=>{if(et.pointerType==="touch"||isDragActive())return;const at=i.getProps();i.animationState&&at.whileHover&&i.animationState.setActive("whileHover",s);const nt=at[a];nt&&frame.postRender(()=>nt(et,ot))};return addPointerEvent(i.current,o,rt,{passive:!i.getProps()[a]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(i,s)=>s?i===s?!0:isNodeOrChild(i,s.parentElement):!1;function fireSyntheticPointerEvent(i,s){if(!s)return;const o=new PointerEvent("pointer"+i);s(o,extractEventInfo(o))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$1,this.removeEndListeners=noop$1,this.removeAccessibleListeners=noop$1,this.startPointerPress=(s,o)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),et=addPointerEvent(window,"pointerup",(at,nt)=>{if(!this.checkPressEnd())return;const{onTap:it,onTapCancel:j,globalTapTarget:_}=this.node.getProps(),$=!_&&!isNodeOrChild(this.node.current,at.target)?j:it;$&&frame.update(()=>$(at,nt))},{passive:!(a.onTap||a.onPointerUp)}),ot=addPointerEvent(window,"pointercancel",(at,nt)=>this.cancelPress(at,nt),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=pipe(et,ot),this.startPress(s,o)},this.startAccessiblePress=()=>{const s=et=>{if(et.key!=="Enter"||this.isPressing)return;const ot=at=>{at.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(nt,it)=>{const{onTap:j}=this.node.getProps();j&&frame.postRender(()=>j(nt,it))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",ot),fireSyntheticPointerEvent("down",(at,nt)=>{this.startPress(at,nt)})},o=addDomEvent(this.node.current,"keydown",s),a=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(et,ot)=>this.cancelPress(et,ot))},rt=addDomEvent(this.node.current,"blur",a);this.removeAccessibleListeners=pipe(o,rt)}}startPress(s,o){this.isPressing=!0;const{onTapStart:a,whileTap:rt}=this.node.getProps();rt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&frame.postRender(()=>a(s,o))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(s,o){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&frame.postRender(()=>a(s,o))}mount(){const s=this.node.getProps(),o=addPointerEvent(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),a=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(o,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const s=observerCallbacks.get(i.target);s&&s(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...s}){const o=i||document;observers.has(o)||observers.set(o,{});const a=observers.get(o),rt=JSON.stringify(s);return a[rt]||(a[rt]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...s})),a[rt]}function observeIntersection(i,s,o){const a=initIntersectionObserver(s);return observerCallbacks.set(i,o),a.observe(i),()=>{observerCallbacks.delete(i),a.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:o,margin:a,amount:rt="some",once:et}=s,ot={root:o?o.current:void 0,rootMargin:a,threshold:typeof rt=="number"?rt:thresholdNames[rt]},at=nt=>{const{isIntersecting:it}=nt;if(this.isInView===it||(this.isInView=it,et&&!it&&this.hasEnteredView))return;it&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",it);const{onViewportEnter:j,onViewportLeave:_}=this.node.getProps(),$=it?j:_;$&&$(nt)};return observeIntersection(this.node.current,ot,at)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:o}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,o))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:s={}}={}){return o=>i[o]!==s[o]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(i,s){if(!Array.isArray(s))return!1;const o=s.length;if(o!==i.length)return!1;for(let a=0;a<o;a++)if(s[a]!==i[a])return!1;return!0}function resolveVariant(i,s,o){const a=i.getProps();return resolveVariantFromProps(a,s,o!==void 0?o:a.custom,i)}const secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:i,delay:s,delayChildren:o,staggerChildren:a,staggerDirection:rt,repeat:et,repeatType:ot,repeatDelay:at,from:nt,elapsed:it,...j}){return!!Object.keys(j).length}function getValueTransition(i,s){return i[s]||i.default||i}const isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:s,repeatType:o="loop"},a){const rt=i.filter(isNotNull),et=s&&o!=="loop"&&s%2===1?0:rt.length-1;return!et||a===void 0?rt[et]:a}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}const isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const s=splitCSSVariableRegex.exec(i);if(!s)return[,];const[,o,a,rt]=s;return[`--${o??a}`,rt]}function getVariableValue(i,s,o=1){const[a,rt]=parseCSSVariable(i);if(!a)return;const et=window.getComputedStyle(s).getPropertyValue(a);if(et){const ot=et.trim();return isNumericalString(ot)?parseFloat(ot):ot}return isCSSVariableToken(rt)?getVariableValue(rt,s,o+1):rt}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=i=>i===number||i===px,getPosFromMatrix=(i,s)=>parseFloat(i.split(", ")[s]),getTranslateFromMatrix=(i,s)=>(o,{transform:a})=>{if(a==="none"||!a)return 0;const rt=a.match(/^matrix3d\((.+)\)$/u);if(rt)return getPosFromMatrix(rt[1],s);{const et=a.match(/^matrix\((.+)\)$/u);return et?getPosFromMatrix(et[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const s=[];return nonTranslationalTransformKeys.forEach(o=>{const a=i.getValue(o);a!==void 0&&(s.push([o,a.get()]),a.set(o.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:i},{paddingLeft:s="0",paddingRight:o="0"})=>i.max-i.min-parseFloat(s)-parseFloat(o),height:({y:i},{paddingTop:s="0",paddingBottom:o="0"})=>i.max-i.min-parseFloat(s)-parseFloat(o),top:(i,{top:s})=>parseFloat(s),left:(i,{left:s})=>parseFloat(s),bottom:({y:i},{top:s})=>parseFloat(s)+(i.max-i.min),right:({x:i},{left:s})=>parseFloat(s)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=i=>s=>s.test(i),auto={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const i=Array.from(toResolve).filter(a=>a.needsMeasurement),s=new Set(i.map(a=>a.element)),o=new Map;s.forEach(a=>{const rt=removeNonTranslationalTransform(a);rt.length&&(o.set(a,rt),a.render())}),i.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const rt=o.get(a);rt&&rt.forEach(([et,ot])=>{var at;(at=a.getValue(et))===null||at===void 0||at.set(ot)})}),i.forEach(a=>a.measureEndState()),i.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,o,a,rt,et,ot=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=o,this.name=a,this.motionValue=rt,this.element=et,this.isAsync=ot}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:o,element:a,motionValue:rt}=this;for(let et=0;et<s.length;et++)if(s[et]===null)if(et===0){const ot=rt==null?void 0:rt.get(),at=s[s.length-1];if(ot!==void 0)s[0]=ot;else if(a&&o){const nt=a.readValue(o,at);nt!=null&&(s[0]=nt)}s[0]===void 0&&(s[0]=at),rt&&ot===void 0&&rt.set(s[0])}else s[et]=s[et-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(i,s)=>o=>!!(isString$1(o)&&singleColorRegex.test(o)&&o.startsWith(i)||s&&!isNullish(o)&&Object.prototype.hasOwnProperty.call(o,s)),splitColor=(i,s,o)=>a=>{if(!isString$1(a))return a;const[rt,et,ot,at]=a.match(floatRegex);return{[i]:parseFloat(rt),[s]:parseFloat(et),[o]:parseFloat(ot),alpha:at!==void 0?parseFloat(at):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:s,blue:o,alpha:a=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(o)+", "+sanitize(alpha.transform(a))+")"};function parseHex(i){let s="",o="",a="",rt="";return i.length>5?(s=i.substring(1,3),o=i.substring(3,5),a=i.substring(5,7),rt=i.substring(7,9)):(s=i.substring(1,2),o=i.substring(2,3),a=i.substring(3,4),rt=i.substring(4,5),s+=s,o+=o,a+=a,rt+=rt),{red:parseInt(s,16),green:parseInt(o,16),blue:parseInt(a,16),alpha:rt?parseInt(rt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:s,lightness:o,alpha:a=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(o))+", "+sanitize(alpha.transform(a))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>isString$1(i)?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)};function test(i){var s,o;return isNaN(i)&&isString$1(i)&&(((s=i.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((o=i.match(colorRegex))===null||o===void 0?void 0:o.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const s=i.toString(),o=[],a={color:[],number:[],var:[]},rt=[];let et=0;const at=s.replace(complexRegex,nt=>(color.test(nt)?(a.color.push(et),rt.push(COLOR_TOKEN),o.push(color.parse(nt))):nt.startsWith(VAR_FUNCTION_TOKEN)?(a.var.push(et),rt.push(VAR_TOKEN),o.push(nt)):(a.number.push(et),rt.push(NUMBER_TOKEN),o.push(parseFloat(nt))),++et,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:o,split:at,indexes:a,types:rt}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:s,types:o}=analyseComplexValue(i),a=s.length;return rt=>{let et="";for(let ot=0;ot<a;ot++)if(et+=s[ot],rt[ot]!==void 0){const at=o[ot];at===NUMBER_TOKEN?et+=sanitize(rt[ot]):at===COLOR_TOKEN?et+=color.transform(rt[ot]):et+=rt[ot]}return et}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const s=parseComplexValue(i);return createTransformer(i)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[s,o]=i.slice(0,-1).split("(");if(s==="drop-shadow")return i;const[a]=o.match(floatRegex)||[];if(!a)return i;const rt=o.replace(a,"");let et=maxDefaults.has(s)?1:0;return a!==o&&(et*=100),s+"("+et+rt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:i=>{const s=i.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):i}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,s){let o=getDefaultValueType(i);return o!==filter$1&&(o=complex),o.getAnimatableNone?o.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(i,s,o){let a=0,rt;for(;a<i.length&&!rt;){const et=i[a];typeof et=="string"&&!invalidTemplates.has(et)&&analyseComplexValue(et).values.length&&(rt=i[a]),a++}if(rt&&o)for(const et of s)i[et]=getAnimatableNone(o,rt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(s,o,a,rt){super(s,o,a,rt,rt==null?void 0:rt.owner,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:o,name:a}=this;if(!o.current)return;super.readKeyframes();for(let nt=0;nt<s.length;nt++){let it=s[nt];if(typeof it=="string"&&(it=it.trim(),isCSSVariableToken(it))){const j=getVariableValue(it,o.current);j!==void 0&&(s[nt]=j),nt===s.length-1&&(this.finalKeyframe=it)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(a)||s.length!==2)return;const[rt,et]=s,ot=findDimensionValueType(rt),at=findDimensionValueType(et);if(ot!==at)if(isNumOrPxType(ot)&&isNumOrPxType(at))for(let nt=0;nt<s.length;nt++){const it=s[nt];typeof it=="string"&&(s[nt]=parseFloat(it))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:o}=this,a=[];for(let rt=0;rt<s.length;rt++)isNone(s[rt])&&a.push(rt);a.length&&makeNoneKeyframesAnimatable(s,a,o)}measureInitialState(){const{element:s,unresolvedKeyframes:o,name:a}=this;if(!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[a](s.measureViewportBox(),window.getComputedStyle(s.current)),o[0]=this.measuredOrigin;const rt=o[o.length-1];rt!==void 0&&s.getValue(a,rt).jump(rt,!1)}measureEndState(){var s;const{element:o,name:a,unresolvedKeyframes:rt}=this;if(!o.current)return;const et=o.getValue(a);et&&et.jump(this.measuredOrigin,!1);const ot=rt.length-1,at=rt[ot];rt[ot]=positionalValues[a](o.measureViewportBox(),window.getComputedStyle(o.current)),at!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=at),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([nt,it])=>{o.getValue(nt).set(it)}),this.resolveNoneKeyframes()}}function memo(i){let s;return()=>(s===void 0&&(s=i()),s)}const isAnimatable=(i,s)=>s==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const s=i[0];if(i.length===1)return!0;for(let o=0;o<i.length;o++)if(i[o]!==s)return!0}function canAnimate(i,s,o,a){const rt=i[0];if(rt===null)return!1;if(s==="display"||s==="visibility")return!0;const et=i[i.length-1],ot=isAnimatable(rt,s),at=isAnimatable(et,s);return!ot||!at?!1:hasKeyframesChanged(i)||o==="spring"&&a}class BaseAnimation{constructor({autoplay:s=!0,delay:o=0,type:a="keyframes",repeat:rt=0,repeatDelay:et=0,repeatType:ot="loop",...at}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:s,delay:o,type:a,repeat:rt,repeatDelay:et,repeatType:ot,...at},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,o){this.hasAttemptedResolve=!0;const{name:a,type:rt,velocity:et,delay:ot,onComplete:at,onUpdate:nt,isGenerator:it}=this.options;if(!it&&!canAnimate(s,a,rt,et))if(ot)this.options.duration=0;else{nt==null||nt(getFinalKeyframe(s,this.options,o)),at==null||at(),this.resolveFinishedPromise();return}const j=this.initPlayback(s,o);j!==!1&&(this._resolved={keyframes:s,finalKeyframe:o,...j},this.onPostResolved())}onPostResolved(){}then(s,o){return this.currentFinishedPromise.then(s,o)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}function velocityPerSecond(i,s){return s?i*(1e3/s):0}const velocitySampleDuration=5;function calcGeneratorVelocity(i,s,o){const a=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(o-i(a),s-a)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:s=.25,velocity:o=0,mass:a=1}){let rt,et,ot=1-s;ot=clamp(minDamping,maxDamping,ot),i=clamp(minDuration,maxDuration$1,millisecondsToSeconds(i)),ot<1?(rt=it=>{const j=it*ot,_=j*i,$=j-o,tt=calcAngularFreq(it,ot),st=Math.exp(-_);return safeMin-$/tt*st},et=it=>{const _=it*ot*i,$=_*o+o,tt=Math.pow(ot,2)*Math.pow(it,2)*i,st=Math.exp(-_),lt=calcAngularFreq(Math.pow(it,2),ot);return(-rt(it)+safeMin>0?-1:1)*(($-tt)*st)/lt}):(rt=it=>{const j=Math.exp(-it*i),_=(it-o)*i+1;return-safeMin+j*_},et=it=>{const j=Math.exp(-it*i),_=(o-it)*(i*i);return j*_});const at=5/i,nt=approximateRoot(rt,et,at);if(i=secondsToMilliseconds(i),isNaN(nt))return{stiffness:100,damping:10,duration:i};{const it=Math.pow(nt,2)*a;return{stiffness:it,damping:ot*2*Math.sqrt(a*it),duration:i}}}const rootIterations=12;function approximateRoot(i,s,o){let a=o;for(let rt=1;rt<rootIterations;rt++)a=a-i(a)/s(a);return a}function calcAngularFreq(i,s){return i*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,s){return s.some(o=>i[o]!==void 0)}function getSpringOptions(i){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const o=findSpring(i);s={...s,...o,mass:1},s.isResolvedFromDuration=!0}return s}function spring({keyframes:i,restDelta:s,restSpeed:o,...a}){const rt=i[0],et=i[i.length-1],ot={done:!1,value:rt},{stiffness:at,damping:nt,mass:it,duration:j,velocity:_,isResolvedFromDuration:$}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),tt=_||0,st=nt/(2*Math.sqrt(at*it)),lt=et-rt,ct=millisecondsToSeconds(Math.sqrt(at/it)),ht=Math.abs(lt)<5;o||(o=ht?.01:2),s||(s=ht?.005:.5);let ut;if(st<1){const pt=calcAngularFreq(ct,st);ut=mt=>{const vt=Math.exp(-st*ct*mt);return et-vt*((tt+st*ct*lt)/pt*Math.sin(pt*mt)+lt*Math.cos(pt*mt))}}else if(st===1)ut=pt=>et-Math.exp(-ct*pt)*(lt+(tt+ct*lt)*pt);else{const pt=ct*Math.sqrt(st*st-1);ut=mt=>{const vt=Math.exp(-st*ct*mt),dt=Math.min(pt*mt,300);return et-vt*((tt+st*ct*lt)*Math.sinh(dt)+pt*lt*Math.cosh(dt))/pt}}return{calculatedDuration:$&&j||null,next:pt=>{const mt=ut(pt);if($)ot.done=pt>=j;else{let vt=tt;pt!==0&&(st<1?vt=calcGeneratorVelocity(ut,pt,mt):vt=0);const dt=Math.abs(vt)<=o,St=Math.abs(et-mt)<=s;ot.done=dt&&St}return ot.value=ot.done?et:mt,ot}}}function inertia({keyframes:i,velocity:s=0,power:o=.8,timeConstant:a=325,bounceDamping:rt=10,bounceStiffness:et=500,modifyTarget:ot,min:at,max:nt,restDelta:it=.5,restSpeed:j}){const _=i[0],$={done:!1,value:_},tt=yt=>at!==void 0&&yt<at||nt!==void 0&&yt>nt,st=yt=>at===void 0?nt:nt===void 0||Math.abs(at-yt)<Math.abs(nt-yt)?at:nt;let lt=o*s;const ct=_+lt,ht=ot===void 0?ct:ot(ct);ht!==ct&&(lt=ht-_);const ut=yt=>-lt*Math.exp(-yt/a),pt=yt=>ht+ut(yt),mt=yt=>{const gt=ut(yt),Et=pt(yt);$.done=Math.abs(gt)<=it,$.value=$.done?ht:Et};let vt,dt;const St=yt=>{tt($.value)&&(vt=yt,dt=spring({keyframes:[$.value,st($.value)],velocity:calcGeneratorVelocity(pt,yt,$.value),damping:rt,stiffness:et,restDelta:it,restSpeed:j}))};return St(0),{calculatedDuration:null,next:yt=>{let gt=!1;return!dt&&vt===void 0&&(gt=!0,mt(yt),St(yt)),vt!==void 0&&yt>=vt?dt.next(yt-vt):(!gt&&mt(yt),$)}}}const calcBezier=(i,s,o)=>(((1-3*o+3*s)*i+(3*o-6*s))*i+3*s)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,s,o,a,rt){let et,ot,at=0;do ot=s+(o-s)/2,et=calcBezier(ot,a,rt)-i,et>0?o=ot:s=ot;while(Math.abs(et)>subdivisionPrecision&&++at<subdivisionMaxIterations);return ot}function cubicBezier(i,s,o,a){if(i===s&&o===a)return noop$1;const rt=et=>binarySubdivide(et,0,1,i,o);return et=>et===0||et===1?et:calcBezier(rt(et),s,a)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",mirrorEasing=i=>s=>s<=.5?i(2*s)/2:(2-i(2*(1-s)))/2,reverseEasing=i=>s=>1-i(1-s),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(Array.isArray(i)){invariant(i.length===4);const[s,o,a,rt]=i;return cubicBezier(s,o,a,rt)}else if(typeof i=="string")return invariant(easingLookup[i]!==void 0),easingLookup[i];return i},progress=(i,s,o)=>{const a=s-i;return a===0?1:(o-i)/a},mixNumber$1=(i,s,o)=>i+(s-i)*o;function hueToRgb(i,s,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?i+(s-i)*6*o:o<1/2?s:o<2/3?i+(s-i)*(2/3-o)*6:i}function hslaToRgba({hue:i,saturation:s,lightness:o,alpha:a}){i/=360,s/=100,o/=100;let rt=0,et=0,ot=0;if(!s)rt=et=ot=o;else{const at=o<.5?o*(1+s):o+s-o*s,nt=2*o-at;rt=hueToRgb(nt,at,i+1/3),et=hueToRgb(nt,at,i),ot=hueToRgb(nt,at,i-1/3)}return{red:Math.round(rt*255),green:Math.round(et*255),blue:Math.round(ot*255),alpha:a}}function mixImmediate(i,s){return o=>o>0?s:i}const mixLinearColor=(i,s,o)=>{const a=i*i,rt=o*(s*s-a)+a;return rt<0?0:Math.sqrt(rt)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(s=>s.test(i));function asRGBA(i){const s=getColorType(i);if(!s)return!1;let o=s.parse(i);return s===hsla&&(o=hslaToRgba(o)),o}const mixColor=(i,s)=>{const o=asRGBA(i),a=asRGBA(s);if(!o||!a)return mixImmediate(i,s);const rt={...o};return et=>(rt.red=mixLinearColor(o.red,a.red,et),rt.green=mixLinearColor(o.green,a.green,et),rt.blue=mixLinearColor(o.blue,a.blue,et),rt.alpha=mixNumber$1(o.alpha,a.alpha,et),rgba.transform(rt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(i,s){return invisibleValues.has(i)?o=>o<=0?i:s:o=>o>=1?s:i}function mixNumber(i,s){return o=>mixNumber$1(i,s,o)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,s){const o=[...i],a=o.length,rt=i.map((et,ot)=>getMixer(et)(et,s[ot]));return et=>{for(let ot=0;ot<a;ot++)o[ot]=rt[ot](et);return o}}function mixObject(i,s){const o={...i,...s},a={};for(const rt in o)i[rt]!==void 0&&s[rt]!==void 0&&(a[rt]=getMixer(i[rt])(i[rt],s[rt]));return rt=>{for(const et in a)o[et]=a[et](rt);return o}}function matchOrder(i,s){var o;const a=[],rt={color:0,var:0,number:0};for(let et=0;et<s.values.length;et++){const ot=s.types[et],at=i.indexes[ot][rt[ot]],nt=(o=i.values[at])!==null&&o!==void 0?o:0;a[et]=nt,rt[ot]++}return a}const mixComplex=(i,s)=>{const o=complex.createTransformer(s),a=analyseComplexValue(i),rt=analyseComplexValue(s);return a.indexes.var.length===rt.indexes.var.length&&a.indexes.color.length===rt.indexes.color.length&&a.indexes.number.length>=rt.indexes.number.length?invisibleValues.has(i)&&!rt.values.length||invisibleValues.has(s)&&!a.values.length?mixVisibility(i,s):pipe(mixArray(matchOrder(a,rt),rt.values),o):mixImmediate(i,s)};function mix(i,s,o){return typeof i=="number"&&typeof s=="number"&&typeof o=="number"?mixNumber$1(i,s,o):getMixer(i)(i,s)}function createMixers(i,s,o){const a=[],rt=o||mix,et=i.length-1;for(let ot=0;ot<et;ot++){let at=rt(i[ot],i[ot+1]);if(s){const nt=Array.isArray(s)?s[ot]||noop$1:s;at=pipe(nt,at)}a.push(at)}return a}function interpolate(i,s,{clamp:o=!0,ease:a,mixer:rt}={}){const et=i.length;if(invariant(et===s.length),et===1)return()=>s[0];if(et===2&&i[0]===i[1])return()=>s[1];i[0]>i[et-1]&&(i=[...i].reverse(),s=[...s].reverse());const ot=createMixers(s,a,rt),at=ot.length,nt=it=>{let j=0;if(at>1)for(;j<i.length-2&&!(it<i[j+1]);j++);const _=progress(i[j],i[j+1],it);return ot[j](_)};return o?it=>nt(clamp(i[0],i[et-1],it)):nt}function fillOffset(i,s){const o=i[i.length-1];for(let a=1;a<=s;a++){const rt=progress(0,s,a);i.push(mixNumber$1(o,1,rt))}}function defaultOffset(i){const s=[0];return fillOffset(s,i.length-1),s}function convertOffsetToTimes(i,s){return i.map(o=>o*s)}function defaultEasing(i,s){return i.map(()=>s||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:s,times:o,ease:a="easeInOut"}){const rt=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),et={done:!1,value:s[0]},ot=convertOffsetToTimes(o&&o.length===s.length?o:defaultOffset(s),i),at=interpolate(ot,s,{ease:Array.isArray(rt)?rt:defaultEasing(s,rt)});return{calculatedDuration:i,next:nt=>(et.value=at(nt),et.done=nt>=i,et)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let s=0;const o=50;let a=i.next(s);for(;!a.done&&s<maxGeneratorDuration;)s+=o,a=i.next(s);return s>=maxGeneratorDuration?1/0:s}const frameloopDriver=i=>{const s=({timestamp:o})=>i(o);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=i=>i/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:s=KeyframeResolver,...o}){super(o),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:at}=this.options;at&&at()};const{name:a,motionValue:rt,keyframes:et}=this.options,ot=(at,nt)=>this.onKeyframesResolved(at,nt);a&&rt&&rt.owner?this.resolver=rt.owner.resolveKeyframes(et,ot,a,rt):this.resolver=new s(et,ot,a,rt),this.resolver.scheduleResolve()}initPlayback(s){const{type:o="keyframes",repeat:a=0,repeatDelay:rt=0,repeatType:et,velocity:ot=0}=this.options,at=generators[o]||keyframes;let nt,it;at!==keyframes&&typeof s[0]!="number"&&(nt=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const j=at({...this.options,keyframes:s});et==="mirror"&&(it=at({...this.options,keyframes:[...s].reverse(),velocity:-ot})),j.calculatedDuration===null&&(j.calculatedDuration=calcGeneratorDuration(j));const{calculatedDuration:_}=j,$=_+rt,tt=$*(a+1)-rt;return{generator:j,mirroredGenerator:it,mapPercentToKeyframes:nt,calculatedDuration:_,resolvedDuration:$,totalDuration:tt}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,o=!1){const{resolved:a}=this;if(!a){const{keyframes:yt}=this.options;return{done:!0,value:yt[yt.length-1]}}const{finalKeyframe:rt,generator:et,mirroredGenerator:ot,mapPercentToKeyframes:at,keyframes:nt,calculatedDuration:it,totalDuration:j,resolvedDuration:_}=a;if(this.startTime===null)return et.next(0);const{delay:$,repeat:tt,repeatType:st,repeatDelay:lt,onUpdate:ct}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-j/this.speed,this.startTime)),o?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const ht=this.currentTime-$*(this.speed>=0?1:-1),ut=this.speed>=0?ht<0:ht>j;this.currentTime=Math.max(ht,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let pt=this.currentTime,mt=et;if(tt){const yt=Math.min(this.currentTime,j)/_;let gt=Math.floor(yt),Et=yt%1;!Et&&yt>=1&&(Et=1),Et===1&&gt--,gt=Math.min(gt,tt+1),!!(gt%2)&&(st==="reverse"?(Et=1-Et,lt&&(Et-=lt/_)):st==="mirror"&&(mt=ot)),pt=clamp(0,1,Et)*_}const vt=ut?{done:!1,value:nt[0]}:mt.next(pt);at&&(vt.value=at(vt.value));let{done:dt}=vt;!ut&&it!==null&&(dt=this.speed>=0?this.currentTime>=j:this.currentTime<=0);const St=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return St&&rt!==void 0&&(vt.value=getFinalKeyframe(nt,this.options,rt)),ct&&ct(vt.value),St&&this.finish(),vt}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const o=this.playbackSpeed!==s;this.playbackSpeed=s,o&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:o}=this.options;this.driver||(this.driver=s(rt=>this.tick(rt))),o&&o();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=a),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number";function isWaapiSupportedEasing(i){return!!(!i||typeof i=="string"&&i in supportedWaapiEasing||isBezierDefinition(i)||Array.isArray(i)&&i.every(isWaapiSupportedEasing))}const cubicBezierAsString=([i,s,o,a])=>`cubic-bezier(${i}, ${s}, ${o}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(i){return mapEasingToNativeEasing(i)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(i){if(i)return isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[i]}function animateStyle(i,s,o,{delay:a=0,duration:rt=300,repeat:et=0,repeatType:ot="loop",ease:at,times:nt}={}){const it={[s]:o};nt&&(it.offset=nt);const j=mapEasingToNativeEasing(at);return Array.isArray(j)&&(it.easing=j),i.animate(it,{delay:a,duration:rt,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:et+1,direction:ot==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(i){return i.type==="spring"||!isWaapiSupportedEasing(i.ease)}function pregenerateKeyframes(i,s){const o=new MainThreadAnimation({...s,keyframes:i,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:i[0]};const rt=[];let et=0;for(;!a.done&&et<maxDuration;)a=o.sample(et),rt.push(a.value),et+=sampleDelta;return{times:void 0,keyframes:rt,duration:et-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:o,motionValue:a,keyframes:rt}=this.options;this.resolver=new DOMKeyframesResolver(rt,(et,ot)=>this.onKeyframesResolved(et,ot),o,a),this.resolver.scheduleResolve()}initPlayback(s,o){var a;let{duration:rt=300,times:et,ease:ot,type:at,motionValue:nt,name:it}=this.options;if(!(!((a=nt.owner)===null||a===void 0)&&a.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:_,onUpdate:$,motionValue:tt,...st}=this.options,lt=pregenerateKeyframes(s,st);s=lt.keyframes,s.length===1&&(s[1]=s[0]),rt=lt.duration,et=lt.times,ot=lt.ease,at="keyframes"}const j=animateStyle(nt.owner.current,it,s,{...this.options,duration:rt,times:et,ease:ot});return j.startTime=time.now(),this.pendingTimeline?(j.timeline=this.pendingTimeline,this.pendingTimeline=void 0):j.onfinish=()=>{const{onComplete:_}=this.options;nt.set(getFinalKeyframe(s,this.options,o)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:j,duration:rt,times:et,type:at,ease:ot,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:o}=s;return millisecondsToSeconds(o)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:o}=s;return millisecondsToSeconds(o.currentTime||0)}set time(s){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:o}=s;return o.playbackRate}set speed(s){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:o}=s;return o.playState}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:o}=this;if(!o)return noop$1;const{animation:a}=o;a.timeline=s,a.onfinish=null}return noop$1}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.playState==="finished"&&this.updateFinishedPromise(),o.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:o,keyframes:a,duration:rt,type:et,ease:ot,times:at}=s;if(o.playState==="idle"||o.playState==="finished")return;if(this.time){const{motionValue:it,onUpdate:j,onComplete:_,...$}=this.options,tt=new MainThreadAnimation({...$,keyframes:a,duration:rt,type:et,ease:ot,times:at,isGenerator:!0}),st=secondsToMilliseconds(this.time);it.setWithVelocity(tt.sample(st-sampleDelta).value,tt.sample(st).value,sampleDelta)}const{onStop:nt}=this.options;nt&&nt(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:o,name:a,repeatDelay:rt,repeatType:et,damping:ot,type:at}=s;return supportsWaapi()&&a&&acceleratedValues.has(a)&&o&&o.owner&&o.owner.current instanceof HTMLElement&&!o.owner.getProps().onUpdate&&!rt&&et!=="mirror"&&ot!==0&&at!=="inertia"}}function observeTimeline(i,s){let o;const a=()=>{const{currentTime:rt}=s,ot=(rt===null?0:rt.value)/100;o!==ot&&i(ot),o=ot};return frame.update(a,!0),()=>cancelFrame(a)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}then(s,o){return Promise.all(this.animations).then(s).catch(o)}getAll(s){return this.animations[0][s]}setAll(s,o){for(let a=0;a<this.animations.length;a++)this.animations[a][s]=o}attachTimeline(s){const o=this.animations.map(a=>{if(supportsScrollTimeline()&&a.attachTimeline)a.attachTimeline(s);else return a.pause(),observeTimeline(rt=>{a.time=a.duration*rt},s)});return()=>{o.forEach((a,rt)=>{a&&a(),this.animations[rt].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get duration(){let s=0;for(let o=0;o<this.animations.length;o++)s=Math.max(s,this.animations[o].duration);return s}runAll(s){this.animations.forEach(o=>o[s]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(i,s,o,a={},rt,et,ot)=>at=>{const nt=getValueTransition(a,i)||{},it=nt.delay||a.delay||0;let{elapsed:j=0}=a;j=j-secondsToMilliseconds(it);let _={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:s.getVelocity(),...nt,delay:-j,onUpdate:tt=>{s.set(tt),nt.onUpdate&&nt.onUpdate(tt)},onComplete:()=>{at(),nt.onComplete&&nt.onComplete(),ot&&ot()},onStop:ot,name:i,motionValue:s,element:et?void 0:rt};isTransitionDefined(nt)||(_={..._,...getDefaultTransition(i,_)}),_.duration&&(_.duration=secondsToMilliseconds(_.duration)),_.repeatDelay&&(_.repeatDelay=secondsToMilliseconds(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let $=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&($=!0)),$&&!et&&s.get()!==void 0){const tt=getFinalKeyframe(_.keyframes,nt);if(tt!==void 0)return frame.update(()=>{_.onUpdate(tt),_.onComplete()}),new GroupPlaybackControls([])}return!et&&AcceleratedAnimation.supports(_)?new AcceleratedAnimation(_):new MainThreadAnimation(_)};class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,o,a){const rt=this.subscriptions.length;if(rt)if(rt===1)this.subscriptions[0](s,o,a);else for(let et=0;et<rt;et++){const ot=this.subscriptions[et];ot&&ot(s,o,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(s,o={}){this.version="11.3.18",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,rt=!0)=>{const et=time.now();this.updatedAt!==et&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),rt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=o.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,o){this.events[s]||(this.events[s]=new SubscriptionManager);const a=this.events[s].add(o);return s==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,o){this.passiveEffect=s,this.stopPassiveEffect=o}set(s,o=!0){!o||!this.passiveEffect?this.updateAndNotify(s,o):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,o,a){this.set(o),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,o=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(s){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=s(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,s){return new MotionValue(i,s)}function setMotionValue(i,s,o){i.hasValue(s)?i.getValue(s).set(o):i.addValue(s,motionValue(o))}function setTarget(i,s){const o=resolveVariant(i,s);let{transitionEnd:a={},transition:rt={},...et}=o||{};et={...et,...a};for(const ot in et){const at=resolveFinalValueInKeyframes(et[ot]);setMotionValue(i,ot,at)}}function getOptimisedAppearId(i){return i.getProps()[optimizedAppearDataAttribute]}class WillChangeMotionValue extends MotionValue{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(s){const o=getWillChangeName(s);if(!o)return;const a=this.counts.get(o)||0;this.counts.set(o,a+1),a===0&&(this.output.push(o),this.update());let rt=!1;return()=>{if(rt)return;rt=!0;const et=this.counts.get(o)-1;this.counts.set(o,et),et===0&&(removeItem(this.output,o),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function addValueToWillChange(i,s){var o;if(!i.applyWillChange)return;let a=i.getValue("willChange");if(!a&&!(!((o=i.props.style)===null||o===void 0)&&o.willChange)&&(a=new WillChangeMotionValue("auto"),i.addValue("willChange",a)),isWillChangeMotionValue(a))return a.add(s)}function shouldBlockAnimation({protectedKeys:i,needsAnimating:s},o){const a=i.hasOwnProperty(o)&&s[o]!==!0;return s[o]=!1,a}function animateTarget(i,s,{delay:o=0,transitionOverride:a,type:rt}={}){var et;let{transition:ot=i.getDefaultTransition(),transitionEnd:at,...nt}=s;a&&(ot=a);const it=[],j=rt&&i.animationState&&i.animationState.getState()[rt];for(const _ in nt){const $=i.getValue(_,(et=i.latestValues[_])!==null&&et!==void 0?et:null),tt=nt[_];if(tt===void 0||j&&shouldBlockAnimation(j,_))continue;const st={delay:o,elapsed:0,...getValueTransition(ot||{},_)};let lt=!1;if(window.HandoffAppearAnimations){const ht=getOptimisedAppearId(i);if(ht){const ut=window.HandoffAppearAnimations(ht,_,$,frame);ut!==null&&(st.elapsed=ut,lt=!0)}}$.start(animateMotionValue(_,$,tt,i.shouldReduceMotion&&transformProps.has(_)?{type:!1}:st,i,lt,addValueToWillChange(i,_)));const ct=$.animation;ct&&it.push(ct)}return at&&Promise.all(it).then(()=>{frame.update(()=>{at&&setTarget(i,at)})}),it}function animateVariant(i,s,o={}){var a;const rt=resolveVariant(i,s,o.type==="exit"?(a=i.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:et=i.getDefaultTransition()||{}}=rt||{};o.transitionOverride&&(et=o.transitionOverride);const ot=rt?()=>Promise.all(animateTarget(i,rt,o)):()=>Promise.resolve(),at=i.variantChildren&&i.variantChildren.size?(it=0)=>{const{delayChildren:j=0,staggerChildren:_,staggerDirection:$}=et;return animateChildren(i,s,j+it,_,$,o)}:()=>Promise.resolve(),{when:nt}=et;if(nt){const[it,j]=nt==="beforeChildren"?[ot,at]:[at,ot];return it().then(()=>j())}else return Promise.all([ot(),at(o.delay)])}function animateChildren(i,s,o=0,a=0,rt=1,et){const ot=[],at=(i.variantChildren.size-1)*a,nt=rt===1?(it=0)=>it*a:(it=0)=>at-it*a;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((it,j)=>{it.notify("AnimationStart",s),ot.push(animateVariant(it,s,{...et,delay:o+nt(j)}).then(()=>it.notify("AnimationComplete",s)))}),Promise.all(ot)}function sortByTreeOrder(i,s){return i.sortNodePosition(s)}function animateVisualElement(i,s,o={}){i.notify("AnimationStart",s);let a;if(Array.isArray(s)){const rt=s.map(et=>animateVariant(i,et,o));a=Promise.all(rt)}else if(typeof s=="string")a=animateVariant(i,s,o);else{const rt=typeof s=="function"?resolveVariant(i,s,o.custom):s;a=Promise.all(animateTarget(i,rt,o))}return a.then(()=>{i.notify("AnimationComplete",s)})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return s=>Promise.all(s.map(({animation:o,options:a})=>animateVisualElement(i,o,a)))}function createAnimationState(i){let s=animateList(i),o=createState(),a=!0;const rt=nt=>(it,j)=>{var _;const $=resolveVariant(i,j,nt==="exit"?(_=i.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if($){const{transition:tt,transitionEnd:st,...lt}=$;it={...it,...lt,...st}}return it};function et(nt){s=nt(i)}function ot(nt){const it=i.getProps(),j=i.getVariantContext(!0)||{},_=[],$=new Set;let tt={},st=1/0;for(let ct=0;ct<numAnimationTypes;ct++){const ht=reversePriorityOrder[ct],ut=o[ht],pt=it[ht]!==void 0?it[ht]:j[ht],mt=isVariantLabel(pt),vt=ht===nt?ut.isActive:null;vt===!1&&(st=ct);let dt=pt===j[ht]&&pt!==it[ht]&&mt;if(dt&&a&&i.manuallyAnimateOnMount&&(dt=!1),ut.protectedKeys={...tt},!ut.isActive&&vt===null||!pt&&!ut.prevProp||isAnimationControls(pt)||typeof pt=="boolean")continue;let yt=checkVariantsDidChange(ut.prevProp,pt)||ht===nt&&ut.isActive&&!dt&&mt||ct>st&&mt,gt=!1;const Et=Array.isArray(pt)?pt:[pt];let _t=Et.reduce(rt(ht),{});vt===!1&&(_t={});const{prevResolvedValues:kt={}}=ut,Ct={...kt,..._t},Tt=At=>{yt=!0,$.has(At)&&(gt=!0,$.delete(At)),ut.needsAnimating[At]=!0;const It=i.getValue(At);It&&(It.liveStyle=!1)};for(const At in Ct){const It=_t[At],Ot=kt[At];if(tt.hasOwnProperty(At))continue;let Mt=!1;isKeyframesTarget(It)&&isKeyframesTarget(Ot)?Mt=!shallowCompare(It,Ot):Mt=It!==Ot,Mt?It!=null?Tt(At):$.add(At):It!==void 0&&$.has(At)?Tt(At):ut.protectedKeys[At]=!0}ut.prevProp=pt,ut.prevResolvedValues=_t,ut.isActive&&(tt={...tt,..._t}),a&&i.blockInitialAnimation&&(yt=!1),yt&&(!dt||gt)&&_.push(...Et.map(At=>({animation:At,options:{type:ht}})))}if($.size){const ct={};$.forEach(ht=>{const ut=i.getBaseTarget(ht),pt=i.getValue(ht);pt&&(pt.liveStyle=!0),ct[ht]=ut??null}),_.push({animation:ct})}let lt=!!_.length;return a&&(it.initial===!1||it.initial===it.animate)&&!i.manuallyAnimateOnMount&&(lt=!1),a=!1,lt?s(_):Promise.resolve()}function at(nt,it){var j;if(o[nt].isActive===it)return Promise.resolve();(j=i.variantChildren)===null||j===void 0||j.forEach($=>{var tt;return(tt=$.animationState)===null||tt===void 0?void 0:tt.setActive(nt,it)}),o[nt].isActive=it;const _=ot(nt);for(const $ in o)o[$].protectedKeys={};return _}return{animateChanges:ot,setActive:at,setAnimateFunction:et,getState:()=>o,reset:()=>{o=createState(),a=!0}}}function checkVariantsDidChange(i,s){return typeof s=="string"?s!==i:Array.isArray(s)?!shallowCompare(s,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:o}=this.node.prevProps||{};s!==o&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:o}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const rt=this.node.animationState.setActive("exit",!s);o&&!s&&rt.then(()=>o(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(i,s)=>Math.abs(i-s);function distance2D(i,s){const o=distance(i.x,s.x),a=distance(i.y,s.y);return Math.sqrt(o**2+a**2)}class PanSession{constructor(s,o,{transformPagePoint:a,contextWindow:rt,dragSnapToOrigin:et=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=getPanInfo(this.lastMoveEventInfo,this.history),$=this.startEvent!==null,tt=distance2D(_.offset,{x:0,y:0})>=3;if(!$&&!tt)return;const{point:st}=_,{timestamp:lt}=frameData;this.history.push({...st,timestamp:lt});const{onStart:ct,onMove:ht}=this.handlers;$||(ct&&ct(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),ht&&ht(this.lastMoveEvent,_)},this.handlePointerMove=(_,$)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint($,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(_,$)=>{this.end();const{onEnd:tt,onSessionEnd:st,resumeAnimation:lt}=this.handlers;if(this.dragSnapToOrigin&&lt&&lt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ct=getPanInfo(_.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($,this.transformPagePoint),this.history);this.startEvent&&tt&&tt(_,ct),st&&st(_,ct)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=et,this.handlers=o,this.transformPagePoint=a,this.contextWindow=rt||window;const ot=extractEventInfo(s),at=transformPoint(ot,this.transformPagePoint),{point:nt}=at,{timestamp:it}=frameData;this.history=[{...nt,timestamp:it}];const{onSessionStart:j}=o;j&&j(s,getPanInfo(at,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,s){return s?{point:s(i.point)}:i}function subtractPoint(i,s){return{x:i.x-s.x,y:i.y-s.y}}function getPanInfo({point:i},s){return{point:i,delta:subtractPoint(i,lastDevicePoint(s)),offset:subtractPoint(i,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,s){if(i.length<2)return{x:0,y:0};let o=i.length-1,a=null;const rt=lastDevicePoint(i);for(;o>=0&&(a=i[o],!(rt.timestamp-a.timestamp>secondsToMilliseconds(s)));)o--;if(!a)return{x:0,y:0};const et=millisecondsToSeconds(rt.timestamp-a.timestamp);if(et===0)return{x:0,y:0};const ot={x:(rt.x-a.x)/et,y:(rt.y-a.y)/et};return ot.x===1/0&&(ot.x=0),ot.y===1/0&&(ot.y=0),ot}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(i){return i.max-i.min}function isNear(i,s,o){return Math.abs(i-s)<=o}function calcAxisDelta(i,s,o,a=.5){i.origin=a,i.originPoint=mixNumber$1(s.min,s.max,i.origin),i.scale=calcLength(o)/calcLength(s),i.translate=mixNumber$1(o.min,o.max,i.origin)-i.originPoint,(i.scale>=SCALE_MIN&&i.scale<=SCALE_MAX||isNaN(i.scale))&&(i.scale=1),(i.translate>=TRANSLATE_MIN&&i.translate<=TRANSLATE_MAX||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,s,o,a){calcAxisDelta(i.x,s.x,o.x,a?a.originX:void 0),calcAxisDelta(i.y,s.y,o.y,a?a.originY:void 0)}function calcRelativeAxis(i,s,o){i.min=o.min+s.min,i.max=i.min+calcLength(s)}function calcRelativeBox(i,s,o){calcRelativeAxis(i.x,s.x,o.x),calcRelativeAxis(i.y,s.y,o.y)}function calcRelativeAxisPosition(i,s,o){i.min=s.min-o.min,i.max=i.min+calcLength(s)}function calcRelativePosition(i,s,o){calcRelativeAxisPosition(i.x,s.x,o.x),calcRelativeAxisPosition(i.y,s.y,o.y)}function applyConstraints(i,{min:s,max:o},a){return s!==void 0&&i<s?i=a?mixNumber$1(s,i,a.min):Math.max(i,s):o!==void 0&&i>o&&(i=a?mixNumber$1(o,i,a.max):Math.min(i,o)),i}function calcRelativeAxisConstraints(i,s,o){return{min:s!==void 0?i.min+s:void 0,max:o!==void 0?i.max+o-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:s,left:o,bottom:a,right:rt}){return{x:calcRelativeAxisConstraints(i.x,o,rt),y:calcRelativeAxisConstraints(i.y,s,a)}}function calcViewportAxisConstraints(i,s){let o=s.min-i.min,a=s.max-i.max;return s.max-s.min<i.max-i.min&&([o,a]=[a,o]),{min:o,max:a}}function calcViewportConstraints(i,s){return{x:calcViewportAxisConstraints(i.x,s.x),y:calcViewportAxisConstraints(i.y,s.y)}}function calcOrigin(i,s){let o=.5;const a=calcLength(i),rt=calcLength(s);return rt>a?o=progress(s.min,s.max-a,i.min):a>rt&&(o=progress(i.min,i.max-rt,s.min)),clamp(0,1,o)}function rebaseAxisConstraints(i,s){const o={};return s.min!==void 0&&(o.min=s.min-i.min),s.max!==void 0&&(o.max=s.max-i.min),o}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,s,o){return{min:resolvePointElastic(i,s),max:resolvePointElastic(i,o)}}function resolvePointElastic(i,s){return typeof i=="number"?i:i[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:s,right:o,bottom:a}){return{x:{min:s,max:o},y:{min:i,max:a}}}function convertBoxToBoundingBox({x:i,y:s}){return{top:s.min,right:i.max,bottom:s.max,left:i.min}}function transformBoxPoints(i,s){if(!s)return i;const o=s({x:i.left,y:i.top}),a=s({x:i.right,y:i.bottom});return{top:o.y,left:o.x,bottom:a.y,right:a.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:s,scaleY:o}){return!isIdentityScale(i)||!isIdentityScale(s)||!isIdentityScale(o)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,s,o){const a=i-o,rt=s*a;return o+rt}function applyPointDelta(i,s,o,a,rt){return rt!==void 0&&(i=scalePoint(i,rt,a)),scalePoint(i,o,a)+s}function applyAxisDelta(i,s=0,o=1,a,rt){i.min=applyPointDelta(i.min,s,o,a,rt),i.max=applyPointDelta(i.max,s,o,a,rt)}function applyBoxDelta(i,{x:s,y:o}){applyAxisDelta(i.x,s.translate,s.scale,s.originPoint),applyAxisDelta(i.y,o.translate,o.scale,o.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(i,s,o,a=!1){const rt=o.length;if(!rt)return;s.x=s.y=1;let et,ot;for(let at=0;at<rt;at++){et=o[at],ot=et.projectionDelta;const{visualElement:nt}=et.options;nt&&nt.props.style&&nt.props.style.display==="contents"||(a&&et.options.layoutScroll&&et.scroll&&et!==et.root&&transformBox(i,{x:-et.scroll.offset.x,y:-et.scroll.offset.y}),ot&&(s.x*=ot.x.scale,s.y*=ot.y.scale,applyBoxDelta(i,ot)),a&&hasTransform(et.latestValues)&&transformBox(i,et.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(i,s){i.min=i.min+s,i.max=i.max+s}function transformAxis(i,s,o,a,rt=.5){const et=mixNumber$1(i.min,i.max,rt);applyAxisDelta(i,s,o,et,a)}function transformBox(i,s){transformAxis(i.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(i.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(i,s){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),s))}function measurePageBox(i,s,o){const a=measureViewportBox(i,o),{scroll:rt}=s;return rt&&(translateAxis(a.x,rt.offset.x),translateAxis(a.y,rt.offset.y)),a}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:o=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const rt=j=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(extractEventInfo(j,"page").point)},et=(j,_)=>{var $;const{drag:tt,dragPropagation:st,onDragStart:lt}=this.getProps();if(tt&&!st&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(tt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ht=>{let ut=this.getAxisMotionValue(ht).get()||0;if(percent.test(ut)){const{projection:pt}=this.visualElement;if(pt&&pt.layout){const mt=pt.layout.layoutBox[ht];mt&&(ut=calcLength(mt)*(parseFloat(ut)/100))}}this.originPoint[ht]=ut}),lt&&frame.postRender(()=>lt(j,_)),($=this.removeWillChange)===null||$===void 0||$.call(this),this.removeWillChange=addValueToWillChange(this.visualElement,"transform");const{animationState:ct}=this.visualElement;ct&&ct.setActive("whileDrag",!0)},ot=(j,_)=>{const{dragPropagation:$,dragDirectionLock:tt,onDirectionLock:st,onDrag:lt}=this.getProps();if(!$&&!this.openGlobalLock)return;const{offset:ct}=_;if(tt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ct),this.currentDirection!==null&&st&&st(this.currentDirection);return}this.updateAxis("x",_.point,ct),this.updateAxis("y",_.point,ct),this.visualElement.render(),lt&&lt(j,_)},at=(j,_)=>this.stop(j,_),nt=()=>eachAxis(j=>{var _;return this.getAnimationState(j)==="paused"&&((_=this.getAxisMotionValue(j).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:it}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:rt,onStart:et,onMove:ot,onSessionEnd:at,resumeAnimation:nt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:it,contextWindow:getContextWindow(this.visualElement)})}stop(s,o){var a;(a=this.removeWillChange)===null||a===void 0||a.call(this);const rt=this.isDragging;if(this.cancel(),!rt)return;const{velocity:et}=o;this.startAnimation(et);const{onDragEnd:ot}=this.getProps();ot&&frame.postRender(()=>ot(s,o))}cancel(){this.isDragging=!1;const{projection:s,animationState:o}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(s,o,a){const{drag:rt}=this.getProps();if(!a||!shouldDrag(s,rt,this.currentDirection))return;const et=this.getAxisMotionValue(s);let ot=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(ot=applyConstraints(ot,this.constraints[s],this.elastic[s])),et.set(ot)}resolveConstraints(){var s;const{dragConstraints:o,dragElastic:a}=this.getProps(),rt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,et=this.constraints;o&&isRefObject(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&rt?this.constraints=calcRelativeConstraints(rt.layoutBox,o):this.constraints=!1,this.elastic=resolveDragElastic(a),et!==this.constraints&&rt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(ot=>{this.constraints!==!1&&this.getAxisMotionValue(ot)&&(this.constraints[ot]=rebaseAxisConstraints(rt.layoutBox[ot],this.constraints[ot]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:o}=this.getProps();if(!s||!isRefObject(s))return!1;const a=s.current,{projection:rt}=this.visualElement;if(!rt||!rt.layout)return!1;const et=measurePageBox(a,rt.root,this.visualElement.getTransformPagePoint());let ot=calcViewportConstraints(rt.layout.layoutBox,et);if(o){const at=o(convertBoxToBoundingBox(ot));this.hasMutatedConstraints=!!at,at&&(ot=convertBoundingBoxToBox(at))}return ot}startAnimation(s){const{drag:o,dragMomentum:a,dragElastic:rt,dragTransition:et,dragSnapToOrigin:ot,onDragTransitionEnd:at}=this.getProps(),nt=this.constraints||{},it=eachAxis(j=>{if(!shouldDrag(j,o,this.currentDirection))return;let _=nt&&nt[j]||{};ot&&(_={min:0,max:0});const $=rt?200:1e6,tt=rt?40:1e7,st={type:"inertia",velocity:a?s[j]:0,bounceStiffness:$,bounceDamping:tt,timeConstant:750,restDelta:1,restSpeed:10,...et,..._};return this.startAxisValueAnimation(j,st)});return Promise.all(it).then(at)}startAxisValueAnimation(s,o){const a=this.getAxisMotionValue(s);return a.start(animateMotionValue(s,a,0,o,this.visualElement,!1,addValueToWillChange(this.visualElement,s)))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var o;return(o=this.getAxisMotionValue(s).animation)===null||o===void 0?void 0:o.pause()})}getAnimationState(s){var o;return(o=this.getAxisMotionValue(s).animation)===null||o===void 0?void 0:o.state}getAxisMotionValue(s){const o=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),rt=a[o];return rt||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(o=>{const{drag:a}=this.getProps();if(!shouldDrag(o,a,this.currentDirection))return;const{projection:rt}=this.visualElement,et=this.getAxisMotionValue(o);if(rt&&rt.layout){const{min:ot,max:at}=rt.layout.layoutBox[o];et.set(s[o]-mixNumber$1(ot,at,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:o}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(o)||!a||!this.constraints)return;this.stopAnimation();const rt={x:0,y:0};eachAxis(ot=>{const at=this.getAxisMotionValue(ot);if(at&&this.constraints!==!1){const nt=at.get();rt[ot]=calcOrigin({min:nt,max:nt},this.constraints[ot])}});const{transformTemplate:et}=this.visualElement.getProps();this.visualElement.current.style.transform=et?et({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(ot=>{if(!shouldDrag(ot,s,null))return;const at=this.getAxisMotionValue(ot),{min:nt,max:it}=this.constraints[ot];at.set(mixNumber$1(nt,it,rt[ot]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,o=addPointerEvent(s,"pointerdown",nt=>{const{drag:it,dragListener:j=!0}=this.getProps();it&&j&&this.start(nt)}),a=()=>{const{dragConstraints:nt}=this.getProps();isRefObject(nt)&&nt.current&&(this.constraints=this.resolveRefConstraints())},{projection:rt}=this.visualElement,et=rt.addEventListener("measure",a);rt&&!rt.layout&&(rt.root&&rt.root.updateScroll(),rt.updateLayout()),frame.read(a);const ot=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),at=rt.addEventListener("didUpdate",({delta:nt,hasLayoutChanged:it})=>{this.isDragging&&it&&(eachAxis(j=>{const _=this.getAxisMotionValue(j);_&&(this.originPoint[j]+=nt[j].translate,_.set(_.get()+nt[j].translate))}),this.visualElement.render())});return()=>{ot(),o(),et(),at&&at()}}getProps(){const s=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:a=!1,dragPropagation:rt=!1,dragConstraints:et=!1,dragElastic:ot=defaultElastic,dragMomentum:at=!0}=s;return{...s,drag:o,dragDirectionLock:a,dragPropagation:rt,dragConstraints:et,dragElastic:ot,dragMomentum:at}}}function shouldDrag(i,s,o){return(s===!0||s===i)&&(o===null||o===i)}function getCurrentDirection(i,s=10){let o=null;return Math.abs(i.y)>s?o="y":Math.abs(i.x)>s&&(o="x"),o}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(s,o)=>{i&&frame.postRender(()=>i(s,o))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:o,onPan:a,onPanEnd:rt}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(o),onMove:a,onEnd:(et,ot)=>{delete this.session,rt&&frame.postRender(()=>rt(et,ot))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:a}=i,rt=reactExports.useId();reactExports.useEffect(()=>a(rt),[]);const et=reactExports.useCallback(()=>o&&o(rt),[rt,o]);return!s&&o?[!1,et]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,s){return s.max===s.min?0:i/(s.max-s.min)*100}const correctBorderRadius={correct:(i,s)=>{if(!s.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const o=pixelsToPercent(i,s.target.x),a=pixelsToPercent(i,s.target.y);return`${o}% ${a}%`}},correctBoxShadow={correct:(i,{treeScale:s,projectionDelta:o})=>{const a=i,rt=complex.parse(i);if(rt.length>5)return a;const et=complex.createTransformer(i),ot=typeof rt[0]!="number"?1:0,at=o.x.scale*s.x,nt=o.y.scale*s.y;rt[0+ot]/=at,rt[1+ot]/=nt;const it=mixNumber$1(at,nt,.5);return typeof rt[2+ot]=="number"&&(rt[2+ot]/=it),typeof rt[3+ot]=="number"&&(rt[3+ot]/=it),et(rt)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:a,layoutId:rt}=this.props,{projection:et}=s;addScaleCorrector(defaultScaleCorrectors),et&&(o.group&&o.group.add(et),a&&a.register&&rt&&a.register(et),et.root.didUpdate(),et.addEventListener("animationComplete",()=>{this.safeToRemove()}),et.setOptions({...et.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:o,visualElement:a,drag:rt,isPresent:et}=this.props,ot=a.projection;return ot&&(ot.isPresent=et,rt||s.layoutDependency!==o||o===void 0?ot.willUpdate():this.safeToRemove(),s.isPresent!==et&&(et?ot.promote():ot.relegate()||frame.postRender(()=>{const at=ot.getStack();(!at||!at.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:a}=this.props,{projection:rt}=s;rt&&(rt.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(rt),a&&a.deregister&&a.deregister(rt))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(i){const[s,o]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...i,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:o})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,s,o,a,rt,et){rt?(i.opacity=mixNumber$1(0,o.opacity!==void 0?o.opacity:1,easeCrossfadeIn(a)),i.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(a))):et&&(i.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,o.opacity!==void 0?o.opacity:1,a));for(let ot=0;ot<numBorders;ot++){const at=`border${borders[ot]}Radius`;let nt=getRadius(s,at),it=getRadius(o,at);if(nt===void 0&&it===void 0)continue;nt||(nt=0),it||(it=0),nt===0||it===0||isPx(nt)===isPx(it)?(i[at]=Math.max(mixNumber$1(asNumber(nt),asNumber(it),a),0),(percent.test(it)||percent.test(nt))&&(i[at]+="%")):i[at]=it}(s.rotate||o.rotate)&&(i.rotate=mixNumber$1(s.rotate||0,o.rotate||0,a))}function getRadius(i,s){return i[s]!==void 0?i[s]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(i,s,o){return a=>a<i?0:a>s?1:o(progress(i,s,a))}function copyAxisInto(i,s){i.min=s.min,i.max=s.max}function copyBoxInto(i,s){copyAxisInto(i.x,s.x),copyAxisInto(i.y,s.y)}function copyAxisDeltaInto(i,s){i.translate=s.translate,i.scale=s.scale,i.originPoint=s.originPoint,i.origin=s.origin}function removePointDelta(i,s,o,a,rt){return i-=s,i=scalePoint(i,1/o,a),rt!==void 0&&(i=scalePoint(i,1/rt,a)),i}function removeAxisDelta(i,s=0,o=1,a=.5,rt,et=i,ot=i){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(ot.min,ot.max,s/100)-ot.min),typeof s!="number")return;let at=mixNumber$1(et.min,et.max,a);i===et&&(at-=s),i.min=removePointDelta(i.min,s,o,at,rt),i.max=removePointDelta(i.max,s,o,at,rt)}function removeAxisTransforms(i,s,[o,a,rt],et,ot){removeAxisDelta(i,s[o],s[a],s[rt],s.scale,et,ot)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,s,o,a){removeAxisTransforms(i.x,s,xKeys,o?o.x:void 0,a?a.x:void 0),removeAxisTransforms(i.y,s,yKeys,o?o.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function axisEquals(i,s){return i.min===s.min&&i.max===s.max}function boxEquals(i,s){return axisEquals(i.x,s.x)&&axisEquals(i.y,s.y)}function axisEqualsRounded(i,s){return Math.round(i.min)===Math.round(s.min)&&Math.round(i.max)===Math.round(s.max)}function boxEqualsRounded(i,s){return axisEqualsRounded(i.x,s.x)&&axisEqualsRounded(i.y,s.y)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}function axisDeltaEquals(i,s){return i.translate===s.translate&&i.scale===s.scale&&i.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(s){const o=this.members.findIndex(rt=>s===rt);if(o===0)return!1;let a;for(let rt=o;rt>=0;rt--){const et=this.members[rt];if(et.isPresent!==!1){a=et;break}}return a?(this.promote(a),!0):!1}promote(s,o){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,o&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:rt}=s.options;rt===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:o,resumingFrom:a}=s;o.onExitComplete&&o.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,s,o){let a="";const rt=i.x.translate/s.x,et=i.y.translate/s.y,ot=(o==null?void 0:o.z)||0;if((rt||et||ot)&&(a=`translate3d(${rt}px, ${et}px, ${ot}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),o){const{transformPerspective:it,rotate:j,rotateX:_,rotateY:$,skewX:tt,skewY:st}=o;it&&(a=`perspective(${it}px) ${a}`),j&&(a+=`rotate(${j}deg) `),_&&(a+=`rotateX(${_}deg) `),$&&(a+=`rotateY(${$}deg) `),tt&&(a+=`skewX(${tt}deg) `),st&&(a+=`skewY(${st}deg) `)}const at=i.x.scale*s.x,nt=i.y.scale*s.y;return(at!==1||nt!==1)&&(a+=`scale(${at}, ${nt})`),a||"none"}const compareByDepth=(i,s)=>i.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(i,s){const o=time.now(),a=({timestamp:rt})=>{const et=rt-o;et>=s&&(cancelFrame(a),i(et-s))};return frame.read(a,!0),()=>cancelFrame(a)}function isSVGElement(i){return i instanceof SVGElement&&i.tagName!=="svg"}function animateSingleValue(i,s,o){const a=isMotionValue(i)?i:motionValue(i);return a.start(animateMotionValue("",a,s,o)),a.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(i,s,o,a){const{latestValues:rt}=s;rt[i]&&(o[i]=rt[i],s.setStaticValue(i,0),a&&(a[i]=0))}function isOptimisedAppearTree(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return!1;const{visualElement:s}=i.options;return s?getOptimisedAppearId(s)?!0:i.parent&&!i.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(i.parent):!1:!1}function createProjectionNode({attachResizeListener:i,defaultParent:s,measureScroll:o,checkIsScrollRoot:a,resetTransform:rt}){return class{constructor(ot={},at=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=ot,this.root=at?at.root||at:this,this.path=at?[...at.path,at]:[],this.parent=at,this.depth=at?at.depth+1:0;for(let nt=0;nt<this.path.length;nt++)this.path[nt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(ot,at){return this.eventHandlers.has(ot)||this.eventHandlers.set(ot,new SubscriptionManager),this.eventHandlers.get(ot).add(at)}notifyListeners(ot,...at){const nt=this.eventHandlers.get(ot);nt&&nt.notify(...at)}hasListeners(ot){return this.eventHandlers.has(ot)}mount(ot,at=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(ot),this.instance=ot;const{layoutId:nt,layout:it,visualElement:j}=this.options;if(j&&!j.current&&j.mount(ot),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),at&&(it||nt)&&(this.isLayoutDirty=!0),i){let _;const $=()=>this.root.updateBlockedByResize=!1;i(ot,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=delay($,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}nt&&this.root.registerSharedNode(nt,this),this.options.animate!==!1&&j&&(nt||it)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:$,hasRelativeTargetChanged:tt,layout:st})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const lt=this.options.transition||j.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ct,onLayoutAnimationComplete:ht}=j.getProps(),ut=!this.targetLayout||!boxEqualsRounded(this.targetLayout,st)||tt,pt=!$&&tt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||pt||$&&(ut||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,pt);const mt={...getValueTransition(lt,"layout"),onPlay:ct,onComplete:ht};(j.shouldReduceMotion||this.options.layoutRoot)&&(mt.delay=0,mt.type=!1),this.startAnimation(mt)}else $||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=st})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const ot=this.getStack();ot&&ot.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:ot}=this.options;return ot&&ot.getProps().transformTemplate}willUpdate(ot=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const _=this.path[j];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:at,layout:nt}=this.options;if(at===void 0&&!nt)return;const it=this.getTransformTemplate();this.prevTransformTemplateValue=it?it(this.latestValues,""):void 0,this.updateSnapshot(),ot&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const at=time.now();frameData.delta=clamp(0,1e3/60,at-frameData.timestamp),frameData.timestamp=at,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let nt=0;nt<this.path.length;nt++)this.path[nt].updateScroll();const ot=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:at}=this.options;at&&at.notify("LayoutMeasure",this.layout.layoutBox,ot?ot.layoutBox:void 0)}updateScroll(ot="measure"){let at=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===ot&&(at=!1),at){const nt=a(this.instance);this.scroll={animationId:this.root.animationId,phase:ot,isRoot:nt,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:nt}}}resetTransform(){if(!rt)return;const ot=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,at=this.projectionDelta&&!isDeltaZero(this.projectionDelta),nt=this.getTransformTemplate(),it=nt?nt(this.latestValues,""):void 0,j=it!==this.prevTransformTemplateValue;ot&&(at||hasTransform(this.latestValues)||j)&&(rt(this.instance,it),this.shouldResetTransform=!1,this.scheduleRender())}measure(ot=!0){const at=this.measurePageBox();let nt=this.removeElementScroll(at);return ot&&(nt=this.removeTransform(nt)),roundBox(nt),{animationId:this.root.animationId,measuredBox:at,layoutBox:nt,latestValues:{},source:this.id}}measurePageBox(){var ot;const{visualElement:at}=this.options;if(!at)return createBox();const nt=at.measureViewportBox();if(!(((ot=this.scroll)===null||ot===void 0?void 0:ot.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:j}=this.root;j&&(translateAxis(nt.x,j.offset.x),translateAxis(nt.y,j.offset.y))}return nt}removeElementScroll(ot){var at;const nt=createBox();if(copyBoxInto(nt,ot),!((at=this.scroll)===null||at===void 0)&&at.wasRoot)return nt;for(let it=0;it<this.path.length;it++){const j=this.path[it],{scroll:_,options:$}=j;j!==this.root&&_&&$.layoutScroll&&(_.wasRoot&&copyBoxInto(nt,ot),translateAxis(nt.x,_.offset.x),translateAxis(nt.y,_.offset.y))}return nt}applyTransform(ot,at=!1){const nt=createBox();copyBoxInto(nt,ot);for(let it=0;it<this.path.length;it++){const j=this.path[it];!at&&j.options.layoutScroll&&j.scroll&&j!==j.root&&transformBox(nt,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),hasTransform(j.latestValues)&&transformBox(nt,j.latestValues)}return hasTransform(this.latestValues)&&transformBox(nt,this.latestValues),nt}removeTransform(ot){const at=createBox();copyBoxInto(at,ot);for(let nt=0;nt<this.path.length;nt++){const it=this.path[nt];if(!it.instance||!hasTransform(it.latestValues))continue;hasScale(it.latestValues)&&it.updateSnapshot();const j=createBox(),_=it.measurePageBox();copyBoxInto(j,_),removeBoxTransforms(at,it.latestValues,it.snapshot?it.snapshot.layoutBox:void 0,j)}return hasTransform(this.latestValues)&&removeBoxTransforms(at,this.latestValues),at}setTargetDelta(ot){this.targetDelta=ot,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(ot){this.options={...this.options,...ot,crossfade:ot.crossfade!==void 0?ot.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(ot=!1){var at;const nt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=nt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=nt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=nt.isSharedProjectionDirty);const it=!!this.resumingFrom||this!==nt;if(!(ot||it&&this.isSharedProjectionDirty||this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:$}=this.options;if(!(!this.layout||!(_||$))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const tt=this.getClosestProjectingParent();tt&&tt.layout&&this.animationProgress!==1?(this.relativeParent=tt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,tt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const tt=this.getClosestProjectingParent();tt&&!!tt.resumingFrom==!!this.resumingFrom&&!tt.options.layoutScroll&&tt.target&&this.animationProgress!==1?(this.relativeParent=tt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,tt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var ot;const at=this.getLead(),nt=!!this.resumingFrom||this!==at;let it=!0;if((this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty)&&(it=!1),nt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(it=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(it=!1),it)return;const{layout:j,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(j||_))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const $=this.treeScale.x,tt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,nt),at.layout&&!at.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(at.target=at.layout.layoutBox,at.targetWithTransforms=createBox());const{target:st}=at;if(!st){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,st,this.latestValues),(this.treeScale.x!==$||this.treeScale.y!==tt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",st)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(ot=!0){var at;if((at=this.options.visualElement)===null||at===void 0||at.scheduleRender(),ot){const nt=this.getStack();nt&&nt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(ot,at=!1){const nt=this.snapshot,it=nt?nt.latestValues:{},j={...this.latestValues},_=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!at;const $=createBox(),tt=nt?nt.source:void 0,st=this.layout?this.layout.source:void 0,lt=tt!==st,ct=this.getStack(),ht=!ct||ct.members.length<=1,ut=!!(lt&&!ht&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let pt;this.mixTargetDelta=mt=>{const vt=mt/1e3;mixAxisDelta(_.x,ot.x,vt),mixAxisDelta(_.y,ot.y,vt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$,vt),pt&&boxEquals(this.relativeTarget,pt)&&(this.isProjectionDirty=!1),pt||(pt=createBox()),copyBoxInto(pt,this.relativeTarget)),lt&&(this.animationValues=j,mixValues(j,it,this.latestValues,vt,ut,ht)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=vt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(ot){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...ot,onUpdate:at=>{this.mixTargetDelta(at),ot.onUpdate&&ot.onUpdate(at)},onComplete:()=>{ot.onComplete&&ot.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const ot=this.getStack();ot&&ot.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const ot=this.getLead();let{targetWithTransforms:at,target:nt,layout:it,latestValues:j}=ot;if(!(!at||!nt||!it)){if(this!==ot&&this.layout&&it&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,it.layoutBox)){nt=this.target||createBox();const _=calcLength(this.layout.layoutBox.x);nt.x.min=ot.target.x.min,nt.x.max=nt.x.min+_;const $=calcLength(this.layout.layoutBox.y);nt.y.min=ot.target.y.min,nt.y.max=nt.y.min+$}copyBoxInto(at,nt),transformBox(at,j),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,at,j)}}registerSharedNode(ot,at){this.sharedNodes.has(ot)||this.sharedNodes.set(ot,new NodeStack),this.sharedNodes.get(ot).add(at);const it=at.options.initialPromotionConfig;at.promote({transition:it?it.transition:void 0,preserveFollowOpacity:it&&it.shouldPreserveFollowOpacity?it.shouldPreserveFollowOpacity(at):void 0})}isLead(){const ot=this.getStack();return ot?ot.lead===this:!0}getLead(){var ot;const{layoutId:at}=this.options;return at?((ot=this.getStack())===null||ot===void 0?void 0:ot.lead)||this:this}getPrevLead(){var ot;const{layoutId:at}=this.options;return at?(ot=this.getStack())===null||ot===void 0?void 0:ot.prevLead:void 0}getStack(){const{layoutId:ot}=this.options;if(ot)return this.root.sharedNodes.get(ot)}promote({needsReset:ot,transition:at,preserveFollowOpacity:nt}={}){const it=this.getStack();it&&it.promote(this,nt),ot&&(this.projectionDelta=void 0,this.needsReset=!0),at&&this.setOptions({transition:at})}relegate(){const ot=this.getStack();return ot?ot.relegate(this):!1}resetSkewAndRotation(){const{visualElement:ot}=this.options;if(!ot)return;let at=!1;const{latestValues:nt}=ot;if((nt.z||nt.rotate||nt.rotateX||nt.rotateY||nt.rotateZ||nt.skewX||nt.skewY)&&(at=!0),!at)return;const it={};nt.z&&resetDistortingTransform("z",ot,it,this.animationValues);for(let j=0;j<transformAxes.length;j++)resetDistortingTransform(`rotate${transformAxes[j]}`,ot,it,this.animationValues),resetDistortingTransform(`skew${transformAxes[j]}`,ot,it,this.animationValues);ot.render();for(const j in it)ot.setStaticValue(j,it[j]),this.animationValues&&(this.animationValues[j]=it[j]);ot.scheduleRender()}getProjectionStyles(ot){var at,nt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const it={visibility:""},j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,it.opacity="",it.pointerEvents=resolveMotionValue(ot==null?void 0:ot.pointerEvents)||"",it.transform=j?j(this.latestValues,""):"none",it;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const lt={};return this.options.layoutId&&(lt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,lt.pointerEvents=resolveMotionValue(ot==null?void 0:ot.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(lt.transform=j?j({},""):"none",this.hasProjected=!1),lt}const $=_.animationValues||_.latestValues;this.applyTransformsToTarget(),it.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$),j&&(it.transform=j($,it.transform));const{x:tt,y:st}=this.projectionDelta;it.transformOrigin=`${tt.origin*100}% ${st.origin*100}% 0`,_.animationValues?it.opacity=_===this?(nt=(at=$.opacity)!==null&&at!==void 0?at:this.latestValues.opacity)!==null&&nt!==void 0?nt:1:this.preserveOpacity?this.latestValues.opacity:$.opacityExit:it.opacity=_===this?$.opacity!==void 0?$.opacity:"":$.opacityExit!==void 0?$.opacityExit:0;for(const lt in scaleCorrectors){if($[lt]===void 0)continue;const{correct:ct,applyTo:ht}=scaleCorrectors[lt],ut=it.transform==="none"?$[lt]:ct($[lt],_);if(ht){const pt=ht.length;for(let mt=0;mt<pt;mt++)it[ht[mt]]=ut}else it[lt]=ut}return this.options.layoutId&&(it.pointerEvents=_===this?resolveMotionValue(ot==null?void 0:ot.pointerEvents)||"":"none"),it}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(ot=>{var at;return(at=ot.currentAnimation)===null||at===void 0?void 0:at.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var s;const o=((s=i.resumeFrom)===null||s===void 0?void 0:s.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&o&&i.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:rt}=i.layout,{animationType:et}=i.options,ot=o.source!==i.layout.source;et==="size"?eachAxis(_=>{const $=ot?o.measuredBox[_]:o.layoutBox[_],tt=calcLength($);$.min=a[_].min,$.max=$.min+tt}):shouldAnimatePositionOnly(et,o.layoutBox,a)&&eachAxis(_=>{const $=ot?o.measuredBox[_]:o.layoutBox[_],tt=calcLength(a[_]);$.max=$.min+tt,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[_].max=i.relativeTarget[_].min+tt)});const at=createDelta();calcBoxDelta(at,a,o.layoutBox);const nt=createDelta();ot?calcBoxDelta(nt,i.applyTransform(rt,!0),o.measuredBox):calcBoxDelta(nt,a,o.layoutBox);const it=!isDeltaZero(at);let j=!1;if(!i.resumeFrom){const _=i.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:$,layout:tt}=_;if($&&tt){const st=createBox();calcRelativePosition(st,o.layoutBox,$.layoutBox);const lt=createBox();calcRelativePosition(lt,a,tt.layoutBox),boxEqualsRounded(st,lt)||(j=!0),_.options.layoutRoot&&(i.relativeTarget=lt,i.relativeTargetOrigin=st,i.relativeParent=_)}}}i.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:nt,layoutDelta:at,hasLayoutChanged:it,hasRelativeTargetChanged:j})}else if(i.isLead()){const{onExitComplete:a}=i.options;a&&a()}i.options.transition=void 0}function propagateDirtyNodes(i){isDebug&&metrics.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:s}=i.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetSkewAndRotation(i){i.resetSkewAndRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,s,o){i.translate=mixNumber$1(s.translate,0,o),i.scale=mixNumber$1(s.scale,1,o),i.origin=s.origin,i.originPoint=s.originPoint}function mixAxis(i,s,o,a){i.min=mixNumber$1(s.min,o.min,a),i.max=mixNumber$1(s.max,o.max,a)}function mixBox(i,s,o,a){mixAxis(i.x,s.x,o.x,a),mixAxis(i.y,s.y,o.y,a)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,s,o){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(o),.2)}function checkNodeWasScrollRoot(i){var s;return i!==i.root&&((s=i.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,s)=>addDomEvent(i,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,s)=>{i.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=i.matches;i.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,s,o){for(const a in s){const rt=s[a],et=o[a];if(isMotionValue(rt))i.addValue(a,rt);else if(isMotionValue(et))i.addValue(a,motionValue(rt,{owner:i}));else if(et!==rt)if(i.hasValue(a)){const ot=i.getValue(a);ot.liveStyle===!0?ot.jump(rt):ot.hasAnimated||ot.set(rt)}else{const ot=i.getStaticValue(a);i.addValue(a,motionValue(ot!==void 0?ot:rt,{owner:i}))}}for(const a in o)s[a]===void 0&&i.removeValue(a);return s}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps(s,o,a){return{}}constructor({parent:s,props:o,presenceContext:a,reducedMotionConfig:rt,blockInitialAnimation:et,visualState:ot},at={}){this.applyWillChange=!1,this.resolveKeyframes=($,tt,st,lt)=>new this.KeyframeResolver($,tt,st,lt,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,frame.render(this.render,!1,!0))};const{latestValues:nt,renderState:it}=ot;this.latestValues=nt,this.baseTarget={...nt},this.initialValues=o.initial?{...nt}:{},this.renderState=it,this.parent=s,this.props=o,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=rt,this.options=at,this.blockInitialAnimation=!!et,this.isControllingVariants=isControllingVariants(o),this.isVariantNode=isVariantNode(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:j,..._}=this.scrapeMotionValuesFromProps(o,{},this);for(const $ in _){const tt=_[$];nt[$]!==void 0&&isMotionValue(tt)&&tt.set(nt[$],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const o=this.features[s];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(s,o){const a=transformProps.has(s),rt=o.on("change",ot=>{this.latestValues[s]=ot,this.props.onUpdate&&frame.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),et=o.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{rt(),et(),o.owner&&o.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const o=featureDefinitions[s];if(!o)continue;const{isEnabled:a,Feature:rt}=o;if(!this.features[s]&&rt&&a(this.props)&&(this.features[s]=new rt(this)),this.features[s]){const et=this.features[s];et.isMounted?et.update():(et.mount(),et.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,o){this.latestValues[s]=o}update(s,o){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let a=0;a<propEventHandlers.length;a++){const rt=propEventHandlers[a];this.propEventSubscriptions[rt]&&(this.propEventSubscriptions[rt](),delete this.propEventSubscriptions[rt]);const et="on"+rt,ot=s[et];ot&&(this.propEventSubscriptions[rt]=this.on(rt,ot))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const o={};for(let a=0;a<numVariantProps;a++){const rt=variantProps[a],et=this.props[rt];(isVariantLabel(et)||et===!1)&&(o[rt]=et)}return o}addVariantChild(s){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(s),()=>o.variantChildren.delete(s)}addValue(s,o){const a=this.values.get(s);o!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,o),this.values.set(s,o),this.latestValues[s]=o.get())}removeValue(s){this.values.delete(s);const o=this.valueSubscriptions.get(s);o&&(o(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,o){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&o!==void 0&&(a=motionValue(o===null?void 0:o,{owner:this}),this.addValue(s,a)),a}readValue(s,o){var a;let rt=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options);return rt!=null&&(typeof rt=="string"&&(isNumericalString(rt)||isZeroValueString(rt))?rt=parseFloat(rt):!findValueType(rt)&&complex.test(o)&&(rt=getAnimatableNone(s,o)),this.setBaseTarget(s,isMotionValue(rt)?rt.get():rt)),isMotionValue(rt)?rt.get():rt}setBaseTarget(s,o){this.baseTarget[s]=o}getBaseTarget(s){var o;const{initial:a}=this.props;let rt;if(typeof a=="string"||typeof a=="object"){const ot=resolveVariantFromProps(this.props,a,(o=this.presenceContext)===null||o===void 0?void 0:o.custom);ot&&(rt=ot[s])}if(a&&rt!==void 0)return rt;const et=this.getBaseTargetFromProps(this.props,s);return et!==void 0&&!isMotionValue(et)?et:this.initialValues[s]!==void 0&&rt===void 0?void 0:this.baseTarget[s]}on(s,o){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(o)}notify(s,...o){this.events[s]&&this.events[s].notify(...o)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,o){return s.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(s,o){return s.style?s.style[o]:void 0}removeValueFromRenderState(s,{vars:o,style:a}){delete o[s],delete a[s]}}function getComputedStyle(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=renderHTML}readValueFromInstance(s,o){if(transformProps.has(o)){const a=getDefaultValueType(o);return a&&a.default||0}else{const a=getComputedStyle(s),rt=(isCSSVariableName(o)?a.getPropertyValue(o):a[o])||0;return typeof rt=="string"?rt.trim():rt}}measureInstanceViewportBox(s,{transformPagePoint:o}){return measureViewportBox(s,o)}build(s,o,a){buildHTMLStyles(s,o,a.transformTemplate)}scrapeMotionValuesFromProps(s,o,a){return scrapeMotionValuesFromProps$1(s,o,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,o){return s[o]}readValueFromInstance(s,o){if(transformProps.has(o)){const a=getDefaultValueType(o);return a&&a.default||0}return o=camelCaseAttributes.has(o)?o:camelToDash(o),s.getAttribute(o)}scrapeMotionValuesFromProps(s,o,a){return scrapeMotionValuesFromProps(s,o,a)}build(s,o,a){buildSVGAttrs(s,o,this.isSVGTag,a.transformTemplate)}renderInstance(s,o,a,rt){renderSVG(s,o,a,rt)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(i,s)=>isSVGComponent(i)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:i!==reactExports.Fragment}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((i,s)=>createDomMotionConfig(i,s,preloadedFeatures,createDomVisualElement));class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const o=this.props.childRef.current;if(o&&s.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=o.offsetHeight||0,a.width=o.offsetWidth||0,a.top=o.offsetTop,a.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:s}){const o=reactExports.useId(),a=reactExports.useRef(null),rt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:et}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:ot,height:at,top:nt,left:it}=rt.current;if(s||!a.current||!ot||!at)return;a.current.dataset.motionPopId=o;const j=document.createElement("style");return et&&(j.nonce=et),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${ot}px !important;
            height: ${at}px !important;
            top: ${nt}px !important;
            left: ${it}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:a,sizeRef:rt,children:reactExports.cloneElement(i,{ref:a})})}const PresenceChild=({children:i,initial:s,isPresent:o,onExitComplete:a,custom:rt,presenceAffectsLayout:et,mode:ot})=>{const at=useConstant(newChildrenMap),nt=reactExports.useId(),it=reactExports.useMemo(()=>({id:nt,initial:s,isPresent:o,custom:rt,onExitComplete:j=>{at.set(j,!0);for(const _ of at.values())if(!_)return;a&&a()},register:j=>(at.set(j,!1),()=>at.delete(j))}),et?[Math.random()]:[o]);return reactExports.useMemo(()=>{at.forEach((j,_)=>at.set(_,!1))},[o]),reactExports.useEffect(()=>{!o&&!at.size&&a&&a()},[o]),ot==="popLayout"&&(i=jsxRuntimeExports.jsx(PopChild,{isPresent:o,children:i})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:it,children:i})};function newChildrenMap(){return new Map}const getChildKey=i=>i.key||"";function onlyElements(i){const s=[];return reactExports.Children.forEach(i,o=>{reactExports.isValidElement(o)&&s.push(o)}),s}function arrayEquals(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o]!==s[o])return!1;return!0}const AnimatePresence=({children:i,exitBeforeEnter:s,custom:o,initial:a=!0,onExitComplete:rt,presenceAffectsLayout:et=!0,mode:ot="sync"})=>{const at=reactExports.useMemo(()=>onlyElements(i),[i]),nt=at.map(getChildKey),it=reactExports.useRef(!0),j=reactExports.useRef(at),_=useConstant(()=>new Map),[$,tt]=reactExports.useState(at),[st,lt]=reactExports.useState(at);useIsomorphicLayoutEffect$1(()=>{it.current=!1,j.current=at;for(let ut=0;ut<st.length;ut++){const pt=getChildKey(st[ut]);nt.includes(pt)?_.delete(pt):_.get(pt)!==!0&&_.set(pt,!1)}},[st,nt.length,nt.join("-")]);const ct=[];if(at!==$){let ut=[...at];for(let mt=0;mt<st.length;mt++){const vt=st[mt],dt=getChildKey(vt);nt.includes(dt)||(ut.splice(mt,0,vt),ct.push(vt))}ot==="wait"&&ct.length&&(ut=ct),ut=onlyElements(ut),!arrayEquals(ut.map(getChildKey),st.map(getChildKey))&&lt(ut),tt(at);return}const{forceRender:ht}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:st.map(ut=>{const pt=getChildKey(ut),mt=at===st||nt.includes(pt),vt=()=>{if(_.has(pt))_.set(pt,!0);else return;let dt=!0;_.forEach(St=>{St||(dt=!1)}),dt&&(ht==null||ht(),lt(j.current),rt&&rt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:mt,initial:!it.current||a?void 0:!1,custom:mt?void 0:o,presenceAffectsLayout:et,mode:ot,onExitComplete:mt?void 0:vt,children:ut},pt)})})};var toastMotionVariants={initial:i=>{const{position:s}=i,o=["top","bottom"].includes(s)?"y":"x";let a=["top-right","bottom-right"].includes(s)?1:-1;return s==="bottom"&&(a=1),{opacity:0,[o]:a*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(i=>{const{id:s,message:o,onCloseComplete:a,onRequestRemove:rt,requestClose:et=!1,position:ot="bottom",duration:at=5e3,containerStyle:nt,motionVariants:it=toastMotionVariants,toastSpacing:j="0.5rem"}=i,[_,$]=reactExports.useState(at),tt=useIsPresent();useUpdateEffect(()=>{tt||a==null||a()},[tt]),useUpdateEffect(()=>{$(at)},[at]);const st=()=>$(null),lt=()=>$(at),ct=()=>{tt&&rt()};reactExports.useEffect(()=>{tt&&et&&rt()},[tt,et,rt]),useTimeout(ct,_);const ht=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:j,...nt}),[nt,j]),ut=reactExports.useMemo(()=>getToastStyle(ot),[ot]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:it,initial:"initial",animate:"animate",exit:"exit",onHoverStart:st,onHoverEnd:lt,custom:{position:ot},style:ut,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:ht,children:runIfFn$2(o,{id:s,onClose:ct})})})});ToastComponent.displayName="ToastComponent";var fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,s)=>{const{as:o,viewBox:a,color:rt="currentColor",focusable:et=!1,children:ot,className:at,__css:nt,...it}=i,j=cx("chakra-icon",at),_=useStyleConfig("Icon",i),$={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:rt,...nt,..._},tt={ref:s,focusable:et,className:j,__css:$},st=a??fallbackIcon.viewBox;if(o&&typeof o!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:o,...tt,...it});const lt=ot??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:st,...tt,...it,children:lt})});Icon.displayName="Icon";function createIcon(i){const{viewBox:s="0 0 24 24",d:o,displayName:a,defaultProps:rt={}}=i,et=reactExports.Children.toArray(i.path),ot=forwardRef((at,nt)=>jsxRuntimeExports.jsx(Icon,{ref:nt,viewBox:s,...rt,...at,children:et.length?et:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:o})}));return ot.displayName=a,ot}function CheckIcon$1(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,s)=>{const o=useStyleConfig("Spinner",i),{label:a="Loading...",thickness:rt="2px",speed:et="0.45s",emptyColor:ot="transparent",className:at,...nt}=omitThemingProps(i),it=cx("chakra-spinner",at),j={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:rt,borderBottomColor:ot,borderLeftColor:ot,animation:`${spin} ${et} linear infinite`,...o};return jsxRuntimeExports.jsx(chakra.div,{ref:s,__css:j,className:it,...nt,children:a&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:a})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$2({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$2({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}var AlertDescription=forwardRef(function(s,o){const a=useAlertStyles(),{status:rt}=useAlertContext(),et={display:"inline",...a.description};return jsxRuntimeExports.jsx(chakra.div,{ref:o,"data-status":rt,...s,className:cx("chakra-alert__desc",s.className),__css:et})});AlertDescription.displayName="AlertDescription";function AlertIcon(i){const{status:s}=useAlertContext(),o=getStatusIcon(s),a=useAlertStyles(),rt=s==="loading"?a.spinner:a.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":s,...i,className:cx("chakra-alert__icon",i.className),__css:rt,children:i.children||jsxRuntimeExports.jsx(o,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(s,o){const a=useAlertStyles(),{status:rt}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:o,"data-status":rt,...s,className:cx("chakra-alert__title",s.className),__css:a.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function(s,o){var a;const{status:rt="info",addRole:et=!0,...ot}=omitThemingProps(s),at=(a=s.colorScheme)!=null?a:getStatusColorScheme(rt),nt=useMultiStyleConfig("Alert",{...s,colorScheme:at}),it={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...nt.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:rt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:nt,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":rt,role:et?"alert":void 0,ref:o,...ot,className:cx("chakra-alert",s.className),__css:it})})})});Alert.displayName="Alert";function CloseIcon(i){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(s,o){const a=useStyleConfig("CloseButton",s),{children:rt,isDisabled:et,__css:ot,...at}=omitThemingProps(s),nt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:o,disabled:et,__css:{...nt,...a,...ot},...at,children:rt||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState$1={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$1);function createStore$1(i){let s=i;const o=new Set,a=rt=>{s=rt(s),o.forEach(et=>et())};return{getState:()=>s,subscribe:rt=>(o.add(rt),()=>{a(()=>i),o.delete(rt)}),removeToast:(rt,et)=>{a(ot=>({...ot,[et]:ot[et].filter(at=>at.id!=rt)}))},notify:(rt,et)=>{const ot=createToast(rt,et),{position:at,id:nt}=ot;return a(it=>{var j,_;const tt=at.includes("top")?[ot,...(j=it[at])!=null?j:[]]:[...(_=it[at])!=null?_:[],ot];return{...it,[at]:tt}}),nt},update:(rt,et)=>{rt&&a(ot=>{const at={...ot},{position:nt,index:it}=findToast(at,rt);return nt&&it!==-1&&(at[nt][it]={...at[nt][it],...et,message:createRenderToast(et)}),at})},closeAll:({positions:rt}={})=>{a(et=>(rt??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((nt,it)=>(nt[it]=et[it].map(j=>({...j,requestClose:!0})),nt),{...et}))},close:rt=>{a(et=>{const ot=getToastPosition(et,rt);return ot?{...et,[ot]:et[ot].map(at=>at.id==rt?{...at,requestClose:!0}:at)}:et})},isActive:rt=>!!findToast(toastStore.getState(),rt).position}}var counter=0;function createToast(i,s={}){var o,a;counter+=1;const rt=(o=s.id)!=null?o:counter,et=(a=s.position)!=null?a:"bottom";return{id:rt,message:i,position:et,duration:s.duration,onCloseComplete:s.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(rt),et),status:s.status,requestClose:!1,containerStyle:s.containerStyle}}var Toast=i=>{const{status:s,variant:o="solid",id:a,title:rt,isClosable:et,onClose:ot,description:at,colorScheme:nt,icon:it}=i,j=a?{root:`toast-${a}`,title:`toast-${a}-title`,description:`toast-${a}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:s,variant:o,id:j==null?void 0:j.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:nt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:it}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[rt&&jsxRuntimeExports.jsx(AlertTitle,{id:j==null?void 0:j.title,children:rt}),at&&jsxRuntimeExports.jsx(AlertDescription,{id:j==null?void 0:j.description,display:"block",children:at})]}),et&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:ot,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(i={}){const{render:s,toastComponent:o=Toast}=i;return rt=>typeof s=="function"?s({...rt,...i}):jsxRuntimeExports.jsx(o,{...rt,...i})}var[ToastOptionProvider,useToastOptionContext]=createContext$2({name:"ToastOptionsContext",strict:!1}),ToastProvider=i=>{const s=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:o,component:a=ToastComponent,portalProps:rt}=i,ot=Object.keys(s).map(at=>{const nt=s[at];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${at}`,id:`chakra-toast-manager-${at}`,style:getToastListStyle(at),children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:nt.map(it=>jsxRuntimeExports.jsx(a,{motionVariants:o,...it},it.id))})},at)});return jsxRuntimeExports.jsx(Portal,{...rt,children:ot})},createChakraProvider=i=>function({children:o,theme:a=i,toastOptions:rt,...et}){return jsxRuntimeExports.jsxs(ChakraProvider$1,{theme:a,...et,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:rt==null?void 0:rt.defaultOptions,children:o}),jsxRuntimeExports.jsx(ToastProvider,{...rt})]})},ChakraProvider=createChakraProvider(theme$1);function assignRef$1(i,s){if(i!=null){if(typeof i=="function"){i(s);return}try{i.current=s}catch{throw new Error(`Cannot assign value '${s}' to ref '${i}'`)}}}function mergeRefs(...i){return s=>{i.forEach(o=>{assignRef$1(o,s)})}}function useMergeRefs$1(...i){return reactExports.useMemo(()=>mergeRefs(...i),i)}var TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.enter}),exit:(i,s)=>({...i,delay:typeof s=="number"?s:s==null?void 0:s.exit})},variants$2={enter:({transition:i,transitionEnd:s,delay:o}={})=>{var a;return{opacity:1,transition:(a=i==null?void 0:i.enter)!=null?a:withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:s==null?void 0:s.enter}},exit:({transition:i,transitionEnd:s,delay:o}={})=>{var a;return{opacity:0,transition:(a=i==null?void 0:i.exit)!=null?a:withDelay.exit(TRANSITION_DEFAULTS.exit,o),transitionEnd:s==null?void 0:s.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:rt,className:et,transition:ot,transitionEnd:at,delay:nt,...it}=s,j=rt||a?"enter":"exit",_=a?rt&&a:!0,$={transition:ot,transitionEnd:at,delay:nt};return jsxRuntimeExports.jsx(AnimatePresence,{custom:$,children:_&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-fade",et),custom:$,...fadeConfig,animate:j,...it})})});Fade.displayName="Fade";var variants$1={exit:({reverse:i,initialScale:s,transition:o,transitionEnd:a,delay:rt})=>{var et;return{opacity:0,...i?{scale:s,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{scale:s,...a==null?void 0:a.exit}},transition:(et=o==null?void 0:o.exit)!=null?et:withDelay.exit(TRANSITION_DEFAULTS.exit,rt)}},enter:({transitionEnd:i,transition:s,delay:o})=>{var a;return{opacity:1,scale:1,transition:(a=s==null?void 0:s.enter)!=null?a:withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:i==null?void 0:i.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:rt,reverse:et=!0,initialScale:ot=.95,className:at,transition:nt,transitionEnd:it,delay:j,..._}=s,$=a?rt&&a:!0,tt=rt||a?"enter":"exit",st={initialScale:ot,reverse:et,transition:nt,transitionEnd:it,delay:j};return jsxRuntimeExports.jsx(AnimatePresence,{custom:st,children:$&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-offset-slide",at),...scaleFadeConfig,animate:tt,custom:st,..._})})});ScaleFade.displayName="ScaleFade";var variants={initial:({offsetX:i,offsetY:s,transition:o,transitionEnd:a,delay:rt})=>{var et;return{opacity:0,x:i,y:s,transition:(et=o==null?void 0:o.exit)!=null?et:withDelay.exit(TRANSITION_DEFAULTS.exit,rt),transitionEnd:a==null?void 0:a.exit}},enter:({transition:i,transitionEnd:s,delay:o})=>{var a;return{opacity:1,x:0,y:0,transition:(a=i==null?void 0:i.enter)!=null?a:withDelay.enter(TRANSITION_DEFAULTS.enter,o),transitionEnd:s==null?void 0:s.enter}},exit:({offsetY:i,offsetX:s,transition:o,transitionEnd:a,reverse:rt,delay:et})=>{var ot;const at={x:s,y:i};return{opacity:0,transition:(ot=o==null?void 0:o.exit)!=null?ot:withDelay.exit(TRANSITION_DEFAULTS.exit,et),...rt?{...at,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{...at,...a==null?void 0:a.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants},SlideFade=reactExports.forwardRef(function(s,o){const{unmountOnExit:a,in:rt,reverse:et=!0,className:ot,offsetX:at=0,offsetY:nt=8,transition:it,transitionEnd:j,delay:_,...$}=s,tt=a?rt&&a:!0,st=rt||a?"enter":"exit",lt={offsetX:at,offsetY:nt,reverse:et,transition:it,transitionEnd:j,delay:_};return jsxRuntimeExports.jsx(AnimatePresence,{custom:lt,children:tt&&jsxRuntimeExports.jsx(motion.div,{ref:o,className:cx("chakra-offset-slide",ot),custom:lt,...slideFadeConfig,animate:st,...$})})});SlideFade.displayName="SlideFade";function getValidChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}var[ButtonGroupProvider,useButtonGroup]=createContext$2({strict:!1,name:"ButtonGroupContext"}),attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:i=>({"& > *:not(style) ~ *:not(style)":{marginStart:i}}),vertical:i=>({"& > *:not(style) ~ *:not(style)":{marginTop:i}})},ButtonGroup=forwardRef(function(s,o){const{size:a,colorScheme:rt,variant:et,className:ot,spacing:at="0.5rem",isAttached:nt,isDisabled:it,orientation:j="horizontal",..._}=s,$=cx("chakra-button__group",ot),tt=reactExports.useMemo(()=>({size:a,colorScheme:rt,variant:et,isDisabled:it}),[a,rt,et,it]);let st={display:"inline-flex",...nt?attachedStyles[j]:gapStyles[j](at)};const lt=j==="vertical";return jsxRuntimeExports.jsx(ButtonGroupProvider,{value:tt,children:jsxRuntimeExports.jsx(chakra.div,{ref:o,role:"group",__css:st,className:$,"data-attached":nt?"":void 0,"data-orientation":j,flexDir:lt?"column":void 0,..._})})});ButtonGroup.displayName="ButtonGroup";function useButtonType(i){const[s,o]=reactExports.useState(!i);return{ref:reactExports.useCallback(et=>{et&&o(et.tagName==="BUTTON")},[]),type:s?"button":void 0}}function ButtonIcon(i){const{children:s,className:o,...a}=i,rt=reactExports.isValidElement(s)?reactExports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):s,et=cx("chakra-button__icon",o);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:et,children:rt})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:s,placement:o,spacing:a="0.5rem",children:rt=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:et,__css:ot,...at}=i,nt=cx("chakra-button__spinner",et),it=o==="start"?"marginEnd":"marginStart",j=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:s?"relative":"absolute",[it]:s?a:0,fontSize:"1em",lineHeight:"normal",...ot}),[ot,s,it,a]);return jsxRuntimeExports.jsx(chakra.div,{className:nt,...at,__css:j,children:rt})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((i,s)=>{const o=useButtonGroup(),a=useStyleConfig("Button",{...o,...i}),{isDisabled:rt=o==null?void 0:o.isDisabled,isLoading:et,isActive:ot,children:at,leftIcon:nt,rightIcon:it,loadingText:j,iconSpacing:_="0.5rem",type:$,spinner:tt,spinnerPlacement:st="start",className:lt,as:ct,...ht}=omitThemingProps(i),ut=reactExports.useMemo(()=>{const dt={...a==null?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!o&&{_focus:dt}}},[a,o]),{ref:pt,type:mt}=useButtonType(ct),vt={rightIcon:it,leftIcon:nt,iconSpacing:_,children:at};return jsxRuntimeExports.jsxs(chakra.button,{ref:useMergeRefs$1(s,pt),as:ct,type:$??mt,"data-active":dataAttr(ot),"data-loading":dataAttr(et),__css:ut,className:cx("chakra-button",lt),...ht,disabled:rt||et,children:[et&&st==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:_,children:tt}),et?j||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...vt})}):jsxRuntimeExports.jsx(ButtonContent,{...vt}),et&&st==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:_,children:tt})]})});Button.displayName="Button";function ButtonContent(i){const{leftIcon:s,rightIcon:o,children:a,iconSpacing:rt}=i;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[s&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:rt,children:s}),a,o&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:rt,children:o})]})}var[CardStylesProvider,useCardStyles]=createStylesContext("Card"),CardBody=forwardRef(function(s,o){const{className:a,...rt}=s,et=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card__body",a),__css:et.body,...rt})}),CardHeader=forwardRef(function(s,o){const{className:a,...rt}=s,et=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card__header",a),__css:et.header,...rt})}),Card=forwardRef(function(s,o){const{className:a,children:rt,direction:et="column",justify:ot,align:at,...nt}=omitThemingProps(s),it=useMultiStyleConfig("Card",s);return jsxRuntimeExports.jsx(chakra.div,{ref:o,className:cx("chakra-card",a),__css:{display:"flex",flexDirection:et,justifyContent:ot,alignItems:at,position:"relative",minWidth:0,wordWrap:"break-word",...it.container},...nt,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:it,children:rt})})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$2({name:"CheckboxGroupContext",strict:!1});function useInitialAnimationState(i){const[s,o]=reactExports.useState(i),[a,rt]=reactExports.useState(!1);return i!==s&&(rt(!0),o(i)),a}function CheckIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...i,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(i){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...i,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(i){const{isIndeterminate:s,isChecked:o,...a}=i,rt=s?IndeterminateIcon:CheckIcon;return o||s?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(rt,{...a})}):null}var[FormControlStylesProvider,useFormControlStyles]=createContext$2({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$2({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:s,isRequired:o,isInvalid:a,isDisabled:rt,isReadOnly:et,...ot}=i,at=reactExports.useId(),nt=s||`field-${at}`,it=`${nt}-label`,j=`${nt}-feedback`,_=`${nt}-helptext`,[$,tt]=reactExports.useState(!1),[st,lt]=reactExports.useState(!1),[ct,ht]=reactExports.useState(!1),ut=reactExports.useCallback((St={},yt=null)=>({id:_,...St,ref:mergeRefs(yt,gt=>{gt&&lt(!0)})}),[_]),pt=reactExports.useCallback((St={},yt=null)=>({...St,ref:yt,"data-focus":dataAttr(ct),"data-disabled":dataAttr(rt),"data-invalid":dataAttr(a),"data-readonly":dataAttr(et),id:St.id!==void 0?St.id:it,htmlFor:St.htmlFor!==void 0?St.htmlFor:nt}),[nt,rt,ct,a,et,it]),mt=reactExports.useCallback((St={},yt=null)=>({id:j,...St,ref:mergeRefs(yt,gt=>{gt&&tt(!0)}),"aria-live":"polite"}),[j]),vt=reactExports.useCallback((St={},yt=null)=>({...St,...ot,ref:yt,role:"group","data-focus":dataAttr(ct),"data-disabled":dataAttr(rt),"data-invalid":dataAttr(a),"data-readonly":dataAttr(et)}),[ot,rt,ct,a,et]),dt=reactExports.useCallback((St={},yt=null)=>({...St,ref:yt,role:"presentation","aria-hidden":!0,children:St.children||"*"}),[]);return{isRequired:!!o,isInvalid:!!a,isReadOnly:!!et,isDisabled:!!rt,isFocused:!!ct,onFocus:()=>ht(!0),onBlur:()=>ht(!1),hasFeedbackText:$,setHasFeedbackText:tt,hasHelpText:st,setHasHelpText:lt,id:nt,labelId:it,feedbackId:j,helpTextId:_,htmlProps:ot,getHelpTextProps:ut,getErrorMessageProps:mt,getRootProps:vt,getLabelProps:pt,getRequiredIndicatorProps:dt}}var FormControl=forwardRef(function(s,o){const a=useMultiStyleConfig("Form",s),rt=omitThemingProps(s),{getRootProps:et,htmlProps:ot,...at}=useFormControlProvider(rt),nt=cx("chakra-form-control",s.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:at,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.div,{...et({},o),className:nt,__css:a.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(s,o){const a=useFormControlContext(),rt=useFormControlStyles(),et=cx("chakra-form__helper-text",s.className);return jsxRuntimeExports.jsx(chakra.div,{...a==null?void 0:a.getHelpTextProps(s,o),__css:rt.helperText,className:et})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:s,isInvalid:o,isReadOnly:a,isRequired:rt,...et}=useFormControlProps(i);return{...et,disabled:s,readOnly:a,required:rt,"aria-invalid":ariaAttr(o),"aria-required":ariaAttr(rt),"aria-readonly":ariaAttr(a)}}function useFormControlProps(i){var s,o,a;const rt=useFormControlContext(),{id:et,disabled:ot,readOnly:at,required:nt,isRequired:it,isInvalid:j,isReadOnly:_,isDisabled:$,onFocus:tt,onBlur:st,...lt}=i,ct=i["aria-describedby"]?[i["aria-describedby"]]:[];return rt!=null&&rt.hasFeedbackText&&(rt!=null&&rt.isInvalid)&&ct.push(rt.feedbackId),rt!=null&&rt.hasHelpText&&ct.push(rt.helpTextId),{...lt,"aria-describedby":ct.join(" ")||void 0,id:et??(rt==null?void 0:rt.id),isDisabled:(s=ot??$)!=null?s:rt==null?void 0:rt.isDisabled,isReadOnly:(o=at??_)!=null?o:rt==null?void 0:rt.isReadOnly,isRequired:(a=nt??it)!=null?a:rt==null?void 0:rt.isRequired,isInvalid:j??(rt==null?void 0:rt.isInvalid),onFocus:callAllHandlers$1(rt==null?void 0:rt.onFocus,tt),onBlur:callAllHandlers$1(rt==null?void 0:rt.onBlur,st)}}var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(i,s){handlers.forEach(o=>o(i,s))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(i){return!(i.metaKey||!isMac&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function onKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(modality="keyboard",trigger("keyboard",i))}function onPointerEvent(i){if(modality="pointer",i.type==="mousedown"||i.type==="pointerdown"){hasEventBeforeFocus=!0;const s=i.composedPath?i.composedPath()[0]:i.target;let o=!1;try{o=s.matches(":focus-visible")}catch{}if(o)return;trigger("pointer",i)}}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:i.detail===0&&!i.pointerType}function onClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(i){i.target===window||i.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:i}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...o){hasEventBeforeFocus=!0,i.apply(this,o)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(i){setupGlobalFocusEvents(),i(isFocusVisible());const s=()=>i(isFocusVisible());return handlers.add(s),()=>{handlers.delete(s)}}function omit(i,s=[]){const o=Object.assign({},i);for(const a of s)a in o&&delete o[a];return o}function useCheckbox(i={}){const s=useFormControlProps(i),{isDisabled:o,isReadOnly:a,isRequired:rt,isInvalid:et,id:ot,onBlur:at,onFocus:nt,"aria-describedby":it}=s,{defaultChecked:j,isChecked:_,isFocusable:$,onChange:tt,isIndeterminate:st,name:lt,value:ct,tabIndex:ht=void 0,"aria-label":ut,"aria-labelledby":pt,"aria-invalid":mt,...vt}=i,dt=omit(vt,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),St=useCallbackRef$2(tt),yt=useCallbackRef$2(at),gt=useCallbackRef$2(nt),[Et,_t]=reactExports.useState(!1),[kt,Ct]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!1),[It,Ot]=reactExports.useState(!1);reactExports.useEffect(()=>trackFocusVisible(_t),[]);const Mt=reactExports.useRef(null),[Dt,Bt]=reactExports.useState(!0),[Kt,Wt]=reactExports.useState(!!j),zt=_!==void 0,Ht=zt?_:Kt,Zt=reactExports.useCallback(Sr=>{if(a||o){Sr.preventDefault();return}zt||Wt(Ht?Sr.target.checked:st?!0:Sr.target.checked),St==null||St(Sr)},[a,o,Ht,zt,st,St]);useSafeLayoutEffect$1(()=>{Mt.current&&(Mt.current.indeterminate=!!st)},[st]),useUpdateEffect(()=>{o&&Ct(!1)},[o,Ct]),useSafeLayoutEffect$1(()=>{const Sr=Mt.current;if(!(Sr!=null&&Sr.form))return;const dr=()=>{Wt(!!j)};return Sr.form.addEventListener("reset",dr),()=>{var Ur;return(Ur=Sr.form)==null?void 0:Ur.removeEventListener("reset",dr)}},[]);const Qt=o&&!$,hr=reactExports.useCallback(Sr=>{Sr.key===" "&&Ot(!0)},[Ot]),fr=reactExports.useCallback(Sr=>{Sr.key===" "&&Ot(!1)},[Ot]);useSafeLayoutEffect$1(()=>{if(!Mt.current)return;Mt.current.checked!==Ht&&Wt(Mt.current.checked)},[Mt.current]);const pr=reactExports.useCallback((Sr={},dr=null)=>{const Ur=tn=>{kt&&tn.preventDefault(),Ot(!0)};return{...Sr,ref:dr,"data-active":dataAttr(It),"data-hover":dataAttr(Tt),"data-checked":dataAttr(Ht),"data-focus":dataAttr(kt),"data-focus-visible":dataAttr(kt&&Et),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(o),"data-invalid":dataAttr(et),"data-readonly":dataAttr(a),"aria-hidden":!0,onMouseDown:callAllHandlers$1(Sr.onMouseDown,Ur),onMouseUp:callAllHandlers$1(Sr.onMouseUp,()=>Ot(!1)),onMouseEnter:callAllHandlers$1(Sr.onMouseEnter,()=>At(!0)),onMouseLeave:callAllHandlers$1(Sr.onMouseLeave,()=>At(!1))}},[It,Ht,o,kt,Et,Tt,st,et,a]),gr=reactExports.useCallback((Sr={},dr=null)=>({...Sr,ref:dr,"data-active":dataAttr(It),"data-hover":dataAttr(Tt),"data-checked":dataAttr(Ht),"data-focus":dataAttr(kt),"data-focus-visible":dataAttr(kt&&Et),"data-indeterminate":dataAttr(st),"data-disabled":dataAttr(o),"data-invalid":dataAttr(et),"data-readonly":dataAttr(a)}),[It,Ht,o,kt,Et,Tt,st,et,a]),tr=reactExports.useCallback((Sr={},dr=null)=>({...dt,...Sr,ref:mergeRefs(dr,Ur=>{Ur&&Bt(Ur.tagName==="LABEL")}),onClick:callAllHandlers$1(Sr.onClick,()=>{var Ur;Dt||((Ur=Mt.current)==null||Ur.click(),requestAnimationFrame(()=>{var tn;(tn=Mt.current)==null||tn.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(o),"data-checked":dataAttr(Ht),"data-invalid":dataAttr(et)}),[dt,o,Ht,et,Dt]),rr=reactExports.useCallback((Sr={},dr=null)=>({...Sr,ref:mergeRefs(Mt,dr),type:"checkbox",name:lt,value:ct,id:ot,tabIndex:ht,onChange:callAllHandlers$1(Sr.onChange,Zt),onBlur:callAllHandlers$1(Sr.onBlur,yt,()=>Ct(!1)),onFocus:callAllHandlers$1(Sr.onFocus,gt,()=>Ct(!0)),onKeyDown:callAllHandlers$1(Sr.onKeyDown,hr),onKeyUp:callAllHandlers$1(Sr.onKeyUp,fr),required:rt,checked:Ht,disabled:Qt,readOnly:a,"aria-label":ut,"aria-labelledby":pt,"aria-invalid":mt?!!mt:et,"aria-describedby":it,"aria-disabled":o,style:visuallyHiddenStyle}),[lt,ct,ot,Zt,yt,gt,hr,fr,rt,Ht,Qt,a,ut,pt,mt,et,it,o,ht]),qt=reactExports.useCallback((Sr={},dr=null)=>({...Sr,ref:dr,onMouseDown:callAllHandlers$1(Sr.onMouseDown,stopEvent),"data-disabled":dataAttr(o),"data-checked":dataAttr(Ht),"data-invalid":dataAttr(et)}),[Ht,o,et]);return{state:{isInvalid:et,isFocused:kt,isChecked:Ht,isActive:It,isHovered:Tt,isIndeterminate:st,isDisabled:o,isReadOnly:a,isRequired:rt},getRootProps:tr,getCheckboxProps:pr,getIndicatorProps:gr,getInputProps:rr,getLabelProps:qt,htmlProps:dt}}function stopEvent(i){i.preventDefault(),i.stopPropagation()}var controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(s,o){const a=useCheckboxGroupContext(),rt={...a,...s},et=useMultiStyleConfig("Checkbox",rt),ot=omitThemingProps(s),{spacing:at="0.5rem",className:nt,children:it,iconColor:j,iconSize:_,icon:$=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:tt,isDisabled:st=a==null?void 0:a.isDisabled,onChange:lt,inputProps:ct,...ht}=ot;let ut=tt;a!=null&&a.value&&ot.value&&(ut=a.value.includes(ot.value));let pt=lt;a!=null&&a.onChange&&ot.value&&(pt=callAll(a.onChange,lt));const{state:mt,getInputProps:vt,getCheckboxProps:dt,getLabelProps:St,getRootProps:yt}=useCheckbox({...ht,isDisabled:st,isChecked:ut,onChange:pt}),gt=useInitialAnimationState(mt.isChecked),Et=reactExports.useMemo(()=>({animation:gt?mt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,fontSize:_,color:j,...et.icon}),[j,_,gt,mt.isIndeterminate,et.icon]),_t=reactExports.cloneElement($,{__css:Et,isIndeterminate:mt.isIndeterminate,isChecked:mt.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...et.container},className:cx("chakra-checkbox",nt),...yt(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...vt(ct,o)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...et.control},className:"chakra-checkbox__control",...dt(),children:_t}),it&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...St(),__css:{marginStart:at,...et.label},children:it})]})});Checkbox.displayName="Checkbox";function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={},a=Object.keys(i),rt,et;for(et=0;et<a.length;et++)rt=a[et],!(s.indexOf(rt)>=0)&&(o[rt]=i[rt]);return o}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(this,arguments)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,rt,et,ot,at,nt){if(nt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports,FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(i,s){return typeof i=="function"?i(s):i&&(i.current=s),i}function useCallbackRef$1(i,s){var o=reactExports.useState(function(){return{value:i,callback:s,facade:{get current(){return o.value},set current(a){var rt=o.value;rt!==a&&(o.value=a,o.callback(a,rt))}}}})[0];return o.callback=s,o.facade}function useMergeRefs(i,s){return useCallbackRef$1(null,function(o){return i.forEach(function(a){return assignRef(a,o)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign$2=function(){return __assign$2=Object.assign||function(s){for(var o,a=1,rt=arguments.length;a<rt;a++){o=arguments[a];for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])}return s},__assign$2.apply(this,arguments)};function __rest(i,s){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,a=Object.getOwnPropertySymbols(i);rt<a.length;rt++)s.indexOf(a[rt])<0&&Object.prototype.propertyIsEnumerable.call(i,a[rt])&&(o[a[rt]]=i[a[rt]]);return o}function __spreadArray(i,s,o){if(o||arguments.length===2)for(var a=0,rt=s.length,et;a<rt;a++)(et||!(a in s))&&(et||(et=Array.prototype.slice.call(s,0,a)),et[a]=s[a]);return i.concat(et||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(i){return i}function innerCreateMedium(i,s){s===void 0&&(s=ItoI);var o=[],a=!1,rt={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:i},useMedium:function(et){var ot=s(et,a);return o.push(ot),function(){o=o.filter(function(at){return at!==ot})}},assignSyncMedium:function(et){for(a=!0;o.length;){var ot=o;o=[],ot.forEach(et)}o={push:function(at){return et(at)},filter:function(){return o}}},assignMedium:function(et){a=!0;var ot=[];if(o.length){var at=o;o=[],at.forEach(et),ot=o}var nt=function(){var j=ot;ot=[],j.forEach(et)},it=function(){return Promise.resolve().then(nt)};it(),o={push:function(j){ot.push(j),it()},filter:function(j){return ot=ot.filter(j),o}}}};return rt}function createMedium(i,s){return s===void 0&&(s=ItoI),innerCreateMedium(i,s)}function createSidecarMedium(i){i===void 0&&(i={});var s=innerCreateMedium(null);return s.options=__assign$2({async:!0,ssr:!1},i),s}var SideCar$1=function(i){var s=i.sideCar,o=__rest(i,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign$2({},o))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,s){return i.useMedium(s),SideCar$1}var mediumFocus=createMedium({},function(i){var s=i.target,o=i.currentTarget;return{target:s,currentTarget:o}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(s,o){var a,rt=reactExports.useState(),et=rt[0],ot=rt[1],at=reactExports.useRef(),nt=reactExports.useRef(!1),it=reactExports.useRef(null),j=s.children,_=s.disabled,$=s.noFocusGuards,tt=s.persistentFocus,st=s.crossFrame,lt=s.autoFocus;s.allowTextSelection;var ct=s.group,ht=s.className,ut=s.whiteList,pt=s.hasPositiveIndices,mt=s.shards,vt=mt===void 0?emptyArray:mt,dt=s.as,St=dt===void 0?"div":dt,yt=s.lockProps,gt=yt===void 0?{}:yt,Et=s.sideCar,_t=s.returnFocus,kt=s.focusOptions,Ct=s.onActivation,Tt=s.onDeactivation,At=reactExports.useState({}),It=At[0],Ot=reactExports.useCallback(function(){it.current=it.current||document&&document.activeElement,at.current&&Ct&&Ct(at.current),nt.current=!0},[Ct]),Mt=reactExports.useCallback(function(){nt.current=!1,Tt&&Tt(at.current)},[Tt]);reactExports.useEffect(function(){_||(it.current=null)},[]);var Dt=reactExports.useCallback(function(hr){var fr=it.current;if(fr&&fr.focus){var pr=typeof _t=="function"?_t(fr):_t;if(pr){var gr=typeof pr=="object"?pr:void 0;it.current=null,hr?Promise.resolve().then(function(){return fr.focus(gr)}):fr.focus(gr)}}},[_t]),Bt=reactExports.useCallback(function(hr){nt.current&&mediumFocus.useMedium(hr)},[]),Kt=mediumBlur.useMedium,Wt=reactExports.useCallback(function(hr){at.current!==hr&&(at.current=hr,ot(hr))},[]),zt=_extends((a={},a[FOCUS_DISABLED]=_&&"disabled",a[FOCUS_GROUP]=ct,a),gt),Ht=$!==!0,Zt=Ht&&$!=="tail",Qt=useMergeRefs([o,Wt]);return reactExports.createElement(reactExports.Fragment,null,Ht&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard}),pt?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:_?-1:1,style:hiddenGuard}):null],!_&&reactExports.createElement(Et,{id:It,sideCar:mediumSidecar,observed:et,disabled:_,persistentFocus:tt,crossFrame:st,autoFocus:lt,whiteList:ut,shards:vt,onActivation:Ot,onDeactivation:Mt,returnFocus:Dt,focusOptions:kt}),reactExports.createElement(St,_extends({ref:Qt},zt,{className:ht,onBlur:Kt,onFocus:Bt}),j),Zt&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};FocusLock$1.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,rt){return a.__proto__=rt,a},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function toPrimitive(i,s){if(_typeof(i)!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function toPropertyKey(i){var s=toPrimitive(i,"string");return _typeof(s)=="symbol"?s:String(s)}function _defineProperty(i,s,o){return s=toPropertyKey(s),s in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}function withSideEffect(i,s){function o(a){return a.displayName||a.name||"Component"}return function(rt){var et=[],ot;function at(){ot=i(et.map(function(it){return it.props})),s(ot)}var nt=function(it){_inheritsLoose(j,it);function j(){return it.apply(this,arguments)||this}j.peek=function(){return ot};var _=j.prototype;return _.componentDidMount=function(){et.push(this),at()},_.componentDidUpdate=function(){at()},_.componentWillUnmount=function(){var tt=et.indexOf(this);et.splice(tt,1),at()},_.render=function(){return React$4.createElement(rt,this.props)},j}(reactExports.PureComponent);return _defineProperty(nt,"displayName","SideEffect("+o(rt)+")"),nt}}var toArray=function(i){for(var s=Array(i.length),o=0;o<i.length;++o)s[o]=i[o];return s},asArray=function(i){return Array.isArray(i)?i:[i]},getFirst=function(i){return Array.isArray(i)?i[0]:i},isElementHidden=function(i){if(i.nodeType!==Node.ELEMENT_NODE)return!1;var s=window.getComputedStyle(i,null);return!s||!s.getPropertyValue?!1:s.getPropertyValue("display")==="none"||s.getPropertyValue("visibility")==="hidden"},getParentNode=function(i){return i.parentNode&&i.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.parentNode.host:i.parentNode},isTopNode=function(i){return i===document||i&&i.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(i,s){return!i||isTopNode(i)||!isElementHidden(i)&&s(getParentNode(i))},isVisibleCached=function(i,s){var o=i.get(s);if(o!==void 0)return o;var a=isVisibleUncached(s,isVisibleCached.bind(void 0,i));return i.set(s,a),a},isAutoFocusAllowedUncached=function(i,s){return i&&!isTopNode(i)?isAutoFocusAllowed(i)?s(getParentNode(i)):!1:!0},isAutoFocusAllowedCached=function(i,s){var o=i.get(s);if(o!==void 0)return o;var a=isAutoFocusAllowedUncached(s,isAutoFocusAllowedCached.bind(void 0,i));return i.set(s,a),a},getDataset=function(i){return i.dataset},isHTMLButtonElement=function(i){return i.tagName==="BUTTON"},isHTMLInputElement=function(i){return i.tagName==="INPUT"},isRadioElement=function(i){return isHTMLInputElement(i)&&i.type==="radio"},notHiddenInput=function(i){return!((isHTMLInputElement(i)||isHTMLButtonElement(i))&&(i.type==="hidden"||i.disabled))},isAutoFocusAllowed=function(i){var s=i.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(s)},isGuard=function(i){var s;return!!(i&&(!((s=getDataset(i))===null||s===void 0)&&s.focusGuard))},isNotAGuard=function(i){return!isGuard(i)},isDefined=function(i){return!!i},tabSort=function(i,s){var o=i.tabIndex-s.tabIndex,a=i.index-s.index;if(o){if(!i.tabIndex)return 1;if(!s.tabIndex)return-1}return o||a},orderByTabIndex=function(i,s,o){return toArray(i).map(function(a,rt){return{node:a,index:rt,tabIndex:o&&a.tabIndex===-1?(a.dataset||{}).focusGuard?0:-1:a.tabIndex}}).filter(function(a){return!s||a.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(i,s){return toArray((i.shadowRoot||i).children).reduce(function(o,a){return o.concat(a.matches(s?queryGuardTabbables:queryTabbables)?[a]:[],getFocusablesWithShadowDom(a))},[])},getFocusablesWithIFrame=function(i,s){var o;return i instanceof HTMLIFrameElement&&(!((o=i.contentDocument)===null||o===void 0)&&o.body)?getFocusables([i.contentDocument.body],s):[i]},getFocusables=function(i,s){return i.reduce(function(o,a){var rt,et=getFocusablesWithShadowDom(a,s),ot=(rt=[]).concat.apply(rt,et.map(function(at){return getFocusablesWithIFrame(at,s)}));return o.concat(ot,a.parentNode?toArray(a.parentNode.querySelectorAll(queryTabbables)).filter(function(at){return at===a}):[])},[])},getParentAutofocusables=function(i){var s=i.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(s).map(function(o){return getFocusables([o])}).reduce(function(o,a){return o.concat(a)},[])},filterFocusable=function(i,s){return toArray(i).filter(function(o){return isVisibleCached(s,o)}).filter(function(o){return notHiddenInput(o)})},filterAutoFocusable=function(i,s){return s===void 0&&(s=new Map),toArray(i).filter(function(o){return isAutoFocusAllowedCached(s,o)})},getTabbableNodes=function(i,s,o){return orderByTabIndex(filterFocusable(getFocusables(i,o),s),!0,o)},getFocusableNodes=function(i,s){return orderByTabIndex(filterFocusable(getFocusables(i),s),!1)},parentAutofocusables=function(i,s){return filterFocusable(getParentAutofocusables(i),s)},contains=function(i,s){return i.shadowRoot?contains(i.shadowRoot,s):Object.getPrototypeOf(i).contains!==void 0&&Object.getPrototypeOf(i).contains.call(i,s)?!0:toArray(i.children).some(function(o){var a;if(o instanceof HTMLIFrameElement){var rt=(a=o.contentDocument)===null||a===void 0?void 0:a.body;return rt?contains(rt,s):!1}return contains(o,s)})},filterNested=function(i){for(var s=new Set,o=i.length,a=0;a<o;a+=1)for(var rt=a+1;rt<o;rt+=1){var et=i[a].compareDocumentPosition(i[rt]);(et&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&s.add(rt),(et&Node.DOCUMENT_POSITION_CONTAINS)>0&&s.add(a)}return i.filter(function(ot,at){return!s.has(at)})},getTopParent=function(i){return i.parentNode?getTopParent(i.parentNode):i},getAllAffectedNodes=function(i){var s=asArray(i);return s.filter(Boolean).reduce(function(o,a){var rt=a.getAttribute(FOCUS_GROUP);return o.push.apply(o,rt?filterNested(toArray(getTopParent(a).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(rt,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[a]),o},[])},safeProbe=function(i){try{return i()}catch{return}},getActiveElement=function(i){if(i===void 0&&(i=document),!(!i||!i.activeElement)){var s=i.activeElement;return s.shadowRoot?getActiveElement(s.shadowRoot):s instanceof HTMLIFrameElement&&safeProbe(function(){return s.contentWindow.document})?getActiveElement(s.contentWindow.document):s}},focusInFrame=function(i,s){return i===s},focusInsideIframe=function(i,s){return!!toArray(i.querySelectorAll("iframe")).some(function(o){return focusInFrame(o,s)})},focusInside=function(i,s){return s===void 0&&(s=getActiveElement(getFirst(i).ownerDocument)),!s||s.dataset&&s.dataset.focusGuard?!1:getAllAffectedNodes(i).some(function(o){return contains(o,s)||focusInsideIframe(o,s)})},focusIsHidden=function(i){i===void 0&&(i=document);var s=getActiveElement(i);return s?toArray(i.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(o){return contains(o,s)}):!1},findSelectedRadio=function(i,s){return s.filter(isRadioElement).filter(function(o){return o.name===i.name}).filter(function(o){return o.checked})[0]||i},correctNode=function(i,s){return isRadioElement(i)&&i.name?findSelectedRadio(i,s):i},correctNodes=function(i){var s=new Set;return i.forEach(function(o){return s.add(correctNode(o,i))}),i.filter(function(o){return s.has(o)})},pickFirstFocus=function(i){return i[0]&&i.length>1?correctNode(i[0],i):i[0]},pickFocusable=function(i,s){return i.length>1?i.indexOf(correctNode(i[s],i)):s},NEW_FOCUS="NEW_FOCUS",newFocus=function(i,s,o,a){var rt=i.length,et=i[0],ot=i[rt-1],at=isGuard(o);if(!(o&&i.indexOf(o)>=0)){var nt=o!==void 0?s.indexOf(o):-1,it=a?s.indexOf(a):nt,j=a?i.indexOf(a):-1,_=nt-it,$=s.indexOf(et),tt=s.indexOf(ot),st=correctNodes(s),lt=o!==void 0?st.indexOf(o):-1,ct=lt-(a?st.indexOf(a):nt),ht=pickFocusable(i,0),ut=pickFocusable(i,rt-1);if(nt===-1||j===-1)return NEW_FOCUS;if(!_&&j>=0)return j;if(nt<=$&&at&&Math.abs(_)>1)return ut;if(nt>=tt&&at&&Math.abs(_)>1)return ht;if(_&&Math.abs(ct)>1)return j;if(nt<=$)return ut;if(nt>tt)return ht;if(_)return Math.abs(_)>1?j:(rt+j+_)%rt}},findAutoFocused=function(i){return function(s){var o,a=(o=getDataset(s))===null||o===void 0?void 0:o.autofocus;return s.autofocus||a!==void 0&&a!=="false"||i.indexOf(s)>=0}},pickAutofocus=function(i,s,o){var a=i.map(function(et){var ot=et.node;return ot}),rt=filterAutoFocusable(a.filter(findAutoFocused(o)));return rt&&rt.length?pickFirstFocus(rt):pickFirstFocus(filterAutoFocusable(s))},getParents=function(i,s){return s===void 0&&(s=[]),s.push(i),i.parentNode&&getParents(i.parentNode.host||i.parentNode,s),s},getCommonParent=function(i,s){for(var o=getParents(i),a=getParents(s),rt=0;rt<o.length;rt+=1){var et=o[rt];if(a.indexOf(et)>=0)return et}return!1},getTopCommonParent=function(i,s,o){var a=asArray(i),rt=asArray(s),et=a[0],ot=!1;return rt.filter(Boolean).forEach(function(at){ot=getCommonParent(ot||at,at)||ot,o.filter(Boolean).forEach(function(nt){var it=getCommonParent(et,nt);it&&(!ot||contains(it,ot)?ot=it:ot=getCommonParent(it,ot))})}),ot},allParentAutofocusables=function(i,s){return i.reduce(function(o,a){return o.concat(parentAutofocusables(a,s))},[])},reorderNodes=function(i,s){var o=new Map;return s.forEach(function(a){return o.set(a.node,a)}),i.map(function(a){return o.get(a)}).filter(isDefined)},focusSolver=function(i,s){var o=getActiveElement(asArray(i).length>0?document:getFirst(i).ownerDocument),a=getAllAffectedNodes(i).filter(isNotAGuard),rt=getTopCommonParent(o||i,i,a),et=new Map,ot=getFocusableNodes(a,et),at=getTabbableNodes(a,et).filter(function(tt){var st=tt.node;return isNotAGuard(st)});if(!(!at[0]&&(at=ot,!at[0]))){var nt=getFocusableNodes([rt],et).map(function(tt){var st=tt.node;return st}),it=reorderNodes(nt,at),j=it.map(function(tt){var st=tt.node;return st}),_=newFocus(j,nt,o,s);if(_===NEW_FOCUS){var $=pickAutofocus(ot,j,allParentAutofocusables(a,et));if($)return{node:$};console.warn("focus-lock: cannot find any node to move focus into");return}return _===void 0?_:it[_]}},expandFocusableNodes=function(i){var s=getAllAffectedNodes(i).filter(isNotAGuard),o=getTopCommonParent(i,i,s),a=new Map,rt=getTabbableNodes([o],a,!0),et=getTabbableNodes(s,a).filter(function(ot){var at=ot.node;return isNotAGuard(at)}).map(function(ot){var at=ot.node;return at});return rt.map(function(ot){var at=ot.node,nt=ot.index;return{node:at,index:nt,lockItem:et.indexOf(at)>=0,guard:isGuard(at)}})},focusOn=function(i,s){"focus"in i&&i.focus(s),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus()},guardCount=0,lockDisabled=!1,moveFocusInside=function(i,s,o){o===void 0&&(o={});var a=focusSolver(i,s);if(!lockDisabled&&a){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(a.node,o.focusOptions),guardCount--}};function deferAction(i){setTimeout(i,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(s){return(lastActiveTrap.whiteList||defaultWhitelist)(s)},recordPortal=function(s,o){lastPortaledElement={observerNode:s,portaledElement:o}},focusIsPortaledPair=function(s){return lastPortaledElement&&lastPortaledElement.portaledElement===s};function autoGuard(i,s,o,a){var rt=null,et=i;do{var ot=a[et];if(ot.guard)ot.node.dataset.focusAutoGuard&&(rt=ot);else if(ot.lockItem){if(et!==i)return;rt=null}else break}while((et+=o)!==s);rt&&(rt.node.tabIndex=0)}var extractRef$1=function(s){return s&&"current"in s?s.current:s},focusWasOutside=function(s){return s?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function i(s,o,a){return o&&(o.host===s&&(!o.activeElement||a.contains(o.activeElement))||o.parentNode&&i(s,o.parentNode,a))},withinHost=function(s,o){return o.some(function(a){return checkInHost(s,a,a)})},activateTrap=function(){var s=!1;if(lastActiveTrap){var o=lastActiveTrap,a=o.observed,rt=o.persistentFocus,et=o.autoFocus,ot=o.shards,at=o.crossFrame,nt=o.focusOptions,it=a||lastPortaledElement&&lastPortaledElement.portaledElement,j=document&&document.activeElement;if(it){var _=[it].concat(ot.map(extractRef$1).filter(Boolean));if((!j||focusWhitelisted(j))&&(rt||focusWasOutside(at)||!isFreeFocus()||!lastActiveFocus&&et)&&(it&&!(focusInside(_)||j&&withinHost(j,_)||focusIsPortaledPair(j))&&(document&&!lastActiveFocus&&j&&!et?(j.blur&&j.blur(),document.body.focus()):(s=moveFocusInside(_,lastActiveFocus,{focusOptions:nt}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var $=document&&document.activeElement,tt=expandFocusableNodes(_),st=tt.map(function(lt){var ct=lt.node;return ct}).indexOf($);st>-1&&(tt.filter(function(lt){var ct=lt.guard,ht=lt.node;return ct&&ht.dataset.focusAutoGuard}).forEach(function(lt){var ct=lt.node;return ct.removeAttribute("tabIndex")}),autoGuard(st,tt.length,1,tt),autoGuard(st,-1,-1,tt))}}}return s},onTrap=function(s){activateTrap()&&s&&(s.stopPropagation(),s.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(s){var o=s.target,a=s.currentTarget;a.contains(o)||recordPortal(a,o)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(i){return i.filter(function(s){var o=s.disabled;return!o})}function handleStateChangeOnClient(i){var s=i.slice(-1)[0];s&&!lastActiveTrap&&attachHandler();var o=lastActiveTrap,a=o&&s&&s.id===o.id;lastActiveTrap=s,o&&!a&&(o.onDeactivation(),i.filter(function(rt){var et=rt.id;return et===o.id}).length||o.returnFocus(!s)),s?(lastActiveFocus=null,(!a||o.observed!==s.observed)&&s.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(i){return i({moveFocusInside,focusInside})});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(s,o){return reactExports.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:o},s))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};function isElement(i){return i!=null&&typeof i=="object"&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}function isHTMLElement(i){var s;if(!isElement(i))return!1;const o=(s=i.ownerDocument.defaultView)!=null?s:window;return i instanceof o.HTMLElement}var hasTabIndex=i=>i.hasAttribute("tabindex");function isDisabled(i){return!!i.getAttribute("disabled")||!!i.getAttribute("aria-disabled")}function isHidden(i){return i.parentElement&&isHidden(i.parentElement)?!0:i.hidden}function isContentEditable(i){const s=i.getAttribute("contenteditable");return s!=="false"&&s!=null}function isFocusable(i){if(!isHTMLElement(i)||isHidden(i)||isDisabled(i))return!1;const{localName:s}=i;if(["input","select","textarea","button"].indexOf(s)>=0)return!0;const a={a:()=>i.hasAttribute("href"),audio:()=>i.hasAttribute("controls"),video:()=>i.hasAttribute("controls")};return s in a?a[s]():isContentEditable(i)?!0:hasTabIndex(i)}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=i=>i.offsetWidth>0&&i.offsetHeight>0;function getAllFocusable(i){const s=Array.from(i.querySelectorAll(focusableElSelector));return s.unshift(i),s.filter(o=>isFocusable(o)&&isVisible(o))}var _a,FocusTrap=(_a=FocusLockCombination.default)!=null?_a:FocusLockCombination,FocusLock=i=>{const{initialFocusRef:s,finalFocusRef:o,contentRef:a,restoreFocus:rt,children:et,isDisabled:ot,autoFocus:at,persistentFocus:nt,lockFocusAcrossFrames:it}=i,j=reactExports.useCallback(()=>{s!=null&&s.current?s.current.focus():a!=null&&a.current&&getAllFocusable(a.current).length===0&&requestAnimationFrame(()=>{var st;(st=a.current)==null||st.focus()})},[s,a]),_=reactExports.useCallback(()=>{var tt;(tt=o==null?void 0:o.current)==null||tt.focus()},[o]),$=rt&&!o;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:it,persistentFocus:nt,autoFocus:at,disabled:ot,onActivation:j,onDeactivation:_,returnFocus:$,children:et})};FocusLock.displayName="FocusLock";var useSafeLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect;function useCallbackRef(i,s=[]){const o=reactExports.useRef(i);return useSafeLayoutEffect(()=>{o.current=i}),reactExports.useCallback((...a)=>{var rt;return(rt=o.current)==null?void 0:rt.call(o,...a)},s)}function useId(i,s){const o=reactExports.useId();return reactExports.useMemo(()=>i||[s,o].filter(Boolean).join("-"),[i,s,o])}function useControllableProp(i,s){const o=i!==void 0;return[o,o&&typeof i<"u"?i:s]}function useDisclosure(i={}){const{onClose:s,onOpen:o,isOpen:a,id:rt}=i,et=useCallbackRef(o),ot=useCallbackRef(s),[at,nt]=reactExports.useState(i.defaultIsOpen||!1),[it,j]=useControllableProp(a,at),_=useId(rt,"disclosure"),$=reactExports.useCallback(()=>{it||nt(!1),ot==null||ot()},[it,ot]),tt=reactExports.useCallback(()=>{it||nt(!0),et==null||et()},[it,et]),st=reactExports.useCallback(()=>{(j?$:tt)()},[j,tt,$]);return{isOpen:!!j,onOpen:tt,onClose:$,onToggle:st,isControlled:it,getButtonProps:(lt={})=>({...lt,"aria-expanded":j,"aria-controls":_,onClick:callAllHandlers(lt.onClick,st)}),getDisclosureProps:(lt={})=>({...lt,hidden:!j,id:_})}}var[ListStylesProvider,useListStyles]=createContext$2({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(s,o){const a=useMultiStyleConfig("List",s),{children:rt,styleType:et="none",stylePosition:ot,spacing:at,...nt}=omitThemingProps(s),it=getValidChildren(rt),_=at?{["& > *:not(style) ~ *:not(style)"]:{mt:at}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.ul,{ref:o,listStyleType:et,listStylePosition:ot,role:"list",__css:{...a.container,..._},...nt,children:it})})});List.displayName="List";var OrderedList=forwardRef((i,s)=>{const{as:o,...a}=i;return jsxRuntimeExports.jsx(List,{ref:s,as:"ol",styleType:"decimal",marginStart:"1em",...a})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(s,o){const{as:a,...rt}=s;return jsxRuntimeExports.jsx(List,{ref:o,as:"ul",styleType:"initial",marginStart:"1em",...rt})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(s,o){const a=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:o,...s,__css:a.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(s,o){const a=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:o,role:"presentation",...s,__css:a.icon})});ListIcon.displayName="ListIcon";var Grid=forwardRef(function(s,o){const{templateAreas:a,gap:rt,rowGap:et,columnGap:ot,column:at,row:nt,autoFlow:it,autoRows:j,templateRows:_,autoColumns:$,templateColumns:tt,...st}=s,lt={display:"grid",gridTemplateAreas:a,gridGap:rt,gridRowGap:et,gridColumnGap:ot,gridAutoColumns:$,gridColumn:at,gridRow:nt,gridAutoFlow:it,gridAutoRows:j,gridTemplateRows:_,gridTemplateColumns:tt};return jsxRuntimeExports.jsx(chakra.div,{ref:o,__css:lt,...st})});Grid.displayName="Grid";function mapResponsive(i,s){return Array.isArray(i)?i.map(o=>o===null?null:s(o)):isObject$2(i)?Object.keys(i).reduce((o,a)=>(o[a]=s(i[a]),o),{}):i!=null?s(i):null}var SimpleGrid=forwardRef(function(s,o){const{columns:a,spacingX:rt,spacingY:et,spacing:ot,minChildWidth:at,...nt}=s,it=useTheme(),j=at?widthToColumns(at,it):countToColumns(a);return jsxRuntimeExports.jsx(Grid,{ref:o,gap:ot,columnGap:rt,rowGap:et,templateColumns:j,...nt})});SimpleGrid.displayName="SimpleGrid";function toPx(i){return typeof i=="number"?`${i}px`:i}function widthToColumns(i,s){return mapResponsive(i,o=>{const a=getToken("sizes",o,toPx(o))(s);return o===null?null:`repeat(auto-fit, minmax(${a}, 1fr))`})}function countToColumns(i){return mapResponsive(i,s=>s===null?null:`repeat(${s}, minmax(0, 1fr))`)}var Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";var Text=forwardRef(function(s,o){const a=useStyleConfig("Text",s),{className:rt,align:et,decoration:ot,casing:at,...nt}=omitThemingProps(s),it=compact({textAlign:s.align,textDecoration:s.decoration,textTransform:s.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:o,className:cx("chakra-text",s.className),...it,...nt,__css:a})});Text.displayName="Text";var StackDivider=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__divider",...i,__css:{...i.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";var StackItem=i=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";function getDividerStyles(i){const{spacing:s,direction:o}=i,a={column:{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:s,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:s,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(o,rt=>a[rt])}}var Stack=forwardRef((i,s)=>{const{isInline:o,direction:a,align:rt,justify:et,spacing:ot="0.5rem",wrap:at,children:nt,divider:it,className:j,shouldWrapChildren:_,...$}=i,tt=o?"row":a??"column",st=reactExports.useMemo(()=>getDividerStyles({spacing:ot,direction:tt}),[ot,tt]),lt=!!it,ct=!_&&!lt,ht=reactExports.useMemo(()=>{const pt=getValidChildren(nt);return ct?pt:pt.map((mt,vt)=>{const dt=typeof mt.key<"u"?mt.key:vt,St=vt+1===pt.length,gt=_?jsxRuntimeExports.jsx(StackItem,{children:mt},dt):mt;if(!lt)return gt;const Et=reactExports.cloneElement(it,{__css:st}),_t=St?null:Et;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[gt,_t]},dt)})},[it,st,lt,ct,_,nt]),ut=cx("chakra-stack",j);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:rt,justifyContent:et,flexDirection:tt,flexWrap:at,gap:lt?void 0:ot,className:ut,...$,children:ht})});Stack.displayName="Stack";var HStack=forwardRef((i,s)=>jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"row",ref:s}));HStack.displayName="HStack";function spanFn(i){return mapResponsive(i,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}var GridItem=forwardRef(function(s,o){const{area:a,colSpan:rt,colStart:et,colEnd:ot,rowEnd:at,rowSpan:nt,rowStart:it,...j}=s,_=compact({gridArea:a,gridColumn:spanFn(rt),gridRow:spanFn(nt),gridColumnStart:et,gridColumnEnd:ot,gridRowStart:it,gridRowEnd:at});return jsxRuntimeExports.jsx(chakra.div,{ref:o,__css:_,...j})});GridItem.displayName="GridItem";var Heading=forwardRef(function(s,o){const a=useStyleConfig("Heading",s),{className:rt,...et}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.h2,{ref:o,className:cx("chakra-heading",s.className),...et,__css:a})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(s,o){const{size:a,centerContent:rt=!0,...et}=s,ot=rt?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return jsxRuntimeExports.jsx(Box,{ref:o,boxSize:a,__css:{...ot,flexShrink:0,flexGrow:0},...et})});Square.displayName="Square";var Circle=forwardRef(function(s,o){const{size:a,...rt}=s;return jsxRuntimeExports.jsx(Square,{size:a,ref:o,borderRadius:"9999px",...rt})});Circle.displayName="Circle";var Code=forwardRef(function(s,o){const a=useStyleConfig("Code",s),{className:rt,...et}=omitThemingProps(s);return jsxRuntimeExports.jsx(chakra.code,{ref:o,className:cx("chakra-code",s.className),...et,__css:{display:"inline-block",...a}})});Code.displayName="Code";var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=i=>transitions[i||"none"],ModalTransition=reactExports.forwardRef((i,s)=>{const{preset:o,motionProps:a=getMotionProps(o),...rt}=i;return jsxRuntimeExports.jsx(MotionSection,{ref:s,...a,...rt})});ModalTransition.displayName="ModalTransition";var __defProp=Object.defineProperty,__defNormalProp=(i,s,o)=>s in i?__defProp(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,__publicField=(i,s,o)=>(__defNormalProp(i,s+"",o),o),ModalManager=class{constructor(){__publicField(this,"modals"),this.modals=new Map}add(i){return this.modals.set(i,this.modals.size+1),this.modals.size}remove(i){this.modals.delete(i)}isTopModal(i){return i?this.modals.get(i)===this.modals.size:!1}},modalManager=new ModalManager;function useModalManager(i,s){const[o,a]=reactExports.useState(0);return reactExports.useEffect(()=>{const rt=i.current;if(rt){if(s){const et=modalManager.add(rt);a(et)}return()=>{modalManager.remove(rt),a(0)}}},[s,i]),o}var getDefaultParent=function(i){if(typeof document>"u")return null;var s=Array.isArray(i)?i[0]:i;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,s){return s.map(function(o){if(i.contains(o))return o;var a=unwrapHost(o);return a&&i.contains(a)?a:(console.error("aria-hidden",o,"in not contained inside",i,". Doing nothing"),null)}).filter(function(o){return!!o})},applyAttributeToOthers=function(i,s,o,a){var rt=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[o]||(markerMap[o]=new WeakMap);var et=markerMap[o],ot=[],at=new Set,nt=new Set(rt),it=function(_){!_||at.has(_)||(at.add(_),it(_.parentNode))};rt.forEach(it);var j=function(_){!_||nt.has(_)||Array.prototype.forEach.call(_.children,function($){if(at.has($))j($);else{var tt=$.getAttribute(a),st=tt!==null&&tt!=="false",lt=(counterMap.get($)||0)+1,ct=(et.get($)||0)+1;counterMap.set($,lt),et.set($,ct),ot.push($),lt===1&&st&&uncontrolledNodes.set($,!0),ct===1&&$.setAttribute(o,"true"),st||$.setAttribute(a,"true")}})};return j(s),at.clear(),lockCount++,function(){ot.forEach(function(_){var $=counterMap.get(_)-1,tt=et.get(_)-1;counterMap.set(_,$),et.set(_,tt),$||(uncontrolledNodes.has(_)||_.removeAttribute(a),uncontrolledNodes.delete(_)),tt||_.removeAttribute(o)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,s,o){o===void 0&&(o="data-aria-hidden");var a=Array.from(Array.isArray(i)?i:[i]),rt=getDefaultParent(i);return rt?(a.push.apply(a,Array.from(rt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(a,rt,o,"aria-hidden")):function(){return null}};function useModal(i){const{isOpen:s,onClose:o,id:a,closeOnOverlayClick:rt=!0,closeOnEsc:et=!0,useInert:ot=!0,onOverlayClick:at,onEsc:nt}=i,it=reactExports.useRef(null),j=reactExports.useRef(null),[_,$,tt]=useIds(a,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(it,s&&ot);const st=useModalManager(it,s),lt=reactExports.useRef(null),ct=reactExports.useCallback(gt=>{lt.current=gt.target},[]),ht=reactExports.useCallback(gt=>{gt.key==="Escape"&&(gt.stopPropagation(),et&&(o==null||o()),nt==null||nt())},[et,o,nt]),[ut,pt]=reactExports.useState(!1),[mt,vt]=reactExports.useState(!1),dt=reactExports.useCallback((gt={},Et=null)=>({role:"dialog",...gt,ref:mergeRefs(Et,it),id:_,tabIndex:-1,"aria-modal":!0,"aria-labelledby":ut?$:void 0,"aria-describedby":mt?tt:void 0,onClick:callAllHandlers$1(gt.onClick,_t=>_t.stopPropagation())}),[tt,mt,_,$,ut]),St=reactExports.useCallback(gt=>{gt.stopPropagation(),lt.current===gt.target&&modalManager.isTopModal(it.current)&&(rt&&(o==null||o()),at==null||at())},[o,rt,at]),yt=reactExports.useCallback((gt={},Et=null)=>({...gt,ref:mergeRefs(Et,j),onClick:callAllHandlers$1(gt.onClick,St),onKeyDown:callAllHandlers$1(gt.onKeyDown,ht),onMouseDown:callAllHandlers$1(gt.onMouseDown,ct)}),[ht,ct,St]);return{isOpen:s,onClose:o,headerId:$,bodyId:tt,setBodyMounted:vt,setHeaderMounted:pt,dialogRef:it,overlayRef:j,getDialogProps:dt,getDialogContainerProps:yt,index:st}}function useAriaHidden(i,s){const o=i.current;reactExports.useEffect(()=>{if(!(!i.current||!s))return hideOthers(i.current)},[s,i,o])}function useIds(i,...s){const o=reactExports.useId(),a=i||o;return reactExports.useMemo(()=>s.map(rt=>`${rt}-${a}`),[a,s])}var[ModalStylesProvider,useModalStyles]=createContext$2({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$2({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=i=>{const s={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...i},{portalProps:o,children:a,autoFocus:rt,trapFocus:et,initialFocusRef:ot,finalFocusRef:at,returnFocusOnClose:nt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:tt,onCloseComplete:st}=s,lt=useMultiStyleConfig("Modal",s),ht={...useModal(s),autoFocus:rt,trapFocus:et,initialFocusRef:ot,finalFocusRef:at,returnFocusOnClose:nt,blockScrollOnMount:it,allowPinchZoom:j,preserveScrollBarGap:_,motionPreset:$,lockFocusAcrossFrames:tt};return jsxRuntimeExports.jsx(ModalContextProvider,{value:ht,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:lt,children:jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:st,children:ht.isOpen&&jsxRuntimeExports.jsx(Portal,{...o,children:a})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(i,s){var o=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),rt=a[0],et=a[1],ot=i.forwardProps,at=i.children,nt=i.className,it=i.removeScrollBar,j=i.enabled,_=i.shards,$=i.sideCar,tt=i.noIsolation,st=i.inert,lt=i.allowPinchZoom,ct=i.as,ht=ct===void 0?"div":ct,ut=i.gapMode,pt=__rest(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),mt=$,vt=useMergeRefs([o,s]),dt=__assign$2(__assign$2({},pt),rt);return reactExports.createElement(reactExports.Fragment,null,j&&reactExports.createElement(mt,{sideCar:effectCar,removeScrollBar:it,shards:_,noIsolation:tt,inert:st,setCallbacks:et,allowPinchZoom:!!lt,lockRef:o,gapMode:ut}),ot?reactExports.cloneElement(reactExports.Children.only(at),__assign$2(__assign$2({},dt),{ref:vt})):reactExports.createElement(ht,__assign$2({},dt,{className:nt,ref:vt}),at))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var s=getNonce();return s&&i.setAttribute("nonce",s),i}function injectStyles(i,s){i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}function insertStyleTag(i){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(i)}var stylesheetSingleton=function(){var i=0,s=null;return{add:function(o){i==0&&(s=makeStyleTag())&&(injectStyles(s,o),insertStyleTag(s)),i++},remove:function(){i--,!i&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(s,o){reactExports.useEffect(function(){return i.add(s),function(){i.remove()}},[s&&o])}},styleSingleton=function(){var i=styleHookSingleton(),s=function(o){var a=o.styles,rt=o.dynamic;return i(a,rt),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var s=window.getComputedStyle(document.body),o=s[i==="padding"?"paddingLeft":"marginLeft"],a=s[i==="padding"?"paddingTop":"marginTop"],rt=s[i==="padding"?"paddingRight":"marginRight"];return[parse$1(o),parse$1(a),parse$1(rt)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var s=getOffset(i),o=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-o+s[2]-s[0])}},Style=styleSingleton(),getStyles=function(i,s,o,a){var rt=i.left,et=i.top,ot=i.right,at=i.gap;return o===void 0&&(o="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(at,"px ").concat(a,`;
  }
  body {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),o==="margin"&&`
    padding-left: `.concat(rt,`px;
    padding-top: `).concat(et,`px;
    padding-right: `).concat(ot,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(at,"px ").concat(a,`;
    `),o==="padding"&&"padding-right: ".concat(at,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(at,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(at,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(at,`px;
  }
`)},RemoveScrollBar=function(i){var s=i.noRelative,o=i.noImportant,a=i.gapMode,rt=a===void 0?"margin":a,et=reactExports.useMemo(function(){return getGapWidth(rt)},[rt]);return reactExports.createElement(Style,{styles:getStyles(et,!s,rt,o?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,s){var o=window.getComputedStyle(i);return o[s]!=="hidden"&&!(o.overflowY===o.overflowX&&!alwaysContainsScroll(i)&&o[s]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,s){var o=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var rt=elementCouldBeScrolled(i,a);if(rt){var et=getScrollVariables(i,a),ot=et[1],at=et[2];if(ot>at)return!0}a=a.parentNode}while(a&&a!==o.body);return!1},getVScrollVariables=function(i){var s=i.scrollTop,o=i.scrollHeight,a=i.clientHeight;return[s,o,a]},getHScrollVariables=function(i){var s=i.scrollLeft,o=i.scrollWidth,a=i.clientWidth;return[s,o,a]},elementCouldBeScrolled=function(i,s){return i==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(i,s){return i==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(i,s){return i==="h"&&s==="rtl"?-1:1},handleScroll=function(i,s,o,a,rt){var et=getDirectionFactor(i,window.getComputedStyle(s).direction),ot=et*a,at=o.target,nt=s.contains(at),it=!1,j=ot>0,_=0,$=0;do{var tt=getScrollVariables(i,at),st=tt[0],lt=tt[1],ct=tt[2],ht=lt-ct-et*st;(st||ht)&&elementCouldBeScrolled(i,at)&&(_+=ht,$+=st),at instanceof ShadowRoot?at=at.host:at=at.parentNode}while(!nt&&at!==document.body||nt&&(s.contains(at)||s===at));return(j&&(Math.abs(_)<1||!rt)||!j&&(Math.abs($)<1||!rt))&&(it=!0),it},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,s){return i[0]===s[0]&&i[1]===s[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var s=reactExports.useRef([]),o=reactExports.useRef([0,0]),a=reactExports.useRef(),rt=reactExports.useState(idCounter++)[0],et=reactExports.useState(styleSingleton)[0],ot=reactExports.useRef(i);reactExports.useEffect(function(){ot.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(rt));var lt=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return lt.forEach(function(ct){return ct.classList.add("allow-interactivity-".concat(rt))}),function(){document.body.classList.remove("block-interactivity-".concat(rt)),lt.forEach(function(ct){return ct.classList.remove("allow-interactivity-".concat(rt))})}}},[i.inert,i.lockRef.current,i.shards]);var at=reactExports.useCallback(function(lt,ct){if("touches"in lt&&lt.touches.length===2)return!ot.current.allowPinchZoom;var ht=getTouchXY(lt),ut=o.current,pt="deltaX"in lt?lt.deltaX:ut[0]-ht[0],mt="deltaY"in lt?lt.deltaY:ut[1]-ht[1],vt,dt=lt.target,St=Math.abs(pt)>Math.abs(mt)?"h":"v";if("touches"in lt&&St==="h"&&dt.type==="range")return!1;var yt=locationCouldBeScrolled(St,dt);if(!yt)return!0;if(yt?vt=St:(vt=St==="v"?"h":"v",yt=locationCouldBeScrolled(St,dt)),!yt)return!1;if(!a.current&&"changedTouches"in lt&&(pt||mt)&&(a.current=vt),!vt)return!0;var gt=a.current||vt;return handleScroll(gt,ct,lt,gt==="h"?pt:mt,!0)},[]),nt=reactExports.useCallback(function(lt){var ct=lt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==et)){var ht="deltaY"in ct?getDeltaXY(ct):getTouchXY(ct),ut=s.current.filter(function(vt){return vt.name===ct.type&&(vt.target===ct.target||ct.target===vt.shadowParent)&&deltaCompare(vt.delta,ht)})[0];if(ut&&ut.should){ct.cancelable&&ct.preventDefault();return}if(!ut){var pt=(ot.current.shards||[]).map(extractRef).filter(Boolean).filter(function(vt){return vt.contains(ct.target)}),mt=pt.length>0?at(ct,pt[0]):!ot.current.noIsolation;mt&&ct.cancelable&&ct.preventDefault()}}},[]),it=reactExports.useCallback(function(lt,ct,ht,ut){var pt={name:lt,delta:ct,target:ht,should:ut,shadowParent:getOutermostShadowParent(ht)};s.current.push(pt),setTimeout(function(){s.current=s.current.filter(function(mt){return mt!==pt})},1)},[]),j=reactExports.useCallback(function(lt){o.current=getTouchXY(lt),a.current=void 0},[]),_=reactExports.useCallback(function(lt){it(lt.type,getDeltaXY(lt),lt.target,at(lt,i.lockRef.current))},[]),$=reactExports.useCallback(function(lt){it(lt.type,getTouchXY(lt),lt.target,at(lt,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(et),i.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:$}),document.addEventListener("wheel",nt,nonPassive),document.addEventListener("touchmove",nt,nonPassive),document.addEventListener("touchstart",j,nonPassive),function(){lockStack=lockStack.filter(function(lt){return lt!==et}),document.removeEventListener("wheel",nt,nonPassive),document.removeEventListener("touchmove",nt,nonPassive),document.removeEventListener("touchstart",j,nonPassive)}},[]);var tt=i.removeScrollBar,st=i.inert;return reactExports.createElement(reactExports.Fragment,null,st?reactExports.createElement(et,{styles:generateStyle(rt)}):null,tt?reactExports.createElement(RemoveScrollBar,{gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var s=null;i!==null;)i instanceof ShadowRoot&&(s=i.host,i=i.host),i=i.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,s){return reactExports.createElement(RemoveScroll,__assign$2({},i,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(i){const{autoFocus:s,trapFocus:o,dialogRef:a,initialFocusRef:rt,blockScrollOnMount:et,allowPinchZoom:ot,finalFocusRef:at,returnFocusOnClose:nt,preserveScrollBarGap:it,lockFocusAcrossFrames:j,isOpen:_}=useModalContext(),[$,tt]=usePresence();reactExports.useEffect(()=>{!$&&tt&&setTimeout(tt)},[$,tt]);const st=useModalManager(a,_);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:s,isDisabled:!o,initialFocusRef:rt,finalFocusRef:at,restoreFocus:nt,contentRef:a,lockFocusAcrossFrames:j,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!it,allowPinchZoom:ot,enabled:st===1&&et,forwardProps:!0,children:i.children})})}var ModalContent=forwardRef((i,s)=>{const{className:o,children:a,containerProps:rt,motionProps:et,...ot}=i,{getDialogProps:at,getDialogContainerProps:nt}=useModalContext(),it=at(ot,s),j=nt(rt),_=cx("chakra-modal__content",o),$=useModalStyles(),tt={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...$.dialog},st={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...$.dialogContainer},{motionPreset:lt}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...j,className:"chakra-modal__content-container",tabIndex:-1,__css:st,children:jsxRuntimeExports.jsx(ModalTransition,{preset:lt,motionProps:et,className:_,...it,__css:tt,children:a})})})});ModalContent.displayName="ModalContent";var ModalFooter=forwardRef((i,s)=>{const{className:o,...a}=i,rt=cx("chakra-modal__footer",o),ot={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:s,...a,__css:ot,className:rt})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((i,s)=>{const{className:o,...a}=i,{headerId:rt,setHeaderMounted:et}=useModalContext();reactExports.useEffect(()=>(et(!0),()=>et(!1)),[et]);const ot=cx("chakra-modal__header",o),nt={flex:0,...useModalStyles().header};return jsxRuntimeExports.jsx(chakra.header,{ref:s,className:ot,id:rt,...a,__css:nt})});ModalHeader.displayName="ModalHeader";var MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((i,s)=>{const{className:o,transition:a,motionProps:rt,...et}=i,ot=cx("chakra-modal__overlay",o),nt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:it}=useModalContext(),_=rt||(it==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv,{..._,__css:nt,ref:s,className:ot,...et})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((i,s)=>{const{className:o,...a}=i,{bodyId:rt,setBodyMounted:et}=useModalContext();reactExports.useEffect(()=>(et(!0),()=>et(!1)),[et]);const ot=cx("chakra-modal__body",o),at=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:s,className:ot,id:rt,...a,__css:at.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((i,s)=>{const{onClick:o,className:a,...rt}=i,{onClose:et}=useModalContext(),ot=cx("chakra-modal__close-btn",a),at=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:s,__css:at.closeButton,className:ot,onClick:callAllHandlers$1(o,nt=>{nt.stopPropagation(),et()}),...rt})});ModalCloseButton.displayName="ModalCloseButton";var SelectField=forwardRef(function(s,o){const{children:a,placeholder:rt,className:et,...ot}=s;return jsxRuntimeExports.jsxs(chakra.select,{...ot,ref:o,className:cx("chakra-select",et),children:[rt&&jsxRuntimeExports.jsx("option",{value:"",children:rt}),a]})});SelectField.displayName="SelectField";function split$1(i,s){const o={},a={};for(const[rt,et]of Object.entries(i))s.includes(rt)?o[rt]=et:a[rt]=et;return[o,a]}var Select=forwardRef((i,s)=>{var o;const a=useMultiStyleConfig("Select",i),{rootProps:rt,placeholder:et,icon:ot,color:at,height:nt,h:it,minH:j,minHeight:_,iconColor:$,iconSize:tt,...st}=omitThemingProps(i),[lt,ct]=split$1(st,layoutPropNames),ht=useFormControl(ct),ut={width:"100%",height:"fit-content",position:"relative",color:at},pt={paddingEnd:"2rem",...a.field,_focus:{zIndex:"unset",...(o=a.field)==null?void 0:o._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:ut,...lt,...rt,children:[jsxRuntimeExports.jsx(SelectField,{ref:s,height:it??nt,minH:j??_,placeholder:et,...ht,__css:pt,children:i.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(ht.disabled),...($||at)&&{color:$||at},__css:a.icon,...tt&&{fontSize:tt},children:ot})]})});Select.displayName="Select";var DefaultIcon=i=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=i=>{const{children:s=jsxRuntimeExports.jsx(DefaultIcon,{}),...o}=i,a=reactExports.cloneElement(s,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...o,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(s)?a:null})};SelectIcon.displayName="SelectIcon";var client={},m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=reactExports;function n(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var p=typeof Object.is=="function"?Object.is:n,q=g.useSyncExternalStore,r=g.useRef,t=g.useEffect,u=g.useMemo,v=g.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(i,s,o,a,rt){var et=r(null);if(et.current===null){var ot={hasValue:!1,value:null};et.current=ot}else ot=et.current;et=u(function(){function nt(tt){if(!it){if(it=!0,j=tt,tt=a(tt),rt!==void 0&&ot.hasValue){var st=ot.value;if(rt(st,tt))return _=st}return _=tt}if(st=_,p(j,tt))return st;var lt=a(tt);return rt!==void 0&&rt(st,lt)?st:(j=tt,_=lt)}var it=!1,j,_,$=o===void 0?null:o;return[function(){return nt(s())},$===null?void 0:function(){return nt($())}]},[s,o,a,rt]);var at=q(i,et[0],et[1]);return t(function(){ot.hasValue=!0,ot.value=at},[at]),v(at),at};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$3="default"in ReactOriginal?React$4:ReactOriginal,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$3.createContext)return{};const i=gT[ContextKey]??(gT[ContextKey]=new Map);let s=i.get(React$3.createContext);return s||(s=React$3.createContext(null),i.set(React$3.createContext,s)),s}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(i=ReactReduxContext){return function(){return React$3.useContext(i)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=i=>{useSyncExternalStoreWithSelector=i},refEquality=(i,s)=>i===s;function createSelectorHook(i=ReactReduxContext){const s=i===ReactReduxContext?useReduxContext:createReduxContextHook(i),o=(a,rt={})=>{const{equalityFn:et=refEquality,devModeChecks:ot={}}=typeof rt=="function"?{equalityFn:rt}:rt,{store:at,subscription:nt,getServerState:it,stabilityCheck:j,identityFunctionCheck:_}=s();React$3.useRef(!0);const $=React$3.useCallback({[a.name](st){return a(st)}}[a.name],[a,j,ot.stabilityCheck]),tt=useSyncExternalStoreWithSelector(nt.addNestedSub,at.getState,it||at.getState,$,et);return React$3.useDebugValue(tt),tt};return Object.assign(o,{withTypes:()=>o}),o}var useSelector=createSelectorHook();function defaultNoopBatch(i){i()}function createListenerCollection(){let i=null,s=null;return{clear(){i=null,s=null},notify(){defaultNoopBatch(()=>{let o=i;for(;o;)o.callback(),o=o.next})},get(){const o=[];let a=i;for(;a;)o.push(a),a=a.next;return o},subscribe(o){let a=!0;const rt=s={callback:o,next:null,prev:s};return rt.prev?rt.prev.next=rt:i=rt,function(){!a||i===null||(a=!1,rt.next?rt.next.prev=rt.prev:s=rt.prev,rt.prev?rt.prev.next=rt.next:i=rt.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(i,s){let o,a=nullListeners,rt=0,et=!1;function ot(lt){j();const ct=a.subscribe(lt);let ht=!1;return()=>{ht||(ht=!0,ct(),_())}}function at(){a.notify()}function nt(){st.onStateChange&&st.onStateChange()}function it(){return et}function j(){rt++,o||(o=i.subscribe(nt),a=createListenerCollection())}function _(){rt--,o&&rt===0&&(o(),o=void 0,a.clear(),a=nullListeners)}function $(){et||(et=!0,j())}function tt(){et&&(et=!1,_())}const st={addNestedSub:ot,notifyNestedSubs:at,handleChangeWrapper:nt,isSubscribed:it,trySubscribe:$,tryUnsubscribe:tt,getListeners:()=>a};return st}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",useIsomorphicLayoutEffect=canUseDOM||isReactNative?React$3.useLayoutEffect:React$3.useEffect;function Provider({store:i,context:s,children:o,serverState:a,stabilityCheck:rt="once",identityFunctionCheck:et="once"}){const ot=React$3.useMemo(()=>{const it=createSubscription(i);return{store:i,subscription:it,getServerState:a?()=>a:void 0,stabilityCheck:rt,identityFunctionCheck:et}},[i,a,rt,et]),at=React$3.useMemo(()=>i.getState(),[i]);useIsomorphicLayoutEffect(()=>{const{subscription:it}=ot;return it.onStateChange=it.notifyNestedSubs,it.trySubscribe(),at!==i.getState()&&it.notifyNestedSubs(),()=>{it.tryUnsubscribe(),it.onStateChange=void 0}},[ot,at]);const nt=s||ReactReduxContext;return React$3.createElement(nt.Provider,{value:ot},o)}var Provider_default=Provider;function createStoreHook(i=ReactReduxContext){const s=i===ReactReduxContext?useReduxContext:createReduxContextHook(i),o=()=>{const{store:a}=s();return a};return Object.assign(o,{withTypes:()=>o}),o}var useStore=createStoreHook();function createDispatchHook(i=ReactReduxContext){const s=i===ReactReduxContext?useStore:createStoreHook(i),o=()=>s().dispatch;return Object.assign(o,{withTypes:()=>o}),o}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);const scriptRel="modulepreload",assetsURL=function(i){return"/seker/"+i},seen={},__vitePreload=function(s,o,a){let rt=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const et=document.querySelector("meta[property=csp-nonce]"),ot=(et==null?void 0:et.nonce)||(et==null?void 0:et.getAttribute("nonce"));rt=Promise.all(o.map(at=>{if(at=assetsURL(at),at in seen)return;seen[at]=!0;const nt=at.endsWith(".css"),it=nt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${at}"]${it}`))return;const j=document.createElement("link");if(j.rel=nt?"stylesheet":scriptRel,nt||(j.as="script",j.crossOrigin=""),j.href=at,ot&&j.setAttribute("nonce",ot),document.head.appendChild(j),nt)return new Promise((_,$)=>{j.addEventListener("load",_),j.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${at}`)))})}))}return rt.then(()=>s()).catch(et=>{const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=et,window.dispatchEvent(ot),!ot.defaultPrevented)throw et})};var lzString={exports:{}};lzString.exports;(function(i){var s=function(){var o=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",et={};function ot(nt,it){if(!et[nt]){et[nt]={};for(var j=0;j<nt.length;j++)et[nt][nt.charAt(j)]=j}return et[nt][it]}var at={compressToBase64:function(nt){if(nt==null)return"";var it=at._compress(nt,6,function(j){return a.charAt(j)});switch(it.length%4){default:case 0:return it;case 1:return it+"===";case 2:return it+"==";case 3:return it+"="}},decompressFromBase64:function(nt){return nt==null?"":nt==""?null:at._decompress(nt.length,32,function(it){return ot(a,nt.charAt(it))})},compressToUTF16:function(nt){return nt==null?"":at._compress(nt,15,function(it){return o(it+32)})+" "},decompressFromUTF16:function(nt){return nt==null?"":nt==""?null:at._decompress(nt.length,16384,function(it){return nt.charCodeAt(it)-32})},compressToUint8Array:function(nt){for(var it=at.compress(nt),j=new Uint8Array(it.length*2),_=0,$=it.length;_<$;_++){var tt=it.charCodeAt(_);j[_*2]=tt>>>8,j[_*2+1]=tt%256}return j},decompressFromUint8Array:function(nt){if(nt==null)return at.decompress(nt);for(var it=new Array(nt.length/2),j=0,_=it.length;j<_;j++)it[j]=nt[j*2]*256+nt[j*2+1];var $=[];return it.forEach(function(tt){$.push(o(tt))}),at.decompress($.join(""))},compressToEncodedURIComponent:function(nt){return nt==null?"":at._compress(nt,6,function(it){return rt.charAt(it)})},decompressFromEncodedURIComponent:function(nt){return nt==null?"":nt==""?null:(nt=nt.replace(/ /g,"+"),at._decompress(nt.length,32,function(it){return ot(rt,nt.charAt(it))}))},compress:function(nt){return at._compress(nt,16,function(it){return o(it)})},_compress:function(nt,it,j){if(nt==null)return"";var _,$,tt={},st={},lt="",ct="",ht="",ut=2,pt=3,mt=2,vt=[],dt=0,St=0,yt;for(yt=0;yt<nt.length;yt+=1)if(lt=nt.charAt(yt),Object.prototype.hasOwnProperty.call(tt,lt)||(tt[lt]=pt++,st[lt]=!0),ct=ht+lt,Object.prototype.hasOwnProperty.call(tt,ct))ht=ct;else{if(Object.prototype.hasOwnProperty.call(st,ht)){if(ht.charCodeAt(0)<256){for(_=0;_<mt;_++)dt=dt<<1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++;for($=ht.charCodeAt(0),_=0;_<8;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}else{for($=1,_=0;_<mt;_++)dt=dt<<1|$,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=0;for($=ht.charCodeAt(0),_=0;_<16;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,mt),mt++),delete st[ht]}else for($=tt[ht],_=0;_<mt;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,mt),mt++),tt[ct]=pt++,ht=String(lt)}if(ht!==""){if(Object.prototype.hasOwnProperty.call(st,ht)){if(ht.charCodeAt(0)<256){for(_=0;_<mt;_++)dt=dt<<1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++;for($=ht.charCodeAt(0),_=0;_<8;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}else{for($=1,_=0;_<mt;_++)dt=dt<<1|$,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=0;for($=ht.charCodeAt(0),_=0;_<16;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1}ut--,ut==0&&(ut=Math.pow(2,mt),mt++),delete st[ht]}else for($=tt[ht],_=0;_<mt;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1;ut--,ut==0&&(ut=Math.pow(2,mt),mt++)}for($=2,_=0;_<mt;_++)dt=dt<<1|$&1,St==it-1?(St=0,vt.push(j(dt)),dt=0):St++,$=$>>1;for(;;)if(dt=dt<<1,St==it-1){vt.push(j(dt));break}else St++;return vt.join("")},decompress:function(nt){return nt==null?"":nt==""?null:at._decompress(nt.length,32768,function(it){return nt.charCodeAt(it)})},_decompress:function(nt,it,j){var _=[],$=4,tt=4,st=3,lt="",ct=[],ht,ut,pt,mt,vt,dt,St,yt={val:j(0),position:it,index:1};for(ht=0;ht<3;ht+=1)_[ht]=ht;for(pt=0,vt=Math.pow(2,2),dt=1;dt!=vt;)mt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),pt|=(mt>0?1:0)*dt,dt<<=1;switch(pt){case 0:for(pt=0,vt=Math.pow(2,8),dt=1;dt!=vt;)mt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),pt|=(mt>0?1:0)*dt,dt<<=1;St=o(pt);break;case 1:for(pt=0,vt=Math.pow(2,16),dt=1;dt!=vt;)mt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),pt|=(mt>0?1:0)*dt,dt<<=1;St=o(pt);break;case 2:return""}for(_[3]=St,ut=St,ct.push(St);;){if(yt.index>nt)return"";for(pt=0,vt=Math.pow(2,st),dt=1;dt!=vt;)mt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),pt|=(mt>0?1:0)*dt,dt<<=1;switch(St=pt){case 0:for(pt=0,vt=Math.pow(2,8),dt=1;dt!=vt;)mt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),pt|=(mt>0?1:0)*dt,dt<<=1;_[tt++]=o(pt),St=tt-1,$--;break;case 1:for(pt=0,vt=Math.pow(2,16),dt=1;dt!=vt;)mt=yt.val&yt.position,yt.position>>=1,yt.position==0&&(yt.position=it,yt.val=j(yt.index++)),pt|=(mt>0?1:0)*dt,dt<<=1;_[tt++]=o(pt),St=tt-1,$--;break;case 2:return ct.join("")}if($==0&&($=Math.pow(2,st),st++),_[St])lt=_[St];else if(St===tt)lt=ut+ut.charAt(0);else return null;ct.push(lt),_[tt++]=ut+lt.charAt(0),$--,ut=lt,$==0&&($=Math.pow(2,st),st++)}}};return at}();i!=null?i.exports=s:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return s})})(lzString);var lzStringExports=lzString.exports;const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(i,s){try{return[decodeURIComponent(i.join(""))]}catch{}if(i.length===1)return i;s=s||1;const o=i.slice(0,s),a=i.slice(s);return Array.prototype.concat.call([],decodeComponents(o),decodeComponents(a))}function decode$1(i){try{return decodeURIComponent(i)}catch{let s=i.match(singleMatcher)||[];for(let o=1;o<s.length;o++)i=decodeComponents(s,o).join(""),s=i.match(singleMatcher)||[];return i}}function customDecodeURIComponent(i){const s={"%FE%FF":"","%FF%FE":""};let o=multiMatcher.exec(i);for(;o;){try{s[o[0]]=decodeURIComponent(o[0])}catch{const rt=decode$1(o[0]);rt!==o[0]&&(s[o[0]]=rt)}o=multiMatcher.exec(i)}s["%C2"]="";const a=Object.keys(s);for(const rt of a)i=i.replace(new RegExp(rt,"g"),s[rt]);return i}function decodeUriComponent(i){if(typeof i!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof i+"`");try{return decodeURIComponent(i)}catch{return customDecodeURIComponent(i)}}function splitOnFirst(i,s){if(!(typeof i=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(i===""||s==="")return[];const o=i.indexOf(s);return o===-1?[]:[i.slice(0,o),i.slice(o+s.length)]}function includeKeys(i,s){const o={};if(Array.isArray(s))for(const a of s){const rt=Object.getOwnPropertyDescriptor(i,a);rt!=null&&rt.enumerable&&Object.defineProperty(o,a,rt)}else for(const a of Reflect.ownKeys(i)){const rt=Object.getOwnPropertyDescriptor(i,a);if(rt.enumerable){const et=i[a];s(a,et,i)&&Object.defineProperty(o,a,rt)}}return o}const isNullOrUndefined=i=>i==null,strictUriEncode=i=>encodeURIComponent(i).replaceAll(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(i){switch(i.arrayFormat){case"index":return s=>(o,a)=>{const rt=o.length;return a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),"[",rt,"]"].join("")]:[...o,[encode(s,i),"[",encode(rt,i),"]=",encode(a,i)].join("")]};case"bracket":return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),"[]"].join("")]:[...o,[encode(s,i),"[]=",encode(a,i)].join("")];case"colon-list-separator":return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,[encode(s,i),":list="].join("")]:[...o,[encode(s,i),":list=",encode(a,i)].join("")];case"comma":case"separator":case"bracket-separator":{const s=i.arrayFormat==="bracket-separator"?"[]=":"=";return o=>(a,rt)=>rt===void 0||i.skipNull&&rt===null||i.skipEmptyString&&rt===""?a:(rt=rt===null?"":rt,a.length===0?[[encode(o,i),s,encode(rt,i)].join("")]:[[a,encode(rt,i)].join(i.arrayFormatSeparator)])}default:return s=>(o,a)=>a===void 0||i.skipNull&&a===null||i.skipEmptyString&&a===""?o:a===null?[...o,encode(s,i)]:[...o,[encode(s,i),"=",encode(a,i)].join("")]}}function parserForArrayFormat(i){let s;switch(i.arrayFormat){case"index":return(o,a,rt)=>{if(s=/\[(\d*)]$/.exec(o),o=o.replace(/\[\d*]$/,""),!s){rt[o]=a;return}rt[o]===void 0&&(rt[o]={}),rt[o][s[1]]=a};case"bracket":return(o,a,rt)=>{if(s=/(\[])$/.exec(o),o=o.replace(/\[]$/,""),!s){rt[o]=a;return}if(rt[o]===void 0){rt[o]=[a];return}rt[o]=[...rt[o],a]};case"colon-list-separator":return(o,a,rt)=>{if(s=/(:list)$/.exec(o),o=o.replace(/:list$/,""),!s){rt[o]=a;return}if(rt[o]===void 0){rt[o]=[a];return}rt[o]=[...rt[o],a]};case"comma":case"separator":return(o,a,rt)=>{const et=typeof a=="string"&&a.includes(i.arrayFormatSeparator),ot=typeof a=="string"&&!et&&decode(a,i).includes(i.arrayFormatSeparator);a=ot?decode(a,i):a;const at=et||ot?a.split(i.arrayFormatSeparator).map(nt=>decode(nt,i)):a===null?a:decode(a,i);rt[o]=at};case"bracket-separator":return(o,a,rt)=>{const et=/(\[])$/.test(o);if(o=o.replace(/\[]$/,""),!et){rt[o]=a&&decode(a,i);return}const ot=a===null?[]:a.split(i.arrayFormatSeparator).map(at=>decode(at,i));if(rt[o]===void 0){rt[o]=ot;return}rt[o]=[...rt[o],...ot]};default:return(o,a,rt)=>{if(rt[o]===void 0){rt[o]=a;return}rt[o]=[...[rt[o]].flat(),a]}}}function validateArrayFormatSeparator(i){if(typeof i!="string"||i.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(i,s){return s.encode?s.strict?strictUriEncode(i):encodeURIComponent(i):i}function decode(i,s){return s.decode?decodeUriComponent(i):i}function keysSorter(i){return Array.isArray(i)?i.sort():typeof i=="object"?keysSorter(Object.keys(i)).sort((s,o)=>Number(s)-Number(o)).map(s=>i[s]):i}function removeHash(i){const s=i.indexOf("#");return s!==-1&&(i=i.slice(0,s)),i}function getHash(i){let s="";const o=i.indexOf("#");return o!==-1&&(s=i.slice(o)),s}function parseValue(i,s){return s.parseNumbers&&!Number.isNaN(Number(i))&&typeof i=="string"&&i.trim()!==""?i=Number(i):s.parseBooleans&&i!==null&&(i.toLowerCase()==="true"||i.toLowerCase()==="false")&&(i=i.toLowerCase()==="true"),i}function extract(i){i=removeHash(i);const s=i.indexOf("?");return s===-1?"":i.slice(s+1)}function parse(i,s){s={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const o=parserForArrayFormat(s),a=Object.create(null);if(typeof i!="string"||(i=i.trim().replace(/^[?#&]/,""),!i))return a;for(const rt of i.split("&")){if(rt==="")continue;const et=s.decode?rt.replaceAll("+"," "):rt;let[ot,at]=splitOnFirst(et,"=");ot===void 0&&(ot=et),at=at===void 0?null:["comma","separator","bracket-separator"].includes(s.arrayFormat)?at:decode(at,s),o(decode(ot,s),at,a)}for(const[rt,et]of Object.entries(a))if(typeof et=="object"&&et!==null)for(const[ot,at]of Object.entries(et))et[ot]=parseValue(at,s);else a[rt]=parseValue(et,s);return s.sort===!1?a:(s.sort===!0?Object.keys(a).sort():Object.keys(a).sort(s.sort)).reduce((rt,et)=>{const ot=a[et];return rt[et]=ot&&typeof ot=="object"&&!Array.isArray(ot)?keysSorter(ot):ot,rt},Object.create(null))}function stringify$3(i,s){if(!i)return"";s={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...s},validateArrayFormatSeparator(s.arrayFormatSeparator);const o=ot=>s.skipNull&&isNullOrUndefined(i[ot])||s.skipEmptyString&&i[ot]==="",a=encoderForArrayFormat(s),rt={};for(const[ot,at]of Object.entries(i))o(ot)||(rt[ot]=at);const et=Object.keys(rt);return s.sort!==!1&&et.sort(s.sort),et.map(ot=>{const at=i[ot];return at===void 0?"":at===null?encode(ot,s):Array.isArray(at)?at.length===0&&s.arrayFormat==="bracket-separator"?encode(ot,s)+"[]":at.reduce(a(ot),[]).join("&"):encode(ot,s)+"="+encode(at,s)}).filter(ot=>ot.length>0).join("&")}function parseUrl(i,s){var rt;s={decode:!0,...s};let[o,a]=splitOnFirst(i,"#");return o===void 0&&(o=i),{url:((rt=o==null?void 0:o.split("?"))==null?void 0:rt[0])??"",query:parse(extract(i),s),...s&&s.parseFragmentIdentifier&&a?{fragmentIdentifier:decode(a,s)}:{}}}function stringifyUrl(i,s){s={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...s};const o=removeHash(i.url).split("?")[0]||"",a=extract(i.url),rt={...parse(a,{sort:!1}),...i.query};let et=stringify$3(rt,s);et&&(et=`?${et}`);let ot=getHash(i.url);if(typeof i.fragmentIdentifier=="string"){const at=new URL(o);at.hash=i.fragmentIdentifier,ot=s[encodeFragmentIdentifier]?at.hash:`#${i.fragmentIdentifier}`}return`${o}${et}${ot}`}function pick(i,s,o){o={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...o};const{url:a,query:rt,fragmentIdentifier:et}=parseUrl(i,o);return stringifyUrl({url:a,query:includeKeys(rt,s),fragmentIdentifier:et},o)}function exclude(i,s,o){const a=Array.isArray(s)?rt=>!s.includes(rt):(rt,et)=>!s(rt,et);return pick(i,a,o)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify:stringify$3,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var lib$1={},ace$4={},ace$3={exports:{}};(function(i,s){(function(){var o="ace",a=function(){return this}();!a&&typeof window<"u"&&(a=window);var rt=function(j,_,$){if(typeof j!="string"){rt.original?rt.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&($=_),rt.modules[j]||(rt.payloads[j]=$,rt.modules[j]=null)};rt.modules={},rt.payloads={};var et=function(j,_,$){if(typeof _=="string"){var tt=nt(j,_);if(tt!=null)return $&&$(),tt}else if(Object.prototype.toString.call(_)==="[object Array]"){for(var st=[],lt=0,ct=_.length;lt<ct;++lt){var ht=nt(j,_[lt]);if(ht==null&&ot.original)return;st.push(ht)}return $&&$.apply(null,st)||!0}},ot=function(j,_){var $=et("",j,_);return $==null&&ot.original?ot.original.apply(this,arguments):$},at=function(j,_){if(_.indexOf("!")!==-1){var $=_.split("!");return at(j,$[0])+"!"+at(j,$[1])}if(_.charAt(0)=="."){var tt=j.split("/").slice(0,-1).join("/");for(_=tt+"/"+_;_.indexOf(".")!==-1&&st!=_;){var st=_;_=_.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return _},nt=function(j,_){_=at(j,_);var $=rt.modules[_];if(!$){if($=rt.payloads[_],typeof $=="function"){var tt={},st={id:_,uri:"",exports:tt,packaged:!0},lt=function(ht,ut){return et(_,ht,ut)},ct=$(lt,tt,st);tt=ct||st.exports,rt.modules[_]=tt,delete rt.payloads[_]}$=rt.modules[_]=tt||$}return $};function it(j){var _=a;a[j]||(a[j]={}),_=a[j],(!_.define||!_.define.packaged)&&(rt.original=_.define,_.define=rt,_.define.packaged=!0),(!_.require||!_.require.packaged)&&(ot.original=_.require,_.require=ot,_.require.packaged=!0)}it(o)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(o,a,rt){function et(ot,at,nt){Object.defineProperty(ot,at,{value:nt,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||et(String.prototype,"startsWith",function(ot,at){return at=at||0,this.lastIndexOf(ot,at)===at}),String.prototype.endsWith||et(String.prototype,"endsWith",function(ot,at){var nt=this;(at===void 0||at>nt.length)&&(at=nt.length),at-=ot.length;var it=nt.indexOf(ot,at);return it!==-1&&it===at}),String.prototype.repeat||et(String.prototype,"repeat",function(ot){for(var at="",nt=this;ot>0;)ot&1&&(at+=nt),(ot>>=1)&&(nt+=nt);return at}),String.prototype.includes||et(String.prototype,"includes",function(ot,at){return this.indexOf(ot,at)!=-1}),Object.assign||(Object.assign=function(ot){if(ot==null)throw new TypeError("Cannot convert undefined or null to object");for(var at=Object(ot),nt=1;nt<arguments.length;nt++){var it=arguments[nt];it!=null&&Object.keys(it).forEach(function(j){at[j]=it[j]})}return at}),Object.values||(Object.values=function(ot){return Object.keys(ot).map(function(at){return ot[at]})}),Array.prototype.find||et(Array.prototype,"find",function(ot){for(var at=this.length,nt=arguments[1],it=0;it<at;it++){var j=this[it];if(ot.call(nt,j,it,this))return j}}),Array.prototype.findIndex||et(Array.prototype,"findIndex",function(ot){for(var at=this.length,nt=arguments[1],it=0;it<at;it++){var j=this[it];if(ot.call(nt,j,it,this))return it}}),Array.prototype.includes||et(Array.prototype,"includes",function(ot,at){return this.indexOf(ot,at)!=-1}),Array.prototype.fill||et(Array.prototype,"fill",function(ot){for(var at=this,nt=at.length>>>0,it=arguments[1],j=it>>0,_=j<0?Math.max(nt+j,0):Math.min(j,nt),$=arguments[2],tt=$===void 0?nt:$>>0,st=tt<0?Math.max(nt+tt,0):Math.min(tt,nt);_<st;)at[_]=ot,_++;return at}),Array.of||et(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(o,a,rt){o("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(o,a,rt){a.deepCopy=function et(ot){if(typeof ot!="object"||!ot)return ot;var at;if(Array.isArray(ot)){at=[];for(var nt=0;nt<ot.length;nt++)at[nt]=et(ot[nt]);return at}if(Object.prototype.toString.call(ot)!=="[object Object]")return ot;at={};for(var nt in ot)at[nt]=et(ot[nt]);return at}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(o,a,rt){a.last=function(at){return at[at.length-1]},a.stringReverse=function(at){return at.split("").reverse().join("")},a.stringRepeat=function(at,nt){for(var it="";nt>0;)nt&1&&(it+=at),(nt>>=1)&&(at+=at);return it};var et=/^\s\s*/,ot=/\s\s*$/;a.stringTrimLeft=function(at){return at.replace(et,"")},a.stringTrimRight=function(at){return at.replace(ot,"")},a.copyObject=function(at){var nt={};for(var it in at)nt[it]=at[it];return nt},a.copyArray=function(at){for(var nt=[],it=0,j=at.length;it<j;it++)at[it]&&typeof at[it]=="object"?nt[it]=this.copyObject(at[it]):nt[it]=at[it];return nt},a.deepCopy=o("./deep_copy").deepCopy,a.arrayToMap=function(at){for(var nt={},it=0;it<at.length;it++)nt[at[it]]=1;return nt},a.createMap=function(at){var nt=Object.create(null);for(var it in at)nt[it]=at[it];return nt},a.arrayRemove=function(at,nt){for(var it=0;it<=at.length;it++)nt===at[it]&&at.splice(it,1)},a.escapeRegExp=function(at){return at.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},a.escapeHTML=function(at){return(""+at).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},a.getMatchOffsets=function(at,nt){var it=[];return at.replace(nt,function(j){it.push({offset:arguments[arguments.length-2],length:j.length})}),it},a.deferredCall=function(at){var nt=null,it=function(){nt=null,at()},j=function(_){return j.cancel(),nt=setTimeout(it,_||0),j};return j.schedule=j,j.call=function(){return this.cancel(),at(),j},j.cancel=function(){return clearTimeout(nt),nt=null,j},j.isPending=function(){return nt},j},a.delayedCall=function(at,nt){var it=null,j=function(){it=null,at()},_=function($){it==null&&(it=setTimeout(j,$||nt))};return _.delay=function($){it&&clearTimeout(it),it=setTimeout(j,$||nt)},_.schedule=_,_.call=function(){this.cancel(),at()},_.cancel=function(){it&&clearTimeout(it),it=null},_.isPending=function(){return it},_},a.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},a.skipEmptyMatch=function(at,nt,it){return it&&at.codePointAt(nt)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(o,a,rt){a.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},a.getOS=function(){return a.isMac?a.OS.MAC:a.isLinux?a.OS.LINUX:a.OS.WINDOWS};var et=typeof navigator=="object"?navigator:{},ot=(/mac|win|linux/i.exec(et.platform)||["other"])[0].toLowerCase(),at=et.userAgent||"",nt=et.appName||"";a.isWin=ot=="win",a.isMac=ot=="mac",a.isLinux=ot=="linux",a.isIE=nt=="Microsoft Internet Explorer"||nt.indexOf("MSAppHost")>=0?parseFloat((at.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((at.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),a.isOldIE=a.isIE&&a.isIE<9,a.isGecko=a.isMozilla=at.match(/ Gecko\/\d+/),a.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",a.isWebKit=parseFloat(at.split("WebKit/")[1])||void 0,a.isChrome=parseFloat(at.split(" Chrome/")[1])||void 0,a.isSafari=parseFloat(at.split(" Safari/")[1])&&!a.isChrome||void 0,a.isEdge=parseFloat(at.split(" Edge/")[1])||void 0,a.isAIR=at.indexOf("AdobeAIR")>=0,a.isAndroid=at.indexOf("Android")>=0,a.isChromeOS=at.indexOf(" CrOS ")>=0,a.isIOS=/iPad|iPhone|iPod/.test(at)&&!window.MSStream,a.isIOS&&(a.isMac=!0),a.isMobile=a.isIOS||a.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(o,a,rt){var et=o("./useragent"),ot="http://www.w3.org/1999/xhtml";a.buildDom=function $(tt,st,lt){if(typeof tt=="string"&&tt){var ct=document.createTextNode(tt);return st&&st.appendChild(ct),ct}if(!Array.isArray(tt))return tt&&tt.appendChild&&st&&st.appendChild(tt),tt;if(typeof tt[0]!="string"||!tt[0]){for(var ht=[],ut=0;ut<tt.length;ut++){var pt=$(tt[ut],st,lt);pt&&ht.push(pt)}return ht}var mt=document.createElement(tt[0]),vt=tt[1],dt=1;vt&&typeof vt=="object"&&!Array.isArray(vt)&&(dt=2);for(var ut=dt;ut<tt.length;ut++)$(tt[ut],mt,lt);return dt==2&&Object.keys(vt).forEach(function(St){var yt=vt[St];St==="class"?mt.className=Array.isArray(yt)?yt.join(" "):yt:typeof yt=="function"||St=="value"||St[0]=="$"?mt[St]=yt:St==="ref"?lt&&(lt[yt]=mt):St==="style"?typeof yt=="string"&&(mt.style.cssText=yt):yt!=null&&mt.setAttribute(St,yt)}),st&&st.appendChild(mt),mt},a.getDocumentHead=function($){return $||($=document),$.head||$.getElementsByTagName("head")[0]||$.documentElement},a.createElement=function($,tt){return document.createElementNS?document.createElementNS(tt||ot,$):document.createElement($)},a.removeChildren=function($){$.innerHTML=""},a.createTextNode=function($,tt){var st=tt?tt.ownerDocument:document;return st.createTextNode($)},a.createFragment=function($){var tt=$?$.ownerDocument:document;return tt.createDocumentFragment()},a.hasCssClass=function($,tt){var st=($.className+"").split(/\s+/g);return st.indexOf(tt)!==-1},a.addCssClass=function($,tt){a.hasCssClass($,tt)||($.className+=" "+tt)},a.removeCssClass=function($,tt){for(var st=$.className.split(/\s+/g);;){var lt=st.indexOf(tt);if(lt==-1)break;st.splice(lt,1)}$.className=st.join(" ")},a.toggleCssClass=function($,tt){for(var st=$.className.split(/\s+/g),lt=!0;;){var ct=st.indexOf(tt);if(ct==-1)break;lt=!1,st.splice(ct,1)}return lt&&st.push(tt),$.className=st.join(" "),lt},a.setCssClass=function($,tt,st){st?a.addCssClass($,tt):a.removeCssClass($,tt)},a.hasCssString=function($,tt){var st=0,lt;if(tt=tt||document,lt=tt.querySelectorAll("style")){for(;st<lt.length;)if(lt[st++].id===$)return!0}},a.removeElementById=function($,tt){tt=tt||document,tt.getElementById($)&&tt.getElementById($).remove()};var at,nt=[];a.useStrictCSP=function($){at=$,$==!1?it():nt||(nt=[])};function it(){var $=nt;nt=null,$&&$.forEach(function(tt){j(tt[0],tt[1])})}function j($,tt,st){if(!(typeof document>"u")){if(nt){if(st)it();else if(st===!1)return nt.push([$,tt])}if(!at){var lt=st;!st||!st.getRootNode?lt=document:(lt=st.getRootNode(),(!lt||lt==st)&&(lt=document));var ct=lt.ownerDocument||lt;if(tt&&a.hasCssString(tt,lt))return null;tt&&($+=`
/*# sourceURL=ace/css/`+tt+" */");var ht=a.createElement("style");ht.appendChild(ct.createTextNode($)),tt&&(ht.id=tt),lt==ct&&(lt=a.getDocumentHead(ct)),lt.insertBefore(ht,lt.firstChild)}}}if(a.importCssString=j,a.importCssStylsheet=function($,tt){a.buildDom(["link",{rel:"stylesheet",href:$}],a.getDocumentHead(tt))},a.scrollbarWidth=function($){var tt=a.createElement("ace_inner");tt.style.width="100%",tt.style.minWidth="0px",tt.style.height="200px",tt.style.display="block";var st=a.createElement("ace_outer"),lt=st.style;lt.position="absolute",lt.left="-10000px",lt.overflow="hidden",lt.width="200px",lt.minWidth="0px",lt.height="150px",lt.display="block",st.appendChild(tt);var ct=$&&$.documentElement||document&&document.documentElement;if(!ct)return 0;ct.appendChild(st);var ht=tt.offsetWidth;lt.overflow="scroll";var ut=tt.offsetWidth;return ht===ut&&(ut=st.clientWidth),ct.removeChild(st),ht-ut},a.computedStyle=function($,tt){return window.getComputedStyle($,"")||{}},a.setStyle=function($,tt,st){$[tt]!==st&&($[tt]=st)},a.HAS_CSS_ANIMATION=!1,a.HAS_CSS_TRANSFORMS=!1,a.HI_DPI=et.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,et.isChromeOS&&(a.HI_DPI=!1),typeof document<"u"){var _=document.createElement("div");a.HI_DPI&&_.style.transform!==void 0&&(a.HAS_CSS_TRANSFORMS=!0),!et.isEdge&&typeof _.style.animationName<"u"&&(a.HAS_CSS_ANIMATION=!0),_=null}a.HAS_CSS_TRANSFORMS?a.translate=function($,tt,st){$.style.transform="translate("+Math.round(tt)+"px, "+Math.round(st)+"px)"}:a.translate=function($,tt,st){$.style.top=Math.round(st)+"px",$.style.left=Math.round(tt)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(o,a,rt){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var et=o("./dom");a.get=function(ot,at){var nt=new XMLHttpRequest;nt.open("GET",ot,!0),nt.onreadystatechange=function(){nt.readyState===4&&at(nt.responseText)},nt.send(null)},a.loadScript=function(ot,at){var nt=et.getDocumentHead(),it=document.createElement("script");it.src=ot,nt.appendChild(it),it.onload=it.onreadystatechange=function(j,_){(_||!it.readyState||it.readyState=="loaded"||it.readyState=="complete")&&(it=it.onload=it.onreadystatechange=null,_||at())}},a.qualifyURL=function(ot){var at=document.createElement("a");return at.href=ot,at.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(o,a,rt){a.inherits=function(et,ot){et.super_=ot,et.prototype=Object.create(ot.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}})},a.mixin=function(et,ot){for(var at in ot)et[at]=ot[at];return et},a.implement=function(et,ot){a.mixin(et,ot)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(o,a,rt){var et={},ot=function(){this.propagationStopped=!0},at=function(){this.defaultPrevented=!0};et._emit=et._dispatchEvent=function(nt,it){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var j=this._eventRegistry[nt]||[],_=this._defaultHandlers[nt];if(!(!j.length&&!_)){(typeof it!="object"||!it)&&(it={}),it.type||(it.type=nt),it.stopPropagation||(it.stopPropagation=ot),it.preventDefault||(it.preventDefault=at),j=j.slice();for(var $=0;$<j.length&&(j[$](it,this),!it.propagationStopped);$++);if(_&&!it.defaultPrevented)return _(it,this)}},et._signal=function(nt,it){var j=(this._eventRegistry||{})[nt];if(j){j=j.slice();for(var _=0;_<j.length;_++)j[_](it,this)}},et.once=function(nt,it){var j=this;if(this.on(nt,function _(){j.off(nt,_),it.apply(null,arguments)}),!it)return new Promise(function(_){it=_})},et.setDefaultHandler=function(nt,it){var j=this._defaultHandlers;if(j||(j=this._defaultHandlers={_disabled_:{}}),j[nt]){var _=j[nt],$=j._disabled_[nt];$||(j._disabled_[nt]=$=[]),$.push(_);var tt=$.indexOf(it);tt!=-1&&$.splice(tt,1)}j[nt]=it},et.removeDefaultHandler=function(nt,it){var j=this._defaultHandlers;if(j){var _=j._disabled_[nt];if(j[nt]==it)_&&this.setDefaultHandler(nt,_.pop());else if(_){var $=_.indexOf(it);$!=-1&&_.splice($,1)}}},et.on=et.addEventListener=function(nt,it,j){this._eventRegistry=this._eventRegistry||{};var _=this._eventRegistry[nt];return _||(_=this._eventRegistry[nt]=[]),_.indexOf(it)==-1&&_[j?"unshift":"push"](it),it},et.off=et.removeListener=et.removeEventListener=function(nt,it){this._eventRegistry=this._eventRegistry||{};var j=this._eventRegistry[nt];if(j){var _=j.indexOf(it);_!==-1&&j.splice(_,1)}},et.removeAllListeners=function(nt){nt||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[nt]=void 0),this._defaultHandlers&&(this._defaultHandlers[nt]=void 0)},a.EventEmitter=et}),ace.define("ace/lib/report_error",["require","exports","module"],function(o,a,rt){a.reportError=function(ot,at){var nt=new Error(ot);nt.data=at,typeof console=="object"&&console.error&&console.error(nt),setTimeout(function(){throw nt})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(o,a,rt){var et={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"};a.defaultEnglishMessages=et}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(o,a,rt){"no use strict";var et=o("./oop"),ot=o("./event_emitter").EventEmitter,at=o("./report_error").reportError,nt=o("./default_english_messages").defaultEnglishMessages,it={setOptions:function(st){Object.keys(st).forEach(function(lt){this.setOption(lt,st[lt])},this)},getOptions:function(st){var lt={};if(st)Array.isArray(st)||(lt=st,st=Object.keys(lt));else{var ct=this.$options;st=Object.keys(ct).filter(function(ht){return!ct[ht].hidden})}return st.forEach(function(ht){lt[ht]=this.getOption(ht)},this),lt},setOption:function(st,lt){if(this["$"+st]!==lt){var ct=this.$options[st];if(!ct)return j('misspelled option "'+st+'"');if(ct.forwardTo)return this[ct.forwardTo]&&this[ct.forwardTo].setOption(st,lt);ct.handlesSet||(this["$"+st]=lt),ct&&ct.set&&ct.set.call(this,lt)}},getOption:function(st){var lt=this.$options[st];return lt?lt.forwardTo?this[lt.forwardTo]&&this[lt.forwardTo].getOption(st):lt&&lt.get?lt.get.call(this):this["$"+st]:j('misspelled option "'+st+'"')}};function j(st){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var _,$,tt=function(){function st(){this.$defaultOptions={},_=nt,$="dollarSigns"}return st.prototype.defineOptions=function(lt,ct,ht){return lt.$options||(this.$defaultOptions[ct]=lt.$options={}),Object.keys(ht).forEach(function(ut){var pt=ht[ut];typeof pt=="string"&&(pt={forwardTo:pt}),pt.name||(pt.name=ut),lt.$options[pt.name]=pt,"initialValue"in pt&&(lt["$"+pt.name]=pt.initialValue)}),et.implement(lt,it),this},st.prototype.resetOptions=function(lt){Object.keys(lt.$options).forEach(function(ct){var ht=lt.$options[ct];"value"in ht&&lt.setOption(ct,ht.value)})},st.prototype.setDefaultValue=function(lt,ct,ht){if(!lt){for(lt in this.$defaultOptions)if(this.$defaultOptions[lt][ct])break;if(!this.$defaultOptions[lt][ct])return!1}var ut=this.$defaultOptions[lt]||(this.$defaultOptions[lt]={});ut[ct]&&(ut.forwardTo?this.setDefaultValue(ut.forwardTo,ct,ht):ut[ct].value=ht)},st.prototype.setDefaultValues=function(lt,ct){Object.keys(ct).forEach(function(ht){this.setDefaultValue(lt,ht,ct[ht])},this)},st.prototype.setMessages=function(lt,ct){_=lt,ct&&ct.placeholders&&($=ct.placeholders)},st.prototype.nls=function(lt,ct,ht){_[lt]||(j("No message found for the key '"+lt+"' in the provided messages, trying to find a translation for the default string '"+ct+"'."),_[ct]||j("No message found for the default string '"+ct+"' in the provided messages. Falling back to the default English message."));var ut=_[lt]||_[ct]||ct;return ht&&($==="dollarSigns"&&(ut=ut.replace(/\$(\$|[\d]+)/g,function(pt,mt){return mt=="$"?"$":ht[mt]})),$==="curlyBrackets"&&(ut=ut.replace(/\{([^\}]+)\}/g,function(pt,mt){return ht[mt]}))),ut},st}();tt.prototype.warn=j,tt.prototype.reportError=at,et.implement(tt.prototype,ot),a.AppConfig=tt}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(o,a,rt){rt.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(o,a,rt){a.isDark=!1,a.cssClass="ace-tm",a.cssText=o("./textmate-css"),a.$id="ace/theme/textmate";var et=o("../lib/dom");et.importCssString(a.cssText,a.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(o,a,rt){"no use strict";var et=o("./lib/lang"),ot=o("./lib/net"),at=o("./lib/dom"),nt=o("./lib/app_config").AppConfig;rt.exports=a=new nt;var it={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};a.get=function(tt){if(!it.hasOwnProperty(tt))throw new Error("Unknown config key: "+tt);return it[tt]},a.set=function(tt,st){if(it.hasOwnProperty(tt))it[tt]=st;else if(this.setDefaultValue("",tt,st)==!1)throw new Error("Unknown config key: "+tt);tt=="useStrictCSP"&&at.useStrictCSP(st)},a.all=function(){return et.copyObject(it)},a.$modes={},a.moduleUrl=function(tt,st){if(it.$moduleUrls[tt])return it.$moduleUrls[tt];var lt=tt.split("/");st=st||lt[lt.length-2]||"";var ct=st=="snippets"?"/":"-",ht=lt[lt.length-1];if(st=="worker"&&ct=="-"){var ut=new RegExp("^"+st+"[\\-_]|[\\-_]"+st+"$","g");ht=ht.replace(ut,"")}(!ht||ht==st)&&lt.length>1&&(ht=lt[lt.length-2]);var pt=it[st+"Path"];return pt==null?pt=it.basePath:ct=="/"&&(st=ct=""),pt&&pt.slice(-1)!="/"&&(pt+="/"),pt+st+ct+ht+this.get("suffix")},a.setModuleUrl=function(tt,st){return it.$moduleUrls[tt]=st};var j=function(tt,st){if(tt==="ace/theme/textmate"||tt==="./theme/textmate")return st(null,o("./theme/textmate"));if(_)return _(tt,st);console.error("loader is not configured")},_;a.setLoader=function(tt){_=tt},a.dynamicModules=Object.create(null),a.$loading={},a.$loaded={},a.loadModule=function(tt,st){var lt;if(Array.isArray(tt))var ct=tt[0],ht=tt[1];else if(typeof tt=="string")var ht=tt;var ut=function(pt){if(pt&&!a.$loading[ht])return st&&st(pt);if(a.$loading[ht]||(a.$loading[ht]=[]),a.$loading[ht].push(st),!(a.$loading[ht].length>1)){var mt=function(){j(ht,function(vt,dt){dt&&(a.$loaded[ht]=dt),a._emit("load.module",{name:ht,module:dt});var St=a.$loading[ht];a.$loading[ht]=null,St.forEach(function(yt){yt&&yt(dt)})})};if(!a.get("packaged"))return mt();ot.loadScript(a.moduleUrl(ht,ct),mt),$()}};if(a.dynamicModules[ht])a.dynamicModules[ht]().then(function(pt){pt.default?ut(pt.default):ut(pt)});else{try{lt=this.$require(ht)}catch{}ut(lt||a.$loaded[ht])}},a.$require=function(tt){if(typeof rt.require=="function"){var st="require";return rt[st](tt)}},a.setModuleLoader=function(tt,st){a.dynamicModules[tt]=st};var $=function(){!it.basePath&&!it.workerPath&&!it.modePath&&!it.themePath&&!Object.keys(it.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),$=function(){})};a.version="1.35.3"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(o,a,rt){o("./lib/fixoldbrowsers");var et=o("./config");et.setLoader(function(it,j){o([it],function(_){j(null,_)})});var ot=function(){return this||typeof window<"u"&&window}();rt.exports=function(it){et.init=at,et.$require=o,it.require=o},at(!0);function at(it){if(!(!ot||!ot.document)){et.set("packaged",it||o.packaged||rt.packaged||ot.define&&(void 0).packaged);var j={},_="",$=document.currentScript||document._currentScript,tt=$&&$.ownerDocument||document;$&&$.src&&(_=$.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var st=tt.getElementsByTagName("script"),lt=0;lt<st.length;lt++){var ct=st[lt],ht=ct.src||ct.getAttribute("src");if(ht){for(var ut=ct.attributes,pt=0,mt=ut.length;pt<mt;pt++){var vt=ut[pt];vt.name.indexOf("data-ace-")===0&&(j[nt(vt.name.replace(/^data-ace-/,""))]=vt.value)}var dt=ht.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);dt&&(_=dt[1])}}_&&(j.base=j.base||_,j.packaged=!0),j.basePath=j.base,j.workerPath=j.workerPath||j.base,j.modePath=j.modePath||j.base,j.themePath=j.themePath||j.base,delete j.base;for(var St in j)typeof j[St]<"u"&&et.set(St,j[St])}}function nt(it){return it.replace(/-(.)/g,function(j,_){return _.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(o,a,rt){var et=function(){function ot(at,nt,it,j){this.start={row:at,column:nt},this.end={row:it,column:j}}return ot.prototype.isEqual=function(at){return this.start.row===at.start.row&&this.end.row===at.end.row&&this.start.column===at.start.column&&this.end.column===at.end.column},ot.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},ot.prototype.contains=function(at,nt){return this.compare(at,nt)==0},ot.prototype.compareRange=function(at){var nt,it=at.end,j=at.start;return nt=this.compare(it.row,it.column),nt==1?(nt=this.compare(j.row,j.column),nt==1?2:nt==0?1:0):nt==-1?-2:(nt=this.compare(j.row,j.column),nt==-1?-1:nt==1?42:0)},ot.prototype.comparePoint=function(at){return this.compare(at.row,at.column)},ot.prototype.containsRange=function(at){return this.comparePoint(at.start)==0&&this.comparePoint(at.end)==0},ot.prototype.intersects=function(at){var nt=this.compareRange(at);return nt==-1||nt==0||nt==1},ot.prototype.isEnd=function(at,nt){return this.end.row==at&&this.end.column==nt},ot.prototype.isStart=function(at,nt){return this.start.row==at&&this.start.column==nt},ot.prototype.setStart=function(at,nt){typeof at=="object"?(this.start.column=at.column,this.start.row=at.row):(this.start.row=at,this.start.column=nt)},ot.prototype.setEnd=function(at,nt){typeof at=="object"?(this.end.column=at.column,this.end.row=at.row):(this.end.row=at,this.end.column=nt)},ot.prototype.inside=function(at,nt){return this.compare(at,nt)==0?!(this.isEnd(at,nt)||this.isStart(at,nt)):!1},ot.prototype.insideStart=function(at,nt){return this.compare(at,nt)==0?!this.isEnd(at,nt):!1},ot.prototype.insideEnd=function(at,nt){return this.compare(at,nt)==0?!this.isStart(at,nt):!1},ot.prototype.compare=function(at,nt){return!this.isMultiLine()&&at===this.start.row?nt<this.start.column?-1:nt>this.end.column?1:0:at<this.start.row?-1:at>this.end.row?1:this.start.row===at?nt>=this.start.column?0:-1:this.end.row===at?nt<=this.end.column?0:1:0},ot.prototype.compareStart=function(at,nt){return this.start.row==at&&this.start.column==nt?-1:this.compare(at,nt)},ot.prototype.compareEnd=function(at,nt){return this.end.row==at&&this.end.column==nt?1:this.compare(at,nt)},ot.prototype.compareInside=function(at,nt){return this.end.row==at&&this.end.column==nt?1:this.start.row==at&&this.start.column==nt?-1:this.compare(at,nt)},ot.prototype.clipRows=function(at,nt){if(this.end.row>nt)var it={row:nt+1,column:0};else if(this.end.row<at)var it={row:at,column:0};if(this.start.row>nt)var j={row:nt+1,column:0};else if(this.start.row<at)var j={row:at,column:0};return ot.fromPoints(j||this.start,it||this.end)},ot.prototype.extend=function(at,nt){var it=this.compare(at,nt);if(it==0)return this;if(it==-1)var j={row:at,column:nt};else var _={row:at,column:nt};return ot.fromPoints(j||this.start,_||this.end)},ot.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},ot.prototype.isMultiLine=function(){return this.start.row!==this.end.row},ot.prototype.clone=function(){return ot.fromPoints(this.start,this.end)},ot.prototype.collapseRows=function(){return this.end.column==0?new ot(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new ot(this.start.row,0,this.end.row,0)},ot.prototype.toScreenRange=function(at){var nt=at.documentToScreenPosition(this.start),it=at.documentToScreenPosition(this.end);return new ot(nt.row,nt.column,it.row,it.column)},ot.prototype.moveBy=function(at,nt){this.start.row+=at,this.start.column+=nt,this.end.row+=at,this.end.column+=nt},ot}();et.fromPoints=function(ot,at){return new et(ot.row,ot.column,at.row,at.column)},et.comparePoints=function(ot,at){return ot.row-at.row||ot.column-at.column},a.Range=et}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(o,a,rt){for(var et=o("./oop"),ot={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},at={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},nt=0;nt<10;nt++)at["Digit"+nt]=48+nt,at["Numpad"+nt]=96+nt,ot.PRINTABLE_KEYS[48+nt]=""+nt,ot.FUNCTION_KEYS[96+nt]="Numpad"+nt;for(var nt=65;nt<91;nt++){var it=String.fromCharCode(nt+32);at["Key"+it.toUpperCase()]=nt,ot.PRINTABLE_KEYS[nt]=it}for(var nt=1;nt<13;nt++)at["F"+nt]=111+nt,ot.FUNCTION_KEYS[111+nt]="F"+nt;var j={Shift:16,Control:17,Alt:18,Meta:224};for(var _ in j)at[_]=at[_+"Left"]=at[_+"Right"]=j[_];a.$codeToKeyCode=at,ot.PRINTABLE_KEYS[173]="-";for(var $ in ot.FUNCTION_KEYS){var tt=ot.FUNCTION_KEYS[$].toLowerCase();ot[tt]=parseInt($,10)}for(var $ in ot.PRINTABLE_KEYS){var tt=ot.PRINTABLE_KEYS[$].toLowerCase();ot[tt]=parseInt($,10)}et.mixin(ot,ot.MODIFIER_KEYS),et.mixin(ot,ot.PRINTABLE_KEYS),et.mixin(ot,ot.FUNCTION_KEYS),ot.enter=ot.return,ot.escape=ot.esc,ot.del=ot.delete,function(){for(var st=["cmd","ctrl","alt","shift"],lt=Math.pow(2,st.length);lt--;)ot.KEY_MODS[lt]=st.filter(function(ct){return lt&ot.KEY_MODS[ct]}).join("-")+"-"}(),ot.KEY_MODS[0]="",ot.KEY_MODS[-1]="input-",et.mixin(a,ot),a.default=a,a.keyCodeToString=function(st){var lt=ot[st];return typeof lt!="string"&&(lt=String.fromCharCode(st)),lt.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(o,a,rt){var et=o("./keys"),ot=o("./useragent"),at=null,nt=0,it;function j(){it=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return it={passive:!1},!0}})}catch{}}function _(){return it==null&&j(),it}function $(pt,mt,vt){this.elem=pt,this.type=mt,this.callback=vt}$.prototype.destroy=function(){st(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var tt=a.addListener=function(pt,mt,vt,dt){pt.addEventListener(mt,vt,_()),dt&&dt.$toDestroy.push(new $(pt,mt,vt))},st=a.removeListener=function(pt,mt,vt){pt.removeEventListener(mt,vt,_())};a.stopEvent=function(pt){return a.stopPropagation(pt),a.preventDefault(pt),!1},a.stopPropagation=function(pt){pt.stopPropagation&&pt.stopPropagation()},a.preventDefault=function(pt){pt.preventDefault&&pt.preventDefault()},a.getButton=function(pt){return pt.type=="dblclick"?0:pt.type=="contextmenu"||ot.isMac&&pt.ctrlKey&&!pt.altKey&&!pt.shiftKey?2:pt.button},a.capture=function(pt,mt,vt){var dt=pt&&pt.ownerDocument||document;function St(yt){mt&&mt(yt),vt&&vt(yt),st(dt,"mousemove",mt),st(dt,"mouseup",St),st(dt,"dragstart",St)}return tt(dt,"mousemove",mt),tt(dt,"mouseup",St),tt(dt,"dragstart",St),St},a.addMouseWheelListener=function(pt,mt,vt){tt(pt,"wheel",function(dt){var St=.15,yt=dt.deltaX||0,gt=dt.deltaY||0;switch(dt.deltaMode){case dt.DOM_DELTA_PIXEL:dt.wheelX=yt*St,dt.wheelY=gt*St;break;case dt.DOM_DELTA_LINE:var Et=15;dt.wheelX=yt*Et,dt.wheelY=gt*Et;break;case dt.DOM_DELTA_PAGE:var _t=150;dt.wheelX=yt*_t,dt.wheelY=gt*_t;break}mt(dt)},vt)},a.addMultiMouseDownListener=function(pt,mt,vt,dt,St){var yt=0,gt,Et,_t,kt={2:"dblclick",3:"tripleclick",4:"quadclick"};function Ct(Tt){if(a.getButton(Tt)!==0?yt=0:Tt.detail>1?(yt++,yt>4&&(yt=1)):yt=1,ot.isIE){var At=Math.abs(Tt.clientX-gt)>5||Math.abs(Tt.clientY-Et)>5;(!_t||At)&&(yt=1),_t&&clearTimeout(_t),_t=setTimeout(function(){_t=null},mt[yt-1]||600),yt==1&&(gt=Tt.clientX,Et=Tt.clientY)}if(Tt._clicks=yt,vt[dt]("mousedown",Tt),yt>4)yt=0;else if(yt>1)return vt[dt](kt[yt],Tt)}Array.isArray(pt)||(pt=[pt]),pt.forEach(function(Tt){tt(Tt,"mousedown",Ct,St)})};function lt(pt){return 0|(pt.ctrlKey?1:0)|(pt.altKey?2:0)|(pt.shiftKey?4:0)|(pt.metaKey?8:0)}a.getModifierString=function(pt){return et.KEY_MODS[lt(pt)]};function ct(pt,mt,vt){var dt=lt(mt);if(!vt&&mt.code&&(vt=et.$codeToKeyCode[mt.code]||vt),!ot.isMac&&at){if(mt.getModifierState&&(mt.getModifierState("OS")||mt.getModifierState("Win"))&&(dt|=8),at.altGr)if((3&dt)!=3)at.altGr=0;else return;if(vt===18||vt===17){var St=mt.location;if(vt===17&&St===1)at[vt]==1&&(nt=mt.timeStamp);else if(vt===18&&dt===3&&St===2){var yt=mt.timeStamp-nt;yt<50&&(at.altGr=!0)}}}if(vt in et.MODIFIER_KEYS&&(vt=-1),!(!dt&&vt===13&&mt.location===3&&(pt(mt,dt,-vt),mt.defaultPrevented))){if(ot.isChromeOS&&dt&8){if(pt(mt,dt,vt),mt.defaultPrevented)return;dt&=-9}return!dt&&!(vt in et.FUNCTION_KEYS)&&!(vt in et.PRINTABLE_KEYS)?!1:pt(mt,dt,vt)}}a.addCommandKeyListener=function(pt,mt,vt){var dt=null;tt(pt,"keydown",function(St){at[St.keyCode]=(at[St.keyCode]||0)+1;var yt=ct(mt,St,St.keyCode);return dt=St.defaultPrevented,yt},vt),tt(pt,"keypress",function(St){dt&&(St.ctrlKey||St.altKey||St.shiftKey||St.metaKey)&&(a.stopEvent(St),dt=null)},vt),tt(pt,"keyup",function(St){at[St.keyCode]=null},vt),at||(ht(),tt(window,"focus",ht))};function ht(){at=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!ot.isOldIE){var ut=1;a.nextTick=function(pt,mt){mt=mt||window;var vt="zero-timeout-message-"+ut++,dt=function(St){St.data==vt&&(a.stopPropagation(St),st(mt,"message",dt),pt())};tt(mt,"message",dt),mt.postMessage(vt,"*")}}a.$idleBlocked=!1,a.onIdle=function(pt,mt){return setTimeout(function vt(){a.$idleBlocked?setTimeout(vt,100):pt()},mt)},a.$idleBlockId=null,a.blockIdle=function(pt){a.$idleBlockId&&clearTimeout(a.$idleBlockId),a.$idleBlocked=!0,a.$idleBlockId=setTimeout(function(){a.$idleBlocked=!1},pt||100)},a.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),a.nextFrame?a.nextFrame=a.nextFrame.bind(window):a.nextFrame=function(pt){setTimeout(pt,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(o,a,rt){var et;rt.exports={lineMode:!1,pasteCancelled:function(){return et&&et>Date.now()-50?!0:et=!1},cancel:function(){et=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(o,a,rt){var et=o("../lib/event"),ot=o("../config").nls,at=o("../lib/useragent"),nt=o("../lib/dom"),it=o("../lib/lang"),j=o("../clipboard"),_=at.isChrome<18,$=at.isIE,tt=at.isChrome>63,st=400,lt=o("../lib/keys"),ct=lt.KEY_MODS,ht=at.isIOS,ut=ht?/\s/:/\n/,pt=at.isMobile,mt;mt=function(vt,dt){var St=nt.createElement("textarea");St.className="ace_text-input",St.setAttribute("wrap","off"),St.setAttribute("autocorrect","off"),St.setAttribute("autocapitalize","off"),St.setAttribute("spellcheck","false"),St.style.opacity="0",vt.insertBefore(St,vt.firstChild);var yt=!1,gt=!1,Et=!1,_t=!1,kt="";pt||(St.style.fontSize="1px");var Ct=!1,Tt=!1,At="",It=0,Ot=0,Mt=0,Dt=Number.MAX_SAFE_INTEGER,Bt=Number.MIN_SAFE_INTEGER,Kt=0;try{var Wt=document.activeElement===St}catch{}this.setNumberOfExtraLines=function(_r){if(Dt=Number.MAX_SAFE_INTEGER,Bt=Number.MIN_SAFE_INTEGER,_r<0){Kt=0;return}Kt=_r},this.setAriaOptions=function(_r){if(_r.activeDescendant?(St.setAttribute("aria-haspopup","true"),St.setAttribute("aria-autocomplete",_r.inline?"both":"list"),St.setAttribute("aria-activedescendant",_r.activeDescendant)):(St.setAttribute("aria-haspopup","false"),St.setAttribute("aria-autocomplete","both"),St.removeAttribute("aria-activedescendant")),_r.role&&St.setAttribute("role",_r.role),_r.setLabel){St.setAttribute("aria-roledescription",ot("text-input.aria-roledescription","editor"));var Nr="";if(dt.$textInputAriaLabel&&(Nr+="".concat(dt.$textInputAriaLabel,", ")),dt.session){var kr=dt.session.selection.cursor.row;Nr+=ot("text-input.aria-label","Cursor at row $0",[kr+1])}St.setAttribute("aria-label",Nr)}},this.setAriaOptions({role:"textbox"}),et.addListener(St,"blur",function(_r){Tt||(dt.onBlur(_r),Wt=!1)},dt),et.addListener(St,"focus",function(_r){if(!Tt){if(Wt=!0,at.isEdge)try{if(!document.hasFocus())return}catch{}dt.onFocus(_r),at.isEdge?setTimeout(Ht):Ht()}},dt),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:dt.renderer.enableKeyboardAccessibility}),kt||tt||this.$focusScroll=="browser")return St.focus({preventScroll:!0});var _r=St.style.top;St.style.position="fixed",St.style.top="0px";try{var Nr=St.getBoundingClientRect().top!=0}catch{return}var kr=[];if(Nr)for(var nn=St.parentElement;nn&&nn.nodeType==1;)kr.push(nn),nn.setAttribute("ace_nocontext","true"),!nn.parentElement&&nn.getRootNode?nn=nn.getRootNode().host:nn=nn.parentElement;St.focus({preventScroll:!0}),Nr&&kr.forEach(function(Yt){Yt.removeAttribute("ace_nocontext")}),setTimeout(function(){St.style.position="",St.style.top=="0px"&&(St.style.top=_r)},0)},this.blur=function(){St.blur()},this.isFocused=function(){return Wt},dt.on("beforeEndOperation",function(){var _r=dt.curOp,Nr=_r&&_r.command&&_r.command.name;if(Nr!="insertstring"){var kr=Nr&&(_r.docChanged||_r.selectionChanged);Et&&kr&&(At=St.value="",tn()),Ht()}});var zt=function(_r,Nr){for(var kr=Nr,nn=1;nn<=_r-Dt&&nn<2*Kt+1;nn++)kr+=dt.session.getLine(_r-nn).length+1;return kr},Ht=ht?function(_r){if(!(!Wt||yt&&!_r||_t)){_r||(_r="");var Nr=`
 ab`+_r+`cde fg
`;Nr!=St.value&&(St.value=At=Nr);var kr=4,nn=4+(_r.length||(dt.selection.isEmpty()?0:1));(It!=kr||Ot!=nn)&&St.setSelectionRange(kr,nn),It=kr,Ot=nn}}:function(){if(!(Et||_t)&&!(!Wt&&!fr)){Et=!0;var _r=0,Nr=0,kr="";if(dt.session){var nn=dt.selection,Yt=nn.getRange(),er=nn.cursor.row;er===Bt+1?(Dt=Bt+1,Bt=Dt+2*Kt):er===Dt-1?(Bt=Dt-1,Dt=Bt-2*Kt):(er<Dt-1||er>Bt+1)&&(Dt=er>Kt?er-Kt:0,Bt=er>Kt?er+Kt:2*Kt);for(var lr=[],Lr=Dt;Lr<=Bt;Lr++)lr.push(dt.session.getLine(Lr));if(kr=lr.join(`
`),_r=zt(Yt.start.row,Yt.start.column),Nr=zt(Yt.end.row,Yt.end.column),Yt.start.row<Dt){var Or=dt.session.getLine(Dt-1);_r=Yt.start.row<Dt-1?0:_r,Nr+=Or.length+1,kr=Or+`
`+kr}else if(Yt.end.row>Bt){var Er=dt.session.getLine(Bt+1);Nr=Yt.end.row>Bt+1?Er.length:Yt.end.column,Nr+=kr.length+1,kr=kr+`
`+Er}else pt&&er>0&&(kr=`
`+kr,Nr+=1,_r+=1);kr.length>st&&(_r<st&&Nr<st?kr=kr.slice(0,st):(kr=`
`,_r==Nr?_r=Nr=0:(_r=0,Nr=1)));var Cr=kr+`

`;Cr!=At&&(St.value=At=Cr,It=Ot=Cr.length)}if(fr&&(It=St.selectionStart,Ot=St.selectionEnd),Ot!=Nr||It!=_r||St.selectionEnd!=Ot)try{St.setSelectionRange(_r,Nr),It=_r,Ot=Nr}catch{}Et=!1}};this.resetSelection=Ht,Wt&&dt.onFocus();var Zt=function(_r){return _r.selectionStart===0&&_r.selectionEnd>=At.length&&_r.value===At&&At&&_r.selectionEnd!==Ot},Qt=function(_r){Et||(yt?yt=!1:Zt(St)?(dt.selectAll(),Ht()):pt&&St.selectionStart!=It&&Ht())},hr=null;this.setInputHandler=function(_r){hr=_r},this.getInputHandler=function(){return hr};var fr=!1,pr=function(_r,Nr){if(fr&&(fr=!1),gt)return Ht(),_r&&dt.onPaste(_r),gt=!1,"";for(var kr=St.selectionStart,nn=St.selectionEnd,Yt=It,er=At.length-Ot,lr=_r,Lr=_r.length-kr,Or=_r.length-nn,Er=0;Yt>0&&At[Er]==_r[Er];)Er++,Yt--;for(lr=lr.slice(Er),Er=1;er>0&&At.length-Er>It-1&&At[At.length-Er]==_r[_r.length-Er];)Er++,er--;Lr-=Er-1,Or-=Er-1;var Cr=lr.length-Er+1;if(Cr<0&&(Yt=-Cr,Cr=0),lr=lr.slice(0,Cr),!Nr&&!lr&&!Lr&&!Yt&&!er&&!Or)return"";_t=!0;var Hr=!1;return at.isAndroid&&lr==". "&&(lr="  ",Hr=!0),lr&&!Yt&&!er&&!Lr&&!Or||Ct?dt.onTextInput(lr):dt.onTextInput(lr,{extendLeft:Yt,extendRight:er,restoreStart:Lr,restoreEnd:Or}),_t=!1,At=_r,It=kr,Ot=nn,Mt=Or,Hr?`
`:lr},gr=function(_r){if(Et)return Ur();if(_r&&_r.inputType){if(_r.inputType=="historyUndo")return dt.execCommand("undo");if(_r.inputType=="historyRedo")return dt.execCommand("redo")}var Nr=St.value,kr=pr(Nr,!0);(Nr.length>st+100||ut.test(kr)||pt&&It<1&&It==Ot)&&Ht()},tr=function(_r,Nr,kr){var nn=_r.clipboardData||window.clipboardData;if(!(!nn||_)){var Yt=$||kr?"Text":"text/plain";try{return Nr?nn.setData(Yt,Nr)!==!1:nn.getData(Yt)}catch(er){if(!kr)return tr(er,Nr,!0)}}},rr=function(_r,Nr){var kr=dt.getCopyText();if(!kr)return et.preventDefault(_r);tr(_r,kr)?(ht&&(Ht(kr),yt=kr,setTimeout(function(){yt=!1},10)),Nr?dt.onCut():dt.onCopy(),et.preventDefault(_r)):(yt=!0,St.value=kr,St.select(),setTimeout(function(){yt=!1,Ht(),Nr?dt.onCut():dt.onCopy()}))},qt=function(_r){rr(_r,!0)},xr=function(_r){rr(_r,!1)},Sr=function(_r){var Nr=tr(_r);j.pasteCancelled()||(typeof Nr=="string"?(Nr&&dt.onPaste(Nr,_r),at.isIE&&setTimeout(Ht),et.preventDefault(_r)):(St.value="",gt=!0))};et.addCommandKeyListener(St,function(_r,Nr,kr){if(!Et)return dt.onCommandKey(_r,Nr,kr)},dt),et.addListener(St,"select",Qt,dt),et.addListener(St,"input",gr,dt),et.addListener(St,"cut",qt,dt),et.addListener(St,"copy",xr,dt),et.addListener(St,"paste",Sr,dt),(!("oncut"in St)||!("oncopy"in St)||!("onpaste"in St))&&et.addListener(vt,"keydown",function(_r){if(!(at.isMac&&!_r.metaKey||!_r.ctrlKey))switch(_r.keyCode){case 67:xr(_r);break;case 86:Sr(_r);break;case 88:qt(_r);break}},dt);var dr=function(_r){if(!(Et||!dt.onCompositionStart||dt.$readOnly)&&(Et={},!Ct)){_r.data&&(Et.useTextareaForIME=!1),setTimeout(Ur,0),dt._signal("compositionStart"),dt.on("mousedown",on);var Nr=dt.getSelectionRange();Nr.end.row=Nr.start.row,Nr.end.column=Nr.start.column,Et.markerRange=Nr,Et.selectionStart=It,dt.onCompositionStart(Et),Et.useTextareaForIME?(At=St.value="",It=0,Ot=0):(St.msGetInputContext&&(Et.context=St.msGetInputContext()),St.getInputContext&&(Et.context=St.getInputContext()))}},Ur=function(){if(!(!Et||!dt.onCompositionUpdate||dt.$readOnly)){if(Ct)return on();if(Et.useTextareaForIME)dt.onCompositionUpdate(St.value);else{var _r=St.value;pr(_r),Et.markerRange&&(Et.context&&(Et.markerRange.start.column=Et.selectionStart=Et.context.compositionStartOffset),Et.markerRange.end.column=Et.markerRange.start.column+Ot-Et.selectionStart+Mt)}}},tn=function(_r){!dt.onCompositionEnd||dt.$readOnly||(Et=!1,dt.onCompositionEnd(),dt.off("mousedown",on),_r&&gr())};function on(){Tt=!0,St.blur(),St.focus(),Tt=!1}var Rn=it.delayedCall(Ur,50).schedule.bind(null,null);function Nn(_r){_r.keyCode==27&&St.value.length<St.selectionStart&&(Et||(At=St.value),It=Ot=-1,Ht()),Rn()}et.addListener(St,"compositionstart",dr,dt),et.addListener(St,"compositionupdate",Ur,dt),et.addListener(St,"keyup",Nn,dt),et.addListener(St,"keydown",Rn,dt),et.addListener(St,"compositionend",tn,dt),this.getElement=function(){return St},this.setCommandMode=function(_r){Ct=_r,St.readOnly=!1},this.setReadOnly=function(_r){Ct||(St.readOnly=_r)},this.setCopyWithEmptySelection=function(_r){},this.onContextMenu=function(_r){fr=!0,Ht(),dt._emit("nativecontextmenu",{target:dt,domEvent:_r}),this.moveToMouse(_r,!0)},this.moveToMouse=function(_r,Nr){kt||(kt=St.style.cssText),St.style.cssText=(Nr?"z-index:100000;":"")+(at.isIE?"opacity:0.1;":"")+"text-indent: -"+(It+Ot)*dt.renderer.characterWidth*.5+"px;";var kr=dt.container.getBoundingClientRect(),nn=nt.computedStyle(dt.container),Yt=kr.top+(parseInt(nn.borderTopWidth)||0),er=kr.left+(parseInt(kr.borderLeftWidth)||0),lr=kr.bottom-Yt-St.clientHeight-2,Lr=function(Or){nt.translate(St,Or.clientX-er-2,Math.min(Or.clientY-Yt-2,lr))};Lr(_r),_r.type=="mousedown"&&(dt.renderer.$isMousePressed=!0,clearTimeout(Mn),at.isWin&&et.capture(dt.container,Lr,pn))},this.onContextMenuClose=pn;var Mn;function pn(){clearTimeout(Mn),Mn=setTimeout(function(){kt&&(St.style.cssText=kt,kt=""),dt.renderer.$isMousePressed=!1,dt.renderer.$keepTextAreaAtCursor&&dt.renderer.$moveTextAreaToCursor()},0)}var Hn=function(_r){dt.textInput.onContextMenu(_r),pn()};et.addListener(St,"mouseup",Hn,dt),et.addListener(St,"mousedown",function(_r){_r.preventDefault(),pn()},dt),et.addListener(dt.renderer.scroller,"contextmenu",Hn,dt),et.addListener(St,"contextmenu",Hn,dt),ht&&In(vt,dt,St);function In(_r,Nr,kr){var nn=null,Yt=!1;kr.addEventListener("keydown",function(lr){nn&&clearTimeout(nn),Yt=!0},!0),kr.addEventListener("keyup",function(lr){nn=setTimeout(function(){Yt=!1},100)},!0);var er=function(lr){if(document.activeElement===kr&&!(Yt||Et||Nr.$mouseHandler.isMousePressed)&&!yt){var Lr=kr.selectionStart,Or=kr.selectionEnd,Er=null,Cr=0;if(Lr==0?Er=lt.up:Lr==1?Er=lt.home:Or>Ot&&At[Or]==`
`?Er=lt.end:Lr<It&&At[Lr-1]==" "?(Er=lt.left,Cr=ct.option):Lr<It||Lr==It&&Ot!=It&&Lr==Or?Er=lt.left:Or>Ot&&At.slice(0,Or).split(`
`).length>2?Er=lt.down:Or>Ot&&At[Or-1]==" "?(Er=lt.right,Cr=ct.option):(Or>Ot||Or==Ot&&Ot!=It&&Lr==Or)&&(Er=lt.right),Lr!==Or&&(Cr|=ct.shift),Er){var Hr=Nr.onCommandKey({},Cr,Er);if(!Hr&&Nr.commands){Er=lt.keyCodeToString(Er);var rn=Nr.commands.findKeyCommand(Cr,Er);rn&&Nr.execCommand(rn)}It=Lr,Ot=Or,Ht("")}}};document.addEventListener("selectionchange",er),Nr.on("destroy",function(){document.removeEventListener("selectionchange",er)})}this.destroy=function(){St.parentElement&&St.parentElement.removeChild(St)}},a.TextInput=mt,a.$setUserAgentForTests=function(vt,dt){pt=vt,ht=dt}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(o,a,rt){var et=o("../lib/useragent"),ot=0,at=550,nt=function(){function _($){$.$clickSelection=null;var tt=$.editor;tt.setDefaultHandler("mousedown",this.onMouseDown.bind($)),tt.setDefaultHandler("dblclick",this.onDoubleClick.bind($)),tt.setDefaultHandler("tripleclick",this.onTripleClick.bind($)),tt.setDefaultHandler("quadclick",this.onQuadClick.bind($)),tt.setDefaultHandler("mousewheel",this.onMouseWheel.bind($));var st=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];st.forEach(function(lt){$[lt]=this[lt]},this),$.selectByLines=this.extendSelectionBy.bind($,"getLineRange"),$.selectByWords=this.extendSelectionBy.bind($,"getWordRange")}return _.prototype.onMouseDown=function($){var tt=$.inSelection(),st=$.getDocumentPosition();this.mousedownEvent=$;var lt=this.editor,ct=$.getButton();if(ct!==0){var ht=lt.getSelectionRange(),ut=ht.isEmpty();(ut||ct==1)&&lt.selection.moveToPosition(st),ct==2&&(lt.textInput.onContextMenu($.domEvent),et.isMozilla||$.preventDefault());return}if(this.mousedownEvent.time=Date.now(),tt&&!lt.isFocused()&&(lt.focus(),this.$focusTimeout&&!this.$clickSelection&&!lt.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse($);return}return this.captureMouse($),this.startSelect(st,$.domEvent._clicks>1),$.preventDefault()},_.prototype.startSelect=function($,tt){$=$||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var st=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?st.selection.selectToPosition($):tt||st.selection.moveToPosition($),tt||this.select(),st.setStyle("ace_selecting"),this.setState("select"))},_.prototype.select=function(){var $,tt=this.editor,st=tt.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var lt=this.$clickSelection.comparePoint(st);if(lt==-1)$=this.$clickSelection.end;else if(lt==1)$=this.$clickSelection.start;else{var ct=j(this.$clickSelection,st);st=ct.cursor,$=ct.anchor}tt.selection.setSelectionAnchor($.row,$.column)}tt.selection.selectToPosition(st),tt.renderer.scrollCursorIntoView()},_.prototype.extendSelectionBy=function($){var tt,st=this.editor,lt=st.renderer.screenToTextCoordinates(this.x,this.y),ct=st.selection[$](lt.row,lt.column);if(this.$clickSelection){var ht=this.$clickSelection.comparePoint(ct.start),ut=this.$clickSelection.comparePoint(ct.end);if(ht==-1&&ut<=0)tt=this.$clickSelection.end,(ct.end.row!=lt.row||ct.end.column!=lt.column)&&(lt=ct.start);else if(ut==1&&ht>=0)tt=this.$clickSelection.start,(ct.start.row!=lt.row||ct.start.column!=lt.column)&&(lt=ct.end);else if(ht==-1&&ut==1)lt=ct.end,tt=ct.start;else{var pt=j(this.$clickSelection,lt);lt=pt.cursor,tt=pt.anchor}st.selection.setSelectionAnchor(tt.row,tt.column)}st.selection.selectToPosition(lt),st.renderer.scrollCursorIntoView()},_.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},_.prototype.focusWait=function(){var $=it(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),tt=Date.now();($>ot||tt-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},_.prototype.onDoubleClick=function($){var tt=$.getDocumentPosition(),st=this.editor,lt=st.session,ct=lt.getBracketRange(tt);ct?(ct.isEmpty()&&(ct.start.column--,ct.end.column++),this.setState("select")):(ct=st.selection.getWordRange(tt.row,tt.column),this.setState("selectByWords")),this.$clickSelection=ct,this.select()},_.prototype.onTripleClick=function($){var tt=$.getDocumentPosition(),st=this.editor;this.setState("selectByLines");var lt=st.getSelectionRange();lt.isMultiLine()&&lt.contains(tt.row,tt.column)?(this.$clickSelection=st.selection.getLineRange(lt.start.row),this.$clickSelection.end=st.selection.getLineRange(lt.end.row).end):this.$clickSelection=st.selection.getLineRange(tt.row),this.select()},_.prototype.onQuadClick=function($){var tt=this.editor;tt.selectAll(),this.$clickSelection=tt.getSelectionRange(),this.setState("selectAll")},_.prototype.onMouseWheel=function($){if(!$.getAccelKey()){$.getShiftKey()&&$.wheelY&&!$.wheelX&&($.wheelX=$.wheelY,$.wheelY=0);var tt=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var st=this.$lastScroll,lt=$.domEvent.timeStamp,ct=lt-st.t,ht=ct?$.wheelX/ct:st.vx,ut=ct?$.wheelY/ct:st.vy;ct<at&&(ht=(ht+st.vx)/2,ut=(ut+st.vy)/2);var pt=Math.abs(ht/ut),mt=!1;if(pt>=1&&tt.renderer.isScrollableBy($.wheelX*$.speed,0)&&(mt=!0),pt<=1&&tt.renderer.isScrollableBy(0,$.wheelY*$.speed)&&(mt=!0),mt)st.allowed=lt;else if(lt-st.allowed<at){var vt=Math.abs(ht)<=1.5*Math.abs(st.vx)&&Math.abs(ut)<=1.5*Math.abs(st.vy);vt?(mt=!0,st.allowed=lt):st.allowed=0}if(st.t=lt,st.vx=ht,st.vy=ut,mt)return tt.renderer.scrollBy($.wheelX*$.speed,$.wheelY*$.speed),$.stop()}},_}();nt.prototype.selectEnd=nt.prototype.selectByLinesEnd,nt.prototype.selectAllEnd=nt.prototype.selectByLinesEnd,nt.prototype.selectByWordsEnd=nt.prototype.selectByLinesEnd,a.DefaultHandlers=nt;function it(_,$,tt,st){return Math.sqrt(Math.pow(tt-_,2)+Math.pow(st-$,2))}function j(_,$){if(_.start.row==_.end.row)var tt=2*$.column-_.start.column-_.end.column;else if(_.start.row==_.end.row-1&&!_.start.column&&!_.end.column)var tt=$.column-4;else var tt=2*$.row-_.start.row-_.end.row;return tt<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(o,a,rt){a.preventParentScroll=function(ot){ot.stopPropagation();var at=ot.currentTarget,nt=at.scrollHeight>at.clientHeight;nt||ot.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(o,a,rt){var et=this&&this.__extends||function(){var lt=function(ct,ht){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,pt){ut.__proto__=pt}||function(ut,pt){for(var mt in pt)Object.prototype.hasOwnProperty.call(pt,mt)&&(ut[mt]=pt[mt])},lt(ct,ht)};return function(ct,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Class extends value "+String(ht)+" is not a constructor or null");lt(ct,ht);function ut(){this.constructor=ct}ct.prototype=ht===null?Object.create(ht):(ut.prototype=ht.prototype,new ut)}}(),ot=this&&this.__values||function(lt){var ct=typeof Symbol=="function"&&Symbol.iterator,ht=ct&&lt[ct],ut=0;if(ht)return ht.call(lt);if(lt&&typeof lt.length=="number")return{next:function(){return lt&&ut>=lt.length&&(lt=void 0),{value:lt&&lt[ut++],done:!lt}}};throw new TypeError(ct?"Object is not iterable.":"Symbol.iterator is not defined.")},at=o("./lib/dom");o("./lib/event");var nt=o("./range").Range,it=o("./lib/scroll").preventParentScroll,j="ace_tooltip",_=function(){function lt(ct){this.isOpen=!1,this.$element=null,this.$parentNode=ct}return lt.prototype.$init=function(){return this.$element=at.createElement("div"),this.$element.className=j,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},lt.prototype.getElement=function(){return this.$element||this.$init()},lt.prototype.setText=function(ct){this.getElement().textContent=ct},lt.prototype.setHtml=function(ct){this.getElement().innerHTML=ct},lt.prototype.setPosition=function(ct,ht){this.getElement().style.left=ct+"px",this.getElement().style.top=ht+"px"},lt.prototype.setClassName=function(ct){at.addCssClass(this.getElement(),ct)},lt.prototype.setTheme=function(ct){this.$element.className=j+" "+(ct.isDark?"ace_dark ":"")+(ct.cssClass||"")},lt.prototype.show=function(ct,ht,ut){ct!=null&&this.setText(ct),ht!=null&&ut!=null&&this.setPosition(ht,ut),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},lt.prototype.hide=function(ct){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=j,this.isOpen=!1)},lt.prototype.getHeight=function(){return this.getElement().offsetHeight},lt.prototype.getWidth=function(){return this.getElement().offsetWidth},lt.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},lt}(),$=function(){function lt(){this.popups=[]}return lt.prototype.addPopup=function(ct){this.popups.push(ct),this.updatePopups()},lt.prototype.removePopup=function(ct){var ht=this.popups.indexOf(ct);ht!==-1&&(this.popups.splice(ht,1),this.updatePopups())},lt.prototype.updatePopups=function(){var ct,ht,ut,pt;this.popups.sort(function(kt,Ct){return Ct.priority-kt.priority});var mt=[];try{for(var vt=ot(this.popups),dt=vt.next();!dt.done;dt=vt.next()){var St=dt.value,yt=!0;try{for(var gt=(ut=void 0,ot(mt)),Et=gt.next();!Et.done;Et=gt.next()){var _t=Et.value;if(this.doPopupsOverlap(_t,St)){yt=!1;break}}}catch(kt){ut={error:kt}}finally{try{Et&&!Et.done&&(pt=gt.return)&&pt.call(gt)}finally{if(ut)throw ut.error}}yt?mt.push(St):St.hide()}}catch(kt){ct={error:kt}}finally{try{dt&&!dt.done&&(ht=vt.return)&&ht.call(vt)}finally{if(ct)throw ct.error}}},lt.prototype.doPopupsOverlap=function(ct,ht){var ut=ct.getElement().getBoundingClientRect(),pt=ht.getElement().getBoundingClientRect();return ut.left<pt.right&&ut.right>pt.left&&ut.top<pt.bottom&&ut.bottom>pt.top},lt}(),tt=new $;a.popupManager=tt,a.Tooltip=_;var st=function(lt){et(ct,lt);function ct(ht){ht===void 0&&(ht=document.body);var ut=lt.call(this,ht)||this;ut.timeout=void 0,ut.lastT=0,ut.idleTime=350,ut.lastEvent=void 0,ut.onMouseOut=ut.onMouseOut.bind(ut),ut.onMouseMove=ut.onMouseMove.bind(ut),ut.waitForHover=ut.waitForHover.bind(ut),ut.hide=ut.hide.bind(ut);var pt=ut.getElement();return pt.style.whiteSpace="pre-wrap",pt.style.pointerEvents="auto",pt.addEventListener("mouseout",ut.onMouseOut),pt.tabIndex=-1,pt.addEventListener("blur",(function(){pt.contains(document.activeElement)||this.hide()}).bind(ut)),pt.addEventListener("wheel",it),ut}return ct.prototype.addToEditor=function(ht){ht.on("mousemove",this.onMouseMove),ht.on("mousedown",this.hide),ht.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},ct.prototype.removeFromEditor=function(ht){ht.off("mousemove",this.onMouseMove),ht.off("mousedown",this.hide),ht.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},ct.prototype.onMouseMove=function(ht,ut){this.lastEvent=ht,this.lastT=Date.now();var pt=ut.$mouseHandler.isMousePressed;if(this.isOpen){var mt=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(mt.row,mt.column)||pt||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||pt||(this.lastEvent=ht,this.timeout=setTimeout(this.waitForHover,this.idleTime))},ct.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var ht=Date.now()-this.lastT;if(this.idleTime-ht>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-ht);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},ct.prototype.isOutsideOfText=function(ht){var ut=ht.editor,pt=ht.getDocumentPosition(),mt=ut.session.getLine(pt.row);if(pt.column==mt.length){var vt=ut.renderer.pixelToScreenCoordinates(ht.clientX,ht.clientY),dt=ut.session.documentToScreenPosition(pt.row,pt.column);if(dt.column!=vt.column||dt.row!=vt.row)return!0}return!1},ct.prototype.setDataProvider=function(ht){this.$gatherData=ht},ct.prototype.showForRange=function(ht,ut,pt,mt){var vt=10;if(!(mt&&mt!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var dt=ht.renderer;this.isOpen||(tt.addPopup(this),this.$registerCloseEvents(),this.setTheme(dt.theme)),this.isOpen=!0,this.addMarker(ut,ht.session),this.range=nt.fromPoints(ut.start,ut.end);var St=dt.textToScreenCoordinates(ut.start.row,ut.start.column),yt=dt.scroller.getBoundingClientRect();St.pageX<yt.left&&(St.pageX=yt.left);var gt=this.getElement();gt.innerHTML="",gt.appendChild(pt),gt.style.maxHeight="",gt.style.display="block";var Et=gt.clientHeight,_t=gt.clientWidth,kt=window.innerHeight-St.pageY-dt.lineHeight,Ct=!0;St.pageY-Et<0&&St.pageY<kt&&(Ct=!1),gt.style.maxHeight=(Ct?St.pageY:kt)-vt+"px",gt.style.top=Ct?"":St.pageY+dt.lineHeight+"px",gt.style.bottom=Ct?window.innerHeight-St.pageY+"px":"",gt.style.left=Math.min(St.pageX,window.innerWidth-_t-vt)+"px"}},ct.prototype.addMarker=function(ht,ut){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=ut,this.marker=ut&&ut.addMarker(ht,"ace_highlight-marker","text")},ct.prototype.hide=function(ht){!ht&&document.activeElement==this.getElement()||ht&&ht.target&&(ht.type!="keydown"||ht.ctrlKey||ht.metaKey)&&this.$element.contains(ht.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,tt.removePopup(this)))},ct.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},ct.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},ct.prototype.onMouseOut=function(ht){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!ht.relatedTarget||this.getElement().contains(ht.relatedTarget)||ht&&ht.currentTarget.contains(ht.relatedTarget)||ht.relatedTarget.classList.contains("ace_content")||this.hide())},ct}(_);a.HoverTooltip=st}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(o,a,rt){var et=this&&this.__extends||function(){var tt=function(st,lt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var ut in ht)Object.prototype.hasOwnProperty.call(ht,ut)&&(ct[ut]=ht[ut])},tt(st,lt)};return function(st,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");tt(st,lt);function ct(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(ct.prototype=lt.prototype,new ct)}}(),ot=this&&this.__values||function(tt){var st=typeof Symbol=="function"&&Symbol.iterator,lt=st&&tt[st],ct=0;if(lt)return lt.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&ct>=tt.length&&(tt=void 0),{value:tt&&tt[ct++],done:!tt}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")},at=o("../lib/dom"),nt=o("../lib/event"),it=o("../tooltip").Tooltip,j=o("../config").nls;o("../lib/lang");function _(tt){var st=tt.editor,lt=st.renderer.$gutterLayer,ct=new $(st);tt.editor.setDefaultHandler("guttermousedown",function(dt){if(!(!st.isFocused()||dt.getButton()!=0)){var St=lt.getRegion(dt);if(St!="foldWidgets"){var yt=dt.getDocumentPosition().row,gt=st.session.selection;if(dt.getShiftKey())gt.selectTo(yt,0);else{if(dt.domEvent.detail==2)return st.selectAll(),dt.preventDefault();tt.$clickSelection=st.selection.getLineRange(yt)}return tt.setState("selectByLines"),tt.captureMouse(dt),dt.preventDefault()}}});var ht,ut;function pt(){var dt=ut.getDocumentPosition().row,St=st.session.getLength();if(dt==St){var yt=st.renderer.pixelToScreenCoordinates(0,ut.y).row,gt=ut.$pos;if(yt>st.session.documentToScreenRow(gt.row,gt.column))return mt()}if(ct.showTooltip(dt),!!ct.isOpen)if(st.on("mousewheel",mt),tt.$tooltipFollowsMouse)vt(ut);else{var Et=ut.getGutterRow(),_t=lt.$lines.get(Et);if(_t){var kt=_t.element.querySelector(".ace_gutter_annotation"),Ct=kt.getBoundingClientRect(),Tt=ct.getElement().style;Tt.left=Ct.right+"px",Tt.top=Ct.bottom+"px"}else vt(ut)}}function mt(){ht&&(ht=clearTimeout(ht)),ct.isOpen&&(ct.hideTooltip(),st.off("mousewheel",mt))}function vt(dt){ct.setPosition(dt.x,dt.y)}tt.editor.setDefaultHandler("guttermousemove",function(dt){var St=dt.domEvent.target||dt.domEvent.srcElement;if(at.hasCssClass(St,"ace_fold-widget"))return mt();ct.isOpen&&tt.$tooltipFollowsMouse&&vt(dt),ut=dt,!ht&&(ht=setTimeout(function(){ht=null,ut&&!tt.isMousePressed?pt():mt()},50))}),nt.addListener(st.renderer.$gutter,"mouseout",function(dt){ut=null,!(!ct.isOpen||ht)&&(ht=setTimeout(function(){ht=null,mt()},50))},st),st.on("changeSession",mt),st.on("input",mt)}a.GutterHandler=_;var $=function(tt){et(st,tt);function st(lt){var ct=tt.call(this,lt.container)||this;return ct.editor=lt,ct}return st.prototype.setPosition=function(lt,ct){var ht=window.innerWidth||document.documentElement.clientWidth,ut=window.innerHeight||document.documentElement.clientHeight,pt=this.getWidth(),mt=this.getHeight();lt+=15,ct+=15,lt+pt>ht&&(lt-=lt+pt-ht),ct+mt>ut&&(ct-=20+mt),it.prototype.setPosition.call(this,lt,ct)},Object.defineProperty(st,"annotationLabels",{get:function(){return{error:{singular:j("gutter-tooltip.aria-label.error.singular","error"),plural:j("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:j("gutter-tooltip.aria-label.warning.singular","warning"),plural:j("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:j("gutter-tooltip.aria-label.info.singular","information message"),plural:j("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),st.prototype.showTooltip=function(lt){var ct,ht=this.editor.renderer.$gutterLayer,ut=ht.$annotations[lt],pt;ut?pt={displayText:Array.from(ut.displayText),type:Array.from(ut.type)}:pt={displayText:[],type:[]};var mt=ht.session.getFoldLine(lt);if(mt&&ht.$showFoldedAnnotations){for(var vt={error:[],warning:[],info:[]},dt,St=lt+1;St<=mt.end.row;St++)if(ht.$annotations[St])for(var yt=0;yt<ht.$annotations[St].text.length;yt++){var gt=ht.$annotations[St].type[yt];if(vt[gt].push(ht.$annotations[St].text[yt]),gt==="error"){dt="error_fold";continue}if(gt==="warning"){dt="warning_fold";continue}}if(dt==="error_fold"||dt==="warning_fold"){var Et="".concat(st.annotationsToSummaryString(vt)," in folded code.");pt.displayText.push(Et),pt.type.push(dt)}}if(pt.displayText.length===0)return this.hide();for(var _t={error:[],warning:[],info:[]},kt=ht.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",St=0;St<pt.displayText.length;St++){var Ct=at.createElement("span"),Tt=at.createElement("span");(ct=Tt.classList).add.apply(ct,["ace_".concat(pt.type[St]),kt]),Tt.setAttribute("aria-label","".concat(st.annotationLabels[pt.type[St].replace("_fold","")].singular)),Tt.setAttribute("role","img"),Tt.appendChild(at.createTextNode(" ")),Ct.appendChild(Tt),Ct.appendChild(at.createTextNode(pt.displayText[St])),Ct.appendChild(at.createElement("br")),_t[pt.type[St].replace("_fold","")].push(Ct)}var At=this.getElement();at.removeChildren(At),_t.error.forEach(function(It){return At.appendChild(It)}),_t.warning.forEach(function(It){return At.appendChild(It)}),_t.info.forEach(function(It){return At.appendChild(It)}),At.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},st.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},st.annotationsToSummaryString=function(lt){var ct,ht,ut=[],pt=["error","warning","info"];try{for(var mt=ot(pt),vt=mt.next();!vt.done;vt=mt.next()){var dt=vt.value;if(lt[dt].length){var St=lt[dt].length===1?st.annotationLabels[dt].singular:st.annotationLabels[dt].plural;ut.push("".concat(lt[dt].length," ").concat(St))}}}catch(yt){ct={error:yt}}finally{try{vt&&!vt.done&&(ht=mt.return)&&ht.call(mt)}finally{if(ct)throw ct.error}}return ut.join(", ")},st}(it);a.GutterTooltip=$}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(o,a,rt){var et=o("../lib/event"),ot=o("../lib/useragent"),at=function(){function nt(it,j){this.speed,this.wheelX,this.wheelY,this.domEvent=it,this.editor=j,this.x=this.clientX=it.clientX,this.y=this.clientY=it.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return nt.prototype.stopPropagation=function(){et.stopPropagation(this.domEvent),this.propagationStopped=!0},nt.prototype.preventDefault=function(){et.preventDefault(this.domEvent),this.defaultPrevented=!0},nt.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},nt.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},nt.prototype.getGutterRow=function(){var it=this.getDocumentPosition().row,j=this.editor.session.documentToScreenRow(it,0),_=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return j-_},nt.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var it=this.editor,j=it.getSelectionRange();if(j.isEmpty())this.$inSelection=!1;else{var _=this.getDocumentPosition();this.$inSelection=j.contains(_.row,_.column)}return this.$inSelection},nt.prototype.getButton=function(){return et.getButton(this.domEvent)},nt.prototype.getShiftKey=function(){return this.domEvent.shiftKey},nt.prototype.getAccelKey=function(){return ot.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},nt}();a.MouseEvent=at}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(o,a,rt){var et=o("../lib/dom"),ot=o("../lib/event"),at=o("../lib/useragent"),nt=200,it=200,j=5;function _(tt){var st=tt.editor,lt=et.createElement("div");lt.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",lt.textContent="";var ct=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ct.forEach(function(zt){tt[zt]=this[zt]},this),st.on("mousedown",this.onMouseDown.bind(tt));var ht=st.container,ut,pt,mt,vt,dt,St,yt=0,gt,Et,_t,kt,Ct;this.onDragStart=function(zt){if(this.cancelDrag||!ht.draggable){var Ht=this;return setTimeout(function(){Ht.startSelect(),Ht.captureMouse(zt)},0),zt.preventDefault()}dt=st.getSelectionRange();var Zt=zt.dataTransfer;Zt.effectAllowed=st.getReadOnly()?"copy":"copyMove",st.container.appendChild(lt),Zt.setDragImage&&Zt.setDragImage(lt,0,0),setTimeout(function(){st.container.removeChild(lt)}),Zt.clearData(),Zt.setData("Text",st.session.getTextRange()),Et=!0,this.setState("drag")},this.onDragEnd=function(zt){if(ht.draggable=!1,Et=!1,this.setState(null),!st.getReadOnly()){var Ht=zt.dataTransfer.dropEffect;!gt&&Ht=="move"&&st.session.remove(st.getSelectionRange()),st.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(zt){if(!(st.getReadOnly()||!Kt(zt.dataTransfer)))return pt=zt.clientX,mt=zt.clientY,ut||Ot(),yt++,zt.dataTransfer.dropEffect=gt=Wt(zt),ot.preventDefault(zt)},this.onDragOver=function(zt){if(!(st.getReadOnly()||!Kt(zt.dataTransfer)))return pt=zt.clientX,mt=zt.clientY,ut||(Ot(),yt++),Dt!==null&&(Dt=null),zt.dataTransfer.dropEffect=gt=Wt(zt),ot.preventDefault(zt)},this.onDragLeave=function(zt){if(yt--,yt<=0&&ut)return Mt(),gt=null,ot.preventDefault(zt)},this.onDrop=function(zt){if(St){var Ht=zt.dataTransfer;if(Et)switch(gt){case"move":dt.contains(St.row,St.column)?dt={start:St,end:St}:dt=st.moveText(dt,St);break;case"copy":dt=st.moveText(dt,St,!0);break}else{var Zt=Ht.getData("Text");dt={start:St,end:st.session.insert(St,Zt)},st.focus(),gt=null}return Mt(),ot.preventDefault(zt)}},ot.addListener(ht,"dragstart",this.onDragStart.bind(tt),st),ot.addListener(ht,"dragend",this.onDragEnd.bind(tt),st),ot.addListener(ht,"dragenter",this.onDragEnter.bind(tt),st),ot.addListener(ht,"dragover",this.onDragOver.bind(tt),st),ot.addListener(ht,"dragleave",this.onDragLeave.bind(tt),st),ot.addListener(ht,"drop",this.onDrop.bind(tt),st);function Tt(zt,Ht){var Zt=Date.now(),Qt=!Ht||zt.row!=Ht.row,hr=!Ht||zt.column!=Ht.column;if(!kt||Qt||hr)st.moveCursorToPosition(zt),kt=Zt,Ct={x:pt,y:mt};else{var fr=$(Ct.x,Ct.y,pt,mt);fr>j?kt=null:Zt-kt>=it&&(st.renderer.scrollCursorIntoView(),kt=null)}}function At(zt,Ht){var Zt=Date.now(),Qt=st.renderer.layerConfig.lineHeight,hr=st.renderer.layerConfig.characterWidth,fr=st.renderer.scroller.getBoundingClientRect(),pr={x:{left:pt-fr.left,right:fr.right-pt},y:{top:mt-fr.top,bottom:fr.bottom-mt}},gr=Math.min(pr.x.left,pr.x.right),tr=Math.min(pr.y.top,pr.y.bottom),rr={row:zt.row,column:zt.column};gr/hr<=2&&(rr.column+=pr.x.left<pr.x.right?-3:2),tr/Qt<=1&&(rr.row+=pr.y.top<pr.y.bottom?-1:1);var qt=zt.row!=rr.row,xr=zt.column!=rr.column,Sr=!Ht||zt.row!=Ht.row;qt||xr&&!Sr?_t?Zt-_t>=nt&&st.renderer.scrollCursorIntoView(rr):_t=Zt:_t=null}function It(){var zt=St;St=st.renderer.screenToTextCoordinates(pt,mt),Tt(St,zt),At(St,zt)}function Ot(){dt=st.selection.toOrientedRange(),ut=st.session.addMarker(dt,"ace_selection",st.getSelectionStyle()),st.clearSelection(),st.isFocused()&&st.renderer.$cursorLayer.setBlinking(!1),clearInterval(vt),It(),vt=setInterval(It,20),yt=0,ot.addListener(document,"mousemove",Bt)}function Mt(){clearInterval(vt),st.session.removeMarker(ut),ut=null,st.selection.fromOrientedRange(dt),st.isFocused()&&!Et&&st.$resetCursorStyle(),dt=null,St=null,yt=0,_t=null,kt=null,ot.removeListener(document,"mousemove",Bt)}var Dt=null;function Bt(){Dt==null&&(Dt=setTimeout(function(){Dt!=null&&ut&&Mt()},20))}function Kt(zt){var Ht=zt.types;return!Ht||Array.prototype.some.call(Ht,function(Zt){return Zt=="text/plain"||Zt=="Text"})}function Wt(zt){var Ht=["copy","copymove","all","uninitialized"],Zt=["move","copymove","linkmove","all","uninitialized"],Qt=at.isMac?zt.altKey:zt.ctrlKey,hr="uninitialized";try{hr=zt.dataTransfer.effectAllowed.toLowerCase()}catch{}var fr="none";return Qt&&Ht.indexOf(hr)>=0?fr="copy":Zt.indexOf(hr)>=0?fr="move":Ht.indexOf(hr)>=0&&(fr="copy"),fr}}(function(){this.dragWait=function(){var tt=Date.now()-this.mousedownEvent.time;tt>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var tt=this.editor.container;tt.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(tt){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var tt=this.editor,st=tt.container;st.draggable=!0,tt.renderer.$cursorLayer.setBlinking(!1),tt.setStyle("ace_dragging");var lt=at.isWin?"default":"move";tt.renderer.setCursorStyle(lt),this.setState("dragReady")},this.onMouseDrag=function(tt){var st=this.editor.container;if(at.isIE&&this.state=="dragReady"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>3&&st.dragDrop()}if(this.state==="dragWait"){var lt=$(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);lt>0&&(st.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(tt){if(this.$dragEnabled){this.mousedownEvent=tt;var st=this.editor,lt=tt.inSelection(),ct=tt.getButton(),ht=tt.domEvent.detail||1;if(ht===1&&ct===0&&lt){if(tt.editor.inMultiSelectMode&&(tt.getAccelKey()||tt.getShiftKey()))return;this.mousedownEvent.time=Date.now();var ut=tt.domEvent.target||tt.domEvent.srcElement;if("unselectable"in ut&&(ut.unselectable="on"),st.getDragDelay()){if(at.isWebKit){this.cancelDrag=!0;var pt=st.container;pt.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(tt,this.onMouseDrag.bind(this)),tt.defaultPrevented=!0}}}}).call(_.prototype);function $(tt,st,lt,ct){return Math.sqrt(Math.pow(lt-tt,2)+Math.pow(ct-st,2))}a.DragdropHandler=_}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(o,a,rt){var et=o("./mouse_event").MouseEvent,ot=o("../lib/event"),at=o("../lib/dom");a.addTouchListeners=function(nt,it){var j="scroll",_,$,tt,st,lt,ct,ht=0,ut,pt=0,mt=0,vt=0,dt,St;function yt(){var Tt=window.navigator&&window.navigator.clipboard,At=!1,It=function(){var Dt=it.getCopyText(),Bt=it.session.getUndoManager().hasUndo();St.replaceChild(at.buildDom(At?["span",!Dt&&Ot("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Dt&&Ot("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Dt&&Ot("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Tt&&Ot("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Bt&&Ot("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],Ot("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],Ot("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),St.firstChild)},Ot=function(Dt){return it.commands.canExecute(Dt,it)},Mt=function(Dt){var Bt=Dt.target.getAttribute("action");if(Bt=="more"||!At)return At=!At,It();Bt=="paste"?Tt.readText().then(function(Kt){it.execCommand(Bt,Kt)}):Bt&&((Bt=="cut"||Bt=="copy")&&(Tt?Tt.writeText(it.getCopyText()):document.execCommand("copy")),it.execCommand(Bt)),St.firstChild.style.display="none",At=!1,Bt!="openCommandPalette"&&it.focus()};St=at.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Dt){j="menu",Dt.stopPropagation(),Dt.preventDefault(),it.textInput.focus()},ontouchend:function(Dt){Dt.stopPropagation(),Dt.preventDefault(),Mt(Dt)},onclick:Mt},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],it.container)}function gt(){if(!it.getOption("enableMobileMenu")){St&&Et();return}St||yt();var Tt=it.selection.cursor,At=it.renderer.textToScreenCoordinates(Tt.row,Tt.column),It=it.renderer.textToScreenCoordinates(0,0).pageX,Ot=it.renderer.scrollLeft,Mt=it.container.getBoundingClientRect();St.style.top=At.pageY-Mt.top-3+"px",At.pageX-Mt.left<Mt.width-70?(St.style.left="",St.style.right="10px"):(St.style.right="",St.style.left=It+Ot-Mt.left+"px"),St.style.display="",St.firstChild.style.display="none",it.on("input",Et)}function Et(Tt){St&&(St.style.display="none"),it.off("input",Et)}function _t(){lt=null,clearTimeout(lt);var Tt=it.selection.getRange(),At=Tt.contains(ut.row,ut.column);(Tt.isEmpty()||!At)&&(it.selection.moveToPosition(ut),it.selection.selectWord()),j="wait",gt()}function kt(){lt=null,clearTimeout(lt),it.selection.moveToPosition(ut);var Tt=pt>=2?it.selection.getLineRange(ut.row):it.session.getBracketRange(ut);Tt&&!Tt.isEmpty()?it.selection.setRange(Tt):it.selection.selectWord(),j="wait"}ot.addListener(nt,"contextmenu",function(Tt){if(dt){var At=it.textInput.getElement();At.focus()}},it),ot.addListener(nt,"touchstart",function(Tt){var At=Tt.touches;if(lt||At.length>1){clearTimeout(lt),lt=null,tt=-1,j="zoom";return}dt=it.$mouseHandler.isMousePressed=!0;var It=it.renderer.layerConfig.lineHeight,Ot=it.renderer.layerConfig.lineHeight,Mt=Tt.timeStamp;st=Mt;var Dt=At[0],Bt=Dt.clientX,Kt=Dt.clientY;Math.abs(_-Bt)+Math.abs($-Kt)>It&&(tt=-1),_=Tt.clientX=Bt,$=Tt.clientY=Kt,mt=vt=0;var Wt=new et(Tt,it);if(ut=Wt.getDocumentPosition(),Mt-tt<500&&At.length==1&&!ht)pt++,Tt.preventDefault(),Tt.button=0,kt();else{pt=0;var zt=it.selection.cursor,Ht=it.selection.isEmpty()?zt:it.selection.anchor,Zt=it.renderer.$cursorLayer.getPixelPosition(zt,!0),Qt=it.renderer.$cursorLayer.getPixelPosition(Ht,!0),hr=it.renderer.scroller.getBoundingClientRect(),fr=it.renderer.layerConfig.offset,pr=it.renderer.scrollLeft,gr=function(qt,xr){return qt=qt/Ot,xr=xr/It-.75,qt*qt+xr*xr};if(Tt.clientX<hr.left){j="zoom";return}var tr=gr(Tt.clientX-hr.left-Zt.left+pr,Tt.clientY-hr.top-Zt.top+fr),rr=gr(Tt.clientX-hr.left-Qt.left+pr,Tt.clientY-hr.top-Qt.top+fr);tr<3.5&&rr<3.5&&(j=tr>rr?"cursor":"anchor"),rr<3.5?j="anchor":tr<3.5?j="cursor":j="scroll",lt=setTimeout(_t,450)}tt=Mt},it),ot.addListener(nt,"touchend",function(Tt){dt=it.$mouseHandler.isMousePressed=!1,ct&&clearInterval(ct),j=="zoom"?(j="",ht=0):lt?(it.selection.moveToPosition(ut),ht=0,gt()):j=="scroll"?(Ct(),Et()):gt(),clearTimeout(lt),lt=null},it),ot.addListener(nt,"touchmove",function(Tt){lt&&(clearTimeout(lt),lt=null);var At=Tt.touches;if(!(At.length>1||j=="zoom")){var It=At[0],Ot=_-It.clientX,Mt=$-It.clientY;if(j=="wait")if(Ot*Ot+Mt*Mt>4)j="cursor";else return Tt.preventDefault();_=It.clientX,$=It.clientY,Tt.clientX=It.clientX,Tt.clientY=It.clientY;var Dt=Tt.timeStamp,Bt=Dt-st;if(st=Dt,j=="scroll"){var Kt=new et(Tt,it);Kt.speed=1,Kt.wheelX=Ot,Kt.wheelY=Mt,10*Math.abs(Ot)<Math.abs(Mt)&&(Ot=0),10*Math.abs(Mt)<Math.abs(Ot)&&(Mt=0),Bt!=0&&(mt=Ot/Bt,vt=Mt/Bt),it._emit("mousewheel",Kt),Kt.propagationStopped||(mt=vt=0)}else{var Wt=new et(Tt,it),zt=Wt.getDocumentPosition();j=="cursor"?it.selection.moveCursorToPosition(zt):j=="anchor"&&it.selection.setSelectionAnchor(zt.row,zt.column),it.renderer.scrollCursorIntoView(zt),Tt.preventDefault()}}},it);function Ct(){ht+=60,ct=setInterval(function(){ht--<=0&&(clearInterval(ct),ct=null),Math.abs(mt)<.01&&(mt=0),Math.abs(vt)<.01&&(vt=0),ht<20&&(mt=.9*mt),ht<20&&(vt=.9*vt);var Tt=it.session.getScrollTop();it.renderer.scrollBy(10*mt,10*vt),Tt==it.session.getScrollTop()&&(ht=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(o,a,rt){var et=o("../lib/event"),ot=o("../lib/useragent"),at=o("./default_handlers").DefaultHandlers,nt=o("./default_gutter_handler").GutterHandler,it=o("./mouse_event").MouseEvent,j=o("./dragdrop_handler").DragdropHandler,_=o("./touch_handler").addTouchListeners,$=o("../config"),tt=function(){function st(lt){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var ct=this;this.editor=lt,new at(this),new nt(this),new j(this);var ht=function(mt){var vt=!document.hasFocus||!document.hasFocus()||!lt.isFocused()&&document.activeElement==(lt.textInput&&lt.textInput.getElement());vt&&window.focus(),lt.focus(),setTimeout(function(){lt.isFocused()||lt.focus()})},ut=lt.renderer.getMouseEventTarget();et.addListener(ut,"click",this.onMouseEvent.bind(this,"click"),lt),et.addListener(ut,"mousemove",this.onMouseMove.bind(this,"mousemove"),lt),et.addMultiMouseDownListener([ut,lt.renderer.scrollBarV&&lt.renderer.scrollBarV.inner,lt.renderer.scrollBarH&&lt.renderer.scrollBarH.inner,lt.textInput&&lt.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",lt),et.addMouseWheelListener(lt.container,this.onMouseWheel.bind(this,"mousewheel"),lt),_(lt.container,lt);var pt=lt.renderer.$gutter;et.addListener(pt,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),lt),et.addListener(pt,"click",this.onMouseEvent.bind(this,"gutterclick"),lt),et.addListener(pt,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),lt),et.addListener(pt,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),lt),et.addListener(ut,"mousedown",ht,lt),et.addListener(pt,"mousedown",ht,lt),ot.isIE&&lt.renderer.scrollBarV&&(et.addListener(lt.renderer.scrollBarV.element,"mousedown",ht,lt),et.addListener(lt.renderer.scrollBarH.element,"mousedown",ht,lt)),lt.on("mousemove",function(mt){if(!(ct.state||ct.$dragDelay||!ct.$dragEnabled)){var vt=lt.renderer.screenToTextCoordinates(mt.x,mt.y),dt=lt.session.selection.getRange(),St=lt.renderer;!dt.isEmpty()&&dt.insideStart(vt.row,vt.column)?St.setCursorStyle("default"):St.setCursorStyle("")}},lt)}return st.prototype.onMouseEvent=function(lt,ct){this.editor.session&&this.editor._emit(lt,new it(ct,this.editor))},st.prototype.onMouseMove=function(lt,ct){var ht=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!ht||!ht.length||this.editor._emit(lt,new it(ct,this.editor))},st.prototype.onMouseWheel=function(lt,ct){var ht=new it(ct,this.editor);ht.speed=this.$scrollSpeed*2,ht.wheelX=ct.wheelX,ht.wheelY=ct.wheelY,this.editor._emit(lt,ht)},st.prototype.setState=function(lt){this.state=lt},st.prototype.captureMouse=function(lt,ct){this.x=lt.x,this.y=lt.y,this.isMousePressed=!0;var ht=this.editor,ut=this.editor.renderer;ut.$isMousePressed=!0;var pt=this,mt=function(gt){if(gt){if(ot.isWebKit&&!gt.which&&pt.releaseMouse)return pt.releaseMouse();pt.x=gt.clientX,pt.y=gt.clientY,ct&&ct(gt),pt.mouseEvent=new it(gt,pt.editor),pt.$mouseMoved=!0}},vt=function(gt){ht.off("beforeEndOperation",St),clearInterval(yt),ht.session&&dt(),pt[pt.state+"End"]&&pt[pt.state+"End"](gt),pt.state="",pt.isMousePressed=ut.$isMousePressed=!1,ut.$keepTextAreaAtCursor&&ut.$moveTextAreaToCursor(),pt.$onCaptureMouseMove=pt.releaseMouse=null,gt&&pt.onMouseEvent("mouseup",gt),ht.endOperation()},dt=function(){pt[pt.state]&&pt[pt.state](),pt.$mouseMoved=!1};if(ot.isOldIE&&lt.domEvent.type=="dblclick")return setTimeout(function(){vt(lt)});var St=function(gt){pt.releaseMouse&&ht.curOp.command.name&&ht.curOp.selectionChanged&&(pt[pt.state+"End"]&&pt[pt.state+"End"](),pt.state="",pt.releaseMouse())};ht.on("beforeEndOperation",St),ht.startOperation({command:{name:"mouse"}}),pt.$onCaptureMouseMove=mt,pt.releaseMouse=et.capture(this.editor.container,mt,vt);var yt=setInterval(dt,20)},st.prototype.cancelContextMenu=function(){var lt=(function(ct){ct&&ct.domEvent&&ct.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",lt),ct&&ct.domEvent&&et.stopEvent(ct.domEvent))}).bind(this);setTimeout(lt,10),this.editor.on("nativecontextmenu",lt)},st.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},st}();tt.prototype.releaseMouse=null,$.defineOptions(tt.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:ot.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),a.MouseHandler=tt}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(o,a,rt){var et=o("../lib/dom"),ot=function(){function at(nt){nt.on("click",function(it){var j=it.getDocumentPosition(),_=nt.session,$=_.getFoldAt(j.row,j.column,1);$&&(it.getAccelKey()?_.removeFold($):_.expandFold($),it.stop());var tt=it.domEvent&&it.domEvent.target;tt&&et.hasCssClass(tt,"ace_inline_button")&&et.hasCssClass(tt,"ace_toggle_wrap")&&(_.setOption("wrap",!_.getUseWrapMode()),nt.renderer.scrollCursorIntoView())}),nt.on("gutterclick",function(it){var j=nt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=nt.session;$.foldWidgets&&$.foldWidgets[_]&&nt.session.onFoldWidgetClick(_,it),nt.isFocused()||nt.focus(),it.stop()}}),nt.on("gutterdblclick",function(it){var j=nt.renderer.$gutterLayer.getRegion(it);if(j=="foldWidgets"){var _=it.getDocumentPosition().row,$=nt.session,tt=$.getParentFoldRangeData(_,!0),st=tt.range||tt.firstRange;if(st){_=st.start.row;var lt=$.getFoldAt(_,$.getLine(_).length,1);lt?$.removeFold(lt):($.addFold("...",st),nt.renderer.scrollCursorIntoView({row:st.start.row,column:0}))}it.stop()}})}return at}();a.FoldHandler=ot}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(o,a,rt){var et=o("../lib/keys"),ot=o("../lib/event"),at=function(){function nt(it){this.$editor=it,this.$data={editor:it},this.$handlers=[],this.setDefaultHandler(it.commands)}return nt.prototype.setDefaultHandler=function(it){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=it,this.addKeyboardHandler(it,0)},nt.prototype.setKeyboardHandler=function(it){var j=this.$handlers;if(j[j.length-1]!=it){for(;j[j.length-1]&&j[j.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(j[j.length-1]);this.addKeyboardHandler(it,1)}},nt.prototype.addKeyboardHandler=function(it,j){if(it){typeof it=="function"&&!it.handleKeyboard&&(it.handleKeyboard=it);var _=this.$handlers.indexOf(it);_!=-1&&this.$handlers.splice(_,1),j==null?this.$handlers.push(it):this.$handlers.splice(j,0,it),_==-1&&it.attach&&it.attach(this.$editor)}},nt.prototype.removeKeyboardHandler=function(it){var j=this.$handlers.indexOf(it);return j==-1?!1:(this.$handlers.splice(j,1),it.detach&&it.detach(this.$editor),!0)},nt.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},nt.prototype.getStatusText=function(){var it=this.$data,j=it.editor;return this.$handlers.map(function(_){return _.getStatusText&&_.getStatusText(j,it)||""}).filter(Boolean).join(" ")},nt.prototype.$callKeyboardHandlers=function(it,j,_,$){for(var tt,st=!1,lt=this.$editor.commands,ct=this.$handlers.length;ct--&&(tt=this.$handlers[ct].handleKeyboard(this.$data,it,j,_,$),!(!(!tt||!tt.command)&&(tt.command=="null"?st=!0:st=lt.exec(tt.command,this.$editor,tt.args,$),st&&$&&it!=-1&&tt.passEvent!=!0&&tt.command.passEvent!=!0&&ot.stopEvent($),st))););return!st&&it==-1&&(tt={command:"insertstring"},st=lt.exec("insertstring",this.$editor,j)),st&&this.$editor._signal&&this.$editor._signal("keyboardActivity",tt),st},nt.prototype.onCommandKey=function(it,j,_){var $=et.keyCodeToString(_);return this.$callKeyboardHandlers(j,$,_,it)},nt.prototype.onTextInput=function(it){return this.$callKeyboardHandlers(-1,it)},nt}();a.KeyBinding=at}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(o,a,rt){var et=0,ot=0,at=!1,nt=!1,it=!1,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$=0,tt=1,st=0,lt=1,ct=2,ht=3,ut=4,pt=5,mt=6,vt=7,dt=8,St=9,yt=10,gt=11,Et=12,_t=13,kt=14,Ct=15,Tt=16,At=17,It=18,Ot=[It,It,It,It,It,It,It,It,It,mt,pt,mt,dt,pt,It,It,It,It,It,It,It,It,It,It,It,It,It,It,pt,pt,pt,mt,dt,ut,ut,gt,gt,gt,ut,ut,ut,ut,ut,yt,St,yt,St,St,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,St,ut,ut,ut,ut,ut,ut,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ut,ut,ut,ut,ut,ut,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,st,ut,ut,ut,ut,It,It,It,It,It,It,pt,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,It,St,ut,gt,gt,gt,gt,ut,ut,ut,ut,st,ut,ut,It,ut,ut,gt,gt,ct,ct,ut,st,ut,ut,ut,ct,st,ut,ut,ut,ut,ut],Mt=[dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,It,It,It,st,lt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,dt,pt,_t,kt,Ct,Tt,At,St,gt,gt,gt,gt,gt,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,St,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,dt];function Dt(zt,Ht,Zt,Qt){var hr=et?_:j,fr=null,pr=null,gr=null,tr=0,rr=null,qt=null,xr=-1,Sr=null,dr=null,Ur=[];if(!Qt)for(Sr=0,Qt=[];Sr<Zt;Sr++)Qt[Sr]=Wt(zt[Sr]);for(ot=et,at=!1,nt=!1,it=!1,dr=0;dr<Zt;dr++){if(fr=tr,Ur[dr]=pr=Kt(zt,Qt,Ur,dr),tr=hr[fr][pr],rr=tr&240,tr&=15,Ht[dr]=gr=hr[tr][5],rr>0)if(rr==16){for(Sr=xr;Sr<dr;Sr++)Ht[Sr]=1;xr=-1}else xr=-1;if(qt=hr[tr][6],qt)xr==-1&&(xr=dr);else if(xr>-1){for(Sr=xr;Sr<dr;Sr++)Ht[Sr]=gr;xr=-1}Qt[dr]==pt&&(Ht[dr]=0),ot|=gr}if(it){for(Sr=0;Sr<Zt;Sr++)if(Qt[Sr]==mt){Ht[Sr]=et;for(var tn=Sr-1;tn>=0&&Qt[tn]==dt;tn--)Ht[tn]=et}}}function Bt(zt,Ht,Zt){if(!(ot<zt)){if(zt==1&&et==tt&&!nt){Zt.reverse();return}for(var Qt=Zt.length,hr=0,fr,pr,gr,tr;hr<Qt;){if(Ht[hr]>=zt){for(fr=hr+1;fr<Qt&&Ht[fr]>=zt;)fr++;for(pr=hr,gr=fr-1;pr<gr;pr++,gr--)tr=Zt[pr],Zt[pr]=Zt[gr],Zt[gr]=tr;hr=fr}hr++}}}function Kt(zt,Ht,Zt,Qt){var hr=Ht[Qt],fr,pr,gr,tr;switch(hr){case st:case lt:at=!1;case ut:case ht:return hr;case ct:return at?ht:ct;case vt:return at=!0,lt;case dt:return ut;case St:return Qt<1||Qt+1>=Ht.length||(fr=Zt[Qt-1])!=ct&&fr!=ht||(pr=Ht[Qt+1])!=ct&&pr!=ht?ut:(at&&(pr=ht),pr==fr?pr:ut);case yt:return fr=Qt>0?Zt[Qt-1]:pt,fr==ct&&Qt+1<Ht.length&&Ht[Qt+1]==ct?ct:ut;case gt:if(Qt>0&&Zt[Qt-1]==ct)return ct;if(at)return ut;for(tr=Qt+1,gr=Ht.length;tr<gr&&Ht[tr]==gt;)tr++;return tr<gr&&Ht[tr]==ct?ct:ut;case Et:for(gr=Ht.length,tr=Qt+1;tr<gr&&Ht[tr]==Et;)tr++;if(tr<gr){var rr=zt[Qt],qt=rr>=1425&&rr<=2303||rr==64286;if(fr=Ht[tr],qt&&(fr==lt||fr==vt))return lt}return Qt<1||(fr=Ht[Qt-1])==pt?ut:Zt[Qt-1];case pt:return at=!1,nt=!0,et;case mt:return it=!0,ut;case _t:case kt:case Tt:case At:case Ct:at=!1;case It:return ut}}function Wt(zt){var Ht=zt.charCodeAt(0),Zt=Ht>>8;return Zt==0?Ht>191?st:Ot[Ht]:Zt==5?/[\u0591-\u05f4]/.test(zt)?lt:st:Zt==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(zt)?Et:/[\u0660-\u0669\u066b-\u066c]/.test(zt)?ht:Ht==1642?gt:/[\u06f0-\u06f9]/.test(zt)?ct:vt:Zt==32&&Ht<=8287?Mt[Ht&255]:Zt==254&&Ht>=65136?vt:ut}a.L=st,a.R=lt,a.EN=ct,a.ON_R=3,a.AN=4,a.R_H=5,a.B=6,a.RLE=7,a.DOT="",a.doBidiReorder=function(zt,Ht,Zt){if(zt.length<2)return{};var Qt=zt.split(""),hr=new Array(Qt.length),fr=new Array(Qt.length),pr=[];et=Zt?tt:$,Dt(Qt,pr,Qt.length,Ht);for(var gr=0;gr<hr.length;hr[gr]=gr,gr++);Bt(2,pr,hr),Bt(1,pr,hr);for(var gr=0;gr<hr.length-1;gr++)Ht[gr]===ht?pr[gr]=a.AN:pr[gr]===lt&&(Ht[gr]>vt&&Ht[gr]<_t||Ht[gr]===ut||Ht[gr]===It)?pr[gr]=a.ON_R:gr>0&&Qt[gr-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Qt[gr])&&(pr[gr-1]=pr[gr]=a.R_H,gr++);Qt[Qt.length-1]===a.DOT&&(pr[Qt.length-1]=a.B),Qt[0]===""&&(pr[0]=a.RLE);for(var gr=0;gr<hr.length;gr++)fr[gr]=pr[hr[gr]];return{logicalFromVisual:hr,bidiLevels:fr}},a.hasBidiCharacters=function(zt,Ht){for(var Zt=!1,Qt=0;Qt<zt.length;Qt++)Ht[Qt]=Wt(zt.charAt(Qt)),!Zt&&(Ht[Qt]==lt||Ht[Qt]==vt||Ht[Qt]==ht)&&(Zt=!0);return Zt},a.getVisualFromLogicalIdx=function(zt,Ht){for(var Zt=0;Zt<Ht.logicalFromVisual.length;Zt++)if(Ht.logicalFromVisual[Zt]==zt)return Zt;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(o,a,rt){var et=o("./lib/bidiutil"),ot=o("./lib/lang"),at=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,nt=function(){function it(j){this.session=j,this.bidiMap={},this.currentRow=null,this.bidiUtil=et,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=at.test(j.getValue())}return it.prototype.isBidiRow=function(j,_,$){return this.seenBidi?(j!==this.currentRow&&(this.currentRow=j,this.updateRowLine(_,$),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},it.prototype.onChange=function(j){this.seenBidi?this.currentRow=null:j.action=="insert"&&at.test(j.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},it.prototype.getDocumentRow=function(){var j=0,_=this.session.$screenRowCache;if(_.length){var $=this.session.$getRowCacheIndex(_,this.currentRow);$>=0&&(j=this.session.$docRowCache[$])}return j},it.prototype.getSplitIndex=function(){var j=0,_=this.session.$screenRowCache;if(_.length)for(var $,tt=this.session.$getRowCacheIndex(_,this.currentRow);this.currentRow-j>0&&($=this.session.$getRowCacheIndex(_,this.currentRow-j-1),$===tt);)tt=$,j++;else j=this.currentRow;return j},it.prototype.updateRowLine=function(j,_){j===void 0&&(j=this.getDocumentRow());var $=j===this.session.getLength()-1,tt=$?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(j),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var st=this.session.$wrapData[j];st&&(_===void 0&&(_=this.getSplitIndex()),_>0&&st.length?(this.wrapIndent=st.indent,this.wrapOffset=this.wrapIndent*this.charWidths[et.L],this.line=_<st.length?this.line.substring(st[_-1],st[_]):this.line.substring(st[st.length-1])):this.line=this.line.substring(0,st[_]),_==st.length&&(this.line+=this.showInvisibles?tt:et.DOT))}else this.line+=this.showInvisibles?tt:et.DOT;var lt=this.session,ct=0,ht;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ut,pt){return ut==="	"||lt.isFullWidth(ut.charCodeAt(0))?(ht=ut==="	"?lt.getScreenTabSize(pt+ct):2,ct+=ht-1,ot.stringRepeat(et.DOT,ht)):ut}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==et.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},it.prototype.updateBidiMap=function(){var j=[];et.hasBidiCharacters(this.line,j)||this.isRtlDir?this.bidiMap=et.doBidiReorder(this.line,j,this.isRtlDir):this.bidiMap={}},it.prototype.markAsDirty=function(){this.currentRow=null},it.prototype.updateCharacterWidths=function(j){if(this.characterWidth!==j.$characterSize.width){this.fontMetrics=j;var _=this.characterWidth=j.$characterSize.width,$=j.$measureCharWidth("");this.charWidths[et.L]=this.charWidths[et.EN]=this.charWidths[et.ON_R]=_,this.charWidths[et.R]=this.charWidths[et.AN]=$,this.charWidths[et.R_H]=$*.45,this.charWidths[et.B]=this.charWidths[et.RLE]=0,this.currentRow=null}},it.prototype.setShowInvisibles=function(j){this.showInvisibles=j,this.currentRow=null},it.prototype.setEolChar=function(j){this.EOL=j},it.prototype.setContentWidth=function(j){this.contentWidth=j},it.prototype.isRtlLine=function(j){return this.$isRtl?!0:j!=null?this.session.getLine(j).charAt(0)==this.RLE:this.isRtlDir},it.prototype.setRtlDirection=function(j,_){for(var $=j.getCursorPosition(),tt=j.selection.getSelectionAnchor().row;tt<=$.row;tt++)!_&&j.session.getLine(tt).charAt(0)===j.session.$bidiHandler.RLE?j.session.doc.removeInLine(tt,0,1):_&&j.session.getLine(tt).charAt(0)!==j.session.$bidiHandler.RLE&&j.session.doc.insert({column:0,row:tt},j.session.$bidiHandler.RLE)},it.prototype.getPosLeft=function(j){j-=this.wrapIndent;var _=this.line.charAt(0)===this.RLE?1:0,$=j>_?this.session.getOverwrite()?j:j-1:_,tt=et.getVisualFromLogicalIdx($,this.bidiMap),st=this.bidiMap.bidiLevels,lt=0;!this.session.getOverwrite()&&j<=_&&st[tt]%2!==0&&tt++;for(var ct=0;ct<tt;ct++)lt+=this.charWidths[st[ct]];return!this.session.getOverwrite()&&j>_&&st[tt]%2===0&&(lt+=this.charWidths[st[tt]]),this.wrapIndent&&(lt+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(lt+=this.rtlLineOffset),lt},it.prototype.getSelections=function(j,_){var $=this.bidiMap,tt=$.bidiLevels,st,lt=[],ct=0,ht=Math.min(j,_)-this.wrapIndent,ut=Math.max(j,_)-this.wrapIndent,pt=!1,mt=!1,vt=0;this.wrapIndent&&(ct+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var dt,St=0;St<tt.length;St++)dt=$.logicalFromVisual[St],st=tt[St],pt=dt>=ht&&dt<ut,pt&&!mt?vt=ct:!pt&&mt&&lt.push({left:vt,width:ct-vt}),ct+=this.charWidths[st],mt=pt;if(pt&&St===tt.length&&lt.push({left:vt,width:ct-vt}),this.isRtlDir)for(var yt=0;yt<lt.length;yt++)lt[yt].left+=this.rtlLineOffset;return lt},it.prototype.offsetToCol=function($){this.isRtlDir&&($-=this.rtlLineOffset);var _=0,$=Math.max($,0),tt=0,st=0,lt=this.bidiMap.bidiLevels,ct=this.charWidths[lt[st]];for(this.wrapIndent&&($-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);$>tt+ct/2;){if(tt+=ct,st===lt.length-1){ct=0;break}ct=this.charWidths[lt[++st]]}return st>0&&lt[st-1]%2!==0&&lt[st]%2===0?($<tt&&st--,_=this.bidiMap.logicalFromVisual[st]):st>0&&lt[st-1]%2===0&&lt[st]%2!==0?_=1+($>tt?this.bidiMap.logicalFromVisual[st]:this.bidiMap.logicalFromVisual[st-1]):this.isRtlDir&&st===lt.length-1&&ct===0&&lt[st-1]%2===0||!this.isRtlDir&&st===0&&lt[st]%2!==0?_=1+this.bidiMap.logicalFromVisual[st]:(st>0&&lt[st-1]%2!==0&&ct!==0&&st--,_=this.bidiMap.logicalFromVisual[st]),_===0&&this.isRtlDir&&_++,_+this.wrapIndent},it}();a.BidiHandler=nt}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(o,a,rt){var et=o("./lib/oop"),ot=o("./lib/lang"),at=o("./lib/event_emitter").EventEmitter,nt=o("./range").Range,it=function(){function j(_){this.session=_,this.doc=_.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var $=this;this.cursor.on("change",function(tt){$.$cursorChanged=!0,$.$silent||$._emit("changeCursor"),!$.$isEmpty&&!$.$silent&&$._emit("changeSelection"),!$.$keepDesiredColumnOnChange&&tt.old.column!=tt.value.column&&($.$desiredColumn=null)}),this.anchor.on("change",function(){$.$anchorChanged=!0,!$.$isEmpty&&!$.$silent&&$._emit("changeSelection")})}return j.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},j.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},j.prototype.getCursor=function(){return this.lead.getPosition()},j.prototype.setAnchor=function(_,$){this.$isEmpty=!1,this.anchor.setPosition(_,$)},j.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},j.prototype.getSelectionLead=function(){return this.lead.getPosition()},j.prototype.isBackwards=function(){var _=this.anchor,$=this.lead;return _.row>$.row||_.row==$.row&&_.column>$.column},j.prototype.getRange=function(){var _=this.anchor,$=this.lead;return this.$isEmpty?nt.fromPoints($,$):this.isBackwards()?nt.fromPoints($,_):nt.fromPoints(_,$)},j.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},j.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},j.prototype.setRange=function(_,$){var tt=$?_.end:_.start,st=$?_.start:_.end;this.$setSelection(tt.row,tt.column,st.row,st.column)},j.prototype.$setSelection=function(_,$,tt,st){if(!this.$silent){var lt=this.$isEmpty,ct=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(_,$),this.cursor.setPosition(tt,st),this.$isEmpty=!nt.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||lt!=this.$isEmpty||ct)&&this._emit("changeSelection")}},j.prototype.$moveSelection=function(_){var $=this.lead;this.$isEmpty&&this.setSelectionAnchor($.row,$.column),_.call(this)},j.prototype.selectTo=function(_,$){this.$moveSelection(function(){this.moveCursorTo(_,$)})},j.prototype.selectToPosition=function(_){this.$moveSelection(function(){this.moveCursorToPosition(_)})},j.prototype.moveTo=function(_,$){this.clearSelection(),this.moveCursorTo(_,$)},j.prototype.moveToPosition=function(_){this.clearSelection(),this.moveCursorToPosition(_)},j.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},j.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},j.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},j.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},j.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},j.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},j.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},j.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},j.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},j.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},j.prototype.getWordRange=function(_,$){if(typeof $>"u"){var tt=_||this.lead;_=tt.row,$=tt.column}return this.session.getWordRange(_,$)},j.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},j.prototype.selectAWord=function(){var _=this.getCursor(),$=this.session.getAWordRange(_.row,_.column);this.setSelectionRange($)},j.prototype.getLineRange=function(_,$){var tt=typeof _=="number"?_:this.lead.row,st,lt=this.session.getFoldLine(tt);return lt?(tt=lt.start.row,st=lt.end.row):st=tt,$===!0?new nt(tt,0,st,this.session.getLine(st).length):new nt(tt,0,st+1,0)},j.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},j.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},j.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},j.prototype.wouldMoveIntoSoftTab=function(_,$,tt){var st=_.column,lt=_.column+$;return tt<0&&(st=_.column-$,lt=_.column),this.session.isTabStop(_)&&this.doc.getLine(_.row).slice(st,lt).split(" ").length-1==$},j.prototype.moveCursorLeft=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,-1))this.moveCursorTo($.start.row,$.start.column);else if(_.column===0)_.row>0&&this.moveCursorTo(_.row-1,this.doc.getLine(_.row-1).length);else{var tt=this.session.getTabSize();this.wouldMoveIntoSoftTab(_,tt,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-tt):this.moveCursorBy(0,-1)}},j.prototype.moveCursorRight=function(){var _=this.lead.getPosition(),$;if($=this.session.getFoldAt(_.row,_.column,1))this.moveCursorTo($.end.row,$.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var tt=this.session.getTabSize(),_=this.lead;this.wouldMoveIntoSoftTab(_,tt,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,tt):this.moveCursorBy(0,1)}},j.prototype.moveCursorLineStart=function(){var _=this.lead.row,$=this.lead.column,tt=this.session.documentToScreenRow(_,$),st=this.session.screenToDocumentPosition(tt,0),lt=this.session.getDisplayLine(_,null,st.row,st.column),ct=lt.match(/^\s*/);ct[0].length!=$&&!this.session.$useEmacsStyleLineStart&&(st.column+=ct[0].length),this.moveCursorToPosition(st)},j.prototype.moveCursorLineEnd=function(){var _=this.lead,$=this.session.getDocumentLastRowColumnPosition(_.row,_.column);if(this.lead.column==$.column){var tt=this.session.getLine($.row);if($.column==tt.length){var st=tt.search(/\s+$/);st>0&&($.column=st)}}this.moveCursorTo($.row,$.column)},j.prototype.moveCursorFileEnd=function(){var _=this.doc.getLength()-1,$=this.doc.getLine(_).length;this.moveCursorTo(_,$)},j.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},j.prototype.moveCursorLongWordRight=function(){var _=this.lead.row,$=this.lead.column,tt=this.doc.getLine(_),st=tt.substring($);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var lt=this.session.getFoldAt(_,$,1);if(lt){this.moveCursorTo(lt.end.row,lt.end.column);return}if(this.session.nonTokenRe.exec(st)&&($+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,st=tt.substring($)),$>=tt.length){this.moveCursorTo(_,tt.length),this.moveCursorRight(),_<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(st)&&($+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.moveCursorLongWordLeft=function(){var _=this.lead.row,$=this.lead.column,tt;if(tt=this.session.getFoldAt(_,$,-1)){this.moveCursorTo(tt.start.row,tt.start.column);return}var st=this.session.getFoldStringAt(_,$,-1);st==null&&(st=this.doc.getLine(_).substring(0,$));var lt=ot.stringReverse(st);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(lt)&&($-=this.session.nonTokenRe.lastIndex,lt=lt.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),$<=0){this.moveCursorTo(_,0),this.moveCursorLeft(),_>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(lt)&&($-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(_,$)},j.prototype.$shortWordEndIndex=function(_){var $=0,tt,st=/\s/,lt=this.session.tokenRe;if(lt.lastIndex=0,this.session.tokenRe.exec(_))$=this.session.tokenRe.lastIndex;else{for(;(tt=_[$])&&st.test(tt);)$++;if($<1){for(lt.lastIndex=0;(tt=_[$])&&!lt.test(tt);)if(lt.lastIndex=0,$++,st.test(tt))if($>2){$--;break}else{for(;(tt=_[$])&&st.test(tt);)$++;if($>2)break}}}return lt.lastIndex=0,$},j.prototype.moveCursorShortWordRight=function(){var _=this.lead.row,$=this.lead.column,tt=this.doc.getLine(_),st=tt.substring($),lt=this.session.getFoldAt(_,$,1);if(lt)return this.moveCursorTo(lt.end.row,lt.end.column);if($==tt.length){var ct=this.doc.getLength();do _++,st=this.doc.getLine(_);while(_<ct&&/^\s*$/.test(st));/^\s+/.test(st)||(st=""),$=0}var ht=this.$shortWordEndIndex(st);this.moveCursorTo(_,$+ht)},j.prototype.moveCursorShortWordLeft=function(){var _=this.lead.row,$=this.lead.column,tt;if(tt=this.session.getFoldAt(_,$,-1))return this.moveCursorTo(tt.start.row,tt.start.column);var st=this.session.getLine(_).substring(0,$);if($===0){do _--,st=this.doc.getLine(_);while(_>0&&/^\s*$/.test(st));$=st.length,/\s+$/.test(st)||(st="")}var lt=ot.stringReverse(st),ct=this.$shortWordEndIndex(lt);return this.moveCursorTo(_,$-ct)},j.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},j.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},j.prototype.moveCursorBy=function(_,$){var tt=this.session.documentToScreenPosition(this.lead.row,this.lead.column),st;if($===0&&(_!==0&&(this.session.$bidiHandler.isBidiRow(tt.row,this.lead.row)?(st=this.session.$bidiHandler.getPosLeft(tt.column),tt.column=Math.round(st/this.session.$bidiHandler.charWidths[0])):st=tt.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?tt.column=this.$desiredColumn:this.$desiredColumn=tt.column),_!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var lt=this.session.lineWidgets[this.lead.row];_<0?_-=lt.rowsAbove||0:_>0&&(_+=lt.rowCount-(lt.rowsAbove||0))}var ct=this.session.screenToDocumentPosition(tt.row+_,tt.column,st);_!==0&&$===0&&ct.row===this.lead.row&&(ct.column,this.lead.column),this.moveCursorTo(ct.row,ct.column+$,$===0)},j.prototype.moveCursorToPosition=function(_){this.moveCursorTo(_.row,_.column)},j.prototype.moveCursorTo=function(_,$,tt){var st=this.session.getFoldAt(_,$,1);st&&(_=st.start.row,$=st.start.column),this.$keepDesiredColumnOnChange=!0;var lt=this.session.getLine(_);/[\uDC00-\uDFFF]/.test(lt.charAt($))&&lt.charAt($-1)&&(this.lead.row==_&&this.lead.column==$+1?$=$-1:$=$+1),this.lead.setPosition(_,$),this.$keepDesiredColumnOnChange=!1,tt||(this.$desiredColumn=null)},j.prototype.moveCursorToScreen=function(_,$,tt){var st=this.session.screenToDocumentPosition(_,$);this.moveCursorTo(st.row,st.column,tt)},j.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},j.prototype.fromOrientedRange=function(_){this.setSelectionRange(_,_.cursor==_.start),this.$desiredColumn=_.desiredColumn||this.$desiredColumn},j.prototype.toOrientedRange=function(_){var $=this.getRange();return _?(_.start.column=$.start.column,_.start.row=$.start.row,_.end.column=$.end.column,_.end.row=$.end.row):_=$,_.cursor=this.isBackwards()?_.start:_.end,_.desiredColumn=this.$desiredColumn,_},j.prototype.getRangeOfMovements=function(_){var $=this.getCursor();try{_(this);var tt=this.getCursor();return nt.fromPoints($,tt)}catch{return nt.fromPoints($,$)}finally{this.moveCursorToPosition($)}},j.prototype.toJSON=function(){if(this.rangeCount)var _=this.ranges.map(function($){var tt=$.clone();return tt.isBackwards=$.cursor==$.start,tt});else{var _=this.getRange();_.isBackwards=this.isBackwards()}return _},j.prototype.fromJSON=function(_){if(_.start==null)if(this.rangeList&&_.length>1){this.toSingleRange(_[0]);for(var $=_.length;$--;){var tt=nt.fromPoints(_[$].start,_[$].end);_[$].isBackwards&&(tt.cursor=tt.start),this.addRange(tt,!0)}return}else _=_[0];this.rangeList&&this.toSingleRange(_),this.setSelectionRange(_,_.isBackwards)},j.prototype.isEqual=function(_){if((_.length||this.rangeCount)&&_.length!=this.rangeCount)return!1;if(!_.length||!this.ranges)return this.getRange().isEqual(_);for(var $=this.ranges.length;$--;)if(!this.ranges[$].isEqual(_[$]))return!1;return!0},j}();it.prototype.setSelectionAnchor=it.prototype.setAnchor,it.prototype.getSelectionAnchor=it.prototype.getAnchor,it.prototype.setSelectionRange=it.prototype.setRange,et.implement(it.prototype,at),a.Selection=it}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(o,a,rt){var et=o("./lib/report_error").reportError,ot=2e3,at=function(){function nt(it){this.splitRegex,this.states=it,this.regExps={},this.matchMappings={};for(var j in this.states){for(var _=this.states[j],$=[],tt=0,st=this.matchMappings[j]={defaultToken:"text"},lt="g",ct=[],ht=0;ht<_.length;ht++){var ut=_[ht];if(ut.defaultToken&&(st.defaultToken=ut.defaultToken),ut.caseInsensitive&&lt.indexOf("i")===-1&&(lt+="i"),ut.unicode&&lt.indexOf("u")===-1&&(lt+="u"),ut.regex!=null){ut.regex instanceof RegExp&&(ut.regex=ut.regex.toString().slice(1,-1));var pt=ut.regex,mt=new RegExp("(?:("+pt+")|(.))").exec("a").length-2;Array.isArray(ut.token)?ut.token.length==1||mt==1?ut.token=ut.token[0]:mt-1!=ut.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:ut,groupCount:mt-1}),ut.token=ut.token[0]):(ut.tokenArray=ut.token,ut.token=null,ut.onMatch=this.$arrayTokens):typeof ut.token=="function"&&!ut.onMatch&&(mt>1?ut.onMatch=this.$applyToken:ut.onMatch=ut.token),mt>1&&(/\\\d/.test(ut.regex)?pt=ut.regex.replace(/\\([0-9]+)/g,function(vt,dt){return"\\"+(parseInt(dt,10)+tt+1)}):(mt=1,pt=this.removeCapturingGroups(ut.regex)),!ut.splitRegex&&typeof ut.token!="string"&&ct.push(ut)),st[tt]=ht,tt+=mt,$.push(pt),ut.onMatch||(ut.onMatch=null)}}$.length||(st[0]=0,$.push("$")),ct.forEach(function(vt){vt.splitRegex=this.createSplitterRegexp(vt.regex,lt)},this),this.regExps[j]=new RegExp("("+$.join(")|(")+")|($)",lt)}}return nt.prototype.$setMaxTokenCount=function(it){ot=it|0},nt.prototype.$applyToken=function(it){var j=this.splitRegex.exec(it).slice(1),_=this.token.apply(this,j);if(typeof _=="string")return[{type:_,value:it}];for(var $=[],tt=0,st=_.length;tt<st;tt++)j[tt]&&($[$.length]={type:_[tt],value:j[tt]});return $},nt.prototype.$arrayTokens=function(it){if(!it)return[];var j=this.splitRegex.exec(it);if(!j)return"text";for(var _=[],$=this.tokenArray,tt=0,st=$.length;tt<st;tt++)j[tt+1]&&(_[_.length]={type:$[tt],value:j[tt+1]});return _},nt.prototype.removeCapturingGroups=function(it){var j=it.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(_,$){return $?"(?:":_});return j},nt.prototype.createSplitterRegexp=function(it,j){if(it.indexOf("(?=")!=-1){var _=0,$=!1,tt={};it.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(st,lt,ct,ht,ut,pt){return $?$=ut!="]":ut?$=!0:ht?(_==tt.stack&&(tt.end=pt+1,tt.stack=-1),_--):ct&&(_++,ct.length!=1&&(tt.stack=_,tt.start=pt)),st}),tt.end!=null&&/^\)*$/.test(it.substr(tt.end))&&(it=it.substring(0,tt.start)+it.substr(tt.end))}return it.charAt(0)!="^"&&(it="^"+it),it.charAt(it.length-1)!="$"&&(it+="$"),new RegExp(it,(j||"").replace("g",""))},nt.prototype.getLineTokens=function(it,j){if(j&&typeof j!="string"){var _=j.slice(0);j=_[0],j==="#tmp"&&(_.shift(),j=_.shift())}else var _=[];var $=j||"start",tt=this.states[$];tt||($="start",tt=this.states[$]);var st=this.matchMappings[$],lt=this.regExps[$];lt.lastIndex=0;for(var ct,ht=[],ut=0,pt=0,mt={type:null,value:""};ct=lt.exec(it);){var vt=st.defaultToken,dt=null,St=ct[0],yt=lt.lastIndex;if(yt-St.length>ut){var gt=it.substring(ut,yt-St.length);mt.type==vt?mt.value+=gt:(mt.type&&ht.push(mt),mt={type:vt,value:gt})}for(var Et=0;Et<ct.length-2;Et++)if(ct[Et+1]!==void 0){dt=tt[st[Et]],dt.onMatch?vt=dt.onMatch(St,$,_,it):vt=dt.token,dt.next&&(typeof dt.next=="string"?$=dt.next:$=dt.next($,_),tt=this.states[$],tt||(this.reportError("state doesn't exist",$),$="start",tt=this.states[$]),st=this.matchMappings[$],ut=yt,lt=this.regExps[$],lt.lastIndex=yt),dt.consumeLineEnd&&(ut=yt);break}if(St){if(typeof vt=="string")(!dt||dt.merge!==!1)&&mt.type===vt?mt.value+=St:(mt.type&&ht.push(mt),mt={type:vt,value:St});else if(vt){mt.type&&ht.push(mt),mt={type:null,value:""};for(var Et=0;Et<vt.length;Et++)ht.push(vt[Et])}}if(ut==it.length)break;if(ut=yt,pt++>ot){for(pt>2*it.length&&this.reportError("infinite loop with in ace tokenizer",{startState:j,line:it});ut<it.length;)mt.type&&ht.push(mt),mt={value:it.substring(ut,ut+=500),type:"overflow"};$="start",_=[];break}}return mt.type&&ht.push(mt),_.length>1&&_[0]!==$&&_.unshift("#tmp",$),{tokens:ht,state:_.length?_:$}},nt}();at.prototype.reportError=et,a.Tokenizer=at}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(o,a,rt){var et=o("../lib/deep_copy").deepCopy,ot;ot=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(it,j){if(!j){for(var _ in it)this.$rules[_]=it[_];return}for(var _ in it){for(var $=it[_],tt=0;tt<$.length;tt++){var st=$[tt];(st.next||st.onMatch)&&(typeof st.next=="string"&&st.next.indexOf(j)!==0&&(st.next=j+st.next),st.nextState&&st.nextState.indexOf(j)!==0&&(st.nextState=j+st.nextState))}this.$rules[j+_]=$}},this.getRules=function(){return this.$rules},this.embedRules=function(it,j,_,$,tt){var st=typeof it=="function"?new it().getRules():it;if($)for(var lt=0;lt<$.length;lt++)$[lt]=j+$[lt];else{$=[];for(var ct in st)$.push(j+ct)}if(this.addRules(st,j),_)for(var ht=Array.prototype[tt?"push":"unshift"],lt=0;lt<$.length;lt++)ht.apply(this.$rules[$[lt]],et(_));this.$embeds||(this.$embeds=[]),this.$embeds.push(j)},this.getEmbeds=function(){return this.$embeds};var at=function(it,j){return(it!="start"||j.length)&&j.unshift(this.nextState,it),this.nextState},nt=function(it,j){return j.shift(),j.shift()||"start"};this.normalizeRules=function(){var it=0,j=this.$rules;function _($){var tt=j[$];tt.processed=!0;for(var st=0;st<tt.length;st++){var lt=tt[st],ct=null;Array.isArray(lt)&&(ct=lt,lt={}),!lt.regex&&lt.start&&(lt.regex=lt.start,lt.next||(lt.next=[]),lt.next.push({defaultToken:lt.token},{token:lt.token+".end",regex:lt.end||lt.start,next:"pop"}),lt.token=lt.token+".start",lt.push=!0);var ht=lt.next||lt.push;if(ht&&Array.isArray(ht)){var ut=lt.stateName;ut||(ut=lt.token,typeof ut!="string"&&(ut=ut[0]||""),j[ut]&&(ut+=it++)),j[ut]=ht,lt.next=ut,_(ut)}else ht=="pop"&&(lt.next=nt);if(lt.push&&(lt.nextState=lt.next||lt.push,lt.next=at,delete lt.push),lt.rules)for(var pt in lt.rules)j[pt]?j[pt].push&&j[pt].push.apply(j[pt],lt.rules[pt]):j[pt]=lt.rules[pt];var mt=typeof lt=="string"?lt:lt.include;if(mt&&(mt==="$self"&&(mt="start"),Array.isArray(mt)?ct=mt.map(function(dt){return j[dt]}):ct=j[mt]),ct){var vt=[st,1].concat(ct);lt.noEscape&&(vt=vt.filter(function(dt){return!dt.next})),tt.splice.apply(tt,vt),st--}lt.keywordMap&&(lt.token=this.createKeywordMapper(lt.keywordMap,lt.defaultToken||"text",lt.caseInsensitive),delete lt.defaultToken)}}Object.keys(j).forEach(_,this)},this.createKeywordMapper=function(it,j,_,$){var tt=Object.create(null);return this.$keywordList=[],Object.keys(it).forEach(function(st){for(var lt=it[st],ct=lt.split($||"|"),ht=ct.length;ht--;){var ut=ct[ht];this.$keywordList.push(ut),_&&(ut=ut.toLowerCase()),tt[ut]=st}},this),it=null,_?function(st){return tt[st.toLowerCase()]||j}:function(st){return tt[st]||j}},this.getKeywords=function(){return this.$keywords}}).call(ot.prototype),a.TextHighlightRules=ot}),ace.define("ace/mode/behaviour",["require","exports","module"],function(o,a,rt){var et;et=function(){this.$behaviours={}},(function(){this.add=function(ot,at,nt){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[ot]:this.$behaviours[ot]={}}this.$behaviours[ot][at]=nt},this.addBehaviours=function(ot){for(var at in ot)for(var nt in ot[at])this.add(at,nt,ot[at][nt])},this.remove=function(ot){this.$behaviours&&this.$behaviours[ot]&&delete this.$behaviours[ot]},this.inherit=function(ot,at){if(typeof ot=="function")var nt=new ot().getBehaviours(at);else var nt=ot.getBehaviours(at);this.addBehaviours(nt)},this.getBehaviours=function(ot){if(ot){for(var at={},nt=0;nt<ot.length;nt++)this.$behaviours[ot[nt]]&&(at[ot[nt]]=this.$behaviours[ot[nt]]);return at}else return this.$behaviours}}).call(et.prototype),a.Behaviour=et}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(o,a,rt){var et=o("./range").Range,ot=function(){function at(nt,it,j){this.$session=nt,this.$row=it,this.$rowTokens=nt.getTokens(it);var _=nt.getTokenAt(it,j);this.$tokenIndex=_?_.index:-1}return at.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},at.prototype.stepForward=function(){this.$tokenIndex+=1;for(var nt;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,nt||(nt=this.$session.getLength()),this.$row>=nt)return this.$row=nt-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},at.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},at.prototype.getCurrentTokenRow=function(){return this.$row},at.prototype.getCurrentTokenColumn=function(){var nt=this.$rowTokens,it=this.$tokenIndex,j=nt[it].start;if(j!==void 0)return j;for(j=0;it>0;)it-=1,j+=nt[it].value.length;return j},at.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},at.prototype.getCurrentTokenRange=function(){var nt=this.$rowTokens[this.$tokenIndex],it=this.getCurrentTokenColumn();return new et(this.$row,it,this.$row,it+nt.value.length)},at}();a.TokenIterator=ot}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("../behaviour").Behaviour,at=o("../../token_iterator").TokenIterator,nt=o("../../lib/lang"),it=["text","paren.rparen","rparen","paren","punctuation.operator"],j=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],_,$={},tt={'"':'"',"'":"'"},st=function(ht){var ut=-1;if(ht.multiSelect&&(ut=ht.selection.index,$.rangeCount!=ht.multiSelect.rangeCount&&($={rangeCount:ht.multiSelect.rangeCount})),$[ut])return _=$[ut];_=$[ut]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},lt=function(ht,ut,pt,mt){var vt=ht.end.row-ht.start.row;return{text:pt+ut+mt,selection:[0,ht.start.column+1,vt,ht.end.column+(vt?0:1)]}},ct;ct=function(ht){ht=ht||{},this.add("braces","insertion",function(ut,pt,mt,vt,dt){var St=mt.getCursorPosition(),yt=vt.doc.getLine(St.row);if(dt=="{"){st(mt);var gt=mt.getSelectionRange(),Et=vt.doc.getTextRange(gt),_t=vt.getTokenAt(St.row,St.column);if(Et!==""&&Et!=="{"&&mt.getWrapBehavioursEnabled())return lt(gt,Et,"{","}");if(_t&&/(?:string)\.quasi|\.xml/.test(_t.type)){var kt=[/tag\-(?:open|name)/,/attribute\-name/];return kt.some(function(Dt){return Dt.test(_t.type)})||/(string)\.quasi/.test(_t.type)&&_t.value[St.column-_t.start-1]!=="$"?void 0:(ct.recordAutoInsert(mt,vt,"}"),{text:"{}",selection:[1,1]})}else if(ct.isSaneInsertion(mt,vt))return/[\]\}\)]/.test(yt[St.column])||mt.inMultiSelectMode||ht.braces?(ct.recordAutoInsert(mt,vt,"}"),{text:"{}",selection:[1,1]}):(ct.recordMaybeInsert(mt,vt,"{"),{text:"{",selection:[1,1]})}else if(dt=="}"){st(mt);var Ct=yt.substring(St.column,St.column+1);if(Ct=="}"){var Tt=vt.$findOpeningBracket("}",{column:St.column+1,row:St.row});if(Tt!==null&&ct.isAutoInsertedClosing(St,yt,dt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(dt==`
`||dt==`\r
`){st(mt);var At="";ct.isMaybeInsertedClosing(St,yt)&&(At=nt.stringRepeat("}",_.maybeInsertedBrackets),ct.clearMaybeInsertedClosing());var Ct=yt.substring(St.column,St.column+1);if(Ct==="}"){var It=vt.findMatchingBracket({row:St.row,column:St.column+1},"}");if(!It)return null;var Ot=this.$getIndent(vt.getLine(It.row))}else if(At)var Ot=this.$getIndent(yt);else{ct.clearMaybeInsertedClosing();return}var Mt=Ot+vt.getTabString();return{text:`
`+Mt+`
`+Ot+At,selection:[1,Mt.length,1,Mt.length]}}else ct.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(ut,pt,mt,vt,dt){var St=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St=="{"){st(mt);var yt=vt.doc.getLine(dt.start.row),gt=yt.substring(dt.end.column,dt.end.column+1);if(gt=="}")return dt.end.column++,dt;_.maybeInsertedBrackets--}}),this.add("parens","insertion",function(ut,pt,mt,vt,dt){if(dt=="("){st(mt);var St=mt.getSelectionRange(),yt=vt.doc.getTextRange(St);if(yt!==""&&mt.getWrapBehavioursEnabled())return lt(St,yt,"(",")");if(ct.isSaneInsertion(mt,vt))return ct.recordAutoInsert(mt,vt,")"),{text:"()",selection:[1,1]}}else if(dt==")"){st(mt);var gt=mt.getCursorPosition(),Et=vt.doc.getLine(gt.row),_t=Et.substring(gt.column,gt.column+1);if(_t==")"){var kt=vt.$findOpeningBracket(")",{column:gt.column+1,row:gt.row});if(kt!==null&&ct.isAutoInsertedClosing(gt,Et,dt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(ut,pt,mt,vt,dt){var St=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St=="("){st(mt);var yt=vt.doc.getLine(dt.start.row),gt=yt.substring(dt.start.column+1,dt.start.column+2);if(gt==")")return dt.end.column++,dt}}),this.add("brackets","insertion",function(ut,pt,mt,vt,dt){if(dt=="["){st(mt);var St=mt.getSelectionRange(),yt=vt.doc.getTextRange(St);if(yt!==""&&mt.getWrapBehavioursEnabled())return lt(St,yt,"[","]");if(ct.isSaneInsertion(mt,vt))return ct.recordAutoInsert(mt,vt,"]"),{text:"[]",selection:[1,1]}}else if(dt=="]"){st(mt);var gt=mt.getCursorPosition(),Et=vt.doc.getLine(gt.row),_t=Et.substring(gt.column,gt.column+1);if(_t=="]"){var kt=vt.$findOpeningBracket("]",{column:gt.column+1,row:gt.row});if(kt!==null&&ct.isAutoInsertedClosing(gt,Et,dt))return ct.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(ut,pt,mt,vt,dt){var St=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St=="["){st(mt);var yt=vt.doc.getLine(dt.start.row),gt=yt.substring(dt.start.column+1,dt.start.column+2);if(gt=="]")return dt.end.column++,dt}}),this.add("string_dquotes","insertion",function(ut,pt,mt,vt,dt){var St=vt.$mode.$quotes||tt;if(dt.length==1&&St[dt]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(dt)!=-1)return;st(mt);var yt=dt,gt=mt.getSelectionRange(),Et=vt.doc.getTextRange(gt);if(Et!==""&&(Et.length!=1||!St[Et])&&mt.getWrapBehavioursEnabled())return lt(gt,Et,yt,yt);if(!Et){var _t=mt.getCursorPosition(),kt=vt.doc.getLine(_t.row),Ct=kt.substring(_t.column-1,_t.column),Tt=kt.substring(_t.column,_t.column+1),At=vt.getTokenAt(_t.row,_t.column),It=vt.getTokenAt(_t.row,_t.column+1);if(Ct=="\\"&&At&&/escape/.test(At.type))return null;var Ot=At&&/string|escape/.test(At.type),Mt=!It||/string|escape/.test(It.type),Dt;if(Tt==yt)Dt=Ot!==Mt,Dt&&/string\.end/.test(It.type)&&(Dt=!1);else{if(Ot&&!Mt||Ot&&Mt)return null;var Bt=vt.$mode.tokenRe;Bt.lastIndex=0;var Kt=Bt.test(Ct);Bt.lastIndex=0;var Wt=Bt.test(Tt),zt=vt.$mode.$pairQuotesAfter,Ht=zt&&zt[yt]&&zt[yt].test(Ct);if(!Ht&&Kt||Wt||Tt&&!/[\s;,.})\]\\]/.test(Tt))return null;var Zt=kt[_t.column-2];if(Ct==yt&&(Zt==yt||Bt.test(Zt)))return null;Dt=!0}return{text:Dt?yt+yt:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(ut,pt,mt,vt,dt){var St=vt.$mode.$quotes||tt,yt=vt.doc.getTextRange(dt);if(!dt.isMultiLine()&&St.hasOwnProperty(yt)){st(mt);var gt=vt.doc.getLine(dt.start.row),Et=gt.substring(dt.start.column+1,dt.start.column+2);if(Et==yt)return dt.end.column++,dt}}),ht.closeDocComment!==!1&&this.add("doc comment end","insertion",function(ut,pt,mt,vt,dt){if(ut==="doc-start"&&(dt===`
`||dt===`\r
`)&&mt.selection.isEmpty()){var St=mt.getCursorPosition();if(St.column===0)return;for(var yt=vt.doc.getLine(St.row),gt=vt.doc.getLine(St.row+1),Et=vt.getTokens(St.row),_t=0,kt=0;kt<Et.length;kt++){_t+=Et[kt].value.length;var Ct=Et[kt];if(_t>=St.column){if(_t===St.column){if(!/\.doc/.test(Ct.type))return;if(/\*\//.test(Ct.value)){var Tt=Et[kt+1];if(!Tt||!/\.doc/.test(Tt.type))return}}var At=St.column-(_t-Ct.value.length),It=Ct.value.indexOf("*/"),Ot=Ct.value.indexOf("/**",It>-1?It+2:0);if(Ot!==-1&&At>Ot&&At<Ot+3||It!==-1&&Ot!==-1&&At>=It&&At<=Ot||!/\.doc/.test(Ct.type))return;break}}var Mt=this.$getIndent(yt);if(/\s*\*/.test(gt))return/^\s*\*/.test(yt)?{text:dt+Mt+"* ",selection:[1,2+Mt.length,1,2+Mt.length]}:{text:dt+Mt+" * ",selection:[1,3+Mt.length,1,3+Mt.length]};if(/\/\*\*/.test(yt.substring(0,St.column)))return{text:dt+Mt+" * "+dt+" "+Mt+"*/",selection:[1,4+Mt.length,1,4+Mt.length]}}})},ct.isSaneInsertion=function(ht,ut){var pt=ht.getCursorPosition(),mt=new at(ut,pt.row,pt.column);if(!this.$matchTokenType(mt.getCurrentToken()||"text",it)){if(/[)}\]]/.test(ht.session.getLine(pt.row)[pt.column]))return!0;var vt=new at(ut,pt.row,pt.column+1);if(!this.$matchTokenType(vt.getCurrentToken()||"text",it))return!1}return mt.stepForward(),mt.getCurrentTokenRow()!==pt.row||this.$matchTokenType(mt.getCurrentToken()||"text",j)},ct.$matchTokenType=function(ht,ut){return ut.indexOf(ht.type||ht)>-1},ct.recordAutoInsert=function(ht,ut,pt){var mt=ht.getCursorPosition(),vt=ut.doc.getLine(mt.row);this.isAutoInsertedClosing(mt,vt,_.autoInsertedLineEnd[0])||(_.autoInsertedBrackets=0),_.autoInsertedRow=mt.row,_.autoInsertedLineEnd=pt+vt.substr(mt.column),_.autoInsertedBrackets++},ct.recordMaybeInsert=function(ht,ut,pt){var mt=ht.getCursorPosition(),vt=ut.doc.getLine(mt.row);this.isMaybeInsertedClosing(mt,vt)||(_.maybeInsertedBrackets=0),_.maybeInsertedRow=mt.row,_.maybeInsertedLineStart=vt.substr(0,mt.column)+pt,_.maybeInsertedLineEnd=vt.substr(mt.column),_.maybeInsertedBrackets++},ct.isAutoInsertedClosing=function(ht,ut,pt){return _.autoInsertedBrackets>0&&ht.row===_.autoInsertedRow&&pt===_.autoInsertedLineEnd[0]&&ut.substr(ht.column)===_.autoInsertedLineEnd},ct.isMaybeInsertedClosing=function(ht,ut){return _.maybeInsertedBrackets>0&&ht.row===_.maybeInsertedRow&&ut.substr(ht.column)===_.maybeInsertedLineEnd&&ut.substr(0,ht.column)==_.maybeInsertedLineStart},ct.popAutoInsertedClosing=function(){_.autoInsertedLineEnd=_.autoInsertedLineEnd.substr(1),_.autoInsertedBrackets--},ct.clearMaybeInsertedClosing=function(){_&&(_.maybeInsertedBrackets=0,_.maybeInsertedRow=-1)},et.inherits(ct,ot),a.CstyleBehaviour=ct}),ace.define("ace/unicode",["require","exports","module"],function(o,a,rt){for(var et=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],ot=0,at=[],nt=0;nt<et.length;nt+=2)at.push(ot+=et[nt]),et[nt+1]&&at.push(45,ot+=et[nt+1]);a.wordChars=String.fromCharCode.apply(null,at)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(o,a,rt){var et=o("../config"),ot=o("../tokenizer").Tokenizer,at=o("./text_highlight_rules").TextHighlightRules,nt=o("./behaviour/cstyle").CstyleBehaviour,it=o("../unicode"),j=o("../lib/lang"),_=o("../token_iterator").TokenIterator,$=o("../range").Range,tt;tt=function(){this.HighlightRules=at},(function(){this.$defaultBehaviour=new nt,this.tokenRe=new RegExp("^["+it.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+it.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new ot(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(st,lt,ct,ht){var ut=lt.doc,pt=!0,mt=!0,vt=1/0,dt=lt.getTabSize(),St=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var Et=this.lineCommentStart.map(j.escapeRegExp).join("|"),yt=this.lineCommentStart[0];else var Et=j.escapeRegExp(this.lineCommentStart),yt=this.lineCommentStart;Et=new RegExp("^(\\s*)(?:"+Et+") ?"),St=lt.getUseSoftTabs();var Ct=function(Wt,zt){var Ht=Wt.match(Et);if(Ht){var Zt=Ht[1].length,Qt=Ht[0].length;!It(Wt,Zt,Qt)&&Ht[0][Qt-1]==" "&&Qt--,ut.removeInLine(zt,Zt,Qt)}},At=yt+" ",kt=function(Wt,zt){(!pt||/\S/.test(Wt))&&(It(Wt,vt,vt)?ut.insertInLine({row:zt,column:vt},At):ut.insertInLine({row:zt,column:vt},yt))},Tt=function(Wt,zt){return Et.test(Wt)},It=function(Wt,zt,Ht){for(var Zt=0;zt--&&Wt.charAt(zt)==" ";)Zt++;if(Zt%dt!=0)return!1;for(var Zt=0;Wt.charAt(Ht++)==" ";)Zt++;return dt>2?Zt%dt!=dt-1:Zt%dt==0}}else{if(!this.blockComment)return!1;var yt=this.blockComment.start,gt=this.blockComment.end,Et=new RegExp("^(\\s*)(?:"+j.escapeRegExp(yt)+")"),_t=new RegExp("(?:"+j.escapeRegExp(gt)+")\\s*$"),kt=function(Dt,Bt){Tt(Dt,Bt)||(!pt||/\S/.test(Dt))&&(ut.insertInLine({row:Bt,column:Dt.length},gt),ut.insertInLine({row:Bt,column:vt},yt))},Ct=function(Dt,Bt){var Kt;(Kt=Dt.match(_t))&&ut.removeInLine(Bt,Dt.length-Kt[0].length,Dt.length),(Kt=Dt.match(Et))&&ut.removeInLine(Bt,Kt[1].length,Kt[0].length)},Tt=function(Dt,Bt){if(Et.test(Dt))return!0;for(var Kt=lt.getTokens(Bt),Wt=0;Wt<Kt.length;Wt++)if(Kt[Wt].type==="comment")return!0}}function Ot(Dt){for(var Bt=ct;Bt<=ht;Bt++)Dt(ut.getLine(Bt),Bt)}var Mt=1/0;Ot(function(Dt,Bt){var Kt=Dt.search(/\S/);Kt!==-1?(Kt<vt&&(vt=Kt),mt&&!Tt(Dt,Bt)&&(mt=!1)):Mt>Dt.length&&(Mt=Dt.length)}),vt==1/0&&(vt=Mt,pt=!1,mt=!1),St&&vt%dt!=0&&(vt=Math.floor(vt/dt)*dt),Ot(mt?Ct:kt)},this.toggleBlockComment=function(st,lt,ct,ht){var ut=this.blockComment;if(ut){!ut.start&&ut[0]&&(ut=ut[0]);var pt=new _(lt,ht.row,ht.column),mt=pt.getCurrentToken();lt.selection;var vt=lt.selection.toOrientedRange(),dt,St;if(mt&&/comment/.test(mt.type)){for(var yt,gt;mt&&/comment/.test(mt.type);){var Et=mt.value.indexOf(ut.start);if(Et!=-1){var _t=pt.getCurrentTokenRow(),kt=pt.getCurrentTokenColumn()+Et;yt=new $(_t,kt,_t,kt+ut.start.length);break}mt=pt.stepBackward()}for(var pt=new _(lt,ht.row,ht.column),mt=pt.getCurrentToken();mt&&/comment/.test(mt.type);){var Et=mt.value.indexOf(ut.end);if(Et!=-1){var _t=pt.getCurrentTokenRow(),kt=pt.getCurrentTokenColumn()+Et;gt=new $(_t,kt,_t,kt+ut.end.length);break}mt=pt.stepForward()}gt&&lt.remove(gt),yt&&(lt.remove(yt),dt=yt.start.row,St=-ut.start.length)}else St=ut.start.length,dt=ct.start.row,lt.insert(ct.end,ut.end),lt.insert(ct.start,ut.start);vt.start.row==dt&&(vt.start.column+=St),vt.end.row==dt&&(vt.end.column+=St),lt.selection.fromOrientedRange(vt)}},this.getNextLineIndent=function(st,lt,ct){return this.$getIndent(lt)},this.checkOutdent=function(st,lt,ct){return!1},this.autoOutdent=function(st,lt,ct){},this.$getIndent=function(st){return st.match(/^\s*/)[0]},this.createWorker=function(st){return null},this.createModeDelegates=function(st){this.$embeds=[],this.$modes={};for(var lt in st)if(st[lt]){var ct=st[lt],ht=ct.prototype.$id,ut=et.$modes[ht];ut||(et.$modes[ht]=ut=new ct),et.$modes[lt]||(et.$modes[lt]=ut),this.$embeds.push(lt),this.$modes[lt]=ut}for(var pt=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],mt=function(dt){(function(St){var yt=pt[dt],gt=St[yt];St[pt[dt]]=function(){return this.$delegator(yt,arguments,gt)}})(vt)},vt=this,lt=0;lt<pt.length;lt++)mt(lt)},this.$delegator=function(st,lt,ct){var ht=lt[0]||"start";if(typeof ht!="string"){if(Array.isArray(ht[2])){var ut=ht[2][ht[2].length-1],pt=this.$modes[ut];if(pt)return pt[st].apply(pt,[ht[1]].concat([].slice.call(lt,1)))}ht=ht[0]||"start"}for(var mt=0;mt<this.$embeds.length;mt++)if(this.$modes[this.$embeds[mt]]){var vt=ht.split(this.$embeds[mt]);if(!vt[0]&&vt[1]){lt[0]=vt[1];var pt=this.$modes[this.$embeds[mt]];return pt[st].apply(pt,lt)}}var dt=ct.apply(this,lt);return ct?dt:void 0},this.transformAction=function(st,lt,ct,ht,ut){if(this.$behaviour){var pt=this.$behaviour.getBehaviours();for(var mt in pt)if(pt[mt][lt]){var vt=pt[mt][lt].apply(this,arguments);if(vt)return vt}}},this.getKeywords=function(st){if(!this.completionKeywords){var lt=this.$tokenizer.rules,ct=[];for(var ht in lt)for(var ut=lt[ht],pt=0,mt=ut.length;pt<mt;pt++)if(typeof ut[pt].token=="string")/keyword|support|storage/.test(ut[pt].token)&&ct.push(ut[pt].regex);else if(typeof ut[pt].token=="object"){for(var vt=0,dt=ut[pt].token.length;vt<dt;vt++)if(/keyword|support|storage/.test(ut[pt].token[vt])){var ht=ut[pt].regex.match(/\(.+?\)/g)[vt];ct.push(ht.substr(1,ht.length-2))}}this.completionKeywords=ct}return st?ct.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(st,lt,ct,ht){var ut=this.$keywordList||this.$createKeywordList();return ut.map(function(pt){return{name:pt,value:pt,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(tt.prototype),a.Mode=tt}),ace.define("ace/apply_delta",["require","exports","module"],function(o,a,rt){a.applyDelta=function(et,ot,at){var nt=ot.start.row,it=ot.start.column,j=et[nt]||"";switch(ot.action){case"insert":var _=ot.lines;if(_.length===1)et[nt]=j.substring(0,it)+ot.lines[0]+j.substring(it);else{var $=[nt,1].concat(ot.lines);et.splice.apply(et,$),et[nt]=j.substring(0,it)+et[nt],et[nt+ot.lines.length-1]+=j.substring(it)}break;case"remove":var tt=ot.end.column,st=ot.end.row;nt===st?et[nt]=j.substring(0,it)+j.substring(tt):et.splice(nt,st-nt+1,j.substring(0,it)+et[st].substring(tt));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(o,a,rt){var et=o("./lib/oop"),ot=o("./lib/event_emitter").EventEmitter,at=function(){function j(_,$,tt){this.$onChange=this.onChange.bind(this),this.attach(_),typeof $!="number"?this.setPosition($.row,$.column):this.setPosition($,tt)}return j.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},j.prototype.getDocument=function(){return this.document},j.prototype.onChange=function(_){if(!(_.start.row==_.end.row&&_.start.row!=this.row)&&!(_.start.row>this.row)){var $=it(_,{row:this.row,column:this.column},this.$insertRight);this.setPosition($.row,$.column,!0)}},j.prototype.setPosition=function(_,$,tt){var st;if(tt?st={row:_,column:$}:st=this.$clipPositionToDocument(_,$),!(this.row==st.row&&this.column==st.column)){var lt={row:this.row,column:this.column};this.row=st.row,this.column=st.column,this._signal("change",{old:lt,value:st})}},j.prototype.detach=function(){this.document.off("change",this.$onChange)},j.prototype.attach=function(_){this.document=_||this.document,this.document.on("change",this.$onChange)},j.prototype.$clipPositionToDocument=function(_,$){var tt={};return _>=this.document.getLength()?(tt.row=Math.max(0,this.document.getLength()-1),tt.column=this.document.getLine(tt.row).length):_<0?(tt.row=0,tt.column=0):(tt.row=_,tt.column=Math.min(this.document.getLine(tt.row).length,Math.max(0,$))),$<0&&(tt.column=0),tt},j}();at.prototype.$insertRight=!1,et.implement(at.prototype,ot);function nt(j,_,$){var tt=$?j.column<=_.column:j.column<_.column;return j.row<_.row||j.row==_.row&&tt}function it(j,_,$){var tt=j.action=="insert",st=(tt?1:-1)*(j.end.row-j.start.row),lt=(tt?1:-1)*(j.end.column-j.start.column),ct=j.start,ht=tt?ct:j.end;return nt(_,ct,$)?{row:_.row,column:_.column}:nt(ht,_,!$)?{row:_.row+st,column:_.column+(_.row==ht.row?lt:0)}:{row:ct.row,column:ct.column}}a.Anchor=at}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(o,a,rt){var et=o("./lib/oop"),ot=o("./apply_delta").applyDelta,at=o("./lib/event_emitter").EventEmitter,nt=o("./range").Range,it=o("./anchor").Anchor,j=function(){function _($){this.$lines=[""],$.length===0?this.$lines=[""]:Array.isArray($)?this.insertMergedLines({row:0,column:0},$):this.insert({row:0,column:0},$)}return _.prototype.setValue=function($){var tt=this.getLength()-1;this.remove(new nt(0,0,tt,this.getLine(tt).length)),this.insert({row:0,column:0},$||"")},_.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},_.prototype.createAnchor=function($,tt){return new it(this,$,tt)},_.prototype.$detectNewLine=function($){var tt=$.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=tt?tt[1]:`
`,this._signal("changeNewLineMode")},_.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},_.prototype.setNewLineMode=function($){this.$newLineMode!==$&&(this.$newLineMode=$,this._signal("changeNewLineMode"))},_.prototype.getNewLineMode=function(){return this.$newLineMode},_.prototype.isNewLine=function($){return $==`\r
`||$=="\r"||$==`
`},_.prototype.getLine=function($){return this.$lines[$]||""},_.prototype.getLines=function($,tt){return this.$lines.slice($,tt+1)},_.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},_.prototype.getLength=function(){return this.$lines.length},_.prototype.getTextRange=function($){return this.getLinesForRange($).join(this.getNewLineCharacter())},_.prototype.getLinesForRange=function($){var tt;if($.start.row===$.end.row)tt=[this.getLine($.start.row).substring($.start.column,$.end.column)];else{tt=this.getLines($.start.row,$.end.row),tt[0]=(tt[0]||"").substring($.start.column);var st=tt.length-1;$.end.row-$.start.row==st&&(tt[st]=tt[st].substring(0,$.end.column))}return tt},_.prototype.insertLines=function($,tt){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines($,tt)},_.prototype.removeLines=function($,tt){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines($,tt)},_.prototype.insertNewLine=function($){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines($,["",""])},_.prototype.insert=function($,tt){return this.getLength()<=1&&this.$detectNewLine(tt),this.insertMergedLines($,this.$split(tt))},_.prototype.insertInLine=function($,tt){var st=this.clippedPos($.row,$.column),lt=this.pos($.row,$.column+tt.length);return this.applyDelta({start:st,end:lt,action:"insert",lines:[tt]},!0),this.clonePos(lt)},_.prototype.clippedPos=function($,tt){var st=this.getLength();$===void 0?$=st:$<0?$=0:$>=st&&($=st-1,tt=void 0);var lt=this.getLine($);return tt==null&&(tt=lt.length),tt=Math.min(Math.max(tt,0),lt.length),{row:$,column:tt}},_.prototype.clonePos=function($){return{row:$.row,column:$.column}},_.prototype.pos=function($,tt){return{row:$,column:tt}},_.prototype.$clipPosition=function($){var tt=this.getLength();return $.row>=tt?($.row=Math.max(0,tt-1),$.column=this.getLine(tt-1).length):($.row=Math.max(0,$.row),$.column=Math.min(Math.max($.column,0),this.getLine($.row).length)),$},_.prototype.insertFullLines=function($,tt){$=Math.min(Math.max($,0),this.getLength());var st=0;$<this.getLength()?(tt=tt.concat([""]),st=0):(tt=[""].concat(tt),$--,st=this.$lines[$].length),this.insertMergedLines({row:$,column:st},tt)},_.prototype.insertMergedLines=function($,tt){var st=this.clippedPos($.row,$.column),lt={row:st.row+tt.length-1,column:(tt.length==1?st.column:0)+tt[tt.length-1].length};return this.applyDelta({start:st,end:lt,action:"insert",lines:tt}),this.clonePos(lt)},_.prototype.remove=function($){var tt=this.clippedPos($.start.row,$.start.column),st=this.clippedPos($.end.row,$.end.column);return this.applyDelta({start:tt,end:st,action:"remove",lines:this.getLinesForRange({start:tt,end:st})}),this.clonePos(tt)},_.prototype.removeInLine=function($,tt,st){var lt=this.clippedPos($,tt),ct=this.clippedPos($,st);return this.applyDelta({start:lt,end:ct,action:"remove",lines:this.getLinesForRange({start:lt,end:ct})},!0),this.clonePos(lt)},_.prototype.removeFullLines=function($,tt){$=Math.min(Math.max(0,$),this.getLength()-1),tt=Math.min(Math.max(0,tt),this.getLength()-1);var st=tt==this.getLength()-1&&$>0,lt=tt<this.getLength()-1,ct=st?$-1:$,ht=st?this.getLine(ct).length:0,ut=lt?tt+1:tt,pt=lt?0:this.getLine(ut).length,mt=new nt(ct,ht,ut,pt),vt=this.$lines.slice($,tt+1);return this.applyDelta({start:mt.start,end:mt.end,action:"remove",lines:this.getLinesForRange(mt)}),vt},_.prototype.removeNewLine=function($){$<this.getLength()-1&&$>=0&&this.applyDelta({start:this.pos($,this.getLine($).length),end:this.pos($+1,0),action:"remove",lines:["",""]})},_.prototype.replace=function($,tt){if($ instanceof nt||($=nt.fromPoints($.start,$.end)),tt.length===0&&$.isEmpty())return $.start;if(tt==this.getTextRange($))return $.end;this.remove($);var st;return tt?st=this.insert($.start,tt):st=$.start,st},_.prototype.applyDeltas=function($){for(var tt=0;tt<$.length;tt++)this.applyDelta($[tt])},_.prototype.revertDeltas=function($){for(var tt=$.length-1;tt>=0;tt--)this.revertDelta($[tt])},_.prototype.applyDelta=function($,tt){var st=$.action=="insert";(st?$.lines.length<=1&&!$.lines[0]:!nt.comparePoints($.start,$.end))||(st&&$.lines.length>2e4?this.$splitAndapplyLargeDelta($,2e4):(ot(this.$lines,$,tt),this._signal("change",$)))},_.prototype.$safeApplyDelta=function($){var tt=this.$lines.length;($.action=="remove"&&$.start.row<tt&&$.end.row<tt||$.action=="insert"&&$.start.row<=tt)&&this.applyDelta($)},_.prototype.$splitAndapplyLargeDelta=function($,tt){for(var st=$.lines,lt=st.length-tt+1,ct=$.start.row,ht=$.start.column,ut=0,pt=0;ut<lt;ut=pt){pt+=tt-1;var mt=st.slice(ut,pt);mt.push(""),this.applyDelta({start:this.pos(ct+ut,ht),end:this.pos(ct+pt,ht=0),action:$.action,lines:mt},!0)}$.lines=st.slice(ut),$.start.row=ct+ut,$.start.column=ht,this.applyDelta($,!0)},_.prototype.revertDelta=function($){this.$safeApplyDelta({start:this.clonePos($.start),end:this.clonePos($.end),action:$.action=="insert"?"remove":"insert",lines:$.lines.slice()})},_.prototype.indexToPosition=function($,tt){for(var st=this.$lines||this.getAllLines(),lt=this.getNewLineCharacter().length,ct=tt||0,ht=st.length;ct<ht;ct++)if($-=st[ct].length+lt,$<0)return{row:ct,column:$+st[ct].length+lt};return{row:ht-1,column:$+st[ht-1].length+lt}},_.prototype.positionToIndex=function($,tt){for(var st=this.$lines||this.getAllLines(),lt=this.getNewLineCharacter().length,ct=0,ht=Math.min($.row,st.length),ut=tt||0;ut<ht;++ut)ct+=st[ut].length+lt;return ct+$.column},_.prototype.$split=function($){return $.split(/\r\n|\r|\n/)},_}();j.prototype.$autoNewLine="",j.prototype.$newLineMode="auto",et.implement(j.prototype,at),a.Document=j}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(o,a,rt){var et=o("./lib/oop"),ot=o("./lib/event_emitter").EventEmitter,at=function(){function nt(it,j){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=it;var _=this;this.$worker=function(){if(_.running){for(var $=new Date,tt=_.currentLine,st=-1,lt=_.doc,ct=tt;_.lines[tt];)tt++;var ht=lt.getLength(),ut=0;for(_.running=!1;tt<ht;){_.$tokenizeRow(tt),st=tt;do tt++;while(_.lines[tt]);if(ut++,ut%5===0&&new Date-$>20){_.running=setTimeout(_.$worker,20);break}}_.currentLine=tt,st==-1&&(st=tt),ct<=st&&_.fireUpdateEvent(ct,st)}}}return nt.prototype.setTokenizer=function(it){this.tokenizer=it,this.lines=[],this.states=[],this.start(0)},nt.prototype.setDocument=function(it){this.doc=it,this.lines=[],this.states=[],this.stop()},nt.prototype.fireUpdateEvent=function(it,j){var _={first:it,last:j};this._signal("update",{data:_})},nt.prototype.start=function(it){this.currentLine=Math.min(it||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},nt.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},nt.prototype.$updateOnChange=function(it){var j=it.start.row,_=it.end.row-j;if(_===0)this.lines[j]=null;else if(it.action=="remove")this.lines.splice(j,_+1,null),this.states.splice(j,_+1,null);else{var $=Array(_+1);$.unshift(j,1),this.lines.splice.apply(this.lines,$),this.states.splice.apply(this.states,$)}this.currentLine=Math.min(j,this.currentLine,this.doc.getLength()),this.stop()},nt.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},nt.prototype.getTokens=function(it){return this.lines[it]||this.$tokenizeRow(it)},nt.prototype.getState=function(it){return this.currentLine==it&&this.$tokenizeRow(it),this.states[it]||"start"},nt.prototype.$tokenizeRow=function(it){var j=this.doc.getLine(it),_=this.states[it-1],$=this.tokenizer.getLineTokens(j,_,it);return this.states[it]+""!=$.state+""?(this.states[it]=$.state,this.lines[it+1]=null,this.currentLine>it+1&&(this.currentLine=it+1)):this.currentLine==it&&(this.currentLine=it+1),this.lines[it]=$.tokens},nt.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},nt}();et.implement(at.prototype,ot),a.BackgroundTokenizer=at}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(o,a,rt){var et=o("./lib/lang"),ot=o("./range").Range,at=function(){function nt(it,j,_){_===void 0&&(_="text"),this.setRegexp(it),this.clazz=j,this.type=_}return nt.prototype.setRegexp=function(it){this.regExp+""!=it+""&&(this.regExp=it,this.cache=[])},nt.prototype.update=function(it,j,_,$){if(this.regExp)for(var tt=$.firstRow,st=$.lastRow,lt={},ct=tt;ct<=st;ct++){var ht=this.cache[ct];ht==null&&(ht=et.getMatchOffsets(_.getLine(ct),this.regExp),ht.length>this.MAX_RANGES&&(ht=ht.slice(0,this.MAX_RANGES)),ht=ht.map(function(vt){return new ot(ct,vt.offset,ct,vt.offset+vt.length)}),this.cache[ct]=ht.length?ht:"");for(var ut=ht.length;ut--;){var pt=ht[ut].toScreenRange(_),mt=pt.toString();lt[mt]||(lt[mt]=!0,j.drawSingleLineMarker(it,pt,this.clazz,$))}}},nt}();at.prototype.MAX_RANGES=500,a.SearchHighlight=at}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(o,a,rt){var et=function(){function vt(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return vt.prototype.addSession=function(dt){this.$session=dt},vt.prototype.add=function(dt,St,yt){if(!this.$fromUndo&&dt!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),St===!1||!this.lastDeltas){this.lastDeltas=[];var gt=this.$undoStack.length;gt>this.$undoDepth-1&&this.$undoStack.splice(0,gt-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),dt.id=this.$rev=++this.$maxRev}(dt.action=="remove"||dt.action=="insert")&&(this.$lastDelta=dt),this.lastDeltas.push(dt)}},vt.prototype.addSelection=function(dt,St){this.selections.push({value:dt,rev:St||this.$rev})},vt.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},vt.prototype.markIgnored=function(dt,St){St==null&&(St=this.$rev+1);for(var yt=this.$undoStack,gt=yt.length;gt--;){var Et=yt[gt][0];if(Et.id<=dt)break;Et.id<St&&(Et.ignore=!0)}this.lastDeltas=null},vt.prototype.getSelection=function(dt,St){for(var yt=this.selections,gt=yt.length;gt--;){var Et=yt[gt];if(Et.rev<dt)return St&&(Et=yt[gt+1]),Et}},vt.prototype.getRevision=function(){return this.$rev},vt.prototype.getDeltas=function(dt,St){St==null&&(St=this.$rev+1);for(var yt=this.$undoStack,gt=null,Et=0,_t=yt.length;_t--;){var kt=yt[_t][0];if(kt.id<St&&!gt&&(gt=_t+1),kt.id<=dt){Et=_t+1;break}}return yt.slice(Et,gt)},vt.prototype.getChangedRanges=function(dt,St){St==null&&(St=this.$rev+1)},vt.prototype.getChangedLines=function(dt,St){St==null&&(St=this.$rev+1)},vt.prototype.undo=function(dt,St){this.lastDeltas=null;var yt=this.$undoStack;if(ot(yt,yt.length)){dt||(dt=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var gt=yt.pop(),Et=null;return gt&&(Et=dt.undoChanges(gt,St),this.$redoStack.push(gt),this.$syncRev()),this.$fromUndo=!1,Et}},vt.prototype.redo=function(dt,St){if(this.lastDeltas=null,dt||(dt=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var yt=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);mt(this.$redoStack,yt),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(_t){_t[0].id=++this.$maxRev},this)}var gt=this.$redoStack.pop(),Et=null;return gt&&(Et=dt.redoChanges(gt,St),this.$undoStack.push(gt),this.$syncRev()),this.$fromUndo=!1,Et},vt.prototype.$syncRev=function(){var dt=this.$undoStack,St=dt[dt.length-1],yt=St&&St[0].id||0;this.$redoStackBaseRev=yt,this.$rev=yt},vt.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},vt.prototype.canUndo=function(){return this.$undoStack.length>0},vt.prototype.canRedo=function(){return this.$redoStack.length>0},vt.prototype.bookmark=function(dt){dt==null&&(dt=this.$rev),this.mark=dt},vt.prototype.isAtBookmark=function(){return this.$rev===this.mark},vt.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},vt.prototype.fromJSON=function(dt){this.reset(),this.$undoStack=dt.$undoStack,this.$redoStack=dt.$redoStack},vt.prototype.$prettyPrint=function(dt){return dt?_(dt):_(this.$undoStack)+`
---
`+_(this.$redoStack)},vt}();et.prototype.hasUndo=et.prototype.canUndo,et.prototype.hasRedo=et.prototype.canRedo,et.prototype.isClean=et.prototype.isAtBookmark,et.prototype.markClean=et.prototype.bookmark;function ot(vt,dt){for(var St=dt;St--;){var yt=vt[St];if(yt&&!yt[0].ignore){for(;St<dt-1;){var gt=st(vt[St],vt[St+1]);vt[St]=gt[0],vt[St+1]=gt[1],St++}return!0}}}var at=o("./range").Range,nt=at.comparePoints;at.comparePoints;function it(vt){return{row:vt.row,column:vt.column}}function j(vt){return{start:it(vt.start),end:it(vt.end),action:vt.action,lines:vt.lines.slice()}}function _(vt){if(vt=vt||this,Array.isArray(vt))return vt.map(_).join(`
`);var dt="";return vt.action?(dt=vt.action=="insert"?"+":"-",dt+="["+vt.lines+"]"):vt.value&&(Array.isArray(vt.value)?dt=vt.value.map($).join(`
`):dt=$(vt.value)),vt.start&&(dt+=$(vt)),(vt.id||vt.rev)&&(dt+="	("+(vt.id||vt.rev)+")"),dt}function $(vt){return vt.start.row+":"+vt.start.column+"=>"+vt.end.row+":"+vt.end.column}function tt(vt,dt){var St=vt.action=="insert",yt=dt.action=="insert";if(St&&yt)if(nt(dt.start,vt.end)>=0)ct(dt,vt,-1);else if(nt(dt.start,vt.start)<=0)ct(vt,dt,1);else return null;else if(St&&!yt)if(nt(dt.start,vt.end)>=0)ct(dt,vt,-1);else if(nt(dt.end,vt.start)<=0)ct(vt,dt,-1);else return null;else if(!St&&yt)if(nt(dt.start,vt.start)>=0)ct(dt,vt,1);else if(nt(dt.start,vt.start)<=0)ct(vt,dt,1);else return null;else if(!St&&!yt)if(nt(dt.start,vt.start)>=0)ct(dt,vt,1);else if(nt(dt.end,vt.start)<=0)ct(vt,dt,-1);else return null;return[dt,vt]}function st(vt,dt){for(var St=vt.length;St--;)for(var yt=0;yt<dt.length;yt++)if(!tt(vt[St],dt[yt])){for(;St<vt.length;){for(;yt--;)tt(dt[yt],vt[St]);yt=dt.length,St++}return[vt,dt]}return vt.selectionBefore=dt.selectionBefore=vt.selectionAfter=dt.selectionAfter=null,[dt,vt]}function lt(vt,dt){var St=vt.action=="insert",yt=dt.action=="insert";if(St&&yt)nt(vt.start,dt.start)<0?ct(dt,vt,1):ct(vt,dt,1);else if(St&&!yt)nt(vt.start,dt.end)>=0?ct(vt,dt,-1):(nt(vt.start,dt.start)<=0||ct(vt,at.fromPoints(dt.start,vt.start),-1),ct(dt,vt,1));else if(!St&&yt)nt(dt.start,vt.end)>=0?ct(dt,vt,-1):(nt(dt.start,vt.start)<=0||ct(dt,at.fromPoints(vt.start,dt.start),-1),ct(vt,dt,1));else if(!St&&!yt)if(nt(dt.start,vt.end)>=0)ct(dt,vt,-1);else if(nt(dt.end,vt.start)<=0)ct(vt,dt,-1);else{var gt,Et;return nt(vt.start,dt.start)<0&&(gt=vt,vt=ut(vt,dt.start)),nt(vt.end,dt.end)>0&&(Et=ut(vt,dt.end)),ht(dt.end,vt.start,vt.end,-1),Et&&!gt&&(vt.lines=Et.lines,vt.start=Et.start,vt.end=Et.end,Et=vt),[dt,gt,Et].filter(Boolean)}return[dt,vt]}function ct(vt,dt,St){ht(vt.start,dt.start,dt.end,St),ht(vt.end,dt.start,dt.end,St)}function ht(vt,dt,St,yt){vt.row==(yt==1?dt:St).row&&(vt.column+=yt*(St.column-dt.column)),vt.row+=yt*(St.row-dt.row)}function ut(vt,dt){var St=vt.lines,yt=vt.end;vt.end=it(dt);var gt=vt.end.row-vt.start.row,Et=St.splice(gt,St.length),_t=gt?dt.column:dt.column-vt.start.column;St.push(Et[0].substring(0,_t)),Et[0]=Et[0].substr(_t);var kt={start:it(dt),end:yt,lines:Et,action:vt.action};return kt}function pt(vt,dt){dt=j(dt);for(var St=vt.length;St--;){for(var yt=vt[St],gt=0;gt<yt.length;gt++){var Et=yt[gt],_t=lt(Et,dt);dt=_t[0],_t.length!=2&&(_t[2]?(yt.splice(gt+1,1,_t[1],_t[2]),gt++):_t[1]||(yt.splice(gt,1),gt--))}yt.length||vt.splice(St,1)}return vt}function mt(vt,dt){for(var St=0;St<dt.length;St++)for(var yt=dt[St],gt=0;gt<yt.length;gt++)pt(vt,yt[gt])}a.UndoManager=et}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(o,a,rt){var et=o("../range").Range,ot=function(){function at(nt,it){this.foldData=nt,Array.isArray(it)?this.folds=it:it=this.folds=[it];var j=it[it.length-1];this.range=new et(it[0].start.row,it[0].start.column,j.end.row,j.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(_){_.setFoldLine(this)},this)}return at.prototype.shiftRow=function(nt){this.start.row+=nt,this.end.row+=nt,this.folds.forEach(function(it){it.start.row+=nt,it.end.row+=nt})},at.prototype.addFold=function(nt){if(nt.sameRow){if(nt.start.row<this.startRow||nt.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(nt),this.folds.sort(function(it,j){return-it.range.compareEnd(j.start.row,j.start.column)}),this.range.compareEnd(nt.start.row,nt.start.column)>0?(this.end.row=nt.end.row,this.end.column=nt.end.column):this.range.compareStart(nt.end.row,nt.end.column)<0&&(this.start.row=nt.start.row,this.start.column=nt.start.column)}else if(nt.start.row==this.end.row)this.folds.push(nt),this.end.row=nt.end.row,this.end.column=nt.end.column;else if(nt.end.row==this.start.row)this.folds.unshift(nt),this.start.row=nt.start.row,this.start.column=nt.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");nt.foldLine=this},at.prototype.containsRow=function(nt){return nt>=this.start.row&&nt<=this.end.row},at.prototype.walk=function(nt,it,j){var _=0,$=this.folds,tt,st,lt,ct=!0;it==null&&(it=this.end.row,j=this.end.column);for(var ht=0;ht<$.length;ht++){if(tt=$[ht],st=tt.range.compareStart(it,j),st==-1){nt(null,it,j,_,ct);return}if(lt=nt(null,tt.start.row,tt.start.column,_,ct),lt=!lt&&nt(tt.placeholder,tt.start.row,tt.start.column,_),lt||st===0)return;ct=!tt.sameRow,_=tt.end.column}nt(null,it,j,_,ct)},at.prototype.getNextFoldTo=function(nt,it){for(var j,_,$=0;$<this.folds.length;$++){if(j=this.folds[$],_=j.range.compareEnd(nt,it),_==-1)return{fold:j,kind:"after"};if(_===0)return{fold:j,kind:"inside"}}return null},at.prototype.addRemoveChars=function(nt,it,j){var _=this.getNextFoldTo(nt,it),$,tt;if(_){if($=_.fold,_.kind=="inside"&&$.start.column!=it&&$.start.row!=nt)window.console&&window.console.log(nt,it,$);else if($.start.row==nt){tt=this.folds;var st=tt.indexOf($);for(st===0&&(this.start.column+=j),st;st<tt.length;st++){if($=tt[st],$.start.column+=j,!$.sameRow)return;$.end.column+=j}this.end.column+=j}}},at.prototype.split=function(nt,it){var j=this.getNextFoldTo(nt,it);if(!j||j.kind=="inside")return null;var _=j.fold,$=this.folds,tt=this.foldData,st=$.indexOf(_),lt=$[st-1];this.end.row=lt.end.row,this.end.column=lt.end.column,$=$.splice(st,$.length-st);var ct=new at(tt,$);return tt.splice(tt.indexOf(this)+1,0,ct),ct},at.prototype.merge=function(nt){for(var it=nt.folds,j=0;j<it.length;j++)this.addFold(it[j]);var _=this.foldData;_.splice(_.indexOf(nt),1)},at.prototype.toString=function(){var nt=[this.range.toString()+": ["];return this.folds.forEach(function(it){nt.push("  "+it.toString())}),nt.push("]"),nt.join(`
`)},at.prototype.idxToPosition=function(nt){for(var it=0,j=0;j<this.folds.length;j++){var _=this.folds[j];if(nt-=_.start.column-it,nt<0)return{row:_.start.row,column:_.start.column+nt};if(nt-=_.placeholder.length,nt<0)return _.start;it=_.end.column}return{row:this.end.row,column:this.end.column+nt}},at}();a.FoldLine=ot}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(o,a,rt){var et=o("./range").Range,ot=et.comparePoints,at=function(){function nt(){this.ranges=[],this.$bias=1}return nt.prototype.pointIndex=function(it,j,_){for(var $=this.ranges,tt=_||0;tt<$.length;tt++){var st=$[tt],lt=ot(it,st.end);if(!(lt>0)){var ct=ot(it,st.start);return lt===0?j&&ct!==0?-tt-2:tt:ct>0||ct===0&&!j?tt:-tt-1}}return-tt-1},nt.prototype.add=function(it){var j=!it.isEmpty(),_=this.pointIndex(it.start,j);_<0&&(_=-_-1);var $=this.pointIndex(it.end,j,_);return $<0?$=-$-1:$++,this.ranges.splice(_,$-_,it)},nt.prototype.addList=function(it){for(var j=[],_=it.length;_--;)j.push.apply(j,this.add(it[_]));return j},nt.prototype.substractPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges.splice(j,1)},nt.prototype.merge=function(){var it=[],j=this.ranges;j=j.sort(function(lt,ct){return ot(lt.start,ct.start)});for(var _=j[0],$,tt=1;tt<j.length;tt++){$=_,_=j[tt];var st=ot($.end,_.start);st<0||st==0&&!$.isEmpty()&&!_.isEmpty()||(ot($.end,_.end)<0&&($.end.row=_.end.row,$.end.column=_.end.column),j.splice(tt,1),it.push(_),_=$,tt--)}return this.ranges=j,it},nt.prototype.contains=function(it,j){return this.pointIndex({row:it,column:j})>=0},nt.prototype.containsPoint=function(it){return this.pointIndex(it)>=0},nt.prototype.rangeAtPoint=function(it){var j=this.pointIndex(it);if(j>=0)return this.ranges[j]},nt.prototype.clipRows=function(it,j){var _=this.ranges;if(_[0].start.row>j||_[_.length-1].start.row<it)return[];var $=this.pointIndex({row:it,column:0});$<0&&($=-$-1);var tt=this.pointIndex({row:j,column:0},$);tt<0&&(tt=-tt-1);for(var st=[],lt=$;lt<tt;lt++)st.push(_[lt]);return st},nt.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},nt.prototype.attach=function(it){this.session&&this.detach(),this.session=it,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},nt.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},nt.prototype.$onChange=function(it){for(var j=it.start,_=it.end,$=j.row,tt=_.row,st=this.ranges,lt=0,ct=st.length;lt<ct;lt++){var ht=st[lt];if(ht.end.row>=$)break}if(it.action=="insert")for(var ut=tt-$,pt=-j.column+_.column;lt<ct;lt++){var ht=st[lt];if(ht.start.row>$)break;if(ht.start.row==$&&ht.start.column>=j.column&&(ht.start.column==j.column&&this.$bias<=0||(ht.start.column+=pt,ht.start.row+=ut)),ht.end.row==$&&ht.end.column>=j.column){if(ht.end.column==j.column&&this.$bias<0)continue;ht.end.column==j.column&&pt>0&&lt<ct-1&&ht.end.column>ht.start.column&&ht.end.column==st[lt+1].start.column&&(ht.end.column-=pt),ht.end.column+=pt,ht.end.row+=ut}}else for(var ut=$-tt,pt=j.column-_.column;lt<ct;lt++){var ht=st[lt];if(ht.start.row>tt)break;ht.end.row<tt&&($<ht.end.row||$==ht.end.row&&j.column<ht.end.column)?(ht.end.row=$,ht.end.column=j.column):ht.end.row==tt?ht.end.column<=_.column?(ut||ht.end.column>j.column)&&(ht.end.column=j.column,ht.end.row=j.row):(ht.end.column+=pt,ht.end.row+=ut):ht.end.row>tt&&(ht.end.row+=ut),ht.start.row<tt&&($<ht.start.row||$==ht.start.row&&j.column<ht.start.column)?(ht.start.row=$,ht.start.column=j.column):ht.start.row==tt?ht.start.column<=_.column?(ut||ht.start.column>j.column)&&(ht.start.column=j.column,ht.start.row=j.row):(ht.start.column+=pt,ht.start.row+=ut):ht.start.row>tt&&(ht.start.row+=ut)}if(ut!=0&&lt<ct)for(;lt<ct;lt++){var ht=st[lt];ht.start.row+=ut,ht.end.row+=ut}},nt}();at.prototype.comparePoints=ot,a.RangeList=at}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(o,a,rt){var et=this&&this.__extends||function(){var $=function(tt,st){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ct){lt.__proto__=ct}||function(lt,ct){for(var ht in ct)Object.prototype.hasOwnProperty.call(ct,ht)&&(lt[ht]=ct[ht])},$(tt,st)};return function(tt,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");$(tt,st);function lt(){this.constructor=tt}tt.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}(),ot=o("../range_list").RangeList,at=function($){et(tt,$);function tt(st,lt){var ct=$.call(this)||this;return ct.foldLine=null,ct.placeholder=lt,ct.range=st,ct.start=st.start,ct.end=st.end,ct.sameRow=st.start.row==st.end.row,ct.subFolds=ct.ranges=[],ct}return tt.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},tt.prototype.setFoldLine=function(st){this.foldLine=st,this.subFolds.forEach(function(lt){lt.setFoldLine(st)})},tt.prototype.clone=function(){var st=this.range.clone(),lt=new tt(st,this.placeholder);return this.subFolds.forEach(function(ct){lt.subFolds.push(ct.clone())}),lt.collapseChildren=this.collapseChildren,lt},tt.prototype.addSubFold=function(st){if(!this.range.isEqual(st)){it(st,this.start);for(var pt=st.start.row,mt=st.start.column,lt=0,ct=-1;lt<this.subFolds.length&&(ct=this.subFolds[lt].range.compare(pt,mt),ct==1);lt++);var ht=this.subFolds[lt],ut=0;if(ct==0){if(ht.range.containsRange(st))return ht.addSubFold(st);ut=1}for(var pt=st.range.end.row,mt=st.range.end.column,vt=lt,ct=-1;vt<this.subFolds.length&&(ct=this.subFolds[vt].range.compare(pt,mt),ct==1);vt++);ct==0&&vt++;for(var dt=this.subFolds.splice(lt,vt-lt,st),St=ct==0?dt.length-1:dt.length,yt=ut;yt<St;yt++)st.addSubFold(dt[yt]);return st.setFoldLine(this.foldLine),st}},tt.prototype.restoreRange=function(st){return _(st,this.start)},tt}(ot);function nt($,tt){$.row-=tt.row,$.row==0&&($.column-=tt.column)}function it($,tt){nt($.start,tt),nt($.end,tt)}function j($,tt){$.row==0&&($.column+=tt.column),$.row+=tt.row}function _($,tt){j($.start,tt),j($.end,tt)}a.Fold=at}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(o,a,rt){var et=o("../range").Range,ot=o("./fold_line").FoldLine,at=o("./fold").Fold,nt=o("../token_iterator").TokenIterator,it=o("../mouse/mouse_event").MouseEvent;function j(){this.getFoldAt=function(_,$,tt){var st=this.getFoldLine(_);if(!st)return null;for(var lt=st.folds,ct=0;ct<lt.length;ct++){var ht=lt[ct].range;if(ht.contains(_,$)){if(tt==1&&ht.isEnd(_,$)&&!ht.isEmpty())continue;if(tt==-1&&ht.isStart(_,$)&&!ht.isEmpty())continue;return lt[ct]}}},this.getFoldsInRange=function(_){var $=_.start,tt=_.end,st=this.$foldData,lt=[];$.column+=1,tt.column-=1;for(var ct=0;ct<st.length;ct++){var ht=st[ct].range.compareRange(_);if(ht!=2){if(ht==-2)break;for(var ut=st[ct].folds,pt=0;pt<ut.length;pt++){var mt=ut[pt];if(ht=mt.range.compareRange(_),ht==-2)break;if(ht==2)continue;if(ht==42)break;lt.push(mt)}}}return $.column-=1,tt.column+=1,lt},this.getFoldsInRangeList=function(_){if(Array.isArray(_)){var $=[];_.forEach(function(tt){$=$.concat(this.getFoldsInRange(tt))},this)}else var $=this.getFoldsInRange(_);return $},this.getAllFolds=function(){for(var _=[],$=this.$foldData,tt=0;tt<$.length;tt++)for(var st=0;st<$[tt].folds.length;st++)_.push($[tt].folds[st]);return _},this.getFoldStringAt=function(_,$,tt,st){if(st=st||this.getFoldLine(_),!st)return null;for(var lt={end:{column:0}},ct,ht,ut=0;ut<st.folds.length;ut++){ht=st.folds[ut];var pt=ht.range.compareEnd(_,$);if(pt==-1){ct=this.getLine(ht.start.row).substring(lt.end.column,ht.start.column);break}else if(pt===0)return null;lt=ht}return ct||(ct=this.getLine(ht.start.row).substring(lt.end.column)),tt==-1?ct.substring(0,$-lt.end.column):tt==1?ct.substring($-lt.end.column):ct},this.getFoldLine=function(_,$){var tt=this.$foldData,st=0;for($&&(st=tt.indexOf($)),st==-1&&(st=0),st;st<tt.length;st++){var lt=tt[st];if(lt.start.row<=_&&lt.end.row>=_)return lt;if(lt.end.row>_)return null}return null},this.getNextFoldLine=function(_,$){var tt=this.$foldData,st=0;for($&&(st=tt.indexOf($)),st==-1&&(st=0),st;st<tt.length;st++){var lt=tt[st];if(lt.end.row>=_)return lt}return null},this.getFoldedRowCount=function(_,$){for(var tt=this.$foldData,st=$-_+1,lt=0;lt<tt.length;lt++){var ct=tt[lt],ht=ct.end.row,ut=ct.start.row;if(ht>=$){ut<$&&(ut>=_?st-=$-ut:st=0);break}else ht>=_&&(ut>=_?st-=ht-ut:st-=ht-_+1)}return st},this.$addFoldLine=function(_){return this.$foldData.push(_),this.$foldData.sort(function($,tt){return $.start.row-tt.start.row}),_},this.addFold=function(_,$){var tt=this.$foldData,st=!1,lt;_ instanceof at?lt=_:(lt=new at($,_),lt.collapseChildren=$.collapseChildren),this.$clipRangeToDocument(lt.range);var ct=lt.start.row,ht=lt.start.column,ut=lt.end.row,pt=lt.end.column,mt=this.getFoldAt(ct,ht,1),vt=this.getFoldAt(ut,pt,-1);if(mt&&vt==mt)return mt.addSubFold(lt);mt&&!mt.range.isStart(ct,ht)&&this.removeFold(mt),vt&&!vt.range.isEnd(ut,pt)&&this.removeFold(vt);var dt=this.getFoldsInRange(lt.range);dt.length>0&&(this.removeFolds(dt),lt.collapseChildren||dt.forEach(function(Et){lt.addSubFold(Et)}));for(var St=0;St<tt.length;St++){var yt=tt[St];if(ut==yt.start.row){yt.addFold(lt),st=!0;break}else if(ct==yt.end.row){if(yt.addFold(lt),st=!0,!lt.sameRow){var gt=tt[St+1];if(gt&&gt.start.row==ut){yt.merge(gt);break}}break}else if(ut<=yt.start.row)break}return st||(yt=this.$addFoldLine(new ot(this.$foldData,lt))),this.$useWrapMode?this.$updateWrapData(yt.start.row,yt.start.row):this.$updateRowLengthCache(yt.start.row,yt.start.row),this.$modified=!0,this._signal("changeFold",{data:lt,action:"add"}),lt},this.addFolds=function(_){_.forEach(function($){this.addFold($)},this)},this.removeFold=function(_){var $=_.foldLine,tt=$.start.row,st=$.end.row,lt=this.$foldData,ct=$.folds;if(ct.length==1)lt.splice(lt.indexOf($),1);else if($.range.isEnd(_.end.row,_.end.column))ct.pop(),$.end.row=ct[ct.length-1].end.row,$.end.column=ct[ct.length-1].end.column;else if($.range.isStart(_.start.row,_.start.column))ct.shift(),$.start.row=ct[0].start.row,$.start.column=ct[0].start.column;else if(_.sameRow)ct.splice(ct.indexOf(_),1);else{var ht=$.split(_.start.row,_.start.column);ct=ht.folds,ct.shift(),ht.start.row=ct[0].start.row,ht.start.column=ct[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(tt,st):this.$updateRowLengthCache(tt,st)),this.$modified=!0,this._signal("changeFold",{data:_,action:"remove"})},this.removeFolds=function(_){for(var $=[],tt=0;tt<_.length;tt++)$.push(_[tt]);$.forEach(function(st){this.removeFold(st)},this),this.$modified=!0},this.expandFold=function(_){this.removeFold(_),_.subFolds.forEach(function($){_.restoreRange($),this.addFold($)},this),_.collapseChildren>0&&this.foldAll(_.start.row+1,_.end.row,_.collapseChildren-1),_.subFolds=[]},this.expandFolds=function(_){_.forEach(function($){this.expandFold($)},this)},this.unfold=function(_,$){var tt,st;if(_==null)tt=new et(0,0,this.getLength(),0),$==null&&($=!0);else if(typeof _=="number")tt=new et(_,0,_,this.getLine(_).length);else if("row"in _)tt=et.fromPoints(_,_);else{if(Array.isArray(_))return st=[],_.forEach(function(ct){st=st.concat(this.unfold(ct))},this),st;tt=_}st=this.getFoldsInRangeList(tt);for(var lt=st;st.length==1&&et.comparePoints(st[0].start,tt.start)<0&&et.comparePoints(st[0].end,tt.end)>0;)this.expandFolds(st),st=this.getFoldsInRangeList(tt);if($!=!1?this.removeFolds(st):this.expandFolds(st),lt.length)return lt},this.isRowFolded=function(_,$){return!!this.getFoldLine(_,$)},this.getRowFoldEnd=function(_,$){var tt=this.getFoldLine(_,$);return tt?tt.end.row:_},this.getRowFoldStart=function(_,$){var tt=this.getFoldLine(_,$);return tt?tt.start.row:_},this.getFoldDisplayLine=function(_,$,tt,st,lt){st==null&&(st=_.start.row),lt==null&&(lt=0),$==null&&($=_.end.row),tt==null&&(tt=this.getLine($).length);var ct=this.doc,ht="";return _.walk(function(ut,pt,mt,vt){if(!(pt<st)){if(pt==st){if(mt<lt)return;vt=Math.max(lt,vt)}ut!=null?ht+=ut:ht+=ct.getLine(pt).substring(vt,mt)}},$,tt),ht},this.getDisplayLine=function(_,$,tt,st){var lt=this.getFoldLine(_);if(lt)return this.getFoldDisplayLine(lt,_,$,tt,st);var ct;return ct=this.doc.getLine(_),ct.substring(st||0,$||ct.length)},this.$cloneFoldData=function(){var _=[];return _=this.$foldData.map(function($){var tt=$.folds.map(function(st){return st.clone()});return new ot(_,tt)}),_},this.toggleFold=function(_){var $=this.selection,tt=$.getRange(),st,lt;if(tt.isEmpty()){var ct=tt.start;if(st=this.getFoldAt(ct.row,ct.column),st){this.expandFold(st);return}else(lt=this.findMatchingBracket(ct))?tt.comparePoint(lt)==1?tt.end=lt:(tt.start=lt,tt.start.column++,tt.end.column--):(lt=this.findMatchingBracket({row:ct.row,column:ct.column+1}))?(tt.comparePoint(lt)==1?tt.end=lt:tt.start=lt,tt.start.column++):tt=this.getCommentFoldRange(ct.row,ct.column)||tt}else{var ht=this.getFoldsInRange(tt);if(_&&ht.length){this.expandFolds(ht);return}else ht.length==1&&(st=ht[0])}if(st||(st=this.getFoldAt(tt.start.row,tt.start.column)),st&&st.range.toString()==tt.toString()){this.expandFold(st);return}var ut="...";if(!tt.isMultiLine()){if(ut=this.getTextRange(tt),ut.length<4)return;ut=ut.trim().substring(0,2)+".."}this.addFold(ut,tt)},this.getCommentFoldRange=function(_,$,tt){var st=new nt(this,_,$),lt=st.getCurrentToken(),ct=lt&&lt.type;if(lt&&/^comment|string/.test(ct)){ct=ct.match(/comment|string/)[0],ct=="comment"&&(ct+="|doc-start|\\.doc");var ht=new RegExp(ct),ut=new et;if(tt!=1){do lt=st.stepBackward();while(lt&&ht.test(lt.type));lt=st.stepForward()}ut.start.row=st.getCurrentTokenRow(),ut.start.column=st.getCurrentTokenColumn()+lt.value.length,st=new nt(this,_,$);var pt=this.getState(st.$row);if(tt!=-1){var mt=-1;do if(lt=st.stepForward(),mt==-1){var vt=this.getState(st.$row);pt.toString()!==vt.toString()&&(mt=st.$row)}else if(st.$row>mt)break;while(lt&&ht.test(lt.type));lt=st.stepBackward()}else lt=st.getCurrentToken();return ut.end.row=st.getCurrentTokenRow(),ut.end.column=st.getCurrentTokenColumn(),ut}},this.foldAll=function(_,$,tt,st){tt==null&&(tt=1e5);var lt=this.foldWidgets;if(lt){$=$||this.getLength(),_=_||0;for(var ct=_;ct<$;ct++)if(lt[ct]==null&&(lt[ct]=this.getFoldWidget(ct)),lt[ct]=="start"&&!(st&&!st(ct))){var ht=this.getFoldWidgetRange(ct);ht&&ht.isMultiLine()&&ht.end.row<=$&&ht.start.row>=_&&(ct=ht.end.row,ht.collapseChildren=tt,this.addFold("...",ht))}}},this.foldToLevel=function(_){for(this.foldAll();_-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var _=this;this.foldAll(null,null,null,function($){for(var tt=_.getTokens($),st=0;st<tt.length;st++){var lt=tt[st];if(!(lt.type=="text"&&/^\s+$/.test(lt.value)))return!!/comment/.test(lt.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(_){if(!this.$foldStyles[_])throw new Error("invalid fold style: "+_+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=_){this.$foldStyle=_,_=="manual"&&this.unfold();var $=this.$foldMode;this.$setFolding(null),this.$setFolding($)}},this.$setFolding=function(_){if(this.$foldMode!=_){if(this.$foldMode=_,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!_||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=_.getFoldWidget.bind(_,this,this.$foldStyle),this.getFoldWidgetRange=_.getFoldWidgetRange.bind(_,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(_,$){var tt=this.foldWidgets;if(!tt||$&&tt[_])return{};for(var st=_-1,lt;st>=0;){var ct=tt[st];if(ct==null&&(ct=tt[st]=this.getFoldWidget(st)),ct=="start"){var ht=this.getFoldWidgetRange(st);if(lt||(lt=ht),ht&&ht.end.row>=_)break}st--}return{range:st!==-1&&ht,firstRange:lt}},this.onFoldWidgetClick=function(_,$){$ instanceof it&&($=$.domEvent);var tt={children:$.shiftKey,all:$.ctrlKey||$.metaKey,siblings:$.altKey},st=this.$toggleFoldWidget(_,tt);if(!st){var lt=$.target||$.srcElement;lt&&/ace_fold-widget/.test(lt.className)&&(lt.className+=" ace_invalid")}},this.$toggleFoldWidget=function(_,$){if(this.getFoldWidget){var tt=this.getFoldWidget(_),st=this.getLine(_),lt=tt==="end"?-1:1,ct=this.getFoldAt(_,lt===-1?0:st.length,lt);if(ct)return $.children||$.all?this.removeFold(ct):this.expandFold(ct),ct;var ht=this.getFoldWidgetRange(_,!0);if(ht&&!ht.isMultiLine()&&(ct=this.getFoldAt(ht.start.row,ht.start.column,1),ct&&ht.isEqual(ct.range)))return this.removeFold(ct),ct;if($.siblings){var ut=this.getParentFoldRangeData(_);if(ut.range)var pt=ut.range.start.row+1,mt=ut.range.end.row;this.foldAll(pt,mt,$.all?1e4:0)}else $.children?(mt=ht?ht.end.row:this.getLength(),this.foldAll(_+1,mt,$.all?1e4:0)):ht&&($.all&&(ht.collapseChildren=1e4),this.addFold("...",ht));return ht}},this.toggleFoldWidget=function(_){var $=this.selection.getCursor().row;$=this.getRowFoldStart($);var tt=this.$toggleFoldWidget($,{});if(!tt){var st=this.getParentFoldRangeData($,!0);if(tt=st.range||st.firstRange,tt){$=tt.start.row;var lt=this.getFoldAt($,this.getLine($).length,1);lt?this.removeFold(lt):this.addFold("...",tt)}}},this.updateFoldWidgets=function(_){var $=_.start.row,tt=_.end.row-$;if(tt===0)this.foldWidgets[$]=null;else if(_.action=="remove")this.foldWidgets.splice($,tt+1,null);else{var st=Array(tt+1);st.unshift($,1),this.foldWidgets.splice.apply(this.foldWidgets,st)}},this.tokenizerUpdateFoldWidgets=function(_){var $=_.data;$.first!=$.last&&this.foldWidgets.length>$.first&&this.foldWidgets.splice($.first,this.foldWidgets.length)}}a.Folding=j}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(o,a,rt){var et=o("../token_iterator").TokenIterator,ot=o("../range").Range;function at(){this.findMatchingBracket=function(nt,it){if(nt.column==0)return null;var j=it||this.getLine(nt.row).charAt(nt.column-1);if(j=="")return null;var _=j.match(/([\(\[\{])|([\)\]\}])/);return _?_[1]?this.$findClosingBracket(_[1],nt):this.$findOpeningBracket(_[2],nt):null},this.getBracketRange=function(nt){var it=this.getLine(nt.row),j=!0,_,$=it.charAt(nt.column-1),tt=$&&$.match(/([\(\[\{])|([\)\]\}])/);if(tt||($=it.charAt(nt.column),nt={row:nt.row,column:nt.column+1},tt=$&&$.match(/([\(\[\{])|([\)\]\}])/),j=!1),!tt)return null;if(tt[1]){var st=this.$findClosingBracket(tt[1],nt);if(!st)return null;_=ot.fromPoints(nt,st),j||(_.end.column++,_.start.column--),_.cursor=_.end}else{var st=this.$findOpeningBracket(tt[2],nt);if(!st)return null;_=ot.fromPoints(st,nt),j||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.getMatchingBracketRanges=function(nt,it){var j=this.getLine(nt.row),_=/([\(\[\{])|([\)\]\}])/,$=!it&&j.charAt(nt.column-1),tt=$&&$.match(_);if(tt||($=(it===void 0||it)&&j.charAt(nt.column),nt={row:nt.row,column:nt.column+1},tt=$&&$.match(_)),!tt)return null;var st=new ot(nt.row,nt.column-1,nt.row,nt.column),lt=tt[1]?this.$findClosingBracket(tt[1],nt):this.$findOpeningBracket(tt[2],nt);if(!lt)return[st];var ct=new ot(lt.row,lt.column,lt.row,lt.column+1);return[st,ct]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(nt,it,j){var _=this.$brackets[nt],$=1,tt=new et(this,it.row,it.column),st=tt.getCurrentToken();if(st||(st=tt.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var lt=it.column-tt.getCurrentTokenColumn()-2,ct=st.value;;){for(;lt>=0;){var ht=ct.charAt(lt);if(ht==_){if($-=1,$==0)return{row:tt.getCurrentTokenRow(),column:lt+tt.getCurrentTokenColumn()}}else ht==nt&&($+=1);lt-=1}do st=tt.stepBackward();while(st&&!j.test(st.type));if(st==null)break;ct=st.value,lt=ct.length-1}return null}},this.$findClosingBracket=function(nt,it,j){var _=this.$brackets[nt],$=1,tt=new et(this,it.row,it.column),st=tt.getCurrentToken();if(st||(st=tt.stepForward()),!!st){j||(j=new RegExp("(\\.?"+st.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var lt=it.column-tt.getCurrentTokenColumn();;){for(var ct=st.value,ht=ct.length;lt<ht;){var ut=ct.charAt(lt);if(ut==_){if($-=1,$==0)return{row:tt.getCurrentTokenRow(),column:lt+tt.getCurrentTokenColumn()}}else ut==nt&&($+=1);lt+=1}do st=tt.stepForward();while(st&&!j.test(st.type));if(st==null)break;lt=0}return null}},this.getMatchingTags=function(nt){var it=new et(this,nt.row,nt.column),j=this.$findTagName(it);if(j){var _=it.stepBackward();return _.value==="<"?this.$findClosingTag(it,j):this.$findOpeningTag(it,j)}},this.$findTagName=function(nt){var it=nt.getCurrentToken(),j=!1,_=!1;if(it&&it.type.indexOf("tag-name")===-1)do _?it=nt.stepBackward():it=nt.stepForward(),it&&(it.value==="/>"?_=!0:it.type.indexOf("tag-name")!==-1&&(j=!0));while(it&&!j);return it},this.$findClosingTag=function(nt,it){var j,_=it.value,$=it.value,tt=0,st=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);it=nt.stepForward();var lt=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+it.value.length),ct=!1;do{if(j=it,j.type.indexOf("tag-close")!==-1&&!ct){var ht=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);ct=!0}if(it=nt.stepForward(),it){if(it.value===">"&&!ct){var ht=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);ct=!0}if(it.type.indexOf("tag-name")!==-1){if(_=it.value,$===_){if(j.value==="<")tt++;else if(j.value==="</"&&(tt--,tt<0)){nt.stepBackward();var ut=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+2);it=nt.stepForward();var pt=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+it.value.length);if(it.type.indexOf("tag-close")===-1&&(it=nt.stepForward()),it&&it.value===">")var mt=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);else return}}}else if($===_&&it.value==="/>"&&(tt--,tt<0))var ut=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+2),pt=ut,mt=pt,ht=new ot(lt.end.row,lt.end.column,lt.end.row,lt.end.column+1)}}while(it&&tt>=0);if(st&&ht&&ut&&mt&&lt&&pt)return{openTag:new ot(st.start.row,st.start.column,ht.end.row,ht.end.column),closeTag:new ot(ut.start.row,ut.start.column,mt.end.row,mt.end.column),openTagName:lt,closeTagName:pt}},this.$findOpeningTag=function(nt,it){var j=nt.getCurrentToken(),_=it.value,$=0,tt=nt.getCurrentTokenRow(),st=nt.getCurrentTokenColumn(),lt=st+2,ct=new ot(tt,st,tt,lt);nt.stepForward();var ht=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+it.value.length);if(it.type.indexOf("tag-close")===-1&&(it=nt.stepForward()),!(!it||it.value!==">")){var ut=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);nt.stepBackward(),nt.stepBackward();do if(it=j,tt=nt.getCurrentTokenRow(),st=nt.getCurrentTokenColumn(),lt=st+it.value.length,j=nt.stepBackward(),it){if(it.type.indexOf("tag-name")!==-1){if(_===it.value)if(j.value==="<"){if($++,$>0){var pt=new ot(tt,st,tt,lt),mt=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1);do it=nt.stepForward();while(it&&it.value!==">");var vt=new ot(nt.getCurrentTokenRow(),nt.getCurrentTokenColumn(),nt.getCurrentTokenRow(),nt.getCurrentTokenColumn()+1)}}else j.value==="</"&&$--}else if(it.value==="/>"){for(var dt=0,St=j;St;){if(St.type.indexOf("tag-name")!==-1&&St.value===_){$--;break}else if(St.value==="<")break;St=nt.stepBackward(),dt++}for(var yt=0;yt<dt;yt++)nt.stepForward()}}while(j&&$<=0);if(mt&&vt&&ct&&ut&&pt&&ht)return{openTag:new ot(mt.start.row,mt.start.column,vt.end.row,vt.end.column),closeTag:new ot(ct.start.row,ct.start.column,ut.end.row,ut.end.column),openTagName:pt,closeTagName:ht}}}}a.BracketMatch=at}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(o,a,rt){var et=o("./lib/oop"),ot=o("./lib/lang"),at=o("./bidihandler").BidiHandler,nt=o("./config"),it=o("./lib/event_emitter").EventEmitter,j=o("./selection").Selection,_=o("./mode/text").Mode,$=o("./range").Range,tt=o("./document").Document,st=o("./background_tokenizer").BackgroundTokenizer,lt=o("./search_highlight").SearchHighlight,ct=o("./undomanager").UndoManager,ht=function(){function _t(kt,Ct){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++_t.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new st(new _().getTokenizer(),this);var Tt=this;this.bgTokenizer.on("update",function(At){Tt._signal("tokenizerUpdate",At)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof kt!="object"||!kt.getLine)&&(kt=new tt(kt)),this.setDocument(kt),this.selection=new j(this),this.$bidiHandler=new at(this),nt.resetOptions(this),this.setMode(Ct),nt._signal("session",this),this.destroyed=!1}return _t.prototype.setDocument=function(kt){this.doc&&this.doc.off("change",this.$onChange),this.doc=kt,kt.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},_t.prototype.getDocument=function(){return this.doc},_t.prototype.$resetRowCache=function(kt){if(!kt){this.$docRowCache=[],this.$screenRowCache=[];return}var Ct=this.$docRowCache.length,Tt=this.$getRowCacheIndex(this.$docRowCache,kt)+1;Ct>Tt&&(this.$docRowCache.splice(Tt,Ct),this.$screenRowCache.splice(Tt,Ct))},_t.prototype.$getRowCacheIndex=function(kt,Ct){for(var Tt=0,At=kt.length-1;Tt<=At;){var It=Tt+At>>1,Ot=kt[It];if(Ct>Ot)Tt=It+1;else if(Ct<Ot)At=It-1;else return It}return Tt-1},_t.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},_t.prototype.onChangeFold=function(kt){var Ct=kt.data;this.$resetRowCache(Ct.start.row)},_t.prototype.onChange=function(kt){this.$modified=!0,this.$bidiHandler.onChange(kt),this.$resetRowCache(kt.start.row);var Ct=this.$updateInternalDataOnChange(kt);!this.$fromUndo&&this.$undoManager&&(Ct&&Ct.length&&(this.$undoManager.add({action:"removeFolds",folds:Ct},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(kt,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(kt),this._signal("change",kt)},_t.prototype.setValue=function(kt){this.doc.setValue(kt),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},_t.fromJSON=function(kt){typeof kt=="string"&&(kt=JSON.parse(kt));var Ct=new ct;Ct.$undoStack=kt.history.undo,Ct.$redoStack=kt.history.redo,Ct.mark=kt.history.mark,Ct.$rev=kt.history.rev;var Tt=new _t(kt.value);return kt.folds.forEach(function(At){Tt.addFold("...",$.fromPoints(At.start,At.end))}),Tt.setAnnotations(kt.annotations),Tt.setBreakpoints(kt.breakpoints),Tt.setMode(kt.mode),Tt.setScrollLeft(kt.scrollLeft),Tt.setScrollTop(kt.scrollTop),Tt.setUndoManager(Ct),Tt.selection.fromJSON(kt.selection),Tt},_t.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(kt){return kt.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},_t.prototype.toString=function(){return this.doc.getValue()},_t.prototype.getSelection=function(){return this.selection},_t.prototype.getState=function(kt){return this.bgTokenizer.getState(kt)},_t.prototype.getTokens=function(kt){return this.bgTokenizer.getTokens(kt)},_t.prototype.getTokenAt=function(kt,Ct){var Tt=this.bgTokenizer.getTokens(kt),At,It=0;if(Ct==null){var Ot=Tt.length-1;It=this.getLine(kt).length}else for(var Ot=0;Ot<Tt.length&&(It+=Tt[Ot].value.length,!(It>=Ct));Ot++);return At=Tt[Ot],At?(At.index=Ot,At.start=It-At.value.length,At):null},_t.prototype.setUndoManager=function(kt){if(this.$undoManager=kt,this.$informUndoManager&&this.$informUndoManager.cancel(),kt){var Ct=this;kt.addSession(this),this.$syncInformUndoManager=function(){Ct.$informUndoManager.cancel(),Ct.mergeUndoDeltas=!1},this.$informUndoManager=ot.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},_t.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},_t.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},_t.prototype.getTabString=function(){return this.getUseSoftTabs()?ot.stringRepeat(" ",this.getTabSize()):"	"},_t.prototype.setUseSoftTabs=function(kt){this.setOption("useSoftTabs",kt)},_t.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},_t.prototype.setTabSize=function(kt){this.setOption("tabSize",kt)},_t.prototype.getTabSize=function(){return this.$tabSize},_t.prototype.isTabStop=function(kt){return this.$useSoftTabs&&kt.column%this.$tabSize===0},_t.prototype.setNavigateWithinSoftTabs=function(kt){this.setOption("navigateWithinSoftTabs",kt)},_t.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},_t.prototype.setOverwrite=function(kt){this.setOption("overwrite",kt)},_t.prototype.getOverwrite=function(){return this.$overwrite},_t.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},_t.prototype.addGutterDecoration=function(kt,Ct){this.$decorations[kt]||(this.$decorations[kt]=""),this.$decorations[kt]+=" "+Ct,this._signal("changeBreakpoint",{})},_t.prototype.removeGutterDecoration=function(kt,Ct){this.$decorations[kt]=(this.$decorations[kt]||"").replace(" "+Ct,""),this._signal("changeBreakpoint",{})},_t.prototype.getBreakpoints=function(){return this.$breakpoints},_t.prototype.setBreakpoints=function(kt){this.$breakpoints=[];for(var Ct=0;Ct<kt.length;Ct++)this.$breakpoints[kt[Ct]]="ace_breakpoint";this._signal("changeBreakpoint",{})},_t.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},_t.prototype.setBreakpoint=function(kt,Ct){Ct===void 0&&(Ct="ace_breakpoint"),Ct?this.$breakpoints[kt]=Ct:delete this.$breakpoints[kt],this._signal("changeBreakpoint",{})},_t.prototype.clearBreakpoint=function(kt){delete this.$breakpoints[kt],this._signal("changeBreakpoint",{})},_t.prototype.addMarker=function(kt,Ct,Tt,At){var It=this.$markerId++,Ot={range:kt,type:Tt||"line",renderer:typeof Tt=="function"?Tt:null,clazz:Ct,inFront:!!At,id:It};return At?(this.$frontMarkers[It]=Ot,this._signal("changeFrontMarker")):(this.$backMarkers[It]=Ot,this._signal("changeBackMarker")),It},_t.prototype.addDynamicMarker=function(kt,Ct){if(kt.update){var Tt=this.$markerId++;return kt.id=Tt,kt.inFront=!!Ct,Ct?(this.$frontMarkers[Tt]=kt,this._signal("changeFrontMarker")):(this.$backMarkers[Tt]=kt,this._signal("changeBackMarker")),kt}},_t.prototype.removeMarker=function(kt){var Ct=this.$frontMarkers[kt]||this.$backMarkers[kt];if(Ct){var Tt=Ct.inFront?this.$frontMarkers:this.$backMarkers;delete Tt[kt],this._signal(Ct.inFront?"changeFrontMarker":"changeBackMarker")}},_t.prototype.getMarkers=function(kt){return kt?this.$frontMarkers:this.$backMarkers},_t.prototype.highlight=function(kt){if(!this.$searchHighlight){var Ct=new lt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(Ct)}this.$searchHighlight.setRegexp(kt)},_t.prototype.highlightLines=function(kt,Ct,Tt,At){typeof Ct!="number"&&(Tt=Ct,Ct=kt),Tt||(Tt="ace_step");var It=new $(kt,0,Ct,1/0);return It.id=this.addMarker(It,Tt,"fullLine",At),It},_t.prototype.setAnnotations=function(kt){this.$annotations=kt,this._signal("changeAnnotation",{})},_t.prototype.getAnnotations=function(){return this.$annotations||[]},_t.prototype.clearAnnotations=function(){this.setAnnotations([])},_t.prototype.$detectNewLine=function(kt){var Ct=kt.match(/^.*?(\r?\n)/m);Ct?this.$autoNewLine=Ct[1]:this.$autoNewLine=`
`},_t.prototype.getWordRange=function(kt,Ct){var Tt=this.getLine(kt),At=!1;if(Ct>0&&(At=!!Tt.charAt(Ct-1).match(this.tokenRe)),At||(At=!!Tt.charAt(Ct).match(this.tokenRe)),At)var It=this.tokenRe;else if(/^\s+$/.test(Tt.slice(Ct-1,Ct+1)))var It=/\s/;else var It=this.nonTokenRe;var Ot=Ct;if(Ot>0){do Ot--;while(Ot>=0&&Tt.charAt(Ot).match(It));Ot++}for(var Mt=Ct;Mt<Tt.length&&Tt.charAt(Mt).match(It);)Mt++;return new $(kt,Ot,kt,Mt)},_t.prototype.getAWordRange=function(kt,Ct){for(var Tt=this.getWordRange(kt,Ct),At=this.getLine(Tt.end.row);At.charAt(Tt.end.column).match(/[ \t]/);)Tt.end.column+=1;return Tt},_t.prototype.setNewLineMode=function(kt){this.doc.setNewLineMode(kt)},_t.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},_t.prototype.setUseWorker=function(kt){this.setOption("useWorker",kt)},_t.prototype.getUseWorker=function(){return this.$useWorker},_t.prototype.onReloadTokenizer=function(kt){var Ct=kt.data;this.bgTokenizer.start(Ct.first),this._signal("tokenizerUpdate",kt)},_t.prototype.setMode=function(kt,Ct){if(kt&&typeof kt=="object"){if(kt.getTokenizer)return this.$onChangeMode(kt);var Tt=kt,At=Tt.path}else At=kt||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new _),this.$modes[At]&&!Tt){this.$onChangeMode(this.$modes[At]),Ct&&Ct();return}this.$modeId=At,nt.loadModule(["mode",At],(function(It){if(this.$modeId!==At)return Ct&&Ct();this.$modes[At]&&!Tt?this.$onChangeMode(this.$modes[At]):It&&It.Mode&&(It=new It.Mode(Tt),Tt||(this.$modes[At]=It,It.$id=At),this.$onChangeMode(It)),Ct&&Ct()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},_t.prototype.$onChangeMode=function(kt,Ct){if(Ct||(this.$modeId=kt.$id),this.$mode!==kt){var Tt=this.$mode;this.$mode=kt,this.$stopWorker(),this.$useWorker&&this.$startWorker();var At=kt.getTokenizer();if(At.on!==void 0){var It=this.onReloadTokenizer.bind(this);At.on("update",It)}this.bgTokenizer.setTokenizer(At),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=kt.tokenRe,this.nonTokenRe=kt.nonTokenRe,Ct||(kt.attachToSession&&kt.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(kt.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:Tt,mode:kt}))}},_t.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},_t.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(kt){nt.warn("Could not load worker",kt),this.$worker=null}},_t.prototype.getMode=function(){return this.$mode},_t.prototype.setScrollTop=function(kt){this.$scrollTop===kt||isNaN(kt)||(this.$scrollTop=kt,this._signal("changeScrollTop",kt))},_t.prototype.getScrollTop=function(){return this.$scrollTop},_t.prototype.setScrollLeft=function(kt){this.$scrollLeft===kt||isNaN(kt)||(this.$scrollLeft=kt,this._signal("changeScrollLeft",kt))},_t.prototype.getScrollLeft=function(){return this.$scrollLeft},_t.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},_t.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var kt=0;return this.lineWidgets.forEach(function(Ct){Ct&&Ct.screenWidth>kt&&(kt=Ct.screenWidth)}),this.lineWidgetWidth=kt},_t.prototype.$computeWidth=function(kt){if(this.$modified||kt){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var Ct=this.doc.getAllLines(),Tt=this.$rowLengthCache,At=0,It=0,Ot=this.$foldData[It],Mt=Ot?Ot.start.row:1/0,Dt=Ct.length,Bt=0;Bt<Dt;Bt++){if(Bt>Mt){if(Bt=Ot.end.row+1,Bt>=Dt)break;Ot=this.$foldData[It++],Mt=Ot?Ot.start.row:1/0}Tt[Bt]==null&&(Tt[Bt]=this.$getStringScreenWidth(Ct[Bt])[0]),Tt[Bt]>At&&(At=Tt[Bt])}this.screenWidth=At}},_t.prototype.getLine=function(kt){return this.doc.getLine(kt)},_t.prototype.getLines=function(kt,Ct){return this.doc.getLines(kt,Ct)},_t.prototype.getLength=function(){return this.doc.getLength()},_t.prototype.getTextRange=function(kt){return this.doc.getTextRange(kt||this.selection.getRange())},_t.prototype.insert=function(kt,Ct){return this.doc.insert(kt,Ct)},_t.prototype.remove=function(kt){return this.doc.remove(kt)},_t.prototype.removeFullLines=function(kt,Ct){return this.doc.removeFullLines(kt,Ct)},_t.prototype.undoChanges=function(kt,Ct){if(kt.length){this.$fromUndo=!0;for(var Tt=kt.length-1;Tt!=-1;Tt--){var At=kt[Tt];At.action=="insert"||At.action=="remove"?this.doc.revertDelta(At):At.folds&&this.addFolds(At.folds)}!Ct&&this.$undoSelect&&(kt.selectionBefore?this.selection.fromJSON(kt.selectionBefore):this.selection.setRange(this.$getUndoSelection(kt,!0))),this.$fromUndo=!1}},_t.prototype.redoChanges=function(kt,Ct){if(kt.length){this.$fromUndo=!0;for(var Tt=0;Tt<kt.length;Tt++){var At=kt[Tt];(At.action=="insert"||At.action=="remove")&&this.doc.$safeApplyDelta(At)}!Ct&&this.$undoSelect&&(kt.selectionAfter?this.selection.fromJSON(kt.selectionAfter):this.selection.setRange(this.$getUndoSelection(kt,!1))),this.$fromUndo=!1}},_t.prototype.setUndoSelect=function(kt){this.$undoSelect=kt},_t.prototype.$getUndoSelection=function(kt,Ct){function Tt(Dt){return Ct?Dt.action!=="insert":Dt.action==="insert"}for(var At,It,Ot=0;Ot<kt.length;Ot++){var Mt=kt[Ot];if(Mt.start){if(!At){Tt(Mt)?At=$.fromPoints(Mt.start,Mt.end):At=$.fromPoints(Mt.start,Mt.start);continue}Tt(Mt)?(It=Mt.start,At.compare(It.row,It.column)==-1&&At.setStart(It),It=Mt.end,At.compare(It.row,It.column)==1&&At.setEnd(It)):(It=Mt.start,At.compare(It.row,It.column)==-1&&(At=$.fromPoints(Mt.start,Mt.start)))}}return At},_t.prototype.replace=function(kt,Ct){return this.doc.replace(kt,Ct)},_t.prototype.moveText=function(kt,Ct,Tt){var At=this.getTextRange(kt),It=this.getFoldsInRange(kt),Ot=$.fromPoints(Ct,Ct);if(!Tt){this.remove(kt);var Mt=kt.start.row-kt.end.row,Dt=Mt?-kt.end.column:kt.start.column-kt.end.column;Dt&&(Ot.start.row==kt.end.row&&Ot.start.column>kt.end.column&&(Ot.start.column+=Dt),Ot.end.row==kt.end.row&&Ot.end.column>kt.end.column&&(Ot.end.column+=Dt)),Mt&&Ot.start.row>=kt.end.row&&(Ot.start.row+=Mt,Ot.end.row+=Mt)}if(Ot.end=this.insert(Ot.start,At),It.length){var Bt=kt.start,Kt=Ot.start,Mt=Kt.row-Bt.row,Dt=Kt.column-Bt.column;this.addFolds(It.map(function(Ht){return Ht=Ht.clone(),Ht.start.row==Bt.row&&(Ht.start.column+=Dt),Ht.end.row==Bt.row&&(Ht.end.column+=Dt),Ht.start.row+=Mt,Ht.end.row+=Mt,Ht}))}return Ot},_t.prototype.indentRows=function(kt,Ct,Tt){Tt=Tt.replace(/\t/g,this.getTabString());for(var At=kt;At<=Ct;At++)this.doc.insertInLine({row:At,column:0},Tt)},_t.prototype.outdentRows=function(kt){for(var Ct=kt.collapseRows(),Tt=new $(0,0,0,0),At=this.getTabSize(),It=Ct.start.row;It<=Ct.end.row;++It){var Ot=this.getLine(It);Tt.start.row=It,Tt.end.row=It;for(var Mt=0;Mt<At&&Ot.charAt(Mt)==" ";++Mt);Mt<At&&Ot.charAt(Mt)=="	"?(Tt.start.column=Mt,Tt.end.column=Mt+1):(Tt.start.column=0,Tt.end.column=Mt),this.remove(Tt)}},_t.prototype.$moveLines=function(kt,Ct,Tt){if(kt=this.getRowFoldStart(kt),Ct=this.getRowFoldEnd(Ct),Tt<0){var At=this.getRowFoldStart(kt+Tt);if(At<0)return 0;var It=At-kt}else if(Tt>0){var At=this.getRowFoldEnd(Ct+Tt);if(At>this.doc.getLength()-1)return 0;var It=At-Ct}else{kt=this.$clipRowToDocument(kt),Ct=this.$clipRowToDocument(Ct);var It=Ct-kt+1}var Ot=new $(kt,0,Ct,Number.MAX_VALUE),Mt=this.getFoldsInRange(Ot).map(function(Bt){return Bt=Bt.clone(),Bt.start.row+=It,Bt.end.row+=It,Bt}),Dt=Tt==0?this.doc.getLines(kt,Ct):this.doc.removeFullLines(kt,Ct);return this.doc.insertFullLines(kt+It,Dt),Mt.length&&this.addFolds(Mt),It},_t.prototype.moveLinesUp=function(kt,Ct){return this.$moveLines(kt,Ct,-1)},_t.prototype.moveLinesDown=function(kt,Ct){return this.$moveLines(kt,Ct,1)},_t.prototype.duplicateLines=function(kt,Ct){return this.$moveLines(kt,Ct,0)},_t.prototype.$clipRowToDocument=function(kt){return Math.max(0,Math.min(kt,this.doc.getLength()-1))},_t.prototype.$clipColumnToRow=function(kt,Ct){return Ct<0?0:Math.min(this.doc.getLine(kt).length,Ct)},_t.prototype.$clipPositionToDocument=function(kt,Ct){if(Ct=Math.max(0,Ct),kt<0)kt=0,Ct=0;else{var Tt=this.doc.getLength();kt>=Tt?(kt=Tt-1,Ct=this.doc.getLine(Tt-1).length):Ct=Math.min(this.doc.getLine(kt).length,Ct)}return{row:kt,column:Ct}},_t.prototype.$clipRangeToDocument=function(kt){kt.start.row<0?(kt.start.row=0,kt.start.column=0):kt.start.column=this.$clipColumnToRow(kt.start.row,kt.start.column);var Ct=this.doc.getLength()-1;return kt.end.row>Ct?(kt.end.row=Ct,kt.end.column=this.doc.getLine(Ct).length):kt.end.column=this.$clipColumnToRow(kt.end.row,kt.end.column),kt},_t.prototype.setUseWrapMode=function(kt){if(kt!=this.$useWrapMode){if(this.$useWrapMode=kt,this.$modified=!0,this.$resetRowCache(0),kt){var Ct=this.getLength();this.$wrapData=Array(Ct),this.$updateWrapData(0,Ct-1)}this._signal("changeWrapMode")}},_t.prototype.getUseWrapMode=function(){return this.$useWrapMode},_t.prototype.setWrapLimitRange=function(kt,Ct){(this.$wrapLimitRange.min!==kt||this.$wrapLimitRange.max!==Ct)&&(this.$wrapLimitRange={min:kt,max:Ct},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},_t.prototype.adjustWrapLimit=function(kt,Ct){var Tt=this.$wrapLimitRange;Tt.max<0&&(Tt={min:Ct,max:Ct});var At=this.$constrainWrapLimit(kt,Tt.min,Tt.max);return At!=this.$wrapLimit&&At>1?(this.$wrapLimit=At,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},_t.prototype.$constrainWrapLimit=function(kt,Ct,Tt){return Ct&&(kt=Math.max(Ct,kt)),Tt&&(kt=Math.min(Tt,kt)),kt},_t.prototype.getWrapLimit=function(){return this.$wrapLimit},_t.prototype.setWrapLimit=function(kt){this.setWrapLimitRange(kt,kt)},_t.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},_t.prototype.$updateInternalDataOnChange=function(kt){var Ct=this.$useWrapMode,Tt=kt.action,At=kt.start,It=kt.end,Ot=At.row,Mt=It.row,Dt=Mt-Ot,Bt=null;if(this.$updating=!0,Dt!=0)if(Tt==="remove"){this[Ct?"$wrapData":"$rowLengthCache"].splice(Ot,Dt);var Kt=this.$foldData;Bt=this.getFoldsInRange(kt),this.removeFolds(Bt);var Wt=this.getFoldLine(It.row),zt=0;if(Wt){Wt.addRemoveChars(It.row,It.column,At.column-It.column),Wt.shiftRow(-Dt);var Ht=this.getFoldLine(Ot);Ht&&Ht!==Wt&&(Ht.merge(Wt),Wt=Ht),zt=Kt.indexOf(Wt)+1}for(zt;zt<Kt.length;zt++){var Wt=Kt[zt];Wt.start.row>=It.row&&Wt.shiftRow(-Dt)}Mt=Ot}else{var Zt=Array(Dt);Zt.unshift(Ot,0);var Qt=Ct?this.$wrapData:this.$rowLengthCache;Qt.splice.apply(Qt,Zt);var Kt=this.$foldData,Wt=this.getFoldLine(Ot),zt=0;if(Wt){var hr=Wt.range.compareInside(At.row,At.column);hr==0?(Wt=Wt.split(At.row,At.column),Wt&&(Wt.shiftRow(Dt),Wt.addRemoveChars(Mt,0,It.column-At.column))):hr==-1&&(Wt.addRemoveChars(Ot,0,It.column-At.column),Wt.shiftRow(Dt)),zt=Kt.indexOf(Wt)+1}for(zt;zt<Kt.length;zt++){var Wt=Kt[zt];Wt.start.row>=Ot&&Wt.shiftRow(Dt)}}else{Dt=Math.abs(kt.start.column-kt.end.column),Tt==="remove"&&(Bt=this.getFoldsInRange(kt),this.removeFolds(Bt),Dt=-Dt);var Wt=this.getFoldLine(Ot);Wt&&Wt.addRemoveChars(Ot,At.column,Dt)}return Ct&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,Ct?this.$updateWrapData(Ot,Mt):this.$updateRowLengthCache(Ot,Mt),Bt},_t.prototype.$updateRowLengthCache=function(kt,Ct){this.$rowLengthCache[kt]=null,this.$rowLengthCache[Ct]=null},_t.prototype.$updateWrapData=function(kt,Ct){var Tt=this.doc.getAllLines(),At=this.getTabSize(),It=this.$wrapData,Ot=this.$wrapLimit,Mt,Dt,Bt=kt;for(Ct=Math.min(Ct,Tt.length-1);Bt<=Ct;)Dt=this.getFoldLine(Bt,Dt),Dt?(Mt=[],Dt.walk((function(Kt,Wt,zt,Ht){var Zt;if(Kt!=null){Zt=this.$getDisplayTokens(Kt,Mt.length),Zt[0]=mt;for(var Qt=1;Qt<Zt.length;Qt++)Zt[Qt]=vt}else Zt=this.$getDisplayTokens(Tt[Wt].substring(Ht,zt),Mt.length);Mt=Mt.concat(Zt)}).bind(this),Dt.end.row,Tt[Dt.end.row].length+1),It[Dt.start.row]=this.$computeWrapSplits(Mt,Ot,At),Bt=Dt.end.row+1):(Mt=this.$getDisplayTokens(Tt[Bt]),It[Bt]=this.$computeWrapSplits(Mt,Ot,At),Bt++)},_t.prototype.$computeWrapSplits=function(kt,Ct,Tt){if(kt.length==0)return[];var At=[],It=kt.length,Ot=0,Mt=0,Dt=this.$wrapAsCode,Bt=this.$indentedSoftWrap,Kt=Ct<=Math.max(2*Tt,8)||Bt===!1?0:Math.floor(Ct/2);function Wt(){var hr=0;if(Kt===0)return hr;if(Bt)for(var fr=0;fr<kt.length;fr++){var pr=kt[fr];if(pr==St)hr+=1;else if(pr==yt)hr+=Tt;else{if(pr==gt)continue;break}}return Dt&&Bt!==!1&&(hr+=Tt),Math.min(hr,Kt)}function zt(hr){for(var fr=hr-Ot,pr=Ot;pr<hr;pr++){var gr=kt[pr];(gr===12||gr===2)&&(fr-=1)}At.length||(Ht=Wt(),At.indent=Ht),Mt+=fr,At.push(Mt),Ot=hr}for(var Ht=0;It-Ot>Ct-Ht;){var Zt=Ot+Ct-Ht;if(kt[Zt-1]>=St&&kt[Zt]>=St){zt(Zt);continue}if(kt[Zt]==mt||kt[Zt]==vt){for(Zt;Zt!=Ot-1&&kt[Zt]!=mt;Zt--);if(Zt>Ot){zt(Zt);continue}for(Zt=Ot+Ct,Zt;Zt<kt.length&&kt[Zt]==vt;Zt++);if(Zt==kt.length)break;zt(Zt);continue}for(var Qt=Math.max(Zt-(Ct-(Ct>>2)),Ot-1);Zt>Qt&&kt[Zt]<mt;)Zt--;if(Dt){for(;Zt>Qt&&kt[Zt]<mt;)Zt--;for(;Zt>Qt&&kt[Zt]==dt;)Zt--}else for(;Zt>Qt&&kt[Zt]<St;)Zt--;if(Zt>Qt){zt(++Zt);continue}Zt=Ot+Ct,kt[Zt]==pt&&Zt--,zt(Zt-Ht)}return At},_t.prototype.$getDisplayTokens=function(kt,Ct){var Tt=[],At;Ct=Ct||0;for(var It=0;It<kt.length;It++){var Ot=kt.charCodeAt(It);if(Ot==9){At=this.getScreenTabSize(Tt.length+Ct),Tt.push(yt);for(var Mt=1;Mt<At;Mt++)Tt.push(gt)}else Ot==32?Tt.push(St):Ot>39&&Ot<48||Ot>57&&Ot<64?Tt.push(dt):Ot>=4352&&Et(Ot)?Tt.push(ut,pt):Tt.push(ut)}return Tt},_t.prototype.$getStringScreenWidth=function(kt,Ct,Tt){if(Ct==0)return[0,0];Ct==null&&(Ct=1/0),Tt=Tt||0;var At,It;for(It=0;It<kt.length&&(At=kt.charCodeAt(It),At==9?Tt+=this.getScreenTabSize(Tt):At>=4352&&Et(At)?Tt+=2:Tt+=1,!(Tt>Ct));It++);return[Tt,It]},_t.prototype.getRowLength=function(kt){var Ct=1;return this.lineWidgets&&(Ct+=this.lineWidgets[kt]&&this.lineWidgets[kt].rowCount||0),!this.$useWrapMode||!this.$wrapData[kt]?Ct:this.$wrapData[kt].length+Ct},_t.prototype.getRowLineCount=function(kt){return!this.$useWrapMode||!this.$wrapData[kt]?1:this.$wrapData[kt].length+1},_t.prototype.getRowWrapIndent=function(kt){if(this.$useWrapMode){var Ct=this.screenToDocumentPosition(kt,Number.MAX_VALUE),Tt=this.$wrapData[Ct.row];return Tt.length&&Tt[0]<Ct.column?Tt.indent:0}else return 0},_t.prototype.getScreenLastRowColumn=function(kt){var Ct=this.screenToDocumentPosition(kt,Number.MAX_VALUE);return this.documentToScreenColumn(Ct.row,Ct.column)},_t.prototype.getDocumentLastRowColumn=function(kt,Ct){var Tt=this.documentToScreenRow(kt,Ct);return this.getScreenLastRowColumn(Tt)},_t.prototype.getDocumentLastRowColumnPosition=function(kt,Ct){var Tt=this.documentToScreenRow(kt,Ct);return this.screenToDocumentPosition(Tt,Number.MAX_VALUE/10)},_t.prototype.getRowSplitData=function(kt){if(this.$useWrapMode)return this.$wrapData[kt]},_t.prototype.getScreenTabSize=function(kt){return this.$tabSize-(kt%this.$tabSize|0)},_t.prototype.screenToDocumentRow=function(kt,Ct){return this.screenToDocumentPosition(kt,Ct).row},_t.prototype.screenToDocumentColumn=function(kt,Ct){return this.screenToDocumentPosition(kt,Ct).column},_t.prototype.screenToDocumentPosition=function(kt,Ct,Tt){if(kt<0)return{row:0,column:0};var At,It=0,Ot=0,Mt,Dt=0,Bt=0,Kt=this.$screenRowCache,Wt=this.$getRowCacheIndex(Kt,kt),zt=Kt.length;if(zt&&Wt>=0)var Dt=Kt[Wt],It=this.$docRowCache[Wt],Ht=kt>Kt[zt-1];else var Ht=!zt;for(var Zt=this.getLength()-1,Qt=this.getNextFoldLine(It),hr=Qt?Qt.start.row:1/0;Dt<=kt&&(Bt=this.getRowLength(It),!(Dt+Bt>kt||It>=Zt));)Dt+=Bt,It++,It>hr&&(It=Qt.end.row+1,Qt=this.getNextFoldLine(It,Qt),hr=Qt?Qt.start.row:1/0),Ht&&(this.$docRowCache.push(It),this.$screenRowCache.push(Dt));if(Qt&&Qt.start.row<=It)At=this.getFoldDisplayLine(Qt),It=Qt.start.row;else{if(Dt+Bt<=kt||It>Zt)return{row:Zt,column:this.getLine(Zt).length};At=this.getLine(It),Qt=null}var fr=0,pr=Math.floor(kt-Dt);if(this.$useWrapMode){var gr=this.$wrapData[It];gr&&(Mt=gr[pr],pr>0&&gr.length&&(fr=gr.indent,Ot=gr[pr-1]||gr[gr.length-1],At=At.substring(Ot)))}return Tt!==void 0&&this.$bidiHandler.isBidiRow(Dt+pr,It,pr)&&(Ct=this.$bidiHandler.offsetToCol(Tt)),Ot+=this.$getStringScreenWidth(At,Ct-fr)[1],this.$useWrapMode&&Ot>=Mt&&(Ot=Mt-1),Qt?Qt.idxToPosition(Ot):{row:It,column:Ot}},_t.prototype.documentToScreenPosition=function(kt,Ct){if(typeof Ct>"u")var Tt=this.$clipPositionToDocument(kt.row,kt.column);else Tt=this.$clipPositionToDocument(kt,Ct);kt=Tt.row,Ct=Tt.column;var At=0,It=null,Ot=null;Ot=this.getFoldAt(kt,Ct,1),Ot&&(kt=Ot.start.row,Ct=Ot.start.column);var Mt,Dt=0,Bt=this.$docRowCache,Kt=this.$getRowCacheIndex(Bt,kt),Wt=Bt.length;if(Wt&&Kt>=0)var Dt=Bt[Kt],At=this.$screenRowCache[Kt],zt=kt>Bt[Wt-1];else var zt=!Wt;for(var Ht=this.getNextFoldLine(Dt),Zt=Ht?Ht.start.row:1/0;Dt<kt;){if(Dt>=Zt){if(Mt=Ht.end.row+1,Mt>kt)break;Ht=this.getNextFoldLine(Mt,Ht),Zt=Ht?Ht.start.row:1/0}else Mt=Dt+1;At+=this.getRowLength(Dt),Dt=Mt,zt&&(this.$docRowCache.push(Dt),this.$screenRowCache.push(At))}var Qt="";Ht&&Dt>=Zt?(Qt=this.getFoldDisplayLine(Ht,kt,Ct),It=Ht.start.row):(Qt=this.getLine(kt).substring(0,Ct),It=kt);var hr=0;if(this.$useWrapMode){var fr=this.$wrapData[It];if(fr){for(var pr=0;Qt.length>=fr[pr];)At++,pr++;Qt=Qt.substring(fr[pr-1]||0,Qt.length),hr=pr>0?fr.indent:0}}return this.lineWidgets&&this.lineWidgets[Dt]&&this.lineWidgets[Dt].rowsAbove&&(At+=this.lineWidgets[Dt].rowsAbove),{row:At,column:hr+this.$getStringScreenWidth(Qt)[0]}},_t.prototype.documentToScreenColumn=function(kt,Ct){return this.documentToScreenPosition(kt,Ct).column},_t.prototype.documentToScreenRow=function(kt,Ct){return this.documentToScreenPosition(kt,Ct).row},_t.prototype.getScreenLength=function(){var kt=0,Ct=null;if(this.$useWrapMode)for(var It=this.$wrapData.length,Ot=0,At=0,Ct=this.$foldData[At++],Mt=Ct?Ct.start.row:1/0;Ot<It;){var Dt=this.$wrapData[Ot];kt+=Dt?Dt.length+1:1,Ot++,Ot>Mt&&(Ot=Ct.end.row+1,Ct=this.$foldData[At++],Mt=Ct?Ct.start.row:1/0)}else{kt=this.getLength();for(var Tt=this.$foldData,At=0;At<Tt.length;At++)Ct=Tt[At],kt-=Ct.end.row-Ct.start.row}return this.lineWidgets&&(kt+=this.$getWidgetScreenLength()),kt},_t.prototype.$setFontMetrics=function(kt){this.$enableVarChar&&(this.$getStringScreenWidth=function(Ct,Tt,At){if(Tt===0)return[0,0];Tt||(Tt=1/0),At=At||0;var It,Ot;for(Ot=0;Ot<Ct.length&&(It=Ct.charAt(Ot),It==="	"?At+=this.getScreenTabSize(At):At+=kt.getCharacterWidth(It),!(At>Tt));Ot++);return[At,Ot]})},_t.prototype.getPrecedingCharacter=function(){var kt=this.selection.getCursor();if(kt.column===0)return kt.row===0?"":this.doc.getNewLineCharacter();var Ct=this.getLine(kt.row);return Ct[kt.column-1]},_t.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},_t}();ht.$uid=0,ht.prototype.$modes=nt.$modes,ht.prototype.getValue=ht.prototype.toString,ht.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},ht.prototype.$overwrite=!1,ht.prototype.$mode=null,ht.prototype.$modeId=null,ht.prototype.$scrollTop=0,ht.prototype.$scrollLeft=0,ht.prototype.$wrapLimit=80,ht.prototype.$useWrapMode=!1,ht.prototype.$wrapLimitRange={min:null,max:null},ht.prototype.lineWidgets=null,ht.prototype.isFullWidth=Et,et.implement(ht.prototype,it);var ut=1,pt=2,mt=3,vt=4,dt=9,St=10,yt=11,gt=12;function Et(_t){return _t<4352?!1:_t>=4352&&_t<=4447||_t>=4515&&_t<=4519||_t>=4602&&_t<=4607||_t>=9001&&_t<=9002||_t>=11904&&_t<=11929||_t>=11931&&_t<=12019||_t>=12032&&_t<=12245||_t>=12272&&_t<=12283||_t>=12288&&_t<=12350||_t>=12353&&_t<=12438||_t>=12441&&_t<=12543||_t>=12549&&_t<=12589||_t>=12593&&_t<=12686||_t>=12688&&_t<=12730||_t>=12736&&_t<=12771||_t>=12784&&_t<=12830||_t>=12832&&_t<=12871||_t>=12880&&_t<=13054||_t>=13056&&_t<=19903||_t>=19968&&_t<=42124||_t>=42128&&_t<=42182||_t>=43360&&_t<=43388||_t>=44032&&_t<=55203||_t>=55216&&_t<=55238||_t>=55243&&_t<=55291||_t>=63744&&_t<=64255||_t>=65040&&_t<=65049||_t>=65072&&_t<=65106||_t>=65108&&_t<=65126||_t>=65128&&_t<=65131||_t>=65281&&_t<=65376||_t>=65504&&_t<=65510}o("./edit_session/folding").Folding.call(ht.prototype),o("./edit_session/bracket_match").BracketMatch.call(ht.prototype),nt.defineOptions(ht.prototype,"session",{wrap:{set:function(_t){if(!_t||_t=="off"?_t=!1:_t=="free"?_t=!0:_t=="printMargin"?_t=-1:typeof _t=="string"&&(_t=parseInt(_t,10)||!1),this.$wrap!=_t)if(this.$wrap=_t,!_t)this.setUseWrapMode(!1);else{var kt=typeof _t=="number"?_t:null;this.setWrapLimitRange(kt,kt),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(_t){_t=_t=="auto"?this.$mode.type!="text":_t!="text",_t!=this.$wrapAsCode&&(this.$wrapAsCode=_t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(_t){this.$useWorker=_t,this.$stopWorker(),_t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(_t){_t=parseInt(_t),_t>0&&this.$tabSize!==_t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=_t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(_t){this.setFoldStyle(_t)},handlesSet:!0},overwrite:{set:function(_t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(_t){this.doc.setNewLineMode(_t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(_t){this.setMode(_t)},get:function(){return this.$modeId},handlesSet:!0}}),a.EditSession=ht}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(o,a,rt){var et=o("./lib/lang"),ot=o("./lib/oop"),at=o("./range").Range,nt=function(){function j(){this.$options={}}return j.prototype.set=function(_){return ot.mixin(this.$options,_),this},j.prototype.getOptions=function(){return et.copyObject(this.$options)},j.prototype.setOptions=function(_){this.$options=_},j.prototype.find=function(_){var $=this.$options,tt=this.$matchIterator(_,$);if(!tt)return!1;var st=null;return tt.forEach(function(lt,ct,ht,ut){return st=new at(lt,ct,ht,ut),ct==ut&&$.start&&$.start.start&&$.skipCurrent!=!1&&st.isEqual($.start)?(st=null,!1):!0}),st},j.prototype.findAll=function(_){var $=this.$options;if(!$.needle)return[];this.$assembleRegExp($);var tt=$.range,st=tt?_.getLines(tt.start.row,tt.end.row):_.doc.getAllLines(),lt=[],ct=$.re;if($.$isMultiLine){var ht=ct.length,ut=st.length-ht,pt;e:for(var mt=ct.offset||0;mt<=ut;mt++){for(var vt=0;vt<ht;vt++)if(st[mt+vt].search(ct[vt])==-1)continue e;var dt=st[mt],St=st[mt+ht-1],yt=dt.length-dt.match(ct[0])[0].length,gt=St.match(ct[ht-1])[0].length;pt&&pt.end.row===mt&&pt.end.column>yt||(lt.push(pt=new at(mt,yt,mt+ht-1,gt)),ht>2&&(mt=mt+ht-2))}}else for(var Et=0;Et<st.length;Et++)for(var _t=et.getMatchOffsets(st[Et],ct),vt=0;vt<_t.length;vt++){var kt=_t[vt];lt.push(new at(Et,kt.offset,Et,kt.offset+kt.length))}if(tt){for(var Ct=tt.start.column,Tt=tt.end.column,Et=0,vt=lt.length-1;Et<vt&&lt[Et].start.column<Ct&&lt[Et].start.row==0;)Et++;for(var At=tt.end.row-tt.start.row;Et<vt&&lt[vt].end.column>Tt&&lt[vt].end.row==At;)vt--;for(lt=lt.slice(Et,vt+1),Et=0,vt=lt.length;Et<vt;Et++)lt[Et].start.row+=tt.start.row,lt[Et].end.row+=tt.start.row}return lt},j.prototype.replace=function(_,$){var tt=this.$options,st=this.$assembleRegExp(tt);if(tt.$isMultiLine)return $;if(st){var lt=st.exec(_);if(!lt||lt[0].length!=_.length)return null;if(tt.regExp||($=$.replace(/\$/g,"$$$$")),$=_.replace(st,$),tt.preserveCase){$=$.split("");for(var ct=Math.min(_.length,_.length);ct--;){var ht=_[ct];ht&&ht.toLowerCase()!=ht?$[ct]=$[ct].toUpperCase():$[ct]=$[ct].toLowerCase()}$=$.join("")}return $}},j.prototype.$assembleRegExp=function(_,$){if(_.needle instanceof RegExp)return _.re=_.needle;var tt=_.needle;if(!_.needle)return _.re=!1;_.regExp||(tt=et.escapeRegExp(tt));var st=_.caseSensitive?"gm":"gmi";try{new RegExp(tt,"u"),_.$supportsUnicodeFlag=!0,st+="u"}catch{_.$supportsUnicodeFlag=!1}if(_.wholeWord&&(tt=it(tt,_)),_.$isMultiLine=!$&&/[\n\r]/.test(tt),_.$isMultiLine)return _.re=this.$assembleMultilineRegExp(tt,st);try{var lt=new RegExp(tt,st)}catch{lt=!1}return _.re=lt},j.prototype.$assembleMultilineRegExp=function(_,$){for(var tt=_.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),st=[],lt=0;lt<tt.length;lt++)try{st.push(new RegExp(tt[lt],$))}catch{return!1}return st},j.prototype.$matchIterator=function(_,$){var tt=this.$assembleRegExp($);if(!tt)return!1;var st=$.backwards==!0,lt=$.skipCurrent!=!1,ct=tt.unicode,ht=$.range,ut=$.start;ut||(ut=ht?ht[st?"end":"start"]:_.selection.getRange()),ut.start&&(ut=ut[lt!=st?"end":"start"]);var pt=ht?ht.start.row:0,mt=ht?ht.end.row:_.getLength()-1;if(st)var vt=function(yt){var gt=ut.row;if(!St(gt,ut.column,yt)){for(gt--;gt>=pt;gt--)if(St(gt,Number.MAX_VALUE,yt))return;if($.wrap!=!1){for(gt=mt,pt=ut.row;gt>=pt;gt--)if(St(gt,Number.MAX_VALUE,yt))return}}};else var vt=function(gt){var Et=ut.row;if(!St(Et,ut.column,gt)){for(Et=Et+1;Et<=mt;Et++)if(St(Et,0,gt))return;if($.wrap!=!1){for(Et=pt,mt=ut.row;Et<=mt;Et++)if(St(Et,0,gt))return}}};if($.$isMultiLine)var dt=tt.length,St=function(yt,gt,Et){var _t=st?yt-dt+1:yt;if(!(_t<0||_t+dt>_.getLength())){var kt=_.getLine(_t),Ct=kt.search(tt[0]);if(!(!st&&Ct<gt||Ct===-1)){for(var Tt=1;Tt<dt;Tt++)if(kt=_.getLine(_t+Tt),kt.search(tt[Tt])==-1)return;var At=kt.match(tt[dt-1])[0].length;if(!(st&&At>gt)&&Et(_t,Ct,_t+dt-1,At))return!0}}};else if(st)var St=function(gt,Et,_t){var kt=_.getLine(gt),Ct=[],Tt,At=0;for(tt.lastIndex=0;Tt=tt.exec(kt);){var It=Tt[0].length;if(At=Tt.index,!It){if(At>=kt.length)break;tt.lastIndex=At+=et.skipEmptyMatch(kt,At,ct)}if(Tt.index+It>Et)break;Ct.push(Tt.index,It)}for(var Ot=Ct.length-1;Ot>=0;Ot-=2){var Mt=Ct[Ot-1],It=Ct[Ot];if(_t(gt,Mt,gt,Mt+It))return!0}};else var St=function(gt,Et,_t){var kt=_.getLine(gt),Ct,Tt;for(tt.lastIndex=Et;Tt=tt.exec(kt);){var At=Tt[0].length;if(Ct=Tt.index,_t(gt,Ct,gt,Ct+At))return!0;if(!At&&(tt.lastIndex=Ct+=et.skipEmptyMatch(kt,Ct,ct),Ct>=kt.length))return!1}};return{forEach:vt}},j}();function it(j,_){var $=et.supportsLookbehind();function tt(ht,ut){ut===void 0&&(ut=!0);var pt=$&&_.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return pt.test(ht)||_.regExp?$&&_.$supportsUnicodeFlag?ut?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var st=Array.from(j),lt=st[0],ct=st[st.length-1];return tt(lt)+j+tt(ct,!1)}a.Search=nt}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(o,a,rt){var et=this&&this.__extends||function(){var $=function(tt,st){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ct){lt.__proto__=ct}||function(lt,ct){for(var ht in ct)Object.prototype.hasOwnProperty.call(ct,ht)&&(lt[ht]=ct[ht])},$(tt,st)};return function(tt,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");$(tt,st);function lt(){this.constructor=tt}tt.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}(),ot=o("../lib/keys"),at=o("../lib/useragent"),nt=ot.KEY_MODS,it=function(){function $(tt,st){this.$init(tt,st,!1)}return $.prototype.$init=function(tt,st,lt){this.platform=st||(at.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(tt),this.$singleCommand=lt},$.prototype.addCommand=function(tt){this.commands[tt.name]&&this.removeCommand(tt),this.commands[tt.name]=tt,tt.bindKey&&this._buildKeyHash(tt)},$.prototype.removeCommand=function(tt,st){var lt=tt&&(typeof tt=="string"?tt:tt.name);tt=this.commands[lt],st||delete this.commands[lt];var ct=this.commandKeyBinding;for(var ht in ct){var ut=ct[ht];if(ut==tt)delete ct[ht];else if(Array.isArray(ut)){var pt=ut.indexOf(tt);pt!=-1&&(ut.splice(pt,1),ut.length==1&&(ct[ht]=ut[0]))}}},$.prototype.bindKey=function(tt,st,lt){if(typeof tt=="object"&&tt&&(lt==null&&(lt=tt.position),tt=tt[this.platform]),!!tt){if(typeof st=="function")return this.addCommand({exec:st,bindKey:tt,name:st.name||tt});tt.split("|").forEach(function(ct){var ht="";if(ct.indexOf(" ")!=-1){var ut=ct.split(/\s+/);ct=ut.pop(),ut.forEach(function(vt){var dt=this.parseKeys(vt),St=nt[dt.hashId]+dt.key;ht+=(ht?" ":"")+St,this._addCommandToBinding(ht,"chainKeys")},this),ht+=" "}var pt=this.parseKeys(ct),mt=nt[pt.hashId]+pt.key;this._addCommandToBinding(ht+mt,st,lt)},this)}},$.prototype._addCommandToBinding=function(tt,st,lt){var ct=this.commandKeyBinding,ht;if(!st)delete ct[tt];else if(!ct[tt]||this.$singleCommand)ct[tt]=st;else{Array.isArray(ct[tt])?(ht=ct[tt].indexOf(st))!=-1&&ct[tt].splice(ht,1):ct[tt]=[ct[tt]],typeof lt!="number"&&(lt=j(st));var ut=ct[tt];for(ht=0;ht<ut.length;ht++){var pt=ut[ht],mt=j(pt);if(mt>lt)break}ut.splice(ht,0,st)}},$.prototype.addCommands=function(tt){tt&&Object.keys(tt).forEach(function(st){var lt=tt[st];if(lt){if(typeof lt=="string")return this.bindKey(lt,st);typeof lt=="function"&&(lt={exec:lt}),typeof lt=="object"&&(lt.name||(lt.name=st),this.addCommand(lt))}},this)},$.prototype.removeCommands=function(tt){Object.keys(tt).forEach(function(st){this.removeCommand(tt[st])},this)},$.prototype.bindKeys=function(tt){Object.keys(tt).forEach(function(st){this.bindKey(st,tt[st])},this)},$.prototype._buildKeyHash=function(tt){this.bindKey(tt.bindKey,tt)},$.prototype.parseKeys=function(tt){var st=tt.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(mt){return mt}),lt=st.pop(),ct=ot[lt];if(ot.FUNCTION_KEYS[ct])lt=ot.FUNCTION_KEYS[ct].toLowerCase();else if(st.length){if(st.length==1&&st[0]=="shift")return{key:lt.toUpperCase(),hashId:-1}}else return{key:lt,hashId:-1};for(var ht=0,ut=st.length;ut--;){var pt=ot.KEY_MODS[st[ut]];if(pt==null)return typeof console<"u"&&console.error("invalid modifier "+st[ut]+" in "+tt),!1;ht|=pt}return{key:lt,hashId:ht}},$.prototype.findKeyCommand=function(tt,st){var lt=nt[tt]+st;return this.commandKeyBinding[lt]},$.prototype.handleKeyboard=function(tt,st,lt,ct){if(!(ct<0)){var ht=nt[st]+lt,ut=this.commandKeyBinding[ht];return tt.$keyChain&&(tt.$keyChain+=" "+ht,ut=this.commandKeyBinding[tt.$keyChain]||ut),ut&&(ut=="chainKeys"||ut[ut.length-1]=="chainKeys")?(tt.$keyChain=tt.$keyChain||ht,{command:"null"}):(tt.$keyChain&&((!st||st==4)&&lt.length==1?tt.$keyChain=tt.$keyChain.slice(0,-ht.length-1):(st==-1||ct>0)&&(tt.$keyChain="")),{command:ut})}},$.prototype.getStatusText=function(tt,st){return st.$keyChain||""},$}();function j($){return typeof $=="object"&&$.bindKey&&$.bindKey.position||($.isDefault?-100:0)}var _=function($){et(tt,$);function tt(st,lt){var ct=$.call(this,st,lt)||this;return ct.$singleCommand=!0,ct}return tt}(it);_.call=function($,tt,st){it.prototype.$init.call($,tt,st,!0)},it.call=function($,tt,st){it.prototype.$init.call($,tt,st,!1)},a.HashHandler=_,a.MultiHashHandler=it}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(o,a,rt){var et=this&&this.__extends||function(){var j=function(_,$){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,st){tt.__proto__=st}||function(tt,st){for(var lt in st)Object.prototype.hasOwnProperty.call(st,lt)&&(tt[lt]=st[lt])},j(_,$)};return function(_,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");j(_,$);function tt(){this.constructor=_}_.prototype=$===null?Object.create($):(tt.prototype=$.prototype,new tt)}}(),ot=o("../lib/oop"),at=o("../keyboard/hash_handler").MultiHashHandler,nt=o("../lib/event_emitter").EventEmitter,it=function(j){et(_,j);function _($,tt){var st=j.call(this,tt,$)||this;return st.byName=st.commands,st.setDefaultHandler("exec",function(lt){return lt.args?lt.command.exec(lt.editor,lt.args,lt.event,!1):lt.command.exec(lt.editor,{},lt.event,!0)}),st}return _.prototype.exec=function($,tt,st){if(Array.isArray($)){for(var lt=$.length;lt--;)if(this.exec($[lt],tt,st))return!0;return!1}if(typeof $=="string"&&($=this.commands[$]),!this.canExecute($,tt))return!1;var ct={editor:tt,command:$,args:st};return ct.returnValue=this._emit("exec",ct),this._signal("afterExec",ct),ct.returnValue!==!1},_.prototype.canExecute=function($,tt){return typeof $=="string"&&($=this.commands[$]),!(!$||tt&&tt.$readOnly&&!$.readOnly||this.$checkCommandState!=!1&&$.isAvailable&&!$.isAvailable(tt))},_.prototype.toggleRecording=function($){if(!this.$inReplay)return $&&$._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(tt){this.macro.push([tt.command,tt.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},_.prototype.replay=function($){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording($);try{this.$inReplay=!0,this.macro.forEach(function(tt){typeof tt=="string"?this.exec(tt,$):this.exec(tt[0],$,tt[1])},this)}finally{this.$inReplay=!1}}},_.prototype.trimMacro=function($){return $.map(function(tt){return typeof tt[0]!="string"&&(tt[0]=tt[0].name),tt[1]||(tt=tt[0]),tt})},_}(at);ot.implement(it.prototype,nt),a.CommandManager=it}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(o,a,rt){var et=o("../lib/lang"),ot=o("../config"),at=o("../range").Range;function nt(j,_){return{win:j,mac:_}}a.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:nt("Ctrl-,","Command-,"),exec:function(j){ot.loadModule("ace/ext/settings_menu",function(_){_.init(j),j.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:nt("Alt-E","F4"),exec:function(j){ot.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:nt("Alt-Shift-E","Shift-F4"),exec:function(j){ot.loadModule("ace/ext/error_marker",function(_){_.showErrorMarker(j,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:nt("Ctrl-A","Command-A"),exec:function(j){j.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:nt(null,"Ctrl-L"),exec:function(j){j.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:nt("Ctrl-L","Command-L"),exec:function(j,_){typeof _=="number"&&!isNaN(_)&&j.gotoLine(_),j.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:nt("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(j){j.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:nt("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(j){j.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:nt("F2","F2"),exec:function(j){j.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:nt("Alt-F2","Alt-F2"),exec:function(j){j.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:nt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:nt(null,"Ctrl-Command-Option-0"),exec:function(j){j.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:nt("Alt-0","Command-Option-0"),exec:function(j){j.session.foldAll(),j.session.unfold(j.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:nt("Alt-Shift-0","Command-Option-Shift-0"),exec:function(j){j.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:nt("Ctrl-K","Command-G"),exec:function(j){j.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:nt("Ctrl-Shift-K","Command-Shift-G"),exec:function(j){j.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:nt("Alt-K","Ctrl-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:nt("Alt-Shift-K","Ctrl-Shift-G"),exec:function(j){j.selection.isEmpty()?j.selection.selectWord():j.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:nt("Ctrl-F","Command-F"),exec:function(j){ot.loadModule("ace/ext/searchbox",function(_){_.Search(j)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(j){j.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:nt("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(j){j.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:nt("Ctrl-Home","Command-Home|Command-Up"),exec:function(j){j.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:nt("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(j){j.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:nt("Up","Up|Ctrl-P"),exec:function(j,_){j.navigateUp(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:nt("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(j){j.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:nt("Ctrl-End","Command-End|Command-Down"),exec:function(j){j.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:nt("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(j){j.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:nt("Down","Down|Ctrl-N"),exec:function(j,_){j.navigateDown(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:nt("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(j){j.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:nt("Ctrl-Left","Option-Left"),exec:function(j){j.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:nt("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:nt("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(j){j.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:nt("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(j){j.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:nt("Left","Left|Ctrl-B"),exec:function(j,_){j.navigateLeft(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:nt("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(j){j.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:nt("Ctrl-Right","Option-Right"),exec:function(j){j.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:nt("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:nt("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(j){j.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:nt("Shift-Right","Shift-Right"),exec:function(j){j.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:nt("Right","Right|Ctrl-F"),exec:function(j,_){j.navigateRight(_.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(j){j.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:nt(null,"Option-PageDown"),exec:function(j){j.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:nt("PageDown","PageDown|Ctrl-V"),exec:function(j){j.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(j){j.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:nt(null,"Option-PageUp"),exec:function(j){j.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(j){j.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:nt("Ctrl-Up",null),exec:function(j){j.renderer.scrollBy(0,-2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:nt("Ctrl-Down",null),exec:function(j){j.renderer.scrollBy(0,2*j.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(j){j.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(j){j.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:nt("Ctrl-Alt-E","Command-Option-E"),exec:function(j){j.commands.toggleRecording(j)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:nt("Ctrl-Shift-E","Command-Shift-E"),exec:function(j){j.commands.replay(j)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:nt("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(j){j.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:nt("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(j){j.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:nt("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(j){j.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:nt(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(j){},readOnly:!0},{name:"cut",description:"Cut",exec:function(j){var _=j.$copyWithEmptySelection&&j.selection.isEmpty(),$=_?j.selection.getLineRange():j.selection.getRange();j._emit("cut",$),$.isEmpty()||j.session.remove($),j.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(j,_){j.$handlePaste(_)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:nt("Ctrl-D","Command-D"),exec:function(j){j.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:nt("Ctrl-Shift-D","Command-Shift-D"),exec:function(j){j.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:nt("Ctrl-Alt-S","Command-Alt-S"),exec:function(j){j.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:nt("Ctrl-/","Command-/"),exec:function(j){j.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:nt("Ctrl-Shift-/","Command-Shift-/"),exec:function(j){j.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:nt("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(j){j.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:nt("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(j){j.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:nt("Ctrl-H","Command-Option-F"),exec:function(j){ot.loadModule("ace/ext/searchbox",function(_){_.Search(j,!0)})}},{name:"undo",description:"Undo",bindKey:nt("Ctrl-Z","Command-Z"),exec:function(j){j.undo()}},{name:"redo",description:"Redo",bindKey:nt("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(j){j.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:nt("Alt-Shift-Up","Command-Option-Up"),exec:function(j){j.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:nt("Alt-Up","Option-Up"),exec:function(j){j.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:nt("Alt-Shift-Down","Command-Option-Down"),exec:function(j){j.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:nt("Alt-Down","Option-Down"),exec:function(j){j.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:nt("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(j){j.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:nt("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(j){j.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:nt("Shift-Delete",null),exec:function(j){if(j.selection.isEmpty())j.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:nt("Alt-Backspace","Command-Backspace"),exec:function(j){j.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:nt("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(j){j.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:nt("Ctrl-Shift-Backspace",null),exec:function(j){var _=j.selection.getRange();_.start.column=0,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:nt("Ctrl-Shift-Delete",null),exec:function(j){var _=j.selection.getRange();_.end.column=Number.MAX_VALUE,j.session.remove(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:nt("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(j){j.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:nt("Ctrl-Delete","Alt-Delete"),exec:function(j){j.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:nt("Shift-Tab","Shift-Tab"),exec:function(j){j.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:nt("Tab","Tab"),exec:function(j){j.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:nt("Ctrl-[","Ctrl-["),exec:function(j){j.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:nt("Ctrl-]","Ctrl-]"),exec:function(j){j.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(j,_){j.insert(_)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(j,_){j.insert(et.stringRepeat(_.text||"",_.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:nt(null,"Ctrl-O"),exec:function(j){j.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:nt("Alt-Shift-X","Ctrl-T"),exec:function(j){j.transposeLetters()},multiSelectAction:function(j){j.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:nt("Ctrl-U","Ctrl-U"),exec:function(j){j.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:nt("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(j){j.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:nt(null,null),exec:function(j){j.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:nt("Ctrl-Shift-L","Command-Shift-L"),exec:function(j){var _=j.selection.getRange();_.start.column=_.end.column=0,_.end.row++,j.selection.setRange(_,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:nt("Ctrl+F3","F3"),exec:function(j){j.openLink()}},{name:"joinlines",description:"Join lines",bindKey:nt(null,null),exec:function(j){for(var _=j.selection.isBackwards(),$=_?j.selection.getSelectionLead():j.selection.getSelectionAnchor(),tt=_?j.selection.getSelectionAnchor():j.selection.getSelectionLead(),st=j.session.doc.getLine($.row).length,lt=j.session.doc.getTextRange(j.selection.getRange()),ct=lt.replace(/\n\s*/," ").length,ht=j.session.doc.getLine($.row),ut=$.row+1;ut<=tt.row+1;ut++){var pt=et.stringTrimLeft(et.stringTrimRight(j.session.doc.getLine(ut)));pt.length!==0&&(pt=" "+pt),ht+=pt}tt.row+1<j.session.doc.getLength()-1&&(ht+=j.session.doc.getNewLineCharacter()),j.clearSelection(),j.session.doc.replace(new at($.row,0,tt.row+2,0),ht),ct>0?(j.selection.moveCursorTo($.row,$.column),j.selection.selectTo($.row,$.column+ct)):(st=j.session.doc.getLine($.row).length>st?st+1:st,j.selection.moveCursorTo($.row,st))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:nt(null,null),exec:function(j){var _=j.session.doc.getLength()-1,$=j.session.doc.getLine(_).length,tt=j.selection.rangeList.ranges,st=[];tt.length<1&&(tt=[j.selection.getRange()]);for(var lt=0;lt<tt.length;lt++)lt==tt.length-1&&(tt[lt].end.row===_&&tt[lt].end.column===$||st.push(new at(tt[lt].end.row,tt[lt].end.column,_,$))),lt===0?tt[lt].start.row===0&&tt[lt].start.column===0||st.push(new at(0,0,tt[lt].start.row,tt[lt].start.column)):st.push(new at(tt[lt-1].end.row,tt[lt-1].end.column,tt[lt].start.row,tt[lt].start.column));j.exitMultiSelectMode(),j.clearSelection();for(var lt=0;lt<st.length;lt++)j.selection.addRange(st[lt],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(j){j.selection.clearSelection(),j.navigateLineEnd(),j.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(j){j.selection.clearSelection();var _=j.getCursorPosition();j.selection.moveTo(_.row-1,Number.MAX_VALUE),j.insert(`
`),_.row===0&&j.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(j){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),j.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:nt("F1","F1"),exec:function(j){j.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:nt(null,null),exec:function(j){j.prompt({$type:"modes"})},readOnly:!0}];for(var it=1;it<9;it++)a.commands.push({name:"foldToLevel"+it,description:"Fold To Level "+it,level:it,exec:function(j){j.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(o,a,rt){var et=o("./lib/dom"),ot=function(){function at(nt){this.session=nt,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return at.prototype.getRowLength=function(nt){var it;return this.lineWidgets?it=this.lineWidgets[nt]&&this.lineWidgets[nt].rowCount||0:it=0,!this.$useWrapMode||!this.$wrapData[nt]?1+it:this.$wrapData[nt].length+1+it},at.prototype.$getWidgetScreenLength=function(){var nt=0;return this.lineWidgets.forEach(function(it){it&&it.rowCount&&!it.hidden&&(nt+=it.rowCount)}),nt},at.prototype.$onChangeEditor=function(nt){this.attach(nt.editor)},at.prototype.attach=function(nt){nt&&nt.widgetManager&&nt.widgetManager!=this&&nt.widgetManager.detach(),this.editor!=nt&&(this.detach(),this.editor=nt,nt&&(nt.widgetManager=this,nt.renderer.on("beforeRender",this.measureWidgets),nt.renderer.on("afterRender",this.renderWidgets)))},at.prototype.detach=function(nt){var it=this.editor;if(it){this.editor=null,it.widgetManager=null,it.renderer.off("beforeRender",this.measureWidgets),it.renderer.off("afterRender",this.renderWidgets);var j=this.session.lineWidgets;j&&j.forEach(function(_){_&&_.el&&_.el.parentNode&&(_._inDocument=!1,_.el.parentNode.removeChild(_.el))})}},at.prototype.updateOnFold=function(nt,it){var j=it.lineWidgets;if(!(!j||!nt.action)){for(var _=nt.data,$=_.start.row,tt=_.end.row,st=nt.action=="add",lt=$+1;lt<tt;lt++)j[lt]&&(j[lt].hidden=st);j[tt]&&(st?j[$]?j[tt].hidden=st:j[$]=j[tt]:(j[$]==j[tt]&&(j[$]=void 0),j[tt].hidden=st))}},at.prototype.updateOnChange=function(nt){var it=this.session.lineWidgets;if(it){var j=nt.start.row,_=nt.end.row-j;if(_!==0)if(nt.action=="remove"){var $=it.splice(j+1,_);!it[j]&&$[$.length-1]&&(it[j]=$.pop()),$.forEach(function(st){st&&this.removeLineWidget(st)},this),this.$updateRows()}else{var tt=new Array(_);it[j]&&it[j].column!=null&&nt.start.column>it[j].column&&j++,tt.unshift(j,0),it.splice.apply(it,tt),this.$updateRows()}}},at.prototype.$updateRows=function(){var nt=this.session.lineWidgets;if(nt){var it=!0;nt.forEach(function(j,_){if(j)for(it=!1,j.row=_;j.$oldWidget;)j.$oldWidget.row=_,j=j.$oldWidget}),it&&(this.session.lineWidgets=null)}},at.prototype.$registerLineWidget=function(nt){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var it=this.session.lineWidgets[nt.row];return it&&(nt.$oldWidget=it,it.el&&it.el.parentNode&&(it.el.parentNode.removeChild(it.el),it._inDocument=!1)),this.session.lineWidgets[nt.row]=nt,nt},at.prototype.addLineWidget=function(nt){if(this.$registerLineWidget(nt),nt.session=this.session,!this.editor)return nt;var it=this.editor.renderer;nt.html&&!nt.el&&(nt.el=et.createElement("div"),nt.el.innerHTML=nt.html),nt.text&&!nt.el&&(nt.el=et.createElement("div"),nt.el.textContent=nt.text),nt.el&&(et.addCssClass(nt.el,"ace_lineWidgetContainer"),nt.className&&et.addCssClass(nt.el,nt.className),nt.el.style.position="absolute",nt.el.style.zIndex="5",it.container.appendChild(nt.el),nt._inDocument=!0,nt.coverGutter||(nt.el.style.zIndex="3"),nt.pixelHeight==null&&(nt.pixelHeight=nt.el.offsetHeight)),nt.rowCount==null&&(nt.rowCount=nt.pixelHeight/it.layerConfig.lineHeight);var j=this.session.getFoldAt(nt.row,0);if(nt.$fold=j,j){var _=this.session.lineWidgets;nt.row==j.end.row&&!_[j.start.row]?_[j.start.row]=nt:nt.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:nt.row}}}),this.$updateRows(),this.renderWidgets(null,it),this.onWidgetChanged(nt),nt},at.prototype.removeLineWidget=function(nt){if(nt._inDocument=!1,nt.session=null,nt.el&&nt.el.parentNode&&nt.el.parentNode.removeChild(nt.el),nt.editor&&nt.editor.destroy)try{nt.editor.destroy()}catch{}if(this.session.lineWidgets){var it=this.session.lineWidgets[nt.row];if(it==nt)this.session.lineWidgets[nt.row]=nt.$oldWidget,nt.$oldWidget&&this.onWidgetChanged(nt.$oldWidget);else for(;it;){if(it.$oldWidget==nt){it.$oldWidget=nt.$oldWidget;break}it=it.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:nt.row}}}),this.$updateRows()},at.prototype.getWidgetsAtRow=function(nt){for(var it=this.session.lineWidgets,j=it&&it[nt],_=[];j;)_.push(j),j=j.$oldWidget;return _},at.prototype.onWidgetChanged=function(nt){this.session._changedWidgets.push(nt),this.editor&&this.editor.renderer.updateFull()},at.prototype.measureWidgets=function(nt,it){var j=this.session._changedWidgets,_=it.layerConfig;if(!(!j||!j.length)){for(var $=1/0,tt=0;tt<j.length;tt++){var st=j[tt];if(!(!st||!st.el)&&st.session==this.session){if(!st._inDocument){if(this.session.lineWidgets[st.row]!=st)continue;st._inDocument=!0,it.container.appendChild(st.el)}st.h=st.el.offsetHeight,st.fixedWidth||(st.w=st.el.offsetWidth,st.screenWidth=Math.ceil(st.w/_.characterWidth));var lt=st.h/_.lineHeight;st.coverLine&&(lt-=this.session.getRowLineCount(st.row),lt<0&&(lt=0)),st.rowCount!=lt&&(st.rowCount=lt,st.row<$&&($=st.row))}}$!=1/0&&(this.session._emit("changeFold",{data:{start:{row:$}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},at.prototype.renderWidgets=function(nt,it){var j=it.layerConfig,_=this.session.lineWidgets;if(_){for(var $=Math.min(this.firstRow,j.firstRow),tt=Math.max(this.lastRow,j.lastRow,_.length);$>0&&!_[$];)$--;this.firstRow=j.firstRow,this.lastRow=j.lastRow,it.$cursorLayer.config=j;for(var st=$;st<=tt;st++){var lt=_[st];if(!(!lt||!lt.el)){if(lt.hidden){lt.el.style.top=-100-(lt.pixelHeight||0)+"px";continue}lt._inDocument||(lt._inDocument=!0,it.container.appendChild(lt.el));var ct=it.$cursorLayer.getPixelPosition({row:st,column:0},!0).top;lt.coverLine||(ct+=j.lineHeight*this.session.getRowLineCount(lt.row)),lt.el.style.top=ct-j.offset+"px";var ht=lt.coverGutter?0:it.gutterWidth;lt.fixedWidth||(ht-=it.scrollLeft),lt.el.style.left=ht+"px",lt.fullWidth&&lt.screenWidth&&(lt.el.style.minWidth=j.width+2*j.padding+"px"),lt.fixedWidth?lt.el.style.right=it.scrollBar.getWidth()+"px":lt.el.style.right=""}}}},at}();a.LineWidgets=ot}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(o,a,rt){var et=o("../lib/keys"),ot=o("../mouse/default_gutter_handler").GutterTooltip,at=function(){function it(j){this.editor=j,this.gutterLayer=j.renderer.$gutterLayer,this.element=j.renderer.$gutter,this.lines=j.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new ot(this.editor)}return it.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},it.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},it.prototype.$onGutterKeyDown=function(j){if(this.annotationTooltip.isOpen){j.preventDefault(),j.keyCode===et.escape&&this.annotationTooltip.hideTooltip();return}if(j.target===this.element){if(j.keyCode!=et.enter)return;j.preventDefault();var _=this.editor.getCursorPosition().row;this.editor.isRowVisible(_)||this.editor.scrollToLine(_,!0,!0),setTimeout((function(){var $=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),tt=this.$findNearestFoldWidget($),st=this.$findNearestAnnotation($);if(!(tt===null&&st===null)){if(tt===null&&st!==null){this.activeRowIndex=st,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(tt!==null&&st===null){this.activeRowIndex=tt,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(st-$)<Math.abs(tt-$)){this.activeRowIndex=st,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=tt,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(j),setTimeout((function(){this.editor._signal("gutterkeydown",new nt(j,this))}).bind(this),10)},it.prototype.$handleGutterKeyboardInteraction=function(j){if(j.keyCode===et.tab){j.preventDefault();return}if(j.keyCode===et.escape){j.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(j.keyCode===et.up){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(j.keyCode===et.down){switch(j.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(j.keyCode===et.left){j.preventDefault(),this.$switchLane("annotation");return}if(j.keyCode===et.right){j.preventDefault(),this.$switchLane("fold");return}if(j.keyCode===et.enter||j.keyCode===et.space){switch(j.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var _=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),j),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==_&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(_),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var $=this.lines.cells[this.activeRowIndex].element.childNodes[2],tt=$.getBoundingClientRect(),st=this.annotationTooltip.getElement().style;st.left=tt.right+"px",st.top=tt.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},it.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},it.prototype.$isFoldWidgetVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getFoldWidget(j).style.display!=="none";return _&&$},it.prototype.$isAnnotationVisible=function(j){var _=this.editor.isRowFullyVisible(this.$rowIndexToRow(j)),$=this.$getAnnotation(j).style.display!=="none";return _&&$},it.prototype.$getFoldWidget=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[1]},it.prototype.$getAnnotation=function(j){var _=this.lines.get(j),$=_.element;return $.childNodes[2]},it.prototype.$findNearestFoldWidget=function(j){if(this.$isFoldWidgetVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isFoldWidgetVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(j+_))return j+_}return null},it.prototype.$findNearestAnnotation=function(j){if(this.$isAnnotationVisible(j))return j;for(var _=0;j-_>0||j+_<this.lines.getLength()-1;){if(_++,j-_>=0&&this.$isAnnotationVisible(j-_))return j-_;if(j+_<=this.lines.getLength()-1&&this.$isAnnotationVisible(j+_))return j+_}return null},it.prototype.$focusFoldWidget=function(j){if(j!=null){var _=this.$getFoldWidget(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$focusAnnotation=function(j){if(j!=null){var _=this.$getAnnotation(j);_.classList.add(this.editor.renderer.keyboardFocusClassName),_.focus()}},it.prototype.$blurFoldWidget=function(j){var _=this.$getFoldWidget(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$blurAnnotation=function(j){var _=this.$getAnnotation(j);_.classList.remove(this.editor.renderer.keyboardFocusClassName),_.blur()},it.prototype.$moveFoldWidgetUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveFoldWidgetDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isFoldWidgetVisible(j)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=j,this.$focusFoldWidget(this.activeRowIndex);return}},it.prototype.$moveAnnotationUp=function(){for(var j=this.activeRowIndex;j>0;)if(j--,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$moveAnnotationDown=function(){for(var j=this.activeRowIndex;j<this.lines.getLength()-1;)if(j++,this.$isAnnotationVisible(j)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=j,this.$focusAnnotation(this.activeRowIndex);return}},it.prototype.$switchLane=function(j){switch(j){case"annotation":if(this.activeLane==="annotation")break;var _=this.$findNearestAnnotation(this.activeRowIndex);if(_==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=_,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var $=this.$findNearestFoldWidget(this.activeRowIndex);if($==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=$,this.$focusFoldWidget(this.activeRowIndex);break}},it.prototype.$rowIndexToRow=function(j){var _=this.lines.get(j);return _?_.row:null},it.prototype.$rowToRowIndex=function(j){for(var _=0;_<this.lines.getLength();_++){var $=this.lines.get(_);if($.row==j)return _}return null},it}();a.GutterKeyboardHandler=at;var nt=function(){function it(j,_){this.gutterKeyboardHandler=_,this.domEvent=j}return it.prototype.getKey=function(){return et.keyCodeToString(this.domEvent.keyCode)},it.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},it.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},it.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},it}();a.GutterKeyboardEvent=nt}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(o,a,rt){var et=this&&this.__values||function(Ct){var Tt=typeof Symbol=="function"&&Symbol.iterator,At=Tt&&Ct[Tt],It=0;if(At)return At.call(Ct);if(Ct&&typeof Ct.length=="number")return{next:function(){return Ct&&It>=Ct.length&&(Ct=void 0),{value:Ct&&Ct[It++],done:!Ct}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=o("./lib/oop"),at=o("./lib/dom"),nt=o("./lib/lang"),it=o("./lib/useragent"),j=o("./keyboard/textinput").TextInput,_=o("./mouse/mouse_handler").MouseHandler,$=o("./mouse/fold_handler").FoldHandler,tt=o("./keyboard/keybinding").KeyBinding,st=o("./edit_session").EditSession,lt=o("./search").Search,ct=o("./range").Range,ht=o("./lib/event_emitter").EventEmitter,ut=o("./commands/command_manager").CommandManager,pt=o("./commands/default_commands").commands,mt=o("./config"),vt=o("./token_iterator").TokenIterator,dt=o("./line_widgets").LineWidgets,St=o("./keyboard/gutter_handler").GutterKeyboardHandler,yt=o("./config").nls,gt=o("./clipboard"),Et=o("./lib/keys"),_t=function(){function Ct(Tt,At,It){this.session,this.$toDestroy=[];var Ot=Tt.getContainerElement();this.container=Ot,this.renderer=Tt,this.id="editor"+ ++Ct.$uid,this.commands=new ut(it.isMac?"mac":"win",pt),typeof document=="object"&&(this.textInput=new j(Tt.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new _(this),new $(this)),this.keyBinding=new tt(this),this.$search=new lt().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=nt.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(Mt,Dt){Dt._$emitInputEvent.schedule(31)}),this.setSession(At||It&&It.session||new st("")),mt.resetOptions(this),It&&this.setOptions(It),mt._signal("editor",this)}return Ct.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=nt.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},Ct.prototype.startOperation=function(Tt){if(this.curOp){if(!Tt||this.curOp.command)return;this.prevOp=this.curOp}Tt||(this.previousCommand=null,Tt={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:Tt.command||{},args:Tt.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},Ct.prototype.endOperation=function(Tt){if(this.curOp&&this.session){if(Tt&&Tt.returnValue===!1||!this.session)return this.curOp=null;if(Tt==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var At=this.curOp.command,It=At&&At.scrollIntoView;if(It){switch(It){case"center-animate":It="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var Ot=this.selection.getRange(),Mt=this.renderer.layerConfig;(Ot.start.row>=Mt.lastRow||Ot.end.row<=Mt.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}It=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var Dt=this.selection.toJSON();this.curOp.selectionAfter=Dt,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(Dt),this.prevOp=this.curOp,this.curOp=null}},Ct.prototype.$historyTracker=function(Tt){if(this.$mergeUndoDeltas){var At=this.prevOp,It=this.$mergeableCommands,Ot=At.command&&Tt.command.name==At.command.name;if(Tt.command.name=="insertstring"){var Mt=Tt.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),Ot=Ot&&this.mergeNextCommand&&(!/\s/.test(Mt)||/\s/.test(At.args)),this.mergeNextCommand=!0}else Ot=Ot&&It.indexOf(Tt.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(Ot=!1),Ot?this.session.mergeUndoDeltas=!0:It.indexOf(Tt.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},Ct.prototype.setKeyboardHandler=function(Tt,At){if(Tt&&typeof Tt=="string"&&Tt!="ace"){this.$keybindingId=Tt;var It=this;mt.loadModule(["keybinding",Tt],function(Ot){It.$keybindingId==Tt&&It.keyBinding.setKeyboardHandler(Ot&&Ot.handler),At&&At()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(Tt),At&&At()},Ct.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},Ct.prototype.setSession=function(Tt){if(this.session!=Tt){this.curOp&&this.endOperation(),this.curOp={};var At=this.session;if(At){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var It=this.session.getSelection();It.off("changeCursor",this.$onCursorChange),It.off("changeSelection",this.$onSelectionChange)}this.session=Tt,Tt?(this.$onDocumentChange=this.onDocumentChange.bind(this),Tt.on("change",this.$onDocumentChange),this.renderer.setSession(Tt),this.$onChangeMode=this.onChangeMode.bind(this),Tt.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),Tt.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),Tt.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),Tt.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),Tt.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),Tt.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=Tt.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(Tt)),this._signal("changeSession",{session:Tt,oldSession:At}),this.curOp=null,At&&At._signal("changeEditor",{oldEditor:this}),Tt&&Tt._signal("changeEditor",{editor:this}),Tt&&!Tt.destroyed&&Tt.bgTokenizer.scheduleStart()}},Ct.prototype.getSession=function(){return this.session},Ct.prototype.setValue=function(Tt,At){return this.session.doc.setValue(Tt),At?At==1?this.navigateFileEnd():At==-1&&this.navigateFileStart():this.selectAll(),Tt},Ct.prototype.getValue=function(){return this.session.getValue()},Ct.prototype.getSelection=function(){return this.selection},Ct.prototype.resize=function(Tt){this.renderer.onResize(Tt)},Ct.prototype.setTheme=function(Tt,At){this.renderer.setTheme(Tt,At)},Ct.prototype.getTheme=function(){return this.renderer.getTheme()},Ct.prototype.setStyle=function(Tt){this.renderer.setStyle(Tt)},Ct.prototype.unsetStyle=function(Tt){this.renderer.unsetStyle(Tt)},Ct.prototype.getFontSize=function(){return this.getOption("fontSize")||at.computedStyle(this.container).fontSize},Ct.prototype.setFontSize=function(Tt){this.setOption("fontSize",Tt)},Ct.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var Tt=this;this.$highlightPending=!0,setTimeout(function(){Tt.$highlightPending=!1;var At=Tt.session;if(!(!At||At.destroyed)){At.$bracketHighlight&&(At.$bracketHighlight.markerIds.forEach(function(Ht){At.removeMarker(Ht)}),At.$bracketHighlight=null);var It=Tt.getCursorPosition(),Ot=Tt.getKeyboardHandler(),Mt=Ot&&Ot.$getDirectionForHighlight&&Ot.$getDirectionForHighlight(Tt),Dt=At.getMatchingBracketRanges(It,Mt);if(!Dt){var Bt=new vt(At,It.row,It.column),Kt=Bt.getCurrentToken();if(Kt&&/\b(?:tag-open|tag-name)/.test(Kt.type)){var Wt=At.getMatchingTags(It);Wt&&(Dt=[Wt.openTagName.isEmpty()?Wt.openTag:Wt.openTagName,Wt.closeTagName.isEmpty()?Wt.closeTag:Wt.closeTagName])}}if(!Dt&&At.$mode.getMatching&&(Dt=At.$mode.getMatching(Tt.session)),!Dt){Tt.getHighlightIndentGuides()&&Tt.renderer.$textLayer.$highlightIndentGuide();return}var zt="ace_bracket";Array.isArray(Dt)?Dt.length==1&&(zt="ace_error_bracket"):Dt=[Dt],Dt.length==2&&(ct.comparePoints(Dt[0].end,Dt[1].start)==0?Dt=[ct.fromPoints(Dt[0].start,Dt[1].end)]:ct.comparePoints(Dt[0].start,Dt[1].end)==0&&(Dt=[ct.fromPoints(Dt[1].start,Dt[0].end)])),At.$bracketHighlight={ranges:Dt,markerIds:Dt.map(function(Ht){return At.addMarker(Ht,zt,"text")})},Tt.getHighlightIndentGuides()&&Tt.renderer.$textLayer.$highlightIndentGuide()}},50)}},Ct.prototype.focus=function(){this.textInput.focus()},Ct.prototype.isFocused=function(){return this.textInput.isFocused()},Ct.prototype.blur=function(){this.textInput.blur()},Ct.prototype.onFocus=function(Tt){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",Tt))},Ct.prototype.onBlur=function(Tt){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",Tt))},Ct.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},Ct.prototype.onDocumentChange=function(Tt){var At=this.session.$useWrapMode,It=Tt.start.row==Tt.end.row?Tt.end.row:1/0;this.renderer.updateLines(Tt.start.row,It,At),this._signal("change",Tt),this.$cursorChange()},Ct.prototype.onTokenizerUpdate=function(Tt){var At=Tt.data;this.renderer.updateLines(At.first,At.last)},Ct.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},Ct.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},Ct.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},Ct.prototype.$updateHighlightActiveLine=function(){var Tt=this.getSession(),At;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(At=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(At=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(At=!1)),Tt.$highlightLineMarker&&!At)Tt.removeMarker(Tt.$highlightLineMarker.id),Tt.$highlightLineMarker=null;else if(!Tt.$highlightLineMarker&&At){var It=new ct(At.row,At.column,At.row,1/0);It.id=Tt.addMarker(It,"ace_active-line","screenLine"),Tt.$highlightLineMarker=It}else At&&(Tt.$highlightLineMarker.start.row=At.row,Tt.$highlightLineMarker.end.row=At.row,Tt.$highlightLineMarker.start.column=At.column,Tt._signal("changeBackMarker"))},Ct.prototype.onSelectionChange=function(Tt){var At=this.session;if(At.$selectionMarker&&At.removeMarker(At.$selectionMarker),At.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var It=this.selection.getRange(),Ot=this.getSelectionStyle();At.$selectionMarker=At.addMarker(It,"ace_selection",Ot)}var Mt=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(Mt),this._signal("changeSelection")},Ct.prototype.$getSelectionHighLightRegexp=function(){var Tt=this.session,At=this.getSelectionRange();if(!(At.isEmpty()||At.isMultiLine())){var It=At.start.column,Ot=At.end.column,Mt=Tt.getLine(At.start.row),Dt=Mt.substring(It,Ot);if(!(Dt.length>5e3||!/[\w\d]/.test(Dt))){var Bt=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Dt}),Kt=Mt.substring(It-1,Ot+1);if(Bt.test(Kt))return Bt}}},Ct.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},Ct.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},Ct.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},Ct.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},Ct.prototype.onChangeMode=function(Tt){this.renderer.updateText(),this._emit("changeMode",Tt)},Ct.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},Ct.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},Ct.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},Ct.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},Ct.prototype.getCopyText=function(){var Tt=this.getSelectedText(),At=this.session.doc.getNewLineCharacter(),It=!1;if(!Tt&&this.$copyWithEmptySelection){It=!0;for(var Ot=this.selection.getAllRanges(),Mt=0;Mt<Ot.length;Mt++){var Dt=Ot[Mt];Mt&&Ot[Mt-1].start.row==Dt.start.row||(Tt+=this.session.getLine(Dt.start.row)+At)}}var Bt={text:Tt};return this._signal("copy",Bt),gt.lineMode=It?Bt.text:!1,Bt.text},Ct.prototype.onCopy=function(){this.commands.exec("copy",this)},Ct.prototype.onCut=function(){this.commands.exec("cut",this)},Ct.prototype.onPaste=function(Tt,At){var It={text:Tt,event:At};this.commands.exec("paste",this,It)},Ct.prototype.$handlePaste=function(Tt){typeof Tt=="string"&&(Tt={text:Tt}),this._signal("paste",Tt);var At=Tt.text,It=At===gt.lineMode,Ot=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)It?Ot.insert({row:this.selection.lead.row,column:0},At):this.insert(At);else if(It)this.selection.rangeList.ranges.forEach(function(zt){Ot.insert({row:zt.start.row,column:0},At)});else{var Mt=At.split(/\r\n|\r|\n/),Dt=this.selection.rangeList.ranges,Bt=Mt.length==2&&(!Mt[0]||!Mt[1]);if(Mt.length!=Dt.length||Bt)return this.commands.exec("insertstring",this,At);for(var Kt=Dt.length;Kt--;){var Wt=Dt[Kt];Wt.isEmpty()||Ot.remove(Wt),Ot.insert(Wt.start,Mt[Kt])}}},Ct.prototype.execCommand=function(Tt,At){return this.commands.exec(Tt,this,At)},Ct.prototype.insert=function(Tt,At){var It=this.session,Ot=It.getMode(),Mt=this.getCursorPosition();if(this.getBehavioursEnabled()&&!At){var Dt=Ot.transformAction(It.getState(Mt.row),"insertion",this,It,Tt);Dt&&(Tt!==Dt.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),Tt=Dt.text)}if(Tt=="	"&&(Tt=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&Tt.indexOf(`
`)==-1){var Bt=ct.fromPoints(Mt,Mt);Bt.end.column+=Tt.length,this.session.remove(Bt)}}else{var Bt=this.getSelectionRange();Mt=this.session.remove(Bt),this.clearSelection()}if(Tt==`
`||Tt==`\r
`){var Ht=It.getLine(Mt.row);if(Mt.column>Ht.search(/\S|$/)){var Kt=Ht.substr(Mt.column).search(/\S|$/);It.doc.removeInLine(Mt.row,Mt.column,Mt.column+Kt)}}this.clearSelection();var Wt=Mt.column,zt=It.getState(Mt.row),Ht=It.getLine(Mt.row),Zt=Ot.checkOutdent(zt,Ht,Tt);if(It.insert(Mt,Tt),Dt&&Dt.selection&&(Dt.selection.length==2?this.selection.setSelectionRange(new ct(Mt.row,Wt+Dt.selection[0],Mt.row,Wt+Dt.selection[1])):this.selection.setSelectionRange(new ct(Mt.row+Dt.selection[0],Dt.selection[1],Mt.row+Dt.selection[2],Dt.selection[3]))),this.$enableAutoIndent){if(It.getDocument().isNewLine(Tt)){var Qt=Ot.getNextLineIndent(zt,Ht.slice(0,Mt.column),It.getTabString());It.insert({row:Mt.row+1,column:0},Qt)}Zt&&Ot.autoOutdent(zt,It,Mt.row)}},Ct.prototype.autoIndent=function(){for(var Tt=this.session,At=Tt.getMode(),It=this.selection.isEmpty()?[new ct(0,0,Tt.doc.getLength()-1,0)]:this.selection.getAllRanges(),Ot="",Mt="",Dt="",Bt=Tt.getTabString(),Kt=0;Kt<It.length;Kt++)for(var Wt=It[Kt].start.row,zt=It[Kt].end.row,Ht=Wt;Ht<=zt;Ht++){Ht>0&&(Ot=Tt.getState(Ht-1),Mt=Tt.getLine(Ht-1),Dt=At.getNextLineIndent(Ot,Mt,Bt));var Zt=Tt.getLine(Ht),Qt=At.$getIndent(Zt);if(Dt!==Qt){if(Qt.length>0){var hr=new ct(Ht,0,Ht,Qt.length);Tt.remove(hr)}Dt.length>0&&Tt.insert({row:Ht,column:0},Dt)}At.autoOutdent(Ot,Tt,Ht)}},Ct.prototype.onTextInput=function(Tt,At){if(!At)return this.keyBinding.onTextInput(Tt);this.startOperation({command:{name:"insertstring"}});var It=this.applyComposition.bind(this,Tt,At);this.selection.rangeCount?this.forEachSelection(It):It(),this.endOperation()},Ct.prototype.applyComposition=function(Tt,At){if(At.extendLeft||At.extendRight){var It=this.selection.getRange();It.start.column-=At.extendLeft,It.end.column+=At.extendRight,It.start.column<0&&(It.start.row--,It.start.column+=this.session.getLine(It.start.row).length+1),this.selection.setRange(It),!Tt&&!It.isEmpty()&&this.remove()}if((Tt||!this.selection.isEmpty())&&this.insert(Tt,!0),At.restoreStart||At.restoreEnd){var It=this.selection.getRange();It.start.column-=At.restoreStart,It.end.column-=At.restoreEnd,this.selection.setRange(It)}},Ct.prototype.onCommandKey=function(Tt,At,It){return this.keyBinding.onCommandKey(Tt,At,It)},Ct.prototype.setOverwrite=function(Tt){this.session.setOverwrite(Tt)},Ct.prototype.getOverwrite=function(){return this.session.getOverwrite()},Ct.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},Ct.prototype.setScrollSpeed=function(Tt){this.setOption("scrollSpeed",Tt)},Ct.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},Ct.prototype.setDragDelay=function(Tt){this.setOption("dragDelay",Tt)},Ct.prototype.getDragDelay=function(){return this.getOption("dragDelay")},Ct.prototype.setSelectionStyle=function(Tt){this.setOption("selectionStyle",Tt)},Ct.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},Ct.prototype.setHighlightActiveLine=function(Tt){this.setOption("highlightActiveLine",Tt)},Ct.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},Ct.prototype.setHighlightGutterLine=function(Tt){this.setOption("highlightGutterLine",Tt)},Ct.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},Ct.prototype.setHighlightSelectedWord=function(Tt){this.setOption("highlightSelectedWord",Tt)},Ct.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},Ct.prototype.setAnimatedScroll=function(Tt){this.renderer.setAnimatedScroll(Tt)},Ct.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},Ct.prototype.setShowInvisibles=function(Tt){this.renderer.setShowInvisibles(Tt)},Ct.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},Ct.prototype.setDisplayIndentGuides=function(Tt){this.renderer.setDisplayIndentGuides(Tt)},Ct.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},Ct.prototype.setHighlightIndentGuides=function(Tt){this.renderer.setHighlightIndentGuides(Tt)},Ct.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},Ct.prototype.setShowPrintMargin=function(Tt){this.renderer.setShowPrintMargin(Tt)},Ct.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},Ct.prototype.setPrintMarginColumn=function(Tt){this.renderer.setPrintMarginColumn(Tt)},Ct.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},Ct.prototype.setReadOnly=function(Tt){this.setOption("readOnly",Tt)},Ct.prototype.getReadOnly=function(){return this.getOption("readOnly")},Ct.prototype.setBehavioursEnabled=function(Tt){this.setOption("behavioursEnabled",Tt)},Ct.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},Ct.prototype.setWrapBehavioursEnabled=function(Tt){this.setOption("wrapBehavioursEnabled",Tt)},Ct.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},Ct.prototype.setShowFoldWidgets=function(Tt){this.setOption("showFoldWidgets",Tt)},Ct.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},Ct.prototype.setFadeFoldWidgets=function(Tt){this.setOption("fadeFoldWidgets",Tt)},Ct.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},Ct.prototype.remove=function(Tt){this.selection.isEmpty()&&(Tt=="left"?this.selection.selectLeft():this.selection.selectRight());var At=this.getSelectionRange();if(this.getBehavioursEnabled()){var It=this.session,Ot=It.getState(At.start.row),Mt=It.getMode().transformAction(Ot,"deletion",this,It,At);if(At.end.column===0){var Dt=It.getTextRange(At);if(Dt[Dt.length-1]==`
`){var Bt=It.getLine(At.end.row);/^\s+$/.test(Bt)&&(At.end.column=Bt.length)}}Mt&&(At=Mt)}this.session.remove(At),this.clearSelection()},Ct.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},Ct.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},Ct.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},Ct.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var Tt=this.getSelectionRange();Tt.start.column==Tt.end.column&&Tt.start.row==Tt.end.row&&(Tt.end.column=0,Tt.end.row++),this.session.remove(Tt),this.clearSelection()},Ct.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var Tt=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(Tt)},Ct.prototype.setGhostText=function(Tt,At){this.session.widgetManager||(this.session.widgetManager=new dt(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(Tt,At)},Ct.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},Ct.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var Tt=this.getCursorPosition(),At=Tt.column;if(At!==0){var It=this.session.getLine(Tt.row),Ot,Mt;At<It.length?(Ot=It.charAt(At)+It.charAt(At-1),Mt=new ct(Tt.row,At-1,Tt.row,At+1)):(Ot=It.charAt(At-1)+It.charAt(At-2),Mt=new ct(Tt.row,At-2,Tt.row,At)),this.session.replace(Mt,Ot),this.session.selection.moveToPosition(Mt.end)}}},Ct.prototype.toLowerCase=function(){var Tt=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var At=this.getSelectionRange(),It=this.session.getTextRange(At);this.session.replace(At,It.toLowerCase()),this.selection.setSelectionRange(Tt)},Ct.prototype.toUpperCase=function(){var Tt=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var At=this.getSelectionRange(),It=this.session.getTextRange(At);this.session.replace(At,It.toUpperCase()),this.selection.setSelectionRange(Tt)},Ct.prototype.indent=function(){var Tt=this.session,At=this.getSelectionRange();if(At.start.row<At.end.row){var It=this.$getSelectedRows();Tt.indentRows(It.first,It.last,"	");return}else if(At.start.column<At.end.column){var Ot=Tt.getTextRange(At);if(!/^\s+$/.test(Ot)){var It=this.$getSelectedRows();Tt.indentRows(It.first,It.last,"	");return}}var Mt=Tt.getLine(At.start.row),Dt=At.start,Bt=Tt.getTabSize(),Kt=Tt.documentToScreenColumn(Dt.row,Dt.column);if(this.session.getUseSoftTabs())var Wt=Bt-Kt%Bt,zt=nt.stringRepeat(" ",Wt);else{for(var Wt=Kt%Bt;Mt[At.start.column-1]==" "&&Wt;)At.start.column--,Wt--;this.selection.setSelectionRange(At),zt="	"}return this.insert(zt)},Ct.prototype.blockIndent=function(){var Tt=this.$getSelectedRows();this.session.indentRows(Tt.first,Tt.last,"	")},Ct.prototype.blockOutdent=function(){var Tt=this.session.getSelection();this.session.outdentRows(Tt.getRange())},Ct.prototype.sortLines=function(){for(var Tt=this.$getSelectedRows(),At=this.session,It=[],Ot=Tt.first;Ot<=Tt.last;Ot++)It.push(At.getLine(Ot));It.sort(function(Bt,Kt){return Bt.toLowerCase()<Kt.toLowerCase()?-1:Bt.toLowerCase()>Kt.toLowerCase()?1:0});for(var Mt=new ct(0,0,0,0),Ot=Tt.first;Ot<=Tt.last;Ot++){var Dt=At.getLine(Ot);Mt.start.row=Ot,Mt.end.row=Ot,Mt.end.column=Dt.length,At.replace(Mt,It[Ot-Tt.first])}},Ct.prototype.toggleCommentLines=function(){var Tt=this.session.getState(this.getCursorPosition().row),At=this.$getSelectedRows();this.session.getMode().toggleCommentLines(Tt,this.session,At.first,At.last)},Ct.prototype.toggleBlockComment=function(){var Tt=this.getCursorPosition(),At=this.session.getState(Tt.row),It=this.getSelectionRange();this.session.getMode().toggleBlockComment(At,this.session,It,Tt)},Ct.prototype.getNumberAt=function(Tt,At){var It=/[\-]?[0-9]+(?:\.[0-9]+)?/g;It.lastIndex=0;for(var Ot=this.session.getLine(Tt);It.lastIndex<At;){var Mt=It.exec(Ot);if(Mt.index<=At&&Mt.index+Mt[0].length>=At){var Dt={value:Mt[0],start:Mt.index,end:Mt.index+Mt[0].length};return Dt}}return null},Ct.prototype.modifyNumber=function(Tt){var At=this.selection.getCursor().row,It=this.selection.getCursor().column,Ot=new ct(At,It-1,At,It),Mt=this.session.getTextRange(Ot);if(!isNaN(parseFloat(Mt))&&isFinite(Mt)){var Dt=this.getNumberAt(At,It);if(Dt){var Bt=Dt.value.indexOf(".")>=0?Dt.start+Dt.value.indexOf(".")+1:Dt.end,Kt=Dt.start+Dt.value.length-Bt,Wt=parseFloat(Dt.value);Wt*=Math.pow(10,Kt),Bt!==Dt.end&&It<Bt?Tt*=Math.pow(10,Dt.end-It-1):Tt*=Math.pow(10,Dt.end-It),Wt+=Tt,Wt/=Math.pow(10,Kt);var zt=Wt.toFixed(Kt),Ht=new ct(At,Dt.start,At,Dt.end);this.session.replace(Ht,zt),this.moveCursorTo(At,Math.max(Dt.start+1,It+zt.length-Dt.value.length))}}else this.toggleWord()},Ct.prototype.toggleWord=function(){var Tt=this.selection.getCursor().row,At=this.selection.getCursor().column;this.selection.selectWord();var It=this.getSelectedText(),Ot=this.selection.getWordRange().start.column,Mt=It.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Dt=At-Ot-1;Dt<0&&(Dt=0);var Bt=0,Kt=0,Wt=this;It.match(/[A-Za-z0-9_]+/)&&Mt.forEach(function(tr,rr){Kt=Bt+tr.length,Dt>=Bt&&Dt<=Kt&&(It=tr,Wt.selection.clearSelection(),Wt.moveCursorTo(Tt,Bt+Ot),Wt.selection.selectTo(Tt,Kt+Ot)),Bt=Kt});for(var zt=this.$toggleWordPairs,Ht,Zt=0;Zt<zt.length;Zt++)for(var Qt=zt[Zt],hr=0;hr<=1;hr++){var fr=+!hr,pr=It.match(new RegExp("^\\s?_?("+nt.escapeRegExp(Qt[hr])+")\\s?$","i"));if(pr){var gr=It.match(new RegExp("([_]|^|\\s)("+nt.escapeRegExp(pr[1])+")($|\\s)","g"));gr&&(Ht=It.replace(new RegExp(nt.escapeRegExp(Qt[hr]),"i"),function(tr){var rr=Qt[fr];return tr.toUpperCase()==tr?rr=rr.toUpperCase():tr.charAt(0).toUpperCase()==tr.charAt(0)&&(rr=rr.substr(0,0)+Qt[fr].charAt(0).toUpperCase()+rr.substr(1)),rr}),this.insert(Ht),Ht="")}}},Ct.prototype.findLinkAt=function(Tt,At){var It,Ot,Mt=this.session.getLine(Tt),Dt=Mt.split(/((?:https?|ftp):\/\/[\S]+)/),Bt=At;Bt<0&&(Bt=0);var Kt=0,Wt=0,zt;try{for(var Ht=et(Dt),Zt=Ht.next();!Zt.done;Zt=Ht.next()){var Qt=Zt.value;if(Wt=Kt+Qt.length,Bt>=Kt&&Bt<=Wt&&Qt.match(/((?:https?|ftp):\/\/[\S]+)/)){zt=Qt.replace(/[\s:.,'";}\]]+$/,"");break}Kt=Wt}}catch(hr){It={error:hr}}finally{try{Zt&&!Zt.done&&(Ot=Ht.return)&&Ot.call(Ht)}finally{if(It)throw It.error}}return zt},Ct.prototype.openLink=function(){var Tt=this.selection.getCursor(),At=this.findLinkAt(Tt.row,Tt.column);return At&&window.open(At,"_blank"),At!=null},Ct.prototype.removeLines=function(){var Tt=this.$getSelectedRows();this.session.removeFullLines(Tt.first,Tt.last),this.clearSelection()},Ct.prototype.duplicateSelection=function(){var Tt=this.selection,At=this.session,It=Tt.getRange(),Ot=Tt.isBackwards();if(It.isEmpty()){var Mt=It.start.row;At.duplicateLines(Mt,Mt)}else{var Dt=Ot?It.start:It.end,Bt=At.insert(Dt,At.getTextRange(It));It.start=Dt,It.end=Bt,Tt.setSelectionRange(It,Ot)}},Ct.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},Ct.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},Ct.prototype.moveText=function(Tt,At,It){return this.session.moveText(Tt,At,It)},Ct.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},Ct.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},Ct.prototype.$moveLines=function(Tt,At){var It,Ot,Mt=this.selection;if(!Mt.inMultiSelectMode||this.inVirtualSelectionMode){var Dt=Mt.toOrientedRange();It=this.$getSelectedRows(Dt),Ot=this.session.$moveLines(It.first,It.last,At?0:Tt),At&&Tt==-1&&(Ot=0),Dt.moveBy(Ot,0),Mt.fromOrientedRange(Dt)}else{var Bt=Mt.rangeList.ranges;Mt.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Kt=0,Wt=0,zt=Bt.length,Ht=0;Ht<zt;Ht++){var Zt=Ht;Bt[Ht].moveBy(Kt,0),It=this.$getSelectedRows(Bt[Ht]);for(var Qt=It.first,hr=It.last;++Ht<zt;){Wt&&Bt[Ht].moveBy(Wt,0);var fr=this.$getSelectedRows(Bt[Ht]);if(At&&fr.first!=hr)break;if(!At&&fr.first>hr+1)break;hr=fr.last}for(Ht--,Kt=this.session.$moveLines(Qt,hr,At?0:Tt),At&&Tt==-1&&(Zt=Ht+1);Zt<=Ht;)Bt[Zt].moveBy(Kt,0),Zt++;At||(Kt=0),Wt+=Kt}Mt.fromOrientedRange(Mt.ranges[0]),Mt.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},Ct.prototype.$getSelectedRows=function(Tt){return Tt=(Tt||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(Tt.start.row),last:this.session.getRowFoldEnd(Tt.end.row)}},Ct.prototype.onCompositionStart=function(Tt){this.renderer.showComposition(Tt)},Ct.prototype.onCompositionUpdate=function(Tt){this.renderer.setCompositionText(Tt)},Ct.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},Ct.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},Ct.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},Ct.prototype.isRowVisible=function(Tt){return Tt>=this.getFirstVisibleRow()&&Tt<=this.getLastVisibleRow()},Ct.prototype.isRowFullyVisible=function(Tt){return Tt>=this.renderer.getFirstFullyVisibleRow()&&Tt<=this.renderer.getLastFullyVisibleRow()},Ct.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},Ct.prototype.$moveByPage=function(Tt,At){var It=this.renderer,Ot=this.renderer.layerConfig,Mt=Tt*Math.floor(Ot.height/Ot.lineHeight);At===!0?this.selection.$moveSelection(function(){this.moveCursorBy(Mt,0)}):At===!1&&(this.selection.moveCursorBy(Mt,0),this.selection.clearSelection());var Dt=It.scrollTop;It.scrollBy(0,Mt*Ot.lineHeight),At!=null&&It.scrollCursorIntoView(null,.5),It.animateScrolling(Dt)},Ct.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},Ct.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},Ct.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},Ct.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},Ct.prototype.scrollPageDown=function(){this.$moveByPage(1)},Ct.prototype.scrollPageUp=function(){this.$moveByPage(-1)},Ct.prototype.scrollToRow=function(Tt){this.renderer.scrollToRow(Tt)},Ct.prototype.scrollToLine=function(Tt,At,It,Ot){this.renderer.scrollToLine(Tt,At,It,Ot)},Ct.prototype.centerSelection=function(){var Tt=this.getSelectionRange(),At={row:Math.floor(Tt.start.row+(Tt.end.row-Tt.start.row)/2),column:Math.floor(Tt.start.column+(Tt.end.column-Tt.start.column)/2)};this.renderer.alignCursor(At,.5)},Ct.prototype.getCursorPosition=function(){return this.selection.getCursor()},Ct.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},Ct.prototype.getSelectionRange=function(){return this.selection.getRange()},Ct.prototype.selectAll=function(){this.selection.selectAll()},Ct.prototype.clearSelection=function(){this.selection.clearSelection()},Ct.prototype.moveCursorTo=function(Tt,At){this.selection.moveCursorTo(Tt,At)},Ct.prototype.moveCursorToPosition=function(Tt){this.selection.moveCursorToPosition(Tt)},Ct.prototype.jumpToMatching=function(Tt,At){var It=this.getCursorPosition(),Ot=new vt(this.session,It.row,It.column),Mt=Ot.getCurrentToken(),Dt=0;Mt&&Mt.type.indexOf("tag-name")!==-1&&(Mt=Ot.stepBackward());var Bt=Mt||Ot.stepForward();if(Bt){var Kt,Wt=!1,zt={},Ht=It.column-Bt.start,Zt,Qt={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Bt.value.match(/[{}()\[\]]/g)){for(;Ht<Bt.value.length&&!Wt;Ht++)if(Qt[Bt.value[Ht]])switch(Zt=Qt[Bt.value[Ht]]+"."+Bt.type.replace("rparen","lparen"),isNaN(zt[Zt])&&(zt[Zt]=0),Bt.value[Ht]){case"(":case"[":case"{":zt[Zt]++;break;case")":case"]":case"}":zt[Zt]--,zt[Zt]===-1&&(Kt="bracket",Wt=!0);break}}else Bt.type.indexOf("tag-name")!==-1&&(isNaN(zt[Bt.value])&&(zt[Bt.value]=0),Mt.value==="<"&&Dt>1?zt[Bt.value]++:Mt.value==="</"&&zt[Bt.value]--,zt[Bt.value]===-1&&(Kt="tag",Wt=!0));Wt||(Mt=Bt,Dt++,Bt=Ot.stepForward(),Ht=0)}while(Bt&&!Wt);if(Kt){var hr,fr;if(Kt==="bracket")hr=this.session.getBracketRange(It),hr||(hr=new ct(Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()+Ht-1,Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()+Ht-1),fr=hr.start,(At||fr.row===It.row&&Math.abs(fr.column-It.column)<2)&&(hr=this.session.getBracketRange(fr)));else if(Kt==="tag"){if(!Bt||Bt.type.indexOf("tag-name")===-1)return;if(hr=new ct(Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()-2,Ot.getCurrentTokenRow(),Ot.getCurrentTokenColumn()-2),hr.compare(It.row,It.column)===0){var pr=this.session.getMatchingTags(It);pr&&(pr.openTag.contains(It.row,It.column)?(hr=pr.closeTag,fr=hr.start):(hr=pr.openTag,pr.closeTag.start.row===It.row&&pr.closeTag.start.column===It.column?fr=hr.end:fr=hr.start))}fr=fr||hr.start}fr=hr&&hr.cursor||fr,fr&&(Tt?hr&&At?this.selection.setRange(hr):hr&&hr.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(fr.row,fr.column):this.selection.moveTo(fr.row,fr.column))}}},Ct.prototype.gotoLine=function(Tt,At,It){this.selection.clearSelection(),this.session.unfold({row:Tt-1,column:At||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(Tt-1,At||0),this.isRowFullyVisible(Tt-1)||this.scrollToLine(Tt-1,!0,It)},Ct.prototype.navigateTo=function(Tt,At){this.selection.moveTo(Tt,At)},Ct.prototype.navigateUp=function(Tt){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var At=this.selection.anchor.getPosition();return this.moveCursorToPosition(At)}this.selection.clearSelection(),this.selection.moveCursorBy(-Tt||-1,0)},Ct.prototype.navigateDown=function(Tt){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var At=this.selection.anchor.getPosition();return this.moveCursorToPosition(At)}this.selection.clearSelection(),this.selection.moveCursorBy(Tt||1,0)},Ct.prototype.navigateLeft=function(Tt){if(this.selection.isEmpty())for(Tt=Tt||1;Tt--;)this.selection.moveCursorLeft();else{var At=this.getSelectionRange().start;this.moveCursorToPosition(At)}this.clearSelection()},Ct.prototype.navigateRight=function(Tt){if(this.selection.isEmpty())for(Tt=Tt||1;Tt--;)this.selection.moveCursorRight();else{var At=this.getSelectionRange().end;this.moveCursorToPosition(At)}this.clearSelection()},Ct.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},Ct.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},Ct.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},Ct.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},Ct.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},Ct.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},Ct.prototype.replace=function(Tt,At){At&&this.$search.set(At);var It=this.$search.find(this.session),Ot=0;return It&&(this.$tryReplace(It,Tt)&&(Ot=1),this.selection.setSelectionRange(It),this.renderer.scrollSelectionIntoView(It.start,It.end)),Ot},Ct.prototype.replaceAll=function(Tt,At){At&&this.$search.set(At);var It=this.$search.findAll(this.session),Ot=0;if(!It.length)return Ot;var Mt=this.getSelectionRange();this.selection.moveTo(0,0);for(var Dt=It.length-1;Dt>=0;--Dt)this.$tryReplace(It[Dt],Tt)&&Ot++;return this.selection.setSelectionRange(Mt),Ot},Ct.prototype.$tryReplace=function(Tt,At){var It=this.session.getTextRange(Tt);return At=this.$search.replace(It,At),At!==null?(Tt.end=this.session.replace(Tt,At),Tt):null},Ct.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},Ct.prototype.find=function(Tt,At,It){At||(At={}),typeof Tt=="string"||Tt instanceof RegExp?At.needle=Tt:typeof Tt=="object"&&ot.mixin(At,Tt);var Ot=this.selection.getRange();At.needle==null&&(Tt=this.session.getTextRange(Ot)||this.$search.$options.needle,Tt||(Ot=this.session.getWordRange(Ot.start.row,Ot.start.column),Tt=this.session.getTextRange(Ot)),this.$search.set({needle:Tt})),this.$search.set(At),At.start||this.$search.set({start:Ot});var Mt=this.$search.find(this.session);if(At.preventScroll)return Mt;if(Mt)return this.revealRange(Mt,It),Mt;At.backwards?Ot.start=Ot.end:Ot.end=Ot.start,this.selection.setRange(Ot)},Ct.prototype.findNext=function(Tt,At){this.find({skipCurrent:!0,backwards:!1},Tt,At)},Ct.prototype.findPrevious=function(Tt,At){this.find(Tt,{skipCurrent:!0,backwards:!0},At)},Ct.prototype.revealRange=function(Tt,At){this.session.unfold(Tt),this.selection.setSelectionRange(Tt);var It=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(Tt.start,Tt.end,.5),At!==!1&&this.renderer.animateScrolling(It)},Ct.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},Ct.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},Ct.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(Tt){Tt.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},Ct.prototype.setAutoScrollEditorIntoView=function(Tt){if(Tt){var At,It=this,Ot=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var Mt=this.$scrollAnchor;Mt.style.cssText="position:absolute",this.container.insertBefore(Mt,this.container.firstChild);var Dt=this.on("changeSelection",function(){Ot=!0}),Bt=this.renderer.on("beforeRender",function(){Ot&&(At=It.renderer.container.getBoundingClientRect())}),Kt=this.renderer.on("afterRender",function(){if(Ot&&At&&(It.isFocused()||It.searchBox&&It.searchBox.isFocused())){var Wt=It.renderer,zt=Wt.$cursorLayer.$pixelPos,Ht=Wt.layerConfig,Zt=zt.top-Ht.offset;zt.top>=0&&Zt+At.top<0?Ot=!0:zt.top<Ht.height&&zt.top+At.top+Ht.lineHeight>window.innerHeight?Ot=!1:Ot=null,Ot!=null&&(Mt.style.top=Zt+"px",Mt.style.left=zt.left+"px",Mt.style.height=Ht.lineHeight+"px",Mt.scrollIntoView(Ot)),Ot=At=null}});this.setAutoScrollEditorIntoView=function(Wt){Wt||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Dt),this.renderer.off("afterRender",Kt),this.renderer.off("beforeRender",Bt))}}},Ct.prototype.$resetCursorStyle=function(){var Tt=this.$cursorStyle||"ace",At=this.renderer.$cursorLayer;At&&(At.setSmoothBlinking(/smooth/.test(Tt)),At.isBlinking=!this.$readOnly&&Tt!="wide",at.setCssClass(At.element,"ace_slim-cursors",/slim/.test(Tt)))},Ct.prototype.prompt=function(Tt,At,It){var Ot=this;mt.loadModule("ace/ext/prompt",function(Mt){Mt.prompt(Ot,Tt,At,It)})},Ct}();_t.$uid=0,_t.prototype.curOp=null,_t.prototype.prevOp={},_t.prototype.$mergeableCommands=["backspace","del","insertstring"],_t.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],ot.implement(_t.prototype,ht),mt.defineOptions(_t.prototype,"editor",{selectionStyle:{set:function(Ct){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:Ct})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(Ct){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(Ct){this.textInput.setReadOnly(Ct),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(Ct){this.textInput.setCopyWithEmptySelection(Ct)},initialValue:!1},cursorStyle:{set:function(Ct){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(Ct){this.setAutoScrollEditorIntoView(Ct)}},keyboardHandler:{set:function(Ct){this.setKeyboardHandler(Ct)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(Ct){this.session.setValue(Ct)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(Ct){this.setSession(Ct)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(Ct){this.renderer.$gutterLayer.setShowLineNumbers(Ct),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),Ct&&this.$relativeLineNumbers?kt.attach(this):kt.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(Ct){this.$showLineNumbers&&Ct?kt.attach(this):kt.detach(this)}},placeholder:{set:function(Ct){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var Tt=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(Tt&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),at.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!Tt&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),at.addCssClass(this.container,"ace_hasPlaceholder");var At=at.createElement("div");At.className="ace_placeholder",At.textContent=this.$placeholder||"",this.renderer.placeholderNode=At,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!Tt&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(Ct){var Tt={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(Ot){Ot.blur(),Ot.renderer.scroller.focus()},readOnly:!0},At=function(Ot){if(Ot.target==this.renderer.scroller&&Ot.keyCode===Et.enter){Ot.preventDefault();var Mt=this.getCursorPosition().row;this.isRowVisible(Mt)||this.scrollToLine(Mt,!0,!0),this.focus()}},It;Ct?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(it.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",yt("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",yt("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",At.bind(this)),this.commands.addCommand(Tt),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",yt("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",yt("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),It||(It=new St(this)),It.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",At.bind(this)),this.commands.removeCommand(Tt),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),It&&It.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(Ct){this.$textInputAriaLabel=Ct},initialValue:""},enableMobileMenu:{set:function(Ct){this.$enableMobileMenu=Ct},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var kt={getText:function(Ct,Tt){return(Math.abs(Ct.selection.lead.row-Tt)||Tt+1+(Tt<9?"":""))+""},getWidth:function(Ct,Tt,At){return Math.max(Tt.toString().length,(At.lastRow+1).toString().length,2)*At.characterWidth},update:function(Ct,Tt){Tt.renderer.$loop.schedule(Tt.renderer.CHANGE_GUTTER)},attach:function(Ct){Ct.renderer.$gutterLayer.$renderer=this,Ct.on("changeSelection",this.update),this.update(null,Ct)},detach:function(Ct){Ct.renderer.$gutterLayer.$renderer==this&&(Ct.renderer.$gutterLayer.$renderer=null),Ct.off("changeSelection",this.update),this.update(null,Ct)}};a.Editor=_t}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(o,a,rt){var et=o("../lib/dom"),ot=function(){function at(nt,it){this.element=nt,this.canvasHeight=it||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return at.prototype.moveContainer=function(nt){et.translate(this.element,0,-(nt.firstRowScreen*nt.lineHeight%this.canvasHeight)-nt.offset*this.$offsetCoefficient)},at.prototype.pageChanged=function(nt,it){return Math.floor(nt.firstRowScreen*nt.lineHeight/this.canvasHeight)!==Math.floor(it.firstRowScreen*it.lineHeight/this.canvasHeight)},at.prototype.computeLineTop=function(nt,it,j){var _=it.firstRowScreen*it.lineHeight,$=Math.floor(_/this.canvasHeight),tt=j.documentToScreenRow(nt,0)*it.lineHeight;return tt-$*this.canvasHeight},at.prototype.computeLineHeight=function(nt,it,j){return it.lineHeight*j.getRowLineCount(nt)},at.prototype.getLength=function(){return this.cells.length},at.prototype.get=function(nt){return this.cells[nt]},at.prototype.shift=function(){this.$cacheCell(this.cells.shift())},at.prototype.pop=function(){this.$cacheCell(this.cells.pop())},at.prototype.push=function(nt){if(Array.isArray(nt)){this.cells.push.apply(this.cells,nt);for(var it=et.createFragment(this.element),j=0;j<nt.length;j++)it.appendChild(nt[j].element);this.element.appendChild(it)}else this.cells.push(nt),this.element.appendChild(nt.element)},at.prototype.unshift=function(nt){if(Array.isArray(nt)){this.cells.unshift.apply(this.cells,nt);for(var it=et.createFragment(this.element),j=0;j<nt.length;j++)it.appendChild(nt[j].element);this.element.firstChild?this.element.insertBefore(it,this.element.firstChild):this.element.appendChild(it)}else this.cells.unshift(nt),this.element.insertAdjacentElement("afterbegin",nt.element)},at.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},at.prototype.$cacheCell=function(nt){nt&&(nt.element.remove(),this.cellCache.push(nt))},at.prototype.createCell=function(nt,it,j,_){var $=this.cellCache.pop();if(!$){var tt=et.createElement("div");_&&_(tt),this.element.appendChild(tt),$={element:tt,text:"",row:nt}}return $.row=nt,$},at}();a.Lines=ot}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(o,a,rt){var et=o("../lib/dom"),ot=o("../lib/oop"),at=o("../lib/lang"),nt=o("../lib/event_emitter").EventEmitter,it=o("./lines").Lines,j=o("../config").nls,_=function(){function tt(st){this.element=et.createElement("div"),this.element.className="ace_layer ace_gutter-layer",st.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new it(this.element),this.$lines.$offsetCoefficient=1}return tt.prototype.setSession=function(st){this.session&&this.session.off("change",this.$updateAnnotations),this.session=st,st&&st.on("change",this.$updateAnnotations)},tt.prototype.addGutterDecoration=function(st,lt){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(st,lt)},tt.prototype.removeGutterDecoration=function(st,lt){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(st,lt)},tt.prototype.setAnnotations=function(st){this.$annotations=[];for(var lt=0;lt<st.length;lt++){var ct=st[lt],ht=ct.row,ut=this.$annotations[ht];ut||(ut=this.$annotations[ht]={text:[],type:[],displayText:[]});var pt=ct.text,mt=ct.text,vt=ct.type;pt=pt?at.escapeHTML(pt):ct.html||"",mt=mt||ct.html||"",ut.text.indexOf(pt)===-1&&(ut.text.push(pt),ut.type.push(vt),ut.displayText.push(mt));var dt=ct.className;dt?ut.className=dt:vt=="error"?ut.className=" ace_error":vt=="warning"&&ut.className!=" ace_error"?ut.className=" ace_warning":vt=="info"&&!ut.className&&(ut.className=" ace_info")}},tt.prototype.$updateAnnotations=function(st){if(this.$annotations.length){var lt=st.start.row,ct=st.end.row-lt;if(ct!==0)if(st.action=="remove")this.$annotations.splice(lt,ct+1,null);else{var ht=new Array(ct+1);ht.unshift(lt,1),this.$annotations.splice.apply(this.$annotations,ht)}}},tt.prototype.update=function(st){this.config=st;var lt=this.session,ct=st.firstRow,ht=Math.min(st.lastRow+st.gutterOffset,lt.getLength()-1);this.oldLastRow=ht,this.config=st,this.$lines.moveContainer(st),this.$updateCursorRow();for(var ut=lt.getNextFoldLine(ct),pt=ut?ut.start.row:1/0,mt=null,vt=-1,dt=ct;;){if(dt>pt&&(dt=ut.end.row+1,ut=lt.getNextFoldLine(dt,ut),pt=ut?ut.start.row:1/0),dt>ht){for(;this.$lines.getLength()>vt+1;)this.$lines.pop();break}mt=this.$lines.get(++vt),mt?mt.row=dt:(mt=this.$lines.createCell(dt,st,this.session,$),this.$lines.push(mt)),this.$renderCell(mt,st,ut,dt),dt++}this._signal("afterRender"),this.$updateGutterWidth(st)},tt.prototype.$updateGutterWidth=function(st){var lt=this.session,ct=lt.gutterRenderer||this.$renderer,ht=lt.$firstLineNumber,ut=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||lt.$useWrapMode)&&(ut=lt.getLength()+ht-1);var pt=ct?ct.getWidth(lt,ut,st):ut.toString().length*st.characterWidth,mt=this.$padding||this.$computePadding();pt+=mt.left+mt.right,pt!==this.gutterWidth&&!isNaN(pt)&&(this.gutterWidth=pt,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",pt))},tt.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var st=this.session.selection.getCursor();this.$cursorRow!==st.row&&(this.$cursorRow=st.row)}},tt.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var st=this.session.selection.cursor.row;if(this.$cursorRow=st,!(this.$cursorCell&&this.$cursorCell.row==st)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var lt=this.$lines.cells;this.$cursorCell=null;for(var ct=0;ct<lt.length;ct++){var ht=lt[ct];if(ht.row>=this.$cursorRow){if(ht.row>this.$cursorRow){var ut=this.session.getFoldLine(this.$cursorRow);if(ct>0&&ut&&ut.start.row==lt[ct-1].row)ht=lt[ct-1];else break}ht.element.className="ace_gutter-active-line "+ht.element.className,this.$cursorCell=ht;break}}}}},tt.prototype.scrollLines=function(st){var lt=this.config;if(this.config=st,this.$updateCursorRow(),this.$lines.pageChanged(lt,st))return this.update(st);this.$lines.moveContainer(st);var ct=Math.min(st.lastRow+st.gutterOffset,this.session.getLength()-1),ht=this.oldLastRow;if(this.oldLastRow=ct,!lt||ht<st.firstRow)return this.update(st);if(ct<lt.firstRow)return this.update(st);if(lt.firstRow<st.firstRow)for(var ut=this.session.getFoldedRowCount(lt.firstRow,st.firstRow-1);ut>0;ut--)this.$lines.shift();if(ht>ct)for(var ut=this.session.getFoldedRowCount(ct+1,ht);ut>0;ut--)this.$lines.pop();st.firstRow<lt.firstRow&&this.$lines.unshift(this.$renderLines(st,st.firstRow,lt.firstRow-1)),ct>ht&&this.$lines.push(this.$renderLines(st,ht+1,ct)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(st)},tt.prototype.$renderLines=function(st,lt,ct){for(var ht=[],ut=lt,pt=this.session.getNextFoldLine(ut),mt=pt?pt.start.row:1/0;ut>mt&&(ut=pt.end.row+1,pt=this.session.getNextFoldLine(ut,pt),mt=pt?pt.start.row:1/0),!(ut>ct);){var vt=this.$lines.createCell(ut,st,this.session,$);this.$renderCell(vt,st,pt,ut),ht.push(vt),ut++}return ht},tt.prototype.$renderCell=function(st,lt,ct,ht){var ut=st.element,pt=this.session,mt=ut.childNodes[0],vt=ut.childNodes[1],dt=ut.childNodes[2],St=dt.firstChild,yt=pt.$firstLineNumber,gt=pt.$breakpoints,Et=pt.$decorations,_t=pt.gutterRenderer||this.$renderer,kt=this.$showFoldWidgets&&pt.foldWidgets,Ct=ct?ct.start.row:Number.MAX_VALUE,Tt=lt.lineHeight+"px",At=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",It=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",Ot=(_t?_t.getText(pt,ht):ht+yt).toString();if(this.$highlightGutterLine&&(ht==this.$cursorRow||ct&&ht<this.$cursorRow&&ht>=Ct&&this.$cursorRow<=ct.end.row)&&(At+="ace_gutter-active-line ",this.$cursorCell!=st&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=st)),gt[ht]&&(At+=gt[ht]),Et[ht]&&(At+=Et[ht]),this.$annotations[ht]&&ht!==Ct&&(At+=this.$annotations[ht].className),kt){var Mt=kt[ht];Mt==null&&(Mt=kt[ht]=pt.getFoldWidget(ht))}if(Mt){var Dt="ace_fold-widget ace_"+Mt,Bt=Mt=="start"&&ht==Ct&&ht<ct.end.row;if(Bt){Dt+=" ace_closed";for(var Kt="",Wt=!1,zt=ht+1;zt<=ct.end.row;zt++)if(this.$annotations[zt]){if(this.$annotations[zt].className===" ace_error"){Wt=!0,Kt=" ace_error_fold";break}if(this.$annotations[zt].className===" ace_warning"){Wt=!0,Kt=" ace_warning_fold";continue}}At+=Kt}else Dt+=" ace_open";vt.className!=Dt&&(vt.className=Dt),et.setStyle(vt.style,"height",Tt),et.setStyle(vt.style,"display","inline-block"),vt.setAttribute("role","button"),vt.setAttribute("tabindex","-1");var Ht=pt.getFoldWidgetRange(ht);Ht?vt.setAttribute("aria-label",j("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[Ht.start.row+1,Ht.end.row+1])):ct?vt.setAttribute("aria-label",j("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[ct.start.row+1,ct.end.row+1])):vt.setAttribute("aria-label",j("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[ht+1])),Bt?(vt.setAttribute("aria-expanded","false"),vt.setAttribute("title",j("gutter.code-folding.closed.title","Unfold code"))):(vt.setAttribute("aria-expanded","true"),vt.setAttribute("title",j("gutter.code-folding.open.title","Fold code")))}else vt&&(et.setStyle(vt.style,"display","none"),vt.setAttribute("tabindex","0"),vt.removeAttribute("role"),vt.removeAttribute("aria-label"));if(Wt&&this.$showFoldedAnnotations){dt.className="ace_gutter_annotation",St.className=It,St.className+=Kt,et.setStyle(St.style,"height",Tt),et.setStyle(dt.style,"display","block"),et.setStyle(dt.style,"height",Tt);var Zt;switch(Kt){case" ace_error_fold":Zt=j("gutter.annotation.aria-label.error","Read annotations row $0",[Ot]);break;case" ace_warning_fold":Zt=j("gutter.annotation.aria-label.warning","Read annotations row $0",[Ot]);break}dt.setAttribute("aria-label",Zt),dt.setAttribute("tabindex","-1"),dt.setAttribute("role","button")}else if(this.$annotations[ht]){dt.className="ace_gutter_annotation",St.className=It,this.$useSvgGutterIcons?St.className+=this.$annotations[ht].className:ut.classList.add(this.$annotations[ht].className.replace(" ","")),et.setStyle(St.style,"height",Tt),et.setStyle(dt.style,"display","block"),et.setStyle(dt.style,"height",Tt);var Zt;switch(this.$annotations[ht].className){case" ace_error":Zt=j("gutter.annotation.aria-label.error","Read annotations row $0",[Ot]);break;case" ace_warning":Zt=j("gutter.annotation.aria-label.warning","Read annotations row $0",[Ot]);break;case" ace_info":Zt=j("gutter.annotation.aria-label.info","Read annotations row $0",[Ot]);break}dt.setAttribute("aria-label",Zt),dt.setAttribute("tabindex","-1"),dt.setAttribute("role","button")}else et.setStyle(dt.style,"display","none"),dt.removeAttribute("aria-label"),dt.removeAttribute("role"),dt.setAttribute("tabindex","0");return Ot!==mt.data&&(mt.data=Ot),ut.className!=At&&(ut.className=At),et.setStyle(st.element.style,"height",this.$lines.computeLineHeight(ht,lt,pt)+"px"),et.setStyle(st.element.style,"top",this.$lines.computeLineTop(ht,lt,pt)+"px"),st.text=Ot,dt.style.display==="none"&&vt.style.display==="none"?st.element.setAttribute("aria-hidden",!0):st.element.setAttribute("aria-hidden",!1),st},tt.prototype.setHighlightGutterLine=function(st){this.$highlightGutterLine=st},tt.prototype.setShowLineNumbers=function(st){this.$renderer=!st&&{getWidth:function(){return 0},getText:function(){return""}}},tt.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},tt.prototype.setShowFoldWidgets=function(st){st?et.addCssClass(this.element,"ace_folding-enabled"):et.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=st,this.$padding=null},tt.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},tt.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var st=et.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(st.borderLeftWidth)||0)+(parseInt(st.paddingLeft)||0)+1,this.$padding.right=(parseInt(st.borderRightWidth)||0)+(parseInt(st.paddingRight)||0),this.$padding},tt.prototype.getRegion=function(st){var lt=this.$padding||this.$computePadding(),ct=this.element.getBoundingClientRect();if(st.x<lt.left+ct.left)return"markers";if(this.$showFoldWidgets&&st.x>ct.right-lt.right)return"foldWidgets"},tt}();_.prototype.$fixedWidth=!1,_.prototype.$highlightGutterLine=!0,_.prototype.$renderer="",_.prototype.$showLineNumbers=!0,_.prototype.$showFoldWidgets=!0,ot.implement(_.prototype,nt);function $(tt){var st=document.createTextNode("");tt.appendChild(st);var lt=et.createElement("span");tt.appendChild(lt);var ct=et.createElement("span");tt.appendChild(ct);var ht=et.createElement("span");return ct.appendChild(ht),tt}a.Gutter=_}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(o,a,rt){var et=o("../range").Range,ot=o("../lib/dom"),at=function(){function it(j){this.element=ot.createElement("div"),this.element.className="ace_layer ace_marker-layer",j.appendChild(this.element)}return it.prototype.setPadding=function(j){this.$padding=j},it.prototype.setSession=function(j){this.session=j},it.prototype.setMarkers=function(j){this.markers=j},it.prototype.elt=function(j,_){var $=this.i!=-1&&this.element.childNodes[this.i];$?this.i++:($=document.createElement("div"),this.element.appendChild($),this.i=-1),$.style.cssText=_,$.className=j},it.prototype.update=function(j){if(j){this.config=j,this.i=0;var _;for(var $ in this.markers){var tt=this.markers[$];if(!tt.range){tt.update(_,this,this.session,j);continue}var st=tt.range.clipRows(j.firstRow,j.lastRow);if(!st.isEmpty())if(st=st.toScreenRange(this.session),tt.renderer){var lt=this.$getTop(st.start.row,j),ct=this.$padding+st.start.column*j.characterWidth;tt.renderer(_,st,ct,lt,j)}else tt.type=="fullLine"?this.drawFullLineMarker(_,st,tt.clazz,j):tt.type=="screenLine"?this.drawScreenLineMarker(_,st,tt.clazz,j):st.isMultiLine()?tt.type=="text"?this.drawTextMarker(_,st,tt.clazz,j):this.drawMultiLineMarker(_,st,tt.clazz,j):this.drawSingleLineMarker(_,st,tt.clazz+" ace_start ace_br15",j)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},it.prototype.$getTop=function(j,_){return(j-_.firstRowScreen)*_.lineHeight},it.prototype.drawTextMarker=function(j,_,$,tt,st){for(var lt=this.session,ct=_.start.row,ht=_.end.row,ut=ct,pt=0,mt=0,vt=lt.getScreenLastRowColumn(ut),dt=new et(ut,_.start.column,ut,mt);ut<=ht;ut++)dt.start.row=dt.end.row=ut,dt.start.column=ut==ct?_.start.column:lt.getRowWrapIndent(ut),dt.end.column=vt,pt=mt,mt=vt,vt=ut+1<ht?lt.getScreenLastRowColumn(ut+1):ut==ht?0:_.end.column,this.drawSingleLineMarker(j,dt,$+(ut==ct?" ace_start":"")+" ace_br"+nt(ut==ct||ut==ct+1&&_.start.column,pt<mt,mt>vt,ut==ht),tt,ut==ht?0:1,st)},it.prototype.drawMultiLineMarker=function(j,_,$,tt,st){var lt=this.$padding,ct=tt.lineHeight,ht=this.$getTop(_.start.row,tt),ut=lt+_.start.column*tt.characterWidth;if(st=st||"",this.session.$bidiHandler.isBidiRow(_.start.row)){var pt=_.clone();pt.end.row=pt.start.row,pt.end.column=this.session.getLine(pt.start.row).length,this.drawBidiSingleLineMarker(j,pt,$+" ace_br1 ace_start",tt,null,st)}else this.elt($+" ace_br1 ace_start","height:"+ct+"px;right:0;top:"+ht+"px;left:"+ut+"px;"+(st||""));if(this.session.$bidiHandler.isBidiRow(_.end.row)){var pt=_.clone();pt.start.row=pt.end.row,pt.start.column=0,this.drawBidiSingleLineMarker(j,pt,$+" ace_br12",tt,null,st)}else{ht=this.$getTop(_.end.row,tt);var mt=_.end.column*tt.characterWidth;this.elt($+" ace_br12","height:"+ct+"px;width:"+mt+"px;top:"+ht+"px;left:"+lt+"px;"+(st||""))}if(ct=(_.end.row-_.start.row-1)*tt.lineHeight,!(ct<=0)){ht=this.$getTop(_.start.row+1,tt);var vt=(_.start.column?1:0)|(_.end.column?0:8);this.elt($+(vt?" ace_br"+vt:""),"height:"+ct+"px;right:0;top:"+ht+"px;left:"+lt+"px;"+(st||""))}},it.prototype.drawSingleLineMarker=function(j,_,$,tt,st,lt){if(this.session.$bidiHandler.isBidiRow(_.start.row))return this.drawBidiSingleLineMarker(j,_,$,tt,st,lt);var ct=tt.lineHeight,ht=(_.end.column+(st||0)-_.start.column)*tt.characterWidth,ut=this.$getTop(_.start.row,tt),pt=this.$padding+_.start.column*tt.characterWidth;this.elt($,"height:"+ct+"px;width:"+ht+"px;top:"+ut+"px;left:"+pt+"px;"+(lt||""))},it.prototype.drawBidiSingleLineMarker=function(j,_,$,tt,st,lt){var ct=tt.lineHeight,ht=this.$getTop(_.start.row,tt),ut=this.$padding,pt=this.session.$bidiHandler.getSelections(_.start.column,_.end.column);pt.forEach(function(mt){this.elt($,"height:"+ct+"px;width:"+(mt.width+(st||0))+"px;top:"+ht+"px;left:"+(ut+mt.left)+"px;"+(lt||""))},this)},it.prototype.drawFullLineMarker=function(j,_,$,tt,st){var lt=this.$getTop(_.start.row,tt),ct=tt.lineHeight;_.start.row!=_.end.row&&(ct+=this.$getTop(_.end.row,tt)-lt),this.elt($,"height:"+ct+"px;top:"+lt+"px;left:0;right:0;"+(st||""))},it.prototype.drawScreenLineMarker=function(j,_,$,tt,st){var lt=this.$getTop(_.start.row,tt),ct=tt.lineHeight;this.elt($,"height:"+ct+"px;top:"+lt+"px;left:0;right:0;"+(st||""))},it}();at.prototype.$padding=0;function nt(it,j,_,$){return(it?1:0)|(j?2:0)|(_?4:0)|($?8:0)}a.Marker=at}),ace.define("ace/layer/text_util",["require","exports","module"],function(o,a,rt){var et=new Set(["text","rparen","lparen"]);a.isTextToken=function(ot){return et.has(ot)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(o,a,rt){var et=o("../lib/oop"),ot=o("../lib/dom"),at=o("../lib/lang"),nt=o("./lines").Lines,it=o("../lib/event_emitter").EventEmitter,j=o("../config").nls,_=o("./text_util").isTextToken,$=function(){function tt(st){this.dom=ot,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",st.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new nt(this.element)}return tt.prototype.$updateEolChar=function(){var st=this.session.doc,lt=st.getNewLineCharacter()==`
`&&st.getNewLineMode()!="windows",ct=lt?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=ct)return this.EOL_CHAR=ct,!0},tt.prototype.setPadding=function(st){this.$padding=st,this.element.style.margin="0 "+st+"px"},tt.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},tt.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},tt.prototype.$setFontMetrics=function(st){this.$fontMetrics=st,this.$fontMetrics.on("changeCharacterSize",(function(lt){this._signal("changeCharacterSize",lt)}).bind(this)),this.$pollSizeChanges()},tt.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},tt.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},tt.prototype.setSession=function(st){this.session=st,st&&this.$computeTabString()},tt.prototype.setShowInvisibles=function(st){return this.showInvisibles==st?!1:(this.showInvisibles=st,typeof st=="string"?(this.showSpaces=/tab/i.test(st),this.showTabs=/space/i.test(st),this.showEOL=/eol/i.test(st)):this.showSpaces=this.showTabs=this.showEOL=st,this.$computeTabString(),!0)},tt.prototype.setDisplayIndentGuides=function(st){return this.displayIndentGuides==st?!1:(this.displayIndentGuides=st,this.$computeTabString(),!0)},tt.prototype.setHighlightIndentGuides=function(st){return this.$highlightIndentGuides===st?!1:(this.$highlightIndentGuides=st,st)},tt.prototype.$computeTabString=function(){var st=this.session.getTabSize();this.tabSize=st;for(var lt=this.$tabStrings=[0],ct=1;ct<st+1;ct++)if(this.showTabs){var ht=this.dom.createElement("span");ht.className="ace_invisible ace_invisible_tab",ht.textContent=at.stringRepeat(this.TAB_CHAR,ct),lt.push(ht)}else lt.push(this.dom.createTextNode(at.stringRepeat(" ",ct),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var ut="ace_indent-guide",pt=this.showSpaces?" ace_invisible ace_invisible_space":"",mt=this.showSpaces?at.stringRepeat(this.SPACE_CHAR,this.tabSize):at.stringRepeat(" ",this.tabSize),vt=this.showTabs?" ace_invisible ace_invisible_tab":"",dt=this.showTabs?at.stringRepeat(this.TAB_CHAR,this.tabSize):mt,ht=this.dom.createElement("span");ht.className=ut+pt,ht.textContent=mt,this.$tabStrings[" "]=ht;var ht=this.dom.createElement("span");ht.className=ut+vt,ht.textContent=dt,this.$tabStrings["	"]=ht}},tt.prototype.updateLines=function(st,lt,ct){if(this.config.lastRow!=st.lastRow||this.config.firstRow!=st.firstRow)return this.update(st);this.config=st;for(var ht=Math.max(lt,st.firstRow),ut=Math.min(ct,st.lastRow),pt=this.element.childNodes,mt=0,dt=st.firstRow;dt<ht;dt++){var St=this.session.getFoldLine(dt);if(St)if(St.containsRow(ht)){ht=St.start.row;break}else dt=St.end.row;mt++}for(var vt=!1,dt=ht,St=this.session.getNextFoldLine(dt),yt=St?St.start.row:1/0;dt>yt&&(dt=St.end.row+1,St=this.session.getNextFoldLine(dt,St),yt=St?St.start.row:1/0),!(dt>ut);){var gt=pt[mt++];if(gt){this.dom.removeChildren(gt),this.$renderLine(gt,dt,dt==yt?St:!1),vt&&(gt.style.top=this.$lines.computeLineTop(dt,st,this.session)+"px");var Et=st.lineHeight*this.session.getRowLength(dt)+"px";gt.style.height!=Et&&(vt=!0,gt.style.height=Et)}dt++}if(vt)for(;mt<this.$lines.cells.length;){var _t=this.$lines.cells[mt++];_t.element.style.top=this.$lines.computeLineTop(_t.row,st,this.session)+"px"}},tt.prototype.scrollLines=function(st){var lt=this.config;if(this.config=st,this.$lines.pageChanged(lt,st))return this.update(st);this.$lines.moveContainer(st);var ct=st.lastRow,ht=lt?lt.lastRow:-1;if(!lt||ht<st.firstRow)return this.update(st);if(ct<lt.firstRow)return this.update(st);if(!lt||lt.lastRow<st.firstRow)return this.update(st);if(st.lastRow<lt.firstRow)return this.update(st);if(lt.firstRow<st.firstRow)for(var ut=this.session.getFoldedRowCount(lt.firstRow,st.firstRow-1);ut>0;ut--)this.$lines.shift();if(lt.lastRow>st.lastRow)for(var ut=this.session.getFoldedRowCount(st.lastRow+1,lt.lastRow);ut>0;ut--)this.$lines.pop();st.firstRow<lt.firstRow&&this.$lines.unshift(this.$renderLinesFragment(st,st.firstRow,lt.firstRow-1)),st.lastRow>lt.lastRow&&this.$lines.push(this.$renderLinesFragment(st,lt.lastRow+1,st.lastRow)),this.$highlightIndentGuide()},tt.prototype.$renderLinesFragment=function(st,lt,ct){for(var ht=[],ut=lt,pt=this.session.getNextFoldLine(ut),mt=pt?pt.start.row:1/0;ut>mt&&(ut=pt.end.row+1,pt=this.session.getNextFoldLine(ut,pt),mt=pt?pt.start.row:1/0),!(ut>ct);){var vt=this.$lines.createCell(ut,st,this.session),dt=vt.element;this.dom.removeChildren(dt),ot.setStyle(dt.style,"height",this.$lines.computeLineHeight(ut,st,this.session)+"px"),ot.setStyle(dt.style,"top",this.$lines.computeLineTop(ut,st,this.session)+"px"),this.$renderLine(dt,ut,ut==mt?pt:!1),this.$useLineGroups()?dt.className="ace_line_group":dt.className="ace_line",ht.push(vt),ut++}return ht},tt.prototype.update=function(st){this.$lines.moveContainer(st),this.config=st;for(var lt=st.firstRow,ct=st.lastRow,ht=this.$lines;ht.getLength();)ht.pop();ht.push(this.$renderLinesFragment(st,lt,ct))},tt.prototype.$renderToken=function(st,lt,ct,ht){for(var ut=this,pt=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,mt=this.dom.createFragment(this.element),vt,dt=0;vt=pt.exec(ht);){var St=vt[1],yt=vt[2],gt=vt[3],Et=vt[4],_t=vt[5];if(!(!ut.showSpaces&&yt)){var kt=dt!=vt.index?ht.slice(dt,vt.index):"";if(dt=vt.index+vt[0].length,kt&&mt.appendChild(this.dom.createTextNode(kt,this.element)),St){var Ct=ut.session.getScreenTabSize(lt+vt.index);mt.appendChild(ut.$tabStrings[Ct].cloneNode(!0)),lt+=Ct-1}else if(yt)if(ut.showSpaces){var Tt=this.dom.createElement("span");Tt.className="ace_invisible ace_invisible_space",Tt.textContent=at.stringRepeat(ut.SPACE_CHAR,yt.length),mt.appendChild(Tt)}else mt.appendChild(this.dom.createTextNode(yt,this.element));else if(gt){var Tt=this.dom.createElement("span");Tt.className="ace_invisible ace_invisible_space ace_invalid",Tt.textContent=at.stringRepeat(ut.SPACE_CHAR,gt.length),mt.appendChild(Tt)}else if(Et){lt+=1;var Tt=this.dom.createElement("span");Tt.style.width=ut.config.characterWidth*2+"px",Tt.className=ut.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",Tt.textContent=ut.showSpaces?ut.SPACE_CHAR:Et,mt.appendChild(Tt)}else if(_t){lt+=1;var Tt=this.dom.createElement("span");Tt.style.width=ut.config.characterWidth*2+"px",Tt.className="ace_cjk",Tt.textContent=_t,mt.appendChild(Tt)}}}if(mt.appendChild(this.dom.createTextNode(dt?ht.slice(dt):ht,this.element)),_(ct.type))st.appendChild(mt);else{var At="ace_"+ct.type.replace(/\./g," ace_"),Tt=this.dom.createElement("span");ct.type=="fold"&&(Tt.style.width=ct.value.length*this.config.characterWidth+"px",Tt.setAttribute("title",j("inline-fold.closed.title","Unfold code"))),Tt.className=At,Tt.appendChild(mt),st.appendChild(Tt)}return lt+ht.length},tt.prototype.renderIndentGuide=function(st,lt,ct){var ht=lt.search(this.$indentGuideRe);if(ht<=0||ht>=ct)return lt;if(lt[0]==" "){ht-=ht%this.tabSize;for(var ut=ht/this.tabSize,pt=0;pt<ut;pt++)st.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),lt.substr(ht)}else if(lt[0]=="	"){for(var pt=0;pt<ht;pt++)st.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),lt.substr(ht)}return this.$highlightIndentGuide(),lt},tt.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var st=this.session.doc.$lines;if(st){var lt=this.session.selection.getCursor(),ct=/^\s*/.exec(this.session.doc.getLine(lt.row))[0].length,ht=Math.floor(ct/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:ht,start:lt.row};var ut=this.session.$bracketHighlight;if(ut){for(var pt=this.session.$bracketHighlight.ranges,mt=0;mt<pt.length;mt++)if(lt.row!==pt[mt].start.row){this.$highlightIndentGuideMarker.end=pt[mt].start.row,lt.row>pt[mt].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&st[lt.row]!==""&&lt.column===st[lt.row].length){this.$highlightIndentGuideMarker.dir=1;for(var mt=lt.row+1;mt<st.length;mt++){var vt=st[mt],dt=/^\s*/.exec(vt)[0].length;if(vt!==""&&(this.$highlightIndentGuideMarker.end=mt,dt<=ct))break}}this.$renderHighlightIndentGuide()}}},tt.prototype.$clearActiveIndentGuide=function(){for(var st=this.$lines.cells,lt=0;lt<st.length;lt++){var ct=st[lt],ht=ct.element.childNodes;if(ht.length>0){for(var ut=0;ut<ht.length;ut++)if(ht[ut].classList&&ht[ut].classList.contains("ace_indent-guide-active")){ht[ut].classList.remove("ace_indent-guide-active");break}}}},tt.prototype.$setIndentGuideActive=function(st,lt){var ct=this.session.doc.getLine(st.row);if(ct!==""){var ht=st.element.childNodes;if(ht){var ut=ht[lt-1];ut&&ut.classList&&ut.classList.contains("ace_indent-guide")&&ut.classList.add("ace_indent-guide-active")}}},tt.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var st=this.$lines.cells;this.$clearActiveIndentGuide();var lt=this.$highlightIndentGuideMarker.indentLevel;if(lt!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var ct=0;ct<st.length;ct++){var ht=st[ct];if(this.$highlightIndentGuideMarker.end&&ht.row>=this.$highlightIndentGuideMarker.start+1){if(ht.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ht,lt)}}else for(var ct=st.length-1;ct>=0;ct--){var ht=st[ct];if(this.$highlightIndentGuideMarker.end&&ht.row<this.$highlightIndentGuideMarker.start){if(ht.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(ht,lt)}}}},tt.prototype.$createLineElement=function(st){var lt=this.dom.createElement("div");return lt.className="ace_line",lt.style.height=this.config.lineHeight+"px",lt},tt.prototype.$renderWrappedLine=function(st,lt,ct){var ht=0,ut=0,pt=ct[0],mt=0,vt=this.$createLineElement();st.appendChild(vt);for(var dt=0;dt<lt.length;dt++){var St=lt[dt],yt=St.value;if(dt==0&&this.displayIndentGuides){if(ht=yt.length,yt=this.renderIndentGuide(vt,yt,pt),!yt)continue;ht-=yt.length}if(ht+yt.length<pt)mt=this.$renderToken(vt,mt,St,yt),ht+=yt.length;else{for(;ht+yt.length>=pt;)mt=this.$renderToken(vt,mt,St,yt.substring(0,pt-ht)),yt=yt.substring(pt-ht),ht=pt,vt=this.$createLineElement(),st.appendChild(vt),vt.appendChild(this.dom.createTextNode(at.stringRepeat("",ct.indent),this.element)),ut++,mt=0,pt=ct[ut]||Number.MAX_VALUE;yt.length!=0&&(ht+=yt.length,mt=this.$renderToken(vt,mt,St,yt))}}ct[ct.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(vt,mt,null,"",!0)},tt.prototype.$renderSimpleLine=function(st,lt){for(var ct=0,ht=0;ht<lt.length;ht++){var ut=lt[ht],pt=ut.value;if(!(ht==0&&this.displayIndentGuides&&(pt=this.renderIndentGuide(st,pt),!pt))){if(ct+pt.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(st,ct,ut,pt);ct=this.$renderToken(st,ct,ut,pt)}}},tt.prototype.$renderOverflowMessage=function(st,lt,ct,ht,ut){ct&&this.$renderToken(st,lt,ct,ht.slice(0,this.MAX_LINE_LENGTH-lt));var pt=this.dom.createElement("span");pt.className="ace_inline_button ace_keyword ace_toggle_wrap",pt.textContent=ut?"<hide>":"<click to see more...>",st.appendChild(pt)},tt.prototype.$renderLine=function(st,lt,ct){if(!ct&&ct!=!1&&(ct=this.session.getFoldLine(lt)),ct)var ht=this.$getFoldLineTokens(lt,ct);else var ht=this.session.getTokens(lt);var ut=st;if(ht.length){var pt=this.session.getRowSplitData(lt);if(pt&&pt.length){this.$renderWrappedLine(st,ht,pt);var ut=st.lastChild}else{var ut=st;this.$useLineGroups()&&(ut=this.$createLineElement(),st.appendChild(ut)),this.$renderSimpleLine(ut,ht)}}else this.$useLineGroups()&&(ut=this.$createLineElement(),st.appendChild(ut));if(this.showEOL&&ut){ct&&(lt=ct.end.row);var mt=this.dom.createElement("span");mt.className="ace_invisible ace_invisible_eol",mt.textContent=lt==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,ut.appendChild(mt)}},tt.prototype.$getFoldLineTokens=function(st,lt){var ct=this.session,ht=[];function ut(mt,vt,dt){for(var St=0,yt=0;yt+mt[St].value.length<vt;)if(yt+=mt[St].value.length,St++,St==mt.length)return;if(yt!=vt){var gt=mt[St].value.substring(vt-yt);gt.length>dt-vt&&(gt=gt.substring(0,dt-vt)),ht.push({type:mt[St].type,value:gt}),yt=vt+gt.length,St+=1}for(;yt<dt&&St<mt.length;){var gt=mt[St].value;gt.length+yt>dt?ht.push({type:mt[St].type,value:gt.substring(0,dt-yt)}):ht.push(mt[St]),yt+=gt.length,St+=1}}var pt=ct.getTokens(st);return lt.walk(function(mt,vt,dt,St,yt){mt!=null?ht.push({type:"fold",value:mt}):(yt&&(pt=ct.getTokens(vt)),pt.length&&ut(pt,St,dt))},lt.end.row,this.session.getLine(lt.end.row).length),ht},tt.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},tt}();$.prototype.EOF_CHAR="",$.prototype.EOL_CHAR_LF="",$.prototype.EOL_CHAR_CRLF="",$.prototype.EOL_CHAR=$.prototype.EOL_CHAR_LF,$.prototype.TAB_CHAR="",$.prototype.SPACE_CHAR="",$.prototype.$padding=0,$.prototype.MAX_LINE_LENGTH=1e4,$.prototype.showInvisibles=!1,$.prototype.showSpaces=!1,$.prototype.showTabs=!1,$.prototype.showEOL=!1,$.prototype.displayIndentGuides=!0,$.prototype.$highlightIndentGuides=!0,$.prototype.$tabStrings=[],$.prototype.destroy={},$.prototype.onChangeTabSize=$.prototype.$computeTabString,et.implement($.prototype,it),a.Text=$}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(o,a,rt){var et=o("../lib/dom"),ot=function(){function at(nt){this.element=et.createElement("div"),this.element.className="ace_layer ace_cursor-layer",nt.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),et.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return at.prototype.$updateOpacity=function(nt){for(var it=this.cursors,j=it.length;j--;)et.setStyle(it[j].style,"opacity",nt?"":"0")},at.prototype.$startCssAnimation=function(){for(var nt=this.cursors,it=nt.length;it--;)nt[it].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&et.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},at.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,et.removeCssClass(this.element,"ace_animate-blinking")},at.prototype.setPadding=function(nt){this.$padding=nt},at.prototype.setSession=function(nt){this.session=nt},at.prototype.setBlinking=function(nt){nt!=this.isBlinking&&(this.isBlinking=nt,this.restartTimer())},at.prototype.setBlinkInterval=function(nt){nt!=this.blinkInterval&&(this.blinkInterval=nt,this.restartTimer())},at.prototype.setSmoothBlinking=function(nt){nt!=this.smoothBlinking&&(this.smoothBlinking=nt,et.setCssClass(this.element,"ace_smooth-blinking",nt),this.$updateCursors(!0),this.restartTimer())},at.prototype.addCursor=function(){var nt=et.createElement("div");return nt.className="ace_cursor",this.element.appendChild(nt),this.cursors.push(nt),nt},at.prototype.removeCursor=function(){if(this.cursors.length>1){var nt=this.cursors.pop();return nt.parentNode.removeChild(nt),nt}},at.prototype.hideCursor=function(){this.isVisible=!1,et.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},at.prototype.showCursor=function(){this.isVisible=!0,et.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},at.prototype.restartTimer=function(){var nt=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,et.removeCssClass(this.element,"ace_smooth-blinking")),nt(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&et.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),et.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var it=(function(){this.timeoutId=setTimeout(function(){nt(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){nt(!0),it()},this.blinkInterval),it()}},at.prototype.getPixelPosition=function(nt,it){if(!this.config||!this.session)return{left:0,top:0};nt||(nt=this.session.selection.getCursor());var j=this.session.documentToScreenPosition(nt),_=this.$padding+(this.session.$bidiHandler.isBidiRow(j.row,nt.row)?this.session.$bidiHandler.getPosLeft(j.column):j.column*this.config.characterWidth),$=(j.row-(it?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:_,top:$}},at.prototype.isCursorInView=function(nt,it){return nt.top>=0&&nt.top<it.maxHeight},at.prototype.update=function(nt){this.config=nt;var it=this.session.$selectionMarkers,j=0,_=0;(it===void 0||it.length===0)&&(it=[{cursor:null}]);for(var j=0,$=it.length;j<$;j++){var tt=this.getPixelPosition(it[j].cursor,!0);if(!((tt.top>nt.height+nt.offset||tt.top<0)&&j>1)){var st=this.cursors[_++]||this.addCursor(),lt=st.style;this.drawCursor?this.drawCursor(st,tt,nt,it[j],this.session):this.isCursorInView(tt,nt)?(et.setStyle(lt,"display","block"),et.translate(st,tt.left,tt.top),et.setStyle(lt,"width",Math.round(nt.characterWidth)+"px"),et.setStyle(lt,"height",nt.lineHeight+"px")):et.setStyle(lt,"display","none")}}for(;this.cursors.length>_;)this.removeCursor();var ct=this.session.getOverwrite();this.$setOverwrite(ct),this.$pixelPos=tt,this.restartTimer()},at.prototype.$setOverwrite=function(nt){nt!=this.overwrite&&(this.overwrite=nt,nt?et.addCssClass(this.element,"ace_overwrite-cursors"):et.removeCssClass(this.element,"ace_overwrite-cursors"))},at.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},at}();ot.prototype.$padding=0,ot.prototype.drawCursor=null,a.Cursor=ot}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(o,a,rt){var et=this&&this.__extends||function(){var st=function(lt,ct){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,ut){ht.__proto__=ut}||function(ht,ut){for(var pt in ut)Object.prototype.hasOwnProperty.call(ut,pt)&&(ht[pt]=ut[pt])},st(lt,ct)};return function(lt,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");st(lt,ct);function ht(){this.constructor=lt}lt.prototype=ct===null?Object.create(ct):(ht.prototype=ct.prototype,new ht)}}(),ot=o("./lib/oop"),at=o("./lib/dom"),nt=o("./lib/event"),it=o("./lib/event_emitter").EventEmitter,j=32768,_=function(){function st(lt,ct){this.element=at.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+ct,this.inner=at.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),lt.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,nt.addListener(this.element,"scroll",this.onScroll.bind(this)),nt.addListener(this.element,"mousedown",nt.preventDefault)}return st.prototype.setVisible=function(lt){this.element.style.display=lt?"":"none",this.isVisible=lt,this.coeff=1},st}();ot.implement(_.prototype,it);var $=function(st){et(lt,st);function lt(ct,ht){var ut=st.call(this,ct,"-v")||this;return ut.scrollTop=0,ut.scrollHeight=0,ht.$scrollbarWidth=ut.width=at.scrollbarWidth(ct.ownerDocument),ut.inner.style.width=ut.element.style.width=(ut.width||15)+5+"px",ut.$minWidth=0,ut}return lt.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var ct=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-ct)/(this.coeff-ct)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},lt.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},lt.prototype.setHeight=function(ct){this.element.style.height=ct+"px"},lt.prototype.setScrollHeight=function(ct){this.scrollHeight=ct,ct>j?(this.coeff=j/ct,ct=j):this.coeff!=1&&(this.coeff=1),this.inner.style.height=ct+"px"},lt.prototype.setScrollTop=function(ct){this.scrollTop!=ct&&(this.skipEvent=!0,this.scrollTop=ct,this.element.scrollTop=ct*this.coeff)},lt}(_);$.prototype.setInnerHeight=$.prototype.setScrollHeight;var tt=function(st){et(lt,st);function lt(ct,ht){var ut=st.call(this,ct,"-h")||this;return ut.scrollLeft=0,ut.height=ht.$scrollbarWidth,ut.inner.style.height=ut.element.style.height=(ut.height||15)+5+"px",ut}return lt.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},lt.prototype.getHeight=function(){return this.isVisible?this.height:0},lt.prototype.setWidth=function(ct){this.element.style.width=ct+"px"},lt.prototype.setInnerWidth=function(ct){this.inner.style.width=ct+"px"},lt.prototype.setScrollWidth=function(ct){this.inner.style.width=ct+"px"},lt.prototype.setScrollLeft=function(ct){this.scrollLeft!=ct&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=ct)},lt}(_);a.ScrollBar=$,a.ScrollBarV=$,a.ScrollBarH=tt,a.VScrollBar=$,a.HScrollBar=tt}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(o,a,rt){var et=this&&this.__extends||function(){var tt=function(st,lt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ht){ct.__proto__=ht}||function(ct,ht){for(var ut in ht)Object.prototype.hasOwnProperty.call(ht,ut)&&(ct[ut]=ht[ut])},tt(st,lt)};return function(st,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");tt(st,lt);function ct(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(ct.prototype=lt.prototype,new ct)}}(),ot=o("./lib/oop"),at=o("./lib/dom"),nt=o("./lib/event"),it=o("./lib/event_emitter").EventEmitter;at.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var j=function(){function tt(st,lt){this.element=at.createElement("div"),this.element.className="ace_sb"+lt,this.inner=at.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,st.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,nt.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return tt.prototype.setVisible=function(st){this.element.style.display=st?"":"none",this.isVisible=st,this.coeff=1},tt}();ot.implement(j.prototype,it);var _=function(tt){et(st,tt);function st(lt,ct){var ht=tt.call(this,lt,"-v")||this;return ht.scrollTop=0,ht.scrollHeight=0,ht.parent=lt,ht.width=ht.VScrollWidth,ht.renderer=ct,ht.inner.style.width=ht.element.style.width=(ht.width||15)+"px",ht.$minWidth=0,ht}return st.prototype.onMouseDown=function(lt,ct){if(lt==="mousedown"&&!(nt.getButton(ct)!==0||ct.detail===2)){if(ct.target===this.inner){var ht=this,ut=ct.clientY,pt=function(Et){ut=Et.clientY},mt=function(){clearInterval(yt)},vt=ct.clientY,dt=this.thumbTop,St=function(){if(ut!==void 0){var Et=ht.scrollTopFromThumbTop(dt+ut-vt);Et!==ht.scrollTop&&ht._emit("scroll",{data:Et})}};nt.capture(this.inner,pt,mt);var yt=setInterval(St,20);return nt.preventDefault(ct)}var gt=ct.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(gt)}),nt.preventDefault(ct)}},st.prototype.getHeight=function(){return this.height},st.prototype.scrollTopFromThumbTop=function(lt){var ct=lt*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return ct=ct>>0,ct<0?ct=0:ct>this.pageHeight-this.viewHeight&&(ct=this.pageHeight-this.viewHeight),ct},st.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},st.prototype.setHeight=function(lt){this.height=Math.max(0,lt),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},st.prototype.setScrollHeight=function(lt,ct){this.pageHeight===lt&&!ct||(this.pageHeight=lt,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},st.prototype.setScrollTop=function(lt){this.scrollTop=lt,lt<0&&(lt=0),this.thumbTop=lt*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},st}(j);_.prototype.setInnerHeight=_.prototype.setScrollHeight;var $=function(tt){et(st,tt);function st(lt,ct){var ht=tt.call(this,lt,"-h")||this;return ht.scrollLeft=0,ht.scrollWidth=0,ht.height=ht.HScrollHeight,ht.inner.style.height=ht.element.style.height=(ht.height||12)+"px",ht.renderer=ct,ht}return st.prototype.onMouseDown=function(lt,ct){if(lt==="mousedown"&&!(nt.getButton(ct)!==0||ct.detail===2)){if(ct.target===this.inner){var ht=this,ut=ct.clientX,pt=function(Et){ut=Et.clientX},mt=function(){clearInterval(yt)},vt=ct.clientX,dt=this.thumbLeft,St=function(){if(ut!==void 0){var Et=ht.scrollLeftFromThumbLeft(dt+ut-vt);Et!==ht.scrollLeft&&ht._emit("scroll",{data:Et})}};nt.capture(this.inner,pt,mt);var yt=setInterval(St,20);return nt.preventDefault(ct)}var gt=ct.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(gt)}),nt.preventDefault(ct)}},st.prototype.getHeight=function(){return this.isVisible?this.height:0},st.prototype.scrollLeftFromThumbLeft=function(lt){var ct=lt*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return ct=ct>>0,ct<0?ct=0:ct>this.pageWidth-this.viewWidth&&(ct=this.pageWidth-this.viewWidth),ct},st.prototype.setWidth=function(lt){this.width=Math.max(0,lt),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},st.prototype.setScrollWidth=function(lt,ct){this.pageWidth===lt&&!ct||(this.pageWidth=lt,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},st.prototype.setScrollLeft=function(lt){this.scrollLeft=lt,lt<0&&(lt=0),this.thumbLeft=lt*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},st}(j);$.prototype.setInnerWidth=$.prototype.setScrollWidth,a.ScrollBar=_,a.ScrollBarV=_,a.ScrollBarH=$,a.VScrollBar=_,a.HScrollBar=$}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(o,a,rt){var et=o("./lib/event"),ot=function(){function at(nt,it){this.onRender=nt,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=it||window;var j=this;this._flush=function(_){j.pending=!1;var $=j.changes;if($&&(et.blockIdle(100),j.changes=0,j.onRender($)),j.changes){if(j.$recursionLimit--<0)return;j.schedule()}else j.$recursionLimit=2}}return at.prototype.schedule=function(nt){this.changes=this.changes|nt,this.changes&&!this.pending&&(et.nextFrame(this._flush),this.pending=!0)},at.prototype.clear=function(nt){var it=this.changes;return this.changes=0,it},at}();a.RenderLoop=ot}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(o,a,rt){var et=o("../lib/oop"),ot=o("../lib/dom"),at=o("../lib/lang"),nt=o("../lib/event"),it=o("../lib/useragent"),j=o("../lib/event_emitter").EventEmitter,_=512,$=typeof ResizeObserver=="function",tt=200,st=function(){function lt(ct){this.el=ot.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=ot.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=ot.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),ct.appendChild(this.el),this.$measureNode.textContent=at.stringRepeat("X",_),this.$characterSize={width:0,height:0},$?this.$addObserver():this.checkForSizeChanges()}return lt.prototype.$setMeasureNodeStyles=function(ct,ht){ct.width=ct.height="auto",ct.left=ct.top="0px",ct.visibility="hidden",ct.position="absolute",ct.whiteSpace="pre",it.isIE<8?ct["font-family"]="inherit":ct.font="inherit",ct.overflow=ht?"hidden":"visible"},lt.prototype.checkForSizeChanges=function(ct){if(ct===void 0&&(ct=this.$measureSizes()),ct&&(this.$characterSize.width!==ct.width||this.$characterSize.height!==ct.height)){this.$measureNode.style.fontWeight="bold";var ht=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=ct,this.charSizes=Object.create(null),this.allowBoldFonts=ht&&ht.width===ct.width&&ht.height===ct.height,this._emit("changeCharacterSize",{data:ct})}},lt.prototype.$addObserver=function(){var ct=this;this.$observer=new window.ResizeObserver(function(ht){ct.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},lt.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var ct=this;return this.$pollSizeChangesTimer=nt.onIdle(function ht(){ct.checkForSizeChanges(),nt.onIdle(ht,500)},500)},lt.prototype.setPolling=function(ct){ct?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},lt.prototype.$measureSizes=function(ct){var ht={height:(ct||this.$measureNode).clientHeight,width:(ct||this.$measureNode).clientWidth/_};return ht.width===0||ht.height===0?null:ht},lt.prototype.$measureCharWidth=function(ct){this.$main.textContent=at.stringRepeat(ct,_);var ht=this.$main.getBoundingClientRect();return ht.width/_},lt.prototype.getCharacterWidth=function(ct){var ht=this.charSizes[ct];return ht===void 0&&(ht=this.charSizes[ct]=this.$measureCharWidth(ct)/this.$characterSize.width),ht},lt.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},lt.prototype.$getZoom=function(ct){return!ct||!ct.parentElement?1:(Number(window.getComputedStyle(ct).zoom)||1)*this.$getZoom(ct.parentElement)},lt.prototype.$initTransformMeasureNodes=function(){var ct=function(ht,ut){return["div",{style:"position: absolute;top:"+ht+"px;left:"+ut+"px;"}]};this.els=ot.buildDom([ct(0,0),ct(tt,0),ct(0,tt),ct(tt,tt)],this.el)},lt.prototype.transformCoordinates=function(ct,ht){if(ct){var ut=this.$getZoom(this.el);ct=dt(1/ut,ct)}function pt(Bt,Kt,Wt){var zt=Bt[1]*Kt[0]-Bt[0]*Kt[1];return[(-Kt[1]*Wt[0]+Kt[0]*Wt[1])/zt,(+Bt[1]*Wt[0]-Bt[0]*Wt[1])/zt]}function mt(Bt,Kt){return[Bt[0]-Kt[0],Bt[1]-Kt[1]]}function vt(Bt,Kt){return[Bt[0]+Kt[0],Bt[1]+Kt[1]]}function dt(Bt,Kt){return[Bt*Kt[0],Bt*Kt[1]]}this.els||this.$initTransformMeasureNodes();function St(Bt){var Kt=Bt.getBoundingClientRect();return[Kt.left,Kt.top]}var yt=St(this.els[0]),gt=St(this.els[1]),Et=St(this.els[2]),_t=St(this.els[3]),kt=pt(mt(_t,gt),mt(_t,Et),mt(vt(gt,Et),vt(_t,yt))),Ct=dt(1+kt[0],mt(gt,yt)),Tt=dt(1+kt[1],mt(Et,yt));if(ht){var At=ht,It=kt[0]*At[0]/tt+kt[1]*At[1]/tt+1,Ot=vt(dt(At[0],Ct),dt(At[1],Tt));return vt(dt(1/It/tt,Ot),yt)}var Mt=mt(ct,yt),Dt=pt(mt(Ct,dt(kt[0],Mt)),mt(Tt,dt(kt[1],Mt)),Mt);return dt(tt,Dt)},lt}();st.prototype.$characterSize={width:0,height:0},et.implement(st.prototype,j),a.FontMetrics=st}),ace.define("ace/css/editor-css",["require","exports","module"],function(o,a,rt){rt.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(o,a,rt){var et=o("../lib/dom"),ot=o("../lib/oop"),at=o("../lib/event_emitter").EventEmitter,nt=function(){function it(j,_){this.canvas=et.createElement("canvas"),this.renderer=_,this.pixelRatio=1,this.maxHeight=_.layerConfig.maxHeight,this.lineHeight=_.layerConfig.lineHeight,this.canvasHeight=j.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=j.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},j.element.appendChild(this.canvas)}return it.prototype.$updateDecorators=function(j){var _=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(j){this.maxHeight=j.maxHeight,this.lineHeight=j.lineHeight,this.canvasHeight=j.height;var $=(j.lastRow+1)*this.lineHeight;$<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var tt=this.canvas.getContext("2d");function st(_t,kt){return _t.priority<kt.priority?-1:_t.priority>kt.priority?1:0}var lt=this.renderer.session.$annotations;if(tt.clearRect(0,0,this.canvas.width,this.canvas.height),lt){var ct={info:1,warning:2,error:3};lt.forEach(function(_t){_t.priority=ct[_t.type]||null}),lt=lt.sort(st);for(var ht=this.renderer.session.$foldData,ut=0;ut<lt.length;ut++){var pt=lt[ut].row,mt=this.compensateFoldRows(pt,ht),vt=Math.round((pt-mt)*this.lineHeight*this.heightRatio),dt=Math.round((pt-mt)*this.lineHeight*this.heightRatio),St=Math.round(((pt-mt)*this.lineHeight+this.lineHeight)*this.heightRatio),yt=St-dt;if(yt<this.minDecorationHeight){var gt=(dt+St)/2|0;gt<this.halfMinDecorationHeight?gt=this.halfMinDecorationHeight:gt+this.halfMinDecorationHeight>this.canvasHeight&&(gt=this.canvasHeight-this.halfMinDecorationHeight),dt=Math.round(gt-this.halfMinDecorationHeight),St=Math.round(gt+this.halfMinDecorationHeight)}tt.fillStyle=_[lt[ut].type]||null,tt.fillRect(0,vt,this.canvasWidth,St-dt)}}var Et=this.renderer.session.selection.getCursor();if(Et){var mt=this.compensateFoldRows(Et.row,ht),vt=Math.round((Et.row-mt)*this.lineHeight*this.heightRatio);tt.fillStyle="rgba(0, 0, 0, 0.5)",tt.fillRect(0,vt,this.canvasWidth,2)}},it.prototype.compensateFoldRows=function(j,_){var $=0;if(_&&_.length>0)for(var tt=0;tt<_.length;tt++)j>_[tt].start.row&&j<_[tt].end.row?$+=j-_[tt].start.row:j>=_[tt].end.row&&($+=_[tt].end.row-_[tt].start.row);return $},it}();ot.implement(nt.prototype,at),a.Decorator=nt}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(o,a,rt){var et=o("./lib/oop"),ot=o("./lib/dom"),at=o("./lib/lang"),nt=o("./config"),it=o("./layer/gutter").Gutter,j=o("./layer/marker").Marker,_=o("./layer/text").Text,$=o("./layer/cursor").Cursor,tt=o("./scrollbar").HScrollBar,st=o("./scrollbar").VScrollBar,lt=o("./scrollbar_custom").HScrollBar,ct=o("./scrollbar_custom").VScrollBar,ht=o("./renderloop").RenderLoop,ut=o("./layer/font_metrics").FontMetrics,pt=o("./lib/event_emitter").EventEmitter,mt=o("./css/editor-css"),vt=o("./layer/decorators").Decorator,dt=o("./lib/useragent");ot.importCssString(mt,"ace_editor.css",!1);var St=function(){function yt(gt,Et){var _t=this;this.container=gt||ot.createElement("div"),ot.addCssClass(this.container,"ace_editor"),ot.HI_DPI&&ot.addCssClass(this.container,"ace_hidpi"),this.setTheme(Et),nt.get("useStrictCSP")==null&&nt.set("useStrictCSP",!1),this.$gutter=ot.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=ot.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=ot.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new it(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new j(this.content);var kt=this.$textLayer=new _(this.content);this.canvas=kt.element,this.$markerFront=new j(this.content),this.$cursorLayer=new $(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new st(this.container,this),this.scrollBarH=new tt(this.container,this),this.scrollBarV.on("scroll",function(Ct){_t.$scrollAnimation||_t.session.setScrollTop(Ct.data-_t.scrollMargin.top)}),this.scrollBarH.on("scroll",function(Ct){_t.$scrollAnimation||_t.session.setScrollLeft(Ct.data-_t.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new ut(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(Ct){_t.updateCharacterSize(),_t.onResize(!0,_t.gutterWidth,_t.$size.width,_t.$size.height),_t._signal("changeCharacterSize",Ct)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!dt.isIOS,this.$loop=new ht(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),nt.resetOptions(this),nt._signal("renderer",this)}return yt.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),ot.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},yt.prototype.setSession=function(gt){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=gt,gt&&this.scrollMargin.top&&gt.getScrollTop()<=0&&gt.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(gt),this.$markerBack.setSession(gt),this.$markerFront.setSession(gt),this.$gutterLayer.setSession(gt),this.$textLayer.setSession(gt),gt&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},yt.prototype.updateLines=function(gt,Et,_t){if(Et===void 0&&(Et=1/0),this.$changedLines?(this.$changedLines.firstRow>gt&&(this.$changedLines.firstRow=gt),this.$changedLines.lastRow<Et&&(this.$changedLines.lastRow=Et)):this.$changedLines={firstRow:gt,lastRow:Et},this.$changedLines.lastRow<this.layerConfig.firstRow)if(_t)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},yt.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},yt.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},yt.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},yt.prototype.updateFull=function(gt){gt?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},yt.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},yt.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},yt.prototype.onResize=function(gt,Et,_t,kt){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=gt?1:0;var Ct=this.container;kt||(kt=Ct.clientHeight||Ct.scrollHeight),!kt&&this.$maxLines&&this.lineHeight>1&&(!Ct.style.height||Ct.style.height=="0px")&&(Ct.style.height="1px",kt=Ct.clientHeight||Ct.scrollHeight),_t||(_t=Ct.clientWidth||Ct.scrollWidth);var Tt=this.$updateCachedSize(gt,Et,_t,kt);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!_t&&!kt)return this.resizing=0;gt&&(this.$gutterLayer.$padding=null),gt?this.$renderChanges(Tt|this.$changes,!0):this.$loop.schedule(Tt|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},yt.prototype.$updateCachedSize=function(gt,Et,_t,kt){kt-=this.$extraHeight||0;var Ct=0,Tt=this.$size,At={width:Tt.width,height:Tt.height,scrollerHeight:Tt.scrollerHeight,scrollerWidth:Tt.scrollerWidth};if(kt&&(gt||Tt.height!=kt)&&(Tt.height=kt,Ct|=this.CHANGE_SIZE,Tt.scrollerHeight=Tt.height,this.$horizScroll&&(Tt.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(Tt.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",Ct=Ct|this.CHANGE_SCROLL),_t&&(gt||Tt.width!=_t)){Ct|=this.CHANGE_SIZE,Tt.width=_t,Et==null&&(Et=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=Et,ot.setStyle(this.scrollBarH.element.style,"left",Et+"px"),ot.setStyle(this.scroller.style,"left",Et+this.margin.left+"px"),Tt.scrollerWidth=Math.max(0,_t-Et-this.scrollBarV.getWidth()-this.margin.h),ot.setStyle(this.$gutter.style,"left",this.margin.left+"px");var It=this.scrollBarV.getWidth()+"px";ot.setStyle(this.scrollBarH.element.style,"right",It),ot.setStyle(this.scroller.style,"right",It),ot.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(Tt.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||gt)&&(Ct|=this.CHANGE_FULL)}return Tt.$dirty=!_t||!kt,Ct&&this._signal("resize",At),Ct},yt.prototype.onGutterResize=function(gt){var Et=this.$showGutter?gt:0;Et!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,Et,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},yt.prototype.adjustWrapLimit=function(){var gt=this.$size.scrollerWidth-this.$padding*2,Et=Math.floor(gt/this.characterWidth);return this.session.adjustWrapLimit(Et,this.$showPrintMargin&&this.$printMarginColumn)},yt.prototype.setAnimatedScroll=function(gt){this.setOption("animatedScroll",gt)},yt.prototype.getAnimatedScroll=function(){return this.$animatedScroll},yt.prototype.setShowInvisibles=function(gt){this.setOption("showInvisibles",gt),this.session.$bidiHandler.setShowInvisibles(gt)},yt.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},yt.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},yt.prototype.setDisplayIndentGuides=function(gt){this.setOption("displayIndentGuides",gt)},yt.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},yt.prototype.setHighlightIndentGuides=function(gt){this.setOption("highlightIndentGuides",gt)},yt.prototype.setShowPrintMargin=function(gt){this.setOption("showPrintMargin",gt)},yt.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},yt.prototype.setPrintMarginColumn=function(gt){this.setOption("printMarginColumn",gt)},yt.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},yt.prototype.getShowGutter=function(){return this.getOption("showGutter")},yt.prototype.setShowGutter=function(gt){return this.setOption("showGutter",gt)},yt.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},yt.prototype.setFadeFoldWidgets=function(gt){this.setOption("fadeFoldWidgets",gt)},yt.prototype.setHighlightGutterLine=function(gt){this.setOption("highlightGutterLine",gt)},yt.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},yt.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var gt=ot.createElement("div");gt.className="ace_layer ace_print-margin-layer",this.$printMarginEl=ot.createElement("div"),this.$printMarginEl.className="ace_print-margin",gt.appendChild(this.$printMarginEl),this.content.insertBefore(gt,this.content.firstChild)}var Et=this.$printMarginEl.style;Et.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",Et.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},yt.prototype.getContainerElement=function(){return this.container},yt.prototype.getMouseEventTarget=function(){return this.scroller},yt.prototype.getTextAreaContainer=function(){return this.container},yt.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var gt=this.textarea.style,Et=this.$composition;if(!this.$keepTextAreaAtCursor&&!Et){ot.translate(this.textarea,-100,0);return}var _t=this.$cursorLayer.$pixelPos;if(_t){Et&&Et.markerRange&&(_t=this.$cursorLayer.getPixelPosition(Et.markerRange.start,!0));var kt=this.layerConfig,Ct=_t.top,Tt=_t.left;Ct-=kt.offset;var At=Et&&Et.useTextareaForIME||dt.isMobile?this.lineHeight:1;if(Ct<0||Ct>kt.height-At){ot.translate(this.textarea,0,0);return}var It=1,Ot=this.$size.height-At;if(!Et)Ct+=this.lineHeight;else if(Et.useTextareaForIME){var Mt=this.textarea.value;It=this.characterWidth*this.session.$getStringScreenWidth(Mt)[0]}else Ct+=this.lineHeight+2;Tt-=this.scrollLeft,Tt>this.$size.scrollerWidth-It&&(Tt=this.$size.scrollerWidth-It),Tt+=this.gutterWidth+this.margin.left,ot.setStyle(gt,"height",At+"px"),ot.setStyle(gt,"width",It+"px"),ot.translate(this.textarea,Math.min(Tt,this.$size.scrollerWidth-It),Math.min(Ct,Ot))}}},yt.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},yt.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},yt.prototype.getLastFullyVisibleRow=function(){var gt=this.layerConfig,Et=gt.lastRow,_t=this.session.documentToScreenRow(Et,0)*gt.lineHeight;return _t-this.session.getScrollTop()>gt.height-gt.lineHeight?Et-1:Et},yt.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},yt.prototype.setPadding=function(gt){this.$padding=gt,this.$textLayer.setPadding(gt),this.$cursorLayer.setPadding(gt),this.$markerFront.setPadding(gt),this.$markerBack.setPadding(gt),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},yt.prototype.setScrollMargin=function(gt,Et,_t,kt){var Ct=this.scrollMargin;Ct.top=gt|0,Ct.bottom=Et|0,Ct.right=kt|0,Ct.left=_t|0,Ct.v=Ct.top+Ct.bottom,Ct.h=Ct.left+Ct.right,Ct.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-Ct.top),this.updateFull()},yt.prototype.setMargin=function(gt,Et,_t,kt){var Ct=this.margin;Ct.top=gt|0,Ct.bottom=Et|0,Ct.right=kt|0,Ct.left=_t|0,Ct.v=Ct.top+Ct.bottom,Ct.h=Ct.left+Ct.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},yt.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},yt.prototype.setHScrollBarAlwaysVisible=function(gt){this.setOption("hScrollBarAlwaysVisible",gt)},yt.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},yt.prototype.setVScrollBarAlwaysVisible=function(gt){this.setOption("vScrollBarAlwaysVisible",gt)},yt.prototype.$updateScrollBarV=function(){var gt=this.layerConfig.maxHeight,Et=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(gt-=(Et-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>gt-Et&&(gt=this.scrollTop+Et,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(gt+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},yt.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},yt.prototype.freeze=function(){this.$frozen=!0},yt.prototype.unfreeze=function(){this.$frozen=!1},yt.prototype.$renderChanges=function(gt,Et){if(this.$changes&&(gt|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!gt&&!Et){this.$changes|=gt;return}if(this.$size.$dirty)return this.$changes|=gt,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",gt),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var _t=this.layerConfig;if(gt&this.CHANGE_FULL||gt&this.CHANGE_SIZE||gt&this.CHANGE_TEXT||gt&this.CHANGE_LINES||gt&this.CHANGE_SCROLL||gt&this.CHANGE_H_SCROLL){if(gt|=this.$computeLayerConfig()|this.$loop.clear(),_t.firstRow!=this.layerConfig.firstRow&&_t.firstRowScreen==this.layerConfig.firstRowScreen){var kt=this.scrollTop+(_t.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;kt>0&&(this.scrollTop=kt,gt=gt|this.CHANGE_SCROLL,gt|=this.$computeLayerConfig()|this.$loop.clear())}_t=this.layerConfig,this.$updateScrollBarV(),gt&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),ot.translate(this.content,-this.scrollLeft,-_t.offset);var Ct=_t.width+2*this.$padding+"px",Tt=_t.minHeight+"px";ot.setStyle(this.content.style,"width",Ct),ot.setStyle(this.content.style,"height",Tt)}if(gt&this.CHANGE_H_SCROLL&&(ot.translate(this.content,-this.scrollLeft,-_t.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),gt&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(_t),this.$showGutter&&this.$gutterLayer.update(_t),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_t),this.$markerBack.update(_t),this.$markerFront.update(_t),this.$cursorLayer.update(_t),this.$moveTextAreaToCursor(),this._signal("afterRender",gt);return}if(gt&this.CHANGE_SCROLL){this.$changedLines=null,gt&this.CHANGE_TEXT||gt&this.CHANGE_LINES?this.$textLayer.update(_t):this.$textLayer.scrollLines(_t),this.$showGutter&&(gt&this.CHANGE_GUTTER||gt&this.CHANGE_LINES?this.$gutterLayer.update(_t):this.$gutterLayer.scrollLines(_t)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_t),this.$markerBack.update(_t),this.$markerFront.update(_t),this.$cursorLayer.update(_t),this.$moveTextAreaToCursor(),this._signal("afterRender",gt);return}gt&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(_t),this.$showGutter&&this.$gutterLayer.update(_t),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_t)):gt&this.CHANGE_LINES?((this.$updateLines()||gt&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(_t),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_t)):gt&this.CHANGE_TEXT||gt&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(_t),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_t)):gt&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(_t),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_t)),gt&this.CHANGE_CURSOR&&(this.$cursorLayer.update(_t),this.$moveTextAreaToCursor()),gt&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(_t),gt&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(_t),this._signal("afterRender",gt)},yt.prototype.$autosize=function(){var gt=this.session.getScreenLength()*this.lineHeight,Et=this.$maxLines*this.lineHeight,_t=Math.min(Et,Math.max((this.$minLines||1)*this.lineHeight,gt))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(_t+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&_t>this.$maxPixelHeight&&(_t=this.$maxPixelHeight);var kt=_t<=2*this.lineHeight,Ct=!kt&&gt>Et;if(_t!=this.desiredHeight||this.$size.height!=this.desiredHeight||Ct!=this.$vScroll){Ct!=this.$vScroll&&(this.$vScroll=Ct,this.scrollBarV.setVisible(Ct));var Tt=this.container.clientWidth;this.container.style.height=_t+"px",this.$updateCachedSize(!0,this.$gutterWidth,Tt,_t),this.desiredHeight=_t,this._signal("autosize")}},yt.prototype.$computeLayerConfig=function(){var gt=this.session,Et=this.$size,_t=Et.height<=2*this.lineHeight,kt=this.session.getScreenLength(),Ct=kt*this.lineHeight,Tt=this.$getLongestLine(),At=!_t&&(this.$hScrollBarAlwaysVisible||Et.scrollerWidth-Tt-2*this.$padding<0),It=this.$horizScroll!==At;It&&(this.$horizScroll=At,this.scrollBarH.setVisible(At));var Ot=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Mt=Et.scrollerHeight+this.lineHeight,Dt=!this.$maxLines&&this.$scrollPastEnd?(Et.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;Ct+=Dt;var Bt=this.scrollMargin;this.session.setScrollTop(Math.max(-Bt.top,Math.min(this.scrollTop,Ct-Et.scrollerHeight+Bt.bottom))),this.session.setScrollLeft(Math.max(-Bt.left,Math.min(this.scrollLeft,Tt+2*this.$padding-Et.scrollerWidth+Bt.right)));var Kt=!_t&&(this.$vScrollBarAlwaysVisible||Et.scrollerHeight-Ct+Dt<0||this.scrollTop>Bt.top),Wt=Ot!==Kt;Wt&&(this.$vScroll=Kt,this.scrollBarV.setVisible(Kt));var zt=this.scrollTop%this.lineHeight,Ht=Math.ceil(Mt/this.lineHeight)-1,Zt=Math.max(0,Math.round((this.scrollTop-zt)/this.lineHeight)),Qt=Zt+Ht,hr,fr,pr=this.lineHeight;Zt=gt.screenToDocumentRow(Zt,0);var gr=gt.getFoldLine(Zt);gr&&(Zt=gr.start.row),hr=gt.documentToScreenRow(Zt,0),fr=gt.getRowLength(Zt)*pr,Qt=Math.min(gt.screenToDocumentRow(Qt,0),gt.getLength()-1),Mt=Et.scrollerHeight+gt.getRowLength(Qt)*pr+fr,zt=this.scrollTop-hr*pr;var tr=0;return(this.layerConfig.width!=Tt||It)&&(tr=this.CHANGE_H_SCROLL),(It||Wt)&&(tr|=this.$updateCachedSize(!0,this.gutterWidth,Et.width,Et.height),this._signal("scrollbarVisibilityChanged"),Wt&&(Tt=this.$getLongestLine())),this.layerConfig={width:Tt,padding:this.$padding,firstRow:Zt,firstRowScreen:hr,lastRow:Qt,lineHeight:pr,characterWidth:this.characterWidth,minHeight:Mt,maxHeight:Ct,offset:zt,gutterOffset:pr?Math.max(0,Math.ceil((zt+Et.height-Et.scrollerHeight)/pr)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(Tt-this.$padding),tr},yt.prototype.$updateLines=function(){if(this.$changedLines){var gt=this.$changedLines.firstRow,Et=this.$changedLines.lastRow;this.$changedLines=null;var _t=this.layerConfig;if(!(gt>_t.lastRow+1)&&!(Et<_t.firstRow)){if(Et===1/0){this.$showGutter&&this.$gutterLayer.update(_t),this.$textLayer.update(_t);return}return this.$textLayer.updateLines(_t,gt,Et),!0}}},yt.prototype.$getLongestLine=function(){var gt=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(gt+=1),this.$textLayer&&gt>this.$textLayer.MAX_LINE_LENGTH&&(gt=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(gt*this.characterWidth))},yt.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},yt.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},yt.prototype.addGutterDecoration=function(gt,Et){this.$gutterLayer.addGutterDecoration(gt,Et)},yt.prototype.removeGutterDecoration=function(gt,Et){this.$gutterLayer.removeGutterDecoration(gt,Et)},yt.prototype.updateBreakpoints=function(gt){this._rows=gt,this.$loop.schedule(this.CHANGE_GUTTER)},yt.prototype.setAnnotations=function(gt){this.$gutterLayer.setAnnotations(gt),this.$loop.schedule(this.CHANGE_GUTTER)},yt.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},yt.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},yt.prototype.showCursor=function(){this.$cursorLayer.showCursor()},yt.prototype.scrollSelectionIntoView=function(gt,Et,_t){this.scrollCursorIntoView(gt,_t),this.scrollCursorIntoView(Et,_t)},yt.prototype.scrollCursorIntoView=function(gt,Et,_t){if(this.$size.scrollerHeight!==0){var kt=this.$cursorLayer.getPixelPosition(gt),Ct=kt.left,Tt=kt.top,At=_t&&_t.top||0,It=_t&&_t.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Ot=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Ot+At>Tt?(Et&&Ot+At>Tt+this.lineHeight&&(Tt-=Et*this.$size.scrollerHeight),Tt===0&&(Tt=-this.scrollMargin.top),this.session.setScrollTop(Tt)):Ot+this.$size.scrollerHeight-It<Tt+this.lineHeight&&(Et&&Ot+this.$size.scrollerHeight-It<Tt-this.lineHeight&&(Tt+=Et*this.$size.scrollerHeight),this.session.setScrollTop(Tt+this.lineHeight+It-this.$size.scrollerHeight));var Mt=this.scrollLeft,Dt=2*this.layerConfig.characterWidth;Ct-Dt<Mt?(Ct-=Dt,Ct<this.$padding+Dt&&(Ct=-this.scrollMargin.left),this.session.setScrollLeft(Ct)):(Ct+=Dt,Mt+this.$size.scrollerWidth<Ct+this.characterWidth?this.session.setScrollLeft(Math.round(Ct+this.characterWidth-this.$size.scrollerWidth)):Mt<=this.$padding&&Ct-Mt<this.characterWidth&&this.session.setScrollLeft(0))}},yt.prototype.getScrollTop=function(){return this.session.getScrollTop()},yt.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},yt.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},yt.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},yt.prototype.scrollToRow=function(gt){this.session.setScrollTop(gt*this.lineHeight)},yt.prototype.alignCursor=function(gt,Et){typeof gt=="number"&&(gt={row:gt,column:0});var _t=this.$cursorLayer.getPixelPosition(gt),kt=this.$size.scrollerHeight-this.lineHeight,Ct=_t.top-kt*(Et||0);return this.session.setScrollTop(Ct),Ct},yt.prototype.$calcSteps=function(gt,Et){var _t=0,kt=this.STEPS,Ct=[],Tt=function(At,It,Ot){return Ot*(Math.pow(At-1,3)+1)+It};for(_t=0;_t<kt;++_t)Ct.push(Tt(_t/this.STEPS,gt,Et-gt));return Ct},yt.prototype.scrollToLine=function(gt,Et,_t,kt){var Ct=this.$cursorLayer.getPixelPosition({row:gt,column:0}),Tt=Ct.top;Et&&(Tt-=this.$size.scrollerHeight/2);var At=this.scrollTop;this.session.setScrollTop(Tt),_t!==!1&&this.animateScrolling(At,kt)},yt.prototype.animateScrolling=function(gt,Et){var _t=this.scrollTop;if(!this.$animatedScroll)return;var kt=this;if(gt==_t)return;if(this.$scrollAnimation){var Ct=this.$scrollAnimation.steps;if(Ct.length&&(gt=Ct[0],gt==_t))return}var Tt=kt.$calcSteps(gt,_t);this.$scrollAnimation={from:gt,to:_t,steps:Tt},clearInterval(this.$timer),kt.session.setScrollTop(Tt.shift()),kt.session.$scrollTop=_t;function At(){kt.$timer=clearInterval(kt.$timer),kt.$scrollAnimation=null,kt.$stopAnimation=!1,Et&&Et()}this.$timer=setInterval(function(){if(kt.$stopAnimation){At();return}if(!kt.session)return clearInterval(kt.$timer);Tt.length?(kt.session.setScrollTop(Tt.shift()),kt.session.$scrollTop=_t):_t!=null?(kt.session.$scrollTop=-1,kt.session.setScrollTop(_t),_t=null):At()},10)},yt.prototype.scrollToY=function(gt){this.scrollTop!==gt&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=gt)},yt.prototype.scrollToX=function(gt){this.scrollLeft!==gt&&(this.scrollLeft=gt),this.$loop.schedule(this.CHANGE_H_SCROLL)},yt.prototype.scrollTo=function(gt,Et){this.session.setScrollTop(Et),this.session.setScrollLeft(gt)},yt.prototype.scrollBy=function(gt,Et){Et&&this.session.setScrollTop(this.session.getScrollTop()+Et),gt&&this.session.setScrollLeft(this.session.getScrollLeft()+gt)},yt.prototype.isScrollableBy=function(gt,Et){if(Et<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||Et>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||gt<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||gt>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},yt.prototype.pixelToScreenCoordinates=function(gt,Et){var _t;if(this.$hasCssTransforms){_t={top:0,left:0};var kt=this.$fontMetrics.transformCoordinates([gt,Et]);gt=kt[1]-this.gutterWidth-this.margin.left,Et=kt[0]}else _t=this.scroller.getBoundingClientRect();var Ct=gt+this.scrollLeft-_t.left-this.$padding,Tt=Ct/this.characterWidth,At=Math.floor((Et+this.scrollTop-_t.top)/this.lineHeight),It=this.$blockCursor?Math.floor(Tt):Math.round(Tt);return{row:At,column:It,side:Tt-It>0?1:-1,offsetX:Ct}},yt.prototype.screenToTextCoordinates=function(gt,Et){var _t;if(this.$hasCssTransforms){_t={top:0,left:0};var kt=this.$fontMetrics.transformCoordinates([gt,Et]);gt=kt[1]-this.gutterWidth-this.margin.left,Et=kt[0]}else _t=this.scroller.getBoundingClientRect();var Ct=gt+this.scrollLeft-_t.left-this.$padding,Tt=Ct/this.characterWidth,At=this.$blockCursor?Math.floor(Tt):Math.round(Tt),It=Math.floor((Et+this.scrollTop-_t.top)/this.lineHeight);return this.session.screenToDocumentPosition(It,Math.max(At,0),Ct)},yt.prototype.textToScreenCoordinates=function(gt,Et){var _t=this.scroller.getBoundingClientRect(),kt=this.session.documentToScreenPosition(gt,Et),Ct=this.$padding+(this.session.$bidiHandler.isBidiRow(kt.row,gt)?this.session.$bidiHandler.getPosLeft(kt.column):Math.round(kt.column*this.characterWidth)),Tt=kt.row*this.lineHeight;return{pageX:_t.left+Ct-this.scrollLeft,pageY:_t.top+Tt-this.scrollTop}},yt.prototype.visualizeFocus=function(){ot.addCssClass(this.container,"ace_focus")},yt.prototype.visualizeBlur=function(){ot.removeCssClass(this.container,"ace_focus")},yt.prototype.showComposition=function(gt){this.$composition=gt,gt.cssText||(gt.cssText=this.textarea.style.cssText),gt.useTextareaForIME==null&&(gt.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(ot.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):gt.markerId=this.session.addMarker(gt.markerRange,"ace_composition_marker","text")},yt.prototype.setCompositionText=function(gt){var Et=this.session.selection.cursor;this.addToken(gt,"composition_placeholder",Et.row,Et.column),this.$moveTextAreaToCursor()},yt.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),ot.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var gt=this.session.selection.cursor;this.removeExtraToken(gt.row,gt.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},yt.prototype.setGhostText=function(gt,Et){var _t=this.session.selection.cursor,kt=Et||{row:_t.row,column:_t.column};this.removeGhostText();var Ct=this.$calculateWrappedTextChunks(gt,kt);this.addToken(Ct[0].text,"ghost_text",kt.row,kt.column),this.$ghostText={text:gt,position:{row:kt.row,column:kt.column}};var Tt=ot.createElement("div");if(Ct.length>1){Ct.slice(1).forEach(function(Bt){var Kt=ot.createElement("div");Bt.wrapped&&(Kt.className="ghost_text_line_wrapped"),Bt.text.length===0&&(Bt.text=" "),Kt.appendChild(ot.createTextNode(Bt.text)),Tt.appendChild(Kt)}),this.$ghostTextWidget={el:Tt,row:kt.row,column:kt.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var At=this.$cursorLayer.getPixelPosition(kt,!0),It=this.container,Ot=It.getBoundingClientRect().height,Mt=Ct.length*this.lineHeight,Dt=Mt<Ot-At.top;if(Dt)return;Mt<Ot?this.scrollBy(0,(Ct.length-1)*this.lineHeight):this.scrollToRow(kt.row)}},yt.prototype.$calculateWrappedTextChunks=function(gt,Et){var _t=this.$size.scrollerWidth-this.$padding*2,kt=Math.floor(_t/this.characterWidth)-2;kt=kt<=0?60:kt;for(var Ct=gt.split(/\r?\n/),Tt=[],At=0;At<Ct.length;At++){var It=this.session.$getDisplayTokens(Ct[At],Et.column),Ot=this.session.$computeWrapSplits(It,kt,this.session.$tabSize);if(Ot.length>0){var Mt=0;Ot.push(Ct[At].length);for(var Dt=0;Dt<Ot.length;Dt++){var Bt=Ct[At].slice(Mt,Ot[Dt]);Tt.push({text:Bt,wrapped:!0}),Mt=Ot[Dt]}}else Tt.push({text:Ct[At],wrapped:!1})}return Tt},yt.prototype.removeGhostText=function(){if(this.$ghostText){var gt=this.$ghostText.position;this.removeExtraToken(gt.row,gt.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},yt.prototype.addToken=function(gt,Et,_t,kt){var Ct=this.session;Ct.bgTokenizer.lines[_t]=null;var Tt={type:Et,value:gt},At=Ct.getTokens(_t);if(kt==null||!At.length)At.push(Tt);else for(var It=0,Ot=0;Ot<At.length;Ot++){var Mt=At[Ot];if(It+=Mt.value.length,kt<=It){var Dt=Mt.value.length-(It-kt),Bt=Mt.value.slice(0,Dt),Kt=Mt.value.slice(Dt);At.splice(Ot,1,{type:Mt.type,value:Bt},Tt,{type:Mt.type,value:Kt});break}}this.updateLines(_t,_t)},yt.prototype.removeExtraToken=function(gt,Et){this.session.bgTokenizer.lines[gt]=null,this.updateLines(gt,gt)},yt.prototype.setTheme=function(gt,Et){var _t=this;if(this.$themeId=gt,_t._dispatchEvent("themeChange",{theme:gt}),!gt||typeof gt=="string"){var kt=gt||this.$options.theme.initialValue;nt.loadModule(["theme",kt],Ct)}else Ct(gt);function Ct(Tt){if(_t.$themeId!=gt)return Et&&Et();if(!Tt||!Tt.cssClass)throw new Error("couldn't load module "+gt+" or it didn't call define");Tt.$id&&(_t.$themeId=Tt.$id),ot.importCssString(Tt.cssText,Tt.cssClass,_t.container),_t.theme&&ot.removeCssClass(_t.container,_t.theme.cssClass);var At="padding"in Tt?Tt.padding:"padding"in(_t.theme||{})?4:_t.$padding;_t.$padding&&At!=_t.$padding&&_t.setPadding(At),_t.$theme=Tt.cssClass,_t.theme=Tt,ot.addCssClass(_t.container,Tt.cssClass),ot.setCssClass(_t.container,"ace_dark",Tt.isDark),_t.$size&&(_t.$size.width=0,_t.$updateSizeAsync()),_t._dispatchEvent("themeLoaded",{theme:Tt}),Et&&Et(),dt.isSafari&&_t.scroller&&(_t.scroller.style.background="red",_t.scroller.style.background="")}},yt.prototype.getTheme=function(){return this.$themeId},yt.prototype.setStyle=function(gt,Et){ot.setCssClass(this.container,gt,Et!==!1)},yt.prototype.unsetStyle=function(gt){ot.removeCssClass(this.container,gt)},yt.prototype.setCursorStyle=function(gt){ot.setStyle(this.scroller.style,"cursor",gt)},yt.prototype.setMouseCursor=function(gt){ot.setStyle(this.scroller.style,"cursor",gt)},yt.prototype.attachToShadowRoot=function(){ot.importCssString(mt,"ace_editor.css",this.container)},yt.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},yt.prototype.$updateCustomScrollbar=function(gt){var Et=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,gt===!0?(this.scrollBarV=new ct(this.container,this),this.scrollBarH=new lt(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(_t){Et.$scrollAnimation||Et.session.setScrollTop(_t.data-Et.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(_t){Et.$scrollAnimation||Et.session.setScrollLeft(_t.data-Et.scrollMargin.left)}),this.$scrollDecorator=new vt(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new st(this.container,this),this.scrollBarH=new tt(this.container,this),this.scrollBarV.addEventListener("scroll",function(_t){Et.$scrollAnimation||Et.session.setScrollTop(_t.data-Et.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(_t){Et.$scrollAnimation||Et.session.setScrollLeft(_t.data-Et.scrollMargin.left)}))},yt.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var gt=this;this.$resizeTimer=at.delayedCall(function(){gt.destroyed||gt.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(Et){var _t=Et[0].contentRect.width,kt=Et[0].contentRect.height;Math.abs(gt.$size.width-_t)>1||Math.abs(gt.$size.height-kt)>1?gt.$resizeTimer.delay():gt.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},yt}();St.prototype.CHANGE_CURSOR=1,St.prototype.CHANGE_MARKER=2,St.prototype.CHANGE_GUTTER=4,St.prototype.CHANGE_SCROLL=8,St.prototype.CHANGE_LINES=16,St.prototype.CHANGE_TEXT=32,St.prototype.CHANGE_SIZE=64,St.prototype.CHANGE_MARKER_BACK=128,St.prototype.CHANGE_MARKER_FRONT=256,St.prototype.CHANGE_FULL=512,St.prototype.CHANGE_H_SCROLL=1024,St.prototype.$changes=0,St.prototype.$padding=null,St.prototype.$frozen=!1,St.prototype.STEPS=8,et.implement(St.prototype,pt),nt.defineOptions(St.prototype,"renderer",{useResizeObserver:{set:function(yt){!yt&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):yt&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(yt){this.$textLayer.setShowInvisibles(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(yt){typeof yt=="number"&&(this.$printMarginColumn=yt),this.$showPrintMargin=!!yt,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(yt){this.$gutter.style.display=yt?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(yt){this.$gutterLayer.$useSvgGutterIcons=yt},initialValue:!1},showFoldedAnnotations:{set:function(yt){this.$gutterLayer.$showFoldedAnnotations=yt},initialValue:!1},fadeFoldWidgets:{set:function(yt){ot.setCssClass(this.$gutter,"ace_fade-fold-widgets",yt)},initialValue:!1},showFoldWidgets:{set:function(yt){this.$gutterLayer.setShowFoldWidgets(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(yt){this.$textLayer.setDisplayIndentGuides(yt)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(yt){this.$textLayer.setHighlightIndentGuides(yt)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(yt){this.$gutterLayer.setHighlightGutterLine(yt),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(yt){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(yt){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(yt){typeof yt=="number"&&(yt=yt+"px"),this.container.style.fontSize=yt,this.updateFontSize()},initialValue:12},fontFamily:{set:function(yt){this.container.style.fontFamily=yt,this.updateFontSize()}},maxLines:{set:function(yt){this.updateFull()}},minLines:{set:function(yt){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(yt){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(yt){yt=+yt||0,this.$scrollPastEnd!=yt&&(this.$scrollPastEnd=yt,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(yt){this.$gutterLayer.$fixedWidth=!!yt,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(yt){this.$updateCustomScrollbar(yt)},initialValue:!1},theme:{set:function(yt){this.setTheme(yt)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!dt.isMobile&&!dt.isIE}}),a.VirtualRenderer=St}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(o,a,rt){var et=o("../lib/oop"),ot=o("../lib/net"),at=o("../lib/event_emitter").EventEmitter,nt=o("../config");function it(tt){var st="importScripts('"+ot.qualifyURL(tt)+"');";try{return new Blob([st],{type:"application/javascript"})}catch{var lt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,ct=new lt;return ct.append(st),ct.getBlob("application/javascript")}}function j(tt){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(nt.get("loadWorkerFromBlob")){var st=it(tt),lt=window.URL||window.webkitURL,ct=lt.createObjectURL(st);return new Worker(ct)}return new Worker(tt)}var _=function(tt){tt.postMessage||(tt=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=tt,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){et.implement(this,at),this.$createWorkerFromOldConfig=function(tt,st,lt,ct,ht){if(o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl),nt.get("packaged")||!o.toUrl)ct=ct||nt.moduleUrl(st,"worker");else{var ut=this.$normalizePath;ct=ct||ut(o.toUrl("ace/worker/worker.js",null,"_"));var pt={};tt.forEach(function(mt){pt[mt]=ut(o.toUrl(mt,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=j(ct),ht&&this.send("importScripts",ht),this.$worker.postMessage({init:!0,tlns:pt,module:st,classname:lt}),this.$worker},this.onMessage=function(tt){var st=tt.data;switch(st.type){case"event":this._signal(st.name,{data:st.data});break;case"call":var lt=this.callbacks[st.id];lt&&(lt(st.data),delete this.callbacks[st.id]);break;case"error":this.reportError(st.data);break;case"log":window.console&&console.log&&console.log.apply(console,st.data);break}},this.reportError=function(tt){window.console&&console.error&&console.error(tt)},this.$normalizePath=function(tt){return ot.qualifyURL(tt)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(tt){tt.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(tt,st){this.$worker.postMessage({command:tt,args:st})},this.call=function(tt,st,lt){if(lt){var ct=this.callbackId++;this.callbacks[ct]=lt,st.push(ct)}this.send(tt,st)},this.emit=function(tt,st){try{st.data&&st.data.err&&(st.data.err={message:st.data.err.message,stack:st.data.err.stack,code:st.data.err.code}),this.$worker&&this.$worker.postMessage({event:tt,data:{data:st.data}})}catch(lt){console.error(lt.stack)}},this.attachToDocument=function(tt){this.$doc&&this.terminate(),this.$doc=tt,this.call("setValue",[tt.getValue()]),tt.on("change",this.changeListener,!0)},this.changeListener=function(tt){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),tt.action=="insert"?this.deltaQueue.push(tt.start,tt.lines):this.deltaQueue.push(tt.start,tt.end)},this.$sendDeltaQueue=function(){var tt=this.deltaQueue;tt&&(this.deltaQueue=null,tt.length>50&&tt.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:tt}))}}).call(_.prototype);var $=function(tt,st,lt){var ct=null,ht=!1,ut=Object.create(at),pt=[],mt=new _({messageBuffer:pt,terminate:function(){},postMessage:function(dt){pt.push(dt),ct&&(ht?setTimeout(vt):vt())}});mt.setEmitSync=function(dt){ht=dt};var vt=function(){var dt=pt.shift();dt.command?ct[dt.command].apply(ct,dt.args):dt.event&&ut._signal(dt.event,dt.data)};return ut.postMessage=function(dt){mt.onMessage({data:dt})},ut.callback=function(dt,St){this.postMessage({type:"call",id:St,data:dt})},ut.emit=function(dt,St){this.postMessage({type:"event",name:dt,data:St})},nt.loadModule(["worker",st],function(dt){for(ct=new dt[lt](ut);pt.length;)vt()}),mt};a.UIWorkerClient=$,a.WorkerClient=_,a.createWorker=j}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(o,a,rt){var et=o("./range").Range,ot=o("./lib/event_emitter").EventEmitter,at=o("./lib/oop"),nt=function(){function it(j,_,$,tt,st,lt){var ct=this;this.length=_,this.session=j,this.doc=j.getDocument(),this.mainClass=st,this.othersClass=lt,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=tt,this.$onCursorChange=function(){setTimeout(function(){ct.onCursorChange()})},this.$pos=$;var ht=j.getUndoManager().$undoStack||j.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=ht.length,this.setup(),j.selection.on("changeCursor",this.$onCursorChange)}return it.prototype.setup=function(){var j=this,_=this.doc,$=this.session;this.selectionBefore=$.selection.toJSON(),$.selection.inMultiSelectMode&&$.selection.toSingleRange(),this.pos=_.createAnchor(this.$pos.row,this.$pos.column);var tt=this.pos;tt.$insertRight=!0,tt.detach(),tt.markerId=$.addMarker(new et(tt.row,tt.column,tt.row,tt.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(st){var lt=_.createAnchor(st.row,st.column);lt.$insertRight=!0,lt.detach(),j.others.push(lt)}),$.setUndoSelect(!1)},it.prototype.showOtherMarkers=function(){if(!this.othersActive){var j=this.session,_=this;this.othersActive=!0,this.others.forEach(function($){$.markerId=j.addMarker(new et($.row,$.column,$.row,$.column+_.length),_.othersClass,null,!1)})}},it.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var j=0;j<this.others.length;j++)this.session.removeMarker(this.others[j].markerId)}},it.prototype.onUpdate=function(j){if(this.$updating)return this.updateAnchors(j);var _=j;if(_.start.row===_.end.row&&_.start.row===this.pos.row){this.$updating=!0;var $=j.action==="insert"?_.end.column-_.start.column:_.start.column-_.end.column,tt=_.start.column>=this.pos.column&&_.start.column<=this.pos.column+this.length+1,st=_.start.column-this.pos.column;if(this.updateAnchors(j),tt&&(this.length+=$),tt&&!this.session.$fromUndo){if(j.action==="insert")for(var lt=this.others.length-1;lt>=0;lt--){var ct=this.others[lt],ht={row:ct.row,column:ct.column+st};this.doc.insertMergedLines(ht,j.lines)}else if(j.action==="remove")for(var lt=this.others.length-1;lt>=0;lt--){var ct=this.others[lt],ht={row:ct.row,column:ct.column+st};this.doc.remove(new et(ht.row,ht.column,ht.row,ht.column-$))}}this.$updating=!1,this.updateMarkers()}},it.prototype.updateAnchors=function(j){this.pos.onChange(j);for(var _=this.others.length;_--;)this.others[_].onChange(j);this.updateMarkers()},it.prototype.updateMarkers=function(){if(!this.$updating){var j=this,_=this.session,$=function(st,lt){_.removeMarker(st.markerId),st.markerId=_.addMarker(new et(st.row,st.column,st.row,st.column+j.length),lt,null,!1)};$(this.pos,this.mainClass);for(var tt=this.others.length;tt--;)$(this.others[tt],this.othersClass)}},it.prototype.onCursorChange=function(j){if(!(this.$updating||!this.session)){var _=this.session.selection.getCursor();_.row===this.pos.row&&_.column>=this.pos.column&&_.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",j)):(this.hideOtherMarkers(),this._emit("cursorLeave",j))}},it.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},it.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var j=this.session.getUndoManager(),_=(j.$undoStack||j.$undostack).length-this.$undoStackDepth,$=0;$<_;$++)j.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},it}();at.implement(nt.prototype,ot),a.PlaceHolder=nt}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(o,a,rt){var et=o("../lib/event"),ot=o("../lib/useragent");function at(it,j){return it.row==j.row&&it.column==j.column}function nt(it){var j=it.domEvent,_=j.altKey,$=j.shiftKey,tt=j.ctrlKey,st=it.getAccelKey(),lt=it.getButton();if(tt&&ot.isMac&&(lt=j.button),it.editor.inMultiSelectMode&&lt==2){it.editor.textInput.onContextMenu(it.domEvent);return}if(!tt&&!_&&!st){lt===0&&it.editor.inMultiSelectMode&&it.editor.exitMultiSelectMode();return}if(lt===0){var ct=it.editor,ht=ct.selection,ut=ct.inMultiSelectMode,pt=it.getDocumentPosition(),mt=ht.getCursor(),vt=it.inSelection()||ht.isEmpty()&&at(pt,mt),dt=it.x,St=it.y,yt=function(Kt){dt=Kt.clientX,St=Kt.clientY},gt=ct.session,Et=ct.renderer.pixelToScreenCoordinates(dt,St),_t=Et,kt;if(ct.$mouseHandler.$enableJumpToDef)tt&&_||st&&_?kt=$?"block":"add":_&&ct.$blockSelectEnabled&&(kt="block");else if(st&&!_){if(kt="add",!ut&&$)return}else _&&ct.$blockSelectEnabled&&(kt="block");if(kt&&ot.isMac&&j.ctrlKey&&ct.$mouseHandler.cancelContextMenu(),kt=="add"){if(!ut&&vt)return;if(!ut){var Ct=ht.toOrientedRange();ct.addSelectionMarker(Ct)}var Tt=ht.rangeList.rangeAtPoint(pt);ct.inVirtualSelectionMode=!0,$&&(Tt=null,Ct=ht.ranges[0]||Ct,ct.removeSelectionMarker(Ct)),ct.once("mouseup",function(){var Kt=ht.toOrientedRange();Tt&&Kt.isEmpty()&&at(Tt.cursor,Kt.cursor)?ht.substractPoint(Kt.cursor):($?ht.substractPoint(Ct.cursor):Ct&&(ct.removeSelectionMarker(Ct),ht.addRange(Ct)),ht.addRange(Kt)),ct.inVirtualSelectionMode=!1})}else if(kt=="block"){it.stop(),ct.inVirtualSelectionMode=!0;var At,It=[],Ot=function(){var Kt=ct.renderer.pixelToScreenCoordinates(dt,St),Wt=gt.screenToDocumentPosition(Kt.row,Kt.column,Kt.offsetX);at(_t,Kt)&&at(Wt,ht.lead)||(_t=Kt,ct.selection.moveToPosition(Wt),ct.renderer.scrollCursorIntoView(),ct.removeSelectionMarkers(It),It=ht.rectangularRangeBlock(_t,Et),ct.$mouseHandler.$clickSelection&&It.length==1&&It[0].isEmpty()&&(It[0]=ct.$mouseHandler.$clickSelection.clone()),It.forEach(ct.addSelectionMarker,ct),ct.updateSelectionMarkers())};ut&&!st?ht.toSingleRange():!ut&&st&&(At=ht.toOrientedRange(),ct.addSelectionMarker(At)),$?Et=gt.documentToScreenPosition(ht.lead):ht.moveToPosition(pt),_t={row:-1,column:-1};var Mt=function(Kt){Ot(),clearInterval(Bt),ct.removeSelectionMarkers(It),It.length||(It=[ht.toOrientedRange()]),At&&(ct.removeSelectionMarker(At),ht.toSingleRange(At));for(var Wt=0;Wt<It.length;Wt++)ht.addRange(It[Wt]);ct.inVirtualSelectionMode=!1,ct.$mouseHandler.$clickSelection=null},Dt=Ot;et.capture(ct.container,yt,Mt);var Bt=setInterval(function(){Dt()},20);return it.preventDefault()}}}a.onMouseDown=nt}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(o,a,rt){a.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(ot){ot.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(ot){ot.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(ot){ot.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(ot){ot.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(ot){ot.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(ot){ot.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(ot){ot.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(ot){ot.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(ot){ot.multiSelect.rangeCount>1?ot.multiSelect.joinSelections():ot.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(ot){ot.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(ot){ot.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(ot){ot.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],a.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(ot){ot.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(ot){return ot&&ot.inMultiSelectMode}}];var et=o("../keyboard/hash_handler").HashHandler;a.keyboardHandler=new et(a.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(o,a,rt){var et=o("./range_list").RangeList,ot=o("./range").Range,at=o("./selection").Selection,nt=o("./mouse/multi_select_handler").onMouseDown,it=o("./lib/event"),j=o("./lib/lang"),_=o("./commands/multi_select_commands");a.commands=_.defaultCommands.concat(_.multiSelectCommands);var $=o("./search").Search,tt=new $;function st(mt,vt,dt){return tt.$options.wrap=!0,tt.$options.needle=vt,tt.$options.backwards=dt==-1,tt.find(mt)}var lt=o("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(lt.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(mt,vt){if(mt){if(!this.inMultiSelectMode&&this.rangeCount===0){var dt=this.toOrientedRange();if(this.rangeList.add(dt),this.rangeList.add(mt),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),vt||this.fromOrientedRange(mt);this.rangeList.removeAll(),this.rangeList.add(dt),this.$onAddRange(dt)}mt.cursor||(mt.cursor=mt.end);var St=this.rangeList.add(mt);return this.$onAddRange(mt),St.length&&this.$onRemoveRange(St),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),vt||this.fromOrientedRange(mt)}},this.toSingleRange=function(mt){mt=mt||this.ranges[0];var vt=this.rangeList.removeAll();vt.length&&this.$onRemoveRange(vt),mt&&this.fromOrientedRange(mt)},this.substractPoint=function(mt){var vt=this.rangeList.substractPoint(mt);if(vt)return this.$onRemoveRange(vt),vt[0]},this.mergeOverlappingRanges=function(){var mt=this.rangeList.merge();mt.length&&this.$onRemoveRange(mt)},this.$onAddRange=function(mt){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(mt),this._signal("addRange",{range:mt})},this.$onRemoveRange=function(mt){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var vt=this.rangeList.ranges.pop();mt.push(vt),this.rangeCount=0}for(var dt=mt.length;dt--;){var St=this.ranges.indexOf(mt[dt]);this.ranges.splice(St,1)}this._signal("removeRange",{ranges:mt}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),vt=vt||this.ranges[0],vt&&!vt.isEqual(this.getRange())&&this.fromOrientedRange(vt)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new et,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var mt=this.ranges.length?this.ranges:[this.getRange()],vt=[],dt=0;dt<mt.length;dt++){var St=mt[dt],yt=St.start.row,gt=St.end.row;if(yt===gt)vt.push(St.clone());else{for(vt.push(new ot(yt,St.start.column,yt,this.session.getLine(yt).length));++yt<gt;)vt.push(this.getLineRange(yt,!0));vt.push(new ot(gt,0,gt,St.end.column))}dt==0&&!this.isBackwards()&&(vt=vt.reverse())}this.toSingleRange();for(var dt=vt.length;dt--;)this.addRange(vt[dt])},this.joinSelections=function(){var mt=this.rangeList.ranges,vt=mt[mt.length-1],dt=ot.fromPoints(mt[0].start,vt.end);this.toSingleRange(),this.setSelectionRange(dt,vt.cursor==vt.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var mt=this.rangeList.ranges,vt=mt[mt.length-1],dt=ot.fromPoints(mt[0].start,vt.end);this.toSingleRange(),this.setSelectionRange(dt,vt.cursor==vt.start)}else{var St=this.session.documentToScreenPosition(this.cursor),yt=this.session.documentToScreenPosition(this.anchor),gt=this.rectangularRangeBlock(St,yt);gt.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(mt,vt,dt){var St=[],yt=mt.column<vt.column;if(yt)var gt=mt.column,Et=vt.column,_t=mt.offsetX,kt=vt.offsetX;else var gt=vt.column,Et=mt.column,_t=vt.offsetX,kt=mt.offsetX;var Ct=mt.row<vt.row;if(Ct)var Tt=mt.row,At=vt.row;else var Tt=vt.row,At=mt.row;gt<0&&(gt=0),Tt<0&&(Tt=0),Tt==At&&(dt=!0);for(var It,Ot=Tt;Ot<=At;Ot++){var Mt=ot.fromPoints(this.session.screenToDocumentPosition(Ot,gt,_t),this.session.screenToDocumentPosition(Ot,Et,kt));if(Mt.isEmpty()){if(It&&ht(Mt.end,It))break;It=Mt.end}Mt.cursor=yt?Mt.start:Mt.end,St.push(Mt)}if(Ct&&St.reverse(),!dt){for(var Dt=St.length-1;St[Dt].isEmpty()&&Dt>0;)Dt--;if(Dt>0)for(var Bt=0;St[Bt].isEmpty();)Bt++;for(var Kt=Dt;Kt>=Bt;Kt--)St[Kt].isEmpty()&&St.splice(Kt,1)}return St}}).call(at.prototype);var ct=o("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(mt){mt.cursor||(mt.cursor=mt.end);var vt=this.getSelectionStyle();return mt.marker=this.session.addMarker(mt,"ace_selection",vt),this.session.$selectionMarkers.push(mt),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,mt},this.removeSelectionMarker=function(mt){if(mt.marker){this.session.removeMarker(mt.marker);var vt=this.session.$selectionMarkers.indexOf(mt);vt!=-1&&this.session.$selectionMarkers.splice(vt,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(mt){for(var vt=this.session.$selectionMarkers,dt=mt.length;dt--;){var St=mt[dt];if(St.marker){this.session.removeMarker(St.marker);var yt=vt.indexOf(St);yt!=-1&&vt.splice(yt,1)}}this.session.selectionMarkerCount=vt.length},this.$onAddRange=function(mt){this.addSelectionMarker(mt.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(mt){this.removeSelectionMarkers(mt.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(mt){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(_.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(mt){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(_.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(mt){var vt=mt.command,dt=mt.editor;if(dt.multiSelect){if(vt.multiSelectAction)vt.multiSelectAction=="forEach"?St=dt.forEachSelection(vt,mt.args):vt.multiSelectAction=="forEachLine"?St=dt.forEachSelection(vt,mt.args,!0):vt.multiSelectAction=="single"?(dt.exitMultiSelectMode(),St=vt.exec(dt,mt.args||{})):St=vt.multiSelectAction(dt,mt.args||{});else{var St=vt.exec(dt,mt.args||{});dt.multiSelect.addRange(dt.multiSelect.toOrientedRange()),dt.multiSelect.mergeOverlappingRanges()}return St}},this.forEachSelection=function(mt,vt,dt){if(!this.inVirtualSelectionMode){var St=dt&&dt.keepOrder,yt=dt==!0||dt&&dt.$byLines,gt=this.session,Et=this.selection,_t=Et.rangeList,kt=(St?Et:_t).ranges,Ct;if(!kt.length)return mt.exec?mt.exec(this,vt||{}):mt(this,vt||{});var Tt=Et._eventRegistry;Et._eventRegistry={};var At=new at(gt);this.inVirtualSelectionMode=!0;for(var It=kt.length;It--;){if(yt)for(;It>0&&kt[It].start.row==kt[It-1].end.row;)It--;At.fromOrientedRange(kt[It]),At.index=It,this.selection=gt.selection=At;var Ot=mt.exec?mt.exec(this,vt||{}):mt(this,vt||{});!Ct&&Ot!==void 0&&(Ct=Ot),At.toOrientedRange(kt[It])}At.detach(),this.selection=gt.selection=Et,this.inVirtualSelectionMode=!1,Et._eventRegistry=Tt,Et.mergeOverlappingRanges(),Et.ranges[0]&&Et.fromOrientedRange(Et.ranges[0]);var Mt=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Mt&&Mt.from==Mt.to&&this.renderer.animateScrolling(Mt.from),Ct}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var mt="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var vt=this.multiSelect.rangeList.ranges,dt=[],St=0;St<vt.length;St++)dt.push(this.session.getTextRange(vt[St]));var yt=this.session.getDocument().getNewLineCharacter();mt=dt.join(yt),mt.length==(dt.length-1)*yt.length&&(mt="")}else this.selection.isEmpty()||(mt=this.session.getTextRange(this.getSelectionRange()));return mt},this.$checkMultiselectChange=function(mt,vt){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var dt=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&vt==this.multiSelect.anchor)return;var St=vt==this.multiSelect.anchor?dt.cursor==dt.start?dt.end:dt.start:dt.cursor;St.row!=vt.row||this.session.$clipPositionToDocument(St.row,St.column).column!=vt.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(mt,vt,dt){if(vt=vt||{},vt.needle=mt||vt.needle,vt.needle==null){var St=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();vt.needle=this.session.getTextRange(St)}this.$search.set(vt);var yt=this.$search.findAll(this.session);if(!yt.length)return 0;var gt=this.multiSelect;dt||gt.toSingleRange(yt[0]);for(var Et=yt.length;Et--;)gt.addRange(yt[Et],!0);return St&&gt.rangeList.rangeAtPoint(St.start)&&gt.addRange(St,!0),yt.length},this.selectMoreLines=function(mt,vt){var dt=this.selection.toOrientedRange(),St=dt.cursor==dt.end,yt=this.session.documentToScreenPosition(dt.cursor);this.selection.$desiredColumn&&(yt.column=this.selection.$desiredColumn);var gt=this.session.screenToDocumentPosition(yt.row+mt,yt.column);if(dt.isEmpty())var _t=gt;else var Et=this.session.documentToScreenPosition(St?dt.end:dt.start),_t=this.session.screenToDocumentPosition(Et.row+mt,Et.column);if(St){var kt=ot.fromPoints(gt,_t);kt.cursor=kt.start}else{var kt=ot.fromPoints(_t,gt);kt.cursor=kt.end}if(kt.desiredColumn=yt.column,!this.selection.inMultiSelectMode)this.selection.addRange(dt);else if(vt)var Ct=dt.cursor;this.selection.addRange(kt),Ct&&this.selection.substractPoint(Ct)},this.transposeSelections=function(mt){for(var vt=this.session,dt=vt.multiSelect,St=dt.ranges,yt=St.length;yt--;){var gt=St[yt];if(gt.isEmpty()){var Et=vt.getWordRange(gt.start.row,gt.start.column);gt.start.row=Et.start.row,gt.start.column=Et.start.column,gt.end.row=Et.end.row,gt.end.column=Et.end.column}}dt.mergeOverlappingRanges();for(var _t=[],yt=St.length;yt--;){var gt=St[yt];_t.unshift(vt.getTextRange(gt))}mt<0?_t.unshift(_t.pop()):_t.push(_t.shift());for(var yt=St.length;yt--;){var gt=St[yt],kt=gt.clone();vt.replace(gt,_t[yt]),gt.start.row=kt.start.row,gt.start.column=kt.start.column}dt.fromOrientedRange(dt.ranges[0])},this.selectMore=function(mt,vt,dt){var St=this.session,yt=St.multiSelect,gt=yt.toOrientedRange();if(!(gt.isEmpty()&&(gt=St.getWordRange(gt.start.row,gt.start.column),gt.cursor=mt==-1?gt.start:gt.end,this.multiSelect.addRange(gt),dt))){var Et=St.getTextRange(gt),_t=st(St,Et,mt);_t&&(_t.cursor=mt==-1?_t.start:_t.end,this.session.unfold(_t),this.multiSelect.addRange(_t),this.renderer.scrollCursorIntoView(null,.5)),vt&&this.multiSelect.substractPoint(gt.cursor)}},this.alignCursors=function(){var mt=this.session,vt=mt.multiSelect,dt=vt.ranges,St=-1,yt=dt.filter(function(Dt){if(Dt.cursor.row==St)return!0;St=Dt.cursor.row});if(!dt.length||yt.length==dt.length-1){var gt=this.selection.getRange(),Et=gt.start.row,_t=gt.end.row,kt=Et==_t;if(kt){var Ct=this.session.getLength(),Tt;do Tt=this.session.getLine(_t);while(/[=:]/.test(Tt)&&++_t<Ct);do Tt=this.session.getLine(Et);while(/[=:]/.test(Tt)&&--Et>0);Et<0&&(Et=0),_t>=Ct&&(_t=Ct-1)}var At=this.session.removeFullLines(Et,_t);At=this.$reAlignText(At,kt),this.session.insert({row:Et,column:0},At.join(`
`)+`
`),kt||(gt.start.column=0,gt.end.column=At[At.length-1].length),this.selection.setRange(gt)}else{yt.forEach(function(Dt){vt.substractPoint(Dt.cursor)});var It=0,Ot=1/0,Mt=dt.map(function(Dt){var Bt=Dt.cursor,Kt=mt.getLine(Bt.row),Wt=Kt.substr(Bt.column).search(/\S/g);return Wt==-1&&(Wt=0),Bt.column>It&&(It=Bt.column),Wt<Ot&&(Ot=Wt),Wt});dt.forEach(function(Dt,Bt){var Kt=Dt.cursor,Wt=It-Kt.column,zt=Mt[Bt]-Ot;Wt>zt?mt.insert(Kt,j.stringRepeat(" ",Wt-zt)):mt.remove(new ot(Kt.row,Kt.column,Kt.row,Kt.column-Wt+zt)),Dt.start.column=Dt.end.column=It,Dt.start.row=Dt.end.row=Kt.row,Dt.cursor=Dt.end}),vt.fromOrientedRange(dt[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(mt,vt){var dt=!0,St=!0,yt,gt,Et;return mt.map(function(At){var It=At.match(/(\s*)(.*?)(\s*)([=:].*)/);return It?yt==null?(yt=It[1].length,gt=It[2].length,Et=It[3].length,It):(yt+gt+Et!=It[1].length+It[2].length+It[3].length&&(St=!1),yt!=It[1].length&&(dt=!1),yt>It[1].length&&(yt=It[1].length),gt<It[2].length&&(gt=It[2].length),Et>It[3].length&&(Et=It[3].length),It):[At]}).map(vt?kt:dt?St?Ct:kt:Tt);function _t(At){return j.stringRepeat(" ",At)}function kt(At){return At[2]?_t(yt)+At[2]+_t(gt-At[2].length+Et)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}function Ct(At){return At[2]?_t(yt+gt-At[2].length)+At[2]+_t(Et)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}function Tt(At){return At[2]?_t(yt)+At[2]+_t(Et)+At[4].replace(/^([=:])\s+/,"$1 "):At[0]}}}).call(ct.prototype);function ht(mt,vt){return mt.row==vt.row&&mt.column==vt.column}a.onSessionChange=function(mt){var vt=mt.session;vt&&!vt.multiSelect&&(vt.$selectionMarkers=[],vt.selection.$initRangeList(),vt.multiSelect=vt.selection),this.multiSelect=vt&&vt.multiSelect;var dt=mt.oldSession;dt&&(dt.multiSelect.off("addRange",this.$onAddRange),dt.multiSelect.off("removeRange",this.$onRemoveRange),dt.multiSelect.off("multiSelect",this.$onMultiSelect),dt.multiSelect.off("singleSelect",this.$onSingleSelect),dt.multiSelect.lead.off("change",this.$checkMultiselectChange),dt.multiSelect.anchor.off("change",this.$checkMultiselectChange)),vt&&(vt.multiSelect.on("addRange",this.$onAddRange),vt.multiSelect.on("removeRange",this.$onRemoveRange),vt.multiSelect.on("multiSelect",this.$onMultiSelect),vt.multiSelect.on("singleSelect",this.$onSingleSelect),vt.multiSelect.lead.on("change",this.$checkMultiselectChange),vt.multiSelect.anchor.on("change",this.$checkMultiselectChange)),vt&&this.inMultiSelectMode!=vt.selection.inMultiSelectMode&&(vt.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function ut(mt){mt.$multiselectOnSessionChange||(mt.$onAddRange=mt.$onAddRange.bind(mt),mt.$onRemoveRange=mt.$onRemoveRange.bind(mt),mt.$onMultiSelect=mt.$onMultiSelect.bind(mt),mt.$onSingleSelect=mt.$onSingleSelect.bind(mt),mt.$multiselectOnSessionChange=a.onSessionChange.bind(mt),mt.$checkMultiselectChange=mt.$checkMultiselectChange.bind(mt),mt.$multiselectOnSessionChange(mt),mt.on("changeSession",mt.$multiselectOnSessionChange),mt.on("mousedown",nt),mt.commands.addCommands(_.defaultCommands),pt(mt))}function pt(mt){if(!mt.textInput)return;var vt=mt.textInput.getElement(),dt=!1;it.addListener(vt,"keydown",function(yt){var gt=yt.keyCode==18&&!(yt.ctrlKey||yt.shiftKey||yt.metaKey);mt.$blockSelectEnabled&&gt?dt||(mt.renderer.setMouseCursor("crosshair"),dt=!0):dt&&St()},mt),it.addListener(vt,"keyup",St,mt),it.addListener(vt,"blur",St,mt);function St(yt){dt&&(mt.renderer.setMouseCursor(""),dt=!1)}}a.MultiSelect=ut,o("./config").defineOptions(ct.prototype,"editor",{enableMultiselect:{set:function(mt){ut(this),mt?this.on("mousedown",nt):this.off("mousedown",nt)},value:!0},enableBlockSelect:{set:function(mt){this.$blockSelectEnabled=mt},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(o,a,rt){var et=o("../../range").Range,ot=a.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(at,nt,it){var j=at.getLine(it);return this.foldingStartMarker.test(j)?"start":nt=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(j)?"end":""},this.getFoldWidgetRange=function(at,nt,it){return null},this.indentationBlock=function(at,nt,it){var j=/\S/,_=at.getLine(nt),$=_.search(j);if($!=-1){for(var tt=it||_.length,st=at.getLength(),lt=nt,ct=nt;++nt<st;){var ht=at.getLine(nt).search(j);if(ht!=-1){if(ht<=$){var ut=at.getTokenAt(nt,0);if(!ut||ut.type!=="string")break}ct=nt}}if(ct>lt){var pt=at.getLine(ct).length;return new et(lt,tt,ct,pt)}}},this.openingBracketBlock=function(at,nt,it,j,_){var $={row:it,column:j+1},tt=at.$findClosingBracket(nt,$,_);if(tt){var st=at.foldWidgets[tt.row];return st==null&&(st=at.getFoldWidget(tt.row)),st=="start"&&tt.row>$.row&&(tt.row--,tt.column=at.getLine(tt.row).length),et.fromPoints($,tt)}},this.closingBracketBlock=function(at,nt,it,j,_){var $={row:it,column:j},tt=at.$findOpeningBracket(nt,$);if(tt)return tt.column++,$.column--,et.fromPoints(tt,$)}}).call(ot.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(o,a,rt){var et=o("../line_widgets").LineWidgets,ot=o("../lib/dom"),at=o("../range").Range,nt=o("../config").nls;function it(_,$,tt){for(var st=0,lt=_.length-1;st<=lt;){var ct=st+lt>>1,ht=tt($,_[ct]);if(ht>0)st=ct+1;else if(ht<0)lt=ct-1;else return ct}return-(st+1)}function j(_,$,tt){var st=_.getAnnotations().sort(at.comparePoints);if(st.length){var lt=it(st,{row:$,column:-1},at.comparePoints);lt<0&&(lt=-lt-1),lt>=st.length?lt=tt>0?0:st.length-1:lt===0&&tt<0&&(lt=st.length-1);var ct=st[lt];if(!(!ct||!tt)){if(ct.row===$){do ct=st[lt+=tt];while(ct&&ct.row===$);if(!ct)return st.slice()}var ht=[];$=ct.row;do ht[tt<0?"unshift":"push"](ct),ct=st[lt+=tt];while(ct&&ct.row==$);return ht.length&&ht}}}a.showErrorMarker=function(_,$){var tt=_.session;tt.widgetManager||(tt.widgetManager=new et(tt),tt.widgetManager.attach(_));var st=_.getCursorPosition(),lt=st.row,ct=tt.widgetManager.getWidgetsAtRow(lt).filter(function(gt){return gt.type=="errorMarker"})[0];ct?ct.destroy():lt-=$;var ht=j(tt,lt,$),ut;if(ht){var pt=ht[0];st.column=(pt.pos&&typeof pt.column!="number"?pt.pos.sc:pt.column)||0,st.row=pt.row,ut=_.renderer.$gutterLayer.$annotations[st.row]}else{if(ct)return;ut={displayText:[nt("error-marker.good-state","Looks good!")],className:"ace_ok"}}_.session.unfold(st.row),_.selection.moveToPosition(st);var mt={row:st.row,fixedWidth:!0,coverGutter:!0,el:ot.createElement("div"),type:"errorMarker"},vt=mt.el.appendChild(ot.createElement("div")),dt=mt.el.appendChild(ot.createElement("div"));dt.className="error_widget_arrow "+ut.className;var St=_.renderer.$cursorLayer.getPixelPosition(st).left;dt.style.left=St+_.renderer.gutterWidth-5+"px",mt.el.className="error_widget_wrapper",vt.className="error_widget "+ut.className,ut.displayText.forEach(function(gt,Et){vt.appendChild(ot.createTextNode(gt)),Et<ut.displayText.length-1&&vt.appendChild(ot.createElement("br"))}),vt.appendChild(ot.createElement("div"));var yt=function(gt,Et,_t){if(Et===0&&(_t==="esc"||_t==="return"))return mt.destroy(),{command:"null"}};mt.destroy=function(){_.$mouseHandler.isMousePressed||(_.keyBinding.removeKeyboardHandler(yt),tt.widgetManager.removeLineWidget(mt),_.off("changeSelection",mt.destroy),_.off("changeSession",mt.destroy),_.off("mouseup",mt.destroy),_.off("change",mt.destroy))},_.keyBinding.addKeyboardHandler(yt),_.on("changeSelection",mt.destroy),_.on("changeSession",mt.destroy),_.on("mouseup",mt.destroy),_.on("change",mt.destroy),_.session.widgetManager.addLineWidget(mt),mt.el.onmousedown=_.focus.bind(_),_.renderer.scrollCursorIntoView(null,.5,{bottom:mt.el.offsetHeight})},ot.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(o,a,rt){o("./loader_build")(a);var et=o("./lib/dom"),ot=o("./range").Range,at=o("./editor").Editor,nt=o("./edit_session").EditSession,it=o("./undomanager").UndoManager,j=o("./virtual_renderer").VirtualRenderer;o("./worker/worker_client"),o("./keyboard/hash_handler"),o("./placeholder"),o("./multi_select"),o("./mode/folding/fold_mode"),o("./theme/textmate"),o("./ext/error_marker"),a.config=o("./config"),a.edit=function(_,$){if(typeof _=="string"){var tt=_;if(_=document.getElementById(tt),!_)throw new Error("ace.edit can't find div #"+tt)}if(_&&_.env&&_.env.editor instanceof at)return _.env.editor;var st="";if(_&&/input|textarea/i.test(_.tagName)){var lt=_;st=lt.value,_=et.createElement("pre"),lt.parentNode.replaceChild(_,lt)}else _&&(st=_.textContent,_.innerHTML="");var ct=a.createEditSession(st),ht=new at(new j(_),ct,$),ut={document:ct,editor:ht,onResize:ht.resize.bind(ht,null)};return lt&&(ut.textarea=lt),ht.on("destroy",function(){ut.editor.container.env=null}),ht.container.env=ht.env=ut,ht},a.createEditSession=function(_,$){var tt=new nt(_,$);return tt.setUndoManager(new it),tt},a.Range=ot,a.Editor=at,a.EditSession=nt,a.UndoManager=it,a.VirtualRenderer=j,a.version=a.config.version}),function(){ace.require(["ace/ace"],function(o){o&&(o.config.init(!0),o.define=ace.define);var a=function(){return this}();!a&&typeof window<"u"&&(a=window),!a&&typeof self<"u"&&(a=self),a.ace||(a.ace=o);for(var rt in o)o.hasOwnProperty(rt)&&(a.ace[rt]=o[rt]);a.ace.default=a.ace,i&&(i.exports=a.ace)})}()})(ace$3);var aceExports=ace$3.exports,lodash_isequal={exports:{}};lodash_isequal.exports;(function(i,s){var o=200,a="__lodash_hash_undefined__",rt=1,et=2,ot=9007199254740991,at="[object Arguments]",nt="[object Array]",it="[object AsyncFunction]",j="[object Boolean]",_="[object Date]",$="[object Error]",tt="[object Function]",st="[object GeneratorFunction]",lt="[object Map]",ct="[object Number]",ht="[object Null]",ut="[object Object]",pt="[object Promise]",mt="[object Proxy]",vt="[object RegExp]",dt="[object Set]",St="[object String]",yt="[object Symbol]",gt="[object Undefined]",Et="[object WeakMap]",_t="[object ArrayBuffer]",kt="[object DataView]",Ct="[object Float32Array]",Tt="[object Float64Array]",At="[object Int8Array]",It="[object Int16Array]",Ot="[object Int32Array]",Mt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",Bt="[object Uint16Array]",Kt="[object Uint32Array]",Wt=/[\\^$.*+?()[\]{}|]/g,zt=/^\[object .+?Constructor\]$/,Ht=/^(?:0|[1-9]\d*)$/,Zt={};Zt[Ct]=Zt[Tt]=Zt[At]=Zt[It]=Zt[Ot]=Zt[Mt]=Zt[Dt]=Zt[Bt]=Zt[Kt]=!0,Zt[at]=Zt[nt]=Zt[_t]=Zt[j]=Zt[kt]=Zt[_]=Zt[$]=Zt[tt]=Zt[lt]=Zt[ct]=Zt[ut]=Zt[vt]=Zt[dt]=Zt[St]=Zt[Et]=!1;var Qt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,hr=typeof self=="object"&&self&&self.Object===Object&&self,fr=Qt||hr||Function("return this")(),pr=s&&!s.nodeType&&s,gr=pr&&!0&&i&&!i.nodeType&&i,tr=gr&&gr.exports===pr,rr=tr&&Qt.process,qt=function(){try{return rr&&rr.binding&&rr.binding("util")}catch{}}(),xr=qt&&qt.isTypedArray;function Sr(ir,Nt){for(var nr=-1,cr=ir==null?0:ir.length,Vr=0,Wr=[];++nr<cr;){var sn=ir[nr];Nt(sn,nr,ir)&&(Wr[Vr++]=sn)}return Wr}function dr(ir,Nt){for(var nr=-1,cr=Nt.length,Vr=ir.length;++nr<cr;)ir[Vr+nr]=Nt[nr];return ir}function Ur(ir,Nt){for(var nr=-1,cr=ir==null?0:ir.length;++nr<cr;)if(Nt(ir[nr],nr,ir))return!0;return!1}function tn(ir,Nt){for(var nr=-1,cr=Array(ir);++nr<ir;)cr[nr]=Nt(nr);return cr}function on(ir){return function(Nt){return ir(Nt)}}function Rn(ir,Nt){return ir.has(Nt)}function Nn(ir,Nt){return ir==null?void 0:ir[Nt]}function Mn(ir){var Nt=-1,nr=Array(ir.size);return ir.forEach(function(cr,Vr){nr[++Nt]=[Vr,cr]}),nr}function pn(ir,Nt){return function(nr){return ir(Nt(nr))}}function Hn(ir){var Nt=-1,nr=Array(ir.size);return ir.forEach(function(cr){nr[++Nt]=cr}),nr}var In=Array.prototype,_r=Function.prototype,Nr=Object.prototype,kr=fr["__core-js_shared__"],nn=_r.toString,Yt=Nr.hasOwnProperty,er=function(){var ir=/[^.]+$/.exec(kr&&kr.keys&&kr.keys.IE_PROTO||"");return ir?"Symbol(src)_1."+ir:""}(),lr=Nr.toString,Lr=RegExp("^"+nn.call(Yt).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Or=tr?fr.Buffer:void 0,Er=fr.Symbol,Cr=fr.Uint8Array,Hr=Nr.propertyIsEnumerable,rn=In.splice,Dr=Er?Er.toStringTag:void 0,Yr=Object.getOwnPropertySymbols,jr=Or?Or.isBuffer:void 0,Gr=pn(Object.keys,Object),an=ss(fr,"DataView"),Rr=ss(fr,"Map"),mn=ss(fr,"Promise"),Rs=ss(fr,"Set"),ps=ss(fr,"WeakMap"),Xn=ss(Object,"create"),ls=Ut(an),Ns=Ut(Rr),ms=Ut(mn),no=Ut(Rs),Vs=Ut(ps),io=Er?Er.prototype:void 0,us=io?io.valueOf:void 0;function cs(ir){var Nt=-1,nr=ir==null?0:ir.length;for(this.clear();++Nt<nr;){var cr=ir[Nt];this.set(cr[0],cr[1])}}function Gs(){this.__data__=Xn?Xn(null):{},this.size=0}function Jr(ir){var Nt=this.has(ir)&&delete this.__data__[ir];return this.size-=Nt?1:0,Nt}function hs(ir){var Nt=this.__data__;if(Xn){var nr=Nt[ir];return nr===a?void 0:nr}return Yt.call(Nt,ir)?Nt[ir]:void 0}function Ks(ir){var Nt=this.__data__;return Xn?Nt[ir]!==void 0:Yt.call(Nt,ir)}function ws(ir,Nt){var nr=this.__data__;return this.size+=this.has(ir)?0:1,nr[ir]=Xn&&Nt===void 0?a:Nt,this}cs.prototype.clear=Gs,cs.prototype.delete=Jr,cs.prototype.get=hs,cs.prototype.has=Ks,cs.prototype.set=ws;function Zn(ir){var Nt=-1,nr=ir==null?0:ir.length;for(this.clear();++Nt<nr;){var cr=ir[Nt];this.set(cr[0],cr[1])}}function ho(){this.__data__=[],this.size=0}function so(ir){var Nt=this.__data__,nr=Xt(Nt,ir);if(nr<0)return!1;var cr=Nt.length-1;return nr==cr?Nt.pop():rn.call(Nt,nr,1),--this.size,!0}function fo(ir){var Nt=this.__data__,nr=Xt(Nt,ir);return nr<0?void 0:Nt[nr][1]}function po(ir){return Xt(this.__data__,ir)>-1}function oo(ir,Nt){var nr=this.__data__,cr=Xt(nr,ir);return cr<0?(++this.size,nr.push([ir,Nt])):nr[cr][1]=Nt,this}Zn.prototype.clear=ho,Zn.prototype.delete=so,Zn.prototype.get=fo,Zn.prototype.has=po,Zn.prototype.set=oo;function fs(ir){var Nt=-1,nr=ir==null?0:ir.length;for(this.clear();++Nt<nr;){var cr=ir[Nt];this.set(cr[0],cr[1])}}function _s(){this.size=0,this.__data__={hash:new cs,map:new(Rr||Zn),string:new cs}}function Is(ir){var Nt=vs(this,ir).delete(ir);return this.size-=Nt?1:0,Nt}function Es(ir){return vs(this,ir).get(ir)}function Xs(ir){return vs(this,ir).has(ir)}function gs(ir,Nt){var nr=vs(this,ir),cr=nr.size;return nr.set(ir,Nt),this.size+=nr.size==cr?0:1,this}fs.prototype.clear=_s,fs.prototype.delete=Is,fs.prototype.get=Es,fs.prototype.has=Xs,fs.prototype.set=gs;function gn(ir){var Nt=-1,nr=ir==null?0:ir.length;for(this.__data__=new fs;++Nt<nr;)this.add(ir[Nt])}function Xr(ir){return this.__data__.set(ir,a),this}function Qn(ir){return this.__data__.has(ir)}gn.prototype.add=gn.prototype.push=Xr,gn.prototype.has=Qn;function Jn(ir){var Nt=this.__data__=new Zn(ir);this.size=Nt.size}function mo(){this.__data__=new Zn,this.size=0}function wo(ir){var Nt=this.__data__,nr=Nt.delete(ir);return this.size=Nt.size,nr}function go(ir){return this.__data__.get(ir)}function wt(ir){return this.__data__.has(ir)}function Lt(ir,Nt){var nr=this.__data__;if(nr instanceof Zn){var cr=nr.__data__;if(!Rr||cr.length<o-1)return cr.push([ir,Nt]),this.size=++nr.size,this;nr=this.__data__=new fs(cr)}return nr.set(ir,Nt),this.size=nr.size,this}Jn.prototype.clear=mo,Jn.prototype.delete=wo,Jn.prototype.get=go,Jn.prototype.has=wt,Jn.prototype.set=Lt;function Vt(ir,Nt){var nr=wr(ir),cr=!nr&&vr(ir),Vr=!nr&&!cr&&Br(ir),Wr=!nr&&!cr&&!Vr&&Ls(ir),sn=nr||cr||Vr||Wr,vn=sn?tn(ir.length,String):[],qr=vn.length;for(var un in ir)Yt.call(ir,un)&&!(sn&&(un=="length"||Vr&&(un=="offset"||un=="parent")||Wr&&(un=="buffer"||un=="byteLength"||un=="byteOffset")||Po(un,qr)))&&vn.push(un);return vn}function Xt(ir,Nt){for(var nr=ir.length;nr--;)if(sr(ir[nr][0],Nt))return nr;return-1}function or(ir,Nt,nr){var cr=Nt(ir);return wr(ir)?cr:dr(cr,nr(ir))}function br(ir){return ir==null?ir===void 0?gt:ht:Dr&&Dr in Object(ir)?_o(ir):Ft(ir)}function $r(ir){return Cs(ir)&&br(ir)==at}function zr(ir,Nt,nr,cr,Vr){return ir===Nt?!0:ir==null||Nt==null||!Cs(ir)&&!Cs(Nt)?ir!==ir&&Nt!==Nt:Zr(ir,Nt,nr,cr,zr,Vr)}function Zr(ir,Nt,nr,cr,Vr,Wr){var sn=wr(ir),vn=wr(Nt),qr=sn?nt:xs(ir),un=vn?nt:xs(Nt);qr=qr==at?ut:qr,un=un==at?ut:un;var Ln=qr==ut,Vn=un==ut,Un=qr==un;if(Un&&Br(ir)){if(!Br(Nt))return!1;sn=!0,Ln=!1}if(Un&&!Ln)return Wr||(Wr=new Jn),sn||Ls(ir)?es(ir,Nt,nr,cr,Vr,Wr):ys(ir,Nt,qr,nr,cr,Vr,Wr);if(!(nr&rt)){var On=Ln&&Yt.call(ir,"__wrapped__"),ts=Vn&&Yt.call(Nt,"__wrapped__");if(On||ts){var Ms=On?ir.value():ir,Ys=ts?Nt.value():Nt;return Wr||(Wr=new Jn),Vr(Ms,Ys,nr,cr,Wr)}}return Un?(Wr||(Wr=new Jn),Bs(ir,Nt,nr,cr,Vr,Wr)):!1}function wn(ir){if(!Ts(ir)||xt(ir))return!1;var Nt=hn(ir)?Lr:zt;return Nt.test(Ut(ir))}function zn(ir){return Cs(ir)&&jn(ir.length)&&!!Zt[br(ir)]}function _i(ir){if(!Rt(ir))return Gr(ir);var Nt=[];for(var nr in Object(ir))Yt.call(ir,nr)&&nr!="constructor"&&Nt.push(nr);return Nt}function es(ir,Nt,nr,cr,Vr,Wr){var sn=nr&rt,vn=ir.length,qr=Nt.length;if(vn!=qr&&!(sn&&qr>vn))return!1;var un=Wr.get(ir);if(un&&Wr.get(Nt))return un==Nt;var Ln=-1,Vn=!0,Un=nr&et?new gn:void 0;for(Wr.set(ir,Nt),Wr.set(Nt,ir);++Ln<vn;){var On=ir[Ln],ts=Nt[Ln];if(cr)var Ms=sn?cr(ts,On,Ln,Nt,ir,Wr):cr(On,ts,Ln,ir,Nt,Wr);if(Ms!==void 0){if(Ms)continue;Vn=!1;break}if(Un){if(!Ur(Nt,function(Ys,vo){if(!Rn(Un,vo)&&(On===Ys||Vr(On,Ys,nr,cr,Wr)))return Un.push(vo)})){Vn=!1;break}}else if(!(On===ts||Vr(On,ts,nr,cr,Wr))){Vn=!1;break}}return Wr.delete(ir),Wr.delete(Nt),Vn}function ys(ir,Nt,nr,cr,Vr,Wr,sn){switch(nr){case kt:if(ir.byteLength!=Nt.byteLength||ir.byteOffset!=Nt.byteOffset)return!1;ir=ir.buffer,Nt=Nt.buffer;case _t:return!(ir.byteLength!=Nt.byteLength||!Wr(new Cr(ir),new Cr(Nt)));case j:case _:case ct:return sr(+ir,+Nt);case $:return ir.name==Nt.name&&ir.message==Nt.message;case vt:case St:return ir==Nt+"";case lt:var vn=Mn;case dt:var qr=cr&rt;if(vn||(vn=Hn),ir.size!=Nt.size&&!qr)return!1;var un=sn.get(ir);if(un)return un==Nt;cr|=et,sn.set(ir,Nt);var Ln=es(vn(ir),vn(Nt),cr,Vr,Wr,sn);return sn.delete(ir),Ln;case yt:if(us)return us.call(ir)==us.call(Nt)}return!1}function Bs(ir,Nt,nr,cr,Vr,Wr){var sn=nr&rt,vn=yn(ir),qr=vn.length,un=yn(Nt),Ln=un.length;if(qr!=Ln&&!sn)return!1;for(var Vn=qr;Vn--;){var Un=vn[Vn];if(!(sn?Un in Nt:Yt.call(Nt,Un)))return!1}var On=Wr.get(ir);if(On&&Wr.get(Nt))return On==Nt;var ts=!0;Wr.set(ir,Nt),Wr.set(Nt,ir);for(var Ms=sn;++Vn<qr;){Un=vn[Vn];var Ys=ir[Un],vo=Nt[Un];if(cr)var $l=sn?cr(vo,Ys,Un,Nt,ir,Wr):cr(Ys,vo,Un,ir,Nt,Wr);if(!($l===void 0?Ys===vo||Vr(Ys,vo,nr,cr,Wr):$l)){ts=!1;break}Ms||(Ms=Un=="constructor")}if(ts&&!Ms){var Ho=ir.constructor,os=Nt.constructor;Ho!=os&&"constructor"in ir&&"constructor"in Nt&&!(typeof Ho=="function"&&Ho instanceof Ho&&typeof os=="function"&&os instanceof os)&&(ts=!1)}return Wr.delete(ir),Wr.delete(Nt),ts}function yn(ir){return or(ir,yo,Eo)}function vs(ir,Nt){var nr=ir.__data__;return Do(Nt)?nr[typeof Nt=="string"?"string":"hash"]:nr.map}function ss(ir,Nt){var nr=Nn(ir,Nt);return wn(nr)?nr:void 0}function _o(ir){var Nt=Yt.call(ir,Dr),nr=ir[Dr];try{ir[Dr]=void 0;var cr=!0}catch{}var Vr=lr.call(ir);return cr&&(Nt?ir[Dr]=nr:delete ir[Dr]),Vr}var Eo=Yr?function(ir){return ir==null?[]:(ir=Object(ir),Sr(Yr(ir),function(Nt){return Hr.call(ir,Nt)}))}:kn,xs=br;(an&&xs(new an(new ArrayBuffer(1)))!=kt||Rr&&xs(new Rr)!=lt||mn&&xs(mn.resolve())!=pt||Rs&&xs(new Rs)!=dt||ps&&xs(new ps)!=Et)&&(xs=function(ir){var Nt=br(ir),nr=Nt==ut?ir.constructor:void 0,cr=nr?Ut(nr):"";if(cr)switch(cr){case ls:return kt;case Ns:return lt;case ms:return pt;case no:return dt;case Vs:return Et}return Nt});function Po(ir,Nt){return Nt=Nt??ot,!!Nt&&(typeof ir=="number"||Ht.test(ir))&&ir>-1&&ir%1==0&&ir<Nt}function Do(ir){var Nt=typeof ir;return Nt=="string"||Nt=="number"||Nt=="symbol"||Nt=="boolean"?ir!=="__proto__":ir===null}function xt(ir){return!!er&&er in ir}function Rt(ir){var Nt=ir&&ir.constructor,nr=typeof Nt=="function"&&Nt.prototype||Nr;return ir===nr}function Ft(ir){return lr.call(ir)}function Ut(ir){if(ir!=null){try{return nn.call(ir)}catch{}try{return ir+""}catch{}}return""}function sr(ir,Nt){return ir===Nt||ir!==ir&&Nt!==Nt}var vr=$r(function(){return arguments}())?$r:function(ir){return Cs(ir)&&Yt.call(ir,"callee")&&!Hr.call(ir,"callee")},wr=Array.isArray;function Fr(ir){return ir!=null&&jn(ir.length)&&!hn(ir)}var Br=jr||Tn;function ln(ir,Nt){return zr(ir,Nt)}function hn(ir){if(!Ts(ir))return!1;var Nt=br(ir);return Nt==tt||Nt==st||Nt==it||Nt==mt}function jn(ir){return typeof ir=="number"&&ir>-1&&ir%1==0&&ir<=ot}function Ts(ir){var Nt=typeof ir;return ir!=null&&(Nt=="object"||Nt=="function")}function Cs(ir){return ir!=null&&typeof ir=="object"}var Ls=xr?on(xr):zn;function yo(ir){return Fr(ir)?Vt(ir):_i(ir)}function kn(){return[]}function Tn(){return!1}i.exports=ln})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,editorOptions$1={};Object.defineProperty(editorOptions$1,"__esModule",{value:!0});editorOptions$1.getAceInstance=editorOptions$1.debounce=editorOptions$1.editorEvents=editorOptions$1.editorOptions=void 0;var editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions$1.editorOptions=editorOptions;var editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions$1.editorEvents=editorEvents;var getAceInstance=function(){var i;return typeof window>"u"?(commonjsGlobal.window={},i=aceExports,delete commonjsGlobal.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=aceExports,i};editorOptions$1.getAceInstance=getAceInstance;var debounce=function(i,s){var o=null;return function(){var a=this,rt=arguments;clearTimeout(o),o=setTimeout(function(){i.apply(a,rt)},s)}};editorOptions$1.debounce=debounce;var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,rt){a.__proto__=rt}||function(a,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(a[et]=rt[et])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var rt in s)Object.prototype.hasOwnProperty.call(s,rt)&&(i[rt]=s[rt])}return i},__assign$1.apply(this,arguments)};Object.defineProperty(ace$4,"__esModule",{value:!0});var ace_builds_1$1=aceExports,PropTypes$2=propTypesExports,React$2=reactExports,isEqual$1=lodash_isequalExports,editorOptions_1$1=editorOptions$1,ace$2=(0,editorOptions_1$1.getAceInstance)(),ReactAce=function(i){__extends$2(s,i);function s(o){var a=i.call(this,o)||this;return editorOptions_1$1.editorEvents.forEach(function(rt){a[rt]=a[rt].bind(a)}),a.debounce=editorOptions_1$1.debounce,a}return s.prototype.isInShadow=function(o){for(var a=o&&o.parentNode;a;){if(a.toString()==="[object ShadowRoot]")return!0;a=a.parentNode}return!1},s.prototype.componentDidMount=function(){var o=this,a=this.props,rt=a.className,et=a.onBeforeLoad,ot=a.onValidate,at=a.mode,nt=a.focus,it=a.theme,j=a.fontSize,_=a.lineHeight,$=a.value,tt=a.defaultValue,st=a.showGutter,lt=a.wrapEnabled,ct=a.showPrintMargin,ht=a.scrollMargin,ut=ht===void 0?[0,0,0,0]:ht,pt=a.keyboardHandler,mt=a.onLoad,vt=a.commands,dt=a.annotations,St=a.markers,yt=a.placeholder;this.editor=ace$2.edit(this.refEditor),et&&et(ace$2);for(var gt=Object.keys(this.props.editorProps),Et=0;Et<gt.length;Et++)this.editor[gt[Et]]=this.props.editorProps[gt[Et]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(ut[0],ut[1],ut[2],ut[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof at=="string"?"ace/mode/".concat(at):at),it&&it!==""&&this.editor.setTheme("ace/theme/".concat(it)),this.editor.setFontSize(typeof j=="number"?"".concat(j,"px"):j),_&&(this.editor.container.style.lineHeight=typeof _=="number"?"".concat(_,"px"):"".concat(_),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(tt||$||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(st),this.editor.getSession().setUseWrapMode(lt),this.editor.setShowPrintMargin(ct),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),yt&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),ot&&this.editor.getSession().on("changeAnnotation",function(){var kt=o.editor.getSession().getAnnotations();o.props.onValidate(kt)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(dt||[]),St&&St.length>0&&this.handleMarkers(St);var _t=this.editor.$options;editorOptions_1$1.editorOptions.forEach(function(kt){_t.hasOwnProperty(kt)?o.editor.setOption(kt,o.props[kt]):o.props[kt]&&console.warn("ReactAce: editor option ".concat(kt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(vt)&&vt.forEach(function(kt){typeof kt.exec=="string"?o.editor.commands.bindKey(kt.bindKey,kt.exec):o.editor.commands.addCommand(kt)}),pt&&this.editor.setKeyboardHandler("ace/keyboard/"+pt),rt&&(this.refEditor.className+=" "+rt),mt&&mt(this.editor),this.editor.resize(),nt&&this.editor.focus()},s.prototype.componentDidUpdate=function(o){for(var a=o,rt=this.props,et=0;et<editorOptions_1$1.editorOptions.length;et++){var ot=editorOptions_1$1.editorOptions[et];rt[ot]!==a[ot]&&this.editor.setOption(ot,rt[ot])}if(rt.className!==a.className){var at=this.refEditor.className,nt=at.trim().split(" "),it=a.className.trim().split(" ");it.forEach(function($){var tt=nt.indexOf($);nt.splice(tt,1)}),this.refEditor.className=" "+rt.className+" "+nt.join(" ")}var j=this.editor&&rt.value!=null&&this.editor.getValue()!==rt.value;if(j){this.silent=!0;var _=this.editor.session.selection.toJSON();this.editor.setValue(rt.value,rt.cursorStart),this.editor.session.selection.fromJSON(_),this.silent=!1}rt.placeholder!==a.placeholder&&this.updatePlaceholder(),rt.mode!==a.mode&&this.editor.getSession().setMode(typeof rt.mode=="string"?"ace/mode/".concat(rt.mode):rt.mode),rt.theme!==a.theme&&this.editor.setTheme("ace/theme/"+rt.theme),rt.keyboardHandler!==a.keyboardHandler&&(rt.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+rt.keyboardHandler):this.editor.setKeyboardHandler(null)),rt.fontSize!==a.fontSize&&this.editor.setFontSize(typeof rt.fontSize=="number"?"".concat(rt.fontSize,"px"):rt.fontSize),rt.lineHeight!==a.lineHeight&&(this.editor.container.style.lineHeight=typeof rt.lineHeight=="number"?"".concat(rt.lineHeight,"px"):rt.lineHeight,this.editor.renderer.updateFontSize()),rt.wrapEnabled!==a.wrapEnabled&&this.editor.getSession().setUseWrapMode(rt.wrapEnabled),rt.showPrintMargin!==a.showPrintMargin&&this.editor.setShowPrintMargin(rt.showPrintMargin),rt.showGutter!==a.showGutter&&this.editor.renderer.setShowGutter(rt.showGutter),isEqual$1(rt.setOptions,a.setOptions)||this.handleOptions(rt),(j||!isEqual$1(rt.annotations,a.annotations))&&this.editor.getSession().setAnnotations(rt.annotations||[]),!isEqual$1(rt.markers,a.markers)&&Array.isArray(rt.markers)&&this.handleMarkers(rt.markers),isEqual$1(rt.scrollMargin,a.scrollMargin)||this.handleScrollMargins(rt.scrollMargin),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!o.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(o){o===void 0&&(o=[0,0,0,0]),this.editor.renderer.setScrollMargin(o[0],o[1],o[2],o[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(o){if(this.editor&&this.props.onChange&&!this.silent){var a=this.editor.getValue();this.props.onChange(a,o)}},s.prototype.onSelectionChange=function(o){if(this.props.onSelectionChange){var a=this.editor.getSelection();this.props.onSelectionChange(a,o)}},s.prototype.onCursorChange=function(o){if(this.props.onCursorChange){var a=this.editor.getSelection();this.props.onCursorChange(a,o)}},s.prototype.onInput=function(o){this.props.onInput&&this.props.onInput(o),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(o){this.props.onFocus&&this.props.onFocus(o,this.editor)},s.prototype.onBlur=function(o){this.props.onBlur&&this.props.onBlur(o,this.editor)},s.prototype.onCopy=function(o){var a=o.text;this.props.onCopy&&this.props.onCopy(a)},s.prototype.onPaste=function(o){var a=o.text;this.props.onPaste&&this.props.onPaste(a)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(o){for(var a=Object.keys(o.setOptions),rt=0;rt<a.length;rt++)this.editor.setOption(a[rt],o.setOptions[a[rt]])},s.prototype.handleMarkers=function(o){var a=this,rt=this.editor.getSession().getMarkers(!0);for(var et in rt)rt.hasOwnProperty(et)&&this.editor.getSession().removeMarker(rt[et].id);rt=this.editor.getSession().getMarkers(!1);for(var et in rt)rt.hasOwnProperty(et)&&rt[et].clazz!=="ace_active-line"&&rt[et].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(rt[et].id);o.forEach(function(ot){var at=ot.startRow,nt=ot.startCol,it=ot.endRow,j=ot.endCol,_=ot.className,$=ot.type,tt=ot.inFront,st=tt===void 0?!1:tt,lt=new ace_builds_1$1.Range(at,nt,it,j);a.editor.getSession().addMarker(lt,_,$,st)})},s.prototype.updatePlaceholder=function(){var o=this.editor,a=this.props.placeholder,rt=!o.session.getValue().length,et=o.renderer.placeholderNode;!rt&&et?(o.renderer.scroller.removeChild(o.renderer.placeholderNode),o.renderer.placeholderNode=null):rt&&!et?(et=o.renderer.placeholderNode=document.createElement("div"),et.textContent=a||"",et.className="ace_comment ace_placeholder",et.style.padding="0 9px",et.style.position="absolute",et.style.zIndex="3",o.renderer.scroller.appendChild(et)):rt&&et&&(et.textContent=a)},s.prototype.updateRef=function(o){this.refEditor=o},s.prototype.render=function(){var o=this.props,a=o.name,rt=o.width,et=o.height,ot=o.style,at=__assign$1({width:rt,height:et},ot);return React$2.createElement("div",{ref:this.updateRef,id:a,style:at})},s.propTypes={mode:PropTypes$2.oneOfType([PropTypes$2.string,PropTypes$2.object]),focus:PropTypes$2.bool,theme:PropTypes$2.string,name:PropTypes$2.string,className:PropTypes$2.string,height:PropTypes$2.string,width:PropTypes$2.string,fontSize:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),lineHeight:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),showGutter:PropTypes$2.bool,onChange:PropTypes$2.func,onCopy:PropTypes$2.func,onPaste:PropTypes$2.func,onFocus:PropTypes$2.func,onInput:PropTypes$2.func,onBlur:PropTypes$2.func,onScroll:PropTypes$2.func,value:PropTypes$2.string,defaultValue:PropTypes$2.string,onLoad:PropTypes$2.func,onSelectionChange:PropTypes$2.func,onCursorChange:PropTypes$2.func,onBeforeLoad:PropTypes$2.func,onValidate:PropTypes$2.func,minLines:PropTypes$2.number,maxLines:PropTypes$2.number,readOnly:PropTypes$2.bool,highlightActiveLine:PropTypes$2.bool,tabSize:PropTypes$2.number,showPrintMargin:PropTypes$2.bool,cursorStart:PropTypes$2.number,debounceChangePeriod:PropTypes$2.number,editorProps:PropTypes$2.object,setOptions:PropTypes$2.object,style:PropTypes$2.object,scrollMargin:PropTypes$2.array,annotations:PropTypes$2.array,markers:PropTypes$2.array,keyboardHandler:PropTypes$2.string,wrapEnabled:PropTypes$2.bool,enableSnippets:PropTypes$2.bool,enableBasicAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),enableLiveAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),navigateToFileEnd:PropTypes$2.bool,commands:PropTypes$2.array,placeholder:PropTypes$2.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(React$2.Component);ace$4.default=ReactAce;var diff={},split={},extSplit={exports:{}};(function(i,s){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(o,a,rt){var et=o("./lib/oop");o("./lib/lang");var ot=o("./lib/event_emitter").EventEmitter,at=o("./editor").Editor,nt=o("./virtual_renderer").VirtualRenderer,it=o("./edit_session").EditSession,j;j=function(_,$,tt){this.BELOW=1,this.BESIDE=0,this.$container=_,this.$theme=$,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(tt||1),this.$cEditor=this.$editors[0],this.on("focus",(function(st){this.$cEditor=st}).bind(this))},(function(){et.implement(this,ot),this.$createEditor=function(){var _=document.createElement("div");_.className=this.$editorCSS,_.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(_);var $=new at(new nt(_,this.$theme));return $.on("focus",(function(){this._emit("focus",$)}).bind(this)),this.$editors.push($),$.setFontSize(this.$fontSize),$},this.setSplits=function(_){var $;if(_<1)throw"The number of splits have to be > 0!";if(_!=this.$splits){if(_>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<_;)$=this.$editors[this.$splits],this.$container.appendChild($.container),$.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<_;)this.$createEditor(),this.$splits++}else for(;this.$splits>_;)$=this.$editors[this.$splits-1],this.$container.removeChild($.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(_){return this.$editors[_]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(_){this.$editors.forEach(function($){$.setTheme(_)})},this.setKeyboardHandler=function(_){this.$editors.forEach(function($){$.setKeyboardHandler(_)})},this.forEach=function(_,$){this.$editors.forEach(_,$)},this.$fontSize="",this.setFontSize=function(_){this.$fontSize=_,this.forEach(function($){$.setFontSize(_)})},this.$cloneSession=function(_){var $=new it(_.getDocument(),_.getMode()),tt=_.getUndoManager();return $.setUndoManager(tt),$.setTabSize(_.getTabSize()),$.setUseSoftTabs(_.getUseSoftTabs()),$.setOverwrite(_.getOverwrite()),$.setBreakpoints(_.getBreakpoints()),$.setUseWrapMode(_.getUseWrapMode()),$.setUseWorker(_.getUseWorker()),$.setWrapLimitRange(_.$wrapLimitRange.min,_.$wrapLimitRange.max),$.$foldData=_.$cloneFoldData(),$},this.setSession=function(_,$){var tt;$==null?tt=this.$cEditor:tt=this.$editors[$];var st=this.$editors.some(function(lt){return lt.session===_});return st&&(_=this.$cloneSession(_)),tt.setSession(_),_},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(_){this.$orientation!=_&&(this.$orientation=_,this.resize())},this.resize=function(){var _=this.$container.clientWidth,$=this.$container.clientHeight,tt;if(this.$orientation==this.BESIDE)for(var st=_/this.$splits,lt=0;lt<this.$splits;lt++)tt=this.$editors[lt],tt.container.style.width=st+"px",tt.container.style.top="0px",tt.container.style.left=lt*st+"px",tt.container.style.height=$+"px",tt.resize();else for(var ct=$/this.$splits,lt=0;lt<this.$splits;lt++)tt=this.$editors[lt],tt.container.style.width=_+"px",tt.container.style.top=lt*ct+"px",tt.container.style.left="0px",tt.container.style.height=ct+"px",tt.resize()}}).call(j.prototype),a.Split=j}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(o,a,rt){rt.exports=o("../split")}),function(){ace.require(["ace/ext/split"],function(o){i&&(i.exports=o)})}()})(extSplit);var extSplitExports=extSplit.exports,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(i,s){return i==null?void 0:i[s]}function isHostObject(i){var s=!1;if(i!=null&&typeof i.toString!="function")try{s=!!(i+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(i){return this.has(i)&&delete this.__data__[i]}function hashGet(i){var s=this.__data__;if(nativeCreate){var o=s[i];return o===HASH_UNDEFINED?void 0:o}return hasOwnProperty.call(s,i)?s[i]:void 0}function hashHas(i){var s=this.__data__;return nativeCreate?s[i]!==void 0:hasOwnProperty.call(s,i)}function hashSet(i,s){var o=this.__data__;return o[i]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(i){var s=this.__data__,o=assocIndexOf(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():splice.call(s,o,1),!0}function listCacheGet(i){var s=this.__data__,o=assocIndexOf(s,i);return o<0?void 0:s[o][1]}function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1}function listCacheSet(i,s){var o=this.__data__,a=assocIndexOf(o,i);return a<0?o.push([i,s]):o[a][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(i){var s=-1,o=i?i.length:0;for(this.clear();++s<o;){var a=i[s];this.set(a[0],a[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(i){return getMapData(this,i).delete(i)}function mapCacheGet(i){return getMapData(this,i).get(i)}function mapCacheHas(i){return getMapData(this,i).has(i)}function mapCacheSet(i,s){return getMapData(this,i).set(i,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(i,s){for(var o=i.length;o--;)if(eq(i[o][0],s))return o;return-1}function baseGet(i,s){s=isKey(s,i)?[s]:castPath(s);for(var o=0,a=s.length;i!=null&&o<a;)i=i[toKey(s[o++])];return o&&o==a?i:void 0}function baseIsNative(i){if(!isObject$1(i)||isMasked(i))return!1;var s=isFunction(i)||isHostObject(i)?reIsNative:reIsHostCtor;return s.test(toSource(i))}function baseToString(i){if(typeof i=="string")return i;if(isSymbol(i))return symbolToString?symbolToString.call(i):"";var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function castPath(i){return isArray$1(i)?i:stringToPath(i)}function getMapData(i,s){var o=i.__data__;return isKeyable(s)?o[typeof s=="string"?"string":"hash"]:o.map}function getNative(i,s){var o=getValue(i,s);return baseIsNative(o)?o:void 0}function isKey(i,s){if(isArray$1(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}function isKeyable(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function isMasked(i){return!!maskSrcKey&&maskSrcKey in i}var stringToPath=memoize(function(i){i=toString(i);var s=[];return reLeadingDot.test(i)&&s.push(""),i.replace(rePropName,function(o,a,rt,et){s.push(rt?et.replace(reEscapeChar,"$1"):a||o)}),s});function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function toSource(i){if(i!=null){try{return funcToString.call(i)}catch{}try{return i+""}catch{}}return""}function memoize(i,s){if(typeof i!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var o=function(){var a=arguments,rt=s?s.apply(this,a):a[0],et=o.cache;if(et.has(rt))return et.get(rt);var ot=i.apply(this,a);return o.cache=et.set(rt,ot),ot};return o.cache=new(memoize.Cache||MapCache),o}memoize.Cache=MapCache;function eq(i,s){return i===s||i!==i&&s!==s}var isArray$1=Array.isArray;function isFunction(i){var s=isObject$1(i)?objectToString.call(i):"";return s==funcTag||s==genTag}function isObject$1(i){var s=typeof i;return!!i&&(s=="object"||s=="function")}function isObjectLike(i){return!!i&&typeof i=="object"}function isSymbol(i){return typeof i=="symbol"||isObjectLike(i)&&objectToString.call(i)==symbolTag}function toString(i){return i==null?"":baseToString(i)}function get$1(i,s,o){var a=i==null?void 0:baseGet(i,s);return a===void 0?o:a}var lodash_get=get$1,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,rt){a.__proto__=rt}||function(a,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(a[et]=rt[et])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var rt in s)Object.prototype.hasOwnProperty.call(s,rt)&&(i[rt]=s[rt])}return i},__assign.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var editorOptions_1=editorOptions$1,ace$1=(0,editorOptions_1.getAceInstance)(),ace_builds_1=aceExports,ext_split_1=extSplitExports,PropTypes$1=propTypesExports,React$1=reactExports,isEqual=lodash_isequalExports,get=lodash_get,SplitComponent=function(i){__extends$1(s,i);function s(o){var a=i.call(this,o)||this;return editorOptions_1.editorEvents.forEach(function(rt){a[rt]=a[rt].bind(a)}),a.debounce=editorOptions_1.debounce,a}return s.prototype.isInShadow=function(o){for(var a=o&&o.parentNode;a;){if(a.toString()==="[object ShadowRoot]")return!0;a=a.parentNode}return!1},s.prototype.componentDidMount=function(){var o=this,a=this.props,rt=a.className,et=a.onBeforeLoad,ot=a.mode,at=a.focus,nt=a.theme,it=a.fontSize,j=a.value,_=a.defaultValue,$=a.cursorStart,tt=a.showGutter,st=a.wrapEnabled,lt=a.showPrintMargin,ct=a.scrollMargin,ht=ct===void 0?[0,0,0,0]:ct,ut=a.keyboardHandler,pt=a.onLoad,mt=a.commands,vt=a.annotations,dt=a.markers,St=a.splits;this.editor=ace$1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(nt)),et&&et(ace$1);var yt=Object.keys(this.props.editorProps),gt=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(nt),St);this.editor.env.split=gt,this.splitEditor=gt.getEditor(0),this.split=gt,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var Et=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),gt.forEach(function(kt,Ct){for(var Tt=0;Tt<yt.length;Tt++)kt[yt[Tt]]=o.props.editorProps[yt[Tt]];var At=get(_,Ct),It=get(j,Ct,"");kt.session.setUndoManager(new ace$1.UndoManager),kt.setTheme("ace/theme/".concat(nt)),kt.renderer.setScrollMargin(ht[0],ht[1],ht[2],ht[3]),kt.getSession().setMode("ace/mode/".concat(ot)),kt.setFontSize(it),kt.renderer.setShowGutter(tt),kt.getSession().setUseWrapMode(st),kt.setShowPrintMargin(lt),kt.on("focus",o.onFocus),kt.on("blur",o.onBlur),kt.on("input",o.onInput),kt.on("copy",o.onCopy),kt.on("paste",o.onPaste),kt.on("change",o.onChange),kt.getSession().selection.on("changeSelection",o.onSelectionChange),kt.getSession().selection.on("changeCursor",o.onCursorChange),kt.session.on("changeScrollTop",o.onScroll),kt.setValue(At===void 0?It:At,$);var Ot=get(vt,Ct,[]),Mt=get(dt,Ct,[]);kt.getSession().setAnnotations(Ot),Mt&&Mt.length>0&&o.handleMarkers(Mt,kt);for(var Tt=0;Tt<editorOptions_1.editorOptions.length;Tt++){var Dt=editorOptions_1.editorOptions[Tt];Et.hasOwnProperty(Dt)?kt.setOption(Dt,o.props[Dt]):o.props[Dt]&&console.warn("ReaceAce: editor option ".concat(Dt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}o.handleOptions(o.props,kt),Array.isArray(mt)&&mt.forEach(function(Bt){typeof Bt.exec=="string"?kt.commands.bindKey(Bt.bindKey,Bt.exec):kt.commands.addCommand(Bt)}),ut&&kt.setKeyboardHandler("ace/keyboard/"+ut)}),rt&&(this.refEditor.className+=" "+rt),at&&this.splitEditor.focus();var _t=this.editor.env.split;_t.setOrientation(this.props.orientation==="below"?_t.BELOW:_t.BESIDE),_t.resize(!0),pt&&pt(_t)},s.prototype.componentDidUpdate=function(o){var a=this,rt=o,et=this.props,ot=this.editor.env.split;if(et.splits!==rt.splits&&ot.setSplits(et.splits),et.orientation!==rt.orientation&&ot.setOrientation(et.orientation==="below"?ot.BELOW:ot.BESIDE),ot.forEach(function(j,_){et.mode!==rt.mode&&j.getSession().setMode("ace/mode/"+et.mode),et.keyboardHandler!==rt.keyboardHandler&&(et.keyboardHandler?j.setKeyboardHandler("ace/keyboard/"+et.keyboardHandler):j.setKeyboardHandler(null)),et.fontSize!==rt.fontSize&&j.setFontSize(et.fontSize),et.wrapEnabled!==rt.wrapEnabled&&j.getSession().setUseWrapMode(et.wrapEnabled),et.showPrintMargin!==rt.showPrintMargin&&j.setShowPrintMargin(et.showPrintMargin),et.showGutter!==rt.showGutter&&j.renderer.setShowGutter(et.showGutter);for(var $=0;$<editorOptions_1.editorOptions.length;$++){var tt=editorOptions_1.editorOptions[$];et[tt]!==rt[tt]&&j.setOption(tt,et[tt])}isEqual(et.setOptions,rt.setOptions)||a.handleOptions(et,j);var st=get(et.value,_,"");if(j.getValue()!==st){a.silent=!0;var lt=j.session.selection.toJSON();j.setValue(st,et.cursorStart),j.session.selection.fromJSON(lt),a.silent=!1}var ct=get(et.annotations,_,[]),ht=get(rt.annotations,_,[]);isEqual(ct,ht)||j.getSession().setAnnotations(ct);var ut=get(et.markers,_,[]),pt=get(rt.markers,_,[]);!isEqual(ut,pt)&&Array.isArray(ut)&&a.handleMarkers(ut,j)}),et.className!==rt.className){var at=this.refEditor.className,nt=at.trim().split(" "),it=rt.className.trim().split(" ");it.forEach(function(j){var _=nt.indexOf(j);nt.splice(_,1)}),this.refEditor.className=" "+et.className+" "+nt.join(" ")}et.theme!==rt.theme&&ot.setTheme("ace/theme/"+et.theme),et.focus&&!rt.focus&&this.splitEditor.focus(),(et.height!==this.props.height||et.width!==this.props.width)&&this.editor.resize()},s.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},s.prototype.onChange=function(o){if(this.props.onChange&&!this.silent){var a=[];this.editor.env.split.forEach(function(rt){a.push(rt.getValue())}),this.props.onChange(a,o)}},s.prototype.onSelectionChange=function(o){if(this.props.onSelectionChange){var a=[];this.editor.env.split.forEach(function(rt){a.push(rt.getSelection())}),this.props.onSelectionChange(a,o)}},s.prototype.onCursorChange=function(o){if(this.props.onCursorChange){var a=[];this.editor.env.split.forEach(function(rt){a.push(rt.getSelection())}),this.props.onCursorChange(a,o)}},s.prototype.onFocus=function(o){this.props.onFocus&&this.props.onFocus(o)},s.prototype.onInput=function(o){this.props.onInput&&this.props.onInput(o)},s.prototype.onBlur=function(o){this.props.onBlur&&this.props.onBlur(o)},s.prototype.onCopy=function(o){this.props.onCopy&&this.props.onCopy(o)},s.prototype.onPaste=function(o){this.props.onPaste&&this.props.onPaste(o)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(o,a){for(var rt=Object.keys(o.setOptions),et=0;et<rt.length;et++)a.setOption(rt[et],o.setOptions[rt[et]])},s.prototype.handleMarkers=function(o,a){var rt=a.getSession().getMarkers(!0);for(var et in rt)rt.hasOwnProperty(et)&&a.getSession().removeMarker(rt[et].id);rt=a.getSession().getMarkers(!1);for(var et in rt)rt.hasOwnProperty(et)&&a.getSession().removeMarker(rt[et].id);o.forEach(function(ot){var at=ot.startRow,nt=ot.startCol,it=ot.endRow,j=ot.endCol,_=ot.className,$=ot.type,tt=ot.inFront,st=tt===void 0?!1:tt,lt=new ace_builds_1.Range(at,nt,it,j);a.getSession().addMarker(lt,_,$,st)})},s.prototype.updateRef=function(o){this.refEditor=o},s.prototype.render=function(){var o=this.props,a=o.name,rt=o.width,et=o.height,ot=o.style,at=__assign({width:rt,height:et},ot);return React$1.createElement("div",{ref:this.updateRef,id:a,style:at})},s.propTypes={className:PropTypes$1.string,debounceChangePeriod:PropTypes$1.number,defaultValue:PropTypes$1.arrayOf(PropTypes$1.string),focus:PropTypes$1.bool,fontSize:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),height:PropTypes$1.string,mode:PropTypes$1.string,name:PropTypes$1.string,onBlur:PropTypes$1.func,onChange:PropTypes$1.func,onCopy:PropTypes$1.func,onFocus:PropTypes$1.func,onInput:PropTypes$1.func,onLoad:PropTypes$1.func,onPaste:PropTypes$1.func,onScroll:PropTypes$1.func,orientation:PropTypes$1.string,showGutter:PropTypes$1.bool,splits:PropTypes$1.number,theme:PropTypes$1.string,value:PropTypes$1.arrayOf(PropTypes$1.string),width:PropTypes$1.string,onSelectionChange:PropTypes$1.func,onCursorChange:PropTypes$1.func,onBeforeLoad:PropTypes$1.func,minLines:PropTypes$1.number,maxLines:PropTypes$1.number,readOnly:PropTypes$1.bool,highlightActiveLine:PropTypes$1.bool,tabSize:PropTypes$1.number,showPrintMargin:PropTypes$1.bool,cursorStart:PropTypes$1.number,editorProps:PropTypes$1.object,setOptions:PropTypes$1.object,style:PropTypes$1.object,scrollMargin:PropTypes$1.array,annotations:PropTypes$1.array,markers:PropTypes$1.array,keyboardHandler:PropTypes$1.string,wrapEnabled:PropTypes$1.bool,enableBasicAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),enableLiveAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),commands:PropTypes$1.array},s.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},s}(React$1.Component);split.default=SplitComponent;var diffMatchPatch={exports:{}};(function(i){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},o=-1,a=1,rt=0;s.Diff=function(et,ot){return[et,ot]},s.prototype.diff_main=function(et,ot,at,nt){typeof nt>"u"&&(this.Diff_Timeout<=0?nt=Number.MAX_VALUE:nt=new Date().getTime()+this.Diff_Timeout*1e3);var it=nt;if(et==null||ot==null)throw new Error("Null input. (diff_main)");if(et==ot)return et?[new s.Diff(rt,et)]:[];typeof at>"u"&&(at=!0);var j=at,_=this.diff_commonPrefix(et,ot),$=et.substring(0,_);et=et.substring(_),ot=ot.substring(_),_=this.diff_commonSuffix(et,ot);var tt=et.substring(et.length-_);et=et.substring(0,et.length-_),ot=ot.substring(0,ot.length-_);var st=this.diff_compute_(et,ot,j,it);return $&&st.unshift(new s.Diff(rt,$)),tt&&st.push(new s.Diff(rt,tt)),this.diff_cleanupMerge(st),st},s.prototype.diff_compute_=function(et,ot,at,nt){var it;if(!et)return[new s.Diff(a,ot)];if(!ot)return[new s.Diff(o,et)];var j=et.length>ot.length?et:ot,_=et.length>ot.length?ot:et,$=j.indexOf(_);if($!=-1)return it=[new s.Diff(a,j.substring(0,$)),new s.Diff(rt,_),new s.Diff(a,j.substring($+_.length))],et.length>ot.length&&(it[0][0]=it[2][0]=o),it;if(_.length==1)return[new s.Diff(o,et),new s.Diff(a,ot)];var tt=this.diff_halfMatch_(et,ot);if(tt){var st=tt[0],lt=tt[1],ct=tt[2],ht=tt[3],ut=tt[4],pt=this.diff_main(st,ct,at,nt),mt=this.diff_main(lt,ht,at,nt);return pt.concat([new s.Diff(rt,ut)],mt)}return at&&et.length>100&&ot.length>100?this.diff_lineMode_(et,ot,nt):this.diff_bisect_(et,ot,nt)},s.prototype.diff_lineMode_=function(et,ot,at){var nt=this.diff_linesToChars_(et,ot);et=nt.chars1,ot=nt.chars2;var it=nt.lineArray,j=this.diff_main(et,ot,!1,at);this.diff_charsToLines_(j,it),this.diff_cleanupSemantic(j),j.push(new s.Diff(rt,""));for(var _=0,$=0,tt=0,st="",lt="";_<j.length;){switch(j[_][0]){case a:tt++,lt+=j[_][1];break;case o:$++,st+=j[_][1];break;case rt:if($>=1&&tt>=1){j.splice(_-$-tt,$+tt),_=_-$-tt;for(var ct=this.diff_main(st,lt,!1,at),ht=ct.length-1;ht>=0;ht--)j.splice(_,0,ct[ht]);_=_+ct.length}tt=0,$=0,st="",lt="";break}_++}return j.pop(),j},s.prototype.diff_bisect_=function(et,ot,at){for(var nt=et.length,it=ot.length,j=Math.ceil((nt+it)/2),_=j,$=2*j,tt=new Array($),st=new Array($),lt=0;lt<$;lt++)tt[lt]=-1,st[lt]=-1;tt[_+1]=0,st[_+1]=0;for(var ct=nt-it,ht=ct%2!=0,ut=0,pt=0,mt=0,vt=0,dt=0;dt<j&&!(new Date().getTime()>at);dt++){for(var St=-dt+ut;St<=dt-pt;St+=2){var yt=_+St,gt;St==-dt||St!=dt&&tt[yt-1]<tt[yt+1]?gt=tt[yt+1]:gt=tt[yt-1]+1;for(var Et=gt-St;gt<nt&&Et<it&&et.charAt(gt)==ot.charAt(Et);)gt++,Et++;if(tt[yt]=gt,gt>nt)pt+=2;else if(Et>it)ut+=2;else if(ht){var _t=_+ct-St;if(_t>=0&&_t<$&&st[_t]!=-1){var kt=nt-st[_t];if(gt>=kt)return this.diff_bisectSplit_(et,ot,gt,Et,at)}}}for(var Ct=-dt+mt;Ct<=dt-vt;Ct+=2){var _t=_+Ct,kt;Ct==-dt||Ct!=dt&&st[_t-1]<st[_t+1]?kt=st[_t+1]:kt=st[_t-1]+1;for(var Tt=kt-Ct;kt<nt&&Tt<it&&et.charAt(nt-kt-1)==ot.charAt(it-Tt-1);)kt++,Tt++;if(st[_t]=kt,kt>nt)vt+=2;else if(Tt>it)mt+=2;else if(!ht){var yt=_+ct-Ct;if(yt>=0&&yt<$&&tt[yt]!=-1){var gt=tt[yt],Et=_+gt-yt;if(kt=nt-kt,gt>=kt)return this.diff_bisectSplit_(et,ot,gt,Et,at)}}}}return[new s.Diff(o,et),new s.Diff(a,ot)]},s.prototype.diff_bisectSplit_=function(et,ot,at,nt,it){var j=et.substring(0,at),_=ot.substring(0,nt),$=et.substring(at),tt=ot.substring(nt),st=this.diff_main(j,_,!1,it),lt=this.diff_main($,tt,!1,it);return st.concat(lt)},s.prototype.diff_linesToChars_=function(et,ot){var at=[],nt={};at[0]="";function it(tt){for(var st="",lt=0,ct=-1,ht=at.length;ct<tt.length-1;){ct=tt.indexOf(`
`,lt),ct==-1&&(ct=tt.length-1);var ut=tt.substring(lt,ct+1);(nt.hasOwnProperty?nt.hasOwnProperty(ut):nt[ut]!==void 0)?st+=String.fromCharCode(nt[ut]):(ht==j&&(ut=tt.substring(lt),ct=tt.length),st+=String.fromCharCode(ht),nt[ut]=ht,at[ht++]=ut),lt=ct+1}return st}var j=4e4,_=it(et);j=65535;var $=it(ot);return{chars1:_,chars2:$,lineArray:at}},s.prototype.diff_charsToLines_=function(et,ot){for(var at=0;at<et.length;at++){for(var nt=et[at][1],it=[],j=0;j<nt.length;j++)it[j]=ot[nt.charCodeAt(j)];et[at][1]=it.join("")}},s.prototype.diff_commonPrefix=function(et,ot){if(!et||!ot||et.charAt(0)!=ot.charAt(0))return 0;for(var at=0,nt=Math.min(et.length,ot.length),it=nt,j=0;at<it;)et.substring(j,it)==ot.substring(j,it)?(at=it,j=at):nt=it,it=Math.floor((nt-at)/2+at);return it},s.prototype.diff_commonSuffix=function(et,ot){if(!et||!ot||et.charAt(et.length-1)!=ot.charAt(ot.length-1))return 0;for(var at=0,nt=Math.min(et.length,ot.length),it=nt,j=0;at<it;)et.substring(et.length-it,et.length-j)==ot.substring(ot.length-it,ot.length-j)?(at=it,j=at):nt=it,it=Math.floor((nt-at)/2+at);return it},s.prototype.diff_commonOverlap_=function(et,ot){var at=et.length,nt=ot.length;if(at==0||nt==0)return 0;at>nt?et=et.substring(at-nt):at<nt&&(ot=ot.substring(0,at));var it=Math.min(at,nt);if(et==ot)return it;for(var j=0,_=1;;){var $=et.substring(it-_),tt=ot.indexOf($);if(tt==-1)return j;_+=tt,(tt==0||et.substring(it-_)==ot.substring(0,_))&&(j=_,_++)}},s.prototype.diff_halfMatch_=function(et,ot){if(this.Diff_Timeout<=0)return null;var at=et.length>ot.length?et:ot,nt=et.length>ot.length?ot:et;if(at.length<4||nt.length*2<at.length)return null;var it=this;function j(pt,mt,vt){for(var dt=pt.substring(vt,vt+Math.floor(pt.length/4)),St=-1,yt="",gt,Et,_t,kt;(St=mt.indexOf(dt,St+1))!=-1;){var Ct=it.diff_commonPrefix(pt.substring(vt),mt.substring(St)),Tt=it.diff_commonSuffix(pt.substring(0,vt),mt.substring(0,St));yt.length<Tt+Ct&&(yt=mt.substring(St-Tt,St)+mt.substring(St,St+Ct),gt=pt.substring(0,vt-Tt),Et=pt.substring(vt+Ct),_t=mt.substring(0,St-Tt),kt=mt.substring(St+Ct))}return yt.length*2>=pt.length?[gt,Et,_t,kt,yt]:null}var _=j(at,nt,Math.ceil(at.length/4)),$=j(at,nt,Math.ceil(at.length/2)),tt;if(!_&&!$)return null;$?_?tt=_[4].length>$[4].length?_:$:tt=$:tt=_;var st,lt,ct,ht;et.length>ot.length?(st=tt[0],lt=tt[1],ct=tt[2],ht=tt[3]):(ct=tt[0],ht=tt[1],st=tt[2],lt=tt[3]);var ut=tt[4];return[st,lt,ct,ht,ut]},s.prototype.diff_cleanupSemantic=function(et){for(var ot=!1,at=[],nt=0,it=null,j=0,_=0,$=0,tt=0,st=0;j<et.length;)et[j][0]==rt?(at[nt++]=j,_=tt,$=st,tt=0,st=0,it=et[j][1]):(et[j][0]==a?tt+=et[j][1].length:st+=et[j][1].length,it&&it.length<=Math.max(_,$)&&it.length<=Math.max(tt,st)&&(et.splice(at[nt-1],0,new s.Diff(o,it)),et[at[nt-1]+1][0]=a,nt--,nt--,j=nt>0?at[nt-1]:-1,_=0,$=0,tt=0,st=0,it=null,ot=!0)),j++;for(ot&&this.diff_cleanupMerge(et),this.diff_cleanupSemanticLossless(et),j=1;j<et.length;){if(et[j-1][0]==o&&et[j][0]==a){var lt=et[j-1][1],ct=et[j][1],ht=this.diff_commonOverlap_(lt,ct),ut=this.diff_commonOverlap_(ct,lt);ht>=ut?(ht>=lt.length/2||ht>=ct.length/2)&&(et.splice(j,0,new s.Diff(rt,ct.substring(0,ht))),et[j-1][1]=lt.substring(0,lt.length-ht),et[j+1][1]=ct.substring(ht),j++):(ut>=lt.length/2||ut>=ct.length/2)&&(et.splice(j,0,new s.Diff(rt,lt.substring(0,ut))),et[j-1][0]=a,et[j-1][1]=ct.substring(0,ct.length-ut),et[j+1][0]=o,et[j+1][1]=lt.substring(ut),j++),j++}j++}},s.prototype.diff_cleanupSemanticLossless=function(et){function ot(ut,pt){if(!ut||!pt)return 6;var mt=ut.charAt(ut.length-1),vt=pt.charAt(0),dt=mt.match(s.nonAlphaNumericRegex_),St=vt.match(s.nonAlphaNumericRegex_),yt=dt&&mt.match(s.whitespaceRegex_),gt=St&&vt.match(s.whitespaceRegex_),Et=yt&&mt.match(s.linebreakRegex_),_t=gt&&vt.match(s.linebreakRegex_),kt=Et&&ut.match(s.blanklineEndRegex_),Ct=_t&&pt.match(s.blanklineStartRegex_);return kt||Ct?5:Et||_t?4:dt&&!yt&&gt?3:yt||gt?2:dt||St?1:0}for(var at=1;at<et.length-1;){if(et[at-1][0]==rt&&et[at+1][0]==rt){var nt=et[at-1][1],it=et[at][1],j=et[at+1][1],_=this.diff_commonSuffix(nt,it);if(_){var $=it.substring(it.length-_);nt=nt.substring(0,nt.length-_),it=$+it.substring(0,it.length-_),j=$+j}for(var tt=nt,st=it,lt=j,ct=ot(nt,it)+ot(it,j);it.charAt(0)===j.charAt(0);){nt+=it.charAt(0),it=it.substring(1)+j.charAt(0),j=j.substring(1);var ht=ot(nt,it)+ot(it,j);ht>=ct&&(ct=ht,tt=nt,st=it,lt=j)}et[at-1][1]!=tt&&(tt?et[at-1][1]=tt:(et.splice(at-1,1),at--),et[at][1]=st,lt?et[at+1][1]=lt:(et.splice(at+1,1),at--))}at++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(et){for(var ot=!1,at=[],nt=0,it=null,j=0,_=!1,$=!1,tt=!1,st=!1;j<et.length;)et[j][0]==rt?(et[j][1].length<this.Diff_EditCost&&(tt||st)?(at[nt++]=j,_=tt,$=st,it=et[j][1]):(nt=0,it=null),tt=st=!1):(et[j][0]==o?st=!0:tt=!0,it&&(_&&$&&tt&&st||it.length<this.Diff_EditCost/2&&_+$+tt+st==3)&&(et.splice(at[nt-1],0,new s.Diff(o,it)),et[at[nt-1]+1][0]=a,nt--,it=null,_&&$?(tt=st=!0,nt=0):(nt--,j=nt>0?at[nt-1]:-1,tt=st=!1),ot=!0)),j++;ot&&this.diff_cleanupMerge(et)},s.prototype.diff_cleanupMerge=function(et){et.push(new s.Diff(rt,""));for(var ot=0,at=0,nt=0,it="",j="",_;ot<et.length;)switch(et[ot][0]){case a:nt++,j+=et[ot][1],ot++;break;case o:at++,it+=et[ot][1],ot++;break;case rt:at+nt>1?(at!==0&&nt!==0&&(_=this.diff_commonPrefix(j,it),_!==0&&(ot-at-nt>0&&et[ot-at-nt-1][0]==rt?et[ot-at-nt-1][1]+=j.substring(0,_):(et.splice(0,0,new s.Diff(rt,j.substring(0,_))),ot++),j=j.substring(_),it=it.substring(_)),_=this.diff_commonSuffix(j,it),_!==0&&(et[ot][1]=j.substring(j.length-_)+et[ot][1],j=j.substring(0,j.length-_),it=it.substring(0,it.length-_))),ot-=at+nt,et.splice(ot,at+nt),it.length&&(et.splice(ot,0,new s.Diff(o,it)),ot++),j.length&&(et.splice(ot,0,new s.Diff(a,j)),ot++),ot++):ot!==0&&et[ot-1][0]==rt?(et[ot-1][1]+=et[ot][1],et.splice(ot,1)):ot++,nt=0,at=0,it="",j="";break}et[et.length-1][1]===""&&et.pop();var $=!1;for(ot=1;ot<et.length-1;)et[ot-1][0]==rt&&et[ot+1][0]==rt&&(et[ot][1].substring(et[ot][1].length-et[ot-1][1].length)==et[ot-1][1]?(et[ot][1]=et[ot-1][1]+et[ot][1].substring(0,et[ot][1].length-et[ot-1][1].length),et[ot+1][1]=et[ot-1][1]+et[ot+1][1],et.splice(ot-1,1),$=!0):et[ot][1].substring(0,et[ot+1][1].length)==et[ot+1][1]&&(et[ot-1][1]+=et[ot+1][1],et[ot][1]=et[ot][1].substring(et[ot+1][1].length)+et[ot+1][1],et.splice(ot+1,1),$=!0)),ot++;$&&this.diff_cleanupMerge(et)},s.prototype.diff_xIndex=function(et,ot){var at=0,nt=0,it=0,j=0,_;for(_=0;_<et.length&&(et[_][0]!==a&&(at+=et[_][1].length),et[_][0]!==o&&(nt+=et[_][1].length),!(at>ot));_++)it=at,j=nt;return et.length!=_&&et[_][0]===o?j:j+(ot-it)},s.prototype.diff_prettyHtml=function(et){for(var ot=[],at=/&/g,nt=/</g,it=/>/g,j=/\n/g,_=0;_<et.length;_++){var $=et[_][0],tt=et[_][1],st=tt.replace(at,"&amp;").replace(nt,"&lt;").replace(it,"&gt;").replace(j,"&para;<br>");switch($){case a:ot[_]='<ins style="background:#e6ffe6;">'+st+"</ins>";break;case o:ot[_]='<del style="background:#ffe6e6;">'+st+"</del>";break;case rt:ot[_]="<span>"+st+"</span>";break}}return ot.join("")},s.prototype.diff_text1=function(et){for(var ot=[],at=0;at<et.length;at++)et[at][0]!==a&&(ot[at]=et[at][1]);return ot.join("")},s.prototype.diff_text2=function(et){for(var ot=[],at=0;at<et.length;at++)et[at][0]!==o&&(ot[at]=et[at][1]);return ot.join("")},s.prototype.diff_levenshtein=function(et){for(var ot=0,at=0,nt=0,it=0;it<et.length;it++){var j=et[it][0],_=et[it][1];switch(j){case a:at+=_.length;break;case o:nt+=_.length;break;case rt:ot+=Math.max(at,nt),at=0,nt=0;break}}return ot+=Math.max(at,nt),ot},s.prototype.diff_toDelta=function(et){for(var ot=[],at=0;at<et.length;at++)switch(et[at][0]){case a:ot[at]="+"+encodeURI(et[at][1]);break;case o:ot[at]="-"+et[at][1].length;break;case rt:ot[at]="="+et[at][1].length;break}return ot.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(et,ot){for(var at=[],nt=0,it=0,j=ot.split(/\t/g),_=0;_<j.length;_++){var $=j[_].substring(1);switch(j[_].charAt(0)){case"+":try{at[nt++]=new s.Diff(a,decodeURI($))}catch{throw new Error("Illegal escape in diff_fromDelta: "+$)}break;case"-":case"=":var tt=parseInt($,10);if(isNaN(tt)||tt<0)throw new Error("Invalid number in diff_fromDelta: "+$);var st=et.substring(it,it+=tt);j[_].charAt(0)=="="?at[nt++]=new s.Diff(rt,st):at[nt++]=new s.Diff(o,st);break;default:if(j[_])throw new Error("Invalid diff operation in diff_fromDelta: "+j[_])}}if(it!=et.length)throw new Error("Delta length ("+it+") does not equal source text length ("+et.length+").");return at},s.prototype.match_main=function(et,ot,at){if(et==null||ot==null||at==null)throw new Error("Null input. (match_main)");return at=Math.max(0,Math.min(at,et.length)),et==ot?0:et.length?et.substring(at,at+ot.length)==ot?at:this.match_bitap_(et,ot,at):-1},s.prototype.match_bitap_=function(et,ot,at){if(ot.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var nt=this.match_alphabet_(ot),it=this;function j(gt,Et){var _t=gt/ot.length,kt=Math.abs(at-Et);return it.Match_Distance?_t+kt/it.Match_Distance:kt?1:_t}var _=this.Match_Threshold,$=et.indexOf(ot,at);$!=-1&&(_=Math.min(j(0,$),_),$=et.lastIndexOf(ot,at+ot.length),$!=-1&&(_=Math.min(j(0,$),_)));var tt=1<<ot.length-1;$=-1;for(var st,lt,ct=ot.length+et.length,ht,ut=0;ut<ot.length;ut++){for(st=0,lt=ct;st<lt;)j(ut,at+lt)<=_?st=lt:ct=lt,lt=Math.floor((ct-st)/2+st);ct=lt;var pt=Math.max(1,at-lt+1),mt=Math.min(at+lt,et.length)+ot.length,vt=Array(mt+2);vt[mt+1]=(1<<ut)-1;for(var dt=mt;dt>=pt;dt--){var St=nt[et.charAt(dt-1)];if(ut===0?vt[dt]=(vt[dt+1]<<1|1)&St:vt[dt]=(vt[dt+1]<<1|1)&St|((ht[dt+1]|ht[dt])<<1|1)|ht[dt+1],vt[dt]&tt){var yt=j(ut,dt-1);if(yt<=_)if(_=yt,$=dt-1,$>at)pt=Math.max(1,2*at-$);else break}}if(j(ut+1,at)>_)break;ht=vt}return $},s.prototype.match_alphabet_=function(et){for(var ot={},at=0;at<et.length;at++)ot[et.charAt(at)]=0;for(var at=0;at<et.length;at++)ot[et.charAt(at)]|=1<<et.length-at-1;return ot},s.prototype.patch_addContext_=function(et,ot){if(ot.length!=0){if(et.start2===null)throw Error("patch not initialized");for(var at=ot.substring(et.start2,et.start2+et.length1),nt=0;ot.indexOf(at)!=ot.lastIndexOf(at)&&at.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)nt+=this.Patch_Margin,at=ot.substring(et.start2-nt,et.start2+et.length1+nt);nt+=this.Patch_Margin;var it=ot.substring(et.start2-nt,et.start2);it&&et.diffs.unshift(new s.Diff(rt,it));var j=ot.substring(et.start2+et.length1,et.start2+et.length1+nt);j&&et.diffs.push(new s.Diff(rt,j)),et.start1-=it.length,et.start2-=it.length,et.length1+=it.length+j.length,et.length2+=it.length+j.length}},s.prototype.patch_make=function(et,ot,at){var nt,it;if(typeof et=="string"&&typeof ot=="string"&&typeof at>"u")nt=et,it=this.diff_main(nt,ot,!0),it.length>2&&(this.diff_cleanupSemantic(it),this.diff_cleanupEfficiency(it));else if(et&&typeof et=="object"&&typeof ot>"u"&&typeof at>"u")it=et,nt=this.diff_text1(it);else if(typeof et=="string"&&ot&&typeof ot=="object"&&typeof at>"u")nt=et,it=ot;else if(typeof et=="string"&&typeof ot=="string"&&at&&typeof at=="object")nt=et,it=at;else throw new Error("Unknown call format to patch_make.");if(it.length===0)return[];for(var j=[],_=new s.patch_obj,$=0,tt=0,st=0,lt=nt,ct=nt,ht=0;ht<it.length;ht++){var ut=it[ht][0],pt=it[ht][1];switch(!$&&ut!==rt&&(_.start1=tt,_.start2=st),ut){case a:_.diffs[$++]=it[ht],_.length2+=pt.length,ct=ct.substring(0,st)+pt+ct.substring(st);break;case o:_.length1+=pt.length,_.diffs[$++]=it[ht],ct=ct.substring(0,st)+ct.substring(st+pt.length);break;case rt:pt.length<=2*this.Patch_Margin&&$&&it.length!=ht+1?(_.diffs[$++]=it[ht],_.length1+=pt.length,_.length2+=pt.length):pt.length>=2*this.Patch_Margin&&$&&(this.patch_addContext_(_,lt),j.push(_),_=new s.patch_obj,$=0,lt=ct,tt=st);break}ut!==a&&(tt+=pt.length),ut!==o&&(st+=pt.length)}return $&&(this.patch_addContext_(_,lt),j.push(_)),j},s.prototype.patch_deepCopy=function(et){for(var ot=[],at=0;at<et.length;at++){var nt=et[at],it=new s.patch_obj;it.diffs=[];for(var j=0;j<nt.diffs.length;j++)it.diffs[j]=new s.Diff(nt.diffs[j][0],nt.diffs[j][1]);it.start1=nt.start1,it.start2=nt.start2,it.length1=nt.length1,it.length2=nt.length2,ot[at]=it}return ot},s.prototype.patch_apply=function(et,ot){if(et.length==0)return[ot,[]];et=this.patch_deepCopy(et);var at=this.patch_addPadding(et);ot=at+ot+at,this.patch_splitMax(et);for(var nt=0,it=[],j=0;j<et.length;j++){var _=et[j].start2+nt,$=this.diff_text1(et[j].diffs),tt,st=-1;if($.length>this.Match_MaxBits?(tt=this.match_main(ot,$.substring(0,this.Match_MaxBits),_),tt!=-1&&(st=this.match_main(ot,$.substring($.length-this.Match_MaxBits),_+$.length-this.Match_MaxBits),(st==-1||tt>=st)&&(tt=-1))):tt=this.match_main(ot,$,_),tt==-1)it[j]=!1,nt-=et[j].length2-et[j].length1;else{it[j]=!0,nt=tt-_;var lt;if(st==-1?lt=ot.substring(tt,tt+$.length):lt=ot.substring(tt,st+this.Match_MaxBits),$==lt)ot=ot.substring(0,tt)+this.diff_text2(et[j].diffs)+ot.substring(tt+$.length);else{var ct=this.diff_main($,lt,!1);if($.length>this.Match_MaxBits&&this.diff_levenshtein(ct)/$.length>this.Patch_DeleteThreshold)it[j]=!1;else{this.diff_cleanupSemanticLossless(ct);for(var ht=0,ut,pt=0;pt<et[j].diffs.length;pt++){var mt=et[j].diffs[pt];mt[0]!==rt&&(ut=this.diff_xIndex(ct,ht)),mt[0]===a?ot=ot.substring(0,tt+ut)+mt[1]+ot.substring(tt+ut):mt[0]===o&&(ot=ot.substring(0,tt+ut)+ot.substring(tt+this.diff_xIndex(ct,ht+mt[1].length))),mt[0]!==o&&(ht+=mt[1].length)}}}}}return ot=ot.substring(at.length,ot.length-at.length),[ot,it]},s.prototype.patch_addPadding=function(et){for(var ot=this.Patch_Margin,at="",nt=1;nt<=ot;nt++)at+=String.fromCharCode(nt);for(var nt=0;nt<et.length;nt++)et[nt].start1+=ot,et[nt].start2+=ot;var it=et[0],j=it.diffs;if(j.length==0||j[0][0]!=rt)j.unshift(new s.Diff(rt,at)),it.start1-=ot,it.start2-=ot,it.length1+=ot,it.length2+=ot;else if(ot>j[0][1].length){var _=ot-j[0][1].length;j[0][1]=at.substring(j[0][1].length)+j[0][1],it.start1-=_,it.start2-=_,it.length1+=_,it.length2+=_}if(it=et[et.length-1],j=it.diffs,j.length==0||j[j.length-1][0]!=rt)j.push(new s.Diff(rt,at)),it.length1+=ot,it.length2+=ot;else if(ot>j[j.length-1][1].length){var _=ot-j[j.length-1][1].length;j[j.length-1][1]+=at.substring(0,_),it.length1+=_,it.length2+=_}return at},s.prototype.patch_splitMax=function(et){for(var ot=this.Match_MaxBits,at=0;at<et.length;at++)if(!(et[at].length1<=ot)){var nt=et[at];et.splice(at--,1);for(var it=nt.start1,j=nt.start2,_="";nt.diffs.length!==0;){var $=new s.patch_obj,tt=!0;for($.start1=it-_.length,$.start2=j-_.length,_!==""&&($.length1=$.length2=_.length,$.diffs.push(new s.Diff(rt,_)));nt.diffs.length!==0&&$.length1<ot-this.Patch_Margin;){var st=nt.diffs[0][0],lt=nt.diffs[0][1];st===a?($.length2+=lt.length,j+=lt.length,$.diffs.push(nt.diffs.shift()),tt=!1):st===o&&$.diffs.length==1&&$.diffs[0][0]==rt&&lt.length>2*ot?($.length1+=lt.length,it+=lt.length,tt=!1,$.diffs.push(new s.Diff(st,lt)),nt.diffs.shift()):(lt=lt.substring(0,ot-$.length1-this.Patch_Margin),$.length1+=lt.length,it+=lt.length,st===rt?($.length2+=lt.length,j+=lt.length):tt=!1,$.diffs.push(new s.Diff(st,lt)),lt==nt.diffs[0][1]?nt.diffs.shift():nt.diffs[0][1]=nt.diffs[0][1].substring(lt.length))}_=this.diff_text2($.diffs),_=_.substring(_.length-this.Patch_Margin);var ct=this.diff_text1(nt.diffs).substring(0,this.Patch_Margin);ct!==""&&($.length1+=ct.length,$.length2+=ct.length,$.diffs.length!==0&&$.diffs[$.diffs.length-1][0]===rt?$.diffs[$.diffs.length-1][1]+=ct:$.diffs.push(new s.Diff(rt,ct))),tt||et.splice(++at,0,$)}}},s.prototype.patch_toText=function(et){for(var ot=[],at=0;at<et.length;at++)ot[at]=et[at];return ot.join("")},s.prototype.patch_fromText=function(et){var ot=[];if(!et)return ot;for(var at=et.split(`
`),nt=0,it=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;nt<at.length;){var j=at[nt].match(it);if(!j)throw new Error("Invalid patch string: "+at[nt]);var _=new s.patch_obj;for(ot.push(_),_.start1=parseInt(j[1],10),j[2]===""?(_.start1--,_.length1=1):j[2]=="0"?_.length1=0:(_.start1--,_.length1=parseInt(j[2],10)),_.start2=parseInt(j[3],10),j[4]===""?(_.start2--,_.length2=1):j[4]=="0"?_.length2=0:(_.start2--,_.length2=parseInt(j[4],10)),nt++;nt<at.length;){var $=at[nt].charAt(0);try{var tt=decodeURI(at[nt].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+tt)}if($=="-")_.diffs.push(new s.Diff(o,tt));else if($=="+")_.diffs.push(new s.Diff(a,tt));else if($==" ")_.diffs.push(new s.Diff(rt,tt));else{if($=="@")break;if($!=="")throw new Error('Invalid patch mode "'+$+'" in: '+tt)}nt++}}return ot},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var et,ot;this.length1===0?et=this.start1+",0":this.length1==1?et=this.start1+1:et=this.start1+1+","+this.length1,this.length2===0?ot=this.start2+",0":this.length2==1?ot=this.start2+1:ot=this.start2+1+","+this.length2;for(var at=["@@ -"+et+" +"+ot+` @@
`],nt,it=0;it<this.diffs.length;it++){switch(this.diffs[it][0]){case a:nt="+";break;case o:nt="-";break;case rt:nt=" ";break}at[it+1]=nt+encodeURI(this.diffs[it][1])+`
`}return at.join("").replace(/%20/g," ")},i.exports=s,i.exports.diff_match_patch=s,i.exports.DIFF_DELETE=o,i.exports.DIFF_INSERT=a,i.exports.DIFF_EQUAL=rt})(diffMatchPatch);var diffMatchPatchExports=diffMatchPatch.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,rt){a.__proto__=rt}||function(a,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(a[et]=rt[et])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}();Object.defineProperty(diff,"__esModule",{value:!0});var PropTypes=propTypesExports,React=reactExports,split_1$1=split,DiffMatchPatch=diffMatchPatchExports,DiffComponent=function(i){__extends(s,i);function s(o){var a=i.call(this,o)||this;return a.state={value:a.props.value},a.onChange=a.onChange.bind(a),a.diff=a.diff.bind(a),a}return s.prototype.componentDidUpdate=function(){var o=this.props.value;o!==this.state.value&&this.setState({value:o})},s.prototype.onChange=function(o){this.setState({value:o}),this.props.onChange&&this.props.onChange(o)},s.prototype.diff=function(){var o=new DiffMatchPatch,a=this.state.value[0],rt=this.state.value[1];if(a.length===0&&rt.length===0)return[];var et=o.diff_main(a,rt);o.diff_cleanupSemantic(et);var ot=this.generateDiffedLines(et),at=this.setCodeMarkers(ot);return at},s.prototype.generateDiffedLines=function(o){var a={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},rt={left:[],right:[]},et={left:1,right:1};return o.forEach(function(ot){var at=ot[0],nt=ot[1],it=nt.split(`
`).length-1;if(nt.length!==0){var j=nt[0],_=nt[nt.length-1],$=0;switch(at){case a.DIFF_EQUAL:et.left+=it,et.right+=it;break;case a.DIFF_DELETE:j===`
`&&(et.left++,it--),$=it,$===0&&rt.right.push({startLine:et.right,endLine:et.right}),_===`
`&&($-=1),rt.left.push({startLine:et.left,endLine:et.left+$}),et.left+=it;break;case a.DIFF_INSERT:j===`
`&&(et.right++,it--),$=it,$===0&&rt.left.push({startLine:et.left,endLine:et.left}),_===`
`&&($-=1),rt.right.push({startLine:et.right,endLine:et.right+$}),et.right+=it;break;default:throw new Error("Diff type was not defined.")}}}),rt},s.prototype.setCodeMarkers=function(o){o===void 0&&(o={left:[],right:[]});for(var a=[],rt={left:[],right:[]},et=0;et<o.left.length;et++){var ot={startRow:o.left[et].startLine-1,endRow:o.left[et].endLine,type:"text",className:"codeMarker"};rt.left.push(ot)}for(var et=0;et<o.right.length;et++){var ot={startRow:o.right[et].startLine-1,endRow:o.right[et].endLine,type:"text",className:"codeMarker"};rt.right.push(ot)}return a[0]=rt.left,a[1]=rt.right,a},s.prototype.render=function(){var o=this.diff();return React.createElement(split_1$1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:o})},s.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},s.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},s}(React.Component);diff.default=DiffComponent;Object.defineProperty(lib$1,"__esModule",{value:!0});lib$1.diff=lib$1.split=void 0;var ace_1=ace$4,diff_1=diff;lib$1.diff=diff_1.default;var split_1=split;lib$1.split=split_1.default;var _default=lib$1.default=ace_1.default;const useTypedSelector=useSelector,useTypedDispatch=useDispatch,BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(i=>(i.SOURCE_THREE_INTERPRETER="Source 3 (Legacy)",i.PYTHON="Python",i))(Languages||{});const supportedLanguages=["Python","Source 3 (Legacy)"],languageToModeMap=Object.freeze({Python:"python","Source 3 (Legacy)":"javascript"});var extLanguage_tools={exports:{}};(function(i,s){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(o,a,rt){var et=o("./lib/dom"),ot=o("./lib/oop"),at=o("./lib/event_emitter").EventEmitter,nt=o("./lib/lang"),it=o("./range").Range,j=o("./range_list").RangeList,_=o("./keyboard/hash_handler").HashHandler,$=o("./tokenizer").Tokenizer,tt=o("./clipboard"),st={CURRENT_WORD:function(dt){return dt.session.getTextRange(dt.session.getWordRange())},SELECTION:function(dt,St,yt){var gt=dt.session.getTextRange();return yt?gt.replace(/\n\r?([ \t]*\S)/g,`
`+yt+"$1"):gt},CURRENT_LINE:function(dt){return dt.session.getLine(dt.getCursorPosition().row)},PREV_LINE:function(dt){return dt.session.getLine(dt.getCursorPosition().row-1)},LINE_INDEX:function(dt){return dt.getCursorPosition().row},LINE_NUMBER:function(dt){return dt.getCursorPosition().row+1},SOFT_TABS:function(dt){return dt.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(dt){return dt.session.getTabSize()},CLIPBOARD:function(dt){return tt.getText&&tt.getText()},FILENAME:function(dt){return/[^/\\]*$/.exec(this.FILEPATH(dt))[0]},FILENAME_BASE:function(dt){return/[^/\\]*$/.exec(this.FILEPATH(dt))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(dt){return this.FILEPATH(dt).replace(/[^/\\]*$/,"")},FILEPATH:function(dt){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(dt){var St=dt.session.$mode||{};return St.blockComment&&St.blockComment.start||""},BLOCK_COMMENT_END:function(dt){var St=dt.session.$mode||{};return St.blockComment&&St.blockComment.end||""},LINE_COMMENT:function(dt){var St=dt.session.$mode||{};return St.lineCommentStart||""},CURRENT_YEAR:lt.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:lt.bind(null,{year:"2-digit"}),CURRENT_MONTH:lt.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:lt.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:lt.bind(null,{month:"short"}),CURRENT_DATE:lt.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:lt.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:lt.bind(null,{weekday:"short"}),CURRENT_HOUR:lt.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:lt.bind(null,{minute:"2-digit"}),CURRENT_SECOND:lt.bind(null,{second:"2-digit"})};st.SELECTED_TEXT=st.SELECTION;function lt(dt){var St=new Date().toLocaleString("en-us",dt);return St.length==1?"0"+St:St}var ct=function(){function dt(){this.snippetMap={},this.snippetNameMap={},this.variables=st}return dt.prototype.getTokenizer=function(){return dt.$tokenizer||this.createTokenizer()},dt.prototype.createTokenizer=function(){function St(Et){return Et=Et.substr(1),/^\d+$/.test(Et)?[{tabstopId:parseInt(Et,10)}]:[{text:Et}]}function yt(Et){return"(?:[^\\\\"+Et+"]|\\\\.)"}var gt={regex:"/("+yt("/")+"+)/",onMatch:function(Et,_t,kt){var Ct=kt[0];return Ct.fmtString=!0,Ct.guard=Et.slice(1,-1),Ct.flag="",""},next:"formatString"};return dt.$tokenizer=new $({start:[{regex:/\\./,onMatch:function(Et,_t,kt){var Ct=Et[1];return(Ct=="}"&&kt.length||"`$\\".indexOf(Ct)!=-1)&&(Et=Ct),[Et]}},{regex:/}/,onMatch:function(Et,_t,kt){return[kt.length?kt.shift():Et]}},{regex:/\$(?:\d+|\w+)/,onMatch:St},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(Et,_t,kt){var Ct=St(Et.substr(1));return kt.unshift(Ct[0]),Ct},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+yt("\\|")+"*\\|",onMatch:function(Et,_t,kt){var Ct=Et.slice(1,-1).replace(/\\[,|\\]|,/g,function(Tt){return Tt.length==2?Tt[1]:"\0"}).split("\0").map(function(Tt){return{value:Tt}});return kt[0].choices=Ct,[Ct[0]]},next:"start"},gt,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(Et,_t,kt){return kt.length&&kt[0].expectElse?(kt[0].expectElse=!1,kt[0].ifEnd={elseEnd:kt[0]},[kt[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(Et,_t,kt){var Ct=Et[1];return Ct=="}"&&kt.length||"`$\\".indexOf(Ct)!=-1?Et=Ct:Ct=="n"?Et=`
`:Ct=="t"?Et="	":"ulULE".indexOf(Ct)!=-1&&(Et={changeCase:Ct,local:Ct>"a"}),[Et]}},{regex:"/\\w*}",onMatch:function(Et,_t,kt){var Ct=kt.shift();return Ct&&(Ct.flag=Et.slice(1,-1)),this.next=Ct&&Ct.tabstopId?"start":"",[Ct||Et]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(Et,_t,kt){return[{text:Et.slice(1)}]}},{regex:/\${\w+/,onMatch:function(Et,_t,kt){var Ct={text:Et.slice(2)};return kt.unshift(Ct),[Ct]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(Et,_t,kt){var Ct=kt.shift();return this.next=Ct&&Ct.tabstopId?"start":"",[Ct||Et]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(Et,_t,kt){var Ct=kt[0];return Ct.formatFunction=Et.slice(2,-1),[kt.shift()]},next:"formatString"},gt,{regex:/:[\?\-+]?/,onMatch:function(Et,_t,kt){Et[1]=="+"&&(kt[0].ifEnd=kt[0]),Et[1]=="?"&&(kt[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),dt.$tokenizer},dt.prototype.tokenizeTmSnippet=function(St,yt){return this.getTokenizer().getLineTokens(St,yt).tokens.map(function(gt){return gt.value||gt})},dt.prototype.getVariableValue=function(St,yt,gt){if(/^\d+$/.test(yt))return(this.variables.__||{})[yt]||"";if(/^[A-Z]\d+$/.test(yt))return(this.variables[yt[0]+"__"]||{})[yt.substr(1)]||"";if(yt=yt.replace(/^TM_/,""),!this.variables.hasOwnProperty(yt))return"";var Et=this.variables[yt];return typeof Et=="function"&&(Et=this.variables[yt](St,yt,gt)),Et??""},dt.prototype.tmStrFormat=function(St,yt,gt){if(!yt.fmt)return St;var Et=yt.flag||"",_t=yt.guard;_t=new RegExp(_t,Et.replace(/[^gim]/g,""));var kt=typeof yt.fmt=="string"?this.tokenizeTmSnippet(yt.fmt,"formatString"):yt.fmt,Ct=this,Tt=St.replace(_t,function(){var At=Ct.variables.__;Ct.variables.__=[].slice.call(arguments);for(var It=Ct.resolveVariables(kt,gt),Ot="E",Mt=0;Mt<It.length;Mt++){var Dt=It[Mt];if(typeof Dt=="object")if(It[Mt]="",Dt.changeCase&&Dt.local){var Bt=It[Mt+1];Bt&&typeof Bt=="string"&&(Dt.changeCase=="u"?It[Mt]=Bt[0].toUpperCase():It[Mt]=Bt[0].toLowerCase(),It[Mt+1]=Bt.substr(1))}else Dt.changeCase&&(Ot=Dt.changeCase);else Ot=="U"?It[Mt]=Dt.toUpperCase():Ot=="L"&&(It[Mt]=Dt.toLowerCase())}return Ct.variables.__=At,It.join("")});return Tt},dt.prototype.tmFormatFunction=function(St,yt,gt){return yt.formatFunction=="upcase"?St.toUpperCase():yt.formatFunction=="downcase"?St.toLowerCase():St},dt.prototype.resolveVariables=function(St,yt){for(var gt=[],Et="",_t=!0,kt=0;kt<St.length;kt++){var Ct=St[kt];if(typeof Ct=="string"){gt.push(Ct),Ct==`
`?(_t=!0,Et=""):_t&&(Et=/^\t*/.exec(Ct)[0],_t=/\S/.test(Ct));continue}if(Ct){if(_t=!1,Ct.fmtString){var Tt=St.indexOf(Ct,kt+1);Tt==-1&&(Tt=St.length),Ct.fmt=St.slice(kt+1,Tt),kt=Tt}if(Ct.text){var At=this.getVariableValue(yt,Ct.text,Et)+"";Ct.fmtString&&(At=this.tmStrFormat(At,Ct,yt)),Ct.formatFunction&&(At=this.tmFormatFunction(At,Ct,yt)),At&&!Ct.ifEnd?(gt.push(At),It(Ct)):!At&&Ct.ifEnd&&It(Ct.ifEnd)}else Ct.elseEnd?It(Ct.elseEnd):(Ct.tabstopId!=null||Ct.changeCase!=null)&&gt.push(Ct)}}function It(Ot){var Mt=St.indexOf(Ot,kt+1);Mt!=-1&&(kt=Mt)}return gt},dt.prototype.getDisplayTextForSnippet=function(St,yt){var gt=ht.call(this,St,yt);return gt.text},dt.prototype.insertSnippetForSelection=function(St,yt,gt){gt===void 0&&(gt={});var Et=ht.call(this,St,yt,gt),_t=St.getSelectionRange(),kt=St.session.replace(_t,Et.text),Ct=new ut(St),Tt=St.inVirtualSelectionMode&&St.selection.index;Ct.addTabstops(Et.tabstops,_t.start,kt,Tt)},dt.prototype.insertSnippet=function(St,yt,gt){gt===void 0&&(gt={});var Et=this;if(St.inVirtualSelectionMode)return Et.insertSnippetForSelection(St,yt,gt);St.forEachSelection(function(){Et.insertSnippetForSelection(St,yt,gt)},null,{keepOrder:!0}),St.tabstopManager&&St.tabstopManager.tabNext()},dt.prototype.$getScope=function(St){var yt=St.session.$mode.$id||"";if(yt=yt.split("/").pop(),yt==="html"||yt==="php"){yt==="php"&&!St.session.$mode.inlinePhp&&(yt="html");var gt=St.getCursorPosition(),Et=St.session.getState(gt.row);typeof Et=="object"&&(Et=Et[0]),Et.substring&&(Et.substring(0,3)=="js-"?yt="javascript":Et.substring(0,4)=="css-"?yt="css":Et.substring(0,4)=="php-"&&(yt="php"))}return yt},dt.prototype.getActiveScopes=function(St){var yt=this.$getScope(St),gt=[yt],Et=this.snippetMap;return Et[yt]&&Et[yt].includeScopes&&gt.push.apply(gt,Et[yt].includeScopes),gt.push("_"),gt},dt.prototype.expandWithTab=function(St,yt){var gt=this,Et=St.forEachSelection(function(){return gt.expandSnippetForSelection(St,yt)},null,{keepOrder:!0});return Et&&St.tabstopManager&&St.tabstopManager.tabNext(),Et},dt.prototype.expandSnippetForSelection=function(St,yt){var gt=St.getCursorPosition(),Et=St.session.getLine(gt.row),_t=Et.substring(0,gt.column),kt=Et.substr(gt.column),Ct=this.snippetMap,Tt;return this.getActiveScopes(St).some(function(At){var It=Ct[At];return It&&(Tt=this.findMatchingSnippet(It,_t,kt)),!!Tt},this),Tt?(yt&&yt.dryRun||(St.session.doc.removeInLine(gt.row,gt.column-Tt.replaceBefore.length,gt.column+Tt.replaceAfter.length),this.variables.M__=Tt.matchBefore,this.variables.T__=Tt.matchAfter,this.insertSnippetForSelection(St,Tt.content),this.variables.M__=this.variables.T__=null),!0):!1},dt.prototype.findMatchingSnippet=function(St,yt,gt){for(var Et=St.length;Et--;){var _t=St[Et];if(!(_t.startRe&&!_t.startRe.test(yt))&&!(_t.endRe&&!_t.endRe.test(gt))&&!(!_t.startRe&&!_t.endRe))return _t.matchBefore=_t.startRe?_t.startRe.exec(yt):[""],_t.matchAfter=_t.endRe?_t.endRe.exec(gt):[""],_t.replaceBefore=_t.triggerRe?_t.triggerRe.exec(yt)[0]:"",_t.replaceAfter=_t.endTriggerRe?_t.endTriggerRe.exec(gt)[0]:"",_t}},dt.prototype.register=function(St,yt){var gt=this.snippetMap,Et=this.snippetNameMap,_t=this;St||(St=[]);function kt(At){return At&&!/^\^?\(.*\)\$?$|^\\b$/.test(At)&&(At="(?:"+At+")"),At||""}function Ct(At,It,Ot){return At=kt(At),It=kt(It),At=It+At,At&&At[At.length-1]!="$"&&(At=At+"$"),new RegExp(At)}function Tt(At){At.scope||(At.scope=yt||"_"),yt=At.scope,gt[yt]||(gt[yt]=[],Et[yt]={});var It=Et[yt];if(At.name){var Ot=It[At.name];Ot&&_t.unregister(Ot),It[At.name]=At}gt[yt].push(At),At.prefix&&(At.tabTrigger=At.prefix),!At.content&&At.body&&(At.content=Array.isArray(At.body)?At.body.join(`
`):At.body),At.tabTrigger&&!At.trigger&&(!At.guard&&/^\w/.test(At.tabTrigger)&&(At.guard="\\b"),At.trigger=nt.escapeRegExp(At.tabTrigger)),!(!At.trigger&&!At.guard&&!At.endTrigger&&!At.endGuard)&&(At.startRe=Ct(At.trigger,At.guard),At.triggerRe=new RegExp(At.trigger),At.endRe=Ct(At.endTrigger,At.endGuard),At.endTriggerRe=new RegExp(At.endTrigger))}Array.isArray(St)?St.forEach(Tt):Object.keys(St).forEach(function(At){Tt(St[At])}),this._signal("registerSnippets",{scope:yt})},dt.prototype.unregister=function(St,yt){var gt=this.snippetMap,Et=this.snippetNameMap;function _t(kt){var Ct=Et[kt.scope||yt];if(Ct&&Ct[kt.name]){delete Ct[kt.name];var Tt=gt[kt.scope||yt],At=Tt&&Tt.indexOf(kt);At>=0&&Tt.splice(At,1)}}St.content?_t(St):Array.isArray(St)&&St.forEach(_t)},dt.prototype.parseSnippetFile=function(St){St=St.replace(/\r/g,"");for(var yt=[],gt={},Et=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,_t;_t=Et.exec(St);){if(_t[1])try{gt=JSON.parse(_t[1]),yt.push(gt)}catch{}if(_t[4])gt.content=_t[4].replace(/^\t/gm,""),yt.push(gt),gt={};else{var kt=_t[2],Ct=_t[3];if(kt=="regex"){var Tt=/\/((?:[^\/\\]|\\.)*)|$/g;gt.guard=Tt.exec(Ct)[1],gt.trigger=Tt.exec(Ct)[1],gt.endTrigger=Tt.exec(Ct)[1],gt.endGuard=Tt.exec(Ct)[1]}else kt=="snippet"?(gt.tabTrigger=Ct.match(/^\S*/)[0],gt.name||(gt.name=Ct)):kt&&(gt[kt]=Ct)}}return yt},dt.prototype.getSnippetByName=function(St,yt){var gt=this.snippetNameMap,Et;return this.getActiveScopes(yt).some(function(_t){var kt=gt[_t];return kt&&(Et=kt[St]),!!Et},this),Et},dt}();ot.implement(ct.prototype,at);var ht=function(dt,St,yt){yt===void 0&&(yt={});var gt=dt.getCursorPosition(),Et=dt.session.getLine(gt.row),_t=dt.session.getTabString(),kt=Et.match(/^\s*/)[0];gt.column<kt.length&&(kt=kt.slice(0,gt.column)),St=St.replace(/\r/g,"");var Ct=this.tokenizeTmSnippet(St);Ct=this.resolveVariables(Ct,dt),Ct=Ct.map(function(Qt){return Qt==`
`&&!yt.excludeExtraIndent?Qt+kt:typeof Qt=="string"?Qt.replace(/\t/g,_t):Qt});var Tt=[];Ct.forEach(function(Qt,hr){if(typeof Qt=="object"){var fr=Qt.tabstopId,pr=Tt[fr];if(pr||(pr=Tt[fr]=[],pr.index=fr,pr.value="",pr.parents={}),pr.indexOf(Qt)===-1){Qt.choices&&!pr.choices&&(pr.choices=Qt.choices),pr.push(Qt);var gr=Ct.indexOf(Qt,hr+1);if(gr!==-1){var tr=Ct.slice(hr+1,gr),rr=tr.some(function(qt){return typeof qt=="object"});rr&&!pr.value?pr.value=tr:tr.length&&(!pr.value||typeof pr.value!="string")&&(pr.value=tr.join(""))}}}}),Tt.forEach(function(Qt){Qt.length=0});var At={};function It(Qt){for(var hr=[],fr=0;fr<Qt.length;fr++){var pr=Qt[fr];if(typeof pr=="object"){if(At[pr.tabstopId])continue;var gr=Qt.lastIndexOf(pr,fr-1);pr=hr[gr]||{tabstopId:pr.tabstopId}}hr[fr]=pr}return hr}for(var Ot=0;Ot<Ct.length;Ot++){var Mt=Ct[Ot];if(typeof Mt=="object"){var Dt=Mt.tabstopId,Bt=Tt[Dt],Kt=Ct.indexOf(Mt,Ot+1);if(At[Dt]){At[Dt]===Mt&&(delete At[Dt],Object.keys(At).forEach(function(Qt){Bt.parents[Qt]=!0}));continue}At[Dt]=Mt;var Wt=Bt.value;typeof Wt!="string"?Wt=It(Wt):Mt.fmt&&(Wt=this.tmStrFormat(Wt,Mt,dt)),Ct.splice.apply(Ct,[Ot+1,Math.max(0,Kt-Ot)].concat(Wt,Mt)),Bt.indexOf(Mt)===-1&&Bt.push(Mt)}}var zt=0,Ht=0,Zt="";return Ct.forEach(function(Qt){if(typeof Qt=="string"){var hr=Qt.split(`
`);hr.length>1?(Ht=hr[hr.length-1].length,zt+=hr.length-1):Ht+=Qt.length,Zt+=Qt}else Qt&&(Qt.start?Qt.end={row:zt,column:Ht}:Qt.start={row:zt,column:Ht})}),{text:Zt,tabstops:Tt,tokens:Ct}},ut=function(){function dt(St){if(this.index=0,this.ranges=[],this.tabstops=[],St.tabstopManager)return St.tabstopManager;St.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=nt.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(St)}return dt.prototype.attach=function(St){this.$openTabstops=null,this.selectedTabstop=null,this.editor=St,this.session=St.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},dt.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},dt.prototype.onChange=function(St){for(var yt=St.action[0]=="r",gt=this.selectedTabstop||{},Et=gt.parents||{},_t=this.tabstops.slice(),kt=0;kt<_t.length;kt++){var Ct=_t[kt],Tt=Ct==gt||Et[Ct.index];if(Ct.rangeList.$bias=Tt?0:1,St.action=="remove"&&Ct!==gt){var At=Ct.parents&&Ct.parents[gt.index],It=Ct.rangeList.pointIndex(St.start,At);It=It<0?-It-1:It+1;var Ot=Ct.rangeList.pointIndex(St.end,At);Ot=Ot<0?-Ot-1:Ot-1;for(var Mt=Ct.rangeList.ranges.slice(It,Ot),Dt=0;Dt<Mt.length;Dt++)this.removeRange(Mt[Dt])}Ct.rangeList.$onChange(St)}var Bt=this.session;!this.$inChange&&yt&&Bt.getLength()==1&&!Bt.getValue()&&this.detach()},dt.prototype.updateLinkedFields=function(){var St=this.selectedTabstop;if(!(!St||!St.hasLinkedRanges||!St.firstNonLinked)){this.$inChange=!0;for(var yt=this.session,gt=yt.getTextRange(St.firstNonLinked),Et=0;Et<St.length;Et++){var _t=St[Et];if(_t.linked){var kt=_t.original,Ct=a.snippetManager.tmStrFormat(gt,kt,this.editor);yt.replace(_t,Ct)}}this.$inChange=!1}},dt.prototype.onAfterExec=function(St){St.command&&!St.command.readOnly&&this.updateLinkedFields()},dt.prototype.onChangeSelection=function(){if(this.editor){for(var St=this.editor.selection.lead,yt=this.editor.selection.anchor,gt=this.editor.selection.isEmpty(),Et=0;Et<this.ranges.length;Et++)if(!this.ranges[Et].linked){var _t=this.ranges[Et].contains(St.row,St.column),kt=gt||this.ranges[Et].contains(yt.row,yt.column);if(_t&&kt)return}this.detach()}},dt.prototype.onChangeSession=function(){this.detach()},dt.prototype.tabNext=function(St){var yt=this.tabstops.length,gt=this.index+(St||1);gt=Math.min(Math.max(gt,1),yt),gt==yt&&(gt=0),this.selectTabstop(gt),this.updateTabstopMarkers(),gt===0&&this.detach()},dt.prototype.selectTabstop=function(St){this.$openTabstops=null;var yt=this.tabstops[this.index];if(yt&&this.addTabstopMarkers(yt),this.index=St,yt=this.tabstops[this.index],!(!yt||!yt.length)){this.selectedTabstop=yt;var gt=yt.firstNonLinked||yt;if(yt.choices&&(gt.cursor=gt.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(gt);else{var Et=this.editor.multiSelect;Et.toSingleRange(gt);for(var _t=0;_t<yt.length;_t++)yt.hasLinkedRanges&&yt[_t].linked||Et.addRange(yt[_t].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},dt.prototype.addTabstops=function(St,yt,gt){var Et=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!St[0]){var _t=it.fromPoints(gt,gt);mt(_t.start,yt),mt(_t.end,yt),St[0]=[_t],St[0].index=0}var kt=this.index,Ct=[kt+1,0],Tt=this.ranges,At=this.snippetId=(this.snippetId||0)+1;St.forEach(function(It,Ot){var Mt=this.$openTabstops[Ot]||It;Mt.snippetId=At;for(var Dt=0;Dt<It.length;Dt++){var Bt=It[Dt],Kt=it.fromPoints(Bt.start,Bt.end||Bt.start);pt(Kt.start,yt),pt(Kt.end,yt),Kt.original=Bt,Kt.tabstop=Mt,Tt.push(Kt),Mt!=It?Mt.unshift(Kt):Mt[Dt]=Kt,Bt.fmtString||Mt.firstNonLinked&&Et?(Kt.linked=!0,Mt.hasLinkedRanges=!0):Mt.firstNonLinked||(Mt.firstNonLinked=Kt)}Mt.firstNonLinked||(Mt.hasLinkedRanges=!1),Mt===It&&(Ct.push(Mt),this.$openTabstops[Ot]=Mt),this.addTabstopMarkers(Mt),Mt.rangeList=Mt.rangeList||new j,Mt.rangeList.$bias=0,Mt.rangeList.addList(Mt)},this),Ct.length>2&&(this.tabstops.length&&Ct.push(Ct.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,Ct))},dt.prototype.addTabstopMarkers=function(St){var yt=this.session;St.forEach(function(gt){gt.markerId||(gt.markerId=yt.addMarker(gt,"ace_snippet-marker","text"))})},dt.prototype.removeTabstopMarkers=function(St){var yt=this.session;St.forEach(function(gt){yt.removeMarker(gt.markerId),gt.markerId=null})},dt.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var St=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&St--,this.tabstops.forEach(function(yt){yt.snippetId===St?this.addTabstopMarkers(yt):this.removeTabstopMarkers(yt)},this)}},dt.prototype.removeRange=function(St){var yt=St.tabstop.indexOf(St);yt!=-1&&St.tabstop.splice(yt,1),yt=this.ranges.indexOf(St),yt!=-1&&this.ranges.splice(yt,1),yt=St.tabstop.rangeList.ranges.indexOf(St),yt!=-1&&St.tabstop.splice(yt,1),this.session.removeMarker(St.markerId),St.tabstop.length||(yt=this.tabstops.indexOf(St.tabstop),yt!=-1&&this.tabstops.splice(yt,1),this.tabstops.length||this.detach())},dt}();ut.prototype.keyboardHandler=new _,ut.prototype.keyboardHandler.bindKeys({Tab:function(dt){a.snippetManager&&a.snippetManager.expandWithTab(dt)||(dt.tabstopManager.tabNext(1),dt.renderer.scrollCursorIntoView())},"Shift-Tab":function(dt){dt.tabstopManager.tabNext(-1),dt.renderer.scrollCursorIntoView()},Esc:function(dt){dt.tabstopManager.detach()}});var pt=function(dt,St){dt.row==0&&(dt.column+=St.column),dt.row+=St.row},mt=function(dt,St){dt.row==St.row&&(dt.column-=St.column),dt.row-=St.row};et.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),a.snippetManager=new ct;var vt=o("./editor").Editor;(function(){this.insertSnippet=function(dt,St){return a.snippetManager.insertSnippet(this,dt,St)},this.expandSnippet=function(dt){return a.snippetManager.expandWithTab(this,dt)}}).call(vt.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(o,a,rt){var et=o("../virtual_renderer").VirtualRenderer,ot=o("../editor").Editor,at=o("../range").Range,nt=o("../lib/event"),it=o("../lib/lang"),j=o("../lib/dom"),_=o("../config").nls,$=o("./../lib/useragent"),tt=function(pt){return"suggest-aria-id:".concat(pt)},st=$.isSafari?"menu":"listbox",lt=$.isSafari?"menuitem":"option",ct=$.isSafari?"aria-current":"aria-selected",ht=function(pt){var mt=new et(pt);mt.$maxLines=4;var vt=new ot(mt);return vt.setHighlightActiveLine(!1),vt.setShowPrintMargin(!1),vt.renderer.setShowGutter(!1),vt.renderer.setHighlightGutterLine(!1),vt.$mouseHandler.$focusTimeout=0,vt.$highlightTagPending=!0,vt},ut=function(){function pt(mt){var vt=j.createElement("div"),dt=ht(vt);mt&&mt.appendChild(vt),vt.style.display="none",dt.renderer.content.style.cursor="default",dt.renderer.setStyle("ace_autocomplete"),dt.renderer.$textLayer.element.setAttribute("role",st),dt.renderer.$textLayer.element.setAttribute("aria-roledescription",_("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),dt.renderer.$textLayer.element.setAttribute("aria-label",_("autocomplete.popup.aria-label","Autocomplete suggestions")),dt.renderer.textarea.setAttribute("aria-hidden","true"),dt.setOption("displayIndentGuides",!1),dt.setOption("dragDelay",150);var St=function(){};dt.focus=St,dt.$isFocused=!0,dt.renderer.$cursorLayer.restartTimer=St,dt.renderer.$cursorLayer.element.style.opacity="0",dt.renderer.$maxLines=8,dt.renderer.$keepTextAreaAtCursor=!1,dt.setHighlightActiveLine(!1),dt.session.highlight(""),dt.session.$searchHighlight.clazz="ace_highlight-marker",dt.on("mousedown",function(Tt){var At=Tt.getDocumentPosition();dt.selection.moveToPosition(At),Et.start.row=Et.end.row=At.row,Tt.stop()});var yt,gt=new at(-1,0,-1,1/0),Et=new at(-1,0,-1,1/0);Et.id=dt.session.addMarker(Et,"ace_active-line","fullLine"),dt.setSelectOnHover=function(Tt){Tt?gt.id&&(dt.session.removeMarker(gt.id),gt.id=null):gt.id=dt.session.addMarker(gt,"ace_line-hover","fullLine")},dt.setSelectOnHover(!1),dt.on("mousemove",function(Tt){if(!yt){yt=Tt;return}if(!(yt.x==Tt.x&&yt.y==Tt.y)){yt=Tt,yt.scrollTop=dt.renderer.scrollTop,dt.isMouseOver=!0;var At=yt.getDocumentPosition().row;gt.start.row!=At&&(gt.id||dt.setRow(At),kt(At))}}),dt.renderer.on("beforeRender",function(){if(yt&&gt.start.row!=-1){yt.$pos=null;var Tt=yt.getDocumentPosition().row;gt.id||dt.setRow(Tt),kt(Tt,!0)}}),dt.renderer.on("afterRender",function(){var Tt=dt.getRow(),At=dt.renderer.$textLayer,It=At.element.childNodes[Tt-At.config.firstRow],Ot=document.activeElement;if(It!==dt.selectedNode&&dt.selectedNode&&(j.removeCssClass(dt.selectedNode,"ace_selected"),Ot.removeAttribute("aria-activedescendant"),dt.selectedNode.removeAttribute(ct),dt.selectedNode.removeAttribute("id")),dt.selectedNode=It,It){j.addCssClass(It,"ace_selected");var Mt=tt(Tt);It.id=Mt,At.element.setAttribute("aria-activedescendant",Mt),Ot.setAttribute("aria-activedescendant",Mt),It.setAttribute("role",lt),It.setAttribute("aria-roledescription",_("autocomplete.popup.item.aria-roledescription","item")),It.setAttribute("aria-label",dt.getData(Tt).caption||dt.getData(Tt).value),It.setAttribute("aria-setsize",dt.data.length),It.setAttribute("aria-posinset",Tt+1),It.setAttribute("aria-describedby","doc-tooltip"),It.setAttribute(ct,"true")}});var _t=function(){kt(-1)},kt=function(Tt,At){Tt!==gt.start.row&&(gt.start.row=gt.end.row=Tt,At||dt.session._emit("changeBackMarker"),dt._emit("changeHoverMarker"))};dt.getHoveredRow=function(){return gt.start.row},nt.addListener(dt.container,"mouseout",function(){dt.isMouseOver=!1,_t()}),dt.on("hide",_t),dt.on("changeSelection",_t),dt.session.doc.getLength=function(){return dt.data.length},dt.session.doc.getLine=function(Tt){var At=dt.data[Tt];return typeof At=="string"?At:At&&At.value||""};var Ct=dt.session.bgTokenizer;return Ct.$tokenizeRow=function(Tt){var At=dt.data[Tt],It=[];if(!At)return It;typeof At=="string"&&(At={value:At});var Ot=At.caption||At.value||At.name;function Mt(Qt,hr){Qt&&It.push({type:(At.className||"")+(hr||""),value:Qt})}for(var Dt=Ot.toLowerCase(),Bt=(dt.filterText||"").toLowerCase(),Kt=0,Wt=0,zt=0;zt<=Bt.length;zt++)if(zt!=Wt&&(At.matchMask&1<<zt||zt==Bt.length)){var Ht=Bt.slice(Wt,zt);Wt=zt;var Zt=Dt.indexOf(Ht,Kt);if(Zt==-1)continue;Mt(Ot.slice(Kt,Zt),""),Kt=Zt+Ht.length,Mt(Ot.slice(Zt,Kt),"completion-highlight")}return Mt(Ot.slice(Kt,Ot.length),""),It.push({type:"completion-spacer",value:" "}),At.meta&&It.push({type:"completion-meta",value:At.meta}),At.message&&It.push({type:"completion-message",value:At.message}),It},Ct.$updateOnChange=St,Ct.start=St,dt.session.$computeWidth=function(){return this.screenWidth=0},dt.isOpen=!1,dt.isTopdown=!1,dt.autoSelect=!0,dt.filterText="",dt.isMouseOver=!1,dt.data=[],dt.setData=function(Tt,At){dt.filterText=At||"",dt.setValue(it.stringRepeat(`
`,Tt.length),-1),dt.data=Tt||[],dt.setRow(0)},dt.getData=function(Tt){return dt.data[Tt]},dt.getRow=function(){return Et.start.row},dt.setRow=function(Tt){Tt=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,Tt)),Et.start.row!=Tt&&(dt.selection.clearSelection(),Et.start.row=Et.end.row=Tt||0,dt.session._emit("changeBackMarker"),dt.moveCursorTo(Tt||0,0),dt.isOpen&&dt._signal("select"))},dt.on("changeSelection",function(){dt.isOpen&&dt.setRow(dt.selection.lead.row),dt.renderer.scrollCursorIntoView()}),dt.hide=function(){this.container.style.display="none",dt.anchorPos=null,dt.anchor=null,dt.isOpen&&(dt.isOpen=!1,this._signal("hide"))},dt.tryShow=function(Tt,At,It,Ot){if(!Ot&&dt.isOpen&&dt.anchorPos&&dt.anchor&&dt.anchorPos.top===Tt.top&&dt.anchorPos.left===Tt.left&&dt.anchor===It)return!0;var Mt=this.container,Dt=window.innerHeight,Bt=window.innerWidth,Kt=this.renderer,Wt=Kt.$maxLines*At*1.4,zt={top:0,bottom:0,left:0},Ht=Dt-Tt.top-3*this.$borderSize-At,Zt=Tt.top-3*this.$borderSize;It||(Zt<=Ht||Ht>=Wt?It="bottom":It="top"),It==="top"?(zt.bottom=Tt.top-this.$borderSize,zt.top=zt.bottom-Wt):It==="bottom"&&(zt.top=Tt.top+At+this.$borderSize,zt.bottom=zt.top+Wt);var Qt=zt.top>=0&&zt.bottom<=Dt;if(!Ot&&!Qt)return!1;Qt?Kt.$maxPixelHeight=null:It==="top"?Kt.$maxPixelHeight=Zt:Kt.$maxPixelHeight=Ht,It==="top"?(Mt.style.top="",Mt.style.bottom=Dt-zt.bottom+"px",dt.isTopdown=!1):(Mt.style.top=zt.top+"px",Mt.style.bottom="",dt.isTopdown=!0),Mt.style.display="";var hr=Tt.left;return hr+Mt.offsetWidth>Bt&&(hr=Bt-Mt.offsetWidth),Mt.style.left=hr+"px",Mt.style.right="",dt.isOpen||(dt.isOpen=!0,this._signal("show"),yt=null),dt.anchorPos=Tt,dt.anchor=It,!0},dt.show=function(Tt,At,It){this.tryShow(Tt,At,It?"bottom":void 0,!0)},dt.goTo=function(Tt){var At=this.getRow(),It=this.session.getLength()-1;switch(Tt){case"up":At=At<=0?It:At-1;break;case"down":At=At>=It?-1:At+1;break;case"start":At=0;break;case"end":At=It;break}this.setRow(At)},dt.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},dt.$imageSize=0,dt.$borderSize=1,dt}return pt}();j.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),a.AcePopup=ut,a.$singleLineEditor=ht,a.getAriaId=tt}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(o,a,rt){var et=function(){function ot(at){this.editor=at,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return ot.prototype.setScreenReaderContent=function(at){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var it=this.popup.getRow(),j=this.popup.renderer.$textLayer,_=j.element.childNodes[it-j.config.firstRow];if(_){for(var $="doc-tooltip ",tt=0;tt<this._lines.length;tt++)$+="ace-inline-screenreader-line-".concat(tt," ");_.setAttribute("aria-describedby",$)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=at.split(/\r\n|\r|\n/);var nt=this.createCodeBlock();this.screenReaderDiv.appendChild(nt)},ot.prototype.destroy=function(){this.screenReaderDiv.remove()},ot.prototype.createCodeBlock=function(){var at=document.createElement("pre");at.setAttribute("id","ace-inline-screenreader");for(var nt=0;nt<this._lines.length;nt++){var it=document.createElement("code");it.setAttribute("id","ace-inline-screenreader-line-".concat(nt));var j=document.createTextNode(this._lines[nt]);it.appendChild(j),at.appendChild(it)}return at},ot}();a.AceInlineScreenReader=et}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(o,a,rt){var et=o("../snippets").snippetManager,ot=o("./inline_screenreader").AceInlineScreenReader,at=function(){function nt(){this.editor=null}return nt.prototype.show=function(it,j,_){if(_=_||"",it&&this.editor&&this.editor!==it&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!it||!j)return!1;this.inlineScreenReader||(this.inlineScreenReader=new ot(it));var $=j.snippet?et.getDisplayTextForSnippet(it,j.snippet):j.value;return j.hideInlinePreview||!$||!$.startsWith(_)?!1:(this.editor=it,this.inlineScreenReader.setScreenReaderContent($),$=$.slice(_.length),$===""?it.removeGhostText():it.setGhostText($),!0)},nt.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},nt.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},nt.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},nt}();a.AceInline=at}),ace.define("ace/autocomplete/util",["require","exports","module"],function(o,a,rt){a.parForEach=function(ot,at,nt){var it=0,j=ot.length;j===0&&nt();for(var _=0;_<j;_++)at(ot[_],function($,tt){it++,it===j&&nt($,tt)})};var et=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;a.retrievePrecedingIdentifier=function(ot,at,nt){nt=nt||et;for(var it=[],j=at-1;j>=0&&nt.test(ot[j]);j--)it.push(ot[j]);return it.reverse().join("")},a.retrieveFollowingIdentifier=function(ot,at,nt){nt=nt||et;for(var it=[],j=at;j<ot.length&&nt.test(ot[j]);j++)it.push(ot[j]);return it},a.getCompletionPrefix=function(ot){var at=ot.getCursorPosition(),nt=ot.session.getLine(at.row),it;return ot.completers.forEach((function(j){j.identifierRegexps&&j.identifierRegexps.forEach((function(_){!it&&_&&(it=this.retrievePrecedingIdentifier(nt,at.column,_))}).bind(this))}).bind(this)),it||this.retrievePrecedingIdentifier(nt,at.column)},a.triggerAutocomplete=function(ot,nt){var nt=nt??ot.session.getPrecedingCharacter();return ot.completers.some(function(it){if(it.triggerCharacters&&Array.isArray(it.triggerCharacters))return it.triggerCharacters.includes(nt)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(o,a,rt){var et=o("./keyboard/hash_handler").HashHandler,ot=o("./autocomplete/popup").AcePopup,at=o("./autocomplete/inline").AceInline,nt=o("./autocomplete/popup").getAriaId,it=o("./autocomplete/util"),j=o("./lib/lang"),_=o("./lib/dom"),$=o("./snippets").snippetManager,tt=o("./config"),st=o("./lib/event"),lt=o("./lib/scroll").preventParentScroll,ct=function(mt,vt){vt.completer&&vt.completer.destroy()},ht=function(){function mt(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new et,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=j.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=j.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=j.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=j.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=j.delayedCall((function(){var vt=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!vt||this.editor.completers.length===0||(this.completions=new pt(mt.completionsForLoading),this.openPopup(this.editor,vt.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(mt,"completionsForLoading",{get:function(){return[{caption:tt.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),mt.prototype.$init=function(){return this.popup=new ot(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(vt){this.insertMatch(),vt.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),st.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},mt.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new at,this.inlineRenderer},mt.prototype.getPopup=function(){return this.popup||this.$init()},mt.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},mt.prototype.$seen=function(vt){!this.hasSeen.has(vt)&&vt&&vt.completer&&vt.completer.onSeen&&typeof vt.completer.onSeen=="function"&&(vt.completer.onSeen(this.editor,vt),this.hasSeen.add(vt))},mt.prototype.$onPopupChange=function(vt){if(this.inlineRenderer&&this.inlineEnabled){var dt=vt?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(dt),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},mt.prototype.$updateGhostText=function(vt){var dt=this.base.row,St=this.base.column,yt=this.editor.getCursorPosition().column,gt=this.editor.session.getLine(dt).slice(St,yt);this.inlineRenderer.show(this.editor,vt,gt)?this.$seen(vt):this.inlineRenderer.hide()},mt.prototype.$onPopupRender=function(){var vt=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var dt=this.popup.getFirstVisibleRow();dt<=this.popup.getLastVisibleRow();dt++){var St=this.popup.getData(dt);St&&(!vt||St.hideInlinePreview)&&this.$seen(St)}},mt.prototype.$onPopupShow=function(vt){this.$onPopupChange(vt),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},mt.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var vt=this.editor.container.parentNode,dt=[];vt;)dt.push(vt),vt.addEventListener("scroll",this.onLayoutChange,{passive:!0}),vt=vt.parentNode;this.$elements=dt}},mt.prototype.unObserveLayoutChanges=function(){var vt=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(dt){dt.removeEventListener("scroll",vt.onLayoutChange,{passive:!0})}),this.$elements=null},mt.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},mt.prototype.$updatePopupPosition=function(){var vt=this.editor,dt=vt.renderer,St=dt.layerConfig.lineHeight,yt=dt.$cursorLayer.getPixelPosition(this.base,!0);yt.left-=this.popup.getTextLeftOffset();var gt=vt.container.getBoundingClientRect();yt.top+=gt.top-dt.layerConfig.offset,yt.left+=gt.left-vt.renderer.scrollLeft,yt.left+=dt.gutterWidth;var Et={top:yt.top,left:yt.left};dt.$ghostText&&dt.$ghostTextWidget&&this.base.row===dt.$ghostText.position.row&&(Et.top+=dt.$ghostTextWidget.el.offsetHeight);var _t=vt.container.getBoundingClientRect().bottom-St,kt=_t<Et.top?{top:_t,left:Et.left}:Et;this.popup.tryShow(kt,St,"bottom")||this.popup.tryShow(yt,St,"top")||this.popup.show(yt,St)},mt.prototype.openPopup=function(vt,dt,St){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var yt=this.popup.getRow(),gt=this.popup.data[yt];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:nt(this.popup.getRow()),inline:this.inlineEnabled}),vt.keyBinding.addKeyboardHandler(this.keyboardHandler);var Et;this.stickySelection&&(Et=this.popup.data.indexOf(gt)),(!Et||Et===-1)&&(Et=0),this.popup.setRow(this.autoSelect?Et:-1),Et===yt&&gt!==this.completions.filtered[Et]&&this.$onPopupChange();var _t=this.inlineRenderer&&this.inlineEnabled;if(Et===yt&&_t){var kt=this.popup.getData(this.popup.getRow());this.$updateGhostText(kt)}St||(this.popup.setTheme(vt.getTheme()),this.popup.setFontSize(vt.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},mt.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},mt.prototype.changeListener=function(vt){var dt=this.editor.selection.lead;(dt.row!=this.base.row||dt.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},mt.prototype.blurListener=function(vt){var dt=document.activeElement,St=this.editor.textInput.getElement(),yt=vt.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(vt.relatedTarget),gt=this.popup&&this.popup.container;dt!=St&&dt.parentNode!=gt&&!yt&&dt!=this.tooltipNode&&vt.relatedTarget!=St&&this.detach()},mt.prototype.mousedownListener=function(vt){this.detach()},mt.prototype.mousewheelListener=function(vt){this.popup&&!this.popup.isMouseOver&&this.detach()},mt.prototype.mouseOutListener=function(vt){this.popup.isOpen&&this.$updatePopupPosition()},mt.prototype.goTo=function(vt){this.popup.goTo(vt)},mt.prototype.insertMatch=function(vt,dt){if(vt||(vt=this.popup.getData(this.popup.getRow())),!vt)return!1;if(vt.value==="")return this.detach();var St=this.completions,yt=this.getCompletionProvider().insertMatch(this.editor,vt,St.filterText,dt);return this.completions==St&&this.detach(),yt},mt.prototype.showPopup=function(vt,dt){this.editor&&this.detach(),this.activated=!0,this.editor=vt,vt.completer!=this&&(vt.completer&&vt.completer.detach(),vt.completer=this),vt.on("changeSelection",this.changeListener),vt.on("blur",this.blurListener),vt.on("mousedown",this.mousedownListener),vt.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,dt)},mt.prototype.getCompletionProvider=function(vt){return this.completionProvider||(this.completionProvider=new ut(vt)),this.completionProvider},mt.prototype.gatherCompletions=function(vt,dt){return this.getCompletionProvider().gatherCompletions(vt,dt)},mt.prototype.updateCompletions=function(vt,dt){if(vt&&this.base&&this.completions){var yt=this.editor.getCursorPosition(),gt=this.editor.session.getTextRange({start:this.base,end:yt});if(gt==this.completions.filterText)return;if(this.completions.setFilter(gt),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==gt&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,gt,vt);return}if(dt&&dt.matches){var yt=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(yt.row,yt.column),this.base.$insertRight=!0,this.completions=new pt(dt.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",vt)}var St=this.editor.getSession(),yt=this.editor.getCursorPosition(),gt=it.getCompletionPrefix(this.editor);this.base=St.doc.createAnchor(yt.row,yt.column-gt.length),this.base.$insertRight=!0;var Et={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:gt,pos:yt}).provideCompletions(this.editor,Et,(function(_t,kt,Ct){var Tt=kt.filtered,At=it.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),Ct){if(!Tt.length){var It=!this.autoShown&&this.emptyMessage;if(typeof It=="function"&&(It=this.emptyMessage(At)),It){var Ot=[{caption:It,value:""}];this.completions=new pt(Ot),this.openPopup(this.editor,At,vt),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(Tt.length==1&&Tt[0].value==At&&!Tt[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&Tt.length==1)return this.insertMatch(Tt[0])}this.completions=!Ct&&this.showLoadingState?new pt(mt.completionsForLoading.concat(Tt),kt.filterText):kt,this.openPopup(this.editor,At,vt),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!Ct)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},mt.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},mt.prototype.updateDocTooltip=function(){var vt=this.popup,dt=this.completions.filtered,St=dt&&(dt[vt.getHoveredRow()]||dt[vt.getRow()]),yt=null;if(!St||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var gt=this.editor.completers.length,Et=0;Et<gt;Et++){var _t=this.editor.completers[Et];if(_t.getDocTooltip&&St.completerId===_t.id){yt=_t.getDocTooltip(St);break}}if(!yt&&typeof St!="string"&&(yt=St),typeof yt=="string"&&(yt={docText:yt}),!yt||!(yt.docHTML||yt.docText))return this.hideDocTooltip();this.showDocTooltip(yt)},mt.prototype.showDocTooltip=function(vt){this.tooltipNode||(this.tooltipNode=_.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",lt));var dt=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(dt.isDark?"ace_dark ":"")+(dt.cssClass||"");var St=this.tooltipNode;vt.docHTML?St.innerHTML=vt.docHTML:vt.docText&&(St.textContent=vt.docText),St.parentNode||this.popup.container.appendChild(this.tooltipNode);var yt=this.popup,gt=yt.container.getBoundingClientRect();St.style.top=yt.container.style.top,St.style.bottom=yt.container.style.bottom,St.style.display="block",window.innerWidth-gt.right<320?gt.left<320?yt.isTopdown?(St.style.top=gt.bottom+"px",St.style.left=gt.left+"px",St.style.right="",St.style.bottom=""):(St.style.top=yt.container.offsetTop-St.offsetHeight+"px",St.style.left=gt.left+"px",St.style.right="",St.style.bottom=""):(St.style.right=window.innerWidth-gt.left+"px",St.style.left=""):(St.style.left=gt.right+1+"px",St.style.right="")},mt.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var vt=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==vt&&this.editor.focus(),this.tooltipNode=null,vt.parentNode&&vt.parentNode.removeChild(vt)}},mt.prototype.onTooltipClick=function(vt){for(var dt=vt.target;dt&&dt!=this.tooltipNode;){if(dt.nodeName=="A"&&dt.href){dt.rel="noreferrer",dt.target="_blank";break}dt=dt.parentNode}},mt.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var vt=this.popup.container;vt&&vt.parentNode&&vt.parentNode.removeChild(vt)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",ct),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},mt}();ht.prototype.commands={Up:function(mt){mt.completer.goTo("up")},Down:function(mt){mt.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(mt){mt.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(mt){mt.completer.goTo("end")},Esc:function(mt){mt.completer.detach()},Return:function(mt){return mt.completer.insertMatch()},"Shift-Return":function(mt){mt.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(mt){var vt=mt.completer.insertMatch();if(!vt&&!mt.tabstopManager)mt.completer.goTo("down");else return vt},Backspace:function(mt){mt.execCommand("backspace");var vt=it.getCompletionPrefix(mt);!vt&&mt.completer&&mt.completer.detach()},PageUp:function(mt){mt.completer.popup.gotoPageUp()},PageDown:function(mt){mt.completer.popup.gotoPageDown()}},ht.for=function(mt){return mt.completer instanceof ht||(mt.completer&&(mt.completer.destroy(),mt.completer=null),tt.get("sharedPopups")?(ht.$sharedInstance||(ht.$sharedInstance=new ht),mt.completer=ht.$sharedInstance):(mt.completer=new ht,mt.once("destroy",ct))),mt.completer},ht.startCommand={name:"startAutocomplete",exec:function(mt,vt){var dt=ht.for(mt);dt.autoInsert=!1,dt.autoSelect=!0,dt.autoShown=!1,dt.showPopup(mt,vt),dt.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var ut=function(){function mt(vt){this.initialPosition=vt,this.active=!0}return mt.prototype.insertByIndex=function(vt,dt,St){return!this.completions||!this.completions.filtered?!1:this.insertMatch(vt,this.completions.filtered[dt],St)},mt.prototype.insertMatch=function(vt,dt,St){if(!dt)return!1;if(vt.startOperation({command:{name:"insertMatch"}}),dt.completer&&dt.completer.insertMatch)dt.completer.insertMatch(vt,dt);else{if(!this.completions)return!1;var yt=this.completions.filterText.length,gt=0;if(dt.range&&dt.range.start.row===dt.range.end.row&&(yt-=this.initialPosition.prefix.length,yt+=this.initialPosition.pos.column-dt.range.start.column,gt+=dt.range.end.column-this.initialPosition.pos.column),yt||gt){var Et;vt.selection.getAllRanges?Et=vt.selection.getAllRanges():Et=[vt.getSelectionRange()];for(var _t=0,kt;kt=Et[_t];_t++)kt.start.column-=yt,kt.end.column+=gt,vt.session.remove(kt)}dt.snippet?$.insertSnippet(vt,dt.snippet):this.$insertString(vt,dt),dt.completer&&dt.completer.onInsert&&typeof dt.completer.onInsert=="function"&&dt.completer.onInsert(vt,dt),dt.command&&dt.command==="startAutocomplete"&&vt.execCommand(dt.command)}return vt.endOperation(),!0},mt.prototype.$insertString=function(vt,dt){var St=dt.value||dt;vt.execCommand("insertstring",St)},mt.prototype.gatherCompletions=function(vt,dt){var St=vt.getSession(),yt=vt.getCursorPosition(),gt=it.getCompletionPrefix(vt),Et=[];this.completers=vt.completers;var _t=vt.completers.length;return vt.completers.forEach(function(kt,Ct){kt.getCompletions(vt,St,yt,gt,function(Tt,At){kt.hideInlinePreview&&(At=At.map(function(It){return Object.assign(It,{hideInlinePreview:kt.hideInlinePreview})})),!Tt&&At&&(Et=Et.concat(At)),dt(null,{prefix:it.getCompletionPrefix(vt),matches:Et,finished:--_t===0})})}),!0},mt.prototype.provideCompletions=function(vt,dt,St){var yt=(function(kt){var Ct=kt.prefix,Tt=kt.matches;this.completions=new pt(Tt),dt.exactMatch&&(this.completions.exactMatch=!0),dt.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(Ct),(kt.finished||this.completions.filtered.length)&&St(null,this.completions,kt.finished)}).bind(this),gt=!0,Et=null;if(this.gatherCompletions(vt,(function(kt,Ct){if(this.active){kt&&(St(kt,[],!0),this.detach());var Tt=Ct.prefix;if(Tt.indexOf(Ct.prefix)===0){if(gt){Et=Ct;return}yt(Ct)}}}).bind(this)),gt=!1,Et){var _t=Et;Et=null,yt(_t)}},mt.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(vt){typeof vt.cancel=="function"&&vt.cancel()})},mt}(),pt=function(){function mt(vt,dt){this.all=vt,this.filtered=vt,this.filterText=dt||"",this.exactMatch=!1,this.ignoreCaption=!1}return mt.prototype.setFilter=function(vt){if(vt.length>this.filterText&&vt.lastIndexOf(this.filterText,0)===0)var dt=this.filtered;else var dt=this.all;this.filterText=vt,dt=this.filterCompletions(dt,this.filterText),dt=dt.sort(function(yt,gt){return gt.exactMatch-yt.exactMatch||gt.$score-yt.$score||(yt.caption||yt.value).localeCompare(gt.caption||gt.value)});var St=null;dt=dt.filter(function(yt){var gt=yt.snippet||yt.caption||yt.value;return gt===St?!1:(St=gt,!0)}),this.filtered=dt},mt.prototype.filterCompletions=function(vt,dt){var St=[],yt=dt.toUpperCase(),gt=dt.toLowerCase();e:for(var Et=0,_t;_t=vt[Et];Et++){var kt=!this.ignoreCaption&&_t.caption||_t.value||_t.snippet;if(kt){var Ct=-1,Tt=0,At=0,It,Ot;if(this.exactMatch){if(dt!==kt.substr(0,dt.length))continue e}else{var Mt=kt.toLowerCase().indexOf(gt);if(Mt>-1)At=Mt;else for(var Dt=0;Dt<dt.length;Dt++){var Bt=kt.indexOf(gt[Dt],Ct+1),Kt=kt.indexOf(yt[Dt],Ct+1);if(It=Bt>=0&&(Kt<0||Bt<Kt)?Bt:Kt,It<0)continue e;Ot=It-Ct-1,Ot>0&&(Ct===-1&&(At+=10),At+=Ot,Tt=Tt|1<<Dt),Ct=It}}_t.matchMask=Tt,_t.exactMatch=At?0:1,_t.$score=(_t.score||0)-At,St.push(_t)}}return St},mt}();a.Autocomplete=ht,a.CompletionProvider=ut,a.FilteredList=pt}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(o,a,rt){var et=o("../range").Range,ot=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function at(it,j){var _=it.getTextRange(et.fromPoints({row:0,column:0},j));return _.split(ot).length-1}function nt(it,j){var _=at(it,j),$=it.getValue().split(ot),tt=Object.create(null),st=$[_];return $.forEach(function(lt,ct){if(!(!lt||lt===st)){var ht=Math.abs(_-ct),ut=$.length-ht;tt[lt]?tt[lt]=Math.max(ut,tt[lt]):tt[lt]=ut}}),tt}a.getCompletions=function(it,j,_,$,tt){var st=nt(j,_),lt=Object.keys(st);tt(null,lt.map(function(ct){return{caption:ct,value:ct,score:st[ct],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(o,a,rt){var et=o("../snippets").snippetManager,ot=o("../autocomplete").Autocomplete,at=o("../config"),nt=o("../lib/lang"),it=o("../autocomplete/util"),j=o("../autocomplete/text_completer"),_={getCompletions:function(yt,gt,Et,_t,kt){if(gt.$mode.completer)return gt.$mode.completer.getCompletions(yt,gt,Et,_t,kt);var Ct=yt.session.getState(Et.row),Tt=gt.$mode.getCompletions(Ct,gt,Et,_t);Tt=Tt.map(function(At){return At.completerId=_.id,At}),kt(null,Tt)},id:"keywordCompleter"},$=function(yt){var gt={};return yt.replace(/\${(\d+)(:(.*?))?}/g,function(Et,_t,kt,Ct){return gt[_t]=Ct||""}).replace(/\$(\d+?)/g,function(Et,_t){return gt[_t]})},tt={getCompletions:function(yt,gt,Et,_t,kt){var Ct=[],Tt=gt.getTokenAt(Et.row,Et.column);Tt&&Tt.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?Ct.push("html-tag"):Ct=et.getActiveScopes(yt);var At=et.snippetMap,It=[];Ct.forEach(function(Ot){for(var Mt=At[Ot]||[],Dt=Mt.length;Dt--;){var Bt=Mt[Dt],Kt=Bt.name||Bt.tabTrigger;Kt&&It.push({caption:Kt,snippet:Bt.content,meta:Bt.tabTrigger&&!Bt.name?Bt.tabTrigger+" ":"snippet",completerId:tt.id})}},this),kt(null,It)},getDocTooltip:function(yt){yt.snippet&&!yt.docHTML&&(yt.docHTML=["<b>",nt.escapeHTML(yt.caption),"</b>","<hr></hr>",nt.escapeHTML($(yt.snippet))].join(""))},id:"snippetCompleter"},st=[tt,j,_];a.setCompleters=function(yt){st.length=0,yt&&st.push.apply(st,yt)},a.addCompleter=function(yt){st.push(yt)},a.textCompleter=j,a.keyWordCompleter=_,a.snippetCompleter=tt;var lt={name:"expandSnippet",exec:function(yt){return et.expandWithTab(yt)},bindKey:"Tab"},ct=function(yt,gt){ht(gt.session.$mode)},ht=function(yt){typeof yt=="string"&&(yt=at.$modes[yt]),yt&&(et.files||(et.files={}),ut(yt.$id,yt.snippetFileId),yt.modes&&yt.modes.forEach(ht))},ut=function(yt,gt){!gt||!yt||et.files[yt]||(et.files[yt]={},at.loadModule(gt,function(Et){Et&&(et.files[yt]=Et,!Et.snippets&&Et.snippetText&&(Et.snippets=et.parseSnippetFile(Et.snippetText)),et.register(Et.snippets||[],Et.scope),Et.includeScopes&&(et.snippetMap[Et.scope].includeScopes=Et.includeScopes,Et.includeScopes.forEach(function(_t){ht("ace/mode/"+_t)})))}))},pt=function(yt){var gt=yt.editor,Et=gt.completer&&gt.completer.activated;if(yt.command.name==="backspace")Et&&!it.getCompletionPrefix(gt)&&gt.completer.detach();else if(yt.command.name==="insertstring"&&!Et){mt=yt;var _t=yt.editor.$liveAutocompletionDelay;_t?vt.delay(_t):dt(yt)}},mt,vt=nt.delayedCall(function(){dt(mt)},0),dt=function(yt){var gt=yt.editor,Et=it.getCompletionPrefix(gt),_t=yt.args,kt=it.triggerAutocomplete(gt,_t);if(Et&&Et.length>=gt.$liveAutocompletionThreshold||kt){var Ct=ot.for(gt);Ct.autoShown=!0,Ct.showPopup(gt)}},St=o("../editor").Editor;o("../config").defineOptions(St.prototype,"editor",{enableBasicAutocompletion:{set:function(yt){yt?(this.completers||(this.completers=Array.isArray(yt)?yt:st),this.commands.addCommand(ot.startCommand)):this.commands.removeCommand(ot.startCommand)},value:!1},enableLiveAutocompletion:{set:function(yt){yt?(this.completers||(this.completers=Array.isArray(yt)?yt:st),this.commands.on("afterExec",pt)):this.commands.off("afterExec",pt)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(yt){yt?(this.commands.addCommand(lt),this.on("changeMode",ct),ct(null,this)):(this.commands.removeCommand(lt),this.off("changeMode",ct))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(o){i&&(i.exports=o)})}()})(extLanguage_tools);var modeJavascript={exports:{}};(function(i,s){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(o,a,rt){var et=o("../lib/oop"),ot=o("./text_highlight_rules").TextHighlightRules,at=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},at.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};et.inherits(at,ot),at.getTagRule=function(nt){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},at.getStartRule=function(nt){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:nt}},at.getEndRule=function(nt){return{token:"comment.doc",regex:"\\*\\/",next:nt}},a.JsDocCommentHighlightRules=at}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(o,a,rt){var et=o("../lib/oop"),ot=o("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,at=o("./text_highlight_rules").TextHighlightRules,nt="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",it=function($){var tt={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},st=this.createKeywordMapper(tt,"identifier"),lt="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",ct="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",ht="(function)(\\s*)(\\*?)",ut={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(tt).join("|")+"\\b)"+nt+")(\\s*)(\\()"};this.$rules={no_regex:[ot.getStartRule("doc-start"),_("no_regex"),ut,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+nt+")(\\s*)(=)(\\s*)"+ht+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+nt+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+nt+")(\\s*)(:)(\\s*)"+ht+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+ht+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+lt+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:st,regex:nt},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:ht+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:nt},{regex:"",token:"empty",next:"no_regex"}],start:[ot.getStartRule("doc-start"),_("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[_("function_arguments"),{token:"variable.parameter",regex:nt},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:ct},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:ct},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!$||!$.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(pt,mt,vt){if(this.next=pt=="{"?this.nextState:"",pt=="{"&&vt.length)vt.unshift("start",mt);else if(pt=="}"&&vt.length&&(vt.shift(),this.next=vt.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return pt=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:ct},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+nt+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!$||$.jsx!=!1)&&j.call(this)),this.embedRules(ot,"doc-",[ot.getEndRule("no_regex")]),this.normalizeRules()};et.inherits(it,at);function j(){var $=nt.replace("\\d","\\d\\-"),tt={onMatch:function(lt,ct,ht){var ut=lt.charAt(1)=="/"?2:1;return ut==1?(ct!=this.nextState?ht.unshift(this.next,this.nextState,0):ht.unshift(this.next),ht[2]++):ut==2&&ct==this.nextState&&(ht[1]--,(!ht[1]||ht[1]<0)&&(ht.shift(),ht.shift())),[{type:"meta.tag.punctuation."+(ut==1?"":"end-")+"tag-open.xml",value:lt.slice(0,ut)},{type:"meta.tag.tag-name.xml",value:lt.substr(ut)}]},regex:"</?(?:"+$+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(tt);var st={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[st,tt,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(lt,ct,ht){return ct==ht[0]&&ht.shift(),lt.length==2&&(ht[0]==this.nextState&&ht[1]--,(!ht[1]||ht[1]<0)&&ht.splice(0,2)),this.next=ht[0]||"start",[{type:this.token,value:lt}]},nextState:"jsx"},st,_("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:$},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},tt],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function _($){return[{token:"comment",regex:/\/\*/,next:[ot.getTagRule(),{token:"comment",regex:"\\*\\/",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[ot.getTagRule(),{token:"comment",regex:"$|^",next:$||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}a.JavaScriptHighlightRules=it}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(o,a,rt){var et=o("../range").Range,ot=function(){};(function(){this.checkOutdent=function(at,nt){return/^\s+$/.test(at)?/^\s*\}/.test(nt):!1},this.autoOutdent=function(at,nt){var it=at.getLine(nt),j=it.match(/^(\s*\})/);if(!j)return 0;var _=j[1].length,$=at.findMatchingBracket({row:nt,column:_});if(!$||$.row==nt)return 0;var tt=this.$getIndent(at.getLine($.row));at.replace(new et(nt,0,nt,_-1),tt)},this.$getIndent=function(at){return at.match(/^\s*/)[0]}}).call(ot.prototype),a.MatchingBraceOutdent=ot}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("../behaviour").Behaviour,at=o("../../token_iterator").TokenIterator;function nt(j,_){return j&&j.type.lastIndexOf(_+".xml")>-1}var it=function(){this.add("string_dquotes","insertion",function(j,_,$,tt,st){if(st=='"'||st=="'"){var lt=st,ct=tt.doc.getTextRange($.getSelectionRange());if(ct!==""&&ct!=="'"&&ct!='"'&&$.getWrapBehavioursEnabled())return{text:lt+ct+lt,selection:!1};var ht=$.getCursorPosition(),ut=tt.doc.getLine(ht.row),pt=ut.substring(ht.column,ht.column+1),mt=new at(tt,ht.row,ht.column),vt=mt.getCurrentToken();if(pt==lt&&(nt(vt,"attribute-value")||nt(vt,"string")))return{text:"",selection:[1,1]};if(vt||(vt=mt.stepBackward()),!vt)return;for(;nt(vt,"tag-whitespace")||nt(vt,"whitespace");)vt=mt.stepBackward();var dt=!pt||pt.match(/\s/);if(nt(vt,"attribute-equals")&&(dt||pt==">")||nt(vt,"decl-attribute-equals")&&(dt||pt=="?"))return{text:lt+lt,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(j,_,$,tt,st){var lt=tt.doc.getTextRange(st);if(!st.isMultiLine()&&(lt=='"'||lt=="'")){var ct=tt.doc.getLine(st.start.row),ht=ct.substring(st.start.column+1,st.start.column+2);if(ht==lt)return st.end.column++,st}}),this.add("autoclosing","insertion",function(j,_,$,tt,st){if(st==">"){var lt=$.getSelectionRange().start,ct=new at(tt,lt.row,lt.column),ht=ct.getCurrentToken()||ct.stepBackward();if(!ht||!(nt(ht,"tag-name")||nt(ht,"tag-whitespace")||nt(ht,"attribute-name")||nt(ht,"attribute-equals")||nt(ht,"attribute-value"))||nt(ht,"reference.attribute-value"))return;if(nt(ht,"attribute-value")){var ut=ct.getCurrentTokenColumn()+ht.value.length;if(lt.column<ut)return;if(lt.column==ut){var pt=ct.stepForward();if(pt&&nt(pt,"attribute-value"))return;ct.stepBackward()}}if(/^\s*>/.test(tt.getLine(lt.row).slice(lt.column)))return;for(;!nt(ht,"tag-name");)if(ht=ct.stepBackward(),ht.value=="<"){ht=ct.stepForward();break}var mt=ct.getCurrentTokenRow(),vt=ct.getCurrentTokenColumn();if(nt(ct.stepBackward(),"end-tag-open"))return;var dt=ht.value;return mt==lt.row&&(dt=dt.substring(0,lt.column-vt)),this.voidElements&&this.voidElements.hasOwnProperty(dt.toLowerCase())?void 0:{text:"></"+dt+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(j,_,$,tt,st){if(st==`
`){var lt=$.getCursorPosition(),ct=tt.getLine(lt.row),ht=new at(tt,lt.row,lt.column),ut=ht.getCurrentToken();if(nt(ut,"")&&ut.type.indexOf("tag-close")!==-1){if(ut.value=="/>")return;for(;ut&&ut.type.indexOf("tag-name")===-1;)ut=ht.stepBackward();if(!ut)return;var pt=ut.value,mt=ht.getCurrentTokenRow();if(ut=ht.stepBackward(),!ut||ut.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[pt]||!this.voidElements){var vt=tt.getTokenAt(lt.row,lt.column+1),ct=tt.getLine(mt),dt=this.$getIndent(ct),St=dt+tt.getTabString();return vt&&vt.value==="</"?{text:`
`+St+`
`+dt,selection:[1,St.length,1,St.length]}:{text:`
`+St}}}}})};et.inherits(it,ot),a.XmlBehaviour=it}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("../../token_iterator").TokenIterator,at=o("../behaviour/cstyle").CstyleBehaviour,nt=o("../behaviour/xml").XmlBehaviour,it=function(){var j=new nt({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(j),this.inherit(at),this.add("autoclosing-fragment","insertion",function(_,$,tt,st,lt){if(lt==">"){var ct=tt.getSelectionRange().start,ht=new ot(st,ct.row,ct.column),ut=ht.getCurrentToken()||ht.stepBackward();if(!ut)return;if(ut.value=="<")return{text:"></>",selection:[1,1]}}})};et.inherits(it,at),a.JavaScriptBehaviour=it}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("../../range").Range,at=o("./fold_mode").FoldMode,nt=a.FoldMode=function(_,$){at.call(this),this.voidElements=_||{},this.optionalEndTags=et.mixin({},this.voidElements),$&&et.mixin(this.optionalEndTags,$)};et.inherits(nt,at);var it=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function j(_,$){return _.type.lastIndexOf($+".xml")>-1}(function(){this.getFoldWidget=function(_,$,tt){var st=this._getFirstTagInLine(_,tt);return st?st.closing||!st.tagName&&st.selfClosing?$==="markbeginend"?"end":"":!st.tagName||st.selfClosing||this.voidElements.hasOwnProperty(st.tagName.toLowerCase())||this._findEndTagInLine(_,tt,st.tagName,st.end.column)?"":"start":this.getCommentFoldWidget(_,tt)},this.getCommentFoldWidget=function(_,$){return/comment/.test(_.getState($))&&/<!-/.test(_.getLine($))?"start":""},this._getFirstTagInLine=function(_,$){for(var tt=_.getTokens($),st=new it,lt=0;lt<tt.length;lt++){var ct=tt[lt];if(j(ct,"tag-open")){if(st.end.column=st.start.column+ct.value.length,st.closing=j(ct,"end-tag-open"),ct=tt[++lt],!ct)return null;if(st.tagName=ct.value,ct.value===""){if(ct=tt[++lt],!ct)return null;st.tagName=ct.value}for(st.end.column+=ct.value.length,lt++;lt<tt.length;lt++)if(ct=tt[lt],st.end.column+=ct.value.length,j(ct,"tag-close")){st.selfClosing=ct.value=="/>";break}return st}else if(j(ct,"tag-close"))return st.selfClosing=ct.value=="/>",st;st.start.column+=ct.value.length}return null},this._findEndTagInLine=function(_,$,tt,st){for(var lt=_.getTokens($),ct=0,ht=0;ht<lt.length;ht++){var ut=lt[ht];if(ct+=ut.value.length,!(ct<st-1)&&j(ut,"end-tag-open")&&(ut=lt[ht+1],j(ut,"tag-name")&&ut.value===""&&(ut=lt[ht+2]),ut&&ut.value==tt))return!0}return!1},this.getFoldWidgetRange=function(_,$,tt){var st=this._getFirstTagInLine(_,tt);if(!st)return this.getCommentFoldWidget(_,tt)&&_.getCommentFoldRange(tt,_.getLine(tt).length);var lt=_.getMatchingTags({row:tt,column:0});if(lt)return new ot(lt.openTag.end.row,lt.openTag.end.column,lt.closeTag.start.row,lt.closeTag.start.column)}}).call(nt.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("../../range").Range,at=o("./fold_mode").FoldMode,nt=a.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end)))};et.inherits(nt,at),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=it.getLine(_);if(this.singleLineBlockCommentRe.test($)&&!this.startRegionRe.test($)&&!this.tripleStarBlockCommentRe.test($))return"";var tt=this._getFoldWidgetBase(it,j,_);return!tt&&this.startRegionRe.test($)?"start":tt},this.getFoldWidgetRange=function(it,j,_,$){var tt=it.getLine(_);if(this.startRegionRe.test(tt))return this.getCommentRegionBlock(it,tt,_);var ct=tt.match(this.foldingStartMarker);if(ct){var st=ct.index;if(ct[1])return this.openingBracketBlock(it,ct[1],_,st);var lt=it.getCommentFoldRange(_,st+ct[0].length,1);return lt&&!lt.isMultiLine()&&($?lt=this.getSectionRange(it,_):j!="all"&&(lt=null)),lt}if(j!=="markbegin"){var ct=tt.match(this.foldingStopMarker);if(ct){var st=ct.index+ct[0].length;return ct[1]?this.closingBracketBlock(it,ct[1],_,st):it.getCommentFoldRange(_,st,-1)}}},this.getSectionRange=function(it,j){var _=it.getLine(j),$=_.search(/\S/),tt=j,st=_.length;j=j+1;for(var lt=j,ct=it.getLength();++j<ct;){_=it.getLine(j);var ht=_.search(/\S/);if(ht!==-1){if($>ht)break;var ut=this.getFoldWidgetRange(it,"all",j);if(ut){if(ut.start.row<=tt)break;if(ut.isMultiLine())j=ut.end.row;else if($==ht)break}lt=j}}return new ot(tt,st,lt,it.getLine(lt).length)},this.getCommentRegionBlock=function(it,j,_){for(var $=j.search(/\s*$/),tt=it.getLength(),st=_,lt=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,ct=1;++_<tt;){j=it.getLine(_);var ht=lt.exec(j);if(ht&&(ht[1]?ct--:ct++,!ct))break}var ut=_;if(ut>st)return new ot(st,$,ut,j.length)}}).call(nt.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("./xml").FoldMode,at=o("./cstyle").FoldMode,nt=a.FoldMode=function(it){it&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+it.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+it.end))),this.xmlFoldMode=new ot};et.inherits(nt,at),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(it,j,_){var $=this.getFoldWidgetBase(it,j,_);return $||this.xmlFoldMode.getFoldWidget(it,j,_)},this.getFoldWidgetRange=function(it,j,_,$){var tt=this.getFoldWidgetRangeBase(it,j,_,$);return tt||this.xmlFoldMode.getFoldWidgetRange(it,j,_)}}).call(nt.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(o,a,rt){var et=o("../lib/oop"),ot=o("./text").Mode,at=o("./javascript_highlight_rules").JavaScriptHighlightRules,nt=o("./matching_brace_outdent").MatchingBraceOutdent,it=o("../worker/worker_client").WorkerClient,j=o("./behaviour/javascript").JavaScriptBehaviour,_=o("./folding/javascript").FoldMode,$=function(){this.HighlightRules=at,this.$outdent=new nt,this.$behaviour=new j,this.foldingRules=new _};et.inherits($,ot),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(tt,st,lt){var ct=this.$getIndent(st),ht=this.getTokenizer().getLineTokens(st,tt),ut=ht.tokens,pt=ht.state;if(ut.length&&ut[ut.length-1].type=="comment")return ct;if(tt=="start"||tt=="no_regex"){var mt=st.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);mt&&(ct+=lt)}else if(tt=="doc-start"&&(pt=="start"||pt=="no_regex"))return"";return ct},this.checkOutdent=function(tt,st,lt){return this.$outdent.checkOutdent(st,lt)},this.autoOutdent=function(tt,st,lt){this.$outdent.autoOutdent(st,lt)},this.createWorker=function(tt){var st=new it(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return st.attachToDocument(tt.getDocument()),st.on("annotate",function(lt){tt.setAnnotations(lt.data)}),st.on("terminate",function(){tt.clearAnnotations()}),st},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call($.prototype),a.Mode=$}),function(){ace.require(["ace/mode/javascript"],function(o){i&&(i.exports=o)})}()})(modeJavascript);var modePython={exports:{}};(function(i,s){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(o,a,rt){var et=o("../lib/oop"),ot=o("./text_highlight_rules").TextHighlightRules,at=function(){var nt="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",it="True|False|None|NotImplemented|Ellipsis|__debug__",j="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",_=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":j,"variable.language":"self|cls","constant.language":it,keyword:nt},"identifier"),$="[uU]?",tt="[rR]",st="[fF]",lt="(?:[rR][fF]|[fF][rR])",ct="(?:(?:[1-9]\\d*)|(?:0))",ht="(?:0[oO]?[0-7]+)",ut="(?:0[xX][\\dA-Fa-f]+)",pt="(?:0[bB][01]+)",mt="(?:"+ct+"|"+ht+"|"+ut+"|"+pt+")",vt="(?:[eE][+-]?\\d+)",dt="(?:\\.\\d+)",St="(?:\\d+)",yt="(?:(?:"+St+"?"+dt+")|(?:"+St+"\\.))",gt="(?:(?:"+yt+"|"+St+")"+vt+")",Et="(?:"+gt+"|"+yt+")",_t=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:$+'"{3}',next:"qqstring3"},{token:"string",regex:$+'"(?=.)',next:"qqstring"},{token:"string",regex:$+"'{3}",next:"qstring3"},{token:"string",regex:$+"'(?=.)",next:"qstring"},{token:"string",regex:tt+'"{3}',next:"rawqqstring3"},{token:"string",regex:tt+'"(?=.)',next:"rawqqstring"},{token:"string",regex:tt+"'{3}",next:"rawqstring3"},{token:"string",regex:tt+"'(?=.)",next:"rawqstring"},{token:"string",regex:st+'"{3}',next:"fqqstring3"},{token:"string",regex:st+'"(?=.)',next:"fqqstring"},{token:"string",regex:st+"'{3}",next:"fqstring3"},{token:"string",regex:st+"'(?=.)",next:"fqstring"},{token:"string",regex:lt+'"{3}',next:"rfqqstring3"},{token:"string",regex:lt+'"(?=.)',next:"rfqqstring"},{token:"string",regex:lt+"'{3}",next:"rfqstring3"},{token:"string",regex:lt+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:_t},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:_t},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:_t},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:_t},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:_t},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:_t},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:_t},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:_t},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+Et+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:Et},{token:"constant.numeric",regex:mt+"[lL]\\b"},{token:"constant.numeric",regex:mt+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:_,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};et.inherits(at,ot),a.PythonHighlightRules=at}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(o,a,rt){var et=o("../../lib/oop"),ot=o("./fold_mode").FoldMode,at=a.FoldMode=function(nt){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+nt+")(?:\\s*)(?:#.*)?$")};et.inherits(at,ot),(function(){this.getFoldWidgetRange=function(nt,it,j){var _=nt.getLine(j),$=_.match(this.foldingStartMarker);if($)return $[1]?this.openingBracketBlock(nt,$[1],j,$.index):$[2]?this.indentationBlock(nt,j,$.index+$[2].length):this.indentationBlock(nt,j)}}).call(at.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(o,a,rt){var et=o("../lib/oop"),ot=o("./text").Mode,at=o("./python_highlight_rules").PythonHighlightRules,nt=o("./folding/pythonic").FoldMode,it=o("../range").Range,j=function(){this.HighlightRules=at,this.foldingRules=new nt("\\:"),this.$behaviour=this.$defaultBehaviour};et.inherits(j,ot),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function($,tt,st){var lt=this.$getIndent(tt),ct=this.getTokenizer().getLineTokens(tt,$),ht=ct.tokens;if(ht.length&&ht[ht.length-1].type=="comment")return lt;if($=="start"){var ut=tt.match(/^.*[\{\(\[:]\s*$/);ut&&(lt+=st)}return lt};var _={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function($,tt,st){if(st!==`\r
`&&st!=="\r"&&st!==`
`)return!1;var lt=this.getTokenizer().getLineTokens(tt.trim(),$).tokens;if(!lt)return!1;do var ct=lt.pop();while(ct&&(ct.type=="comment"||ct.type=="text"&&ct.value.match(/^\s+$/)));return ct?ct.type=="keyword"&&_[ct.value]:!1},this.autoOutdent=function($,tt,st){st+=1;var lt=this.$getIndent(tt.getLine(st)),ct=tt.getTabString();lt.slice(-ct.length)==ct&&tt.remove(new it(st,lt.length-ct.length,st,lt.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(j.prototype),a.Mode=j}),function(){ace.require(["ace/mode/python"],function(o){i&&(i.exports=o)})}()})(modePython);var themeDracula={exports:{}};(function(i,s){ace.define("ace/theme/dracula-css",["require","exports","module"],function(o,a,rt){rt.exports=`/*
 * Copyright  2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

.ace-dracula .ace_gutter {
  background: #282a36;
  color: rgb(144,145,148)
}

.ace-dracula .ace_print-margin {
  width: 1px;
  background: #44475a
}

.ace-dracula {
  background-color: #282a36;
  color: #f8f8f2
}

.ace-dracula .ace_cursor {
  color: #f8f8f0
}

.ace-dracula .ace_marker-layer .ace_selection {
  background: #44475a
}

.ace-dracula.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #282a36;
  border-radius: 2px
}

.ace-dracula .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-dracula .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #a29709
}

.ace-dracula .ace_marker-layer .ace_active-line {
  background: #44475a
}

.ace-dracula .ace_gutter-active-line {
  background-color: #44475a
}

.ace-dracula .ace_marker-layer .ace_selected-word {
  box-shadow: 0px 0px 0px 1px #a29709;
  border-radius: 3px;
}

.ace-dracula .ace_fold {
  background-color: #50fa7b;
  border-color: #f8f8f2
}

.ace-dracula .ace_keyword {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_language {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_numeric {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character.ace_escape {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_other {
  color: #bd93f9
}

.ace-dracula .ace_support.ace_function {
  color: #8be9fd
}

.ace-dracula .ace_support.ace_constant {
  color: #6be5fd
}

.ace-dracula .ace_support.ace_class {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_support.ace_type {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_storage {
  color: #ff79c6
}

.ace-dracula .ace_storage.ace_type {
  font-style: italic;
  color: #8be9fd
}

.ace-dracula .ace_invalid {
  color: #F8F8F0;
  background-color: #ff79c6
}

.ace-dracula .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #bd93f9
}

.ace-dracula .ace_string {
  color: #f1fa8c
}

.ace-dracula .ace_comment {
  color: #6272a4
}

.ace-dracula .ace_variable {
  color: #50fa7b
}

.ace-dracula .ace_variable.ace_parameter {
  font-style: italic;
  color: #ffb86c
}

.ace-dracula .ace_entity.ace_other.ace_attribute-name {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_function {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_tag {
  color: #ff79c6
}
.ace-dracula .ace_invisible {
  color: #626680;
}

.ace-dracula .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-dracula .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAADCwsK76u2xAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjYGBoAAAAhACBGFbxzQAAAABJRU5ErkJggg==") right repeat-y;
}
`}),ace.define("ace/theme/dracula",["require","exports","module","ace/theme/dracula-css","ace/lib/dom"],function(o,a,rt){a.isDark=!0,a.cssClass="ace-dracula",a.cssText=o("./dracula-css"),a.$selectionColorConflict=!0;var et=o("../lib/dom");et.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/dracula"],function(o){i&&(i.exports=o)})}()})(themeDracula);var themeTomorrow_night_eighties={exports:{}};(function(i,s){ace.define("ace/theme/tomorrow_night_eighties-css",["require","exports","module"],function(o,a,rt){rt.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties-css","ace/lib/dom"],function(o,a,rt){a.isDark=!0,a.cssClass="ace-tomorrow-night-eighties",a.cssText=o("./tomorrow_night_eighties-css");var et=o("../lib/dom");et.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(o){i&&(i.exports=o)})}()})(themeTomorrow_night_eighties);const Editor=i=>{const s=useTypedSelector(a=>a.workspace.currentLanguage),{colorMode:o}=useColorMode();return jsxRuntimeExports.jsx(_default,{mode:languageToModeMap[s],theme:o==="dark"?"dracula":"tomorrow_night_eighties",fontSize:15,width:"100%",...i})},JsonDisplay=({jsonProgram:i})=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardBody,{children:[jsxRuntimeExports.jsx(Text,{children:"JSON Code:"}),jsxRuntimeExports.jsx(Box,{overflowX:"scroll",children:jsxRuntimeExports.jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:i})})]})});function formatProdErrorMessage$1(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(i){if(typeof i!="object"||i===null)return!1;let s=i;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(i)===s||Object.getPrototypeOf(i)===null}function createStore(i,s,o){if(typeof i!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof s=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof s=="function"&&typeof o>"u"&&(o=s,s=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(formatProdErrorMessage$1(1));return o(createStore)(i,s)}let a=i,rt=s,et=new Map,ot=et,at=0,nt=!1;function it(){ot===et&&(ot=new Map,et.forEach((ct,ht)=>{ot.set(ht,ct)}))}function j(){if(nt)throw new Error(formatProdErrorMessage$1(3));return rt}function _(ct){if(typeof ct!="function")throw new Error(formatProdErrorMessage$1(4));if(nt)throw new Error(formatProdErrorMessage$1(5));let ht=!0;it();const ut=at++;return ot.set(ut,ct),function(){if(ht){if(nt)throw new Error(formatProdErrorMessage$1(6));ht=!1,it(),ot.delete(ut),et=null}}}function $(ct){if(!isPlainObject$1(ct))throw new Error(formatProdErrorMessage$1(7));if(typeof ct.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof ct.type!="string")throw new Error(formatProdErrorMessage$1(17));if(nt)throw new Error(formatProdErrorMessage$1(9));try{nt=!0,rt=a(rt,ct)}finally{nt=!1}return(et=ot).forEach(ut=>{ut()}),ct}function tt(ct){if(typeof ct!="function")throw new Error(formatProdErrorMessage$1(10));a=ct,$({type:actionTypes_default.REPLACE})}function st(){const ct=_;return{subscribe(ht){if(typeof ht!="object"||ht===null)throw new Error(formatProdErrorMessage$1(11));function ut(){const mt=ht;mt.next&&mt.next(j())}return ut(),{unsubscribe:ct(ut)}},[symbol_observable_default](){return this}}}return $({type:actionTypes_default.INIT}),{dispatch:$,subscribe:_,getState:j,replaceReducer:tt,[symbol_observable_default]:st}}function assertReducerShape(i){Object.keys(i).forEach(s=>{const o=i[s];if(typeof o(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof o(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(i){const s=Object.keys(i),o={};for(let et=0;et<s.length;et++){const ot=s[et];typeof i[ot]=="function"&&(o[ot]=i[ot])}const a=Object.keys(o);let rt;try{assertReducerShape(o)}catch(et){rt=et}return function(ot={},at){if(rt)throw rt;let nt=!1;const it={};for(let j=0;j<a.length;j++){const _=a[j],$=o[_],tt=ot[_],st=$(tt,at);if(typeof st>"u")throw at&&at.type,new Error(formatProdErrorMessage$1(14));it[_]=st,nt=nt||st!==tt}return nt=nt||a.length!==Object.keys(ot).length,nt?it:ot}}function compose(...i){return i.length===0?s=>s:i.length===1?i[0]:i.reduce((s,o)=>(...a)=>s(o(...a)))}function applyMiddleware(...i){return s=>(o,a)=>{const rt=s(o,a);let et=()=>{throw new Error(formatProdErrorMessage$1(15))};const ot={getState:rt.getState,dispatch:(nt,...it)=>et(nt,...it)},at=i.map(nt=>nt(ot));return et=compose(...at)(rt.dispatch),{...rt,dispatch:et}}}function isAction(i){return isPlainObject$1(i)&&"type"in i&&typeof i.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(i,...s){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(i){return!!i&&!!i[DRAFT_STATE]}function isDraftable(i){var s;return i?isPlainObject(i)||Array.isArray(i)||!!i[DRAFTABLE]||!!((s=i.constructor)!=null&&s[DRAFTABLE])||isMap(i)||isSet(i):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(i){if(!i||typeof i!="object")return!1;const s=getPrototypeOf(i);if(s===null)return!0;const o=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return o===Object?!0:typeof o=="function"&&Function.toString.call(o)===objectCtorString}function each(i,s){getArchtype(i)===0?Reflect.ownKeys(i).forEach(o=>{s(o,i[o],i)}):i.forEach((o,a)=>s(a,o,i))}function getArchtype(i){const s=i[DRAFT_STATE];return s?s.type_:Array.isArray(i)?1:isMap(i)?2:isSet(i)?3:0}function has(i,s){return getArchtype(i)===2?i.has(s):Object.prototype.hasOwnProperty.call(i,s)}function set(i,s,o){const a=getArchtype(i);a===2?i.set(s,o):a===3?i.add(o):i[s]=o}function is(i,s){return i===s?i!==0||1/i===1/s:i!==i&&s!==s}function isMap(i){return i instanceof Map}function isSet(i){return i instanceof Set}function latest(i){return i.copy_||i.base_}function shallowCopy(i,s){if(isMap(i))return new Map(i);if(isSet(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const o=isPlainObject(i);if(s===!0||s==="class_only"&&!o){const a=Object.getOwnPropertyDescriptors(i);delete a[DRAFT_STATE];let rt=Reflect.ownKeys(a);for(let et=0;et<rt.length;et++){const ot=rt[et],at=a[ot];at.writable===!1&&(at.writable=!0,at.configurable=!0),(at.get||at.set)&&(a[ot]={configurable:!0,writable:!0,enumerable:at.enumerable,value:i[ot]})}return Object.create(getPrototypeOf(i),a)}else{const a=getPrototypeOf(i);if(a!==null&&o)return{...i};const rt=Object.create(a);return Object.assign(rt,i)}}function freeze(i,s=!1){return isFrozen(i)||isDraft(i)||!isDraftable(i)||(getArchtype(i)>1&&(i.set=i.add=i.clear=i.delete=dontMutateFrozenCollections),Object.freeze(i),s&&Object.entries(i).forEach(([o,a])=>freeze(a,!0))),i}function dontMutateFrozenCollections(){die(2)}function isFrozen(i){return Object.isFrozen(i)}var plugins={};function getPlugin(i){const s=plugins[i];return s||die(0,i),s}var currentScope;function getCurrentScope(){return currentScope}function createScope(i,s){return{drafts_:[],parent_:i,immer_:s,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(i,s){s&&(getPlugin("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=s)}function revokeScope(i){leaveScope(i),i.drafts_.forEach(revokeDraft),i.drafts_=null}function leaveScope(i){i===currentScope&&(currentScope=i.parent_)}function enterScope(i){return currentScope=createScope(currentScope,i)}function revokeDraft(i){const s=i[DRAFT_STATE];s.type_===0||s.type_===1?s.revoke_():s.revoked_=!0}function processResult(i,s){s.unfinalizedDrafts_=s.drafts_.length;const o=s.drafts_[0];return i!==void 0&&i!==o?(o[DRAFT_STATE].modified_&&(revokeScope(s),die(4)),isDraftable(i)&&(i=finalize(s,i),s.parent_||maybeFreeze(s,i)),s.patches_&&getPlugin("Patches").generateReplacementPatches_(o[DRAFT_STATE].base_,i,s.patches_,s.inversePatches_)):i=finalize(s,o,[]),revokeScope(s),s.patches_&&s.patchListener_(s.patches_,s.inversePatches_),i!==NOTHING?i:void 0}function finalize(i,s,o){if(isFrozen(s))return s;const a=s[DRAFT_STATE];if(!a)return each(s,(rt,et)=>finalizeProperty(i,a,s,rt,et,o)),s;if(a.scope_!==i)return s;if(!a.modified_)return maybeFreeze(i,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const rt=a.copy_;let et=rt,ot=!1;a.type_===3&&(et=new Set(rt),rt.clear(),ot=!0),each(et,(at,nt)=>finalizeProperty(i,a,rt,at,nt,o,ot)),maybeFreeze(i,rt,!1),o&&i.patches_&&getPlugin("Patches").generatePatches_(a,o,i.patches_,i.inversePatches_)}return a.copy_}function finalizeProperty(i,s,o,a,rt,et,ot){if(isDraft(rt)){const at=et&&s&&s.type_!==3&&!has(s.assigned_,a)?et.concat(a):void 0,nt=finalize(i,rt,at);if(set(o,a,nt),isDraft(nt))i.canAutoFreeze_=!1;else return}else ot&&o.add(rt);if(isDraftable(rt)&&!isFrozen(rt)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;finalize(i,rt),(!s||!s.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(o,a)&&maybeFreeze(i,rt)}}function maybeFreeze(i,s,o=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&freeze(s,o)}function createProxyProxy(i,s){const o=Array.isArray(i),a={type_:o?1:0,scope_:s?s.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:s,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let rt=a,et=objectTraps;o&&(rt=[a],et=arrayTraps);const{revoke:ot,proxy:at}=Proxy.revocable(rt,et);return a.draft_=at,a.revoke_=ot,at}var objectTraps={get(i,s){if(s===DRAFT_STATE)return i;const o=latest(i);if(!has(o,s))return readPropFromProto(i,o,s);const a=o[s];return i.finalized_||!isDraftable(a)?a:a===peek(i.base_,s)?(prepareCopy(i),i.copy_[s]=createProxy(a,i)):a},has(i,s){return s in latest(i)},ownKeys(i){return Reflect.ownKeys(latest(i))},set(i,s,o){const a=getDescriptorFromProto(latest(i),s);if(a!=null&&a.set)return a.set.call(i.draft_,o),!0;if(!i.modified_){const rt=peek(latest(i),s),et=rt==null?void 0:rt[DRAFT_STATE];if(et&&et.base_===o)return i.copy_[s]=o,i.assigned_[s]=!1,!0;if(is(o,rt)&&(o!==void 0||has(i.base_,s)))return!0;prepareCopy(i),markChanged(i)}return i.copy_[s]===o&&(o!==void 0||s in i.copy_)||Number.isNaN(o)&&Number.isNaN(i.copy_[s])||(i.copy_[s]=o,i.assigned_[s]=!0),!0},deleteProperty(i,s){return peek(i.base_,s)!==void 0||s in i.base_?(i.assigned_[s]=!1,prepareCopy(i),markChanged(i)):delete i.assigned_[s],i.copy_&&delete i.copy_[s],!0},getOwnPropertyDescriptor(i,s){const o=latest(i),a=Reflect.getOwnPropertyDescriptor(o,s);return a&&{writable:!0,configurable:i.type_!==1||s!=="length",enumerable:a.enumerable,value:o[s]}},defineProperty(){die(11)},getPrototypeOf(i){return getPrototypeOf(i.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(i,s)=>{arrayTraps[i]=function(){return arguments[0]=arguments[0][0],s.apply(this,arguments)}});arrayTraps.deleteProperty=function(i,s){return arrayTraps.set.call(this,i,s,void 0)};arrayTraps.set=function(i,s,o){return objectTraps.set.call(this,i[0],s,o,i[0])};function peek(i,s){const o=i[DRAFT_STATE];return(o?latest(o):i)[s]}function readPropFromProto(i,s,o){var rt;const a=getDescriptorFromProto(s,o);return a?"value"in a?a.value:(rt=a.get)==null?void 0:rt.call(i.draft_):void 0}function getDescriptorFromProto(i,s){if(!(s in i))return;let o=getPrototypeOf(i);for(;o;){const a=Object.getOwnPropertyDescriptor(o,s);if(a)return a;o=getPrototypeOf(o)}}function markChanged(i){i.modified_||(i.modified_=!0,i.parent_&&markChanged(i.parent_))}function prepareCopy(i){i.copy_||(i.copy_=shallowCopy(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(s,o,a)=>{if(typeof s=="function"&&typeof o!="function"){const et=o;o=s;const ot=this;return function(nt=et,...it){return ot.produce(nt,j=>o.call(this,j,...it))}}typeof o!="function"&&die(6),a!==void 0&&typeof a!="function"&&die(7);let rt;if(isDraftable(s)){const et=enterScope(this),ot=createProxy(s,void 0);let at=!0;try{rt=o(ot),at=!1}finally{at?revokeScope(et):leaveScope(et)}return usePatchesInScope(et,a),processResult(rt,et)}else if(!s||typeof s!="object"){if(rt=o(s),rt===void 0&&(rt=s),rt===NOTHING&&(rt=void 0),this.autoFreeze_&&freeze(rt,!0),a){const et=[],ot=[];getPlugin("Patches").generateReplacementPatches_(s,rt,et,ot),a(et,ot)}return rt}else die(1,s)},this.produceWithPatches=(s,o)=>{if(typeof s=="function")return(ot,...at)=>this.produceWithPatches(ot,nt=>s(nt,...at));let a,rt;return[this.produce(s,o,(ot,at)=>{a=ot,rt=at}),a,rt]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){isDraftable(i)||die(8),isDraft(i)&&(i=current(i));const s=enterScope(this),o=createProxy(i,void 0);return o[DRAFT_STATE].isManual_=!0,leaveScope(s),o}finishDraft(i,s){const o=i&&i[DRAFT_STATE];(!o||!o.isManual_)&&die(9);const{scope_:a}=o;return usePatchesInScope(a,s),processResult(void 0,a)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,s){let o;for(o=s.length-1;o>=0;o--){const rt=s[o];if(rt.path.length===0&&rt.op==="replace"){i=rt.value;break}}o>-1&&(s=s.slice(o+1));const a=getPlugin("Patches").applyPatches_;return isDraft(i)?a(i,s):this.produce(i,rt=>a(rt,s))}};function createProxy(i,s){const o=isMap(i)?getPlugin("MapSet").proxyMap_(i,s):isSet(i)?getPlugin("MapSet").proxySet_(i,s):createProxyProxy(i,s);return(s?s.scope_:getCurrentScope()).drafts_.push(o),o}function current(i){return isDraft(i)||die(10,i),currentImpl(i)}function currentImpl(i){if(!isDraftable(i)||isFrozen(i))return i;const s=i[DRAFT_STATE];let o;if(s){if(!s.modified_)return s.base_;s.finalized_=!0,o=shallowCopy(i,s.scope_.immer_.useStrictShallowCopy_)}else o=shallowCopy(i,!0);return each(o,(a,rt)=>{set(o,a,currentImpl(rt))}),s&&(s.finalized_=!1),o}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function assertIsFunction(i,s=`expected a function, instead received ${typeof i}`){if(typeof i!="function")throw new TypeError(s)}function assertIsObject(i,s=`expected an object, instead received ${typeof i}`){if(typeof i!="object")throw new TypeError(s)}function assertIsArrayOfFunctions(i,s="expected all items to be functions, instead received the following types: "){if(!i.every(o=>typeof o=="function")){const o=i.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${s}[${o}]`)}}var ensureIsArray=i=>Array.isArray(i)?i:[i];function getDependencies(i){const s=Array.isArray(i[0])?i[0]:i;return assertIsArrayOfFunctions(s,"createSelector expects all input-selectors to be functions, but received the following types: "),s}function collectInputSelectorResults(i,s){const o=[],{length:a}=i;for(let rt=0;rt<a;rt++)o.push(i[rt].apply(null,s));return o}var StrongRef=class{constructor(i){this.value=i}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(i,s={}){let o=createCacheNode();const{resultEqualityCheck:a}=s;let rt,et=0;function ot(){var _;let at=o;const{length:nt}=arguments;for(let $=0,tt=nt;$<tt;$++){const st=arguments[$];if(typeof st=="function"||typeof st=="object"&&st!==null){let lt=at.o;lt===null&&(at.o=lt=new WeakMap);const ct=lt.get(st);ct===void 0?(at=createCacheNode(),lt.set(st,at)):at=ct}else{let lt=at.p;lt===null&&(at.p=lt=new Map);const ct=lt.get(st);ct===void 0?(at=createCacheNode(),lt.set(st,at)):at=ct}}const it=at;let j;if(at.s===TERMINATED)j=at.v;else if(j=i.apply(null,arguments),et++,a){const $=((_=rt==null?void 0:rt.deref)==null?void 0:_.call(rt))??rt;$!=null&&a($,j)&&(j=$,et!==0&&et--),rt=typeof j=="object"&&j!==null||typeof j=="function"?new Ref(j):j}return it.s=TERMINATED,it.v=j,j}return ot.clearCache=()=>{o=createCacheNode(),ot.resetResultsCount()},ot.resultsCount=()=>et,ot.resetResultsCount=()=>{et=0},ot}function createSelectorCreator(i,...s){const o=typeof i=="function"?{memoize:i,memoizeOptions:s}:i,a=(...rt)=>{let et=0,ot=0,at,nt={},it=rt.pop();typeof it=="object"&&(nt=it,it=rt.pop()),assertIsFunction(it,`createSelector expects an output function after the inputs, but received: [${typeof it}]`);const j={...o,...nt},{memoize:_,memoizeOptions:$=[],argsMemoize:tt=weakMapMemoize,argsMemoizeOptions:st=[],devModeChecks:lt={}}=j,ct=ensureIsArray($),ht=ensureIsArray(st),ut=getDependencies(rt),pt=_(function(){return et++,it.apply(null,arguments)},...ct),mt=tt(function(){ot++;const dt=collectInputSelectorResults(ut,arguments);return at=pt.apply(null,dt),at},...ht);return Object.assign(mt,{resultFunc:it,memoizedResultFunc:pt,dependencies:ut,dependencyRecomputations:()=>ot,resetDependencyRecomputations:()=>{ot=0},lastResult:()=>at,recomputations:()=>et,resetRecomputations:()=>{et=0},memoize:_,argsMemoize:tt})};return Object.assign(a,{withTypes:()=>a}),a}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((i,s=createSelector)=>{assertIsObject(i,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof i}`);const o=Object.keys(i),a=o.map(et=>i[et]);return s(a,(...et)=>et.reduce((ot,at,nt)=>(ot[o[nt]]=at,ot),{}))},{withTypes:()=>createStructuredSelector});function createThunkMiddleware(i){return({dispatch:o,getState:a})=>rt=>et=>typeof et=="function"?et(o,a,i):rt(et)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,createDraftSafeSelectorCreator=(...i)=>{const s=createSelectorCreator(...i),o=Object.assign((...a)=>{const rt=s(...a),et=(ot,...at)=>rt(isDraft(ot)?current(ot):ot,...at);return Object.assign(et,rt),et},{withTypes:()=>o});return o};createDraftSafeSelectorCreator(weakMapMemoize);var composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(i,s){function o(...a){if(s){let rt=s(...a);if(!rt)throw new Error(formatProdErrorMessage(0));return{type:i,payload:rt.payload,..."meta"in rt&&{meta:rt.meta},..."error"in rt&&{error:rt.error}}}return{type:i,payload:a[0]}}return o.toString=()=>`${i}`,o.type=i,o.match=a=>isAction(a)&&a.type===i,o}var Tuple=class Hl extends Array{constructor(...s){super(...s),Object.setPrototypeOf(this,Hl.prototype)}static get[Symbol.species](){return Hl}concat(...s){return super.concat.apply(this,s)}prepend(...s){return s.length===1&&Array.isArray(s[0])?new Hl(...s[0].concat(this)):new Hl(...s.concat(this))}};function freezeDraftable(i){return isDraftable(i)?produce(i,()=>{}):i}function emplace(i,s,o){if(i.has(s)){let rt=i.get(s);return o.update&&(rt=o.update(rt,s,i),i.set(s,rt)),rt}if(!o.insert)throw new Error(formatProdErrorMessage(10));const a=o.insert(s,i);return i.set(s,a),a}function isBoolean(i){return typeof i=="boolean"}var buildGetDefaultMiddleware=()=>function(s){const{thunk:o=!0,immutableCheck:a=!0,serializableCheck:rt=!0,actionCreatorCheck:et=!0}=s??{};let ot=new Tuple;return o&&(isBoolean(o)?ot.push(thunk):ot.push(withExtraArgument(o.extraArgument))),ot},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=i=>s=>{setTimeout(s,i)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(i={type:"raf"})=>s=>(...o)=>{const a=s(...o);let rt=!0,et=!1,ot=!1;const at=new Set,nt=i.type==="tick"?queueMicrotask:i.type==="raf"?rAF:i.type==="callback"?i.queueNotification:createQueueWithTimer(i.timeout),it=()=>{ot=!1,et&&(et=!1,at.forEach(j=>j()))};return Object.assign({},a,{subscribe(j){const _=()=>rt&&j(),$=a.subscribe(_);return at.add(j),()=>{$(),at.delete(j)}},dispatch(j){var _;try{return rt=!((_=j==null?void 0:j.meta)!=null&&_[SHOULD_AUTOBATCH]),et=!rt,et&&(ot||(ot=!0,nt(it))),a.dispatch(j)}finally{rt=!0}}})},buildGetDefaultEnhancers=i=>function(o){const{autoBatch:a=!0}=o??{};let rt=new Tuple(i);return a&&rt.push(autoBatchEnhancer(typeof a=="object"?a:void 0)),rt},IS_PRODUCTION=!0;function configureStore(i){const s=buildGetDefaultMiddleware(),{reducer:o=void 0,middleware:a,devTools:rt=!0,preloadedState:et=void 0,enhancers:ot=void 0}=i||{};let at;if(typeof o=="function")at=o;else if(isPlainObject$1(o))at=combineReducers(o);else throw new Error(formatProdErrorMessage(1));let nt;typeof a=="function"?nt=a(s):nt=s();let it=compose;rt&&(it=composeWithDevTools({trace:!IS_PRODUCTION,...typeof rt=="object"&&rt}));const j=applyMiddleware(...nt),_=buildGetDefaultEnhancers(j);let $=typeof ot=="function"?ot(_):_();const tt=it(...$);return createStore(at,et,tt)}function executeReducerBuilderCallback(i){const s={},o=[];let a;const rt={addCase(et,ot){const at=typeof et=="string"?et:et.type;if(!at)throw new Error(formatProdErrorMessage(28));if(at in s)throw new Error(formatProdErrorMessage(29));return s[at]=ot,rt},addMatcher(et,ot){return o.push({matcher:et,reducer:ot}),rt},addDefaultCase(et){return a=et,rt}};return i(rt),[s,o,a]}function isStateFunction(i){return typeof i=="function"}function createReducer(i,s){let[o,a,rt]=executeReducerBuilderCallback(s),et;if(isStateFunction(i))et=()=>freezeDraftable(i());else{const at=freezeDraftable(i);et=()=>at}function ot(at=et(),nt){let it=[o[nt.type],...a.filter(({matcher:j})=>j(nt)).map(({reducer:j})=>j)];return it.filter(j=>!!j).length===0&&(it=[rt]),it.reduce((j,_)=>{if(_)if(isDraft(j)){const tt=_(j,nt);return tt===void 0?j:tt}else{if(isDraftable(j))return produce(j,$=>_($,nt));{const $=_(j,nt);if($===void 0){if(j===null)return j;throw new Error(formatProdErrorMessage(9))}return $}}return j},at)}return ot.getInitialState=et,ot}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(i=21)=>{let s="",o=i;for(;o--;)s+=urlAlphabet[Math.random()*64|0];return s},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(i,s){return`${i}/${s}`}function buildCreateSlice({creators:i}={}){var o;const s=(o=i==null?void 0:i.asyncThunk)==null?void 0:o[asyncThunkSymbol];return function(rt){const{name:et,reducerPath:ot=et}=rt;if(!et)throw new Error(formatProdErrorMessage(11));typeof process<"u";const at=(typeof rt.reducers=="function"?rt.reducers(buildReducerCreators()):rt.reducers)||{},nt=Object.keys(at),it={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},j={addCase(pt,mt){const vt=typeof pt=="string"?pt:pt.type;if(!vt)throw new Error(formatProdErrorMessage(12));if(vt in it.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return it.sliceCaseReducersByType[vt]=mt,j},addMatcher(pt,mt){return it.sliceMatchers.push({matcher:pt,reducer:mt}),j},exposeAction(pt,mt){return it.actionCreators[pt]=mt,j},exposeCaseReducer(pt,mt){return it.sliceCaseReducersByName[pt]=mt,j}};nt.forEach(pt=>{const mt=at[pt],vt={reducerName:pt,type:getType(et,pt),createNotation:typeof rt.reducers=="function"};isAsyncThunkSliceReducerDefinition(mt)?handleThunkCaseReducerDefinition(vt,mt,j,s):handleNormalReducerDefinition(vt,mt,j)});function _(){const[pt={},mt=[],vt=void 0]=typeof rt.extraReducers=="function"?executeReducerBuilderCallback(rt.extraReducers):[rt.extraReducers],dt={...pt,...it.sliceCaseReducersByType};return createReducer(rt.initialState,St=>{for(let yt in dt)St.addCase(yt,dt[yt]);for(let yt of it.sliceMatchers)St.addMatcher(yt.matcher,yt.reducer);for(let yt of mt)St.addMatcher(yt.matcher,yt.reducer);vt&&St.addDefaultCase(vt)})}const $=pt=>pt,tt=new Map;let st;function lt(pt,mt){return st||(st=_()),st(pt,mt)}function ct(){return st||(st=_()),st.getInitialState()}function ht(pt,mt=!1){function vt(St){let yt=St[pt];return typeof yt>"u"&&mt&&(yt=ct()),yt}function dt(St=$){const yt=emplace(tt,mt,{insert:()=>new WeakMap});return emplace(yt,St,{insert:()=>{const gt={};for(const[Et,_t]of Object.entries(rt.selectors??{}))gt[Et]=wrapSelector(_t,St,ct,mt);return gt}})}return{reducerPath:pt,getSelectors:dt,get selectors(){return dt(vt)},selectSlice:vt}}const ut={name:et,reducer:lt,actions:it.actionCreators,caseReducers:it.sliceCaseReducersByName,getInitialState:ct,...ht(ot),injectInto(pt,{reducerPath:mt,...vt}={}){const dt=mt??ot;return pt.inject({reducerPath:dt,reducer:lt},vt),{...ut,...ht(dt,!0)}}};return ut}}function wrapSelector(i,s,o,a){function rt(et,...ot){let at=s(et);return typeof at>"u"&&a&&(at=o()),i(at,...ot)}return rt.unwrapped=i,rt}var createSlice=buildCreateSlice();function buildReducerCreators(){function i(s,o){return{_reducerDefinitionType:"asyncThunk",payloadCreator:s,...o}}return i.withTypes=()=>i,{reducer(s){return Object.assign({[s.name](...o){return s(...o)}}[s.name],{_reducerDefinitionType:"reducer"})},preparedReducer(s,o){return{_reducerDefinitionType:"reducerWithPrepare",prepare:s,reducer:o}},asyncThunk:i}}function handleNormalReducerDefinition({type:i,reducerName:s,createNotation:o},a,rt){let et,ot;if("reducer"in a){if(o&&!isCaseReducerWithPrepareDefinition(a))throw new Error(formatProdErrorMessage(17));et=a.reducer,ot=a.prepare}else et=a;rt.addCase(i,et).exposeCaseReducer(s,et).exposeAction(s,ot?createAction(i,ot):createAction(i))}function isAsyncThunkSliceReducerDefinition(i){return i._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(i){return i._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:i,reducerName:s},o,a,rt){if(!rt)throw new Error(formatProdErrorMessage(18));const{payloadCreator:et,fulfilled:ot,pending:at,rejected:nt,settled:it,options:j}=o,_=rt(i,et,j);a.exposeAction(s,_),ot&&a.addCase(_.fulfilled,ot),at&&a.addCase(_.pending,at),nt&&a.addCase(_.rejected,nt),it&&a.addMatcher(_.settled,it),a.exposeCaseReducer(s,{fulfilled:ot||noop,pending:at||noop,rejected:nt||noop,settled:it||noop})}function noop(){}var assertFunction=(i,s)=>{if(typeof i!="function")throw new Error(formatProdErrorMessage(32))},alm="listenerMiddleware",getListenerEntryPropsFrom=i=>{let{type:s,actionCreator:o,matcher:a,predicate:rt,effect:et}=i;if(s)rt=createAction(s).match;else if(o)s=o.type,rt=o.match;else if(a)rt=a;else if(!rt)throw new Error(formatProdErrorMessage(21));return assertFunction(et),{predicate:rt,type:s,effect:et}},createListenerEntry=Object.assign(i=>{const{type:s,predicate:o,effect:a}=getListenerEntryPropsFrom(i);return{id:nanoid(),effect:a,type:s,predicate:o,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),addListener=Object.assign(createAction(`${alm}/add`),{withTypes:()=>addListener});createAction(`${alm}/removeAll`);var removeListener=Object.assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener});function formatProdErrorMessage(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const loadSamplePythonPrograms=async()=>(await __vitePreload(async()=>{const{samplePythonPrograms:i}=await import("./index-CxR4alL1.js");return{samplePythonPrograms:i}},[])).samplePythonPrograms,loadSampleSourceThreePrograms=async()=>(await __vitePreload(async()=>{const{sampleSourceThreePrograms:i}=await import("./index-OcF0Dhf2.js");return{sampleSourceThreePrograms:i}},[])).sampleSourceThreePrograms;let samplePythonPrograms,sampleSourceThreePrograms;const sampleProgramLoader=async i=>{switch(i){case Languages.PYTHON:return samplePythonPrograms===void 0&&(samplePythonPrograms=await loadSamplePythonPrograms()),samplePythonPrograms;case Languages.SOURCE_THREE_INTERPRETER:return sampleSourceThreePrograms===void 0&&(sampleSourceThreePrograms=await loadSampleSourceThreePrograms()),sampleSourceThreePrograms}},defaultPrograms=Object.freeze({[Languages.PYTHON]:`# Write your Python program here!
`,[Languages.SOURCE_THREE_INTERPRETER]:`// Write your Source 3 program here!
`}),initialState={currentLanguage:Languages.PYTHON,editorValue:{...defaultPrograms}},WorkspaceSlice=createSlice({name:"workspace",initialState,reducers:{setCurrentLanguage:(i,s)=>{i.currentLanguage=s.payload},setEditorValue:(i,s)=>{i.editorValue[i.currentLanguage]=s.payload},resetEditorValues:(i,s)=>{const o=s.payload;o!==void 0?i.editorValue[o]=defaultPrograms[o]:i.editorValue={...defaultPrograms}}}}),WorkspaceActions=WorkspaceSlice.actions,workspace=WorkspaceSlice.reducer,{setCurrentLanguage:setCurrentLanguage$1}=WorkspaceActions,LanguageSelector=()=>{const i=useTypedSelector(o=>o.workspace.currentLanguage),s=useTypedDispatch();return jsxRuntimeExports.jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:i,onChange:o=>s(setCurrentLanguage$1(o.target.value)),children:supportedLanguages.map(o=>jsxRuntimeExports.jsx("option",{value:o,children:o},o))})},UserGuide=()=>{const{isOpen:i,onOpen:s,onClose:o}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"link",onClick:s,fontWeight:"normal",children:"View User Guide"}),jsxRuntimeExports.jsxs(Modal,{isOpen:i,onClose:o,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:"User Guide"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{paddingBottom:0,children:jsxRuntimeExports.jsxs(OrderedList,{children:[jsxRuntimeExports.jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the appropriate language mode:"," ",Languages.SOURCE_THREE_INTERPRETER," or ",Languages.PYTHON]}),jsxRuntimeExports.jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsxRuntimeExports.jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsxRuntimeExports.jsx(ModalFooter,{paddingTop:0})]})]})]})};var ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"});const SampleProgramListItem=({label:i,onClick:s})=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{children:"Load"}),jsxRuntimeExports.jsx(ArrowForwardIcon,{})]}),onClick:s,children:i})}),{setEditorValue:setEditorValue$1}=WorkspaceActions,SampleProgramSidebar=()=>{const[i,s]=reactExports.useState(),o=useTypedSelector(rt=>rt.workspace.currentLanguage),a=useTypedDispatch();return reactExports.useEffect(()=>{s(void 0),sampleProgramLoader(o).then(s)},[o]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Sample ",o," Programs"]}),jsxRuntimeExports.jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsxRuntimeExports.jsx(CardBody,{paddingTop:0,children:jsxRuntimeExports.jsx(Stack,{divider:jsxRuntimeExports.jsx(StackDivider,{}),children:i===void 0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"Loading sample programs"}):i.length==0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):i.map((rt,et)=>jsxRuntimeExports.jsx(SampleProgramListItem,{label:`Sample Program ${et+1}`,onClick:()=>a(setEditorValue$1(rt))},et))})})]})};var sicp={},createContext={},constants={},types={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Variant=i.Chapter=i.ErrorSeverity=i.ErrorType=void 0,function(s){s.SYNTAX="Syntax",s.TYPE="Type",s.RUNTIME="Runtime"}(i.ErrorType||(i.ErrorType={})),function(s){s.WARNING="Warning",s.ERROR="Error"}(i.ErrorSeverity||(i.ErrorSeverity={})),function(s){s[s.SOURCE_1=1]="SOURCE_1",s[s.SOURCE_2=2]="SOURCE_2",s[s.SOURCE_3=3]="SOURCE_3",s[s.SOURCE_4=4]="SOURCE_4",s[s.FULL_JS=-1]="FULL_JS",s[s.HTML=-2]="HTML",s[s.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(i.Chapter||(i.Chapter={})),function(s){s.DEFAULT="default",s.NATIVE="native",s.WASM="wasm",s.LAZY="lazy",s.NON_DET="non-det",s.CONCURRENT="concurrent",s.GPU="gpu"}(i.Variant||(i.Variant={}))})(types);Object.defineProperty(constants,"__esModule",{value:!0});constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const types_1$m=types;constants.CUT="cut";constants.TRY_AGAIN="retry";constants.GLOBAL=typeof window>"u"?commonjsGlobal:window;constants.NATIVE_STORAGE_ID="nativeStorage";constants.MODULE_PARAMS_ID="moduleParams";constants.MODULE_CONTEXTS_ID="moduleContexts";constants.MAX_LIST_DISPLAY_LENGTH=100;constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}};constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10};constants.sourceLanguages=[{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.WASM},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.CONCURRENT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.NON_DET},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.GPU}];constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015};var lib={},acorn={exports:{}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){var a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],rt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],et="-----------------------------------------------------------------------------------------------------------------------------------------------------",ot="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",at={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},nt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",it={5:nt,"5module":nt+" export import",6:nt+" const class extends export import super"},j=/^in(stanceof)?$/,_=new RegExp("["+ot+"]"),$=new RegExp("["+ot+et+"]");function tt(xt,Rt){for(var Ft=65536,Ut=0;Ut<Rt.length;Ut+=2){if(Ft+=Rt[Ut],Ft>xt)return!1;if(Ft+=Rt[Ut+1],Ft>=xt)return!0}return!1}function st(xt,Rt){return xt<65?xt===36:xt<91?!0:xt<97?xt===95:xt<123?!0:xt<=65535?xt>=170&&_.test(String.fromCharCode(xt)):Rt===!1?!1:tt(xt,rt)}function lt(xt,Rt){return xt<48?xt===36:xt<58?!0:xt<65?!1:xt<91?!0:xt<97?xt===95:xt<123?!0:xt<=65535?xt>=170&&$.test(String.fromCharCode(xt)):Rt===!1?!1:tt(xt,rt)||tt(xt,a)}var ct=function(Rt,Ft){Ft===void 0&&(Ft={}),this.label=Rt,this.keyword=Ft.keyword,this.beforeExpr=!!Ft.beforeExpr,this.startsExpr=!!Ft.startsExpr,this.isLoop=!!Ft.isLoop,this.isAssign=!!Ft.isAssign,this.prefix=!!Ft.prefix,this.postfix=!!Ft.postfix,this.binop=Ft.binop||null,this.updateContext=null};function ht(xt,Rt){return new ct(xt,{beforeExpr:!0,binop:Rt})}var ut={beforeExpr:!0},pt={startsExpr:!0},mt={};function vt(xt,Rt){return Rt===void 0&&(Rt={}),Rt.keyword=xt,mt[xt]=new ct(xt,Rt)}var dt={num:new ct("num",pt),regexp:new ct("regexp",pt),string:new ct("string",pt),name:new ct("name",pt),privateId:new ct("privateId",pt),eof:new ct("eof"),bracketL:new ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ct("]"),braceL:new ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ct("}"),parenL:new ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ct(")"),comma:new ct(",",ut),semi:new ct(";",ut),colon:new ct(":",ut),dot:new ct("."),question:new ct("?",ut),questionDot:new ct("?."),arrow:new ct("=>",ut),template:new ct("template"),invalidTemplate:new ct("invalidTemplate"),ellipsis:new ct("...",ut),backQuote:new ct("`",pt),dollarBraceL:new ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new ct("=",{beforeExpr:!0,isAssign:!0}),assign:new ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ht("||",1),logicalAND:ht("&&",2),bitwiseOR:ht("|",3),bitwiseXOR:ht("^",4),bitwiseAND:ht("&",5),equality:ht("==/!=/===/!==",6),relational:ht("</>/<=/>=",7),bitShift:ht("<</>>/>>>",8),plusMin:new ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ht("%",10),star:ht("*",10),slash:ht("/",10),starstar:new ct("**",{beforeExpr:!0}),coalesce:ht("??",1),_break:vt("break"),_case:vt("case",ut),_catch:vt("catch"),_continue:vt("continue"),_debugger:vt("debugger"),_default:vt("default",ut),_do:vt("do",{isLoop:!0,beforeExpr:!0}),_else:vt("else",ut),_finally:vt("finally"),_for:vt("for",{isLoop:!0}),_function:vt("function",pt),_if:vt("if"),_return:vt("return",ut),_switch:vt("switch"),_throw:vt("throw",ut),_try:vt("try"),_var:vt("var"),_const:vt("const"),_while:vt("while",{isLoop:!0}),_with:vt("with"),_new:vt("new",{beforeExpr:!0,startsExpr:!0}),_this:vt("this",pt),_super:vt("super",pt),_class:vt("class",pt),_extends:vt("extends",ut),_export:vt("export"),_import:vt("import",pt),_null:vt("null",pt),_true:vt("true",pt),_false:vt("false",pt),_in:vt("in",{beforeExpr:!0,binop:7}),_instanceof:vt("instanceof",{beforeExpr:!0,binop:7}),_typeof:vt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:vt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:vt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,yt=new RegExp(St.source,"g");function gt(xt){return xt===10||xt===13||xt===8232||xt===8233}function Et(xt,Rt,Ft){Ft===void 0&&(Ft=xt.length);for(var Ut=Rt;Ut<Ft;Ut++){var sr=xt.charCodeAt(Ut);if(gt(sr))return Ut<Ft-1&&sr===13&&xt.charCodeAt(Ut+1)===10?Ut+2:Ut+1}return-1}var _t=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,kt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ct=Object.prototype,Tt=Ct.hasOwnProperty,At=Ct.toString,It=Object.hasOwn||function(xt,Rt){return Tt.call(xt,Rt)},Ot=Array.isArray||function(xt){return At.call(xt)==="[object Array]"},Mt=Object.create(null);function Dt(xt){return Mt[xt]||(Mt[xt]=new RegExp("^(?:"+xt.replace(/ /g,"|")+")$"))}function Bt(xt){return xt<=65535?String.fromCharCode(xt):(xt-=65536,String.fromCharCode((xt>>10)+55296,(xt&1023)+56320))}var Kt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Wt=function(Rt,Ft){this.line=Rt,this.column=Ft};Wt.prototype.offset=function(Rt){return new Wt(this.line,this.column+Rt)};var zt=function(Rt,Ft,Ut){this.start=Ft,this.end=Ut,Rt.sourceFile!==null&&(this.source=Rt.sourceFile)};function Ht(xt,Rt){for(var Ft=1,Ut=0;;){var sr=Et(xt,Ut,Rt);if(sr<0)return new Wt(Ft,Rt-Ut);++Ft,Ut=sr}}var Zt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Qt=!1;function hr(xt){var Rt={};for(var Ft in Zt)Rt[Ft]=xt&&It(xt,Ft)?xt[Ft]:Zt[Ft];if(Rt.ecmaVersion==="latest"?Rt.ecmaVersion=1e8:Rt.ecmaVersion==null?(!Qt&&typeof console=="object"&&console.warn&&(Qt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),Rt.ecmaVersion=11):Rt.ecmaVersion>=2015&&(Rt.ecmaVersion-=2009),Rt.allowReserved==null&&(Rt.allowReserved=Rt.ecmaVersion<5),(!xt||xt.allowHashBang==null)&&(Rt.allowHashBang=Rt.ecmaVersion>=14),Ot(Rt.onToken)){var Ut=Rt.onToken;Rt.onToken=function(sr){return Ut.push(sr)}}return Ot(Rt.onComment)&&(Rt.onComment=fr(Rt,Rt.onComment)),Rt}function fr(xt,Rt){return function(Ft,Ut,sr,vr,wr,Fr){var Br={type:Ft?"Block":"Line",value:Ut,start:sr,end:vr};xt.locations&&(Br.loc=new zt(this,wr,Fr)),xt.ranges&&(Br.range=[sr,vr]),Rt.push(Br)}}var pr=1,gr=2,tr=4,rr=8,qt=16,xr=32,Sr=64,dr=128,Ur=256,tn=pr|gr|Ur;function on(xt,Rt){return gr|(xt?tr:0)|(Rt?rr:0)}var Rn=0,Nn=1,Mn=2,pn=3,Hn=4,In=5,_r=function(Rt,Ft,Ut){this.options=Rt=hr(Rt),this.sourceFile=Rt.sourceFile,this.keywords=Dt(it[Rt.ecmaVersion>=6?6:Rt.sourceType==="module"?"5module":5]);var sr="";Rt.allowReserved!==!0&&(sr=at[Rt.ecmaVersion>=6?6:Rt.ecmaVersion===5?5:3],Rt.sourceType==="module"&&(sr+=" await")),this.reservedWords=Dt(sr);var vr=(sr?sr+" ":"")+at.strict;this.reservedWordsStrict=Dt(vr),this.reservedWordsStrictBind=Dt(vr+" "+at.strictBind),this.input=String(Ft),this.containsEsc=!1,Ut?(this.pos=Ut,this.lineStart=this.input.lastIndexOf(`
`,Ut-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=dt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Rt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Rt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(pr),this.regexpState=null,this.privateNameStack=[]},Nr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};_r.prototype.parse=function(){var Rt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Rt)},Nr.inFunction.get=function(){return(this.currentVarScope().flags&gr)>0},Nr.inGenerator.get=function(){return(this.currentVarScope().flags&rr)>0&&!this.currentVarScope().inClassFieldInit},Nr.inAsync.get=function(){return(this.currentVarScope().flags&tr)>0&&!this.currentVarScope().inClassFieldInit},Nr.canAwait.get=function(){for(var xt=this.scopeStack.length-1;xt>=0;xt--){var Rt=this.scopeStack[xt];if(Rt.inClassFieldInit||Rt.flags&Ur)return!1;if(Rt.flags&gr)return(Rt.flags&tr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Nr.allowSuper.get=function(){var xt=this.currentThisScope(),Rt=xt.flags,Ft=xt.inClassFieldInit;return(Rt&Sr)>0||Ft||this.options.allowSuperOutsideMethod},Nr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&dr)>0},Nr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Nr.allowNewDotTarget.get=function(){var xt=this.currentThisScope(),Rt=xt.flags,Ft=xt.inClassFieldInit;return(Rt&(gr|Ur))>0||Ft},Nr.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Ur)>0},_r.extend=function(){for(var Rt=[],Ft=arguments.length;Ft--;)Rt[Ft]=arguments[Ft];for(var Ut=this,sr=0;sr<Rt.length;sr++)Ut=Rt[sr](Ut);return Ut},_r.parse=function(Rt,Ft){return new this(Ft,Rt).parse()},_r.parseExpressionAt=function(Rt,Ft,Ut){var sr=new this(Ut,Rt,Ft);return sr.nextToken(),sr.parseExpression()},_r.tokenizer=function(Rt,Ft){return new this(Ft,Rt)},Object.defineProperties(_r.prototype,Nr);var kr=_r.prototype,nn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;kr.strictDirective=function(xt){if(this.options.ecmaVersion<5)return!1;for(;;){kt.lastIndex=xt,xt+=kt.exec(this.input)[0].length;var Rt=nn.exec(this.input.slice(xt));if(!Rt)return!1;if((Rt[1]||Rt[2])==="use strict"){kt.lastIndex=xt+Rt[0].length;var Ft=kt.exec(this.input),Ut=Ft.index+Ft[0].length,sr=this.input.charAt(Ut);return sr===";"||sr==="}"||St.test(Ft[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(sr)||sr==="!"&&this.input.charAt(Ut+1)==="=")}xt+=Rt[0].length,kt.lastIndex=xt,xt+=kt.exec(this.input)[0].length,this.input[xt]===";"&&xt++}},kr.eat=function(xt){return this.type===xt?(this.next(),!0):!1},kr.isContextual=function(xt){return this.type===dt.name&&this.value===xt&&!this.containsEsc},kr.eatContextual=function(xt){return this.isContextual(xt)?(this.next(),!0):!1},kr.expectContextual=function(xt){this.eatContextual(xt)||this.unexpected()},kr.canInsertSemicolon=function(){return this.type===dt.eof||this.type===dt.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))},kr.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},kr.semicolon=function(){!this.eat(dt.semi)&&!this.insertSemicolon()&&this.unexpected()},kr.afterTrailingComma=function(xt,Rt){if(this.type===xt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Rt||this.next(),!0},kr.expect=function(xt){this.eat(xt)||this.unexpected()},kr.unexpected=function(xt){this.raise(xt??this.start,"Unexpected token")};var Yt=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};kr.checkPatternErrors=function(xt,Rt){if(xt){xt.trailingComma>-1&&this.raiseRecoverable(xt.trailingComma,"Comma is not permitted after the rest element");var Ft=Rt?xt.parenthesizedAssign:xt.parenthesizedBind;Ft>-1&&this.raiseRecoverable(Ft,Rt?"Assigning to rvalue":"Parenthesized pattern")}},kr.checkExpressionErrors=function(xt,Rt){if(!xt)return!1;var Ft=xt.shorthandAssign,Ut=xt.doubleProto;if(!Rt)return Ft>=0||Ut>=0;Ft>=0&&this.raise(Ft,"Shorthand property assignments are valid only in destructuring patterns"),Ut>=0&&this.raiseRecoverable(Ut,"Redefinition of __proto__ property")},kr.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},kr.isSimpleAssignTarget=function(xt){return xt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(xt.expression):xt.type==="Identifier"||xt.type==="MemberExpression"};var er=_r.prototype;er.parseTopLevel=function(xt){var Rt=Object.create(null);for(xt.body||(xt.body=[]);this.type!==dt.eof;){var Ft=this.parseStatement(null,!0,Rt);xt.body.push(Ft)}if(this.inModule)for(var Ut=0,sr=Object.keys(this.undefinedExports);Ut<sr.length;Ut+=1){var vr=sr[Ut];this.raiseRecoverable(this.undefinedExports[vr].start,"Export '"+vr+"' is not defined")}return this.adaptDirectivePrologue(xt.body),this.next(),xt.sourceType=this.options.sourceType,this.finishNode(xt,"Program")};var lr={kind:"loop"},Lr={kind:"switch"};er.isLet=function(xt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;kt.lastIndex=this.pos;var Rt=kt.exec(this.input),Ft=this.pos+Rt[0].length,Ut=this.input.charCodeAt(Ft);if(Ut===91||Ut===92)return!0;if(xt)return!1;if(Ut===123||Ut>55295&&Ut<56320)return!0;if(st(Ut,!0)){for(var sr=Ft+1;lt(Ut=this.input.charCodeAt(sr),!0);)++sr;if(Ut===92||Ut>55295&&Ut<56320)return!0;var vr=this.input.slice(Ft,sr);if(!j.test(vr))return!0}return!1},er.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;kt.lastIndex=this.pos;var xt=kt.exec(this.input),Rt=this.pos+xt[0].length,Ft;return!St.test(this.input.slice(this.pos,Rt))&&this.input.slice(Rt,Rt+8)==="function"&&(Rt+8===this.input.length||!(lt(Ft=this.input.charCodeAt(Rt+8))||Ft>55295&&Ft<56320))},er.parseStatement=function(xt,Rt,Ft){var Ut=this.type,sr=this.startNode(),vr;switch(this.isLet(xt)&&(Ut=dt._var,vr="let"),Ut){case dt._break:case dt._continue:return this.parseBreakContinueStatement(sr,Ut.keyword);case dt._debugger:return this.parseDebuggerStatement(sr);case dt._do:return this.parseDoStatement(sr);case dt._for:return this.parseForStatement(sr);case dt._function:return xt&&(this.strict||xt!=="if"&&xt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(sr,!1,!xt);case dt._class:return xt&&this.unexpected(),this.parseClass(sr,!0);case dt._if:return this.parseIfStatement(sr);case dt._return:return this.parseReturnStatement(sr);case dt._switch:return this.parseSwitchStatement(sr);case dt._throw:return this.parseThrowStatement(sr);case dt._try:return this.parseTryStatement(sr);case dt._const:case dt._var:return vr=vr||this.value,xt&&vr!=="var"&&this.unexpected(),this.parseVarStatement(sr,vr);case dt._while:return this.parseWhileStatement(sr);case dt._with:return this.parseWithStatement(sr);case dt.braceL:return this.parseBlock(!0,sr);case dt.semi:return this.parseEmptyStatement(sr);case dt._export:case dt._import:if(this.options.ecmaVersion>10&&Ut===dt._import){kt.lastIndex=this.pos;var wr=kt.exec(this.input),Fr=this.pos+wr[0].length,Br=this.input.charCodeAt(Fr);if(Br===40||Br===46)return this.parseExpressionStatement(sr,this.parseExpression())}return this.options.allowImportExportEverywhere||(Rt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Ut===dt._import?this.parseImport(sr):this.parseExport(sr,Ft);default:if(this.isAsyncFunction())return xt&&this.unexpected(),this.next(),this.parseFunctionStatement(sr,!0,!xt);var ln=this.value,hn=this.parseExpression();return Ut===dt.name&&hn.type==="Identifier"&&this.eat(dt.colon)?this.parseLabeledStatement(sr,ln,hn,xt):this.parseExpressionStatement(sr,hn)}},er.parseBreakContinueStatement=function(xt,Rt){var Ft=Rt==="break";this.next(),this.eat(dt.semi)||this.insertSemicolon()?xt.label=null:this.type!==dt.name?this.unexpected():(xt.label=this.parseIdent(),this.semicolon());for(var Ut=0;Ut<this.labels.length;++Ut){var sr=this.labels[Ut];if((xt.label==null||sr.name===xt.label.name)&&(sr.kind!=null&&(Ft||sr.kind==="loop")||xt.label&&Ft))break}return Ut===this.labels.length&&this.raise(xt.start,"Unsyntactic "+Rt),this.finishNode(xt,Ft?"BreakStatement":"ContinueStatement")},er.parseDebuggerStatement=function(xt){return this.next(),this.semicolon(),this.finishNode(xt,"DebuggerStatement")},er.parseDoStatement=function(xt){return this.next(),this.labels.push(lr),xt.body=this.parseStatement("do"),this.labels.pop(),this.expect(dt._while),xt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(dt.semi):this.semicolon(),this.finishNode(xt,"DoWhileStatement")},er.parseForStatement=function(xt){this.next();var Rt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(lr),this.enterScope(0),this.expect(dt.parenL),this.type===dt.semi)return Rt>-1&&this.unexpected(Rt),this.parseFor(xt,null);var Ft=this.isLet();if(this.type===dt._var||this.type===dt._const||Ft){var Ut=this.startNode(),sr=Ft?"let":this.value;return this.next(),this.parseVar(Ut,!0,sr),this.finishNode(Ut,"VariableDeclaration"),(this.type===dt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Ut.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===dt._in?Rt>-1&&this.unexpected(Rt):xt.await=Rt>-1),this.parseForIn(xt,Ut)):(Rt>-1&&this.unexpected(Rt),this.parseFor(xt,Ut))}var vr=this.isContextual("let"),wr=!1,Fr=new Yt,Br=this.parseExpression(Rt>-1?"await":!0,Fr);return this.type===dt._in||(wr=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===dt._in?Rt>-1&&this.unexpected(Rt):xt.await=Rt>-1),vr&&wr&&this.raise(Br.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Br,!1,Fr),this.checkLValPattern(Br),this.parseForIn(xt,Br)):(this.checkExpressionErrors(Fr,!0),Rt>-1&&this.unexpected(Rt),this.parseFor(xt,Br))},er.parseFunctionStatement=function(xt,Rt,Ft){return this.next(),this.parseFunction(xt,Er|(Ft?0:Cr),!1,Rt)},er.parseIfStatement=function(xt){return this.next(),xt.test=this.parseParenExpression(),xt.consequent=this.parseStatement("if"),xt.alternate=this.eat(dt._else)?this.parseStatement("if"):null,this.finishNode(xt,"IfStatement")},er.parseReturnStatement=function(xt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(dt.semi)||this.insertSemicolon()?xt.argument=null:(xt.argument=this.parseExpression(),this.semicolon()),this.finishNode(xt,"ReturnStatement")},er.parseSwitchStatement=function(xt){this.next(),xt.discriminant=this.parseParenExpression(),xt.cases=[],this.expect(dt.braceL),this.labels.push(Lr),this.enterScope(0);for(var Rt,Ft=!1;this.type!==dt.braceR;)if(this.type===dt._case||this.type===dt._default){var Ut=this.type===dt._case;Rt&&this.finishNode(Rt,"SwitchCase"),xt.cases.push(Rt=this.startNode()),Rt.consequent=[],this.next(),Ut?Rt.test=this.parseExpression():(Ft&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Ft=!0,Rt.test=null),this.expect(dt.colon)}else Rt||this.unexpected(),Rt.consequent.push(this.parseStatement(null));return this.exitScope(),Rt&&this.finishNode(Rt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(xt,"SwitchStatement")},er.parseThrowStatement=function(xt){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),xt.argument=this.parseExpression(),this.semicolon(),this.finishNode(xt,"ThrowStatement")};var Or=[];er.parseCatchClauseParam=function(){var xt=this.parseBindingAtom(),Rt=xt.type==="Identifier";return this.enterScope(Rt?xr:0),this.checkLValPattern(xt,Rt?Hn:Mn),this.expect(dt.parenR),xt},er.parseTryStatement=function(xt){if(this.next(),xt.block=this.parseBlock(),xt.handler=null,this.type===dt._catch){var Rt=this.startNode();this.next(),this.eat(dt.parenL)?Rt.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),Rt.param=null,this.enterScope(0)),Rt.body=this.parseBlock(!1),this.exitScope(),xt.handler=this.finishNode(Rt,"CatchClause")}return xt.finalizer=this.eat(dt._finally)?this.parseBlock():null,!xt.handler&&!xt.finalizer&&this.raise(xt.start,"Missing catch or finally clause"),this.finishNode(xt,"TryStatement")},er.parseVarStatement=function(xt,Rt,Ft){return this.next(),this.parseVar(xt,!1,Rt,Ft),this.semicolon(),this.finishNode(xt,"VariableDeclaration")},er.parseWhileStatement=function(xt){return this.next(),xt.test=this.parseParenExpression(),this.labels.push(lr),xt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(xt,"WhileStatement")},er.parseWithStatement=function(xt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),xt.object=this.parseParenExpression(),xt.body=this.parseStatement("with"),this.finishNode(xt,"WithStatement")},er.parseEmptyStatement=function(xt){return this.next(),this.finishNode(xt,"EmptyStatement")},er.parseLabeledStatement=function(xt,Rt,Ft,Ut){for(var sr=0,vr=this.labels;sr<vr.length;sr+=1){var wr=vr[sr];wr.name===Rt&&this.raise(Ft.start,"Label '"+Rt+"' is already declared")}for(var Fr=this.type.isLoop?"loop":this.type===dt._switch?"switch":null,Br=this.labels.length-1;Br>=0;Br--){var ln=this.labels[Br];if(ln.statementStart===xt.start)ln.statementStart=this.start,ln.kind=Fr;else break}return this.labels.push({name:Rt,kind:Fr,statementStart:this.start}),xt.body=this.parseStatement(Ut?Ut.indexOf("label")===-1?Ut+"label":Ut:"label"),this.labels.pop(),xt.label=Ft,this.finishNode(xt,"LabeledStatement")},er.parseExpressionStatement=function(xt,Rt){return xt.expression=Rt,this.semicolon(),this.finishNode(xt,"ExpressionStatement")},er.parseBlock=function(xt,Rt,Ft){for(xt===void 0&&(xt=!0),Rt===void 0&&(Rt=this.startNode()),Rt.body=[],this.expect(dt.braceL),xt&&this.enterScope(0);this.type!==dt.braceR;){var Ut=this.parseStatement(null);Rt.body.push(Ut)}return Ft&&(this.strict=!1),this.next(),xt&&this.exitScope(),this.finishNode(Rt,"BlockStatement")},er.parseFor=function(xt,Rt){return xt.init=Rt,this.expect(dt.semi),xt.test=this.type===dt.semi?null:this.parseExpression(),this.expect(dt.semi),xt.update=this.type===dt.parenR?null:this.parseExpression(),this.expect(dt.parenR),xt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(xt,"ForStatement")},er.parseForIn=function(xt,Rt){var Ft=this.type===dt._in;return this.next(),Rt.type==="VariableDeclaration"&&Rt.declarations[0].init!=null&&(!Ft||this.options.ecmaVersion<8||this.strict||Rt.kind!=="var"||Rt.declarations[0].id.type!=="Identifier")&&this.raise(Rt.start,(Ft?"for-in":"for-of")+" loop variable declaration may not have an initializer"),xt.left=Rt,xt.right=Ft?this.parseExpression():this.parseMaybeAssign(),this.expect(dt.parenR),xt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(xt,Ft?"ForInStatement":"ForOfStatement")},er.parseVar=function(xt,Rt,Ft,Ut){for(xt.declarations=[],xt.kind=Ft;;){var sr=this.startNode();if(this.parseVarId(sr,Ft),this.eat(dt.eq)?sr.init=this.parseMaybeAssign(Rt):!Ut&&Ft==="const"&&!(this.type===dt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!Ut&&sr.id.type!=="Identifier"&&!(Rt&&(this.type===dt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):sr.init=null,xt.declarations.push(this.finishNode(sr,"VariableDeclarator")),!this.eat(dt.comma))break}return xt},er.parseVarId=function(xt,Rt){xt.id=this.parseBindingAtom(),this.checkLValPattern(xt.id,Rt==="var"?Nn:Mn,!1)};var Er=1,Cr=2,Hr=4;er.parseFunction=function(xt,Rt,Ft,Ut,sr){this.initFunction(xt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Ut)&&(this.type===dt.star&&Rt&Cr&&this.unexpected(),xt.generator=this.eat(dt.star)),this.options.ecmaVersion>=8&&(xt.async=!!Ut),Rt&Er&&(xt.id=Rt&Hr&&this.type!==dt.name?null:this.parseIdent(),xt.id&&!(Rt&Cr)&&this.checkLValSimple(xt.id,this.strict||xt.generator||xt.async?this.treatFunctionsAsVar?Nn:Mn:pn));var vr=this.yieldPos,wr=this.awaitPos,Fr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(on(xt.async,xt.generator)),Rt&Er||(xt.id=this.type===dt.name?this.parseIdent():null),this.parseFunctionParams(xt),this.parseFunctionBody(xt,Ft,!1,sr),this.yieldPos=vr,this.awaitPos=wr,this.awaitIdentPos=Fr,this.finishNode(xt,Rt&Er?"FunctionDeclaration":"FunctionExpression")},er.parseFunctionParams=function(xt){this.expect(dt.parenL),xt.params=this.parseBindingList(dt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},er.parseClass=function(xt,Rt){this.next();var Ft=this.strict;this.strict=!0,this.parseClassId(xt,Rt),this.parseClassSuper(xt);var Ut=this.enterClassBody(),sr=this.startNode(),vr=!1;for(sr.body=[],this.expect(dt.braceL);this.type!==dt.braceR;){var wr=this.parseClassElement(xt.superClass!==null);wr&&(sr.body.push(wr),wr.type==="MethodDefinition"&&wr.kind==="constructor"?(vr&&this.raiseRecoverable(wr.start,"Duplicate constructor in the same class"),vr=!0):wr.key&&wr.key.type==="PrivateIdentifier"&&rn(Ut,wr)&&this.raiseRecoverable(wr.key.start,"Identifier '#"+wr.key.name+"' has already been declared"))}return this.strict=Ft,this.next(),xt.body=this.finishNode(sr,"ClassBody"),this.exitClassBody(),this.finishNode(xt,Rt?"ClassDeclaration":"ClassExpression")},er.parseClassElement=function(xt){if(this.eat(dt.semi))return null;var Rt=this.options.ecmaVersion,Ft=this.startNode(),Ut="",sr=!1,vr=!1,wr="method",Fr=!1;if(this.eatContextual("static")){if(Rt>=13&&this.eat(dt.braceL))return this.parseClassStaticBlock(Ft),Ft;this.isClassElementNameStart()||this.type===dt.star?Fr=!0:Ut="static"}if(Ft.static=Fr,!Ut&&Rt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===dt.star)&&!this.canInsertSemicolon()?vr=!0:Ut="async"),!Ut&&(Rt>=9||!vr)&&this.eat(dt.star)&&(sr=!0),!Ut&&!vr&&!sr){var Br=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?wr=Br:Ut=Br)}if(Ut?(Ft.computed=!1,Ft.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Ft.key.name=Ut,this.finishNode(Ft.key,"Identifier")):this.parseClassElementName(Ft),Rt<13||this.type===dt.parenL||wr!=="method"||sr||vr){var ln=!Ft.static&&Dr(Ft,"constructor"),hn=ln&&xt;ln&&wr!=="method"&&this.raise(Ft.key.start,"Constructor can't have get/set modifier"),Ft.kind=ln?"constructor":wr,this.parseClassMethod(Ft,sr,vr,hn)}else this.parseClassField(Ft);return Ft},er.isClassElementNameStart=function(){return this.type===dt.name||this.type===dt.privateId||this.type===dt.num||this.type===dt.string||this.type===dt.bracketL||this.type.keyword},er.parseClassElementName=function(xt){this.type===dt.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),xt.computed=!1,xt.key=this.parsePrivateIdent()):this.parsePropertyName(xt)},er.parseClassMethod=function(xt,Rt,Ft,Ut){var sr=xt.key;xt.kind==="constructor"?(Rt&&this.raise(sr.start,"Constructor can't be a generator"),Ft&&this.raise(sr.start,"Constructor can't be an async method")):xt.static&&Dr(xt,"prototype")&&this.raise(sr.start,"Classes may not have a static property named prototype");var vr=xt.value=this.parseMethod(Rt,Ft,Ut);return xt.kind==="get"&&vr.params.length!==0&&this.raiseRecoverable(vr.start,"getter should have no params"),xt.kind==="set"&&vr.params.length!==1&&this.raiseRecoverable(vr.start,"setter should have exactly one param"),xt.kind==="set"&&vr.params[0].type==="RestElement"&&this.raiseRecoverable(vr.params[0].start,"Setter cannot use rest params"),this.finishNode(xt,"MethodDefinition")},er.parseClassField=function(xt){if(Dr(xt,"constructor")?this.raise(xt.key.start,"Classes can't have a field named 'constructor'"):xt.static&&Dr(xt,"prototype")&&this.raise(xt.key.start,"Classes can't have a static field named 'prototype'"),this.eat(dt.eq)){var Rt=this.currentThisScope(),Ft=Rt.inClassFieldInit;Rt.inClassFieldInit=!0,xt.value=this.parseMaybeAssign(),Rt.inClassFieldInit=Ft}else xt.value=null;return this.semicolon(),this.finishNode(xt,"PropertyDefinition")},er.parseClassStaticBlock=function(xt){xt.body=[];var Rt=this.labels;for(this.labels=[],this.enterScope(Ur|Sr);this.type!==dt.braceR;){var Ft=this.parseStatement(null);xt.body.push(Ft)}return this.next(),this.exitScope(),this.labels=Rt,this.finishNode(xt,"StaticBlock")},er.parseClassId=function(xt,Rt){this.type===dt.name?(xt.id=this.parseIdent(),Rt&&this.checkLValSimple(xt.id,Mn,!1)):(Rt===!0&&this.unexpected(),xt.id=null)},er.parseClassSuper=function(xt){xt.superClass=this.eat(dt._extends)?this.parseExprSubscripts(null,!1):null},er.enterClassBody=function(){var xt={declared:Object.create(null),used:[]};return this.privateNameStack.push(xt),xt.declared},er.exitClassBody=function(){var xt=this.privateNameStack.pop(),Rt=xt.declared,Ft=xt.used;if(this.options.checkPrivateFields)for(var Ut=this.privateNameStack.length,sr=Ut===0?null:this.privateNameStack[Ut-1],vr=0;vr<Ft.length;++vr){var wr=Ft[vr];It(Rt,wr.name)||(sr?sr.used.push(wr):this.raiseRecoverable(wr.start,"Private field '#"+wr.name+"' must be declared in an enclosing class"))}};function rn(xt,Rt){var Ft=Rt.key.name,Ut=xt[Ft],sr="true";return Rt.type==="MethodDefinition"&&(Rt.kind==="get"||Rt.kind==="set")&&(sr=(Rt.static?"s":"i")+Rt.kind),Ut==="iget"&&sr==="iset"||Ut==="iset"&&sr==="iget"||Ut==="sget"&&sr==="sset"||Ut==="sset"&&sr==="sget"?(xt[Ft]="true",!1):Ut?!0:(xt[Ft]=sr,!1)}function Dr(xt,Rt){var Ft=xt.computed,Ut=xt.key;return!Ft&&(Ut.type==="Identifier"&&Ut.name===Rt||Ut.type==="Literal"&&Ut.value===Rt)}er.parseExportAllDeclaration=function(xt,Rt){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(xt.exported=this.parseModuleExportName(),this.checkExport(Rt,xt.exported,this.lastTokStart)):xt.exported=null),this.expectContextual("from"),this.type!==dt.string&&this.unexpected(),xt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(xt,"ExportAllDeclaration")},er.parseExport=function(xt,Rt){if(this.next(),this.eat(dt.star))return this.parseExportAllDeclaration(xt,Rt);if(this.eat(dt._default))return this.checkExport(Rt,"default",this.lastTokStart),xt.declaration=this.parseExportDefaultDeclaration(),this.finishNode(xt,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())xt.declaration=this.parseExportDeclaration(xt),xt.declaration.type==="VariableDeclaration"?this.checkVariableExport(Rt,xt.declaration.declarations):this.checkExport(Rt,xt.declaration.id,xt.declaration.id.start),xt.specifiers=[],xt.source=null;else{if(xt.declaration=null,xt.specifiers=this.parseExportSpecifiers(Rt),this.eatContextual("from"))this.type!==dt.string&&this.unexpected(),xt.source=this.parseExprAtom();else{for(var Ft=0,Ut=xt.specifiers;Ft<Ut.length;Ft+=1){var sr=Ut[Ft];this.checkUnreserved(sr.local),this.checkLocalExport(sr.local),sr.local.type==="Literal"&&this.raise(sr.local.start,"A string literal cannot be used as an exported binding without `from`.")}xt.source=null}this.semicolon()}return this.finishNode(xt,"ExportNamedDeclaration")},er.parseExportDeclaration=function(xt){return this.parseStatement(null)},er.parseExportDefaultDeclaration=function(){var xt;if(this.type===dt._function||(xt=this.isAsyncFunction())){var Rt=this.startNode();return this.next(),xt&&this.next(),this.parseFunction(Rt,Er|Hr,!1,xt)}else if(this.type===dt._class){var Ft=this.startNode();return this.parseClass(Ft,"nullableID")}else{var Ut=this.parseMaybeAssign();return this.semicolon(),Ut}},er.checkExport=function(xt,Rt,Ft){xt&&(typeof Rt!="string"&&(Rt=Rt.type==="Identifier"?Rt.name:Rt.value),It(xt,Rt)&&this.raiseRecoverable(Ft,"Duplicate export '"+Rt+"'"),xt[Rt]=!0)},er.checkPatternExport=function(xt,Rt){var Ft=Rt.type;if(Ft==="Identifier")this.checkExport(xt,Rt,Rt.start);else if(Ft==="ObjectPattern")for(var Ut=0,sr=Rt.properties;Ut<sr.length;Ut+=1){var vr=sr[Ut];this.checkPatternExport(xt,vr)}else if(Ft==="ArrayPattern")for(var wr=0,Fr=Rt.elements;wr<Fr.length;wr+=1){var Br=Fr[wr];Br&&this.checkPatternExport(xt,Br)}else Ft==="Property"?this.checkPatternExport(xt,Rt.value):Ft==="AssignmentPattern"?this.checkPatternExport(xt,Rt.left):Ft==="RestElement"&&this.checkPatternExport(xt,Rt.argument)},er.checkVariableExport=function(xt,Rt){if(xt)for(var Ft=0,Ut=Rt;Ft<Ut.length;Ft+=1){var sr=Ut[Ft];this.checkPatternExport(xt,sr.id)}},er.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},er.parseExportSpecifier=function(xt){var Rt=this.startNode();return Rt.local=this.parseModuleExportName(),Rt.exported=this.eatContextual("as")?this.parseModuleExportName():Rt.local,this.checkExport(xt,Rt.exported,Rt.exported.start),this.finishNode(Rt,"ExportSpecifier")},er.parseExportSpecifiers=function(xt){var Rt=[],Ft=!0;for(this.expect(dt.braceL);!this.eat(dt.braceR);){if(Ft)Ft=!1;else if(this.expect(dt.comma),this.afterTrailingComma(dt.braceR))break;Rt.push(this.parseExportSpecifier(xt))}return Rt},er.parseImport=function(xt){return this.next(),this.type===dt.string?(xt.specifiers=Or,xt.source=this.parseExprAtom()):(xt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),xt.source=this.type===dt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(xt,"ImportDeclaration")},er.parseImportSpecifier=function(){var xt=this.startNode();return xt.imported=this.parseModuleExportName(),this.eatContextual("as")?xt.local=this.parseIdent():(this.checkUnreserved(xt.imported),xt.local=xt.imported),this.checkLValSimple(xt.local,Mn),this.finishNode(xt,"ImportSpecifier")},er.parseImportDefaultSpecifier=function(){var xt=this.startNode();return xt.local=this.parseIdent(),this.checkLValSimple(xt.local,Mn),this.finishNode(xt,"ImportDefaultSpecifier")},er.parseImportNamespaceSpecifier=function(){var xt=this.startNode();return this.next(),this.expectContextual("as"),xt.local=this.parseIdent(),this.checkLValSimple(xt.local,Mn),this.finishNode(xt,"ImportNamespaceSpecifier")},er.parseImportSpecifiers=function(){var xt=[],Rt=!0;if(this.type===dt.name&&(xt.push(this.parseImportDefaultSpecifier()),!this.eat(dt.comma)))return xt;if(this.type===dt.star)return xt.push(this.parseImportNamespaceSpecifier()),xt;for(this.expect(dt.braceL);!this.eat(dt.braceR);){if(Rt)Rt=!1;else if(this.expect(dt.comma),this.afterTrailingComma(dt.braceR))break;xt.push(this.parseImportSpecifier())}return xt},er.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===dt.string){var xt=this.parseLiteral(this.value);return Kt.test(xt.value)&&this.raise(xt.start,"An export name cannot include a lone surrogate."),xt}return this.parseIdent(!0)},er.adaptDirectivePrologue=function(xt){for(var Rt=0;Rt<xt.length&&this.isDirectiveCandidate(xt[Rt]);++Rt)xt[Rt].directive=xt[Rt].expression.raw.slice(1,-1)},er.isDirectiveCandidate=function(xt){return this.options.ecmaVersion>=5&&xt.type==="ExpressionStatement"&&xt.expression.type==="Literal"&&typeof xt.expression.value=="string"&&(this.input[xt.start]==='"'||this.input[xt.start]==="'")};var Yr=_r.prototype;Yr.toAssignable=function(xt,Rt,Ft){if(this.options.ecmaVersion>=6&&xt)switch(xt.type){case"Identifier":this.inAsync&&xt.name==="await"&&this.raise(xt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":xt.type="ObjectPattern",Ft&&this.checkPatternErrors(Ft,!0);for(var Ut=0,sr=xt.properties;Ut<sr.length;Ut+=1){var vr=sr[Ut];this.toAssignable(vr,Rt),vr.type==="RestElement"&&(vr.argument.type==="ArrayPattern"||vr.argument.type==="ObjectPattern")&&this.raise(vr.argument.start,"Unexpected token")}break;case"Property":xt.kind!=="init"&&this.raise(xt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(xt.value,Rt);break;case"ArrayExpression":xt.type="ArrayPattern",Ft&&this.checkPatternErrors(Ft,!0),this.toAssignableList(xt.elements,Rt);break;case"SpreadElement":xt.type="RestElement",this.toAssignable(xt.argument,Rt),xt.argument.type==="AssignmentPattern"&&this.raise(xt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":xt.operator!=="="&&this.raise(xt.left.end,"Only '=' operator can be used for specifying default value."),xt.type="AssignmentPattern",delete xt.operator,this.toAssignable(xt.left,Rt);break;case"ParenthesizedExpression":this.toAssignable(xt.expression,Rt,Ft);break;case"ChainExpression":this.raiseRecoverable(xt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Rt)break;default:this.raise(xt.start,"Assigning to rvalue")}else Ft&&this.checkPatternErrors(Ft,!0);return xt},Yr.toAssignableList=function(xt,Rt){for(var Ft=xt.length,Ut=0;Ut<Ft;Ut++){var sr=xt[Ut];sr&&this.toAssignable(sr,Rt)}if(Ft){var vr=xt[Ft-1];this.options.ecmaVersion===6&&Rt&&vr&&vr.type==="RestElement"&&vr.argument.type!=="Identifier"&&this.unexpected(vr.argument.start)}return xt},Yr.parseSpread=function(xt){var Rt=this.startNode();return this.next(),Rt.argument=this.parseMaybeAssign(!1,xt),this.finishNode(Rt,"SpreadElement")},Yr.parseRestBinding=function(){var xt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==dt.name&&this.unexpected(),xt.argument=this.parseBindingAtom(),this.finishNode(xt,"RestElement")},Yr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case dt.bracketL:var xt=this.startNode();return this.next(),xt.elements=this.parseBindingList(dt.bracketR,!0,!0),this.finishNode(xt,"ArrayPattern");case dt.braceL:return this.parseObj(!0)}return this.parseIdent()},Yr.parseBindingList=function(xt,Rt,Ft,Ut){for(var sr=[],vr=!0;!this.eat(xt);)if(vr?vr=!1:this.expect(dt.comma),Rt&&this.type===dt.comma)sr.push(null);else{if(Ft&&this.afterTrailingComma(xt))break;if(this.type===dt.ellipsis){var wr=this.parseRestBinding();this.parseBindingListItem(wr),sr.push(wr),this.type===dt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(xt);break}else sr.push(this.parseAssignableListItem(Ut))}return sr},Yr.parseAssignableListItem=function(xt){var Rt=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Rt),Rt},Yr.parseBindingListItem=function(xt){return xt},Yr.parseMaybeDefault=function(xt,Rt,Ft){if(Ft=Ft||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(dt.eq))return Ft;var Ut=this.startNodeAt(xt,Rt);return Ut.left=Ft,Ut.right=this.parseMaybeAssign(),this.finishNode(Ut,"AssignmentPattern")},Yr.checkLValSimple=function(xt,Rt,Ft){Rt===void 0&&(Rt=Rn);var Ut=Rt!==Rn;switch(xt.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(xt.name)&&this.raiseRecoverable(xt.start,(Ut?"Binding ":"Assigning to ")+xt.name+" in strict mode"),Ut&&(Rt===Mn&&xt.name==="let"&&this.raiseRecoverable(xt.start,"let is disallowed as a lexically bound name"),Ft&&(It(Ft,xt.name)&&this.raiseRecoverable(xt.start,"Argument name clash"),Ft[xt.name]=!0),Rt!==In&&this.declareName(xt.name,Rt,xt.start));break;case"ChainExpression":this.raiseRecoverable(xt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":Ut&&this.raiseRecoverable(xt.start,"Binding member expression");break;case"ParenthesizedExpression":return Ut&&this.raiseRecoverable(xt.start,"Binding parenthesized expression"),this.checkLValSimple(xt.expression,Rt,Ft);default:this.raise(xt.start,(Ut?"Binding":"Assigning to")+" rvalue")}},Yr.checkLValPattern=function(xt,Rt,Ft){switch(Rt===void 0&&(Rt=Rn),xt.type){case"ObjectPattern":for(var Ut=0,sr=xt.properties;Ut<sr.length;Ut+=1){var vr=sr[Ut];this.checkLValInnerPattern(vr,Rt,Ft)}break;case"ArrayPattern":for(var wr=0,Fr=xt.elements;wr<Fr.length;wr+=1){var Br=Fr[wr];Br&&this.checkLValInnerPattern(Br,Rt,Ft)}break;default:this.checkLValSimple(xt,Rt,Ft)}},Yr.checkLValInnerPattern=function(xt,Rt,Ft){switch(Rt===void 0&&(Rt=Rn),xt.type){case"Property":this.checkLValInnerPattern(xt.value,Rt,Ft);break;case"AssignmentPattern":this.checkLValPattern(xt.left,Rt,Ft);break;case"RestElement":this.checkLValPattern(xt.argument,Rt,Ft);break;default:this.checkLValPattern(xt,Rt,Ft)}};var jr=function(Rt,Ft,Ut,sr,vr){this.token=Rt,this.isExpr=!!Ft,this.preserveSpace=!!Ut,this.override=sr,this.generator=!!vr},Gr={b_stat:new jr("{",!1),b_expr:new jr("{",!0),b_tmpl:new jr("${",!1),p_stat:new jr("(",!1),p_expr:new jr("(",!0),q_tmpl:new jr("`",!0,!0,function(xt){return xt.tryReadTemplateToken()}),f_stat:new jr("function",!1),f_expr:new jr("function",!0),f_expr_gen:new jr("function",!0,!1,null,!0),f_gen:new jr("function",!1,!1,null,!0)},an=_r.prototype;an.initialContext=function(){return[Gr.b_stat]},an.curContext=function(){return this.context[this.context.length-1]},an.braceIsBlock=function(xt){var Rt=this.curContext();return Rt===Gr.f_expr||Rt===Gr.f_stat?!0:xt===dt.colon&&(Rt===Gr.b_stat||Rt===Gr.b_expr)?!Rt.isExpr:xt===dt._return||xt===dt.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):xt===dt._else||xt===dt.semi||xt===dt.eof||xt===dt.parenR||xt===dt.arrow?!0:xt===dt.braceL?Rt===Gr.b_stat:xt===dt._var||xt===dt._const||xt===dt.name?!1:!this.exprAllowed},an.inGeneratorContext=function(){for(var xt=this.context.length-1;xt>=1;xt--){var Rt=this.context[xt];if(Rt.token==="function")return Rt.generator}return!1},an.updateContext=function(xt){var Rt,Ft=this.type;Ft.keyword&&xt===dt.dot?this.exprAllowed=!1:(Rt=Ft.updateContext)?Rt.call(this,xt):this.exprAllowed=Ft.beforeExpr},an.overrideContext=function(xt){this.curContext()!==xt&&(this.context[this.context.length-1]=xt)},dt.parenR.updateContext=dt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var xt=this.context.pop();xt===Gr.b_stat&&this.curContext().token==="function"&&(xt=this.context.pop()),this.exprAllowed=!xt.isExpr},dt.braceL.updateContext=function(xt){this.context.push(this.braceIsBlock(xt)?Gr.b_stat:Gr.b_expr),this.exprAllowed=!0},dt.dollarBraceL.updateContext=function(){this.context.push(Gr.b_tmpl),this.exprAllowed=!0},dt.parenL.updateContext=function(xt){var Rt=xt===dt._if||xt===dt._for||xt===dt._with||xt===dt._while;this.context.push(Rt?Gr.p_stat:Gr.p_expr),this.exprAllowed=!0},dt.incDec.updateContext=function(){},dt._function.updateContext=dt._class.updateContext=function(xt){xt.beforeExpr&&xt!==dt._else&&!(xt===dt.semi&&this.curContext()!==Gr.p_stat)&&!(xt===dt._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((xt===dt.colon||xt===dt.braceL)&&this.curContext()===Gr.b_stat)?this.context.push(Gr.f_expr):this.context.push(Gr.f_stat),this.exprAllowed=!1},dt.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},dt.backQuote.updateContext=function(){this.curContext()===Gr.q_tmpl?this.context.pop():this.context.push(Gr.q_tmpl),this.exprAllowed=!1},dt.star.updateContext=function(xt){if(xt===dt._function){var Rt=this.context.length-1;this.context[Rt]===Gr.f_expr?this.context[Rt]=Gr.f_expr_gen:this.context[Rt]=Gr.f_gen}this.exprAllowed=!0},dt.name.updateContext=function(xt){var Rt=!1;this.options.ecmaVersion>=6&&xt!==dt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Rt=!0),this.exprAllowed=Rt};var Rr=_r.prototype;Rr.checkPropClash=function(xt,Rt,Ft){if(!(this.options.ecmaVersion>=9&&xt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(xt.computed||xt.method||xt.shorthand))){var Ut=xt.key,sr;switch(Ut.type){case"Identifier":sr=Ut.name;break;case"Literal":sr=String(Ut.value);break;default:return}var vr=xt.kind;if(this.options.ecmaVersion>=6){sr==="__proto__"&&vr==="init"&&(Rt.proto&&(Ft?Ft.doubleProto<0&&(Ft.doubleProto=Ut.start):this.raiseRecoverable(Ut.start,"Redefinition of __proto__ property")),Rt.proto=!0);return}sr="$"+sr;var wr=Rt[sr];if(wr){var Fr;vr==="init"?Fr=this.strict&&wr.init||wr.get||wr.set:Fr=wr.init||wr[vr],Fr&&this.raiseRecoverable(Ut.start,"Redefinition of property")}else wr=Rt[sr]={init:!1,get:!1,set:!1};wr[vr]=!0}},Rr.parseExpression=function(xt,Rt){var Ft=this.start,Ut=this.startLoc,sr=this.parseMaybeAssign(xt,Rt);if(this.type===dt.comma){var vr=this.startNodeAt(Ft,Ut);for(vr.expressions=[sr];this.eat(dt.comma);)vr.expressions.push(this.parseMaybeAssign(xt,Rt));return this.finishNode(vr,"SequenceExpression")}return sr},Rr.parseMaybeAssign=function(xt,Rt,Ft){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(xt);this.exprAllowed=!1}var Ut=!1,sr=-1,vr=-1,wr=-1;Rt?(sr=Rt.parenthesizedAssign,vr=Rt.trailingComma,wr=Rt.doubleProto,Rt.parenthesizedAssign=Rt.trailingComma=-1):(Rt=new Yt,Ut=!0);var Fr=this.start,Br=this.startLoc;(this.type===dt.parenL||this.type===dt.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=xt==="await");var ln=this.parseMaybeConditional(xt,Rt);if(Ft&&(ln=Ft.call(this,ln,Fr,Br)),this.type.isAssign){var hn=this.startNodeAt(Fr,Br);return hn.operator=this.value,this.type===dt.eq&&(ln=this.toAssignable(ln,!1,Rt)),Ut||(Rt.parenthesizedAssign=Rt.trailingComma=Rt.doubleProto=-1),Rt.shorthandAssign>=ln.start&&(Rt.shorthandAssign=-1),this.type===dt.eq?this.checkLValPattern(ln):this.checkLValSimple(ln),hn.left=ln,this.next(),hn.right=this.parseMaybeAssign(xt),wr>-1&&(Rt.doubleProto=wr),this.finishNode(hn,"AssignmentExpression")}else Ut&&this.checkExpressionErrors(Rt,!0);return sr>-1&&(Rt.parenthesizedAssign=sr),vr>-1&&(Rt.trailingComma=vr),ln},Rr.parseMaybeConditional=function(xt,Rt){var Ft=this.start,Ut=this.startLoc,sr=this.parseExprOps(xt,Rt);if(this.checkExpressionErrors(Rt))return sr;if(this.eat(dt.question)){var vr=this.startNodeAt(Ft,Ut);return vr.test=sr,vr.consequent=this.parseMaybeAssign(),this.expect(dt.colon),vr.alternate=this.parseMaybeAssign(xt),this.finishNode(vr,"ConditionalExpression")}return sr},Rr.parseExprOps=function(xt,Rt){var Ft=this.start,Ut=this.startLoc,sr=this.parseMaybeUnary(Rt,!1,!1,xt);return this.checkExpressionErrors(Rt)||sr.start===Ft&&sr.type==="ArrowFunctionExpression"?sr:this.parseExprOp(sr,Ft,Ut,-1,xt)},Rr.parseExprOp=function(xt,Rt,Ft,Ut,sr){var vr=this.type.binop;if(vr!=null&&(!sr||this.type!==dt._in)&&vr>Ut){var wr=this.type===dt.logicalOR||this.type===dt.logicalAND,Fr=this.type===dt.coalesce;Fr&&(vr=dt.logicalAND.binop);var Br=this.value;this.next();var ln=this.start,hn=this.startLoc,jn=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,sr),ln,hn,vr,sr),Ts=this.buildBinary(Rt,Ft,xt,jn,Br,wr||Fr);return(wr&&this.type===dt.coalesce||Fr&&(this.type===dt.logicalOR||this.type===dt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Ts,Rt,Ft,Ut,sr)}return xt},Rr.buildBinary=function(xt,Rt,Ft,Ut,sr,vr){Ut.type==="PrivateIdentifier"&&this.raise(Ut.start,"Private identifier can only be left side of binary expression");var wr=this.startNodeAt(xt,Rt);return wr.left=Ft,wr.operator=sr,wr.right=Ut,this.finishNode(wr,vr?"LogicalExpression":"BinaryExpression")},Rr.parseMaybeUnary=function(xt,Rt,Ft,Ut){var sr=this.start,vr=this.startLoc,wr;if(this.isContextual("await")&&this.canAwait)wr=this.parseAwait(Ut),Rt=!0;else if(this.type.prefix){var Fr=this.startNode(),Br=this.type===dt.incDec;Fr.operator=this.value,Fr.prefix=!0,this.next(),Fr.argument=this.parseMaybeUnary(null,!0,Br,Ut),this.checkExpressionErrors(xt,!0),Br?this.checkLValSimple(Fr.argument):this.strict&&Fr.operator==="delete"&&Fr.argument.type==="Identifier"?this.raiseRecoverable(Fr.start,"Deleting local variable in strict mode"):Fr.operator==="delete"&&mn(Fr.argument)?this.raiseRecoverable(Fr.start,"Private fields can not be deleted"):Rt=!0,wr=this.finishNode(Fr,Br?"UpdateExpression":"UnaryExpression")}else if(!Rt&&this.type===dt.privateId)(Ut||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),wr=this.parsePrivateIdent(),this.type!==dt._in&&this.unexpected();else{if(wr=this.parseExprSubscripts(xt,Ut),this.checkExpressionErrors(xt))return wr;for(;this.type.postfix&&!this.canInsertSemicolon();){var ln=this.startNodeAt(sr,vr);ln.operator=this.value,ln.prefix=!1,ln.argument=wr,this.checkLValSimple(wr),this.next(),wr=this.finishNode(ln,"UpdateExpression")}}if(!Ft&&this.eat(dt.starstar))if(Rt)this.unexpected(this.lastTokStart);else return this.buildBinary(sr,vr,wr,this.parseMaybeUnary(null,!1,!1,Ut),"**",!1);else return wr};function mn(xt){return xt.type==="MemberExpression"&&xt.property.type==="PrivateIdentifier"||xt.type==="ChainExpression"&&mn(xt.expression)}Rr.parseExprSubscripts=function(xt,Rt){var Ft=this.start,Ut=this.startLoc,sr=this.parseExprAtom(xt,Rt);if(sr.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return sr;var vr=this.parseSubscripts(sr,Ft,Ut,!1,Rt);return xt&&vr.type==="MemberExpression"&&(xt.parenthesizedAssign>=vr.start&&(xt.parenthesizedAssign=-1),xt.parenthesizedBind>=vr.start&&(xt.parenthesizedBind=-1),xt.trailingComma>=vr.start&&(xt.trailingComma=-1)),vr},Rr.parseSubscripts=function(xt,Rt,Ft,Ut,sr){for(var vr=this.options.ecmaVersion>=8&&xt.type==="Identifier"&&xt.name==="async"&&this.lastTokEnd===xt.end&&!this.canInsertSemicolon()&&xt.end-xt.start===5&&this.potentialArrowAt===xt.start,wr=!1;;){var Fr=this.parseSubscript(xt,Rt,Ft,Ut,vr,wr,sr);if(Fr.optional&&(wr=!0),Fr===xt||Fr.type==="ArrowFunctionExpression"){if(wr){var Br=this.startNodeAt(Rt,Ft);Br.expression=Fr,Fr=this.finishNode(Br,"ChainExpression")}return Fr}xt=Fr}},Rr.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(dt.arrow)},Rr.parseSubscriptAsyncArrow=function(xt,Rt,Ft,Ut){return this.parseArrowExpression(this.startNodeAt(xt,Rt),Ft,!0,Ut)},Rr.parseSubscript=function(xt,Rt,Ft,Ut,sr,vr,wr){var Fr=this.options.ecmaVersion>=11,Br=Fr&&this.eat(dt.questionDot);Ut&&Br&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var ln=this.eat(dt.bracketL);if(ln||Br&&this.type!==dt.parenL&&this.type!==dt.backQuote||this.eat(dt.dot)){var hn=this.startNodeAt(Rt,Ft);hn.object=xt,ln?(hn.property=this.parseExpression(),this.expect(dt.bracketR)):this.type===dt.privateId&&xt.type!=="Super"?hn.property=this.parsePrivateIdent():hn.property=this.parseIdent(this.options.allowReserved!=="never"),hn.computed=!!ln,Fr&&(hn.optional=Br),xt=this.finishNode(hn,"MemberExpression")}else if(!Ut&&this.eat(dt.parenL)){var jn=new Yt,Ts=this.yieldPos,Cs=this.awaitPos,Ls=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var yo=this.parseExprList(dt.parenR,this.options.ecmaVersion>=8,!1,jn);if(sr&&!Br&&this.shouldParseAsyncArrow())return this.checkPatternErrors(jn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Ts,this.awaitPos=Cs,this.awaitIdentPos=Ls,this.parseSubscriptAsyncArrow(Rt,Ft,yo,wr);this.checkExpressionErrors(jn,!0),this.yieldPos=Ts||this.yieldPos,this.awaitPos=Cs||this.awaitPos,this.awaitIdentPos=Ls||this.awaitIdentPos;var kn=this.startNodeAt(Rt,Ft);kn.callee=xt,kn.arguments=yo,Fr&&(kn.optional=Br),xt=this.finishNode(kn,"CallExpression")}else if(this.type===dt.backQuote){(Br||vr)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Tn=this.startNodeAt(Rt,Ft);Tn.tag=xt,Tn.quasi=this.parseTemplate({isTagged:!0}),xt=this.finishNode(Tn,"TaggedTemplateExpression")}return xt},Rr.parseExprAtom=function(xt,Rt,Ft){this.type===dt.slash&&this.readRegexp();var Ut,sr=this.potentialArrowAt===this.start;switch(this.type){case dt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Ut=this.startNode(),this.next(),this.type===dt.parenL&&!this.allowDirectSuper&&this.raise(Ut.start,"super() call outside constructor of a subclass"),this.type!==dt.dot&&this.type!==dt.bracketL&&this.type!==dt.parenL&&this.unexpected(),this.finishNode(Ut,"Super");case dt._this:return Ut=this.startNode(),this.next(),this.finishNode(Ut,"ThisExpression");case dt.name:var vr=this.start,wr=this.startLoc,Fr=this.containsEsc,Br=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Fr&&Br.name==="async"&&!this.canInsertSemicolon()&&this.eat(dt._function))return this.overrideContext(Gr.f_expr),this.parseFunction(this.startNodeAt(vr,wr),0,!1,!0,Rt);if(sr&&!this.canInsertSemicolon()){if(this.eat(dt.arrow))return this.parseArrowExpression(this.startNodeAt(vr,wr),[Br],!1,Rt);if(this.options.ecmaVersion>=8&&Br.name==="async"&&this.type===dt.name&&!Fr&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Br=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(dt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(vr,wr),[Br],!0,Rt)}return Br;case dt.regexp:var ln=this.value;return Ut=this.parseLiteral(ln.value),Ut.regex={pattern:ln.pattern,flags:ln.flags},Ut;case dt.num:case dt.string:return this.parseLiteral(this.value);case dt._null:case dt._true:case dt._false:return Ut=this.startNode(),Ut.value=this.type===dt._null?null:this.type===dt._true,Ut.raw=this.type.keyword,this.next(),this.finishNode(Ut,"Literal");case dt.parenL:var hn=this.start,jn=this.parseParenAndDistinguishExpression(sr,Rt);return xt&&(xt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(jn)&&(xt.parenthesizedAssign=hn),xt.parenthesizedBind<0&&(xt.parenthesizedBind=hn)),jn;case dt.bracketL:return Ut=this.startNode(),this.next(),Ut.elements=this.parseExprList(dt.bracketR,!0,!0,xt),this.finishNode(Ut,"ArrayExpression");case dt.braceL:return this.overrideContext(Gr.b_expr),this.parseObj(!1,xt);case dt._function:return Ut=this.startNode(),this.next(),this.parseFunction(Ut,0);case dt._class:return this.parseClass(this.startNode(),!1);case dt._new:return this.parseNew();case dt.backQuote:return this.parseTemplate();case dt._import:return this.options.ecmaVersion>=11?this.parseExprImport(Ft):this.unexpected();default:return this.parseExprAtomDefault()}},Rr.parseExprAtomDefault=function(){this.unexpected()},Rr.parseExprImport=function(xt){var Rt=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===dt.parenL&&!xt)return this.parseDynamicImport(Rt);if(this.type===dt.dot){var Ft=this.startNodeAt(Rt.start,Rt.loc&&Rt.loc.start);return Ft.name="import",Rt.meta=this.finishNode(Ft,"Identifier"),this.parseImportMeta(Rt)}else this.unexpected()},Rr.parseDynamicImport=function(xt){if(this.next(),xt.source=this.parseMaybeAssign(),!this.eat(dt.parenR)){var Rt=this.start;this.eat(dt.comma)&&this.eat(dt.parenR)?this.raiseRecoverable(Rt,"Trailing comma is not allowed in import()"):this.unexpected(Rt)}return this.finishNode(xt,"ImportExpression")},Rr.parseImportMeta=function(xt){this.next();var Rt=this.containsEsc;return xt.property=this.parseIdent(!0),xt.property.name!=="meta"&&this.raiseRecoverable(xt.property.start,"The only valid meta property for import is 'import.meta'"),Rt&&this.raiseRecoverable(xt.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(xt.start,"Cannot use 'import.meta' outside a module"),this.finishNode(xt,"MetaProperty")},Rr.parseLiteral=function(xt){var Rt=this.startNode();return Rt.value=xt,Rt.raw=this.input.slice(this.start,this.end),Rt.raw.charCodeAt(Rt.raw.length-1)===110&&(Rt.bigint=Rt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(Rt,"Literal")},Rr.parseParenExpression=function(){this.expect(dt.parenL);var xt=this.parseExpression();return this.expect(dt.parenR),xt},Rr.shouldParseArrow=function(xt){return!this.canInsertSemicolon()},Rr.parseParenAndDistinguishExpression=function(xt,Rt){var Ft=this.start,Ut=this.startLoc,sr,vr=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var wr=this.start,Fr=this.startLoc,Br=[],ln=!0,hn=!1,jn=new Yt,Ts=this.yieldPos,Cs=this.awaitPos,Ls;for(this.yieldPos=0,this.awaitPos=0;this.type!==dt.parenR;)if(ln?ln=!1:this.expect(dt.comma),vr&&this.afterTrailingComma(dt.parenR,!0)){hn=!0;break}else if(this.type===dt.ellipsis){Ls=this.start,Br.push(this.parseParenItem(this.parseRestBinding())),this.type===dt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Br.push(this.parseMaybeAssign(!1,jn,this.parseParenItem));var yo=this.lastTokEnd,kn=this.lastTokEndLoc;if(this.expect(dt.parenR),xt&&this.shouldParseArrow(Br)&&this.eat(dt.arrow))return this.checkPatternErrors(jn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ts,this.awaitPos=Cs,this.parseParenArrowList(Ft,Ut,Br,Rt);(!Br.length||hn)&&this.unexpected(this.lastTokStart),Ls&&this.unexpected(Ls),this.checkExpressionErrors(jn,!0),this.yieldPos=Ts||this.yieldPos,this.awaitPos=Cs||this.awaitPos,Br.length>1?(sr=this.startNodeAt(wr,Fr),sr.expressions=Br,this.finishNodeAt(sr,"SequenceExpression",yo,kn)):sr=Br[0]}else sr=this.parseParenExpression();if(this.options.preserveParens){var Tn=this.startNodeAt(Ft,Ut);return Tn.expression=sr,this.finishNode(Tn,"ParenthesizedExpression")}else return sr},Rr.parseParenItem=function(xt){return xt},Rr.parseParenArrowList=function(xt,Rt,Ft,Ut){return this.parseArrowExpression(this.startNodeAt(xt,Rt),Ft,!1,Ut)};var Rs=[];Rr.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var xt=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===dt.dot){var Rt=this.startNodeAt(xt.start,xt.loc&&xt.loc.start);Rt.name="new",xt.meta=this.finishNode(Rt,"Identifier"),this.next();var Ft=this.containsEsc;return xt.property=this.parseIdent(!0),xt.property.name!=="target"&&this.raiseRecoverable(xt.property.start,"The only valid meta property for new is 'new.target'"),Ft&&this.raiseRecoverable(xt.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(xt.start,"'new.target' can only be used in functions and class static block"),this.finishNode(xt,"MetaProperty")}var Ut=this.start,sr=this.startLoc;return xt.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),Ut,sr,!0,!1),this.eat(dt.parenL)?xt.arguments=this.parseExprList(dt.parenR,this.options.ecmaVersion>=8,!1):xt.arguments=Rs,this.finishNode(xt,"NewExpression")},Rr.parseTemplateElement=function(xt){var Rt=xt.isTagged,Ft=this.startNode();return this.type===dt.invalidTemplate?(Rt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Ft.value={raw:this.value,cooked:null}):Ft.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Ft.tail=this.type===dt.backQuote,this.finishNode(Ft,"TemplateElement")},Rr.parseTemplate=function(xt){xt===void 0&&(xt={});var Rt=xt.isTagged;Rt===void 0&&(Rt=!1);var Ft=this.startNode();this.next(),Ft.expressions=[];var Ut=this.parseTemplateElement({isTagged:Rt});for(Ft.quasis=[Ut];!Ut.tail;)this.type===dt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(dt.dollarBraceL),Ft.expressions.push(this.parseExpression()),this.expect(dt.braceR),Ft.quasis.push(Ut=this.parseTemplateElement({isTagged:Rt}));return this.next(),this.finishNode(Ft,"TemplateLiteral")},Rr.isAsyncProp=function(xt){return!xt.computed&&xt.key.type==="Identifier"&&xt.key.name==="async"&&(this.type===dt.name||this.type===dt.num||this.type===dt.string||this.type===dt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===dt.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))},Rr.parseObj=function(xt,Rt){var Ft=this.startNode(),Ut=!0,sr={};for(Ft.properties=[],this.next();!this.eat(dt.braceR);){if(Ut)Ut=!1;else if(this.expect(dt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(dt.braceR))break;var vr=this.parseProperty(xt,Rt);xt||this.checkPropClash(vr,sr,Rt),Ft.properties.push(vr)}return this.finishNode(Ft,xt?"ObjectPattern":"ObjectExpression")},Rr.parseProperty=function(xt,Rt){var Ft=this.startNode(),Ut,sr,vr,wr;if(this.options.ecmaVersion>=9&&this.eat(dt.ellipsis))return xt?(Ft.argument=this.parseIdent(!1),this.type===dt.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(Ft,"RestElement")):(Ft.argument=this.parseMaybeAssign(!1,Rt),this.type===dt.comma&&Rt&&Rt.trailingComma<0&&(Rt.trailingComma=this.start),this.finishNode(Ft,"SpreadElement"));this.options.ecmaVersion>=6&&(Ft.method=!1,Ft.shorthand=!1,(xt||Rt)&&(vr=this.start,wr=this.startLoc),xt||(Ut=this.eat(dt.star)));var Fr=this.containsEsc;return this.parsePropertyName(Ft),!xt&&!Fr&&this.options.ecmaVersion>=8&&!Ut&&this.isAsyncProp(Ft)?(sr=!0,Ut=this.options.ecmaVersion>=9&&this.eat(dt.star),this.parsePropertyName(Ft)):sr=!1,this.parsePropertyValue(Ft,xt,Ut,sr,vr,wr,Rt,Fr),this.finishNode(Ft,"Property")},Rr.parseGetterSetter=function(xt){xt.kind=xt.key.name,this.parsePropertyName(xt),xt.value=this.parseMethod(!1);var Rt=xt.kind==="get"?0:1;if(xt.value.params.length!==Rt){var Ft=xt.value.start;xt.kind==="get"?this.raiseRecoverable(Ft,"getter should have no params"):this.raiseRecoverable(Ft,"setter should have exactly one param")}else xt.kind==="set"&&xt.value.params[0].type==="RestElement"&&this.raiseRecoverable(xt.value.params[0].start,"Setter cannot use rest params")},Rr.parsePropertyValue=function(xt,Rt,Ft,Ut,sr,vr,wr,Fr){(Ft||Ut)&&this.type===dt.colon&&this.unexpected(),this.eat(dt.colon)?(xt.value=Rt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,wr),xt.kind="init"):this.options.ecmaVersion>=6&&this.type===dt.parenL?(Rt&&this.unexpected(),xt.kind="init",xt.method=!0,xt.value=this.parseMethod(Ft,Ut)):!Rt&&!Fr&&this.options.ecmaVersion>=5&&!xt.computed&&xt.key.type==="Identifier"&&(xt.key.name==="get"||xt.key.name==="set")&&this.type!==dt.comma&&this.type!==dt.braceR&&this.type!==dt.eq?((Ft||Ut)&&this.unexpected(),this.parseGetterSetter(xt)):this.options.ecmaVersion>=6&&!xt.computed&&xt.key.type==="Identifier"?((Ft||Ut)&&this.unexpected(),this.checkUnreserved(xt.key),xt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=sr),xt.kind="init",Rt?xt.value=this.parseMaybeDefault(sr,vr,this.copyNode(xt.key)):this.type===dt.eq&&wr?(wr.shorthandAssign<0&&(wr.shorthandAssign=this.start),xt.value=this.parseMaybeDefault(sr,vr,this.copyNode(xt.key))):xt.value=this.copyNode(xt.key),xt.shorthand=!0):this.unexpected()},Rr.parsePropertyName=function(xt){if(this.options.ecmaVersion>=6){if(this.eat(dt.bracketL))return xt.computed=!0,xt.key=this.parseMaybeAssign(),this.expect(dt.bracketR),xt.key;xt.computed=!1}return xt.key=this.type===dt.num||this.type===dt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Rr.initFunction=function(xt){xt.id=null,this.options.ecmaVersion>=6&&(xt.generator=xt.expression=!1),this.options.ecmaVersion>=8&&(xt.async=!1)},Rr.parseMethod=function(xt,Rt,Ft){var Ut=this.startNode(),sr=this.yieldPos,vr=this.awaitPos,wr=this.awaitIdentPos;return this.initFunction(Ut),this.options.ecmaVersion>=6&&(Ut.generator=xt),this.options.ecmaVersion>=8&&(Ut.async=!!Rt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(on(Rt,Ut.generator)|Sr|(Ft?dr:0)),this.expect(dt.parenL),Ut.params=this.parseBindingList(dt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Ut,!1,!0,!1),this.yieldPos=sr,this.awaitPos=vr,this.awaitIdentPos=wr,this.finishNode(Ut,"FunctionExpression")},Rr.parseArrowExpression=function(xt,Rt,Ft,Ut){var sr=this.yieldPos,vr=this.awaitPos,wr=this.awaitIdentPos;return this.enterScope(on(Ft,!1)|qt),this.initFunction(xt),this.options.ecmaVersion>=8&&(xt.async=!!Ft),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,xt.params=this.toAssignableList(Rt,!0),this.parseFunctionBody(xt,!0,!1,Ut),this.yieldPos=sr,this.awaitPos=vr,this.awaitIdentPos=wr,this.finishNode(xt,"ArrowFunctionExpression")},Rr.parseFunctionBody=function(xt,Rt,Ft,Ut){var sr=Rt&&this.type!==dt.braceL,vr=this.strict,wr=!1;if(sr)xt.body=this.parseMaybeAssign(Ut),xt.expression=!0,this.checkParams(xt,!1);else{var Fr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(xt.params);(!vr||Fr)&&(wr=this.strictDirective(this.end),wr&&Fr&&this.raiseRecoverable(xt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Br=this.labels;this.labels=[],wr&&(this.strict=!0),this.checkParams(xt,!vr&&!wr&&!Rt&&!Ft&&this.isSimpleParamList(xt.params)),this.strict&&xt.id&&this.checkLValSimple(xt.id,In),xt.body=this.parseBlock(!1,void 0,wr&&!vr),xt.expression=!1,this.adaptDirectivePrologue(xt.body.body),this.labels=Br}this.exitScope()},Rr.isSimpleParamList=function(xt){for(var Rt=0,Ft=xt;Rt<Ft.length;Rt+=1){var Ut=Ft[Rt];if(Ut.type!=="Identifier")return!1}return!0},Rr.checkParams=function(xt,Rt){for(var Ft=Object.create(null),Ut=0,sr=xt.params;Ut<sr.length;Ut+=1){var vr=sr[Ut];this.checkLValInnerPattern(vr,Nn,Rt?null:Ft)}},Rr.parseExprList=function(xt,Rt,Ft,Ut){for(var sr=[],vr=!0;!this.eat(xt);){if(vr)vr=!1;else if(this.expect(dt.comma),Rt&&this.afterTrailingComma(xt))break;var wr=void 0;Ft&&this.type===dt.comma?wr=null:this.type===dt.ellipsis?(wr=this.parseSpread(Ut),Ut&&this.type===dt.comma&&Ut.trailingComma<0&&(Ut.trailingComma=this.start)):wr=this.parseMaybeAssign(!1,Ut),sr.push(wr)}return sr},Rr.checkUnreserved=function(xt){var Rt=xt.start,Ft=xt.end,Ut=xt.name;if(this.inGenerator&&Ut==="yield"&&this.raiseRecoverable(Rt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Ut==="await"&&this.raiseRecoverable(Rt,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&Ut==="arguments"&&this.raiseRecoverable(Rt,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(Ut==="arguments"||Ut==="await")&&this.raise(Rt,"Cannot use "+Ut+" in class static initialization block"),this.keywords.test(Ut)&&this.raise(Rt,"Unexpected keyword '"+Ut+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Rt,Ft).indexOf("\\")!==-1)){var sr=this.strict?this.reservedWordsStrict:this.reservedWords;sr.test(Ut)&&(!this.inAsync&&Ut==="await"&&this.raiseRecoverable(Rt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Rt,"The keyword '"+Ut+"' is reserved"))}},Rr.parseIdent=function(xt){var Rt=this.parseIdentNode();return this.next(!!xt),this.finishNode(Rt,"Identifier"),xt||(this.checkUnreserved(Rt),Rt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Rt.start)),Rt},Rr.parseIdentNode=function(){var xt=this.startNode();return this.type===dt.name?xt.name=this.value:this.type.keyword?(xt.name=this.type.keyword,(xt.name==="class"||xt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=dt.name):this.unexpected(),xt},Rr.parsePrivateIdent=function(){var xt=this.startNode();return this.type===dt.privateId?xt.name=this.value:this.unexpected(),this.next(),this.finishNode(xt,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(xt.start,"Private field '#"+xt.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(xt)),xt},Rr.parseYield=function(xt){this.yieldPos||(this.yieldPos=this.start);var Rt=this.startNode();return this.next(),this.type===dt.semi||this.canInsertSemicolon()||this.type!==dt.star&&!this.type.startsExpr?(Rt.delegate=!1,Rt.argument=null):(Rt.delegate=this.eat(dt.star),Rt.argument=this.parseMaybeAssign(xt)),this.finishNode(Rt,"YieldExpression")},Rr.parseAwait=function(xt){this.awaitPos||(this.awaitPos=this.start);var Rt=this.startNode();return this.next(),Rt.argument=this.parseMaybeUnary(null,!0,!1,xt),this.finishNode(Rt,"AwaitExpression")};var ps=_r.prototype;ps.raise=function(xt,Rt){var Ft=Ht(this.input,xt);Rt+=" ("+Ft.line+":"+Ft.column+")";var Ut=new SyntaxError(Rt);throw Ut.pos=xt,Ut.loc=Ft,Ut.raisedAt=this.pos,Ut},ps.raiseRecoverable=ps.raise,ps.curPosition=function(){if(this.options.locations)return new Wt(this.curLine,this.pos-this.lineStart)};var Xn=_r.prototype,ls=function(Rt){this.flags=Rt,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Xn.enterScope=function(xt){this.scopeStack.push(new ls(xt))},Xn.exitScope=function(){this.scopeStack.pop()},Xn.treatFunctionsAsVarInScope=function(xt){return xt.flags&gr||!this.inModule&&xt.flags&pr},Xn.declareName=function(xt,Rt,Ft){var Ut=!1;if(Rt===Mn){var sr=this.currentScope();Ut=sr.lexical.indexOf(xt)>-1||sr.functions.indexOf(xt)>-1||sr.var.indexOf(xt)>-1,sr.lexical.push(xt),this.inModule&&sr.flags&pr&&delete this.undefinedExports[xt]}else if(Rt===Hn){var vr=this.currentScope();vr.lexical.push(xt)}else if(Rt===pn){var wr=this.currentScope();this.treatFunctionsAsVar?Ut=wr.lexical.indexOf(xt)>-1:Ut=wr.lexical.indexOf(xt)>-1||wr.var.indexOf(xt)>-1,wr.functions.push(xt)}else for(var Fr=this.scopeStack.length-1;Fr>=0;--Fr){var Br=this.scopeStack[Fr];if(Br.lexical.indexOf(xt)>-1&&!(Br.flags&xr&&Br.lexical[0]===xt)||!this.treatFunctionsAsVarInScope(Br)&&Br.functions.indexOf(xt)>-1){Ut=!0;break}if(Br.var.push(xt),this.inModule&&Br.flags&pr&&delete this.undefinedExports[xt],Br.flags&tn)break}Ut&&this.raiseRecoverable(Ft,"Identifier '"+xt+"' has already been declared")},Xn.checkLocalExport=function(xt){this.scopeStack[0].lexical.indexOf(xt.name)===-1&&this.scopeStack[0].var.indexOf(xt.name)===-1&&(this.undefinedExports[xt.name]=xt)},Xn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Xn.currentVarScope=function(){for(var xt=this.scopeStack.length-1;;xt--){var Rt=this.scopeStack[xt];if(Rt.flags&tn)return Rt}},Xn.currentThisScope=function(){for(var xt=this.scopeStack.length-1;;xt--){var Rt=this.scopeStack[xt];if(Rt.flags&tn&&!(Rt.flags&qt))return Rt}};var Ns=function(Rt,Ft,Ut){this.type="",this.start=Ft,this.end=0,Rt.options.locations&&(this.loc=new zt(Rt,Ut)),Rt.options.directSourceFile&&(this.sourceFile=Rt.options.directSourceFile),Rt.options.ranges&&(this.range=[Ft,0])},ms=_r.prototype;ms.startNode=function(){return new Ns(this,this.start,this.startLoc)},ms.startNodeAt=function(xt,Rt){return new Ns(this,xt,Rt)};function no(xt,Rt,Ft,Ut){return xt.type=Rt,xt.end=Ft,this.options.locations&&(xt.loc.end=Ut),this.options.ranges&&(xt.range[1]=Ft),xt}ms.finishNode=function(xt,Rt){return no.call(this,xt,Rt,this.lastTokEnd,this.lastTokEndLoc)},ms.finishNodeAt=function(xt,Rt,Ft,Ut){return no.call(this,xt,Rt,Ft,Ut)},ms.copyNode=function(xt){var Rt=new Ns(this,xt.start,this.startLoc);for(var Ft in xt)Rt[Ft]=xt[Ft];return Rt};var Vs="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",io=Vs+" Extended_Pictographic",us=io,cs=us+" EBase EComp EMod EPres ExtPict",Gs=cs,Jr=Gs,hs={9:Vs,10:io,11:us,12:cs,13:Gs,14:Jr},Ks="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ws={9:"",10:"",11:"",12:"",13:"",14:Ks},Zn="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ho="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",so=ho+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",fo=so+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",po=fo+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",oo=po+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",fs=oo+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",_s={9:ho,10:so,11:fo,12:po,13:oo,14:fs},Is={};function Es(xt){var Rt=Is[xt]={binary:Dt(hs[xt]+" "+Zn),binaryOfStrings:Dt(ws[xt]),nonBinary:{General_Category:Dt(Zn),Script:Dt(_s[xt])}};Rt.nonBinary.Script_Extensions=Rt.nonBinary.Script,Rt.nonBinary.gc=Rt.nonBinary.General_Category,Rt.nonBinary.sc=Rt.nonBinary.Script,Rt.nonBinary.scx=Rt.nonBinary.Script_Extensions}for(var Xs=0,gs=[9,10,11,12,13,14];Xs<gs.length;Xs+=1){var gn=gs[Xs];Es(gn)}var Xr=_r.prototype,Qn=function(Rt){this.parser=Rt,this.validFlags="gim"+(Rt.options.ecmaVersion>=6?"uy":"")+(Rt.options.ecmaVersion>=9?"s":"")+(Rt.options.ecmaVersion>=13?"d":"")+(Rt.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Is[Rt.options.ecmaVersion>=14?14:Rt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Qn.prototype.reset=function(Rt,Ft,Ut){var sr=Ut.indexOf("v")!==-1,vr=Ut.indexOf("u")!==-1;this.start=Rt|0,this.source=Ft+"",this.flags=Ut,sr&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=vr&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=vr&&this.parser.options.ecmaVersion>=9)},Qn.prototype.raise=function(Rt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Rt)},Qn.prototype.at=function(Rt,Ft){Ft===void 0&&(Ft=!1);var Ut=this.source,sr=Ut.length;if(Rt>=sr)return-1;var vr=Ut.charCodeAt(Rt);if(!(Ft||this.switchU)||vr<=55295||vr>=57344||Rt+1>=sr)return vr;var wr=Ut.charCodeAt(Rt+1);return wr>=56320&&wr<=57343?(vr<<10)+wr-56613888:vr},Qn.prototype.nextIndex=function(Rt,Ft){Ft===void 0&&(Ft=!1);var Ut=this.source,sr=Ut.length;if(Rt>=sr)return sr;var vr=Ut.charCodeAt(Rt),wr;return!(Ft||this.switchU)||vr<=55295||vr>=57344||Rt+1>=sr||(wr=Ut.charCodeAt(Rt+1))<56320||wr>57343?Rt+1:Rt+2},Qn.prototype.current=function(Rt){return Rt===void 0&&(Rt=!1),this.at(this.pos,Rt)},Qn.prototype.lookahead=function(Rt){return Rt===void 0&&(Rt=!1),this.at(this.nextIndex(this.pos,Rt),Rt)},Qn.prototype.advance=function(Rt){Rt===void 0&&(Rt=!1),this.pos=this.nextIndex(this.pos,Rt)},Qn.prototype.eat=function(Rt,Ft){return Ft===void 0&&(Ft=!1),this.current(Ft)===Rt?(this.advance(Ft),!0):!1},Qn.prototype.eatChars=function(Rt,Ft){Ft===void 0&&(Ft=!1);for(var Ut=this.pos,sr=0,vr=Rt;sr<vr.length;sr+=1){var wr=vr[sr],Fr=this.at(Ut,Ft);if(Fr===-1||Fr!==wr)return!1;Ut=this.nextIndex(Ut,Ft)}return this.pos=Ut,!0},Xr.validateRegExpFlags=function(xt){for(var Rt=xt.validFlags,Ft=xt.flags,Ut=!1,sr=!1,vr=0;vr<Ft.length;vr++){var wr=Ft.charAt(vr);Rt.indexOf(wr)===-1&&this.raise(xt.start,"Invalid regular expression flag"),Ft.indexOf(wr,vr+1)>-1&&this.raise(xt.start,"Duplicate regular expression flag"),wr==="u"&&(Ut=!0),wr==="v"&&(sr=!0)}this.options.ecmaVersion>=15&&Ut&&sr&&this.raise(xt.start,"Invalid regular expression flag")},Xr.validateRegExpPattern=function(xt){this.regexp_pattern(xt),!xt.switchN&&this.options.ecmaVersion>=9&&xt.groupNames.length>0&&(xt.switchN=!0,this.regexp_pattern(xt))},Xr.regexp_pattern=function(xt){xt.pos=0,xt.lastIntValue=0,xt.lastStringValue="",xt.lastAssertionIsQuantifiable=!1,xt.numCapturingParens=0,xt.maxBackReference=0,xt.groupNames.length=0,xt.backReferenceNames.length=0,this.regexp_disjunction(xt),xt.pos!==xt.source.length&&(xt.eat(41)&&xt.raise("Unmatched ')'"),(xt.eat(93)||xt.eat(125))&&xt.raise("Lone quantifier brackets")),xt.maxBackReference>xt.numCapturingParens&&xt.raise("Invalid escape");for(var Rt=0,Ft=xt.backReferenceNames;Rt<Ft.length;Rt+=1){var Ut=Ft[Rt];xt.groupNames.indexOf(Ut)===-1&&xt.raise("Invalid named capture referenced")}},Xr.regexp_disjunction=function(xt){for(this.regexp_alternative(xt);xt.eat(124);)this.regexp_alternative(xt);this.regexp_eatQuantifier(xt,!0)&&xt.raise("Nothing to repeat"),xt.eat(123)&&xt.raise("Lone quantifier brackets")},Xr.regexp_alternative=function(xt){for(;xt.pos<xt.source.length&&this.regexp_eatTerm(xt););},Xr.regexp_eatTerm=function(xt){return this.regexp_eatAssertion(xt)?(xt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(xt)&&xt.switchU&&xt.raise("Invalid quantifier"),!0):(xt.switchU?this.regexp_eatAtom(xt):this.regexp_eatExtendedAtom(xt))?(this.regexp_eatQuantifier(xt),!0):!1},Xr.regexp_eatAssertion=function(xt){var Rt=xt.pos;if(xt.lastAssertionIsQuantifiable=!1,xt.eat(94)||xt.eat(36))return!0;if(xt.eat(92)){if(xt.eat(66)||xt.eat(98))return!0;xt.pos=Rt}if(xt.eat(40)&&xt.eat(63)){var Ft=!1;if(this.options.ecmaVersion>=9&&(Ft=xt.eat(60)),xt.eat(61)||xt.eat(33))return this.regexp_disjunction(xt),xt.eat(41)||xt.raise("Unterminated group"),xt.lastAssertionIsQuantifiable=!Ft,!0}return xt.pos=Rt,!1},Xr.regexp_eatQuantifier=function(xt,Rt){return Rt===void 0&&(Rt=!1),this.regexp_eatQuantifierPrefix(xt,Rt)?(xt.eat(63),!0):!1},Xr.regexp_eatQuantifierPrefix=function(xt,Rt){return xt.eat(42)||xt.eat(43)||xt.eat(63)||this.regexp_eatBracedQuantifier(xt,Rt)},Xr.regexp_eatBracedQuantifier=function(xt,Rt){var Ft=xt.pos;if(xt.eat(123)){var Ut=0,sr=-1;if(this.regexp_eatDecimalDigits(xt)&&(Ut=xt.lastIntValue,xt.eat(44)&&this.regexp_eatDecimalDigits(xt)&&(sr=xt.lastIntValue),xt.eat(125)))return sr!==-1&&sr<Ut&&!Rt&&xt.raise("numbers out of order in {} quantifier"),!0;xt.switchU&&!Rt&&xt.raise("Incomplete quantifier"),xt.pos=Ft}return!1},Xr.regexp_eatAtom=function(xt){return this.regexp_eatPatternCharacters(xt)||xt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(xt)||this.regexp_eatCharacterClass(xt)||this.regexp_eatUncapturingGroup(xt)||this.regexp_eatCapturingGroup(xt)},Xr.regexp_eatReverseSolidusAtomEscape=function(xt){var Rt=xt.pos;if(xt.eat(92)){if(this.regexp_eatAtomEscape(xt))return!0;xt.pos=Rt}return!1},Xr.regexp_eatUncapturingGroup=function(xt){var Rt=xt.pos;if(xt.eat(40)){if(xt.eat(63)&&xt.eat(58)){if(this.regexp_disjunction(xt),xt.eat(41))return!0;xt.raise("Unterminated group")}xt.pos=Rt}return!1},Xr.regexp_eatCapturingGroup=function(xt){if(xt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(xt):xt.current()===63&&xt.raise("Invalid group"),this.regexp_disjunction(xt),xt.eat(41))return xt.numCapturingParens+=1,!0;xt.raise("Unterminated group")}return!1},Xr.regexp_eatExtendedAtom=function(xt){return xt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(xt)||this.regexp_eatCharacterClass(xt)||this.regexp_eatUncapturingGroup(xt)||this.regexp_eatCapturingGroup(xt)||this.regexp_eatInvalidBracedQuantifier(xt)||this.regexp_eatExtendedPatternCharacter(xt)},Xr.regexp_eatInvalidBracedQuantifier=function(xt){return this.regexp_eatBracedQuantifier(xt,!0)&&xt.raise("Nothing to repeat"),!1},Xr.regexp_eatSyntaxCharacter=function(xt){var Rt=xt.current();return Jn(Rt)?(xt.lastIntValue=Rt,xt.advance(),!0):!1};function Jn(xt){return xt===36||xt>=40&&xt<=43||xt===46||xt===63||xt>=91&&xt<=94||xt>=123&&xt<=125}Xr.regexp_eatPatternCharacters=function(xt){for(var Rt=xt.pos,Ft=0;(Ft=xt.current())!==-1&&!Jn(Ft);)xt.advance();return xt.pos!==Rt},Xr.regexp_eatExtendedPatternCharacter=function(xt){var Rt=xt.current();return Rt!==-1&&Rt!==36&&!(Rt>=40&&Rt<=43)&&Rt!==46&&Rt!==63&&Rt!==91&&Rt!==94&&Rt!==124?(xt.advance(),!0):!1},Xr.regexp_groupSpecifier=function(xt){if(xt.eat(63)){if(this.regexp_eatGroupName(xt)){xt.groupNames.indexOf(xt.lastStringValue)!==-1&&xt.raise("Duplicate capture group name"),xt.groupNames.push(xt.lastStringValue);return}xt.raise("Invalid group")}},Xr.regexp_eatGroupName=function(xt){if(xt.lastStringValue="",xt.eat(60)){if(this.regexp_eatRegExpIdentifierName(xt)&&xt.eat(62))return!0;xt.raise("Invalid capture group name")}return!1},Xr.regexp_eatRegExpIdentifierName=function(xt){if(xt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(xt)){for(xt.lastStringValue+=Bt(xt.lastIntValue);this.regexp_eatRegExpIdentifierPart(xt);)xt.lastStringValue+=Bt(xt.lastIntValue);return!0}return!1},Xr.regexp_eatRegExpIdentifierStart=function(xt){var Rt=xt.pos,Ft=this.options.ecmaVersion>=11,Ut=xt.current(Ft);return xt.advance(Ft),Ut===92&&this.regexp_eatRegExpUnicodeEscapeSequence(xt,Ft)&&(Ut=xt.lastIntValue),mo(Ut)?(xt.lastIntValue=Ut,!0):(xt.pos=Rt,!1)};function mo(xt){return st(xt,!0)||xt===36||xt===95}Xr.regexp_eatRegExpIdentifierPart=function(xt){var Rt=xt.pos,Ft=this.options.ecmaVersion>=11,Ut=xt.current(Ft);return xt.advance(Ft),Ut===92&&this.regexp_eatRegExpUnicodeEscapeSequence(xt,Ft)&&(Ut=xt.lastIntValue),wo(Ut)?(xt.lastIntValue=Ut,!0):(xt.pos=Rt,!1)};function wo(xt){return lt(xt,!0)||xt===36||xt===95||xt===8204||xt===8205}Xr.regexp_eatAtomEscape=function(xt){return this.regexp_eatBackReference(xt)||this.regexp_eatCharacterClassEscape(xt)||this.regexp_eatCharacterEscape(xt)||xt.switchN&&this.regexp_eatKGroupName(xt)?!0:(xt.switchU&&(xt.current()===99&&xt.raise("Invalid unicode escape"),xt.raise("Invalid escape")),!1)},Xr.regexp_eatBackReference=function(xt){var Rt=xt.pos;if(this.regexp_eatDecimalEscape(xt)){var Ft=xt.lastIntValue;if(xt.switchU)return Ft>xt.maxBackReference&&(xt.maxBackReference=Ft),!0;if(Ft<=xt.numCapturingParens)return!0;xt.pos=Rt}return!1},Xr.regexp_eatKGroupName=function(xt){if(xt.eat(107)){if(this.regexp_eatGroupName(xt))return xt.backReferenceNames.push(xt.lastStringValue),!0;xt.raise("Invalid named reference")}return!1},Xr.regexp_eatCharacterEscape=function(xt){return this.regexp_eatControlEscape(xt)||this.regexp_eatCControlLetter(xt)||this.regexp_eatZero(xt)||this.regexp_eatHexEscapeSequence(xt)||this.regexp_eatRegExpUnicodeEscapeSequence(xt,!1)||!xt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(xt)||this.regexp_eatIdentityEscape(xt)},Xr.regexp_eatCControlLetter=function(xt){var Rt=xt.pos;if(xt.eat(99)){if(this.regexp_eatControlLetter(xt))return!0;xt.pos=Rt}return!1},Xr.regexp_eatZero=function(xt){return xt.current()===48&&!zn(xt.lookahead())?(xt.lastIntValue=0,xt.advance(),!0):!1},Xr.regexp_eatControlEscape=function(xt){var Rt=xt.current();return Rt===116?(xt.lastIntValue=9,xt.advance(),!0):Rt===110?(xt.lastIntValue=10,xt.advance(),!0):Rt===118?(xt.lastIntValue=11,xt.advance(),!0):Rt===102?(xt.lastIntValue=12,xt.advance(),!0):Rt===114?(xt.lastIntValue=13,xt.advance(),!0):!1},Xr.regexp_eatControlLetter=function(xt){var Rt=xt.current();return go(Rt)?(xt.lastIntValue=Rt%32,xt.advance(),!0):!1};function go(xt){return xt>=65&&xt<=90||xt>=97&&xt<=122}Xr.regexp_eatRegExpUnicodeEscapeSequence=function(xt,Rt){Rt===void 0&&(Rt=!1);var Ft=xt.pos,Ut=Rt||xt.switchU;if(xt.eat(117)){if(this.regexp_eatFixedHexDigits(xt,4)){var sr=xt.lastIntValue;if(Ut&&sr>=55296&&sr<=56319){var vr=xt.pos;if(xt.eat(92)&&xt.eat(117)&&this.regexp_eatFixedHexDigits(xt,4)){var wr=xt.lastIntValue;if(wr>=56320&&wr<=57343)return xt.lastIntValue=(sr-55296)*1024+(wr-56320)+65536,!0}xt.pos=vr,xt.lastIntValue=sr}return!0}if(Ut&&xt.eat(123)&&this.regexp_eatHexDigits(xt)&&xt.eat(125)&&wt(xt.lastIntValue))return!0;Ut&&xt.raise("Invalid unicode escape"),xt.pos=Ft}return!1};function wt(xt){return xt>=0&&xt<=1114111}Xr.regexp_eatIdentityEscape=function(xt){if(xt.switchU)return this.regexp_eatSyntaxCharacter(xt)?!0:xt.eat(47)?(xt.lastIntValue=47,!0):!1;var Rt=xt.current();return Rt!==99&&(!xt.switchN||Rt!==107)?(xt.lastIntValue=Rt,xt.advance(),!0):!1},Xr.regexp_eatDecimalEscape=function(xt){xt.lastIntValue=0;var Rt=xt.current();if(Rt>=49&&Rt<=57){do xt.lastIntValue=10*xt.lastIntValue+(Rt-48),xt.advance();while((Rt=xt.current())>=48&&Rt<=57);return!0}return!1};var Lt=0,Vt=1,Xt=2;Xr.regexp_eatCharacterClassEscape=function(xt){var Rt=xt.current();if(or(Rt))return xt.lastIntValue=-1,xt.advance(),Vt;var Ft=!1;if(xt.switchU&&this.options.ecmaVersion>=9&&((Ft=Rt===80)||Rt===112)){xt.lastIntValue=-1,xt.advance();var Ut;if(xt.eat(123)&&(Ut=this.regexp_eatUnicodePropertyValueExpression(xt))&&xt.eat(125))return Ft&&Ut===Xt&&xt.raise("Invalid property name"),Ut;xt.raise("Invalid property name")}return Lt};function or(xt){return xt===100||xt===68||xt===115||xt===83||xt===119||xt===87}Xr.regexp_eatUnicodePropertyValueExpression=function(xt){var Rt=xt.pos;if(this.regexp_eatUnicodePropertyName(xt)&&xt.eat(61)){var Ft=xt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(xt)){var Ut=xt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(xt,Ft,Ut),Vt}}if(xt.pos=Rt,this.regexp_eatLoneUnicodePropertyNameOrValue(xt)){var sr=xt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(xt,sr)}return Lt},Xr.regexp_validateUnicodePropertyNameAndValue=function(xt,Rt,Ft){It(xt.unicodeProperties.nonBinary,Rt)||xt.raise("Invalid property name"),xt.unicodeProperties.nonBinary[Rt].test(Ft)||xt.raise("Invalid property value")},Xr.regexp_validateUnicodePropertyNameOrValue=function(xt,Rt){if(xt.unicodeProperties.binary.test(Rt))return Vt;if(xt.switchV&&xt.unicodeProperties.binaryOfStrings.test(Rt))return Xt;xt.raise("Invalid property name")},Xr.regexp_eatUnicodePropertyName=function(xt){var Rt=0;for(xt.lastStringValue="";br(Rt=xt.current());)xt.lastStringValue+=Bt(Rt),xt.advance();return xt.lastStringValue!==""};function br(xt){return go(xt)||xt===95}Xr.regexp_eatUnicodePropertyValue=function(xt){var Rt=0;for(xt.lastStringValue="";$r(Rt=xt.current());)xt.lastStringValue+=Bt(Rt),xt.advance();return xt.lastStringValue!==""};function $r(xt){return br(xt)||zn(xt)}Xr.regexp_eatLoneUnicodePropertyNameOrValue=function(xt){return this.regexp_eatUnicodePropertyValue(xt)},Xr.regexp_eatCharacterClass=function(xt){if(xt.eat(91)){var Rt=xt.eat(94),Ft=this.regexp_classContents(xt);return xt.eat(93)||xt.raise("Unterminated character class"),Rt&&Ft===Xt&&xt.raise("Negated character class may contain strings"),!0}return!1},Xr.regexp_classContents=function(xt){return xt.current()===93?Vt:xt.switchV?this.regexp_classSetExpression(xt):(this.regexp_nonEmptyClassRanges(xt),Vt)},Xr.regexp_nonEmptyClassRanges=function(xt){for(;this.regexp_eatClassAtom(xt);){var Rt=xt.lastIntValue;if(xt.eat(45)&&this.regexp_eatClassAtom(xt)){var Ft=xt.lastIntValue;xt.switchU&&(Rt===-1||Ft===-1)&&xt.raise("Invalid character class"),Rt!==-1&&Ft!==-1&&Rt>Ft&&xt.raise("Range out of order in character class")}}},Xr.regexp_eatClassAtom=function(xt){var Rt=xt.pos;if(xt.eat(92)){if(this.regexp_eatClassEscape(xt))return!0;if(xt.switchU){var Ft=xt.current();(Ft===99||ys(Ft))&&xt.raise("Invalid class escape"),xt.raise("Invalid escape")}xt.pos=Rt}var Ut=xt.current();return Ut!==93?(xt.lastIntValue=Ut,xt.advance(),!0):!1},Xr.regexp_eatClassEscape=function(xt){var Rt=xt.pos;if(xt.eat(98))return xt.lastIntValue=8,!0;if(xt.switchU&&xt.eat(45))return xt.lastIntValue=45,!0;if(!xt.switchU&&xt.eat(99)){if(this.regexp_eatClassControlLetter(xt))return!0;xt.pos=Rt}return this.regexp_eatCharacterClassEscape(xt)||this.regexp_eatCharacterEscape(xt)},Xr.regexp_classSetExpression=function(xt){var Rt=Vt,Ft;if(!this.regexp_eatClassSetRange(xt))if(Ft=this.regexp_eatClassSetOperand(xt)){Ft===Xt&&(Rt=Xt);for(var Ut=xt.pos;xt.eatChars([38,38]);){if(xt.current()!==38&&(Ft=this.regexp_eatClassSetOperand(xt))){Ft!==Xt&&(Rt=Vt);continue}xt.raise("Invalid character in character class")}if(Ut!==xt.pos)return Rt;for(;xt.eatChars([45,45]);)this.regexp_eatClassSetOperand(xt)||xt.raise("Invalid character in character class");if(Ut!==xt.pos)return Rt}else xt.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(xt)){if(Ft=this.regexp_eatClassSetOperand(xt),!Ft)return Rt;Ft===Xt&&(Rt=Xt)}},Xr.regexp_eatClassSetRange=function(xt){var Rt=xt.pos;if(this.regexp_eatClassSetCharacter(xt)){var Ft=xt.lastIntValue;if(xt.eat(45)&&this.regexp_eatClassSetCharacter(xt)){var Ut=xt.lastIntValue;return Ft!==-1&&Ut!==-1&&Ft>Ut&&xt.raise("Range out of order in character class"),!0}xt.pos=Rt}return!1},Xr.regexp_eatClassSetOperand=function(xt){return this.regexp_eatClassSetCharacter(xt)?Vt:this.regexp_eatClassStringDisjunction(xt)||this.regexp_eatNestedClass(xt)},Xr.regexp_eatNestedClass=function(xt){var Rt=xt.pos;if(xt.eat(91)){var Ft=xt.eat(94),Ut=this.regexp_classContents(xt);if(xt.eat(93))return Ft&&Ut===Xt&&xt.raise("Negated character class may contain strings"),Ut;xt.pos=Rt}if(xt.eat(92)){var sr=this.regexp_eatCharacterClassEscape(xt);if(sr)return sr;xt.pos=Rt}return null},Xr.regexp_eatClassStringDisjunction=function(xt){var Rt=xt.pos;if(xt.eatChars([92,113])){if(xt.eat(123)){var Ft=this.regexp_classStringDisjunctionContents(xt);if(xt.eat(125))return Ft}else xt.raise("Invalid escape");xt.pos=Rt}return null},Xr.regexp_classStringDisjunctionContents=function(xt){for(var Rt=this.regexp_classString(xt);xt.eat(124);)this.regexp_classString(xt)===Xt&&(Rt=Xt);return Rt},Xr.regexp_classString=function(xt){for(var Rt=0;this.regexp_eatClassSetCharacter(xt);)Rt++;return Rt===1?Vt:Xt},Xr.regexp_eatClassSetCharacter=function(xt){var Rt=xt.pos;if(xt.eat(92))return this.regexp_eatCharacterEscape(xt)||this.regexp_eatClassSetReservedPunctuator(xt)?!0:xt.eat(98)?(xt.lastIntValue=8,!0):(xt.pos=Rt,!1);var Ft=xt.current();return Ft<0||Ft===xt.lookahead()&&zr(Ft)||Zr(Ft)?!1:(xt.advance(),xt.lastIntValue=Ft,!0)};function zr(xt){return xt===33||xt>=35&&xt<=38||xt>=42&&xt<=44||xt===46||xt>=58&&xt<=64||xt===94||xt===96||xt===126}function Zr(xt){return xt===40||xt===41||xt===45||xt===47||xt>=91&&xt<=93||xt>=123&&xt<=125}Xr.regexp_eatClassSetReservedPunctuator=function(xt){var Rt=xt.current();return wn(Rt)?(xt.lastIntValue=Rt,xt.advance(),!0):!1};function wn(xt){return xt===33||xt===35||xt===37||xt===38||xt===44||xt===45||xt>=58&&xt<=62||xt===64||xt===96||xt===126}Xr.regexp_eatClassControlLetter=function(xt){var Rt=xt.current();return zn(Rt)||Rt===95?(xt.lastIntValue=Rt%32,xt.advance(),!0):!1},Xr.regexp_eatHexEscapeSequence=function(xt){var Rt=xt.pos;if(xt.eat(120)){if(this.regexp_eatFixedHexDigits(xt,2))return!0;xt.switchU&&xt.raise("Invalid escape"),xt.pos=Rt}return!1},Xr.regexp_eatDecimalDigits=function(xt){var Rt=xt.pos,Ft=0;for(xt.lastIntValue=0;zn(Ft=xt.current());)xt.lastIntValue=10*xt.lastIntValue+(Ft-48),xt.advance();return xt.pos!==Rt};function zn(xt){return xt>=48&&xt<=57}Xr.regexp_eatHexDigits=function(xt){var Rt=xt.pos,Ft=0;for(xt.lastIntValue=0;_i(Ft=xt.current());)xt.lastIntValue=16*xt.lastIntValue+es(Ft),xt.advance();return xt.pos!==Rt};function _i(xt){return xt>=48&&xt<=57||xt>=65&&xt<=70||xt>=97&&xt<=102}function es(xt){return xt>=65&&xt<=70?10+(xt-65):xt>=97&&xt<=102?10+(xt-97):xt-48}Xr.regexp_eatLegacyOctalEscapeSequence=function(xt){if(this.regexp_eatOctalDigit(xt)){var Rt=xt.lastIntValue;if(this.regexp_eatOctalDigit(xt)){var Ft=xt.lastIntValue;Rt<=3&&this.regexp_eatOctalDigit(xt)?xt.lastIntValue=Rt*64+Ft*8+xt.lastIntValue:xt.lastIntValue=Rt*8+Ft}else xt.lastIntValue=Rt;return!0}return!1},Xr.regexp_eatOctalDigit=function(xt){var Rt=xt.current();return ys(Rt)?(xt.lastIntValue=Rt-48,xt.advance(),!0):(xt.lastIntValue=0,!1)};function ys(xt){return xt>=48&&xt<=55}Xr.regexp_eatFixedHexDigits=function(xt,Rt){var Ft=xt.pos;xt.lastIntValue=0;for(var Ut=0;Ut<Rt;++Ut){var sr=xt.current();if(!_i(sr))return xt.pos=Ft,!1;xt.lastIntValue=16*xt.lastIntValue+es(sr),xt.advance()}return!0};var Bs=function(Rt){this.type=Rt.type,this.value=Rt.value,this.start=Rt.start,this.end=Rt.end,Rt.options.locations&&(this.loc=new zt(Rt,Rt.startLoc,Rt.endLoc)),Rt.options.ranges&&(this.range=[Rt.start,Rt.end])},yn=_r.prototype;yn.next=function(xt){!xt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Bs(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},yn.getToken=function(){return this.next(),new Bs(this)},typeof Symbol<"u"&&(yn[Symbol.iterator]=function(){var xt=this;return{next:function(){var Rt=xt.getToken();return{done:Rt.type===dt.eof,value:Rt}}}}),yn.nextToken=function(){var xt=this.curContext();if((!xt||!xt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(dt.eof);if(xt.override)return xt.override(this);this.readToken(this.fullCharCodeAtPos())},yn.readToken=function(xt){return st(xt,this.options.ecmaVersion>=6)||xt===92?this.readWord():this.getTokenFromCode(xt)},yn.fullCharCodeAtPos=function(){var xt=this.input.charCodeAt(this.pos);if(xt<=55295||xt>=56320)return xt;var Rt=this.input.charCodeAt(this.pos+1);return Rt<=56319||Rt>=57344?xt:(xt<<10)+Rt-56613888},yn.skipBlockComment=function(){var xt=this.options.onComment&&this.curPosition(),Rt=this.pos,Ft=this.input.indexOf("*/",this.pos+=2);if(Ft===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Ft+2,this.options.locations)for(var Ut=void 0,sr=Rt;(Ut=Et(this.input,sr,this.pos))>-1;)++this.curLine,sr=this.lineStart=Ut;this.options.onComment&&this.options.onComment(!0,this.input.slice(Rt+2,Ft),Rt,this.pos,xt,this.curPosition())},yn.skipLineComment=function(xt){for(var Rt=this.pos,Ft=this.options.onComment&&this.curPosition(),Ut=this.input.charCodeAt(this.pos+=xt);this.pos<this.input.length&&!gt(Ut);)Ut=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Rt+xt,this.pos),Rt,this.pos,Ft,this.curPosition())},yn.skipSpace=function(){e:for(;this.pos<this.input.length;){var xt=this.input.charCodeAt(this.pos);switch(xt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(xt>8&&xt<14||xt>=5760&&_t.test(String.fromCharCode(xt)))++this.pos;else break e}}},yn.finishToken=function(xt,Rt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Ft=this.type;this.type=xt,this.value=Rt,this.updateContext(Ft)},yn.readToken_dot=function(){var xt=this.input.charCodeAt(this.pos+1);if(xt>=48&&xt<=57)return this.readNumber(!0);var Rt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&xt===46&&Rt===46?(this.pos+=3,this.finishToken(dt.ellipsis)):(++this.pos,this.finishToken(dt.dot))},yn.readToken_slash=function(){var xt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):xt===61?this.finishOp(dt.assign,2):this.finishOp(dt.slash,1)},yn.readToken_mult_modulo_exp=function(xt){var Rt=this.input.charCodeAt(this.pos+1),Ft=1,Ut=xt===42?dt.star:dt.modulo;return this.options.ecmaVersion>=7&&xt===42&&Rt===42&&(++Ft,Ut=dt.starstar,Rt=this.input.charCodeAt(this.pos+2)),Rt===61?this.finishOp(dt.assign,Ft+1):this.finishOp(Ut,Ft)},yn.readToken_pipe_amp=function(xt){var Rt=this.input.charCodeAt(this.pos+1);if(Rt===xt){if(this.options.ecmaVersion>=12){var Ft=this.input.charCodeAt(this.pos+2);if(Ft===61)return this.finishOp(dt.assign,3)}return this.finishOp(xt===124?dt.logicalOR:dt.logicalAND,2)}return Rt===61?this.finishOp(dt.assign,2):this.finishOp(xt===124?dt.bitwiseOR:dt.bitwiseAND,1)},yn.readToken_caret=function(){var xt=this.input.charCodeAt(this.pos+1);return xt===61?this.finishOp(dt.assign,2):this.finishOp(dt.bitwiseXOR,1)},yn.readToken_plus_min=function(xt){var Rt=this.input.charCodeAt(this.pos+1);return Rt===xt?Rt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(dt.incDec,2):Rt===61?this.finishOp(dt.assign,2):this.finishOp(dt.plusMin,1)},yn.readToken_lt_gt=function(xt){var Rt=this.input.charCodeAt(this.pos+1),Ft=1;return Rt===xt?(Ft=xt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Ft)===61?this.finishOp(dt.assign,Ft+1):this.finishOp(dt.bitShift,Ft)):Rt===33&&xt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Rt===61&&(Ft=2),this.finishOp(dt.relational,Ft))},yn.readToken_eq_excl=function(xt){var Rt=this.input.charCodeAt(this.pos+1);return Rt===61?this.finishOp(dt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):xt===61&&Rt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(dt.arrow)):this.finishOp(xt===61?dt.eq:dt.prefix,1)},yn.readToken_question=function(){var xt=this.options.ecmaVersion;if(xt>=11){var Rt=this.input.charCodeAt(this.pos+1);if(Rt===46){var Ft=this.input.charCodeAt(this.pos+2);if(Ft<48||Ft>57)return this.finishOp(dt.questionDot,2)}if(Rt===63){if(xt>=12){var Ut=this.input.charCodeAt(this.pos+2);if(Ut===61)return this.finishOp(dt.assign,3)}return this.finishOp(dt.coalesce,2)}}return this.finishOp(dt.question,1)},yn.readToken_numberSign=function(){var xt=this.options.ecmaVersion,Rt=35;if(xt>=13&&(++this.pos,Rt=this.fullCharCodeAtPos(),st(Rt,!0)||Rt===92))return this.finishToken(dt.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Bt(Rt)+"'")},yn.getTokenFromCode=function(xt){switch(xt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(dt.parenL);case 41:return++this.pos,this.finishToken(dt.parenR);case 59:return++this.pos,this.finishToken(dt.semi);case 44:return++this.pos,this.finishToken(dt.comma);case 91:return++this.pos,this.finishToken(dt.bracketL);case 93:return++this.pos,this.finishToken(dt.bracketR);case 123:return++this.pos,this.finishToken(dt.braceL);case 125:return++this.pos,this.finishToken(dt.braceR);case 58:return++this.pos,this.finishToken(dt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(dt.backQuote);case 48:var Rt=this.input.charCodeAt(this.pos+1);if(Rt===120||Rt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Rt===111||Rt===79)return this.readRadixNumber(8);if(Rt===98||Rt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(xt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(xt);case 124:case 38:return this.readToken_pipe_amp(xt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(xt);case 60:case 62:return this.readToken_lt_gt(xt);case 61:case 33:return this.readToken_eq_excl(xt);case 63:return this.readToken_question();case 126:return this.finishOp(dt.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Bt(xt)+"'")},yn.finishOp=function(xt,Rt){var Ft=this.input.slice(this.pos,this.pos+Rt);return this.pos+=Rt,this.finishToken(xt,Ft)},yn.readRegexp=function(){for(var xt,Rt,Ft=this.pos;;){this.pos>=this.input.length&&this.raise(Ft,"Unterminated regular expression");var Ut=this.input.charAt(this.pos);if(St.test(Ut)&&this.raise(Ft,"Unterminated regular expression"),xt)xt=!1;else{if(Ut==="[")Rt=!0;else if(Ut==="]"&&Rt)Rt=!1;else if(Ut==="/"&&!Rt)break;xt=Ut==="\\"}++this.pos}var sr=this.input.slice(Ft,this.pos);++this.pos;var vr=this.pos,wr=this.readWord1();this.containsEsc&&this.unexpected(vr);var Fr=this.regexpState||(this.regexpState=new Qn(this));Fr.reset(Ft,sr,wr),this.validateRegExpFlags(Fr),this.validateRegExpPattern(Fr);var Br=null;try{Br=new RegExp(sr,wr)}catch{}return this.finishToken(dt.regexp,{pattern:sr,flags:wr,value:Br})},yn.readInt=function(xt,Rt,Ft){for(var Ut=this.options.ecmaVersion>=12&&Rt===void 0,sr=Ft&&this.input.charCodeAt(this.pos)===48,vr=this.pos,wr=0,Fr=0,Br=0,ln=Rt??1/0;Br<ln;++Br,++this.pos){var hn=this.input.charCodeAt(this.pos),jn=void 0;if(Ut&&hn===95){sr&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Fr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Br===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Fr=hn;continue}if(hn>=97?jn=hn-97+10:hn>=65?jn=hn-65+10:hn>=48&&hn<=57?jn=hn-48:jn=1/0,jn>=xt)break;Fr=hn,wr=wr*xt+jn}return Ut&&Fr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===vr||Rt!=null&&this.pos-vr!==Rt?null:wr};function vs(xt,Rt){return Rt?parseInt(xt,8):parseFloat(xt.replace(/_/g,""))}function ss(xt){return typeof BigInt!="function"?null:BigInt(xt.replace(/_/g,""))}yn.readRadixNumber=function(xt){var Rt=this.pos;this.pos+=2;var Ft=this.readInt(xt);return Ft==null&&this.raise(this.start+2,"Expected number in radix "+xt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Ft=ss(this.input.slice(Rt,this.pos)),++this.pos):st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(dt.num,Ft)},yn.readNumber=function(xt){var Rt=this.pos;!xt&&this.readInt(10,void 0,!0)===null&&this.raise(Rt,"Invalid number");var Ft=this.pos-Rt>=2&&this.input.charCodeAt(Rt)===48;Ft&&this.strict&&this.raise(Rt,"Invalid number");var Ut=this.input.charCodeAt(this.pos);if(!Ft&&!xt&&this.options.ecmaVersion>=11&&Ut===110){var sr=ss(this.input.slice(Rt,this.pos));return++this.pos,st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(dt.num,sr)}Ft&&/[89]/.test(this.input.slice(Rt,this.pos))&&(Ft=!1),Ut===46&&!Ft&&(++this.pos,this.readInt(10),Ut=this.input.charCodeAt(this.pos)),(Ut===69||Ut===101)&&!Ft&&(Ut=this.input.charCodeAt(++this.pos),(Ut===43||Ut===45)&&++this.pos,this.readInt(10)===null&&this.raise(Rt,"Invalid number")),st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var vr=vs(this.input.slice(Rt,this.pos),Ft);return this.finishToken(dt.num,vr)},yn.readCodePoint=function(){var xt=this.input.charCodeAt(this.pos),Rt;if(xt===123){this.options.ecmaVersion<6&&this.unexpected();var Ft=++this.pos;Rt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Rt>1114111&&this.invalidStringToken(Ft,"Code point out of bounds")}else Rt=this.readHexChar(4);return Rt},yn.readString=function(xt){for(var Rt="",Ft=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Ut=this.input.charCodeAt(this.pos);if(Ut===xt)break;Ut===92?(Rt+=this.input.slice(Ft,this.pos),Rt+=this.readEscapedChar(!1),Ft=this.pos):Ut===8232||Ut===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(gt(Ut)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Rt+=this.input.slice(Ft,this.pos++),this.finishToken(dt.string,Rt)};var _o={};yn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(xt){if(xt===_o)this.readInvalidTemplateToken();else throw xt}this.inTemplateElement=!1},yn.invalidStringToken=function(xt,Rt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw _o;this.raise(xt,Rt)},yn.readTmplToken=function(){for(var xt="",Rt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Ft=this.input.charCodeAt(this.pos);if(Ft===96||Ft===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===dt.template||this.type===dt.invalidTemplate)?Ft===36?(this.pos+=2,this.finishToken(dt.dollarBraceL)):(++this.pos,this.finishToken(dt.backQuote)):(xt+=this.input.slice(Rt,this.pos),this.finishToken(dt.template,xt));if(Ft===92)xt+=this.input.slice(Rt,this.pos),xt+=this.readEscapedChar(!0),Rt=this.pos;else if(gt(Ft)){switch(xt+=this.input.slice(Rt,this.pos),++this.pos,Ft){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:xt+=`
`;break;default:xt+=String.fromCharCode(Ft);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Rt=this.pos}else++this.pos}},yn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(dt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},yn.readEscapedChar=function(xt){var Rt=this.input.charCodeAt(++this.pos);switch(++this.pos,Rt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Bt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),xt){var Ft=this.pos-1;this.invalidStringToken(Ft,"Invalid escape sequence in template string")}default:if(Rt>=48&&Rt<=55){var Ut=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],sr=parseInt(Ut,8);return sr>255&&(Ut=Ut.slice(0,-1),sr=parseInt(Ut,8)),this.pos+=Ut.length-1,Rt=this.input.charCodeAt(this.pos),(Ut!=="0"||Rt===56||Rt===57)&&(this.strict||xt)&&this.invalidStringToken(this.pos-1-Ut.length,xt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(sr)}return gt(Rt)?"":String.fromCharCode(Rt)}},yn.readHexChar=function(xt){var Rt=this.pos,Ft=this.readInt(16,xt);return Ft===null&&this.invalidStringToken(Rt,"Bad character escape sequence"),Ft},yn.readWord1=function(){this.containsEsc=!1;for(var xt="",Rt=!0,Ft=this.pos,Ut=this.options.ecmaVersion>=6;this.pos<this.input.length;){var sr=this.fullCharCodeAtPos();if(lt(sr,Ut))this.pos+=sr<=65535?1:2;else if(sr===92){this.containsEsc=!0,xt+=this.input.slice(Ft,this.pos);var vr=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var wr=this.readCodePoint();(Rt?st:lt)(wr,Ut)||this.invalidStringToken(vr,"Invalid Unicode escape"),xt+=Bt(wr),Ft=this.pos}else break;Rt=!1}return xt+this.input.slice(Ft,this.pos)},yn.readWord=function(){var xt=this.readWord1(),Rt=dt.name;return this.keywords.test(xt)&&(Rt=mt[xt]),this.finishToken(Rt,xt)};var Eo="8.11.3";_r.acorn={Parser:_r,version:Eo,defaultOptions:Zt,Position:Wt,SourceLocation:zt,getLineInfo:Ht,Node:Ns,TokenType:ct,tokTypes:dt,keywordTypes:mt,TokContext:jr,tokContexts:Gr,isIdentifierChar:lt,isIdentifierStart:st,Token:Bs,isNewLine:gt,lineBreak:St,lineBreakG:yt,nonASCIIwhitespace:_t};function xs(xt,Rt){return _r.parse(xt,Rt)}function Po(xt,Rt,Ft){return _r.parseExpressionAt(xt,Rt,Ft)}function Do(xt,Rt){return _r.tokenizer(xt,Rt)}o.Node=Ns,o.Parser=_r,o.Position=Wt,o.SourceLocation=zt,o.TokContext=jr,o.Token=Bs,o.TokenType=ct,o.defaultOptions=Zt,o.getLineInfo=Ht,o.isIdentifierChar=lt,o.isIdentifierStart=st,o.isNewLine=gt,o.keywordTypes=mt,o.lineBreak=St,o.lineBreakG=yt,o.nonASCIIwhitespace=_t,o.parse=xs,o.parseExpressionAt=Po,o.tokContexts=Gr,o.tokTypes=dt,o.tokenizer=Do,o.version=Eo})})(acorn,acorn.exports);var acornExports=acorn.exports,astring={};Object.defineProperty(astring,"__esModule",{value:!0});astring.generate=generate;astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function _classCallCheck(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function _createClass(i,s,o){return s&&_defineProperties(i.prototype,s),i}var stringify$2=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var OPERATOR_PRECEDENCE={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17;astring.NEEDS_PARENTHESES=NEEDS_PARENTHESES;var EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=EXPRESSIONS_PRECEDENCE;function formatSequence(i,s){var o=i.generator;if(i.write("("),s!=null&&s.length>0){o[s[0].type](s[0],i);for(var a=s.length,rt=1;rt<a;rt++){var et=s[rt];i.write(", "),o[et.type](et,i)}}i.write(")")}function expressionNeedsParenthesis(i,s,o,a){var rt=i.expressionsPrecedence[s.type];if(rt===NEEDS_PARENTHESES)return!0;var et=i.expressionsPrecedence[o.type];return rt!==et?!a&&rt===15&&et===14&&o.operator==="**"||rt<et:rt!==13&&rt!==14?!1:s.operator==="**"&&o.operator==="**"?!a:rt===13&&et===13&&(s.operator==="??"||o.operator==="??")?!0:a?OPERATOR_PRECEDENCE[s.operator]<=OPERATOR_PRECEDENCE[o.operator]:OPERATOR_PRECEDENCE[s.operator]<OPERATOR_PRECEDENCE[o.operator]}function formatExpression(i,s,o,a){var rt=i.generator;expressionNeedsParenthesis(i,s,o,a)?(i.write("("),rt[s.type](s,i),i.write(")")):rt[s.type](s,i)}function reindent(i,s,o,a){var rt=s.split(`
`),et=rt.length-1;if(i.write(rt[0].trim()),et>0){i.write(a);for(var ot=1;ot<et;ot++)i.write(o+rt[ot].trim()+a);i.write(o+rt[et].trim())}}function formatComments(i,s,o,a){for(var rt=s.length,et=0;et<rt;et++){var ot=s[et];i.write(o),ot.type[0]==="L"?i.write("// "+ot.value.trim()+`
`,ot):(i.write("/*"),reindent(i,ot.value,o,a),i.write("*/"+a))}}function hasCallExpression(i){for(var s=i;s!=null;){var o=s,a=o.type;if(a[0]==="C"&&a[1]==="a")return!0;if(a[0]==="M"&&a[1]==="e"&&a[2]==="m")s=s.object;else return!1}}function formatVariableDeclaration(i,s){var o=i.generator,a=s.declarations;i.write(s.kind+" ");var rt=a.length;if(rt>0){o.VariableDeclarator(a[0],i);for(var et=1;et<rt;et++)i.write(", "),o.VariableDeclarator(a[et],i)}}var ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement,GENERATOR={Program:function(s,o){var a=o.indent.repeat(o.indentLevel),rt=o.lineEnd,et=o.writeComments;et&&s.comments!=null&&formatComments(o,s.comments,a,rt);for(var ot=s.body,at=ot.length,nt=0;nt<at;nt++){var it=ot[nt];et&&it.comments!=null&&formatComments(o,it.comments,a,rt),o.write(a),this[it.type](it,o),o.write(rt)}et&&s.trailingComments!=null&&formatComments(o,s.trailingComments,a,rt)},BlockStatement:BlockStatement=function(s,o){var a=o.indent.repeat(o.indentLevel++),rt=o.lineEnd,et=o.writeComments,ot=a+o.indent;o.write("{");var at=s.body;if(at!=null&&at.length>0){o.write(rt),et&&s.comments!=null&&formatComments(o,s.comments,ot,rt);for(var nt=at.length,it=0;it<nt;it++){var j=at[it];et&&j.comments!=null&&formatComments(o,j.comments,ot,rt),o.write(ot),this[j.type](j,o),o.write(rt)}o.write(a)}else et&&s.comments!=null&&(o.write(rt),formatComments(o,s.comments,ot,rt),o.write(a));et&&s.trailingComments!=null&&formatComments(o,s.trailingComments,ot,rt),o.write("}"),o.indentLevel--},ClassBody:BlockStatement,StaticBlock:function(s,o){o.write("static "),this.BlockStatement(s,o)},EmptyStatement:function(s,o){o.write(";")},ExpressionStatement:function(s,o){var a=o.expressionsPrecedence[s.expression.type];a===NEEDS_PARENTHESES||a===3&&s.expression.left.type[0]==="O"?(o.write("("),this[s.expression.type](s.expression,o),o.write(")")):this[s.expression.type](s.expression,o),o.write(";")},IfStatement:function(s,o){o.write("if ("),this[s.test.type](s.test,o),o.write(") "),this[s.consequent.type](s.consequent,o),s.alternate!=null&&(o.write(" else "),this[s.alternate.type](s.alternate,o))},LabeledStatement:function(s,o){this[s.label.type](s.label,o),o.write(": "),this[s.body.type](s.body,o)},BreakStatement:function(s,o){o.write("break"),s.label!=null&&(o.write(" "),this[s.label.type](s.label,o)),o.write(";")},ContinueStatement:function(s,o){o.write("continue"),s.label!=null&&(o.write(" "),this[s.label.type](s.label,o)),o.write(";")},WithStatement:function(s,o){o.write("with ("),this[s.object.type](s.object,o),o.write(") "),this[s.body.type](s.body,o)},SwitchStatement:function(s,o){var a=o.indent.repeat(o.indentLevel++),rt=o.lineEnd,et=o.writeComments;o.indentLevel++;var ot=a+o.indent,at=ot+o.indent;o.write("switch ("),this[s.discriminant.type](s.discriminant,o),o.write(") {"+rt);for(var nt=s.cases,it=nt.length,j=0;j<it;j++){var _=nt[j];et&&_.comments!=null&&formatComments(o,_.comments,ot,rt),_.test?(o.write(ot+"case "),this[_.test.type](_.test,o),o.write(":"+rt)):o.write(ot+"default:"+rt);for(var $=_.consequent,tt=$.length,st=0;st<tt;st++){var lt=$[st];et&&lt.comments!=null&&formatComments(o,lt.comments,at,rt),o.write(at),this[lt.type](lt,o),o.write(rt)}}o.indentLevel-=2,o.write(a+"}")},ReturnStatement:function(s,o){o.write("return"),s.argument&&(o.write(" "),this[s.argument.type](s.argument,o)),o.write(";")},ThrowStatement:function(s,o){o.write("throw "),this[s.argument.type](s.argument,o),o.write(";")},TryStatement:function(s,o){if(o.write("try "),this[s.block.type](s.block,o),s.handler){var a=s.handler;a.param==null?o.write(" catch "):(o.write(" catch ("),this[a.param.type](a.param,o),o.write(") ")),this[a.body.type](a.body,o)}s.finalizer&&(o.write(" finally "),this[s.finalizer.type](s.finalizer,o))},WhileStatement:function(s,o){o.write("while ("),this[s.test.type](s.test,o),o.write(") "),this[s.body.type](s.body,o)},DoWhileStatement:function(s,o){o.write("do "),this[s.body.type](s.body,o),o.write(" while ("),this[s.test.type](s.test,o),o.write(");")},ForStatement:function(s,o){if(o.write("for ("),s.init!=null){var a=s.init;a.type[0]==="V"?formatVariableDeclaration(o,a):this[a.type](a,o)}o.write("; "),s.test&&this[s.test.type](s.test,o),o.write("; "),s.update&&this[s.update.type](s.update,o),o.write(") "),this[s.body.type](s.body,o)},ForInStatement:ForInStatement=function(s,o){o.write("for ".concat(s.await?"await ":"","("));var a=s.left;a.type[0]==="V"?formatVariableDeclaration(o,a):this[a.type](a,o),o.write(s.type[3]==="I"?" in ":" of "),this[s.right.type](s.right,o),o.write(") "),this[s.body.type](s.body,o)},ForOfStatement:ForInStatement,DebuggerStatement:function(s,o){o.write("debugger;",s)},FunctionDeclaration:FunctionDeclaration=function(s,o){o.write((s.async?"async ":"")+(s.generator?"function* ":"function ")+(s.id?s.id.name:""),s),formatSequence(o,s.params),o.write(" "),this[s.body.type](s.body,o)},FunctionExpression:FunctionDeclaration,VariableDeclaration:function(s,o){formatVariableDeclaration(o,s),o.write(";")},VariableDeclarator:function(s,o){this[s.id.type](s.id,o),s.init!=null&&(o.write(" = "),this[s.init.type](s.init,o))},ClassDeclaration:function(s,o){if(o.write("class "+(s.id?"".concat(s.id.name," "):""),s),s.superClass){o.write("extends ");var a=s.superClass,rt=a.type,et=o.expressionsPrecedence[rt];(rt[0]!=="C"||rt[1]!=="l"||rt[5]!=="E")&&(et===NEEDS_PARENTHESES||et<o.expressionsPrecedence.ClassExpression)?(o.write("("),this[s.superClass.type](a,o),o.write(")")):this[a.type](a,o),o.write(" ")}this.ClassBody(s.body,o)},ImportDeclaration:function(s,o){o.write("import ");var a=s.specifiers,rt=a.length,et=0;if(rt>0){for(;et<rt;){et>0&&o.write(", ");var ot=a[et],at=ot.type[6];if(at==="D")o.write(ot.local.name,ot),et++;else if(at==="N")o.write("* as "+ot.local.name,ot),et++;else break}if(et<rt){for(o.write("{");;){var nt=a[et],it=nt.imported.name;if(o.write(it,nt),it!==nt.local.name&&o.write(" as "+nt.local.name),++et<rt)o.write(", ");else break}o.write("}")}o.write(" from ")}this.Literal(s.source,o),o.write(";")},ImportExpression:function(s,o){o.write("import("),this[s.source.type](s.source,o),o.write(")")},ExportDefaultDeclaration:function(s,o){o.write("export default "),this[s.declaration.type](s.declaration,o),o.expressionsPrecedence[s.declaration.type]!=null&&s.declaration.type[0]!=="F"&&o.write(";")},ExportNamedDeclaration:function(s,o){if(o.write("export "),s.declaration)this[s.declaration.type](s.declaration,o);else{o.write("{");var a=s.specifiers,rt=a.length;if(rt>0)for(var et=0;;){var ot=a[et],at=ot.local.name;if(o.write(at,ot),at!==ot.exported.name&&o.write(" as "+ot.exported.name),++et<rt)o.write(", ");else break}o.write("}"),s.source&&(o.write(" from "),this.Literal(s.source,o)),o.write(";")}},ExportAllDeclaration:function(s,o){s.exported!=null?o.write("export * as "+s.exported.name+" from "):o.write("export * from "),this.Literal(s.source,o),o.write(";")},MethodDefinition:function(s,o){s.static&&o.write("static ");var a=s.kind[0];(a==="g"||a==="s")&&o.write(s.kind+" "),s.value.async&&o.write("async "),s.value.generator&&o.write("*"),s.computed?(o.write("["),this[s.key.type](s.key,o),o.write("]")):this[s.key.type](s.key,o),formatSequence(o,s.value.params),o.write(" "),this[s.value.body.type](s.value.body,o)},ClassExpression:function(s,o){this.ClassDeclaration(s,o)},ArrowFunctionExpression:function(s,o){o.write(s.async?"async ":"",s);var a=s.params;a!=null&&(a.length===1&&a[0].type[0]==="I"?o.write(a[0].name,a[0]):formatSequence(o,s.params)),o.write(" => "),s.body.type[0]==="O"?(o.write("("),this.ObjectExpression(s.body,o),o.write(")")):this[s.body.type](s.body,o)},ThisExpression:function(s,o){o.write("this",s)},Super:function(s,o){o.write("super",s)},RestElement:RestElement=function(s,o){o.write("..."),this[s.argument.type](s.argument,o)},SpreadElement:RestElement,YieldExpression:function(s,o){o.write(s.delegate?"yield*":"yield"),s.argument&&(o.write(" "),this[s.argument.type](s.argument,o))},AwaitExpression:function(s,o){o.write("await ",s),formatExpression(o,s.argument,s)},TemplateLiteral:function(s,o){var a=s.quasis,rt=s.expressions;o.write("`");for(var et=rt.length,ot=0;ot<et;ot++){var at=rt[ot],nt=a[ot];o.write(nt.value.raw,nt),o.write("${"),this[at.type](at,o),o.write("}")}var it=a[a.length-1];o.write(it.value.raw,it),o.write("`")},TemplateElement:function(s,o){o.write(s.value.raw,s)},TaggedTemplateExpression:function(s,o){formatExpression(o,s.tag,s),this[s.quasi.type](s.quasi,o)},ArrayExpression:ArrayExpression=function(s,o){if(o.write("["),s.elements.length>0)for(var a=s.elements,rt=a.length,et=0;;){var ot=a[et];if(ot!=null&&this[ot.type](ot,o),++et<rt)o.write(", ");else{ot==null&&o.write(", ");break}}o.write("]")},ArrayPattern:ArrayExpression,ObjectExpression:function(s,o){var a=o.indent.repeat(o.indentLevel++),rt=o.lineEnd,et=o.writeComments,ot=a+o.indent;if(o.write("{"),s.properties.length>0){o.write(rt),et&&s.comments!=null&&formatComments(o,s.comments,ot,rt);for(var at=","+rt,nt=s.properties,it=nt.length,j=0;;){var _=nt[j];if(et&&_.comments!=null&&formatComments(o,_.comments,ot,rt),o.write(ot),this[_.type](_,o),++j<it)o.write(at);else break}o.write(rt),et&&s.trailingComments!=null&&formatComments(o,s.trailingComments,ot,rt),o.write(a+"}")}else et?s.comments!=null?(o.write(rt),formatComments(o,s.comments,ot,rt),s.trailingComments!=null&&formatComments(o,s.trailingComments,ot,rt),o.write(a+"}")):s.trailingComments!=null?(o.write(rt),formatComments(o,s.trailingComments,ot,rt),o.write(a+"}")):o.write("}"):o.write("}");o.indentLevel--},Property:function(s,o){s.method||s.kind[0]!=="i"?this.MethodDefinition(s,o):(s.shorthand||(s.computed?(o.write("["),this[s.key.type](s.key,o),o.write("]")):this[s.key.type](s.key,o),o.write(": ")),this[s.value.type](s.value,o))},PropertyDefinition:function(s,o){if(s.static&&o.write("static "),s.computed&&o.write("["),this[s.key.type](s.key,o),s.computed&&o.write("]"),s.value==null){s.key.type[0]!=="F"&&o.write(";");return}o.write(" = "),this[s.value.type](s.value,o),o.write(";")},ObjectPattern:function(s,o){if(o.write("{"),s.properties.length>0)for(var a=s.properties,rt=a.length,et=0;this[a[et].type](a[et],o),++et<rt;)o.write(", ");o.write("}")},SequenceExpression:function(s,o){formatSequence(o,s.expressions)},UnaryExpression:function(s,o){if(s.prefix){var a=s.operator,rt=s.argument,et=s.argument.type;o.write(a);var ot=expressionNeedsParenthesis(o,rt,s);!ot&&(a.length>1||et[0]==="U"&&(et[1]==="n"||et[1]==="p")&&rt.prefix&&rt.operator[0]===a&&(a==="+"||a==="-"))&&o.write(" "),ot?(o.write(a.length>1?" (":"("),this[et](rt,o),o.write(")")):this[et](rt,o)}else this[s.argument.type](s.argument,o),o.write(s.operator)},UpdateExpression:function(s,o){s.prefix?(o.write(s.operator),this[s.argument.type](s.argument,o)):(this[s.argument.type](s.argument,o),o.write(s.operator))},AssignmentExpression:function(s,o){this[s.left.type](s.left,o),o.write(" "+s.operator+" "),this[s.right.type](s.right,o)},AssignmentPattern:function(s,o){this[s.left.type](s.left,o),o.write(" = "),this[s.right.type](s.right,o)},BinaryExpression:BinaryExpression=function(s,o){var a=s.operator==="in";a&&o.write("("),formatExpression(o,s.left,s,!1),o.write(" "+s.operator+" "),formatExpression(o,s.right,s,!0),a&&o.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression:function(s,o){var a=s.test,rt=o.expressionsPrecedence[a.type];rt===NEEDS_PARENTHESES||rt<=o.expressionsPrecedence.ConditionalExpression?(o.write("("),this[a.type](a,o),o.write(")")):this[a.type](a,o),o.write(" ? "),this[s.consequent.type](s.consequent,o),o.write(" : "),this[s.alternate.type](s.alternate,o)},NewExpression:function(s,o){o.write("new ");var a=o.expressionsPrecedence[s.callee.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.CallExpression||hasCallExpression(s.callee)?(o.write("("),this[s.callee.type](s.callee,o),o.write(")")):this[s.callee.type](s.callee,o),formatSequence(o,s.arguments)},CallExpression:function(s,o){var a=o.expressionsPrecedence[s.callee.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.CallExpression?(o.write("("),this[s.callee.type](s.callee,o),o.write(")")):this[s.callee.type](s.callee,o),s.optional&&o.write("?."),formatSequence(o,s.arguments)},ChainExpression:function(s,o){this[s.expression.type](s.expression,o)},MemberExpression:function(s,o){var a=o.expressionsPrecedence[s.object.type];a===NEEDS_PARENTHESES||a<o.expressionsPrecedence.MemberExpression?(o.write("("),this[s.object.type](s.object,o),o.write(")")):this[s.object.type](s.object,o),s.computed?(s.optional&&o.write("?."),o.write("["),this[s.property.type](s.property,o),o.write("]")):(s.optional?o.write("?."):o.write("."),this[s.property.type](s.property,o))},MetaProperty:function(s,o){o.write(s.meta.name+"."+s.property.name,s)},Identifier:function(s,o){o.write(s.name,s)},PrivateIdentifier:function(s,o){o.write("#".concat(s.name),s)},Literal:function(s,o){s.raw!=null?o.write(s.raw,s):s.regex!=null?this.RegExpLiteral(s,o):s.bigint!=null?o.write(s.bigint+"n",s):o.write(stringify$2(s.value),s)},RegExpLiteral:function(s,o){var a=s.regex;o.write("/".concat(a.pattern,"/").concat(a.flags),s)}};astring.GENERATOR=GENERATOR;var EMPTY_OBJECT={},baseGenerator=GENERATOR;astring.baseGenerator=baseGenerator;var State=function(){function i(s){_classCallCheck(this,i);var o=s??EMPTY_OBJECT;this.output="",o.output!=null?(this.output=o.output,this.write=this.writeToStream):this.output="",this.generator=o.generator!=null?o.generator:GENERATOR,this.expressionsPrecedence=o.expressionsPrecedence!=null?o.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=o.indent!=null?o.indent:"  ",this.lineEnd=o.lineEnd!=null?o.lineEnd:`
`,this.indentLevel=o.startingIndentLevel!=null?o.startingIndentLevel:0,this.writeComments=o.comments?o.comments:!1,o.sourceMap!=null&&(this.write=o.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=o.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:o.sourceMap.file||o.sourceMap._file})}return _createClass(i,[{key:"write",value:function(o){this.output+=o}},{key:"writeToStream",value:function(o){this.output.write(o)}},{key:"writeAndMap",value:function(o,a){this.output+=o,this.map(o,a)}},{key:"writeToStreamAndMap",value:function(o,a){this.output.write(o),this.map(o,a)}},{key:"map",value:function(o,a){if(a!=null){var rt=a.type;if(rt[0]==="L"&&rt[2]==="n"){this.column=0,this.line++;return}if(a.loc!=null){var et=this.mapping;et.original=a.loc.start,et.name=a.name,this.sourceMap.addMapping(et)}if(rt[0]==="T"&&rt[8]==="E"||rt[0]==="L"&&rt[1]==="i"&&typeof a.value=="string"){for(var ot=o.length,at=this.column,nt=this.line,it=0;it<ot;it++)o[it]===`
`?(at=0,nt++):at++;this.column=at,this.line=nt;return}}var j=o.length,_=this.lineEnd;j>0&&(this.lineEndSize>0&&(_.length===1?o[j-1]===_:o.endsWith(_))?(this.line+=this.lineEndSize,this.column=0):this.column+=j)}},{key:"toString",value:function(){return this.output}}]),i}();function generate(i,s){var o=new State(s);return o.generator[i.type](i,o),o.output}function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(i,s){(function(o){i.exports=o()})(function(){return function(){function o(a,rt,et){function ot(it,j){if(!rt[it]){if(!a[it]){var _=typeof commonjsRequire=="function"&&commonjsRequire;if(!j&&_)return _(it,!0);if(at)return at(it,!0);var $=new Error("Cannot find module '"+it+"'");throw $.code="MODULE_NOT_FOUND",$}var tt=rt[it]={exports:{}};a[it][0].call(tt.exports,function(st){var lt=a[it][1][st];return ot(lt||st)},tt,tt.exports,o,a,rt,et)}return rt[it].exports}for(var at=typeof commonjsRequire=="function"&&commonjsRequire,nt=0;nt<et.length;nt++)ot(et[nt]);return ot}return o}()({1:[function(o,a,rt){(function(et,ot){typeof rt=="object"&&typeof a<"u"?ot(rt):(et=et||self,ot(et.acorn={}))})(this,function(et){var ot={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},at="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",nt={5:at,"5module":at+" export import",6:at+" const class extends export import super"},it=/^in(stanceof)?$/,j="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",_="--------------------------------------------------------------------------------------------------------------------------------------------------",$=new RegExp("["+j+"]"),tt=new RegExp("["+j+_+"]");j=_=null;var st=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],lt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function ct(wt,Lt){for(var Vt=65536,Xt=0;Xt<Lt.length;Xt+=2){if(Vt+=Lt[Xt],Vt>wt)return!1;if(Vt+=Lt[Xt+1],Vt>=wt)return!0}}function ht(wt,Lt){return wt<65?wt===36:wt<91?!0:wt<97?wt===95:wt<123?!0:wt<=65535?wt>=170&&$.test(String.fromCharCode(wt)):Lt===!1?!1:ct(wt,st)}function ut(wt,Lt){return wt<48?wt===36:wt<58?!0:wt<65?!1:wt<91?!0:wt<97?wt===95:wt<123?!0:wt<=65535?wt>=170&&tt.test(String.fromCharCode(wt)):Lt===!1?!1:ct(wt,st)||ct(wt,lt)}var pt=function(Lt,Vt){Vt===void 0&&(Vt={}),this.label=Lt,this.keyword=Vt.keyword,this.beforeExpr=!!Vt.beforeExpr,this.startsExpr=!!Vt.startsExpr,this.isLoop=!!Vt.isLoop,this.isAssign=!!Vt.isAssign,this.prefix=!!Vt.prefix,this.postfix=!!Vt.postfix,this.binop=Vt.binop||null,this.updateContext=null};function mt(wt,Lt){return new pt(wt,{beforeExpr:!0,binop:Lt})}var vt={beforeExpr:!0},dt={startsExpr:!0},St={};function yt(wt,Lt){return Lt===void 0&&(Lt={}),Lt.keyword=wt,St[wt]=new pt(wt,Lt)}var gt={num:new pt("num",dt),regexp:new pt("regexp",dt),string:new pt("string",dt),name:new pt("name",dt),eof:new pt("eof"),bracketL:new pt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pt("]"),braceL:new pt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pt("}"),parenL:new pt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pt(")"),comma:new pt(",",vt),semi:new pt(";",vt),colon:new pt(":",vt),dot:new pt("."),question:new pt("?",vt),arrow:new pt("=>",vt),template:new pt("template"),invalidTemplate:new pt("invalidTemplate"),ellipsis:new pt("...",vt),backQuote:new pt("`",dt),dollarBraceL:new pt("${",{beforeExpr:!0,startsExpr:!0}),eq:new pt("=",{beforeExpr:!0,isAssign:!0}),assign:new pt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:mt("||",1),logicalAND:mt("&&",2),bitwiseOR:mt("|",3),bitwiseXOR:mt("^",4),bitwiseAND:mt("&",5),equality:mt("==/!=/===/!==",6),relational:mt("</>/<=/>=",7),bitShift:mt("<</>>/>>>",8),plusMin:new pt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:mt("%",10),star:mt("*",10),slash:mt("/",10),starstar:new pt("**",{beforeExpr:!0}),_break:yt("break"),_case:yt("case",vt),_catch:yt("catch"),_continue:yt("continue"),_debugger:yt("debugger"),_default:yt("default",vt),_do:yt("do",{isLoop:!0,beforeExpr:!0}),_else:yt("else",vt),_finally:yt("finally"),_for:yt("for",{isLoop:!0}),_function:yt("function",dt),_if:yt("if"),_return:yt("return",vt),_switch:yt("switch"),_throw:yt("throw",vt),_try:yt("try"),_var:yt("var"),_const:yt("const"),_while:yt("while",{isLoop:!0}),_with:yt("with"),_new:yt("new",{beforeExpr:!0,startsExpr:!0}),_this:yt("this",dt),_super:yt("super",dt),_class:yt("class",dt),_extends:yt("extends",vt),_export:yt("export"),_import:yt("import",dt),_null:yt("null",dt),_true:yt("true",dt),_false:yt("false",dt),_in:yt("in",{beforeExpr:!0,binop:7}),_instanceof:yt("instanceof",{beforeExpr:!0,binop:7}),_typeof:yt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Et=/\r\n?|\n|\u2028|\u2029/,_t=new RegExp(Et.source,"g");function kt(wt,Lt){return wt===10||wt===13||!Lt&&(wt===8232||wt===8233)}var Ct=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,At=Object.prototype,It=At.hasOwnProperty,Ot=At.toString;function Mt(wt,Lt){return It.call(wt,Lt)}var Dt=Array.isArray||function(wt){return Ot.call(wt)==="[object Array]"};function Bt(wt){return new RegExp("^(?:"+wt.replace(/ /g,"|")+")$")}var Kt=function(Lt,Vt){this.line=Lt,this.column=Vt};Kt.prototype.offset=function(Lt){return new Kt(this.line,this.column+Lt)};var Wt=function(Lt,Vt,Xt){this.start=Vt,this.end=Xt,Lt.sourceFile!==null&&(this.source=Lt.sourceFile)};function zt(wt,Lt){for(var Vt=1,Xt=0;;){_t.lastIndex=Xt;var or=_t.exec(wt);if(or&&or.index<Lt)++Vt,Xt=or.index+or[0].length;else return new Kt(Vt,Lt-Xt)}}var Ht={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Zt(wt){var Lt={};for(var Vt in Ht)Lt[Vt]=wt&&Mt(wt,Vt)?wt[Vt]:Ht[Vt];if(Lt.ecmaVersion>=2015&&(Lt.ecmaVersion-=2009),Lt.allowReserved==null&&(Lt.allowReserved=Lt.ecmaVersion<5),Dt(Lt.onToken)){var Xt=Lt.onToken;Lt.onToken=function(or){return Xt.push(or)}}return Dt(Lt.onComment)&&(Lt.onComment=Qt(Lt,Lt.onComment)),Lt}function Qt(wt,Lt){return function(Vt,Xt,or,br,$r,zr){var Zr={type:Vt?"Block":"Line",value:Xt,start:or,end:br};wt.locations&&(Zr.loc=new Wt(this,$r,zr)),wt.ranges&&(Zr.range=[or,br]),Lt.push(Zr)}}var hr=1,fr=2,pr=hr|fr,gr=4,tr=8,rr=16,qt=32,xr=64,Sr=128;function dr(wt,Lt){return fr|(wt?gr:0)|(Lt?tr:0)}var Ur=0,tn=1,on=2,Rn=3,Nn=4,Mn=5,pn=function(Lt,Vt,Xt){this.options=Lt=Zt(Lt),this.sourceFile=Lt.sourceFile,this.keywords=Bt(nt[Lt.ecmaVersion>=6?6:Lt.sourceType==="module"?"5module":5]);var or="";if(Lt.allowReserved!==!0){for(var br=Lt.ecmaVersion;!(or=ot[br]);br--);Lt.sourceType==="module"&&(or+=" await")}this.reservedWords=Bt(or);var $r=(or?or+" ":"")+ot.strict;this.reservedWordsStrict=Bt($r),this.reservedWordsStrictBind=Bt($r+" "+ot.strictBind),this.input=String(Vt),this.containsEsc=!1,Xt?(this.pos=Xt,this.lineStart=this.input.lastIndexOf(`
`,Xt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Et).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=gt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Lt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&Lt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(hr),this.regexpState=null},Hn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};pn.prototype.parse=function(){var Lt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Lt)},Hn.inFunction.get=function(){return(this.currentVarScope().flags&fr)>0},Hn.inGenerator.get=function(){return(this.currentVarScope().flags&tr)>0},Hn.inAsync.get=function(){return(this.currentVarScope().flags&gr)>0},Hn.allowSuper.get=function(){return(this.currentThisScope().flags&xr)>0},Hn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Sr)>0},Hn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},pn.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&fr)>0},pn.extend=function(){for(var Lt=[],Vt=arguments.length;Vt--;)Lt[Vt]=arguments[Vt];for(var Xt=this,or=0;or<Lt.length;or++)Xt=Lt[or](Xt);return Xt},pn.parse=function(Lt,Vt){return new this(Vt,Lt).parse()},pn.parseExpressionAt=function(Lt,Vt,Xt){var or=new this(Xt,Lt,Vt);return or.nextToken(),or.parseExpression()},pn.tokenizer=function(Lt,Vt){return new this(Vt,Lt)},Object.defineProperties(pn.prototype,Hn);var In=pn.prototype,_r=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;In.strictDirective=function(wt){for(;;){Tt.lastIndex=wt,wt+=Tt.exec(this.input)[0].length;var Lt=_r.exec(this.input.slice(wt));if(!Lt)return!1;if((Lt[1]||Lt[2])==="use strict")return!0;wt+=Lt[0].length,Tt.lastIndex=wt,wt+=Tt.exec(this.input)[0].length,this.input[wt]===";"&&wt++}},In.eat=function(wt){return this.type===wt?(this.next(),!0):!1},In.isContextual=function(wt){return this.type===gt.name&&this.value===wt&&!this.containsEsc},In.eatContextual=function(wt){return this.isContextual(wt)?(this.next(),!0):!1},In.expectContextual=function(wt){this.eatContextual(wt)||this.unexpected()},In.canInsertSemicolon=function(){return this.type===gt.eof||this.type===gt.braceR||Et.test(this.input.slice(this.lastTokEnd,this.start))},In.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},In.semicolon=function(){!this.eat(gt.semi)&&!this.insertSemicolon()&&this.unexpected()},In.afterTrailingComma=function(wt,Lt){if(this.type===wt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Lt||this.next(),!0},In.expect=function(wt){this.eat(wt)||this.unexpected()},In.unexpected=function(wt){this.raise(wt??this.start,"Unexpected token")};function Nr(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}In.checkPatternErrors=function(wt,Lt){if(wt){wt.trailingComma>-1&&this.raiseRecoverable(wt.trailingComma,"Comma is not permitted after the rest element");var Vt=Lt?wt.parenthesizedAssign:wt.parenthesizedBind;Vt>-1&&this.raiseRecoverable(Vt,"Parenthesized pattern")}},In.checkExpressionErrors=function(wt,Lt){if(!wt)return!1;var Vt=wt.shorthandAssign,Xt=wt.doubleProto;if(!Lt)return Vt>=0||Xt>=0;Vt>=0&&this.raise(Vt,"Shorthand property assignments are valid only in destructuring patterns"),Xt>=0&&this.raiseRecoverable(Xt,"Redefinition of __proto__ property")},In.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},In.isSimpleAssignTarget=function(wt){return wt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(wt.expression):wt.type==="Identifier"||wt.type==="MemberExpression"};var kr=pn.prototype;kr.parseTopLevel=function(wt){var Lt={};for(wt.body||(wt.body=[]);this.type!==gt.eof;){var Vt=this.parseStatement(null,!0,Lt);wt.body.push(Vt)}if(this.inModule)for(var Xt=0,or=Object.keys(this.undefinedExports);Xt<or.length;Xt+=1){var br=or[Xt];this.raiseRecoverable(this.undefinedExports[br].start,"Export '"+br+"' is not defined")}return this.adaptDirectivePrologue(wt.body),this.next(),wt.sourceType=this.options.sourceType,this.finishNode(wt,"Program")};var nn={kind:"loop"},Yt={kind:"switch"};kr.isLet=function(wt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var Lt=Tt.exec(this.input),Vt=this.pos+Lt[0].length,Xt=this.input.charCodeAt(Vt);if(Xt===91)return!0;if(wt)return!1;if(Xt===123)return!0;if(ht(Xt,!0)){for(var or=Vt+1;ut(this.input.charCodeAt(or),!0);)++or;var br=this.input.slice(Vt,or);if(!it.test(br))return!0}return!1},kr.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var wt=Tt.exec(this.input),Lt=this.pos+wt[0].length;return!Et.test(this.input.slice(this.pos,Lt))&&this.input.slice(Lt,Lt+8)==="function"&&(Lt+8===this.input.length||!ut(this.input.charAt(Lt+8)))},kr.parseStatement=function(wt,Lt,Vt){var Xt=this.type,or=this.startNode(),br;switch(this.isLet(wt)&&(Xt=gt._var,br="let"),Xt){case gt._break:case gt._continue:return this.parseBreakContinueStatement(or,Xt.keyword);case gt._debugger:return this.parseDebuggerStatement(or);case gt._do:return this.parseDoStatement(or);case gt._for:return this.parseForStatement(or);case gt._function:return wt&&(this.strict||wt!=="if"&&wt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(or,!1,!wt);case gt._class:return wt&&this.unexpected(),this.parseClass(or,!0);case gt._if:return this.parseIfStatement(or);case gt._return:return this.parseReturnStatement(or);case gt._switch:return this.parseSwitchStatement(or);case gt._throw:return this.parseThrowStatement(or);case gt._try:return this.parseTryStatement(or);case gt._const:case gt._var:return br=br||this.value,wt&&br!=="var"&&this.unexpected(),this.parseVarStatement(or,br);case gt._while:return this.parseWhileStatement(or);case gt._with:return this.parseWithStatement(or);case gt.braceL:return this.parseBlock(!0,or);case gt.semi:return this.parseEmptyStatement(or);case gt._export:case gt._import:if(this.options.ecmaVersion>10&&Xt===gt._import){Tt.lastIndex=this.pos;var $r=Tt.exec(this.input),zr=this.pos+$r[0].length,Zr=this.input.charCodeAt(zr);if(Zr===40)return this.parseExpressionStatement(or,this.parseExpression())}return this.options.allowImportExportEverywhere||(Lt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Xt===gt._import?this.parseImport(or):this.parseExport(or,Vt);default:if(this.isAsyncFunction())return wt&&this.unexpected(),this.next(),this.parseFunctionStatement(or,!0,!wt);var wn=this.value,zn=this.parseExpression();return Xt===gt.name&&zn.type==="Identifier"&&this.eat(gt.colon)?this.parseLabeledStatement(or,wn,zn,wt):this.parseExpressionStatement(or,zn)}},kr.parseBreakContinueStatement=function(wt,Lt){var Vt=Lt==="break";this.next(),this.eat(gt.semi)||this.insertSemicolon()?wt.label=null:this.type!==gt.name?this.unexpected():(wt.label=this.parseIdent(),this.semicolon());for(var Xt=0;Xt<this.labels.length;++Xt){var or=this.labels[Xt];if((wt.label==null||or.name===wt.label.name)&&(or.kind!=null&&(Vt||or.kind==="loop")||wt.label&&Vt))break}return Xt===this.labels.length&&this.raise(wt.start,"Unsyntactic "+Lt),this.finishNode(wt,Vt?"BreakStatement":"ContinueStatement")},kr.parseDebuggerStatement=function(wt){return this.next(),this.semicolon(),this.finishNode(wt,"DebuggerStatement")},kr.parseDoStatement=function(wt){return this.next(),this.labels.push(nn),wt.body=this.parseStatement("do"),this.labels.pop(),this.expect(gt._while),wt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(gt.semi):this.semicolon(),this.finishNode(wt,"DoWhileStatement")},kr.parseForStatement=function(wt){this.next();var Lt=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(nn),this.enterScope(0),this.expect(gt.parenL),this.type===gt.semi)return Lt>-1&&this.unexpected(Lt),this.parseFor(wt,null);var Vt=this.isLet();if(this.type===gt._var||this.type===gt._const||Vt){var Xt=this.startNode(),or=Vt?"let":this.value;return this.next(),this.parseVar(Xt,!0,or),this.finishNode(Xt,"VariableDeclaration"),(this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Xt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===gt._in?Lt>-1&&this.unexpected(Lt):wt.await=Lt>-1),this.parseForIn(wt,Xt)):(Lt>-1&&this.unexpected(Lt),this.parseFor(wt,Xt))}var br=new Nr,$r=this.parseExpression(!0,br);return this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===gt._in?Lt>-1&&this.unexpected(Lt):wt.await=Lt>-1),this.toAssignable($r,!1,br),this.checkLVal($r),this.parseForIn(wt,$r)):(this.checkExpressionErrors(br,!0),Lt>-1&&this.unexpected(Lt),this.parseFor(wt,$r))},kr.parseFunctionStatement=function(wt,Lt,Vt){return this.next(),this.parseFunction(wt,lr|(Vt?0:Lr),!1,Lt)},kr.parseIfStatement=function(wt){return this.next(),wt.test=this.parseParenExpression(),wt.consequent=this.parseStatement("if"),wt.alternate=this.eat(gt._else)?this.parseStatement("if"):null,this.finishNode(wt,"IfStatement")},kr.parseReturnStatement=function(wt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(gt.semi)||this.insertSemicolon()?wt.argument=null:(wt.argument=this.parseExpression(),this.semicolon()),this.finishNode(wt,"ReturnStatement")},kr.parseSwitchStatement=function(wt){this.next(),wt.discriminant=this.parseParenExpression(),wt.cases=[],this.expect(gt.braceL),this.labels.push(Yt),this.enterScope(0);for(var Lt,Vt=!1;this.type!==gt.braceR;)if(this.type===gt._case||this.type===gt._default){var Xt=this.type===gt._case;Lt&&this.finishNode(Lt,"SwitchCase"),wt.cases.push(Lt=this.startNode()),Lt.consequent=[],this.next(),Xt?Lt.test=this.parseExpression():(Vt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Vt=!0,Lt.test=null),this.expect(gt.colon)}else Lt||this.unexpected(),Lt.consequent.push(this.parseStatement(null));return this.exitScope(),Lt&&this.finishNode(Lt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(wt,"SwitchStatement")},kr.parseThrowStatement=function(wt){return this.next(),Et.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),wt.argument=this.parseExpression(),this.semicolon(),this.finishNode(wt,"ThrowStatement")};var er=[];kr.parseTryStatement=function(wt){if(this.next(),wt.block=this.parseBlock(),wt.handler=null,this.type===gt._catch){var Lt=this.startNode();if(this.next(),this.eat(gt.parenL)){Lt.param=this.parseBindingAtom();var Vt=Lt.param.type==="Identifier";this.enterScope(Vt?qt:0),this.checkLVal(Lt.param,Vt?Nn:on),this.expect(gt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),Lt.param=null,this.enterScope(0);Lt.body=this.parseBlock(!1),this.exitScope(),wt.handler=this.finishNode(Lt,"CatchClause")}return wt.finalizer=this.eat(gt._finally)?this.parseBlock():null,!wt.handler&&!wt.finalizer&&this.raise(wt.start,"Missing catch or finally clause"),this.finishNode(wt,"TryStatement")},kr.parseVarStatement=function(wt,Lt){return this.next(),this.parseVar(wt,!1,Lt),this.semicolon(),this.finishNode(wt,"VariableDeclaration")},kr.parseWhileStatement=function(wt){return this.next(),wt.test=this.parseParenExpression(),this.labels.push(nn),wt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(wt,"WhileStatement")},kr.parseWithStatement=function(wt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),wt.object=this.parseParenExpression(),wt.body=this.parseStatement("with"),this.finishNode(wt,"WithStatement")},kr.parseEmptyStatement=function(wt){return this.next(),this.finishNode(wt,"EmptyStatement")},kr.parseLabeledStatement=function(wt,Lt,Vt,Xt){for(var or=0,br=this.labels;or<br.length;or+=1){var $r=br[or];$r.name===Lt&&this.raise(Vt.start,"Label '"+Lt+"' is already declared")}for(var zr=this.type.isLoop?"loop":this.type===gt._switch?"switch":null,Zr=this.labels.length-1;Zr>=0;Zr--){var wn=this.labels[Zr];if(wn.statementStart===wt.start)wn.statementStart=this.start,wn.kind=zr;else break}return this.labels.push({name:Lt,kind:zr,statementStart:this.start}),wt.body=this.parseStatement(Xt?Xt.indexOf("label")===-1?Xt+"label":Xt:"label"),this.labels.pop(),wt.label=Vt,this.finishNode(wt,"LabeledStatement")},kr.parseExpressionStatement=function(wt,Lt){return wt.expression=Lt,this.semicolon(),this.finishNode(wt,"ExpressionStatement")},kr.parseBlock=function(wt,Lt){for(wt===void 0&&(wt=!0),Lt===void 0&&(Lt=this.startNode()),Lt.body=[],this.expect(gt.braceL),wt&&this.enterScope(0);!this.eat(gt.braceR);){var Vt=this.parseStatement(null);Lt.body.push(Vt)}return wt&&this.exitScope(),this.finishNode(Lt,"BlockStatement")},kr.parseFor=function(wt,Lt){return wt.init=Lt,this.expect(gt.semi),wt.test=this.type===gt.semi?null:this.parseExpression(),this.expect(gt.semi),wt.update=this.type===gt.parenR?null:this.parseExpression(),this.expect(gt.parenR),wt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(wt,"ForStatement")},kr.parseForIn=function(wt,Lt){var Vt=this.type===gt._in;return this.next(),Lt.type==="VariableDeclaration"&&Lt.declarations[0].init!=null&&(!Vt||this.options.ecmaVersion<8||this.strict||Lt.kind!=="var"||Lt.declarations[0].id.type!=="Identifier")?this.raise(Lt.start,(Vt?"for-in":"for-of")+" loop variable declaration may not have an initializer"):Lt.type==="AssignmentPattern"&&this.raise(Lt.start,"Invalid left-hand side in for-loop"),wt.left=Lt,wt.right=Vt?this.parseExpression():this.parseMaybeAssign(),this.expect(gt.parenR),wt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(wt,Vt?"ForInStatement":"ForOfStatement")},kr.parseVar=function(wt,Lt,Vt){for(wt.declarations=[],wt.kind=Vt;;){var Xt=this.startNode();if(this.parseVarId(Xt,Vt),this.eat(gt.eq)?Xt.init=this.parseMaybeAssign(Lt):Vt==="const"&&!(this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Xt.id.type!=="Identifier"&&!(Lt&&(this.type===gt._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Xt.init=null,wt.declarations.push(this.finishNode(Xt,"VariableDeclarator")),!this.eat(gt.comma))break}return wt},kr.parseVarId=function(wt,Lt){wt.id=this.parseBindingAtom(),this.checkLVal(wt.id,Lt==="var"?tn:on,!1)};var lr=1,Lr=2,Or=4;kr.parseFunction=function(wt,Lt,Vt,Xt){this.initFunction(wt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Xt)&&(this.type===gt.star&&Lt&Lr&&this.unexpected(),wt.generator=this.eat(gt.star)),this.options.ecmaVersion>=8&&(wt.async=!!Xt),Lt&lr&&(wt.id=Lt&Or&&this.type!==gt.name?null:this.parseIdent(),wt.id&&!(Lt&Lr)&&this.checkLVal(wt.id,this.strict||wt.generator||wt.async?this.treatFunctionsAsVar?tn:on:Rn));var or=this.yieldPos,br=this.awaitPos,$r=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(dr(wt.async,wt.generator)),Lt&lr||(wt.id=this.type===gt.name?this.parseIdent():null),this.parseFunctionParams(wt),this.parseFunctionBody(wt,Vt,!1),this.yieldPos=or,this.awaitPos=br,this.awaitIdentPos=$r,this.finishNode(wt,Lt&lr?"FunctionDeclaration":"FunctionExpression")},kr.parseFunctionParams=function(wt){this.expect(gt.parenL),wt.params=this.parseBindingList(gt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},kr.parseClass=function(wt,Lt){this.next();var Vt=this.strict;this.strict=!0,this.parseClassId(wt,Lt),this.parseClassSuper(wt);var Xt=this.startNode(),or=!1;for(Xt.body=[],this.expect(gt.braceL);!this.eat(gt.braceR);){var br=this.parseClassElement(wt.superClass!==null);br&&(Xt.body.push(br),br.type==="MethodDefinition"&&br.kind==="constructor"&&(or&&this.raise(br.start,"Duplicate constructor in the same class"),or=!0))}return wt.body=this.finishNode(Xt,"ClassBody"),this.strict=Vt,this.finishNode(wt,Lt?"ClassDeclaration":"ClassExpression")},kr.parseClassElement=function(wt){var Lt=this;if(this.eat(gt.semi))return null;var Vt=this.startNode(),Xt=function(Zr,wn){wn===void 0&&(wn=!1);var zn=Lt.start,_i=Lt.startLoc;return Lt.eatContextual(Zr)?Lt.type!==gt.parenL&&(!wn||!Lt.canInsertSemicolon())?!0:(Vt.key&&Lt.unexpected(),Vt.computed=!1,Vt.key=Lt.startNodeAt(zn,_i),Vt.key.name=Zr,Lt.finishNode(Vt.key,"Identifier"),!1):!1};Vt.kind="method",Vt.static=Xt("static");var or=this.eat(gt.star),br=!1;or||(this.options.ecmaVersion>=8&&Xt("async",!0)?(br=!0,or=this.options.ecmaVersion>=9&&this.eat(gt.star)):Xt("get")?Vt.kind="get":Xt("set")&&(Vt.kind="set")),Vt.key||this.parsePropertyName(Vt);var $r=Vt.key,zr=!1;return!Vt.computed&&!Vt.static&&($r.type==="Identifier"&&$r.name==="constructor"||$r.type==="Literal"&&$r.value==="constructor")?(Vt.kind!=="method"&&this.raise($r.start,"Constructor can't have get/set modifier"),or&&this.raise($r.start,"Constructor can't be a generator"),br&&this.raise($r.start,"Constructor can't be an async method"),Vt.kind="constructor",zr=wt):Vt.static&&$r.type==="Identifier"&&$r.name==="prototype"&&this.raise($r.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Vt,or,br,zr),Vt.kind==="get"&&Vt.value.params.length!==0&&this.raiseRecoverable(Vt.value.start,"getter should have no params"),Vt.kind==="set"&&Vt.value.params.length!==1&&this.raiseRecoverable(Vt.value.start,"setter should have exactly one param"),Vt.kind==="set"&&Vt.value.params[0].type==="RestElement"&&this.raiseRecoverable(Vt.value.params[0].start,"Setter cannot use rest params"),Vt},kr.parseClassMethod=function(wt,Lt,Vt,Xt){return wt.value=this.parseMethod(Lt,Vt,Xt),this.finishNode(wt,"MethodDefinition")},kr.parseClassId=function(wt,Lt){this.type===gt.name?(wt.id=this.parseIdent(),Lt&&this.checkLVal(wt.id,on,!1)):(Lt===!0&&this.unexpected(),wt.id=null)},kr.parseClassSuper=function(wt){wt.superClass=this.eat(gt._extends)?this.parseExprSubscripts():null},kr.parseExport=function(wt,Lt){if(this.next(),this.eat(gt.star))return this.expectContextual("from"),this.type!==gt.string&&this.unexpected(),wt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(wt,"ExportAllDeclaration");if(this.eat(gt._default)){this.checkExport(Lt,"default",this.lastTokStart);var Vt;if(this.type===gt._function||(Vt=this.isAsyncFunction())){var Xt=this.startNode();this.next(),Vt&&this.next(),wt.declaration=this.parseFunction(Xt,lr|Or,!1,Vt)}else if(this.type===gt._class){var or=this.startNode();wt.declaration=this.parseClass(or,"nullableID")}else wt.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(wt,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())wt.declaration=this.parseStatement(null),wt.declaration.type==="VariableDeclaration"?this.checkVariableExport(Lt,wt.declaration.declarations):this.checkExport(Lt,wt.declaration.id.name,wt.declaration.id.start),wt.specifiers=[],wt.source=null;else{if(wt.declaration=null,wt.specifiers=this.parseExportSpecifiers(Lt),this.eatContextual("from"))this.type!==gt.string&&this.unexpected(),wt.source=this.parseExprAtom();else{for(var br=0,$r=wt.specifiers;br<$r.length;br+=1){var zr=$r[br];this.checkUnreserved(zr.local),this.checkLocalExport(zr.local)}wt.source=null}this.semicolon()}return this.finishNode(wt,"ExportNamedDeclaration")},kr.checkExport=function(wt,Lt,Vt){wt&&(Mt(wt,Lt)&&this.raiseRecoverable(Vt,"Duplicate export '"+Lt+"'"),wt[Lt]=!0)},kr.checkPatternExport=function(wt,Lt){var Vt=Lt.type;if(Vt==="Identifier")this.checkExport(wt,Lt.name,Lt.start);else if(Vt==="ObjectPattern")for(var Xt=0,or=Lt.properties;Xt<or.length;Xt+=1){var br=or[Xt];this.checkPatternExport(wt,br)}else if(Vt==="ArrayPattern")for(var $r=0,zr=Lt.elements;$r<zr.length;$r+=1){var Zr=zr[$r];Zr&&this.checkPatternExport(wt,Zr)}else Vt==="Property"?this.checkPatternExport(wt,Lt.value):Vt==="AssignmentPattern"?this.checkPatternExport(wt,Lt.left):Vt==="RestElement"?this.checkPatternExport(wt,Lt.argument):Vt==="ParenthesizedExpression"&&this.checkPatternExport(wt,Lt.expression)},kr.checkVariableExport=function(wt,Lt){if(wt)for(var Vt=0,Xt=Lt;Vt<Xt.length;Vt+=1){var or=Xt[Vt];this.checkPatternExport(wt,or.id)}},kr.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},kr.parseExportSpecifiers=function(wt){var Lt=[],Vt=!0;for(this.expect(gt.braceL);!this.eat(gt.braceR);){if(Vt)Vt=!1;else if(this.expect(gt.comma),this.afterTrailingComma(gt.braceR))break;var Xt=this.startNode();Xt.local=this.parseIdent(!0),Xt.exported=this.eatContextual("as")?this.parseIdent(!0):Xt.local,this.checkExport(wt,Xt.exported.name,Xt.exported.start),Lt.push(this.finishNode(Xt,"ExportSpecifier"))}return Lt},kr.parseImport=function(wt){return this.next(),this.type===gt.string?(wt.specifiers=er,wt.source=this.parseExprAtom()):(wt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),wt.source=this.type===gt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(wt,"ImportDeclaration")},kr.parseImportSpecifiers=function(){var wt=[],Lt=!0;if(this.type===gt.name){var Vt=this.startNode();if(Vt.local=this.parseIdent(),this.checkLVal(Vt.local,on),wt.push(this.finishNode(Vt,"ImportDefaultSpecifier")),!this.eat(gt.comma))return wt}if(this.type===gt.star){var Xt=this.startNode();return this.next(),this.expectContextual("as"),Xt.local=this.parseIdent(),this.checkLVal(Xt.local,on),wt.push(this.finishNode(Xt,"ImportNamespaceSpecifier")),wt}for(this.expect(gt.braceL);!this.eat(gt.braceR);){if(Lt)Lt=!1;else if(this.expect(gt.comma),this.afterTrailingComma(gt.braceR))break;var or=this.startNode();or.imported=this.parseIdent(!0),this.eatContextual("as")?or.local=this.parseIdent():(this.checkUnreserved(or.imported),or.local=or.imported),this.checkLVal(or.local,on),wt.push(this.finishNode(or,"ImportSpecifier"))}return wt},kr.adaptDirectivePrologue=function(wt){for(var Lt=0;Lt<wt.length&&this.isDirectiveCandidate(wt[Lt]);++Lt)wt[Lt].directive=wt[Lt].expression.raw.slice(1,-1)},kr.isDirectiveCandidate=function(wt){return wt.type==="ExpressionStatement"&&wt.expression.type==="Literal"&&typeof wt.expression.value=="string"&&(this.input[wt.start]==='"'||this.input[wt.start]==="'")};var Er=pn.prototype;Er.toAssignable=function(wt,Lt,Vt){if(this.options.ecmaVersion>=6&&wt)switch(wt.type){case"Identifier":this.inAsync&&wt.name==="await"&&this.raise(wt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":wt.type="ObjectPattern",Vt&&this.checkPatternErrors(Vt,!0);for(var Xt=0,or=wt.properties;Xt<or.length;Xt+=1){var br=or[Xt];this.toAssignable(br,Lt),br.type==="RestElement"&&(br.argument.type==="ArrayPattern"||br.argument.type==="ObjectPattern")&&this.raise(br.argument.start,"Unexpected token")}break;case"Property":wt.kind!=="init"&&this.raise(wt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(wt.value,Lt);break;case"ArrayExpression":wt.type="ArrayPattern",Vt&&this.checkPatternErrors(Vt,!0),this.toAssignableList(wt.elements,Lt);break;case"SpreadElement":wt.type="RestElement",this.toAssignable(wt.argument,Lt),wt.argument.type==="AssignmentPattern"&&this.raise(wt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":wt.operator!=="="&&this.raise(wt.left.end,"Only '=' operator can be used for specifying default value."),wt.type="AssignmentPattern",delete wt.operator,this.toAssignable(wt.left,Lt);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(wt.expression,Lt,Vt);break;case"MemberExpression":if(!Lt)break;default:this.raise(wt.start,"Assigning to rvalue")}else Vt&&this.checkPatternErrors(Vt,!0);return wt},Er.toAssignableList=function(wt,Lt){for(var Vt=wt.length,Xt=0;Xt<Vt;Xt++){var or=wt[Xt];or&&this.toAssignable(or,Lt)}if(Vt){var br=wt[Vt-1];this.options.ecmaVersion===6&&Lt&&br&&br.type==="RestElement"&&br.argument.type!=="Identifier"&&this.unexpected(br.argument.start)}return wt},Er.parseSpread=function(wt){var Lt=this.startNode();return this.next(),Lt.argument=this.parseMaybeAssign(!1,wt),this.finishNode(Lt,"SpreadElement")},Er.parseRestBinding=function(){var wt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==gt.name&&this.unexpected(),wt.argument=this.parseBindingAtom(),this.finishNode(wt,"RestElement")},Er.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case gt.bracketL:var wt=this.startNode();return this.next(),wt.elements=this.parseBindingList(gt.bracketR,!0,!0),this.finishNode(wt,"ArrayPattern");case gt.braceL:return this.parseObj(!0)}return this.parseIdent()},Er.parseBindingList=function(wt,Lt,Vt){for(var Xt=[],or=!0;!this.eat(wt);)if(or?or=!1:this.expect(gt.comma),Lt&&this.type===gt.comma)Xt.push(null);else{if(Vt&&this.afterTrailingComma(wt))break;if(this.type===gt.ellipsis){var br=this.parseRestBinding();this.parseBindingListItem(br),Xt.push(br),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(wt);break}else{var $r=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem($r),Xt.push($r)}}return Xt},Er.parseBindingListItem=function(wt){return wt},Er.parseMaybeDefault=function(wt,Lt,Vt){if(Vt=Vt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(gt.eq))return Vt;var Xt=this.startNodeAt(wt,Lt);return Xt.left=Vt,Xt.right=this.parseMaybeAssign(),this.finishNode(Xt,"AssignmentPattern")},Er.checkLVal=function(wt,Lt,Vt){switch(Lt===void 0&&(Lt=Ur),wt.type){case"Identifier":Lt===on&&wt.name==="let"&&this.raiseRecoverable(wt.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(wt.name)&&this.raiseRecoverable(wt.start,(Lt?"Binding ":"Assigning to ")+wt.name+" in strict mode"),Vt&&(Mt(Vt,wt.name)&&this.raiseRecoverable(wt.start,"Argument name clash"),Vt[wt.name]=!0),Lt!==Ur&&Lt!==Mn&&this.declareName(wt.name,Lt,wt.start);break;case"MemberExpression":Lt&&this.raiseRecoverable(wt.start,"Binding member expression");break;case"ObjectPattern":for(var Xt=0,or=wt.properties;Xt<or.length;Xt+=1){var br=or[Xt];this.checkLVal(br,Lt,Vt)}break;case"Property":this.checkLVal(wt.value,Lt,Vt);break;case"ArrayPattern":for(var $r=0,zr=wt.elements;$r<zr.length;$r+=1){var Zr=zr[$r];Zr&&this.checkLVal(Zr,Lt,Vt)}break;case"AssignmentPattern":this.checkLVal(wt.left,Lt,Vt);break;case"RestElement":this.checkLVal(wt.argument,Lt,Vt);break;case"ParenthesizedExpression":this.checkLVal(wt.expression,Lt,Vt);break;default:this.raise(wt.start,(Lt?"Binding":"Assigning to")+" rvalue")}};var Cr=pn.prototype;Cr.checkPropClash=function(wt,Lt,Vt){if(!(this.options.ecmaVersion>=9&&wt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(wt.computed||wt.method||wt.shorthand))){var Xt=wt.key,or;switch(Xt.type){case"Identifier":or=Xt.name;break;case"Literal":or=String(Xt.value);break;default:return}var br=wt.kind;if(this.options.ecmaVersion>=6){or==="__proto__"&&br==="init"&&(Lt.proto&&(Vt?Vt.doubleProto<0&&(Vt.doubleProto=Xt.start):this.raiseRecoverable(Xt.start,"Redefinition of __proto__ property")),Lt.proto=!0);return}or="$"+or;var $r=Lt[or];if($r){var zr;br==="init"?zr=this.strict&&$r.init||$r.get||$r.set:zr=$r.init||$r[br],zr&&this.raiseRecoverable(Xt.start,"Redefinition of property")}else $r=Lt[or]={init:!1,get:!1,set:!1};$r[br]=!0}},Cr.parseExpression=function(wt,Lt){var Vt=this.start,Xt=this.startLoc,or=this.parseMaybeAssign(wt,Lt);if(this.type===gt.comma){var br=this.startNodeAt(Vt,Xt);for(br.expressions=[or];this.eat(gt.comma);)br.expressions.push(this.parseMaybeAssign(wt,Lt));return this.finishNode(br,"SequenceExpression")}return or},Cr.parseMaybeAssign=function(wt,Lt,Vt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(wt);this.exprAllowed=!1}var Xt=!1,or=-1,br=-1;Lt?(or=Lt.parenthesizedAssign,br=Lt.trailingComma,Lt.parenthesizedAssign=Lt.trailingComma=-1):(Lt=new Nr,Xt=!0);var $r=this.start,zr=this.startLoc;(this.type===gt.parenL||this.type===gt.name)&&(this.potentialArrowAt=this.start);var Zr=this.parseMaybeConditional(wt,Lt);if(Vt&&(Zr=Vt.call(this,Zr,$r,zr)),this.type.isAssign){var wn=this.startNodeAt($r,zr);return wn.operator=this.value,wn.left=this.type===gt.eq?this.toAssignable(Zr,!1,Lt):Zr,Xt||(Lt.parenthesizedAssign=Lt.trailingComma=Lt.doubleProto=-1),Lt.shorthandAssign>=wn.left.start&&(Lt.shorthandAssign=-1),this.checkLVal(Zr),this.next(),wn.right=this.parseMaybeAssign(wt),this.finishNode(wn,"AssignmentExpression")}else Xt&&this.checkExpressionErrors(Lt,!0);return or>-1&&(Lt.parenthesizedAssign=or),br>-1&&(Lt.trailingComma=br),Zr},Cr.parseMaybeConditional=function(wt,Lt){var Vt=this.start,Xt=this.startLoc,or=this.parseExprOps(wt,Lt);if(this.checkExpressionErrors(Lt))return or;if(this.eat(gt.question)){var br=this.startNodeAt(Vt,Xt);return br.test=or,br.consequent=this.parseMaybeAssign(),this.expect(gt.colon),br.alternate=this.parseMaybeAssign(wt),this.finishNode(br,"ConditionalExpression")}return or},Cr.parseExprOps=function(wt,Lt){var Vt=this.start,Xt=this.startLoc,or=this.parseMaybeUnary(Lt,!1);return this.checkExpressionErrors(Lt)||or.start===Vt&&or.type==="ArrowFunctionExpression"?or:this.parseExprOp(or,Vt,Xt,-1,wt)},Cr.parseExprOp=function(wt,Lt,Vt,Xt,or){var br=this.type.binop;if(br!=null&&(!or||this.type!==gt._in)&&br>Xt){var $r=this.type===gt.logicalOR||this.type===gt.logicalAND,zr=this.value;this.next();var Zr=this.start,wn=this.startLoc,zn=this.parseExprOp(this.parseMaybeUnary(null,!1),Zr,wn,br,or),_i=this.buildBinary(Lt,Vt,wt,zn,zr,$r);return this.parseExprOp(_i,Lt,Vt,Xt,or)}return wt},Cr.buildBinary=function(wt,Lt,Vt,Xt,or,br){var $r=this.startNodeAt(wt,Lt);return $r.left=Vt,$r.operator=or,$r.right=Xt,this.finishNode($r,br?"LogicalExpression":"BinaryExpression")},Cr.parseMaybeUnary=function(wt,Lt){var Vt=this.start,Xt=this.startLoc,or;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))or=this.parseAwait(),Lt=!0;else if(this.type.prefix){var br=this.startNode(),$r=this.type===gt.incDec;br.operator=this.value,br.prefix=!0,this.next(),br.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(wt,!0),$r?this.checkLVal(br.argument):this.strict&&br.operator==="delete"&&br.argument.type==="Identifier"?this.raiseRecoverable(br.start,"Deleting local variable in strict mode"):Lt=!0,or=this.finishNode(br,$r?"UpdateExpression":"UnaryExpression")}else{if(or=this.parseExprSubscripts(wt),this.checkExpressionErrors(wt))return or;for(;this.type.postfix&&!this.canInsertSemicolon();){var zr=this.startNodeAt(Vt,Xt);zr.operator=this.value,zr.prefix=!1,zr.argument=or,this.checkLVal(or),this.next(),or=this.finishNode(zr,"UpdateExpression")}}return!Lt&&this.eat(gt.starstar)?this.buildBinary(Vt,Xt,or,this.parseMaybeUnary(null,!1),"**",!1):or},Cr.parseExprSubscripts=function(wt){var Lt=this.start,Vt=this.startLoc,Xt=this.parseExprAtom(wt);if(Xt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Xt;var or=this.parseSubscripts(Xt,Lt,Vt);return wt&&or.type==="MemberExpression"&&(wt.parenthesizedAssign>=or.start&&(wt.parenthesizedAssign=-1),wt.parenthesizedBind>=or.start&&(wt.parenthesizedBind=-1)),or},Cr.parseSubscripts=function(wt,Lt,Vt,Xt){for(var or=this.options.ecmaVersion>=8&&wt.type==="Identifier"&&wt.name==="async"&&this.lastTokEnd===wt.end&&!this.canInsertSemicolon()&&this.input.slice(wt.start,wt.end)==="async";;){var br=this.parseSubscript(wt,Lt,Vt,Xt,or);if(br===wt||br.type==="ArrowFunctionExpression")return br;wt=br}},Cr.parseSubscript=function(wt,Lt,Vt,Xt,or){var br=this.eat(gt.bracketL);if(br||this.eat(gt.dot)){var $r=this.startNodeAt(Lt,Vt);$r.object=wt,$r.property=br?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),$r.computed=!!br,br&&this.expect(gt.bracketR),wt=this.finishNode($r,"MemberExpression")}else if(!Xt&&this.eat(gt.parenL)){var zr=new Nr,Zr=this.yieldPos,wn=this.awaitPos,zn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var _i=this.parseExprList(gt.parenR,this.options.ecmaVersion>=8,!1,zr);if(or&&!this.canInsertSemicolon()&&this.eat(gt.arrow))return this.checkPatternErrors(zr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Zr,this.awaitPos=wn,this.awaitIdentPos=zn,this.parseArrowExpression(this.startNodeAt(Lt,Vt),_i,!0);this.checkExpressionErrors(zr,!0),this.yieldPos=Zr||this.yieldPos,this.awaitPos=wn||this.awaitPos,this.awaitIdentPos=zn||this.awaitIdentPos;var es=this.startNodeAt(Lt,Vt);es.callee=wt,es.arguments=_i,wt=this.finishNode(es,"CallExpression")}else if(this.type===gt.backQuote){var ys=this.startNodeAt(Lt,Vt);ys.tag=wt,ys.quasi=this.parseTemplate({isTagged:!0}),wt=this.finishNode(ys,"TaggedTemplateExpression")}return wt},Cr.parseExprAtom=function(wt){this.type===gt.slash&&this.readRegexp();var Lt,Vt=this.potentialArrowAt===this.start;switch(this.type){case gt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Lt=this.startNode(),this.next(),this.type===gt.parenL&&!this.allowDirectSuper&&this.raise(Lt.start,"super() call outside constructor of a subclass"),this.type!==gt.dot&&this.type!==gt.bracketL&&this.type!==gt.parenL&&this.unexpected(),this.finishNode(Lt,"Super");case gt._this:return Lt=this.startNode(),this.next(),this.finishNode(Lt,"ThisExpression");case gt.name:var Xt=this.start,or=this.startLoc,br=this.containsEsc,$r=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!br&&$r.name==="async"&&!this.canInsertSemicolon()&&this.eat(gt._function))return this.parseFunction(this.startNodeAt(Xt,or),0,!1,!0);if(Vt&&!this.canInsertSemicolon()){if(this.eat(gt.arrow))return this.parseArrowExpression(this.startNodeAt(Xt,or),[$r],!1);if(this.options.ecmaVersion>=8&&$r.name==="async"&&this.type===gt.name&&!br)return $r=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(gt.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Xt,or),[$r],!0)}return $r;case gt.regexp:var zr=this.value;return Lt=this.parseLiteral(zr.value),Lt.regex={pattern:zr.pattern,flags:zr.flags},Lt;case gt.num:case gt.string:return this.parseLiteral(this.value);case gt._null:case gt._true:case gt._false:return Lt=this.startNode(),Lt.value=this.type===gt._null?null:this.type===gt._true,Lt.raw=this.type.keyword,this.next(),this.finishNode(Lt,"Literal");case gt.parenL:var Zr=this.start,wn=this.parseParenAndDistinguishExpression(Vt);return wt&&(wt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(wn)&&(wt.parenthesizedAssign=Zr),wt.parenthesizedBind<0&&(wt.parenthesizedBind=Zr)),wn;case gt.bracketL:return Lt=this.startNode(),this.next(),Lt.elements=this.parseExprList(gt.bracketR,!0,!0,wt),this.finishNode(Lt,"ArrayExpression");case gt.braceL:return this.parseObj(!1,wt);case gt._function:return Lt=this.startNode(),this.next(),this.parseFunction(Lt,0);case gt._class:return this.parseClass(this.startNode(),!1);case gt._new:return this.parseNew();case gt.backQuote:return this.parseTemplate();case gt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Cr.parseExprImport=function(){var wt=this.startNode();switch(this.next(),this.type){case gt.parenL:return this.parseDynamicImport(wt);default:this.unexpected()}},Cr.parseDynamicImport=function(wt){if(this.next(),wt.source=this.parseMaybeAssign(),!this.eat(gt.parenR)){var Lt=this.start;this.eat(gt.comma)&&this.eat(gt.parenR)?this.raiseRecoverable(Lt,"Trailing comma is not allowed in import()"):this.unexpected(Lt)}return this.finishNode(wt,"ImportExpression")},Cr.parseLiteral=function(wt){var Lt=this.startNode();return Lt.value=wt,Lt.raw=this.input.slice(this.start,this.end),Lt.raw.charCodeAt(Lt.raw.length-1)===110&&(Lt.bigint=Lt.raw.slice(0,-1)),this.next(),this.finishNode(Lt,"Literal")},Cr.parseParenExpression=function(){this.expect(gt.parenL);var wt=this.parseExpression();return this.expect(gt.parenR),wt},Cr.parseParenAndDistinguishExpression=function(wt){var Lt=this.start,Vt=this.startLoc,Xt,or=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var br=this.start,$r=this.startLoc,zr=[],Zr=!0,wn=!1,zn=new Nr,_i=this.yieldPos,es=this.awaitPos,ys;for(this.yieldPos=0,this.awaitPos=0;this.type!==gt.parenR;)if(Zr?Zr=!1:this.expect(gt.comma),or&&this.afterTrailingComma(gt.parenR,!0)){wn=!0;break}else if(this.type===gt.ellipsis){ys=this.start,zr.push(this.parseParenItem(this.parseRestBinding())),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else zr.push(this.parseMaybeAssign(!1,zn,this.parseParenItem));var Bs=this.start,yn=this.startLoc;if(this.expect(gt.parenR),wt&&!this.canInsertSemicolon()&&this.eat(gt.arrow))return this.checkPatternErrors(zn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=_i,this.awaitPos=es,this.parseParenArrowList(Lt,Vt,zr);(!zr.length||wn)&&this.unexpected(this.lastTokStart),ys&&this.unexpected(ys),this.checkExpressionErrors(zn,!0),this.yieldPos=_i||this.yieldPos,this.awaitPos=es||this.awaitPos,zr.length>1?(Xt=this.startNodeAt(br,$r),Xt.expressions=zr,this.finishNodeAt(Xt,"SequenceExpression",Bs,yn)):Xt=zr[0]}else Xt=this.parseParenExpression();if(this.options.preserveParens){var vs=this.startNodeAt(Lt,Vt);return vs.expression=Xt,this.finishNode(vs,"ParenthesizedExpression")}else return Xt},Cr.parseParenItem=function(wt){return wt},Cr.parseParenArrowList=function(wt,Lt,Vt){return this.parseArrowExpression(this.startNodeAt(wt,Lt),Vt)};var Hr=[];Cr.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var wt=this.startNode(),Lt=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(gt.dot)){wt.meta=Lt;var Vt=this.containsEsc;return wt.property=this.parseIdent(!0),(wt.property.name!=="target"||Vt)&&this.raiseRecoverable(wt.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(wt.start,"new.target can only be used in functions"),this.finishNode(wt,"MetaProperty")}var Xt=this.start,or=this.startLoc,br=this.type===gt._import;return wt.callee=this.parseSubscripts(this.parseExprAtom(),Xt,or,!0),br&&wt.callee.type==="ImportExpression"&&this.raise(Xt,"Cannot use new with import()"),this.eat(gt.parenL)?wt.arguments=this.parseExprList(gt.parenR,this.options.ecmaVersion>=8,!1):wt.arguments=Hr,this.finishNode(wt,"NewExpression")},Cr.parseTemplateElement=function(wt){var Lt=wt.isTagged,Vt=this.startNode();return this.type===gt.invalidTemplate?(Lt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Vt.value={raw:this.value,cooked:null}):Vt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Vt.tail=this.type===gt.backQuote,this.finishNode(Vt,"TemplateElement")},Cr.parseTemplate=function(wt){wt===void 0&&(wt={});var Lt=wt.isTagged;Lt===void 0&&(Lt=!1);var Vt=this.startNode();this.next(),Vt.expressions=[];var Xt=this.parseTemplateElement({isTagged:Lt});for(Vt.quasis=[Xt];!Xt.tail;)this.type===gt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(gt.dollarBraceL),Vt.expressions.push(this.parseExpression()),this.expect(gt.braceR),Vt.quasis.push(Xt=this.parseTemplateElement({isTagged:Lt}));return this.next(),this.finishNode(Vt,"TemplateLiteral")},Cr.isAsyncProp=function(wt){return!wt.computed&&wt.key.type==="Identifier"&&wt.key.name==="async"&&(this.type===gt.name||this.type===gt.num||this.type===gt.string||this.type===gt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===gt.star)&&!Et.test(this.input.slice(this.lastTokEnd,this.start))},Cr.parseObj=function(wt,Lt){var Vt=this.startNode(),Xt=!0,or={};for(Vt.properties=[],this.next();!this.eat(gt.braceR);){if(Xt)Xt=!1;else if(this.expect(gt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(gt.braceR))break;var br=this.parseProperty(wt,Lt);wt||this.checkPropClash(br,or,Lt),Vt.properties.push(br)}return this.finishNode(Vt,wt?"ObjectPattern":"ObjectExpression")},Cr.parseProperty=function(wt,Lt){var Vt=this.startNode(),Xt,or,br,$r;if(this.options.ecmaVersion>=9&&this.eat(gt.ellipsis))return wt?(Vt.argument=this.parseIdent(!1),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Vt,"RestElement")):(this.type===gt.parenL&&Lt&&(Lt.parenthesizedAssign<0&&(Lt.parenthesizedAssign=this.start),Lt.parenthesizedBind<0&&(Lt.parenthesizedBind=this.start)),Vt.argument=this.parseMaybeAssign(!1,Lt),this.type===gt.comma&&Lt&&Lt.trailingComma<0&&(Lt.trailingComma=this.start),this.finishNode(Vt,"SpreadElement"));this.options.ecmaVersion>=6&&(Vt.method=!1,Vt.shorthand=!1,(wt||Lt)&&(br=this.start,$r=this.startLoc),wt||(Xt=this.eat(gt.star)));var zr=this.containsEsc;return this.parsePropertyName(Vt),!wt&&!zr&&this.options.ecmaVersion>=8&&!Xt&&this.isAsyncProp(Vt)?(or=!0,Xt=this.options.ecmaVersion>=9&&this.eat(gt.star),this.parsePropertyName(Vt,Lt)):or=!1,this.parsePropertyValue(Vt,wt,Xt,or,br,$r,Lt,zr),this.finishNode(Vt,"Property")},Cr.parsePropertyValue=function(wt,Lt,Vt,Xt,or,br,$r,zr){if((Vt||Xt)&&this.type===gt.colon&&this.unexpected(),this.eat(gt.colon))wt.value=Lt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,$r),wt.kind="init";else if(this.options.ecmaVersion>=6&&this.type===gt.parenL)Lt&&this.unexpected(),wt.kind="init",wt.method=!0,wt.value=this.parseMethod(Vt,Xt);else if(!Lt&&!zr&&this.options.ecmaVersion>=5&&!wt.computed&&wt.key.type==="Identifier"&&(wt.key.name==="get"||wt.key.name==="set")&&this.type!==gt.comma&&this.type!==gt.braceR){(Vt||Xt)&&this.unexpected(),wt.kind=wt.key.name,this.parsePropertyName(wt),wt.value=this.parseMethod(!1);var Zr=wt.kind==="get"?0:1;if(wt.value.params.length!==Zr){var wn=wt.value.start;wt.kind==="get"?this.raiseRecoverable(wn,"getter should have no params"):this.raiseRecoverable(wn,"setter should have exactly one param")}else wt.kind==="set"&&wt.value.params[0].type==="RestElement"&&this.raiseRecoverable(wt.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!wt.computed&&wt.key.type==="Identifier"?((Vt||Xt)&&this.unexpected(),this.checkUnreserved(wt.key),wt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=or),wt.kind="init",Lt?wt.value=this.parseMaybeDefault(or,br,wt.key):this.type===gt.eq&&$r?($r.shorthandAssign<0&&($r.shorthandAssign=this.start),wt.value=this.parseMaybeDefault(or,br,wt.key)):wt.value=wt.key,wt.shorthand=!0):this.unexpected()},Cr.parsePropertyName=function(wt){if(this.options.ecmaVersion>=6){if(this.eat(gt.bracketL))return wt.computed=!0,wt.key=this.parseMaybeAssign(),this.expect(gt.bracketR),wt.key;wt.computed=!1}return wt.key=this.type===gt.num||this.type===gt.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Cr.initFunction=function(wt){wt.id=null,this.options.ecmaVersion>=6&&(wt.generator=wt.expression=!1),this.options.ecmaVersion>=8&&(wt.async=!1)},Cr.parseMethod=function(wt,Lt,Vt){var Xt=this.startNode(),or=this.yieldPos,br=this.awaitPos,$r=this.awaitIdentPos;return this.initFunction(Xt),this.options.ecmaVersion>=6&&(Xt.generator=wt),this.options.ecmaVersion>=8&&(Xt.async=!!Lt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(dr(Lt,Xt.generator)|xr|(Vt?Sr:0)),this.expect(gt.parenL),Xt.params=this.parseBindingList(gt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Xt,!1,!0),this.yieldPos=or,this.awaitPos=br,this.awaitIdentPos=$r,this.finishNode(Xt,"FunctionExpression")},Cr.parseArrowExpression=function(wt,Lt,Vt){var Xt=this.yieldPos,or=this.awaitPos,br=this.awaitIdentPos;return this.enterScope(dr(Vt,!1)|rr),this.initFunction(wt),this.options.ecmaVersion>=8&&(wt.async=!!Vt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,wt.params=this.toAssignableList(Lt,!0),this.parseFunctionBody(wt,!0,!1),this.yieldPos=Xt,this.awaitPos=or,this.awaitIdentPos=br,this.finishNode(wt,"ArrowFunctionExpression")},Cr.parseFunctionBody=function(wt,Lt,Vt){var Xt=Lt&&this.type!==gt.braceL,or=this.strict,br=!1;if(Xt)wt.body=this.parseMaybeAssign(),wt.expression=!0,this.checkParams(wt,!1);else{var $r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(wt.params);(!or||$r)&&(br=this.strictDirective(this.end),br&&$r&&this.raiseRecoverable(wt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var zr=this.labels;this.labels=[],br&&(this.strict=!0),this.checkParams(wt,!or&&!br&&!Lt&&!Vt&&this.isSimpleParamList(wt.params)),wt.body=this.parseBlock(!1),wt.expression=!1,this.adaptDirectivePrologue(wt.body.body),this.labels=zr}this.exitScope(),this.strict&&wt.id&&this.checkLVal(wt.id,Mn),this.strict=or},Cr.isSimpleParamList=function(wt){for(var Lt=0,Vt=wt;Lt<Vt.length;Lt+=1){var Xt=Vt[Lt];if(Xt.type!=="Identifier")return!1}return!0},Cr.checkParams=function(wt,Lt){for(var Vt={},Xt=0,or=wt.params;Xt<or.length;Xt+=1){var br=or[Xt];this.checkLVal(br,tn,Lt?null:Vt)}},Cr.parseExprList=function(wt,Lt,Vt,Xt){for(var or=[],br=!0;!this.eat(wt);){if(br)br=!1;else if(this.expect(gt.comma),Lt&&this.afterTrailingComma(wt))break;var $r=void 0;Vt&&this.type===gt.comma?$r=null:this.type===gt.ellipsis?($r=this.parseSpread(Xt),Xt&&this.type===gt.comma&&Xt.trailingComma<0&&(Xt.trailingComma=this.start)):$r=this.parseMaybeAssign(!1,Xt),or.push($r)}return or},Cr.checkUnreserved=function(wt){var Lt=wt.start,Vt=wt.end,Xt=wt.name;if(this.inGenerator&&Xt==="yield"&&this.raiseRecoverable(Lt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Xt==="await"&&this.raiseRecoverable(Lt,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Xt)&&this.raise(Lt,"Unexpected keyword '"+Xt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Lt,Vt).indexOf("\\")!==-1)){var or=this.strict?this.reservedWordsStrict:this.reservedWords;or.test(Xt)&&(!this.inAsync&&Xt==="await"&&this.raiseRecoverable(Lt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Lt,"The keyword '"+Xt+"' is reserved"))}},Cr.parseIdent=function(wt,Lt){var Vt=this.startNode();return this.type===gt.name?Vt.name=this.value:this.type.keyword?(Vt.name=this.type.keyword,(Vt.name==="class"||Vt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!wt),this.finishNode(Vt,"Identifier"),wt||(this.checkUnreserved(Vt),Vt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Vt.start)),Vt},Cr.parseYield=function(wt){this.yieldPos||(this.yieldPos=this.start);var Lt=this.startNode();return this.next(),this.type===gt.semi||this.canInsertSemicolon()||this.type!==gt.star&&!this.type.startsExpr?(Lt.delegate=!1,Lt.argument=null):(Lt.delegate=this.eat(gt.star),Lt.argument=this.parseMaybeAssign(wt)),this.finishNode(Lt,"YieldExpression")},Cr.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var wt=this.startNode();return this.next(),wt.argument=this.parseMaybeUnary(null,!1),this.finishNode(wt,"AwaitExpression")};var rn=pn.prototype;rn.raise=function(wt,Lt){var Vt=zt(this.input,wt);Lt+=" ("+Vt.line+":"+Vt.column+")";var Xt=new SyntaxError(Lt);throw Xt.pos=wt,Xt.loc=Vt,Xt.raisedAt=this.pos,Xt},rn.raiseRecoverable=rn.raise,rn.curPosition=function(){if(this.options.locations)return new Kt(this.curLine,this.pos-this.lineStart)};var Dr=pn.prototype,Yr=function(Lt){this.flags=Lt,this.var=[],this.lexical=[],this.functions=[]};Dr.enterScope=function(wt){this.scopeStack.push(new Yr(wt))},Dr.exitScope=function(){this.scopeStack.pop()},Dr.treatFunctionsAsVarInScope=function(wt){return wt.flags&fr||!this.inModule&&wt.flags&hr},Dr.declareName=function(wt,Lt,Vt){var Xt=!1;if(Lt===on){var or=this.currentScope();Xt=or.lexical.indexOf(wt)>-1||or.functions.indexOf(wt)>-1||or.var.indexOf(wt)>-1,or.lexical.push(wt),this.inModule&&or.flags&hr&&delete this.undefinedExports[wt]}else if(Lt===Nn){var br=this.currentScope();br.lexical.push(wt)}else if(Lt===Rn){var $r=this.currentScope();this.treatFunctionsAsVar?Xt=$r.lexical.indexOf(wt)>-1:Xt=$r.lexical.indexOf(wt)>-1||$r.var.indexOf(wt)>-1,$r.functions.push(wt)}else for(var zr=this.scopeStack.length-1;zr>=0;--zr){var Zr=this.scopeStack[zr];if(Zr.lexical.indexOf(wt)>-1&&!(Zr.flags&qt&&Zr.lexical[0]===wt)||!this.treatFunctionsAsVarInScope(Zr)&&Zr.functions.indexOf(wt)>-1){Xt=!0;break}if(Zr.var.push(wt),this.inModule&&Zr.flags&hr&&delete this.undefinedExports[wt],Zr.flags&pr)break}Xt&&this.raiseRecoverable(Vt,"Identifier '"+wt+"' has already been declared")},Dr.checkLocalExport=function(wt){this.scopeStack[0].lexical.indexOf(wt.name)===-1&&this.scopeStack[0].var.indexOf(wt.name)===-1&&(this.undefinedExports[wt.name]=wt)},Dr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Dr.currentVarScope=function(){for(var wt=this.scopeStack.length-1;;wt--){var Lt=this.scopeStack[wt];if(Lt.flags&pr)return Lt}},Dr.currentThisScope=function(){for(var wt=this.scopeStack.length-1;;wt--){var Lt=this.scopeStack[wt];if(Lt.flags&pr&&!(Lt.flags&rr))return Lt}};var jr=function(Lt,Vt,Xt){this.type="",this.start=Vt,this.end=0,Lt.options.locations&&(this.loc=new Wt(Lt,Xt)),Lt.options.directSourceFile&&(this.sourceFile=Lt.options.directSourceFile),Lt.options.ranges&&(this.range=[Vt,0])},Gr=pn.prototype;Gr.startNode=function(){return new jr(this,this.start,this.startLoc)},Gr.startNodeAt=function(wt,Lt){return new jr(this,wt,Lt)};function an(wt,Lt,Vt,Xt){return wt.type=Lt,wt.end=Vt,this.options.locations&&(wt.loc.end=Xt),this.options.ranges&&(wt.range[1]=Vt),wt}Gr.finishNode=function(wt,Lt){return an.call(this,wt,Lt,this.lastTokEnd,this.lastTokEndLoc)},Gr.finishNodeAt=function(wt,Lt,Vt,Xt){return an.call(this,wt,Lt,Vt,Xt)};var Rr=function(Lt,Vt,Xt,or,br){this.token=Lt,this.isExpr=!!Vt,this.preserveSpace=!!Xt,this.override=or,this.generator=!!br},mn={b_stat:new Rr("{",!1),b_expr:new Rr("{",!0),b_tmpl:new Rr("${",!1),p_stat:new Rr("(",!1),p_expr:new Rr("(",!0),q_tmpl:new Rr("`",!0,!0,function(wt){return wt.tryReadTemplateToken()}),f_stat:new Rr("function",!1),f_expr:new Rr("function",!0),f_expr_gen:new Rr("function",!0,!1,null,!0),f_gen:new Rr("function",!1,!1,null,!0)},Rs=pn.prototype;Rs.initialContext=function(){return[mn.b_stat]},Rs.braceIsBlock=function(wt){var Lt=this.curContext();return Lt===mn.f_expr||Lt===mn.f_stat?!0:wt===gt.colon&&(Lt===mn.b_stat||Lt===mn.b_expr)?!Lt.isExpr:wt===gt._return||wt===gt.name&&this.exprAllowed?Et.test(this.input.slice(this.lastTokEnd,this.start)):wt===gt._else||wt===gt.semi||wt===gt.eof||wt===gt.parenR||wt===gt.arrow?!0:wt===gt.braceL?Lt===mn.b_stat:wt===gt._var||wt===gt._const||wt===gt.name?!1:!this.exprAllowed},Rs.inGeneratorContext=function(){for(var wt=this.context.length-1;wt>=1;wt--){var Lt=this.context[wt];if(Lt.token==="function")return Lt.generator}return!1},Rs.updateContext=function(wt){var Lt,Vt=this.type;Vt.keyword&&wt===gt.dot?this.exprAllowed=!1:(Lt=Vt.updateContext)?Lt.call(this,wt):this.exprAllowed=Vt.beforeExpr},gt.parenR.updateContext=gt.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var wt=this.context.pop();wt===mn.b_stat&&this.curContext().token==="function"&&(wt=this.context.pop()),this.exprAllowed=!wt.isExpr},gt.braceL.updateContext=function(wt){this.context.push(this.braceIsBlock(wt)?mn.b_stat:mn.b_expr),this.exprAllowed=!0},gt.dollarBraceL.updateContext=function(){this.context.push(mn.b_tmpl),this.exprAllowed=!0},gt.parenL.updateContext=function(wt){var Lt=wt===gt._if||wt===gt._for||wt===gt._with||wt===gt._while;this.context.push(Lt?mn.p_stat:mn.p_expr),this.exprAllowed=!0},gt.incDec.updateContext=function(){},gt._function.updateContext=gt._class.updateContext=function(wt){wt.beforeExpr&&wt!==gt.semi&&wt!==gt._else&&!(wt===gt._return&&Et.test(this.input.slice(this.lastTokEnd,this.start)))&&!((wt===gt.colon||wt===gt.braceL)&&this.curContext()===mn.b_stat)?this.context.push(mn.f_expr):this.context.push(mn.f_stat),this.exprAllowed=!1},gt.backQuote.updateContext=function(){this.curContext()===mn.q_tmpl?this.context.pop():this.context.push(mn.q_tmpl),this.exprAllowed=!1},gt.star.updateContext=function(wt){if(wt===gt._function){var Lt=this.context.length-1;this.context[Lt]===mn.f_expr?this.context[Lt]=mn.f_expr_gen:this.context[Lt]=mn.f_gen}this.exprAllowed=!0},gt.name.updateContext=function(wt){var Lt=!1;this.options.ecmaVersion>=6&&wt!==gt.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Lt=!0),this.exprAllowed=Lt};var ps="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Xn=ps+" Extended_Pictographic",ls=Xn,Ns={9:ps,10:Xn,11:ls},ms="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",no="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Vs=no+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",io=Vs+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",us={9:no,10:Vs,11:io},cs={};function Gs(wt){var Lt=cs[wt]={binary:Bt(Ns[wt]+" "+ms),nonBinary:{General_Category:Bt(ms),Script:Bt(us[wt])}};Lt.nonBinary.Script_Extensions=Lt.nonBinary.Script,Lt.nonBinary.gc=Lt.nonBinary.General_Category,Lt.nonBinary.sc=Lt.nonBinary.Script,Lt.nonBinary.scx=Lt.nonBinary.Script_Extensions}Gs(9),Gs(10),Gs(11);var Jr=pn.prototype,hs=function(Lt){this.parser=Lt,this.validFlags="gim"+(Lt.options.ecmaVersion>=6?"uy":"")+(Lt.options.ecmaVersion>=9?"s":""),this.unicodeProperties=cs[Lt.options.ecmaVersion>=11?11:Lt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};hs.prototype.reset=function(Lt,Vt,Xt){var or=Xt.indexOf("u")!==-1;this.start=Lt|0,this.source=Vt+"",this.flags=Xt,this.switchU=or&&this.parser.options.ecmaVersion>=6,this.switchN=or&&this.parser.options.ecmaVersion>=9},hs.prototype.raise=function(Lt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Lt)},hs.prototype.at=function(Lt){var Vt=this.source,Xt=Vt.length;if(Lt>=Xt)return-1;var or=Vt.charCodeAt(Lt);if(!this.switchU||or<=55295||or>=57344||Lt+1>=Xt)return or;var br=Vt.charCodeAt(Lt+1);return br>=56320&&br<=57343?(or<<10)+br-56613888:or},hs.prototype.nextIndex=function(Lt){var Vt=this.source,Xt=Vt.length;if(Lt>=Xt)return Xt;var or=Vt.charCodeAt(Lt),br;return!this.switchU||or<=55295||or>=57344||Lt+1>=Xt||(br=Vt.charCodeAt(Lt+1))<56320||br>57343?Lt+1:Lt+2},hs.prototype.current=function(){return this.at(this.pos)},hs.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},hs.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},hs.prototype.eat=function(Lt){return this.current()===Lt?(this.advance(),!0):!1};function Ks(wt){return wt<=65535?String.fromCharCode(wt):(wt-=65536,String.fromCharCode((wt>>10)+55296,(wt&1023)+56320))}Jr.validateRegExpFlags=function(wt){for(var Lt=wt.validFlags,Vt=wt.flags,Xt=0;Xt<Vt.length;Xt++){var or=Vt.charAt(Xt);Lt.indexOf(or)===-1&&this.raise(wt.start,"Invalid regular expression flag"),Vt.indexOf(or,Xt+1)>-1&&this.raise(wt.start,"Duplicate regular expression flag")}},Jr.validateRegExpPattern=function(wt){this.regexp_pattern(wt),!wt.switchN&&this.options.ecmaVersion>=9&&wt.groupNames.length>0&&(wt.switchN=!0,this.regexp_pattern(wt))},Jr.regexp_pattern=function(wt){wt.pos=0,wt.lastIntValue=0,wt.lastStringValue="",wt.lastAssertionIsQuantifiable=!1,wt.numCapturingParens=0,wt.maxBackReference=0,wt.groupNames.length=0,wt.backReferenceNames.length=0,this.regexp_disjunction(wt),wt.pos!==wt.source.length&&(wt.eat(41)&&wt.raise("Unmatched ')'"),(wt.eat(93)||wt.eat(125))&&wt.raise("Lone quantifier brackets")),wt.maxBackReference>wt.numCapturingParens&&wt.raise("Invalid escape");for(var Lt=0,Vt=wt.backReferenceNames;Lt<Vt.length;Lt+=1){var Xt=Vt[Lt];wt.groupNames.indexOf(Xt)===-1&&wt.raise("Invalid named capture referenced")}},Jr.regexp_disjunction=function(wt){for(this.regexp_alternative(wt);wt.eat(124);)this.regexp_alternative(wt);this.regexp_eatQuantifier(wt,!0)&&wt.raise("Nothing to repeat"),wt.eat(123)&&wt.raise("Lone quantifier brackets")},Jr.regexp_alternative=function(wt){for(;wt.pos<wt.source.length&&this.regexp_eatTerm(wt););},Jr.regexp_eatTerm=function(wt){return this.regexp_eatAssertion(wt)?(wt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(wt)&&wt.switchU&&wt.raise("Invalid quantifier"),!0):(wt.switchU?this.regexp_eatAtom(wt):this.regexp_eatExtendedAtom(wt))?(this.regexp_eatQuantifier(wt),!0):!1},Jr.regexp_eatAssertion=function(wt){var Lt=wt.pos;if(wt.lastAssertionIsQuantifiable=!1,wt.eat(94)||wt.eat(36))return!0;if(wt.eat(92)){if(wt.eat(66)||wt.eat(98))return!0;wt.pos=Lt}if(wt.eat(40)&&wt.eat(63)){var Vt=!1;if(this.options.ecmaVersion>=9&&(Vt=wt.eat(60)),wt.eat(61)||wt.eat(33))return this.regexp_disjunction(wt),wt.eat(41)||wt.raise("Unterminated group"),wt.lastAssertionIsQuantifiable=!Vt,!0}return wt.pos=Lt,!1},Jr.regexp_eatQuantifier=function(wt,Lt){return Lt===void 0&&(Lt=!1),this.regexp_eatQuantifierPrefix(wt,Lt)?(wt.eat(63),!0):!1},Jr.regexp_eatQuantifierPrefix=function(wt,Lt){return wt.eat(42)||wt.eat(43)||wt.eat(63)||this.regexp_eatBracedQuantifier(wt,Lt)},Jr.regexp_eatBracedQuantifier=function(wt,Lt){var Vt=wt.pos;if(wt.eat(123)){var Xt=0,or=-1;if(this.regexp_eatDecimalDigits(wt)&&(Xt=wt.lastIntValue,wt.eat(44)&&this.regexp_eatDecimalDigits(wt)&&(or=wt.lastIntValue),wt.eat(125)))return or!==-1&&or<Xt&&!Lt&&wt.raise("numbers out of order in {} quantifier"),!0;wt.switchU&&!Lt&&wt.raise("Incomplete quantifier"),wt.pos=Vt}return!1},Jr.regexp_eatAtom=function(wt){return this.regexp_eatPatternCharacters(wt)||wt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(wt)||this.regexp_eatCharacterClass(wt)||this.regexp_eatUncapturingGroup(wt)||this.regexp_eatCapturingGroup(wt)},Jr.regexp_eatReverseSolidusAtomEscape=function(wt){var Lt=wt.pos;if(wt.eat(92)){if(this.regexp_eatAtomEscape(wt))return!0;wt.pos=Lt}return!1},Jr.regexp_eatUncapturingGroup=function(wt){var Lt=wt.pos;if(wt.eat(40)){if(wt.eat(63)&&wt.eat(58)){if(this.regexp_disjunction(wt),wt.eat(41))return!0;wt.raise("Unterminated group")}wt.pos=Lt}return!1},Jr.regexp_eatCapturingGroup=function(wt){if(wt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(wt):wt.current()===63&&wt.raise("Invalid group"),this.regexp_disjunction(wt),wt.eat(41))return wt.numCapturingParens+=1,!0;wt.raise("Unterminated group")}return!1},Jr.regexp_eatExtendedAtom=function(wt){return wt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(wt)||this.regexp_eatCharacterClass(wt)||this.regexp_eatUncapturingGroup(wt)||this.regexp_eatCapturingGroup(wt)||this.regexp_eatInvalidBracedQuantifier(wt)||this.regexp_eatExtendedPatternCharacter(wt)},Jr.regexp_eatInvalidBracedQuantifier=function(wt){return this.regexp_eatBracedQuantifier(wt,!0)&&wt.raise("Nothing to repeat"),!1},Jr.regexp_eatSyntaxCharacter=function(wt){var Lt=wt.current();return ws(Lt)?(wt.lastIntValue=Lt,wt.advance(),!0):!1};function ws(wt){return wt===36||wt>=40&&wt<=43||wt===46||wt===63||wt>=91&&wt<=94||wt>=123&&wt<=125}Jr.regexp_eatPatternCharacters=function(wt){for(var Lt=wt.pos,Vt=0;(Vt=wt.current())!==-1&&!ws(Vt);)wt.advance();return wt.pos!==Lt},Jr.regexp_eatExtendedPatternCharacter=function(wt){var Lt=wt.current();return Lt!==-1&&Lt!==36&&!(Lt>=40&&Lt<=43)&&Lt!==46&&Lt!==63&&Lt!==91&&Lt!==94&&Lt!==124?(wt.advance(),!0):!1},Jr.regexp_groupSpecifier=function(wt){if(wt.eat(63)){if(this.regexp_eatGroupName(wt)){wt.groupNames.indexOf(wt.lastStringValue)!==-1&&wt.raise("Duplicate capture group name"),wt.groupNames.push(wt.lastStringValue);return}wt.raise("Invalid group")}},Jr.regexp_eatGroupName=function(wt){if(wt.lastStringValue="",wt.eat(60)){if(this.regexp_eatRegExpIdentifierName(wt)&&wt.eat(62))return!0;wt.raise("Invalid capture group name")}return!1},Jr.regexp_eatRegExpIdentifierName=function(wt){if(wt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(wt)){for(wt.lastStringValue+=Ks(wt.lastIntValue);this.regexp_eatRegExpIdentifierPart(wt);)wt.lastStringValue+=Ks(wt.lastIntValue);return!0}return!1},Jr.regexp_eatRegExpIdentifierStart=function(wt){var Lt=wt.pos,Vt=wt.current();return wt.advance(),Vt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(wt)&&(Vt=wt.lastIntValue),Zn(Vt)?(wt.lastIntValue=Vt,!0):(wt.pos=Lt,!1)};function Zn(wt){return ht(wt,!0)||wt===36||wt===95}Jr.regexp_eatRegExpIdentifierPart=function(wt){var Lt=wt.pos,Vt=wt.current();return wt.advance(),Vt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(wt)&&(Vt=wt.lastIntValue),ho(Vt)?(wt.lastIntValue=Vt,!0):(wt.pos=Lt,!1)};function ho(wt){return ut(wt,!0)||wt===36||wt===95||wt===8204||wt===8205}Jr.regexp_eatAtomEscape=function(wt){return this.regexp_eatBackReference(wt)||this.regexp_eatCharacterClassEscape(wt)||this.regexp_eatCharacterEscape(wt)||wt.switchN&&this.regexp_eatKGroupName(wt)?!0:(wt.switchU&&(wt.current()===99&&wt.raise("Invalid unicode escape"),wt.raise("Invalid escape")),!1)},Jr.regexp_eatBackReference=function(wt){var Lt=wt.pos;if(this.regexp_eatDecimalEscape(wt)){var Vt=wt.lastIntValue;if(wt.switchU)return Vt>wt.maxBackReference&&(wt.maxBackReference=Vt),!0;if(Vt<=wt.numCapturingParens)return!0;wt.pos=Lt}return!1},Jr.regexp_eatKGroupName=function(wt){if(wt.eat(107)){if(this.regexp_eatGroupName(wt))return wt.backReferenceNames.push(wt.lastStringValue),!0;wt.raise("Invalid named reference")}return!1},Jr.regexp_eatCharacterEscape=function(wt){return this.regexp_eatControlEscape(wt)||this.regexp_eatCControlLetter(wt)||this.regexp_eatZero(wt)||this.regexp_eatHexEscapeSequence(wt)||this.regexp_eatRegExpUnicodeEscapeSequence(wt)||!wt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(wt)||this.regexp_eatIdentityEscape(wt)},Jr.regexp_eatCControlLetter=function(wt){var Lt=wt.pos;if(wt.eat(99)){if(this.regexp_eatControlLetter(wt))return!0;wt.pos=Lt}return!1},Jr.regexp_eatZero=function(wt){return wt.current()===48&&!_s(wt.lookahead())?(wt.lastIntValue=0,wt.advance(),!0):!1},Jr.regexp_eatControlEscape=function(wt){var Lt=wt.current();return Lt===116?(wt.lastIntValue=9,wt.advance(),!0):Lt===110?(wt.lastIntValue=10,wt.advance(),!0):Lt===118?(wt.lastIntValue=11,wt.advance(),!0):Lt===102?(wt.lastIntValue=12,wt.advance(),!0):Lt===114?(wt.lastIntValue=13,wt.advance(),!0):!1},Jr.regexp_eatControlLetter=function(wt){var Lt=wt.current();return so(Lt)?(wt.lastIntValue=Lt%32,wt.advance(),!0):!1};function so(wt){return wt>=65&&wt<=90||wt>=97&&wt<=122}Jr.regexp_eatRegExpUnicodeEscapeSequence=function(wt){var Lt=wt.pos;if(wt.eat(117)){if(this.regexp_eatFixedHexDigits(wt,4)){var Vt=wt.lastIntValue;if(wt.switchU&&Vt>=55296&&Vt<=56319){var Xt=wt.pos;if(wt.eat(92)&&wt.eat(117)&&this.regexp_eatFixedHexDigits(wt,4)){var or=wt.lastIntValue;if(or>=56320&&or<=57343)return wt.lastIntValue=(Vt-55296)*1024+(or-56320)+65536,!0}wt.pos=Xt,wt.lastIntValue=Vt}return!0}if(wt.switchU&&wt.eat(123)&&this.regexp_eatHexDigits(wt)&&wt.eat(125)&&fo(wt.lastIntValue))return!0;wt.switchU&&wt.raise("Invalid unicode escape"),wt.pos=Lt}return!1};function fo(wt){return wt>=0&&wt<=1114111}Jr.regexp_eatIdentityEscape=function(wt){if(wt.switchU)return this.regexp_eatSyntaxCharacter(wt)?!0:wt.eat(47)?(wt.lastIntValue=47,!0):!1;var Lt=wt.current();return Lt!==99&&(!wt.switchN||Lt!==107)?(wt.lastIntValue=Lt,wt.advance(),!0):!1},Jr.regexp_eatDecimalEscape=function(wt){wt.lastIntValue=0;var Lt=wt.current();if(Lt>=49&&Lt<=57){do wt.lastIntValue=10*wt.lastIntValue+(Lt-48),wt.advance();while((Lt=wt.current())>=48&&Lt<=57);return!0}return!1},Jr.regexp_eatCharacterClassEscape=function(wt){var Lt=wt.current();if(po(Lt))return wt.lastIntValue=-1,wt.advance(),!0;if(wt.switchU&&this.options.ecmaVersion>=9&&(Lt===80||Lt===112)){if(wt.lastIntValue=-1,wt.advance(),wt.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(wt)&&wt.eat(125))return!0;wt.raise("Invalid property name")}return!1};function po(wt){return wt===100||wt===68||wt===115||wt===83||wt===119||wt===87}Jr.regexp_eatUnicodePropertyValueExpression=function(wt){var Lt=wt.pos;if(this.regexp_eatUnicodePropertyName(wt)&&wt.eat(61)){var Vt=wt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(wt)){var Xt=wt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(wt,Vt,Xt),!0}}if(wt.pos=Lt,this.regexp_eatLoneUnicodePropertyNameOrValue(wt)){var or=wt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(wt,or),!0}return!1},Jr.regexp_validateUnicodePropertyNameAndValue=function(wt,Lt,Vt){Mt(wt.unicodeProperties.nonBinary,Lt)||wt.raise("Invalid property name"),wt.unicodeProperties.nonBinary[Lt].test(Vt)||wt.raise("Invalid property value")},Jr.regexp_validateUnicodePropertyNameOrValue=function(wt,Lt){wt.unicodeProperties.binary.test(Lt)||wt.raise("Invalid property name")},Jr.regexp_eatUnicodePropertyName=function(wt){var Lt=0;for(wt.lastStringValue="";oo(Lt=wt.current());)wt.lastStringValue+=Ks(Lt),wt.advance();return wt.lastStringValue!==""};function oo(wt){return so(wt)||wt===95}Jr.regexp_eatUnicodePropertyValue=function(wt){var Lt=0;for(wt.lastStringValue="";fs(Lt=wt.current());)wt.lastStringValue+=Ks(Lt),wt.advance();return wt.lastStringValue!==""};function fs(wt){return oo(wt)||_s(wt)}Jr.regexp_eatLoneUnicodePropertyNameOrValue=function(wt){return this.regexp_eatUnicodePropertyValue(wt)},Jr.regexp_eatCharacterClass=function(wt){if(wt.eat(91)){if(wt.eat(94),this.regexp_classRanges(wt),wt.eat(93))return!0;wt.raise("Unterminated character class")}return!1},Jr.regexp_classRanges=function(wt){for(;this.regexp_eatClassAtom(wt);){var Lt=wt.lastIntValue;if(wt.eat(45)&&this.regexp_eatClassAtom(wt)){var Vt=wt.lastIntValue;wt.switchU&&(Lt===-1||Vt===-1)&&wt.raise("Invalid character class"),Lt!==-1&&Vt!==-1&&Lt>Vt&&wt.raise("Range out of order in character class")}}},Jr.regexp_eatClassAtom=function(wt){var Lt=wt.pos;if(wt.eat(92)){if(this.regexp_eatClassEscape(wt))return!0;if(wt.switchU){var Vt=wt.current();(Vt===99||Xs(Vt))&&wt.raise("Invalid class escape"),wt.raise("Invalid escape")}wt.pos=Lt}var Xt=wt.current();return Xt!==93?(wt.lastIntValue=Xt,wt.advance(),!0):!1},Jr.regexp_eatClassEscape=function(wt){var Lt=wt.pos;if(wt.eat(98))return wt.lastIntValue=8,!0;if(wt.switchU&&wt.eat(45))return wt.lastIntValue=45,!0;if(!wt.switchU&&wt.eat(99)){if(this.regexp_eatClassControlLetter(wt))return!0;wt.pos=Lt}return this.regexp_eatCharacterClassEscape(wt)||this.regexp_eatCharacterEscape(wt)},Jr.regexp_eatClassControlLetter=function(wt){var Lt=wt.current();return _s(Lt)||Lt===95?(wt.lastIntValue=Lt%32,wt.advance(),!0):!1},Jr.regexp_eatHexEscapeSequence=function(wt){var Lt=wt.pos;if(wt.eat(120)){if(this.regexp_eatFixedHexDigits(wt,2))return!0;wt.switchU&&wt.raise("Invalid escape"),wt.pos=Lt}return!1},Jr.regexp_eatDecimalDigits=function(wt){var Lt=wt.pos,Vt=0;for(wt.lastIntValue=0;_s(Vt=wt.current());)wt.lastIntValue=10*wt.lastIntValue+(Vt-48),wt.advance();return wt.pos!==Lt};function _s(wt){return wt>=48&&wt<=57}Jr.regexp_eatHexDigits=function(wt){var Lt=wt.pos,Vt=0;for(wt.lastIntValue=0;Is(Vt=wt.current());)wt.lastIntValue=16*wt.lastIntValue+Es(Vt),wt.advance();return wt.pos!==Lt};function Is(wt){return wt>=48&&wt<=57||wt>=65&&wt<=70||wt>=97&&wt<=102}function Es(wt){return wt>=65&&wt<=70?10+(wt-65):wt>=97&&wt<=102?10+(wt-97):wt-48}Jr.regexp_eatLegacyOctalEscapeSequence=function(wt){if(this.regexp_eatOctalDigit(wt)){var Lt=wt.lastIntValue;if(this.regexp_eatOctalDigit(wt)){var Vt=wt.lastIntValue;Lt<=3&&this.regexp_eatOctalDigit(wt)?wt.lastIntValue=Lt*64+Vt*8+wt.lastIntValue:wt.lastIntValue=Lt*8+Vt}else wt.lastIntValue=Lt;return!0}return!1},Jr.regexp_eatOctalDigit=function(wt){var Lt=wt.current();return Xs(Lt)?(wt.lastIntValue=Lt-48,wt.advance(),!0):(wt.lastIntValue=0,!1)};function Xs(wt){return wt>=48&&wt<=55}Jr.regexp_eatFixedHexDigits=function(wt,Lt){var Vt=wt.pos;wt.lastIntValue=0;for(var Xt=0;Xt<Lt;++Xt){var or=wt.current();if(!Is(or))return wt.pos=Vt,!1;wt.lastIntValue=16*wt.lastIntValue+Es(or),wt.advance()}return!0};var gs=function(Lt){this.type=Lt.type,this.value=Lt.value,this.start=Lt.start,this.end=Lt.end,Lt.options.locations&&(this.loc=new Wt(Lt,Lt.startLoc,Lt.endLoc)),Lt.options.ranges&&(this.range=[Lt.start,Lt.end])},gn=pn.prototype;gn.next=function(wt){!wt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new gs(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},gn.getToken=function(){return this.next(),new gs(this)},typeof Symbol<"u"&&(gn[Symbol.iterator]=function(){var wt=this;return{next:function(){var Lt=wt.getToken();return{done:Lt.type===gt.eof,value:Lt}}}}),gn.curContext=function(){return this.context[this.context.length-1]},gn.nextToken=function(){var wt=this.curContext();if((!wt||!wt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(gt.eof);if(wt.override)return wt.override(this);this.readToken(this.fullCharCodeAtPos())},gn.readToken=function(wt){return ht(wt,this.options.ecmaVersion>=6)||wt===92?this.readWord():this.getTokenFromCode(wt)},gn.fullCharCodeAtPos=function(){var wt=this.input.charCodeAt(this.pos);if(wt<=55295||wt>=57344)return wt;var Lt=this.input.charCodeAt(this.pos+1);return(wt<<10)+Lt-56613888},gn.skipBlockComment=function(){var wt=this.options.onComment&&this.curPosition(),Lt=this.pos,Vt=this.input.indexOf("*/",this.pos+=2);if(Vt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Vt+2,this.options.locations){_t.lastIndex=Lt;for(var Xt;(Xt=_t.exec(this.input))&&Xt.index<this.pos;)++this.curLine,this.lineStart=Xt.index+Xt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(Lt+2,Vt),Lt,this.pos,wt,this.curPosition())},gn.skipLineComment=function(wt){for(var Lt=this.pos,Vt=this.options.onComment&&this.curPosition(),Xt=this.input.charCodeAt(this.pos+=wt);this.pos<this.input.length&&!kt(Xt);)Xt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Lt+wt,this.pos),Lt,this.pos,Vt,this.curPosition())},gn.skipSpace=function(){e:for(;this.pos<this.input.length;){var wt=this.input.charCodeAt(this.pos);switch(wt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(wt>8&&wt<14||wt>=5760&&Ct.test(String.fromCharCode(wt)))++this.pos;else break e}}},gn.finishToken=function(wt,Lt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Vt=this.type;this.type=wt,this.value=Lt,this.updateContext(Vt)},gn.readToken_dot=function(){var wt=this.input.charCodeAt(this.pos+1);if(wt>=48&&wt<=57)return this.readNumber(!0);var Lt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&wt===46&&Lt===46?(this.pos+=3,this.finishToken(gt.ellipsis)):(++this.pos,this.finishToken(gt.dot))},gn.readToken_slash=function(){var wt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):wt===61?this.finishOp(gt.assign,2):this.finishOp(gt.slash,1)},gn.readToken_mult_modulo_exp=function(wt){var Lt=this.input.charCodeAt(this.pos+1),Vt=1,Xt=wt===42?gt.star:gt.modulo;return this.options.ecmaVersion>=7&&wt===42&&Lt===42&&(++Vt,Xt=gt.starstar,Lt=this.input.charCodeAt(this.pos+2)),Lt===61?this.finishOp(gt.assign,Vt+1):this.finishOp(Xt,Vt)},gn.readToken_pipe_amp=function(wt){var Lt=this.input.charCodeAt(this.pos+1);return Lt===wt?this.finishOp(wt===124?gt.logicalOR:gt.logicalAND,2):Lt===61?this.finishOp(gt.assign,2):this.finishOp(wt===124?gt.bitwiseOR:gt.bitwiseAND,1)},gn.readToken_caret=function(){var wt=this.input.charCodeAt(this.pos+1);return wt===61?this.finishOp(gt.assign,2):this.finishOp(gt.bitwiseXOR,1)},gn.readToken_plus_min=function(wt){var Lt=this.input.charCodeAt(this.pos+1);return Lt===wt?Lt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Et.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(gt.incDec,2):Lt===61?this.finishOp(gt.assign,2):this.finishOp(gt.plusMin,1)},gn.readToken_lt_gt=function(wt){var Lt=this.input.charCodeAt(this.pos+1),Vt=1;return Lt===wt?(Vt=wt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Vt)===61?this.finishOp(gt.assign,Vt+1):this.finishOp(gt.bitShift,Vt)):Lt===33&&wt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Lt===61&&(Vt=2),this.finishOp(gt.relational,Vt))},gn.readToken_eq_excl=function(wt){var Lt=this.input.charCodeAt(this.pos+1);return Lt===61?this.finishOp(gt.equality,this.input.charCodeAt(this.pos+2)===61?3:2):wt===61&&Lt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(gt.arrow)):this.finishOp(wt===61?gt.eq:gt.prefix,1)},gn.getTokenFromCode=function(wt){switch(wt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(gt.parenL);case 41:return++this.pos,this.finishToken(gt.parenR);case 59:return++this.pos,this.finishToken(gt.semi);case 44:return++this.pos,this.finishToken(gt.comma);case 91:return++this.pos,this.finishToken(gt.bracketL);case 93:return++this.pos,this.finishToken(gt.bracketR);case 123:return++this.pos,this.finishToken(gt.braceL);case 125:return++this.pos,this.finishToken(gt.braceR);case 58:return++this.pos,this.finishToken(gt.colon);case 63:return++this.pos,this.finishToken(gt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(gt.backQuote);case 48:var Lt=this.input.charCodeAt(this.pos+1);if(Lt===120||Lt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Lt===111||Lt===79)return this.readRadixNumber(8);if(Lt===98||Lt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(wt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(wt);case 124:case 38:return this.readToken_pipe_amp(wt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(wt);case 60:case 62:return this.readToken_lt_gt(wt);case 61:case 33:return this.readToken_eq_excl(wt);case 126:return this.finishOp(gt.prefix,1)}this.raise(this.pos,"Unexpected character '"+Xr(wt)+"'")},gn.finishOp=function(wt,Lt){var Vt=this.input.slice(this.pos,this.pos+Lt);return this.pos+=Lt,this.finishToken(wt,Vt)},gn.readRegexp=function(){for(var wt,Lt,Vt=this.pos;;){this.pos>=this.input.length&&this.raise(Vt,"Unterminated regular expression");var Xt=this.input.charAt(this.pos);if(Et.test(Xt)&&this.raise(Vt,"Unterminated regular expression"),wt)wt=!1;else{if(Xt==="[")Lt=!0;else if(Xt==="]"&&Lt)Lt=!1;else if(Xt==="/"&&!Lt)break;wt=Xt==="\\"}++this.pos}var or=this.input.slice(Vt,this.pos);++this.pos;var br=this.pos,$r=this.readWord1();this.containsEsc&&this.unexpected(br);var zr=this.regexpState||(this.regexpState=new hs(this));zr.reset(Vt,or,$r),this.validateRegExpFlags(zr),this.validateRegExpPattern(zr);var Zr=null;try{Zr=new RegExp(or,$r)}catch{}return this.finishToken(gt.regexp,{pattern:or,flags:$r,value:Zr})},gn.readInt=function(wt,Lt){for(var Vt=this.pos,Xt=0,or=0,br=Lt??1/0;or<br;++or){var $r=this.input.charCodeAt(this.pos),zr=void 0;if($r>=97?zr=$r-97+10:$r>=65?zr=$r-65+10:$r>=48&&$r<=57?zr=$r-48:zr=1/0,zr>=wt)break;++this.pos,Xt=Xt*wt+zr}return this.pos===Vt||Lt!=null&&this.pos-Vt!==Lt?null:Xt},gn.readRadixNumber=function(wt){var Lt=this.pos;this.pos+=2;var Vt=this.readInt(wt);return Vt==null&&this.raise(this.start+2,"Expected number in radix "+wt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Vt=typeof BigInt<"u"?BigInt(this.input.slice(Lt,this.pos)):null,++this.pos):ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gt.num,Vt)},gn.readNumber=function(wt){var Lt=this.pos;!wt&&this.readInt(10)===null&&this.raise(Lt,"Invalid number");var Vt=this.pos-Lt>=2&&this.input.charCodeAt(Lt)===48;Vt&&this.strict&&this.raise(Lt,"Invalid number");var Xt=this.input.charCodeAt(this.pos);if(!Vt&&!wt&&this.options.ecmaVersion>=11&&Xt===110){var or=this.input.slice(Lt,this.pos),br=typeof BigInt<"u"?BigInt(or):null;return++this.pos,ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gt.num,br)}Vt&&/[89]/.test(this.input.slice(Lt,this.pos))&&(Vt=!1),Xt===46&&!Vt&&(++this.pos,this.readInt(10),Xt=this.input.charCodeAt(this.pos)),(Xt===69||Xt===101)&&!Vt&&(Xt=this.input.charCodeAt(++this.pos),(Xt===43||Xt===45)&&++this.pos,this.readInt(10)===null&&this.raise(Lt,"Invalid number")),ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var $r=this.input.slice(Lt,this.pos),zr=Vt?parseInt($r,8):parseFloat($r);return this.finishToken(gt.num,zr)},gn.readCodePoint=function(){var wt=this.input.charCodeAt(this.pos),Lt;if(wt===123){this.options.ecmaVersion<6&&this.unexpected();var Vt=++this.pos;Lt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Lt>1114111&&this.invalidStringToken(Vt,"Code point out of bounds")}else Lt=this.readHexChar(4);return Lt};function Xr(wt){return wt<=65535?String.fromCharCode(wt):(wt-=65536,String.fromCharCode((wt>>10)+55296,(wt&1023)+56320))}gn.readString=function(wt){for(var Lt="",Vt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Xt=this.input.charCodeAt(this.pos);if(Xt===wt)break;Xt===92?(Lt+=this.input.slice(Vt,this.pos),Lt+=this.readEscapedChar(!1),Vt=this.pos):(kt(Xt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Lt+=this.input.slice(Vt,this.pos++),this.finishToken(gt.string,Lt)};var Qn={};gn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(wt){if(wt===Qn)this.readInvalidTemplateToken();else throw wt}this.inTemplateElement=!1},gn.invalidStringToken=function(wt,Lt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Qn;this.raise(wt,Lt)},gn.readTmplToken=function(){for(var wt="",Lt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Vt=this.input.charCodeAt(this.pos);if(Vt===96||Vt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===gt.template||this.type===gt.invalidTemplate)?Vt===36?(this.pos+=2,this.finishToken(gt.dollarBraceL)):(++this.pos,this.finishToken(gt.backQuote)):(wt+=this.input.slice(Lt,this.pos),this.finishToken(gt.template,wt));if(Vt===92)wt+=this.input.slice(Lt,this.pos),wt+=this.readEscapedChar(!0),Lt=this.pos;else if(kt(Vt)){switch(wt+=this.input.slice(Lt,this.pos),++this.pos,Vt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:wt+=`
`;break;default:wt+=String.fromCharCode(Vt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Lt=this.pos}else++this.pos}},gn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(gt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},gn.readEscapedChar=function(wt){var Lt=this.input.charCodeAt(++this.pos);switch(++this.pos,Lt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Xr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(wt){var Vt=this.pos-1;return this.invalidStringToken(Vt,"Invalid escape sequence in template string"),null}default:if(Lt>=48&&Lt<=55){var Xt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],or=parseInt(Xt,8);return or>255&&(Xt=Xt.slice(0,-1),or=parseInt(Xt,8)),this.pos+=Xt.length-1,Lt=this.input.charCodeAt(this.pos),(Xt!=="0"||Lt===56||Lt===57)&&(this.strict||wt)&&this.invalidStringToken(this.pos-1-Xt.length,wt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(or)}return kt(Lt)?"":String.fromCharCode(Lt)}},gn.readHexChar=function(wt){var Lt=this.pos,Vt=this.readInt(16,wt);return Vt===null&&this.invalidStringToken(Lt,"Bad character escape sequence"),Vt},gn.readWord1=function(){this.containsEsc=!1;for(var wt="",Lt=!0,Vt=this.pos,Xt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var or=this.fullCharCodeAtPos();if(ut(or,Xt))this.pos+=or<=65535?1:2;else if(or===92){this.containsEsc=!0,wt+=this.input.slice(Vt,this.pos);var br=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var $r=this.readCodePoint();(Lt?ht:ut)($r,Xt)||this.invalidStringToken(br,"Invalid Unicode escape"),wt+=Xr($r),Vt=this.pos}else break;Lt=!1}return wt+this.input.slice(Vt,this.pos)},gn.readWord=function(){var wt=this.readWord1(),Lt=gt.name;return this.keywords.test(wt)&&(Lt=St[wt]),this.finishToken(Lt,wt)};var Jn="7.1.0";pn.acorn={Parser:pn,version:Jn,defaultOptions:Ht,Position:Kt,SourceLocation:Wt,getLineInfo:zt,Node:jr,TokenType:pt,tokTypes:gt,keywordTypes:St,TokContext:Rr,tokContexts:mn,isIdentifierChar:ut,isIdentifierStart:ht,Token:gs,isNewLine:kt,lineBreak:Et,lineBreakG:_t,nonASCIIwhitespace:Ct};function mo(wt,Lt){return pn.parse(wt,Lt)}function wo(wt,Lt,Vt){return pn.parseExpressionAt(wt,Lt,Vt)}function go(wt,Lt){return pn.tokenizer(wt,Lt)}et.Node=jr,et.Parser=pn,et.Position=Kt,et.SourceLocation=Wt,et.TokContext=Rr,et.Token=gs,et.TokenType=pt,et.defaultOptions=Ht,et.getLineInfo=zt,et.isIdentifierChar=ut,et.isIdentifierStart=ht,et.isNewLine=kt,et.keywordTypes=St,et.lineBreak=Et,et.lineBreakG=_t,et.nonASCIIwhitespace=Ct,et.parse=mo,et.parseExpressionAt=wo,et.tokContexts=mn,et.tokTypes=gt,et.tokenizer=go,et.version=Jn,Object.defineProperty(et,"__esModule",{value:!0})})},{}],2:[function(o,a,rt){},{}],3:[function(o,a,rt){function et(j,_={}){const{contextName:$="gl",throwGetError:tt,useTrackablePrimitives:st,readPixelsFile:lt,recording:ct=[],variables:ht={},onReadPixels:ut,onUnrecognizedArgumentLookup:pt}=_,mt=new Proxy(j,{get:Et}),vt=[],dt={};let St=0,yt="",gt;return mt;function Et(zt,Ht){switch(Ht){case"addComment":return Mt;case"checkThrowError":return Dt;case"getReadPixelsVariableName":return gt;case"insertVariable":return Ct;case"reset":return kt;case"setIndent":return At;case"toString":return _t;case"getContextVariableName":return Wt}return typeof j[Ht]=="function"?function(){switch(Ht){case"getError":return tt?ct.push(`${yt}if (${$}.getError() !== ${$}.NONE) throw new Error('error');`):ct.push(`${yt}${$}.getError();`),j.getError();case"getExtension":{const pr=`${$}Variables${vt.length}`;ct.push(`${yt}const ${pr} = ${$}.getExtension('${arguments[0]}');`);const gr=j.getExtension(arguments[0]);if(gr&&typeof gr=="object"){const tr=ot(gr,{getEntity:Tt,useTrackablePrimitives:st,recording:ct,contextName:pr,contextVariables:vt,variables:ht,indent:yt,onUnrecognizedArgumentLookup:pt});return vt.push(tr),tr}else vt.push(null);return gr}case"readPixels":const Qt=vt.indexOf(arguments[6]);let hr;if(Qt===-1){const pr=Kt(arguments[6]);pr?(hr=pr,ct.push(`${yt}${pr}`)):(hr=`${$}Variable${vt.length}`,vt.push(arguments[6]),ct.push(`${yt}const ${hr} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else hr=`${$}Variable${Qt}`;gt=hr;const fr=[arguments[0],arguments[1],arguments[2],arguments[3],Tt(arguments[4]),Tt(arguments[5]),hr];return ct.push(`${yt}${$}.readPixels(${fr.join(", ")});`),lt&&Ot(arguments[2],arguments[3]),ut&&ut(hr,fr),j.readPixels.apply(j,arguments);case"drawBuffers":return ct.push(`${yt}${$}.drawBuffers([${at(arguments[0],{contextName:$,contextVariables:vt,getEntity:Tt,addVariable:It,variables:ht,onUnrecognizedArgumentLookup:pt})}]);`),j.drawBuffers(arguments[0])}let Zt=j[Ht].apply(j,arguments);switch(typeof Zt){case"undefined":ct.push(`${yt}${Bt(Ht,arguments)};`);return;case"number":case"boolean":if(st&&vt.indexOf(it(Zt))===-1){ct.push(`${yt}const ${$}Variable${vt.length} = ${Bt(Ht,arguments)};`),vt.push(Zt=it(Zt));break}default:Zt===null?ct.push(`${Bt(Ht,arguments)};`):ct.push(`${yt}const ${$}Variable${vt.length} = ${Bt(Ht,arguments)};`),vt.push(Zt)}return Zt}:(dt[j[Ht]]=Ht,j[Ht])}function _t(){return ct.join(`
`)}function kt(){for(;ct.length>0;)ct.pop()}function Ct(zt,Ht){ht[zt]=Ht}function Tt(zt){const Ht=dt[zt];return Ht?$+"."+Ht:zt}function At(zt){yt=" ".repeat(zt)}function It(zt,Ht){const Zt=`${$}Variable${vt.length}`;return ct.push(`${yt}const ${Zt} = ${Ht};`),vt.push(zt),Zt}function Ot(zt,Ht){const Zt=`${$}Variable${vt.length}`,Qt=`imageDatum${St}`;ct.push(`${yt}let ${Qt} = ["P3\\n# ${lt}.ppm\\n", ${zt}, ' ', ${Ht}, "\\n255\\n"].join("");`),ct.push(`${yt}for (let i = 0; i < ${Qt}.length; i += 4) {`),ct.push(`${yt}  ${Qt} += ${Zt}[i] + ' ' + ${Zt}[i + 1] + ' ' + ${Zt}[i + 2] + ' ';`),ct.push(`${yt}}`),ct.push(`${yt}if (typeof require !== "undefined") {`),ct.push(`${yt}  require('fs').writeFileSync('./${lt}.ppm', ${Qt});`),ct.push(`${yt}}`),St++}function Mt(zt){ct.push(`${yt}// ${zt}`)}function Dt(){ct.push(`${yt}(() => {
${yt}const error = ${$}.getError();
${yt}if (error !== ${$}.NONE) {
${yt}  const names = Object.getOwnPropertyNames(gl);
${yt}  for (let i = 0; i < names.length; i++) {
${yt}    const name = names[i];
${yt}    if (${$}[name] === error) {
${yt}      throw new Error('${$} threw ' + name);
${yt}    }
${yt}  }
${yt}}
${yt}})();`)}function Bt(zt,Ht){return`${$}.${zt}(${at(Ht,{contextName:$,contextVariables:vt,getEntity:Tt,addVariable:It,variables:ht,onUnrecognizedArgumentLookup:pt})})`}function Kt(zt){if(ht){for(const Ht in ht)if(ht[Ht]===zt)return Ht}return null}function Wt(zt){const Ht=vt.indexOf(zt);return Ht!==-1?`${$}Variable${Ht}`:null}}function ot(j,_){const $=new Proxy(j,{get:dt}),tt={},{contextName:st,contextVariables:lt,getEntity:ct,useTrackablePrimitives:ht,recording:ut,variables:pt,indent:mt,onUnrecognizedArgumentLookup:vt}=_;return $;function dt(Et,_t){return typeof Et[_t]=="function"?function(){switch(_t){case"drawBuffersWEBGL":return ut.push(`${mt}${st}.drawBuffersWEBGL([${at(arguments[0],{contextName:st,contextVariables:lt,getEntity:St,addVariable:gt,variables:pt,onUnrecognizedArgumentLookup:vt})}]);`),j.drawBuffersWEBGL(arguments[0])}let kt=j[_t].apply(j,arguments);switch(typeof kt){case"undefined":ut.push(`${mt}${yt(_t,arguments)};`);return;case"number":case"boolean":ht&&lt.indexOf(it(kt))===-1?(ut.push(`${mt}const ${st}Variable${lt.length} = ${yt(_t,arguments)};`),lt.push(kt=it(kt))):(ut.push(`${mt}const ${st}Variable${lt.length} = ${yt(_t,arguments)};`),lt.push(kt));break;default:kt===null?ut.push(`${yt(_t,arguments)};`):ut.push(`${mt}const ${st}Variable${lt.length} = ${yt(_t,arguments)};`),lt.push(kt)}return kt}:(tt[j[_t]]=_t,j[_t])}function St(Et){return tt.hasOwnProperty(Et)?`${st}.${tt[Et]}`:ct(Et)}function yt(Et,_t){return`${st}.${Et}(${at(_t,{contextName:st,contextVariables:lt,getEntity:St,addVariable:gt,variables:pt,onUnrecognizedArgumentLookup:vt})})`}function gt(Et,_t){const kt=`${st}Variable${lt.length}`;return lt.push(Et),ut.push(`${mt}const ${kt} = ${_t};`),kt}}function at(j,_){const{variables:$,onUnrecognizedArgumentLookup:tt}=_;return Array.from(j).map(lt=>{const ct=st(lt);return ct||nt(lt,_)}).join(", ");function st(lt){if($){for(const ct in $)if($.hasOwnProperty(ct)&&$[ct]===lt)return ct}return tt?tt(lt):null}}function nt(j,_){const{contextName:$,contextVariables:tt,getEntity:st,addVariable:lt,onUnrecognizedArgumentLookup:ct}=_;if(typeof j>"u")return"undefined";if(j===null)return"null";const ht=tt.indexOf(j);if(ht>-1)return`${$}Variable${ht}`;switch(j.constructor.name){case"String":const ut=/\n/.test(j),pt=/'/.test(j),mt=/"/.test(j);return ut?"`"+j+"`":pt&&!mt?'"'+j+'"':"'"+j+"'";case"Number":return st(j);case"Boolean":return st(j);case"Array":return lt(j,`new ${j.constructor.name}([${Array.from(j).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return lt(j,`new ${j.constructor.name}(${JSON.stringify(Array.from(j))})`);default:if(ct){const vt=ct(j);if(vt)return vt}throw new Error(`unrecognized argument type ${j.constructor.name}`)}}function it(j){return new j.constructor(j)}typeof a<"u"&&(a.exports={glWiretap:et,glExtensionWiretap:ot}),typeof window<"u"&&(et.glExtensionWiretap=ot,window.glWiretap=et)},{}],4:[function(o,a,rt){function et(lt){const ct=new Array(lt.length);for(let ht=0;ht<lt.length;ht++){const ut=lt[ht];ut.toArray?ct[ht]=ut.toArray():ct[ht]=ut}return ct}function ot(){const lt=et(arguments),ct=new Float32Array(this.output.x);for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=0,this.thread.z=0,ct[ht]=this._fn.apply(this,lt);return ct}function at(){const lt=et(arguments),ct=new Array(this.output.y);for(let ht=0;ht<this.output.y;ht++){const ut=new Float32Array(this.output.x);for(let pt=0;pt<this.output.x;pt++)this.thread.x=pt,this.thread.y=ht,this.thread.z=0,ut[pt]=this._fn.apply(this,lt);ct[ht]=ut}return ct}function nt(){const lt=et(arguments);for(let ct=0;ct<this.output.y;ct++)for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=ct,this.thread.z=0,this._fn.apply(this,lt)}function it(){const lt=et(arguments),ct=new Array(this.output.z);for(let ht=0;ht<this.output.z;ht++){const ut=new Array(this.output.y);for(let pt=0;pt<this.output.y;pt++){const mt=new Float32Array(this.output.x);for(let vt=0;vt<this.output.x;vt++)this.thread.x=vt,this.thread.y=pt,this.thread.z=ht,mt[vt]=this._fn.apply(this,lt);ut[pt]=mt}ct[ht]=ut}return ct}function j(lt){lt.setOutput=ut=>{lt.output=$(ut),lt.graphical&&_(lt)},lt.toJSON=()=>{throw new Error("Not usable with gpuMock")},lt.setConstants=ut=>(lt.constants=ut,lt),lt.setGraphical=ut=>(lt.graphical=ut,lt),lt.setCanvas=ut=>(lt.canvas=ut,lt),lt.setContext=ut=>(lt.context=ut,lt),lt.destroy=()=>{},lt.validateSettings=()=>{},lt.graphical&&lt.output&&_(lt),lt.exec=function(){return new Promise((ut,pt)=>{try{ut(lt.apply(lt,arguments))}catch(mt){pt(mt)}})},lt.getPixels=ut=>{const{x:pt,y:mt}=lt.output;return ut?st(lt._imageData.data,pt,mt):lt._imageData.data.slice(0)},lt.color=function(ut,pt,mt,vt){typeof vt>"u"&&(vt=1),ut=Math.floor(ut*255),pt=Math.floor(pt*255),mt=Math.floor(mt*255),vt=Math.floor(vt*255);const dt=lt.output.x,St=lt.output.y,yt=lt.thread.x,gt=St-lt.thread.y-1,Et=yt+gt*dt;lt._colorData[Et*4+0]=ut,lt._colorData[Et*4+1]=pt,lt._colorData[Et*4+2]=mt,lt._colorData[Et*4+3]=vt};const ct=()=>lt,ht=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let ut=0;ut<ht.length;ut++)lt[ht[ut]]=ct;return lt}function _(lt){const{x:ct,y:ht}=lt.output;if(lt.context&&lt.context.createImageData){const ut=new Uint8ClampedArray(ct*ht*4);lt._imageData=lt.context.createImageData(ct,ht),lt._colorData=ut}else{const ut=new Uint8ClampedArray(ct*ht*4);lt._imageData={data:ut},lt._colorData=ut}}function $(lt){let ct=null;if(lt.length)if(lt.length===3){const[ht,ut,pt]=lt;ct={x:ht,y:ut,z:pt}}else if(lt.length===2){const[ht,ut]=lt;ct={x:ht,y:ut}}else{const[ht]=lt;ct={x:ht}}else ct=lt;return ct}function tt(lt,ct={}){const ht=ct.output?$(ct.output):null;function ut(){return ut.output.z?it.apply(ut,arguments):ut.output.y?ut.graphical?nt.apply(ut,arguments):at.apply(ut,arguments):ot.apply(ut,arguments)}return ut._fn=lt,ut.constants=ct.constants||null,ut.context=ct.context||null,ut.canvas=ct.canvas||null,ut.graphical=ct.graphical||!1,ut._imageData=null,ut._colorData=null,ut.output=ht,ut.thread={x:0,y:0,z:0},j(ut)}function st(lt,ct,ht){const ut=ht/2|0,pt=ct*4,mt=new Uint8ClampedArray(ct*4),vt=lt.slice(0);for(let dt=0;dt<ut;++dt){const St=dt*pt,yt=(ht-dt-1)*pt;mt.set(vt.subarray(St,St+pt)),vt.copyWithin(St,yt,yt+pt),vt.set(mt,yt)}return vt}a.exports={gpuMock:tt}},{}],5:[function(o,a,rt){const{utils:et}=o("./utils");function ot(at,nt){const it=nt.toString();return new Function(`return function ${at} (${et.getArgumentNamesFromString(it).join(", ")}) {
  ${et.getFunctionBodyFromString(it)}
}`)()}a.exports={alias:ot}},{"./utils":114}],6:[function(o,a,rt){const{FunctionNode:et}=o("../function-node");class ot extends et{astFunction(nt,it){if(!this.isRootKernel){it.push("function"),it.push(" "),it.push(this.name),it.push("(");for(let j=0;j<this.argumentNames.length;++j){const _=this.argumentNames[j];j>0&&it.push(", "),it.push("user_"),it.push(_)}it.push(`) {
`)}for(let j=0;j<nt.body.body.length;++j)this.astGeneric(nt.body.body[j],it),it.push(`
`);return this.isRootKernel||it.push(`}
`),it}astReturnStatement(nt,it){const j=this.returnType||this.getType(nt.argument);return this.returnType||(this.returnType=j),this.isRootKernel?(it.push(this.leadingReturnStatement),this.astGeneric(nt.argument,it),it.push(`;
`),it.push(this.followingReturnStatement),it.push(`continue;
`)):this.isSubKernel?(it.push(`subKernelResult_${this.name} = `),this.astGeneric(nt.argument,it),it.push(";"),it.push(`return subKernelResult_${this.name};`)):(it.push("return "),this.astGeneric(nt.argument,it),it.push(";")),it}astLiteral(nt,it){if(isNaN(nt.value))throw this.astErrorOutput("Non-numeric literal not supported : "+nt.value,nt);return it.push(nt.value),it}astBinaryExpression(nt,it){return it.push("("),this.astGeneric(nt.left,it),it.push(nt.operator),this.astGeneric(nt.right,it),it.push(")"),it}astIdentifierExpression(nt,it){if(nt.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",nt);switch(nt.name){case"Infinity":it.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(nt.name)?it.push("constants_"+nt.name):it.push("user_"+nt.name)}return it}astForStatement(nt,it){if(nt.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",nt);const j=[],_=[],$=[],tt=[];let st=null;if(nt.init){this.pushState("in-for-loop-init"),this.astGeneric(nt.init,j);for(let lt=0;lt<j.length;lt++)j[lt].includes&&j[lt].includes(",")&&(st=!1);this.popState("in-for-loop-init")}else st=!1;if(nt.test?this.astGeneric(nt.test,_):st=!1,nt.update?this.astGeneric(nt.update,$):st=!1,nt.body&&(this.pushState("loop-body"),this.astGeneric(nt.body,tt),this.popState("loop-body")),st===null&&(st=this.isSafe(nt.init)&&this.isSafe(nt.test)),st)it.push(`for (${j.join("")};${_.join("")};${$.join("")}){
`),it.push(tt.join("")),it.push(`}
`);else{const lt=this.getInternalVariableName("safeI");j.length>0&&it.push(j.join(""),`;
`),it.push(`for (let ${lt}=0;${lt}<LOOP_MAX;${lt}++){
`),_.length>0&&it.push(`if (!${_.join("")}) break;
`),it.push(tt.join("")),it.push(`
${$.join("")};`),it.push(`}
`)}return it}astWhileStatement(nt,it){if(nt.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",nt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),it.push("if ("),this.astGeneric(nt.test,it),it.push(`) {
`),this.astGeneric(nt.body,it),it.push(`} else {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astDoWhileStatement(nt,it){if(nt.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",nt);return it.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(nt.body,it),it.push("if (!"),this.astGeneric(nt.test,it),it.push(`) {
`),it.push(`break;
`),it.push(`}
`),it.push(`}
`),it}astAssignmentExpression(nt,it){const j=this.getDeclaration(nt.left);if(j&&!j.assignable)throw this.astErrorOutput(`Variable ${nt.left.name} is not assignable here`,nt);return this.astGeneric(nt.left,it),it.push(nt.operator),this.astGeneric(nt.right,it),it}astBlockStatement(nt,it){if(this.isState("loop-body")){this.pushState("block-body");for(let j=0;j<nt.body.length;j++)this.astGeneric(nt.body[j],it);this.popState("block-body")}else{it.push(`{
`);for(let j=0;j<nt.body.length;j++)this.astGeneric(nt.body[j],it);it.push(`}
`)}return it}astVariableDeclaration(nt,it){it.push(`${nt.kind} `);const{declarations:j}=nt;for(let _=0;_<j.length;_++){_>0&&it.push(",");const $=j[_],tt=this.getDeclaration($.id);tt.valueType||(tt.valueType=this.getType($.init)),this.astGeneric($,it)}return this.isState("in-for-loop-init")||it.push(";"),it}astIfStatement(nt,it){return it.push("if ("),this.astGeneric(nt.test,it),it.push(")"),nt.consequent.type==="BlockStatement"?this.astGeneric(nt.consequent,it):(it.push(` {
`),this.astGeneric(nt.consequent,it),it.push(`
}
`)),nt.alternate&&(it.push("else "),nt.alternate.type==="BlockStatement"||nt.alternate.type==="IfStatement"?this.astGeneric(nt.alternate,it):(it.push(` {
`),this.astGeneric(nt.alternate,it),it.push(`
}
`))),it}astSwitchStatement(nt,it){const{discriminant:j,cases:_}=nt;it.push("switch ("),this.astGeneric(j,it),it.push(`) {
`);for(let $=0;$<_.length;$++){if(_[$].test===null){it.push(`default:
`),this.astGeneric(_[$].consequent,it),_[$].consequent&&_[$].consequent.length>0&&it.push(`break;
`);continue}it.push("case "),this.astGeneric(_[$].test,it),it.push(`:
`),_[$].consequent&&_[$].consequent.length>0&&(this.astGeneric(_[$].consequent,it),it.push(`break;
`))}it.push(`
}`)}astThisExpression(nt,it){return it.push("_this"),it}astMemberExpression(nt,it){const{signature:j,type:_,property:$,xProperty:tt,yProperty:st,zProperty:lt,name:ct,origin:ht}=this.getMemberExpressionDetails(nt);switch(j){case"this.thread.value":return it.push(`_this.thread.${ct}`),it;case"this.output.value":switch(ct){case"x":it.push("outputX");break;case"y":it.push("outputY");break;case"z":it.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",nt)}return it;case"value":throw this.astErrorOutput("Unexpected expression",nt);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(ht==="Math")return it.push(Math[ct]),it;switch($){case"r":return it.push(`user_${ct}[0]`),it;case"g":return it.push(`user_${ct}[1]`),it;case"b":return it.push(`user_${ct}[2]`),it;case"a":return it.push(`user_${ct}[3]`),it}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(nt.object,it),it.push("["),this.astGeneric(nt.property,it),it.push("]"),it;case"fn()[][]":return this.astGeneric(nt.object.object,it),it.push("["),this.astGeneric(nt.object.property,it),it.push("]"),it.push("["),this.astGeneric(nt.property,it),it.push("]"),it;default:throw this.astErrorOutput("Unexpected expression",nt)}if(!nt.computed)switch(_){case"Number":case"Integer":case"Float":case"Boolean":return it.push(`${ht}_${ct}`),it}const ut=`${ht}_${ct}`;switch(_){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let pt,mt;if(ht==="constants"){const vt=this.constants[ct];mt=this.constantTypes[ct]==="Input",pt=mt?vt.size:null}else mt=this.isInput(ct),pt=mt?this.argumentSizes[this.argumentNames.indexOf(ct)]:null;it.push(`${ut}`),lt&&st?mt?(it.push("[("),this.astGeneric(lt,it),it.push(`*${this.dynamicArguments?"(outputY * outputX)":pt[1]*pt[0]})+(`),this.astGeneric(st,it),it.push(`*${this.dynamicArguments?"outputX":pt[0]})+`),this.astGeneric(tt,it),it.push("]")):(it.push("["),this.astGeneric(lt,it),it.push("]"),it.push("["),this.astGeneric(st,it),it.push("]"),it.push("["),this.astGeneric(tt,it),it.push("]")):st?mt?(it.push("[("),this.astGeneric(st,it),it.push(`*${this.dynamicArguments?"outputX":pt[0]})+`),this.astGeneric(tt,it),it.push("]")):(it.push("["),this.astGeneric(st,it),it.push("]"),it.push("["),this.astGeneric(tt,it),it.push("]")):typeof tt<"u"&&(it.push("["),this.astGeneric(tt,it),it.push("]"))}return it}astCallExpression(nt,it){if(nt.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",nt);let j=this.astMemberExpressionUnroll(nt.callee);this.calledFunctions.indexOf(j)<0&&this.calledFunctions.push(j),this.isAstMathFunction(nt),this.onFunctionCall&&this.onFunctionCall(this.name,j,nt.arguments),it.push(j),it.push("(");const _=this.lookupFunctionArgumentTypes(j)||[];for(let $=0;$<nt.arguments.length;++$){const tt=nt.arguments[$];let st=this.getType(tt);_[$]||this.triggerImplyArgumentType(j,$,st,this),$>0&&it.push(", "),this.astGeneric(tt,it)}return it.push(")"),it}astArrayExpression(nt,it){const j=this.getType(nt),_=nt.elements.length,$=[];for(let tt=0;tt<_;++tt){const st=[];this.astGeneric(nt.elements[tt],st),$.push(st.join(""))}switch(j){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":it.push(`[${$.join(", ")}]`);break;default:it.push(`new Float32Array([${$.join(", ")}])`)}return it}astDebuggerStatement(nt,it){return it.push("debugger;"),it}}a.exports={CPUFunctionNode:ot}},{"../function-node":10}],7:[function(o,a,rt){const{utils:et}=o("../../utils");function ot(nt,it){const j=[];for(const _ in it){if(!it.hasOwnProperty(_))continue;const $=it[_],tt=nt[_];switch($){case"Number":case"Integer":case"Float":case"Boolean":j.push(`${_}:${tt}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":j.push(`${_}:new ${tt.constructor.name}(${JSON.stringify(Array.from(tt))})`);break}}return`{ ${j.join()} }`}function at(nt,it){const j=[],_=[],$=[],tt=!/^function/.test(nt.color.toString());if(j.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(nt.output))});`,`  const _constantTypes = ${JSON.stringify(nt.constantTypes)};`,`  const _constants = ${ot(nt.constants,nt.constantTypes)};`),_.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),nt.graphical){j.push(`  const _imageData = context.createImageData(${nt.output[0]}, ${nt.output[1]});`),j.push(`  const _colorData = new Uint8ClampedArray(${nt.output[0]} * ${nt.output[1]} * 4);`);const ct=et.flattenFunctionToString((tt?"function ":"")+nt.color.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(nt[ut])},findDependency:(ut,pt)=>null}),ht=et.flattenFunctionToString((tt?"function ":"")+nt.getPixels.toString(),{thisLookup:ut=>{switch(ut){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(nt[ut])},findDependency:()=>null});_.push("    _imageData,","    _colorData,",`    color: ${ct},`),$.push(`  kernel.getPixels = ${ht};`)}const st=[],lt=Object.keys(nt.constantTypes);for(let ct=0;ct<lt.length;ct++)st.push(nt.constantTypes[lt]);if(nt.argumentTypes.indexOf("HTMLImageArray")!==-1||st.indexOf("HTMLImageArray")!==-1){const ct=et.flattenFunctionToString((tt?"function ":"")+nt._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(ht,ut)=>ht==="this"?(tt?"function ":"")+nt[ut].toString():null,thisLookup:ht=>{switch(ht){case"canvas":return;case"context":return"context"}}});$.push(ct),_.push("    _mediaTo2DArray,"),_.push("    _imageTo3DArray,")}else if(nt.argumentTypes.indexOf("HTMLImage")!==-1||st.indexOf("HTMLImage")!==-1){const ct=et.flattenFunctionToString((tt?"function ":"")+nt._mediaTo2DArray.toString(),{findDependency:(ht,ut)=>null,thisLookup:ht=>{switch(ht){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});$.push(ct),_.push("    _mediaTo2DArray,")}return`function(settings) {
${j.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${nt._kernelString}
  })
    .apply({ ${_.join(`
`)} });
  ${$.join(`
`)}
  return kernel;
}`}a.exports={cpuKernelString:at}},{"../../utils":114}],8:[function(o,a,rt){const{Kernel:et}=o("../kernel"),{FunctionBuilder:ot}=o("../function-builder"),{CPUFunctionNode:at}=o("./function-node"),{utils:nt}=o("../../utils"),{cpuKernelString:it}=o("./kernel-string");class j extends et{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch($){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels($){return $}static getSignature($,tt){return"cpu"+(tt.length>0?":"+tt.join(","):"")}constructor($,tt){super($,tt),this.mergeSettings($.settings||tt),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins($){return[]}validateSettings($){if(!this.output||this.output.length===0){if($.length!==1)throw new Error("Auto output only supported for kernels with only one input");const tt=nt.getVariableType($[0],this.strictIntegers);if(tt==="Array")this.output=nt.getDimensions(tt);else if(tt==="NumberTexture"||tt==="ArrayTexture(4)")this.output=$[0].output;else throw new Error("Auto output not supported for input type: "+tt)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const tt=[];for(let st=0;st<this.subKernels.length;st++){const{name:lt}=this.subKernels[st];tt.push(this.output.length>1?`resultX_${lt}[x] = subKernelResult_${lt};
`:`result_${lt}[x] = subKernelResult_${lt};
`)}this.followingReturnStatement=tt.join("")}const $=ot.fromKernel(this,at);this.translatedSources=$.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=$.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:tt,output:st}=this;if(!tt)throw new Error("no canvas available for using graphical output");const lt=st[0],ct=st[1]||1;tt.width=lt,tt.height=ct,this._imageData=this.context.createImageData(lt,ct),this._colorData=new Uint8ClampedArray(lt*ct*4)}const $=this.getKernelString();this.kernelString=$,this.debug&&(console.log("Function output:"),console.log($));try{this.run=new Function([],$).bind(this)()}catch(tt){console.error("An error occurred compiling the javascript: ",tt)}this.buildSignature(arguments),this.built=!0}color($,tt,st,lt){typeof lt>"u"&&(lt=1),$=Math.floor($*255),tt=Math.floor(tt*255),st=Math.floor(st*255),lt=Math.floor(lt*255);const ct=this.output[0],ht=this.output[1],ut=this.thread.x,pt=ht-this.thread.y-1,mt=ut+pt*ct;this._colorData[mt*4+0]=$,this._colorData[mt*4+1]=tt,this._colorData[mt*4+2]=st,this._colorData[mt*4+3]=lt}getKernelString(){if(this._kernelString!==null)return this._kernelString;let $=null,{translatedSources:tt}=this;return tt.length>1?tt=tt.filter(st=>/^function/.test(st)?st:($=st,!1)):$=tt.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(st=>"user_"+st).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody($):this._resultKernelBody($)}
    ${tt.length>0?tt.join(`
`):""}
  };`}toString(){return it(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const $=[];for(let tt in this.constants)switch(this.constantTypes[tt]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    const constants_${tt} = this._mediaTo2DArray(this.constants.${tt});
`);break;case"HTMLImageArray":$.push(`    const constants_${tt} = this._imageTo3DArray(this.constants.${tt});
`);break;case"Input":$.push(`    const constants_${tt} = this.constants.${tt}.value;
`);break;default:$.push(`    const constants_${tt} = this.constants.${tt};
`)}return $.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const $=[];for(let st=0;st<this.argumentTypes.length;st++)this.argumentTypes[st]==="Array"&&$.push(this.argumentNames[st]);if($.length===0)return"";const tt=[];for(let st=0;st<$.length;st++){const lt=$[st],ct=this._mapSubKernels(ht=>`user_${lt} === result_${ht.name}`).join(" || ");tt.push(`user_${lt} === result${ct?` || ${ct}`:""}`)}return`if (${tt.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const $=[];for(let tt=0;tt<this.argumentTypes.length;tt++){const st=`user_${this.argumentNames[tt]}`;switch(this.argumentTypes[tt]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`    ${st} = this._mediaTo2DArray(${st});
`);break;case"HTMLImageArray":$.push(`    ${st} = this._imageTo3DArray(${st});
`);break;case"Input":$.push(`    ${st} = ${st}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":$.push(`
    if (${st}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${st});
      if (textureIndex !== -1) {
        ${st} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${st});
        ${st} = ${st}.toArray();
        _this.arrayCache.push(${st});
      }
    }`);break}}return $.join("")}_mediaTo2DArray($){const tt=this.canvas,st=$.width>0?$.width:$.videoWidth,lt=$.height>0?$.height:$.videoHeight;tt.width<st&&(tt.width=st),tt.height<lt&&(tt.height=lt);const ct=this.context;let ht;$.constructor===ImageData?ht=$.data:(ct.drawImage($,0,0,st,lt),ht=ct.getImageData(0,0,st,lt).data);const ut=new Array(lt);let pt=0;for(let mt=lt-1;mt>=0;mt--){const vt=ut[mt]=new Array(st);for(let dt=0;dt<st;dt++){const St=new Float32Array(4);St[0]=ht[pt++]/255,St[1]=ht[pt++]/255,St[2]=ht[pt++]/255,St[3]=ht[pt++]/255,vt[dt]=St}}return ut}getPixels($){const[tt,st]=this.output;return $?nt.flipPixels(this._imageData.data,tt,st):this._imageData.data.slice(0)}_imageTo3DArray($){const tt=new Array($.length);for(let st=0;st<$.length;st++)tt[st]=this._mediaTo2DArray($[st]);return tt}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody($){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop($):this._resultImmutableKernel1DLoop($))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop($):this._resultImmutableKernel2DLoop($))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop($):this._resultImmutableKernel3DLoop($))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody($){switch(this.output.length){case 2:return this._graphicalKernel2DLoop($)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${tt}(outputX);
    ${this._mapSubKernels(st=>`const result_${st.name} = new ${tt}(outputX);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_mutableKernel1DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${$}(outputX);
    ${this._mapSubKernels(tt=>`const result_${tt.name} = new ${$}(outputX);
`).join("    ")}
    ${this._mapSubKernels(tt=>`let subKernelResult_${tt.name};
`).join("    ")}`}_resultMutableKernel1DLoop($){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${$}
    }`}_resultImmutableKernel2DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${tt}(outputX);
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${tt}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_mutableKernel2DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(tt=>`const result_${tt.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(tt=>`let subKernelResult_${tt.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${$}(outputX);
      ${this._mapSubKernels(tt=>`const resultX_${tt.name} = result_${tt.name}[y] = new ${$}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(st=>`const resultX_${st.name} = result_${st.name}[y] = new ${tt}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_graphicalKernel2DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${$}
      }
    }`}_resultImmutableKernel3DLoop($){const tt=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(st=>`const result_${st.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(st=>`let subKernelResult_${st.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(st=>`const resultY_${st.name} = result_${st.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${tt}(outputX);
        ${this._mapSubKernels(st=>`const resultX_${st.name} = resultY_${st.name}[y] = new ${tt}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_mutableKernel3DResults(){const $=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(tt=>`const result_${tt.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(tt=>`let subKernelResult_${tt.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(tt=>`const resultY_${tt.name} = result_${tt.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${$}(outputX);
        ${this._mapSubKernels(tt=>`const resultX_${tt.name} = resultY_${tt.name}[y] = new ${$}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop($){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${$}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map($=>`${$.property}: result_${$.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels($){return this.subKernels===null?[""]:this.subKernels.map($)}destroy($){$&&delete this.canvas}static destroyContext($){}toJSON(){const $=super.toJSON();return $.functionNodes=ot.fromKernel(this,at).toJSON(),$}setOutput($){super.setOutput($);const[tt,st]=this.output;this.graphical&&(this._imageData=this.context.createImageData(tt,st),this._colorData=new Uint8ClampedArray(tt*st*4))}prependString($){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push($)}hasPrependString($){return this._prependedString.indexOf($)>-1}}a.exports={CPUKernel:j}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(o,a,rt){class et{static fromKernel(at,nt,it){const{kernelArguments:j,kernelConstants:_,argumentNames:$,argumentSizes:tt,argumentBitRatios:st,constants:lt,constantBitRatios:ct,debug:ht,loopMaxIterations:ut,nativeFunctions:pt,output:mt,optimizeFloatMemory:vt,precision:dt,plugins:St,source:yt,subKernels:gt,functions:Et,leadingReturnStatement:_t,followingReturnStatement:kt,dynamicArguments:Ct,dynamicOutput:Tt}=at,At=new Array(j.length),It={};for(let qt=0;qt<j.length;qt++)At[qt]=j[qt].type;for(let qt=0;qt<_.length;qt++){const xr=_[qt];It[xr.name]=xr.type}const Ot=(qt,xr)=>rr.needsArgumentType(qt,xr),Mt=(qt,xr,Sr)=>{rr.assignArgumentType(qt,xr,Sr)},Dt=(qt,xr,Sr)=>rr.lookupReturnType(qt,xr,Sr),Bt=qt=>rr.lookupFunctionArgumentTypes(qt),Kt=(qt,xr)=>rr.lookupFunctionArgumentName(qt,xr),Wt=(qt,xr)=>rr.lookupFunctionArgumentBitRatio(qt,xr),zt=(qt,xr,Sr,dr)=>{rr.assignArgumentType(qt,xr,Sr,dr)},Ht=(qt,xr,Sr,dr)=>{rr.assignArgumentBitRatio(qt,xr,Sr,dr)},Zt=(qt,xr,Sr)=>{rr.trackFunctionCall(qt,xr,Sr)},Qt=(qt,xr)=>{const Sr=[];for(let Ur=0;Ur<qt.params.length;Ur++)Sr.push(qt.params[Ur].name);const dr=new nt(xr,Object.assign({},hr,{returnType:null,ast:qt,name:qt.id.name,argumentNames:Sr,lookupReturnType:Dt,lookupFunctionArgumentTypes:Bt,lookupFunctionArgumentName:Kt,lookupFunctionArgumentBitRatio:Wt,needsArgumentType:Ot,assignArgumentType:Mt,triggerImplyArgumentType:zt,triggerImplyArgumentBitRatio:Ht,onFunctionCall:Zt}));dr.traceFunctionAST(qt),rr.addFunctionNode(dr)},hr=Object.assign({isRootKernel:!1,onNestedFunction:Qt,lookupReturnType:Dt,lookupFunctionArgumentTypes:Bt,lookupFunctionArgumentName:Kt,lookupFunctionArgumentBitRatio:Wt,needsArgumentType:Ot,assignArgumentType:Mt,triggerImplyArgumentType:zt,triggerImplyArgumentBitRatio:Ht,onFunctionCall:Zt,optimizeFloatMemory:vt,precision:dt,constants:lt,constantTypes:It,constantBitRatios:ct,debug:ht,loopMaxIterations:ut,output:mt,plugins:St,dynamicArguments:Ct,dynamicOutput:Tt},it||{}),fr=Object.assign({},hr,{isRootKernel:!0,name:"kernel",argumentNames:$,argumentTypes:At,argumentSizes:tt,argumentBitRatios:st,leadingReturnStatement:_t,followingReturnStatement:kt});if(typeof yt=="object"&&yt.functionNodes)return new et().fromJSON(yt.functionNodes,nt);const pr=new nt(yt,fr);let gr=null;Et&&(gr=Et.map(qt=>new nt(qt.source,{returnType:qt.returnType,argumentTypes:qt.argumentTypes,output:mt,plugins:St,constants:lt,constantTypes:It,constantBitRatios:ct,optimizeFloatMemory:vt,precision:dt,lookupReturnType:Dt,lookupFunctionArgumentTypes:Bt,lookupFunctionArgumentName:Kt,lookupFunctionArgumentBitRatio:Wt,needsArgumentType:Ot,assignArgumentType:Mt,triggerImplyArgumentType:zt,triggerImplyArgumentBitRatio:Ht,onFunctionCall:Zt,onNestedFunction:Qt})));let tr=null;gt&&(tr=gt.map(qt=>{const{name:xr,source:Sr}=qt;return new nt(Sr,Object.assign({},hr,{name:xr,isSubKernel:!0,isRootKernel:!1}))}));const rr=new et({kernel:at,rootNode:pr,functionNodes:gr,nativeFunctions:pt,subKernelNodes:tr});return rr}constructor(at){if(at=at||{},this.kernel=at.kernel,this.rootNode=at.rootNode,this.functionNodes=at.functionNodes||[],this.subKernelNodes=at.subKernelNodes||[],this.nativeFunctions=at.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let nt=0;nt<this.functionNodes.length;nt++)this.functionMap[this.functionNodes[nt].name]=this.functionNodes[nt];if(this.subKernelNodes)for(let nt=0;nt<this.subKernelNodes.length;nt++)this.functionMap[this.subKernelNodes[nt].name]=this.subKernelNodes[nt];if(this.nativeFunctions)for(let nt=0;nt<this.nativeFunctions.length;nt++){const it=this.nativeFunctions[nt];this.nativeFunctionNames.push(it.name)}}addFunctionNode(at){if(!at.name)throw new Error("functionNode.name needs set");this.functionMap[at.name]=at,at.isRootKernel&&(this.rootNode=at)}traceFunctionCalls(at,nt){if(at=at||"kernel",nt=nt||[],this.nativeFunctionNames.indexOf(at)>-1){const j=nt.indexOf(at);if(j===-1)nt.push(at);else{const _=nt.splice(j,1)[0];nt.push(_)}return nt}const it=this.functionMap[at];if(it){const j=nt.indexOf(at);if(j===-1){nt.push(at),it.toString();for(let _=0;_<it.calledFunctions.length;++_)this.traceFunctionCalls(it.calledFunctions[_],nt)}else{const _=nt.splice(j,1)[0];nt.push(_)}}return nt}getPrototypeString(at){return this.getPrototypes(at).join(`
`)}getPrototypes(at){return this.rootNode&&this.rootNode.toString(),at?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(at,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(at){const nt=[];for(let it=0;it<at.length;++it)this.functionMap[at[it]]&&nt.push(this.functionMap[at[it]].toString());return nt.join(`
`)}getPrototypesFromFunctionNames(at){const nt=[];for(let it=0;it<at.length;++it){const j=at[it],_=this.nativeFunctionNames.indexOf(j);if(_>-1){nt.push(this.nativeFunctions[_].source);continue}const $=this.functionMap[j];$&&nt.push($.toString())}return nt}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(at=>{const nt=this.nativeFunctions.indexOf(at);if(nt>-1)return{name:at,source:this.nativeFunctions[nt].source};if(this.functionMap[at])return this.functionMap[at].toJSON();throw new Error(`function ${at} not found`)})}fromJSON(at,nt){this.functionMap={};for(let it=0;it<at.length;it++){const j=at[it];this.functionMap[j.settings.name]=new nt(j.ast,j.settings)}return this}getString(at){return at?this.getStringFromFunctionNames(this.traceFunctionCalls(at).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(at,nt,it){if(nt.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${nt.type}`);if(this._isNativeFunction(at))return this._lookupNativeFunctionReturnType(at);if(this._isFunction(at)){const j=this._getFunction(at);if(j.returnType)return j.returnType;{for(let $=0;$<this.lookupChain.length;$++)if(this.lookupChain[$].ast===nt){if(j.argumentTypes.length===0&&nt.arguments.length>0){const tt=nt.arguments;for(let st=0;st<tt.length;st++)this.lookupChain.push({name:it.name,ast:tt[$],requestingNode:it}),j.argumentTypes[st]=it.getType(tt[st]),this.lookupChain.pop();return j.returnType=j.getType(j.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:it.name,ast:nt,requestingNode:it});const _=j.getType(j.getJsAST());return this.lookupChain.pop(),j.returnType=_}}return null}_getFunction(at){return this._isFunction(at),this.functionMap[at]}_isFunction(at){return!!this.functionMap[at]}_getNativeFunction(at){for(let nt=0;nt<this.nativeFunctions.length;nt++)if(this.nativeFunctions[nt].name===at)return this.nativeFunctions[nt];return null}_isNativeFunction(at){return!!this._getNativeFunction(at)}_lookupNativeFunctionReturnType(at){let nt=this._getNativeFunction(at);if(nt)return nt.returnType;throw new Error(`Native function ${at} not found`)}lookupFunctionArgumentTypes(at){return this._isNativeFunction(at)?this._getNativeFunction(at).argumentTypes:this._isFunction(at)?this._getFunction(at).argumentTypes:null}lookupFunctionArgumentName(at,nt){return this._getFunction(at).argumentNames[nt]}lookupFunctionArgumentBitRatio(at,nt){if(!this._isFunction(at))throw new Error("function not found");if(this.rootNode.name===at){const $=this.rootNode.argumentNames.indexOf(nt);if($!==-1)return this.rootNode.argumentBitRatios[$]}const it=this._getFunction(at),j=it.argumentNames.indexOf(nt);if(j===-1)throw new Error("argument not found");const _=it.argumentBitRatios[j];if(typeof _!="number")throw new Error("argument bit ratio not found");return _}needsArgumentType(at,nt){return this._isFunction(at)?!this._getFunction(at).argumentTypes[nt]:!1}assignArgumentType(at,nt,it,j){if(!this._isFunction(at))return;const _=this._getFunction(at);_.argumentTypes[nt]||(_.argumentTypes[nt]=it)}assignArgumentBitRatio(at,nt,it,j){const _=this._getFunction(at);if(this._isNativeFunction(it))return null;const $=this._getFunction(it),tt=_.argumentNames.indexOf(nt);if(tt===-1)throw new Error(`Argument ${nt} not found in arguments from function ${at}`);const st=_.argumentBitRatios[tt];if(typeof st!="number")throw new Error(`Bit ratio for argument ${nt} not found in function ${at}`);$.argumentBitRatios||($.argumentBitRatios=new Array($.argumentNames.length));const lt=$.argumentBitRatios[tt];if(typeof lt=="number"){if(lt!==st)throw new Error(`Incompatible bit ratio found at function ${at} at argument ${nt}`);return lt}return $.argumentBitRatios[tt]=st,st}trackFunctionCall(at,nt,it){this.functionNodeDependencies[at]||(this.functionNodeDependencies[at]=new Set,this.functionCalls[at]=[]),this.functionNodeDependencies[at].add(nt),this.functionCalls[at].push(it)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(at){const nt=this.subKernelNodes[at];let it=!1;for(let j=0;j<this.rootNode.functionCalls.length;j++)this.rootNode.functionCalls[j].ast.callee.name===nt.name&&(it=!0);if(!it)throw new Error(`SubKernel ${nt.name} never called by kernel`);return nt.returnType||nt.getType(nt.getJsAST())}getReturnTypes(){const at={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},nt=this.traceFunctionCalls(this.rootNode.name);for(let it=0;it<nt.length;it++){const j=nt[it],_=this.functionMap[j];at[j]=_.getType(_.ast)}return at}}a.exports={FunctionBuilder:et}},{}],10:[function(o,a,rt){const et=o("acorn"),{utils:ot}=o("../utils"),{FunctionTracer:at}=o("./function-tracer");class nt{constructor(_,$){if(!_&&!$.ast)throw new Error("source parameter is missing");if($=$||{},this.source=_,this.ast=null,this.name=typeof _=="string"?$.isRootKernel?"kernel":$.name||ot.getFunctionNameFromString(_):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?ot.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,$)for(const tt in $)$.hasOwnProperty(tt)&&this.hasOwnProperty(tt)&&(this[tt]=$[tt]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!ot.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(_){return this.constants?this.constants.hasOwnProperty(_):!1}isInput(_){return this.argumentTypes[this.argumentNames.indexOf(_)]==="Input"}pushState(_){this.states.push(_)}popState(_){if(this.state!==_)throw new Error(`Cannot popState ${_} when in ${this.state}`);this.states.pop()}isState(_){return this.state===_}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(_){if(_.type==="Identifier")return _.name;if(_.type==="ThisExpression")return"this";if(_.type==="MemberExpression"&&_.object&&_.property)return _.object.hasOwnProperty("name")&&_.object.name!=="Math"?this.astMemberExpressionUnroll(_.property):this.astMemberExpressionUnroll(_.object)+"."+this.astMemberExpressionUnroll(_.property);if(_.hasOwnProperty("expressions")){const $=_.expressions[0];if($.type==="Literal"&&$.value===0&&_.expressions.length===2)return this.astMemberExpressionUnroll(_.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",_)}getJsAST(_){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(_=_||et,_===null)throw new Error("Missing JS to AST parser");const $=Object.freeze(_.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),tt=$.body[0].declarations[0].init;if(this.traceFunctionAST(tt),!$)throw new Error("Failed to parse JS code");return this.ast=tt}traceFunctionAST(_){const{contexts:$,declarations:tt,functions:st,identifiers:lt,functionCalls:ct}=new at(_);this.contexts=$,this.identifiers=lt,this.functionCalls=ct,this.functions=st;for(let ht=0;ht<tt.length;ht++){const ut=tt[ht],{ast:pt,inForLoopInit:mt,inForLoopTest:vt}=ut,{init:dt}=pt,St=this.getDependencies(dt);let yt=null;if(mt&&vt)yt="Integer";else if(dt){const gt=this.getType(dt);switch(gt){case"Integer":case"Float":case"Number":dt.type==="MemberExpression"?yt=gt:yt="Number";break;case"LiteralInteger":yt="Number";break;default:yt=gt}}ut.valueType=yt,ut.dependencies=St,ut.isSafe=this.isSafeDependencies(St)}for(let ht=0;ht<st.length;ht++)this.onNestedFunction(st[ht],this.source)}getDeclaration(_){for(let $=0;$<this.identifiers.length;$++){const tt=this.identifiers[$];if(_===tt.ast)return tt.declaration}return null}getVariableType(_){if(_.type!=="Identifier")throw new Error(`ast of ${_.type} not "Identifier"`);let $=null;const tt=this.argumentNames.indexOf(_.name);if(tt===-1){const st=this.getDeclaration(_);if(st)return st.valueType}else{const st=this.argumentTypes[tt];st&&($=st)}if(!$&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return $}getLookupType(_){if(!it.hasOwnProperty(_))throw new Error(`unknown typeLookupMap ${_}`);return it[_]}getConstantType(_){if(this.constantTypes[_]){const $=this.constantTypes[_];return $==="Float"?"Number":$}throw new Error(`Type for constant "${_}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const _={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:_}}getType(_){if(Array.isArray(_))return this.getType(_[_.length-1]);switch(_.type){case"BlockStatement":return this.getType(_.body);case"ArrayExpression":switch(this.getType(_.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${_.elements.length})`}return`Array(${_.elements.length})`;case"Literal":const tt=this.astKey(_);return this.literalTypes[tt]?this.literalTypes[tt]:Number.isInteger(_.value)?"LiteralInteger":_.value===!0||_.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(_.left);case"CallExpression":if(this.isAstMathFunction(_))return"Number";if(!_.callee||!_.callee.name){if(_.callee.type==="SequenceExpression"&&_.callee.expressions[_.callee.expressions.length-1].property.name){const ut=_.callee.expressions[_.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}if(this.getVariableSignature(_.callee,!0)==="this.color")return null;if(_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.property&&_.callee.property.name&&_.arguments){const ut=_.callee.property.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput("Unknown call expression",_)}if(_.callee&&_.callee.name){const ut=_.callee.name;return this.inferArgumentTypesIfNeeded(ut,_.arguments),this.lookupReturnType(ut,_,this)}throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(_.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const st=this.getType(_.left);if(this.isState("skip-literal-correction"))return st;if(st==="LiteralInteger"){const ut=this.getType(_.right);return ut==="LiteralInteger"?_.left.value%1===0?"Integer":"Float":ut}return it[st]||st;case"UpdateExpression":return this.getType(_.argument);case"UnaryExpression":return _.operator==="~"?"Integer":this.getType(_.argument);case"VariableDeclaration":{const ut=_.declarations;let pt;for(let mt=0;mt<ut.length;mt++){const vt=ut[mt];pt=this.getType(vt)}if(!pt)throw this.astErrorOutput("Unable to find type for declaration",_);return pt}case"VariableDeclarator":const lt=this.getDeclaration(_.id);if(!lt)throw this.astErrorOutput("Unable to find declarator",_);if(!lt.valueType)throw this.astErrorOutput("Unable to find declarator valueType",_);return lt.valueType;case"Identifier":if(_.name==="Infinity")return"Number";if(this.isAstVariable(_)&&this.getVariableSignature(_)==="value")return this.getCheckVariableType(_);const ct=this.findIdentifierOrigin(_);return ct&&ct.init?this.getType(ct.init):null;case"ReturnStatement":return this.getType(_.argument);case"MemberExpression":if(this.isAstMathFunction(_)){switch(_.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(_)){switch(this.getVariableSignature(_)){case"value[]":return this.getLookupType(this.getCheckVariableType(_.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(_.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(_.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(_.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(_.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(_.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(_.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(_.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(_.object));case"value.value":if(this.isAstMathVariable(_))return"Number";switch(_.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(_.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",_)}throw this.astErrorOutput("Unhandled getType MemberExpression",_);case"ConditionalExpression":return this.getType(_.consequent);case"FunctionDeclaration":case"FunctionExpression":const ht=this.findLastReturn(_.body);return ht?this.getType(ht):null;case"IfStatement":return this.getType(_.consequent);case"SequenceExpression":return this.getType(_.expressions[_.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${_.type}"`,_)}}getCheckVariableType(_){const $=this.getVariableType(_);if(!$)throw this.astErrorOutput(`${_.type} is not defined`,_);return $}inferArgumentTypesIfNeeded(_,$){for(let tt=0;tt<$.length;tt++){if(!this.needsArgumentType(_,tt))continue;const st=this.getType($[tt]);if(!st)throw this.astErrorOutput(`Unable to infer argument ${tt}`,$[tt]);this.assignArgumentType(_,tt,st)}}isAstMathVariable(_){const $=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return _.type==="MemberExpression"&&_.object&&_.object.type==="Identifier"&&_.object.name==="Math"&&_.property&&_.property.type==="Identifier"&&$.indexOf(_.property.name)>-1}isAstMathFunction(_){const $=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return _.type==="CallExpression"&&_.callee&&_.callee.type==="MemberExpression"&&_.callee.object&&_.callee.object.type==="Identifier"&&_.callee.object.name==="Math"&&_.callee.property&&_.callee.property.type==="Identifier"&&$.indexOf(_.callee.property.name)>-1}isAstVariable(_){return _.type==="Identifier"||_.type==="MemberExpression"}isSafe(_){return this.isSafeDependencies(this.getDependencies(_))}isSafeDependencies(_){return _&&_.every?_.every($=>$.isSafe):!0}getDependencies(_,$,tt){if($||($=[]),!_)return null;if(Array.isArray(_)){for(let st=0;st<_.length;st++)this.getDependencies(_[st],$,tt);return $}switch(_.type){case"AssignmentExpression":return this.getDependencies(_.left,$,tt),this.getDependencies(_.right,$,tt),$;case"ConditionalExpression":return this.getDependencies(_.test,$,tt),this.getDependencies(_.alternate,$,tt),this.getDependencies(_.consequent,$,tt),$;case"Literal":$.push({origin:"literal",value:_.value,isSafe:tt===!0?!1:_.value>-1/0&&_.value<1/0&&!isNaN(_.value)});break;case"VariableDeclarator":return this.getDependencies(_.init,$,tt);case"Identifier":const st=this.getDeclaration(_);if(st)$.push({name:_.name,origin:"declaration",isSafe:tt?!1:this.isSafeDependencies(st.dependencies)});else if(this.argumentNames.indexOf(_.name)>-1)$.push({name:_.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${_.name}"`);break;case"FunctionDeclaration":return this.getDependencies(_.body.body[_.body.body.length-1],$,tt);case"ReturnStatement":return this.getDependencies(_.argument,$);case"BinaryExpression":case"LogicalExpression":return tt=_.operator==="/"||_.operator==="*",this.getDependencies(_.left,$,tt),this.getDependencies(_.right,$,tt),$;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(_.argument,$,tt);case"VariableDeclaration":return this.getDependencies(_.declarations,$,tt);case"ArrayExpression":return $.push({origin:"declaration",isSafe:!0}),$;case"CallExpression":return $.push({origin:"function",isSafe:!0}),$;case"MemberExpression":const lt=this.getMemberExpressionDetails(_);switch(lt.signature){case"value[]":this.getDependencies(_.object,$,tt);break;case"value[][]":this.getDependencies(_.object.object,$,tt);break;case"value[][][]":this.getDependencies(_.object.object.object,$,tt);break;case"this.output.value":this.dynamicOutput&&$.push({name:lt.name,origin:"output",isSafe:!1});break}if(lt)return lt.property&&this.getDependencies(lt.property,$,tt),lt.xProperty&&this.getDependencies(lt.xProperty,$,tt),lt.yProperty&&this.getDependencies(lt.yProperty,$,tt),lt.zProperty&&this.getDependencies(lt.zProperty,$,tt),$;case"SequenceExpression":return this.getDependencies(_.expressions,$,tt);default:throw this.astErrorOutput(`Unhandled type ${_.type} in getDependencies`,_)}return $}getVariableSignature(_,$){if(!this.isAstVariable(_))throw new Error(`ast of type "${_.type}" is not a variable signature`);if(_.type==="Identifier")return"value";const tt=[];for(;_;)_.computed?tt.push("[]"):_.type==="ThisExpression"?tt.unshift("this"):_.property&&_.property.name?_.property.name==="x"||_.property.name==="y"||_.property.name==="z"?tt.unshift($?"."+_.property.name:".value"):_.property.name==="constants"||_.property.name==="thread"||_.property.name==="output"?tt.unshift("."+_.property.name):tt.unshift($?"."+_.property.name:".value"):_.name?tt.unshift($?_.name:"value"):_.callee&&_.callee.name?tt.unshift($?_.callee.name+"()":"fn()"):_.elements?tt.unshift("[]"):tt.unshift("unknown"),_=_.object;const st=tt.join("");return $||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(st)>-1?st:null}build(){return this.toString().length>0}astGeneric(_,$){if(_===null)throw this.astErrorOutput("NULL ast",_);if(Array.isArray(_)){for(let tt=0;tt<_.length;tt++)this.astGeneric(_[tt],$);return $}switch(_.type){case"FunctionDeclaration":return this.astFunctionDeclaration(_,$);case"FunctionExpression":return this.astFunctionExpression(_,$);case"ReturnStatement":return this.astReturnStatement(_,$);case"Literal":return this.astLiteral(_,$);case"BinaryExpression":return this.astBinaryExpression(_,$);case"Identifier":return this.astIdentifierExpression(_,$);case"AssignmentExpression":return this.astAssignmentExpression(_,$);case"ExpressionStatement":return this.astExpressionStatement(_,$);case"EmptyStatement":return this.astEmptyStatement(_,$);case"BlockStatement":return this.astBlockStatement(_,$);case"IfStatement":return this.astIfStatement(_,$);case"SwitchStatement":return this.astSwitchStatement(_,$);case"BreakStatement":return this.astBreakStatement(_,$);case"ContinueStatement":return this.astContinueStatement(_,$);case"ForStatement":return this.astForStatement(_,$);case"WhileStatement":return this.astWhileStatement(_,$);case"DoWhileStatement":return this.astDoWhileStatement(_,$);case"VariableDeclaration":return this.astVariableDeclaration(_,$);case"VariableDeclarator":return this.astVariableDeclarator(_,$);case"ThisExpression":return this.astThisExpression(_,$);case"SequenceExpression":return this.astSequenceExpression(_,$);case"UnaryExpression":return this.astUnaryExpression(_,$);case"UpdateExpression":return this.astUpdateExpression(_,$);case"LogicalExpression":return this.astLogicalExpression(_,$);case"MemberExpression":return this.astMemberExpression(_,$);case"CallExpression":return this.astCallExpression(_,$);case"ArrayExpression":return this.astArrayExpression(_,$);case"DebuggerStatement":return this.astDebuggerStatement(_,$);case"ConditionalExpression":return this.astConditionalExpression(_,$)}throw this.astErrorOutput("Unknown ast type : "+_.type,_)}astErrorOutput(_,$){if(typeof this.source!="string")return new Error(_);const tt=ot.getAstString(this.source,$),lt=this.source.substr($.start).split(/\n/),ct=lt.length>0?lt[lt.length-1]:0;return new Error(`${_} on line ${lt.length}, position ${ct.length}:
 ${tt}`)}astDebuggerStatement(_,$){return $}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);return $.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$}astFunction(_,$){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}astFunctionExpression(_,$){return this.isChildFunction(_)?$:this.astFunction(_,$)}isChildFunction(_){for(let $=0;$<this.functions.length;$++)if(this.functions[$]===_)return!0;return!1}astReturnStatement(_,$){return $}astLiteral(_,$){return this.literalTypes[this.astKey(_)]="Number",$}astBinaryExpression(_,$){return $}astIdentifierExpression(_,$){return $}astAssignmentExpression(_,$){return $}astExpressionStatement(_,$){return this.astGeneric(_.expression,$),$.push(";"),$}astEmptyStatement(_,$){return $}astBlockStatement(_,$){return $}astIfStatement(_,$){return $}astSwitchStatement(_,$){return $}astBreakStatement(_,$){return $.push("break;"),$}astContinueStatement(_,$){return $.push(`continue;
`),$}astForStatement(_,$){return $}astWhileStatement(_,$){return $}astDoWhileStatement(_,$){return $}astVariableDeclarator(_,$){return this.astGeneric(_.id,$),_.init!==null&&($.push("="),this.astGeneric(_.init,$)),$}astThisExpression(_,$){return $}astSequenceExpression(_,$){const{expressions:tt}=_,st=[];for(let lt=0;lt<tt.length;lt++){const ct=tt[lt],ht=[];this.astGeneric(ct,ht),st.push(ht.join(""))}return st.length>1?$.push("(",st.join(","),")"):$.push(st[0]),$}astUnaryExpression(_,$){return this.checkAndUpconvertBitwiseUnary(_,$)||(_.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator))),$}checkAndUpconvertBitwiseUnary(_,$){}astUpdateExpression(_,$){return _.prefix?($.push(_.operator),this.astGeneric(_.argument,$)):(this.astGeneric(_.argument,$),$.push(_.operator)),$}astLogicalExpression(_,$){return $.push("("),this.astGeneric(_.left,$),$.push(_.operator),this.astGeneric(_.right,$),$.push(")"),$}astMemberExpression(_,$){return $}astCallExpression(_,$){return $}astArrayExpression(_,$){return $}getMemberExpressionDetails(_){if(_.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${_.type} not a MemberExpression`,_);let $=null,tt=null;const st=this.getVariableSignature(_);switch(st){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:st,type:"Integer",name:_.property.name};case"value[]":if(typeof _.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object),xProperty:_.property};case"value[][]":if(typeof _.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object),yProperty:_.object.property,xProperty:_.property};case"value[][][]":if(typeof _.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value[][][][]":if(typeof _.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",_);return $=_.object.object.object.object.name,{name:$,origin:"user",signature:st,type:this.getVariableType(_.object.object.object.object),zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property};case"value.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if(this.isAstMathVariable(_))return $=_.property.name,{name:$,origin:"Math",type:"Number",signature:st};switch(_.property.name){case"r":case"g":case"b":case"a":return $=_.object.name,{name:$,property:_.property.name,origin:"user",signature:st,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",_)}case"this.constants.value":if(typeof _.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st};case"this.constants.value[]":if(typeof _.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st,xProperty:_.property};case"this.constants.value[][]":{if(typeof _.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st,yProperty:_.object.property,xProperty:_.property}}case"this.constants.value[][][]":{if(typeof _.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",_);if($=_.object.object.object.property.name,tt=this.getConstantType($),!tt)throw this.astErrorOutput("Constant has no type",_);return{name:$,type:tt,origin:"constants",signature:st,zProperty:_.object.object.property,yProperty:_.object.property,xProperty:_.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:st,property:_.property};default:throw this.astErrorOutput("Unexpected expression",_)}}findIdentifierOrigin(_){const $=[this.ast];for(;$.length>0;){const tt=$[0];if(tt.type==="VariableDeclarator"&&tt.id&&tt.id.name&&tt.id.name===_.name)return tt;if($.shift(),tt.argument)$.push(tt.argument);else if(tt.body)$.push(tt.body);else if(tt.declarations)$.push(tt.declarations);else if(Array.isArray(tt))for(let st=0;st<tt.length;st++)$.push(tt[st])}return null}findLastReturn(_){const $=[_||this.ast];for(;$.length>0;){const tt=$.pop();if(tt.type==="ReturnStatement")return tt;if(tt.type!=="FunctionDeclaration")if(tt.argument)$.push(tt.argument);else if(tt.body)$.push(tt.body);else if(tt.declarations)$.push(tt.declarations);else if(Array.isArray(tt))for(let st=0;st<tt.length;st++)$.push(tt[st]);else tt.consequent?$.push(tt.consequent):tt.cases&&$.push(tt.cases)}return null}getInternalVariableName(_){return this._internalVariableNames.hasOwnProperty(_)||(this._internalVariableNames[_]=0),this._internalVariableNames[_]++,this._internalVariableNames[_]===1?_:_+this._internalVariableNames[_]}astKey(_,$=","){if(!_.start||!_.end)throw new Error("AST start and end needed");return`${_.start}${$}${_.end}`}}const it={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};a.exports={FunctionNode:nt}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(o,a,rt){const{utils:et}=o("../utils");function ot(it){return it.length>0?it[it.length-1]:null}const at={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class nt{constructor(j){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(j)}isState(j){return this.states[this.states.length-1]===j}hasState(j){return this.states.indexOf(j)>-1}pushState(j){this.states.push(j)}popState(j){if(this.isState(j))this.states.pop();else throw new Error(`Cannot pop the non-active state "${j}"`)}get currentFunctionContext(){return ot(this.functionContexts)}get currentContext(){return ot(this.runningContexts)}newFunctionContext(){const j={"@contextType":"function"};this.contexts.push(j),this.functionContexts.push(j)}newContext(j){const _=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(_),this.runningContexts.push(_),j();const{currentFunctionContext:$}=this;for(const tt in $)!$.hasOwnProperty(tt)||_.hasOwnProperty(tt)||(_[tt]=$[tt]);return this.runningContexts.pop(),_}useFunctionContext(j){const _=ot(this.functionContexts);this.runningContexts.push(_),j(),this.runningContexts.pop()}getIdentifiers(j){const _=this.trackedIdentifiers=[];return this.pushState(at.trackIdentifiers),j(),this.trackedIdentifiers=null,this.popState(at.trackIdentifiers),_}getDeclaration(j){const{currentContext:_,currentFunctionContext:$,runningContexts:tt}=this,st=_[j]||$[j]||null;if(!st&&_===$&&tt.length>0){const lt=tt[tt.length-2];if(lt[j])return lt[j]}return st}scan(j){if(j){if(Array.isArray(j)){for(let _=0;_<j.length;_++)this.scan(j[_]);return}switch(j.type){case"Program":this.useFunctionContext(()=>{this.scan(j.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(j.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(j.left),this.scan(j.right);break;case"BinaryExpression":this.scan(j.left),this.scan(j.right);break;case"UpdateExpression":if(j.operator==="++"){const _=this.getDeclaration(j.argument.name);_&&(_.suggestedType="Integer")}this.scan(j.argument);break;case"UnaryExpression":this.scan(j.argument);break;case"VariableDeclaration":j.kind==="var"?this.useFunctionContext(()=>{j.declarations=et.normalizeDeclarations(j),this.scan(j.declarations)}):(j.declarations=et.normalizeDeclarations(j),this.scan(j.declarations));break;case"VariableDeclarator":{const{currentContext:_}=this,$=this.hasState(at.inForLoopInit),tt={ast:j,context:_,name:j.id.name,origin:"declaration",inForLoopInit:$,inForLoopTest:null,assignable:_===this.currentFunctionContext||!$&&!_.hasOwnProperty(j.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};_[j.id.name]||(_[j.id.name]=tt),this.declarations.push(tt),this.scan(j.id),this.scan(j.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(j.body):this.functions.push(j);break;case"IfStatement":this.scan(j.test),this.scan(j.consequent),j.alternate&&this.scan(j.alternate);break;case"ForStatement":{let _;const $=this.newContext(()=>{this.pushState(at.inForLoopInit),this.scan(j.init),this.popState(at.inForLoopInit),_=this.getIdentifiers(()=>{this.scan(j.test)}),this.scan(j.update),this.newContext(()=>{this.scan(j.body)})});if(_)for(const tt in $)tt!=="@contextType"&&_.indexOf(tt)>-1&&($[tt].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(j.body),this.scan(j.test)});break;case"Identifier":{this.isState(at.trackIdentifiers)&&this.trackedIdentifiers.push(j.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(j.name),ast:j});break}case"ReturnStatement":this.returnStatements.push(j),this.scan(j.argument);break;case"MemberExpression":this.pushState(at.memberExpression),this.scan(j.object),this.scan(j.property),this.popState(at.memberExpression);break;case"ExpressionStatement":this.scan(j.expression);break;case"SequenceExpression":this.scan(j.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:j}),this.scan(j.arguments);break;case"ArrayExpression":this.scan(j.elements);break;case"ConditionalExpression":this.scan(j.test),this.scan(j.alternate),this.scan(j.consequent);break;case"SwitchStatement":this.scan(j.discriminant),this.scan(j.cases);break;case"SwitchCase":this.scan(j.test),this.scan(j.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${j.type}"`)}}}}a.exports={FunctionTracer:nt}},{"../utils":114}],12:[function(o,a,rt){const{glWiretap:et}=o("gl-wiretap"),{utils:ot}=o("../../utils");function at(tt){return tt.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function nt(tt,st,lt,ct,ht){lt.built||lt.build.apply(lt,st),st=st?Array.from(st).map(fr=>{switch(typeof fr){case"boolean":return new Boolean(fr);case"number":return new Number(fr);default:return fr}}):null;const ut=[],pt=et(lt.context,{useTrackablePrimitives:!0,onReadPixels:fr=>{if(Zt.subKernels){if(!mt)ut.push(`    const result = { result: ${it(fr,Zt)} };`),mt=!0;else{const pr=Zt.subKernels[vt++].property;ut.push(`    result${isNaN(pr)?"."+pr:`[${pr}]`} = ${it(fr,Zt)};`)}vt===Zt.subKernels.length&&ut.push("    return result;");return}fr?ut.push(`    return ${it(fr,Zt)};`):ut.push("    return null;")},onUnrecognizedArgumentLookup:fr=>{const pr=$(fr,Zt.kernelArguments,[],pt);if(pr)return pr;const gr=$(fr,Zt.kernelConstants,kt?Object.keys(kt).map(tr=>kt[tr]):[],pt);return gr||null}});let mt=!1,vt=0;const{source:dt,canvas:St,output:yt,pipeline:gt,graphical:Et,loopMaxIterations:_t,constants:kt,optimizeFloatMemory:Ct,precision:Tt,fixIntegerDivisionAccuracy:At,functions:It,nativeFunctions:Ot,subKernels:Mt,immutable:Dt,argumentTypes:Bt,constantTypes:Kt,kernelArguments:Wt,kernelConstants:zt,tactic:Ht}=lt,Zt=new tt(dt,{canvas:St,context:pt,checkContext:!1,output:yt,pipeline:gt,graphical:Et,loopMaxIterations:_t,constants:kt,optimizeFloatMemory:Ct,precision:Tt,fixIntegerDivisionAccuracy:At,functions:It,nativeFunctions:Ot,subKernels:Mt,immutable:Dt,argumentTypes:Bt,constantTypes:Kt,tactic:Ht});let Qt=[];if(pt.setIndent(2),Zt.build.apply(Zt,st),Qt.push(pt.toString()),pt.reset(),Zt.kernelArguments.forEach((fr,pr)=>{switch(fr.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":pt.insertVariable(`uploadValue_${fr.name}`,fr.uploadValue);break;case"HTMLImageArray":for(let gr=0;gr<st[pr].length;gr++){const tr=st[pr];pt.insertVariable(`uploadValue_${fr.name}[${gr}]`,tr[gr])}break;case"Input":pt.insertVariable(`uploadValue_${fr.name}`,fr.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":pt.insertVariable(`uploadValue_${fr.name}`,st[pr].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${fr.type}`)}}),Qt.push("/** start of injected functions **/"),Qt.push(`function ${at(ot.flattenTo)}`),Qt.push(`function ${at(ot.flatten2dArrayTo)}`),Qt.push(`function ${at(ot.flatten3dArrayTo)}`),Qt.push(`function ${at(ot.flatten4dArrayTo)}`),Qt.push(`function ${at(ot.isArray)}`),Zt.renderOutput!==Zt.renderTexture&&Zt.formatValues&&Qt.push(`  const renderOutput = function ${at(Zt.formatValues)};`),Qt.push("/** end of injected functions **/"),Qt.push(`  const innerKernel = function (${Zt.kernelArguments.map(fr=>fr.varName).join(", ")}) {`),pt.setIndent(4),Zt.run.apply(Zt,st),Zt.renderKernels?Zt.renderKernels():Zt.renderOutput&&Zt.renderOutput(),Qt.push("    /** start setup uploads for kernel values **/"),Zt.kernelArguments.forEach(fr=>{Qt.push("    "+fr.getStringValueHandler().split(`
`).join(`
    `))}),Qt.push("    /** end setup uploads for kernel values **/"),Qt.push(pt.toString()),Zt.renderOutput===Zt.renderTexture){pt.reset();const fr=pt.getContextVariableName(Zt.framebuffer);if(Zt.renderKernels){const pr=Zt.renderKernels(),gr=pt.getContextVariableName(Zt.texture.texture);Qt.push(`    return {
      result: {
        texture: ${gr},
        type: '${pr.result.type}',
        toArray: ${_(pr.result,gr,fr)}
      },`);const{subKernels:tr,mappedTextures:rr}=Zt;for(let qt=0;qt<tr.length;qt++){const xr=rr[qt],Sr=tr[qt],dr=pr[Sr.property],Ur=pt.getContextVariableName(xr.texture);Qt.push(`
      ${Sr.property}: {
        texture: ${Ur},
        type: '${dr.type}',
        toArray: ${_(dr,Ur,fr)}
      },`)}Qt.push("    };")}else{const pr=Zt.renderOutput(),gr=pt.getContextVariableName(Zt.texture.texture);Qt.push(`    return {
        texture: ${gr},
        type: '${pr.type}',
        toArray: ${_(pr,gr,fr)}
      };`)}}Qt.push(`    ${ht?`
`+ht+"    ":""}`),Qt.push(ut.join(`
`)),Qt.push("  };"),Zt.graphical&&(Qt.push(j(Zt)),Qt.push("  innerKernel.getPixels = getPixels;")),Qt.push("  return innerKernel;");let hr=[];return zt.forEach(fr=>{hr.push(`${fr.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${hr.join("")}
  ${ct||""}
${Qt.join(`
`)}
}`}function it(tt,st){const lt=st.precision==="single"?tt:`new Float32Array(${tt}.buffer)`;return st.output[2]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]}, ${st.output[2]})`:st.output[1]?`renderOutput(${lt}, ${st.output[0]}, ${st.output[1]})`:`renderOutput(${lt}, ${st.output[0]})`}function j(tt){const st=tt.getPixels.toString(),lt=!/^function/.test(st);return ot.flattenFunctionToString(`${lt?"function ":""}${st}`,{findDependency:(ct,ht)=>ct==="utils"?`const ${ht} = ${ot[ht].toString()};`:null,thisLookup:ct=>{if(ct==="context")return null;if(tt.hasOwnProperty(ct))return JSON.stringify(tt[ct]);throw new Error(`unhandled thisLookup ${ct}`)}})}function _(tt,st,lt){const ct=tt.toArray.toString(),ht=!/^function/.test(ct),ut=ot.flattenFunctionToString(`${ht?"function ":""}${ct}`,{findDependency:(pt,mt)=>{if(pt==="utils")return`const ${mt} = ${ot[mt].toString()};`;if(pt==="this")return mt==="framebuffer"?"":`${ht?"function ":""}${tt[mt].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(pt,mt)=>{if(pt==="texture")return st;if(pt==="context")return mt?null:"gl";if(tt.hasOwnProperty(pt))return JSON.stringify(tt[pt]);throw new Error(`unhandled thisLookup ${pt}`)}});return`() => {
  function framebuffer() { return ${lt}; };
  ${ut}
  return toArray();
  }`}function $(tt,st,lt,ct,ht){if(tt===null||st===null)return null;switch(typeof tt){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&tt instanceof HTMLImageElement)for(let ut=0;ut<st.length;ut++){const pt=st[ut];if(pt.type!=="HTMLImageArray"&&pt||pt.uploadValue!==tt)continue;const mt=lt[ut].indexOf(tt);if(mt===-1)continue;const vt=`uploadValue_${pt.name}[${mt}]`;return ct.insertVariable(vt,tt),vt}for(let ut=0;ut<st.length;ut++){const pt=st[ut];if(tt!==pt.uploadValue)continue;const mt=`uploadValue_${pt.name}`;return ct.insertVariable(mt,pt),mt}return null}a.exports={glKernelString:nt}},{"../../utils":114,"gl-wiretap":3}],13:[function(o,a,rt){const{Kernel:et}=o("../kernel"),{utils:ot}=o("../../utils"),{GLTextureArray2Float:at}=o("./texture/array-2-float"),{GLTextureArray2Float2D:nt}=o("./texture/array-2-float-2d"),{GLTextureArray2Float3D:it}=o("./texture/array-2-float-3d"),{GLTextureArray3Float:j}=o("./texture/array-3-float"),{GLTextureArray3Float2D:_}=o("./texture/array-3-float-2d"),{GLTextureArray3Float3D:$}=o("./texture/array-3-float-3d"),{GLTextureArray4Float:tt}=o("./texture/array-4-float"),{GLTextureArray4Float2D:st}=o("./texture/array-4-float-2d"),{GLTextureArray4Float3D:lt}=o("./texture/array-4-float-3d"),{GLTextureFloat:ct}=o("./texture/float"),{GLTextureFloat2D:ht}=o("./texture/float-2d"),{GLTextureFloat3D:ut}=o("./texture/float-3d"),{GLTextureMemoryOptimized:pt}=o("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:mt}=o("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:vt}=o("./texture/memory-optimized-3d"),{GLTextureUnsigned:dt}=o("./texture/unsigned"),{GLTextureUnsigned2D:St}=o("./texture/unsigned-2d"),{GLTextureUnsigned3D:yt}=o("./texture/unsigned-3d"),{GLTextureGraphical:gt}=o("./texture/graphical");class Et extends et{static get mode(){return"gpu"}static getIsFloatRead(){const Ct=`function kernelFunction() {
      return 1;
    }`,Tt=new this(Ct,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});Tt.build(),Tt.run();const At=Tt.renderOutput();return Tt.destroy(!0),At[0]===1}static getIsIntegerDivisionAccurate(){function Ct(Ot,Mt){return Ot[this.thread.x]/Mt[this.thread.x]}const Tt=new this(Ct.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),At=[[6,6030401],[3,3991]];Tt.build.apply(Tt,At),Tt.run.apply(Tt,At);const It=Tt.renderOutput();return Tt.destroy(!0),It[0]===2&&It[1]===1511}static getIsSpeedTacticSupported(){function Ct(Ot){return Ot[this.thread.x]}const Tt=new this(Ct.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),At=[[0,1,2,3]];Tt.build.apply(Tt,At),Tt.run.apply(Tt,At);const It=Tt.renderOutput();return Tt.destroy(!0),Math.round(It[0])===0&&Math.round(It[1])===1&&Math.round(It[2])===2&&Math.round(It[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const Ct=this.testContext,Tt=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:Tt,kernelMap:Tt,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.LOW_INT),lowFloatPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.LOW_FLOAT),mediumIntPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.MEDIUM_INT),mediumFloatPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.MEDIUM_FLOAT),highIntPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.HIGH_INT),highFloatPrecision:Ct.getShaderPrecisionFormat(Ct.FRAGMENT_SHADER,Ct.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(Ct,Tt){return Ct.getVariablePrecisionString()+(Tt.length>0?":"+Tt.join(","):"")}setFixIntegerDivisionAccuracy(Ct){return this.fixIntegerDivisionAccuracy=Ct,this}setPrecision(Ct){return this.precision=Ct,this}setFloatTextures(Ct){return ot.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=Ct,this}static nativeFunctionArguments(Ct){const Tt=[],At=[],It=[],Ot=/^[a-zA-Z_]/,Mt=/[a-zA-Z_0-9]/;let Dt=0,Bt=null,Kt=null;for(;Dt<Ct.length;){const Wt=Ct[Dt],zt=Ct[Dt+1],Ht=It.length>0?It[It.length-1]:null;if(Ht==="FUNCTION_ARGUMENTS"&&Wt==="/"&&zt==="*"){It.push("MULTI_LINE_COMMENT"),Dt+=2;continue}else if(Ht==="MULTI_LINE_COMMENT"&&Wt==="*"&&zt==="/"){It.pop(),Dt+=2;continue}else if(Ht==="FUNCTION_ARGUMENTS"&&Wt==="/"&&zt==="/"){It.push("COMMENT"),Dt+=2;continue}else if(Ht==="COMMENT"&&Wt===`
`){It.pop(),Dt++;continue}else if(Ht===null&&Wt==="("){It.push("FUNCTION_ARGUMENTS"),Dt++;continue}else if(Ht==="FUNCTION_ARGUMENTS"){if(Wt===")"){It.pop();break}if(Wt==="f"&&zt==="l"&&Ct[Dt+2]==="o"&&Ct[Dt+3]==="a"&&Ct[Dt+4]==="t"&&Ct[Dt+5]===" "){It.push("DECLARE_VARIABLE"),Kt="float",Bt="",Dt+=6;continue}else if(Wt==="i"&&zt==="n"&&Ct[Dt+2]==="t"&&Ct[Dt+3]===" "){It.push("DECLARE_VARIABLE"),Kt="int",Bt="",Dt+=4;continue}else if(Wt==="v"&&zt==="e"&&Ct[Dt+2]==="c"&&Ct[Dt+3]==="2"&&Ct[Dt+4]===" "){It.push("DECLARE_VARIABLE"),Kt="vec2",Bt="",Dt+=5;continue}else if(Wt==="v"&&zt==="e"&&Ct[Dt+2]==="c"&&Ct[Dt+3]==="3"&&Ct[Dt+4]===" "){It.push("DECLARE_VARIABLE"),Kt="vec3",Bt="",Dt+=5;continue}else if(Wt==="v"&&zt==="e"&&Ct[Dt+2]==="c"&&Ct[Dt+3]==="4"&&Ct[Dt+4]===" "){It.push("DECLARE_VARIABLE"),Kt="vec4",Bt="",Dt+=5;continue}}else if(Ht==="DECLARE_VARIABLE"){if(Bt===""){if(Wt===" "){Dt++;continue}if(!Ot.test(Wt))throw new Error("variable name is not expected string")}Bt+=Wt,Mt.test(zt)||(It.pop(),At.push(Bt),Tt.push(_t[Kt]))}Dt++}if(It.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:At,argumentTypes:Tt}}static nativeFunctionReturnType(Ct){return _t[Ct.match(/int|float|vec[2-4]/)[0]]}static combineKernels(Ct,Tt){Ct.apply(null,arguments);const{texSize:At,context:It,threadDim:Ot}=Tt.texSize;let Mt;if(Tt.precision==="single"){const Dt=At[0],Bt=Math.ceil(At[1]/4);Mt=new Float32Array(Dt*Bt*4*4),It.readPixels(0,0,Dt,Bt*4,It.RGBA,It.FLOAT,Mt)}else{const Dt=new Uint8Array(At[0]*At[1]*4);It.readPixels(0,0,At[0],At[1],It.RGBA,It.UNSIGNED_BYTE,Dt),Mt=new Float32Array(Dt.buffer)}if(Mt=Mt.subarray(0,Ot[0]*Ot[1]*Ot[2]),Tt.output.length===1)return Mt;if(Tt.output.length===2)return ot.splitArray(Mt,Tt.output[0]);if(Tt.output.length===3)return ot.splitArray(Mt,Tt.output[0]*Tt.output[1]).map(function(Bt){return ot.splitArray(Bt,Tt.output[0])})}constructor(Ct,Tt){super(Ct,Tt),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:Ct}=this.constructor;if(this.texSize[0]>Ct.maxTextureSize||this.texSize[1]>Ct.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${Ct.maxTextureSize},${Ct.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(Ct){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=Tt=>Tt,this.TextureConstructor=gt,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=yt,null):this.output[1]>0?(this.TextureConstructor=St,null):(this.TextureConstructor=dt,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(Ct)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=yt,this.formatValues=ot.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=St,this.formatValues=ot.erect2DPackedFloat,null):(this.TextureConstructor=dt,this.formatValues=ot.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(Ct)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=vt,null):this.output[1]>0?(this.TextureConstructor=mt,null):(this.TextureConstructor=pt,null):this.output[2]>0?(this.TextureConstructor=ut,null):this.output[1]>0?(this.TextureConstructor=ht,null):(this.TextureConstructor=ct,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,null):this.output[1]>0?(this.TextureConstructor=nt,null):(this.TextureConstructor=at,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,null):this.output[1]>0?(this.TextureConstructor=_,null):(this.TextureConstructor=j,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,null):this.output[1]>0?(this.TextureConstructor=st,null):(this.TextureConstructor=tt,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=vt,this.formatValues=ot.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=mt,this.formatValues=ot.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=pt,this.formatValues=ot.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=ot.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=nt,this.formatValues=ot.erect2DArray2,null):(this.TextureConstructor=at,this.formatValues=ot.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=ot.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=ot.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=ot.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=ot.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=ot.erect2DArray4,null):(this.TextureConstructor=tt,this.formatValues=ot.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=ut,this.formatValues=ot.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=ht,this.formatValues=ot.erect2DFloat,null):(this.TextureConstructor=ct,this.formatValues=ot.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=it,this.formatValues=ot.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=nt,this.formatValues=ot.erect2DArray2,null):(this.TextureConstructor=at,this.formatValues=ot.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=$,this.formatValues=ot.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=ot.erect2DArray3,null):(this.TextureConstructor=j,this.formatValues=ot.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=lt,this.formatValues=ot.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=st,this.formatValues=ot.erect2DArray4,null):(this.TextureConstructor=tt,this.formatValues=ot.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return ot.linesToString(this.getMainResultKernelNumberTexture())+ot.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return ot.linesToString(this.getMainResultKernelArray2Texture())+ot.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return ot.linesToString(this.getMainResultKernelArray3Texture())+ot.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return ot.linesToString(this.getMainResultKernelArray4Texture())+ot.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:Ct,context:Tt}=this,At=new Uint8Array(Ct[0]*Ct[1]*4);return Tt.readPixels(0,0,Ct[0],Ct[1],Tt.RGBA,Tt.UNSIGNED_BYTE,At),At}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:Ct,context:Tt}=this,At=Ct[0],It=Ct[1],Ot=new Float32Array(At*It*4);return Tt.readPixels(0,0,At,It,Tt.RGBA,Tt.FLOAT,Ot),Ot}getPixels(Ct){const{context:Tt,output:At}=this,[It,Ot]=At,Mt=new Uint8Array(It*Ot*4);return Tt.readPixels(0,0,It,Ot,Tt.RGBA,Tt.UNSIGNED_BYTE,Mt),new Uint8ClampedArray((Ct?Mt:ot.flipPixels(Mt,It,Ot)).buffer)}renderKernelsToArrays(){const Ct={result:this.renderOutput()};for(let Tt=0;Tt<this.subKernels.length;Tt++)Ct[this.subKernels[Tt].property]=this.mappedTextures[Tt].toArray();return Ct}renderKernelsToTextures(){const Ct={result:this.renderOutput()};if(this.immutable)for(let Tt=0;Tt<this.subKernels.length;Tt++)Ct[this.subKernels[Tt].property]=this.mappedTextures[Tt].clone();else for(let Tt=0;Tt<this.subKernels.length;Tt++)Ct[this.subKernels[Tt].property]=this.mappedTextures[Tt];return Ct}resetSwitchingKernels(){const Ct=this.switchingKernels;return this.switchingKernels=null,Ct}setOutput(Ct){const Tt=this.toKernelOutput(Ct);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const At=[Tt[0],Tt[1]||1,Tt[2]||1],It=ot.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},At),Ot=this.texSize;if(Ot){const Dt=this.getVariablePrecisionString(Ot,this.tactic),Bt=this.getVariablePrecisionString(It,this.tactic);if(Dt!==Bt){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:Bt,needed:Ct});return}}this.output=Tt,this.threadDim=At,this.texSize=It;const{context:Mt}=this;if(Mt.bindFramebuffer(Mt.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],Mt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Dt=0;Dt<this.mappedTextures.length;Dt++)this.mappedTextures[Dt].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=Tt;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(Ct){this.switchingKernels?this.switchingKernels.push(Ct):this.switchingKernels=[Ct]}getVariablePrecisionString(Ct=this.texSize,Tt=this.tactic,At=!1){if(!Tt){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const It=this.constructor.features[At?"lowIntPrecision":"lowFloatPrecision"],Ot=this.constructor.features[At?"mediumIntPrecision":"mediumFloatPrecision"],Mt=this.constructor.features[At?"highIntPrecision":"highFloatPrecision"],Dt=Math.log2(Ct[0]*Ct[1]);if(Dt<=It.rangeMax)return"lowp";if(Dt<=Ot.rangeMax)return"mediump";if(Dt<=Mt.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(Tt){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${Tt}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(Ct,Tt){if(this.immutable){if(this.texture.texture===Tt.texture){const{prevArg:At}=Ct;At&&(At.texture._refs===1&&(this.texture.delete(),this.texture=At.clone(),this._textureSwitched=!0),At.delete()),Ct.prevArg=Tt.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:At}=this;for(let It=0;It<At.length;It++){const Ot=At[It];if(Ot.texture===Tt.texture){const{prevArg:Mt}=Ct;Mt&&(Mt.texture._refs===1&&(Ot.delete(),At[It]=Mt.clone(),this._mappedTextureSwitched[It]=!0),Mt.delete()),Ct.prevArg=Tt.clone();return}}}}}onActivate(Ct){if(this._textureSwitched=!0,this.texture=Ct.texture,this.mappedTextures){for(let Tt=0;Tt<this.mappedTextures.length;Tt++)this._mappedTextureSwitched[Tt]=!0;this.mappedTextures=Ct.mappedTextures}}initCanvas(){}}const _t={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};a.exports={GLKernel:Et}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return et.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float2D:at}},{"../../../utils":114,"./float":25}],15:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return et.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray2Float3D:at}},{"../../../utils":114,"./float":25}],16:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(2)"}toArray(){return et.erectArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float:at}},{"../../../utils":114,"./float":25}],17:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return et.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray3Float2D:at}},{"../../../utils":114,"./float":25}],18:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return et.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray3Float3D:at}},{"../../../utils":114,"./float":25}],19:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(3)"}toArray(){return et.erectArray3(this.renderValues(),this.output[0])}}a.exports={GLTextureArray3Float:at}},{"../../../utils":114,"./float":25}],20:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return et.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray4Float2D:at}},{"../../../utils":114,"./float":25}],21:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return et.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray4Float3D:at}},{"../../../utils":114,"./float":25}],22:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(4)"}toArray(){return et.erectArray4(this.renderValues(),this.output[0])}}a.exports={GLTextureArray4Float:at}},{"../../../utils":114,"./float":25}],23:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return et.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureFloat2D:at}},{"../../../utils":114,"./float":25}],24:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="ArrayTexture(1)"}toArray(){return et.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureFloat3D:at}},{"../../../utils":114,"./float":25}],25:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTexture:ot}=o("./index");class at extends ot{get textureType(){return this.context.FLOAT}constructor(it){super(it),this.type="ArrayTexture(1)"}renderRawOutput(){const it=this.context,j=this.size;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const _=new Float32Array(j[0]*j[1]*4);return it.readPixels(0,0,j[0],j[1],it.RGBA,it.FLOAT,_),_}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return et.erectFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureFloat:at}},{"../../../utils":114,"./index":27}],26:[function(o,a,rt){const{GLTextureUnsigned:et}=o("./unsigned");class ot extends et{constructor(nt){super(nt),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}a.exports={GLTextureGraphical:ot}},{"./unsigned":33}],27:[function(o,a,rt){const{Texture:et}=o("../../../texture");class ot extends et{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:it,size:j,texture:_,kernel:$}=this;$.debug&&console.warn("cloning internal texture"),it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),at(it,_),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,_,0);const tt=it.createTexture();at(it,tt),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,0,0,j[0],j[1]),tt._refs=1,this.texture=tt}newTexture(){this.texture._refs--;const it=this.context,j=this.size;this.kernel.debug&&console.warn("new internal texture");const $=it.createTexture();at(it,$),it.texImage2D(it.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null),$._refs=1,this.texture=$}clear(){if(this.texture._refs){this.texture._refs--;const _=this.context,$=this.texture=_.createTexture();at(_,$);const tt=this.size;$._refs=1,_.texImage2D(_.TEXTURE_2D,0,this.internalFormat,tt[0],tt[1],0,this.textureFormat,this.textureType,null)}const{context:it,texture:j}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.bindTexture(it.TEXTURE_2D,j),at(it,j),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,j,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT|it.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function at(nt,it){nt.activeTexture(nt.TEXTURE15),nt.bindTexture(nt.TEXTURE_2D,it),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.NEAREST)}a.exports={GLTexture:ot}},{"../../../texture":113}],28:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return et.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureMemoryOptimized2D:at}},{"../../../utils":114,"./float":25}],29:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return et.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureMemoryOptimized3D:at}},{"../../../utils":114,"./float":25}],30:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureFloat:ot}=o("./float");class at extends ot{constructor(it){super(it),this.type="MemoryOptimizedNumberTexture"}toArray(){return et.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureMemoryOptimized:at}},{"../../../utils":114,"./float":25}],31:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureUnsigned:ot}=o("./unsigned");class at extends ot{constructor(it){super(it),this.type="NumberTexture"}toArray(){return et.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureUnsigned2D:at}},{"../../../utils":114,"./unsigned":33}],32:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTextureUnsigned:ot}=o("./unsigned");class at extends ot{constructor(it){super(it),this.type="NumberTexture"}toArray(){return et.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureUnsigned3D:at}},{"../../../utils":114,"./unsigned":33}],33:[function(o,a,rt){const{utils:et}=o("../../../utils"),{GLTexture:ot}=o("./index");class at extends ot{get textureType(){return this.context.UNSIGNED_BYTE}constructor(it){super(it),this.type="NumberTexture"}renderRawOutput(){const{context:it}=this;it.bindFramebuffer(it.FRAMEBUFFER,this.framebuffer()),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,this.texture,0);const j=new Uint8Array(this.size[0]*this.size[1]*4);return it.readPixels(0,0,this.size[0],this.size[1],it.RGBA,it.UNSIGNED_BYTE,j),j}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return et.erectPackedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureUnsigned:at}},{"../../../utils":114,"./index":27}],34:[function(o,a,rt){const et=o("gl"),{WebGLKernel:ot}=o("../web-gl/kernel"),{glKernelString:at}=o("../gl/kernel-string");let nt=null,it=null,j=null,_=null,$=null;class tt extends ot{static get isSupported(){return nt!==null||(this.setupFeatureChecks(),nt=j!==null),nt}static setupFeatureChecks(){if(it=null,_=null,typeof et=="function")try{if(j=et(2,2,{preserveDrawingBuffer:!0}),!j||!j.getExtension)return;_={STACKGL_resize_drawingbuffer:j.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:j.getExtension("STACKGL_destroy_context"),OES_texture_float:j.getExtension("OES_texture_float"),OES_texture_float_linear:j.getExtension("OES_texture_float_linear"),OES_element_index_uint:j.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:j.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:j.getExtension("WEBGL_color_buffer_float")},$=this.getFeatures()}catch(lt){console.warn(lt)}}static isContextMatch(lt){try{return lt.getParameter(lt.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!_.OES_texture_float}static getIsDrawBuffers(){return!!_.WEBGL_draw_buffers}static getChannelCount(){return _.WEBGL_draw_buffers?j.getParameter(_.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return j.getParameter(j.MAX_TEXTURE_SIZE)}static get testCanvas(){return it}static get testContext(){return j}static get features(){return $}initCanvas(){return{}}initContext(){return et(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(lt){const ct=lt.getExtension("STACKGL_destroy_context");ct&&ct.destroy&&ct.destroy()}toString(){return at(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(lt){return super.setOutput(lt),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}a.exports={HeadlessGLKernel:tt}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(o,a,rt){class et{constructor(at,nt){const{name:it,kernel:j,context:_,checkContext:$,onRequestContextHandle:tt,onUpdateValueMismatch:st,origin:lt,strictIntegers:ct,type:ht,tactic:ut}=nt;if(!it)throw new Error("name not set");if(!ht)throw new Error("type not set");if(!lt)throw new Error("origin not set");if(lt!=="user"&&lt!=="constants")throw new Error(`origin must be "user" or "constants" value is "${lt}"`);if(!tt)throw new Error("onRequestContextHandle is not set");this.name=it,this.origin=lt,this.tactic=ut,this.varName=lt==="constants"?`constants.${it}`:it,this.kernel=j,this.strictIntegers=ct,this.type=at.type||ht,this.size=at.size||null,this.index=null,this.context=_,this.checkContext=$??!0,this.contextHandle=null,this.onRequestContextHandle=tt,this.onUpdateValueMismatch=st,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(at){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}a.exports={KernelValue:et}},{}],36:[function(o,a,rt){const{utils:et}=o("../utils"),{Input:ot}=o("../input");class at{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(j){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(j){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(j,_){if(typeof j!="object"){if(typeof j!="string")throw new Error("source not a string");if(!et.isFunctionString(j))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof j=="string"?et.getArgumentNamesFromString(j):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=j,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(j){for(let _ in j)if(!(!j.hasOwnProperty(_)||!this.hasOwnProperty(_))){switch(_){case"output":if(!Array.isArray(j.output)){this.setOutput(j.output);continue}break;case"functions":this.functions=[];for(let $=0;$<j.functions.length;$++)this.addFunction(j.functions[$]);continue;case"graphical":j[_]&&!j.hasOwnProperty("precision")&&(this.precision="unsigned"),this[_]=j[_];continue;case"nativeFunctions":if(!j.nativeFunctions)continue;this.nativeFunctions=[];for(let $=0;$<j.nativeFunctions.length;$++){const tt=j.nativeFunctions[$],{name:st,source:lt}=tt;this.addNativeFunction(st,lt,tt)}continue}this[_]=j[_]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(j))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(j){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(j,_={}){if(j.name&&j.source&&j.argumentTypes&&"returnType"in j)this.functions.push(j);else if("settings"in j&&"source"in j)this.functions.push(this.functionToIGPUFunction(j.source,j.settings));else if(typeof j=="string"||typeof j=="function")this.functions.push(this.functionToIGPUFunction(j,_));else throw new Error("function not properly defined");return this}addNativeFunction(j,_,$={}){const{argumentTypes:tt,argumentNames:st}=$.argumentTypes?nt($.argumentTypes):this.constructor.nativeFunctionArguments(_)||{};return this.nativeFunctions.push({name:j,source:_,settings:$,argumentTypes:tt,argumentNames:st,returnType:$.returnType||this.constructor.nativeFunctionReturnType(_)}),this}setupArguments(j){if(this.kernelArguments=[],this.argumentTypes)for(let _=0;_<this.argumentTypes.length;_++)this.kernelArguments.push({type:this.argumentTypes[_]});else if(!this.argumentTypes){this.argumentTypes=[];for(let _=0;_<j.length;_++){const $=et.getVariableType(j[_],this.strictIntegers),tt=$==="Integer"?"Number":$;this.argumentTypes.push(tt),this.kernelArguments.push({type:tt})}}this.argumentSizes=new Array(j.length),this.argumentBitRatios=new Int32Array(j.length);for(let _=0;_<j.length;_++){const $=j[_];this.argumentSizes[_]=$.constructor===ot?$.size:null,this.argumentBitRatios[_]=this.getBitRatio($)}if(this.argumentNames.length!==j.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let j=this.constantTypes===null;if(j&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let _ in this.constants){if(j){const $=et.getVariableType(this.constants[_],this.strictIntegers);this.constantTypes[_]=$,this.kernelConstants.push({name:_,type:$})}else this.kernelConstants.push({name:_,type:this.constantTypes[_]});this.constantBitRatios[_]=this.getBitRatio(this.constants[_])}}setOptimizeFloatMemory(j){return this.optimizeFloatMemory=j,this}toKernelOutput(j){return j.hasOwnProperty("x")?j.hasOwnProperty("y")?j.hasOwnProperty("z")?[j.x,j.y,j.z]:[j.x,j.y]:[j.x]:j}setOutput(j){return this.output=this.toKernelOutput(j),this}setDebug(j){return this.debug=j,this}setGraphical(j){return this.graphical=j,this.precision="unsigned",this}setLoopMaxIterations(j){return this.loopMaxIterations=j,this}setConstants(j){return this.constants=j,this}setConstantTypes(j){return this.constantTypes=j,this}setFunctions(j){for(let _=0;_<j.length;_++)this.addFunction(j[_]);return this}setNativeFunctions(j){for(let _=0;_<j.length;_++){const $=j[_],{name:tt,source:st}=$;this.addNativeFunction(tt,st,$)}return this}setInjectedNative(j){return this.injectedNative=j,this}setPipeline(j){return this.pipeline=j,this}setPrecision(j){return this.precision=j,this}setDimensions(j){return et.warnDeprecated("method","setDimensions","setOutput"),this.output=j,this}setOutputToTexture(j){return et.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=j,this}setImmutable(j){return this.immutable=j,this}setCanvas(j){return this.canvas=j,this}setStrictIntegers(j){return this.strictIntegers=j,this}setDynamicOutput(j){return this.dynamicOutput=j,this}setHardcodeConstants(j){return et.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(j),this.setDynamicArguments(j),this}setDynamicArguments(j){return this.dynamicArguments=j,this}setUseLegacyEncoder(j){return this.useLegacyEncoder=j,this}setWarnVarUsage(j){return et.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return et.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return et.warnDeprecated("method","getWebGl"),this.context}setContext(j){return this.context=j,this}setArgumentTypes(j){if(Array.isArray(j))this.argumentTypes=j;else{this.argumentTypes=[];for(const _ in j){if(!j.hasOwnProperty(_))continue;const $=this.argumentNames.indexOf(_);if($===-1)throw new Error(`unable to find argument ${_}`);this.argumentTypes[$]=j[_]}}return this}setTactic(j){return this.tactic=j,this}requestFallback(j){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(j)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(j){if(this.subKernels===null&&(this.subKernels=[]),!j.source)throw new Error('subKernel missing "source" property');if(!j.property&&isNaN(j.property))throw new Error('subKernel missing "property" property');if(!j.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(j),this}destroy(j){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(j){if(this.precision==="single")return 4;if(Array.isArray(j[0]))return this.getBitRatio(j[0]);if(j.constructor===ot)return this.getBitRatio(j.value);switch(j.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(j){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!et.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let j=0;j<this.output.length;j++)if(isNaN(this.output[j])||this.output[j]<1)throw new Error(`${this.constructor.name}.output[${j}] incorrectly defined as \`${this.output[j]}\`, needs to be numeric, and greater than 0`)}prependString(j){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(j){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(j=>j.name):null,returnType:this.returnType}}}buildSignature(j){const _=this.constructor;this.signature=_.getSignature(this,_.getArgumentTypes(this,j))}static getArgumentTypes(j,_){const $=new Array(_.length);for(let tt=0;tt<_.length;tt++){const st=_[tt],lt=j.argumentTypes[tt];if(st.type)$[tt]=st.type;else switch(lt){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":$[tt]=et.getVariableType(st);break;default:$[tt]=lt}}return $}static getSignature(j,_){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(j,_={}){if(typeof j!="string"&&typeof j!="function")throw new Error("source not a string or function");const $=typeof j=="string"?j:j.toString();let tt=[];return Array.isArray(_.argumentTypes)?tt=_.argumentTypes:typeof _.argumentTypes=="object"?tt=et.getArgumentNamesFromString($).map(st=>_.argumentTypes[st])||[]:tt=_.argumentTypes||[],{name:et.getFunctionNameFromString($)||null,source:$,argumentTypes:tt,returnType:_.returnType||null}}onActivate(j){}}function nt(it){const j=Object.keys(it),_=[];for(let $=0;$<j.length;$++){const tt=j[$];_.push(it[tt])}return{argumentTypes:_,argumentNames:j}}a.exports={Kernel:at}},{"../input":110,"../utils":114}],37:[function(o,a,rt){const et=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:et}},{}],38:[function(o,a,rt){const{utils:et}=o("../../utils"),{FunctionNode:ot}=o("../function-node");class at extends ot{constructor(_,$){super(_,$),$&&$.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=$.fixIntegerDivisionAccuracy)}astConditionalExpression(_,$){if(_.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",_);const tt=this.getType(_.consequent),st=this.getType(_.alternate);return tt===null&&st===null?($.push("if ("),this.astGeneric(_.test,$),$.push(") {"),this.astGeneric(_.consequent,$),$.push(";"),$.push("} else {"),this.astGeneric(_.alternate,$),$.push(";"),$.push("}"),$):($.push("("),this.astGeneric(_.test,$),$.push("?"),this.astGeneric(_.consequent,$),$.push(":"),this.astGeneric(_.alternate,$),$.push(")"),$)}astFunction(_,$){if(this.isRootKernel)$.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(_.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:tt}=this;if(!tt)$.push("void");else{const st=nt[tt];if(!st)throw new Error(`unknown type ${tt}`);$.push(st)}}if($.push(" "),$.push(this.name),$.push("("),!this.isRootKernel)for(let tt=0;tt<this.argumentNames.length;++tt){const st=this.argumentNames[tt];tt>0&&$.push(", ");let lt=this.argumentTypes[this.argumentNames.indexOf(st)];if(!lt)throw this.astErrorOutput(`Unknown argument ${st} type`,_);lt==="LiteralInteger"&&(this.argumentTypes[tt]=lt="Number");const ct=nt[lt];if(!ct)throw this.astErrorOutput("Unexpected expression",_);const ht=et.sanitizeName(st);ct==="sampler2D"||ct==="sampler2DArray"?$.push(`${ct} user_${ht},ivec2 user_${ht}Size,ivec3 user_${ht}Dim`):$.push(`${ct} user_${ht}`)}$.push(`) {
`);for(let tt=0;tt<_.body.body.length;++tt)this.astGeneric(_.body.body[tt],$),$.push(`
`);return $.push(`}
`),$}astReturnStatement(_,$){if(!_.argument)throw this.astErrorOutput("Unexpected return statement",_);this.pushState("skip-literal-correction");const tt=this.getType(_.argument);this.popState("skip-literal-correction");const st=[];switch(this.returnType||(tt==="LiteralInteger"||tt==="Integer"?this.returnType="Number":this.returnType=tt),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(tt){case"Integer":st.push("float("),this.astGeneric(_.argument,st),st.push(")");break;case"LiteralInteger":this.castLiteralToFloat(_.argument,st),this.getType(_)==="Integer"&&(st.unshift("float("),st.push(")"));break;default:this.astGeneric(_.argument,st)}break;case"Integer":switch(tt){case"Float":case"Number":this.castValueToInteger(_.argument,st);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,st);break;default:this.astGeneric(_.argument,st)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(_.argument,st);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,_)}return this.isRootKernel?($.push(`kernelResult = ${st.join("")};`),$.push("return;")):this.isSubKernel?($.push(`subKernelResult_${this.name} = ${st.join("")};`),$.push(`return subKernelResult_${this.name};`)):$.push(`return ${st.join("")};`),$}astLiteral(_,$){if(isNaN(_.value))throw this.astErrorOutput("Non-numeric literal not supported : "+_.value,_);const tt=this.astKey(_);return Number.isInteger(_.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[tt]="Integer",$.push(`${_.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[tt]="Number",$.push(`${_.value}.0`)):(this.literalTypes[tt]="Number",$.push(`${_.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[tt]="Integer",$.push(Math.round(_.value))):(this.literalTypes[tt]="Number",$.push(`${_.value}`)),$}astBinaryExpression(_,$){if(this.checkAndUpconvertOperator(_,$))return $;if(this.fixIntegerDivisionAccuracy&&_.operator==="/"){switch($.push("divWithIntCheck("),this.pushState("building-float"),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(", "),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return this.popState("building-float"),$.push(")"),$}$.push("(");const tt=this.getType(_.left)||"Number",st=this.getType(_.right)||"Number";if(!tt||!st)throw this.astErrorOutput("Unhandled binary expression",_);const lt=tt+" & "+st;switch(lt){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((_.operator===">"||_.operator==="<"&&_.right.type==="Literal")&&!Number.isInteger(_.right.value)){this.pushState("building-float"),this.castValueToFloat(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-integer"),_.right.type==="Literal"){const ct=[];if(this.astGeneric(_.right,ct),this.getType(_.right)==="Integer")$.push(ct.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",_)}else $.push("int("),this.astGeneric(_.right,$),$.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToInteger(_.right,$),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castLiteralToFloat(_.right,$),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToInteger(_.right,$),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.pushState("casting-to-float"),this.astGeneric(_.right,$),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.astGeneric(_.right,$),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(_.left,$),$.push(it[_.operator]||_.operator),this.castValueToFloat(_.right,$),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${lt}`,_)}return $.push(")"),$}checkAndUpconvertOperator(_,$){const tt=this.checkAndUpconvertBitwiseOperators(_,$);if(tt)return tt;const lt={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[_.operator];if(!lt)return null;switch($.push(lt),$.push("("),this.getType(_.left)){case"Integer":this.castValueToFloat(_.left,$);break;case"LiteralInteger":this.castLiteralToFloat(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Integer":this.castValueToFloat(_.right,$);break;case"LiteralInteger":this.castLiteralToFloat(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseOperators(_,$){const st={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.left)){case"Number":case"Float":this.castValueToInteger(_.left,$);break;case"LiteralInteger":this.castLiteralToInteger(_.left,$);break;default:this.astGeneric(_.left,$)}switch($.push(","),this.getType(_.right)){case"Number":case"Float":this.castValueToInteger(_.right,$);break;case"LiteralInteger":this.castLiteralToInteger(_.right,$);break;default:this.astGeneric(_.right,$)}return $.push(")"),$}checkAndUpconvertBitwiseUnary(_,$){const st={"~":"bitwiseNot"}[_.operator];if(!st)return null;switch($.push(st),$.push("("),this.getType(_.argument)){case"Number":case"Float":this.castValueToInteger(_.argument,$);break;case"LiteralInteger":this.castLiteralToInteger(_.argument,$);break;default:this.astGeneric(_.argument,$)}return $.push(")"),$}castLiteralToInteger(_,$){return this.pushState("casting-to-integer"),this.astGeneric(_,$),this.popState("casting-to-integer"),$}castLiteralToFloat(_,$){return this.pushState("casting-to-float"),this.astGeneric(_,$),this.popState("casting-to-float"),$}castValueToInteger(_,$){return this.pushState("casting-to-integer"),$.push("int("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-integer"),$}castValueToFloat(_,$){return this.pushState("casting-to-float"),$.push("float("),this.astGeneric(_,$),$.push(")"),this.popState("casting-to-float"),$}astIdentifierExpression(_,$){if(_.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",_);const tt=this.getType(_),st=et.sanitizeName(_.name);return _.name==="Infinity"?$.push("3.402823466e+38"):tt==="Boolean"?this.argumentNames.indexOf(st)>-1?$.push(`bool(user_${st})`):$.push(`user_${st}`):$.push(`user_${st}`),$}astForStatement(_,$){if(_.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",_);const tt=[],st=[],lt=[],ct=[];let ht=null;if(_.init){const{declarations:ut}=_.init;ut.length>1&&(ht=!1),this.astGeneric(_.init,tt);for(let pt=0;pt<ut.length;pt++)ut[pt].init&&ut[pt].init.type!=="Literal"&&(ht=!1)}else ht=!1;if(_.test?this.astGeneric(_.test,st):ht=!1,_.update?this.astGeneric(_.update,lt):ht=!1,_.body&&(this.pushState("loop-body"),this.astGeneric(_.body,ct),this.popState("loop-body")),ht===null&&(ht=this.isSafe(_.init)&&this.isSafe(_.test)),ht){const ut=tt.join(""),pt=ut[ut.length-1]!==";";$.push(`for (${ut}${pt?";":""}${st.join("")};${lt.join("")}){
`),$.push(ct.join("")),$.push(`}
`)}else{const ut=this.getInternalVariableName("safeI");tt.length>0&&$.push(tt.join(""),`
`),$.push(`for (int ${ut}=0;${ut}<LOOP_MAX;${ut}++){
`),st.length>0&&$.push(`if (!${st.join("")}) break;
`),$.push(ct.join("")),$.push(`
${lt.join("")};`),$.push(`}
`)}return $}astWhileStatement(_,$){if(_.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",_);const tt=this.getInternalVariableName("safeI");return $.push(`for (int ${tt}=0;${tt}<LOOP_MAX;${tt}++){
`),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),this.astGeneric(_.body,$),$.push(`}
`),$}astDoWhileStatement(_,$){if(_.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",_);const tt=this.getInternalVariableName("safeI");return $.push(`for (int ${tt}=0;${tt}<LOOP_MAX;${tt}++){
`),this.astGeneric(_.body,$),$.push("if (!"),this.astGeneric(_.test,$),$.push(`) break;
`),$.push(`}
`),$}astAssignmentExpression(_,$){if(_.operator==="%=")this.astGeneric(_.left,$),$.push("="),$.push("mod("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else if(_.operator==="**=")this.astGeneric(_.left,$),$.push("="),$.push("pow("),this.astGeneric(_.left,$),$.push(","),this.astGeneric(_.right,$),$.push(")");else{const tt=this.getType(_.left),st=this.getType(_.right);return this.astGeneric(_.left,$),$.push(_.operator),tt!=="Integer"&&st==="Integer"?($.push("float("),this.astGeneric(_.right,$),$.push(")")):this.astGeneric(_.right,$),$}}astBlockStatement(_,$){if(this.isState("loop-body")){this.pushState("block-body");for(let tt=0;tt<_.body.length;tt++)this.astGeneric(_.body[tt],$);this.popState("block-body")}else{$.push(`{
`);for(let tt=0;tt<_.body.length;tt++)this.astGeneric(_.body[tt],$);$.push(`}
`)}return $}astVariableDeclaration(_,$){const tt=_.declarations;if(!tt||!tt[0]||!tt[0].init)throw this.astErrorOutput("Unexpected expression",_);const st=[];let lt=null;const ct=[];let ht=[];for(let ut=0;ut<tt.length;ut++){const pt=tt[ut],mt=pt.init,vt=this.getDeclaration(pt.id),dt=this.getType(pt.init);let St=dt;St==="LiteralInteger"&&(vt.suggestedType==="Integer"?St="Integer":St="Number");const yt=nt[St];if(!yt)throw this.astErrorOutput(`Markup type ${St} not handled`,_);const gt=[];if(dt==="Integer"&&St==="Integer"){if(vt.valueType="Number",ut===0||lt===null)gt.push("float ");else if(St!==lt)throw new Error("Unhandled declaration");lt=St,gt.push(`user_${et.sanitizeName(pt.id.name)}=`),gt.push("float("),this.astGeneric(mt,gt),gt.push(")")}else vt.valueType=St,ut===0||lt===null?gt.push(`${yt} `):St!==lt&&(ct.push(ht.join(",")),ht=[],gt.push(`${yt} `)),lt=St,gt.push(`user_${et.sanitizeName(pt.id.name)}=`),dt==="Number"&&St==="Integer"?mt.left&&mt.left.type==="Literal"?this.astGeneric(mt,gt):(gt.push("int("),this.astGeneric(mt,gt),gt.push(")")):dt==="LiteralInteger"&&St==="Integer"?this.castLiteralToInteger(mt,gt):this.astGeneric(mt,gt);ht.push(gt.join(""))}return ht.length>0&&ct.push(ht.join(",")),st.push(ct.join(";")),$.push(st.join("")),$.push(";"),$}astIfStatement(_,$){return $.push("if ("),this.astGeneric(_.test,$),$.push(")"),_.consequent.type==="BlockStatement"?this.astGeneric(_.consequent,$):($.push(` {
`),this.astGeneric(_.consequent,$),$.push(`
}
`)),_.alternate&&($.push("else "),_.alternate.type==="BlockStatement"||_.alternate.type==="IfStatement"?this.astGeneric(_.alternate,$):($.push(` {
`),this.astGeneric(_.alternate,$),$.push(`
}
`))),$}astSwitchStatement(_,$){if(_.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",_);const{discriminant:tt,cases:st}=_,lt=this.getType(tt),ct=`switchDiscriminant${this.astKey(_,"_")}`;switch(lt){case"Float":case"Number":$.push(`float ${ct} = `),this.astGeneric(tt,$),$.push(`;
`);break;case"Integer":$.push(`int ${ct} = `),this.astGeneric(tt,$),$.push(`;
`);break}if(st.length===1&&!st[0].test)return this.astGeneric(st[0].consequent,$),$;let ht=!1,ut=[],pt=!1,mt=!1;for(let vt=0;vt<st.length;vt++){if(st[vt].test){if(vt===0||!mt?(mt=!0,$.push(`if (${ct} == `)):ht?($.push(`${ct} == `),ht=!1):$.push(` else if (${ct} == `),lt==="Integer")switch(this.getType(st[vt].test)){case"Number":case"Float":this.castValueToInteger(st[vt].test,$);break;case"LiteralInteger":this.castLiteralToInteger(st[vt].test,$);break}else if(lt==="Float")switch(this.getType(st[vt].test)){case"LiteralInteger":this.castLiteralToFloat(st[vt].test,$);break;case"Integer":this.castValueToFloat(st[vt].test,$);break}else throw new Error("unhanlded");if(!st[vt].consequent||st[vt].consequent.length===0){ht=!0,$.push(" || ");continue}$.push(`) {
`)}else if(st.length>vt+1){pt=!0,this.astGeneric(st[vt].consequent,ut);continue}else $.push(` else {
`);this.astGeneric(st[vt].consequent,$),$.push(`
}`)}return pt&&($.push(" else {"),$.push(ut.join("")),$.push("}")),$}astThisExpression(_,$){return $.push("this"),$}astMemberExpression(_,$){const{property:tt,name:st,signature:lt,origin:ct,type:ht,xProperty:ut,yProperty:pt,zProperty:mt}=this.getMemberExpressionDetails(_);switch(lt){case"value.thread.value":case"this.thread.value":if(st!=="x"&&st!=="y"&&st!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",_);return $.push(`threadId.${st}`),$;case"this.output.value":if(this.dynamicOutput)switch(st){case"x":this.isState("casting-to-float")?$.push("float(uOutputDim.x)"):$.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?$.push("float(uOutputDim.y)"):$.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?$.push("float(uOutputDim.z)"):$.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",_)}else switch(st){case"x":this.isState("casting-to-integer")?$.push(this.output[0]):$.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?$.push(this.output[1]):$.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?$.push(this.output[2]):$.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",_)}return $;case"value":throw this.astErrorOutput("Unexpected expression",_);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(ct==="Math")return $.push(Math[st]),$;const dt=et.sanitizeName(st);switch(tt){case"r":return $.push(`user_${dt}.r`),$;case"g":return $.push(`user_${dt}.g`),$;case"b":return $.push(`user_${dt}.b`),$;case"a":return $.push(`user_${dt}.a`),$}break;case"this.constants.value":if(typeof ut>"u")switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":return $.push(`constants_${et.sanitizeName(st)}`),$}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(tt)),$.push("]"),$;case"fn()[][]":return this.astCallExpression(_.object.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.object.property)),$.push("]"),$.push("["),$.push(this.memberExpressionPropertyMarkup(_.property)),$.push("]"),$;case"[][]":return this.astArrayExpression(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(tt)),$.push("]"),$;default:throw this.astErrorOutput("Unexpected expression",_)}if(_.computed===!1)switch(ht){case"Number":case"Integer":case"Float":case"Boolean":return $.push(`${ct}_${et.sanitizeName(st)}`),$}const vt=`${ct}_${et.sanitizeName(st)}`;switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(_.object,$),$.push("["),$.push(this.memberExpressionPropertyMarkup(ut)),$.push("]");break;case"HTMLImageArray":$.push(`getImage3D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"ArrayTexture(1)":$.push(`getFloatFromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":$.push(`getMemoryOptimizedVec2(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"ArrayTexture(2)":$.push(`getVec2FromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":$.push(`getMemoryOptimizedVec3(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"ArrayTexture(3)":$.push(`getVec3FromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":$.push(`getMemoryOptimizedVec4(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":$.push(`getVec4FromSampler2D(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")$.push(`getMemoryOptimized32(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");else{const dt=ct==="user"?this.lookupFunctionArgumentBitRatio(this.name,st):this.constantBitRatios[st];switch(dt){case 1:$.push(`get8(${vt}, ${vt}Size, ${vt}Dim, `);break;case 2:$.push(`get16(${vt}, ${vt}Size, ${vt}Dim, `);break;case 4:case 0:$.push(`get32(${vt}, ${vt}Size, ${vt}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${dt}`)}this.memberExpressionXYZ(ut,pt,mt,$),$.push(")")}break;case"MemoryOptimizedNumberTexture":$.push(`getMemoryOptimized32(${vt}, ${vt}Size, ${vt}Dim, `),this.memberExpressionXYZ(ut,pt,mt,$),$.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`${vt}[${this.memberExpressionPropertyMarkup(pt)}]`),pt&&$.push(`[${this.memberExpressionPropertyMarkup(ut)}]`);break;default:throw new Error(`unhandled member expression "${ht}"`)}return $}astCallExpression(_,$){if(!_.callee)throw this.astErrorOutput("Unknown CallExpression",_);let tt=null;const st=this.isAstMathFunction(_);if(st||_.callee.object&&_.callee.object.type==="ThisExpression"?tt=_.callee.property.name:_.callee.type==="SequenceExpression"&&_.callee.expressions[0].type==="Literal"&&!isNaN(_.callee.expressions[0].raw)?tt=_.callee.expressions[1].property.name:tt=_.callee.name,!tt)throw this.astErrorOutput("Unhandled function, couldn't find name",_);switch(tt){case"pow":tt="_pow";break;case"round":tt="_round";break}if(this.calledFunctions.indexOf(tt)<0&&this.calledFunctions.push(tt),tt==="random"&&this.plugins&&this.plugins.length>0)for(let lt=0;lt<this.plugins.length;lt++){const ct=this.plugins[lt];if(ct.functionMatch==="Math.random()"&&ct.functionReplace)return $.push(ct.functionReplace),$}if(this.onFunctionCall&&this.onFunctionCall(this.name,tt,_.arguments),$.push(tt),$.push("("),st)for(let lt=0;lt<_.arguments.length;++lt){const ct=_.arguments[lt],ht=this.getType(ct);switch(lt>0&&$.push(", "),ht){case"Integer":this.castValueToFloat(ct,$);break;default:this.astGeneric(ct,$);break}}else{const lt=this.lookupFunctionArgumentTypes(tt)||[];for(let ct=0;ct<_.arguments.length;++ct){const ht=_.arguments[ct];let ut=lt[ct];ct>0&&$.push(", ");const pt=this.getType(ht);switch(ut||(this.triggerImplyArgumentType(tt,ct,pt,this),ut=pt),pt){case"Boolean":this.astGeneric(ht,$);continue;case"Number":case"Float":if(ut==="Integer"){$.push("int("),this.astGeneric(ht,$),$.push(")");continue}else if(ut==="Number"||ut==="Float"){this.astGeneric(ht,$);continue}else if(ut==="LiteralInteger"){this.castLiteralToFloat(ht,$);continue}break;case"Integer":if(ut==="Number"||ut==="Float"){$.push("float("),this.astGeneric(ht,$),$.push(")");continue}else if(ut==="Integer"){this.astGeneric(ht,$);continue}break;case"LiteralInteger":if(ut==="Integer"){this.castLiteralToInteger(ht,$);continue}else if(ut==="Number"||ut==="Float"){this.castLiteralToFloat(ht,$);continue}else if(ut==="LiteralInteger"){this.astGeneric(ht,$);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(ut===pt){if(ht.type==="Identifier")$.push(`user_${et.sanitizeName(ht.name)}`);else if(ht.type==="ArrayExpression"||ht.type==="MemberExpression"||ht.type==="CallExpression")this.astGeneric(ht,$);else throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,_);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(ut===pt){if(ht.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,_);this.triggerImplyArgumentBitRatio(this.name,ht.name,tt,ct);const mt=et.sanitizeName(ht.name);$.push(`user_${mt},user_${mt}Size,user_${mt}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${pt} and ${ut} for argument named "${ht.name}"`,_)}}return $.push(")"),$}astArrayExpression(_,$){const tt=this.getType(_),st=_.elements.length;switch(tt){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`mat${st}(`);break;default:$.push(`vec${st}(`)}for(let lt=0;lt<st;++lt){lt>0&&$.push(", ");const ct=_.elements[lt];this.astGeneric(ct,$)}return $.push(")"),$}memberExpressionXYZ(_,$,tt,st){return tt?st.push(this.memberExpressionPropertyMarkup(tt),", "):st.push("0, "),$?st.push(this.memberExpressionPropertyMarkup($),", "):st.push("0, "),st.push(this.memberExpressionPropertyMarkup(_)),st}memberExpressionPropertyMarkup(_){if(!_)throw new Error("Property not set");const $=this.getType(_),tt=[];switch($){case"Number":case"Float":this.castValueToInteger(_,tt);break;case"LiteralInteger":this.castLiteralToInteger(_,tt);break;default:this.astGeneric(_,tt)}return tt.join("")}}const nt={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},it={"===":"==","!==":"!="};a.exports={WebGLFunctionNode:at}},{"../../utils":114,"../function-node":10}],39:[function(o,a,rt){const{WebGLKernelValueBoolean:et}=o("./kernel-value/boolean"),{WebGLKernelValueFloat:ot}=o("./kernel-value/float"),{WebGLKernelValueInteger:at}=o("./kernel-value/integer"),{WebGLKernelValueHTMLImage:nt}=o("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:it}=o("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:j}=o("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:_}=o("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:$}=o("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:tt}=o("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:st}=o("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:lt}=o("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:ct}=o("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ht}=o("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:ut}=o("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:pt}=o("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:mt}=o("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:vt}=o("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:dt}=o("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:St}=o("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:yt}=o("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:gt}=o("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:Et}=o("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:_t}=o("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:kt}=o("./kernel-value/array2"),{WebGLKernelValueArray3:Ct}=o("./kernel-value/array3"),{WebGLKernelValueArray4:Tt}=o("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:At}=o("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:It}=o("./kernel-value/dynamic-unsigned-array"),Ot={unsigned:{dynamic:{Boolean:et,Integer:at,Float:ot,Array:It,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Tt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:lt,NumberTexture:pt,"ArrayTexture(1)":pt,"ArrayTexture(2)":pt,"ArrayTexture(3)":pt,"ArrayTexture(4)":pt,MemoryOptimizedNumberTexture:ht,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:et,Float:ot,Integer:at,Array:At,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Tt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:st,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ct,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:!1,HTMLVideo:j}},single:{dynamic:{Boolean:et,Integer:at,Float:ot,Array:vt,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Tt,"Array1D(2)":St,"Array1D(3)":St,"Array1D(4)":St,"Array2D(2)":gt,"Array2D(3)":gt,"Array2D(4)":gt,"Array3D(2)":_t,"Array3D(3)":_t,"Array3D(4)":_t,Input:tt,NumberTexture:pt,"ArrayTexture(1)":pt,"ArrayTexture(2)":pt,"ArrayTexture(3)":pt,"ArrayTexture(4)":pt,MemoryOptimizedNumberTexture:ht,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:!1,HTMLVideo:_},static:{Boolean:et,Float:ot,Integer:at,Array:mt,"Array(2)":kt,"Array(3)":Ct,"Array(4)":Tt,"Array1D(2)":dt,"Array1D(3)":dt,"Array1D(4)":dt,"Array2D(2)":yt,"Array2D(3)":yt,"Array2D(4)":yt,"Array3D(2)":Et,"Array3D(3)":Et,"Array3D(4)":Et,Input:$,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ct,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:!1,HTMLVideo:j}}};function Mt(Dt,Bt,Kt,Wt){if(!Dt)throw new Error("type missing");if(!Bt)throw new Error("dynamic missing");if(!Kt)throw new Error("precision missing");Wt.type&&(Dt=Wt.type);const zt=Ot[Kt][Bt];if(zt[Dt]===!1)return null;if(zt[Dt]===void 0)throw new Error(`Could not find a KernelValue for ${Dt}`);return zt[Dt]}a.exports={lookupKernelValueType:Mt,kernelValueMaps:Ot}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(o,a,rt){const{WebGLKernelValue:et}=o("./index"),{Input:ot}=o("../../../input");class at extends et{checkSize(it,j){if(!this.kernel.validate)return;const{maxTextureSize:_}=this.kernel.constructor.features;if(it>_||j>_)throw it>j?new Error(`Argument texture width of ${it} larger than maximum size of ${_} for your GPU`):it<j?new Error(`Argument texture height of ${j} larger than maximum size of ${_} for your GPU`):new Error(`Argument texture height and width of ${j} larger than maximum size of ${_} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D,this.texture),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_S,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_T,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MAG_FILTER,it.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(it){if(Array.isArray(it[0]))return this.getBitRatio(it[0]);if(it.constructor===ot)return this.getBitRatio(it.value);switch(it.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}a.exports={WebGLKernelArray:at}},{"../../../input":110,"./index":59}],41:[function(o,a,rt){const{WebGLKernelValue:et}=o("./index");class ot extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${nt[0]},${nt[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=nt)}}a.exports={WebGLKernelValueArray2:ot}},{"./index":59}],42:[function(o,a,rt){const{WebGLKernelValue:et}=o("./index");class ot extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${nt[0]},${nt[1]},${nt[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=nt)}}a.exports={WebGLKernelValueArray3:ot}},{"./index":59}],43:[function(o,a,rt){const{WebGLKernelValue:et}=o("./index");class ot extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${nt[0]},${nt[1]},${nt[2]},${nt[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=nt)}}a.exports={WebGLKernelValueArray4:ot}},{"./index":59}],44:[function(o,a,rt){o("../../../utils");const{WebGLKernelValue:et}=o("./index");class ot extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getSource(nt){return this.origin==="constants"?`const bool ${this.id} = ${nt};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=nt)}}a.exports={WebGLKernelValueBoolean:ot}},{"../../../utils":114,"./index":59}],45:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueHTMLImage:ot}=o("./html-image");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it;this.checkSize(j,_),this.dimensions=[j,_,1],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicHTMLImage:at}},{"../../../utils":114,"./html-image":57}],46:[function(o,a,rt){const{WebGLKernelValueDynamicHTMLImage:et}=o("./dynamic-html-image");class ot extends et{}a.exports={WebGLKernelValueDynamicHTMLVideo:ot}},{"./dynamic-html-image":45}],47:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:ot}=o("./memory-optimized-number-texture");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:at}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueNumberTexture:ot}=o("./number-texture");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=it.dimensions,this.checkSize(it.size[0],it.size[1]),this.textureSize=it.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicNumberTexture:at}},{"../../../utils":114,"./number-texture":62}],49:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray:ot}=o("./single-array");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray:at}},{"../../../utils":114,"./single-array":63}],50:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray1DI:ot}=o("./single-array1d-i");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray1DI:at}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray2DI:ot}=o("./single-array2d-i");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray2DI:at}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray3DI:ot}=o("./single-array3d-i");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleArray3DI:at}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleInput:ot}=o("./single-input");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicSingleInput:at}},{"../../../utils":114,"./single-input":67}],54:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueUnsignedArray:ot}=o("./unsigned-array");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const j=this.getTransferArrayType(it);this.preUploadValue=new j(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicUnsignedArray:at}},{"../../../utils":114,"./unsigned-array":68}],55:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueUnsignedInput:ot}=o("./unsigned-input");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const tt=this.getTransferArrayType(it.value);this.preUploadValue=new tt(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGLKernelValueDynamicUnsignedInput:at}},{"../../../utils":114,"./unsigned-input":69}],56:[function(o,a,rt){o("../../../utils");const{WebGLKernelValue:et}=o("./index");class ot extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(nt){return this.origin==="constants"?Number.isInteger(nt)?`const float ${this.id} = ${nt}.0;
`:`const float ${this.id} = ${nt};
`:`uniform float ${this.id};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=nt)}}a.exports={WebGLKernelValueFloat:ot}},{"../../../utils":114,"./index":59}],57:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j);const{width:_,height:$}=it;this.checkSize(_,$),this.dimensions=[_,$,1],this.textureSize=[_,$],this.uploadValue=it}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueHTMLImage:at}},{"../../../utils":114,"./array":40}],58:[function(o,a,rt){const{WebGLKernelValueHTMLImage:et}=o("./html-image");class ot extends et{}a.exports={WebGLKernelValueHTMLVideo:ot}},{"./html-image":57}],59:[function(o,a,rt){const{utils:et}=o("../../../utils"),{KernelValue:ot}=o("../../kernel-value");class at extends ot{constructor(it,j){super(it,j),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=it.constructor,this.onRequestTexture=j.onRequestTexture,this.onRequestIndex=j.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${et.sanitizeName(this.name)}`}setup(){}getTransferArrayType(it){if(Array.isArray(it[0]))return this.getTransferArrayType(it[0]);switch(it.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return it.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),it.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}a.exports={WebGLKernelValue:at}},{"../../../utils":114,"../../kernel-value":35}],60:[function(o,a,rt){o("../../../utils");const{WebGLKernelValue:et}=o("./index");class ot extends et{constructor(nt,it){super(nt,it),this.uploadValue=nt}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(nt){return this.origin==="constants"?`const int ${this.id} = ${parseInt(nt)};
`:`uniform int ${this.id};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=nt)}}a.exports={WebGLKernelValueInteger:ot}},{"../../../utils":114,"./index":59}],61:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array"),at="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class nt extends ot{constructor(j,_){super(j,_);const[$,tt]=j.size;this.checkSize($,tt),this.dimensions=j.dimensions,this.textureSize=j.size,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(at);if(_.mappedTextures){const{mappedTextures:tt}=_;for(let st=0;st<tt.length;st++)if(tt[st].texture===j.texture)throw new Error(at)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueMemoryOptimizedNumberTexture:nt,sameError:at}},{"../../../utils":114,"./array":40}],62:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array"),{sameError:at}=o("./memory-optimized-number-texture");class nt extends ot{constructor(j,_){super(j,_);const[$,tt]=j.size;this.checkSize($,tt);const{size:st,dimensions:lt}=j;this.bitRatio=this.getBitRatio(j),this.dimensions=lt,this.textureSize=st,this.uploadValue=j.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(j){if(j.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(j.constructor);return}if(this.checkContext&&j.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:_,context:$}=this;if(_.pipeline)if(_.immutable)_.updateTextureArgumentRefs(this,j);else{if(_.texture&&_.texture.texture===j.texture)throw new Error(at);if(_.mappedTextures){const{mappedTextures:tt}=_;for(let st=0;st<tt.length;st++)if(tt[st].texture===j.texture)throw new Error(at)}}$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.uploadValue=j.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueNumberTexture:nt}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray:at}},{"../../../utils":114,"./array":40}],64:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=et.getDimensions(it,!0);this.textureSize=et.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flatten2dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray1DI:at}},{"../../../utils":114,"./array":40}],65:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=et.getDimensions(it,!0);this.textureSize=et.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flatten3dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray2DI:at}},{"../../../utils":114,"./array":40}],66:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4,this.setShape(it)}setShape(it){const j=et.getDimensions(it,!0);this.textureSize=et.getMemoryOptimizedFloatTextureSize(j,this.bitRatio),this.dimensions=new Int32Array([j[1],j[2],j[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flatten4dArrayTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray3DI:at}},{"../../../utils":114,"./array":40}],67:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=4;let[_,$,tt]=it.size;this.dimensions=new Int32Array([_||1,$||1,tt||1]),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return et.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleInput:at}},{"../../../utils":114,"./array":40}],68:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it),this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return et.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedArray:at}},{"../../../utils":114,"./array":40}],69:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("./array");class at extends ot{constructor(it,j){super(it,j),this.bitRatio=this.getBitRatio(it);const[_,$,tt]=it.size;this.dimensions=new Int32Array([_||1,$||1,tt||1]),this.textureSize=et.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(it.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return et.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:j}=this;et.flattenTo(it.value,this.preUploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedInput:at}},{"../../../utils":114,"./array":40}],70:[function(o,a,rt){const{GLKernel:et}=o("../gl/kernel"),{FunctionBuilder:ot}=o("../function-builder"),{WebGLFunctionNode:at}=o("./function-node"),{utils:nt}=o("../../utils"),it=o("../../plugins/math-random-uniformly-distributed"),{fragmentShader:j}=o("./fragment-shader"),{vertexShader:_}=o("./vertex-shader"),{glKernelString:$}=o("../gl/kernel-string"),{lookupKernelValueType:tt}=o("./kernel-value-maps");let st=null,lt=null,ct=null,ht=null,ut=null;const pt=[it],mt=[],vt={};class dt extends et{static get isSupported(){return st!==null||(this.setupFeatureChecks(),st=this.isContextMatch(ct)),st}static setupFeatureChecks(){typeof document<"u"?lt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(lt=new OffscreenCanvas(0,0)),lt&&(ct=lt.getContext("webgl")||lt.getContext("experimental-webgl"),!(!ct||!ct.getExtension)&&(ht={OES_texture_float:ct.getExtension("OES_texture_float"),OES_texture_float_linear:ct.getExtension("OES_texture_float_linear"),OES_element_index_uint:ct.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:ct.getExtension("WEBGL_draw_buffers")},ut=this.getFeatures()))}static isContextMatch(yt){return typeof WebGLRenderingContext<"u"?yt instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!ht.OES_texture_float}static getIsDrawBuffers(){return!!ht.WEBGL_draw_buffers}static getChannelCount(){return ht.WEBGL_draw_buffers?ct.getParameter(ht.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return ct.getParameter(ct.MAX_TEXTURE_SIZE)}static lookupKernelValueType(yt,gt,Et,_t){return tt(yt,gt,Et,_t)}static get testCanvas(){return lt}static get testContext(){return ct}static get features(){return ut}static get fragmentShader(){return j}static get vertexShader(){return _}constructor(yt,gt){super(yt,gt),this.program=null,this.pipeline=gt.pipeline,this.endianness=nt.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(yt.settings||gt),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const yt=document.createElement("canvas");return yt.width=2,yt.height=2,yt}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const yt={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",yt)||this.canvas.getContext("experimental-webgl",yt)}initPlugins(yt){const gt=[],{source:Et}=this;if(typeof Et=="string")for(let _t=0;_t<pt.length;_t++){const kt=pt[_t];Et.match(kt.functionMatch)&&gt.push(kt)}else if(typeof Et=="object"&&yt.pluginNames)for(let _t=0;_t<pt.length;_t++){const kt=pt[_t];yt.pluginNames.some(Tt=>Tt===kt.name)&&gt.push(kt)}return gt}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(yt){if(!this.validate){this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:gt}=this.constructor;if(this.optimizeFloatMemory===!0&&!gt.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!gt.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&gt.isTextureFloat&&(this.precision=gt.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!gt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&gt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(yt.length!==1)throw new Error("Auto output only supported for kernels with only one input");const Et=nt.getVariableType(yt[0],this.strictIntegers);switch(Et){case"Array":this.output=nt.getDimensions(Et);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=yt[0].output;break;default:throw new Error("Auto output not supported for input type: "+Et)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=nt.clone(this.output);return}else this.precision===null&&gt.isTextureFloat&&(this.precision="single");this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:yt,canvas:gt}=this;if(this.maxTexSize===null){let Et=mt.indexOf(gt);Et===-1&&(Et=mt.length,mt.push(gt),vt[Et]=[yt[0],yt[1]]),this.maxTexSize=vt[Et]}this.maxTexSize[0]<yt[0]&&(this.maxTexSize[0]=yt[0]),this.maxTexSize[1]<yt[1]&&(this.maxTexSize[1]=yt[1])}setupArguments(yt){this.kernelArguments=[],this.argumentTextureCount=0;const gt=this.argumentTypes===null;if(gt&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],yt.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(yt.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:Et}=this;let _t=0;const kt=()=>this.createTexture(),Ct=()=>this.constantTextureCount+_t++,Tt=It=>{this.switchKernels({type:"argumentMismatch",needed:It})},At=()=>Et.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let It=0;It<yt.length;It++){const Ot=yt[It],Mt=this.argumentNames[It];let Dt;gt?(Dt=nt.getVariableType(Ot,this.strictIntegers),this.argumentTypes.push(Dt)):Dt=this.argumentTypes[It];const Bt=this.constructor.lookupKernelValueType(Dt,this.dynamicArguments?"dynamic":"static",this.precision,yt[It]);if(Bt===null)return this.requestFallback(yt);const Kt=new Bt(Ot,{name:Mt,type:Dt,tactic:this.tactic,origin:"user",context:Et,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:kt,onRequestIndex:Ct,onUpdateValueMismatch:Tt,onRequestContextHandle:At});this.kernelArguments.push(Kt),Kt.setup(),this.argumentSizes.push(Kt.textureSize),this.argumentBitRatios[It]=Kt.bitRatio}}createTexture(){const yt=this.context.createTexture();return this.textureCache.push(yt),yt}setupConstants(yt){const{context:gt}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let Et=this.constantTypes===null;Et&&(this.constantTypes={}),this.constantBitRatios={};let _t=0;for(const kt in this.constants){const Ct=this.constants[kt];let Tt;Et?(Tt=nt.getVariableType(Ct,this.strictIntegers),this.constantTypes[kt]=Tt):Tt=this.constantTypes[kt];const At=this.constructor.lookupKernelValueType(Tt,"static",this.precision,Ct);if(At===null)return this.requestFallback(yt);const It=new At(Ct,{name:kt,type:Tt,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>_t++,onRequestContextHandle:()=>gt.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[kt]=It.bitRatio,this.kernelConstants.push(It),It.setup(),It.forceUploadEachRun&&this.forceUploadKernelConstants.push(It)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const yt=this.pickRenderStrategy(arguments);if(yt)return yt;const{texSize:gt,context:Et,canvas:_t}=this;Et.enable(Et.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(Et.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),_t.width=this.maxTexSize[0],_t.height=this.maxTexSize[1]):(Et.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),_t.width=this.maxTexSize[0],_t.height=this.maxTexSize[1]);const kt=this.threadDim=Array.from(this.output);for(;kt.length<3;)kt.push(1);const Ct=this.getVertexShader(arguments),Tt=Et.createShader(Et.VERTEX_SHADER);Et.shaderSource(Tt,Ct),Et.compileShader(Tt),this.vertShader=Tt;const At=this.getFragmentShader(arguments),It=Et.createShader(Et.FRAGMENT_SHADER);if(Et.shaderSource(It,At),Et.compileShader(It),this.fragShader=It,this.debug&&(console.log("GLSL Shader Output:"),console.log(At)),!Et.getShaderParameter(Tt,Et.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+Et.getShaderInfoLog(Tt));if(!Et.getShaderParameter(It,Et.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+Et.getShaderInfoLog(It));const Ot=this.program=Et.createProgram();Et.attachShader(Ot,Tt),Et.attachShader(Ot,It),Et.linkProgram(Ot),this.framebuffer=Et.createFramebuffer(),this.framebuffer.width=gt[0],this.framebuffer.height=gt[1],this.rawValueFramebuffers={};const Mt=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Dt=new Float32Array([0,0,1,0,0,1,1,1]),Bt=Mt.byteLength;let Kt=this.buffer;Kt?Et.bindBuffer(Et.ARRAY_BUFFER,Kt):(Kt=this.buffer=Et.createBuffer(),Et.bindBuffer(Et.ARRAY_BUFFER,Kt),Et.bufferData(Et.ARRAY_BUFFER,Mt.byteLength+Dt.byteLength,Et.STATIC_DRAW)),Et.bufferSubData(Et.ARRAY_BUFFER,0,Mt),Et.bufferSubData(Et.ARRAY_BUFFER,Bt,Dt);const Wt=Et.getAttribLocation(this.program,"aPos");Et.enableVertexAttribArray(Wt),Et.vertexAttribPointer(Wt,2,Et.FLOAT,!1,0,0);const zt=Et.getAttribLocation(this.program,"aTexCoord");Et.enableVertexAttribArray(zt),Et.vertexAttribPointer(zt,2,Et.FLOAT,!1,0,Bt),Et.bindFramebuffer(Et.FRAMEBUFFER,this.framebuffer);let Ht=0;Et.useProgram(this.program);for(let Zt in this.constants)this.kernelConstants[Ht++].updateValue(this.constants[Zt]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const yt=ot.fromKernel(this,at,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=yt.getPrototypeString("kernel"),this.setupReturnTypes(yt)}setupReturnTypes(yt){if(!this.graphical&&!this.returnType&&(this.returnType=yt.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let gt=0;gt<this.subKernels.length;gt++){const Et=this.subKernels[gt];Et.returnType||(Et.returnType=yt.getSubKernelResultType(gt))}}run(){const{kernelArguments:yt,texSize:gt,forceUploadKernelConstants:Et,context:_t}=this;_t.useProgram(this.program),_t.scissor(0,0,gt[0],gt[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",gt)),this.setUniform2f("ratio",gt[0]/this.maxTexSize[0],gt[1]/this.maxTexSize[1]);for(let kt=0;kt<Et.length;kt++){const Ct=Et[kt];if(Ct.updateValue(this.constants[Ct.name]),this.switchingKernels)return}for(let kt=0;kt<yt.length;kt++)if(yt[kt].updateValue(arguments[kt]),this.switchingKernels)return;if(this.plugins)for(let kt=0;kt<this.plugins.length;kt++){const Ct=this.plugins[kt];Ct.onBeforeRun&&Ct.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return _t.bindRenderbuffer(_t.RENDERBUFFER,null),_t.bindFramebuffer(_t.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),_t.drawArrays(_t.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;_t.bindRenderbuffer(_t.RENDERBUFFER,null),_t.bindFramebuffer(_t.FRAMEBUFFER,null),_t.drawArrays(_t.TRIANGLE_STRIP,0,4);return}_t.bindFramebuffer(_t.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),_t.drawArrays(_t.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:yt}=this;switch(this.getInternalFormat()){case yt.RGBA:return yt.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const yt=this.context;yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const yt=this.context,gt=this.texSize;if(this.texture){yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,this.texture.texture,0);return}const Et=this.createTexture();yt.activeTexture(yt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),yt.bindTexture(yt.TEXTURE_2D,Et),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.NEAREST),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.NEAREST);const _t=this.getInternalFormat();this.precision==="single"?yt.texImage2D(yt.TEXTURE_2D,0,_t,gt[0],gt[1],0,yt.RGBA,yt.FLOAT,null):yt.texImage2D(yt.TEXTURE_2D,0,_t,gt[0],gt[1],0,_t,yt.UNSIGNED_BYTE,null),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,Et,0),this.texture=new this.TextureConstructor({texture:Et,size:gt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const yt=this.context;for(let gt=0;gt<this.mappedTextures.length;gt++){const Et=this.mappedTextures[gt];(Et.beforeMutate()||this._mappedTextureSwitched[gt])&&(yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+gt+1,yt.TEXTURE_2D,Et.texture,0),this._mappedTextureSwitched[gt]=!1)}}_setupSubOutputTextures(){const yt=this.context;if(this.mappedTextures){for(let Et=0;Et<this.subKernels.length;Et++)yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+Et+1,yt.TEXTURE_2D,this.mappedTextures[Et].texture,0);return}const gt=this.texSize;this.drawBuffersMap=[yt.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let Et=0;Et<this.subKernels.length;Et++){const _t=this.createTexture();this.drawBuffersMap.push(yt.COLOR_ATTACHMENT0+Et+1),yt.activeTexture(yt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+Et),yt.bindTexture(yt.TEXTURE_2D,_t),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.NEAREST),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.NEAREST),this.precision==="single"?yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,gt[0],gt[1],0,yt.RGBA,yt.FLOAT,null):yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,gt[0],gt[1],0,yt.RGBA,yt.UNSIGNED_BYTE,null),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0+Et+1,yt.TEXTURE_2D,_t,0),this.mappedTextures.push(new this.TextureConstructor({texture:_t,size:gt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(yt,gt){if(this.uniform1fCache.hasOwnProperty(yt)){const _t=this.uniform1fCache[yt];if(gt===_t)return}this.uniform1fCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform1f(Et,gt)}setUniform1i(yt,gt){if(this.uniform1iCache.hasOwnProperty(yt)){const _t=this.uniform1iCache[yt];if(gt===_t)return}this.uniform1iCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform1i(Et,gt)}setUniform2f(yt,gt,Et){if(this.uniform2fCache.hasOwnProperty(yt)){const kt=this.uniform2fCache[yt];if(gt===kt[0]&&Et===kt[1])return}this.uniform2fCache[yt]=[gt,Et];const _t=this.getUniformLocation(yt);this.context.uniform2f(_t,gt,Et)}setUniform2fv(yt,gt){if(this.uniform2fvCache.hasOwnProperty(yt)){const _t=this.uniform2fvCache[yt];if(gt[0]===_t[0]&&gt[1]===_t[1])return}this.uniform2fvCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform2fv(Et,gt)}setUniform2iv(yt,gt){if(this.uniform2ivCache.hasOwnProperty(yt)){const _t=this.uniform2ivCache[yt];if(gt[0]===_t[0]&&gt[1]===_t[1])return}this.uniform2ivCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform2iv(Et,gt)}setUniform3fv(yt,gt){if(this.uniform3fvCache.hasOwnProperty(yt)){const _t=this.uniform3fvCache[yt];if(gt[0]===_t[0]&&gt[1]===_t[1]&&gt[2]===_t[2])return}this.uniform3fvCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform3fv(Et,gt)}setUniform3iv(yt,gt){if(this.uniform3ivCache.hasOwnProperty(yt)){const _t=this.uniform3ivCache[yt];if(gt[0]===_t[0]&&gt[1]===_t[1]&&gt[2]===_t[2])return}this.uniform3ivCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform3iv(Et,gt)}setUniform4fv(yt,gt){if(this.uniform4fvCache.hasOwnProperty(yt)){const _t=this.uniform4fvCache[yt];if(gt[0]===_t[0]&&gt[1]===_t[1]&&gt[2]===_t[2]&&gt[3]===_t[3])return}this.uniform4fvCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform4fv(Et,gt)}setUniform4iv(yt,gt){if(this.uniform4ivCache.hasOwnProperty(yt)){const _t=this.uniform4ivCache[yt];if(gt[0]===_t[0]&&gt[1]===_t[1]&&gt[2]===_t[2]&&gt[3]===_t[3])return}this.uniform4ivCache[yt]=gt;const Et=this.getUniformLocation(yt);this.context.uniform4iv(Et,gt)}getUniformLocation(yt){return this.programUniformLocationCache.hasOwnProperty(yt)?this.programUniformLocationCache[yt]:this.programUniformLocationCache[yt]=this.context.getUniformLocation(this.program,yt)}_getFragShaderArtifactMap(yt){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(yt),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(yt){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(yt=>yt.source&&this.source.match(yt.functionMatch)?yt.source:"").join(`
`):`
`}_getConstantsString(){const yt=[],{threadDim:gt,texSize:Et}=this;return this.dynamicOutput?yt.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):yt.push(`ivec3 uOutputDim = ivec3(${gt[0]}, ${gt[1]}, ${gt[2]})`,`ivec2 uTexSize = ivec2(${Et[0]}, ${Et[1]})`),nt.linesToString(yt)}_getTextureCoordinate(){const yt=this.subKernels;return yt===null||yt.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(yt){const gt=[],{argumentNames:Et}=this;for(let _t=0;_t<Et.length;_t++)gt.push(this.kernelArguments[_t].getSource(yt[_t]));return gt.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const yt=[],{constants:gt}=this;if(gt){let Et=0;for(const _t in gt)this.constants.hasOwnProperty(_t)&&yt.push(this.kernelConstants[Et++].getSource(this.constants[_t]))}return yt.join("")}getRawValueFramebuffer(yt,gt){if(this.rawValueFramebuffers[yt]||(this.rawValueFramebuffers[yt]={}),!this.rawValueFramebuffers[yt][gt]){const Et=this.context.createFramebuffer();Et.width=yt,Et.height=gt,this.rawValueFramebuffers[yt][gt]=Et}return this.rawValueFramebuffers[yt][gt]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const yt=[this.getKernelResultDeclaration()],{subKernels:gt}=this;if(gt!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let Et=0;Et<gt.length;Et++){const _t=gt[Et];yt.push(_t.returnType==="Integer"?`int subKernelResult_${_t.name} = 0`:`float subKernelResult_${_t.name} = 0.0`)}break;case"Array(2)":for(let Et=0;Et<gt.length;Et++)yt.push(`vec2 subKernelResult_${gt[Et].name}`);break;case"Array(3)":for(let Et=0;Et<gt.length;Et++)yt.push(`vec3 subKernelResult_${gt[Et].name}`);break;case"Array(4)":for(let Et=0;Et<gt.length;Et++)yt.push(`vec4 subKernelResult_${gt[Et].name}`);break}return nt.linesToString(yt)+this.translatedSource}getMainResultGraphical(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const yt=[];if(!this.subKernels)return"";for(let gt=0;gt<this.subKernels.length;gt++)this.subKernels[gt].returnType==="Integer"?yt.push(`  gl_FragData[${gt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[gt].name}))`):yt.push(`  gl_FragData[${gt+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[gt].name})`);return nt.linesToString(yt)}getMainResultMemoryOptimizedFloats(){const yt=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const gt=["r","g","b","a"];for(let Et=0;Et<gt.length;Et++){const _t=gt[Et];this.getMainResultKernelMemoryOptimizedFloats(yt,_t),this.getMainResultSubKernelMemoryOptimizedFloats(yt,_t),Et+1<gt.length&&yt.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return nt.linesToString(yt)}getMainResultKernelMemoryOptimizedFloats(yt,gt){yt.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${gt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(yt,gt){if(!this.subKernels)return yt;for(let Et=0;Et<this.subKernels.length;Et++)this.subKernels[Et].returnType==="Integer"?yt.push(`  gl_FragData[${Et+1}].${gt} = float(subKernelResult_${this.subKernels[Et].name})`):yt.push(`  gl_FragData[${Et+1}].${gt} = subKernelResult_${this.subKernels[Et].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const yt=[];if(!this.subKernels)return yt;for(let gt=0;gt<this.subKernels.length;++gt){const Et=this.subKernels[gt];Et.returnType==="Integer"?yt.push(`  gl_FragData[${gt+1}][0] = float(subKernelResult_${Et.name})`):yt.push(`  gl_FragData[${gt+1}][0] = subKernelResult_${Et.name}`)}return yt}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const yt=[];if(!this.subKernels)return yt;for(let gt=0;gt<this.subKernels.length;++gt)yt.push(`  gl_FragData[${gt+1}][0] = subKernelResult_${this.subKernels[gt].name}[0]`,`  gl_FragData[${gt+1}][1] = subKernelResult_${this.subKernels[gt].name}[1]`);return yt}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const yt=[];if(!this.subKernels)return yt;for(let gt=0;gt<this.subKernels.length;++gt)yt.push(`  gl_FragData[${gt+1}][0] = subKernelResult_${this.subKernels[gt].name}[0]`,`  gl_FragData[${gt+1}][1] = subKernelResult_${this.subKernels[gt].name}[1]`,`  gl_FragData[${gt+1}][2] = subKernelResult_${this.subKernels[gt].name}[2]`);return yt}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const yt=[];if(!this.subKernels)return yt;switch(this.returnType){case"Number":case"Float":case"Integer":for(let gt=0;gt<this.subKernels.length;++gt)this.subKernels[gt].returnType==="Integer"?yt.push(`  gl_FragData[${gt+1}] = float(subKernelResult_${this.subKernels[gt].name})`):yt.push(`  gl_FragData[${gt+1}] = subKernelResult_${this.subKernels[gt].name}`);break;case"Array(2)":for(let gt=0;gt<this.subKernels.length;++gt)yt.push(`  gl_FragData[${gt+1}][0] = subKernelResult_${this.subKernels[gt].name}[0]`,`  gl_FragData[${gt+1}][1] = subKernelResult_${this.subKernels[gt].name}[1]`);break;case"Array(3)":for(let gt=0;gt<this.subKernels.length;++gt)yt.push(`  gl_FragData[${gt+1}][0] = subKernelResult_${this.subKernels[gt].name}[0]`,`  gl_FragData[${gt+1}][1] = subKernelResult_${this.subKernels[gt].name}[1]`,`  gl_FragData[${gt+1}][2] = subKernelResult_${this.subKernels[gt].name}[2]`);break;case"Array(4)":for(let gt=0;gt<this.subKernels.length;++gt)yt.push(`  gl_FragData[${gt+1}][0] = subKernelResult_${this.subKernels[gt].name}[0]`,`  gl_FragData[${gt+1}][1] = subKernelResult_${this.subKernels[gt].name}[1]`,`  gl_FragData[${gt+1}][2] = subKernelResult_${this.subKernels[gt].name}[2]`,`  gl_FragData[${gt+1}][3] = subKernelResult_${this.subKernels[gt].name}[3]`);break}return yt}replaceArtifacts(yt,gt){return yt.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(Et,_t)=>{if(gt.hasOwnProperty(_t))return gt[_t];throw`unhandled artifact ${_t}`})}getFragmentShader(yt){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(yt))}getVertexShader(yt){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(yt))}toString(){const yt=nt.linesToString(["const gl = context"]);return $(this.constructor,arguments,this,yt)}destroy(yt){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const Et in this.rawValueFramebuffers){for(const _t in this.rawValueFramebuffers[Et])this.context.deleteFramebuffer(this.rawValueFramebuffers[Et][_t]),delete this.rawValueFramebuffers[Et][_t];delete this.rawValueFramebuffers[Et]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const Et=this.textureCache.indexOf(this.texture.texture);Et>-1&&this.textureCache.splice(Et,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let Et=0;Et<this.mappedTextures.length;Et++){const _t=this.mappedTextures[Et];_t.delete();const kt=this.textureCache.indexOf(_t.texture);kt>-1&&this.textureCache.splice(kt,1)}this.mappedTextures=null}if(this.kernelArguments)for(let Et=0;Et<this.kernelArguments.length;Et++)this.kernelArguments[Et].destroy();if(this.kernelConstants)for(let Et=0;Et<this.kernelConstants.length;Et++)this.kernelConstants[Et].destroy();for(;this.textureCache.length>0;){const Et=this.textureCache.pop();this.context.deleteTexture(Et)}if(yt){const Et=mt.indexOf(this.canvas);Et>=0&&(mt[Et]=null,vt[Et]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const gt=this.gpu.kernels.indexOf(this);gt!==-1&&this.gpu.kernels.splice(gt,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(yt){const gt=yt.getExtension("WEBGL_lose_context");gt&&gt.loseContext()}toJSON(){const yt=super.toJSON();return yt.functionNodes=ot.fromKernel(this,at).toJSON(),yt.settings.threadDim=this.threadDim,yt}}a.exports={WebGLKernel:dt}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(o,a,rt){const et=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:et}},{}],72:[function(o,a,rt){const et=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:et}},{}],73:[function(o,a,rt){const{utils:et}=o("../../utils"),{WebGLFunctionNode:ot}=o("../web-gl/function-node");class at extends ot{astIdentifierExpression(it,j){if(it.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",it);const _=this.getType(it),$=et.sanitizeName(it.name);return it.name==="Infinity"?j.push("intBitsToFloat(2139095039)"):_==="Boolean"?this.argumentNames.indexOf($)>-1?j.push(`bool(user_${$})`):j.push(`user_${$}`):j.push(`user_${$}`),j}}a.exports={WebGL2FunctionNode:at}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(o,a,rt){const{WebGL2KernelValueBoolean:et}=o("./kernel-value/boolean"),{WebGL2KernelValueFloat:ot}=o("./kernel-value/float"),{WebGL2KernelValueInteger:at}=o("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:nt}=o("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:it}=o("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:j}=o("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:_}=o("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:$}=o("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:tt}=o("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:st}=o("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:lt}=o("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:ct}=o("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:ht}=o("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:ut}=o("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:pt}=o("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:mt}=o("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:vt}=o("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:dt}=o("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:St}=o("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:yt}=o("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:gt}=o("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:Et}=o("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:_t}=o("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:kt}=o("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:Ct}=o("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:Tt}=o("./kernel-value/array2"),{WebGL2KernelValueArray3:At}=o("./kernel-value/array3"),{WebGL2KernelValueArray4:It}=o("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Ot}=o("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:Mt}=o("./kernel-value/dynamic-unsigned-array"),Dt={unsigned:{dynamic:{Boolean:et,Integer:at,Float:ot,Array:Mt,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ht,NumberTexture:vt,"ArrayTexture(1)":vt,"ArrayTexture(2)":vt,"ArrayTexture(3)":vt,"ArrayTexture(4)":vt,MemoryOptimizedNumberTexture:pt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:tt},static:{Boolean:et,Float:ot,Integer:at,Array:Ot,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ct,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:pt,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:j,HTMLVideo:$}},single:{dynamic:{Boolean:et,Integer:at,Float:ot,Array:St,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":gt,"Array1D(3)":gt,"Array1D(4)":gt,"Array2D(2)":_t,"Array2D(3)":_t,"Array2D(4)":_t,"Array3D(2)":Ct,"Array3D(3)":Ct,"Array3D(4)":Ct,Input:lt,NumberTexture:vt,"ArrayTexture(1)":vt,"ArrayTexture(2)":vt,"ArrayTexture(3)":vt,"ArrayTexture(4)":vt,MemoryOptimizedNumberTexture:pt,HTMLCanvas:it,OffscreenCanvas:it,HTMLImage:it,ImageBitmap:it,ImageData:it,HTMLImageArray:_,HTMLVideo:tt},static:{Boolean:et,Float:ot,Integer:at,Array:dt,"Array(2)":Tt,"Array(3)":At,"Array(4)":It,"Array1D(2)":yt,"Array1D(3)":yt,"Array1D(4)":yt,"Array2D(2)":Et,"Array2D(3)":Et,"Array2D(4)":Et,"Array3D(2)":kt,"Array3D(3)":kt,"Array3D(4)":kt,Input:st,NumberTexture:mt,"ArrayTexture(1)":mt,"ArrayTexture(2)":mt,"ArrayTexture(3)":mt,"ArrayTexture(4)":mt,MemoryOptimizedNumberTexture:ut,HTMLCanvas:nt,OffscreenCanvas:nt,HTMLImage:nt,ImageBitmap:nt,ImageData:nt,HTMLImageArray:j,HTMLVideo:$}}};function Bt(Kt,Wt,zt,Ht){if(!Kt)throw new Error("type missing");if(!Wt)throw new Error("dynamic missing");if(!zt)throw new Error("precision missing");Ht.type&&(Kt=Ht.type);const Zt=Dt[zt][Wt];if(Zt[Kt]===!1)return null;if(Zt[Kt]===void 0)throw new Error(`Could not find a KernelValue for ${Kt}`);return Zt[Kt]}a.exports={kernelValueMaps:Dt,lookupKernelValueType:Bt}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(o,a,rt){const{WebGLKernelValueArray2:et}=o("../../web-gl/kernel-value/array2");class ot extends et{}a.exports={WebGL2KernelValueArray2:ot}},{"../../web-gl/kernel-value/array2":41}],76:[function(o,a,rt){const{WebGLKernelValueArray3:et}=o("../../web-gl/kernel-value/array3");class ot extends et{}a.exports={WebGL2KernelValueArray3:ot}},{"../../web-gl/kernel-value/array3":42}],77:[function(o,a,rt){const{WebGLKernelValueArray4:et}=o("../../web-gl/kernel-value/array4");class ot extends et{}a.exports={WebGL2KernelValueArray4:ot}},{"../../web-gl/kernel-value/array4":43}],78:[function(o,a,rt){const{WebGLKernelValueBoolean:et}=o("../../web-gl/kernel-value/boolean");class ot extends et{}a.exports={WebGL2KernelValueBoolean:ot}},{"../../web-gl/kernel-value/boolean":44}],79:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGL2KernelValueHTMLImageArray:ot}=o("./html-image-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){const{width:j,height:_}=it[0];this.checkSize(j,_),this.dimensions=[j,_,it.length],this.textureSize=[j,_],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicHTMLImageArray:at}},{"../../../utils":114,"./html-image-array":92}],80:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueDynamicHTMLImage:ot}=o("../../web-gl/kernel-value/dynamic-html-image");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicHTMLImage:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(o,a,rt){o("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:et}=o("./dynamic-html-image");class ot extends et{}a.exports={WebGL2KernelValueDynamicHTMLVideo:ot}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ot}=o("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class at extends ot{getSource(){return et.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueDynamicNumberTexture:ot}=o("../../web-gl/kernel-value/dynamic-number-texture");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGL2KernelValueSingleArray:ot}=o("../../web-gl2/kernel-value/single-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.dimensions=et.getDimensions(it,!0),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGL2KernelValueSingleArray1DI:ot}=o("../../web-gl2/kernel-value/single-array1d-i");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray1DI:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGL2KernelValueSingleArray2DI:ot}=o("../../web-gl2/kernel-value/single-array2d-i");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray2DI:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGL2KernelValueSingleArray3DI:ot}=o("../../web-gl2/kernel-value/single-array3d-i");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){this.setShape(it),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleArray3DI:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGL2KernelValueSingleInput:ot}=o("../../web-gl2/kernel-value/single-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}updateValue(it){let[j,_,$]=it.size;this.dimensions=new Int32Array([j||1,_||1,$||1]),this.textureSize=et.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(it)}}a.exports={WebGL2KernelValueDynamicSingleInput:at}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:ot}=o("../../web-gl/kernel-value/dynamic-unsigned-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:ot}=o("../../web-gl/kernel-value/dynamic-unsigned-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`uniform ${it} ivec2 ${this.sizeId}`,`uniform ${it} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedInput:at}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(o,a,rt){o("../../../utils");const{WebGLKernelValueFloat:et}=o("../../web-gl/kernel-value/float");class ot extends et{}a.exports={WebGL2KernelValueFloat:ot}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelArray:ot}=o("../../web-gl/kernel-value/array");class at extends ot{constructor(it,j){super(it,j),this.checkSize(it[0].width,it[0].height),this.dimensions=[it[0].width,it[0].height,it.length],this.textureSize=[it[0].width,it[0].height]}defineTexture(){const{context:it}=this;it.activeTexture(this.contextHandle),it.bindTexture(it.TEXTURE_2D_ARRAY,this.texture),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MAG_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D_ARRAY,it.TEXTURE_MIN_FILTER,it.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2DArray ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D_ARRAY,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0),j.texImage3D(j.TEXTURE_2D_ARRAY,0,j.RGBA,it[0].width,it[0].height,it.length,0,j.RGBA,j.UNSIGNED_BYTE,null);for(let _=0;_<it.length;_++)j.texSubImage3D(j.TEXTURE_2D_ARRAY,0,0,0,_,it[_].width,it[_].height,1,j.RGBA,j.UNSIGNED_BYTE,this.uploadValue=it[_]);this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueHTMLImageArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueHTMLImage:ot}=o("../../web-gl/kernel-value/html-image");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueHTMLImage:at}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(o,a,rt){o("../../../utils");const{WebGL2KernelValueHTMLImage:et}=o("./html-image");class ot extends et{}a.exports={WebGL2KernelValueHTMLVideo:ot}},{"../../../utils":114,"./html-image":93}],95:[function(o,a,rt){const{WebGLKernelValueInteger:et}=o("../../web-gl/kernel-value/integer");class ot extends et{getSource(nt){const it=this.getVariablePrecisionString();return this.origin==="constants"?`const ${it} int ${this.id} = ${parseInt(nt)};
`:`uniform ${it} int ${this.id};
`}updateValue(nt){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=nt)}}a.exports={WebGL2KernelValueInteger:ot}},{"../../web-gl/kernel-value/integer":60}],96:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:ot}=o("../../web-gl/kernel-value/memory-optimized-number-texture");class at extends ot{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:tt}=this,st=this.getVariablePrecisionString();return et.linesToString([`uniform sampler2D ${it}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${tt[0]}, ${tt[1]}, ${tt[2]})`])}}a.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueNumberTexture:ot}=o("../../web-gl/kernel-value/number-texture");class at extends ot{getSource(){const{id:it,sizeId:j,textureSize:_,dimensionsId:$,dimensions:tt}=this,st=this.getVariablePrecisionString();return et.linesToString([`uniform ${st} sampler2D ${it}`,`${st} ivec2 ${j} = ivec2(${_[0]}, ${_[1]})`,`${st} ivec3 ${$} = ivec3(${tt[0]}, ${tt[1]}, ${tt[2]})`])}}a.exports={WebGL2KernelValueNumberTexture:at}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray:ot}=o("../../web-gl/kernel-value/single-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray1DI:ot}=o("../../web-gl/kernel-value/single-array1d-i");class at extends ot{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray1DI:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray2DI:ot}=o("../../web-gl/kernel-value/single-array2d-i");class at extends ot{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray2DI:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleArray3DI:ot}=o("../../web-gl/kernel-value/single-array3d-i");class at extends ot{updateValue(it){if(it.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(it.constructor);return}const{context:j}=this;et.flattenTo(it,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray3DI:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueSingleInput:ot}=o("../../web-gl/kernel-value/single-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(it){const{context:j}=this;et.flattenTo(it.value,this.uploadValue),j.activeTexture(this.contextHandle),j.bindTexture(j.TEXTURE_2D,this.texture),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!1),j.texImage2D(j.TEXTURE_2D,0,j.RGBA32F,this.textureSize[0],this.textureSize[1],0,j.RGBA,j.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleInput:at}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueUnsignedArray:ot}=o("../../web-gl/kernel-value/unsigned-array");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedArray:at}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(o,a,rt){const{utils:et}=o("../../../utils"),{WebGLKernelValueUnsignedInput:ot}=o("../../web-gl/kernel-value/unsigned-input");class at extends ot{getSource(){const it=this.getVariablePrecisionString();return et.linesToString([`uniform ${it} sampler2D ${this.id}`,`${it} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${it} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedInput:at}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(o,a,rt){const{WebGLKernel:et}=o("../web-gl/kernel"),{WebGL2FunctionNode:ot}=o("./function-node"),{FunctionBuilder:at}=o("../function-builder"),{utils:nt}=o("../../utils"),{fragmentShader:it}=o("./fragment-shader"),{vertexShader:j}=o("./vertex-shader"),{lookupKernelValueType:_}=o("./kernel-value-maps");let $=null,tt=null,st=null,lt=null;class ct extends et{static get isSupported(){return $!==null||(this.setupFeatureChecks(),$=this.isContextMatch(st)),$}static setupFeatureChecks(){typeof document<"u"?tt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(tt=new OffscreenCanvas(0,0)),tt&&(st=tt.getContext("webgl2"),!(!st||!st.getExtension)&&(st.getExtension("EXT_color_buffer_float"),st.getExtension("OES_texture_float_linear"),lt=this.getFeatures()))}static isContextMatch(ut){return typeof WebGL2RenderingContext<"u"?ut instanceof WebGL2RenderingContext:!1}static getFeatures(){const ut=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_INT),lowFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.LOW_FLOAT),mediumIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_INT),mediumFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_FLOAT),highIntPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_INT),highFloatPrecision:ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return st.getParameter(st.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return st.getParameter(st.MAX_TEXTURE_SIZE)}static lookupKernelValueType(ut,pt,mt,vt){return _(ut,pt,mt,vt)}static get testCanvas(){return tt}static get testContext(){return st}static get features(){return lt}static get fragmentShader(){return it}static get vertexShader(){return j}initContext(){const ut={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",ut)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(ut){if(!this.validate){this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:pt}=this.constructor;if(this.precision==="single"&&!pt.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=pt.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!pt.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&pt.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(ut.length!==1)throw new Error("Auto output only supported for kernels with only one input");const mt=nt.getVariableType(ut[0],this.strictIntegers);switch(mt){case"Array":this.output=nt.getDimensions(mt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=ut[0].output;break;default:throw new Error("Auto output not supported for input type: "+mt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=nt.clone(this.output);return}else!this.graphical&&this.precision===null&&pt.isTextureFloat&&(this.precision="single");this.texSize=nt.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const ut=at.fromKernel(this,ot,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=ut.getPrototypeString("kernel"),this.setupReturnTypes(ut)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:ut}=this;switch(this.getInternalFormat()){case ut.R32F:return ut.RED;case ut.RG32F:return ut.RG;case ut.RGBA32F:return ut.RGBA;case ut.RGBA:return ut.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:ut}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?ut.RGBA32F:ut.R32F;case"Array(2)":return ut.RG32F;case"Array(3)":case"Array(4)":return ut.RGBA32F;default:throw new Error("Unhandled return type")}return ut.RGBA32F}return ut.RGBA}_setupOutputTexture(){const ut=this.context;if(this.texture){ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,this.texture.texture,0);return}ut.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer);const pt=ut.createTexture(),mt=this.texSize;ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),ut.bindTexture(ut.TEXTURE_2D,pt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.REPEAT),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const vt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,vt,mt[0],mt[1]):ut.texImage2D(ut.TEXTURE_2D,0,vt,mt[0],mt[1],0,vt,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,pt,0),this.texture=new this.TextureConstructor({texture:pt,size:mt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const ut=this.context;if(this.mappedTextures){for(let mt=0;mt<this.subKernels.length;mt++)ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+mt+1,ut.TEXTURE_2D,this.mappedTextures[mt].texture,0);return}const pt=this.texSize;this.drawBuffersMap=[ut.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let mt=0;mt<this.subKernels.length;mt++){const vt=this.createTexture();this.drawBuffersMap.push(ut.COLOR_ATTACHMENT0+mt+1),ut.activeTexture(ut.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+mt),ut.bindTexture(ut.TEXTURE_2D,vt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST);const dt=this.getInternalFormat();this.precision==="single"?ut.texStorage2D(ut.TEXTURE_2D,1,dt,pt[0],pt[1]):ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,pt[0],pt[1],0,ut.RGBA,ut.UNSIGNED_BYTE,null),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+mt+1,ut.TEXTURE_2D,vt,0),this.mappedTextures.push(new this.TextureConstructor({texture:vt,size:pt,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const ut=this.subKernels,pt=this.getVariablePrecisionString(this.texSize,this.tactic);return ut===null||ut.length<1?`in ${pt} vec2 vTexCoord;
`:`out ${pt} vec2 vTexCoord;
`}_getMainArgumentsString(ut){const pt=[],mt=this.argumentNames;for(let vt=0;vt<mt.length;vt++)pt.push(this.kernelArguments[vt].getSource(ut[vt]));return pt.join("")}getKernelString(){const ut=[this.getKernelResultDeclaration()],pt=this.subKernels;if(pt!==null)switch(ut.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let mt=0;mt<pt.length;mt++){const vt=pt[mt];ut.push(vt.returnType==="Integer"?`int subKernelResult_${vt.name} = 0`:`float subKernelResult_${vt.name} = 0.0`,`layout(location = ${mt+1}) out vec4 data${mt+1}`)}break;case"Array(2)":for(let mt=0;mt<pt.length;mt++)ut.push(`vec2 subKernelResult_${pt[mt].name}`,`layout(location = ${mt+1}) out vec4 data${mt+1}`);break;case"Array(3)":for(let mt=0;mt<pt.length;mt++)ut.push(`vec3 subKernelResult_${pt[mt].name}`,`layout(location = ${mt+1}) out vec4 data${mt+1}`);break;case"Array(4)":for(let mt=0;mt<pt.length;mt++)ut.push(`vec4 subKernelResult_${pt[mt].name}`,`layout(location = ${mt+1}) out vec4 data${mt+1}`);break}else ut.push("out vec4 data0");return nt.linesToString(ut)+this.translatedSource}getMainResultGraphical(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return nt.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const ut=[];if(!this.subKernels)return"";for(let pt=0;pt<this.subKernels.length;pt++)this.subKernels[pt].returnType==="Integer"?ut.push(`  data${pt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[pt].name}))`):ut.push(`  data${pt+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[pt].name})`);return nt.linesToString(ut)}getMainResultKernelMemoryOptimizedFloats(ut,pt){ut.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${pt} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(ut,pt){if(!this.subKernels)return ut;for(let mt=0;mt<this.subKernels.length;mt++){const vt=this.subKernels[mt];vt.returnType==="Integer"?ut.push(`  data${mt+1}.${pt} = float(subKernelResult_${vt.name})`):ut.push(`  data${mt+1}.${pt} = subKernelResult_${vt.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt){const mt=this.subKernels[pt];mt.returnType==="Integer"?ut.push(`  data${pt+1}[0] = float(subKernelResult_${mt.name})`):ut.push(`  data${pt+1}[0] = subKernelResult_${mt.name}`)}return ut}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt){const mt=this.subKernels[pt];ut.push(`  data${pt+1}[0] = subKernelResult_${mt.name}[0]`,`  data${pt+1}[1] = subKernelResult_${mt.name}[1]`)}return ut}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt){const mt=this.subKernels[pt];ut.push(`  data${pt+1}[0] = subKernelResult_${mt.name}[0]`,`  data${pt+1}[1] = subKernelResult_${mt.name}[1]`,`  data${pt+1}[2] = subKernelResult_${mt.name}[2]`)}return ut}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const ut=[];if(!this.subKernels)return ut;for(let pt=0;pt<this.subKernels.length;++pt)ut.push(`  data${pt+1} = subKernelResult_${this.subKernels[pt].name}`);return ut}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const ut=super.toJSON();return ut.functionNodes=at.fromKernel(this,ot).toJSON(),ut.settings.threadDim=this.threadDim,ut}}a.exports={WebGL2Kernel:ct}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(o,a,rt){const et=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:et}},{}],107:[function(o,a,rt){const et=o("./index"),ot=et.GPU;for(const nt in et)et.hasOwnProperty(nt)&&nt!=="GPU"&&(ot[nt]=et[nt]);typeof window<"u"&&at(window),typeof self<"u"&&at(self);function at(nt){nt.GPU||Object.defineProperty(nt,"GPU",{get(){return ot}})}a.exports=et},{"./index":109}],108:[function(o,a,rt){const{gpuMock:et}=o("gpu-mock.js"),{utils:ot}=o("./utils");o("./backend/kernel");const{CPUKernel:at}=o("./backend/cpu/kernel"),{HeadlessGLKernel:nt}=o("./backend/headless-gl/kernel"),{WebGL2Kernel:it}=o("./backend/web-gl2/kernel"),{WebGLKernel:j}=o("./backend/web-gl/kernel"),{kernelRunShortcut:_}=o("./kernel-run-shortcut"),$=[nt,it,j],tt=["gpu","cpu"],st={headlessgl:nt,webgl2:it,webgl:j};let lt=!0;class ct{static disableValidation(){lt=!1}static enableValidation(){lt=!0}static get isGPUSupported(){return $.some(pt=>pt.isSupported)}static get isKernelMapSupported(){return $.some(pt=>pt.isSupported&&pt.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return j.isSupported}static get isWebGL2Supported(){return it.isSupported}static get isHeadlessGLSupported(){return nt.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return it.isSupported}static get isSinglePrecisionSupported(){return $.some(pt=>pt.isSupported&&pt.features.isFloatRead&&pt.features.isTextureFloat)}constructor(pt){if(pt=pt||{},this.canvas=pt.canvas||null,this.context=pt.context||null,this.mode=pt.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),pt.functions)for(let mt=0;mt<pt.functions.length;mt++)this.addFunction(pt.functions[mt]);if(pt.nativeFunctions)for(const mt in pt.nativeFunctions){if(!pt.nativeFunctions.hasOwnProperty(mt))continue;const vt=pt.nativeFunctions[mt],{name:dt,source:St}=vt;this.addNativeFunction(dt,St,vt)}}}chooseKernel(){if(this.Kernel)return;let pt=null;if(this.context){for(let mt=0;mt<$.length;mt++){const vt=$[mt];if(vt.isContextMatch(this.context)){if(!vt.isSupported)throw new Error(`Kernel type ${vt.name} not supported`);pt=vt;break}}if(pt===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in st)(!lt||st[this.mode].isSupported)&&(pt=st[this.mode]);else if(this.mode==="gpu"){for(let mt=0;mt<$.length;mt++)if($[mt].isSupported){pt=$[mt];break}}else this.mode==="cpu"&&(pt=at);if(!pt)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let mt=0;mt<$.length;mt++)if($[mt].isSupported){pt=$[mt];break}pt||(pt=at)}this.mode||(this.mode=pt.mode),this.Kernel=pt}createKernel(pt,mt){if(typeof pt>"u")throw new Error("Missing source parameter");if(typeof pt!="object"&&!ot.isFunction(pt)&&typeof pt!="string")throw new Error("source parameter not a function");const vt=this.kernels;if(this.mode==="dev"){const Ct=et(pt,ht(mt));return vt.push(Ct),Ct}pt=typeof pt=="function"?pt.toString():pt;const dt={},St=ht(mt)||{};mt&&typeof mt.argumentTypes=="object"&&(St.argumentTypes=Object.keys(mt.argumentTypes).map(Ct=>mt.argumentTypes[Ct]));function yt(Ct){console.warn("Falling back to CPU");const Tt=new at(pt,{argumentTypes:kt.argumentTypes,constantTypes:kt.constantTypes,graphical:kt.graphical,loopMaxIterations:kt.loopMaxIterations,constants:kt.constants,dynamicOutput:kt.dynamicOutput,dynamicArgument:kt.dynamicArguments,output:kt.output,precision:kt.precision,pipeline:kt.pipeline,immutable:kt.immutable,optimizeFloatMemory:kt.optimizeFloatMemory,fixIntegerDivisionAccuracy:kt.fixIntegerDivisionAccuracy,functions:kt.functions,nativeFunctions:kt.nativeFunctions,injectedNative:kt.injectedNative,subKernels:kt.subKernels,strictIntegers:kt.strictIntegers,debug:kt.debug});Tt.build.apply(Tt,Ct);const At=Tt.run.apply(Tt,Ct);return kt.replaceKernel(Tt),At}function gt(Ct,Tt,At){At.debug&&console.warn("Switching kernels");let It=null;if(At.signature&&!dt[At.signature]&&(dt[At.signature]=At),At.dynamicOutput)for(let Wt=Ct.length-1;Wt>=0;Wt--){const zt=Ct[Wt];zt.type==="outputPrecisionMismatch"&&(It=zt.needed)}const Ot=At.constructor,Mt=Ot.getArgumentTypes(At,Tt),Dt=Ot.getSignature(At,Mt),Bt=dt[Dt];if(Bt)return Bt.onActivate(At),Bt;const Kt=dt[Dt]=new Ot(pt,{argumentTypes:Mt,constantTypes:At.constantTypes,graphical:At.graphical,loopMaxIterations:At.loopMaxIterations,constants:At.constants,dynamicOutput:At.dynamicOutput,dynamicArgument:At.dynamicArguments,context:At.context,canvas:At.canvas,output:It||At.output,precision:At.precision,pipeline:At.pipeline,immutable:At.immutable,optimizeFloatMemory:At.optimizeFloatMemory,fixIntegerDivisionAccuracy:At.fixIntegerDivisionAccuracy,functions:At.functions,nativeFunctions:At.nativeFunctions,injectedNative:At.injectedNative,subKernels:At.subKernels,strictIntegers:At.strictIntegers,debug:At.debug,gpu:At.gpu,validate:lt,returnType:At.returnType,tactic:At.tactic,onRequestFallback:yt,onRequestSwitchKernel:gt,texture:At.texture,mappedTextures:At.mappedTextures,drawBuffersMap:At.drawBuffersMap});return Kt.build.apply(Kt,Tt),kt.replaceKernel(Kt),vt.push(Kt),Kt}const Et=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:lt,onRequestFallback:yt,onRequestSwitchKernel:gt},St),_t=new this.Kernel(pt,Et),kt=_(_t);return this.canvas||(this.canvas=_t.canvas),this.context||(this.context=_t.context),vt.push(_t),kt}createKernelMap(){let pt,mt;const vt=typeof arguments[arguments.length-2];if(vt==="function"||vt==="string"?(pt=arguments[arguments.length-2],mt=arguments[arguments.length-1]):pt=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&tt.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const dt=ht(mt);if(mt&&typeof mt.argumentTypes=="object"&&(dt.argumentTypes=Object.keys(mt.argumentTypes).map(St=>mt.argumentTypes[St])),Array.isArray(arguments[0])){dt.subKernels=[];const St=arguments[0];for(let yt=0;yt<St.length;yt++){const gt=St[yt].toString(),Et=ot.getFunctionNameFromString(gt);dt.subKernels.push({name:Et,source:gt,property:yt})}}else{dt.subKernels=[];const St=arguments[0];for(let yt in St){if(!St.hasOwnProperty(yt))continue;const gt=St[yt].toString(),Et=ot.getFunctionNameFromString(gt);dt.subKernels.push({name:Et||yt,source:gt,property:yt})}}return this.createKernel(pt,dt)}combineKernels(){const pt=arguments[0],mt=arguments[arguments.length-1];if(pt.kernel.constructor.mode==="cpu")return mt;const vt=arguments[0].canvas,dt=arguments[0].context,St=arguments.length-1;for(let yt=0;yt<St;yt++)arguments[yt].setCanvas(vt).setContext(dt).setPipeline(!0);return function(){const yt=mt.apply(this,arguments);return yt.toArray?yt.toArray():yt}}setFunctions(pt){return this.functions=pt,this}setNativeFunctions(pt){return this.nativeFunctions=pt,this}addFunction(pt,mt){return this.functions.push({source:pt,settings:mt}),this}addNativeFunction(pt,mt,vt){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:pt,source:mt},vt)),this}injectNative(pt){return this.injectedNative=pt,this}destroy(){return new Promise((pt,mt)=>{this.kernels||pt(),setTimeout(()=>{try{for(let dt=0;dt<this.kernels.length;dt++)this.kernels[dt].destroy(!0);let vt=this.kernels[0];vt&&(vt.kernel&&(vt=vt.kernel),vt.constructor.destroyContext&&vt.constructor.destroyContext(this.context))}catch(vt){mt(vt)}pt()},0)})}}function ht(ut){if(!ut)return{};const pt=Object.assign({},ut);return ut.hasOwnProperty("floatOutput")&&(ot.warnDeprecated("setting","floatOutput","precision"),pt.precision=ut.floatOutput?"single":"unsigned"),ut.hasOwnProperty("outputToTexture")&&(ot.warnDeprecated("setting","outputToTexture","pipeline"),pt.pipeline=!!ut.outputToTexture),ut.hasOwnProperty("outputImmutable")&&(ot.warnDeprecated("setting","outputImmutable","immutable"),pt.immutable=!!ut.outputImmutable),ut.hasOwnProperty("floatTextures")&&(ot.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),pt.optimizeFloatMemory=!!ut.floatTextures),pt}a.exports={GPU:ct,kernelOrder:$,kernelTypes:tt}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(o,a,rt){const{GPU:et}=o("./gpu"),{alias:ot}=o("./alias"),{utils:at}=o("./utils"),{Input:nt,input:it}=o("./input"),{Texture:j}=o("./texture"),{FunctionBuilder:_}=o("./backend/function-builder"),{FunctionNode:$}=o("./backend/function-node"),{CPUFunctionNode:tt}=o("./backend/cpu/function-node"),{CPUKernel:st}=o("./backend/cpu/kernel"),{HeadlessGLKernel:lt}=o("./backend/headless-gl/kernel"),{WebGLFunctionNode:ct}=o("./backend/web-gl/function-node"),{WebGLKernel:ht}=o("./backend/web-gl/kernel"),{kernelValueMaps:ut}=o("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:pt}=o("./backend/web-gl2/function-node"),{WebGL2Kernel:mt}=o("./backend/web-gl2/kernel"),{kernelValueMaps:vt}=o("./backend/web-gl2/kernel-value-maps"),{GLKernel:dt}=o("./backend/gl/kernel"),{Kernel:St}=o("./backend/kernel"),{FunctionTracer:yt}=o("./backend/function-tracer"),gt=o("./plugins/math-random-uniformly-distributed");a.exports={alias:ot,CPUFunctionNode:tt,CPUKernel:st,GPU:et,FunctionBuilder:_,FunctionNode:$,HeadlessGLKernel:lt,Input:nt,input:it,Texture:j,utils:at,WebGL2FunctionNode:pt,WebGL2Kernel:mt,webGL2KernelValueMaps:vt,WebGLFunctionNode:ct,WebGLKernel:ht,webGLKernelValueMaps:ut,GLKernel:dt,Kernel:St,FunctionTracer:yt,plugins:{mathRandom:gt}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(o,a,rt){class et{constructor(nt,it){this.value=nt,Array.isArray(it)?this.size=it:(this.size=new Int32Array(3),it.z?this.size=new Int32Array([it.x,it.y,it.z]):it.y?this.size=new Int32Array([it.x,it.y]):this.size=new Int32Array([it.x]));const[j,_,$]=this.size;if($){if(this.value.length!==j*_*$)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} * ${$} = ${_*j*$}`)}else if(_){if(this.value.length!==j*_)throw new Error(`Input size ${this.value.length} does not match ${j} * ${_} = ${_*j}`)}else if(this.value.length!==j)throw new Error(`Input size ${this.value.length} does not match ${j}`)}toArray(){const{utils:nt}=o("./utils"),[it,j,_]=this.size;return _?nt.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j,_):j?nt.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),it,j):this.value}}function ot(at,nt){return new et(at,nt)}a.exports={Input:et,input:ot}},{"./utils":114}],111:[function(o,a,rt){const{utils:et}=o("./utils");function ot(nt){let it=function(){return nt.build.apply(nt,arguments),it=function(){let _=nt.run.apply(nt,arguments);if(nt.switchingKernels){const $=nt.resetSwitchingKernels(),tt=nt.onRequestSwitchKernel($,arguments,nt);j.kernel=nt=tt,_=tt.run.apply(tt,arguments)}return nt.renderKernels?nt.renderKernels():nt.renderOutput?nt.renderOutput():_},it.apply(nt,arguments)};const j=function(){return it.apply(nt,arguments)};return j.exec=function(){return new Promise((_,$)=>{try{_(it.apply(this,arguments))}catch(tt){$(tt)}})},j.replaceKernel=function(_){nt=_,at(nt,j)},at(nt,j),j}function at(nt,it){if(it.kernel){it.kernel=nt;return}const j=et.allPropertiesOf(nt);for(let _=0;_<j.length;_++){const $=j[_];$[0]==="_"&&$[1]==="_"||(typeof nt[$]=="function"?$.substring(0,3)==="add"||$.substring(0,3)==="set"?it[$]=function(){return it.kernel[$].apply(it.kernel,arguments),it}:it[$]=function(){return it.kernel[$].apply(it.kernel,arguments)}:(it.__defineGetter__($,()=>it.kernel[$]),it.__defineSetter__($,tt=>{it.kernel[$]=tt})))}it.kernel=nt}a.exports={kernelRunShortcut:ot}},{"./utils":114}],112:[function(o,a,rt){const _={name:"math-random-uniformly-distributed",onBeforeRun:$=>{$.setUniform1f("randomSeed1",Math.random()),$.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};a.exports=_},{}],113:[function(o,a,rt){class et{constructor(at){const{texture:nt,size:it,dimensions:j,output:_,context:$,type:tt="NumberTexture",kernel:st,internalFormat:lt,textureFormat:ct}=at;if(!_)throw new Error('settings property "output" required.');if(!$)throw new Error('settings property "context" required.');if(!nt)throw new Error('settings property "texture" required.');if(!st)throw new Error('settings property "kernel" required.');this.texture=nt,nt._refs?nt._refs++:nt._refs=1,this.size=it,this.dimensions=j,this.output=_,this.context=$,this.kernel=st,this.type=tt,this._deleted=!1,this.internalFormat=lt,this.textureFormat=ct}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}a.exports={Texture:et}},{}],114:[function(o,a,rt){const et=o("acorn"),{Input:ot}=o("./input"),{Texture:at}=o("./texture"),nt=/function ([^(]*)/,it=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,j=/([^\s,]+)/g,_={systemEndianness(){return lt},getSystemEndianness(){const ct=new ArrayBuffer(4),ht=new Uint32Array(ct),ut=new Uint8Array(ct);if(ht[0]=3735928559,ut[0]===239)return"LE";if(ut[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(ct){return typeof ct=="function"},isFunctionString(ct){return typeof ct=="string"?ct.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(ct){const ht=nt.exec(ct);return!ht||ht.length===0?null:ht[1].trim()},getFunctionBodyFromString(ct){return ct.substring(ct.indexOf("{")+1,ct.lastIndexOf("}"))},getArgumentNamesFromString(ct){const ht=ct.replace(it,"");let ut=ht.slice(ht.indexOf("(")+1,ht.indexOf(")")).match(j);return ut===null&&(ut=[]),ut},clone(ct){if(ct===null||typeof ct!="object"||ct.hasOwnProperty("isActiveClone"))return ct;const ht=ct.constructor();for(let ut in ct)Object.prototype.hasOwnProperty.call(ct,ut)&&(ct.isActiveClone=null,ht[ut]=_.clone(ct[ut]),delete ct.isActiveClone);return ht},isArray(ct){return!isNaN(ct.length)},getVariableType(ct,ht){if(_.isArray(ct))return ct.length>0&&ct[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(ct.constructor){case Boolean:return"Boolean";case Number:return ht&&Number.isInteger(ct)?"Integer":"Float";case at:return ct.type;case ot:return"Input"}if("nodeName"in ct)switch(ct.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(ct.hasOwnProperty("type"))return ct.type;if(typeof OffscreenCanvas<"u"&&ct instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&ct instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&ct instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(ct,ht){let[ut,pt,mt]=ht,vt=(ut||1)*(pt||1)*(mt||1);return ct.optimizeFloatMemory&&ct.precision==="single"&&(ut=vt=Math.ceil(vt/4)),pt>1&&ut*pt===vt?new Int32Array([ut,pt]):_.closestSquareDimensions(vt)},closestSquareDimensions(ct){const ht=Math.sqrt(ct);let ut=Math.ceil(ht),pt=Math.floor(ht);for(;ut*pt<ct;)ut--,pt=Math.ceil(ct/ut);return new Int32Array([pt,Math.ceil(ct/pt)])},getMemoryOptimizedFloatTextureSize(ct,ht){const pt=_.roundTo((ct[0]||1)*(ct[1]||1)*(ct[2]||1)*(ct[3]||1),4)/ht;return _.closestSquareDimensions(pt)},getMemoryOptimizedPackedTextureSize(ct,ht){const[ut,pt,mt]=ct,dt=_.roundTo((ut||1)*(pt||1)*(mt||1),4)/(4/ht);return _.closestSquareDimensions(dt)},roundTo(ct,ht){return Math.floor((ct+ht-1)/ht)*ht},getDimensions(ct,ht){let ut;if(_.isArray(ct)){const pt=[];let mt=ct;for(;_.isArray(mt);)pt.push(mt.length),mt=mt[0];ut=pt.reverse()}else if(ct instanceof at)ut=ct.output;else if(ct instanceof ot)ut=ct.size;else throw new Error(`Unknown dimensions of ${ct}`);if(ht)for(ut=Array.from(ut);ut.length<3;)ut.push(1);return new Int32Array(ut)},flatten2dArrayTo(ct,ht){let ut=0;for(let pt=0;pt<ct.length;pt++)ht.set(ct[pt],ut),ut+=ct[pt].length},flatten3dArrayTo(ct,ht){let ut=0;for(let pt=0;pt<ct.length;pt++)for(let mt=0;mt<ct[pt].length;mt++)ht.set(ct[pt][mt],ut),ut+=ct[pt][mt].length},flatten4dArrayTo(ct,ht){let ut=0;for(let pt=0;pt<ct.length;pt++)for(let mt=0;mt<ct[pt].length;mt++)for(let vt=0;vt<ct[pt][mt].length;vt++)ht.set(ct[pt][mt][vt],ut),ut+=ct[pt][mt][vt].length},flattenTo(ct,ht){_.isArray(ct[0])?_.isArray(ct[0][0])?_.isArray(ct[0][0][0])?_.flatten4dArrayTo(ct,ht):_.flatten3dArrayTo(ct,ht):_.flatten2dArrayTo(ct,ht):ht.set(ct)},splitArray(ct,ht){const ut=[];for(let pt=0;pt<ct.length;pt+=ht)ut.push(new ct.constructor(ct.buffer,pt*4+ct.byteOffset,ht));return ut},getAstString(ct,ht){const ut=Array.isArray(ct)?ct:ct.split(/\r?\n/g),pt=ht.loc.start,mt=ht.loc.end,vt=[];if(pt.line===mt.line)vt.push(ut[pt.line-1].substring(pt.column,mt.column));else{vt.push(ut[pt.line-1].slice(pt.column));for(let dt=pt.line;dt<mt.line;dt++)vt.push(ut[dt]);vt.push(ut[mt.line-1].slice(0,mt.column))}return vt.join(`
`)},allPropertiesOf(ct){const ht=[];do ht.push.apply(ht,Object.getOwnPropertyNames(ct));while(ct=Object.getPrototypeOf(ct));return ht},linesToString(ct){return ct.length>0?ct.join(`;
`)+`;
`:`
`},warnDeprecated(ct,ht,ut){console.warn(ut?`You are using a deprecated ${ct} "${ht}". It has been replaced with "${ut}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${ct} "${ht}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(ct,ht,ut)=>{const pt=ut/2|0,mt=ht*4,vt=new Uint8ClampedArray(ht*4),dt=ct.slice(0);for(let St=0;St<pt;++St){const yt=St*mt,gt=(ut-St-1)*mt;vt.set(dt.subarray(yt,yt+mt)),dt.copyWithin(yt,gt,gt+mt),dt.set(vt,gt)}return dt},erectPackedFloat:(ct,ht)=>ct.subarray(0,ht),erect2DPackedFloat:(ct,ht,ut)=>{const pt=new Array(ut);for(let mt=0;mt<ut;mt++){const vt=mt*ht,dt=vt+ht;pt[mt]=ct.subarray(vt,dt)}return pt},erect3DPackedFloat:(ct,ht,ut,pt)=>{const mt=new Array(pt);for(let vt=0;vt<pt;vt++){const dt=new Array(ut);for(let St=0;St<ut;St++){const yt=vt*ut*ht+St*ht,gt=yt+ht;dt[St]=ct.subarray(yt,gt)}mt[vt]=dt}return mt},erectMemoryOptimizedFloat:(ct,ht)=>ct.subarray(0,ht),erectMemoryOptimized2DFloat:(ct,ht,ut)=>{const pt=new Array(ut);for(let mt=0;mt<ut;mt++){const vt=mt*ht;pt[mt]=ct.subarray(vt,vt+ht)}return pt},erectMemoryOptimized3DFloat:(ct,ht,ut,pt)=>{const mt=new Array(pt);for(let vt=0;vt<pt;vt++){const dt=new Array(ut);for(let St=0;St<ut;St++){const yt=vt*ut*ht+St*ht;dt[St]=ct.subarray(yt,yt+ht)}mt[vt]=dt}return mt},erectFloat:(ct,ht)=>{const ut=new Float32Array(ht);let pt=0;for(let mt=0;mt<ht;mt++)ut[mt]=ct[pt],pt+=4;return ut},erect2DFloat:(ct,ht,ut)=>{const pt=new Array(ut);let mt=0;for(let vt=0;vt<ut;vt++){const dt=new Float32Array(ht);for(let St=0;St<ht;St++)dt[St]=ct[mt],mt+=4;pt[vt]=dt}return pt},erect3DFloat:(ct,ht,ut,pt)=>{const mt=new Array(pt);let vt=0;for(let dt=0;dt<pt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const gt=new Float32Array(ht);for(let Et=0;Et<ht;Et++)gt[Et]=ct[vt],vt+=4;St[yt]=gt}mt[dt]=St}return mt},erectArray2:(ct,ht)=>{const ut=new Array(ht),pt=ht*4;let mt=0;for(let vt=0;vt<pt;vt+=4)ut[mt++]=ct.subarray(vt,vt+2);return ut},erect2DArray2:(ct,ht,ut)=>{const pt=new Array(ut),mt=ht*4;for(let vt=0;vt<ut;vt++){const dt=new Array(ht),St=vt*mt;let yt=0;for(let gt=0;gt<mt;gt+=4)dt[yt++]=ct.subarray(gt+St,gt+St+2);pt[vt]=dt}return pt},erect3DArray2:(ct,ht,ut,pt)=>{const mt=ht*4,vt=new Array(pt);for(let dt=0;dt<pt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const gt=new Array(ht),Et=dt*mt*ut+yt*mt;let _t=0;for(let kt=0;kt<mt;kt+=4)gt[_t++]=ct.subarray(kt+Et,kt+Et+2);St[yt]=gt}vt[dt]=St}return vt},erectArray3:(ct,ht)=>{const ut=new Array(ht),pt=ht*4;let mt=0;for(let vt=0;vt<pt;vt+=4)ut[mt++]=ct.subarray(vt,vt+3);return ut},erect2DArray3:(ct,ht,ut)=>{const pt=ht*4,mt=new Array(ut);for(let vt=0;vt<ut;vt++){const dt=new Array(ht),St=vt*pt;let yt=0;for(let gt=0;gt<pt;gt+=4)dt[yt++]=ct.subarray(gt+St,gt+St+3);mt[vt]=dt}return mt},erect3DArray3:(ct,ht,ut,pt)=>{const mt=ht*4,vt=new Array(pt);for(let dt=0;dt<pt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const gt=new Array(ht),Et=dt*mt*ut+yt*mt;let _t=0;for(let kt=0;kt<mt;kt+=4)gt[_t++]=ct.subarray(kt+Et,kt+Et+3);St[yt]=gt}vt[dt]=St}return vt},erectArray4:(ct,ht)=>{const ut=new Array(ct),pt=ht*4;let mt=0;for(let vt=0;vt<pt;vt+=4)ut[mt++]=ct.subarray(vt,vt+4);return ut},erect2DArray4:(ct,ht,ut)=>{const pt=ht*4,mt=new Array(ut);for(let vt=0;vt<ut;vt++){const dt=new Array(ht),St=vt*pt;let yt=0;for(let gt=0;gt<pt;gt+=4)dt[yt++]=ct.subarray(gt+St,gt+St+4);mt[vt]=dt}return mt},erect3DArray4:(ct,ht,ut,pt)=>{const mt=ht*4,vt=new Array(pt);for(let dt=0;dt<pt;dt++){const St=new Array(ut);for(let yt=0;yt<ut;yt++){const gt=new Array(ht),Et=dt*mt*ut+yt*mt;let _t=0;for(let kt=0;kt<mt;kt+=4)gt[_t++]=ct.subarray(kt+Et,kt+Et+4);St[yt]=gt}vt[dt]=St}return vt},flattenFunctionToString:(ct,ht)=>{const{findDependency:ut,thisLookup:pt,doNotDefine:mt}=ht;let vt=ht.flattened;vt||(vt=ht.flattened={});const dt=et.parse(ct),St=[];let yt=0;function gt(_t){if(Array.isArray(_t)){const kt=[];for(let Ct=0;Ct<_t.length;Ct++)kt.push(gt(_t[Ct]));return kt.join("")}switch(_t.type){case"Program":return gt(_t.body)+(_t.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${_t.id.name}(${_t.params.map(gt).join(", ")}) ${gt(_t.body)}`;case"BlockStatement":{const Ct=[];yt+=2;for(let Tt=0;Tt<_t.body.length;Tt++){const At=gt(_t.body[Tt]);At&&Ct.push(" ".repeat(yt)+At,`;
`)}return yt-=2,`{
${Ct.join("")}}`}case"VariableDeclaration":const kt=_.normalizeDeclarations(_t).map(gt).filter(Ct=>Ct!==null);return kt.length<1?"":`${_t.kind} ${kt.join(",")}`;case"VariableDeclarator":return _t.init.object&&_t.init.object.type==="ThisExpression"?pt(_t.init.property.name,!0)?`${_t.id.name} = ${gt(_t.init)}`:null:`${_t.id.name} = ${gt(_t.init)}`;case"CallExpression":{if(_t.callee.property.name==="subarray")return`${gt(_t.callee.object)}.${gt(_t.callee.property)}(${_t.arguments.map(Ct=>gt(Ct)).join(", ")})`;if(_t.callee.object.name==="gl"||_t.callee.object.name==="context")return`${gt(_t.callee.object)}.${gt(_t.callee.property)}(${_t.arguments.map(Ct=>gt(Ct)).join(", ")})`;if(_t.callee.object.type==="ThisExpression")return St.push(ut("this",_t.callee.property.name)),`${_t.callee.property.name}(${_t.arguments.map(Ct=>gt(Ct)).join(", ")})`;if(_t.callee.object.name){const Ct=ut(_t.callee.object.name,_t.callee.property.name);return Ct===null?`${_t.callee.object.name}.${_t.callee.property.name}(${_t.arguments.map(Tt=>gt(Tt)).join(", ")})`:(St.push(Ct),`${_t.callee.property.name}(${_t.arguments.map(Tt=>gt(Tt)).join(", ")})`)}else{if(_t.callee.object.type==="MemberExpression")return`${gt(_t.callee.object)}.${_t.callee.property.name}(${_t.arguments.map(Ct=>gt(Ct)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${gt(_t.argument)}`;case"BinaryExpression":return`(${gt(_t.left)}${_t.operator}${gt(_t.right)})`;case"UnaryExpression":return _t.prefix?`${_t.operator} ${gt(_t.argument)}`:`${gt(_t.argument)} ${_t.operator}`;case"ExpressionStatement":return`${gt(_t.expression)}`;case"SequenceExpression":return`(${gt(_t.expressions)})`;case"ArrowFunctionExpression":return`(${_t.params.map(gt).join(", ")}) => ${gt(_t.body)}`;case"Literal":return _t.raw;case"Identifier":return _t.name;case"MemberExpression":return _t.object.type==="ThisExpression"?pt(_t.property.name):_t.computed?`${gt(_t.object)}[${gt(_t.property)}]`:gt(_t.object)+"."+gt(_t.property);case"ThisExpression":return"this";case"NewExpression":return`new ${gt(_t.callee)}(${_t.arguments.map(Ct=>gt(Ct)).join(", ")})`;case"ForStatement":return`for (${gt(_t.init)};${gt(_t.test)};${gt(_t.update)}) ${gt(_t.body)}`;case"AssignmentExpression":return`${gt(_t.left)}${_t.operator}${gt(_t.right)}`;case"UpdateExpression":return`${gt(_t.argument)}${_t.operator}`;case"IfStatement":return`if (${gt(_t.test)}) ${gt(_t.consequent)}`;case"ThrowStatement":return`throw ${gt(_t.argument)}`;case"ObjectPattern":return _t.properties.map(gt).join(", ");case"ArrayPattern":return _t.elements.map(gt).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${gt(_t.test)}?${gt(_t.consequent)}:${gt(_t.alternate)}`;case"Property":if(_t.kind==="init")return gt(_t.key)}throw new Error(`unhandled ast.type of ${_t.type}`)}const Et=gt(dt);if(St.length>0){const _t=[];for(let kt=0;kt<St.length;kt++){const Ct=St[kt];vt[Ct]||(vt[Ct]=!0),Ct&&_t.push(_.flattenFunctionToString(Ct,ht)+`
`)}return _t.join("")+Et}return Et},normalizeDeclarations:ct=>{if(ct.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const ht=[];for(let ut=0;ut<ct.declarations.length;ut++){const pt=ct.declarations[ut];if(pt.id&&pt.id.type==="ObjectPattern"&&pt.id.properties){const{properties:mt}=pt.id;for(let vt=0;vt<mt.length;vt++){const dt=mt[vt];if(dt.value.type==="ObjectPattern"&&dt.value.properties)for(let St=0;St<dt.value.properties.length;St++){const yt=dt.value.properties[St];if(yt.type==="Property")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:yt.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:pt.init,property:{type:"Identifier",name:dt.key.name},computed:!1},property:{type:"Identifier",name:yt.key.name},computed:!1}});else throw new Error("unexpected state")}else if(dt.value.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:dt.value&&dt.value.name?dt.value.name:dt.key.name},init:{type:"MemberExpression",object:pt.init,property:{type:"Identifier",name:dt.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(pt.id&&pt.id.type==="ArrayPattern"&&pt.id.elements){const{elements:mt}=pt.id;for(let vt=0;vt<mt.length;vt++){const dt=mt[vt];if(dt.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:dt.name},init:{type:"MemberExpression",object:pt.init,property:{type:"Literal",value:vt,raw:vt.toString(),start:dt.start,end:dt.end},computed:!0}});else throw new Error("unexpected state")}}else ht.push(pt)}return ht},splitHTMLImageToRGB:(ct,ht)=>{const ut=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].r*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),pt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].g*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),mt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].b*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),vt=ct.createKernel(function(St){return St[this.thread.y][this.thread.x].a*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),dt=[ut(ht),pt(ht),mt(ht),vt(ht)];return dt.rKernel=ut,dt.gKernel=pt,dt.bKernel=mt,dt.aKernel=vt,dt.gpu=ct,dt},splitRGBAToCanvases:(ct,ht,ut,pt)=>{const mt=ct.createKernel(function(yt){const gt=yt[this.thread.y][this.thread.x];this.color(gt.r/255,0,0,255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});mt(ht);const vt=ct.createKernel(function(yt){const gt=yt[this.thread.y][this.thread.x];this.color(0,gt.g/255,0,255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});vt(ht);const dt=ct.createKernel(function(yt){const gt=yt[this.thread.y][this.thread.x];this.color(0,0,gt.b/255,255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});dt(ht);const St=ct.createKernel(function(yt){const gt=yt[this.thread.y][this.thread.x];this.color(255,255,255,gt.a/255)},{output:[ut,pt],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return St(ht),[mt.canvas,vt.canvas,dt.canvas,St.canvas]},getMinifySafeName:ct=>{try{const ht=et.parse(`const value = ${ct.toString()}`),{init:ut}=ht.body[0].declarations[0];return ut.body.name||ut.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(ct){return $.test(ct)&&(ct=ct.replace($,"S_S")),tt.test(ct)?ct=ct.replace(tt,"U_U"):st.test(ct)&&(ct=ct.replace(st,"u_u")),ct}},$=/\$/,tt=/__/,st=/_/,lt=_.getSystemEndianness();a.exports={utils:_}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser);var gpuBrowserExports=gpuBrowser.exports,rttc={},runtimeSourceError={};Object.defineProperty(runtimeSourceError,"__esModule",{value:!0});runtimeSourceError.RuntimeSourceError=void 0;const constants_1$1=constants,types_1$l=types;class RuntimeSourceError{constructor(s){this.type=types_1$l.ErrorType.RUNTIME,this.severity=types_1$l.ErrorSeverity.ERROR,this.location=s?s.loc:constants_1$1.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}runtimeSourceError.RuntimeSourceError=RuntimeSourceError;Object.defineProperty(rttc,"__esModule",{value:!0});rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const runtimeSourceError_1$1=runtimeSourceError,types_1$k=types,LHS=" on left hand side of operation",RHS=" on right hand side of operation";let TypeError$1=class extends runtimeSourceError_1$1.RuntimeSourceError{constructor(s,o,a,rt,et=types_1$k.Chapter.SOURCE_4){super(s),this.side=o,this.expected=a,this.got=rt,this.chapter=et,this.type=types_1$k.ErrorType.RUNTIME,this.severity=types_1$k.ErrorSeverity.ERROR}explain(){const s=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${s}.`}elaborate(){return this.explain()}};rttc.TypeError=TypeError$1;const typeOf=i=>i===null?"null":Array.isArray(i)?"array":typeof i,isNumber=i=>typeOf(i)==="number",isArrayIndex=i=>isNumber(i)&&i>>>0===i&&i<2**32-1,isString=i=>typeOf(i)==="string",isBool=i=>typeOf(i)==="boolean",isObject=i=>typeOf(i)==="object",isArray=i=>typeOf(i)==="array",checkUnaryExpression=(i,s,o,a=types_1$k.Chapter.SOURCE_4)=>(s==="+"||s==="-")&&!isNumber(o)?new TypeError$1(i,"","number",typeOf(o),a):s==="!"&&!isBool(o)?new TypeError$1(i,"","boolean",typeOf(o),a):void 0;rttc.checkUnaryExpression=checkUnaryExpression;const checkBinaryExpression=(i,s,o,a,rt)=>{switch(s){case"-":case"*":case"/":case"%":return isNumber(a)?isNumber(rt)?void 0:new TypeError$1(i,RHS,"number",typeOf(rt),o):new TypeError$1(i,LHS,"number",typeOf(a),o);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return o>2&&(s==="==="||s==="!==")?void 0:isNumber(a)?isNumber(rt)?void 0:new TypeError$1(i,RHS,"number",typeOf(rt),o):isString(a)?isString(rt)?void 0:new TypeError$1(i,RHS,"string",typeOf(rt),o):new TypeError$1(i,LHS,"string or number",typeOf(a),o);default:return}};rttc.checkBinaryExpression=checkBinaryExpression;const checkIfStatement=(i,s,o=types_1$k.Chapter.SOURCE_4)=>isBool(s)?void 0:new TypeError$1(i," as condition","boolean",typeOf(s),o);rttc.checkIfStatement=checkIfStatement;const checkMemberAccess=(i,s,o)=>isObject(s)?isString(o)?void 0:new TypeError$1(i," as prop","string",typeOf(o)):isArray(s)?isArrayIndex(o)?void 0:isNumber(o)?new TypeError$1(i," as prop","array index","other number"):new TypeError$1(i," as prop","array index",typeOf(o)):new TypeError$1(i,"","object or array",typeOf(s));rttc.checkMemberAccess=checkMemberAccess;const isIdentifier=i=>i.name!==void 0;rttc.isIdentifier=isIdentifier;var transfomer={},astCreator={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.whileStatement=i.ifStatement=i.variableDeclarator=i.variableDeclaration=i.arrowFunctionExpression=i.blockExpression=i.functionDeclaration=i.functionDeclarationExpression=i.primitive=i.unaryExpression=i.binaryExpression=i.assignmentExpression=i.arrayExpression=i.conditionalExpression=i.mutateToConditionalExpression=i.logicalExpression=i.mutateToMemberExpression=i.mutateToReturnStatement=i.mutateToExpressionStatement=i.mutateToAssignmentExpression=i.mutateToCallExpression=i.objectExpression=i.property=i.returnStatement=i.program=i.blockStatement=i.functionExpression=i.blockArrowFunction=i.expressionStatement=i.callExpression=i.constantDeclaration=i.declaration=i.memberExpression=i.literal=i.identifier=i.locationDummyNode=i.getVariableDecarationName=void 0;const s=Wt=>Wt.declarations[0].id.name;i.getVariableDecarationName=s;const o=(Wt,zt)=>(0,i.literal)("Dummy",{start:{line:Wt,column:zt},end:{line:Wt,column:zt}});i.locationDummyNode=o;const a=(Wt,zt)=>({type:"Identifier",name:Wt,loc:zt});i.identifier=a;const rt=(Wt,zt)=>({type:"Literal",value:Wt,loc:zt});i.literal=rt;const et=(Wt,zt)=>({type:"MemberExpression",object:Wt,computed:typeof zt=="number",optional:!1,property:typeof zt=="number"?(0,i.literal)(zt):(0,i.identifier)(zt)});i.memberExpression=et;const ot=(Wt,zt,Ht,Zt)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,i.identifier)(Wt),init:Ht}],kind:zt,loc:Zt});i.declaration=ot;const at=(Wt,zt,Ht)=>(0,i.declaration)(Wt,"const",zt,Ht);i.constantDeclaration=at;const nt=(Wt,zt,Ht)=>({type:"CallExpression",callee:Wt,arguments:zt,optional:!1,loc:Ht});i.callExpression=nt;const it=Wt=>({type:"ExpressionStatement",expression:Wt});i.expressionStatement=it;const j=(Wt,zt,Ht)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:Wt,body:Array.isArray(zt)?(0,i.blockStatement)(zt):zt,loc:Ht});i.blockArrowFunction=j;const _=(Wt,zt,Ht)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:Wt,body:Array.isArray(zt)?(0,i.blockStatement)(zt):zt,loc:Ht});i.functionExpression=_;const $=Wt=>({type:"BlockStatement",body:Wt});i.blockStatement=$;const tt=Wt=>({type:"Program",sourceType:"module",body:Wt});i.program=tt;const st=(Wt,zt)=>({type:"ReturnStatement",argument:Wt,loc:zt});i.returnStatement=st;const lt=(Wt,zt)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,i.identifier)(Wt),value:zt,kind:"init"});i.property=lt;const ct=Wt=>({type:"ObjectExpression",properties:Wt});i.objectExpression=ct;const ht=(Wt,zt,Ht)=>{Wt.type="CallExpression",Wt=Wt,Wt.callee=zt,Wt.arguments=Ht};i.mutateToCallExpression=ht;const ut=(Wt,zt,Ht)=>{Wt.type="AssignmentExpression",Wt=Wt,Wt.operator="=",Wt.left=zt,Wt.right=Ht};i.mutateToAssignmentExpression=ut;const pt=(Wt,zt)=>{Wt.type="ExpressionStatement",Wt=Wt,Wt.expression=zt};i.mutateToExpressionStatement=pt;const mt=(Wt,zt)=>{Wt.type="ReturnStatement",Wt=Wt,Wt.argument=zt};i.mutateToReturnStatement=mt;const vt=(Wt,zt,Ht)=>{Wt.type="MemberExpression",Wt=Wt,Wt.object=zt,Wt.property=Ht,Wt.computed=!1};i.mutateToMemberExpression=vt;const dt=(Wt,zt,Ht,Zt)=>({type:"LogicalExpression",operator:Wt,left:zt,right:Ht,loc:Zt});i.logicalExpression=dt;const St=(Wt,zt,Ht,Zt)=>{Wt.type="ConditionalExpression",Wt=Wt,Wt.test=zt,Wt.consequent=Ht,Wt.alternate=Zt};i.mutateToConditionalExpression=St;const yt=(Wt,zt,Ht,Zt)=>({type:"ConditionalExpression",test:Wt,consequent:zt,alternate:Ht,loc:Zt});i.conditionalExpression=yt;const gt=Wt=>({type:"ArrayExpression",elements:Wt});i.arrayExpression=gt;const Et=(Wt,zt)=>({type:"AssignmentExpression",operator:"=",left:Wt,right:zt});i.assignmentExpression=Et;const _t=(Wt,zt,Ht,Zt)=>({type:"BinaryExpression",operator:Wt,left:zt,right:Ht,loc:Zt});i.binaryExpression=_t;const kt=(Wt,zt,Ht)=>({type:"UnaryExpression",operator:Wt,prefix:!0,argument:zt,loc:Ht});i.unaryExpression=kt;const Ct=Wt=>Wt===void 0?(0,i.identifier)("undefined"):(0,i.literal)(Wt);i.primitive=Ct;const Tt=(Wt,zt,Ht,Zt)=>({type:"FunctionExpression",id:Wt,params:zt,body:Ht,loc:Zt});i.functionDeclarationExpression=Tt;const At=(Wt,zt,Ht,Zt)=>({type:"FunctionDeclaration",id:Wt,params:zt,body:Ht,loc:Zt});i.functionDeclaration=At;const It=(Wt,zt)=>({type:"BlockExpression",body:Wt,loc:zt});i.blockExpression=It;const Ot=(Wt,zt,Ht)=>({type:"ArrowFunctionExpression",expression:zt.type!=="BlockStatement",generator:!1,params:Wt,body:zt,loc:Ht});i.arrowFunctionExpression=Ot;const Mt=(Wt,zt)=>({type:"VariableDeclaration",kind:"const",declarations:Wt,loc:zt});i.variableDeclaration=Mt;const Dt=(Wt,zt,Ht)=>({type:"VariableDeclarator",id:Wt,init:zt,loc:Ht});i.variableDeclarator=Dt;const Bt=(Wt,zt,Ht,Zt)=>({type:"IfStatement",test:Wt,consequent:zt,alternate:Ht,loc:Zt});i.ifStatement=Bt;const Kt=(Wt,zt,Ht)=>({type:"WhileStatement",test:zt,body:Wt,loc:Ht});i.whileStatement=Kt})(astCreator);var walkers$1={},walk={exports:{}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){function a(ut,pt,mt,vt,dt){mt||(mt=ht),function St(yt,gt,Et){var _t=Et||yt.type;mt[_t](yt,gt,St),pt[_t]&&pt[_t](yt,gt)}(ut,vt,dt)}function rt(ut,pt,mt,vt,dt){var St=[];mt||(mt=ht),function yt(gt,Et,_t){var kt=_t||gt.type,Ct=gt!==St[St.length-1];Ct&&St.push(gt),mt[kt](gt,Et,yt),pt[kt]&&pt[kt](gt,Et||St,St),Ct&&St.pop()}(ut,vt,dt)}function et(ut,pt,mt,vt,dt){var St=mt?st(mt,vt||void 0):vt;(function yt(gt,Et,_t){St[_t||gt.type](gt,Et,yt)})(ut,pt,dt)}function ot(ut){return typeof ut=="string"?function(pt){return pt===ut}:ut||function(){return!0}}var at=function(pt,mt){this.node=pt,this.state=mt};function nt(ut,pt,mt,vt,dt){mt||(mt=ht);var St;(function yt(gt,Et,_t){var kt=_t||gt.type;mt[kt](gt,Et,yt),St!==gt&&(pt(gt,Et,kt),St=gt)})(ut,vt,dt)}function it(ut,pt,mt,vt){mt||(mt=ht);var dt=[],St;(function yt(gt,Et,_t){var kt=_t||gt.type,Ct=gt!==dt[dt.length-1];Ct&&dt.push(gt),mt[kt](gt,Et,yt),St!==gt&&(pt(gt,Et||dt,dt,kt),St=gt),Ct&&dt.pop()})(ut,vt)}function j(ut,pt,mt,vt,dt,St){dt||(dt=ht),vt=ot(vt);try{(function yt(gt,Et,_t){var kt=_t||gt.type;if((pt==null||gt.start<=pt)&&(mt==null||gt.end>=mt)&&dt[kt](gt,Et,yt),(pt==null||gt.start===pt)&&(mt==null||gt.end===mt)&&vt(kt,gt))throw new at(gt,Et)})(ut,St)}catch(yt){if(yt instanceof at)return yt;throw yt}}function _(ut,pt,mt,vt,dt){mt=ot(mt),vt||(vt=ht);try{(function St(yt,gt,Et){var _t=Et||yt.type;if(!(yt.start>pt||yt.end<pt)&&(vt[_t](yt,gt,St),mt(_t,yt)))throw new at(yt,gt)})(ut,dt)}catch(St){if(St instanceof at)return St;throw St}}function $(ut,pt,mt,vt,dt){mt=ot(mt),vt||(vt=ht);try{(function St(yt,gt,Et){if(!(yt.end<pt)){var _t=Et||yt.type;if(yt.start>=pt&&mt(_t,yt))throw new at(yt,gt);vt[_t](yt,gt,St)}})(ut,dt)}catch(St){if(St instanceof at)return St;throw St}}function tt(ut,pt,mt,vt,dt){mt=ot(mt),vt||(vt=ht);var St;return function yt(gt,Et,_t){if(!(gt.start>pt)){var kt=_t||gt.type;gt.end<=pt&&(!St||St.node.end<gt.end)&&mt(kt,gt)&&(St=new at(gt,Et)),vt[kt](gt,Et,yt)}}(ut,dt),St}function st(ut,pt){var mt=Object.create(pt||ht);for(var vt in ut)mt[vt]=ut[vt];return mt}function lt(ut,pt,mt){mt(ut,pt)}function ct(ut,pt,mt){}var ht={};ht.Program=ht.BlockStatement=ht.StaticBlock=function(ut,pt,mt){for(var vt=0,dt=ut.body;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt,"Statement")}},ht.Statement=lt,ht.EmptyStatement=ct,ht.ExpressionStatement=ht.ParenthesizedExpression=ht.ChainExpression=function(ut,pt,mt){return mt(ut.expression,pt,"Expression")},ht.IfStatement=function(ut,pt,mt){mt(ut.test,pt,"Expression"),mt(ut.consequent,pt,"Statement"),ut.alternate&&mt(ut.alternate,pt,"Statement")},ht.LabeledStatement=function(ut,pt,mt){return mt(ut.body,pt,"Statement")},ht.BreakStatement=ht.ContinueStatement=ct,ht.WithStatement=function(ut,pt,mt){mt(ut.object,pt,"Expression"),mt(ut.body,pt,"Statement")},ht.SwitchStatement=function(ut,pt,mt){mt(ut.discriminant,pt,"Expression");for(var vt=0,dt=ut.cases;vt<dt.length;vt+=1){var St=dt[vt];St.test&&mt(St.test,pt,"Expression");for(var yt=0,gt=St.consequent;yt<gt.length;yt+=1){var Et=gt[yt];mt(Et,pt,"Statement")}}},ht.SwitchCase=function(ut,pt,mt){ut.test&&mt(ut.test,pt,"Expression");for(var vt=0,dt=ut.consequent;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt,"Statement")}},ht.ReturnStatement=ht.YieldExpression=ht.AwaitExpression=function(ut,pt,mt){ut.argument&&mt(ut.argument,pt,"Expression")},ht.ThrowStatement=ht.SpreadElement=function(ut,pt,mt){return mt(ut.argument,pt,"Expression")},ht.TryStatement=function(ut,pt,mt){mt(ut.block,pt,"Statement"),ut.handler&&mt(ut.handler,pt),ut.finalizer&&mt(ut.finalizer,pt,"Statement")},ht.CatchClause=function(ut,pt,mt){ut.param&&mt(ut.param,pt,"Pattern"),mt(ut.body,pt,"Statement")},ht.WhileStatement=ht.DoWhileStatement=function(ut,pt,mt){mt(ut.test,pt,"Expression"),mt(ut.body,pt,"Statement")},ht.ForStatement=function(ut,pt,mt){ut.init&&mt(ut.init,pt,"ForInit"),ut.test&&mt(ut.test,pt,"Expression"),ut.update&&mt(ut.update,pt,"Expression"),mt(ut.body,pt,"Statement")},ht.ForInStatement=ht.ForOfStatement=function(ut,pt,mt){mt(ut.left,pt,"ForInit"),mt(ut.right,pt,"Expression"),mt(ut.body,pt,"Statement")},ht.ForInit=function(ut,pt,mt){ut.type==="VariableDeclaration"?mt(ut,pt):mt(ut,pt,"Expression")},ht.DebuggerStatement=ct,ht.FunctionDeclaration=function(ut,pt,mt){return mt(ut,pt,"Function")},ht.VariableDeclaration=function(ut,pt,mt){for(var vt=0,dt=ut.declarations;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt)}},ht.VariableDeclarator=function(ut,pt,mt){mt(ut.id,pt,"Pattern"),ut.init&&mt(ut.init,pt,"Expression")},ht.Function=function(ut,pt,mt){ut.id&&mt(ut.id,pt,"Pattern");for(var vt=0,dt=ut.params;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt,"Pattern")}mt(ut.body,pt,ut.expression?"Expression":"Statement")},ht.Pattern=function(ut,pt,mt){ut.type==="Identifier"?mt(ut,pt,"VariablePattern"):ut.type==="MemberExpression"?mt(ut,pt,"MemberPattern"):mt(ut,pt)},ht.VariablePattern=ct,ht.MemberPattern=lt,ht.RestElement=function(ut,pt,mt){return mt(ut.argument,pt,"Pattern")},ht.ArrayPattern=function(ut,pt,mt){for(var vt=0,dt=ut.elements;vt<dt.length;vt+=1){var St=dt[vt];St&&mt(St,pt,"Pattern")}},ht.ObjectPattern=function(ut,pt,mt){for(var vt=0,dt=ut.properties;vt<dt.length;vt+=1){var St=dt[vt];St.type==="Property"?(St.computed&&mt(St.key,pt,"Expression"),mt(St.value,pt,"Pattern")):St.type==="RestElement"&&mt(St.argument,pt,"Pattern")}},ht.Expression=lt,ht.ThisExpression=ht.Super=ht.MetaProperty=ct,ht.ArrayExpression=function(ut,pt,mt){for(var vt=0,dt=ut.elements;vt<dt.length;vt+=1){var St=dt[vt];St&&mt(St,pt,"Expression")}},ht.ObjectExpression=function(ut,pt,mt){for(var vt=0,dt=ut.properties;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt)}},ht.FunctionExpression=ht.ArrowFunctionExpression=ht.FunctionDeclaration,ht.SequenceExpression=function(ut,pt,mt){for(var vt=0,dt=ut.expressions;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt,"Expression")}},ht.TemplateLiteral=function(ut,pt,mt){for(var vt=0,dt=ut.quasis;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt)}for(var yt=0,gt=ut.expressions;yt<gt.length;yt+=1){var Et=gt[yt];mt(Et,pt,"Expression")}},ht.TemplateElement=ct,ht.UnaryExpression=ht.UpdateExpression=function(ut,pt,mt){mt(ut.argument,pt,"Expression")},ht.BinaryExpression=ht.LogicalExpression=function(ut,pt,mt){mt(ut.left,pt,"Expression"),mt(ut.right,pt,"Expression")},ht.AssignmentExpression=ht.AssignmentPattern=function(ut,pt,mt){mt(ut.left,pt,"Pattern"),mt(ut.right,pt,"Expression")},ht.ConditionalExpression=function(ut,pt,mt){mt(ut.test,pt,"Expression"),mt(ut.consequent,pt,"Expression"),mt(ut.alternate,pt,"Expression")},ht.NewExpression=ht.CallExpression=function(ut,pt,mt){if(mt(ut.callee,pt,"Expression"),ut.arguments)for(var vt=0,dt=ut.arguments;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt,"Expression")}},ht.MemberExpression=function(ut,pt,mt){mt(ut.object,pt,"Expression"),ut.computed&&mt(ut.property,pt,"Expression")},ht.ExportNamedDeclaration=ht.ExportDefaultDeclaration=function(ut,pt,mt){ut.declaration&&mt(ut.declaration,pt,ut.type==="ExportNamedDeclaration"||ut.declaration.id?"Statement":"Expression"),ut.source&&mt(ut.source,pt,"Expression")},ht.ExportAllDeclaration=function(ut,pt,mt){ut.exported&&mt(ut.exported,pt),mt(ut.source,pt,"Expression")},ht.ImportDeclaration=function(ut,pt,mt){for(var vt=0,dt=ut.specifiers;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt)}mt(ut.source,pt,"Expression")},ht.ImportExpression=function(ut,pt,mt){mt(ut.source,pt,"Expression")},ht.ImportSpecifier=ht.ImportDefaultSpecifier=ht.ImportNamespaceSpecifier=ht.Identifier=ht.PrivateIdentifier=ht.Literal=ct,ht.TaggedTemplateExpression=function(ut,pt,mt){mt(ut.tag,pt,"Expression"),mt(ut.quasi,pt,"Expression")},ht.ClassDeclaration=ht.ClassExpression=function(ut,pt,mt){return mt(ut,pt,"Class")},ht.Class=function(ut,pt,mt){ut.id&&mt(ut.id,pt,"Pattern"),ut.superClass&&mt(ut.superClass,pt,"Expression"),mt(ut.body,pt)},ht.ClassBody=function(ut,pt,mt){for(var vt=0,dt=ut.body;vt<dt.length;vt+=1){var St=dt[vt];mt(St,pt)}},ht.MethodDefinition=ht.PropertyDefinition=ht.Property=function(ut,pt,mt){ut.computed&&mt(ut.key,pt,"Expression"),ut.value&&mt(ut.value,pt,"Expression")},o.ancestor=rt,o.base=ht,o.findNodeAfter=$,o.findNodeAround=_,o.findNodeAt=j,o.findNodeBefore=tt,o.full=nt,o.fullAncestor=it,o.make=st,o.recursive=et,o.simple=a})})(walk,walk.exports);var walkExports=walk.exports;Object.defineProperty(walkers$1,"__esModule",{value:!0});walkers$1.base=walkers$1.findNodeAfter=walkers$1.findNodeAround=walkers$1.findNodeAt=walkers$1.make=walkers$1.fullAncestor=walkers$1.full=walkers$1.recursive=walkers$1.ancestor=walkers$1.simple=void 0;const walkers=walkExports;walkers$1.simple=walkers.simple;walkers$1.ancestor=walkers.ancestor;walkers$1.recursive=walkers.recursive;walkers$1.full=walkers.full;walkers$1.fullAncestor=walkers.fullAncestor;walkers$1.make=walkers.make;walkers$1.findNodeAt=walkers.findNodeAt;walkers$1.findNodeAround=walkers.findNodeAround;walkers$1.findNodeAfter=walkers.findNodeAfter;walkers$1.base=walkers.base;var bodyVerifier={};Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const walkers_1$1=walkers$1;class GPUBodyVerifier{constructor(s,o,a){this.checkBody=rt=>{let et=!0;if((0,walkers_1$1.simple)(rt,{FunctionDeclaration(){et=!1},ArrowFunctionExpression(){et=!1},ReturnStatement(){et=!1},BreakStatement(){et=!1},ContinueStatement(){et=!1}}),!et)return;const ot=new RegExp(/^math_[a-z]+$/);if((0,walkers_1$1.simple)(rt,{CallExpression(tt){if(tt.callee.type!=="Identifier"){et=!1;return}const st=tt.callee.name;if(!ot.test(st)){et=!1;return}}}),!et)return;const at=new Set;(0,walkers_1$1.simple)(rt,{VariableDeclaration(tt){tt.declarations[0].id.type==="Identifier"&&at.add(tt.declarations[0].id.name)}}),this.localVar=at;const nt=[],it=this.getArrayName;if((0,walkers_1$1.simple)(rt,{AssignmentExpression(tt){if(!(tt.left.type==="Identifier"&&at.has(tt.left.name))){if(tt.left.type==="MemberExpression"){const st=it(tt.left);if(at.has(st.name))return}nt.push(tt)}}}),nt.length!==1||nt[0].left.type!=="MemberExpression")return;const j=this.getPropertyAccess(nt[0].left);if(j.length===0||j.length>this.counters.length)return;const _=this.getPropertyAccess,$=this.outputArray;if((0,walkers_1$1.simple)(rt,{MemberExpression(tt){if(it(tt).name!==$.name)return;const lt=_(tt);JSON.stringify(lt)!==JSON.stringify(j)&&(et=!1)}},(0,walkers_1$1.make)({MemberExpression:()=>{}})),!!et){for(let tt=0;tt<this.counters.length&&j[tt]===this.counters[tt];tt++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=rt=>{let et=rt;for(;et.type==="MemberExpression";)et=et.object;return et},this.getPropertyAccess=rt=>{const et=[];let ot=!0,at=rt;for(;at.type==="MemberExpression";){if(at.property.type!=="Identifier"){ot=!1;break}et.push(at.property.name),at=at.object}return ot?(this.outputArray=at,et.reverse()):[]},this.program=s,this.node=o,this.counters=a,this.state=0,this.checkBody(o)}}bodyVerifier.default=GPUBodyVerifier;var loopVerifier={};Object.defineProperty(loopVerifier,"__esModule",{value:!0});class GPULoopVerifier{constructor(s){this.forLoopTransform=o=>{!o.init||!o.update||!o.test||(this.ok=this.hasCounter(o.init)&&this.hasCondition(o.test)&&this.hasUpdate(o.update))},this.hasCounter=o=>{if(!o||o.type!=="VariableDeclaration"||o.kind!=="let")return!1;const a=o.declarations;if(a.length>1)return!1;const rt=a[0];if(rt.id.type!=="Identifier"||!rt.init)return!1;this.counter=rt.id.name;const et=rt.init;return!(!et||et.type!=="Literal"||et.value!==0)},this.hasCondition=o=>{if(o.type!=="BinaryExpression"||!(o.operator==="<"||o.operator==="<="))return!1;const a=o.left;if(a.type!=="Identifier"||a.name!==this.counter)return!1;const rt=o.right;return rt.type==="Identifier"||rt.type==="Literal"?(this.end=rt,!0):!1},this.hasUpdate=o=>{if(o.type!=="AssignmentExpression"||o.operator!=="="||o.left.type!=="Identifier"||o.left.name!==this.counter||o.right.type!=="BinaryExpression")return!1;const a=o.right;if(a.operator!=="+")return!1;const rt=a.left.type==="Identifier"&&a.left.name===this.counter,et=a.right.type==="Identifier"&&a.right.name===this.counter,ot=a.left.type==="Literal"&&a.left.value===1,at=a.right.type==="Literal"&&a.right.value===1;return rt&&at||et&&ot},this.node=s,this.forLoopTransform(this.node)}}loopVerifier.default=GPULoopVerifier;Object.defineProperty(transfomer,"__esModule",{value:!0});transfomer.gpuRuntimeTranspile=void 0;const create=astCreator,walkers_1=walkers$1,bodyVerifier_1=bodyVerifier,loopVerifier_1=loopVerifier;let currentKernelId=0;class GPUTransformer{constructor(s,o){this.transform=()=>{const a=this.gpuTranspile,rt=[];return(0,walkers_1.simple)(this.program,{ForStatement(et){const ot=a(et);ot>0&&et.loc&&rt.push([et.loc.start.line,ot])}},(0,walkers_1.make)({ForStatement:()=>{}})),rt},this.gpuTranspile=a=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(a),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const rt=new bodyVerifier_1.default(this.program,this.innerBody,this.counters);if(rt.state===0)return 0;this.state=rt.state,this.outputArray=rt.outputArray,this.localVar=rt.localVar,this.getOuterVariables(),this.getTargetBody(a);const et=[];for(const _ in this.outerVariables)if(this.outerVariables.hasOwnProperty(_)){const $=this.outerVariables[_];et.push([create.literal(_),JSON.parse(JSON.stringify($))])}const ot=rt.getArrayName,at=this.localVar;(0,walkers_1.ancestor)(this.targetBody,{AssignmentExpression(_,$){if(_.left.type==="Identifier"||_.left.type!=="MemberExpression")return;const tt=ot(_.left);if(at.has(tt.name))return;const st=$.length;create.mutateToReturnStatement($[st-2],_.right)}});const nt=[];for(let _=0;_<this.state;_++)nt.push(create.identifier(this.counters[_]));const it=create.blockArrowFunction(this.counters.map(_=>create.identifier(_)),this.targetBody),j=create.callExpression(this.globalIds.__createKernelSource,[create.arrayExpression(this.end),create.arrayExpression(et.map(create.arrayExpression)),create.arrayExpression(Array.from(at.values()).map(_=>create.literal(_))),this.outputArray,it,create.literal(currentKernelId++)],a.loc);return create.mutateToExpressionStatement(a,j),this.state},this.checkOuterLoops=a=>{let rt=a;for(;rt.type==="ForStatement";){const et=new loopVerifier_1.default(rt);if(!et.ok||(this.innerBody=rt.body,this.counters.push(et.counter),this.end.push(et.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;rt=this.innerBody.body[0]}},this.program=s,this.globalIds={__createKernelSource:o}}getTargetBody(s){let o=this.state;for(this.targetBody=s;o>1;)this.targetBody=this.targetBody.body.body[0],o--;this.targetBody=this.targetBody.body}getOuterVariables(){const s=this.innerBody,o=this.localVar,a=this.counters,rt=this.outputArray.name,et={};(0,walkers_1.simple)(s,{Identifier(ot){o.has(ot.name)||a.includes(ot.name)||ot.name===rt||ot.name.startsWith("math_")||(et[ot.name]=ot)}}),this.outerVariables=et}}function gpuRuntimeTranspile(i,s){const o=i.params.map(at=>at.name),a=i.body;(0,walkers_1.simple)(a,{CallExpression(at){if(at.callee.type!=="Identifier")return;const it=at.callee.name.split("_")[1],j=at.arguments;create.mutateToCallExpression(at,create.memberExpression(create.identifier("Math"),it),j)}});const rt=new Set([...o,"Math"]);(0,walkers_1.simple)(a,{Identifier(at){rt.has(at.name)||s.has(at.name)||create.mutateToMemberExpression(at,create.memberExpression(create.identifier("this"),"constants"),create.identifier(at.name))}});let et=["x"];o.length===2&&(et=["y","x"]),o.length===3&&(et=["z","y","x"]);const ot=o.slice();return(0,walkers_1.simple)(a,{Identifier(at){let nt=-1;for(let j=0;j<ot.length;j=j+1)if(at.name===ot[j]){nt=j;break}if(nt===-1)return;const it=et[nt];create.mutateToMemberExpression(at,create.memberExpression(create.identifier("this"),"thread"),create.identifier(it))}}),a}transfomer.gpuRuntimeTranspile=gpuRuntimeTranspile;transfomer.default=GPUTransformer;Object.defineProperty(lib,"__esModule",{value:!0});lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const acorn_1=acornExports,astring_1$8=astring,gpu_js_1=gpuBrowserExports,constants_1=constants,rttc_1=rttc,transfomer_1=transfomer,MAX_SIZE=200;function buildArray(i,s,o){for(let a=0;a<s[0];a++)o[a]=prettyOutput(i[a])}function build2DArray(i,s,o){for(let a=0;a<s[0];a++)for(let rt=0;rt<s[1];rt++)o[a][rt]=prettyOutput(i[a][rt])}function build3DArray(i,s,o){for(let a=0;a<s[0];a++)for(let rt=0;rt<s[1];rt++)for(let et=0;et<s[2];et++)o[a][rt][et]=prettyOutput(i[a][rt][et])}function prettyOutput(i){if(!(i instanceof Float32Array))return i;const s=i.map(o=>prettyOutput(o));return Array.from(s)}function checkArray(i){return Array.isArray(i)}function checkArray2D(i,s){for(let o=0;o<s[0];o=o+1)if(!Array.isArray(i[o]))return!1;return!0}function checkArray3D(i,s){for(let o=0;o<s[0];o=o+1){if(!Array.isArray(i[o]))return!1;for(let a=0;a<s[1];a=a+1)if(!Array.isArray(i[o][a]))return!1}return!0}function checkValidGPU(i,s){let o;if(s.length===1&&(o=i(0)),s.length===2&&(o=i(0,0)),s.length===3&&(o=i(0,0,0)),typeof o!="number")return!1;let a=1;for(const rt of s)a=a*rt;return a>MAX_SIZE}function manualRun(i,s,o){function a(){for(let ot=0;ot<s[0];ot++)o[ot]=i(ot)}function rt(){for(let ot=0;ot<s[0];ot=ot+1)for(let at=0;at<s[1];at=at+1)o[ot][at]=i(ot,at)}function et(){for(let ot=0;ot<s[0];ot=ot+1)for(let at=0;at<s[1];at=at+1)for(let nt=0;nt<s[2];nt=nt+1)o[ot][at][nt]=i(ot,at,nt)}return s.length===1?a():s.length===2?rt():et()}function __createKernel(i,s,o,a,rt){const et=new gpu_js_1.GPU;let ot=checkArray(a),at="";if(ot||(at=typeof a),i.length>1&&(ot=ot&&checkArray2D(a,i),ot||(at="undefined")),i.length>2&&(ot=ot&&checkArray3D(a,i),ot||(at="undefined")),!ot)throw new rttc_1.TypeError(a,"","object or array",at);if(ot=checkValidGPU(rt,i),!ot){manualRun(rt,i,a);return}const nt=[];for(let $=i.length-1;$>=0;$--)nt.push(i[$]);const it={constants:{}};it.constants=s;const _=et.createKernel(o,it).setOutput(nt)();i.length===1&&buildArray(_,i,a),i.length===2&&build2DArray(_,i,a),i.length===3&&build3DArray(_,i,a)}lib.__createKernel=__createKernel;function entriesToObject(i){const s={};return i.forEach(([o,a])=>s[o]=a),s}const kernels=new Map;function __clearKernelCache(){kernels.clear()}lib.__clearKernelCache=__clearKernelCache;function __createKernelSource(i,s,o,a,rt,et){const ot=entriesToObject(s),at=kernels.get(et);if(at!==void 0)return __createKernel(i,ot,at,a,rt);const nt=rt.toString(),j=(0,acorn_1.parse)(nt,constants_1.ACORN_PARSE_OPTIONS).body[0].expression,_=(0,transfomer_1.gpuRuntimeTranspile)(j,new Set(o)),$=new Function((0,astring_1$8.generate)(_));return kernels.set(et,$),__createKernel(i,ot,$,a,rt)}lib.__createKernelSource=__createKernelSource;var schedulers={},errors={},stringify$1={},closure={},interpreter={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,s){(function(){var o,a="4.17.21",rt=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="Invalid `variable` option passed into `_.template`",nt="__lodash_hash_undefined__",it=500,j="__lodash_placeholder__",_=1,$=2,tt=4,st=1,lt=2,ct=1,ht=2,ut=4,pt=8,mt=16,vt=32,dt=64,St=128,yt=256,gt=512,Et=30,_t="...",kt=800,Ct=16,Tt=1,At=2,It=3,Ot=1/0,Mt=9007199254740991,Dt=17976931348623157e292,Bt=NaN,Kt=4294967295,Wt=Kt-1,zt=Kt>>>1,Ht=[["ary",St],["bind",ct],["bindKey",ht],["curry",pt],["curryRight",mt],["flip",gt],["partial",vt],["partialRight",dt],["rearg",yt]],Zt="[object Arguments]",Qt="[object Array]",hr="[object AsyncFunction]",fr="[object Boolean]",pr="[object Date]",gr="[object DOMException]",tr="[object Error]",rr="[object Function]",qt="[object GeneratorFunction]",xr="[object Map]",Sr="[object Number]",dr="[object Null]",Ur="[object Object]",tn="[object Promise]",on="[object Proxy]",Rn="[object RegExp]",Nn="[object Set]",Mn="[object String]",pn="[object Symbol]",Hn="[object Undefined]",In="[object WeakMap]",_r="[object WeakSet]",Nr="[object ArrayBuffer]",kr="[object DataView]",nn="[object Float32Array]",Yt="[object Float64Array]",er="[object Int8Array]",lr="[object Int16Array]",Lr="[object Int32Array]",Or="[object Uint8Array]",Er="[object Uint8ClampedArray]",Cr="[object Uint16Array]",Hr="[object Uint32Array]",rn=/\b__p \+= '';/g,Dr=/\b(__p \+=) '' \+/g,Yr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jr=/&(?:amp|lt|gt|quot|#39);/g,Gr=/[&<>"']/g,an=RegExp(jr.source),Rr=RegExp(Gr.source),mn=/<%-([\s\S]+?)%>/g,Rs=/<%([\s\S]+?)%>/g,ps=/<%=([\s\S]+?)%>/g,Xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ls=/^\w*$/,Ns=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ms=/[\\^$.*+?()[\]{}|]/g,no=RegExp(ms.source),Vs=/^\s+/,io=/\s/,us=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cs=/\{\n\/\* \[wrapped with (.+)\] \*/,Gs=/,? & /,Jr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hs=/[()=,{}\[\]\/\s]/,Ks=/\\(\\)?/g,ws=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zn=/\w*$/,ho=/^[-+]0x[0-9a-f]+$/i,so=/^0b[01]+$/i,fo=/^\[object .+?Constructor\]$/,po=/^0o[0-7]+$/i,oo=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_s=/($^)/,Is=/['\n\r\u2028\u2029\\]/g,Es="\\ud800-\\udfff",Xs="\\u0300-\\u036f",gs="\\ufe20-\\ufe2f",gn="\\u20d0-\\u20ff",Xr=Xs+gs+gn,Qn="\\u2700-\\u27bf",Jn="a-z\\xdf-\\xf6\\xf8-\\xff",mo="\\xac\\xb1\\xd7\\xf7",wo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",go="\\u2000-\\u206f",wt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="A-Z\\xc0-\\xd6\\xd8-\\xde",Vt="\\ufe0e\\ufe0f",Xt=mo+wo+go+wt,or="[']",br="["+Es+"]",$r="["+Xt+"]",zr="["+Xr+"]",Zr="\\d+",wn="["+Qn+"]",zn="["+Jn+"]",_i="[^"+Es+Xt+Zr+Qn+Jn+Lt+"]",es="\\ud83c[\\udffb-\\udfff]",ys="(?:"+zr+"|"+es+")",Bs="[^"+Es+"]",yn="(?:\\ud83c[\\udde6-\\uddff]){2}",vs="[\\ud800-\\udbff][\\udc00-\\udfff]",ss="["+Lt+"]",_o="\\u200d",Eo="(?:"+zn+"|"+_i+")",xs="(?:"+ss+"|"+_i+")",Po="(?:"+or+"(?:d|ll|m|re|s|t|ve))?",Do="(?:"+or+"(?:D|LL|M|RE|S|T|VE))?",xt=ys+"?",Rt="["+Vt+"]?",Ft="(?:"+_o+"(?:"+[Bs,yn,vs].join("|")+")"+Rt+xt+")*",Ut="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vr=Rt+xt+Ft,wr="(?:"+[wn,yn,vs].join("|")+")"+vr,Fr="(?:"+[Bs+zr+"?",zr,yn,vs,br].join("|")+")",Br=RegExp(or,"g"),ln=RegExp(zr,"g"),hn=RegExp(es+"(?="+es+")|"+Fr+vr,"g"),jn=RegExp([ss+"?"+zn+"+"+Po+"(?="+[$r,ss,"$"].join("|")+")",xs+"+"+Do+"(?="+[$r,ss+Eo,"$"].join("|")+")",ss+"?"+Eo+"+"+Po,ss+"+"+Do,sr,Ut,Zr,wr].join("|"),"g"),Ts=RegExp("["+_o+Es+Xr+Vt+"]"),Cs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ls=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yo=-1,kn={};kn[nn]=kn[Yt]=kn[er]=kn[lr]=kn[Lr]=kn[Or]=kn[Er]=kn[Cr]=kn[Hr]=!0,kn[Zt]=kn[Qt]=kn[Nr]=kn[fr]=kn[kr]=kn[pr]=kn[tr]=kn[rr]=kn[xr]=kn[Sr]=kn[Ur]=kn[Rn]=kn[Nn]=kn[Mn]=kn[In]=!1;var Tn={};Tn[Zt]=Tn[Qt]=Tn[Nr]=Tn[kr]=Tn[fr]=Tn[pr]=Tn[nn]=Tn[Yt]=Tn[er]=Tn[lr]=Tn[Lr]=Tn[xr]=Tn[Sr]=Tn[Ur]=Tn[Rn]=Tn[Nn]=Tn[Mn]=Tn[pn]=Tn[Or]=Tn[Er]=Tn[Cr]=Tn[Hr]=!0,Tn[tr]=Tn[rr]=Tn[In]=!1;var ir={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},cr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vr=parseFloat,Wr=parseInt,sn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,vn=typeof self=="object"&&self&&self.Object===Object&&self,qr=sn||vn||Function("return this")(),un=s&&!s.nodeType&&s,Ln=un&&!0&&i&&!i.nodeType&&i,Vn=Ln&&Ln.exports===un,Un=Vn&&sn.process,On=function(){try{var mr=Ln&&Ln.require&&Ln.require("util").types;return mr||Un&&Un.binding&&Un.binding("util")}catch{}}(),ts=On&&On.isArrayBuffer,Ms=On&&On.isDate,Ys=On&&On.isMap,vo=On&&On.isRegExp,$l=On&&On.isSet,Ho=On&&On.isTypedArray;function os(mr,Ar,Tr){switch(Tr.length){case 0:return mr.call(Ar);case 1:return mr.call(Ar,Tr[0]);case 2:return mr.call(Ar,Tr[0],Tr[1]);case 3:return mr.call(Ar,Tr[0],Tr[1],Tr[2])}return mr.apply(Ar,Tr)}function Py(mr,Ar,Tr,Qr){for(var xn=-1,Pn=mr==null?0:mr.length;++xn<Pn;){var rs=mr[xn];Ar(Qr,rs,Tr(rs),mr)}return Qr}function qs(mr,Ar){for(var Tr=-1,Qr=mr==null?0:mr.length;++Tr<Qr&&Ar(mr[Tr],Tr,mr)!==!1;);return mr}function Dy(mr,Ar){for(var Tr=mr==null?0:mr.length;Tr--&&Ar(mr[Tr],Tr,mr)!==!1;);return mr}function Dp(mr,Ar){for(var Tr=-1,Qr=mr==null?0:mr.length;++Tr<Qr;)if(!Ar(mr[Tr],Tr,mr))return!1;return!0}function Oo(mr,Ar){for(var Tr=-1,Qr=mr==null?0:mr.length,xn=0,Pn=[];++Tr<Qr;){var rs=mr[Tr];Ar(rs,Tr,mr)&&(Pn[xn++]=rs)}return Pn}function Gl(mr,Ar){var Tr=mr==null?0:mr.length;return!!Tr&&na(mr,Ar,0)>-1}function Lu(mr,Ar,Tr){for(var Qr=-1,xn=mr==null?0:mr.length;++Qr<xn;)if(Tr(Ar,mr[Qr]))return!0;return!1}function Wn(mr,Ar){for(var Tr=-1,Qr=mr==null?0:mr.length,xn=Array(Qr);++Tr<Qr;)xn[Tr]=Ar(mr[Tr],Tr,mr);return xn}function Fo(mr,Ar){for(var Tr=-1,Qr=Ar.length,xn=mr.length;++Tr<Qr;)mr[xn+Tr]=Ar[Tr];return mr}function Mu(mr,Ar,Tr,Qr){var xn=-1,Pn=mr==null?0:mr.length;for(Qr&&Pn&&(Tr=mr[++xn]);++xn<Pn;)Tr=Ar(Tr,mr[xn],xn,mr);return Tr}function Oy(mr,Ar,Tr,Qr){var xn=mr==null?0:mr.length;for(Qr&&xn&&(Tr=mr[--xn]);xn--;)Tr=Ar(Tr,mr[xn],xn,mr);return Tr}function Pu(mr,Ar){for(var Tr=-1,Qr=mr==null?0:mr.length;++Tr<Qr;)if(Ar(mr[Tr],Tr,mr))return!0;return!1}var Fy=Du("length");function Ny(mr){return mr.split("")}function Vy(mr){return mr.match(Jr)||[]}function Op(mr,Ar,Tr){var Qr;return Tr(mr,function(xn,Pn,rs){if(Ar(xn,Pn,rs))return Qr=Pn,!1}),Qr}function Kl(mr,Ar,Tr,Qr){for(var xn=mr.length,Pn=Tr+(Qr?1:-1);Qr?Pn--:++Pn<xn;)if(Ar(mr[Pn],Pn,mr))return Pn;return-1}function na(mr,Ar,Tr){return Ar===Ar?Qy(mr,Ar,Tr):Kl(mr,Fp,Tr)}function By(mr,Ar,Tr,Qr){for(var xn=Tr-1,Pn=mr.length;++xn<Pn;)if(Qr(mr[xn],Ar))return xn;return-1}function Fp(mr){return mr!==mr}function Np(mr,Ar){var Tr=mr==null?0:mr.length;return Tr?Fu(mr,Ar)/Tr:Bt}function Du(mr){return function(Ar){return Ar==null?o:Ar[mr]}}function Ou(mr){return function(Ar){return mr==null?o:mr[Ar]}}function Vp(mr,Ar,Tr,Qr,xn){return xn(mr,function(Pn,rs,Bn){Tr=Qr?(Qr=!1,Pn):Ar(Tr,Pn,rs,Bn)}),Tr}function zy(mr,Ar){var Tr=mr.length;for(mr.sort(Ar);Tr--;)mr[Tr]=mr[Tr].value;return mr}function Fu(mr,Ar){for(var Tr,Qr=-1,xn=mr.length;++Qr<xn;){var Pn=Ar(mr[Qr]);Pn!==o&&(Tr=Tr===o?Pn:Tr+Pn)}return Tr}function Nu(mr,Ar){for(var Tr=-1,Qr=Array(mr);++Tr<mr;)Qr[Tr]=Ar(Tr);return Qr}function jy(mr,Ar){return Wn(Ar,function(Tr){return[Tr,mr[Tr]]})}function Bp(mr){return mr&&mr.slice(0,Wp(mr)+1).replace(Vs,"")}function zs(mr){return function(Ar){return mr(Ar)}}function Vu(mr,Ar){return Wn(Ar,function(Tr){return mr[Tr]})}function Al(mr,Ar){return mr.has(Ar)}function zp(mr,Ar){for(var Tr=-1,Qr=mr.length;++Tr<Qr&&na(Ar,mr[Tr],0)>-1;);return Tr}function jp(mr,Ar){for(var Tr=mr.length;Tr--&&na(Ar,mr[Tr],0)>-1;);return Tr}function Uy(mr,Ar){for(var Tr=mr.length,Qr=0;Tr--;)mr[Tr]===Ar&&++Qr;return Qr}var Wy=Ou(ir),Hy=Ou(Nt);function Gy(mr){return"\\"+cr[mr]}function Ky(mr,Ar){return mr==null?o:mr[Ar]}function ga(mr){return Ts.test(mr)}function Xy(mr){return Cs.test(mr)}function Yy(mr){for(var Ar,Tr=[];!(Ar=mr.next()).done;)Tr.push(Ar.value);return Tr}function Bu(mr){var Ar=-1,Tr=Array(mr.size);return mr.forEach(function(Qr,xn){Tr[++Ar]=[xn,Qr]}),Tr}function Up(mr,Ar){return function(Tr){return mr(Ar(Tr))}}function No(mr,Ar){for(var Tr=-1,Qr=mr.length,xn=0,Pn=[];++Tr<Qr;){var rs=mr[Tr];(rs===Ar||rs===j)&&(mr[Tr]=j,Pn[xn++]=Tr)}return Pn}function Xl(mr){var Ar=-1,Tr=Array(mr.size);return mr.forEach(function(Qr){Tr[++Ar]=Qr}),Tr}function qy(mr){var Ar=-1,Tr=Array(mr.size);return mr.forEach(function(Qr){Tr[++Ar]=[Qr,Qr]}),Tr}function Qy(mr,Ar,Tr){for(var Qr=Tr-1,xn=mr.length;++Qr<xn;)if(mr[Qr]===Ar)return Qr;return-1}function Zy(mr,Ar,Tr){for(var Qr=Tr+1;Qr--;)if(mr[Qr]===Ar)return Qr;return Qr}function xa(mr){return ga(mr)?ev(mr):Fy(mr)}function ao(mr){return ga(mr)?tv(mr):Ny(mr)}function Wp(mr){for(var Ar=mr.length;Ar--&&io.test(mr.charAt(Ar)););return Ar}var Jy=Ou(nr);function ev(mr){for(var Ar=hn.lastIndex=0;hn.test(mr);)++Ar;return Ar}function tv(mr){return mr.match(hn)||[]}function rv(mr){return mr.match(jn)||[]}var nv=function mr(Ar){Ar=Ar==null?qr:ba.defaults(qr.Object(),Ar,ba.pick(qr,Ls));var Tr=Ar.Array,Qr=Ar.Date,xn=Ar.Error,Pn=Ar.Function,rs=Ar.Math,Bn=Ar.Object,zu=Ar.RegExp,iv=Ar.String,Qs=Ar.TypeError,Yl=Tr.prototype,sv=Pn.prototype,$a=Bn.prototype,Ql=Ar["__core-js_shared__"],Zl=sv.toString,Fn=$a.hasOwnProperty,ov=0,Hp=function(){var ft=/[^.]+$/.exec(Ql&&Ql.keys&&Ql.keys.IE_PROTO||"");return ft?"Symbol(src)_1."+ft:""}(),Jl=$a.toString,av=Zl.call(Bn),lv=qr._,uv=zu("^"+Zl.call(Fn).replace(ms,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=Vn?Ar.Buffer:o,Vo=Ar.Symbol,tu=Ar.Uint8Array,Gp=eu?eu.allocUnsafe:o,ru=Up(Bn.getPrototypeOf,Bn),Kp=Bn.create,Xp=$a.propertyIsEnumerable,nu=Yl.splice,Yp=Vo?Vo.isConcatSpreadable:o,Rl=Vo?Vo.iterator:o,Go=Vo?Vo.toStringTag:o,iu=function(){try{var ft=Qo(Bn,"defineProperty");return ft({},"",{}),ft}catch{}}(),cv=Ar.clearTimeout!==qr.clearTimeout&&Ar.clearTimeout,hv=Qr&&Qr.now!==qr.Date.now&&Qr.now,fv=Ar.setTimeout!==qr.setTimeout&&Ar.setTimeout,su=rs.ceil,ou=rs.floor,ju=Bn.getOwnPropertySymbols,dv=eu?eu.isBuffer:o,qp=Ar.isFinite,pv=Yl.join,mv=Up(Bn.keys,Bn),ns=rs.max,bs=rs.min,gv=Qr.now,yv=Ar.parseInt,Qp=rs.random,vv=Yl.reverse,Uu=Qo(Ar,"DataView"),Il=Qo(Ar,"Map"),Wu=Qo(Ar,"Promise"),yl=Qo(Ar,"Set"),Ll=Qo(Ar,"WeakMap"),Ml=Qo(Bn,"create"),au=Ll&&new Ll,xl={},xv=Zo(Uu),bv=Zo(Il),Sv=Zo(Wu),wv=Zo(yl),_v=Zo(Ll),lu=Vo?Vo.prototype:o,Pl=lu?lu.valueOf:o,Zp=lu?lu.toString:o;function Gt(ft){if(Kn(ft)&&!bn(ft)&&!(ft instanceof $n)){if(ft instanceof Zs)return ft;if(Fn.call(ft,"__wrapped__"))return Jm(ft)}return new Zs(ft)}var Sl=function(){function ft(){}return function(bt){if(!Gn(bt))return{};if(Kp)return Kp(bt);ft.prototype=bt;var $t=new ft;return ft.prototype=o,$t}}();function uu(){}function Zs(ft,bt){this.__wrapped__=ft,this.__actions__=[],this.__chain__=!!bt,this.__index__=0,this.__values__=o}Gt.templateSettings={escape:mn,evaluate:Rs,interpolate:ps,variable:"",imports:{_:Gt}},Gt.prototype=uu.prototype,Gt.prototype.constructor=Gt,Zs.prototype=Sl(uu.prototype),Zs.prototype.constructor=Zs;function $n(ft){this.__wrapped__=ft,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Kt,this.__views__=[]}function Ev(){var ft=new $n(this.__wrapped__);return ft.__actions__=Ps(this.__actions__),ft.__dir__=this.__dir__,ft.__filtered__=this.__filtered__,ft.__iteratees__=Ps(this.__iteratees__),ft.__takeCount__=this.__takeCount__,ft.__views__=Ps(this.__views__),ft}function Tv(){if(this.__filtered__){var ft=new $n(this);ft.__dir__=-1,ft.__filtered__=!0}else ft=this.clone(),ft.__dir__*=-1;return ft}function Cv(){var ft=this.__wrapped__.value(),bt=this.__dir__,$t=bn(ft),Pt=bt<0,jt=$t?ft.length:0,Jt=N0(0,jt,this.__views__),ar=Jt.start,ur=Jt.end,yr=ur-ar,Ir=Pt?ur:ar-1,Mr=this.__iteratees__,Pr=Mr.length,Kr=0,en=bs(yr,this.__takeCount__);if(!$t||!Pt&&jt==yr&&en==yr)return wm(ft,this.__actions__);var fn=[];e:for(;yr--&&Kr<en;){Ir+=bt;for(var _n=-1,dn=ft[Ir];++_n<Pr;){var Cn=Mr[_n],An=Cn.iteratee,Ws=Cn.type,As=An(dn);if(Ws==At)dn=As;else if(!As){if(Ws==Tt)continue e;break e}}fn[Kr++]=dn}return fn}$n.prototype=Sl(uu.prototype),$n.prototype.constructor=$n;function Ko(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.clear();++bt<$t;){var Pt=ft[bt];this.set(Pt[0],Pt[1])}}function kv(){this.__data__=Ml?Ml(null):{},this.size=0}function $v(ft){var bt=this.has(ft)&&delete this.__data__[ft];return this.size-=bt?1:0,bt}function Av(ft){var bt=this.__data__;if(Ml){var $t=bt[ft];return $t===nt?o:$t}return Fn.call(bt,ft)?bt[ft]:o}function Rv(ft){var bt=this.__data__;return Ml?bt[ft]!==o:Fn.call(bt,ft)}function Iv(ft,bt){var $t=this.__data__;return this.size+=this.has(ft)?0:1,$t[ft]=Ml&&bt===o?nt:bt,this}Ko.prototype.clear=kv,Ko.prototype.delete=$v,Ko.prototype.get=Av,Ko.prototype.has=Rv,Ko.prototype.set=Iv;function To(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.clear();++bt<$t;){var Pt=ft[bt];this.set(Pt[0],Pt[1])}}function Lv(){this.__data__=[],this.size=0}function Mv(ft){var bt=this.__data__,$t=cu(bt,ft);if($t<0)return!1;var Pt=bt.length-1;return $t==Pt?bt.pop():nu.call(bt,$t,1),--this.size,!0}function Pv(ft){var bt=this.__data__,$t=cu(bt,ft);return $t<0?o:bt[$t][1]}function Dv(ft){return cu(this.__data__,ft)>-1}function Ov(ft,bt){var $t=this.__data__,Pt=cu($t,ft);return Pt<0?(++this.size,$t.push([ft,bt])):$t[Pt][1]=bt,this}To.prototype.clear=Lv,To.prototype.delete=Mv,To.prototype.get=Pv,To.prototype.has=Dv,To.prototype.set=Ov;function Co(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.clear();++bt<$t;){var Pt=ft[bt];this.set(Pt[0],Pt[1])}}function Fv(){this.size=0,this.__data__={hash:new Ko,map:new(Il||To),string:new Ko}}function Nv(ft){var bt=wu(this,ft).delete(ft);return this.size-=bt?1:0,bt}function Vv(ft){return wu(this,ft).get(ft)}function Bv(ft){return wu(this,ft).has(ft)}function zv(ft,bt){var $t=wu(this,ft),Pt=$t.size;return $t.set(ft,bt),this.size+=$t.size==Pt?0:1,this}Co.prototype.clear=Fv,Co.prototype.delete=Nv,Co.prototype.get=Vv,Co.prototype.has=Bv,Co.prototype.set=zv;function Xo(ft){var bt=-1,$t=ft==null?0:ft.length;for(this.__data__=new Co;++bt<$t;)this.add(ft[bt])}function jv(ft){return this.__data__.set(ft,nt),this}function Uv(ft){return this.__data__.has(ft)}Xo.prototype.add=Xo.prototype.push=jv,Xo.prototype.has=Uv;function lo(ft){var bt=this.__data__=new To(ft);this.size=bt.size}function Wv(){this.__data__=new To,this.size=0}function Hv(ft){var bt=this.__data__,$t=bt.delete(ft);return this.size=bt.size,$t}function Gv(ft){return this.__data__.get(ft)}function Kv(ft){return this.__data__.has(ft)}function Xv(ft,bt){var $t=this.__data__;if($t instanceof To){var Pt=$t.__data__;if(!Il||Pt.length<rt-1)return Pt.push([ft,bt]),this.size=++$t.size,this;$t=this.__data__=new Co(Pt)}return $t.set(ft,bt),this.size=$t.size,this}lo.prototype.clear=Wv,lo.prototype.delete=Hv,lo.prototype.get=Gv,lo.prototype.has=Kv,lo.prototype.set=Xv;function Jp(ft,bt){var $t=bn(ft),Pt=!$t&&Jo(ft),jt=!$t&&!Pt&&Wo(ft),Jt=!$t&&!Pt&&!jt&&Tl(ft),ar=$t||Pt||jt||Jt,ur=ar?Nu(ft.length,iv):[],yr=ur.length;for(var Ir in ft)(bt||Fn.call(ft,Ir))&&!(ar&&(Ir=="length"||jt&&(Ir=="offset"||Ir=="parent")||Jt&&(Ir=="buffer"||Ir=="byteLength"||Ir=="byteOffset")||Ro(Ir,yr)))&&ur.push(Ir);return ur}function em(ft){var bt=ft.length;return bt?ft[tp(0,bt-1)]:o}function Yv(ft,bt){return _u(Ps(ft),Yo(bt,0,ft.length))}function qv(ft){return _u(Ps(ft))}function Hu(ft,bt,$t){($t!==o&&!uo(ft[bt],$t)||$t===o&&!(bt in ft))&&ko(ft,bt,$t)}function Dl(ft,bt,$t){var Pt=ft[bt];(!(Fn.call(ft,bt)&&uo(Pt,$t))||$t===o&&!(bt in ft))&&ko(ft,bt,$t)}function cu(ft,bt){for(var $t=ft.length;$t--;)if(uo(ft[$t][0],bt))return $t;return-1}function Qv(ft,bt,$t,Pt){return Bo(ft,function(jt,Jt,ar){bt(Pt,jt,$t(jt),ar)}),Pt}function tm(ft,bt){return ft&&bo(bt,as(bt),ft)}function Zv(ft,bt){return ft&&bo(bt,Os(bt),ft)}function ko(ft,bt,$t){bt=="__proto__"&&iu?iu(ft,bt,{configurable:!0,enumerable:!0,value:$t,writable:!0}):ft[bt]=$t}function Gu(ft,bt){for(var $t=-1,Pt=bt.length,jt=Tr(Pt),Jt=ft==null;++$t<Pt;)jt[$t]=Jt?o:Cp(ft,bt[$t]);return jt}function Yo(ft,bt,$t){return ft===ft&&($t!==o&&(ft=ft<=$t?ft:$t),bt!==o&&(ft=ft>=bt?ft:bt)),ft}function Js(ft,bt,$t,Pt,jt,Jt){var ar,ur=bt&_,yr=bt&$,Ir=bt&tt;if($t&&(ar=jt?$t(ft,Pt,jt,Jt):$t(ft)),ar!==o)return ar;if(!Gn(ft))return ft;var Mr=bn(ft);if(Mr){if(ar=B0(ft),!ur)return Ps(ft,ar)}else{var Pr=Ss(ft),Kr=Pr==rr||Pr==qt;if(Wo(ft))return Tm(ft,ur);if(Pr==Ur||Pr==Zt||Kr&&!jt){if(ar=yr||Kr?{}:Wm(ft),!ur)return yr?A0(ft,Zv(ar,ft)):$0(ft,tm(ar,ft))}else{if(!Tn[Pr])return jt?ft:{};ar=z0(ft,Pr,ur)}}Jt||(Jt=new lo);var en=Jt.get(ft);if(en)return en;Jt.set(ft,ar),xy(ft)?ft.forEach(function(dn){ar.add(Js(dn,bt,$t,dn,ft,Jt))}):yy(ft)&&ft.forEach(function(dn,Cn){ar.set(Cn,Js(dn,bt,$t,Cn,ft,Jt))});var fn=Ir?yr?fp:hp:yr?Os:as,_n=Mr?o:fn(ft);return qs(_n||ft,function(dn,Cn){_n&&(Cn=dn,dn=ft[Cn]),Dl(ar,Cn,Js(dn,bt,$t,Cn,ft,Jt))}),ar}function Jv(ft){var bt=as(ft);return function($t){return rm($t,ft,bt)}}function rm(ft,bt,$t){var Pt=$t.length;if(ft==null)return!Pt;for(ft=Bn(ft);Pt--;){var jt=$t[Pt],Jt=bt[jt],ar=ft[jt];if(ar===o&&!(jt in ft)||!Jt(ar))return!1}return!0}function nm(ft,bt,$t){if(typeof ft!="function")throw new Qs(ot);return Ul(function(){ft.apply(o,$t)},bt)}function Ol(ft,bt,$t,Pt){var jt=-1,Jt=Gl,ar=!0,ur=ft.length,yr=[],Ir=bt.length;if(!ur)return yr;$t&&(bt=Wn(bt,zs($t))),Pt?(Jt=Lu,ar=!1):bt.length>=rt&&(Jt=Al,ar=!1,bt=new Xo(bt));e:for(;++jt<ur;){var Mr=ft[jt],Pr=$t==null?Mr:$t(Mr);if(Mr=Pt||Mr!==0?Mr:0,ar&&Pr===Pr){for(var Kr=Ir;Kr--;)if(bt[Kr]===Pr)continue e;yr.push(Mr)}else Jt(bt,Pr,Pt)||yr.push(Mr)}return yr}var Bo=Rm(xo),im=Rm(Xu,!0);function e0(ft,bt){var $t=!0;return Bo(ft,function(Pt,jt,Jt){return $t=!!bt(Pt,jt,Jt),$t}),$t}function hu(ft,bt,$t){for(var Pt=-1,jt=ft.length;++Pt<jt;){var Jt=ft[Pt],ar=bt(Jt);if(ar!=null&&(ur===o?ar===ar&&!Us(ar):$t(ar,ur)))var ur=ar,yr=Jt}return yr}function t0(ft,bt,$t,Pt){var jt=ft.length;for($t=Sn($t),$t<0&&($t=-$t>jt?0:jt+$t),Pt=Pt===o||Pt>jt?jt:Sn(Pt),Pt<0&&(Pt+=jt),Pt=$t>Pt?0:Sy(Pt);$t<Pt;)ft[$t++]=bt;return ft}function sm(ft,bt){var $t=[];return Bo(ft,function(Pt,jt,Jt){bt(Pt,jt,Jt)&&$t.push(Pt)}),$t}function ds(ft,bt,$t,Pt,jt){var Jt=-1,ar=ft.length;for($t||($t=U0),jt||(jt=[]);++Jt<ar;){var ur=ft[Jt];bt>0&&$t(ur)?bt>1?ds(ur,bt-1,$t,Pt,jt):Fo(jt,ur):Pt||(jt[jt.length]=ur)}return jt}var Ku=Im(),om=Im(!0);function xo(ft,bt){return ft&&Ku(ft,bt,as)}function Xu(ft,bt){return ft&&om(ft,bt,as)}function fu(ft,bt){return Oo(bt,function($t){return Io(ft[$t])})}function qo(ft,bt){bt=jo(bt,ft);for(var $t=0,Pt=bt.length;ft!=null&&$t<Pt;)ft=ft[So(bt[$t++])];return $t&&$t==Pt?ft:o}function am(ft,bt,$t){var Pt=bt(ft);return bn(ft)?Pt:Fo(Pt,$t(ft))}function ks(ft){return ft==null?ft===o?Hn:dr:Go&&Go in Bn(ft)?F0(ft):q0(ft)}function Yu(ft,bt){return ft>bt}function r0(ft,bt){return ft!=null&&Fn.call(ft,bt)}function n0(ft,bt){return ft!=null&&bt in Bn(ft)}function i0(ft,bt,$t){return ft>=bs(bt,$t)&&ft<ns(bt,$t)}function qu(ft,bt,$t){for(var Pt=$t?Lu:Gl,jt=ft[0].length,Jt=ft.length,ar=Jt,ur=Tr(Jt),yr=1/0,Ir=[];ar--;){var Mr=ft[ar];ar&&bt&&(Mr=Wn(Mr,zs(bt))),yr=bs(Mr.length,yr),ur[ar]=!$t&&(bt||jt>=120&&Mr.length>=120)?new Xo(ar&&Mr):o}Mr=ft[0];var Pr=-1,Kr=ur[0];e:for(;++Pr<jt&&Ir.length<yr;){var en=Mr[Pr],fn=bt?bt(en):en;if(en=$t||en!==0?en:0,!(Kr?Al(Kr,fn):Pt(Ir,fn,$t))){for(ar=Jt;--ar;){var _n=ur[ar];if(!(_n?Al(_n,fn):Pt(ft[ar],fn,$t)))continue e}Kr&&Kr.push(fn),Ir.push(en)}}return Ir}function s0(ft,bt,$t,Pt){return xo(ft,function(jt,Jt,ar){bt(Pt,$t(jt),Jt,ar)}),Pt}function Fl(ft,bt,$t){bt=jo(bt,ft),ft=Xm(ft,bt);var Pt=ft==null?ft:ft[So(to(bt))];return Pt==null?o:os(Pt,ft,$t)}function lm(ft){return Kn(ft)&&ks(ft)==Zt}function o0(ft){return Kn(ft)&&ks(ft)==Nr}function a0(ft){return Kn(ft)&&ks(ft)==pr}function Nl(ft,bt,$t,Pt,jt){return ft===bt?!0:ft==null||bt==null||!Kn(ft)&&!Kn(bt)?ft!==ft&&bt!==bt:l0(ft,bt,$t,Pt,Nl,jt)}function l0(ft,bt,$t,Pt,jt,Jt){var ar=bn(ft),ur=bn(bt),yr=ar?Qt:Ss(ft),Ir=ur?Qt:Ss(bt);yr=yr==Zt?Ur:yr,Ir=Ir==Zt?Ur:Ir;var Mr=yr==Ur,Pr=Ir==Ur,Kr=yr==Ir;if(Kr&&Wo(ft)){if(!Wo(bt))return!1;ar=!0,Mr=!1}if(Kr&&!Mr)return Jt||(Jt=new lo),ar||Tl(ft)?zm(ft,bt,$t,Pt,jt,Jt):D0(ft,bt,yr,$t,Pt,jt,Jt);if(!($t&st)){var en=Mr&&Fn.call(ft,"__wrapped__"),fn=Pr&&Fn.call(bt,"__wrapped__");if(en||fn){var _n=en?ft.value():ft,dn=fn?bt.value():bt;return Jt||(Jt=new lo),jt(_n,dn,$t,Pt,Jt)}}return Kr?(Jt||(Jt=new lo),O0(ft,bt,$t,Pt,jt,Jt)):!1}function u0(ft){return Kn(ft)&&Ss(ft)==xr}function Qu(ft,bt,$t,Pt){var jt=$t.length,Jt=jt,ar=!Pt;if(ft==null)return!Jt;for(ft=Bn(ft);jt--;){var ur=$t[jt];if(ar&&ur[2]?ur[1]!==ft[ur[0]]:!(ur[0]in ft))return!1}for(;++jt<Jt;){ur=$t[jt];var yr=ur[0],Ir=ft[yr],Mr=ur[1];if(ar&&ur[2]){if(Ir===o&&!(yr in ft))return!1}else{var Pr=new lo;if(Pt)var Kr=Pt(Ir,Mr,yr,ft,bt,Pr);if(!(Kr===o?Nl(Mr,Ir,st|lt,Pt,Pr):Kr))return!1}}return!0}function um(ft){if(!Gn(ft)||H0(ft))return!1;var bt=Io(ft)?uv:fo;return bt.test(Zo(ft))}function c0(ft){return Kn(ft)&&ks(ft)==Rn}function h0(ft){return Kn(ft)&&Ss(ft)==Nn}function f0(ft){return Kn(ft)&&Au(ft.length)&&!!kn[ks(ft)]}function cm(ft){return typeof ft=="function"?ft:ft==null?Fs:typeof ft=="object"?bn(ft)?dm(ft[0],ft[1]):fm(ft):Ly(ft)}function Zu(ft){if(!zl(ft))return mv(ft);var bt=[];for(var $t in Bn(ft))Fn.call(ft,$t)&&$t!="constructor"&&bt.push($t);return bt}function d0(ft){if(!Gn(ft))return Y0(ft);var bt=zl(ft),$t=[];for(var Pt in ft)Pt=="constructor"&&(bt||!Fn.call(ft,Pt))||$t.push(Pt);return $t}function Ju(ft,bt){return ft<bt}function hm(ft,bt){var $t=-1,Pt=Ds(ft)?Tr(ft.length):[];return Bo(ft,function(jt,Jt,ar){Pt[++$t]=bt(jt,Jt,ar)}),Pt}function fm(ft){var bt=pp(ft);return bt.length==1&&bt[0][2]?Gm(bt[0][0],bt[0][1]):function($t){return $t===ft||Qu($t,ft,bt)}}function dm(ft,bt){return gp(ft)&&Hm(bt)?Gm(So(ft),bt):function($t){var Pt=Cp($t,ft);return Pt===o&&Pt===bt?kp($t,ft):Nl(bt,Pt,st|lt)}}function du(ft,bt,$t,Pt,jt){ft!==bt&&Ku(bt,function(Jt,ar){if(jt||(jt=new lo),Gn(Jt))p0(ft,bt,ar,$t,du,Pt,jt);else{var ur=Pt?Pt(vp(ft,ar),Jt,ar+"",ft,bt,jt):o;ur===o&&(ur=Jt),Hu(ft,ar,ur)}},Os)}function p0(ft,bt,$t,Pt,jt,Jt,ar){var ur=vp(ft,$t),yr=vp(bt,$t),Ir=ar.get(yr);if(Ir){Hu(ft,$t,Ir);return}var Mr=Jt?Jt(ur,yr,$t+"",ft,bt,ar):o,Pr=Mr===o;if(Pr){var Kr=bn(yr),en=!Kr&&Wo(yr),fn=!Kr&&!en&&Tl(yr);Mr=yr,Kr||en||fn?bn(ur)?Mr=ur:Yn(ur)?Mr=Ps(ur):en?(Pr=!1,Mr=Tm(yr,!0)):fn?(Pr=!1,Mr=Cm(yr,!0)):Mr=[]:Wl(yr)||Jo(yr)?(Mr=ur,Jo(ur)?Mr=wy(ur):(!Gn(ur)||Io(ur))&&(Mr=Wm(yr))):Pr=!1}Pr&&(ar.set(yr,Mr),jt(Mr,yr,Pt,Jt,ar),ar.delete(yr)),Hu(ft,$t,Mr)}function pm(ft,bt){var $t=ft.length;if($t)return bt+=bt<0?$t:0,Ro(bt,$t)?ft[bt]:o}function mm(ft,bt,$t){bt.length?bt=Wn(bt,function(Jt){return bn(Jt)?function(ar){return qo(ar,Jt.length===1?Jt[0]:Jt)}:Jt}):bt=[Fs];var Pt=-1;bt=Wn(bt,zs(cn()));var jt=hm(ft,function(Jt,ar,ur){var yr=Wn(bt,function(Ir){return Ir(Jt)});return{criteria:yr,index:++Pt,value:Jt}});return zy(jt,function(Jt,ar){return k0(Jt,ar,$t)})}function m0(ft,bt){return gm(ft,bt,function($t,Pt){return kp(ft,Pt)})}function gm(ft,bt,$t){for(var Pt=-1,jt=bt.length,Jt={};++Pt<jt;){var ar=bt[Pt],ur=qo(ft,ar);$t(ur,ar)&&Vl(Jt,jo(ar,ft),ur)}return Jt}function g0(ft){return function(bt){return qo(bt,ft)}}function ep(ft,bt,$t,Pt){var jt=Pt?By:na,Jt=-1,ar=bt.length,ur=ft;for(ft===bt&&(bt=Ps(bt)),$t&&(ur=Wn(ft,zs($t)));++Jt<ar;)for(var yr=0,Ir=bt[Jt],Mr=$t?$t(Ir):Ir;(yr=jt(ur,Mr,yr,Pt))>-1;)ur!==ft&&nu.call(ur,yr,1),nu.call(ft,yr,1);return ft}function ym(ft,bt){for(var $t=ft?bt.length:0,Pt=$t-1;$t--;){var jt=bt[$t];if($t==Pt||jt!==Jt){var Jt=jt;Ro(jt)?nu.call(ft,jt,1):ip(ft,jt)}}return ft}function tp(ft,bt){return ft+ou(Qp()*(bt-ft+1))}function y0(ft,bt,$t,Pt){for(var jt=-1,Jt=ns(su((bt-ft)/($t||1)),0),ar=Tr(Jt);Jt--;)ar[Pt?Jt:++jt]=ft,ft+=$t;return ar}function rp(ft,bt){var $t="";if(!ft||bt<1||bt>Mt)return $t;do bt%2&&($t+=ft),bt=ou(bt/2),bt&&(ft+=ft);while(bt);return $t}function En(ft,bt){return xp(Km(ft,bt,Fs),ft+"")}function v0(ft){return em(Cl(ft))}function x0(ft,bt){var $t=Cl(ft);return _u($t,Yo(bt,0,$t.length))}function Vl(ft,bt,$t,Pt){if(!Gn(ft))return ft;bt=jo(bt,ft);for(var jt=-1,Jt=bt.length,ar=Jt-1,ur=ft;ur!=null&&++jt<Jt;){var yr=So(bt[jt]),Ir=$t;if(yr==="__proto__"||yr==="constructor"||yr==="prototype")return ft;if(jt!=ar){var Mr=ur[yr];Ir=Pt?Pt(Mr,yr,ur):o,Ir===o&&(Ir=Gn(Mr)?Mr:Ro(bt[jt+1])?[]:{})}Dl(ur,yr,Ir),ur=ur[yr]}return ft}var vm=au?function(ft,bt){return au.set(ft,bt),ft}:Fs,b0=iu?function(ft,bt){return iu(ft,"toString",{configurable:!0,enumerable:!1,value:Ap(bt),writable:!0})}:Fs;function S0(ft){return _u(Cl(ft))}function eo(ft,bt,$t){var Pt=-1,jt=ft.length;bt<0&&(bt=-bt>jt?0:jt+bt),$t=$t>jt?jt:$t,$t<0&&($t+=jt),jt=bt>$t?0:$t-bt>>>0,bt>>>=0;for(var Jt=Tr(jt);++Pt<jt;)Jt[Pt]=ft[Pt+bt];return Jt}function w0(ft,bt){var $t;return Bo(ft,function(Pt,jt,Jt){return $t=bt(Pt,jt,Jt),!$t}),!!$t}function pu(ft,bt,$t){var Pt=0,jt=ft==null?Pt:ft.length;if(typeof bt=="number"&&bt===bt&&jt<=zt){for(;Pt<jt;){var Jt=Pt+jt>>>1,ar=ft[Jt];ar!==null&&!Us(ar)&&($t?ar<=bt:ar<bt)?Pt=Jt+1:jt=Jt}return jt}return np(ft,bt,Fs,$t)}function np(ft,bt,$t,Pt){var jt=0,Jt=ft==null?0:ft.length;if(Jt===0)return 0;bt=$t(bt);for(var ar=bt!==bt,ur=bt===null,yr=Us(bt),Ir=bt===o;jt<Jt;){var Mr=ou((jt+Jt)/2),Pr=$t(ft[Mr]),Kr=Pr!==o,en=Pr===null,fn=Pr===Pr,_n=Us(Pr);if(ar)var dn=Pt||fn;else Ir?dn=fn&&(Pt||Kr):ur?dn=fn&&Kr&&(Pt||!en):yr?dn=fn&&Kr&&!en&&(Pt||!_n):en||_n?dn=!1:dn=Pt?Pr<=bt:Pr<bt;dn?jt=Mr+1:Jt=Mr}return bs(Jt,Wt)}function xm(ft,bt){for(var $t=-1,Pt=ft.length,jt=0,Jt=[];++$t<Pt;){var ar=ft[$t],ur=bt?bt(ar):ar;if(!$t||!uo(ur,yr)){var yr=ur;Jt[jt++]=ar===0?0:ar}}return Jt}function bm(ft){return typeof ft=="number"?ft:Us(ft)?Bt:+ft}function js(ft){if(typeof ft=="string")return ft;if(bn(ft))return Wn(ft,js)+"";if(Us(ft))return Zp?Zp.call(ft):"";var bt=ft+"";return bt=="0"&&1/ft==-Ot?"-0":bt}function zo(ft,bt,$t){var Pt=-1,jt=Gl,Jt=ft.length,ar=!0,ur=[],yr=ur;if($t)ar=!1,jt=Lu;else if(Jt>=rt){var Ir=bt?null:M0(ft);if(Ir)return Xl(Ir);ar=!1,jt=Al,yr=new Xo}else yr=bt?[]:ur;e:for(;++Pt<Jt;){var Mr=ft[Pt],Pr=bt?bt(Mr):Mr;if(Mr=$t||Mr!==0?Mr:0,ar&&Pr===Pr){for(var Kr=yr.length;Kr--;)if(yr[Kr]===Pr)continue e;bt&&yr.push(Pr),ur.push(Mr)}else jt(yr,Pr,$t)||(yr!==ur&&yr.push(Pr),ur.push(Mr))}return ur}function ip(ft,bt){return bt=jo(bt,ft),ft=Xm(ft,bt),ft==null||delete ft[So(to(bt))]}function Sm(ft,bt,$t,Pt){return Vl(ft,bt,$t(qo(ft,bt)),Pt)}function mu(ft,bt,$t,Pt){for(var jt=ft.length,Jt=Pt?jt:-1;(Pt?Jt--:++Jt<jt)&&bt(ft[Jt],Jt,ft););return $t?eo(ft,Pt?0:Jt,Pt?Jt+1:jt):eo(ft,Pt?Jt+1:0,Pt?jt:Jt)}function wm(ft,bt){var $t=ft;return $t instanceof $n&&($t=$t.value()),Mu(bt,function(Pt,jt){return jt.func.apply(jt.thisArg,Fo([Pt],jt.args))},$t)}function sp(ft,bt,$t){var Pt=ft.length;if(Pt<2)return Pt?zo(ft[0]):[];for(var jt=-1,Jt=Tr(Pt);++jt<Pt;)for(var ar=ft[jt],ur=-1;++ur<Pt;)ur!=jt&&(Jt[jt]=Ol(Jt[jt]||ar,ft[ur],bt,$t));return zo(ds(Jt,1),bt,$t)}function _m(ft,bt,$t){for(var Pt=-1,jt=ft.length,Jt=bt.length,ar={};++Pt<jt;){var ur=Pt<Jt?bt[Pt]:o;$t(ar,ft[Pt],ur)}return ar}function op(ft){return Yn(ft)?ft:[]}function ap(ft){return typeof ft=="function"?ft:Fs}function jo(ft,bt){return bn(ft)?ft:gp(ft,bt)?[ft]:Zm(Dn(ft))}var _0=En;function Uo(ft,bt,$t){var Pt=ft.length;return $t=$t===o?Pt:$t,!bt&&$t>=Pt?ft:eo(ft,bt,$t)}var Em=cv||function(ft){return qr.clearTimeout(ft)};function Tm(ft,bt){if(bt)return ft.slice();var $t=ft.length,Pt=Gp?Gp($t):new ft.constructor($t);return ft.copy(Pt),Pt}function lp(ft){var bt=new ft.constructor(ft.byteLength);return new tu(bt).set(new tu(ft)),bt}function E0(ft,bt){var $t=bt?lp(ft.buffer):ft.buffer;return new ft.constructor($t,ft.byteOffset,ft.byteLength)}function T0(ft){var bt=new ft.constructor(ft.source,Zn.exec(ft));return bt.lastIndex=ft.lastIndex,bt}function C0(ft){return Pl?Bn(Pl.call(ft)):{}}function Cm(ft,bt){var $t=bt?lp(ft.buffer):ft.buffer;return new ft.constructor($t,ft.byteOffset,ft.length)}function km(ft,bt){if(ft!==bt){var $t=ft!==o,Pt=ft===null,jt=ft===ft,Jt=Us(ft),ar=bt!==o,ur=bt===null,yr=bt===bt,Ir=Us(bt);if(!ur&&!Ir&&!Jt&&ft>bt||Jt&&ar&&yr&&!ur&&!Ir||Pt&&ar&&yr||!$t&&yr||!jt)return 1;if(!Pt&&!Jt&&!Ir&&ft<bt||Ir&&$t&&jt&&!Pt&&!Jt||ur&&$t&&jt||!ar&&jt||!yr)return-1}return 0}function k0(ft,bt,$t){for(var Pt=-1,jt=ft.criteria,Jt=bt.criteria,ar=jt.length,ur=$t.length;++Pt<ar;){var yr=km(jt[Pt],Jt[Pt]);if(yr){if(Pt>=ur)return yr;var Ir=$t[Pt];return yr*(Ir=="desc"?-1:1)}}return ft.index-bt.index}function $m(ft,bt,$t,Pt){for(var jt=-1,Jt=ft.length,ar=$t.length,ur=-1,yr=bt.length,Ir=ns(Jt-ar,0),Mr=Tr(yr+Ir),Pr=!Pt;++ur<yr;)Mr[ur]=bt[ur];for(;++jt<ar;)(Pr||jt<Jt)&&(Mr[$t[jt]]=ft[jt]);for(;Ir--;)Mr[ur++]=ft[jt++];return Mr}function Am(ft,bt,$t,Pt){for(var jt=-1,Jt=ft.length,ar=-1,ur=$t.length,yr=-1,Ir=bt.length,Mr=ns(Jt-ur,0),Pr=Tr(Mr+Ir),Kr=!Pt;++jt<Mr;)Pr[jt]=ft[jt];for(var en=jt;++yr<Ir;)Pr[en+yr]=bt[yr];for(;++ar<ur;)(Kr||jt<Jt)&&(Pr[en+$t[ar]]=ft[jt++]);return Pr}function Ps(ft,bt){var $t=-1,Pt=ft.length;for(bt||(bt=Tr(Pt));++$t<Pt;)bt[$t]=ft[$t];return bt}function bo(ft,bt,$t,Pt){var jt=!$t;$t||($t={});for(var Jt=-1,ar=bt.length;++Jt<ar;){var ur=bt[Jt],yr=Pt?Pt($t[ur],ft[ur],ur,$t,ft):o;yr===o&&(yr=ft[ur]),jt?ko($t,ur,yr):Dl($t,ur,yr)}return $t}function $0(ft,bt){return bo(ft,mp(ft),bt)}function A0(ft,bt){return bo(ft,jm(ft),bt)}function gu(ft,bt){return function($t,Pt){var jt=bn($t)?Py:Qv,Jt=bt?bt():{};return jt($t,ft,cn(Pt,2),Jt)}}function wl(ft){return En(function(bt,$t){var Pt=-1,jt=$t.length,Jt=jt>1?$t[jt-1]:o,ar=jt>2?$t[2]:o;for(Jt=ft.length>3&&typeof Jt=="function"?(jt--,Jt):o,ar&&$s($t[0],$t[1],ar)&&(Jt=jt<3?o:Jt,jt=1),bt=Bn(bt);++Pt<jt;){var ur=$t[Pt];ur&&ft(bt,ur,Pt,Jt)}return bt})}function Rm(ft,bt){return function($t,Pt){if($t==null)return $t;if(!Ds($t))return ft($t,Pt);for(var jt=$t.length,Jt=bt?jt:-1,ar=Bn($t);(bt?Jt--:++Jt<jt)&&Pt(ar[Jt],Jt,ar)!==!1;);return $t}}function Im(ft){return function(bt,$t,Pt){for(var jt=-1,Jt=Bn(bt),ar=Pt(bt),ur=ar.length;ur--;){var yr=ar[ft?ur:++jt];if($t(Jt[yr],yr,Jt)===!1)break}return bt}}function R0(ft,bt,$t){var Pt=bt&ct,jt=Bl(ft);function Jt(){var ar=this&&this!==qr&&this instanceof Jt?jt:ft;return ar.apply(Pt?$t:this,arguments)}return Jt}function Lm(ft){return function(bt){bt=Dn(bt);var $t=ga(bt)?ao(bt):o,Pt=$t?$t[0]:bt.charAt(0),jt=$t?Uo($t,1).join(""):bt.slice(1);return Pt[ft]()+jt}}function _l(ft){return function(bt){return Mu(Ry(Ay(bt).replace(Br,"")),ft,"")}}function Bl(ft){return function(){var bt=arguments;switch(bt.length){case 0:return new ft;case 1:return new ft(bt[0]);case 2:return new ft(bt[0],bt[1]);case 3:return new ft(bt[0],bt[1],bt[2]);case 4:return new ft(bt[0],bt[1],bt[2],bt[3]);case 5:return new ft(bt[0],bt[1],bt[2],bt[3],bt[4]);case 6:return new ft(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);case 7:return new ft(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6])}var $t=Sl(ft.prototype),Pt=ft.apply($t,bt);return Gn(Pt)?Pt:$t}}function I0(ft,bt,$t){var Pt=Bl(ft);function jt(){for(var Jt=arguments.length,ar=Tr(Jt),ur=Jt,yr=El(jt);ur--;)ar[ur]=arguments[ur];var Ir=Jt<3&&ar[0]!==yr&&ar[Jt-1]!==yr?[]:No(ar,yr);if(Jt-=Ir.length,Jt<$t)return Fm(ft,bt,yu,jt.placeholder,o,ar,Ir,o,o,$t-Jt);var Mr=this&&this!==qr&&this instanceof jt?Pt:ft;return os(Mr,this,ar)}return jt}function Mm(ft){return function(bt,$t,Pt){var jt=Bn(bt);if(!Ds(bt)){var Jt=cn($t,3);bt=as(bt),$t=function(ur){return Jt(jt[ur],ur,jt)}}var ar=ft(bt,$t,Pt);return ar>-1?jt[Jt?bt[ar]:ar]:o}}function Pm(ft){return Ao(function(bt){var $t=bt.length,Pt=$t,jt=Zs.prototype.thru;for(ft&&bt.reverse();Pt--;){var Jt=bt[Pt];if(typeof Jt!="function")throw new Qs(ot);if(jt&&!ar&&Su(Jt)=="wrapper")var ar=new Zs([],!0)}for(Pt=ar?Pt:$t;++Pt<$t;){Jt=bt[Pt];var ur=Su(Jt),yr=ur=="wrapper"?dp(Jt):o;yr&&yp(yr[0])&&yr[1]==(St|pt|vt|yt)&&!yr[4].length&&yr[9]==1?ar=ar[Su(yr[0])].apply(ar,yr[3]):ar=Jt.length==1&&yp(Jt)?ar[ur]():ar.thru(Jt)}return function(){var Ir=arguments,Mr=Ir[0];if(ar&&Ir.length==1&&bn(Mr))return ar.plant(Mr).value();for(var Pr=0,Kr=$t?bt[Pr].apply(this,Ir):Mr;++Pr<$t;)Kr=bt[Pr].call(this,Kr);return Kr}})}function yu(ft,bt,$t,Pt,jt,Jt,ar,ur,yr,Ir){var Mr=bt&St,Pr=bt&ct,Kr=bt&ht,en=bt&(pt|mt),fn=bt&gt,_n=Kr?o:Bl(ft);function dn(){for(var Cn=arguments.length,An=Tr(Cn),Ws=Cn;Ws--;)An[Ws]=arguments[Ws];if(en)var As=El(dn),Hs=Uy(An,As);if(Pt&&(An=$m(An,Pt,jt,en)),Jt&&(An=Am(An,Jt,ar,en)),Cn-=Hs,en&&Cn<Ir){var qn=No(An,As);return Fm(ft,bt,yu,dn.placeholder,$t,An,qn,ur,yr,Ir-Cn)}var co=Pr?$t:this,Mo=Kr?co[ft]:ft;return Cn=An.length,ur?An=Q0(An,ur):fn&&Cn>1&&An.reverse(),Mr&&yr<Cn&&(An.length=yr),this&&this!==qr&&this instanceof dn&&(Mo=_n||Bl(Mo)),Mo.apply(co,An)}return dn}function Dm(ft,bt){return function($t,Pt){return s0($t,ft,bt(Pt),{})}}function vu(ft,bt){return function($t,Pt){var jt;if($t===o&&Pt===o)return bt;if($t!==o&&(jt=$t),Pt!==o){if(jt===o)return Pt;typeof $t=="string"||typeof Pt=="string"?($t=js($t),Pt=js(Pt)):($t=bm($t),Pt=bm(Pt)),jt=ft($t,Pt)}return jt}}function up(ft){return Ao(function(bt){return bt=Wn(bt,zs(cn())),En(function($t){var Pt=this;return ft(bt,function(jt){return os(jt,Pt,$t)})})})}function xu(ft,bt){bt=bt===o?" ":js(bt);var $t=bt.length;if($t<2)return $t?rp(bt,ft):bt;var Pt=rp(bt,su(ft/xa(bt)));return ga(bt)?Uo(ao(Pt),0,ft).join(""):Pt.slice(0,ft)}function L0(ft,bt,$t,Pt){var jt=bt&ct,Jt=Bl(ft);function ar(){for(var ur=-1,yr=arguments.length,Ir=-1,Mr=Pt.length,Pr=Tr(Mr+yr),Kr=this&&this!==qr&&this instanceof ar?Jt:ft;++Ir<Mr;)Pr[Ir]=Pt[Ir];for(;yr--;)Pr[Ir++]=arguments[++ur];return os(Kr,jt?$t:this,Pr)}return ar}function Om(ft){return function(bt,$t,Pt){return Pt&&typeof Pt!="number"&&$s(bt,$t,Pt)&&($t=Pt=o),bt=Lo(bt),$t===o?($t=bt,bt=0):$t=Lo($t),Pt=Pt===o?bt<$t?1:-1:Lo(Pt),y0(bt,$t,Pt,ft)}}function bu(ft){return function(bt,$t){return typeof bt=="string"&&typeof $t=="string"||(bt=ro(bt),$t=ro($t)),ft(bt,$t)}}function Fm(ft,bt,$t,Pt,jt,Jt,ar,ur,yr,Ir){var Mr=bt&pt,Pr=Mr?ar:o,Kr=Mr?o:ar,en=Mr?Jt:o,fn=Mr?o:Jt;bt|=Mr?vt:dt,bt&=~(Mr?dt:vt),bt&ut||(bt&=~(ct|ht));var _n=[ft,bt,jt,en,Pr,fn,Kr,ur,yr,Ir],dn=$t.apply(o,_n);return yp(ft)&&Ym(dn,_n),dn.placeholder=Pt,qm(dn,ft,bt)}function cp(ft){var bt=rs[ft];return function($t,Pt){if($t=ro($t),Pt=Pt==null?0:bs(Sn(Pt),292),Pt&&qp($t)){var jt=(Dn($t)+"e").split("e"),Jt=bt(jt[0]+"e"+(+jt[1]+Pt));return jt=(Dn(Jt)+"e").split("e"),+(jt[0]+"e"+(+jt[1]-Pt))}return bt($t)}}var M0=yl&&1/Xl(new yl([,-0]))[1]==Ot?function(ft){return new yl(ft)}:Lp;function Nm(ft){return function(bt){var $t=Ss(bt);return $t==xr?Bu(bt):$t==Nn?qy(bt):jy(bt,ft(bt))}}function $o(ft,bt,$t,Pt,jt,Jt,ar,ur){var yr=bt&ht;if(!yr&&typeof ft!="function")throw new Qs(ot);var Ir=Pt?Pt.length:0;if(Ir||(bt&=~(vt|dt),Pt=jt=o),ar=ar===o?ar:ns(Sn(ar),0),ur=ur===o?ur:Sn(ur),Ir-=jt?jt.length:0,bt&dt){var Mr=Pt,Pr=jt;Pt=jt=o}var Kr=yr?o:dp(ft),en=[ft,bt,$t,Pt,jt,Mr,Pr,Jt,ar,ur];if(Kr&&X0(en,Kr),ft=en[0],bt=en[1],$t=en[2],Pt=en[3],jt=en[4],ur=en[9]=en[9]===o?yr?0:ft.length:ns(en[9]-Ir,0),!ur&&bt&(pt|mt)&&(bt&=~(pt|mt)),!bt||bt==ct)var fn=R0(ft,bt,$t);else bt==pt||bt==mt?fn=I0(ft,bt,ur):(bt==vt||bt==(ct|vt))&&!jt.length?fn=L0(ft,bt,$t,Pt):fn=yu.apply(o,en);var _n=Kr?vm:Ym;return qm(_n(fn,en),ft,bt)}function Vm(ft,bt,$t,Pt){return ft===o||uo(ft,$a[$t])&&!Fn.call(Pt,$t)?bt:ft}function Bm(ft,bt,$t,Pt,jt,Jt){return Gn(ft)&&Gn(bt)&&(Jt.set(bt,ft),du(ft,bt,o,Bm,Jt),Jt.delete(bt)),ft}function P0(ft){return Wl(ft)?o:ft}function zm(ft,bt,$t,Pt,jt,Jt){var ar=$t&st,ur=ft.length,yr=bt.length;if(ur!=yr&&!(ar&&yr>ur))return!1;var Ir=Jt.get(ft),Mr=Jt.get(bt);if(Ir&&Mr)return Ir==bt&&Mr==ft;var Pr=-1,Kr=!0,en=$t&lt?new Xo:o;for(Jt.set(ft,bt),Jt.set(bt,ft);++Pr<ur;){var fn=ft[Pr],_n=bt[Pr];if(Pt)var dn=ar?Pt(_n,fn,Pr,bt,ft,Jt):Pt(fn,_n,Pr,ft,bt,Jt);if(dn!==o){if(dn)continue;Kr=!1;break}if(en){if(!Pu(bt,function(Cn,An){if(!Al(en,An)&&(fn===Cn||jt(fn,Cn,$t,Pt,Jt)))return en.push(An)})){Kr=!1;break}}else if(!(fn===_n||jt(fn,_n,$t,Pt,Jt))){Kr=!1;break}}return Jt.delete(ft),Jt.delete(bt),Kr}function D0(ft,bt,$t,Pt,jt,Jt,ar){switch($t){case kr:if(ft.byteLength!=bt.byteLength||ft.byteOffset!=bt.byteOffset)return!1;ft=ft.buffer,bt=bt.buffer;case Nr:return!(ft.byteLength!=bt.byteLength||!Jt(new tu(ft),new tu(bt)));case fr:case pr:case Sr:return uo(+ft,+bt);case tr:return ft.name==bt.name&&ft.message==bt.message;case Rn:case Mn:return ft==bt+"";case xr:var ur=Bu;case Nn:var yr=Pt&st;if(ur||(ur=Xl),ft.size!=bt.size&&!yr)return!1;var Ir=ar.get(ft);if(Ir)return Ir==bt;Pt|=lt,ar.set(ft,bt);var Mr=zm(ur(ft),ur(bt),Pt,jt,Jt,ar);return ar.delete(ft),Mr;case pn:if(Pl)return Pl.call(ft)==Pl.call(bt)}return!1}function O0(ft,bt,$t,Pt,jt,Jt){var ar=$t&st,ur=hp(ft),yr=ur.length,Ir=hp(bt),Mr=Ir.length;if(yr!=Mr&&!ar)return!1;for(var Pr=yr;Pr--;){var Kr=ur[Pr];if(!(ar?Kr in bt:Fn.call(bt,Kr)))return!1}var en=Jt.get(ft),fn=Jt.get(bt);if(en&&fn)return en==bt&&fn==ft;var _n=!0;Jt.set(ft,bt),Jt.set(bt,ft);for(var dn=ar;++Pr<yr;){Kr=ur[Pr];var Cn=ft[Kr],An=bt[Kr];if(Pt)var Ws=ar?Pt(An,Cn,Kr,bt,ft,Jt):Pt(Cn,An,Kr,ft,bt,Jt);if(!(Ws===o?Cn===An||jt(Cn,An,$t,Pt,Jt):Ws)){_n=!1;break}dn||(dn=Kr=="constructor")}if(_n&&!dn){var As=ft.constructor,Hs=bt.constructor;As!=Hs&&"constructor"in ft&&"constructor"in bt&&!(typeof As=="function"&&As instanceof As&&typeof Hs=="function"&&Hs instanceof Hs)&&(_n=!1)}return Jt.delete(ft),Jt.delete(bt),_n}function Ao(ft){return xp(Km(ft,o,ry),ft+"")}function hp(ft){return am(ft,as,mp)}function fp(ft){return am(ft,Os,jm)}var dp=au?function(ft){return au.get(ft)}:Lp;function Su(ft){for(var bt=ft.name+"",$t=xl[bt],Pt=Fn.call(xl,bt)?$t.length:0;Pt--;){var jt=$t[Pt],Jt=jt.func;if(Jt==null||Jt==ft)return jt.name}return bt}function El(ft){var bt=Fn.call(Gt,"placeholder")?Gt:ft;return bt.placeholder}function cn(){var ft=Gt.iteratee||Rp;return ft=ft===Rp?cm:ft,arguments.length?ft(arguments[0],arguments[1]):ft}function wu(ft,bt){var $t=ft.__data__;return W0(bt)?$t[typeof bt=="string"?"string":"hash"]:$t.map}function pp(ft){for(var bt=as(ft),$t=bt.length;$t--;){var Pt=bt[$t],jt=ft[Pt];bt[$t]=[Pt,jt,Hm(jt)]}return bt}function Qo(ft,bt){var $t=Ky(ft,bt);return um($t)?$t:o}function F0(ft){var bt=Fn.call(ft,Go),$t=ft[Go];try{ft[Go]=o;var Pt=!0}catch{}var jt=Jl.call(ft);return Pt&&(bt?ft[Go]=$t:delete ft[Go]),jt}var mp=ju?function(ft){return ft==null?[]:(ft=Bn(ft),Oo(ju(ft),function(bt){return Xp.call(ft,bt)}))}:Mp,jm=ju?function(ft){for(var bt=[];ft;)Fo(bt,mp(ft)),ft=ru(ft);return bt}:Mp,Ss=ks;(Uu&&Ss(new Uu(new ArrayBuffer(1)))!=kr||Il&&Ss(new Il)!=xr||Wu&&Ss(Wu.resolve())!=tn||yl&&Ss(new yl)!=Nn||Ll&&Ss(new Ll)!=In)&&(Ss=function(ft){var bt=ks(ft),$t=bt==Ur?ft.constructor:o,Pt=$t?Zo($t):"";if(Pt)switch(Pt){case xv:return kr;case bv:return xr;case Sv:return tn;case wv:return Nn;case _v:return In}return bt});function N0(ft,bt,$t){for(var Pt=-1,jt=$t.length;++Pt<jt;){var Jt=$t[Pt],ar=Jt.size;switch(Jt.type){case"drop":ft+=ar;break;case"dropRight":bt-=ar;break;case"take":bt=bs(bt,ft+ar);break;case"takeRight":ft=ns(ft,bt-ar);break}}return{start:ft,end:bt}}function V0(ft){var bt=ft.match(cs);return bt?bt[1].split(Gs):[]}function Um(ft,bt,$t){bt=jo(bt,ft);for(var Pt=-1,jt=bt.length,Jt=!1;++Pt<jt;){var ar=So(bt[Pt]);if(!(Jt=ft!=null&&$t(ft,ar)))break;ft=ft[ar]}return Jt||++Pt!=jt?Jt:(jt=ft==null?0:ft.length,!!jt&&Au(jt)&&Ro(ar,jt)&&(bn(ft)||Jo(ft)))}function B0(ft){var bt=ft.length,$t=new ft.constructor(bt);return bt&&typeof ft[0]=="string"&&Fn.call(ft,"index")&&($t.index=ft.index,$t.input=ft.input),$t}function Wm(ft){return typeof ft.constructor=="function"&&!zl(ft)?Sl(ru(ft)):{}}function z0(ft,bt,$t){var Pt=ft.constructor;switch(bt){case Nr:return lp(ft);case fr:case pr:return new Pt(+ft);case kr:return E0(ft,$t);case nn:case Yt:case er:case lr:case Lr:case Or:case Er:case Cr:case Hr:return Cm(ft,$t);case xr:return new Pt;case Sr:case Mn:return new Pt(ft);case Rn:return T0(ft);case Nn:return new Pt;case pn:return C0(ft)}}function j0(ft,bt){var $t=bt.length;if(!$t)return ft;var Pt=$t-1;return bt[Pt]=($t>1?"& ":"")+bt[Pt],bt=bt.join($t>2?", ":" "),ft.replace(us,`{
/* [wrapped with `+bt+`] */
`)}function U0(ft){return bn(ft)||Jo(ft)||!!(Yp&&ft&&ft[Yp])}function Ro(ft,bt){var $t=typeof ft;return bt=bt??Mt,!!bt&&($t=="number"||$t!="symbol"&&oo.test(ft))&&ft>-1&&ft%1==0&&ft<bt}function $s(ft,bt,$t){if(!Gn($t))return!1;var Pt=typeof bt;return(Pt=="number"?Ds($t)&&Ro(bt,$t.length):Pt=="string"&&bt in $t)?uo($t[bt],ft):!1}function gp(ft,bt){if(bn(ft))return!1;var $t=typeof ft;return $t=="number"||$t=="symbol"||$t=="boolean"||ft==null||Us(ft)?!0:ls.test(ft)||!Xn.test(ft)||bt!=null&&ft in Bn(bt)}function W0(ft){var bt=typeof ft;return bt=="string"||bt=="number"||bt=="symbol"||bt=="boolean"?ft!=="__proto__":ft===null}function yp(ft){var bt=Su(ft),$t=Gt[bt];if(typeof $t!="function"||!(bt in $n.prototype))return!1;if(ft===$t)return!0;var Pt=dp($t);return!!Pt&&ft===Pt[0]}function H0(ft){return!!Hp&&Hp in ft}var G0=Ql?Io:Pp;function zl(ft){var bt=ft&&ft.constructor,$t=typeof bt=="function"&&bt.prototype||$a;return ft===$t}function Hm(ft){return ft===ft&&!Gn(ft)}function Gm(ft,bt){return function($t){return $t==null?!1:$t[ft]===bt&&(bt!==o||ft in Bn($t))}}function K0(ft){var bt=ku(ft,function(Pt){return $t.size===it&&$t.clear(),Pt}),$t=bt.cache;return bt}function X0(ft,bt){var $t=ft[1],Pt=bt[1],jt=$t|Pt,Jt=jt<(ct|ht|St),ar=Pt==St&&$t==pt||Pt==St&&$t==yt&&ft[7].length<=bt[8]||Pt==(St|yt)&&bt[7].length<=bt[8]&&$t==pt;if(!(Jt||ar))return ft;Pt&ct&&(ft[2]=bt[2],jt|=$t&ct?0:ut);var ur=bt[3];if(ur){var yr=ft[3];ft[3]=yr?$m(yr,ur,bt[4]):ur,ft[4]=yr?No(ft[3],j):bt[4]}return ur=bt[5],ur&&(yr=ft[5],ft[5]=yr?Am(yr,ur,bt[6]):ur,ft[6]=yr?No(ft[5],j):bt[6]),ur=bt[7],ur&&(ft[7]=ur),Pt&St&&(ft[8]=ft[8]==null?bt[8]:bs(ft[8],bt[8])),ft[9]==null&&(ft[9]=bt[9]),ft[0]=bt[0],ft[1]=jt,ft}function Y0(ft){var bt=[];if(ft!=null)for(var $t in Bn(ft))bt.push($t);return bt}function q0(ft){return Jl.call(ft)}function Km(ft,bt,$t){return bt=ns(bt===o?ft.length-1:bt,0),function(){for(var Pt=arguments,jt=-1,Jt=ns(Pt.length-bt,0),ar=Tr(Jt);++jt<Jt;)ar[jt]=Pt[bt+jt];jt=-1;for(var ur=Tr(bt+1);++jt<bt;)ur[jt]=Pt[jt];return ur[bt]=$t(ar),os(ft,this,ur)}}function Xm(ft,bt){return bt.length<2?ft:qo(ft,eo(bt,0,-1))}function Q0(ft,bt){for(var $t=ft.length,Pt=bs(bt.length,$t),jt=Ps(ft);Pt--;){var Jt=bt[Pt];ft[Pt]=Ro(Jt,$t)?jt[Jt]:o}return ft}function vp(ft,bt){if(!(bt==="constructor"&&typeof ft[bt]=="function")&&bt!="__proto__")return ft[bt]}var Ym=Qm(vm),Ul=fv||function(ft,bt){return qr.setTimeout(ft,bt)},xp=Qm(b0);function qm(ft,bt,$t){var Pt=bt+"";return xp(ft,j0(Pt,Z0(V0(Pt),$t)))}function Qm(ft){var bt=0,$t=0;return function(){var Pt=gv(),jt=Ct-(Pt-$t);if($t=Pt,jt>0){if(++bt>=kt)return arguments[0]}else bt=0;return ft.apply(o,arguments)}}function _u(ft,bt){var $t=-1,Pt=ft.length,jt=Pt-1;for(bt=bt===o?Pt:bt;++$t<bt;){var Jt=tp($t,jt),ar=ft[Jt];ft[Jt]=ft[$t],ft[$t]=ar}return ft.length=bt,ft}var Zm=K0(function(ft){var bt=[];return ft.charCodeAt(0)===46&&bt.push(""),ft.replace(Ns,function($t,Pt,jt,Jt){bt.push(jt?Jt.replace(Ks,"$1"):Pt||$t)}),bt});function So(ft){if(typeof ft=="string"||Us(ft))return ft;var bt=ft+"";return bt=="0"&&1/ft==-Ot?"-0":bt}function Zo(ft){if(ft!=null){try{return Zl.call(ft)}catch{}try{return ft+""}catch{}}return""}function Z0(ft,bt){return qs(Ht,function($t){var Pt="_."+$t[0];bt&$t[1]&&!Gl(ft,Pt)&&ft.push(Pt)}),ft.sort()}function Jm(ft){if(ft instanceof $n)return ft.clone();var bt=new Zs(ft.__wrapped__,ft.__chain__);return bt.__actions__=Ps(ft.__actions__),bt.__index__=ft.__index__,bt.__values__=ft.__values__,bt}function J0(ft,bt,$t){($t?$s(ft,bt,$t):bt===o)?bt=1:bt=ns(Sn(bt),0);var Pt=ft==null?0:ft.length;if(!Pt||bt<1)return[];for(var jt=0,Jt=0,ar=Tr(su(Pt/bt));jt<Pt;)ar[Jt++]=eo(ft,jt,jt+=bt);return ar}function ex(ft){for(var bt=-1,$t=ft==null?0:ft.length,Pt=0,jt=[];++bt<$t;){var Jt=ft[bt];Jt&&(jt[Pt++]=Jt)}return jt}function tx(){var ft=arguments.length;if(!ft)return[];for(var bt=Tr(ft-1),$t=arguments[0],Pt=ft;Pt--;)bt[Pt-1]=arguments[Pt];return Fo(bn($t)?Ps($t):[$t],ds(bt,1))}var rx=En(function(ft,bt){return Yn(ft)?Ol(ft,ds(bt,1,Yn,!0)):[]}),nx=En(function(ft,bt){var $t=to(bt);return Yn($t)&&($t=o),Yn(ft)?Ol(ft,ds(bt,1,Yn,!0),cn($t,2)):[]}),ix=En(function(ft,bt){var $t=to(bt);return Yn($t)&&($t=o),Yn(ft)?Ol(ft,ds(bt,1,Yn,!0),o,$t):[]});function sx(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?(bt=$t||bt===o?1:Sn(bt),eo(ft,bt<0?0:bt,Pt)):[]}function ox(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?(bt=$t||bt===o?1:Sn(bt),bt=Pt-bt,eo(ft,0,bt<0?0:bt)):[]}function ax(ft,bt){return ft&&ft.length?mu(ft,cn(bt,3),!0,!0):[]}function lx(ft,bt){return ft&&ft.length?mu(ft,cn(bt,3),!0):[]}function ux(ft,bt,$t,Pt){var jt=ft==null?0:ft.length;return jt?($t&&typeof $t!="number"&&$s(ft,bt,$t)&&($t=0,Pt=jt),t0(ft,bt,$t,Pt)):[]}function ey(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var jt=$t==null?0:Sn($t);return jt<0&&(jt=ns(Pt+jt,0)),Kl(ft,cn(bt,3),jt)}function ty(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var jt=Pt-1;return $t!==o&&(jt=Sn($t),jt=$t<0?ns(Pt+jt,0):bs(jt,Pt-1)),Kl(ft,cn(bt,3),jt,!0)}function ry(ft){var bt=ft==null?0:ft.length;return bt?ds(ft,1):[]}function hx(ft){var bt=ft==null?0:ft.length;return bt?ds(ft,Ot):[]}function fx(ft,bt){var $t=ft==null?0:ft.length;return $t?(bt=bt===o?1:Sn(bt),ds(ft,bt)):[]}function dx(ft){for(var bt=-1,$t=ft==null?0:ft.length,Pt={};++bt<$t;){var jt=ft[bt];Pt[jt[0]]=jt[1]}return Pt}function ny(ft){return ft&&ft.length?ft[0]:o}function mx(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var jt=$t==null?0:Sn($t);return jt<0&&(jt=ns(Pt+jt,0)),na(ft,bt,jt)}function gx(ft){var bt=ft==null?0:ft.length;return bt?eo(ft,0,-1):[]}var yx=En(function(ft){var bt=Wn(ft,op);return bt.length&&bt[0]===ft[0]?qu(bt):[]}),vx=En(function(ft){var bt=to(ft),$t=Wn(ft,op);return bt===to($t)?bt=o:$t.pop(),$t.length&&$t[0]===ft[0]?qu($t,cn(bt,2)):[]}),xx=En(function(ft){var bt=to(ft),$t=Wn(ft,op);return bt=typeof bt=="function"?bt:o,bt&&$t.pop(),$t.length&&$t[0]===ft[0]?qu($t,o,bt):[]});function bx(ft,bt){return ft==null?"":pv.call(ft,bt)}function to(ft){var bt=ft==null?0:ft.length;return bt?ft[bt-1]:o}function Sx(ft,bt,$t){var Pt=ft==null?0:ft.length;if(!Pt)return-1;var jt=Pt;return $t!==o&&(jt=Sn($t),jt=jt<0?ns(Pt+jt,0):bs(jt,Pt-1)),bt===bt?Zy(ft,bt,jt):Kl(ft,Fp,jt,!0)}function wx(ft,bt){return ft&&ft.length?pm(ft,Sn(bt)):o}var _x=En(iy);function iy(ft,bt){return ft&&ft.length&&bt&&bt.length?ep(ft,bt):ft}function Ex(ft,bt,$t){return ft&&ft.length&&bt&&bt.length?ep(ft,bt,cn($t,2)):ft}function Tx(ft,bt,$t){return ft&&ft.length&&bt&&bt.length?ep(ft,bt,o,$t):ft}var Cx=Ao(function(ft,bt){var $t=ft==null?0:ft.length,Pt=Gu(ft,bt);return ym(ft,Wn(bt,function(jt){return Ro(jt,$t)?+jt:jt}).sort(km)),Pt});function kx(ft,bt){var $t=[];if(!(ft&&ft.length))return $t;var Pt=-1,jt=[],Jt=ft.length;for(bt=cn(bt,3);++Pt<Jt;){var ar=ft[Pt];bt(ar,Pt,ft)&&($t.push(ar),jt.push(Pt))}return ym(ft,jt),$t}function bp(ft){return ft==null?ft:vv.call(ft)}function $x(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?($t&&typeof $t!="number"&&$s(ft,bt,$t)?(bt=0,$t=Pt):(bt=bt==null?0:Sn(bt),$t=$t===o?Pt:Sn($t)),eo(ft,bt,$t)):[]}function Ax(ft,bt){return pu(ft,bt)}function Rx(ft,bt,$t){return np(ft,bt,cn($t,2))}function Ix(ft,bt){var $t=ft==null?0:ft.length;if($t){var Pt=pu(ft,bt);if(Pt<$t&&uo(ft[Pt],bt))return Pt}return-1}function Lx(ft,bt){return pu(ft,bt,!0)}function Mx(ft,bt,$t){return np(ft,bt,cn($t,2),!0)}function Px(ft,bt){var $t=ft==null?0:ft.length;if($t){var Pt=pu(ft,bt,!0)-1;if(uo(ft[Pt],bt))return Pt}return-1}function Dx(ft){return ft&&ft.length?xm(ft):[]}function Ox(ft,bt){return ft&&ft.length?xm(ft,cn(bt,2)):[]}function Fx(ft){var bt=ft==null?0:ft.length;return bt?eo(ft,1,bt):[]}function Nx(ft,bt,$t){return ft&&ft.length?(bt=$t||bt===o?1:Sn(bt),eo(ft,0,bt<0?0:bt)):[]}function Vx(ft,bt,$t){var Pt=ft==null?0:ft.length;return Pt?(bt=$t||bt===o?1:Sn(bt),bt=Pt-bt,eo(ft,bt<0?0:bt,Pt)):[]}function Bx(ft,bt){return ft&&ft.length?mu(ft,cn(bt,3),!1,!0):[]}function zx(ft,bt){return ft&&ft.length?mu(ft,cn(bt,3)):[]}var jx=En(function(ft){return zo(ds(ft,1,Yn,!0))}),Ux=En(function(ft){var bt=to(ft);return Yn(bt)&&(bt=o),zo(ds(ft,1,Yn,!0),cn(bt,2))}),Wx=En(function(ft){var bt=to(ft);return bt=typeof bt=="function"?bt:o,zo(ds(ft,1,Yn,!0),o,bt)});function Hx(ft){return ft&&ft.length?zo(ft):[]}function Gx(ft,bt){return ft&&ft.length?zo(ft,cn(bt,2)):[]}function Kx(ft,bt){return bt=typeof bt=="function"?bt:o,ft&&ft.length?zo(ft,o,bt):[]}function Sp(ft){if(!(ft&&ft.length))return[];var bt=0;return ft=Oo(ft,function($t){if(Yn($t))return bt=ns($t.length,bt),!0}),Nu(bt,function($t){return Wn(ft,Du($t))})}function sy(ft,bt){if(!(ft&&ft.length))return[];var $t=Sp(ft);return bt==null?$t:Wn($t,function(Pt){return os(bt,o,Pt)})}var Xx=En(function(ft,bt){return Yn(ft)?Ol(ft,bt):[]}),Yx=En(function(ft){return sp(Oo(ft,Yn))}),qx=En(function(ft){var bt=to(ft);return Yn(bt)&&(bt=o),sp(Oo(ft,Yn),cn(bt,2))}),Qx=En(function(ft){var bt=to(ft);return bt=typeof bt=="function"?bt:o,sp(Oo(ft,Yn),o,bt)}),Zx=En(Sp);function Jx(ft,bt){return _m(ft||[],bt||[],Dl)}function e1(ft,bt){return _m(ft||[],bt||[],Vl)}var t1=En(function(ft){var bt=ft.length,$t=bt>1?ft[bt-1]:o;return $t=typeof $t=="function"?(ft.pop(),$t):o,sy(ft,$t)});function oy(ft){var bt=Gt(ft);return bt.__chain__=!0,bt}function r1(ft,bt){return bt(ft),ft}function Eu(ft,bt){return bt(ft)}var n1=Ao(function(ft){var bt=ft.length,$t=bt?ft[0]:0,Pt=this.__wrapped__,jt=function(Jt){return Gu(Jt,ft)};return bt>1||this.__actions__.length||!(Pt instanceof $n)||!Ro($t)?this.thru(jt):(Pt=Pt.slice($t,+$t+(bt?1:0)),Pt.__actions__.push({func:Eu,args:[jt],thisArg:o}),new Zs(Pt,this.__chain__).thru(function(Jt){return bt&&!Jt.length&&Jt.push(o),Jt}))});function i1(){return oy(this)}function s1(){return new Zs(this.value(),this.__chain__)}function o1(){this.__values__===o&&(this.__values__=by(this.value()));var ft=this.__index__>=this.__values__.length,bt=ft?o:this.__values__[this.__index__++];return{done:ft,value:bt}}function a1(){return this}function l1(ft){for(var bt,$t=this;$t instanceof uu;){var Pt=Jm($t);Pt.__index__=0,Pt.__values__=o,bt?jt.__wrapped__=Pt:bt=Pt;var jt=Pt;$t=$t.__wrapped__}return jt.__wrapped__=ft,bt}function u1(){var ft=this.__wrapped__;if(ft instanceof $n){var bt=ft;return this.__actions__.length&&(bt=new $n(this)),bt=bt.reverse(),bt.__actions__.push({func:Eu,args:[bp],thisArg:o}),new Zs(bt,this.__chain__)}return this.thru(bp)}function c1(){return wm(this.__wrapped__,this.__actions__)}var h1=gu(function(ft,bt,$t){Fn.call(ft,$t)?++ft[$t]:ko(ft,$t,1)});function f1(ft,bt,$t){var Pt=bn(ft)?Dp:e0;return $t&&$s(ft,bt,$t)&&(bt=o),Pt(ft,cn(bt,3))}function d1(ft,bt){var $t=bn(ft)?Oo:sm;return $t(ft,cn(bt,3))}var p1=Mm(ey),m1=Mm(ty);function g1(ft,bt){return ds(Tu(ft,bt),1)}function y1(ft,bt){return ds(Tu(ft,bt),Ot)}function v1(ft,bt,$t){return $t=$t===o?1:Sn($t),ds(Tu(ft,bt),$t)}function ay(ft,bt){var $t=bn(ft)?qs:Bo;return $t(ft,cn(bt,3))}function ly(ft,bt){var $t=bn(ft)?Dy:im;return $t(ft,cn(bt,3))}var x1=gu(function(ft,bt,$t){Fn.call(ft,$t)?ft[$t].push(bt):ko(ft,$t,[bt])});function b1(ft,bt,$t,Pt){ft=Ds(ft)?ft:Cl(ft),$t=$t&&!Pt?Sn($t):0;var jt=ft.length;return $t<0&&($t=ns(jt+$t,0)),Ru(ft)?$t<=jt&&ft.indexOf(bt,$t)>-1:!!jt&&na(ft,bt,$t)>-1}var S1=En(function(ft,bt,$t){var Pt=-1,jt=typeof bt=="function",Jt=Ds(ft)?Tr(ft.length):[];return Bo(ft,function(ar){Jt[++Pt]=jt?os(bt,ar,$t):Fl(ar,bt,$t)}),Jt}),w1=gu(function(ft,bt,$t){ko(ft,$t,bt)});function Tu(ft,bt){var $t=bn(ft)?Wn:hm;return $t(ft,cn(bt,3))}function _1(ft,bt,$t,Pt){return ft==null?[]:(bn(bt)||(bt=bt==null?[]:[bt]),$t=Pt?o:$t,bn($t)||($t=$t==null?[]:[$t]),mm(ft,bt,$t))}var E1=gu(function(ft,bt,$t){ft[$t?0:1].push(bt)},function(){return[[],[]]});function T1(ft,bt,$t){var Pt=bn(ft)?Mu:Vp,jt=arguments.length<3;return Pt(ft,cn(bt,4),$t,jt,Bo)}function C1(ft,bt,$t){var Pt=bn(ft)?Oy:Vp,jt=arguments.length<3;return Pt(ft,cn(bt,4),$t,jt,im)}function k1(ft,bt){var $t=bn(ft)?Oo:sm;return $t(ft,$u(cn(bt,3)))}function $1(ft){var bt=bn(ft)?em:v0;return bt(ft)}function A1(ft,bt,$t){($t?$s(ft,bt,$t):bt===o)?bt=1:bt=Sn(bt);var Pt=bn(ft)?Yv:x0;return Pt(ft,bt)}function R1(ft){var bt=bn(ft)?qv:S0;return bt(ft)}function I1(ft){if(ft==null)return 0;if(Ds(ft))return Ru(ft)?xa(ft):ft.length;var bt=Ss(ft);return bt==xr||bt==Nn?ft.size:Zu(ft).length}function L1(ft,bt,$t){var Pt=bn(ft)?Pu:w0;return $t&&$s(ft,bt,$t)&&(bt=o),Pt(ft,cn(bt,3))}var M1=En(function(ft,bt){if(ft==null)return[];var $t=bt.length;return $t>1&&$s(ft,bt[0],bt[1])?bt=[]:$t>2&&$s(bt[0],bt[1],bt[2])&&(bt=[bt[0]]),mm(ft,ds(bt,1),[])}),Cu=hv||function(){return qr.Date.now()};function P1(ft,bt){if(typeof bt!="function")throw new Qs(ot);return ft=Sn(ft),function(){if(--ft<1)return bt.apply(this,arguments)}}function uy(ft,bt,$t){return bt=$t?o:bt,bt=ft&&bt==null?ft.length:bt,$o(ft,St,o,o,o,o,bt)}function cy(ft,bt){var $t;if(typeof bt!="function")throw new Qs(ot);return ft=Sn(ft),function(){return--ft>0&&($t=bt.apply(this,arguments)),ft<=1&&(bt=o),$t}}var wp=En(function(ft,bt,$t){var Pt=ct;if($t.length){var jt=No($t,El(wp));Pt|=vt}return $o(ft,Pt,bt,$t,jt)}),hy=En(function(ft,bt,$t){var Pt=ct|ht;if($t.length){var jt=No($t,El(hy));Pt|=vt}return $o(bt,Pt,ft,$t,jt)});function fy(ft,bt,$t){bt=$t?o:bt;var Pt=$o(ft,pt,o,o,o,o,o,bt);return Pt.placeholder=fy.placeholder,Pt}function dy(ft,bt,$t){bt=$t?o:bt;var Pt=$o(ft,mt,o,o,o,o,o,bt);return Pt.placeholder=dy.placeholder,Pt}function py(ft,bt,$t){var Pt,jt,Jt,ar,ur,yr,Ir=0,Mr=!1,Pr=!1,Kr=!0;if(typeof ft!="function")throw new Qs(ot);bt=ro(bt)||0,Gn($t)&&(Mr=!!$t.leading,Pr="maxWait"in $t,Jt=Pr?ns(ro($t.maxWait)||0,bt):Jt,Kr="trailing"in $t?!!$t.trailing:Kr);function en(qn){var co=Pt,Mo=jt;return Pt=jt=o,Ir=qn,ar=ft.apply(Mo,co),ar}function fn(qn){return Ir=qn,ur=Ul(Cn,bt),Mr?en(qn):ar}function _n(qn){var co=qn-yr,Mo=qn-Ir,My=bt-co;return Pr?bs(My,Jt-Mo):My}function dn(qn){var co=qn-yr,Mo=qn-Ir;return yr===o||co>=bt||co<0||Pr&&Mo>=Jt}function Cn(){var qn=Cu();if(dn(qn))return An(qn);ur=Ul(Cn,_n(qn))}function An(qn){return ur=o,Kr&&Pt?en(qn):(Pt=jt=o,ar)}function Ws(){ur!==o&&Em(ur),Ir=0,Pt=yr=jt=ur=o}function As(){return ur===o?ar:An(Cu())}function Hs(){var qn=Cu(),co=dn(qn);if(Pt=arguments,jt=this,yr=qn,co){if(ur===o)return fn(yr);if(Pr)return Em(ur),ur=Ul(Cn,bt),en(yr)}return ur===o&&(ur=Ul(Cn,bt)),ar}return Hs.cancel=Ws,Hs.flush=As,Hs}var D1=En(function(ft,bt){return nm(ft,1,bt)}),O1=En(function(ft,bt,$t){return nm(ft,ro(bt)||0,$t)});function F1(ft){return $o(ft,gt)}function ku(ft,bt){if(typeof ft!="function"||bt!=null&&typeof bt!="function")throw new Qs(ot);var $t=function(){var Pt=arguments,jt=bt?bt.apply(this,Pt):Pt[0],Jt=$t.cache;if(Jt.has(jt))return Jt.get(jt);var ar=ft.apply(this,Pt);return $t.cache=Jt.set(jt,ar)||Jt,ar};return $t.cache=new(ku.Cache||Co),$t}ku.Cache=Co;function $u(ft){if(typeof ft!="function")throw new Qs(ot);return function(){var bt=arguments;switch(bt.length){case 0:return!ft.call(this);case 1:return!ft.call(this,bt[0]);case 2:return!ft.call(this,bt[0],bt[1]);case 3:return!ft.call(this,bt[0],bt[1],bt[2])}return!ft.apply(this,bt)}}function N1(ft){return cy(2,ft)}var V1=_0(function(ft,bt){bt=bt.length==1&&bn(bt[0])?Wn(bt[0],zs(cn())):Wn(ds(bt,1),zs(cn()));var $t=bt.length;return En(function(Pt){for(var jt=-1,Jt=bs(Pt.length,$t);++jt<Jt;)Pt[jt]=bt[jt].call(this,Pt[jt]);return os(ft,this,Pt)})}),_p=En(function(ft,bt){var $t=No(bt,El(_p));return $o(ft,vt,o,bt,$t)}),my=En(function(ft,bt){var $t=No(bt,El(my));return $o(ft,dt,o,bt,$t)}),B1=Ao(function(ft,bt){return $o(ft,yt,o,o,o,bt)});function z1(ft,bt){if(typeof ft!="function")throw new Qs(ot);return bt=bt===o?bt:Sn(bt),En(ft,bt)}function j1(ft,bt){if(typeof ft!="function")throw new Qs(ot);return bt=bt==null?0:ns(Sn(bt),0),En(function($t){var Pt=$t[bt],jt=Uo($t,0,bt);return Pt&&Fo(jt,Pt),os(ft,this,jt)})}function U1(ft,bt,$t){var Pt=!0,jt=!0;if(typeof ft!="function")throw new Qs(ot);return Gn($t)&&(Pt="leading"in $t?!!$t.leading:Pt,jt="trailing"in $t?!!$t.trailing:jt),py(ft,bt,{leading:Pt,maxWait:bt,trailing:jt})}function W1(ft){return uy(ft,1)}function H1(ft,bt){return _p(ap(bt),ft)}function G1(){if(!arguments.length)return[];var ft=arguments[0];return bn(ft)?ft:[ft]}function K1(ft){return Js(ft,tt)}function X1(ft,bt){return bt=typeof bt=="function"?bt:o,Js(ft,tt,bt)}function Y1(ft){return Js(ft,_|tt)}function q1(ft,bt){return bt=typeof bt=="function"?bt:o,Js(ft,_|tt,bt)}function Q1(ft,bt){return bt==null||rm(ft,bt,as(bt))}function uo(ft,bt){return ft===bt||ft!==ft&&bt!==bt}var Z1=bu(Yu),J1=bu(function(ft,bt){return ft>=bt}),Jo=lm(function(){return arguments}())?lm:function(ft){return Kn(ft)&&Fn.call(ft,"callee")&&!Xp.call(ft,"callee")},bn=Tr.isArray,eS=ts?zs(ts):o0;function Ds(ft){return ft!=null&&Au(ft.length)&&!Io(ft)}function Yn(ft){return Kn(ft)&&Ds(ft)}function tS(ft){return ft===!0||ft===!1||Kn(ft)&&ks(ft)==fr}var Wo=dv||Pp,rS=Ms?zs(Ms):a0;function nS(ft){return Kn(ft)&&ft.nodeType===1&&!Wl(ft)}function iS(ft){if(ft==null)return!0;if(Ds(ft)&&(bn(ft)||typeof ft=="string"||typeof ft.splice=="function"||Wo(ft)||Tl(ft)||Jo(ft)))return!ft.length;var bt=Ss(ft);if(bt==xr||bt==Nn)return!ft.size;if(zl(ft))return!Zu(ft).length;for(var $t in ft)if(Fn.call(ft,$t))return!1;return!0}function sS(ft,bt){return Nl(ft,bt)}function oS(ft,bt,$t){$t=typeof $t=="function"?$t:o;var Pt=$t?$t(ft,bt):o;return Pt===o?Nl(ft,bt,o,$t):!!Pt}function Ep(ft){if(!Kn(ft))return!1;var bt=ks(ft);return bt==tr||bt==gr||typeof ft.message=="string"&&typeof ft.name=="string"&&!Wl(ft)}function aS(ft){return typeof ft=="number"&&qp(ft)}function Io(ft){if(!Gn(ft))return!1;var bt=ks(ft);return bt==rr||bt==qt||bt==hr||bt==on}function gy(ft){return typeof ft=="number"&&ft==Sn(ft)}function Au(ft){return typeof ft=="number"&&ft>-1&&ft%1==0&&ft<=Mt}function Gn(ft){var bt=typeof ft;return ft!=null&&(bt=="object"||bt=="function")}function Kn(ft){return ft!=null&&typeof ft=="object"}var yy=Ys?zs(Ys):u0;function lS(ft,bt){return ft===bt||Qu(ft,bt,pp(bt))}function uS(ft,bt,$t){return $t=typeof $t=="function"?$t:o,Qu(ft,bt,pp(bt),$t)}function cS(ft){return vy(ft)&&ft!=+ft}function hS(ft){if(G0(ft))throw new xn(et);return um(ft)}function fS(ft){return ft===null}function dS(ft){return ft==null}function vy(ft){return typeof ft=="number"||Kn(ft)&&ks(ft)==Sr}function Wl(ft){if(!Kn(ft)||ks(ft)!=Ur)return!1;var bt=ru(ft);if(bt===null)return!0;var $t=Fn.call(bt,"constructor")&&bt.constructor;return typeof $t=="function"&&$t instanceof $t&&Zl.call($t)==av}var Tp=vo?zs(vo):c0;function pS(ft){return gy(ft)&&ft>=-Mt&&ft<=Mt}var xy=$l?zs($l):h0;function Ru(ft){return typeof ft=="string"||!bn(ft)&&Kn(ft)&&ks(ft)==Mn}function Us(ft){return typeof ft=="symbol"||Kn(ft)&&ks(ft)==pn}var Tl=Ho?zs(Ho):f0;function mS(ft){return ft===o}function gS(ft){return Kn(ft)&&Ss(ft)==In}function yS(ft){return Kn(ft)&&ks(ft)==_r}var vS=bu(Ju),xS=bu(function(ft,bt){return ft<=bt});function by(ft){if(!ft)return[];if(Ds(ft))return Ru(ft)?ao(ft):Ps(ft);if(Rl&&ft[Rl])return Yy(ft[Rl]());var bt=Ss(ft),$t=bt==xr?Bu:bt==Nn?Xl:Cl;return $t(ft)}function Lo(ft){if(!ft)return ft===0?ft:0;if(ft=ro(ft),ft===Ot||ft===-Ot){var bt=ft<0?-1:1;return bt*Dt}return ft===ft?ft:0}function Sn(ft){var bt=Lo(ft),$t=bt%1;return bt===bt?$t?bt-$t:bt:0}function Sy(ft){return ft?Yo(Sn(ft),0,Kt):0}function ro(ft){if(typeof ft=="number")return ft;if(Us(ft))return Bt;if(Gn(ft)){var bt=typeof ft.valueOf=="function"?ft.valueOf():ft;ft=Gn(bt)?bt+"":bt}if(typeof ft!="string")return ft===0?ft:+ft;ft=Bp(ft);var $t=so.test(ft);return $t||po.test(ft)?Wr(ft.slice(2),$t?2:8):ho.test(ft)?Bt:+ft}function wy(ft){return bo(ft,Os(ft))}function bS(ft){return ft?Yo(Sn(ft),-Mt,Mt):ft===0?ft:0}function Dn(ft){return ft==null?"":js(ft)}var SS=wl(function(ft,bt){if(zl(bt)||Ds(bt)){bo(bt,as(bt),ft);return}for(var $t in bt)Fn.call(bt,$t)&&Dl(ft,$t,bt[$t])}),_y=wl(function(ft,bt){bo(bt,Os(bt),ft)}),Iu=wl(function(ft,bt,$t,Pt){bo(bt,Os(bt),ft,Pt)}),wS=wl(function(ft,bt,$t,Pt){bo(bt,as(bt),ft,Pt)}),_S=Ao(Gu);function ES(ft,bt){var $t=Sl(ft);return bt==null?$t:tm($t,bt)}var TS=En(function(ft,bt){ft=Bn(ft);var $t=-1,Pt=bt.length,jt=Pt>2?bt[2]:o;for(jt&&$s(bt[0],bt[1],jt)&&(Pt=1);++$t<Pt;)for(var Jt=bt[$t],ar=Os(Jt),ur=-1,yr=ar.length;++ur<yr;){var Ir=ar[ur],Mr=ft[Ir];(Mr===o||uo(Mr,$a[Ir])&&!Fn.call(ft,Ir))&&(ft[Ir]=Jt[Ir])}return ft}),CS=En(function(ft){return ft.push(o,Bm),os(Ey,o,ft)});function kS(ft,bt){return Op(ft,cn(bt,3),xo)}function $S(ft,bt){return Op(ft,cn(bt,3),Xu)}function AS(ft,bt){return ft==null?ft:Ku(ft,cn(bt,3),Os)}function RS(ft,bt){return ft==null?ft:om(ft,cn(bt,3),Os)}function IS(ft,bt){return ft&&xo(ft,cn(bt,3))}function LS(ft,bt){return ft&&Xu(ft,cn(bt,3))}function PS(ft){return ft==null?[]:fu(ft,as(ft))}function DS(ft){return ft==null?[]:fu(ft,Os(ft))}function Cp(ft,bt,$t){var Pt=ft==null?o:qo(ft,bt);return Pt===o?$t:Pt}function OS(ft,bt){return ft!=null&&Um(ft,bt,r0)}function kp(ft,bt){return ft!=null&&Um(ft,bt,n0)}var FS=Dm(function(ft,bt,$t){bt!=null&&typeof bt.toString!="function"&&(bt=Jl.call(bt)),ft[bt]=$t},Ap(Fs)),NS=Dm(function(ft,bt,$t){bt!=null&&typeof bt.toString!="function"&&(bt=Jl.call(bt)),Fn.call(ft,bt)?ft[bt].push($t):ft[bt]=[$t]},cn),VS=En(Fl);function as(ft){return Ds(ft)?Jp(ft):Zu(ft)}function Os(ft){return Ds(ft)?Jp(ft,!0):d0(ft)}function BS(ft,bt){var $t={};return bt=cn(bt,3),xo(ft,function(Pt,jt,Jt){ko($t,bt(Pt,jt,Jt),Pt)}),$t}function zS(ft,bt){var $t={};return bt=cn(bt,3),xo(ft,function(Pt,jt,Jt){ko($t,jt,bt(Pt,jt,Jt))}),$t}var jS=wl(function(ft,bt,$t){du(ft,bt,$t)}),Ey=wl(function(ft,bt,$t,Pt){du(ft,bt,$t,Pt)}),US=Ao(function(ft,bt){var $t={};if(ft==null)return $t;var Pt=!1;bt=Wn(bt,function(Jt){return Jt=jo(Jt,ft),Pt||(Pt=Jt.length>1),Jt}),bo(ft,fp(ft),$t),Pt&&($t=Js($t,_|$|tt,P0));for(var jt=bt.length;jt--;)ip($t,bt[jt]);return $t});function WS(ft,bt){return Ty(ft,$u(cn(bt)))}var HS=Ao(function(ft,bt){return ft==null?{}:m0(ft,bt)});function Ty(ft,bt){if(ft==null)return{};var $t=Wn(fp(ft),function(Pt){return[Pt]});return bt=cn(bt),gm(ft,$t,function(Pt,jt){return bt(Pt,jt[0])})}function GS(ft,bt,$t){bt=jo(bt,ft);var Pt=-1,jt=bt.length;for(jt||(jt=1,ft=o);++Pt<jt;){var Jt=ft==null?o:ft[So(bt[Pt])];Jt===o&&(Pt=jt,Jt=$t),ft=Io(Jt)?Jt.call(ft):Jt}return ft}function KS(ft,bt,$t){return ft==null?ft:Vl(ft,bt,$t)}function XS(ft,bt,$t,Pt){return Pt=typeof Pt=="function"?Pt:o,ft==null?ft:Vl(ft,bt,$t,Pt)}var Cy=Nm(as),ky=Nm(Os);function YS(ft,bt,$t){var Pt=bn(ft),jt=Pt||Wo(ft)||Tl(ft);if(bt=cn(bt,4),$t==null){var Jt=ft&&ft.constructor;jt?$t=Pt?new Jt:[]:Gn(ft)?$t=Io(Jt)?Sl(ru(ft)):{}:$t={}}return(jt?qs:xo)(ft,function(ar,ur,yr){return bt($t,ar,ur,yr)}),$t}function qS(ft,bt){return ft==null?!0:ip(ft,bt)}function QS(ft,bt,$t){return ft==null?ft:Sm(ft,bt,ap($t))}function ZS(ft,bt,$t,Pt){return Pt=typeof Pt=="function"?Pt:o,ft==null?ft:Sm(ft,bt,ap($t),Pt)}function Cl(ft){return ft==null?[]:Vu(ft,as(ft))}function JS(ft){return ft==null?[]:Vu(ft,Os(ft))}function ew(ft,bt,$t){return $t===o&&($t=bt,bt=o),$t!==o&&($t=ro($t),$t=$t===$t?$t:0),bt!==o&&(bt=ro(bt),bt=bt===bt?bt:0),Yo(ro(ft),bt,$t)}function tw(ft,bt,$t){return bt=Lo(bt),$t===o?($t=bt,bt=0):$t=Lo($t),ft=ro(ft),i0(ft,bt,$t)}function rw(ft,bt,$t){if($t&&typeof $t!="boolean"&&$s(ft,bt,$t)&&(bt=$t=o),$t===o&&(typeof bt=="boolean"?($t=bt,bt=o):typeof ft=="boolean"&&($t=ft,ft=o)),ft===o&&bt===o?(ft=0,bt=1):(ft=Lo(ft),bt===o?(bt=ft,ft=0):bt=Lo(bt)),ft>bt){var Pt=ft;ft=bt,bt=Pt}if($t||ft%1||bt%1){var jt=Qp();return bs(ft+jt*(bt-ft+Vr("1e-"+((jt+"").length-1))),bt)}return tp(ft,bt)}var nw=_l(function(ft,bt,$t){return bt=bt.toLowerCase(),ft+($t?$y(bt):bt)});function $y(ft){return $p(Dn(ft).toLowerCase())}function Ay(ft){return ft=Dn(ft),ft&&ft.replace(fs,Wy).replace(ln,"")}function iw(ft,bt,$t){ft=Dn(ft),bt=js(bt);var Pt=ft.length;$t=$t===o?Pt:Yo(Sn($t),0,Pt);var jt=$t;return $t-=bt.length,$t>=0&&ft.slice($t,jt)==bt}function sw(ft){return ft=Dn(ft),ft&&Rr.test(ft)?ft.replace(Gr,Hy):ft}function ow(ft){return ft=Dn(ft),ft&&no.test(ft)?ft.replace(ms,"\\$&"):ft}var aw=_l(function(ft,bt,$t){return ft+($t?"-":"")+bt.toLowerCase()}),lw=_l(function(ft,bt,$t){return ft+($t?" ":"")+bt.toLowerCase()}),uw=Lm("toLowerCase");function cw(ft,bt,$t){ft=Dn(ft),bt=Sn(bt);var Pt=bt?xa(ft):0;if(!bt||Pt>=bt)return ft;var jt=(bt-Pt)/2;return xu(ou(jt),$t)+ft+xu(su(jt),$t)}function hw(ft,bt,$t){ft=Dn(ft),bt=Sn(bt);var Pt=bt?xa(ft):0;return bt&&Pt<bt?ft+xu(bt-Pt,$t):ft}function fw(ft,bt,$t){ft=Dn(ft),bt=Sn(bt);var Pt=bt?xa(ft):0;return bt&&Pt<bt?xu(bt-Pt,$t)+ft:ft}function dw(ft,bt,$t){return $t||bt==null?bt=0:bt&&(bt=+bt),yv(Dn(ft).replace(Vs,""),bt||0)}function pw(ft,bt,$t){return($t?$s(ft,bt,$t):bt===o)?bt=1:bt=Sn(bt),rp(Dn(ft),bt)}function mw(){var ft=arguments,bt=Dn(ft[0]);return ft.length<3?bt:bt.replace(ft[1],ft[2])}var gw=_l(function(ft,bt,$t){return ft+($t?"_":"")+bt.toLowerCase()});function yw(ft,bt,$t){return $t&&typeof $t!="number"&&$s(ft,bt,$t)&&(bt=$t=o),$t=$t===o?Kt:$t>>>0,$t?(ft=Dn(ft),ft&&(typeof bt=="string"||bt!=null&&!Tp(bt))&&(bt=js(bt),!bt&&ga(ft))?Uo(ao(ft),0,$t):ft.split(bt,$t)):[]}var xw=_l(function(ft,bt,$t){return ft+($t?" ":"")+$p(bt)});function bw(ft,bt,$t){return ft=Dn(ft),$t=$t==null?0:Yo(Sn($t),0,ft.length),bt=js(bt),ft.slice($t,$t+bt.length)==bt}function Sw(ft,bt,$t){var Pt=Gt.templateSettings;$t&&$s(ft,bt,$t)&&(bt=o),ft=Dn(ft),bt=Iu({},bt,Pt,Vm);var jt=Iu({},bt.imports,Pt.imports,Vm),Jt=as(jt),ar=Vu(jt,Jt),ur,yr,Ir=0,Mr=bt.interpolate||_s,Pr="__p += '",Kr=zu((bt.escape||_s).source+"|"+Mr.source+"|"+(Mr===ps?ws:_s).source+"|"+(bt.evaluate||_s).source+"|$","g"),en="//# sourceURL="+(Fn.call(bt,"sourceURL")?(bt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++yo+"]")+`
`;ft.replace(Kr,function(dn,Cn,An,Ws,As,Hs){return An||(An=Ws),Pr+=ft.slice(Ir,Hs).replace(Is,Gy),Cn&&(ur=!0,Pr+=`' +
__e(`+Cn+`) +
'`),As&&(yr=!0,Pr+=`';
`+As+`;
__p += '`),An&&(Pr+=`' +
((__t = (`+An+`)) == null ? '' : __t) +
'`),Ir=Hs+dn.length,dn}),Pr+=`';
`;var fn=Fn.call(bt,"variable")&&bt.variable;if(!fn)Pr=`with (obj) {
`+Pr+`
}
`;else if(hs.test(fn))throw new xn(at);Pr=(yr?Pr.replace(rn,""):Pr).replace(Dr,"$1").replace(Yr,"$1;"),Pr="function("+(fn||"obj")+`) {
`+(fn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ur?", __e = _.escape":"")+(yr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pr+`return __p
}`;var _n=Iy(function(){return Pn(Jt,en+"return "+Pr).apply(o,ar)});if(_n.source=Pr,Ep(_n))throw _n;return _n}function ww(ft){return Dn(ft).toLowerCase()}function _w(ft){return Dn(ft).toUpperCase()}function Ew(ft,bt,$t){if(ft=Dn(ft),ft&&($t||bt===o))return Bp(ft);if(!ft||!(bt=js(bt)))return ft;var Pt=ao(ft),jt=ao(bt),Jt=zp(Pt,jt),ar=jp(Pt,jt)+1;return Uo(Pt,Jt,ar).join("")}function Tw(ft,bt,$t){if(ft=Dn(ft),ft&&($t||bt===o))return ft.slice(0,Wp(ft)+1);if(!ft||!(bt=js(bt)))return ft;var Pt=ao(ft),jt=jp(Pt,ao(bt))+1;return Uo(Pt,0,jt).join("")}function Cw(ft,bt,$t){if(ft=Dn(ft),ft&&($t||bt===o))return ft.replace(Vs,"");if(!ft||!(bt=js(bt)))return ft;var Pt=ao(ft),jt=zp(Pt,ao(bt));return Uo(Pt,jt).join("")}function kw(ft,bt){var $t=Et,Pt=_t;if(Gn(bt)){var jt="separator"in bt?bt.separator:jt;$t="length"in bt?Sn(bt.length):$t,Pt="omission"in bt?js(bt.omission):Pt}ft=Dn(ft);var Jt=ft.length;if(ga(ft)){var ar=ao(ft);Jt=ar.length}if($t>=Jt)return ft;var ur=$t-xa(Pt);if(ur<1)return Pt;var yr=ar?Uo(ar,0,ur).join(""):ft.slice(0,ur);if(jt===o)return yr+Pt;if(ar&&(ur+=yr.length-ur),Tp(jt)){if(ft.slice(ur).search(jt)){var Ir,Mr=yr;for(jt.global||(jt=zu(jt.source,Dn(Zn.exec(jt))+"g")),jt.lastIndex=0;Ir=jt.exec(Mr);)var Pr=Ir.index;yr=yr.slice(0,Pr===o?ur:Pr)}}else if(ft.indexOf(js(jt),ur)!=ur){var Kr=yr.lastIndexOf(jt);Kr>-1&&(yr=yr.slice(0,Kr))}return yr+Pt}function $w(ft){return ft=Dn(ft),ft&&an.test(ft)?ft.replace(jr,Jy):ft}var Aw=_l(function(ft,bt,$t){return ft+($t?" ":"")+bt.toUpperCase()}),$p=Lm("toUpperCase");function Ry(ft,bt,$t){return ft=Dn(ft),bt=$t?o:bt,bt===o?Xy(ft)?rv(ft):Vy(ft):ft.match(bt)||[]}var Iy=En(function(ft,bt){try{return os(ft,o,bt)}catch($t){return Ep($t)?$t:new xn($t)}}),Rw=Ao(function(ft,bt){return qs(bt,function($t){$t=So($t),ko(ft,$t,wp(ft[$t],ft))}),ft});function Iw(ft){var bt=ft==null?0:ft.length,$t=cn();return ft=bt?Wn(ft,function(Pt){if(typeof Pt[1]!="function")throw new Qs(ot);return[$t(Pt[0]),Pt[1]]}):[],En(function(Pt){for(var jt=-1;++jt<bt;){var Jt=ft[jt];if(os(Jt[0],this,Pt))return os(Jt[1],this,Pt)}})}function Lw(ft){return Jv(Js(ft,_))}function Ap(ft){return function(){return ft}}function Mw(ft,bt){return ft==null||ft!==ft?bt:ft}var Pw=Pm(),Dw=Pm(!0);function Fs(ft){return ft}function Rp(ft){return cm(typeof ft=="function"?ft:Js(ft,_))}function Ow(ft){return fm(Js(ft,_))}function Fw(ft,bt){return dm(ft,Js(bt,_))}var Nw=En(function(ft,bt){return function($t){return Fl($t,ft,bt)}}),Vw=En(function(ft,bt){return function($t){return Fl(ft,$t,bt)}});function Ip(ft,bt,$t){var Pt=as(bt),jt=fu(bt,Pt);$t==null&&!(Gn(bt)&&(jt.length||!Pt.length))&&($t=bt,bt=ft,ft=this,jt=fu(bt,as(bt)));var Jt=!(Gn($t)&&"chain"in $t)||!!$t.chain,ar=Io(ft);return qs(jt,function(ur){var yr=bt[ur];ft[ur]=yr,ar&&(ft.prototype[ur]=function(){var Ir=this.__chain__;if(Jt||Ir){var Mr=ft(this.__wrapped__),Pr=Mr.__actions__=Ps(this.__actions__);return Pr.push({func:yr,args:arguments,thisArg:ft}),Mr.__chain__=Ir,Mr}return yr.apply(ft,Fo([this.value()],arguments))})}),ft}function Bw(){return qr._===this&&(qr._=lv),this}function Lp(){}function zw(ft){return ft=Sn(ft),En(function(bt){return pm(bt,ft)})}var jw=up(Wn),Uw=up(Dp),Ww=up(Pu);function Ly(ft){return gp(ft)?Du(So(ft)):g0(ft)}function Hw(ft){return function(bt){return ft==null?o:qo(ft,bt)}}var Gw=Om(),Kw=Om(!0);function Mp(){return[]}function Pp(){return!1}function Xw(){return{}}function Yw(){return""}function qw(){return!0}function Qw(ft,bt){if(ft=Sn(ft),ft<1||ft>Mt)return[];var $t=Kt,Pt=bs(ft,Kt);bt=cn(bt),ft-=Kt;for(var jt=Nu(Pt,bt);++$t<ft;)bt($t);return jt}function Zw(ft){return bn(ft)?Wn(ft,So):Us(ft)?[ft]:Ps(Zm(Dn(ft)))}function Jw(ft){var bt=++ov;return Dn(ft)+bt}var e_=vu(function(ft,bt){return ft+bt},0),t_=cp("ceil"),r_=vu(function(ft,bt){return ft/bt},1),n_=cp("floor");function i_(ft){return ft&&ft.length?hu(ft,Fs,Yu):o}function s_(ft,bt){return ft&&ft.length?hu(ft,cn(bt,2),Yu):o}function o_(ft){return Np(ft,Fs)}function a_(ft,bt){return Np(ft,cn(bt,2))}function l_(ft){return ft&&ft.length?hu(ft,Fs,Ju):o}function u_(ft,bt){return ft&&ft.length?hu(ft,cn(bt,2),Ju):o}var c_=vu(function(ft,bt){return ft*bt},1),h_=cp("round"),f_=vu(function(ft,bt){return ft-bt},0);function d_(ft){return ft&&ft.length?Fu(ft,Fs):0}function p_(ft,bt){return ft&&ft.length?Fu(ft,cn(bt,2)):0}return Gt.after=P1,Gt.ary=uy,Gt.assign=SS,Gt.assignIn=_y,Gt.assignInWith=Iu,Gt.assignWith=wS,Gt.at=_S,Gt.before=cy,Gt.bind=wp,Gt.bindAll=Rw,Gt.bindKey=hy,Gt.castArray=G1,Gt.chain=oy,Gt.chunk=J0,Gt.compact=ex,Gt.concat=tx,Gt.cond=Iw,Gt.conforms=Lw,Gt.constant=Ap,Gt.countBy=h1,Gt.create=ES,Gt.curry=fy,Gt.curryRight=dy,Gt.debounce=py,Gt.defaults=TS,Gt.defaultsDeep=CS,Gt.defer=D1,Gt.delay=O1,Gt.difference=rx,Gt.differenceBy=nx,Gt.differenceWith=ix,Gt.drop=sx,Gt.dropRight=ox,Gt.dropRightWhile=ax,Gt.dropWhile=lx,Gt.fill=ux,Gt.filter=d1,Gt.flatMap=g1,Gt.flatMapDeep=y1,Gt.flatMapDepth=v1,Gt.flatten=ry,Gt.flattenDeep=hx,Gt.flattenDepth=fx,Gt.flip=F1,Gt.flow=Pw,Gt.flowRight=Dw,Gt.fromPairs=dx,Gt.functions=PS,Gt.functionsIn=DS,Gt.groupBy=x1,Gt.initial=gx,Gt.intersection=yx,Gt.intersectionBy=vx,Gt.intersectionWith=xx,Gt.invert=FS,Gt.invertBy=NS,Gt.invokeMap=S1,Gt.iteratee=Rp,Gt.keyBy=w1,Gt.keys=as,Gt.keysIn=Os,Gt.map=Tu,Gt.mapKeys=BS,Gt.mapValues=zS,Gt.matches=Ow,Gt.matchesProperty=Fw,Gt.memoize=ku,Gt.merge=jS,Gt.mergeWith=Ey,Gt.method=Nw,Gt.methodOf=Vw,Gt.mixin=Ip,Gt.negate=$u,Gt.nthArg=zw,Gt.omit=US,Gt.omitBy=WS,Gt.once=N1,Gt.orderBy=_1,Gt.over=jw,Gt.overArgs=V1,Gt.overEvery=Uw,Gt.overSome=Ww,Gt.partial=_p,Gt.partialRight=my,Gt.partition=E1,Gt.pick=HS,Gt.pickBy=Ty,Gt.property=Ly,Gt.propertyOf=Hw,Gt.pull=_x,Gt.pullAll=iy,Gt.pullAllBy=Ex,Gt.pullAllWith=Tx,Gt.pullAt=Cx,Gt.range=Gw,Gt.rangeRight=Kw,Gt.rearg=B1,Gt.reject=k1,Gt.remove=kx,Gt.rest=z1,Gt.reverse=bp,Gt.sampleSize=A1,Gt.set=KS,Gt.setWith=XS,Gt.shuffle=R1,Gt.slice=$x,Gt.sortBy=M1,Gt.sortedUniq=Dx,Gt.sortedUniqBy=Ox,Gt.split=yw,Gt.spread=j1,Gt.tail=Fx,Gt.take=Nx,Gt.takeRight=Vx,Gt.takeRightWhile=Bx,Gt.takeWhile=zx,Gt.tap=r1,Gt.throttle=U1,Gt.thru=Eu,Gt.toArray=by,Gt.toPairs=Cy,Gt.toPairsIn=ky,Gt.toPath=Zw,Gt.toPlainObject=wy,Gt.transform=YS,Gt.unary=W1,Gt.union=jx,Gt.unionBy=Ux,Gt.unionWith=Wx,Gt.uniq=Hx,Gt.uniqBy=Gx,Gt.uniqWith=Kx,Gt.unset=qS,Gt.unzip=Sp,Gt.unzipWith=sy,Gt.update=QS,Gt.updateWith=ZS,Gt.values=Cl,Gt.valuesIn=JS,Gt.without=Xx,Gt.words=Ry,Gt.wrap=H1,Gt.xor=Yx,Gt.xorBy=qx,Gt.xorWith=Qx,Gt.zip=Zx,Gt.zipObject=Jx,Gt.zipObjectDeep=e1,Gt.zipWith=t1,Gt.entries=Cy,Gt.entriesIn=ky,Gt.extend=_y,Gt.extendWith=Iu,Ip(Gt,Gt),Gt.add=e_,Gt.attempt=Iy,Gt.camelCase=nw,Gt.capitalize=$y,Gt.ceil=t_,Gt.clamp=ew,Gt.clone=K1,Gt.cloneDeep=Y1,Gt.cloneDeepWith=q1,Gt.cloneWith=X1,Gt.conformsTo=Q1,Gt.deburr=Ay,Gt.defaultTo=Mw,Gt.divide=r_,Gt.endsWith=iw,Gt.eq=uo,Gt.escape=sw,Gt.escapeRegExp=ow,Gt.every=f1,Gt.find=p1,Gt.findIndex=ey,Gt.findKey=kS,Gt.findLast=m1,Gt.findLastIndex=ty,Gt.findLastKey=$S,Gt.floor=n_,Gt.forEach=ay,Gt.forEachRight=ly,Gt.forIn=AS,Gt.forInRight=RS,Gt.forOwn=IS,Gt.forOwnRight=LS,Gt.get=Cp,Gt.gt=Z1,Gt.gte=J1,Gt.has=OS,Gt.hasIn=kp,Gt.head=ny,Gt.identity=Fs,Gt.includes=b1,Gt.indexOf=mx,Gt.inRange=tw,Gt.invoke=VS,Gt.isArguments=Jo,Gt.isArray=bn,Gt.isArrayBuffer=eS,Gt.isArrayLike=Ds,Gt.isArrayLikeObject=Yn,Gt.isBoolean=tS,Gt.isBuffer=Wo,Gt.isDate=rS,Gt.isElement=nS,Gt.isEmpty=iS,Gt.isEqual=sS,Gt.isEqualWith=oS,Gt.isError=Ep,Gt.isFinite=aS,Gt.isFunction=Io,Gt.isInteger=gy,Gt.isLength=Au,Gt.isMap=yy,Gt.isMatch=lS,Gt.isMatchWith=uS,Gt.isNaN=cS,Gt.isNative=hS,Gt.isNil=dS,Gt.isNull=fS,Gt.isNumber=vy,Gt.isObject=Gn,Gt.isObjectLike=Kn,Gt.isPlainObject=Wl,Gt.isRegExp=Tp,Gt.isSafeInteger=pS,Gt.isSet=xy,Gt.isString=Ru,Gt.isSymbol=Us,Gt.isTypedArray=Tl,Gt.isUndefined=mS,Gt.isWeakMap=gS,Gt.isWeakSet=yS,Gt.join=bx,Gt.kebabCase=aw,Gt.last=to,Gt.lastIndexOf=Sx,Gt.lowerCase=lw,Gt.lowerFirst=uw,Gt.lt=vS,Gt.lte=xS,Gt.max=i_,Gt.maxBy=s_,Gt.mean=o_,Gt.meanBy=a_,Gt.min=l_,Gt.minBy=u_,Gt.stubArray=Mp,Gt.stubFalse=Pp,Gt.stubObject=Xw,Gt.stubString=Yw,Gt.stubTrue=qw,Gt.multiply=c_,Gt.nth=wx,Gt.noConflict=Bw,Gt.noop=Lp,Gt.now=Cu,Gt.pad=cw,Gt.padEnd=hw,Gt.padStart=fw,Gt.parseInt=dw,Gt.random=rw,Gt.reduce=T1,Gt.reduceRight=C1,Gt.repeat=pw,Gt.replace=mw,Gt.result=GS,Gt.round=h_,Gt.runInContext=mr,Gt.sample=$1,Gt.size=I1,Gt.snakeCase=gw,Gt.some=L1,Gt.sortedIndex=Ax,Gt.sortedIndexBy=Rx,Gt.sortedIndexOf=Ix,Gt.sortedLastIndex=Lx,Gt.sortedLastIndexBy=Mx,Gt.sortedLastIndexOf=Px,Gt.startCase=xw,Gt.startsWith=bw,Gt.subtract=f_,Gt.sum=d_,Gt.sumBy=p_,Gt.template=Sw,Gt.times=Qw,Gt.toFinite=Lo,Gt.toInteger=Sn,Gt.toLength=Sy,Gt.toLower=ww,Gt.toNumber=ro,Gt.toSafeInteger=bS,Gt.toString=Dn,Gt.toUpper=_w,Gt.trim=Ew,Gt.trimEnd=Tw,Gt.trimStart=Cw,Gt.truncate=kw,Gt.unescape=$w,Gt.uniqueId=Jw,Gt.upperCase=Aw,Gt.upperFirst=$p,Gt.each=ay,Gt.eachRight=ly,Gt.first=ny,Ip(Gt,function(){var ft={};return xo(Gt,function(bt,$t){Fn.call(Gt.prototype,$t)||(ft[$t]=bt)}),ft}(),{chain:!1}),Gt.VERSION=a,qs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(ft){Gt[ft].placeholder=Gt}),qs(["drop","take"],function(ft,bt){$n.prototype[ft]=function($t){$t=$t===o?1:ns(Sn($t),0);var Pt=this.__filtered__&&!bt?new $n(this):this.clone();return Pt.__filtered__?Pt.__takeCount__=bs($t,Pt.__takeCount__):Pt.__views__.push({size:bs($t,Kt),type:ft+(Pt.__dir__<0?"Right":"")}),Pt},$n.prototype[ft+"Right"]=function($t){return this.reverse()[ft]($t).reverse()}}),qs(["filter","map","takeWhile"],function(ft,bt){var $t=bt+1,Pt=$t==Tt||$t==It;$n.prototype[ft]=function(jt){var Jt=this.clone();return Jt.__iteratees__.push({iteratee:cn(jt,3),type:$t}),Jt.__filtered__=Jt.__filtered__||Pt,Jt}}),qs(["head","last"],function(ft,bt){var $t="take"+(bt?"Right":"");$n.prototype[ft]=function(){return this[$t](1).value()[0]}}),qs(["initial","tail"],function(ft,bt){var $t="drop"+(bt?"":"Right");$n.prototype[ft]=function(){return this.__filtered__?new $n(this):this[$t](1)}}),$n.prototype.compact=function(){return this.filter(Fs)},$n.prototype.find=function(ft){return this.filter(ft).head()},$n.prototype.findLast=function(ft){return this.reverse().find(ft)},$n.prototype.invokeMap=En(function(ft,bt){return typeof ft=="function"?new $n(this):this.map(function($t){return Fl($t,ft,bt)})}),$n.prototype.reject=function(ft){return this.filter($u(cn(ft)))},$n.prototype.slice=function(ft,bt){ft=Sn(ft);var $t=this;return $t.__filtered__&&(ft>0||bt<0)?new $n($t):(ft<0?$t=$t.takeRight(-ft):ft&&($t=$t.drop(ft)),bt!==o&&(bt=Sn(bt),$t=bt<0?$t.dropRight(-bt):$t.take(bt-ft)),$t)},$n.prototype.takeRightWhile=function(ft){return this.reverse().takeWhile(ft).reverse()},$n.prototype.toArray=function(){return this.take(Kt)},xo($n.prototype,function(ft,bt){var $t=/^(?:filter|find|map|reject)|While$/.test(bt),Pt=/^(?:head|last)$/.test(bt),jt=Gt[Pt?"take"+(bt=="last"?"Right":""):bt],Jt=Pt||/^find/.test(bt);jt&&(Gt.prototype[bt]=function(){var ar=this.__wrapped__,ur=Pt?[1]:arguments,yr=ar instanceof $n,Ir=ur[0],Mr=yr||bn(ar),Pr=function(Cn){var An=jt.apply(Gt,Fo([Cn],ur));return Pt&&Kr?An[0]:An};Mr&&$t&&typeof Ir=="function"&&Ir.length!=1&&(yr=Mr=!1);var Kr=this.__chain__,en=!!this.__actions__.length,fn=Jt&&!Kr,_n=yr&&!en;if(!Jt&&Mr){ar=_n?ar:new $n(this);var dn=ft.apply(ar,ur);return dn.__actions__.push({func:Eu,args:[Pr],thisArg:o}),new Zs(dn,Kr)}return fn&&_n?ft.apply(this,ur):(dn=this.thru(Pr),fn?Pt?dn.value()[0]:dn.value():dn)})}),qs(["pop","push","shift","sort","splice","unshift"],function(ft){var bt=Yl[ft],$t=/^(?:push|sort|unshift)$/.test(ft)?"tap":"thru",Pt=/^(?:pop|shift)$/.test(ft);Gt.prototype[ft]=function(){var jt=arguments;if(Pt&&!this.__chain__){var Jt=this.value();return bt.apply(bn(Jt)?Jt:[],jt)}return this[$t](function(ar){return bt.apply(bn(ar)?ar:[],jt)})}}),xo($n.prototype,function(ft,bt){var $t=Gt[bt];if($t){var Pt=$t.name+"";Fn.call(xl,Pt)||(xl[Pt]=[]),xl[Pt].push({name:bt,func:$t})}}),xl[yu(o,ht).name]=[{name:"wrapper",func:o}],$n.prototype.clone=Ev,$n.prototype.reverse=Tv,$n.prototype.value=Cv,Gt.prototype.at=n1,Gt.prototype.chain=i1,Gt.prototype.commit=s1,Gt.prototype.next=o1,Gt.prototype.plant=l1,Gt.prototype.reverse=u1,Gt.prototype.toJSON=Gt.prototype.valueOf=Gt.prototype.value=c1,Gt.prototype.first=Gt.prototype.head,Rl&&(Gt.prototype[Rl]=a1),Gt},ba=nv();Ln?((Ln.exports=ba)._=ba,un._=ba):qr._=ba}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,moduleLoader={},xmlhttprequestTs_umd={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(i,s){(function(o,a){a(s,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(commonjsGlobal,function(o,a,rt,et,ot,at,nt,it){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var j=function(){function _(){this.UNSENT=_.UNSENT,this.OPENED=_.OPENED,this.HEADERS_RECEIVED=_.HEADERS_RECEIVED,this.LOADING=_.LOADING,this.DONE=_.DONE,this.disableHeaderCheck=!1,this.readyState=_.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return _.prototype.open=function($,tt,st,lt,ct){if(st===void 0&&(st=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod($))throw new Error("SecurityError: Request method not allowed");this.settings={method:$,url:tt,async:typeof st!="boolean"?!0:st,user:lt,password:ct},this.setState(this.OPENED)},_.prototype.setDisableHeaderCheck=function($){this.disableHeaderCheck=$},_.prototype.setRequestHeader=function($,tt){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader($)){console.warn('Refused to set unsafe header "'+$+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");$=this.headersLowerCase[$.toLowerCase()]||$,this.headersLowerCase[$.toLowerCase()]=$,this.headers[$]=this.headers[$]?this.headers[$]+", "+tt:tt},_.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var $="";if(this.response){for(var tt in this.response.headers)if(tt!=="set-cookie"&&tt!=="set-cookie2"){var st=this.response.headers[tt];typeof st=="string"?$+=tt+": "+st+`\r
`:Array.isArray(st)?$+=tt+": "+st.join(", ")+`\r
`:$+=tt+`:\r
`}}return $.substr(0,$.length-2)},_.prototype.getResponseHeader=function($){if(typeof $=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[$.toLowerCase()]&&!this.errorFlag){var tt=this.response.headers[$.toLowerCase()];if(typeof tt=="string")return tt;if(Array.isArray(tt))return tt.join(", ")}return null},_.prototype.getRequestHeader=function($){if(typeof $=="string"&&this.headersLowerCase[$.toLowerCase()])return this.headers[this.headersLowerCase[$.toLowerCase()]]},_.prototype.send=function($){var tt=this,st=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var lt=!1,ct=!1,ht=ot.parse(this.settings.url),ut;switch(ht.protocol){case"https:":lt=!0;case"http:":ut=ht.hostname;break;case"file:":ct=!0;break;case void 0:case null:case"":ut="localhost";break;default:throw new Error("Protocol not supported.")}if(ct){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)a.readFile(unescape(ht.pathname||"/"),"utf8",function(Mt,Dt){Mt?st.handleError(Mt):(st.status=200,st.responseText=Dt,st.setState(st.DONE))});else try{this.responseText=a.readFileSync(unescape(ht.pathname||"/"),"utf8"),this.status=200,this.setState(st.DONE)}catch(Mt){this.handleError(Mt)}return}var pt=ht.port||(lt?443:80),mt=ht.pathname+(ht.search?ht.search:"");for(var vt in this.defaultHeaders)this.headersLowerCase[vt.toLowerCase()]||(this.headers[vt]=this.defaultHeaders[vt]);if(ut&&(this.headers.Host=ut),ht.host&&ht.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),lt&&pt===443||pt===80||(this.headers.Host+=":"+ht.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var dt=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+dt.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?$=null:$?(this.headers["Content-Length"]=""+(Buffer.isBuffer($)?$.length:Buffer.byteLength($)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var St={host:ut,port:pt,path:mt,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){tt.readyState!==tt.DONE&&st.handleTimeout(new Error("request timed out after "+tt.timeout+"ms"))},this.timeout));var yt=lt?et.request:rt.request;this.sendFlag=!0,st.dispatchEvent("readystatechange");var gt=function(Mt){st.handleError(Mt)},Et=0,_t=function(Mt){if(st.response=Mt,st.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(st.response.headers.location&&(st.response.statusCode===301||st.response.statusCode===302||st.response.statusCode===303||st.response.statusCode===307)){if(Et++,Et>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");st.settings.url=st.response.headers.location;var Dt=ot.parse(st.settings.url);ut=Dt.hostname,ut&&(st.headers.Host=ut);var Bt={hostname:Dt.hostname,port:Dt.port,path:Dt.path,method:st.response.statusCode===303?"GET":st.settings.method,headers:st.headers,withCredentials:st.withCredentials};lt=ht.protocol==="https:",yt=lt?et.request:rt.request,st.request=yt(Bt,_t).on("error",gt),st.request.end();return}st.response.setEncoding("utf8"),st.setState(st.HEADERS_RECEIVED),st.status=st.response.statusCode||0,st.response.on("data",function(Kt){Kt&&(st.responseText+=Kt),st.sendFlag&&st.setState(st.LOADING)}),st.response.on("end",function(){st.sendFlag&&(st.setState(st.DONE),st.sendFlag=!1)}),st.response.on("error",function(Kt){st.handleError(Kt)})};st.request=yt(St,_t).on("error",gt),$&&st.request.write($),st.request.end(),st.dispatchEvent("loadstart")}else{var kt=new Date().getTime(),Ct=at.tmpdir()+nt.sep+"ts-xmlhttprequest-content-"+process.pid,Tt=at.tmpdir()+nt.sep+"ts-xmlhttprequest-sync-"+process.pid;a.writeFileSync(Tt,"","utf8");var At="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(lt?"s":"")+".request;let options = "+JSON.stringify(St)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+Ct+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+Tt+"');});response.on('error', function(error) {fs.writeFileSync('"+Ct+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Tt+"');});}).on('error', function(error) {fs.writeFileSync('"+Ct+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+Tt+"');});"+($?"req.write('"+JSON.stringify($).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";st.dispatchEvent("loadstart"),this.setState(st.LOADING);var It=it.spawn(process.argv[0],["-e",At]);for(It.on("exit",function(Mt,Dt){try{a.unlinkSync(Tt)}catch{}try{a.unlinkSync(Ct)}catch{}});a.existsSync(Tt);)if(this.timeout!==0&&new Date().getTime()>=kt+this.timeout)return It.stdin.end(),It.kill(),st.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));It.stdin.end(),It.kill();var Ot=JSON.parse(a.readFileSync(Ct,"utf8"));a.unlinkSync(Ct),Ot.err?st.handleError(Ot.err):(st.response=Ot.data,st.status=Ot.data.statusCode,st.responseText=Ot.data.text,st.setState(st.DONE))}},_.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},_.prototype.addEventListener=function($,tt){$ in this.listeners||(this.listeners[$]=[]),this.listeners[$].push(tt)},_.prototype.removeEventListener=function($,tt){$ in this.listeners&&(this.listeners[$]=this.listeners[$].filter(function(st){return st!==tt}))},_.prototype.dispatchEvent=function($,tt){var st="on"+$;if(typeof this[st]=="function"&&this[st](tt),$ in this.listeners)for(var lt=0,ct=this.listeners[$].length;lt<ct;lt++)this.listeners[$][lt].call(this,tt)},_.prototype.setState=function($){($===this.LOADING||this.readyState!==$)&&(this.readyState=$,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},_.prototype.handleTimeout=function($){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",$),this.setState(this.DONE)},_.prototype.handleError=function($){this.status=0,this.statusText=$.toString(),this.responseText=$.stack||"",this.errorFlag=!0,this.dispatchEvent("error",$),this.setState(this.DONE)},_.prototype.isAllowedHttpHeader=function($){return(this.disableHeaderCheck||$&&this.forbiddenRequestHeaders.indexOf($.toLowerCase())===-1)===!0},_.prototype.isAllowedHttpMethod=function($){return($&&this.forbiddenRequestMethods.indexOf($)===-1)===!0},_.UNSENT=0,_.OPENED=1,_.HEADERS_RECEIVED=2,_.LOADING=3,_.DONE=4,_}();o.XMLHttpRequest=j,Object.defineProperty(o,"__esModule",{value:!0})})})(xmlhttprequestTs_umd,xmlhttprequestTs_umd.exports);var xmlhttprequestTs_umdExports=xmlhttprequestTs_umd.exports,moduleErrors={};Object.defineProperty(moduleErrors,"__esModule",{value:!0});moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const runtimeSourceError_1=runtimeSourceError;class ModuleConnectionError extends runtimeSourceError_1.RuntimeSourceError{constructor(s){super(s)}explain(){return ModuleConnectionError.message}elaborate(){return ModuleConnectionError.elaboration}}moduleErrors.ModuleConnectionError=ModuleConnectionError;ModuleConnectionError.message="Unable to get modules.";ModuleConnectionError.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class ModuleNotFoundError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,o){super(o),this.moduleName=s}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=ModuleNotFoundError;class ModuleInternalError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,o){super(o),this.moduleName=s}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}moduleErrors.ModuleInternalError=ModuleInternalError;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=lodashExports,xmlhttprequest_ts_1=xmlhttprequestTs_umdExports,moduleErrors_1=moduleErrors,newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(i){exports.MODULES_STATIC_URL=i}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(i){const s=(0,exports.newHttpRequest)();try{typeof window>"u"&&(s.timeout=1e4),s.open("GET",i,!1),s.send(null)}catch(o){if(!(o instanceof DOMException))throw o}if(s.status!==200&&s.status!==304)throw new moduleErrors_1.ModuleConnectionError;return s.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const i=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(i)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(i,s)=>memoizedGetModuleFileInternal({name:i,type:s});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:i,type:s}){return httpGet(`${exports.MODULES_STATIC_URL}/${s}s/${i}.js${s==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(i){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(i,s){try{const o=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(o).includes(i))throw new moduleErrors_1.ModuleNotFoundError(i,s);const rt=getModuleFile({name:i,type:"json"});return JSON.parse(rt)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs})(moduleLoader);var inspector={};Object.defineProperty(inspector,"__esModule",{value:!0});inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const saveState=(i,s,o)=>{i.debugger.state.it=s,i.debugger.state.scheduler=o};inspector.saveState=saveState;const setBreakpointAtLine=i=>{breakpoints=i};inspector.setBreakpointAtLine=setBreakpointAtLine;const manualToggleDebugger=i=>(i.runtime.break=!0,{status:"suspended",scheduler:i.debugger.state.scheduler,it:i.debugger.state.it,context:i});inspector.manualToggleDebugger=manualToggleDebugger;let breakpoints=[],moved=!0,prevStoppedLine=-1;const checkEditorBreakpoints=(i,s)=>{if(s.loc){const o=s.loc.start.line-1;!moved&&o!==prevStoppedLine&&(moved=!0),i.runtime.debuggerOn&&breakpoints[o]!==void 0&&moved&&(moved=!1,prevStoppedLine=o,i.runtime.break=!0)}};inspector.checkEditorBreakpoints=checkEditorBreakpoints;const areBreakpointsSet=()=>breakpoints.length>0;inspector.areBreakpointsSet=areBreakpointsSet;var operators={},timeoutErrors={},formatters={};Object.defineProperty(formatters,"__esModule",{value:!0});formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function templateToString(i,s){return typeof i=="string"?i:s.reduce((o,a,rt)=>o+a+i[rt+1],i[0])}function oneLine(i,...s){return templateToString(i,s).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=oneLine;function stripIndent(i,...s){const o=templateToString(i,s),a=o.match(/^[^\S\n]*(?=\S)/gm),rt=a&&Math.min(...a.map(et=>et.length));return rt?o.replace(new RegExp(`^.{${rt}}`,"gm"),"").trim():o.trim()}formatters.stripIndent=stripIndent;function simplify(i,s=15,o="..."){if(i.length<s)return i;const a=Math.ceil(s-o.length/2);return i.slice(0,a)+" ... "+i.slice(a)}formatters.simplify=simplify;var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const i=constants,s=types,o=formatters,a=requireStringify(),rt=runtimeSourceError;function et(it){const j=it/1e3,_=j*i.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,o.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${j} to ${_} seconds.
      This page may be unresponsive for up to ${_} seconds if you do so.`}class ot extends rt.RuntimeSourceError{}timeoutErrors.TimeoutError=ot;class at extends ot{constructor(j,_){super(j),this.maxExecTime=_,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return(0,o.stripIndent)`${"Potential infinite loop detected"}.
    ${et(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=at;class nt extends ot{constructor(j,_,$){super(j),this.calls=_,this.maxExecTime=$,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const j=this.calls.map(([_,$])=>`${_}(${$.map(tt=>(0,a.stringify)(tt)).join(", ")})`);return(0,o.stripIndent)`${"Potential infinite recursion detected"}: ${j.join(" ... ")}.
      ${et(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=nt,timeoutErrors}var makeWrapper$1={};Object.defineProperty(makeWrapper$1,"__esModule",{value:!0});makeWrapper$1.makeWrapper=void 0;function makeWrapper(i,s){for(const o in i)i.hasOwnProperty(o)&&Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o));for(const o of["length","name"])i.hasOwnProperty(o)&&Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o))}makeWrapper$1.makeWrapper=makeWrapper;var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.getProp=i.setProp=i.wrap=i.callIteratively=i.evaluateBinaryExpression=i.binaryOp=i.evaluateUnaryExpression=i.unaryOp=i.boolOrErr=i.callIfFuncAndRightArgs=i.makeLazyFunction=i.wrapLazyCallee=i.delayIt=i.forceIt=i.throwIfTimeout=void 0;const s=requireCreateContext(),o=requireErrors(),a=runtimeSourceError,rt=requireTimeoutErrors(),et=astCreator,ot=astCreator,at=makeWrapper$1,nt=rttc;function it(yt,gt,Et,_t,kt){if(Et-gt>yt.maxExecTime)throw new rt.PotentialInfiniteLoopError(ot.locationDummyNode(_t,kt),yt.maxExecTime)}i.throwIfTimeout=it;function j(yt){if(yt!=null&&yt.isMemoized!==void 0){if(yt.isMemoized)return yt.memoizedValue;const gt=j(yt.f());return yt.isMemoized=!0,yt.memoizedValue=gt,gt}else return yt}i.forceIt=j;function _(yt){return{isMemoized:!1,value:void 0,f:yt}}i.delayIt=_;function $(yt){if(yt=j(yt),typeof yt=="function"){const gt=(...Et)=>yt(...Et.map(j));return(0,at.makeWrapper)(yt,gt),gt[Symbol.toStringTag]=()=>yt.toString(),gt.toString=()=>yt.toString(),gt}else if(yt instanceof s.LazyBuiltIn)if(yt.evaluateArgs){const gt=(...Et)=>yt.func(...Et.map(j));return(0,at.makeWrapper)(yt.func,gt),gt[Symbol.toStringTag]=()=>yt.toString(),gt.toString=()=>yt.toString(),gt}else return yt;return yt}i.wrapLazyCallee=$;function tt(yt){return new s.LazyBuiltIn(yt,!1)}i.makeLazyFunction=tt;function st(yt,gt,Et,..._t){const kt=ot.callExpression(ot.locationDummyNode(gt,Et),_t,{start:{line:gt,column:Et},end:{line:gt,column:Et}});if(typeof yt=="function"){const Ct=yt;yt.transformedFunction!==void 0&&(yt=yt.transformedFunction);const Tt=yt.length,At=_t.length,It=yt.minArgsNeeded!==void 0;if(It?yt.minArgsNeeded>At:Tt!==At)throw new o.InvalidNumberOfArguments(kt,It?yt.minArgsNeeded:Tt,At,It);try{const Ot=_t.map(j);return Ct(...Ot)}catch(Ot){throw Ot instanceof a.RuntimeSourceError||Ot instanceof o.ExceptionError?Ot:new o.ExceptionError(Ot,kt.loc)}}else if(yt instanceof s.LazyBuiltIn)try{return yt.evaluateArgs&&(_t=_t.map(j)),yt.func(..._t)}catch(Ct){throw Ct instanceof a.RuntimeSourceError||Ct instanceof o.ExceptionError?Ct:new o.ExceptionError(Ct,kt.loc)}else throw new o.CallingNonFunctionValue(yt,kt)}i.callIfFuncAndRightArgs=st;function lt(yt,gt,Et){yt=j(yt);const _t=nt.checkIfStatement(ot.locationDummyNode(gt,Et),yt);if(_t===void 0)return yt;throw _t}i.boolOrErr=lt;function ct(yt,gt,Et,_t){gt=j(gt);const kt=nt.checkUnaryExpression(ot.locationDummyNode(Et,_t),yt,gt);if(kt===void 0)return ht(yt,gt);throw kt}i.unaryOp=ct;function ht(yt,gt){return yt==="!"?!gt:yt==="-"?-gt:+gt}i.evaluateUnaryExpression=ht;function ut(yt,gt,Et,_t,kt,Ct){Et=j(Et),_t=j(_t);const Tt=nt.checkBinaryExpression(ot.locationDummyNode(kt,Ct),yt,gt,Et,_t);if(Tt===void 0)return pt(yt,Et,_t);throw Tt}i.binaryOp=ut;function pt(yt,gt,Et){switch(yt){case"+":return gt+Et;case"-":return gt-Et;case"*":return gt*Et;case"/":return gt/Et;case"%":return gt%Et;case"===":return gt===Et;case"!==":return gt!==Et;case"<=":return gt<=Et;case"<":return gt<Et;case">":return gt>Et;case">=":return gt>=Et;default:return}}i.evaluateBinaryExpression=pt;const mt=(yt,gt,...Et)=>{let _t=-1,kt=-1;const Ct=Date.now(),Tt=[];for(;;){const At=(0,et.locationDummyNode)(_t,kt);if(yt=j(yt),typeof yt=="function"){yt.transformedFunction!==void 0&&(yt=yt.transformedFunction);const Ot=yt.length,Mt=Et.length,Dt=yt.minArgsNeeded!==void 0;if(Dt?yt.minArgsNeeded>Mt:Ot!==Mt)throw new o.InvalidNumberOfArguments((0,et.callExpression)(At,Et,{start:{line:_t,column:kt},end:{line:_t,column:kt}}),Dt?yt.minArgsNeeded:Ot,Mt,Dt)}else if(yt instanceof s.LazyBuiltIn)yt.evaluateArgs&&(Et=Et.map(j)),yt=yt.func;else throw new o.CallingNonFunctionValue(yt,At);let It;try{if(It=yt(...Et),Date.now()-Ct>gt.maxExecTime)throw new rt.PotentialInfiniteRecursionError(At,Tt,gt.maxExecTime)}catch(Ot){throw Ot instanceof a.RuntimeSourceError||Ot instanceof o.ExceptionError?Ot:new o.ExceptionError(Ot,At.loc)}if(It==null)return It;if(It.isTail===!0)yt=It.function,Et=It.arguments,_t=It.line,kt=It.column,Tt.push([It.functionName,Et]);else return It.isTail===!1?It.value:It}};i.callIteratively=mt;const vt=(yt,gt,Et,_t)=>{Et&&(yt.minArgsNeeded=yt.length);const kt=(...Ct)=>(0,i.callIteratively)(yt,_t,...Ct);return(0,at.makeWrapper)(yt,kt),kt.transformedFunction=yt,kt[Symbol.toStringTag]=()=>gt,kt.toString=()=>gt,kt};i.wrap=vt;const dt=(yt,gt,Et,_t,kt)=>{const Ct=(0,et.locationDummyNode)(_t,kt),Tt=nt.checkMemberAccess(Ct,yt,gt);if(Tt===void 0)return yt[gt]=Et;throw Tt};i.setProp=dt;const St=(yt,gt,Et,_t)=>{const kt=(0,et.locationDummyNode)(Et,_t),Ct=nt.checkMemberAccess(kt,yt,gt);if(Ct===void 0){if(yt[gt]!==void 0&&!yt.hasOwnProperty(gt))throw new o.GetInheritedPropertyError(kt,yt,gt);return yt[gt]}else throw Ct};i.getProp=St}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.apply=i.evaluate=i.evaluators=i.pushEnvironment=i.createBlockEnvironment=i.actualValue=void 0;const s=lodashExports,o=constants,a=requireCreateContext(),rt=requireErrors(),et=runtimeSourceError,ot=moduleLoader,at=inspector,nt=types,it=astCreator,j=requireOperators(),_=rttc,$=requireClosure();class tt{}class st{}class lt{constructor(rr){this.value=rr}}class ct{constructor(rr,qt,xr){this.callee=rr,this.args=qt,this.node=xr}}class ht{constructor(rr,qt){this.exp=rr,this.env=qt,this.isMemoized=!1,this.value=null}}const ut=(tr,rr)=>new ht(tr,rr);function*pt(tr,rr){if(tr instanceof ht){if(tr.isMemoized)return tr.value;(0,i.pushEnvironment)(rr,tr.env);const qt=yield*mt(tr.exp,rr);return Mt(rr),tr.value=qt,tr.isMemoized=!0,qt}else return tr}function*mt(tr,rr){const qt=yield*pr(tr,rr);return yield*pt(qt,rr)}i.actualValue=mt;const vt=(tr,rr,qt)=>{const xr={name:tr.functionName,tail:tr.environment,head:{},id:(0,s.uniqueId)()};return qt&&(xr.callExpression=Object.assign(Object.assign({},qt),{arguments:rr.map(it.primitive)})),tr.node.params.forEach((Sr,dr)=>{Sr.type==="RestElement"?xr.head[Sr.argument.name]=rr.slice(dr):xr.head[Sr.name]=rr[dr]}),xr},dt=(tr,rr="blockEnvironment",qt={})=>({name:rr,tail:It(tr),head:qt,id:(0,s.uniqueId)()});i.createBlockEnvironment=dt;const St=(tr,rr)=>{throw tr.errors.push(rr),tr.runtime.environments=tr.runtime.environments.slice(-tr.numberOfOuterEnvironments),rr},yt=Symbol("Used to implement hoisting");function gt(tr,rr,qt){const xr=It(tr);if(xr.head.hasOwnProperty(rr)){const Sr=Object.getOwnPropertyDescriptors(xr.head);return St(tr,new rt.VariableRedeclaration(qt,rr,Sr[rr].writable))}return xr.head[rr]=yt,xr}function Et(tr,rr){for(const qt of rr.declarations)gt(tr,qt.id.name,rr)}function _t(tr,rr){for(const qt of rr.specifiers)gt(tr,qt.local.name,rr)}function kt(tr,rr){for(const qt of rr.body)switch(qt.type){case"VariableDeclaration":Et(tr,qt);break;case"FunctionDeclaration":gt(tr,qt.id.name,qt);break}}function Ct(tr,rr,qt,xr=!1){const Sr=It(tr);return Sr.head[rr]!==yt?St(tr,new rt.VariableRedeclaration(tr.runtime.nodes[0],rr,!xr)):(Object.defineProperty(Sr.head,rr,{value:qt,writable:!xr,enumerable:!0}),Sr)}function*Tt(tr,rr){(0,at.checkEditorBreakpoints)(tr,rr),tr.runtime.nodes.unshift(rr),yield tr}function*At(tr){tr.runtime.break=!1,tr.runtime.nodes.shift(),yield tr}const It=tr=>tr.runtime.environments[0],Ot=(tr,rr)=>{tr.runtime.environments[0]=rr,tr.runtime.environmentTree.insert(rr)},Mt=tr=>tr.runtime.environments.shift(),Dt=(tr,rr)=>{tr.runtime.environments.unshift(rr),tr.runtime.environmentTree.insert(rr)};i.pushEnvironment=Dt;const Bt=(tr,rr)=>{let qt=It(tr);for(;qt;){if(qt.head.hasOwnProperty(rr))return qt.head[rr]===yt?St(tr,new rt.UnassignedVariable(rr,tr.runtime.nodes[0])):qt.head[rr];qt=qt.tail}return St(tr,new rt.UndefinedVariable(rr,tr.runtime.nodes[0]))},Kt=(tr,rr,qt)=>{let xr=It(tr);for(;xr;)if(xr.head.hasOwnProperty(rr)){if(xr.head[rr]===yt)break;if(Object.getOwnPropertyDescriptors(xr.head)[rr].writable){xr.head[rr]=qt;return}return St(tr,new rt.ConstAssignment(tr.runtime.nodes[0],rr))}else xr=xr.tail;return St(tr,new rt.UndefinedVariable(rr,tr.runtime.nodes[0]))},Wt=(tr,rr,qt,xr)=>{var Sr;if(rr instanceof $.default){const dr=rr.node.params,Ur=((Sr=dr[dr.length-1])===null||Sr===void 0?void 0:Sr.type)==="RestElement";if(Ur?dr.length-1>qt.length:dr.length!==qt.length)return St(tr,new rt.InvalidNumberOfArguments(xr,Ur?dr.length-1:dr.length,qt.length,Ur))}else{const dr=rr.minArgsNeeded!=null;if(dr?rr.minArgsNeeded>qt.length:rr.length!==qt.length)return St(tr,new rt.InvalidNumberOfArguments(xr,dr?rr.minArgsNeeded:rr.length,qt.length,dr))}};function*zt(tr,rr){const qt=[];for(const xr of rr.arguments)tr.variant===nt.Variant.LAZY?qt.push(ut(xr,It(tr))):xr.type==="SpreadElement"?qt.push(...yield*mt(xr.argument,tr)):qt.push(yield*mt(xr,tr));return qt}function Ht(tr){return tr.operator==="&&"?(0,it.conditionalExpression)(tr.left,tr.right,(0,it.literal)(!1),tr.loc):(0,it.conditionalExpression)(tr.left,(0,it.literal)(!0),tr.right,tr.loc)}function*Zt(tr,rr){const qt=yield*mt(tr.test,rr),xr=_.checkIfStatement(tr,qt,rr.chapter);return xr?St(rr,xr):qt?tr.consequent:tr.alternate}function*Qt(tr,rr){kt(tr,rr);let qt;for(const xr of rr.body)if(qt=yield*pr(xr,tr),qt instanceof lt||qt instanceof ct||qt instanceof tt||qt instanceof st)break;return qt}i.evaluators={Literal:function*(tr,rr){return tr.value},TemplateLiteral:function*(tr){return tr.quasis[0].value.cooked},ThisExpression:function*(tr,rr){return It(rr).thisContext},ArrayExpression:function*(tr,rr){const qt=[];for(const xr of tr.elements)qt.push(yield*pr(xr,rr));return qt},DebuggerStatement:function*(tr,rr){rr.runtime.break=!0,yield},FunctionExpression:function*(tr,rr){return new $.default(tr,It(rr),rr)},ArrowFunctionExpression:function*(tr,rr){return $.default.makeFromArrowFunction(tr,It(rr),rr)},Identifier:function*(tr,rr){return Bt(rr,tr.name)},CallExpression:function*(tr,rr){const qt=yield*mt(tr.callee,rr),xr=yield*zt(rr,tr);let Sr;return tr.callee.type==="MemberExpression"&&(Sr=yield*mt(tr.callee.object,rr)),yield*gr(rr,qt,xr,tr,Sr)},NewExpression:function*(tr,rr){const qt=yield*pr(tr.callee,rr),xr=[];for(const dr of tr.arguments)xr.push(yield*pr(dr,rr));const Sr={};return qt instanceof $.default?(Sr.__proto__=qt.fun.prototype,qt.fun.apply(Sr,xr)):(Sr.__proto__=qt.prototype,qt.apply(Sr,xr)),Sr},UnaryExpression:function*(tr,rr){const qt=yield*mt(tr.argument,rr),xr=_.checkUnaryExpression(tr,tr.operator,qt,rr.chapter);return xr?St(rr,xr):(0,j.evaluateUnaryExpression)(tr.operator,qt)},BinaryExpression:function*(tr,rr){const qt=yield*mt(tr.left,rr),xr=yield*mt(tr.right,rr),Sr=_.checkBinaryExpression(tr,tr.operator,rr.chapter,qt,xr);return Sr?St(rr,Sr):(0,j.evaluateBinaryExpression)(tr.operator,qt,xr)},ConditionalExpression:function*(tr,rr){return yield*this.IfStatement(tr,rr)},LogicalExpression:function*(tr,rr){return yield*this.ConditionalExpression(Ht(tr),rr)},VariableDeclaration:function*(tr,rr){const qt=tr.declarations[0],xr=tr.kind==="const",Sr=qt.id,dr=yield*pr(qt.init,rr);Ct(rr,Sr.name,dr,xr)},ContinueStatement:function*(tr,rr){return new st},BreakStatement:function*(tr,rr){return new tt},ForStatement:function*(tr,rr){const qt=(0,i.createBlockEnvironment)(rr,"forLoopEnvironment");(0,i.pushEnvironment)(rr,qt);const xr=tr.init,Sr=tr.test,dr=tr.update;xr.type==="VariableDeclaration"&&Et(rr,xr),yield*mt(xr,rr);let Ur;for(;yield*mt(Sr,rr);){const tn=(0,i.createBlockEnvironment)(rr,"forBlockEnvironment");(0,i.pushEnvironment)(rr,tn);for(const on in qt.head)qt.head.hasOwnProperty(on)&&(gt(rr,on,tr),Ct(rr,on,qt.head[on],!0));if(Ur=yield*mt(tr.body,rr),Mt(rr),Ur instanceof st&&(Ur=void 0),Ur instanceof tt){Ur=void 0;break}if(Ur instanceof lt||Ur instanceof ct)break;yield*mt(dr,rr)}return Mt(rr),Ur},MemberExpression:function*(tr,rr){let qt=yield*mt(tr.object,rr);qt instanceof $.default&&(qt=qt.fun);let xr;tr.computed?xr=yield*mt(tr.property,rr):xr=tr.property.name;const Sr=_.checkMemberAccess(tr,qt,xr);if(Sr)return St(rr,Sr);if(qt!=null&&typeof qt[xr]<"u"&&!qt.hasOwnProperty(xr))return St(rr,new rt.GetInheritedPropertyError(tr,qt,xr));try{return qt[xr]}catch{return St(rr,new rt.GetPropertyError(tr,qt,xr))}},AssignmentExpression:function*(tr,rr){if(tr.left.type==="MemberExpression"){const Sr=tr.left,dr=yield*mt(Sr.object,rr);let Ur;Sr.computed?Ur=yield*mt(Sr.property,rr):Ur=Sr.property.name;const tn=_.checkMemberAccess(tr,dr,Ur);if(tn)return St(rr,tn);const on=yield*pr(tr.right,rr);try{dr[Ur]=on}catch{return St(rr,new rt.SetPropertyError(tr,dr,Ur))}return on}const qt=tr.left,xr=yield*pr(tr.right,rr);return Kt(rr,qt.name,xr),xr},FunctionDeclaration:function*(tr,rr){const qt=tr.id,xr=new $.default(tr,It(rr),rr);Ct(rr,qt.name,xr,!0)},IfStatement:function*(tr,rr){const qt=yield*Zt(tr,rr);if(qt!==null)return yield*pr(qt,rr)},ExpressionStatement:function*(tr,rr){return yield*pr(tr.expression,rr)},ReturnStatement:function*(tr,rr){let qt=tr.argument;for(;qt.type==="LogicalExpression"||qt.type==="ConditionalExpression";)qt.type==="LogicalExpression"&&(qt=Ht(qt)),qt=yield*Zt(qt,rr);if(qt.type==="CallExpression"&&rr.variant!==nt.Variant.LAZY){const xr=yield*mt(qt.callee,rr),Sr=yield*zt(rr,qt);return new ct(xr,Sr,qt)}else return new lt(yield*pr(qt,rr))},WhileStatement:function*(tr,rr){let qt;for(;(yield*mt(tr.test,rr))&&!(qt instanceof lt)&&!(qt instanceof tt)&&!(qt instanceof ct);)qt=yield*mt(tr.body,rr);if(!(qt instanceof tt))return qt},ObjectExpression:function*(tr,rr){const qt={};for(const xr of tr.properties){const Sr=xr;let dr;Sr.key.type==="Identifier"?dr=Sr.key.name:dr=yield*pr(Sr.key,rr),qt[dr]=yield*pr(Sr.value,rr)}return qt},BlockStatement:function*(tr,rr){const qt=(0,i.createBlockEnvironment)(rr,"blockEnvironment");(0,i.pushEnvironment)(rr,qt);const xr=yield*Qt(rr,tr);return Mt(rr),xr},ImportDeclaration:function*(tr,rr){try{const qt=tr.source.value,xr=tr.specifiers.map(dr=>{if(dr.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${dr.type}.`);return{imported:dr.imported.name,local:dr.local.name}});qt in rr.moduleContexts||(rr.moduleContexts[qt]={state:null,tabs:(0,ot.loadModuleTabs)(qt,tr)});const Sr=(0,ot.loadModuleBundle)(qt,rr,tr);_t(rr,tr);for(const dr of xr)Ct(rr,dr.local,Sr[dr.imported],!0);return}catch(qt){return St(rr,qt)}},Program:function*(tr,rr){rr.numberOfOuterEnvironments+=1;const qt=(0,i.createBlockEnvironment)(rr,"programEnvironment");return(0,i.pushEnvironment)(rr,qt),yield*pt(yield*Qt(rr,tr),rr)}};function hr(tr){return(0,s.isEmpty)(tr.head)}function fr(tr){if(hr(tr)){const rr=tr.tail;return rr===null?tr:fr(rr)}else return tr}function*pr(tr,rr){yield*Tt(rr,tr);const qt=yield*i.evaluators[tr.type](tr,rr);return yield*At(rr),qt instanceof $.default&&Object.defineProperty(fr(It(rr)).head,(0,s.uniqueId)(),{value:qt,writable:!1,enumerable:!0}),qt}i.evaluate=pr;function*gr(tr,rr,qt,xr,Sr){let dr,Ur=0;for(;!(dr instanceof lt);)if(rr instanceof $.default){Wt(tr,rr,qt,xr);const tn=vt(rr,qt,xr);dr instanceof ct?Ot(tr,tn):((0,i.pushEnvironment)(tr,tn),Ur++);const on=(0,i.createBlockEnvironment)(tr,"functionBodyEnvironment");on.thisContext=Sr,(0,i.pushEnvironment)(tr,on),dr=yield*Qt(tr,rr.node.body),Mt(tr),dr instanceof ct?(rr=dr.callee,xr=dr.node,qt=dr.args):dr instanceof lt||(dr=new lt(void 0))}else if(rr instanceof a.LazyBuiltIn)try{let tn=qt;if(rr.evaluateArgs){tn=[];for(const on of qt)tn.push(yield*pt(on,tr))}dr=rr.func.apply(Sr,tn);break}catch(tn){tr.runtime.environments=tr.runtime.environments.slice(-tr.numberOfOuterEnvironments);const on=xr?xr.loc:o.UNKNOWN_LOCATION;if(!(tn instanceof et.RuntimeSourceError||tn instanceof rt.ExceptionError))return St(tr,new rt.ExceptionError(tn,on));throw dr=void 0,tn}else if(typeof rr=="function"){Wt(tr,rr,qt,xr);try{const tn=[];for(const on of qt)tn.push(yield*pt(on,tr));dr=rr.apply(Sr,tn);break}catch(tn){tr.runtime.environments=tr.runtime.environments.slice(-tr.numberOfOuterEnvironments);const on=xr?xr.loc:o.UNKNOWN_LOCATION;if(!(tn instanceof et.RuntimeSourceError||tn instanceof rt.ExceptionError))return St(tr,new rt.ExceptionError(tn,on));throw dr=void 0,tn}}else return St(tr,new rt.CallingNonFunctionValue(rr,xr));dr instanceof lt&&(dr=dr.value);for(let tn=1;tn<=Ur;tn++)Mt(tr);return dr}i.apply=gr}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const i=astring,s=astCreator,o=requireInterpreter(),a=(ot,at,nt)=>{function it(){const j=Array.prototype.slice.call(arguments),_=(0,o.apply)(at,ot,j,(0,s.callExpression)((0,s.identifier)(nt),j),this);let $=_.next();for(;!$.done;)$=_.next();return $.value}return Object.defineProperty(it,"name",{value:nt}),Object.setPrototypeOf(it,()=>{}),Object.defineProperty(it,"Inherits",{value:j=>{it.prototype=Object.create(j.prototype),it.prototype.constructor=it}}),it.toString=()=>(0,i.generate)(ot.originalNode),it.call=(j,..._)=>it.apply(j,_),it};class rt extends Function{constructor(at){return super(),Object.setPrototypeOf(at,new.target.prototype)}}class et extends rt{constructor(at,nt,it){super(function(..._){return j.apply(this,_)}),this.node=at,this.environment=nt,this.originalNode=at,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(_=>_.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const j=a(this,it,this.functionName);this.fun=j}static makeFromArrowFunction(at,nt,it){function j(tt){return tt.type!=="BlockStatement"}const _=j(at.body)?[(0,s.returnStatement)(at.body,at.body.loc)]:at.body,$=new et((0,s.blockArrowFunction)(at.params,_,at.loc),nt,it);return $.originalNode=at,$}toString(){return(0,i.generate)(this.originalNode)}}return closure.default=et,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.lineTreeToString=stringify$1.stringDagToSingleLine=stringify$1.stringDagToLineTree=stringify$1.valueToStringDag=stringify$1.typeToString=stringify$1.stringify=void 0;const i=constants,s=requireClosure(),o=requireOperators();function a(_){return typeof _.replPrefix=="string"&&typeof _.replSuffix=="string"&&typeof _.replArrayContents=="function"}const rt=(_,$=2,tt=80)=>{if(_=(0,o.forceIt)(_),typeof $=="string")throw"stringify with arbitrary indent string not supported";let st=$;return $>10&&(st=10),j(nt(at(_),st,tt))};stringify$1.stringify=rt;function et(_){return ot(_)}stringify$1.typeToString=et;function ot(_,$={_next:0}){function tt(st){return ot(st,$)}switch(_.kind){case"primitive":return _.name;case"variable":return _.constraint&&_.constraint!=="none"?_.constraint:(_.name in $||($[_.name]="T"+$._next++),$[_.name]);case"list":return`List<${tt(_.elementType)}>`;case"array":return`Array<${tt(_.elementType)}>`;case"pair":const st=tt(_.headType);return _.tailType.kind==="list"&&st===tt(_.tailType.elementType)?`List<${st}>`:`[${tt(_.headType)}, ${tt(_.tailType)}]`;case"function":let lt=_.parameterTypes.map(tt).join(", ");return(_.parameterTypes.length!==1||_.parameterTypes[0].kind==="function")&&(lt=`(${lt})`),`${lt} -> ${tt(_.returnType)}`;default:return"Unable to infer type"}}function at(_){const $=new Map,tt=new Map;function st(pt){const mt=tt.get(pt);if(mt!==void 0)return[mt,!1];$.set(pt,$.size);const vt=pt,[dt,St]=ut(vt[0]),[yt,gt]=ut(vt[1]),Et=St||gt;$.delete(pt);const _t={type:"pair",head:dt,tail:yt,length:dt.length+yt.length+4};return Et||tt.set(pt,_t),[_t,Et]}function lt(pt,mt,vt,dt){const St=tt.get(pt);if(St!==void 0)return[St,!1];$.set(pt,$.size);const yt=mt.map(ut);let gt=vt.length+dt.length+Math.max(0,yt.length-1)*2,Et=!1;for(let kt=0;kt<yt.length;kt++)yt[kt]==null&&(yt[kt]=ut(void 0)),gt+=yt[kt][0].length,Et||(Et=yt[kt][1]);$.delete(pt);const _t={type:"arraylike",elems:yt.map(kt=>kt[0]),prefix:vt,suffix:dt,length:gt};return Et||tt.set(pt,_t),[_t,Et]}function ct(pt){const mt=tt.get(pt);if(mt!==void 0)return[mt,!1];$.set(pt,$.size);const vt=Object.entries(pt),dt=vt.map(_t=>ut(_t[1]));let St=2+Math.max(0,vt.length-1)*2+vt.length*2,yt=!1;const gt=[];for(let _t=0;_t<dt.length;_t++)St+=vt[_t][0].length,St+=dt[_t].length,yt||(yt=dt[_t][1]),gt.push({type:"kvpair",key:vt[_t][0],value:dt[_t][0],length:dt[_t][0].length+vt[_t][0].length});$.delete(pt);const Et={type:"arraylike",elems:gt,prefix:"{",suffix:"}",length:St};return yt||tt.set(pt,Et),[Et,yt]}function ht(pt){const mt=pt.split(`
`);return mt.length===1?[{type:"terminal",str:mt[0],length:mt[0].length},!1]:[{type:"multiline",lines:mt,length:1/0},!1]}function ut(pt){if(pt===null)return[{type:"terminal",str:"null",length:4},!1];if(pt===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if($.has(pt))return[{type:"terminal",str:"...<circular>",length:13},!0];if(pt instanceof s.default)return ht(pt.toString());if(typeof pt=="string"){const mt=JSON.stringify(pt);return[{type:"terminal",str:mt,length:mt.length},!1]}else return typeof pt!="object"?ht(pt.toString()):$.size>i.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof pt.toReplString=="function"?ht(pt.toReplString()):Array.isArray(pt)?pt.length===2?st(pt):lt(pt,pt,"[","]"):a(pt)?lt(pt,pt.replArrayContents(),pt.replPrefix,pt.replSuffix):Object.getPrototypeOf(pt)===Object.prototype?ct(pt):ht(pt.toString())}return ut(_)[0]}stringify$1.valueToStringDag=at;function nt(_,$,tt){const lt="["+" ".repeat(Math.max(0,$-1)),ct=new Map;function ht(ut){const pt=ct.get(ut);if(pt!==void 0)return pt;let mt;if(ut.type==="terminal")mt={type:"line",line:ut};else if(ut.type==="multiline")mt={type:"block",prefixFirst:"",prefixRest:"",block:ut.lines.map(vt=>({type:"line",line:{type:"terminal",str:vt,length:vt.length}})),suffixRest:"",suffixLast:""};else if(ut.type==="pair"){const vt=ht(ut.head),dt=ht(ut.tail);ut.length-2>tt||vt.type!=="line"||dt.type!=="line"?mt={type:"block",prefixFirst:lt,prefixRest:"",block:[vt,dt],suffixRest:",",suffixLast:"]"}:mt={type:"line",line:ut}}else if(ut.type==="arraylike"){const vt=ut.elems.map(ht);ut.length-ut.prefix.length-ut.suffix.length>tt||vt.some(dt=>dt.type!=="line")?mt={type:"block",prefixFirst:ut.prefix+" ".repeat(Math.max(0,$-ut.prefix.length)),prefixRest:" ".repeat(Math.max(ut.prefix.length,$)),block:vt,suffixRest:",",suffixLast:ut.suffix}:mt={type:"line",line:ut}}else if(ut.type==="kvpair"){const vt=ht(ut.value);ut.length>tt||vt.type!=="line"?mt={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(ut.key),length:0}},vt],suffixRest:":",suffixLast:""}:mt={type:"line",line:ut}}else throw"up";return ct.set(ut,mt),mt}return ht(_)}stringify$1.stringDagToLineTree=nt;function it(_){function $(tt,st){if(tt.type==="multiline")throw"Tried to format multiline string as single line string";if(tt.type==="terminal")st.push(tt.str);else if(tt.type==="pair")st.push("["),$(tt.head,st),st.push(", "),$(tt.tail,st),st.push("]");else if(tt.type==="kvpair")st.push(JSON.stringify(tt.key)),st.push(": "),$(tt.value,st);else if(tt.type==="arraylike"){st.push(tt.prefix),tt.elems.length>0&&$(tt.elems[0],st);for(let lt=1;lt<tt.elems.length;lt++)st.push(", "),$(tt.elems[lt],st);st.push(tt.suffix)}return st}return $(_,[]).join("")}stringify$1.stringDagToSingleLine=it;function j(_){let $="";const tt=new Map,st=new Map;function lt(ct,ht){const ut=st.get(ct);if(ut!==void 0){const vt=ut.get(ht.length);if(vt!==void 0){$+=$.substring(vt[0],vt[1]);return}}const pt=$.length;if(ct.type==="line")tt.has(ct.line)||tt.set(ct.line,it(ct.line)),$+=tt.get(ct.line);else if(ct.type==="block"){$+=ct.prefixFirst;const vt=ht+" ".repeat(ct.prefixFirst.length),dt=ht+ct.prefixRest;lt(ct.block[0],vt);for(let St=1;St<ct.block.length;St++)$+=ct.suffixRest,$+=dt,lt(ct.block[St],dt);$+=ct.suffixLast}const mt=$.length;if(ut===void 0){const vt=new Map;vt.set(ht.length,[pt,mt]),st.set(ct,vt)}else ut.set(ht.length,[pt,mt])}return lt(_,`
`),$}return stringify$1.lineTreeToString=j,stringify$1}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const i=astring,s=types,o=requireStringify(),a=runtimeSourceError;class rt extends a.RuntimeSourceError{constructor(ht){super(ht)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=rt;class et{constructor(ht,ut){this.error=ht,this.location=ut,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=et;class ot extends a.RuntimeSourceError{constructor(ht,ut){super(ht),this.calls=ut,this.customGenerator=Object.assign(Object.assign({},i.baseGenerator),{CallExpression(pt,mt){mt.write((0,i.generate)(pt.callee)),mt.write("(");const vt=pt.arguments.map(dt=>(0,o.stringify)(dt.value));mt.write(vt.join(", ")),mt.write(")")}})}explain(){const ht=ut=>(0,i.generate)(ut,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(ut=>ht(ut)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=ot,ot.MAX_CALLS_TO_SHOW=3;class at extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.callee=ht,this.node=ut}explain(){return`Calling non-function value ${(0,o.stringify)(this.callee)}.`}elaborate(){const ht=this.callee,ut=(0,o.stringify)(ht);let pt="";pt=this.node.arguments.map(i.generate).join(", ");const vt=`Because ${ut} is not a function, you cannot run ${ut}(${pt}).`,dt=`If you were planning to perform multiplication by ${ut}, you need to use the * operator.`;return Number.isFinite(ht)?`${vt} ${dt}`:vt}}errors.CallingNonFunctionValue=at;class nt extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.name=ht}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=nt;class it extends a.RuntimeSourceError{constructor(ht,ut){super(ut),this.name=ht}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=it;class j extends a.RuntimeSourceError{constructor(ht,ut,pt,mt=!1){super(ht),this.expected=ut,this.got=pt,this.hasVarArgs=mt,this.calleeStr=(0,i.generate)(ht.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const ht=this.calleeStr,ut=this.expected===1?"":"s";return`Try calling function ${ht} again, but with ${this.expected} argument${ut} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=j;class _ extends a.RuntimeSourceError{constructor(ht,ut,pt){super(ht),this.node=ht,this.name=ut,this.writable=pt}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const ht=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let ut="";return this.node.type==="FunctionDeclaration"?ut="("+this.node.params.map(i.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(ut=(0,i.generate)(this.node.declarations[0].init)),`${ht} As such, you can just do

	${this.name} = ${ut};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=_;class $ extends a.RuntimeSourceError{constructor(ht,ut){super(ht),this.name=ut}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=$;class tt extends a.RuntimeSourceError{constructor(ht,ut,pt){super(ht),this.obj=ut,this.prop=pt}explain(){return`Cannot read property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=tt;class st extends a.RuntimeSourceError{constructor(ht,ut,pt){super(ht),this.obj=ut,this.prop=pt,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=ht.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=st;class lt extends a.RuntimeSourceError{constructor(ht,ut,pt){super(ht),this.obj=ut,this.prop=pt}explain(){return`Cannot assign property ${this.prop} of ${(0,o.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=lt,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const i=requireErrors(),s=inspector;class o{run(at,nt){return new Promise((it,j)=>{nt.runtime.isRunning=!0;let _=at.next();try{for(;!_.done;)_=at.next(),nt.runtime.break&&((0,s.saveState)(nt,at,this),_.done=!0)}catch{it({status:"error"})}finally{nt.runtime.isRunning=!1}nt.runtime.break?it({status:"suspended",it:at,scheduler:this,context:nt}):it({status:"finished",context:nt,value:_.value})})}}schedulers.AsyncScheduler=o;class a{run(at,nt){return new Promise((it,j)=>{try{const _=at.next();_.done?it({status:"finished",context:nt,value:_.value}):it({status:"suspended-non-det",it:at,scheduler:this,context:nt,value:_.value})}catch(_){et(_,nt),it({status:"error"})}finally{nt.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=a;class rt{constructor(at){this.steps=at}run(at,nt){return new Promise((it,j)=>{nt.runtime.isRunning=!0;let _=!1,$=at.next();const tt=setInterval(()=>{let st=0;try{for(;!$.done&&st<this.steps;)st++,$=at.next(),_=nt.runtime.break&&nt.runtime.debuggerOn,_&&($.done=!0);(0,s.saveState)(nt,at,this)}catch(lt){et(lt,nt),nt.runtime.isRunning=!1,clearInterval(tt),it({status:"error"})}$.done&&(nt.runtime.isRunning=!1,clearInterval(tt),it(_?{status:"suspended",it:at,scheduler:this,context:nt}:{status:"finished",context:nt,value:$.value}))})})}}schedulers.PreemptiveScheduler=rt;function et(ot,at){if(/Maximum call stack/.test(ot.toString())){const nt=at.runtime.environments,it=[];let j=0;for(let _=0;j<i.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&_<nt.length;_++)nt[_].callExpression&&(it.unshift(nt[_].callExpression),j++);at.errors.push(new i.MaximumStackLimitExceeded(at.runtime.nodes[0],it))}}return schedulers}var lazyList_prelude={};Object.defineProperty(lazyList_prelude,"__esModule",{value:!0});lazyList_prelude.lazyListPrelude=void 0;lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`;var list$1={},hasRequiredList;function requireList(){if(hasRequiredList)return list$1;hasRequiredList=1,Object.defineProperty(list$1,"__esModule",{value:!0}),list$1.rawDisplayList=list$1.set_tail=list$1.set_head=list$1.vector_to_list=list$1.list_to_vector=list$1.is_list=list$1.list=list$1.is_null=list$1.tail=list$1.head=list$1.is_pair=list$1.pair=void 0;const i=requireStringify();function s(st){return Array.isArray===void 0?st instanceof Array:Array.isArray(st)}function o(st,lt){return[st,lt]}list$1.pair=o;function a(st){return s(st)&&st.length===2}list$1.is_pair=a;function rt(st){if(a(st))return st[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.head=rt;function et(st){if(a(st))return st[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.tail=et;function ot(st){return st===null}list$1.is_null=ot;function at(...st){let lt=null;for(let ct=st.length-1;ct>=0;ct-=1)lt=o(st[ct],lt);return lt}list$1.list=at;function nt(st){for(;a(st);)st=et(st);return ot(st)}list$1.is_list=nt;function it(st){const lt=[];for(;!ot(st);)lt.push(rt(st)),st=et(st);return lt}list$1.list_to_vector=it;function j(st){return at(...st)}list$1.vector_to_list=j;function _(st,lt){if(a(st)){st[0]=lt;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_head=_;function $(st,lt){if(a(st)){st[1]=lt;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,i.stringify)(st))}list$1.set_tail=$;function tt(st,lt,ct){const ht=new Set,ut=new Map;class pt{constructor(yt){this.replPrefix="list(",this.replSuffix=")",this.listNode=yt}replArrayContents(){const yt=[];let gt=this.listNode;for(;gt!==null;)yt.push(rt(gt)),gt=et(gt);return yt}}function mt(St){return ut.get(St)||St}const vt=[];let dt=0;for(vt.push(lt);dt<vt.length;){const St=vt[dt];dt++,!ht.has(St)&&(ht.add(St),a(St)&&vt.push(rt(St),et(St)))}for(;vt.length>0;){const St=vt.pop();if(!a(St))continue;const yt=rt(St),gt=et(St),Et=mt(gt),_t=ot(Et)||Et instanceof pt?new pt(o(yt,gt)):o(yt,gt);ut.set(St,_t)}for(const St of ut.values())if(a(St))_(St,mt(rt(St))),$(St,mt(et(St)));else if(St instanceof pt){_(St.listNode,mt(rt(St.listNode)));let yt=mt(et(St.listNode));yt instanceof pt&&(yt=yt.listNode),$(St.listNode,yt)}return st(mt(lt),ct),lt}return list$1.rawDisplayList=tt,list$1}var list_prelude={};Object.defineProperty(list_prelude,"__esModule",{value:!0});list_prelude.listPrelude=void 0;list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`;var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const i=requireClosure(),s=requireStringify();function o(pt,mt,vt){return console.log((mt===void 0?"":mt+" ")+pt.toString()),pt}misc.rawDisplay=o;function a(pt,...mt){const vt=(mt[0]===void 0?"":mt[0]+" ")+(0,s.stringify)(pt);throw new Error(vt)}misc.error_message=a;function rt(pt,mt,vt,dt){return(...St)=>{const yt=ut(),gt=mt(...St),Et=ut()-yt;return dt("Duration: "+Math.round(Et)+"ms","",vt),gt}}misc.timed=rt;function et(pt){return typeof pt=="number"}misc.is_number=et;function ot(pt){return typeof pt>"u"}misc.is_undefined=ot;function at(pt){return typeof pt=="string"}misc.is_string=at;function nt(pt){return typeof pt=="boolean"}misc.is_boolean=nt;function it(pt){return typeof pt=="object"||j(pt)}misc.is_object=it;function j(pt){return typeof pt=="function"}misc.is_function=j;function _(pt){return et(pt)&&isNaN(pt)}misc.is_NaN=_;function $(pt,mt){return pt.hasOwnProperty(mt)}misc.has_own_property=$;function tt(pt){return pt instanceof Array}misc.is_array=tt;function st(pt){return pt.length}misc.array_length=st;function lt(pt,mt){if(typeof pt=="string"&&typeof mt=="number"&&Number.isInteger(mt)&&2<=mt&&mt<=36)return parseInt(pt,mt);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=lt;function ct(pt,mt){if(typeof pt!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof mt!="number"||!Number.isInteger(mt)||mt<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return pt[mt]}misc.char_at=ct;function ht(pt){var mt;if(pt instanceof i.default){const vt=pt.node.params;return((mt=vt[vt.length-1])===null||mt===void 0?void 0:mt.type)==="RestElement"?vt.length-1:vt.length}else{if(typeof pt=="function")return pt.length;throw new Error("arity expects a function as argument")}}misc.arity=ht;function ut(){return new Date().getTime()}return misc.get_time=ut,misc}var nonDet_prelude={};Object.defineProperty(nonDet_prelude,"__esModule",{value:!0});nonDet_prelude.nonDetPrelude=void 0;nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`;var parser$1={},parser={},acornLoose={exports:{}};(function(i,s){(function(o,a){a(s,acornExports)})(commonjsGlobal,function(o,a){var rt="";function et(tt){return tt.name===rt}function ot(){}var at=function(st,lt){if(lt===void 0&&(lt={}),this.toks=this.constructor.BaseParser.tokenizer(st,lt),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:a.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=ot,this.tok.validateRegExpPattern=ot,this.options.locations){var ct=this.toks.curPosition();this.tok.loc=new a.SourceLocation(this.toks,ct,ct)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};at.prototype.startNode=function(){return new a.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},at.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},at.prototype.startNodeAt=function(st){return this.options.locations?new a.Node(this.toks,st[0],st[1]):new a.Node(this.toks,st)},at.prototype.finishNode=function(st,lt){return st.type=lt,st.end=this.last.end,this.options.locations&&(st.loc.end=this.last.loc.end),this.options.ranges&&(st.range[1]=this.last.end),st},at.prototype.dummyNode=function(st){var lt=this.startNode();return lt.type=st,lt.end=lt.start,this.options.locations&&(lt.loc.end=lt.loc.start),this.options.ranges&&(lt.range[1]=lt.start),this.last={type:a.tokTypes.name,start:lt.start,end:lt.start,loc:lt.loc},lt},at.prototype.dummyIdent=function(){var st=this.dummyNode("Identifier");return st.name=rt,st},at.prototype.dummyString=function(){var st=this.dummyNode("Literal");return st.value=st.raw=rt,st},at.prototype.eat=function(st){return this.tok.type===st?(this.next(),!0):!1},at.prototype.isContextual=function(st){return this.tok.type===a.tokTypes.name&&this.tok.value===st},at.prototype.eatContextual=function(st){return this.tok.value===st&&this.eat(a.tokTypes.name)},at.prototype.canInsertSemicolon=function(){return this.tok.type===a.tokTypes.eof||this.tok.type===a.tokTypes.braceR||a.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},at.prototype.semicolon=function(){return this.eat(a.tokTypes.semi)},at.prototype.expect=function(st){if(this.eat(st))return!0;for(var lt=1;lt<=2;lt++)if(this.lookAhead(lt).type===st){for(var ct=0;ct<lt;ct++)this.next();return!0}},at.prototype.pushCx=function(){this.context.push(this.curIndent)},at.prototype.popCx=function(){this.curIndent=this.context.pop()},at.prototype.lineEnd=function(st){for(;st<this.input.length&&!a.isNewLine(this.input.charCodeAt(st));)++st;return st},at.prototype.indentationAfter=function(st){for(var lt=0;;++st){var ct=this.input.charCodeAt(st);if(ct===32)++lt;else if(ct===9)lt+=this.options.tabSize;else return lt}},at.prototype.closes=function(st,lt,ct,ht){return this.tok.type===st||this.tok.type===a.tokTypes.eof?!0:ct!==this.curLineStart&&this.curIndent<lt&&this.tokenStartsLine()&&(!ht||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<lt)},at.prototype.tokenStartsLine=function(){for(var st=this.tok.start-1;st>=this.curLineStart;--st){var lt=this.input.charCodeAt(st);if(lt!==9&&lt!==32)return!1}return!0},at.prototype.extend=function(st,lt){this[st]=lt(this[st])},at.prototype.parse=function(){return this.next(),this.parseTopLevel()},at.extend=function(){for(var st=[],lt=arguments.length;lt--;)st[lt]=arguments[lt];for(var ct=this,ht=0;ht<st.length;ht++)ct=st[ht](ct);return ct},at.parse=function(st,lt){return new this(st,lt).parse()},at.BaseParser=a.Parser;var nt=at.prototype;function it(tt){return tt<14&&tt>8||tt===32||tt===160||a.isNewLine(tt)}nt.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},nt.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===a.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=a.tokTypes.ellipsis),new a.Token(this.toks)}catch(ut){if(!(ut instanceof SyntaxError))throw ut;var tt=ut.message,st=ut.raisedAt,lt=!0;if(/unterminated/i.test(tt))if(st=this.lineEnd(ut.pos+1),/string/.test(tt))lt={start:ut.pos,end:st,type:a.tokTypes.string,value:this.input.slice(ut.pos+1,st)};else if(/regular expr/i.test(tt)){var ct=this.input.slice(ut.pos,st);try{ct=new RegExp(ct)}catch{}lt={start:ut.pos,end:st,type:a.tokTypes.regexp,value:ct}}else/template/.test(tt)?lt={start:ut.pos,end:st,type:a.tokTypes.template,value:this.input.slice(ut.pos,st)}:lt=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(tt))for(;st<this.input.length&&!it(this.input.charCodeAt(st));)++st;else if(/character escape|expected hexadecimal/i.test(tt))for(;st<this.input.length;){var ht=this.input.charCodeAt(st++);if(ht===34||ht===39||a.isNewLine(ht))break}else if(/unexpected character/i.test(tt))st++,lt=!1;else if(/regular expression/i.test(tt))lt=!0;else throw ut;if(this.resetTo(st),lt===!0&&(lt={start:st,end:st,type:a.tokTypes.name,value:rt}),lt)return this.options.locations&&(lt.loc=new a.SourceLocation(this.toks,a.getLineInfo(this.input,lt.start),a.getLineInfo(this.input,lt.end))),lt}},nt.resetTo=function(tt){this.toks.pos=tt,this.toks.containsEsc=!1;var st=this.input.charAt(tt-1);if(this.toks.exprAllowed=!st||/[[{(,;:?/*=+\-~!|&%^<>]/.test(st)||/[enwfd]/.test(st)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(tt-10,tt)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=a.lineBreakG.lastIndex=0;for(var lt;(lt=a.lineBreakG.exec(this.input))&&lt.index<tt;)++this.toks.curLine,this.toks.lineStart=lt.index+lt[0].length}},nt.lookAhead=function(tt){for(;tt>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[tt-1]};var j=at.prototype;j.parseTopLevel=function(){var tt=this.startNodeAt(this.options.locations?[0,a.getLineInfo(this.input,0)]:0);for(tt.body=[];this.tok.type!==a.tokTypes.eof;)tt.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(tt.body),this.last=this.tok,tt.sourceType=this.options.sourceType,this.finishNode(tt,"Program")},j.parseStatement=function(){var tt=this.tok.type,st=this.startNode(),lt;switch(this.toks.isLet()&&(tt=a.tokTypes._var,lt="let"),tt){case a.tokTypes._break:case a.tokTypes._continue:this.next();var ct=tt===a.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?st.label=null:(st.label=this.tok.type===a.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(st,ct?"BreakStatement":"ContinueStatement");case a.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(st,"DebuggerStatement");case a.tokTypes._do:return this.next(),st.body=this.parseStatement(),st.test=this.eat(a.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(st,"DoWhileStatement");case a.tokTypes._for:this.next();var ht=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(a.tokTypes.parenL),this.tok.type===a.tokTypes.semi)return this.parseFor(st,null);var ut=this.toks.isLet();if(ut||this.tok.type===a.tokTypes._var||this.tok.type===a.tokTypes._const){var pt=this.parseVar(this.startNode(),!0,ut?"let":this.tok.value);return pt.declarations.length===1&&(this.tok.type===a.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(st.await=ht),this.parseForIn(st,pt)):this.parseFor(st,pt)}var mt=this.parseExpression(!0);return this.tok.type===a.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(st.await=ht),this.parseForIn(st,this.toAssignable(mt))):this.parseFor(st,mt);case a.tokTypes._function:return this.next(),this.parseFunction(st,!0);case a.tokTypes._if:return this.next(),st.test=this.parseParenExpression(),st.consequent=this.parseStatement(),st.alternate=this.eat(a.tokTypes._else)?this.parseStatement():null,this.finishNode(st,"IfStatement");case a.tokTypes._return:return this.next(),this.eat(a.tokTypes.semi)||this.canInsertSemicolon()?st.argument=null:(st.argument=this.parseExpression(),this.semicolon()),this.finishNode(st,"ReturnStatement");case a.tokTypes._switch:var vt=this.curIndent,dt=this.curLineStart;this.next(),st.discriminant=this.parseParenExpression(),st.cases=[],this.pushCx(),this.expect(a.tokTypes.braceL);for(var St;!this.closes(a.tokTypes.braceR,vt,dt,!0);)if(this.tok.type===a.tokTypes._case||this.tok.type===a.tokTypes._default){var yt=this.tok.type===a.tokTypes._case;St&&this.finishNode(St,"SwitchCase"),st.cases.push(St=this.startNode()),St.consequent=[],this.next(),yt?St.test=this.parseExpression():St.test=null,this.expect(a.tokTypes.colon)}else St||(st.cases.push(St=this.startNode()),St.consequent=[],St.test=null),St.consequent.push(this.parseStatement());return St&&this.finishNode(St,"SwitchCase"),this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(st,"SwitchStatement");case a.tokTypes._throw:return this.next(),st.argument=this.parseExpression(),this.semicolon(),this.finishNode(st,"ThrowStatement");case a.tokTypes._try:if(this.next(),st.block=this.parseBlock(),st.handler=null,this.tok.type===a.tokTypes._catch){var gt=this.startNode();this.next(),this.eat(a.tokTypes.parenL)?(gt.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(a.tokTypes.parenR)):gt.param=null,gt.body=this.parseBlock(),st.handler=this.finishNode(gt,"CatchClause")}return st.finalizer=this.eat(a.tokTypes._finally)?this.parseBlock():null,!st.handler&&!st.finalizer?st.block:this.finishNode(st,"TryStatement");case a.tokTypes._var:case a.tokTypes._const:return this.parseVar(st,!1,lt||this.tok.value);case a.tokTypes._while:return this.next(),st.test=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WhileStatement");case a.tokTypes._with:return this.next(),st.object=this.parseParenExpression(),st.body=this.parseStatement(),this.finishNode(st,"WithStatement");case a.tokTypes.braceL:return this.parseBlock();case a.tokTypes.semi:return this.next(),this.finishNode(st,"EmptyStatement");case a.tokTypes._class:return this.parseClass(!0);case a.tokTypes._import:if(this.options.ecmaVersion>10){var Et=this.lookAhead(1).type;if(Et===a.tokTypes.parenL||Et===a.tokTypes.dot)return st.expression=this.parseExpression(),this.semicolon(),this.finishNode(st,"ExpressionStatement")}return this.parseImport();case a.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(st,!0,!0);var _t=this.parseExpression();return et(_t)?(this.next(),this.tok.type===a.tokTypes.eof?this.finishNode(st,"EmptyStatement"):this.parseStatement()):tt===a.tokTypes.name&&_t.type==="Identifier"&&this.eat(a.tokTypes.colon)?(st.body=this.parseStatement(),st.label=_t,this.finishNode(st,"LabeledStatement")):(st.expression=_t,this.semicolon(),this.finishNode(st,"ExpressionStatement"))}},j.parseBlock=function(){var tt=this.startNode();this.pushCx(),this.expect(a.tokTypes.braceL);var st=this.curIndent,lt=this.curLineStart;for(tt.body=[];!this.closes(a.tokTypes.braceR,st,lt,!0);)tt.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(tt,"BlockStatement")},j.parseFor=function(tt,st){return tt.init=st,tt.test=tt.update=null,this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.semi&&(tt.test=this.parseExpression()),this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.parenR&&(tt.update=this.parseExpression()),this.popCx(),this.expect(a.tokTypes.parenR),tt.body=this.parseStatement(),this.finishNode(tt,"ForStatement")},j.parseForIn=function(tt,st){var lt=this.tok.type===a.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),tt.left=st,tt.right=this.parseExpression(),this.popCx(),this.expect(a.tokTypes.parenR),tt.body=this.parseStatement(),this.finishNode(tt,lt)},j.parseVar=function(tt,st,lt){tt.kind=lt,this.next(),tt.declarations=[];do{var ct=this.startNode();ct.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),ct.init=this.eat(a.tokTypes.eq)?this.parseMaybeAssign(st):null,tt.declarations.push(this.finishNode(ct,"VariableDeclarator"))}while(this.eat(a.tokTypes.comma));if(!tt.declarations.length){var ht=this.startNode();ht.id=this.dummyIdent(),tt.declarations.push(this.finishNode(ht,"VariableDeclarator"))}return st||this.semicolon(),this.finishNode(tt,"VariableDeclaration")},j.parseClass=function(tt){var st=this.startNode();this.next(),this.tok.type===a.tokTypes.name?st.id=this.parseIdent():tt===!0?st.id=this.dummyIdent():st.id=null,st.superClass=this.eat(a.tokTypes._extends)?this.parseExpression():null,st.body=this.startNode(),st.body.body=[],this.pushCx();var lt=this.curIndent+1,ct=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<lt&&(lt=this.curIndent,ct=this.curLineStart);!this.closes(a.tokTypes.braceR,lt,ct);){var ht=this.parseClassElement();ht&&st.body.body.push(ht)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(st.body,"ClassBody"),this.finishNode(st,tt?"ClassDeclaration":"ClassExpression")},j.parseClassElement=function(){if(this.eat(a.tokTypes.semi))return null;var tt=this.options,st=tt.ecmaVersion,lt=tt.locations,ct=this.curIndent,ht=this.curLineStart,ut=this.startNode(),pt="",mt=!1,vt=!1,dt="method",St=!1;if(this.eatContextual("static")){if(st>=13&&this.eat(a.tokTypes.braceL))return this.parseClassStaticBlock(ut),ut;this.isClassElementNameStart()||this.toks.type===a.tokTypes.star?St=!0:pt="static"}if(ut.static=St,!pt&&st>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===a.tokTypes.star)&&!this.canInsertSemicolon()?vt=!0:pt="async"),!pt){mt=this.eat(a.tokTypes.star);var yt=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?dt=yt:pt=yt)}if(pt)ut.computed=!1,ut.key=this.startNodeAt(lt?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),ut.key.name=pt,this.finishNode(ut.key,"Identifier");else if(this.parseClassElementName(ut),et(ut.key))return et(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma),null;if(st<13||this.toks.type===a.tokTypes.parenL||dt!=="method"||mt||vt){var gt=!ut.computed&&!ut.static&&!mt&&!vt&&dt==="method"&&(ut.key.type==="Identifier"&&ut.key.name==="constructor"||ut.key.type==="Literal"&&ut.key.value==="constructor");ut.kind=gt?"constructor":dt,ut.value=this.parseMethod(mt,vt),this.finishNode(ut,"MethodDefinition")}else{if(this.eat(a.tokTypes.eq))if(this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine())ut.value=null;else{var Et=this.inAsync,_t=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,ut.value=this.parseMaybeAssign(),this.inAsync=Et,this.inGenerator=_t}else ut.value=null;this.semicolon(),this.finishNode(ut,"PropertyDefinition")}return ut},j.parseClassStaticBlock=function(tt){var st=this.curIndent,lt=this.curLineStart;for(tt.body=[],this.pushCx();!this.closes(a.tokTypes.braceR,st,lt,!0);)tt.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(tt,"StaticBlock")},j.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},j.parseClassElementName=function(tt){this.toks.type===a.tokTypes.privateId?(tt.computed=!1,tt.key=this.parsePrivateIdent()):this.parsePropertyName(tt)},j.parseFunction=function(tt,st,lt){var ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(tt),this.options.ecmaVersion>=6&&(tt.generator=this.eat(a.tokTypes.star)),this.options.ecmaVersion>=8&&(tt.async=!!lt),this.tok.type===a.tokTypes.name?tt.id=this.parseIdent():st===!0&&(tt.id=this.dummyIdent()),this.inAsync=tt.async,this.inGenerator=tt.generator,this.inFunction=!0,tt.params=this.parseFunctionParams(),tt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(tt.body.body),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(tt,st?"FunctionDeclaration":"FunctionExpression")},j.parseExport=function(){var tt=this.startNode();if(this.next(),this.eat(a.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?tt.exported=this.parseExprAtom():tt.exported=null),tt.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(tt,"ExportAllDeclaration");if(this.eat(a.tokTypes._default)){var st;if(this.tok.type===a.tokTypes._function||(st=this.toks.isAsyncFunction())){var lt=this.startNode();this.next(),st&&this.next(),tt.declaration=this.parseFunction(lt,"nullableID",st)}else this.tok.type===a.tokTypes._class?tt.declaration=this.parseClass("nullableID"):(tt.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(tt,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(tt.declaration=this.parseStatement(),tt.specifiers=[],tt.source=null):(tt.declaration=null,tt.specifiers=this.parseExportSpecifierList(),tt.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(tt,"ExportNamedDeclaration")},j.parseImport=function(){var tt=this.startNode();if(this.next(),this.tok.type===a.tokTypes.string)tt.specifiers=[],tt.source=this.parseExprAtom();else{var st;this.tok.type===a.tokTypes.name&&this.tok.value!=="from"&&(st=this.startNode(),st.local=this.parseIdent(),this.finishNode(st,"ImportDefaultSpecifier"),this.eat(a.tokTypes.comma)),tt.specifiers=this.parseImportSpecifiers(),tt.source=this.eatContextual("from")&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.dummyString(),st&&tt.specifiers.unshift(st)}return this.semicolon(),this.finishNode(tt,"ImportDeclaration")},j.parseImportSpecifiers=function(){var tt=[];if(this.tok.type===a.tokTypes.star){var st=this.startNode();this.next(),st.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),tt.push(this.finishNode(st,"ImportNamespaceSpecifier"))}else{var lt=this.curIndent,ct=this.curLineStart,ht=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>ht&&(ht=this.curLineStart);!this.closes(a.tokTypes.braceR,lt+(this.curLineStart<=ht?1:0),ct);){var ut=this.startNode();if(this.eat(a.tokTypes.star))ut.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(ut,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(ut.imported=this.parseModuleExportName(),et(ut.imported)))break;ut.local=this.eatContextual("as")?this.parseModuleExportName():ut.imported,this.finishNode(ut,"ImportSpecifier")}tt.push(ut),this.eat(a.tokTypes.comma)}this.eat(a.tokTypes.braceR),this.popCx()}return tt},j.parseExportSpecifierList=function(){var tt=[],st=this.curIndent,lt=this.curLineStart,ct=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>ct&&(ct=this.curLineStart);!this.closes(a.tokTypes.braceR,st+(this.curLineStart<=ct?1:0),lt)&&!this.isContextual("from");){var ht=this.startNode();if(ht.local=this.parseModuleExportName(),et(ht.local))break;ht.exported=this.eatContextual("as")?this.parseModuleExportName():ht.local,this.finishNode(ht,"ExportSpecifier"),tt.push(ht),this.eat(a.tokTypes.comma)}return this.eat(a.tokTypes.braceR),this.popCx(),tt},j.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent()};var _=at.prototype;_.checkLVal=function(tt){if(!tt)return tt;switch(tt.type){case"Identifier":case"MemberExpression":return tt;case"ParenthesizedExpression":return tt.expression=this.checkLVal(tt.expression),tt;default:return this.dummyIdent()}},_.parseExpression=function(tt){var st=this.storeCurrentPos(),lt=this.parseMaybeAssign(tt);if(this.tok.type===a.tokTypes.comma){var ct=this.startNodeAt(st);for(ct.expressions=[lt];this.eat(a.tokTypes.comma);)ct.expressions.push(this.parseMaybeAssign(tt));return this.finishNode(ct,"SequenceExpression")}return lt},_.parseParenExpression=function(){this.pushCx(),this.expect(a.tokTypes.parenL);var tt=this.parseExpression();return this.popCx(),this.expect(a.tokTypes.parenR),tt},_.parseMaybeAssign=function(tt){if(this.inGenerator&&this.toks.isContextual("yield")){var st=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==a.tokTypes.star&&!this.tok.type.startsExpr?(st.delegate=!1,st.argument=null):(st.delegate=this.eat(a.tokTypes.star),st.argument=this.parseMaybeAssign()),this.finishNode(st,"YieldExpression")}var lt=this.storeCurrentPos(),ct=this.parseMaybeConditional(tt);if(this.tok.type.isAssign){var ht=this.startNodeAt(lt);return ht.operator=this.tok.value,ht.left=this.tok.type===a.tokTypes.eq?this.toAssignable(ct):this.checkLVal(ct),this.next(),ht.right=this.parseMaybeAssign(tt),this.finishNode(ht,"AssignmentExpression")}return ct},_.parseMaybeConditional=function(tt){var st=this.storeCurrentPos(),lt=this.parseExprOps(tt);if(this.eat(a.tokTypes.question)){var ct=this.startNodeAt(st);return ct.test=lt,ct.consequent=this.parseMaybeAssign(),ct.alternate=this.expect(a.tokTypes.colon)?this.parseMaybeAssign(tt):this.dummyIdent(),this.finishNode(ct,"ConditionalExpression")}return lt},_.parseExprOps=function(tt){var st=this.storeCurrentPos(),lt=this.curIndent,ct=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),st,-1,tt,lt,ct)},_.parseExprOp=function(tt,st,lt,ct,ht,ut){if(this.curLineStart!==ut&&this.curIndent<ht&&this.tokenStartsLine())return tt;var pt=this.tok.type.binop;if(pt!=null&&(!ct||this.tok.type!==a.tokTypes._in)&&pt>lt){var mt=this.startNodeAt(st);if(mt.left=tt,mt.operator=this.tok.value,this.next(),this.curLineStart!==ut&&this.curIndent<ht&&this.tokenStartsLine())mt.right=this.dummyIdent();else{var vt=this.storeCurrentPos();mt.right=this.parseExprOp(this.parseMaybeUnary(!1),vt,pt,ct,ht,ut)}return this.finishNode(mt,/&&|\|\||\?\?/.test(mt.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(mt,st,lt,ct,ht,ut)}return tt},_.parseMaybeUnary=function(tt){var st=this.storeCurrentPos(),lt;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))lt=this.parseAwait(),tt=!0;else if(this.tok.type.prefix){var ct=this.startNode(),ht=this.tok.type===a.tokTypes.incDec;ht||(tt=!0),ct.operator=this.tok.value,ct.prefix=!0,this.next(),ct.argument=this.parseMaybeUnary(!0),ht&&(ct.argument=this.checkLVal(ct.argument)),lt=this.finishNode(ct,ht?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===a.tokTypes.ellipsis){var ut=this.startNode();this.next(),ut.argument=this.parseMaybeUnary(tt),lt=this.finishNode(ut,"SpreadElement")}else if(!tt&&this.tok.type===a.tokTypes.privateId)lt=this.parsePrivateIdent();else for(lt=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var pt=this.startNodeAt(st);pt.operator=this.tok.value,pt.prefix=!1,pt.argument=this.checkLVal(lt),this.next(),lt=this.finishNode(pt,"UpdateExpression")}if(!tt&&this.eat(a.tokTypes.starstar)){var mt=this.startNodeAt(st);return mt.operator="**",mt.left=lt,mt.right=this.parseMaybeUnary(!1),this.finishNode(mt,"BinaryExpression")}return lt},_.parseExprSubscripts=function(){var tt=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),tt,!1,this.curIndent,this.curLineStart)},_.parseSubscripts=function(tt,st,lt,ct,ht){for(var ut=this.options.ecmaVersion>=11,pt=!1;;){if(this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine())if(this.tok.type===a.tokTypes.dot&&this.curIndent===ct)--ct;else break;var mt=tt.type==="Identifier"&&tt.name==="async"&&!this.canInsertSemicolon(),vt=ut&&this.eat(a.tokTypes.questionDot);if(vt&&(pt=!0),vt&&this.tok.type!==a.tokTypes.parenL&&this.tok.type!==a.tokTypes.bracketL&&this.tok.type!==a.tokTypes.backQuote||this.eat(a.tokTypes.dot)){var dt=this.startNodeAt(st);dt.object=tt,this.curLineStart!==ht&&this.curIndent<=ct&&this.tokenStartsLine()?dt.property=this.dummyIdent():dt.property=this.parsePropertyAccessor()||this.dummyIdent(),dt.computed=!1,ut&&(dt.optional=vt),tt=this.finishNode(dt,"MemberExpression")}else if(this.tok.type===a.tokTypes.bracketL){this.pushCx(),this.next();var St=this.startNodeAt(st);St.object=tt,St.property=this.parseExpression(),St.computed=!0,ut&&(St.optional=vt),this.popCx(),this.expect(a.tokTypes.bracketR),tt=this.finishNode(St,"MemberExpression")}else if(!lt&&this.tok.type===a.tokTypes.parenL){var yt=this.parseExprList(a.tokTypes.parenR);if(mt&&this.eat(a.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(st),yt,!0);var gt=this.startNodeAt(st);gt.callee=tt,gt.arguments=yt,ut&&(gt.optional=vt),tt=this.finishNode(gt,"CallExpression")}else if(this.tok.type===a.tokTypes.backQuote){var Et=this.startNodeAt(st);Et.tag=tt,Et.quasi=this.parseTemplate(),tt=this.finishNode(Et,"TaggedTemplateExpression")}else break}if(pt){var _t=this.startNodeAt(st);_t.expression=tt,tt=this.finishNode(_t,"ChainExpression")}return tt},_.parseExprAtom=function(){var tt;switch(this.tok.type){case a.tokTypes._this:case a.tokTypes._super:var st=this.tok.type===a.tokTypes._this?"ThisExpression":"Super";return tt=this.startNode(),this.next(),this.finishNode(tt,st);case a.tokTypes.name:var lt=this.storeCurrentPos(),ct=this.parseIdent(),ht=!1;if(ct.name==="async"&&!this.canInsertSemicolon()){if(this.eat(a.tokTypes._function))return this.toks.overrideContext(a.tokContexts.f_expr),this.parseFunction(this.startNodeAt(lt),!1,!0);this.tok.type===a.tokTypes.name&&(ct=this.parseIdent(),ht=!0)}return this.eat(a.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(lt),[ct],ht):ct;case a.tokTypes.regexp:tt=this.startNode();var ut=this.tok.value;return tt.regex={pattern:ut.pattern,flags:ut.flags},tt.value=ut.value,tt.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(tt,"Literal");case a.tokTypes.num:case a.tokTypes.string:return tt=this.startNode(),tt.value=this.tok.value,tt.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===a.tokTypes.num&&tt.raw.charCodeAt(tt.raw.length-1)===110&&(tt.bigint=tt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(tt,"Literal");case a.tokTypes._null:case a.tokTypes._true:case a.tokTypes._false:return tt=this.startNode(),tt.value=this.tok.type===a.tokTypes._null?null:this.tok.type===a.tokTypes._true,tt.raw=this.tok.type.keyword,this.next(),this.finishNode(tt,"Literal");case a.tokTypes.parenL:var pt=this.storeCurrentPos();this.next();var mt=this.parseExpression();if(this.expect(a.tokTypes.parenR),this.eat(a.tokTypes.arrow)){var vt=mt.expressions||[mt];return vt.length&&et(vt[vt.length-1])&&vt.pop(),this.parseArrowExpression(this.startNodeAt(pt),vt)}if(this.options.preserveParens){var dt=this.startNodeAt(pt);dt.expression=mt,mt=this.finishNode(dt,"ParenthesizedExpression")}return mt;case a.tokTypes.bracketL:return tt=this.startNode(),tt.elements=this.parseExprList(a.tokTypes.bracketR,!0),this.finishNode(tt,"ArrayExpression");case a.tokTypes.braceL:return this.toks.overrideContext(a.tokContexts.b_expr),this.parseObj();case a.tokTypes._class:return this.parseClass(!1);case a.tokTypes._function:return tt=this.startNode(),this.next(),this.parseFunction(tt,!1);case a.tokTypes._new:return this.parseNew();case a.tokTypes.backQuote:return this.parseTemplate();case a.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},_.parseExprImport=function(){var tt=this.startNode(),st=this.parseIdent(!0);switch(this.tok.type){case a.tokTypes.parenL:return this.parseDynamicImport(tt);case a.tokTypes.dot:return tt.meta=st,this.parseImportMeta(tt);default:return tt.name="import",this.finishNode(tt,"Identifier")}},_.parseDynamicImport=function(tt){return tt.source=this.parseExprList(a.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(tt,"ImportExpression")},_.parseImportMeta=function(tt){return this.next(),tt.property=this.parseIdent(!0),this.finishNode(tt,"MetaProperty")},_.parseNew=function(){var tt=this.startNode(),st=this.curIndent,lt=this.curLineStart,ct=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(a.tokTypes.dot))return tt.meta=ct,tt.property=this.parseIdent(!0),this.finishNode(tt,"MetaProperty");var ht=this.storeCurrentPos();return tt.callee=this.parseSubscripts(this.parseExprAtom(),ht,!0,st,lt),this.tok.type===a.tokTypes.parenL?tt.arguments=this.parseExprList(a.tokTypes.parenR):tt.arguments=[],this.finishNode(tt,"NewExpression")},_.parseTemplateElement=function(){var tt=this.startNode();return this.tok.type===a.tokTypes.invalidTemplate?tt.value={raw:this.tok.value,cooked:null}:tt.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),tt.tail=this.tok.type===a.tokTypes.backQuote,this.finishNode(tt,"TemplateElement")},_.parseTemplate=function(){var tt=this.startNode();this.next(),tt.expressions=[];var st=this.parseTemplateElement();for(tt.quasis=[st];!st.tail;)this.next(),tt.expressions.push(this.parseExpression()),this.expect(a.tokTypes.braceR)?st=this.parseTemplateElement():(st=this.startNode(),st.value={cooked:"",raw:""},st.tail=!0,this.finishNode(st,"TemplateElement")),tt.quasis.push(st);return this.expect(a.tokTypes.backQuote),this.finishNode(tt,"TemplateLiteral")},_.parseObj=function(){var tt=this.startNode();tt.properties=[],this.pushCx();var st=this.curIndent+1,lt=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<st&&(st=this.curIndent,lt=this.curLineStart);!this.closes(a.tokTypes.braceR,st,lt);){var ct=this.startNode(),ht=void 0,ut=void 0,pt=void 0;if(this.options.ecmaVersion>=9&&this.eat(a.tokTypes.ellipsis)){ct.argument=this.parseMaybeAssign(),tt.properties.push(this.finishNode(ct,"SpreadElement")),this.eat(a.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(pt=this.storeCurrentPos(),ct.method=!1,ct.shorthand=!1,ht=this.eat(a.tokTypes.star)),this.parsePropertyName(ct),this.toks.isAsyncProp(ct)?(ut=!0,ht=this.options.ecmaVersion>=9&&this.eat(a.tokTypes.star),this.parsePropertyName(ct)):ut=!1,et(ct.key)){et(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma);continue}if(this.eat(a.tokTypes.colon))ct.kind="init",ct.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===a.tokTypes.parenL||this.tok.type===a.tokTypes.braceL))ct.kind="init",ct.method=!0,ct.value=this.parseMethod(ht,ut);else if(this.options.ecmaVersion>=5&&ct.key.type==="Identifier"&&!ct.computed&&(ct.key.name==="get"||ct.key.name==="set")&&this.tok.type!==a.tokTypes.comma&&this.tok.type!==a.tokTypes.braceR&&this.tok.type!==a.tokTypes.eq)ct.kind=ct.key.name,this.parsePropertyName(ct),ct.value=this.parseMethod(!1);else{if(ct.kind="init",this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.eq)){var mt=this.startNodeAt(pt);mt.operator="=",mt.left=ct.key,mt.right=this.parseMaybeAssign(),ct.value=this.finishNode(mt,"AssignmentExpression")}else ct.value=ct.key;else ct.value=this.dummyIdent();ct.shorthand=!0}tt.properties.push(this.finishNode(ct,"Property")),this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(tt,"ObjectExpression")},_.parsePropertyName=function(tt){if(this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.bracketL)){tt.computed=!0,tt.key=this.parseExpression(),this.expect(a.tokTypes.bracketR);return}else tt.computed=!1;var st=this.tok.type===a.tokTypes.num||this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent();tt.key=st||this.dummyIdent()},_.parsePropertyAccessor=function(){if(this.tok.type===a.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===a.tokTypes.privateId)return this.parsePrivateIdent()},_.parseIdent=function(){var tt=this.tok.type===a.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!tt)return this.dummyIdent();this.tok.type.keyword&&(this.toks.type=a.tokTypes.name);var st=this.startNode();return this.next(),st.name=tt,this.finishNode(st,"Identifier")},_.parsePrivateIdent=function(){var tt=this.startNode();return tt.name=this.tok.value,this.next(),this.finishNode(tt,"PrivateIdentifier")},_.initFunction=function(tt){tt.id=null,tt.params=[],this.options.ecmaVersion>=6&&(tt.generator=!1,tt.expression=!1),this.options.ecmaVersion>=8&&(tt.async=!1)},_.toAssignable=function(tt,st){if(!(!tt||tt.type==="Identifier"||tt.type==="MemberExpression"&&!st))if(tt.type==="ParenthesizedExpression")this.toAssignable(tt.expression,st);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(tt.type==="ObjectExpression"){tt.type="ObjectPattern";for(var lt=0,ct=tt.properties;lt<ct.length;lt+=1){var ht=ct[lt];this.toAssignable(ht,st)}}else if(tt.type==="ArrayExpression")tt.type="ArrayPattern",this.toAssignableList(tt.elements,st);else if(tt.type==="Property")this.toAssignable(tt.value,st);else if(tt.type==="SpreadElement")tt.type="RestElement",this.toAssignable(tt.argument,st);else if(tt.type==="AssignmentExpression")tt.type="AssignmentPattern",delete tt.operator;else return this.dummyIdent()}return tt},_.toAssignableList=function(tt,st){for(var lt=0,ct=tt;lt<ct.length;lt+=1){var ht=ct[lt];this.toAssignable(ht,st)}return tt},_.parseFunctionParams=function(tt){return tt=this.parseExprList(a.tokTypes.parenR),this.toAssignableList(tt,!0)},_.parseMethod=function(tt,st){var lt=this.startNode(),ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(lt),this.options.ecmaVersion>=6&&(lt.generator=!!tt),this.options.ecmaVersion>=8&&(lt.async=!!st),this.inAsync=lt.async,this.inGenerator=lt.generator,this.inFunction=!0,lt.params=this.parseFunctionParams(),lt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(lt.body.body),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(lt,"FunctionExpression")},_.parseArrowExpression=function(tt,st,lt){var ct=this.inAsync,ht=this.inGenerator,ut=this.inFunction;return this.initFunction(tt),this.options.ecmaVersion>=8&&(tt.async=!!lt),this.inAsync=tt.async,this.inGenerator=!1,this.inFunction=!0,tt.params=this.toAssignableList(st,!0),tt.expression=this.tok.type!==a.tokTypes.braceL,tt.expression?tt.body=this.parseMaybeAssign():(tt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(tt.body.body)),this.inAsync=ct,this.inGenerator=ht,this.inFunction=ut,this.finishNode(tt,"ArrowFunctionExpression")},_.parseExprList=function(tt,st){this.pushCx();var lt=this.curIndent,ct=this.curLineStart,ht=[];for(this.next();!this.closes(tt,lt+1,ct);){if(this.eat(a.tokTypes.comma)){ht.push(st?null:this.dummyIdent());continue}var ut=this.parseMaybeAssign();if(et(ut)){if(this.closes(tt,lt,ct))break;this.next()}else ht.push(ut);this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(tt)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),ht},_.parseAwait=function(){var tt=this.startNode();return this.next(),tt.argument=this.parseMaybeUnary(),this.finishNode(tt,"AwaitExpression")},a.defaultOptions.tabSize=4;function $(tt,st){return at.parse(tt,st)}o.LooseParser=at,o.isDummy=et,o.parse=$})})(acornLoose,acornLoose.exports);var acornLooseExports=acornLoose.exports,validator={},validityErrors={};Object.defineProperty(validityErrors,"__esModule",{value:!0});validityErrors.NoAssignmentToForVariable=void 0;const types_1$j=types;class NoAssignmentToForVariable{constructor(s){this.node=s,this.type=types_1$j.ErrorType.SYNTAX,this.severity=types_1$j.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}validityErrors.NoAssignmentToForVariable=NoAssignmentToForVariable;var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const i=requireErrors(),s=validityErrors,o=astCreator,a=walkers$1;class rt{constructor(at){this.isConstant=at,this.accessedBeforeDeclaration=!1}}function et(ot,at){const nt=new Map,it=new Map;function j(st){const lt=new Map;for(const ct of st.body)ct.type==="VariableDeclaration"?lt.set((0,o.getVariableDecarationName)(ct),new rt(ct.kind==="const")):ct.type==="FunctionDeclaration"&&lt.set(ct.id.name,new rt(!0));it.set(st,!1),nt.set(st,lt)}function _(st){nt.set(st,new Map(st.params.map(lt=>[lt.name,new rt(!1)]))),it.set(st,!1)}(0,a.ancestor)(ot,{Program:j,BlockStatement:j,FunctionDeclaration:_,ArrowFunctionExpression:_,ForStatement(st,lt){const ct=st.init;ct.type==="VariableDeclaration"&&(nt.set(st,new Map([[(0,o.getVariableDecarationName)(ct),new rt(ct.kind==="const")]])),it.set(st,!1))}});function $(st,lt){const ct=st.name,ht=lt[lt.length-2];for(let ut=lt.length-1;ut>=0;ut--){const pt=lt[ut],mt=nt.get(pt);if(mt!=null&&mt.has(ct)){mt.get(ct).accessedBeforeDeclaration=!0,ht.type==="AssignmentExpression"&&ht.left===st&&(mt.get(ct).isConstant&&at.errors.push(new i.ConstAssignment(ht,ct)),pt.type==="ForStatement"&&pt.init!==ht&&pt.update!==ht&&at.errors.push(new s.NoAssignmentToForVariable(ht)));break}}}const tt=Object.assign(Object.assign({},a.base),{VariableDeclarator(st,lt,ct){st.init&&ct(st.init,lt,"Expression")}});return(0,a.ancestor)(ot,{VariableDeclaration(st,lt){const ct=lt[lt.length-2],ht=(0,o.getVariableDecarationName)(st),ut=nt.get(ct).get(ht).accessedBeforeDeclaration;st.typability=ut?"Untypable":"NotYetTyped"},Identifier:$,FunctionDeclaration(st,lt){const ct=lt[lt.length-2];st.typability=it.get(ct)?"Untypable":"NotYetTyped"},Pattern(st,lt){st.type==="Identifier"?$(st,lt):st.type==="MemberExpression"&&st.object.type==="Identifier"&&$(st.object,lt)},CallExpression(st,lt){for(let ct=lt.length-1;ct>=0;ct--){const ht=lt[ct];if(it.has(ht)){it.set(ht,!0);break}}}},tt),ot}return validator.validateAndAnnotate=et,validator}var rules$1={},bracesAroundFor$1={};Object.defineProperty(bracesAroundFor$1,"__esModule",{value:!0});bracesAroundFor$1.BracesAroundForError=void 0;const astring_1$7=astring,types_1$i=types;class BracesAroundForError{constructor(s){this.node=s,this.type=types_1$i.ErrorType.SYNTAX,this.severity=types_1$i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const s=(0,astring_1$7.generate)(this.node.init),o=(0,astring_1$7.generate)(this.node.test),a=(0,astring_1$7.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${s} ${o}; ${a}) {
		//code goes here
	}`}`}}bracesAroundFor$1.BracesAroundForError=BracesAroundForError;const bracesAroundFor={name:"braces-around-for",checkers:{ForStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundForError(i)]:[]}}};bracesAroundFor$1.default=bracesAroundFor;var bracesAroundIfElse$1={};Object.defineProperty(bracesAroundIfElse$1,"__esModule",{value:!0});bracesAroundIfElse$1.BracesAroundIfElseError=void 0;const astring_1$6=astring,types_1$h=types,formatters_1$5=formatters;class BracesAroundIfElseError{constructor(s,o){this.node=s,this.branch=o,this.type=types_1$h.ErrorType.SYNTAX,this.severity=types_1$h.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let s,o,a;return this.branch==="consequent"?(s="if",o=`if (${(0,astring_1$6.generate)(this.node.test)})`,a=this.node.consequent):(s=o="else",a=this.node.alternate),(0,formatters_1$5.stripIndent)`
      ${s} block need to be enclosed with a pair of curly braces.

      ${o} {
        ${(0,astring_1$6.generate)(a)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse$1.BracesAroundIfElseError=BracesAroundIfElseError;const bracesAroundIfElse={name:"braces-around-if-else",checkers:{IfStatement(i,s){const o=[];if(i.consequent&&i.consequent.type!=="BlockStatement"&&o.push(new BracesAroundIfElseError(i,"consequent")),i.alternate){const a=i.alternate.type!=="BlockStatement",rt=i.alternate.type!=="IfStatement";a&&rt&&o.push(new BracesAroundIfElseError(i,"alternate"))}return o}}};bracesAroundIfElse$1.default=bracesAroundIfElse;var bracesAroundWhile$1={};Object.defineProperty(bracesAroundWhile$1,"__esModule",{value:!0});bracesAroundWhile$1.BracesAroundWhileError=void 0;const astring_1$5=astring,types_1$g=types;class BracesAroundWhileError{constructor(s){this.node=s,this.type=types_1$g.ErrorType.SYNTAX,this.severity=types_1$g.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,astring_1$5.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile$1.BracesAroundWhileError=BracesAroundWhileError;const bracesAroundWhile={name:"braces-around-while",checkers:{WhileStatement(i,s){return i.body.type!=="BlockStatement"?[new BracesAroundWhileError(i)]:[]}}};bracesAroundWhile$1.default=bracesAroundWhile;var forStatementMustHaveAllParts$1={};Object.defineProperty(forStatementMustHaveAllParts$1,"__esModule",{value:!0});forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=void 0;const types_1$f=types,formatters_1$4=formatters;class ForStatmentMustHaveAllParts{constructor(s,o){this.node=s,this.missingParts=o,this.type=types_1$f.ErrorType.SYNTAX,this.severity=types_1$f.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,formatters_1$4.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=ForStatmentMustHaveAllParts;const forStatementMustHaveAllParts={name:"for-statement-must-have-all-parts",checkers:{ForStatement(i){const s=["init","test","update"].filter(o=>i[o]===null);return s.length>0?[new ForStatmentMustHaveAllParts(i,s)]:[]}}};forStatementMustHaveAllParts$1.default=forStatementMustHaveAllParts;var noDeclareMutable$1={};Object.defineProperty(noDeclareMutable$1,"__esModule",{value:!0});noDeclareMutable$1.NoDeclareMutableError=void 0;const astring_1$4=astring,types_1$e=types,mutableDeclarators=["let","var"];class NoDeclareMutableError{constructor(s){this.node=s,this.type=types_1$e.ErrorType.SYNTAX,this.severity=types_1$e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const s=this.node.declarations[0].id.name,o=(0,astring_1$4.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${s} = ${o};`}}noDeclareMutable$1.NoDeclareMutableError=NoDeclareMutableError;const noDeclareMutable={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(i,s){return mutableDeclarators.includes(i.kind)?[new NoDeclareMutableError(i)]:[]}}};noDeclareMutable$1.default=noDeclareMutable;var noDotAbbreviation$1={};Object.defineProperty(noDotAbbreviation$1,"__esModule",{value:!0});noDotAbbreviation$1.NoDotAbbreviationError=void 0;const types_1$d=types;class NoDotAbbreviationError{constructor(s){this.node=s,this.type=types_1$d.ErrorType.SYNTAX,this.severity=types_1$d.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation$1.NoDotAbbreviationError=NoDotAbbreviationError;const noDotAbbreviation={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(i,s){return i.computed?[]:[new NoDotAbbreviationError(i)]}}};noDotAbbreviation$1.default=noDotAbbreviation;var noEval$1={};Object.defineProperty(noEval$1,"__esModule",{value:!0});noEval$1.NoEval=void 0;const types_1$c=types;class NoEval{constructor(s){this.node=s,this.type=types_1$c.ErrorType.SYNTAX,this.severity=types_1$c.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval$1.NoEval=NoEval;const noEval={name:"no-eval",checkers:{Identifier(i,s){return i.name==="eval"?[new NoEval(i)]:[]}}};noEval$1.default=noEval;var noHolesInArrays$1={};Object.defineProperty(noHolesInArrays$1,"__esModule",{value:!0});noHolesInArrays$1.NoHolesInArrays=void 0;const types_1$b=types,formatters_1$3=formatters;class NoHolesInArrays{constructor(s){this.node=s,this.type=types_1$b.ErrorType.SYNTAX,this.severity=types_1$b.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,formatters_1$3.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays$1.NoHolesInArrays=NoHolesInArrays;const noHolesInArrays={name:"no-holes-in-arrays",checkers:{ArrayExpression(i){return i.elements.some(s=>s===null)?[new NoHolesInArrays(i)]:[]}}};noHolesInArrays$1.default=noHolesInArrays;var noIfWithoutElse$1={};Object.defineProperty(noIfWithoutElse$1,"__esModule",{value:!0});noIfWithoutElse$1.NoIfWithoutElseError=void 0;const astring_1$3=astring,types_1$a=types,formatters_1$2=formatters;class NoIfWithoutElseError{constructor(s){this.node=s,this.type=types_1$a.ErrorType.SYNTAX,this.severity=types_1$a.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,formatters_1$2.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,astring_1$3.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse$1.NoIfWithoutElseError=NoIfWithoutElseError;const noIfWithoutElse={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(i,s){return i.alternate?[]:[new NoIfWithoutElseError(i)]}}};noIfWithoutElse$1.default=noIfWithoutElse;var noImplicitDeclareUndefined$1={};Object.defineProperty(noImplicitDeclareUndefined$1,"__esModule",{value:!0});noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=void 0;const types_1$9=types,formatters_1$1=formatters;class NoImplicitDeclareUndefinedError{constructor(s){this.node=s,this.type=types_1$9.ErrorType.SYNTAX,this.severity=types_1$9.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,formatters_1$1.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=NoImplicitDeclareUndefinedError;const noImplicitDeclareUndefined={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(i,s){const o=[];for(const a of i.declarations)a.init||o.push(new NoImplicitDeclareUndefinedError(a.id));return o}}};noImplicitDeclareUndefined$1.default=noImplicitDeclareUndefined;var noImplicitReturnUndefined$1={};Object.defineProperty(noImplicitReturnUndefined$1,"__esModule",{value:!0});noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=void 0;const types_1$8=types,formatters_1=formatters;class NoImplicitReturnUndefinedError{constructor(s){this.node=s,this.type=types_1$8.ErrorType.SYNTAX,this.severity=types_1$8.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,formatters_1.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=NoImplicitReturnUndefinedError;const noImplicitReturnUndefined={name:"no-implicit-return-undefined",checkers:{ReturnStatement(i,s){return i.argument?[]:[new NoImplicitReturnUndefinedError(i)]}}};noImplicitReturnUndefined$1.default=noImplicitReturnUndefined;var noNull$1={};Object.defineProperty(noNull$1,"__esModule",{value:!0});noNull$1.NoNullError=void 0;const types_1$7=types;class NoNullError{constructor(s){this.node=s,this.type=types_1$7.ErrorType.SYNTAX,this.severity=types_1$7.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source 1 specs."}}noNull$1.NoNullError=NoNullError;const noNull={name:"no-null",disableOn:2,checkers:{Literal(i,s){return i.value===null?[new NoNullError(i)]:[]}}};noNull$1.default=noNull;var noSpreadInArray$1={};Object.defineProperty(noSpreadInArray$1,"__esModule",{value:!0});noSpreadInArray$1.NoSpreadInArray=void 0;const types_1$6=types;class NoSpreadInArray{constructor(s){this.node=s,this.type=types_1$6.ErrorType.SYNTAX,this.severity=types_1$6.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray$1.NoSpreadInArray=NoSpreadInArray;const noSpreadInArray={name:"no-assignment-expression",checkers:{SpreadElement(i,s){return s[s.length-2].type==="CallExpression"?[]:[new NoSpreadInArray(i)]}}};noSpreadInArray$1.default=noSpreadInArray;var noTemplateExpression$1={};Object.defineProperty(noTemplateExpression$1,"__esModule",{value:!0});noTemplateExpression$1.NoTemplateExpressionError=void 0;const types_1$5=types;class NoTemplateExpressionError{constructor(s){this.node=s,this.type=types_1$5.ErrorType.SYNTAX,this.severity=types_1$5.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression$1.NoTemplateExpressionError=NoTemplateExpressionError;const noTemplateExpression={name:"no-template-expression",checkers:{TemplateLiteral(i,s){return i.expressions.length>0?[new NoTemplateExpressionError(i)]:[]}}};noTemplateExpression$1.default=noTemplateExpression;var noUnspecifiedLiteral$1={};Object.defineProperty(noUnspecifiedLiteral$1,"__esModule",{value:!0});noUnspecifiedLiteral$1.NoUnspecifiedLiteral=void 0;const types_1$4=types,specifiedLiterals=["boolean","string","number"];class NoUnspecifiedLiteral{constructor(s){this.node=s,this.type=types_1$4.ErrorType.SYNTAX,this.severity=types_1$4.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral$1.NoUnspecifiedLiteral=NoUnspecifiedLiteral;const noUnspecifiedLiteral={name:"no-unspecified-literal",checkers:{Literal(i,s){return i.value!==null&&!specifiedLiterals.includes(typeof i.value)?[new NoUnspecifiedLiteral(i)]:[]}}};noUnspecifiedLiteral$1.default=noUnspecifiedLiteral;var noUnspecifiedOperator$1={};Object.defineProperty(noUnspecifiedOperator$1,"__esModule",{value:!0});noUnspecifiedOperator$1.NoUnspecifiedOperatorError=void 0;const types_1$3=types;class NoUnspecifiedOperatorError{constructor(s){this.node=s,this.type=types_1$3.ErrorType.SYNTAX,this.severity=types_1$3.ErrorSeverity.ERROR,this.unspecifiedOperator=s.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator$1.NoUnspecifiedOperatorError=NoUnspecifiedOperatorError;const noUnspecifiedOperator={name:"no-unspecified-operator",checkers:{BinaryExpression(i,s){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]},UnaryExpression(i){return["-","!"].includes(i.operator)?[]:[new NoUnspecifiedOperatorError(i)]}}};noUnspecifiedOperator$1.default=noUnspecifiedOperator;var noUpdateAssignment$1={};Object.defineProperty(noUpdateAssignment$1,"__esModule",{value:!0});noUpdateAssignment$1.NoUpdateAssignment=void 0;const astring_1$2=astring,types_1$2=types;class NoUpdateAssignment{constructor(s){this.node=s,this.type=types_1$2.ErrorType.SYNTAX,this.severity=types_1$2.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const s=(0,astring_1$2.generate)(this.node.left),o=(0,astring_1$2.generate)(this.node.right),a=this.node.operator.slice(0,-1);return a==="+"||a==="-"||a==="/"||a==="*"?`
	${s} = ${s} ${a} ${o};`:""}}noUpdateAssignment$1.NoUpdateAssignment=NoUpdateAssignment;const noUpdateAssignment={name:"no-update-assignment",checkers:{AssignmentExpression(i,s){return i.operator!=="="?[new NoUpdateAssignment(i)]:[]}}};noUpdateAssignment$1.default=noUpdateAssignment;var noVar$1={};Object.defineProperty(noVar$1,"__esModule",{value:!0});noVar$1.NoVarError=void 0;const astring_1$1=astring,types_1$1=types;class NoVarError{constructor(s){this.node=s,this.type=types_1$1.ErrorType.SYNTAX,this.severity=types_1$1.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const s=this.node.declarations[0].id.name,o=(0,astring_1$1.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${s} = ${o};`}}noVar$1.NoVarError=NoVarError;const noVar={name:"no-var",checkers:{VariableDeclaration(i,s){return i.kind==="var"?[new NoVarError(i)]:[]}}};noVar$1.default=noVar;var singleVariableDeclaration$1={};Object.defineProperty(singleVariableDeclaration$1,"__esModule",{value:!0});singleVariableDeclaration$1.MultipleDeclarationsError=void 0;const astring_1=astring,types_1=types;class MultipleDeclarationsError{constructor(s){this.node=s,this.type=types_1.ErrorType.SYNTAX,this.severity=types_1.ErrorSeverity.ERROR,this.fixs=s.declarations.map(o=>({type:"VariableDeclaration",kind:"let",loc:o.loc,declarations:[o]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(o=>"	"+(0,astring_1.generate)(o)).join(`
`)+`
`}}singleVariableDeclaration$1.MultipleDeclarationsError=MultipleDeclarationsError;const singleVariableDeclaration={name:"single-variable-declaration",checkers:{VariableDeclaration(i,s){return i.declarations.length>1?[new MultipleDeclarationsError(i)]:[]}}};singleVariableDeclaration$1.default=singleVariableDeclaration;Object.defineProperty(rules$1,"__esModule",{value:!0});const bracesAroundFor_1=bracesAroundFor$1,bracesAroundIfElse_1=bracesAroundIfElse$1,bracesAroundWhile_1=bracesAroundWhile$1,forStatementMustHaveAllParts_1=forStatementMustHaveAllParts$1,noDeclareMutable_1=noDeclareMutable$1,noDotAbbreviation_1=noDotAbbreviation$1,noEval_1=noEval$1,noHolesInArrays_1=noHolesInArrays$1,noIfWithoutElse_1=noIfWithoutElse$1,noImplicitDeclareUndefined_1=noImplicitDeclareUndefined$1,noImplicitReturnUndefined_1=noImplicitReturnUndefined$1,noNull_1=noNull$1,noSpreadInArray_1=noSpreadInArray$1,noTemplateExpression_1=noTemplateExpression$1,noUnspecifiedLiteral_1=noUnspecifiedLiteral$1,noUnspecifiedOperator_1=noUnspecifiedOperator$1,noUpdateAssignment_1=noUpdateAssignment$1,noVar_1=noVar$1,singleVariableDeclaration_1=singleVariableDeclaration$1,rules=[bracesAroundFor_1.default,bracesAroundIfElse_1.default,bracesAroundWhile_1.default,forStatementMustHaveAllParts_1.default,noDeclareMutable_1.default,noDotAbbreviation_1.default,noIfWithoutElse_1.default,noImplicitDeclareUndefined_1.default,noImplicitReturnUndefined_1.default,noNull_1.default,noUnspecifiedLiteral_1.default,noUnspecifiedOperator_1.default,noUpdateAssignment_1.default,noVar_1.default,singleVariableDeclaration_1.default,noEval_1.default,noHolesInArrays_1.default,noTemplateExpression_1.default,noSpreadInArray_1.default];rules$1.default=rules;var syntaxBlacklist={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.libraryParserLanguage=void 0,i.libraryParserLanguage=100;const s={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:i.libraryParserLanguage,NewExpression:i.libraryParserLanguage,TryStatement:i.libraryParserLanguage,CatchClause:i.libraryParserLanguage,ThrowStatement:i.libraryParserLanguage,ThisExpression:i.libraryParserLanguage,Super:i.libraryParserLanguage,ClassDeclaration:i.libraryParserLanguage,ClassExpression:i.libraryParserLanguage,Class:i.libraryParserLanguage,ClassBody:i.libraryParserLanguage,MethodDefinition:i.libraryParserLanguage,FunctionExpression:i.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};i.default=s})(syntaxBlacklist);var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.typedParse=i.looseParse=i.parseWithComments=i.createAcornParserOptions=i.tokenize=i.parse=i.parseAt=i.TrailingCommaError=i.MissingSemicolonError=i.FatalSyntaxError=i.DisallowedConstructError=void 0;const s=acornExports,o=acornLooseExports,a=constants,rt=types,et=formatters,ot=walkers$1,at=requireValidator(),nt=rules$1,it=syntaxBlacklist;class j{constructor(gt){this.node=gt,this.type=rt.ErrorType.SYNTAX,this.severity=rt.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,et.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(gt){switch(gt){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return gt.split(/(?=[A-Z])/).map((_t,kt)=>kt===0?_t:_t.toLowerCase()).join(" ")+"s"}}}i.DisallowedConstructError=j;class _{constructor(gt,Et){this.location=gt,this.message=Et,this.type=rt.ErrorType.SYNTAX,this.severity=rt.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}i.FatalSyntaxError=_;class ${constructor(gt){this.location=gt,this.type=rt.ErrorType.SYNTAX,this.severity=rt.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}i.MissingSemicolonError=$;class tt{constructor(gt){this.location=gt}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}i.TrailingCommaError=tt;function st(yt,gt){let Et;try{Et=(0,s.parseExpressionAt)(yt,gt,a.ACORN_PARSE_OPTIONS)}catch{return}return Et}i.parseAt=st;function lt(yt,gt){let Et;try{Et=(0,s.parse)(yt,(0,i.createAcornParserOptions)(gt)),(0,ot.ancestor)(Et,St,void 0,gt)}catch(kt){if(kt instanceof SyntaxError){const Ct=kt.loc,Tt={start:{line:Ct.line,column:Ct.column},end:{line:Ct.line,column:Ct.column+1}};gt.errors.push(new _(Tt,kt.toString()))}else throw kt}const _t=gt.errors.find(kt=>kt.severity===rt.ErrorSeverity.ERROR);if(Et&&!_t)return Et}i.parse=lt;function ct(yt,gt){return[...(0,s.tokenizer)(yt,(0,i.createAcornParserOptions)(gt))]}i.tokenize=ct;const ht=yt=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(gt,Et){yt.errors.push(new $({end:{line:Et.line,column:Et.column+1},start:Et}))},onTrailingComma(gt,Et){yt.errors.push(new tt({end:{line:Et.line,column:Et.column+1},start:Et}))}});i.createAcornParserOptions=ht;function ut(yt){let gt=[];const Et={sourceType:"module",ecmaVersion:6,locations:!0,onComment:gt};let _t;try{_t=(0,s.parse)(yt,Et)}catch{gt=[],_t=(0,o.parse)(yt,Et)}return[_t,gt]}i.parseWithComments=ut;function pt(yt,gt){return(0,o.parse)(yt,(0,i.createAcornParserOptions)(gt))}i.looseParse=pt;function mt(yt,gt){const Et=pt(yt,gt);return Et===void 0?null:(0,at.validateAndAnnotate)(Et,gt)}i.typedParse=mt;function vt(yt,gt){const Et=new Map,_t=new Set;return Object.entries(yt).map(Ct=>{const Tt=Ct[0];Et.set(Tt,(At,It,Ot)=>{_t.has(At)||(_t.add(At),It.chapter<yt[At.type]&&It.errors.push(new j(At)))})}),gt.forEach(Ct=>{const Tt=Ct.checkers;Object.entries(Tt).forEach(It=>{const Ot=It[0],Mt=It[1],Dt=Et.get(Ot),Bt=(Kt,Wt,zt)=>{if(typeof Ct.disableOn<"u"&&Wt.chapter>=Ct.disableOn)return;Mt(Kt,zt).forEach(Zt=>Wt.errors.push(Zt))};Et.set(Ot,(Kt,Wt,zt)=>{Dt(Kt,Wt,zt),Bt(Kt,Wt,zt)})})}),dt(Et)}const dt=yt=>Array.from(yt).reduce((gt,[Et,_t])=>Object.assign(gt,{[Et]:_t}),{}),St=vt(it.default,nt.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const i=requireParser$1(),s=syntaxBlacklist,o=formatters,a=requireList();class rt extends Error{constructor(st){super(st),this.name="ParseError"}}function et(){console.error((0,o.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function ot(tt){return tt.length===1?j(tt[0]):(0,a.vector_to_list)(["sequence",(0,a.vector_to_list)(tt.map(j))])}function at(tt){return nt(tt)?(0,a.vector_to_list)(["block",ot(tt)]):ot(tt)}function nt(tt){return tt.reduce((st,lt)=>st||lt.type==="VariableDeclaration"||lt.type==="FunctionDeclaration",!1)}const it=new Map([["Program",tt=>(tt=tt,ot(tt.body))],["BlockStatement",tt=>at(tt.body)],["ExpressionStatement",tt=>j(tt.expression)],["IfStatement",tt=>(0,a.vector_to_list)(["conditional_statement",j(tt.test),j(tt.consequent),tt.alternate===null?ot([]):j(tt.alternate)])],["FunctionDeclaration",tt=>(0,a.vector_to_list)(["function_declaration",j(tt.id),(0,a.vector_to_list)(tt.params.map(j)),at(tt.body.body)])],["VariableDeclaration",tt=>{if(tt.kind==="let")return(0,a.vector_to_list)(["variable_declaration",j(tt.declarations[0].id),j(tt.declarations[0].init)]);if(tt.kind==="const")return(0,a.vector_to_list)(["constant_declaration",j(tt.declarations[0].id),j(tt.declarations[0].init)]);throw et(),new rt("Invalid declaration kind")}],["ReturnStatement",tt=>(0,a.vector_to_list)(["return_statement",j(tt.argument)])],["CallExpression",tt=>(0,a.vector_to_list)(["application",j(tt.callee),(0,a.vector_to_list)(tt.arguments.map(j))])],["UnaryExpression",tt=>(0,a.vector_to_list)(["unary_operator_combination",tt.operator==="-"?"-unary":tt.operator,j(tt.argument)])],["BinaryExpression",tt=>(0,a.vector_to_list)(["binary_operator_combination",tt.operator,j(tt.left),j(tt.right)])],["LogicalExpression",tt=>(0,a.vector_to_list)(["logical_composition",tt.operator,j(tt.left),j(tt.right)])],["ConditionalExpression",tt=>(0,a.vector_to_list)(["conditional_expression",j(tt.test),j(tt.consequent),j(tt.alternate)])],["ArrowFunctionExpression",tt=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(tt.params.map(j)),tt.body.type==="BlockStatement"?at(tt.body.body):(0,a.vector_to_list)(["return_statement",j(tt.body)])])],["Identifier",tt=>(0,a.vector_to_list)(["name",tt.name])],["Literal",tt=>(0,a.vector_to_list)(["literal",tt.value])],["ArrayExpression",tt=>(0,a.vector_to_list)(["array_expression",(0,a.vector_to_list)(tt.elements.map(j))])],["AssignmentExpression",tt=>{if(tt.left.type==="Identifier")return(0,a.vector_to_list)(["assignment",j(tt.left),j(tt.right)]);if(tt.left.type==="MemberExpression")return(0,a.vector_to_list)(["object_assignment",j(tt.left),j(tt.right)]);throw et(),new rt("Invalid assignment")}],["ForStatement",tt=>(0,a.vector_to_list)(["for_loop",j(tt.init),j(tt.test),j(tt.update),j(tt.body)])],["WhileStatement",tt=>(0,a.vector_to_list)(["while_loop",j(tt.test),j(tt.body)])],["BreakStatement",tt=>(0,a.vector_to_list)(["break_statement"])],["ContinueStatement",tt=>(0,a.vector_to_list)(["continue_statement"])],["ObjectExpression",tt=>(0,a.vector_to_list)(["object_expression",(0,a.vector_to_list)(tt.properties.map(j))])],["MemberExpression",tt=>(0,a.vector_to_list)(["object_access",j(tt.object),!tt.computed&&tt.property.type==="Identifier"?(0,a.vector_to_list)(["property",tt.property.name]):j(tt.property)])],["Property",tt=>(0,a.vector_to_list)(["key_value_pair",tt.key.type==="Identifier"?(0,a.vector_to_list)(["property",tt.key.name]):j(tt.key),j(tt.value)])],["ImportDeclaration",tt=>(0,a.vector_to_list)(["import_declaration",(0,a.vector_to_list)(tt.specifiers.map(j)),tt.source.value])],["ImportSpecifier",tt=>(0,a.vector_to_list)(["name",tt.imported.name])],["ClassDeclaration",tt=>(0,a.vector_to_list)(["class_declaration",(0,a.vector_to_list)(["name",tt.id===null?null:tt.id.name,tt.superClass===null||tt.superClass===void 0?null:j(tt.superClass),tt.body.body.map(j)])])],["NewExpression",tt=>(0,a.vector_to_list)(["new_expression",j(tt.callee),(0,a.vector_to_list)(tt.arguments.map(j))])],["MethodDefinition",tt=>(0,a.vector_to_list)(["method_definition",tt.kind,tt.static,j(tt.key),j(tt.value)])],["FunctionExpression",tt=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(tt.params.map(j)),at(tt.body.body)])],["ThisExpression",tt=>(0,a.vector_to_list)(["this_expression"])],["Super",tt=>(0,a.vector_to_list)(["super_expression"])],["TryStatement",tt=>(0,a.vector_to_list)(["try_statement",j(tt.block),tt.handler===null||tt.handler===void 0?null:(0,a.vector_to_list)(["name",tt.handler.param.name]),tt.handler===null||tt.handler===void 0?null:j(tt.handler.body)])],["ThrowStatement",tt=>(0,a.vector_to_list)(["throw_statement",j(tt.argument)])],["SpreadElement",tt=>(0,a.vector_to_list)(["spread_element",j(tt.argument)])],["RestElement",tt=>(0,a.vector_to_list)(["rest_element",j(tt.argument)])]]);function j(tt){if(it.has(tt.type)){const lt=it.get(tt.type)(tt);return lt!=null&&typeof lt=="object"&&lt.tag!==void 0&&(lt.loc=tt.loc),lt}else throw et(),new rt("Cannot transform unknown type: "+tt.type)}function _(tt,st){st.chapter=s.libraryParserLanguage;const lt=(0,i.parse)(tt,st);if(st.errors.length>0)throw new rt(st.errors[0].explain());if(lt!==void 0)return j(lt);throw et(),new rt("Invalid parse")}parser$1.parse=_;function $(tt,st){const lt=(0,i.tokenize)(tt,st).map(ct=>tt.substring(ct.start,ct.end));return(0,a.vector_to_list)(lt)}return parser$1.tokenize=$,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const i=requireList();function s(rt){let et;if((0,i.is_pair)(rt))et=rt[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+rt);if(typeof et=="function")return et();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+et)}stream.stream_tail=s;function o(...rt){return a((0,i.list)(...rt))}stream.stream=o;function a(rt){return(0,i.is_null)(rt)?null:(0,i.pair)((0,i.head)(rt),()=>a((0,i.tail)(rt)))}return stream.list_to_stream=a,stream}var stream_prelude={};Object.defineProperty(stream_prelude,"__esModule",{value:!0});stream_prelude.streamPrelude=void 0;stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`;var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const i=astring,s=types,o=formatters,a=requireStringify();class rt{constructor(mt,vt){this.node=mt,this.receivedType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,a.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=rt;class et{constructor(mt,vt,dt){this.node=mt,this.arrayType=vt,this.receivedType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`Expected array type: ${(0,a.typeToString)(this.arrayType)}
    but got: ${(0,a.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=et;class ot{constructor(mt){this.node=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[mt]=nt(this.node);return`Reassignment of constant ${mt}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=ot;class at{constructor(mt,vt,dt){this.node=mt,this.expectedType=vt,this.receivedType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[mt,vt]=nt(this.node);return(0,o.stripIndent)`
    Expected assignment of ${mt}:
      ${vt}
    to get a value of type:
      ${(0,a.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=at;function nt(pt){const mt=pt.left,vt=(0,o.simplify)((0,i.generate)(pt.right));return[mt.name,vt]}class it{constructor(mt){this.node=mt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${j(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=it;function j(pt){var mt;return["VariableDeclaration","FunctionDeclaration"].includes(pt.type)?pt.type==="VariableDeclaration"?pt.declarations[0].id.name:(mt=pt.id)===null||mt===void 0?void 0:mt.name:pt.type==="Identifier"?pt.name:JSON.stringify(pt)}class _{constructor(mt,vt,dt){this.node=mt,this.numExpectedArgs=vt,this.numReceived=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=_;class ${constructor(mt,vt,dt,St){this.node=mt,this.args=vt,this.expectedTypes=dt,this.receivedTypes=St,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const mt=this.args.map(St=>(0,o.simplify)((0,i.generate)(St)));if("operator"in this.node){const St=this.node.operator;return this.expectedTypes.length===2?(0,o.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${mt[0]} ${St} ${mt[1]}
        The binary operator (${St}) expected two operands with types:
          ${(0,a.typeToString)(this.expectedTypes[0])} ${St} ${(0,a.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,a.typeToString)(this.receivedTypes[0])} ${St} ${(0,a.typeToString)(this.receivedTypes[1])}
        `:(0,o.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${St} ${mt[0]}
        The unary operator (${St}) expected its operand to be of type:
          ${(0,a.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,a.typeToString)(this.receivedTypes[0])}
        `}const vt=(0,o.simplify)((0,i.generate)(this.node));function dt(St){switch(St.length){case 1:return`an argument of type:
      ${(0,a.typeToString)(St[0])}`;default:return`${St.length} arguments of types:
      ${St.map(a.typeToString).join(", ")}`}}return(0,o.stripIndent)`
    A type mismatch was detected in the function call:
      ${vt}
    The function expected ${dt(this.expectedTypes)}
    but instead received ${dt(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=$;function tt(pt){let mt=(0,o.simplify)((0,i.generate)(pt.test)),vt;switch(pt.type){case"IfStatement":{mt=`if (${mt}) { ... } else { ... }`,vt="if statement";break}case"ConditionalExpression":{mt=`${mt} ? ... : ...`,vt="conditional expression";break}case"WhileStatement":{mt=`while (${mt}) { ... }`,vt="while statement";break}case"ForStatement":mt=`for (...; ${mt}; ...) { ... }`,vt="for statement"}return{exprString:mt,kind:vt}}class st{constructor(mt,vt){this.node=mt,this.receivedType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:mt,kind:vt}=tt(this.node);return(0,o.stripIndent)`
    Expected the test part of the ${vt}:
      ${mt}
    to have type boolean, but instead it is type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=st;class lt{constructor(mt,vt){this.node=mt,this.name=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=lt;class ct{constructor(mt,vt,dt){this.node=mt,this.consequentType=vt,this.alternateType=dt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:mt,kind:vt}=tt(this.node);return(0,o.stripIndent)`
    The two branches of the ${vt}:
      ${mt}
    produce different types!
    The true branch has type:
      ${(0,a.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,a.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=ct;class ht{constructor(mt,vt){this.node=mt,this.callerType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,o.stripIndent)`
    In
      ${(0,o.simplify)((0,i.generate)(this.node))}
    expected
      ${(0,o.simplify)((0,i.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,a.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=ht;class ut{constructor(mt,vt,dt,St){this.node=mt,this.argVarName=vt,this.preUnifyType=dt,this.predicateType=St,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const mt=(0,i.generate)(this.node);return(0,o.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${mt}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,a.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,a.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=ut,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const i=types,s=requireStringify();class o{constructor(nt,it){this.node=nt,this.message=it,this.type=i.ErrorType.TYPE,this.severity=i.ErrorSeverity.WARNING,nt.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=o;class a extends Error{constructor(nt){super(),this.message=nt}}internalTypeErrors.InternalTypeError=a;class rt extends a{constructor(nt,it){super(`Failed to unify LHS: ${(0,s.typeToString)(nt)}, RHS: ${(0,s.typeToString)(it)}`),this.LHS=nt,this.RHS=it}}internalTypeErrors.UnifyError=rt;class et extends a{constructor(nt,it){super(`Expected ${nt} args, got ${it}`),this.numExpectedArgs=nt,this.numReceived=it}}internalTypeErrors.InternalDifferentNumberArgumentsError=et;class ot extends a{constructor(nt){super("contains a cyclic reference to itself"),this.name=nt}}return internalTypeErrors.InternalCyclicReferenceError=ot,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const i=requireTypeErrors(),s=requireParser$1(),o=requireStringify(),a=requireInternalTypeErrors(),rt="-_1";let et=0;function ot(Yt,er){if(Yt!==null){if(er&&Yt.typability!=="Untypable")try{Yt.inferredType=mt(Yt.inferredType,er),Yt.typability="Typed"}catch(lr){j(lr)&&!(lr instanceof a.InternalCyclicReferenceError)&&tt(new a.TypeError(Yt,lr))}else Yt.inferredType=Qt(et),et++;switch(Yt.type){case"Program":{Yt.body.forEach(lr=>{ot(lr,er)});break}case"UnaryExpression":{ot(Yt.argument,er);break}case"LogicalExpression":case"BinaryExpression":{ot(Yt.left,er),ot(Yt.right,er);break}case"ExpressionStatement":{ot(Yt.expression,er);break}case"BlockStatement":{Yt.body.forEach(lr=>{ot(lr,er)});break}case"WhileStatement":{ot(Yt.test,er),ot(Yt.body,er);break}case"ForStatement":{ot(Yt.init,er),ot(Yt.test,er),ot(Yt.update,er),ot(Yt.body,er);break}case"ConditionalExpression":case"IfStatement":{ot(Yt.test,er),ot(Yt.consequent,er),Yt.alternate&&ot(Yt.alternate,er);break}case"CallExpression":{ot(Yt.callee,er),Yt.arguments.forEach(lr=>{ot(lr,er)});break}case"ReturnStatement":{const lr=Yt.argument;ot(lr,er);break}case"VariableDeclaration":{const lr=Yt.declarations[0].init;ot(lr,er);break}case"ArrowFunctionExpression":{Yt.params.forEach(lr=>{ot(lr,er)}),ot(Yt.body,er);break}case"FunctionDeclaration":{const lr=Yt;if(er)try{lr.functionInferredType=mt(lr.functionInferredType,er)}catch(Lr){Lr instanceof a.InternalCyclicReferenceError?tt(new i.CyclicReferenceError(Yt)):j(Lr)&&tt(new a.TypeError(Yt,Lr))}else lr.functionInferredType=Qt(et);et++,lr.params.forEach(Lr=>{ot(Lr,er)}),ot(lr.body,er);break}case"AssignmentExpression":ot(Yt.left,er),ot(Yt.right,er);break;case"ArrayExpression":Yt.elements.forEach(lr=>ot(lr,er));break;case"MemberExpression":ot(Yt.object,er),ot(Yt.property,er);break;default:return}}}function at(Yt){return Yt.kind==="pair"}function nt(Yt){return Yt.kind==="list"}function it(Yt){return nt(Yt)?Yt.elementType:null}function j(Yt){return Yt instanceof a.InternalTypeError}let _=!1,$=[];function tt(Yt){Yt instanceof i.UndefinedIdentifierError&&_||(_=!0,$.push(Yt))}function st(Yt,er){function lr(Lr){et=0,_=!1,$=[];const Or=er.typeEnvironment;if(er.chapter>=3&&Or.length===3){const Cr=Or[2].typeMap;for(const[Hr,rn]of kr)Cr.set(Hr,rn)}const Er=[];ot(Lr);try{zt(Lr,Or,Er,!0)}catch(Cr){j(Cr)?tt(new a.TypeError(Lr,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+Cr.message)):tt(new a.TypeError(Lr,`Uncaught error during typechecking, report this to the adminstrators!
`+Cr.message))}return ot(Lr,Er),[Lr,$]}for(const Lr of er.unTypecheckedCode)lr((0,s.typedParse)(Lr,er));return er.unTypecheckedCode=[],lr(Yt)}typeChecker.typeCheck=st;function lt(Yt){const er=et;return et++,Object.assign(Object.assign({},Yt),{name:`T${er}`})}function ct(Yt,er){switch(Yt.kind){case"primitive":return Yt;case"list":return{kind:"list",elementType:ct(Yt.elementType,er)};case"array":return{kind:"array",elementType:ct(Yt.elementType,er)};case"pair":return{kind:"pair",headType:ct(Yt.headType,er),tailType:ct(Yt.tailType,er)};case"variable":return er[Yt.name];case"function":return Object.assign(Object.assign({},Yt),{parameterTypes:Yt.parameterTypes.map(lr=>ct(lr,er)),returnType:ct(Yt.returnType,er)})}}function ht(Yt,er){const lr=[...Yt];return er.forEach(Lr=>{lr.findIndex(Or=>Or.name===Lr.name)===-1&&lr.push(Lr)}),lr}function ut(Yt){switch(Yt.kind){case"primitive":return[];case"list":return ut(Yt.elementType);case"array":return ut(Yt.elementType);case"pair":return ht(ut(Yt.headType),ut(Yt.tailType));case"variable":return[Yt];case"function":return ht(Yt.parameterTypes.reduce((er,lr)=>ht(er,ut(lr)),[]),ut(Yt.returnType))}}function pt(Yt){const er=Yt.polyType,lr=ut(er),Lr={};return lr.forEach(Or=>{Lr[Or.name]=lt(Or)}),ct(er,Lr)}function mt(Yt,er){switch(Yt.kind){case"primitive":return Yt;case"pair":{const lr=mt(Yt.headType,er),Lr=mt(Yt.tailType,er);return Lr.kind==="list"&&lr===it(Lr)?pr(lr):fr(lr,Lr)}case"list":return{kind:"list",elementType:mt(Yt.elementType,er)};case"array":return{kind:"array",elementType:mt(Yt.elementType,er)};case"variable":{for(const lr of er){const Lr=lr[0],Or=lr[1];if(Lr.name===Yt.name){if(vt(Or,Lr.name)){if(at(Or)&&Lr===Or.tailType)return{kind:"list",elementType:Or.headType};if(Lr.kind==="variable"&&Lr===it(Or))return{kind:"list",elementType:Lr};throw new a.InternalCyclicReferenceError(Yt.name)}return mt(lr[1],er)}}return Yt}case"function":return Object.assign(Object.assign({},Yt),{parameterTypes:Yt.parameterTypes.map(lr=>mt(lr,er)),returnType:mt(Yt.returnType,er)})}}function vt(Yt,er){switch(Yt.kind){case"primitive":return!1;case"pair":return vt(Yt.headType,er)||vt(Yt.tailType,er);case"array":case"list":return vt(Yt.elementType,er);case"variable":return Yt.name===er;case"function":return Yt.parameterTypes.some(Lr=>vt(Lr,er))||vt(Yt.returnType,er)}}function dt(Yt,er,lr){for(const Lr of er)if(Lr[0].name===Yt.name)return Et(er,[lr,Lr[1]]);return lr.kind==="variable"&&Yt.constraint==="addable"&&lr.constraint==="none"&&(lr.constraint=Yt.constraint),Yt!==lr&&er.push([Yt,lr]),er}function St(Yt,er){return Yt.constraint==="addable"&&er.kind!=="variable"&&!(er.kind==="primitive"&&(er.name==="string"||er.name==="number"))}function yt(Yt){return{kind:"function",parameterTypes:[lt(Qt("T"))],returnType:rr}}function gt(){return dr(lt(Qt("T")),rr)}function Et(Yt,[er,lr]){if(er.kind==="primitive"&&lr.kind==="primitive"&&er.name===lr.name)return Yt;if(er.kind!=="variable"&&lr.kind==="variable")return Et(Yt,[lr,er]);if(er.kind==="variable"){if(lr=mt(lr,Yt),(lr.kind==="primitive"||lr.kind==="variable")&&er.name===lr.name)return Yt;if(lr.kind==="pair"&&er===lr.tailType)Et(Yt,[er,pr(lr.headType)]);else if(lr.kind==="pair"&&lr.tailType.kind==="list"){const Lr=Et(Yt,[lr.headType,it(lr.tailType)]);return Et(Lr,[er,pr(lr.headType)])}else if(vt(lr,er.name))throw new a.InternalCyclicReferenceError(er.name);if(St(er,lr))throw new a.UnifyError(er,lr);return dt(er,Yt,mt(lr,Yt))}else if(er.kind==="function"&&lr.kind==="function"){if(er.parameterTypes.length!==lr.parameterTypes.length)throw new a.InternalDifferentNumberArgumentsError(lr.parameterTypes.length,er.parameterTypes.length);let Lr=Yt;for(let Or=0;Or<er.parameterTypes.length;Or++)Lr=Et(Lr,[er.parameterTypes[Or],lr.parameterTypes[Or]]);return Lr=Et(Lr,[er.returnType,lr.returnType]),Lr}else if(er.kind==="pair"&&lr.kind==="pair"){const Lr=Et(Yt,[er.headType,lr.headType]);return Et(Lr,[er.tailType,lr.tailType])}else{if(er.kind==="list"&&lr.kind==="list")return Et(Yt,[er.elementType,lr.elementType]);if(er.kind==="list"&&lr.kind==="pair")return Et(Yt,[lr,fr(er.elementType,er)]);if(lr.kind==="list"&&er.kind==="pair")return Et(Yt,[er,fr(lr.elementType,lr)]);if(er.kind==="array"&&lr.kind==="array")return Et(Yt,[er.elementType,lr.elementType])}throw new a.UnifyError(er,lr)}function _t(Yt,er,lr,Lr,Or,Er){Wt(Or);for(const Cr of er)Bt(Cr.argVarName,lt(Qt("PredicatedT")),Or);for(const Cr of er){const Hr=Mt(Cr.argVarName,Or),rn=mt(Hr,Er),Dr=Cr.ifTrueType.kind==="forall"?pt(Cr.ifTrueType):Cr.ifTrueType;try{Er=Et(Er,[Hr,Dr])}catch(Yr){Yr instanceof a.UnifyError&&tt(new i.InconsistentPredicateTestError(Cr.node,Cr.argVarName,rn,Dr))}}return Er=zt(lr,Or,Er,Lr),Or.pop(),Er}function kt(Yt,er,lr,Lr,Or,Er,Cr){if(Cr=_t(Yt,er,lr,Or,Er,Cr),Lr!==void 0)try{Cr=zt(Lr,Er,Cr,Or)}catch(Hr){Hr instanceof a.UnifyError&&tt(new i.ConsequentAlternateMismatchError(Yt,Hr.RHS,Hr.LHS))}return Cr}function Ct(Yt){switch(Yt.type){case"IfStatement":return Ct(Yt.consequent)||Ct(Yt.alternate);case"BlockStatement":return Yt.body.some(er=>Ct(er));case"ForStatement":case"WhileStatement":return Ct(Yt.body);case"ReturnStatement":return!0;default:return!1}}function Tt(Yt){switch(Yt.type){case"ExpressionStatement":return!0;case"IfStatement":return Tt(Yt.consequent)||Tt(Yt.alternate);case"BlockStatement":return Yt.body.some(er=>Tt(er));case"ForStatement":case"WhileStatement":return Tt(Yt.body);default:return!1}}function At(Yt,er,lr=[]){if(Yt.type==="LogicalExpression"&&Yt.operator==="&&")return lr=At(Yt.left,er,lr),At(Yt.right,er,lr);if(Yt.type==="UnaryExpression"&&Yt.operator==="!")return It(Yt.argument,er,lr);if(Yt.type==="CallExpression"&&Yt.callee.type==="Identifier"&&Yt.arguments.length===1&&Yt.arguments[0].type==="Identifier"){const Lr=Mt(Yt.callee.name,er);if(Lr!==void 0&&Lr.kind==="predicate")return lr.push({node:Yt,ifTrueType:Lr.ifTrueType,argVarName:Yt.arguments[0].name}),lr}return lr}function It(Yt,er,lr=[]){return Yt.type==="LogicalExpression"&&Yt.operator==="||"?(lr=It(Yt.left,er,lr),It(Yt.right,er,lr)):Yt.type==="UnaryExpression"&&Yt.operator==="!"?At(Yt.argument,er,lr):lr}function Ot(Yt,er){const lr=Yt.body.length-1;if(er){for(let Lr=lr;Lr>=0;Lr--)if(Tt(Yt.body[Lr]))return Lr;return lr}else return Yt.body.findIndex((Lr,Or)=>Or===lr||Ct(Lr))}function Mt(Yt,er){for(let lr=er.length-1;lr>=0;lr--)if(er[lr].typeMap.has(Yt))return er[lr].typeMap.get(Yt)}function Dt(Yt,er){for(let lr=er.length-1;lr>=0;lr--)if(er[lr].declKindMap.has(Yt))return er[lr].declKindMap.get(Yt)}function Bt(Yt,er,lr){lr[lr.length-1].typeMap.set(Yt,er)}function Kt(Yt,er,lr){lr[lr.length-1].declKindMap.set(Yt,er)}function Wt(Yt){Yt.push({typeMap:new Map,declKindMap:new Map})}function zt(Yt,er,lr,Lr=!1){try{return Ht(Yt,er,lr,Lr)}catch(Or){if(Or instanceof a.InternalCyclicReferenceError)return tt(new i.CyclicReferenceError(Yt)),lr;throw Or}}function Ht(Yt,er,lr,Lr=!1){const Or=Yt.inferredType;switch(Yt.type){case"UnaryExpression":{const Er=Yt.operator==="-"?rt:Yt.operator,Cr=Mt(Er,er),Hr=Yt.argument,rn=Hr.inferredType,Dr=[];let Yr=zt(Hr,er,lr);Dr.push(mt(Hr.inferredType,Yr));try{Yr=Et(Yr,[dr(rn,Or),Cr])}catch(jr){if(jr instanceof a.UnifyError){const Gr=Cr.parameterTypes;return tt(new i.InvalidArgumentTypesError(Yt,[Hr],Gr,Dr)),Yr}}return Yr}case"LogicalExpression":{const Er=Yt.left,Cr=Er.inferredType,Hr=Yt.right,rn=Hr.inferredType;let Dr=lr;Dr=Et(lr,[Or,rr]),Dr=zt(Er,er,Dr);const Yr=mt(Er.inferredType,Dr);let jr;if(Yt.operator==="&&"){const Gr=At(Yt.left,er);Gr.length>0&&(Dr=_t(Yt,Gr,Yt.right,Lr,er,Dr),jr=mt(Hr.inferredType,Dr))}else if(Yt.operator==="||"){const Gr=It(Yt.left,er);Gr.length>0&&(Dr=_t(Yt,Gr,Yt.right,Lr,er,Dr),jr=mt(Hr.inferredType,Dr))}jr===void 0&&(Dr=zt(Hr,er,Dr),jr=mt(Hr.inferredType,Dr));try{Dr=Et(lr,[Cr,rr]),Dr=Et(lr,[rn,rr])}catch(Gr){Gr instanceof a.UnifyError&&tt(new i.InvalidArgumentTypesError(Yt,[Er,Hr],[rr,rr],[Yr,jr]))}return Dr}case"BinaryExpression":{const Er=Mt(Yt.operator,er),Cr=Er.kind==="forall"?pt(Er):Er.kind==="predicate"?yt():Er,Hr=Yt.left,rn=Hr.inferredType,Dr=Yt.right,Yr=Dr.inferredType,jr=[Hr,Dr];let Gr=lr;const an=[];jr.forEach(Rr=>{Gr=zt(Rr,er,Gr),an.push(mt(Rr.inferredType,Gr))});try{Gr=Et(lr,[dr(rn,Yr,Or),Cr])}catch(Rr){if(Rr instanceof a.UnifyError){const mn=Cr.parameterTypes;tt(new i.InvalidArgumentTypesError(Yt,jr,mn,an))}}return Gr}case"ExpressionStatement":return zt(Yt.expression,er,Et(lr,[Or,Sr]));case"ReturnStatement":{const Er=Yt.argument;return zt(Er,er,Et(lr,[Or,Er.inferredType]))}case"WhileStatement":{const Er=Yt.test,Cr=Er.inferredType,Hr=Yt.body,rn=Hr.inferredType;let Dr=Et(lr,[Or,rn]);try{Dr=zt(Er,er,Dr),Dr=Et(Dr,[Cr,rr])}catch(Yr){Yr instanceof a.UnifyError&&tt(new i.InvalidTestConditionError(Yt,Yr.RHS))}return zt(Hr,er,Dr,Lr)}case"ForStatement":{const Er=Yt.init,Cr=Yt.test,Hr=Cr.inferredType,rn=Yt.body,Dr=rn.inferredType,Yr=Yt.update;let jr=Et(lr,[Or,Dr]);if(Wt(er),Er.type==="VariableDeclaration"&&Er.kind!=="var"&&Er.declarations[0].id.type==="Identifier"){const an=Er.declarations[0].id.name;Bt(an,Er.declarations[0].init.inferredType,er),Kt(an,Er.kind,er),jr=zt(Er,er,jr),Bt(an,gr(mt(Er.declarations[0].init.inferredType,jr)),er)}else jr=zt(Er,er,jr);try{jr=zt(Cr,er,jr),jr=Et(jr,[Hr,rr])}catch(an){an instanceof a.UnifyError&&tt(new i.InvalidTestConditionError(Yt,an.RHS))}jr=zt(Yr,er,jr);const Gr=zt(rn,er,jr,Lr);return er.pop(),Gr}case"Program":case"BlockStatement":{Wt(er);for(const Rr of Yt.body)if(Rr.type==="ImportDeclaration")for(const mn of Rr.specifiers)mn.type==="ImportSpecifier"&&mn.local.type==="Identifier"&&(Bt(mn.local.name,gr(Qt("T1")),er),Kt(mn.local.name,"const",er));const Er=Yt.body.length-1,Cr=Ot(Yt,Lr);let Hr=-1,rn=!1,Dr=Er;const Yr=[];for(;Dr>=0;){const Rr=Yt.body[Dr];(Rr.type==="FunctionDeclaration"||Rr.type==="VariableDeclaration")&&(rn||(rn=!0,Hr=Dr),Yr.push(Rr)),Dr--}Yr.forEach(Rr=>{if(Rr.type==="FunctionDeclaration"&&Rr.id!==null){const mn=Rr.id.name;Bt(mn,Rr.functionInferredType,er),Kt(mn,"const",er)}else if(Rr.type==="VariableDeclaration"&&Rr.kind!=="var"&&Rr.declarations[0].id.type==="Identifier"){const mn=Rr.declarations[0].id.name;Bt(mn,Rr.declarations[0].init.inferredType,er),Kt(mn,Rr.kind,er)}});const jr=Yt.body[Cr],Gr=Lr&&jr.type==="ExpressionStatement"?jr.expression.inferredType:jr.inferredType;let an=Et(lr,[Or,Gr]);for(let Rr=0;Rr<=Hr;Rr++)Rr===Cr?an=zt(Yt.body[Rr],er,an,Lr):an=zt(Yt.body[Rr],er,an);Yr.forEach(Rr=>{Rr.type==="FunctionDeclaration"&&Rr.id!==null?Bt(Rr.id.name,gr(mt(Rr.functionInferredType,an)),er):Rr.type==="VariableDeclaration"&&Rr.declarations[0].id.type==="Identifier"&&Bt(Rr.declarations[0].id.name,gr(mt(Rr.declarations[0].init.inferredType,an)),er)});for(let Rr=Hr+1;Rr<=Er;Rr++){const mn=Yt.body[Rr];Rr===Cr?an=zt(mn,er,an,Lr):an=zt(mn,er,an)}return Yt.type==="BlockStatement"&&er.pop(),an}case"Literal":{const Er=Yt.value,Cr=typeof Er;if(Er===null)return Et(lr,[Or,pr(Qt(et++))]);if(Cr==="number")return Et(lr,[Or,qt]);if(Cr==="boolean")return Et(lr,[Or,rr]);if(Cr==="string")return Et(lr,[Or,xr]);throw Error("Unexpected literal type")}case"Identifier":{const Er=Yt.name,Cr=Mt(Er,er);return Cr!==void 0?Cr.kind==="forall"?Et(lr,[Or,pt(Cr)]):Cr.kind==="predicate"?Et(lr,[Or,gt()]):Et(lr,[Or,Cr]):(tt(new i.UndefinedIdentifierError(Yt,Er)),lr)}case"ConditionalExpression":case"IfStatement":{const Er=Yt.test,Cr=Er.inferredType,Hr=Yt.consequent,rn=Hr.inferredType,Dr=Yt.alternate,Yr=Dr.inferredType;let jr=lr;try{jr=zt(Er,er,jr),jr=Et(jr,[Cr,rr])}catch(Rr){Rr instanceof a.UnifyError&&tt(new i.InvalidTestConditionError(Yt,Rr.RHS))}const Gr=At(Er,er),an=It(Er,er);if(Gr.length>0)jr=kt(Yt,Gr,Hr,Dr,Lr,er,jr);else if(an.length>0)jr=kt(Yt,an,Dr,Hr,Lr,er,jr);else{jr=zt(Hr,er,jr,Lr);try{jr=zt(Dr,er,jr,Lr)}catch(Rr){Rr instanceof a.UnifyError&&tt(new i.ConsequentAlternateMismatchError(Yt,Rr.RHS,Rr.LHS))}}try{jr=Et(jr,[Or,rn]),jr=Et(jr,[Or,Yr])}catch(Rr){Rr instanceof a.UnifyError&&tt(new i.ConsequentAlternateMismatchError(Yt,Rr.RHS,Rr.LHS))}return jr}case"ArrowFunctionExpression":{Wt(er);const Er=Yt.params,Cr=Er.map(Yr=>Yr.inferredType),Hr=Yt.body;Cr.push(Hr.inferredType);const rn=Et(lr,[Or,dr(...Cr)]);Er.forEach(Yr=>{Bt(Yr.name,Yr.inferredType,er)});const Dr=zt(Hr,er,rn);return er.pop(),Dr}case"VariableDeclaration":{const Er=Yt.declarations[0].init;return zt(Er,er,Et(lr,[Or,Sr]))}case"FunctionDeclaration":{const Er=Yt;let Cr=Et(lr,[Or,Sr]);Wt(er);const Hr=Er.functionInferredType,rn=Yt.params,Dr=rn.map(Gr=>Gr.inferredType),Yr=Yt.body;Dr.push(Yr.inferredType),Cr=Et(Cr,[Hr,dr(...Dr)]),rn.forEach(Gr=>{Bt(Gr.name,Gr.inferredType,er)});const jr=zt(Yr,er,Cr);return er.pop(),jr}case"CallExpression":{const Er=Yt.callee,Cr=Er.inferredType,Hr=Yt.arguments,rn=Hr.map(Gr=>Gr.inferredType);rn.push(Or);let Dr=lr;Dr=zt(Er,er,Dr);const Yr=mt(Er.inferredType,Dr),jr=[];Hr.forEach(Gr=>{Dr=zt(Gr,er,Dr),jr.push(mt(Gr.inferredType,Dr))});try{Dr=Et(lr,[dr(...rn),Cr])}catch(Gr){if(Gr instanceof a.UnifyError)if(Yr.kind==="function"){const an=Yr.parameterTypes;tt(new i.InvalidArgumentTypesError(Yt,Hr,an,jr))}else tt(new i.CallingNonFunctionType(Yt,Yr));else Gr instanceof a.InternalDifferentNumberArgumentsError&&tt(new i.DifferentNumberArgumentsError(Yt,Gr.numExpectedArgs,Gr.numReceived))}return Dr}case"AssignmentExpression":{const Er=Yt.left,Cr=Yt.right,Hr=Cr.inferredType,rn=Er.inferredType;let Dr=Et(lr,[Or,Hr]);if(Dr=zt(Cr,er,Dr),Er.type==="Identifier"&&Dt(Er.name,er)==="const")return tt(new i.ReassignConstError(Yt)),Dr;Dr=zt(Er,er,Dr);try{return Et(Dr,[Hr,rn])}catch(Yr){Yr instanceof a.UnifyError&&(Er.type==="Identifier"?tt(new i.DifferentAssignmentError(Yt,mt(rn,Dr),mt(Hr,Dr))):tt(new i.ArrayAssignmentError(Yt,tr(mt(rn,Dr)),tr(mt(Hr,Dr)))))}return Dr}case"ArrayExpression":{let Er=lr;const Cr=Yt.elements;Cr.forEach(rn=>{Er=zt(rn,er,Er)});const Hr=Qt(et++);return Er=Et(Er,[Or,tr(Hr)]),Cr.forEach(rn=>{try{Er=Et(Er,[Hr,rn.inferredType])}catch(Dr){Dr instanceof a.UnifyError&&tt(new i.ArrayAssignmentError(Yt,mt(Yt.inferredType,Er),tr(mt(rn.inferredType,Er))))}}),Er}case"MemberExpression":{const Cr=Yt.object.name,Hr=Yt.property,rn=Hr.inferredType;let Dr=zt(Hr,er,lr);const Yr=Mt(Cr,er);if(Yr.kind==="predicate")throw Yr.ifTrueType.kind==="forall"?new a.InternalTypeError(`Expected ${Cr} to be an array, got ${(0,o.typeToString)(pt(Yr.ifTrueType))}`):new a.InternalTypeError(`Expected ${Cr} to be an array, got ${(0,o.typeToString)(Yr.ifTrueType)}`);if(Yr.kind==="forall")throw new a.InternalTypeError(`Expected ${Cr} to be an array, got ${(0,o.typeToString)(pt(Yr))}`);const jr=mt(Yr,Dr);if(jr.kind!=="array")throw new a.InternalTypeError(`Expected ${Cr} to be an array, got ${(0,o.typeToString)(jr)}`);const Gr=jr.elementType;try{Dr=Et(lr,[rn,qt])}catch(an){an instanceof a.UnifyError&&tt(new i.InvalidArrayIndexType(Yt,mt(rn,Dr)))}return Et(Dr,[Or,Gr])}default:return Et(lr,[Or,Sr])}}function Zt(Yt){return{kind:"primitive",name:Yt}}function Qt(Yt){return{kind:"variable",name:`T${Yt}`,constraint:"none"}}typeChecker.tVar=Qt;function hr(Yt){return{kind:"variable",name:`${Yt}`,constraint:"addable"}}function fr(Yt,er){return{kind:"pair",headType:Yt,tailType:er}}function pr(Yt){return{kind:"list",elementType:Yt}}function gr(Yt){return{kind:"forall",polyType:Yt}}typeChecker.tForAll=gr;function tr(Yt){return{kind:"array",elementType:Yt}}const rr=Zt("boolean"),qt=Zt("number"),xr=Zt("string"),Sr=Zt("undefined");function dr(...Yt){const er=Yt.slice(0,-1),lr=Yt.slice(-1)[0];return{kind:"function",parameterTypes:er,returnType:lr}}function Ur(Yt){return{kind:"predicate",ifTrueType:Yt}}const tn=[["Infinity",qt],["NaN",qt],["undefined",Sr],["math_E",qt],["math_LN2",qt],["math_LN10",qt],["math_LOG2E",qt],["math_LOG10E",qt],["math_PI",qt],["math_SQRT1_2",qt],["math_SQRT2",qt],["is_boolean",Ur(rr)],["is_number",Ur(qt)],["is_string",Ur(xr)],["is_undefined",Ur(Sr)],["is_function",Ur(gr(dr(Qt("T"),Qt("U"))))],["math_abs",dr(qt,qt)],["math_acos",dr(qt,qt)],["math_acosh",dr(qt,qt)],["math_asin",dr(qt,qt)],["math_asinh",dr(qt,qt)],["math_atan",dr(qt,qt)],["math_atan2",dr(qt,qt,qt)],["math_atanh",dr(qt,qt)],["math_cbrt",dr(qt,qt)],["math_ceil",dr(qt,qt)],["math_clz32",dr(qt,qt)],["math_cos",dr(qt,qt)],["math_cosh",dr(qt,qt)],["math_exp",dr(qt,qt)],["math_expm1",dr(qt,qt)],["math_floor",dr(qt,qt)],["math_fround",dr(qt,qt)],["math_hypot",gr(Qt("T"))],["math_imul",dr(qt,qt,qt)],["math_log",dr(qt,qt)],["math_log1p",dr(qt,qt)],["math_log2",dr(qt,qt)],["math_log10",dr(qt,qt)],["math_max",gr(Qt("T"))],["math_min",gr(Qt("T"))],["math_pow",dr(qt,qt,qt)],["math_random",dr(qt)],["math_round",dr(qt,qt)],["math_sign",dr(qt,qt)],["math_sin",dr(qt,qt)],["math_sinh",dr(qt,qt)],["math_sqrt",dr(qt,qt)],["math_tan",dr(qt,qt)],["math_tanh",dr(qt,qt)],["math_trunc",dr(qt,qt)],["parse_int",dr(xr,qt,qt)],["prompt",dr(xr,xr)],["get_time",dr(qt)],["stringify",gr(dr(Qt("T"),xr))],["display",gr(Qt("T"))],["error",gr(Qt("T"))]],on=Qt("headType"),Rn=Qt("tailType"),Nn=[["pair",gr(dr(on,Rn,fr(on,Rn)))],["head",gr(dr(fr(on,Rn),on))],["tail",gr(dr(fr(on,Rn),Rn))],["is_pair",Ur(gr(fr(on,Rn)))],["is_null",Ur(gr(pr(Qt("T"))))],["is_list",Ur(gr(pr(Qt("T"))))]],Mn=[["set_head",gr(dr(fr(on,Rn),on,Sr))],["set_tail",gr(dr(fr(on,Rn),Rn,Sr))]],pn=[["is_array",Ur(gr(tr(Qt("T"))))],["array_length",gr(dr(tr(Qt("T")),qt))]],Hn=[["list",gr(Qt("T1"))]],In=[[rt,dr(qt,qt)],["!",dr(rr,rr)],["&&",gr(dr(rr,Qt("T"),Qt("T")))],["||",gr(dr(rr,Qt("T"),Qt("T")))],["<",gr(dr(hr("A"),hr("A"),rr))],["<=",gr(dr(hr("A"),hr("A"),rr))],[">",gr(dr(hr("A"),hr("A"),rr))],[">=",gr(dr(hr("A"),hr("A"),rr))],["+",gr(dr(hr("A"),hr("A"),hr("A")))],["%",dr(qt,qt,qt)],["-",dr(qt,qt,qt)],["*",dr(qt,qt,qt)],["/",dr(qt,qt,qt)]],_r=[["===",gr(dr(hr("A"),hr("A"),rr))],["!==",gr(dr(hr("A"),hr("A"),rr))]],Nr=[["===",gr(dr(Qt("T1"),Qt("T2"),rr))],["!==",gr(dr(Qt("T1"),Qt("T2"),rr))]],kr=[["is_stream",gr(dr(Qt("T1"),rr))],["list_to_stream",gr(dr(pr(Qt("T1")),Qt("T2")))],["stream_to_list",gr(dr(Qt("T1"),pr(Qt("T2"))))],["stream_length",gr(dr(Qt("T1"),qt))],["stream_map",gr(dr(Qt("T1"),Qt("T2")))],["build_stream",gr(dr(qt,dr(qt,Qt("T1")),Qt("T2")))],["stream_for_each",gr(dr(dr(Qt("T1"),Qt("T2")),rr))],["stream_reverse",gr(dr(Qt("T1"),Qt("T1")))],["stream_append",gr(dr(Qt("T1"),Qt("T1"),Qt("T1")))],["stream_member",gr(dr(Qt("T1"),Qt("T2"),Qt("T2")))],["stream_remove",gr(dr(Qt("T1"),Qt("T2"),Qt("T2")))],["stream_remove_all",gr(dr(Qt("T1"),Qt("T2"),Qt("T2")))],["stream_filter",gr(dr(dr(Qt("T1"),rr),Qt("T2"),Qt("T2")))],["enum_stream",gr(dr(qt,qt,Qt("T1")))],["integers_from",gr(dr(qt,Qt("T1")))],["eval_stream",gr(dr(Qt("T1"),qt,pr(Qt("T2"))))],["stream_ref",gr(dr(Qt("T1"),qt,Qt("T2")))]];function nn(Yt){const er=[...tn,...In];return Yt>=2&&er.push(...Nn,...Hn),Yt>=3?er.push(...Nr,...Mn,...pn):er.push(..._r),[{typeMap:new Map(er),declKindMap:new Map(er.map(lr=>[lr[0],"const"]))}]}return typeChecker.createTypeEnvironment=nn,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.importBuiltins=i.importExternalSymbols=i.defineBuiltin=i.defineSymbol=i.ensureGlobalEnvironmentExist=i.createEmptyContext=i.createGlobalEnvironment=i.EnvTreeNode=i.EnvTree=i.LazyBuiltIn=void 0;const s=constants,o=lib,a=requireSchedulers(),rt=lazyList_prelude,et=requireList(),ot=requireList(),at=list_prelude,nt=requireMisc(),it=nonDet_prelude,j=requireParser(),_=requireStream(),$=stream_prelude,tt=requireTypeChecker(),st=types,lt=makeWrapper$1,ct=requireOperators(),ht=requireStringify();class ut{constructor(Dt,Bt){this.func=Dt,this.evaluateArgs=Bt}}i.LazyBuiltIn=ut;class pt{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Dt){const Bt=Dt.tail;if(Bt===null)this._root===null&&(this._root=new mt(Dt,null),this.map.set(Dt,this._root));else{const Kt=this.map.get(Bt);if(Kt){const Wt=new mt(Dt,Kt);Kt.addChild(Wt),this.map.set(Dt,Wt)}}}getTreeNode(Dt){return this.map.get(Dt)}}i.EnvTree=pt;class mt{constructor(Dt,Bt){this.environment=Dt,this.parent=Bt,this._children=[]}get children(){return this._children}resetChildren(Dt){this.clearChildren(),this.addChildren(Dt),Dt.forEach(Bt=>Bt.parent=this)}clearChildren(){this._children=[]}addChildren(Dt){this._children.push(...Dt)}addChild(Dt){return this._children.push(Dt),Dt}}i.EnvTreeNode=mt;const vt=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new pt,environments:[],value:void 0,nodes:[]}),dt=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new a.AsyncScheduler}}),St=()=>({tail:null,name:"global",head:{},id:"-1"});i.createGlobalEnvironment=St;const yt=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(ct)),gpu:new Map(Object.entries(o)),maxExecTime:s.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),gt=(Mt,Dt=st.Variant.DEFAULT,Bt,Kt)=>({chapter:Mt,externalSymbols:Bt,errors:[],externalContext:Kt,runtime:vt(),numberOfOuterEnvironments:1,prelude:null,debugger:dt(),nativeStorage:yt(),executionMethod:"auto",variant:Dt,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,tt.createTypeEnvironment)(Mt),previousCode:[]});i.createEmptyContext=gt;const Et=Mt=>{if(Mt.runtime||(Mt.runtime=vt()),Mt.runtime.environments||(Mt.runtime.environments=[]),Mt.runtime.environmentTree||(Mt.runtime.environmentTree=new pt),Mt.runtime.environments.length===0){const Dt=(0,i.createGlobalEnvironment)();Mt.runtime.environments.push(Dt),Mt.runtime.environmentTree.insert(Dt)}};i.ensureGlobalEnvironmentExist=Et;const _t=(Mt,Dt,Bt)=>{const Kt=Mt.runtime.environments[0];Object.defineProperty(Kt.head,Dt,{value:Bt,writable:!1,enumerable:!0}),Mt.nativeStorage.builtins.set(Dt,Bt);const Wt=Mt.typeEnvironment[0];Wt.declKindMap.has(Dt)||(Wt.typeMap.set(Dt,(0,tt.tForAll)((0,tt.tVar)("T1"))),Wt.declKindMap.set(Dt,"const"))};i.defineSymbol=_t;function kt(Mt,Dt,Bt,Kt=void 0){if(typeof Bt=="function"){const Wt=Dt.split("(")[0].trim(),zt=`function ${Dt} {
	[implementation hidden]
}`;Bt.toString=()=>zt,Bt.minArgsNeeded=Kt,(0,i.defineSymbol)(Mt,Wt,Bt)}else if(Bt instanceof ut){const Wt=(...Zt)=>Bt.func(...Zt),zt=Dt.split("(")[0].trim(),Ht=`function ${Dt} {
	[implementation hidden]
}`;Wt.toString=()=>Ht,(0,lt.makeWrapper)(Bt.func,Wt),(0,i.defineSymbol)(Mt,zt,new ut(Wt,Bt.evaluateArgs))}else(0,i.defineSymbol)(Mt,Dt,Bt)}i.defineBuiltin=kt;const Ct=(Mt,Dt)=>{(0,i.ensureGlobalEnvironmentExist)(Mt),Dt.forEach(Bt=>{(0,i.defineSymbol)(Mt,Bt,s.GLOBAL[Bt])})};i.importExternalSymbols=Ct;const Tt=(Mt,Dt)=>{(0,i.ensureGlobalEnvironmentExist)(Mt);const Bt=(Qt,...hr)=>Dt.rawDisplay(Qt,hr[0],Mt.externalContext),Kt=(Qt,...hr)=>{if(hr.length===1&&hr[0]!==void 0&&typeof hr[0]!="string")throw new TypeError("display expects the second argument to be a string");return Bt((0,ht.stringify)(Qt),hr[0]),Qt},Wt=(Qt,...hr)=>{if(hr.length===1&&hr[0]!==void 0&&typeof hr[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return et.rawDisplayList(Kt,Qt,hr[0])},zt=Qt=>{const hr=Date.now(),fr=Dt.prompt(Qt,"",Mt.externalContext);return Mt.nativeStorage.maxExecTime+=Date.now()-hr,fr},Ht=Qt=>{const hr=Date.now();Dt.alert(Qt,"",Mt.externalContext),Mt.nativeStorage.maxExecTime+=Date.now()-hr},Zt=(...Qt)=>(Dt.visualiseList(Qt,Mt.externalContext),Qt[0]);if(Mt.chapter>=1){kt(Mt,"get_time()",nt.get_time),kt(Mt,"display(val, prepend = undefined)",Kt,1),kt(Mt,"raw_display(str, prepend = undefined)",Bt,1),kt(Mt,"stringify(val, indent = 2, maxLineLength = 80)",ht.stringify,1),kt(Mt,"error(str, prepend = undefined)",nt.error_message,1),kt(Mt,"prompt(str)",zt),kt(Mt,"is_number(val)",nt.is_number),kt(Mt,"is_string(val)",nt.is_string),kt(Mt,"is_function(val)",nt.is_function),kt(Mt,"is_boolean(val)",nt.is_boolean),kt(Mt,"is_undefined(val)",nt.is_undefined),kt(Mt,"parse_int(str, radix)",nt.parse_int),kt(Mt,"char_at(str, index)",nt.char_at),kt(Mt,"arity(f)",nt.arity),kt(Mt,"undefined",void 0),kt(Mt,"NaN",NaN),kt(Mt,"Infinity",1/0);const Qt=Object.getOwnPropertyNames(Math),hr=[..."abcdefghijklmnopqrstuvwxyz"];for(const fr of Qt){const pr=Math[fr];if(typeof pr=="function"){let gr,tr;fr==="max"||fr==="min"?(gr="...values",tr=0):gr=hr.slice(0,pr.length).join(", "),kt(Mt,`math_${fr}(${gr})`,pr,tr)}else kt(Mt,`math_${fr}`,pr)}}Mt.chapter>=2&&(Mt.variant===st.Variant.LAZY?(kt(Mt,"pair(left, right)",new ut(et.pair,!1)),kt(Mt,"list(...values)",new ut(et.list,!1),0),kt(Mt,"is_pair(val)",new ut(et.is_pair,!0)),kt(Mt,"head(xs)",new ut(et.head,!0)),kt(Mt,"tail(xs)",new ut(et.tail,!0)),kt(Mt,"is_null(val)",new ut(et.is_null,!0)),kt(Mt,"draw_data(...xs)",new ut(Zt,!0),1),kt(Mt,"is_list(val)",new ut(et.is_list,!0))):(kt(Mt,"pair(left, right)",et.pair),kt(Mt,"is_pair(val)",et.is_pair),kt(Mt,"head(xs)",et.head),kt(Mt,"tail(xs)",et.tail),kt(Mt,"is_null(val)",et.is_null),kt(Mt,"list(...values)",et.list,0),kt(Mt,"draw_data(...xs)",Zt,1),kt(Mt,"display_list(val, prepend = undefined)",Wt,0),kt(Mt,"is_list(val)",et.is_list))),Mt.chapter>=3&&(kt(Mt,"set_head(xs, val)",et.set_head),kt(Mt,"set_tail(xs, val)",et.set_tail),kt(Mt,"array_length(arr)",nt.array_length),kt(Mt,"is_array(val)",nt.is_array),kt(Mt,"stream_tail(stream)",_.stream_tail),kt(Mt,"stream(...values)",_.stream,0)),Mt.chapter>=4&&(kt(Mt,"parse(program_string)",Qt=>j.parse(Qt,Ot(Mt.chapter))),kt(Mt,"tokenize(program_string)",Qt=>j.tokenize(Qt,Ot(Mt.chapter))),kt(Mt,"apply_in_underlying_javascript(fun, args)",(Qt,hr)=>Qt.apply(Qt,(0,ot.list_to_vector)(hr))),Mt.variant===st.Variant.GPU&&(kt(Mt,"__clearKernelCache()",o.__clearKernelCache),kt(Mt,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",o.__createKernelSource))),Mt.chapter===st.Chapter.LIBRARY_PARSER&&(kt(Mt,"is_object(val)",nt.is_object),kt(Mt,"is_NaN(val)",nt.is_NaN),kt(Mt,"has_own_property(obj, prop)",nt.has_own_property),kt(Mt,"alert(val)",Ht),kt(Mt,"timed(fun)",Qt=>nt.timed(Mt,Qt,Mt.externalContext,Dt.rawDisplay))),Mt.variant===st.Variant.LAZY&&(kt(Mt,"wrapLazyCallee(f)",new ut(ct.wrapLazyCallee,!0)),kt(Mt,"makeLazyFunction(f)",new ut(ct.makeLazyFunction,!0)),kt(Mt,"forceIt(val)",new ut(ct.forceIt,!0)),kt(Mt,"delayIt(xs)",new ut(ct.delayIt,!0)))};i.importBuiltins=Tt;function At(Mt){let Dt="";Mt.chapter>=2&&(Dt+=Mt.variant===st.Variant.LAZY?rt.lazyListPrelude:at.listPrelude),Mt.chapter>=3&&(Dt+=$.streamPrelude),Mt.variant===st.Variant.NON_DET&&(Dt+=it.nonDetPrelude),Dt!==""&&(Mt.prelude=Dt)}const It={rawDisplay:nt.rawDisplay,prompt:nt.rawDisplay,alert:nt.rawDisplay,visualiseList:Mt=>{throw new Error("List visualizer is not enabled")}},Ot=(Mt=st.Chapter.SOURCE_1,Dt=st.Variant.DEFAULT,Bt=[],Kt,Wt=It)=>{if(Mt===st.Chapter.FULL_JS)return Object.assign(Object.assign({},Ot(st.Chapter.SOURCE_4,Dt,Bt,Kt,Wt)),{chapter:st.Chapter.FULL_JS});const zt=(0,i.createEmptyContext)(Mt,Dt,Bt,Kt);return(0,i.importBuiltins)(zt,Wt),At(zt),(0,i.importExternalSymbols)(zt,Bt),zt};i.default=Ot}(createContext)),createContext}Object.defineProperty(sicp,"__esModule",{value:!0});const createContext_1=requireCreateContext(),dict=createContext_1.default(4).nativeStorage.builtins;dict.get("get_time");dict.get("display");dict.get("raw_display");const stringify=dict.get("stringify");dict.get("error");dict.get("prompt");const is_number=dict.get("is_number"),is_string=dict.get("is_string"),is_function=dict.get("is_function"),is_boolean=dict.get("is_boolean"),is_undefined=dict.get("is_undefined");dict.get("parse_int");dict.get("char_at");const arity=dict.get("arity");dict.get("math_abs");dict.get("math_acos");dict.get("math_acosh");dict.get("math_asin");dict.get("math_asinh");dict.get("math_atan");dict.get("math_atanh");dict.get("math_atan2");dict.get("math_ceil");dict.get("math_cbrt");dict.get("math_expm1");dict.get("math_clz32");dict.get("math_cos");dict.get("math_cosh");dict.get("math_exp");dict.get("math_floor");dict.get("math_fround");dict.get("math_hypot");dict.get("math_imul");dict.get("math_log");dict.get("math_log1p");dict.get("math_log2");dict.get("math_log10");dict.get("math_max");dict.get("math_min");dict.get("math_pow");dict.get("math_random");dict.get("math_round");dict.get("math_sign");dict.get("math_sin");dict.get("math_sinh");dict.get("math_sqrt");dict.get("math_tan");dict.get("math_tanh");dict.get("math_trunc");dict.get("math_E");dict.get("math_LN10");dict.get("math_LN2");dict.get("math_LOG10E");dict.get("math_LOG2E");dict.get("math_PI");dict.get("math_SQRT1_2");dict.get("math_SQRT2");const pair=dict.get("pair"),is_pair=dict.get("is_pair"),head=dict.get("head"),tail=dict.get("tail"),is_null=dict.get("is_null"),list=dict.get("list");dict.get("draw_data");dict.get("display_list");dict.get("is_list");dict.get("set_head");dict.get("set_tail");dict.get("array_length");dict.get("is_array");const stream_tail=dict.get("stream_tail");dict.get("stream");dict.get("parse");dict.get("tokenize");dict.get("apply_in_underlying_javascript");function equal(i,s){return is_pair(i)?is_pair(s)&&equal(head(i),head(s))&&equal(tail(i),tail(s)):is_null(i)?is_null(s):is_number(i)?is_number(s)&&i===s:is_boolean(i)?is_boolean(s)&&(i&&s||!i&&!s):is_string(i)?is_string(s)&&i===s:is_undefined(i)?is_undefined(s):is_function(i)?is_function(s)&&i===s:!1}function $length(i,s){return is_null(i)?s:$length(tail(i),s+1)}function length(i){return $length(i,0)}function $map(i,s,o){return is_null(s)?reverse(o):$map(i,tail(s),pair(i(head(s)),o))}function map(i,s){return $map(i,s,null)}function $build_list(i,s,o){return i<0?o:$build_list(i-1,s,pair(s(i),o))}function build_list(i,s){return $build_list(s-1,i,null)}function for_each(i,s){return is_null(s)?!0:(i(head(s)),for_each(i,tail(s)))}function $list_to_string(i,s){return is_null(i)?s("null"):is_pair(i)?$list_to_string(head(i),o=>$list_to_string(tail(i),a=>s("["+o+","+a+"]"))):s(stringify(i))}function list_to_string(i){return $list_to_string(i,s=>s)}function $reverse(i,s){return is_null(i)?s:$reverse(tail(i),pair(head(i),s))}function reverse(i){return $reverse(i,null)}function $append(i,s,o){return is_null(i)?o(s):$append(tail(i),s,a=>o(pair(head(i),a)))}function append(i,s){return $append(i,s,o=>o)}function member(i,s){return is_null(s)?null:i===head(s)?s:member(i,tail(s))}function $remove(i,s,o){const a=append,rt=reverse;return is_null(s)?a(rt(o),s):i===head(s)?a(rt(o),tail(s)):$remove(i,tail(s),pair(head(s),o))}function remove(i,s){return $remove(i,s,null)}function $remove_all(i,s,o){const a=append,rt=reverse;return is_null(s)?a(rt(o),s):i===head(s)?$remove_all(i,tail(s),o):$remove_all(i,tail(s),pair(head(s),o))}function remove_all(i,s){return $remove_all(i,s,null)}function $filter(i,s,o){return is_null(s)?reverse(o):i(head(s))?$filter(i,tail(s),pair(head(s),o)):$filter(i,tail(s),o)}function filter(i,s){return $filter(i,s,null)}function $enum_list(i,s,o){const a=reverse;return i>s?a(o):$enum_list(i+1,s,pair(i,o))}function enum_list(i,s){return $enum_list(i,s,null)}function list_ref(i,s){return s===0?head(i):list_ref(tail(i),s-1)}function $accumulate(i,s,o,a){return is_null(o)?a(s):$accumulate(i,s,tail(o),rt=>a(i(head(o),rt)))}function accumulate(i,s,o){return $accumulate(i,s,o,a=>a)}function is_stream(i){return is_null(i)||is_pair(i)&&is_function(tail(i))&&arity(tail(i))===0&&is_stream(stream_tail(i))}function list_to_stream(i){return is_null(i)?null:pair(head(i),()=>list_to_stream(tail(i)))}function stream_to_list(i){return is_null(i)?null:pair(head(i),stream_to_list(stream_tail(i)))}function stream_length(i){return is_null(i)?0:1+stream_length(stream_tail(i))}function stream_map(i,s){return is_null(s)?null:pair(i(head(s)),()=>stream_map(i,stream_tail(s)))}function build_stream(i,s){function o(a){return a>=s?null:pair(i(a),()=>o(a+1))}return o(0)}function stream_for_each(i,s){return is_null(s)?!0:(i(head(s)),stream_for_each(i,stream_tail(s)))}function stream_reverse(i){function s(o,a){return is_null(o)?a:s(stream_tail(o),pair(head(o),()=>a))}return s(i,null)}function stream_append(i,s){return is_null(i)?s:pair(head(i),()=>stream_append(stream_tail(i),s))}function stream_member(i,s){return is_null(s)?null:head(s)===i?s:stream_member(i,stream_tail(s))}function stream_remove(i,s){return is_null(s)?null:i===head(s)?stream_tail(s):pair(head(s),()=>stream_remove(i,stream_tail(s)))}function stream_remove_all(i,s){return is_null(s)?null:i===head(s)?stream_remove_all(i,stream_tail(s)):pair(head(s),()=>stream_remove_all(i,stream_tail(s)))}function stream_filter(i,s){return is_null(s)?null:i(head(s))?pair(head(s),()=>stream_filter(i,stream_tail(s))):stream_filter(i,stream_tail(s))}function enum_stream(i,s){return i>s?null:pair(i,()=>enum_stream(i+1,s))}function integers_from(i){return pair(i,()=>integers_from(i+1))}function eval_stream(i,s){function o(a,rt){return rt===1?list(head(a)):pair(head(a),o(stream_tail(a),rt-1))}return s===0?null:o(i,s)}function stream_ref(i,s){return s===0?head(i):stream_ref(stream_tail(i),s-1)}sicp.equal=equal;sicp.$length=$length;sicp.length=length;sicp.$map=$map;var map_1=sicp.map=map;sicp.$build_list=$build_list;sicp.build_list=build_list;sicp.for_each=for_each;sicp.$list_to_string=$list_to_string;sicp.list_to_string=list_to_string;sicp.$reverse=$reverse;sicp.reverse=reverse;sicp.$append=$append;sicp.append=append;sicp.member=member;sicp.$remove=$remove;sicp.remove=remove;sicp.$remove_all=$remove_all;sicp.remove_all=remove_all;sicp.$filter=$filter;sicp.filter=filter;sicp.$enum_list=$enum_list;sicp.enum_list=enum_list;sicp.list_ref=list_ref;sicp.$accumulate=$accumulate;sicp.accumulate=accumulate;sicp.is_stream=is_stream;sicp.list_to_stream=list_to_stream;sicp.stream_to_list=stream_to_list;sicp.stream_length=stream_length;sicp.stream_map=stream_map;sicp.build_stream=build_stream;sicp.stream_for_each=stream_for_each;sicp.stream_reverse=stream_reverse;sicp.stream_append=stream_append;sicp.stream_member=stream_member;sicp.stream_remove=stream_remove;sicp.stream_remove_all=stream_remove_all;sicp.stream_filter=stream_filter;sicp.enum_stream=enum_stream;sicp.integers_from=integers_from;sicp.eval_stream=eval_stream;sicp.stream_ref=stream_ref;sicp.get_time=dict.get("get_time");sicp.display=dict.get("display");sicp.raw_display=dict.get("raw_display");sicp.stringify=dict.get("stringify");var error_1=sicp.error=dict.get("error");sicp.prompt=dict.get("prompt");sicp.is_number=dict.get("is_number");sicp.is_string=dict.get("is_string");sicp.is_function=dict.get("is_function");sicp.is_boolean=dict.get("is_boolean");sicp.is_undefined=dict.get("is_undefined");sicp.parse_int=dict.get("parse_int");sicp.char_at=dict.get("char_at");sicp.arity=dict.get("arity");sicp.math_abs=dict.get("math_abs");sicp.math_acos=dict.get("math_acos");sicp.math_acosh=dict.get("math_acosh");sicp.math_asin=dict.get("math_asin");sicp.math_asinh=dict.get("math_asinh");sicp.math_atan=dict.get("math_atan");sicp.math_atanh=dict.get("math_atanh");sicp.math_atan2=dict.get("math_atan2");sicp.math_ceil=dict.get("math_ceil");sicp.math_cbrt=dict.get("math_cbrt");sicp.math_expm1=dict.get("math_expm1");sicp.math_clz32=dict.get("math_clz32");sicp.math_cos=dict.get("math_cos");sicp.math_cosh=dict.get("math_cosh");sicp.math_exp=dict.get("math_exp");sicp.math_floor=dict.get("math_floor");sicp.math_fround=dict.get("math_fround");sicp.math_hypot=dict.get("math_hypot");sicp.math_imul=dict.get("math_imul");sicp.math_log=dict.get("math_log");sicp.math_log1p=dict.get("math_log1p");sicp.math_log2=dict.get("math_log2");sicp.math_log10=dict.get("math_log10");sicp.math_max=dict.get("math_max");sicp.math_min=dict.get("math_min");sicp.math_pow=dict.get("math_pow");sicp.math_random=dict.get("math_random");sicp.math_round=dict.get("math_round");sicp.math_sign=dict.get("math_sign");sicp.math_sin=dict.get("math_sin");sicp.math_sinh=dict.get("math_sinh");sicp.math_sqrt=dict.get("math_sqrt");sicp.math_tan=dict.get("math_tan");sicp.math_tanh=dict.get("math_tanh");sicp.math_trunc=dict.get("math_trunc");sicp.math_E=dict.get("math_E");sicp.math_LN10=dict.get("math_LN10");sicp.math_LN2=dict.get("math_LN2");sicp.math_LOG10E=dict.get("math_LOG10E");sicp.math_LOG2E=dict.get("math_LOG2E");sicp.math_PI=dict.get("math_PI");sicp.math_SQRT1_2=dict.get("math_SQRT1_2");sicp.math_SQRT2=dict.get("math_SQRT2");sicp.pair=dict.get("pair");sicp.is_pair=dict.get("is_pair");var head_1=sicp.head=dict.get("head"),tail_1=sicp.tail=dict.get("tail"),is_null_1=sicp.is_null=dict.get("is_null");sicp.list=dict.get("list");sicp.draw_data=dict.get("draw_data");sicp.display_list=dict.get("display_list");sicp.is_list=dict.get("is_list");sicp.set_head=dict.get("set_head");sicp.set_tail=dict.get("set_tail");sicp.array_length=dict.get("array_length");sicp.is_array=dict.get("is_array");sicp.stream_tail=dict.get("stream_tail");sicp.stream=dict.get("stream");var parse_1=sicp.parse=dict.get("parse");sicp.tokenize=dict.get("tokenize");sicp.apply_in_underlying_javascript=dict.get("apply_in_underlying_javascript");function list_to_array(i){return is_null_1(i)?[]:[head_1(i)].concat(list_to_array(tail_1(i)))}function parameters(i){return map_1(s=>head_1(s)==="rest_element"?{tag:"rest",sym:head_1(tail_1(head_1(tail_1(s))))}:head_1(tail_1(s)),i)}function objectify(i){switch(head_1(i)){case"literal":return{tag:"lit",val:head_1(tail_1(i))};case"name":return{tag:"nam",sym:head_1(tail_1(i))};case"application":return{tag:"app",fun:objectify(head_1(tail_1(i))),args:list_to_array(map_1(objectify,head_1(tail_1(tail_1(i)))))};case"logical_composition":return{tag:"log",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"binary_operator_combination":return{tag:"binop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"object_access":return{tag:"arr_acc",arr:objectify(head_1(tail_1(i))),ind:objectify(head_1(tail_1(tail_1(i))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(head_1(tail_1(head_1(tail_1(i))))),ind:objectify(head_1(tail_1(tail_1(head_1(tail_1(i)))))),expr:objectify(head_1(tail_1(tail_1(i))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"unary_operator_combination":return{tag:"unop",sym:head_1(tail_1(i)),frst:objectify(head_1(tail_1(tail_1(i))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(head_1(tail_1(i)))),body:objectify(head_1(tail_1(tail_1(i))))};case"sequence":return{tag:"seq",stmts:list_to_array(map_1(objectify,head_1(tail_1(i))))};case"block":return{tag:"blk",body:objectify(head_1(tail_1(i)))};case"variable_declaration":return{tag:"let",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"constant_declaration":return{tag:"const",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"assignment":return{tag:"assmt",sym:head_1(tail_1(head_1(tail_1(i)))),expr:objectify(head_1(tail_1(tail_1(i))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"while_loop":return{tag:"while",pred:objectify(head_1(tail_1(i))),body:objectify(head_1(tail_1(tail_1(i))))};case"for_loop":return{tag:"for",init:objectify(head_1(tail_1(i))),pred:objectify(head_1(tail_1(tail_1(i)))),upd:objectify(head_1(tail_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(tail_1(i))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(head_1(tail_1(i))),cons:objectify(head_1(tail_1(tail_1(i)))),alt:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"function_declaration":return{tag:"fun",sym:head_1(tail_1(head_1(tail_1(i)))),prms:list_to_array(parameters(head_1(tail_1(tail_1(i))))),body:objectify(head_1(tail_1(tail_1(tail_1(i)))))};case"return_statement":return{tag:"ret",expr:objectify(head_1(tail_1(i)))};case"import_declaration":return{tag:"import",syms:map_1(s=>head_1(tail_1(s)),head_1(tail_1(i))),from:head_1(tail_1(tail_1(i)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:head_1(tail_1(head_1(tail_1(i))))};case"property":return{tag:"prop",sym:head_1(tail_1(i))};default:throw error_1(i,"unknown syntax:")}}function parse_into_json(i){const s=objectify(parse_1(i));return JSON.stringify(s)}function parseIntoJsonChunks(i){const s=objectify(parse_1(i));return convertToJsonChunks(s)}function convertToJsonChunks(i,s=1500){if(JSON.stringify(i).length<=s)return[JSON.stringify(i)];switch(i.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(i)];case"seq":const o=[];let a=0;for(const ot of i.stmts){if(a+=JSON.stringify(ot).length,a>s&&o.length>1)break;o.push(ot)}const rt=i.stmts.slice(o.length);return o.push({tag:"pause_for_input"}),[JSON.stringify({tag:"seq",stmts:o})].concat(convertToJsonChunks({tag:"seq",stmts:rt}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(i)]}}const readUntilPrompt=async(i,s=0,o=()=>{})=>{const a=i.readable.getReader(),rt=s&&setTimeout(()=>{throw a.releaseLock(),i.close(),new Error("Timed Out.")},s);let et="";for(;;){const{value:ot,done:at}=await a.read(),nt=new TextDecoder().decode(ot);et+=nt;const it=et.split(`
`);for(const j of it.slice(0,it.length))o(j);if(et=it[it.length-1],et.substring(0,4)==">>> "||at)return s&&clearTimeout(rt),o(et),a.releaseLock(),at}},writeLines=async(i,...s)=>{const o=i.writable.getWriter();for(const a of s){const rt=new TextEncoder().encode(a+`
`),et=100;for(let ot=0;ot<rt.length;ot+=et){const at=rt.slice(ot,ot+et);await o.write(at),await sleep(10)}}o.releaseLock()},processRawOutput=i=>{let s=i.trim();const o=[">>>",">OK",">"];for(const rt of o)s.startsWith(rt)&&(s=s.substring(rt.length).trim());const a="raw REPL; CTRL-B to exit";if(s.startsWith(a)&&(s=s.substring(a.length).trim()),!!s)return s},runProgram=async(i,s)=>{console.log("Sending program chunk..."),await writeLines(i,RAW_MODE_ENTER,s,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(i,0,o=>{const a=processRawOutput(o);a&&console.log(a)}),console.log("Sending chunk complete...")},sleep=i=>new Promise(s=>setTimeout(s,i)),cleanProgram=i=>i.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),getInterpreterLib=async()=>(await __vitePreload(async()=>{const{default:i}=await import("./index-Bg2lWxxV.js");return{default:i}},[])).default,getSourceThreePrelude=async()=>(await __vitePreload(async()=>{const{sourceThreePrelude:i}=await import("./index-C9Zpxbc1.js");return{sourceThreePrelude:i}},[])).sourceThreePrelude,{setCurrentLanguage,setEditorValue,resetEditorValues}=WorkspaceActions,EditorPage=()=>{const[i,s]=reactExports.useState(""),o=useTypedDispatch(),a=useTypedSelector(lt=>lt.workspace.currentLanguage),rt=reactExports.useCallback(lt=>o(setCurrentLanguage(lt)),[o]),et=useTypedSelector(lt=>lt.workspace.editorValue[a]),ot=reactExports.useCallback(lt=>o(setEditorValue(lt)),[o]),[at,nt]=reactExports.useState(!1),[it,j]=reactExports.useState(),[_,$]=reactExports.useState();reactExports.useEffect(()=>{it||at&&getSourceThreePrelude().then(j)},[at]),reactExports.useEffect(()=>{_||a===Languages.SOURCE_THREE_INTERPRETER&&getInterpreterLib().then($)},[a]);const tt=async()=>{if(a===Languages.SOURCE_THREE_INTERPRETER)try{parse_into_json(et),s("")}catch(ct){s("[ERROR] "+ct);return}const lt=await navigator.serial.requestPort();switch(await lt.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(lt,KEYBOARD_INTERRUPT),await readUntilPrompt(lt,2e3),a){case Languages.PYTHON:await runProgram(lt,cleanProgram(et));break;case Languages.SOURCE_THREE_INTERPRETER:if(!_)throw new Error("Interpreter not loaded");if(await runProgram(lt,cleanProgram(_.prefix)),await runProgram(lt,cleanProgram(_.prefix2)),await runProgram(lt,cleanProgram(_.spikeMicrocode)),at){if(!it)throw new Error("Preludes not loaded");for(const ut of it){console.log("Sending prelude chunk");const pt=parse_into_json(ut);await writeLines(lt,RAW_MODE_ENTER,"json_prelude = '''\\",...pt.match(/.{1,1000}/g).map(mt=>mt+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(lt,0,mt=>{const vt=processRawOutput(mt);vt&&console.log(vt)}),console.log("Sending prelude chunk complete"),await runProgram(lt,cleanProgram(_.evaluatePrelude))}}console.log("Sending JSON program");const ct=parseIntoJsonChunks(et),ht=ct[0];await writeLines(lt,RAW_MODE_ENTER,"json_string = '''\\",...ht.match(/.{1,500}/g).map(ut=>ut+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(lt,0,ut=>{const pt=processRawOutput(ut);pt&&console.log(pt)}),console.log("Sending JSON program complete"),await writeLines(lt,RAW_MODE_ENTER,cleanProgram(_.suffix),RAW_MODE_COMPILE,...ct.slice(1).flatMap(ut=>[ut,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(lt,0,ut=>{const pt=processRawOutput(ut);pt&&console.log(pt)});break}await writeLines(lt,END_OF_TRANSMISSION),lt.close()},st=()=>{try{s(parse_into_json(et))}catch(lt){s("[ERROR] "+lt)}};return reactExports.useEffect(()=>{const lt=queryString.parse(location.hash),ct=lzStringExports.decompressFromEncodedURIComponent(lt.prgrm);ct&&(rt(Languages.SOURCE_THREE_INTERPRETER),ot(ct))},[]),reactExports.useEffect(()=>{resetEditorValues(a),s("")},[a,ot]),jsxRuntimeExports.jsx(Box,{className:"App",children:jsxRuntimeExports.jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsxRuntimeExports.jsx(GridItem,{colSpan:2,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Heading,{children:"SEKER: SourceSPIKE Prime Runner"}),jsxRuntimeExports.jsx(UserGuide,{}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE_INTERPRETER," Programs is in beta!"]}),i&&jsxRuntimeExports.jsx(JsonDisplay,{jsonProgram:i}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsxRuntimeExports.jsx(LanguageSelector,{}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Checkbox,{isChecked:at,onChange:()=>nt(lt=>!lt),children:"Prelude"}),jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ButtonGroup,{size:"sm",children:[jsxRuntimeExports.jsx(Button,{onClick:tt,children:"Run on Device"}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Button,{onClick:st,children:"Parse into JSON"})]})]}),jsxRuntimeExports.jsx(Box,{borderRadius:6,overflow:"clip",children:jsxRuntimeExports.jsx(Editor,{name:"editor",onChange:ot,value:et,wrapEnabled:!0})})]})}),jsxRuntimeExports.jsx(GridItem,{children:jsxRuntimeExports.jsx(SampleProgramSidebar,{})})]})})},rootReducer=combineReducers({workspace}),store=configureStore({reducer:rootReducer}),App=()=>jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(EditorPage,{})}),config={initialColorMode:"system",useSystemColorMode:!0},theme=extendTheme({config,fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React$4.StrictMode,{children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(App,{})})]}));
