function _mergeNamespaces(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const w in a)if(w!=="default"&&!(w in e)){const g=Object.getOwnPropertyDescriptor(a,w);g&&Object.defineProperty(e,w,g.get?g:{enumerable:!0,get:()=>a[w]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))a(w);new MutationObserver(w=>{for(const g of w)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function i(w){const g={};return w.integrity&&(g.integrity=w.integrity),w.referrerPolicy&&(g.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?g.credentials="include":w.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function a(w){if(w.ep)return;w.ep=!0;const g=i(w);fetch(w.href,g)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var i=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var w=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,w.get?w:{enumerable:!0,get:function(){return e[a]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,w,g){var y=null;if(g!==void 0&&(y=""+g),w.key!==void 0&&(y=""+w.key),"key"in w){g={};for(var b in w)b!=="key"&&(g[b]=w[b])}else g=w;return w=g.ref,{$$typeof:e,type:a,key:y,ref:w!==void 0?w:null,props:g}}return reactJsxRuntime_production.Fragment=n,reactJsxRuntime_production.jsx=i,reactJsxRuntime_production.jsxs=i,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();function isHTMLElement(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!(globalThis!=null&&globalThis.document)}function isHiddenElement(e){return e.parentElement&&isHiddenElement(e.parentElement)?!0:e.hidden}function isContentEditableElement(e){const n=e.getAttribute("contenteditable");return n!=="false"&&n!=null}function isDisabledElement(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function assignAfter(e,...n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const i={...e};for(const a of n)if(a!=null)for(const w in a)Object.prototype.hasOwnProperty.call(a,w)&&(w in i&&delete i[w],i[w]=a[w]);return i}const dataAttr=e=>e?"":void 0,ariaAttr=e=>e?!0:void 0;function isArray(e){return Array.isArray(e)}function isObject(e){const n=typeof e;return e!=null&&(n==="object"||n==="function")&&!isArray(e)}function getLastItem(e){const n=e==null?0:e.length;return n?e[n-1]:void 0}function analyzeCSSValue$1(e){const n=parseFloat(e.toString()),i=e.toString().replace(String(n),"");return{unitless:!i,value:n,unit:i}}function px$1(e){if(e==null)return e;const{unitless:n}=analyzeCSSValue$1(e);return n||typeof e=="number"?`${e}px`:e}const sortByBreakpointValue=(e,n)=>parseInt(e[1],10)>parseInt(n[1],10)?1:-1,sortBps=e=>Object.fromEntries(Object.entries(e).sort(sortByBreakpointValue));function normalize$2(e){const n=sortBps(e);return Object.assign(Object.values(n),n)}function keys(e){const n=Object.keys(sortBps(e));return new Set(n)}function subtract$2(e){if(!e)return e;e=px$1(e)??e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,i=>`${parseFloat(i)+n}`)}function toMediaQueryString(e,n){const i=["@media screen"];return e&&i.push("and",`(min-width: ${px$1(e)})`),n&&i.push("and",`(max-width: ${px$1(n)})`),i.join(" ")}function analyzeBreakpoints(e){if(!e)return null;e.base=e.base??"0px";const n=normalize$2(e),i=Object.entries(e).sort(sortByBreakpointValue).map(([g,y],b,d)=>{let[,f]=d[b+1]??[];return f=parseFloat(f)>0?subtract$2(f):void 0,{_minW:subtract$2(y),breakpoint:g,minW:y,maxW:f,maxWQuery:toMediaQueryString(null,f),minWQuery:toMediaQueryString(y),minMaxQuery:toMediaQueryString(y,f)}}),a=keys(e),w=Array.from(a.values());return{keys:a,normalized:n,isResponsive(g){const y=Object.keys(g);return y.length>0&&y.every(b=>a.has(b))},asObject:sortBps(e),asArray:normalize$2(e),details:i,get(g){return i.find(y=>y.breakpoint===g)},media:[null,...n.map(g=>toMediaQueryString(g)).slice(1)],toArrayValue(g){if(!isObject(g))throw new Error("toArrayValue: value must be an object");const y=w.map(b=>g[b]??null);for(;getLastItem(y)===null;)y.pop();return y},toObjectValue(g){if(!Array.isArray(g))throw new Error("toObjectValue: value must be an array");return g.reduce((y,b,d)=>{const f=w[d];return f!=null&&b!=null&&(y[f]=b),y},{})}}}function callAll(...e){return function(...i){e.forEach(a=>a==null?void 0:a(...i))}}function callAllHandlers(...e){return function(i){e.some(a=>(a==null||a(i),i==null?void 0:i.defaultPrevented))}}var react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),s=Symbol.iterator;function o(X){return X===null||typeof X!="object"?null:(X=s&&X[s]||X["@@iterator"],typeof X=="function"?X:null)}var u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,m={};function v(X,te,se){this.props=X,this.context=te,this.refs=m,this.updater=se||u}v.prototype.isReactComponent={},v.prototype.setState=function(X,te){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,te,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function T(){}T.prototype=v.prototype;function x(X,te,se){this.props=X,this.context=te,this.refs=m,this.updater=se||u}var R=x.prototype=new T;R.constructor=x,h(R,v.prototype),R.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(X,te,se,J,le,ce){return se=ce.ref,{$$typeof:e,type:X,key:te,ref:se!==void 0?se:null,props:ce}}function L(X,te){return N(X.type,te,void 0,void 0,void 0,X.props)}function A(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function $(X){var te={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(se){return te[se]})}var O=/\/+/g;function B(X,te){return typeof X=="object"&&X!==null&&X.key!=null?$(""+X.key):te.toString(36)}function z(){}function F(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(z,z):(X.status="pending",X.then(function(te){X.status==="pending"&&(X.status="fulfilled",X.value=te)},function(te){X.status==="pending"&&(X.status="rejected",X.reason=te)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function V(X,te,se,J,le){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var ue=!1;if(X===null)ue=!0;else switch(ce){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(X.$$typeof){case e:case n:ue=!0;break;case c:return ue=X._init,V(ue(X._payload),te,se,J,le)}}if(ue)return le=le(X),ue=J===""?"."+B(X,0):J,k(le)?(se="",ue!=null&&(se=ue.replace(O,"$&/")+"/"),V(le,te,se,"",function(Re){return Re})):le!=null&&(A(le)&&(le=L(le,se+(le.key==null||X&&X.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+ue)),te.push(le)),1;ue=0;var Ie=J===""?".":J+":";if(k(X))for(var Te=0;Te<X.length;Te++)J=X[Te],ce=Ie+B(J,Te),ue+=V(J,te,se,ce,le);else if(Te=o(X),typeof Te=="function")for(X=Te.call(X),Te=0;!(J=X.next()).done;)J=J.value,ce=Ie+B(J,Te++),ue+=V(J,te,se,ce,le);else if(ce==="object"){if(typeof X.then=="function")return V(F(X),te,se,J,le);throw te=String(X),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ue}function U(X,te,se){if(X==null)return X;var J=[],le=0;return V(X,J,"","",function(ce){return te.call(se,ce,le++)}),J}function q(X){if(X._status===-1){var te=X._result;te=te(),te.then(function(se){(X._status===0||X._status===-1)&&(X._status=1,X._result=se)},function(se){(X._status===0||X._status===-1)&&(X._status=2,X._result=se)}),X._status===-1&&(X._status=0,X._result=te)}if(X._status===1)return X._result.default;throw X._result}var K=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function Q(){}return react_production.Children={map:U,forEach:function(X,te,se){U(X,function(){te.apply(this,arguments)},se)},count:function(X){var te=0;return U(X,function(){te++}),te},toArray:function(X){return U(X,function(te){return te})||[]},only:function(X){if(!A(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},react_production.Component=v,react_production.Fragment=i,react_production.Profiler=w,react_production.PureComponent=x,react_production.StrictMode=a,react_production.Suspense=d,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(X){return function(){return X.apply(null,arguments)}},react_production.cloneElement=function(X,te,se){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var J=h({},X.props),le=X.key,ce=void 0;if(te!=null)for(ue in te.ref!==void 0&&(ce=void 0),te.key!==void 0&&(le=""+te.key),te)!S.call(te,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&te.ref===void 0||(J[ue]=te[ue]);var ue=arguments.length-2;if(ue===1)J.children=se;else if(1<ue){for(var Ie=Array(ue),Te=0;Te<ue;Te++)Ie[Te]=arguments[Te+2];J.children=Ie}return N(X.type,le,void 0,void 0,ce,J)},react_production.createContext=function(X){return X={$$typeof:y,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:g,_context:X},X},react_production.createElement=function(X,te,se){var J,le={},ce=null;if(te!=null)for(J in te.key!==void 0&&(ce=""+te.key),te)S.call(te,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=te[J]);var ue=arguments.length-2;if(ue===1)le.children=se;else if(1<ue){for(var Ie=Array(ue),Te=0;Te<ue;Te++)Ie[Te]=arguments[Te+2];le.children=Ie}if(X&&X.defaultProps)for(J in ue=X.defaultProps,ue)le[J]===void 0&&(le[J]=ue[J]);return N(X,ce,void 0,void 0,null,le)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(X){return{$$typeof:b,render:X}},react_production.isValidElement=A,react_production.lazy=function(X){return{$$typeof:c,_payload:{_status:-1,_result:X},_init:q}},react_production.memo=function(X,te){return{$$typeof:f,type:X,compare:te===void 0?null:te}},react_production.startTransition=function(X){var te=C.T,se={};C.T=se;try{var J=X(),le=C.S;le!==null&&le(se,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Q,K)}catch(ce){K(ce)}finally{C.T=te}},react_production.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},react_production.use=function(X){return C.H.use(X)},react_production.useActionState=function(X,te,se){return C.H.useActionState(X,te,se)},react_production.useCallback=function(X,te){return C.H.useCallback(X,te)},react_production.useContext=function(X){return C.H.useContext(X)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(X,te){return C.H.useDeferredValue(X,te)},react_production.useEffect=function(X,te){return C.H.useEffect(X,te)},react_production.useId=function(){return C.H.useId()},react_production.useImperativeHandle=function(X,te,se){return C.H.useImperativeHandle(X,te,se)},react_production.useInsertionEffect=function(X,te){return C.H.useInsertionEffect(X,te)},react_production.useLayoutEffect=function(X,te){return C.H.useLayoutEffect(X,te)},react_production.useMemo=function(X,te){return C.H.useMemo(X,te)},react_production.useOptimistic=function(X,te){return C.H.useOptimistic(X,te)},react_production.useReducer=function(X,te,se){return C.H.useReducer(X,te,se)},react_production.useRef=function(X){return C.H.useRef(X)},react_production.useState=function(X){return C.H.useState(X)},react_production.useSyncExternalStore=function(X,te,se){return C.H.useSyncExternalStore(X,te,se)},react_production.useTransition=function(){return C.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);function getValidChildren(e){return reactExports.Children.toArray(e).filter(n=>reactExports.isValidElement(n))}function compact(e){const n=Object.assign({},e);for(let i in n)n[i]===void 0&&delete n[i];return n}function getErrorMessage(e,n){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function createContext$1(e={}){const{name:n,strict:i=!0,hookName:a="useContext",providerName:w="Provider",errorMessage:g,defaultValue:y}=e,b=reactExports.createContext(y);b.displayName=n;function d(){var c;const f=reactExports.useContext(b);if(!f&&i){const s=new Error(g??getErrorMessage(a,w));throw s.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,s,d),s}return f}return[b.Provider,d,b]}const cx=(...e)=>e.filter(Boolean).join(" "),hasTabIndex=e=>e.hasAttribute("tabindex");function isFocusable(e){if(!isHTMLElement(e)||isHiddenElement(e)||isDisabledElement(e))return!1;const{localName:n}=e;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const a={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return n in a?a[n]():isContentEditableElement(e)?!0:hasTabIndex(e)}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=e=>e.offsetWidth>0&&e.offsetHeight>0;function getAllFocusable(e){const n=Array.from(e.querySelectorAll(focusableElSelector));return n.unshift(e),n.filter(i=>isFocusable(i)&&isVisible(i))}function get$2(e,n,i,a){const w=typeof n=="string"?n.split("."):[n];for(a=0;a<w.length&&e;a+=1)e=e[w[a]];return e===void 0?i:e}const memoize$2=e=>{const n=new WeakMap;return(a,w,g,y)=>{if(typeof a>"u")return e(a,w,g);n.has(a)||n.set(a,new Map);const b=n.get(a);if(b.has(w))return b.get(w);const d=e(a,w,g,y);return b.set(w,d),d}},memoizedGet$1=memoize$2(get$2),interopDefault=e=>e.default||e;function omit(e,n=[]){const i=Object.assign({},e);for(const a of n)a in i&&delete i[a];return i}function pick$1(e,n){const i={};for(const a of n)a in e&&(i[a]=e[a]);return i}function mapResponsive(e,n){return Array.isArray(e)?e.map(i=>i===null?null:n(i)):isObject(e)?Object.keys(e).reduce((i,a)=>(i[a]=n(e[a]),i),{}):e!=null?n(e):null}const isFunction$2=e=>typeof e=="function";function runIfFn$1(e,...n){return isFunction$2(e)?e(...n):e}function split$1(e,n){const i={},a={};for(const[w,g]of Object.entries(e))n.includes(w)?i[w]=g:a[w]=g;return[i,a]}function splitProps(e,...n){const i=Object.getOwnPropertyDescriptors(e),a=Object.keys(i),w=y=>{const b={};for(let d=0;d<y.length;d++){const f=y[d];i[f]&&(Object.defineProperty(b,f,i[f]),delete i[f])}return b},g=y=>w(Array.isArray(y)?y:a.filter(y));return n.map(g).concat(w(a))}function walkObject(e,n,i={}){const{stop:a,getKey:w}=i;function g(y,b=[]){if(isObject(y)||Array.isArray(y)){const d={};for(const[f,c]of Object.entries(y)){const s=(w==null?void 0:w(f))??f,o=[...b,s];if(a!=null&&a(y,o))return n(y,b);d[s]=g(c,o)}return d}return n(y,b)}return g(e)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;var hasRequiredLodash_mergewith;function requireLodash_mergewith(){return hasRequiredLodash_mergewith||(hasRequiredLodash_mergewith=1,function(e,n){var i=200,a="__lodash_hash_undefined__",w=800,g=16,y=9007199254740991,b="[object Arguments]",d="[object Array]",f="[object AsyncFunction]",c="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",h="[object GeneratorFunction]",m="[object Map]",v="[object Number]",T="[object Null]",x="[object Object]",R="[object Proxy]",k="[object RegExp]",C="[object Set]",S="[object String]",N="[object Undefined]",L="[object WeakMap]",A="[object ArrayBuffer]",$="[object DataView]",O="[object Float32Array]",B="[object Float64Array]",z="[object Int8Array]",F="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",q="[object Uint8ClampedArray]",K="[object Uint16Array]",Q="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,J={};J[O]=J[B]=J[z]=J[F]=J[V]=J[U]=J[q]=J[K]=J[Q]=!0,J[b]=J[d]=J[A]=J[c]=J[$]=J[s]=J[o]=J[u]=J[m]=J[v]=J[x]=J[k]=J[C]=J[S]=J[L]=!1;var le=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ce=typeof self=="object"&&self&&self.Object===Object&&self,ue=le||ce||Function("return this")(),Ie=n&&!n.nodeType&&n,Te=Ie&&!0&&e&&!e.nodeType&&e,Re=Te&&Te.exports===Ie,ke=Re&&le.process,me=function(){try{var re=Te&&Te.require&&Te.require("util").types;return re||ke&&ke.binding&&ke.binding("util")}catch{}}(),ve=me&&me.isTypedArray;function he(re,xe,$e){switch($e.length){case 0:return re.call(xe);case 1:return re.call(xe,$e[0]);case 2:return re.call(xe,$e[0],$e[1]);case 3:return re.call(xe,$e[0],$e[1],$e[2])}return re.apply(xe,$e)}function Le(re,xe){for(var $e=-1,mt=Array(re);++$e<re;)mt[$e]=xe($e);return mt}function Qe(re){return function(xe){return re(xe)}}function De(re,xe){return re==null?void 0:re[xe]}function xt(re,xe){return function($e){return re(xe($e))}}var Mt=Array.prototype,$t=Function.prototype,tr=Object.prototype,br=ue["__core-js_shared__"],dr=$t.toString,Ne=tr.hasOwnProperty,He=function(){var re=/[^.]+$/.exec(br&&br.keys&&br.keys.IE_PROTO||"");return re?"Symbol(src)_1."+re:""}(),_t=tr.toString,Ve=dr.call(Object),ft=RegExp("^"+dr.call(Ne).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Je=Re?ue.Buffer:void 0,Pt=ue.Symbol,pe=ue.Uint8Array;Je&&Je.allocUnsafe;var ye=xt(Object.getPrototypeOf,Object),Me=Object.create,st=tr.propertyIsEnumerable,lt=Mt.splice,Xe=Pt?Pt.toStringTag:void 0,we=function(){try{var re=or(Object,"defineProperty");return re({},"",{}),re}catch{}}(),Ue=Je?Je.isBuffer:void 0,ht=Math.max,tt=Date.now,At=or(ue,"Map"),vt=or(Object,"create"),St=function(){function re(){}return function(xe){if(!Se(xe))return{};if(Me)return Me(xe);re.prototype=xe;var $e=new re;return re.prototype=void 0,$e}}();function Ot(re){var xe=-1,$e=re==null?0:re.length;for(this.clear();++xe<$e;){var mt=re[xe];this.set(mt[0],mt[1])}}function nt(){this.__data__=vt?vt(null):{},this.size=0}function jt(re){var xe=this.has(re)&&delete this.__data__[re];return this.size-=xe?1:0,xe}function Dn(re){var xe=this.__data__;if(vt){var $e=xe[re];return $e===a?void 0:$e}return Ne.call(xe,re)?xe[re]:void 0}function ei(re){var xe=this.__data__;return vt?xe[re]!==void 0:Ne.call(xe,re)}function vn(re,xe){var $e=this.__data__;return this.size+=this.has(re)?0:1,$e[re]=vt&&xe===void 0?a:xe,this}Ot.prototype.clear=nt,Ot.prototype.delete=jt,Ot.prototype.get=Dn,Ot.prototype.has=ei,Ot.prototype.set=vn;function Nr(re){var xe=-1,$e=re==null?0:re.length;for(this.clear();++xe<$e;){var mt=re[xe];this.set(mt[0],mt[1])}}function ui(){this.__data__=[],this.size=0}function On(re){var xe=this.__data__,$e=Sn(xe,re);if($e<0)return!1;var mt=xe.length-1;return $e==mt?xe.pop():lt.call(xe,$e,1),--this.size,!0}function jn(re){var xe=this.__data__,$e=Sn(xe,re);return $e<0?void 0:xe[$e][1]}function ti(re){return Sn(this.__data__,re)>-1}function Ui(re,xe){var $e=this.__data__,mt=Sn($e,re);return mt<0?(++this.size,$e.push([re,xe])):$e[mt][1]=xe,this}Nr.prototype.clear=ui,Nr.prototype.delete=On,Nr.prototype.get=jn,Nr.prototype.has=ti,Nr.prototype.set=Ui;function bn(re){var xe=-1,$e=re==null?0:re.length;for(this.clear();++xe<$e;){var mt=re[xe];this.set(mt[0],mt[1])}}function Tn(){this.size=0,this.__data__={hash:new Ot,map:new(At||Nr),string:new Ot}}function ln(re){var xe=Ct(this,re).delete(re);return this.size-=xe?1:0,xe}function Et(re){return Ct(this,re).get(re)}function Cr(re){return Ct(this,re).has(re)}function En(re,xe){var $e=Ct(this,re),mt=$e.size;return $e.set(re,xe),this.size+=$e.size==mt?0:1,this}bn.prototype.clear=Tn,bn.prototype.delete=ln,bn.prototype.get=Et,bn.prototype.has=Cr,bn.prototype.set=En;function Cn(re){var xe=this.__data__=new Nr(re);this.size=xe.size}function xn(){this.__data__=new Nr,this.size=0}function ks(re){var xe=this.__data__,$e=xe.delete(re);return this.size=xe.size,$e}function Ci(re){return this.__data__.get(re)}function ri(re){return this.__data__.has(re)}function Ai(re,xe){var $e=this.__data__;if($e instanceof Nr){var mt=$e.__data__;if(!At||mt.length<i-1)return mt.push([re,xe]),this.size=++$e.size,this;$e=this.__data__=new bn(mt)}return $e.set(re,xe),this.size=$e.size,this}Cn.prototype.clear=xn,Cn.prototype.delete=ks,Cn.prototype.get=Ci,Cn.prototype.has=ri,Cn.prototype.set=Ai;function An(re,xe){var $e=Rn(re),mt=!$e&&ji(re),Tt=!$e&&!mt&&W(re),Bt=!$e&&!mt&&!Tt&&dt(re),Zt=$e||mt||Tt||Bt,Rt=Zt?Le(re.length,String):[],Vt=Rt.length;for(var xr in re)Zt&&(xr=="length"||Tt&&(xr=="offset"||xr=="parent")||Bt&&(xr=="buffer"||xr=="byteLength"||xr=="byteOffset")||hn(xr,Vt))||Rt.push(xr);return Rt}function jr(re,xe,$e){($e!==void 0&&!Wn(re[xe],$e)||$e===void 0&&!(xe in re))&&Tr(re,xe,$e)}function rn(re,xe,$e){var mt=re[xe];(!(Ne.call(re,xe)&&Wn(mt,$e))||$e===void 0&&!(xe in re))&&Tr(re,xe,$e)}function Sn(re,xe){for(var $e=re.length;$e--;)if(Wn(re[$e][0],xe))return $e;return-1}function Tr(re,xe,$e){xe=="__proto__"&&we?we(re,xe,{configurable:!0,enumerable:!0,value:$e,writable:!0}):re[xe]=$e}var ki=yt();function Nn(re){return re==null?re===void 0?N:T:Xe&&Xe in Object(re)?mr(re):$s(re)}function zt(re){return Be(re)&&Nn(re)==b}function wn(re){if(!Se(re)||Pn(re))return!1;var xe=ee(re)?ft:te;return xe.test(Ls(re))}function un(re){return Be(re)&&ae(re.length)&&!!J[Nn(re)]}function wt(re){if(!Se(re))return Hr(re);var xe=_n(re),$e=[];for(var mt in re)mt=="constructor"&&(xe||!Ne.call(re,mt))||$e.push(mt);return $e}function ni(re,xe,$e,mt,Tt){re!==xe&&ki(xe,function(Bt,Zt){if(Tt||(Tt=new Cn),Se(Bt))cn(re,xe,Zt,$e,ni,mt,Tt);else{var Rt=mt?mt(Gt(re,Zt),Bt,Zt+"",re,xe,Tt):void 0;Rt===void 0&&(Rt=Bt),jr(re,Zt,Rt)}},Ht)}function cn(re,xe,$e,mt,Tt,Bt,Zt){var Rt=Gt(re,$e),Vt=Gt(xe,$e),xr=Zt.get(Vt);if(xr){jr(re,$e,xr);return}var Lr=Bt?Bt(Rt,Vt,$e+"",re,xe,Zt):void 0,Pr=Lr===void 0;if(Pr){var Mr=Rn(Vt),Jr=!Mr&&W(Vt),ii=!Mr&&!Jr&&dt(Vt);Lr=Vt,Mr||Jr||ii?Rn(Rt)?Lr=Rt:M(Rt)?Lr=Ee(Rt):Jr?(Pr=!1,Lr=Y(Vt)):ii?(Pr=!1,Lr=de(Vt)):Lr=[]:Ke(Vt)||ji(Vt)?(Lr=Rt,ji(Rt)?Lr=bt(Rt):(!Se(Rt)||ee(Rt))&&(Lr=nn(Vt))):Pr=!1}Pr&&(Zt.set(Vt,Lr),Tt(Lr,Vt,mt,Bt,Zt),Zt.delete(Vt)),jr(re,$e,Lr)}function Rs(re,xe){return ls(Ri(re,xe,nr),re+"")}var P=we?function(re,xe){return we(re,"toString",{configurable:!0,enumerable:!1,value:Kt(xe),writable:!0})}:nr;function Y(re,xe){return re.slice()}function ie(re){var xe=new re.constructor(re.byteLength);return new pe(xe).set(new pe(re)),xe}function de(re,xe){var $e=ie(re.buffer);return new re.constructor($e,re.byteOffset,re.length)}function Ee(re,xe){var $e=-1,mt=re.length;for(xe||(xe=Array(mt));++$e<mt;)xe[$e]=re[$e];return xe}function Ge(re,xe,$e,mt){var Tt=!$e;$e||($e={});for(var Bt=-1,Zt=xe.length;++Bt<Zt;){var Rt=xe[Bt],Vt=void 0;Vt===void 0&&(Vt=re[Rt]),Tt?Tr($e,Rt,Vt):rn($e,Rt,Vt)}return $e}function et(re){return Rs(function(xe,$e){var mt=-1,Tt=$e.length,Bt=Tt>1?$e[Tt-1]:void 0,Zt=Tt>2?$e[2]:void 0;for(Bt=re.length>3&&typeof Bt=="function"?(Tt--,Bt):void 0,Zt&&kn($e[0],$e[1],Zt)&&(Bt=Tt<3?void 0:Bt,Tt=1),xe=Object(xe);++mt<Tt;){var Rt=$e[mt];Rt&&re(xe,Rt,mt,Bt)}return xe})}function yt(re){return function(xe,$e,mt){for(var Tt=-1,Bt=Object(xe),Zt=mt(xe),Rt=Zt.length;Rt--;){var Vt=Zt[++Tt];if($e(Bt[Vt],Vt,Bt)===!1)break}return xe}}function Ct(re,xe){var $e=re.__data__;return Hn(xe)?$e[typeof xe=="string"?"string":"hash"]:$e.map}function or(re,xe){var $e=De(re,xe);return wn($e)?$e:void 0}function mr(re){var xe=Ne.call(re,Xe),$e=re[Xe];try{re[Xe]=void 0;var mt=!0}catch{}var Tt=_t.call(re);return mt&&(xe?re[Xe]=$e:delete re[Xe]),Tt}function nn(re){return typeof re.constructor=="function"&&!_n(re)?St(ye(re)):{}}function hn(re,xe){var $e=typeof re;return xe=xe??y,!!xe&&($e=="number"||$e!="symbol"&&se.test(re))&&re>-1&&re%1==0&&re<xe}function kn(re,xe,$e){if(!Se($e))return!1;var mt=typeof xe;return(mt=="number"?Gn($e)&&hn(xe,$e.length):mt=="string"&&xe in $e)?Wn($e[xe],re):!1}function Hn(re){var xe=typeof re;return xe=="string"||xe=="number"||xe=="symbol"||xe=="boolean"?re!=="__proto__":re===null}function Pn(re){return!!He&&He in re}function _n(re){var xe=re&&re.constructor,$e=typeof xe=="function"&&xe.prototype||tr;return re===$e}function Hr(re){var xe=[];if(re!=null)for(var $e in Object(re))xe.push($e);return xe}function $s(re){return _t.call(re)}function Ri(re,xe,$e){return xe=ht(xe===void 0?re.length-1:xe,0),function(){for(var mt=arguments,Tt=-1,Bt=ht(mt.length-xe,0),Zt=Array(Bt);++Tt<Bt;)Zt[Tt]=mt[xe+Tt];Tt=-1;for(var Rt=Array(xe+1);++Tt<xe;)Rt[Tt]=mt[Tt];return Rt[xe]=$e(Zt),he(re,this,Rt)}}function Gt(re,xe){if(!(xe==="constructor"&&typeof re[xe]=="function")&&xe!="__proto__")return re[xe]}var ls=Ms(P);function Ms(re){var xe=0,$e=0;return function(){var mt=tt(),Tt=g-(mt-$e);if($e=mt,Tt>0){if(++xe>=w)return arguments[0]}else xe=0;return re.apply(void 0,arguments)}}function Ls(re){if(re!=null){try{return dr.call(re)}catch{}try{return re+""}catch{}}return""}function Wn(re,xe){return re===xe||re!==re&&xe!==xe}var ji=zt(function(){return arguments}())?zt:function(re){return Be(re)&&Ne.call(re,"callee")&&!st.call(re,"callee")},Rn=Array.isArray;function Gn(re){return re!=null&&ae(re.length)&&!ee(re)}function M(re){return Be(re)&&Gn(re)}var W=Ue||_e;function ee(re){if(!Se(re))return!1;var xe=Nn(re);return xe==u||xe==h||xe==f||xe==R}function ae(re){return typeof re=="number"&&re>-1&&re%1==0&&re<=y}function Se(re){var xe=typeof re;return re!=null&&(xe=="object"||xe=="function")}function Be(re){return re!=null&&typeof re=="object"}function Ke(re){if(!Be(re)||Nn(re)!=x)return!1;var xe=ye(re);if(xe===null)return!0;var $e=Ne.call(xe,"constructor")&&xe.constructor;return typeof $e=="function"&&$e instanceof $e&&dr.call($e)==Ve}var dt=ve?Qe(ve):un;function bt(re){return Ge(re,Ht(re))}function Ht(re){return Gn(re)?An(re):wt(re)}var Wt=et(function(re,xe,$e,mt){ni(re,xe,$e,mt)});function Kt(re){return function(){return re}}function nr(re){return re}function _e(){return!1}e.exports=Wt}(lodash_mergewith,lodash_mergewith.exports)),lodash_mergewith.exports}var lodash_mergewithExports=requireLodash_mergewith();const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports);function useCallbackRef$1(e,n=[]){const i=reactExports.useRef(e);return reactExports.useEffect(()=>{i.current=e}),reactExports.useCallback((...a)=>{var w;return(w=i.current)==null?void 0:w.call(i,...a)},n)}function useDisclosure(e={}){const{onClose:n,onOpen:i,isOpen:a,id:w}=e,g=useCallbackRef$1(i),y=useCallbackRef$1(n),[b,d]=reactExports.useState(e.defaultIsOpen||!1),f=a!==void 0?a:b,c=a!==void 0,s=reactExports.useId(),o=w??`disclosure-${s}`,u=reactExports.useCallback(()=>{c||d(!1),y==null||y()},[c,y]),h=reactExports.useCallback(()=>{c||d(!0),g==null||g()},[c,g]),m=reactExports.useCallback(()=>{f?u():h()},[f,h,u]);function v(x={}){return{...x,"aria-expanded":f,"aria-controls":o,onClick(R){var k;(k=x.onClick)==null||k.call(x,R),m()}}}function T(x={}){return{...x,hidden:!f,id:o}}return{isOpen:f,onOpen:h,onClose:u,onToggle:m,isControlled:c,getButtonProps:v,getDisclosureProps:T}}const useSafeLayoutEffect$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(e,n)=>{const i=reactExports.useRef(!1),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(i.current&&a.current)return e();a.current=!0},n),reactExports.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])};function assignRef$1(e,n){if(e!=null){if(typeof e=="function"){e(n);return}try{e.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${e}'`)}}}function mergeRefs(...e){return n=>{e.forEach(i=>{assignRef$1(i,n)})}}function useMergeRefs$1(...e){return reactExports.useMemo(()=>mergeRefs(...e),e)}function useTimeout(e,n){const i=useCallbackRef$1(e);reactExports.useEffect(()=>{if(n==null)return;let a=null;return a=window.setTimeout(()=>{i()},n),()=>{a&&window.clearTimeout(a)}},[n,i])}const state={open:(e,n)=>`${e}[data-open], ${e}[open], ${e}[data-state=open] ${n}`,closed:(e,n)=>`${e}[data-closed], ${e}[data-state=closed] ${n}`,hover:(e,n)=>`${e}:hover ${n}, ${e}[data-hover] ${n}`,focus:(e,n)=>`${e}:focus ${n}, ${e}[data-focus] ${n}`,focusVisible:(e,n)=>`${e}:focus-visible ${n}`,focusWithin:(e,n)=>`${e}:focus-within ${n}`,active:(e,n)=>`${e}:active ${n}, ${e}[data-active] ${n}`,disabled:(e,n)=>`${e}:disabled ${n}, ${e}[data-disabled] ${n}`,invalid:(e,n)=>`${e}:invalid ${n}, ${e}[data-invalid] ${n}`,checked:(e,n)=>`${e}:checked ${n}, ${e}[data-checked] ${n}`,placeholderShown:(e,n)=>`${e}:placeholder-shown ${n}`},toGroup=e=>merge(n=>e(n,"&"),"[role=group]","[data-group]",".group"),toPeer=e=>merge(n=>e(n,"~ &"),"[data-peer]",".peer"),merge=(e,...n)=>n.map(e).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state.open),_groupClosed:toGroup(state.closed),_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=e=>/!(important)?$/.test(e),withoutImportant=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,tokenToCSSVar=(e,n)=>i=>{const a=String(n),w=isImportant(a),g=withoutImportant(a),y=e?`${e}.${g}`:g;let b=isObject(i.__cssMap)&&y in i.__cssMap?i.__cssMap[y].varRef:n;return b=withoutImportant(b),w?`${b} !important`:b};function createTransform(e){const{scale:n,transform:i,compose:a}=e;return(g,y)=>{const b=tokenToCSSVar(n,g)(y);let d=(i==null?void 0:i(b,y))??b;return a&&(d=a(d,y)),d}}const pipe$2=(...e)=>n=>e.reduce((i,a)=>a(i),n);function toConfig(e,n){return i=>{const a={property:i,scale:e};return a.transform=createTransform({scale:e,transform:n}),a}}const getRtl=({rtl:e,ltr:n})=>i=>i.direction==="rtl"?e:n;function logical(e){const{property:n,scale:i,transform:a}=e;return{scale:i,property:getRtl(n),transform:i?createTransform({scale:i,compose:a}):a}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=e=>e.trim();function parseGradient(e,n){if(e==null||globalSet.has(e))return e;if(!(isCSSFunction(e)||globalSet.has(e)))return`url('${e}')`;const w=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),g=w==null?void 0:w[1],y=w==null?void 0:w[2];if(!g||!y)return e;const b=g.includes("-gradient")?g:`${g}-gradient`,[d,...f]=y.split(",").map(trimSpace).filter(Boolean);if((f==null?void 0:f.length)===0)return e;const c=d in directionMap?directionMap[d]:d;f.unshift(c);const s=f.map(o=>{if(valueSet.has(o))return o;const u=o.indexOf(" "),[h,m]=u!==-1?[o.substr(0,u),o.substr(u+1)]:[o],v=isCSSFunction(m)?m:m&&m.split(" "),T=`colors.${h}`,x=T in n.__cssMap?n.__cssMap[T].varRef:h;return v?[x,...Array.isArray(v)?v:[v]].join(" "):x});return`${b}(${s.join(", ")})`}const isCSSFunction=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),gradientTransform=(e,n)=>parseGradient(e,n??{});function isCssVar$1(e){return/^var\(--.+\)$/.test(e)}const analyzeCSSValue=e=>{const n=parseFloat(e.toString()),i=e.toString().replace(String(n),"");return{unitless:!i,value:n,unit:i}},wrap=e=>n=>`${e}(${n})`,transformFunctions={filter(e){return e!=="auto"?e:filterTemplate},backdropFilter(e){return e!=="auto"?e:backdropFilterTemplate},ring(e){return getRingTemplate(transformFunctions.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?getTransformTemplate():e==="auto-gpu"?getTransformGpuTemplate():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:n}=analyzeCSSValue(e);return n||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,n){const i={left:"right",right:"left"};return n.direction==="rtl"?i[e]:e},degree(e){if(isCssVar$1(e)||e==null)return e;const n=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||n?`${e}deg`:e},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:e=>wrap("hue-rotate")(transformFunctions.degree(e)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(e){return e==null||isCSSFunction(e)||globalSet.has(e)?e:`url(${e})`},outline(e){const n=String(e)==="0"||String(e)==="none";return e!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){const{space:n,divide:i}=flexDirectionTemplate[e]??{},a={flexDirection:e};return n&&(a[n]=1),i&&(a[i]=1),a}},t={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(e){return{property:e,transform:transformFunctions.degree}},prop(e,n,i){return{property:e,scale:n,...n&&{transform:createTransform({scale:n,transform:i})}}},propT(e,n){return{property:e,transform:n}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t.colors("background"),backgroundColor:t.colors("backgroundColor"),backgroundImage:t.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t.prop("backgroundSize"),bgPosition:t.prop("backgroundPosition"),bg:t.colors("background"),bgColor:t.colors("backgroundColor"),bgPos:t.prop("backgroundPosition"),bgRepeat:t.prop("backgroundRepeat"),bgAttachment:t.prop("backgroundAttachment"),bgGradient:t.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t.borders("border"),borderWidth:t.borderWidths("borderWidth"),borderStyle:t.borderStyles("borderStyle"),borderColor:t.colors("borderColor"),borderRadius:t.radii("borderRadius"),borderTop:t.borders("borderTop"),borderBlockStart:t.borders("borderBlockStart"),borderTopLeftRadius:t.radii("borderTopLeftRadius"),borderStartStartRadius:t.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t.radii("borderTopRightRadius"),borderStartEndRadius:t.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t.borders("borderRight"),borderInlineEnd:t.borders("borderInlineEnd"),borderBottom:t.borders("borderBottom"),borderBlockEnd:t.borders("borderBlockEnd"),borderBottomLeftRadius:t.radii("borderBottomLeftRadius"),borderBottomRightRadius:t.radii("borderBottomRightRadius"),borderLeft:t.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t.borders(["borderLeft","borderRight"]),borderInline:t.borders("borderInline"),borderY:t.borders(["borderTop","borderBottom"]),borderBlock:t.borders("borderBlock"),borderTopWidth:t.borderWidths("borderTopWidth"),borderBlockStartWidth:t.borderWidths("borderBlockStartWidth"),borderTopColor:t.colors("borderTopColor"),borderBlockStartColor:t.colors("borderBlockStartColor"),borderTopStyle:t.borderStyles("borderTopStyle"),borderBlockStartStyle:t.borderStyles("borderBlockStartStyle"),borderBottomWidth:t.borderWidths("borderBottomWidth"),borderBlockEndWidth:t.borderWidths("borderBlockEndWidth"),borderBottomColor:t.colors("borderBottomColor"),borderBlockEndColor:t.colors("borderBlockEndColor"),borderBottomStyle:t.borderStyles("borderBottomStyle"),borderBlockEndStyle:t.borderStyles("borderBlockEndStyle"),borderLeftWidth:t.borderWidths("borderLeftWidth"),borderInlineStartWidth:t.borderWidths("borderInlineStartWidth"),borderLeftColor:t.colors("borderLeftColor"),borderInlineStartColor:t.colors("borderInlineStartColor"),borderLeftStyle:t.borderStyles("borderLeftStyle"),borderInlineStartStyle:t.borderStyles("borderInlineStartStyle"),borderRightWidth:t.borderWidths("borderRightWidth"),borderInlineEndWidth:t.borderWidths("borderInlineEndWidth"),borderRightColor:t.colors("borderRightColor"),borderInlineEndColor:t.colors("borderInlineEndColor"),borderRightStyle:t.borderStyles("borderRightStyle"),borderInlineEndStyle:t.borderStyles("borderInlineEndStyle"),borderTopRadius:t.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t.colors("color"),textColor:t.colors("color"),fill:t.colors("fill"),stroke:t.colors("stroke"),accentColor:t.colors("accentColor"),textFillColor:t.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t.space("gap"),rowGap:t.space("rowGap"),columnGap:t.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t.sizesT("width"),inlineSize:t.sizesT("inlineSize"),height:t.sizes("height"),blockSize:t.sizes("blockSize"),boxSize:t.sizes(["width","height"]),minWidth:t.sizes("minWidth"),minInlineSize:t.sizes("minInlineSize"),minHeight:t.sizes("minHeight"),minBlockSize:t.sizes("minBlockSize"),maxWidth:t.sizes("maxWidth"),maxInlineSize:t.sizes("maxInlineSize"),maxHeight:t.sizes("maxHeight"),maxBlockSize:t.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,n)=>{var w,g;return{[`@media screen and (min-width: ${((g=(w=n.__breakpoints)==null?void 0:w.get(e))==null?void 0:g.minW)??e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,n)=>{var w,g;return{[`@media screen and (max-width: ${((g=(w=n.__breakpoints)==null?void 0:w.get(e))==null?void 0:g._minW)??e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$1={filter:{transform:transformFunctions.filter},blur:t.blur("--chakra-blur"),brightness:t.propT("--chakra-brightness",transformFunctions.brightness),contrast:t.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t.propT("--chakra-invert",transformFunctions.invert),saturate:t.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t.blur("--chakra-backdrop-blur"),backdropBrightness:t.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t.colors("--chakra-ring-color"),ringOffset:t.prop("--chakra-ring-offset-width"),ringOffsetColor:t.colors("--chakra-ring-offset-color"),ringInset:t.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t.colors("outlineColor")},grid={gridGap:t.space("gridGap"),gridColumnGap:t.space("gridColumnGap"),gridRowGap:t.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$1(e,n,i,a){const w=typeof n=="string"?n.split("."):[n];for(a=0;a<w.length&&e;a+=1)e=e[w[a]];return e===void 0?i:e}const memoize$1=e=>{const n=new WeakMap;return(a,w,g,y)=>{if(typeof a>"u")return e(a,w,g);n.has(a)||n.set(a,new Map);const b=n.get(a);if(b.has(w))return b.get(w);const d=e(a,w,g,y);return b.set(w,d),d}},memoizedGet=memoize$1(get$1),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(e,n,i)=>{const a={},w=memoizedGet(e,n,{});for(const g in w)g in i&&i[g]!=null||(a[g]=w[g]);return a},others={srOnly:{transform(e){return e===!0?srOnly:e==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(e,n,i)=>getWithPriority(n,`layerStyles.${e}`,i)},textStyle:{processResult:!0,transform:(e,n,i)=>getWithPriority(n,`textStyles.${e}`,i)},apply:{processResult:!0,transform:(e,n,i)=>getWithPriority(n,e,i)}},position$1={position:!0,pos:t.prop("position"),zIndex:t.prop("zIndex","zIndices"),inset:t.spaceT("inset"),insetX:t.spaceT(["left","right"]),insetInline:t.spaceT("insetInline"),insetY:t.spaceT(["top","bottom"]),insetBlock:t.spaceT("insetBlock"),top:t.spaceT("top"),insetBlockStart:t.spaceT("insetBlockStart"),bottom:t.spaceT("bottom"),insetBlockEnd:t.spaceT("insetBlockEnd"),left:t.spaceT("left"),insetInlineStart:t.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t.spaceT("right"),insetInlineEnd:t.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect={boxShadow:t.shadows("boxShadow"),mixBlendMode:!0,blendMode:t.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});const space={margin:t.spaceT("margin"),marginTop:t.spaceT("marginTop"),marginBlockStart:t.spaceT("marginBlockStart"),marginRight:t.spaceT("marginRight"),marginInlineEnd:t.spaceT("marginInlineEnd"),marginBottom:t.spaceT("marginBottom"),marginBlockEnd:t.spaceT("marginBlockEnd"),marginLeft:t.spaceT("marginLeft"),marginInlineStart:t.spaceT("marginInlineStart"),marginX:t.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t.spaceT("marginInline"),marginY:t.spaceT(["marginTop","marginBottom"]),marginBlock:t.spaceT("marginBlock"),padding:t.space("padding"),paddingTop:t.space("paddingTop"),paddingBlockStart:t.space("paddingBlockStart"),paddingRight:t.space("paddingRight"),paddingBottom:t.space("paddingBottom"),paddingBlockEnd:t.space("paddingBlockEnd"),paddingLeft:t.space("paddingLeft"),paddingInlineStart:t.space("paddingInlineStart"),paddingInlineEnd:t.space("paddingInlineEnd"),paddingX:t.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t.space("paddingInline"),paddingY:t.space(["paddingTop","paddingBottom"]),paddingBlock:t.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t.spaceT("scrollMargin"),scrollMarginTop:t.spaceT("scrollMarginTop"),scrollMarginBottom:t.spaceT("scrollMarginBottom"),scrollMarginLeft:t.spaceT("scrollMarginLeft"),scrollMarginRight:t.spaceT("scrollMarginRight"),scrollMarginX:t.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t.spaceT("scrollPadding"),scrollPaddingTop:t.spaceT("scrollPaddingTop"),scrollPaddingBottom:t.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t.spaceT("scrollPaddingLeft"),scrollPaddingRight:t.spaceT("scrollPaddingRight"),scrollPaddingX:t.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$1={fontFamily:t.prop("fontFamily","fonts"),fontSize:t.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t.prop("fontWeight","fontWeights"),lineHeight:t.prop("lineHeight","lineHeights"),letterSpacing:t.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t.shadows("textShadow")},transform={clipPath:!0,transform:t.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t.spaceT("--chakra-translate-x"),translateY:t.spaceT("--chakra-translate-y"),skewX:t.degreeT("--chakra-skew-x"),skewY:t.degreeT("--chakra-skew-y"),scaleX:t.prop("--chakra-scale-x"),scaleY:t.prop("--chakra-scale-y"),scale:t.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t.degreeT("--chakra-rotate")},list$1={listStyleType:!0,listStylePosition:!0,listStylePos:t.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t.prop("transitionDuration","transition.duration"),transitionProperty:t.prop("transitionProperty","transition.property"),transitionTimingFunction:t.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position$1,effect,space,scroll,typography$1,textDecoration,transform,list$1,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position$1),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=e=>e in styleProps,expandResponsive=e=>n=>{if(!n.__breakpoints)return e;const{isResponsive:i,toArrayValue:a,media:w}=n.__breakpoints,g={};for(const y in e){let b=runIfFn$1(e[y],n);if(b==null)continue;if(b=isObject(b)&&i(b)?a(b):b,!Array.isArray(b)){g[y]=b;continue}const d=b.slice(0,w.length).length;for(let f=0;f<d;f+=1){const c=w==null?void 0:w[f];if(!c){g[y]=b[f];continue}g[c]=g[c]||{},b[f]!=null&&(g[c][y]=b[f])}}return g};function splitByComma(e){const n=[];let i="",a=!1;for(let w=0;w<e.length;w++){const g=e[w];g==="("?(a=!0,i+=g):g===")"?(a=!1,i+=g):g===","&&!a?(n.push(i),i=""):i+=g}return i=i.trim(),i&&n.push(i),n}function isCssVar(e){return/^var\(--.+\)$/.test(e)}const isCSSVariableTokenValue=(e,n)=>e.startsWith("--")&&typeof n=="string"&&!isCssVar(n),resolveTokenValue=(e,n)=>{if(n==null)return n;const i=y=>{var b,d;return(d=(b=e.__cssMap)==null?void 0:b[y])==null?void 0:d.varRef},a=y=>i(y)??y,[w,g]=splitByComma(n);return n=i(w)??a(g)??a(n),n};function getCss(e){const{configs:n={},pseudos:i={},theme:a}=e,w=(g,y=!1)=>{var c;const b=runIfFn$1(g,a),d=expandResponsive(b)(a);let f={};for(let s in d){const o=d[s];let u=runIfFn$1(o,a);s in i&&(s=i[s]),isCSSVariableTokenValue(s,u)&&(u=resolveTokenValue(a,u));let h=n[s];if(h===!0&&(h={property:s}),isObject(u)){f[s]=f[s]??{},f[s]=mergeWith({},f[s],w(u,!0));continue}let m=((c=h==null?void 0:h.transform)==null?void 0:c.call(h,u,a,b))??u;m=h!=null&&h.processResult?w(m,!0):m;const v=runIfFn$1(h==null?void 0:h.property,a);if(!y&&(h!=null&&h.static)){const T=runIfFn$1(h.static,a);f=mergeWith({},f,T)}if(v&&Array.isArray(v)){for(const T of v)f[T]=m;continue}if(v){v==="&"&&isObject(m)?f=mergeWith({},f,m):f[v]=m;continue}if(isObject(m)){f=mergeWith({},f,m);continue}f[s]=m}return f};return w}const css$2=e=>n=>getCss({theme:n,pseudos:pseudoSelectors,configs:systemProps})(e);function defineStyle(e){return e}function defineStyleConfig(e){return e}function createMultiStyleConfigHelpers(e){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:e,...n}}}}function normalize$1(e,n){if(Array.isArray(e))return e;if(isObject(e))return n(e);if(e!=null)return[e]}function getNextIndex(e,n){for(let i=n+1;i<e.length;i++)if(e[i]!=null)return i;return-1}function createResolver(e){const n=e.__breakpoints;return function(a,w,g,y){var o,u;if(!n)return;const b={},d=normalize$1(g,n.toArrayValue);if(!d)return b;const f=d.length,c=f===1,s=!!a.parts;for(let h=0;h<f;h++){const m=n.details[h],v=n.details[getNextIndex(d,h)],T=toMediaQueryString(m.minW,v==null?void 0:v._minW),x=runIfFn$1((o=a[w])==null?void 0:o[d[h]],y);if(x){if(s){(u=a.parts)==null||u.forEach(R=>{mergeWith(b,{[R]:c?x[R]:{[T]:x[R]}})});continue}if(!s){c?mergeWith(b,x):b[T]=x;continue}b[T]=x}}return b}}function resolveStyleConfig(e){return n=>{const{variant:i,size:a,theme:w}=n,g=createResolver(w);return mergeWith({},runIfFn$1(e.baseStyle??{},n),g(e,"sizes",a,n),g(e,"variants",i,n))}}function omitThemingProps(e){return omit(e,["styleConfig","size","variant","colorScheme"])}function resolveReference(e){return isObject(e)&&e.reference?e.reference:String(e)}const toExpression=(e,...n)=>n.map(resolveReference).join(` ${e} `).replace(/calc/g,""),add$1=(...e)=>`calc(${toExpression("+",...e)})`,subtract$1=(...e)=>`calc(${toExpression("-",...e)})`,multiply$1=(...e)=>`calc(${toExpression("*",...e)})`,divide$1=(...e)=>`calc(${toExpression("/",...e)})`,negate$1=e=>{const n=resolveReference(e);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:multiply$1(n,-1)},calc$1=Object.assign(e=>({add:(...n)=>calc$1(add$1(e,...n)),subtract:(...n)=>calc$1(subtract$1(e,...n)),multiply:(...n)=>calc$1(multiply$1(e,...n)),divide:(...n)=>calc$1(divide$1(e,...n)),negate:()=>calc$1(negate$1(e)),toString:()=>e.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(e,n="-"){return e.replace(/\s+/g,n)}function escape$1(e){const n=replaceWhiteSpace$1(e.toString());return escapeSymbol(escapeDot(n))}function escapeDot(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function escapeSymbol(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(e,n=""){return[n,e].filter(Boolean).join("-")}function toVarReference(e,n){return`var(${e}${n?`, ${n}`:""})`}function toVarDefinition(e,n=""){return escape$1(`--${addPrefix$1(e,n)}`)}function cssVar$1(e,n,i){const a=toVarDefinition(e,i);return{variable:a,reference:toVarReference(a,n)}}function defineCssVars(e,n){const i={};for(const a of n){if(Array.isArray(a)){const[w,g]=a;i[w]=cssVar$1(`${e}-${w}`,g);continue}i[a]=cssVar$1(`${e}-${a}`)}return i}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(e){return pick$1(e,tokens)}function extractSemanticTokens(e){return e.semanticTokens}function omitVars(e){const{__cssMap:n,__cssVars:i,__breakpoints:a,...w}=e;return w}function flattenTokens(e){const n=extractTokens(e),i=extractSemanticTokens(e),a=g=>pseudoPropNames.includes(g)||g==="default",w={};return walkObject(n,(g,y)=>{g!=null&&(w[y.join(".")]={isSemantic:!1,value:g})}),walkObject(i,(g,y)=>{g!=null&&(w[y.join(".")]={isSemantic:!0,value:g})},{stop:g=>Object.keys(g).every(a)}),w}function tokenToCssVar(e,n){return cssVar$1(String(e).replace(/\./g,"-"),void 0,n)}function createThemeVars(e){var y;const n=flattenTokens(e),i=(y=e.config)==null?void 0:y.cssVarPrefix;let a={};const w={};function g(b,d){const c=[String(b).split(".")[0],d].join(".");if(!n[c])return d;const{reference:o}=tokenToCssVar(c,i);return o}for(const[b,d]of Object.entries(n)){const{isSemantic:f,value:c}=d,{variable:s,reference:o}=tokenToCssVar(b,i);if(!f){if(b.startsWith("space")){const h=b.split("."),[m,...v]=h,T=`${m}.-${v.join(".")}`,x=calc$1.negate(c),R=calc$1.negate(o);w[T]={value:x,var:s,varRef:R}}a[s]=c,w[b]={value:c,var:s,varRef:o};continue}const u=isObject(c)?c:{default:c};a=mergeWith(a,Object.entries(u).reduce((h,[m,v])=>{if(!v)return h;const T=g(b,`${v}`);if(m==="default")return h[s]=T,h;const x=(pseudoSelectors==null?void 0:pseudoSelectors[m])??m;return h[x]={[s]:T},h},{})),w[b]={value:o,var:s,varRef:o}}return{cssVars:a,cssMap:w}}function toCSSVar(e){const n=omitVars(e),{cssMap:i,cssVars:a}=createThemeVars(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...a},__cssMap:i,__breakpoints:analyzeBreakpoints(n.breakpoints)}),n}function anatomy(e,n={}){let i=!1;function a(){if(!i){i=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function w(...c){a();for(const s of c)n[s]=d(s);return anatomy(e,n)}function g(...c){for(const s of c)s in n||(n[s]=d(s));return anatomy(e,n)}function y(){return Object.fromEntries(Object.entries(n).map(([s,o])=>[s,o.selector]))}function b(){return Object.fromEntries(Object.entries(n).map(([s,o])=>[s,o.className]))}function d(c){const u=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:u,selector:`.${u}`,toString:()=>c}}return{parts:w,toPart:d,extend:g,selectors:y,classnames:b,get keys(){return Object.keys(n)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$F=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$F});function guard(e,n,i){return Math.min(Math.max(e,i),n)}class ColorError extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var ColorError$1=ColorError;function parseToRgba(e){if(typeof e!="string")throw new ColorError$1(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=e.trim();n=namedColorRegex.test(e)?nameToHex(e):e;const i=reducedHexRegex.exec(n);if(i){const y=Array.from(i).slice(1);return[...y.slice(0,3).map(b=>parseInt(r(b,2),16)),parseInt(r(y[3]||"f",2),16)/255]}const a=hexRegex.exec(n);if(a){const y=Array.from(a).slice(1);return[...y.slice(0,3).map(b=>parseInt(b,16)),parseInt(y[3]||"ff",16)/255]}const w=rgbaRegex.exec(n);if(w){const y=Array.from(w).slice(1);return[...y.slice(0,3).map(b=>parseInt(b,10)),parseFloat(y[3]||"1")]}const g=hslaRegex.exec(n);if(g){const[y,b,d,f]=Array.from(g).slice(1).map(parseFloat);if(guard(0,100,b)!==b)throw new ColorError$1(e);if(guard(0,100,d)!==d)throw new ColorError$1(e);return[...hslToRgb(y,b,d),Number.isNaN(f)?1:f]}throw new ColorError$1(e)}function hash$1(e){let n=5381,i=e.length;for(;i;)n=n*33^e.charCodeAt(--i);return(n>>>0)%2341}const colorToInt=e=>parseInt(e.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,n)=>{const i=colorToInt(n.substring(0,3)),a=colorToInt(n.substring(3)).toString(16);let w="";for(let g=0;g<6-a.length;g++)w+="0";return e[i]=`${w}${a}`,e},{});function nameToHex(e){const n=e.toLowerCase().trim(),i=compressedColorMap[hash$1(n)];if(!i)throw new ColorError$1(e);return`#${i}`}const r=(e,n)=>Array.from(Array(n)).map(()=>e).join(""),reducedHexRegex=new RegExp(`^#${r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=e=>Math.round(e*255),hslToRgb=(e,n,i)=>{let a=i/100;if(n===0)return[a,a,a].map(roundColor);const w=(e%360+360)%360/60,g=(1-Math.abs(2*a-1))*(n/100),y=g*(1-Math.abs(w%2-1));let b=0,d=0,f=0;w>=0&&w<1?(b=g,d=y):w>=1&&w<2?(b=y,d=g):w>=2&&w<3?(d=g,f=y):w>=3&&w<4?(d=y,f=g):w>=4&&w<5?(b=y,f=g):w>=5&&w<6&&(b=g,f=y);const c=a-g/2,s=b+c,o=d+c,u=f+c;return[s,o,u].map(roundColor)};function rgba$1(e,n,i,a){return`rgba(${guard(0,255,e).toFixed()}, ${guard(0,255,n).toFixed()}, ${guard(0,255,i).toFixed()}, ${parseFloat(guard(0,1,a).toFixed(3))})`}function transparentize$1(e,n){const[i,a,w,g]=parseToRgba(e);return rgba$1(i,a,w,g-n)}function toHex(e){const[n,i,a,w]=parseToRgba(e);let g=y=>{const b=guard(0,255,y).toString(16);return b.length===1?`0${b}`:b};return`#${g(n)}${g(i)}${g(a)}${w<1?g(Math.round(w*255)):""}`}const isEmptyObject=e=>Object.keys(e).length===0;function get(e,n,i,a,w){for(n=n.split?n.split("."):n,a=0;a<n.length;a++)e=e?e[n[a]]:w;return e===w?i:e}const getColor=(e,n,i)=>{const a=get(e,`colors.${n}`,n);try{return toHex(a),a}catch{return i??"#000000"}},getBrightness=e=>{const[n,i,a]=parseToRgba(e);return(n*299+i*587+a*114)/1e3},tone=e=>n=>{const i=getColor(n,e);return getBrightness(i)<128?"dark":"light"},isDark=e=>n=>tone(e)(n)==="dark",transparentize=(e,n)=>i=>{const a=getColor(i,e);return transparentize$1(a,1-n)};function generateStripe(e="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(e){const n=randomHex();return!e||isEmptyObject(e)?n:e.string&&e.colors?randomColorFromList(e.string,e.colors):e.string&&!e.colors?randomColorFromString(e.string):e.colors&&!e.string?randomFromList(e.colors):n}function randomColorFromString(e){let n=0;if(e.length===0)return n.toString();for(let a=0;a<e.length;a+=1)n=e.charCodeAt(a)+((n<<5)-n),n=n&n;let i="#";for(let a=0;a<3;a+=1){const w=n>>a*8&255;i+=`00${w.toString(16)}`.substr(-2)}return i}function randomColorFromList(e,n){let i=0;if(e.length===0)return n[0];for(let a=0;a<e.length;a+=1)i=e.charCodeAt(a)+((i<<5)-i),i=i&i;return i=(i%n.length+n.length)%n.length,n[i]}function randomFromList(e){return e[Math.floor(Math.random()*e.length)]}function mode(e,n){return i=>i.colorMode==="dark"?n:e}function orient(e){const{orientation:n,vertical:i,horizontal:a}=e;return n?n==="vertical"?i:a:{}}function toRef(e){return isObject(e)&&e.reference?e.reference:String(e)}const toExpr=(e,...n)=>n.map(toRef).join(` ${e} `).replace(/calc/g,""),add=(...e)=>`calc(${toExpr("+",...e)})`,subtract=(...e)=>`calc(${toExpr("-",...e)})`,multiply=(...e)=>`calc(${toExpr("*",...e)})`,divide=(...e)=>`calc(${toExpr("/",...e)})`,negate=e=>{const n=toRef(e);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:multiply(n,-1)},calc=Object.assign(e=>({add:(...n)=>calc(add(e,...n)),subtract:(...n)=>calc(subtract(e,...n)),multiply:(...n)=>calc(multiply(e,...n)),divide:(...n)=>calc(divide(e,...n)),negate:()=>calc(negate(e)),toString:()=>e.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(e){return!Number.isInteger(parseFloat(e.toString()))}function replaceWhiteSpace(e,n="-"){return e.replace(/\s+/g,n)}function escape(e){const n=replaceWhiteSpace(e.toString());return n.includes("\\.")?e:isDecimal(e)?n.replace(".","\\."):e}function addPrefix(e,n=""){return[n,escape(e)].filter(Boolean).join("-")}function toVarRef(e,n){return`var(${escape(e)}${n?`, ${n}`:""})`}function toVar(e,n=""){return`--${addPrefix(e,n)}`}function cssVar(e,n){const i=toVar(e,n==null?void 0:n.prefix);return{variable:i,reference:toVarRef(i,getFallback(n==null?void 0:n.fallback))}}function getFallback(e){return e==null?void 0:e.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$E=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(e){const{theme:n,colorScheme:i}=e,a=transparentize(`${i}.200`,.16)(n);return{light:`colors.${i}.100`,dark:a}}const variantSubtle$1=definePartsStyle$o(e=>{const{colorScheme:n}=e,i=getBg(e);return{container:{[$fg$5.variable]:`colors.${n}.600`,[$bg$f.variable]:i.light,_dark:{[$fg$5.variable]:`colors.${n}.200`,[$bg$f.variable]:i.dark}}}}),variantLeftAccent=definePartsStyle$o(e=>{const{colorScheme:n}=e,i=getBg(e);return{container:{[$fg$5.variable]:`colors.${n}.600`,[$bg$f.variable]:i.light,_dark:{[$fg$5.variable]:`colors.${n}.200`,[$bg$f.variable]:i.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(e=>{const{colorScheme:n}=e,i=getBg(e);return{container:{[$fg$5.variable]:`colors.${n}.600`,[$bg$f.variable]:i.light,_dark:{[$fg$5.variable]:`colors.${n}.200`,[$bg$f.variable]:i.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(e=>{const{colorScheme:n}=e;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${n}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${n}.200`},color:$fg$5.reference}}}),variants$e={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme=defineMultiStyleConfig$o({baseStyle:baseStyle$E,variants:variants$e,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$1=e=>typeof e=="function";function runIfFn(e,...n){return isFunction$1(e)?e(...n):e}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=e=>{const{name:n,theme:i}=e,a=n?randomColor({string:n}):"colors.gray.400",w=isDark(a)(i);let g="white";return w||(g="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:g,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:a},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$D=definePartsStyle$n(e=>({badge:runIfFn(baseStyleBadge,e),excessLabel:runIfFn(baseStyleExcessLabel,e),container:runIfFn(baseStyleContainer$3,e),label:baseStyleLabel$4}));function getSize$3(e){const n=e!=="100%"?sizes$m[e]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:n??e,[$fs.variable]:`calc(${n??e} / 2.5)`},excessLabel:{[$size$4.variable]:n??e,[$fs.variable]:`calc(${n??e} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$D,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$C={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=e=>{const{colorScheme:n,theme:i}=e,a=transparentize(`${n}.500`,.6)(i);return{[vars.bg.variable]:`colors.${n}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:a,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=e=>{const{colorScheme:n,theme:i}=e,a=transparentize(`${n}.200`,.16)(i);return{[vars.bg.variable]:`colors.${n}.100`,[vars.color.variable]:`colors.${n}.800`,_dark:{[vars.bg.variable]:a,[vars.color.variable]:`colors.${n}.200`}}},variantOutline$2=e=>{const{colorScheme:n,theme:i}=e,a=transparentize(`${n}.200`,.8)(i);return{[vars.color.variable]:`colors.${n}.500`,_dark:{[vars.color.variable]:a},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$d={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$C,variants:variants$d,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$B=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$B}),baseStyle$A={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=e=>{const{colorScheme:n,theme:i}=e;if(n==="gray")return{color:mode("gray.800","whiteAlpha.900")(e),_hover:{bg:mode("gray.100","whiteAlpha.200")(e)},_active:{bg:mode("gray.200","whiteAlpha.300")(e)}};const a=transparentize(`${n}.200`,.12)(i),w=transparentize(`${n}.200`,.24)(i);return{color:mode(`${n}.600`,`${n}.200`)(e),bg:"transparent",_hover:{bg:mode(`${n}.50`,a)(e)},_active:{bg:mode(`${n}.100`,w)(e)}}},variantOutline$1=e=>{const{colorScheme:n}=e,i=mode("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:n==="gray"?i:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,e)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=e=>{const{colorScheme:n}=e;if(n==="gray"){const b=mode("gray.100","whiteAlpha.200")(e);return{bg:b,color:mode("gray.800","whiteAlpha.900")(e),_hover:{bg:mode("gray.200","whiteAlpha.300")(e),_disabled:{bg:b}},_active:{bg:mode("gray.300","whiteAlpha.400")(e)}}}const{bg:i=`${n}.500`,color:a="white",hoverBg:w=`${n}.600`,activeBg:g=`${n}.700`}=accessibleColorMap[n]??{},y=mode(i,`${n}.200`)(e);return{bg:y,color:mode(a,"gray.800")(e),_hover:{bg:mode(w,`${n}.300`)(e),_disabled:{bg:y}},_active:{bg:mode(g,`${n}.400`)(e)}}},variantLink=e=>{const{colorScheme:n}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${n}.500`,`${n}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${n}.700`,`${n}.500`)(e)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$c={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle$A,variants:variants$c,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$z=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$b={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme=defineMultiStyleConfig$l({baseStyle:baseStyle$z,variants:variants$b,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=e=>{const{colorScheme:n}=e;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${n}.500`,`${n}.200`)(e),borderColor:mode(`${n}.500`,`${n}.200`)(e),color:mode("white","gray.900")(e),_hover:{bg:mode(`${n}.600`,`${n}.300`)(e),borderColor:mode(`${n}.600`,`${n}.300`)(e)},_disabled:{borderColor:mode("gray.200","transparent")(e),bg:mode("gray.200","whiteAlpha.300")(e),color:mode("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:mode(`${n}.500`,`${n}.200`)(e),borderColor:mode(`${n}.500`,`${n}.200`)(e),color:mode("white","gray.900")(e)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(e),borderColor:mode("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(e)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$y=definePartsStyle$k(e=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,e),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig$k({baseStyle:baseStyle$y,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$x={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$x,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$a,defaultProps}=badgeTheme,baseStyle$w={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$w,variants:variants$a,defaultProps},baseStyle$v={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$v},baseStyle$u={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$9={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$u,variants:variants$9,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(e){return definePartsStyle$j(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=e=>{const{isFullHeight:n}=e;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$t=definePartsStyle$j(e=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,e),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme=defineMultiStyleConfig$j({baseStyle:baseStyle$t,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$s=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$s}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$r=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$r}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$q=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$q}),baseStyle$p={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$p},baseStyle$o={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$o,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$n=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(e){const{focusBorderColor:n,errorBorderColor:i}=e;return{focusBorderColor:n||mode("blue.500","blue.300")(e),errorBorderColor:i||mode("red.500","red.300")(e)}}const variantOutline=definePartsStyle$f(e=>{const{theme:n}=e,{focusBorderColor:i,errorBorderColor:a}=getDefaults(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(n,a),boxShadow:`0 0 0 1px ${getColor(n,a)}`},_focusVisible:{zIndex:1,borderColor:getColor(n,i),boxShadow:`0 0 0 1px ${getColor(n,i)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(e),bg:mode("gray.100","whiteAlpha.300")(e)}}}),variantFilled=definePartsStyle$f(e=>{const{theme:n}=e,{focusBorderColor:i,errorBorderColor:a}=getDefaults(e);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(e),_hover:{bg:mode("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(n,a)},_focusVisible:{bg:"transparent",borderColor:getColor(n,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(e)}}}),variantFlushed=definePartsStyle$f(e=>{const{theme:n}=e,{focusBorderColor:i,errorBorderColor:a}=getDefaults(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(n,a),boxShadow:`0px 1px 0px 0px ${getColor(n,a)}`},_focusVisible:{borderColor:getColor(n,i),boxShadow:`0px 1px 0px 0px ${getColor(n,i)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$8={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$f({baseStyle:baseStyle$n,sizes:sizes$e,variants:variants$8,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$m={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$m},baseStyle$l={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$l},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$k=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$k}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$j=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$j}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=e=>{const{isCentered:n,scrollBehavior:i}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:i==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=e=>{const{isCentered:n,scrollBehavior:i}=e;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:i==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=e=>{const{scrollBehavior:n}=e;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$i=definePartsStyle$c(e=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,e),dialog:runIfFn(baseStyleDialog,e),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,e),footer:baseStyleFooter$1}));function getSize$1(e){return definePartsStyle$c(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$i,sizes:sizes$d,defaultProps:{size:"md"}}),typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=e=>{var n;return((n=runIfFn(inputTheme.baseStyle,e))==null?void 0:n.field)??{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$h=definePartsStyle$b(e=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,e)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(e){var g,y;const n=(g=inputTheme.sizes)==null?void 0:g[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},a=((y=n.field)==null?void 0:y.fontSize)??"md",w=typography.fontSizes[a];return definePartsStyle$b({field:{...n.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(w).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$h,sizes:sizes$c,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps});var $p;const baseStyle$g={...($p=inputTheme.baseStyle)==null?void 0:$p.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var Mp;const variants$7={outline:e=>{var n,i;return((i=runIfFn((n=inputTheme.variants)==null?void 0:n.outline,e))==null?void 0:i.field)??{}},flushed:e=>{var n,i;return((i=runIfFn((n=inputTheme.variants)==null?void 0:n.flushed,e))==null?void 0:i.field)??{}},filled:e=>{var n,i;return((i=runIfFn((n=inputTheme.variants)==null?void 0:n.filled,e))==null?void 0:i.field)??{}},unstyled:((Mp=inputTheme.variants)==null?void 0:Mp.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle$g,sizes:sizes$b,variants:variants$7,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$f=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$f}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=e=>{const{colorScheme:n,theme:i,isIndeterminate:a,hasStripe:w}=e,g=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(e),y=mode(`${n}.500`,`${n}.200`)(e),b=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(i,y)} 50%,
    transparent 100%
  )`;return{...!a&&w&&g,...a?{bgImage:b}:{bgColor:y}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=e=>({bg:mode("gray.100","whiteAlpha.300")(e)}),baseStyleFilledTrack$1=e=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(e)}),baseStyle$e=definePartsStyle$9(e=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(e),track:baseStyleTrack$2(e)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=e=>{var i;const n=(i=runIfFn(checkboxTheme.baseStyle,e))==null?void 0:i.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$d=definePartsStyle$8(e=>{var n,i;return{label:(n=checkboxTheme.baseStyle)==null?void 0:n.call(checkboxTheme,e).label,container:(i=checkboxTheme.baseStyle)==null?void 0:i.call(checkboxTheme,e).container,control:baseStyleControl(e)}}),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$d,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg");var Lp;const baseStyleField={...(Lp=inputTheme.baseStyle)==null?void 0:Lp.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$c=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"};var Ip,Dp,Op,Np,Pp,Fp,zp,Bp;const sizes$8={lg:{...(Ip=inputTheme.sizes)==null?void 0:Ip.lg,field:{...(Dp=inputTheme.sizes)==null?void 0:Dp.lg.field,...iconSpacing}},md:{...(Op=inputTheme.sizes)==null?void 0:Op.md,field:{...(Np=inputTheme.sizes)==null?void 0:Np.md.field,...iconSpacing}},sm:{...(Pp=inputTheme.sizes)==null?void 0:Pp.sm,field:{...(Fp=inputTheme.sizes)==null?void 0:Fp.sm.field,...iconSpacing}},xs:{...(zp=inputTheme.sizes)==null?void 0:zp.xs,field:{...(Bp=inputTheme.sizes)==null?void 0:Bp.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$c,sizes:sizes$8,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$b={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$b},$bg$5=cssVar$1("skip-link-bg"),baseStyle$a={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$a},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=e=>{const{orientation:n}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:n,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=e=>({...orient({orientation:e.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=e=>{const{orientation:n}=e;return{...orient({orientation:n,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=e=>{const{colorScheme:n}=e;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${n}.500`,_dark:{[$bg$4.variable]:`colors.${n}.200`},bg:$bg$4.reference}},baseStyle$9=definePartsStyle$6(e=>({container:baseStyleContainer$1(e),track:baseStyleTrack$1(e),thumb:baseStyleThumb$1(e),filledTrack:baseStyleFilledTrack(e)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$9,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$8={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$8,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$7=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$7,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$6=definePartsStyle$4(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${e}.500`,_dark:{[$accentColor.variable]:`colors.${e}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$4({baseStyle:baseStyle$6,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=e=>{const{colorScheme:n}=e;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${n}.500`,_dark:{[$bg$3.variable]:`colors.${n}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$5=definePartsStyle$3(e=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(e),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$5,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$4=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(e=>{const{colorScheme:n}=e;return{th:{color:mode("gray.600","gray.400")(e),borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},caption:{color:mode("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(e=>{const{colorScheme:n}=e;return{th:{color:mode("gray.600","gray.400")(e),borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e),...numericStyles},caption:{color:mode("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${n}.100`,`${n}.700`)(e)},td:{background:mode(`${n}.100`,`${n}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$6={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$2({baseStyle:baseStyle$4,variants:variants$6,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=e=>{const{orientation:n}=e;return{display:n==="vertical"?"flex":"block"}},baseStyleTab=e=>{const{isFitted:n}=e;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=e=>{const{align:n="start",orientation:i}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:i==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$3=definePartsStyle$1(e=>({root:baseStyleRoot(e),tab:baseStyleTab(e),tablist:baseStyleTablist(e),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(e=>{const{colorScheme:n,orientation:i}=e,a=i==="vertical",w=a?"borderStart":"borderBottom",g=a?"marginStart":"marginBottom";return{tablist:{[w]:"2px solid",borderColor:"inherit"},tab:{[w]:"2px solid",borderColor:"transparent",[g]:"-2px",_selected:{[$fg$1.variable]:`colors.${n}.600`,_dark:{[$fg$1.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(e=>{const{colorScheme:n}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${n}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${n}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(e=>{const{colorScheme:n}=e;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${n}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(e=>{const{colorScheme:n,theme:i}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(i,`${n}.700`),bg:getColor(i,`${n}.100`)}}}}),variantSolidRounded=definePartsStyle$1(e=>{const{colorScheme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${n}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${n}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$5={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme=defineMultiStyleConfig$1({baseStyle:baseStyle$3,sizes:sizes$2,variants:variants$5,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$2=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$4={subtle:definePartsStyle(e=>{var n;return{container:(n=badgeTheme.variants)==null?void 0:n.subtle(e)}}),solid:definePartsStyle(e=>{var n;return{container:(n=badgeTheme.variants)==null?void 0:n.solid(e)}}),outline:definePartsStyle(e=>{var n;return{container:(n=badgeTheme.variants)==null?void 0:n.outline(e)}})},tagTheme=defineMultiStyleConfig({variants:variants$4,baseStyle:baseStyle$2,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var Vp;const baseStyle$1={...(Vp=inputTheme.baseStyle)==null?void 0:Vp.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var Up;const variants$3={outline:e=>{var n;return((n=inputTheme.variants)==null?void 0:n.outline(e).field)??{}},flushed:e=>{var n;return((n=inputTheme.variants)==null?void 0:n.flushed(e).field)??{}},filled:e=>{var n;return((n=inputTheme.variants)==null?void 0:n.filled(e).field)??{}},unstyled:((Up=inputTheme.variants)==null?void 0:Up.unstyled.field)??{}};var jp,Hp,Wp,Gp;const sizes={xs:((jp=inputTheme.sizes)==null?void 0:jp.xs.field)??{},sm:((Hp=inputTheme.sizes)==null?void 0:Hp.sm.field)??{},md:((Wp=inputTheme.sizes)==null?void 0:Wp.md.field)??{},lg:((Gp=inputTheme.sizes)==null?void 0:Gp.lg.field)??{}},textareaTheme={baseStyle:baseStyle$1,sizes,variants:variants$3,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle},components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations={breakpoints,zIndices,radii,blur,colors,...typography,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(e){return isObject(e)?requiredChakraThemeKeys.every(n=>Object.prototype.hasOwnProperty.call(e,n)):!1}const direction="ltr",config$1={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$1};function sheetForTag(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function createStyleElement(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var StyleSheet=function(){function e(i){var a=this;this._insertTag=function(w){var g;a.tags.length===0?a.insertionPoint?g=a.insertionPoint.nextSibling:a.prepend?g=a.container.firstChild:g=a.before:g=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(w,g),a.tags.push(w)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(a){a.forEach(this._insertTag)},n.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var w=this.tags[this.tags.length-1];if(this.isSpeedy){var g=sheetForTag(w);try{g.insertRule(a,g.cssRules.length)}catch{}}else w.appendChild(document.createTextNode(a));this.ctr++},n.flush=function(){this.tags.forEach(function(a){var w;return(w=a.parentNode)==null?void 0:w.removeChild(a)}),this.tags=[],this.ctr=0},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,n){return charat(e,0)^45?(((n<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,n){return(e=n.exec(e))?e[0]:e}function replace(e,n,i){return e.replace(n,i)}function indexof(e,n){return e.indexOf(n)}function charat(e,n){return e.charCodeAt(n)|0}function substr(e,n,i){return e.slice(n,i)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,n){return n.push(e),e}function combine(e,n){return e.map(n).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,n,i,a,w,g,y){return{value:e,root:n,parent:i,type:a,props:w,children:g,line,column,length:y,return:""}}function copy(e,n){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},n)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(e,n){return substr(characters,e,n)}function token$1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek$1())&&character<33;)next();return token$1(e)>2||token$1(character)>3?"":" "}function escaping(e,n){for(;--n&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(n<6&&peek$1()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,n){for(;next()&&e+character!==57;)if(e+character===84&&peek$1()===47)break;return"/*"+slice(n,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token$1(peek$1());)next();return slice(e,position)}function compile(e){return dealloc(parse$2("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse$2(e,n,i,a,w,g,y,b,d){for(var f=0,c=0,s=y,o=0,u=0,h=0,m=1,v=1,T=1,x=0,R="",k=w,C=g,S=a,N=R;v;)switch(h=x,x=next()){case 40:if(h!=108&&charat(N,s-1)==58){indexof(N+=replace(delimit(x),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:N+=delimit(x);break;case 9:case 10:case 13:case 32:N+=whitespace(h);break;case 92:N+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),n,i),d);break;default:N+="/"}break;case 123*m:b[f++]=strlen(N)*T;case 125*m:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+c:T==-1&&(N=replace(N,/\f/g,"")),u>0&&strlen(N)-s&&append(u>32?declaration(N+";",a,i,s-1):declaration(replace(N," ","")+";",a,i,s-2),d);break;case 59:N+=";";default:if(append(S=ruleset(N,n,i,f,c,w,b,R,k=[],C=[],s),g),x===123)if(c===0)parse$2(N,n,S,S,k,g,s,b,C);else switch(o===99&&charat(N,3)===110?100:o){case 100:case 108:case 109:case 115:parse$2(e,S,S,a&&append(ruleset(e,S,S,0,0,w,b,R,w,k=[],s),C),w,C,s,b,a?k:C);break;default:parse$2(N,S,S,S,[""],C,0,b,C)}}f=c=u=0,m=T=1,R=N="",s=y;break;case 58:s=1+strlen(N),u=h;default:if(m<1){if(x==123)--m;else if(x==125&&m++==0&&prev()==125)continue}switch(N+=from(x),x*m){case 38:T=c>0?1:(N+="\f",-1);break;case 44:b[f++]=(strlen(N)-1)*T,T=1;break;case 64:peek$1()===45&&(N+=delimit(next())),o=peek$1(),c=s=strlen(R=N+=identifier(caret())),x++;break;case 45:h===45&&strlen(N)==2&&(m=0)}}return g}function ruleset(e,n,i,a,w,g,y,b,d,f,c){for(var s=w-1,o=w===0?g:[""],u=sizeof(o),h=0,m=0,v=0;h<a;++h)for(var T=0,x=substr(e,s+1,s=abs(m=y[h])),R=e;T<u;++T)(R=trim(m>0?o[T]+" "+x:replace(x,/&\f/g,o[T])))&&(d[v++]=R);return node(e,n,i,w===0?RULESET:b,d,f,c)}function comment(e,n,i){return node(e,n,i,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,n,i,a){return node(e,n,i,DECLARATION,substr(e,0,a),substr(e,a+1,-1),a)}function serialize(e,n){for(var i="",a=sizeof(e),w=0;w<a;w++)i+=n(e[w],w,e,n)||"";return i}function stringify$2(e,n,i,a){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,a)+"}";case RULESET:e.value=e.props.join(",")}return strlen(i=serialize(e.children,a))?e.return=e.value+"{"+i+"}":""}function middleware(e){var n=sizeof(e);return function(i,a,w,g){for(var y="",b=0;b<n;b++)y+=e[b](i,a,w,g)||"";return y}}function rulesheet(e){return function(n){n.root||(n=n.return)&&e(n)}}var weakMemoize=function(n){var i=new WeakMap;return function(a){if(i.has(a))return i.get(a);var w=n(a);return i.set(a,w),w}};function memoize(e){var n=Object.create(null);return function(i){return n[i]===void 0&&(n[i]=e(i)),n[i]}}var identifierWithPointTracking=function(n,i,a){for(var w=0,g=0;w=g,g=peek$1(),w===38&&g===12&&(i[a]=1),!token$1(g);)next();return slice(n,position)},toRules=function(n,i){var a=-1,w=44;do switch(token$1(w)){case 0:w===38&&peek$1()===12&&(i[a]=1),n[a]+=identifierWithPointTracking(position-1,i,a);break;case 2:n[a]+=delimit(w);break;case 4:if(w===44){n[++a]=peek$1()===58?"&\f":"",i[a]=n[a].length;break}default:n[a]+=from(w)}while(w=next());return n},getRules=function(n,i){return dealloc(toRules(alloc(n),i))},fixedElements=new WeakMap,compat=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var i=n.value,a=n.parent,w=n.column===a.column&&n.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(n.props.length===1&&i.charCodeAt(0)!==58&&!fixedElements.get(a))&&!w){fixedElements.set(n,!0);for(var g=[],y=getRules(i,g),b=a.props,d=0,f=0;d<y.length;d++)for(var c=0;c<b.length;c++,f++)n.props[f]=g[d]?y[d].replace(/&\f/g,b[c]):b[c]+" "+y[d]}}},removeLabel=function(n){if(n.type==="decl"){var i=n.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(n.return="",n.value="")}};function prefix(e,n){switch(hash(e,n)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-n>6)switch(charat(e,n+1)){case 109:if(charat(e,n+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(charat(e,n+1)!==115)break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,n+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(n,i,a,w){if(n.length>-1&&!n.return)switch(n.type){case DECLARATION:n.return=prefix(n.value,n.length);break;case KEYFRAMES:return serialize([copy(n,{value:replace(n.value,"@","@"+WEBKIT)})],w);case RULESET:if(n.length)return combine(n.props,function(g){switch(match(g,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(n,{props:[replace(g,/:(read-\w+)/,":"+MOZ+"$1")]})],w);case"::placeholder":return serialize([copy(n,{props:[replace(g,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(n,{props:[replace(g,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(n,{props:[replace(g,/:(plac\w+)/,MS+"input-$1")]})],w)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(n){var i=n.key;if(i==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var w=n.stylisPlugins||defaultStylisPlugins,g={},y,b=[];y=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),T=1;T<v.length;T++)g[v[T]]=!0;b.push(m)});var d,f=[compat,removeLabel];{var c,s=[stringify$2,rulesheet(function(m){c.insert(m)})],o=middleware(f.concat(w,s)),u=function(v){return serialize(compile(v),o)};d=function(v,T,x,R){c=x,u(v?v+"{"+T.styles+"}":T.styles),R&&(h.inserted[T.name]=!0)}}var h={key:i,sheet:new StyleSheet({key:i,container:y,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:g,registered:{},insert:d};return h.sheet.hydrate(b),h};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_extends.apply(null,arguments)}var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,w=e?Symbol.for("react.strict_mode"):60108,g=e?Symbol.for("react.profiler"):60114,y=e?Symbol.for("react.provider"):60109,b=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,s=e?Symbol.for("react.suspense"):60113,o=e?Symbol.for("react.suspense_list"):60120,u=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function R(C){if(typeof C=="object"&&C!==null){var S=C.$$typeof;switch(S){case n:switch(C=C.type,C){case d:case f:case a:case g:case w:case s:return C;default:switch(C=C&&C.$$typeof,C){case b:case c:case h:case u:case y:return C;default:return S}}case i:return S}}}function k(C){return R(C)===f}return reactIs_production_min.AsyncMode=d,reactIs_production_min.ConcurrentMode=f,reactIs_production_min.ContextConsumer=b,reactIs_production_min.ContextProvider=y,reactIs_production_min.Element=n,reactIs_production_min.ForwardRef=c,reactIs_production_min.Fragment=a,reactIs_production_min.Lazy=h,reactIs_production_min.Memo=u,reactIs_production_min.Portal=i,reactIs_production_min.Profiler=g,reactIs_production_min.StrictMode=w,reactIs_production_min.Suspense=s,reactIs_production_min.isAsyncMode=function(C){return k(C)||R(C)===d},reactIs_production_min.isConcurrentMode=k,reactIs_production_min.isContextConsumer=function(C){return R(C)===b},reactIs_production_min.isContextProvider=function(C){return R(C)===y},reactIs_production_min.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},reactIs_production_min.isForwardRef=function(C){return R(C)===c},reactIs_production_min.isFragment=function(C){return R(C)===a},reactIs_production_min.isLazy=function(C){return R(C)===h},reactIs_production_min.isMemo=function(C){return R(C)===u},reactIs_production_min.isPortal=function(C){return R(C)===i},reactIs_production_min.isProfiler=function(C){return R(C)===g},reactIs_production_min.isStrictMode=function(C){return R(C)===w},reactIs_production_min.isSuspense=function(C){return R(C)===s},reactIs_production_min.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===a||C===f||C===g||C===w||C===s||C===o||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===u||C.$$typeof===y||C.$$typeof===b||C.$$typeof===c||C.$$typeof===v||C.$$typeof===T||C.$$typeof===x||C.$$typeof===m)},reactIs_production_min.typeOf=R,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var e=requireReactIs(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},w={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g={};g[e.ForwardRef]=a,g[e.Memo]=w;function y(h){return e.isMemo(h)?w:g[h.$$typeof]||n}var b=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,o=Object.prototype;function u(h,m,v){if(typeof m!="string"){if(o){var T=s(m);T&&T!==o&&u(h,T,v)}var x=d(m);f&&(x=x.concat(f(m)));for(var R=y(h),k=y(m),C=0;C<x.length;++C){var S=x[C];if(!i[S]&&!(v&&v[S])&&!(k&&k[S])&&!(R&&R[S])){var N=c(m,S);try{b(h,S,N)}catch{}}}}return h}return hoistNonReactStatics_cjs=u,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser$1=!0;function getRegisteredStyles(e,n,i){var a="";return i.split(" ").forEach(function(w){e[w]!==void 0?n.push(e[w]+";"):w&&(a+=w+" ")}),a}var registerStyles=function(n,i,a){var w=n.key+"-"+i.name;(a===!1||isBrowser$1===!1)&&n.registered[w]===void 0&&(n.registered[w]=i.styles)},insertStyles=function(n,i,a){registerStyles(n,i,a);var w=n.key+"-"+i.name;if(n.inserted[i.name]===void 0){var g=i;do n.insert(i===g?"."+w:"",g,n.sheet,!0),g=g.next;while(g!==void 0)}};function murmur2(e){for(var n=0,i,a=0,w=e.length;w>=4;++a,w-=4)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,n=(i&65535)*1540483477+((i>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(w){case 3:n^=(e.charCodeAt(a+2)&255)<<16;case 2:n^=(e.charCodeAt(a+1)&255)<<8;case 1:n^=e.charCodeAt(a)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(n){return n.charCodeAt(1)===45},isProcessableValue=function(n){return n!=null&&typeof n!="boolean"},processStyleName=memoize(function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(n,i){switch(n){case"animation":case"animationName":if(typeof i=="string")return i.replace(animationRegex,function(a,w,g){return cursor={name:w,styles:g,next:cursor},w})}return unitlessKeys[n]!==1&&!isCustomProperty(n)&&typeof i=="number"&&i!==0?i+"px":i};function handleInterpolation(e,n,i){if(i==null)return"";var a=i;if(a.__emotion_styles!==void 0)return a;switch(typeof i){case"boolean":return"";case"object":{var w=i;if(w.anim===1)return cursor={name:w.name,styles:w.styles,next:cursor},w.name;var g=i;if(g.styles!==void 0){var y=g.next;if(y!==void 0)for(;y!==void 0;)cursor={name:y.name,styles:y.styles,next:cursor},y=y.next;var b=g.styles+";";return b}return createStringFromObject(e,n,i)}case"function":{if(e!==void 0){var d=cursor,f=i(e);return cursor=d,handleInterpolation(e,n,f)}break}}var c=i;if(n==null)return c;var s=n[c];return s!==void 0?s:c}function createStringFromObject(e,n,i){var a="";if(Array.isArray(i))for(var w=0;w<i.length;w++)a+=handleInterpolation(e,n,i[w])+";";else for(var g in i){var y=i[g];if(typeof y!="object"){var b=y;n!=null&&n[b]!==void 0?a+=g+"{"+n[b]+"}":isProcessableValue(b)&&(a+=processStyleName(g)+":"+processStyleValue(g,b)+";")}else if(Array.isArray(y)&&typeof y[0]=="string"&&(n==null||n[y[0]]===void 0))for(var d=0;d<y.length;d++)isProcessableValue(y[d])&&(a+=processStyleName(g)+":"+processStyleValue(g,y[d])+";");else{var f=handleInterpolation(e,n,y);switch(g){case"animation":case"animationName":{a+=processStyleName(g)+":"+f+";";break}default:a+=g+"{"+f+"}"}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(e,n,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,w="";cursor=void 0;var g=e[0];if(g==null||g.raw===void 0)a=!1,w+=handleInterpolation(i,n,g);else{var y=g;w+=y[0]}for(var b=1;b<e.length;b++)if(w+=handleInterpolation(i,n,e[b]),a){var d=g;w+=d[b]}labelPattern.lastIndex=0;for(var f="",c;(c=labelPattern.exec(w))!==null;)f+="-"+c[1];var s=murmur2(w)+f;return{name:s,styles:w,next:cursor}}var syncFallback=function(n){return n()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var __unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(n){return reactExports.forwardRef(function(i,a){var w=reactExports.useContext(EmotionCacheContext);return n(i,w,a)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(n,i){if(typeof i=="function"){var a=i(n);return a}return _extends({},n,i)},createCacheWithTheme=weakMemoize(function(e){return weakMemoize(function(n){return getTheme$1(e,n)})}),ThemeProvider$1=function(n){var i=reactExports.useContext(ThemeContext);return n.theme!==i&&(i=createCacheWithTheme(i)(n.theme)),reactExports.createElement(ThemeContext.Provider,{value:i},n.children)},hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(n,i){var a={};for(var w in i)hasOwn.call(i,w)&&(a[w]=i[w]);return a[typePropName]=n,a},Insertion$1=function(n){var i=n.cache,a=n.serialized,w=n.isStringTag;return registerStyles(i,a,w),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(i,a,w)}),null},Emotion=withEmotionCache(function(e,n,i){var a=e.css;typeof a=="string"&&n.registered[a]!==void 0&&(a=n.registered[a]);var w=e[typePropName],g=[a],y="";typeof e.className=="string"?y=getRegisteredStyles(n.registered,g,e.className):e.className!=null&&(y=e.className+" ");var b=serializeStyles(g,void 0,reactExports.useContext(ThemeContext));y+=n.key+"-"+b.name;var d={};for(var f in e)hasOwn.call(e,f)&&f!=="css"&&f!==typePropName&&(d[f]=e[f]);return d.className=y,i&&(d.ref=i),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:n,serialized:b,isStringTag:typeof w=="string"}),reactExports.createElement(w,d))}),Emotion$1=Emotion,jsx=function(n,i){var a=arguments;if(i==null||!hasOwn.call(i,"css"))return reactExports.createElement.apply(void 0,a);var w=a.length,g=new Array(w);g[0]=Emotion$1,g[1]=createEmotionProps(n,i);for(var y=2;y<w;y++)g[y]=a[y];return reactExports.createElement.apply(null,g)};(function(e){var n;n||(n=e.JSX||(e.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(e,n){var i=e.styles,a=serializeStyles([i],void 0,reactExports.useContext(ThemeContext)),w=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var g=n.key+"-global",y=new n.sheet.constructor({key:g,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),b=!1,d=document.querySelector('style[data-emotion="'+g+" "+a.name+'"]');return n.sheet.tags.length&&(y.before=n.sheet.tags[0]),d!==null&&(b=!0,d.setAttribute("data-emotion",g),y.hydrate([d])),w.current=[y,b],function(){y.flush()}},[n]),useInsertionEffectWithLayoutFallback(function(){var g=w.current,y=g[0],b=g[1];if(b){g[1]=!1;return}if(a.next!==void 0&&insertStyles(n,a.next,!0),y.tags.length){var d=y.tags[y.tags.length-1].nextElementSibling;y.before=d,y.flush()}n.insert("",a,y,!1)},[n,a.name]),null});function css$1(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return serializeStyles(n)}function keyframes$1(){var e=css$1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const e=reactExports.useContext(ColorModeContext);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}const classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(e={}){const{preventTransition:n=!0,nonce:i}=e,a={setDataset:w=>{const g=n?a.preventTransition():void 0;document.documentElement.dataset.theme=w,document.documentElement.style.colorScheme=w,g==null||g()},setClassName(w){document.body.classList.add(w?classNames.dark:classNames.light),document.body.classList.remove(w?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(w){return a.query().matches??w==="dark"?"dark":"light"},addListener(w){const g=a.query(),y=b=>{w(b.matches?"dark":"light")};return typeof g.addListener=="function"?g.addListener(y):g.addEventListener("change",y),()=>{typeof g.removeListener=="function"?g.removeListener(y):g.removeEventListener("change",y)}},preventTransition(){const w=document.createElement("style");return w.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i!==void 0&&(w.nonce=i),document.head.appendChild(w),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(w)})})}}};return a}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(e){return{ssr:!1,type:"localStorage",get(n){if(!(globalThis!=null&&globalThis.document))return n;let i;try{i=localStorage.getItem(e)||n}catch{}return i||n},set(n){try{localStorage.setItem(e,n)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{},useSafeLayoutEffect=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(e,n){return e.type==="cookie"&&e.ssr?e.get(n):n}const ColorModeProvider=function(n){const{value:i,children:a,options:{useSystemColorMode:w,initialColorMode:g,disableTransitionOnChange:y}={},colorModeManager:b=localStorageManager}=n,d=__unsafe_useEmotionCache(),f=g==="dark"?"dark":"light",[c,s]=reactExports.useState(()=>getTheme(b,f)),[o,u]=reactExports.useState(()=>getTheme(b)),{getSystemTheme:h,setClassName:m,setDataset:v,addListener:T}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:y,nonce:d==null?void 0:d.nonce}),[y,d==null?void 0:d.nonce]),x=g==="system"&&!c?o:c,R=reactExports.useCallback(S=>{const N=S==="system"?h():S;s(N),m(N==="dark"),v(N),b.set(N)},[b,h,m,v]);useSafeLayoutEffect(()=>{g==="system"&&u(h())},[]),reactExports.useEffect(()=>{const S=b.get();if(S){R(S);return}if(g==="system"){R("system");return}R(f)},[b,f,g,R]);const k=reactExports.useCallback(()=>{R(x==="dark"?"light":"dark")},[x,R]);reactExports.useEffect(()=>{if(w)return T(R)},[w,T,R]);const C=reactExports.useMemo(()=>({colorMode:i??x,toggleColorMode:i?noop$2:k,setColorMode:i?noop$2:R,forced:i!==void 0}),[x,k,R,i]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:C,children:a})};ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:e=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(e){const{cssVarsRoot:n,theme:i,children:a}=e,w=reactExports.useMemo(()=>toCSSVar(i),[i]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:w,children:[jsxRuntimeExports.jsx(CSSVars,{root:n}),a]})}function CSSVars({root:e=":host, :root"}){const n=[e,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:i=>({[n]:i.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(e){return createContext$1({name:`${e}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${e} />" `})}function GlobalStyle(){const{colorMode:e}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:n=>{const i=memoizedGet$1(n,"styles.global"),a=runIfFn$1(i,{theme:n,colorMode:e});return a?css$2(a)(n):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext$1({strict:!1,name:"PortalManagerContext"});function PortalManager(e){const{children:n,zIndex:i}=e;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:i},children:n})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(e){const{children:n,environment:i,disabled:a}=e,w=reactExports.useRef(null),g=reactExports.useMemo(()=>i||{getDocument:()=>{var b;return((b=w.current)==null?void 0:b.ownerDocument)??document},getWindow:()=>{var b;return((b=w.current)==null?void 0:b.ownerDocument.defaultView)??window}},[i]),y=!a||!i;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:g,children:[n,y&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:w})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider$1=e=>{const{children:n,colorModeManager:i,portalZIndex:a,resetScope:w,resetCSS:g=!0,theme:y={},environment:b,cssVarsRoot:d,disableEnvironment:f,disableGlobalStyle:c}=e,s=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:b,disabled:f,children:n});return jsxRuntimeExports.jsx(ThemeProvider,{theme:y,cssVarsRoot:d,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:i,options:y.config,children:[g?jsxRuntimeExports.jsx(CSSReset,{scope:w}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!c&&jsxRuntimeExports.jsx(GlobalStyle,{}),a?jsxRuntimeExports.jsx(PortalManager,{zIndex:a,children:s}):s]})})},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const n=reactExports.useRef(null);return n.current===null&&(n.current=e()),n.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(n){const i=this.props.childRef.current;if(i&&n.isPresent&&!this.props.isPresent){const a=i.offsetParent,w=a instanceof HTMLElement&&a.offsetWidth||0,g=this.props.sizeRef.current;g.height=i.offsetHeight||0,g.width=i.offsetWidth||0,g.top=i.offsetTop,g.left=i.offsetLeft,g.right=w-g.width-g.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:n,anchorX:i}){const a=reactExports.useId(),w=reactExports.useRef(null),g=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:b,height:d,top:f,left:c,right:s}=g.current;if(n||!w.current||!b||!d)return;const o=i==="left"?`left: ${c}`:`right: ${s}`;w.current.dataset.motionPopId=a;const u=document.createElement("style");return y&&(u.nonce=y),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${d}px !important;
            ${o}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[n]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:n,childRef:w,sizeRef:g,children:reactExports.cloneElement(e,{ref:w})})}const PresenceChild=({children:e,initial:n,isPresent:i,onExitComplete:a,custom:w,presenceAffectsLayout:g,mode:y,anchorX:b})=>{const d=useConstant(newChildrenMap),f=reactExports.useId(),c=reactExports.useCallback(o=>{d.set(o,!0);for(const u of d.values())if(!u)return;a&&a()},[d,a]),s=reactExports.useMemo(()=>({id:f,initial:n,isPresent:i,custom:w,onExitComplete:c,register:o=>(d.set(o,!1),()=>d.delete(o))}),g?[Math.random(),c]:[i,c]);return reactExports.useMemo(()=>{d.forEach((o,u)=>d.set(u,!1))},[i]),reactExports.useEffect(()=>{!i&&!d.size&&a&&a()},[i]),y==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:i,anchorX:b,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:s,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const n=reactExports.useContext(PresenceContext);if(n===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:w}=n,g=reactExports.useId();reactExports.useEffect(()=>{if(e)return w(g)},[e]);const y=reactExports.useCallback(()=>e&&a&&a(g),[g,a,e]);return!i&&a?[!1,y]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(e){return e===null?!0:e.isPresent}const getChildKey=e=>e.key||"";function onlyElements(e){const n=[];return reactExports.Children.forEach(e,i=>{reactExports.isValidElement(i)&&n.push(i)}),n}const AnimatePresence=({children:e,custom:n,initial:i=!0,onExitComplete:a,presenceAffectsLayout:w=!0,mode:g="sync",propagate:y=!1,anchorX:b="left"})=>{const[d,f]=usePresence(y),c=reactExports.useMemo(()=>onlyElements(e),[e]),s=y&&!d?[]:c.map(getChildKey),o=reactExports.useRef(!0),u=reactExports.useRef(c),h=useConstant(()=>new Map),[m,v]=reactExports.useState(c),[T,x]=reactExports.useState(c);useIsomorphicLayoutEffect$2(()=>{o.current=!1,u.current=c;for(let C=0;C<T.length;C++){const S=getChildKey(T[C]);s.includes(S)?h.delete(S):h.get(S)!==!0&&h.set(S,!1)}},[T,s.length,s.join("-")]);const R=[];if(c!==m){let C=[...c];for(let S=0;S<T.length;S++){const N=T[S],L=getChildKey(N);s.includes(L)||(C.splice(S,0,N),R.push(N))}return g==="wait"&&R.length&&(C=R),x(onlyElements(C)),v(c),null}const{forceRender:k}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:T.map(C=>{const S=getChildKey(C),N=y&&!d?!1:c===T||s.includes(S),L=()=>{if(h.has(S))h.set(S,!0);else return;let A=!0;h.forEach($=>{$||(A=!1)}),A&&(k==null||k(),x(u.current),y&&(f==null||f()),a&&a())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:N,initial:!o.current||i?void 0:!1,custom:n,presenceAffectsLayout:w,mode:g,onExitComplete:N?void 0:L,anchorX:b,children:C},S)})})};function addUniqueItem(e,n){e.indexOf(n)===-1&&e.push(n)}function removeItem(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}const noop$1=e=>e;let invariant=noop$1;const MotionGlobalConfig={useManualTiming:!1};function memo(e){let n;return()=>(n===void 0&&(n=e()),n)}const progress=(e,n,i)=>{const a=n-e;return a===0?1:(i-e)/a};class SubscriptionManager{constructor(){this.subscriptions=[]}add(n){return addUniqueItem(this.subscriptions,n),()=>removeItem(this.subscriptions,n)}notify(n,i,a){const w=this.subscriptions.length;if(w)if(w===1)this.subscriptions[0](n,i,a);else for(let g=0;g<w;g++){const y=this.subscriptions[g];y&&y(n,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3;function velocityPerSecond(e,n){return n?e*(1e3/n):0}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,i){for(let a=0;a<this.animations.length;a++)this.animations[a][n]=i}attachTimeline(n,i){const a=this.animations.map(w=>{if(supportsScrollTimeline()&&w.attachTimeline)return w.attachTimeline(n);if(typeof i=="function")return i(w)});return()=>{a.forEach((w,g)=>{w&&w(),this.animations[g].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let i=0;i<this.animations.length;i++)n=Math.max(n,this.animations[i].duration);return n}runAll(n){this.animations.forEach(i=>i[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(n,i){return Promise.all(this.animations).then(n).catch(i)}}function getValueTransition(e,n){return e?e[n]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let n=0;const i=50;let a=e.next(n);for(;!a.done&&n<maxGeneratorDuration;)n+=i,a=e.next(n);return n>=maxGeneratorDuration?1/0:n}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,n){e.timeline=n,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,n){const i=memo(e);return()=>{var a;return(a=supportsFlags[n])!==null&&a!==void 0?a:i()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,n,i=10)=>{let a="";const w=Math.max(Math.round(n/i),2);for(let g=0;g<w;g++)a+=e(progress(0,w-1,g))+", ";return`linear(${a.substring(0,a.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,n,i,a])=>`cubic-bezier(${e}, ${n}, ${i}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,n){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,n):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(i=>mapEasingToNativeEasing(i,n)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],statsBuffer={value:null};function createRenderStep(e,n){let i=new Set,a=new Set,w=!1,g=!1;const y=new WeakSet;let b={delta:0,timestamp:0,isProcessing:!1},d=0;function f(s){y.has(s)&&(c.schedule(s),e()),d++,s(b)}const c={schedule:(s,o=!1,u=!1)=>{const m=u&&w?i:a;return o&&y.add(s),m.has(s)||m.add(s),s},cancel:s=>{a.delete(s),y.delete(s)},process:s=>{if(b=s,w){g=!0;return}w=!0,[i,a]=[a,i],i.forEach(f),n&&statsBuffer.value&&statsBuffer.value.frameloop[n].push(d),d=0,i.clear(),w=!1,g&&(g=!1,c.process(s))}};return c}const maxElapsed=40;function createRenderBatcher(e,n){let i=!1,a=!0;const w={delta:0,timestamp:0,isProcessing:!1},g=()=>i=!0,y=stepsOrder.reduce((T,x)=>(T[x]=createRenderStep(g,n?x:void 0),T),{}),{read:b,resolveKeyframes:d,update:f,preRender:c,render:s,postRender:o}=y,u=()=>{const T=performance.now();i=!1,w.delta=a?1e3/60:Math.max(Math.min(T-w.timestamp,maxElapsed),1),w.timestamp=T,w.isProcessing=!0,b.process(w),d.process(w),f.process(w),c.process(w),s.process(w),o.process(w),w.isProcessing=!1,i&&n&&(a=!1,e(u))},h=()=>{i=!0,a=!0,w.isProcessing||e(u)};return{schedule:stepsOrder.reduce((T,x)=>{const R=y[x];return T[x]=(k,C=!1,S=!1)=>(i||h(),R.schedule(k,C,S)),T},{}),cancel:T=>{for(let x=0;x<stepsOrder.length;x++)y[stepsOrder[x]].cancel(T)},state:w,steps:y}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}},isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function resolveElements(e,n,i){var a;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let w=document;const g=(a=void 0)!==null&&a!==void 0?a:w.querySelectorAll(e);return g?Array.from(g):[]}return Array.from(e)}function setupGesture(e,n){const i=resolveElements(e),a=new AbortController,w={passive:!0,...n,signal:a.signal};return[i,w,()=>a.abort()]}function isValidHover(e){return!(e.pointerType==="touch"||isDragActive())}function hover(e,n,i={}){const[a,w,g]=setupGesture(e,i),y=b=>{if(!isValidHover(b))return;const{target:d}=b,f=n(d,b);if(typeof f!="function"||!d)return;const c=s=>{isValidHover(s)&&(f(s),d.removeEventListener("pointerleave",c))};d.addEventListener("pointerleave",c,w)};return a.forEach(b=>{b.addEventListener("pointerenter",y,w)}),g}const isNodeOrChild=(e,n)=>n?e===n?!0:isNodeOrChild(e,n.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return n=>{n.key==="Enter"&&e(n)}}function firePointerEvent(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,n)=>{const i=e.currentTarget;if(!i)return;const a=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const w=filterEvents(()=>{firePointerEvent(i,"up")}),g=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",w,n),i.addEventListener("blur",g,n)});i.addEventListener("keydown",a,n),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),n)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,n,i={}){const[a,w,g]=setupGesture(e,i),y=b=>{const d=b.currentTarget;if(!isValidPressEvent(b)||isPressing.has(d))return;isPressing.add(d);const f=n(d,b),c=(u,h)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",o),!(!isValidPressEvent(u)||!isPressing.has(d))&&(isPressing.delete(d),typeof f=="function"&&f(u,{success:h}))},s=u=>{c(u,d===window||d===document||i.useGlobalTarget||isNodeOrChild(d,u.target))},o=u=>{c(u,!1)};window.addEventListener("pointerup",s,w),window.addEventListener("pointercancel",o,w)};return a.forEach(b=>{(i.useGlobalTarget?window:b).addEventListener("pointerdown",y,w),b instanceof HTMLElement&&(b.addEventListener("focus",f=>enableKeyboardPress(f,w)),!isElementKeyboardAccessible(b)&&b.tabIndex===null&&(b.tabIndex=0))}),g}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(n,i={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,w=!0)=>{const g=time.now();this.updatedAt!==g&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),w&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=i.owner}setCurrent(n){this.current=n,this.updatedAt=time.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,i){this.events[n]||(this.events[n]=new SubscriptionManager);const a=this.events[n].add(i);return n==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,i){this.passiveEffect=n,this.stopPassiveEffect=i}set(n,i=!0){!i||!this.passiveEffect?this.updateAndNotify(n,i):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-a}jump(n,i=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(n){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=n(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,n){return new MotionValue(e,n)}const LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:n=>featureProps[e].some(i=>!!n[i])};function loadFeatures(e){for(const n in e)featureDefinitions[n]={...featureDefinitions[n],...e[n]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=n=>n.startsWith("on")?!isValidMotionProp(n):e(n))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,n,i){const a={};for(const w in e)w==="values"&&typeof e.values=="object"||(shouldForward(w)||i===!0&&isValidMotionProp(w)||!n&&!isValidMotionProp(w)||e.draggable&&w.startsWith("onDrag"))&&(a[w]=e[w]);return a}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const n=new Map,i=(...a)=>e(...a);return new Proxy(i,{get:(a,w)=>w==="create"?e:(n.has(w)||n.set(w,e(w)),n.get(w))})}const MotionContext=reactExports.createContext({});function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(n=>isVariantLabel(e[n]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,n){if(isControllingVariants(e)){const{initial:i,animate:a}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(a)?a:void 0}}return e.inherit!==!1?n:{}}function useCreateMotionContext(e){const{initial:n,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:n,animate:i}),[variantLabelsAsDependency(n),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,n,i){return reactExports.useCallback(a=>{a&&e.onMount&&e.onMount(a),n&&(a?n.mount(a):n.unmount()),i&&(typeof i=="function"?i(a):isRefObject(i)&&(i.current=a))},[n])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,n,i,a,w){var g,y;const{visualElement:b}=reactExports.useContext(MotionContext),d=reactExports.useContext(LazyContext),f=reactExports.useContext(PresenceContext),c=reactExports.useContext(MotionConfigContext).reducedMotion,s=reactExports.useRef(null);a=a||d.renderer,!s.current&&a&&(s.current=a(e,{visualState:n,parent:b,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:c}));const o=s.current,u=reactExports.useContext(SwitchLayoutGroupContext);o&&!o.projection&&w&&(o.type==="html"||o.type==="svg")&&createProjectionNode$1(s.current,i,w,u);const h=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{o&&h.current&&o.update(i,f)});const m=i[optimizedAppearDataAttribute],v=reactExports.useRef(!!m&&!(!((g=window.MotionHandoffIsComplete)===null||g===void 0)&&g.call(window,m))&&((y=window.MotionHasOptimisedAnimation)===null||y===void 0?void 0:y.call(window,m)));return useIsomorphicLayoutEffect$2(()=>{o&&(h.current=!0,window.MotionIsMounted=!0,o.updateFeatures(),microtask.render(o.render),v.current&&o.animationState&&o.animationState.animateChanges())}),reactExports.useEffect(()=>{o&&(!v.current&&o.animationState&&o.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)===null||T===void 0||T.call(window,m)}),v.current=!1))}),o}function createProjectionNode$1(e,n,i,a){const{layoutId:w,layout:g,drag:y,dragConstraints:b,layoutScroll:d,layoutRoot:f}=n;e.projection=new i(e.latestValues,n["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:w,layout:g,alwaysMeasureLayout:!!y||b&&isRefObject(b),visualElement:e,animationType:typeof g=="string"?g:"both",initialPromotionConfig:a,layoutScroll:d,layoutRoot:f})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:n,useRender:i,useVisualState:a,Component:w}){var g,y;e&&loadFeatures(e);function b(f,c){let s;const o={...reactExports.useContext(MotionConfigContext),...f,layoutId:useLayoutId(f)},{isStatic:u}=o,h=useCreateMotionContext(f),m=a(f,u);if(!u&&isBrowser){useStrictMode();const v=getProjectionFunctionality(o);s=v.MeasureLayout,h.visualElement=useVisualElement(w,m,o,n,v.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:h,children:[s&&h.visualElement?jsxRuntimeExports.jsx(s,{visualElement:h.visualElement,...o}):null,i(w,f,useMotionRef(m,h.visualElement,c),m,u,h.visualElement)]})}b.displayName=`motion.${typeof w=="string"?w:`create(${(y=(g=w.displayName)!==null&&g!==void 0?g:w.name)!==null&&y!==void 0?y:""})`}`;const d=reactExports.forwardRef(b);return d[motionComponentSymbol]=w,d}function useLayoutId({layoutId:e}){const n=reactExports.useContext(LayoutGroupContext).id;return n&&e!==void 0?n+"-"+e:e}function useStrictMode(e,n){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:n,layout:i}=featureDefinitions;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(e)||i!=null&&i.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const checkStringStartsWith=e=>n=>typeof n=="string"&&n.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,scaleCorrectors={};function addScaleCorrector(e){for(const n in e)scaleCorrectors[n]=e[n],isCSSVariableName(n)&&(scaleCorrectors[n].isCSSVariable=!0)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(e,{layout:n,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(n||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const isMotionValue=e=>!!(e&&e.getVelocity),getValueAsType=(e,n)=>n&&typeof e=="number"?n.transform(e):e,clamp=(e,n,i)=>i>n?n:i<e?e:i,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},createUnitType=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,n,i){let a="",w=!0;for(let g=0;g<numTransforms;g++){const y=transformPropOrder[g],b=e[y];if(b===void 0)continue;let d=!0;if(typeof b=="number"?d=b===(y.startsWith("scale")?1:0):d=parseFloat(b)===0,!d||i){const f=getValueAsType(b,numberValueTypes[y]);if(!d){w=!1;const c=translateAlias[y]||y;a+=`${c}(${f}) `}i&&(n[y]=f)}}return a=a.trim(),i?a=i(n,w?"":a):w&&(a="none"),a}function buildHTMLStyles(e,n,i){const{style:a,vars:w,transformOrigin:g}=e;let y=!1,b=!1;for(const d in n){const f=n[d];if(transformProps.has(d)){y=!0;continue}else if(isCSSVariableName(d)){w[d]=f;continue}else{const c=getValueAsType(f,numberValueTypes[d]);d.startsWith("origin")?(b=!0,g[d]=c):a[d]=c}}if(n.transform||(y||i?a.transform=buildTransform(n,e.transform,i):a.transform&&(a.transform="none")),b){const{originX:d="50%",originY:f="50%",originZ:c=0}=g;a.transformOrigin=`${d} ${f} ${c}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,n,i){for(const a in n)!isMotionValue(n[a])&&!isForcedMotionValue(a,i)&&(e[a]=n[a])}function useInitialMotionValues({transformTemplate:e},n){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,n,e),Object.assign({},i.vars,i.style)},[n])}function useStyle(e,n){const i=e.style||{},a={};return copyRawValuesOnly(a,i,e),Object.assign(a,useInitialMotionValues(e,n)),a}function useHTMLProps(e,n){const i={},a=useStyle(e,n);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,n,i=1,a=0,w=!0){e.pathLength=1;const g=w?dashKeys:camelKeys;e[g.offset]=px.transform(-a);const y=px.transform(n),b=px.transform(i);e[g.array]=`${y} ${b}`}function calcOrigin$1(e,n,i){return typeof e=="string"?e:px.transform(n+i*e)}function calcSVGTransformOrigin(e,n,i){const a=calcOrigin$1(n,e.x,e.width),w=calcOrigin$1(i,e.y,e.height);return`${a} ${w}`}function buildSVGAttrs(e,{attrX:n,attrY:i,attrScale:a,originX:w,originY:g,pathLength:y,pathSpacing:b=1,pathOffset:d=0,...f},c,s){if(buildHTMLStyles(e,f,s),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:o,style:u,dimensions:h}=e;o.transform&&(h&&(u.transform=o.transform),delete o.transform),h&&(w!==void 0||g!==void 0||u.transform)&&(u.transformOrigin=calcSVGTransformOrigin(h,w!==void 0?w:.5,g!==void 0?g:.5)),n!==void 0&&(o.x=n),i!==void 0&&(o.y=i),a!==void 0&&(o.scale=a),y!==void 0&&buildSVGPath(o,y,b,d,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,n,i,a){const w=reactExports.useMemo(()=>{const g=createSvgRenderState();return buildSVGAttrs(g,n,isSVGTag(a),e.transformTemplate),{...g.attrs,style:{...g.style}}},[n]);if(e.style){const g={};copyRawValuesOnly(g,e.style,e),w.style={...g,...w.style}}return w}function createUseRender(e=!1){return(i,a,w,{latestValues:g},y)=>{const d=(isSVGComponent(i)?useSVGProps:useHTMLProps)(a,g,y,i),f=filterProps(a,typeof i=="string",e),c=i!==reactExports.Fragment?{...f,...d,ref:w}:{},{children:s}=a,o=reactExports.useMemo(()=>isMotionValue(s)?s.get():s,[s]);return reactExports.createElement(i,{...c,children:o})}}function getValueState(e){const n=[{},{}];return e==null||e.values.forEach((i,a)=>{n[0][a]=i.get(),n[1][a]=i.getVelocity()}),n}function resolveVariantFromProps(e,n,i,a){if(typeof n=="function"){const[w,g]=getValueState(a);n=n(i!==void 0?i:e.custom,w,g)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[w,g]=getValueState(a);n=n(i!==void 0?i:e.custom,w,g)}return n}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e;function resolveMotionValue(e){const n=isMotionValue(e)?e.get():e;return isCustomValue(n)?n.toValue():n}function makeState({scrapeMotionValuesFromProps:e,createRenderState:n,onUpdate:i},a,w,g){const y={latestValues:makeLatestValues(a,w,g,e),renderState:n()};return i&&(y.onMount=b=>i({props:a,current:b,...y}),y.onUpdate=b=>i(b)),y}const makeUseVisualState=e=>(n,i)=>{const a=reactExports.useContext(MotionContext),w=reactExports.useContext(PresenceContext),g=()=>makeState(e,n,a,w);return i?g():useConstant(g)};function makeLatestValues(e,n,i,a){const w={},g=a(e,{});for(const o in g)w[o]=resolveMotionValue(g[o]);let{initial:y,animate:b}=e;const d=isControllingVariants(e),f=isVariantNode(e);n&&f&&!d&&e.inherit!==!1&&(y===void 0&&(y=n.initial),b===void 0&&(b=n.animate));let c=i?i.initial===!1:!1;c=c||y===!1;const s=c?b:y;if(s&&typeof s!="boolean"&&!isAnimationControls(s)){const o=Array.isArray(s)?s:[s];for(let u=0;u<o.length;u++){const h=resolveVariantFromProps(e,o[u]);if(h){const{transitionEnd:m,transition:v,...T}=h;for(const x in T){let R=T[x];if(Array.isArray(R)){const k=c?R.length-1:0;R=R[k]}R!==null&&(w[x]=R)}for(const x in m)w[x]=m[x]}}}return w}function scrapeMotionValuesFromProps$1(e,n,i){var a;const{style:w}=e,g={};for(const y in w)(isMotionValue(w[y])||n.style&&isMotionValue(n.style[y])||isForcedMotionValue(y,e)||((a=i==null?void 0:i.getValue(y))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(g[y]=w[y]);return g}const htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function updateSVGDimensions(e,n){try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}function renderHTML(e,{style:n,vars:i},a,w){Object.assign(e.style,n,w&&w.getProjectionStyles(a));for(const g in i)e.style.setProperty(g,i[g])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,n,i,a){renderHTML(e,n,void 0,a);for(const w in n.attrs)e.setAttribute(camelCaseAttributes.has(w)?w:camelToDash(w),n.attrs[w])}function scrapeMotionValuesFromProps(e,n,i){const a=scrapeMotionValuesFromProps$1(e,n,i);for(const w in e)if(isMotionValue(e[w])||isMotionValue(n[w])){const g=transformPropOrder.indexOf(w)!==-1?"attr"+w.charAt(0).toUpperCase()+w.substring(1):w;a[g]=e[w]}return a}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:n,current:i,renderState:a,latestValues:w})=>{if(!i)return;let g=!!e.drag;if(!g){for(const b in w)if(transformProps.has(b)){g=!0;break}}if(!g)return;let y=!n;if(n)for(let b=0;b<layoutProps.length;b++){const d=layoutProps[b];e[d]!==n[d]&&(y=!0)}y&&frame.read(()=>{updateSVGDimensions(i,a),frame.render(()=>{buildSVGAttrs(a,w,isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,a)})})}})};function createMotionComponentFactory(e,n){return function(a,{forwardMotionProps:w}={forwardMotionProps:!1}){const y={...isSVGComponent(a)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(w),createVisualElement:n,Component:a};return createRendererMotionComponent(y)}}function resolveVariant(e,n,i){const a=e.getProps();return resolveVariantFromProps(a,n,i!==void 0?i:a.custom,e)}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);function setMotionValue(e,n,i){e.hasValue(n)?e.getValue(n).set(i):e.addValue(n,motionValue(i))}function setTarget(e,n){const i=resolveVariant(e,n);let{transitionEnd:a={},transition:w={},...g}=i||{};g={...g,...a};for(const y in g){const b=resolveFinalValueInKeyframes(g[y]);setMotionValue(e,y,b)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,n){const i=e.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(n)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,n,i)=>(((1-3*i+3*n)*e+(3*i-6*n))*e+3*n)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,n,i,a,w){let g,y,b=0;do y=n+(i-n)/2,g=calcBezier(y,a,w)-e,g>0?i=y:n=y;while(Math.abs(g)>subdivisionPrecision&&++b<subdivisionMaxIterations);return y}function cubicBezier(e,n,i,a){if(e===n&&i===a)return noop$1;const w=g=>binarySubdivide(g,0,1,e,i);return g=>g===0||g===1?g:calcBezier(w(g),n,a)}const mirrorEasing=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,reverseEasing=e=>n=>1-e(1-n),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,n)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(e)||n&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,n)),splitColor=(e,n,i)=>a=>{if(typeof a!="string")return a;const[w,g,y,b]=a.match(floatRegex);return{[e]:parseFloat(w),[n]:parseFloat(g),[i]:parseFloat(y),alpha:b!==void 0?parseFloat(b):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:n,blue:i,alpha:a=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(a))+")"};function parseHex(e){let n="",i="",a="",w="";return e.length>5?(n=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),w=e.substring(7,9)):(n=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),w=e.substring(4,5),n+=n,i+=i,a+=a,w+=w),{red:parseInt(n,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:w?parseInt(w,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(n))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(a))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var n,i;return isNaN(e)&&typeof e=="string"&&(((n=e.match(floatRegex))===null||n===void 0?void 0:n.length)||0)+(((i=e.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const n=e.toString(),i=[],a={color:[],number:[],var:[]},w=[];let g=0;const b=n.replace(complexRegex,d=>(color.test(d)?(a.color.push(g),w.push(COLOR_TOKEN),i.push(color.parse(d))):d.startsWith(VAR_FUNCTION_TOKEN)?(a.var.push(g),w.push(VAR_TOKEN),i.push(d)):(a.number.push(g),w.push(NUMBER_TOKEN),i.push(parseFloat(d))),++g,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:b,indexes:a,types:w}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:n,types:i}=analyseComplexValue(e),a=n.length;return w=>{let g="";for(let y=0;y<a;y++)if(g+=n[y],w[y]!==void 0){const b=i[y];b===NUMBER_TOKEN?g+=sanitize(w[y]):b===COLOR_TOKEN?g+=color.transform(w[y]):g+=w[y]}return g}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const n=parseComplexValue(e);return createTransformer(e)(n.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[n,i]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[a]=i.match(floatRegex)||[];if(!a)return e;const w=i.replace(a,"");let g=maxDefaults.has(n)?1:0;return a!==i&&(g*=100),n+"("+g+w+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const n=e.match(functionRegex);return n?n.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,n){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(n):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,n,i){let a=0,w;for(;a<e.length&&!w;){const g=e[a];typeof g=="string"&&!invalidTemplates.has(g)&&analyseComplexValue(g).values.length&&(w=e[a]),a++}if(w&&i)for(const g of n)e[g]=getAnimatableNone(i,w)}const radToDeg=e=>e*180/Math.PI,rotate=e=>{const n=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(n)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate,rotateZ:rotate,skewX:e=>radToDeg(Math.atan(e[1])),skewY:e=>radToDeg(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rebaseAngle=e=>(e=e%360,e<0&&(e+=360),e),rotateZ=rotate,scaleX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:e=>(scaleX(e)+scaleY(e))/2,rotateX:e=>rebaseAngle(radToDeg(Math.atan2(e[6],e[5]))),rotateY:e=>rebaseAngle(radToDeg(Math.atan2(-e[2],e[0]))),rotateZ,rotate:rotateZ,skewX:e=>radToDeg(Math.atan(e[4])),skewY:e=>radToDeg(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,n){if(!e||e==="none")return defaultTransformValue(n);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,w;if(i)a=matrix3dParsers,w=i;else{const b=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=matrix2dParsers,w=b}if(!w)return defaultTransformValue(n);const g=a[n],y=w[1].split(",").map(convertTransformToNumber);return typeof g=="function"?g(y):y[g]}const readTransformValue=(e,n)=>{const{transform:i="none"}=getComputedStyle(e);return parseValueFromTransform(i,n)};function convertTransformToNumber(e){return parseFloat(e.trim())}const isNumOrPxType=e=>e===number||e===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const n=[];return nonTranslationalTransformKeys.forEach(i=>{const a=e.getValue(i);a!==void 0&&(n.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),n}const positionalValues={width:({x:e},{paddingLeft:n="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(n)-parseFloat(i),height:({y:e},{paddingTop:n="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(n)-parseFloat(i),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>parseValueFromTransform(n,"x"),y:(e,{transform:n})=>parseValueFromTransform(n,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(a=>a.needsMeasurement),n=new Set(e.map(a=>a.element)),i=new Map;n.forEach(a=>{const w=removeNonTranslationalTransform(a);w.length&&(i.set(a,w),a.render())}),e.forEach(a=>a.measureInitialState()),n.forEach(a=>{a.render();const w=i.get(a);w&&w.forEach(([g,y])=>{var b;(b=a.getValue(g))===null||b===void 0||b.set(y)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(n,i,a,w,g,y=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=i,this.name=a,this.motionValue=w,this.element=g,this.isAsync=y}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:i,element:a,motionValue:w}=this;for(let g=0;g<n.length;g++)if(n[g]===null)if(g===0){const y=w==null?void 0:w.get(),b=n[n.length-1];if(y!==void 0)n[0]=y;else if(a&&i){const d=a.readValue(i,b);d!=null&&(n[0]=d)}n[0]===void 0&&(n[0]=b),w&&y===void 0&&w.set(n[0])}else n[g]=n[g-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const n=splitCSSVariableRegex.exec(e);if(!n)return[,];const[,i,a,w]=n;return[`--${i??a}`,w]}function getVariableValue(e,n,i=1){const[a,w]=parseCSSVariable(e);if(!a)return;const g=window.getComputedStyle(n).getPropertyValue(a);if(g){const y=g.trim();return isNumericalString(y)?parseFloat(y):y}return isCSSVariableToken(w)?getVariableValue(w,n,i+1):w}const testValueType=e=>n=>n.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(n,i,a,w,g){super(n,i,a,w,g,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<n.length;d++){let f=n[d];if(typeof f=="string"&&(f=f.trim(),isCSSVariableToken(f))){const c=getVariableValue(f,i.current);c!==void 0&&(n[d]=c),d===n.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(a)||n.length!==2)return;const[w,g]=n,y=findDimensionValueType(w),b=findDimensionValueType(g);if(y!==b)if(isNumOrPxType(y)&&isNumOrPxType(b))for(let d=0;d<n.length;d++){const f=n[d];typeof f=="string"&&(n[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:i}=this,a=[];for(let w=0;w<n.length;w++)isNone(n[w])&&a.push(w);a.length&&makeNoneKeyframesAnimatable(n,a,i)}measureInitialState(){const{element:n,unresolvedKeyframes:i,name:a}=this;if(!n||!n.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[a](n.measureViewportBox(),window.getComputedStyle(n.current)),i[0]=this.measuredOrigin;const w=i[i.length-1];w!==void 0&&n.getValue(a,w).jump(w,!1)}measureEndState(){var n;const{element:i,name:a,unresolvedKeyframes:w}=this;if(!i||!i.current)return;const g=i.getValue(a);g&&g.jump(this.measuredOrigin,!1);const y=w.length-1,b=w[y];w[y]=positionalValues[a](i.measureViewportBox(),window.getComputedStyle(i.current)),b!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=b),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([d,f])=>{i.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const n=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}function canAnimate(e,n,i,a){const w=e[0];if(w===null)return!1;if(n==="display"||n==="visibility")return!0;const g=e[e.length-1],y=isAnimatable(w,n),b=isAnimatable(g,n);return!y||!b?!1:hasKeyframesChanged(e)||(i==="spring"||isGenerator(i))&&a}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:n,repeatType:i="loop"},a){const w=e.filter(isNotNull),g=n&&i!=="loop"&&n%2===1?0:w.length-1;return!g||a===void 0?w[g]:a}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:n=!0,delay:i=0,type:a="keyframes",repeat:w=0,repeatDelay:g=0,repeatType:y="loop",...b}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:n,delay:i,type:a,repeat:w,repeatDelay:g,repeatType:y,...b},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(n,i){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:a,type:w,velocity:g,delay:y,onComplete:b,onUpdate:d,isGenerator:f}=this.options;if(!f&&!canAnimate(n,a,w,g))if(y)this.options.duration=0;else{d&&d(getFinalKeyframe(n,this.options,i)),b&&b(),this.resolveFinishedPromise();return}const c=this.initPlayback(n,i);c!==!1&&(this._resolved={keyframes:n,finalKeyframe:i,...c},this.onPostResolved())}onPostResolved(){}then(n,i){return this.currentFinishedPromise.then(n,i)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const mixNumber$1=(e,n,i)=>e+(n-e)*i;function hueToRgb(e,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(n-e)*6*i:i<1/2?n:i<2/3?e+(n-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:n,lightness:i,alpha:a}){e/=360,n/=100,i/=100;let w=0,g=0,y=0;if(!n)w=g=y=i;else{const b=i<.5?i*(1+n):i+n-i*n,d=2*i-b;w=hueToRgb(d,b,e+1/3),g=hueToRgb(d,b,e),y=hueToRgb(d,b,e-1/3)}return{red:Math.round(w*255),green:Math.round(g*255),blue:Math.round(y*255),alpha:a}}function mixImmediate(e,n){return i=>i>0?n:e}const mixLinearColor=(e,n,i)=>{const a=e*e,w=i*(n*n-a)+a;return w<0?0:Math.sqrt(w)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(n=>n.test(e));function asRGBA(e){const n=getColorType(e);if(!n)return!1;let i=n.parse(e);return n===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,n)=>{const i=asRGBA(e),a=asRGBA(n);if(!i||!a)return mixImmediate(e,n);const w={...i};return g=>(w.red=mixLinearColor(i.red,a.red,g),w.green=mixLinearColor(i.green,a.green,g),w.blue=mixLinearColor(i.blue,a.blue,g),w.alpha=mixNumber$1(i.alpha,a.alpha,g),rgba.transform(w))},combineFunctions=(e,n)=>i=>n(e(i)),pipe$1=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,n){return invisibleValues.has(e)?i=>i<=0?e:n:i=>i>=1?n:e}function mixNumber(e,n){return i=>mixNumber$1(e,n,i)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,n){const i=[...e],a=i.length,w=e.map((g,y)=>getMixer(g)(g,n[y]));return g=>{for(let y=0;y<a;y++)i[y]=w[y](g);return i}}function mixObject(e,n){const i={...e,...n},a={};for(const w in i)e[w]!==void 0&&n[w]!==void 0&&(a[w]=getMixer(e[w])(e[w],n[w]));return w=>{for(const g in a)i[g]=a[g](w);return i}}function matchOrder(e,n){var i;const a=[],w={color:0,var:0,number:0};for(let g=0;g<n.values.length;g++){const y=n.types[g],b=e.indexes[y][w[y]],d=(i=e.values[b])!==null&&i!==void 0?i:0;a[g]=d,w[y]++}return a}const mixComplex=(e,n)=>{const i=complex.createTransformer(n),a=analyseComplexValue(e),w=analyseComplexValue(n);return a.indexes.var.length===w.indexes.var.length&&a.indexes.color.length===w.indexes.color.length&&a.indexes.number.length>=w.indexes.number.length?invisibleValues.has(e)&&!w.values.length||invisibleValues.has(n)&&!a.values.length?mixVisibility(e,n):pipe$1(mixArray(matchOrder(a,w),w.values),i):mixImmediate(e,n)};function mix(e,n,i){return typeof e=="number"&&typeof n=="number"&&typeof i=="number"?mixNumber$1(e,n,i):getMixer(e)(e,n)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,n,i){const a=Math.max(n-velocitySampleDuration,0);return velocityPerSecond(i-e(a),n-a)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:n=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:a=springDefaults.mass}){let w,g,y=1-n;y=clamp(springDefaults.minDamping,springDefaults.maxDamping,y),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),y<1?(w=f=>{const c=f*y,s=c*e,o=c-i,u=calcAngularFreq(f,y),h=Math.exp(-s);return safeMin-o/u*h},g=f=>{const s=f*y*e,o=s*i+i,u=Math.pow(y,2)*Math.pow(f,2)*e,h=Math.exp(-s),m=calcAngularFreq(Math.pow(f,2),y);return(-w(f)+safeMin>0?-1:1)*((o-u)*h)/m}):(w=f=>{const c=Math.exp(-f*e),s=(f-i)*e+1;return-.001+c*s},g=f=>{const c=Math.exp(-f*e),s=(i-f)*(e*e);return c*s});const b=5/e,d=approximateRoot(w,g,b);if(e=secondsToMilliseconds(e),isNaN(d))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const f=Math.pow(d,2)*a;return{stiffness:f,damping:y*2*Math.sqrt(a*f),duration:e}}}const rootIterations=12;function approximateRoot(e,n,i){let a=i;for(let w=1;w<rootIterations;w++)a=a-e(a)/n(a);return a}function calcAngularFreq(e,n){return e*Math.sqrt(1-n*n)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,n){return n.some(i=>e[i]!==void 0)}function getSpringOptions(e){let n={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const i=e.visualDuration,a=2*Math.PI/(i*1.2),w=a*a,g=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(w);n={...n,mass:springDefaults.mass,stiffness:w,damping:g}}else{const i=findSpring(e);n={...n,...i,mass:springDefaults.mass},n.isResolvedFromDuration=!0}return n}function spring(e=springDefaults.visualDuration,n=springDefaults.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:a,restDelta:w}=i;const g=i.keyframes[0],y=i.keyframes[i.keyframes.length-1],b={done:!1,value:g},{stiffness:d,damping:f,mass:c,duration:s,velocity:o,isResolvedFromDuration:u}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),h=o||0,m=f/(2*Math.sqrt(d*c)),v=y-g,T=millisecondsToSeconds(Math.sqrt(d/c)),x=Math.abs(v)<5;a||(a=x?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),w||(w=x?springDefaults.restDelta.granular:springDefaults.restDelta.default);let R;if(m<1){const C=calcAngularFreq(T,m);R=S=>{const N=Math.exp(-m*T*S);return y-N*((h+m*T*v)/C*Math.sin(C*S)+v*Math.cos(C*S))}}else if(m===1)R=C=>y-Math.exp(-T*C)*(v+(h+T*v)*C);else{const C=T*Math.sqrt(m*m-1);R=S=>{const N=Math.exp(-m*T*S),L=Math.min(C*S,300);return y-N*((h+m*T*v)*Math.sinh(L)+C*v*Math.cosh(L))/C}}const k={calculatedDuration:u&&s||null,next:C=>{const S=R(C);if(u)b.done=C>=s;else{let N=0;m<1&&(N=C===0?secondsToMilliseconds(h):calcGeneratorVelocity(R,C,S));const L=Math.abs(N)<=a,A=Math.abs(y-S)<=w;b.done=L&&A}return b.value=b.done?y:S,b},toString:()=>{const C=Math.min(calcGeneratorDuration(k),maxGeneratorDuration),S=generateLinearEasing(N=>k.next(C*N).value,C,30);return C+"ms "+S}};return k}function inertia({keyframes:e,velocity:n=0,power:i=.8,timeConstant:a=325,bounceDamping:w=10,bounceStiffness:g=500,modifyTarget:y,min:b,max:d,restDelta:f=.5,restSpeed:c}){const s=e[0],o={done:!1,value:s},u=L=>b!==void 0&&L<b||d!==void 0&&L>d,h=L=>b===void 0?d:d===void 0||Math.abs(b-L)<Math.abs(d-L)?b:d;let m=i*n;const v=s+m,T=y===void 0?v:y(v);T!==v&&(m=T-s);const x=L=>-m*Math.exp(-L/a),R=L=>T+x(L),k=L=>{const A=x(L),$=R(L);o.done=Math.abs(A)<=f,o.value=o.done?T:$};let C,S;const N=L=>{u(o.value)&&(C=L,S=spring({keyframes:[o.value,h(o.value)],velocity:calcGeneratorVelocity(R,L,o.value),damping:w,stiffness:g,restDelta:f,restSpeed:c}))};return N(0),{calculatedDuration:null,next:L=>{let A=!1;return!S&&C===void 0&&(A=!0,k(L),N(L)),C!==void 0&&L>=C?S.next(L-C):(!A&&k(L),o)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant(e.length===4);const[n,i,a,w]=e;return cubicBezier(n,i,a,w)}else if(typeof e=="string")return easingLookup[e];return e};function createMixers(e,n,i){const a=[],w=i||mix,g=e.length-1;for(let y=0;y<g;y++){let b=w(e[y],e[y+1]);if(n){const d=Array.isArray(n)?n[y]||noop$1:n;b=pipe$1(d,b)}a.push(b)}return a}function interpolate(e,n,{clamp:i=!0,ease:a,mixer:w}={}){const g=e.length;if(invariant(g===n.length),g===1)return()=>n[0];if(g===2&&n[0]===n[1])return()=>n[1];const y=e[0]===e[1];e[0]>e[g-1]&&(e=[...e].reverse(),n=[...n].reverse());const b=createMixers(n,a,w),d=b.length,f=c=>{if(y&&c<e[0])return n[0];let s=0;if(d>1)for(;s<e.length-2&&!(c<e[s+1]);s++);const o=progress(e[s],e[s+1],c);return b[s](o)};return i?c=>f(clamp(e[0],e[g-1],c)):f}function fillOffset(e,n){const i=e[e.length-1];for(let a=1;a<=n;a++){const w=progress(0,n,a);e.push(mixNumber$1(i,1,w))}}function defaultOffset(e){const n=[0];return fillOffset(n,e.length-1),n}function convertOffsetToTimes(e,n){return e.map(i=>i*n)}function defaultEasing(e,n){return e.map(()=>n||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:n,times:i,ease:a="easeInOut"}){const w=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),g={done:!1,value:n[0]},y=convertOffsetToTimes(i&&i.length===n.length?i:defaultOffset(n),e),b=interpolate(y,n,{ease:Array.isArray(w)?w:defaultEasing(n,w)});return{calculatedDuration:e,next:d=>(g.value=b(d),g.done=d>=e,g)}}const frameloopDriver=e=>{const n=({timestamp:i})=>e(i);return{start:()=>frame.update(n,!0),stop:()=>cancelFrame(n),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:i,motionValue:a,element:w,keyframes:g}=this.options,y=(w==null?void 0:w.KeyframeResolver)||KeyframeResolver,b=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new y(g,b,i,a,w),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:i="keyframes",repeat:a=0,repeatDelay:w=0,repeatType:g,velocity:y=0}=this.options,b=isGenerator(i)?i:generators[i]||keyframes;let d,f;b!==keyframes&&typeof n[0]!="number"&&(d=pipe$1(percentToProgress,mix(n[0],n[1])),n=[0,100]);const c=b({...this.options,keyframes:n});g==="mirror"&&(f=b({...this.options,keyframes:[...n].reverse(),velocity:-y})),c.calculatedDuration===null&&(c.calculatedDuration=calcGeneratorDuration(c));const{calculatedDuration:s}=c,o=s+w,u=o*(a+1)-w;return{generator:c,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:s,resolvedDuration:o,totalDuration:u}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,i=!1){const{resolved:a}=this;if(!a){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:w,generator:g,mirroredGenerator:y,mapPercentToKeyframes:b,keyframes:d,calculatedDuration:f,totalDuration:c,resolvedDuration:s}=a;if(this.startTime===null)return g.next(0);const{delay:o,repeat:u,repeatType:h,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-c/this.speed,this.startTime)),i?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const T=this.currentTime-o*(this.speed>=0?1:-1),x=this.speed>=0?T<0:T>c;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let R=this.currentTime,k=g;if(u){const L=Math.min(this.currentTime,c)/s;let A=Math.floor(L),$=L%1;!$&&L>=1&&($=1),$===1&&A--,A=Math.min(A,u+1),!!(A%2)&&(h==="reverse"?($=1-$,m&&($-=m/s)):h==="mirror"&&(k=y)),R=clamp(0,1,$)*s}const C=x?{done:!1,value:d[0]}:k.next(R);b&&(C.value=b(C.value));let{done:S}=C;!x&&f!==null&&(S=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&w!==void 0&&(C.value=getFinalKeyframe(d,this.options,w)),v&&v(C.value),N&&this.finish(),C}get duration(){const{resolved:n}=this;return n?millisecondsToSeconds(n.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(n){n=secondsToMilliseconds(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const i=this.playbackSpeed!==n;this.playbackSpeed=n,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=frameloopDriver,onPlay:i,startTime:a}=this.options;this.driver||(this.driver=n(g=>this.tick(g))),i&&i();const w=this.driver.now();this.holdTime!==null?this.startTime=w-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=w):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,n,i,{delay:a=0,duration:w=300,repeat:g=0,repeatType:y="loop",ease:b="easeInOut",times:d}={}){const f={[n]:i};d&&(f.offset=d);const c=mapEasingToNativeEasing(b,w);return Array.isArray(c)&&(f.easing=c),e.animate(f,{delay:a,duration:w,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:g+1,direction:y==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,n){const i=new MainThreadAnimation({...n,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const w=[];let g=0;for(;!a.done&&g<maxDuration;)a=i.sample(g),w.push(a.value),g+=sampleDelta;return{times:void 0,keyframes:w,duration:g-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(n){super(n);const{name:i,motionValue:a,element:w,keyframes:g}=this.options;this.resolver=new DOMKeyframesResolver(g,(y,b)=>this.onKeyframesResolved(y,b),i,a,w),this.resolver.scheduleResolve()}initPlayback(n,i){let{duration:a=300,times:w,ease:g,type:y,motionValue:b,name:d,startTime:f}=this.options;if(!b.owner||!b.owner.current)return!1;if(typeof g=="string"&&supportsLinearEasing()&&isUnsupportedEase(g)&&(g=unsupportedEasingFunctions[g]),requiresPregeneratedKeyframes(this.options)){const{onComplete:s,onUpdate:o,motionValue:u,element:h,...m}=this.options,v=pregenerateKeyframes(n,m);n=v.keyframes,n.length===1&&(n[1]=n[0]),a=v.duration,w=v.times,g=v.ease,y="keyframes"}const c=startWaapiAnimation(b.owner.current,d,n,{...this.options,duration:a,times:w,ease:g});return c.startTime=f??this.calcStartTime(),this.pendingTimeline?(attachTimeline(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:s}=this.options;b.set(getFinalKeyframe(n,this.options,i)),s&&s(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:a,times:w,type:y,ease:g,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:i}=n;return millisecondsToSeconds(i)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:i}=n;return millisecondsToSeconds(i.currentTime||0)}set time(n){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.currentTime=secondsToMilliseconds(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:i}=n;return i.playbackRate}set speed(n){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:i}=n;return i.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:i}=n;return i.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:i}=this;if(!i)return noop$1;const{animation:a}=i;attachTimeline(a,n)}return noop$1}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:i,keyframes:a,duration:w,type:g,ease:y,times:b}=n;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:c,onComplete:s,element:o,...u}=this.options,h=new MainThreadAnimation({...u,keyframes:a,duration:w,type:g,ease:y,times:b,isGenerator:!0}),m=secondsToMilliseconds(this.time);f.setWithVelocity(h.sample(m-sampleDelta).value,h.sample(m).value,sampleDelta)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:i,name:a,repeatDelay:w,repeatType:g,damping:y,type:b}=n;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=i.owner.getProps();return supportsWaapi()&&a&&acceleratedValues.has(a)&&(a!=="transform"||!f)&&!d&&!w&&g!=="mirror"&&y!==0&&b!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:n})=>n.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(n[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:n,delayChildren:i,staggerChildren:a,staggerDirection:w,repeat:g,repeatType:y,repeatDelay:b,from:d,elapsed:f,...c}){return!!Object.keys(c).length}const animateMotionValue=(e,n,i,a={},w,g)=>y=>{const b=getValueTransition(a,e)||{},d=b.delay||a.delay||0;let{elapsed:f=0}=a;f=f-secondsToMilliseconds(d);let c={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:n.getVelocity(),...b,delay:-f,onUpdate:o=>{n.set(o),b.onUpdate&&b.onUpdate(o)},onComplete:()=>{y(),b.onComplete&&b.onComplete()},name:e,motionValue:n,element:g?void 0:w};isTransitionDefined(b)||(c={...c,...getDefaultTransition(e,c)}),c.duration&&(c.duration=secondsToMilliseconds(c.duration)),c.repeatDelay&&(c.repeatDelay=secondsToMilliseconds(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let s=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(s=!0)),c.allowFlatten=!b.type&&!b.ease,s&&!g&&n.get()!==void 0){const o=getFinalKeyframe(c.keyframes,b);if(o!==void 0)return frame.update(()=>{c.onUpdate(o),c.onComplete()}),new GroupPlaybackControls([])}return!g&&AcceleratedAnimation.supports(c)?new AcceleratedAnimation(c):new MainThreadAnimation(c)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:n},i){const a=e.hasOwnProperty(i)&&n[i]!==!0;return n[i]=!1,a}function animateTarget(e,n,{delay:i=0,transitionOverride:a,type:w}={}){var g;let{transition:y=e.getDefaultTransition(),transitionEnd:b,...d}=n;a&&(y=a);const f=[],c=w&&e.animationState&&e.animationState.getState()[w];for(const s in d){const o=e.getValue(s,(g=e.latestValues[s])!==null&&g!==void 0?g:null),u=d[s];if(u===void 0||c&&shouldBlockAnimation(c,s))continue;const h={delay:i,...getValueTransition(y||{},s)};let m=!1;if(window.MotionHandoffAnimation){const T=getOptimisedAppearId(e);if(T){const x=window.MotionHandoffAnimation(T,s,frame);x!==null&&(h.startTime=x,m=!0)}}addValueToWillChange(e,s),o.start(animateMotionValue(s,o,u,e.shouldReduceMotion&&positionalKeys.has(s)?{type:!1}:h,e,m));const v=o.animation;v&&f.push(v)}return b&&Promise.all(f).then(()=>{frame.update(()=>{b&&setTarget(e,b)})}),f}function animateVariant(e,n,i={}){var a;const w=resolveVariant(e,n,i.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:g=e.getDefaultTransition()||{}}=w||{};i.transitionOverride&&(g=i.transitionOverride);const y=w?()=>Promise.all(animateTarget(e,w,i)):()=>Promise.resolve(),b=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:c=0,staggerChildren:s,staggerDirection:o}=g;return animateChildren(e,n,c+f,s,o,i)}:()=>Promise.resolve(),{when:d}=g;if(d){const[f,c]=d==="beforeChildren"?[y,b]:[b,y];return f().then(()=>c())}else return Promise.all([y(),b(i.delay)])}function animateChildren(e,n,i=0,a=0,w=1,g){const y=[],b=(e.variantChildren.size-1)*a,d=w===1?(f=0)=>f*a:(f=0)=>b-f*a;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((f,c)=>{f.notify("AnimationStart",n),y.push(animateVariant(f,n,{...g,delay:i+d(c)}).then(()=>f.notify("AnimationComplete",n)))}),Promise.all(y)}function sortByTreeOrder(e,n){return e.sortNodePosition(n)}function animateVisualElement(e,n,i={}){e.notify("AnimationStart",n);let a;if(Array.isArray(n)){const w=n.map(g=>animateVariant(e,g,i));a=Promise.all(w)}else if(typeof n=="string")a=animateVariant(e,n,i);else{const w=typeof n=="function"?resolveVariant(e,n,i.custom):n;a=Promise.all(animateTarget(e,w,i))}return a.then(()=>{e.notify("AnimationComplete",n)})}function shallowCompare(e,n){if(!Array.isArray(n))return!1;const i=n.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(n[a]!==e[a])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const n={};for(let i=0;i<numVariantProps;i++){const a=variantProps[i],w=e.props[a];(isVariantLabel(w)||w===!1)&&(n[a]=w)}return n}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return n=>Promise.all(n.map(({animation:i,options:a})=>animateVisualElement(e,i,a)))}function createAnimationState(e){let n=animateList(e),i=createState(),a=!0;const w=d=>(f,c)=>{var s;const o=resolveVariant(e,c,d==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);if(o){const{transition:u,transitionEnd:h,...m}=o;f={...f,...m,...h}}return f};function g(d){n=d(e)}function y(d){const{props:f}=e,c=getVariantContext(e.parent)||{},s=[],o=new Set;let u={},h=1/0;for(let v=0;v<numAnimationTypes;v++){const T=reversePriorityOrder[v],x=i[T],R=f[T]!==void 0?f[T]:c[T],k=isVariantLabel(R),C=T===d?x.isActive:null;C===!1&&(h=v);let S=R===c[T]&&R!==f[T]&&k;if(S&&a&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...u},!x.isActive&&C===null||!R&&!x.prevProp||isAnimationControls(R)||typeof R=="boolean")continue;const N=checkVariantsDidChange(x.prevProp,R);let L=N||T===d&&x.isActive&&!S&&k||v>h&&k,A=!1;const $=Array.isArray(R)?R:[R];let O=$.reduce(w(T),{});C===!1&&(O={});const{prevResolvedValues:B={}}=x,z={...B,...O},F=q=>{L=!0,o.has(q)&&(A=!0,o.delete(q)),x.needsAnimating[q]=!0;const K=e.getValue(q);K&&(K.liveStyle=!1)};for(const q in z){const K=O[q],Q=B[q];if(u.hasOwnProperty(q))continue;let X=!1;isKeyframesTarget(K)&&isKeyframesTarget(Q)?X=!shallowCompare(K,Q):X=K!==Q,X?K!=null?F(q):o.add(q):K!==void 0&&o.has(q)?F(q):x.protectedKeys[q]=!0}x.prevProp=R,x.prevResolvedValues=O,x.isActive&&(u={...u,...O}),a&&e.blockInitialAnimation&&(L=!1),L&&(!(S&&N)||A)&&s.push(...$.map(q=>({animation:q,options:{type:T}})))}if(o.size){const v={};if(typeof f.initial!="boolean"){const T=resolveVariant(e,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(v.transition=T.transition)}o.forEach(T=>{const x=e.getBaseTarget(T),R=e.getValue(T);R&&(R.liveStyle=!0),v[T]=x??null}),s.push({animation:v})}let m=!!s.length;return a&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(m=!1),a=!1,m?n(s):Promise.resolve()}function b(d,f){var c;if(i[d].isActive===f)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(o=>{var u;return(u=o.animationState)===null||u===void 0?void 0:u.setActive(d,f)}),i[d].isActive=f;const s=y(d);for(const o in i)i[o].protectedKeys={};return s}return{animateChanges:y,setActive:b,setAnimateFunction:g,getState:()=>i,reset:()=>{i=createState(),a=!0}}}function checkVariantsDidChange(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!shallowCompare(n,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(n){this.isMounted=!1,this.node=n}update(){}}class AnimationFeature extends Feature{constructor(n){super(n),n.animationState||(n.animationState=createAnimationState(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();isAnimationControls(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:i}=this.node.prevProps||{};n!==i&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===a)return;const w=this.node.animationState.setActive("exit",!n);i&&!n&&w.then(()=>{i(this.id)})}mount(){const{register:n,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,n,i,a={passive:!0}){return e.addEventListener(n,i,a),()=>e.removeEventListener(n,i)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>n=>isPrimaryPointer(n)&&e(n,extractEventInfo(n));function addPointerEvent(e,n,i,a){return addDomEvent(e,n,addPointerInfo(i),a)}function convertBoundingBoxToBox({top:e,left:n,right:i,bottom:a}){return{x:{min:n,max:i},y:{min:e,max:a}}}function convertBoxToBoundingBox({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function transformBoxPoints(e,n){if(!n)return e;const i=n({x:e.left,y:e.top}),a=n({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,n,i){return Math.abs(e-n)<=i}function calcAxisDelta(e,n,i,a=.5){e.origin=a,e.originPoint=mixNumber$1(n.min,n.max,e.origin),e.scale=calcLength(i)/calcLength(n),e.translate=mixNumber$1(i.min,i.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,n,i,a){calcAxisDelta(e.x,n.x,i.x,a?a.originX:void 0),calcAxisDelta(e.y,n.y,i.y,a?a.originY:void 0)}function calcRelativeAxis(e,n,i){e.min=i.min+n.min,e.max=e.min+calcLength(n)}function calcRelativeBox(e,n,i){calcRelativeAxis(e.x,n.x,i.x),calcRelativeAxis(e.y,n.y,i.y)}function calcRelativeAxisPosition(e,n,i){e.min=n.min-i.min,e.max=e.min+calcLength(n)}function calcRelativePosition(e,n,i){calcRelativeAxisPosition(e.x,n.x,i.x),calcRelativeAxisPosition(e.y,n.y,i.y)}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:n,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(n)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,n,i){const a=e-i,w=n*a;return i+w}function applyPointDelta(e,n,i,a,w){return w!==void 0&&(e=scalePoint(e,w,a)),scalePoint(e,i,a)+n}function applyAxisDelta(e,n=0,i=1,a,w){e.min=applyPointDelta(e.min,n,i,a,w),e.max=applyPointDelta(e.max,n,i,a,w)}function applyBoxDelta(e,{x:n,y:i}){applyAxisDelta(e.x,n.translate,n.scale,n.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,n,i,a=!1){const w=i.length;if(!w)return;n.x=n.y=1;let g,y;for(let b=0;b<w;b++){g=i[b],y=g.projectionDelta;const{visualElement:d}=g.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&g.options.layoutScroll&&g.scroll&&g!==g.root&&transformBox(e,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),y&&(n.x*=y.x.scale,n.y*=y.y.scale,applyBoxDelta(e,y)),a&&hasTransform(g.latestValues)&&transformBox(e,g.latestValues))}n.x<TREE_SCALE_SNAP_MAX&&n.x>TREE_SCALE_SNAP_MIN&&(n.x=1),n.y<TREE_SCALE_SNAP_MAX&&n.y>TREE_SCALE_SNAP_MIN&&(n.y=1)}function translateAxis(e,n){e.min=e.min+n,e.max=e.max+n}function transformAxis(e,n,i,a,w=.5){const g=mixNumber$1(e.min,e.max,w);applyAxisDelta(e,n,i,g,a)}function transformBox(e,n){transformAxis(e.x,n.x,n.scaleX,n.scale,n.originX),transformAxis(e.y,n.y,n.scaleY,n.scale,n.originY)}function measureViewportBox(e,n){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),n))}function measurePageBox(e,n,i){const a=measureViewportBox(e,i),{scroll:w}=n;return w&&(translateAxis(a.x,w.offset.x),translateAxis(a.y,w.offset.y)),a}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,distance=(e,n)=>Math.abs(e-n);function distance2D(e,n){const i=distance(e.x,n.x),a=distance(e.y,n.y);return Math.sqrt(i**2+a**2)}class PanSession{constructor(n,i,{transformPagePoint:a,contextWindow:w,dragSnapToOrigin:g=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const s=getPanInfo(this.lastMoveEventInfo,this.history),o=this.startEvent!==null,u=distance2D(s.offset,{x:0,y:0})>=3;if(!o&&!u)return;const{point:h}=s,{timestamp:m}=frameData;this.history.push({...h,timestamp:m});const{onStart:v,onMove:T}=this.handlers;o||(v&&v(this.lastMoveEvent,s),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,s)},this.handlePointerMove=(s,o)=>{this.lastMoveEvent=s,this.lastMoveEventInfo=transformPoint(o,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(s,o)=>{this.end();const{onEnd:u,onSessionEnd:h,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=getPanInfo(s.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(o,this.transformPagePoint),this.history);this.startEvent&&u&&u(s,v),h&&h(s,v)},!isPrimaryPointer(n))return;this.dragSnapToOrigin=g,this.handlers=i,this.transformPagePoint=a,this.contextWindow=w||window;const y=extractEventInfo(n),b=transformPoint(y,this.transformPagePoint),{point:d}=b,{timestamp:f}=frameData;this.history=[{...d,timestamp:f}];const{onSessionStart:c}=i;c&&c(n,getPanInfo(b,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,n){return n?{point:n(e.point)}:e}function subtractPoint(e,n){return{x:e.x-n.x,y:e.y-n.y}}function getPanInfo({point:e},n){return{point:e,delta:subtractPoint(e,lastDevicePoint(n)),offset:subtractPoint(e,startDevicePoint(n)),velocity:getVelocity(n,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,n){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const w=lastDevicePoint(e);for(;i>=0&&(a=e[i],!(w.timestamp-a.timestamp>secondsToMilliseconds(n)));)i--;if(!a)return{x:0,y:0};const g=millisecondsToSeconds(w.timestamp-a.timestamp);if(g===0)return{x:0,y:0};const y={x:(w.x-a.x)/g,y:(w.y-a.y)/g};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function applyConstraints(e,{min:n,max:i},a){return n!==void 0&&e<n?e=a?mixNumber$1(n,e,a.min):Math.max(e,n):i!==void 0&&e>i&&(e=a?mixNumber$1(i,e,a.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,n,i){return{min:n!==void 0?e.min+n:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:n,left:i,bottom:a,right:w}){return{x:calcRelativeAxisConstraints(e.x,i,w),y:calcRelativeAxisConstraints(e.y,n,a)}}function calcViewportAxisConstraints(e,n){let i=n.min-e.min,a=n.max-e.max;return n.max-n.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function calcViewportConstraints(e,n){return{x:calcViewportAxisConstraints(e.x,n.x),y:calcViewportAxisConstraints(e.y,n.y)}}function calcOrigin(e,n){let i=.5;const a=calcLength(e),w=calcLength(n);return w>a?i=progress(n.min,n.max-a,e.min):a>w&&(i=progress(e.min,e.max-w,n.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,n){const i={};return n.min!==void 0&&(i.min=n.min-e.min),n.max!==void 0&&(i.max=n.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,n,i){return{min:resolvePointElastic(e,n),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,n){return typeof e=="number"?e:e[n]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=n}start(n,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const w=c=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(c).point)},g=(c,s)=>{const{drag:o,dragPropagation:u,onDragStart:h}=this.getProps();if(o&&!u&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(o),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(v=>{let T=this.getAxisMotionValue(v).get()||0;if(percent.test(T)){const{projection:x}=this.visualElement;if(x&&x.layout){const R=x.layout.layoutBox[v];R&&(T=calcLength(R)*(parseFloat(T)/100))}}this.originPoint[v]=T}),h&&frame.postRender(()=>h(c,s)),addValueToWillChange(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},y=(c,s)=>{const{dragPropagation:o,dragDirectionLock:u,onDirectionLock:h,onDrag:m}=this.getProps();if(!o&&!this.openDragLock)return;const{offset:v}=s;if(u&&this.currentDirection===null){this.currentDirection=getCurrentDirection(v),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",s.point,v),this.updateAxis("y",s.point,v),this.visualElement.render(),m&&m(c,s)},b=(c,s)=>this.stop(c,s),d=()=>eachAxis(c=>{var s;return this.getAnimationState(c)==="paused"&&((s=this.getAxisMotionValue(c).animation)===null||s===void 0?void 0:s.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new PanSession(n,{onSessionStart:w,onStart:g,onMove:y,onSessionEnd:b,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:getContextWindow(this.visualElement)})}stop(n,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:w}=i;this.startAnimation(w);const{onDragEnd:g}=this.getProps();g&&frame.postRender(()=>g(n,i))}cancel(){this.isDragging=!1;const{projection:n,animationState:i}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(n,i,a){const{drag:w}=this.getProps();if(!a||!shouldDrag(n,w,this.currentDirection))return;const g=this.getAxisMotionValue(n);let y=this.originPoint[n]+a[n];this.constraints&&this.constraints[n]&&(y=applyConstraints(y,this.constraints[n],this.elastic[n])),g.set(y)}resolveConstraints(){var n;const{dragConstraints:i,dragElastic:a}=this.getProps(),w=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,g=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&w?this.constraints=calcRelativeConstraints(w.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(a),g!==this.constraints&&w&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(y=>{this.constraints!==!1&&this.getAxisMotionValue(y)&&(this.constraints[y]=rebaseAxisConstraints(w.layoutBox[y],this.constraints[y]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:i}=this.getProps();if(!n||!isRefObject(n))return!1;const a=n.current,{projection:w}=this.visualElement;if(!w||!w.layout)return!1;const g=measurePageBox(a,w.root,this.visualElement.getTransformPagePoint());let y=calcViewportConstraints(w.layout.layoutBox,g);if(i){const b=i(convertBoxToBoundingBox(y));this.hasMutatedConstraints=!!b,b&&(y=convertBoundingBoxToBox(b))}return y}startAnimation(n){const{drag:i,dragMomentum:a,dragElastic:w,dragTransition:g,dragSnapToOrigin:y,onDragTransitionEnd:b}=this.getProps(),d=this.constraints||{},f=eachAxis(c=>{if(!shouldDrag(c,i,this.currentDirection))return;let s=d&&d[c]||{};y&&(s={min:0,max:0});const o=w?200:1e6,u=w?40:1e7,h={type:"inertia",velocity:a?n[c]:0,bounceStiffness:o,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...g,...s};return this.startAxisValueAnimation(c,h)});return Promise.all(f).then(b)}startAxisValueAnimation(n,i){const a=this.getAxisMotionValue(n);return addValueToWillChange(this.visualElement,n),a.start(animateMotionValue(n,a,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){eachAxis(n=>{var i;return(i=this.getAxisMotionValue(n).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(n){var i;return(i=this.getAxisMotionValue(n).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(n){const i=`_drag${n.toUpperCase()}`,a=this.visualElement.getProps(),w=a[i];return w||this.visualElement.getValue(n,(a.initial?a.initial[n]:void 0)||0)}snapToCursor(n){eachAxis(i=>{const{drag:a}=this.getProps();if(!shouldDrag(i,a,this.currentDirection))return;const{projection:w}=this.visualElement,g=this.getAxisMotionValue(i);if(w&&w.layout){const{min:y,max:b}=w.layout.layoutBox[i];g.set(n[i]-mixNumber$1(y,b,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(i)||!a||!this.constraints)return;this.stopAnimation();const w={x:0,y:0};eachAxis(y=>{const b=this.getAxisMotionValue(y);if(b&&this.constraints!==!1){const d=b.get();w[y]=calcOrigin({min:d,max:d},this.constraints[y])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.current.style.transform=g?g({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(y=>{if(!shouldDrag(y,n,null))return;const b=this.getAxisMotionValue(y),{min:d,max:f}=this.constraints[y];b.set(mixNumber$1(d,f,w[y]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const n=this.visualElement.current,i=addPointerEvent(n,"pointerdown",d=>{const{drag:f,dragListener:c=!0}=this.getProps();f&&c&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();isRefObject(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:w}=this.visualElement,g=w.addEventListener("measure",a);w&&!w.layout&&(w.root&&w.root.updateScroll(),w.updateLayout()),frame.read(a);const y=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),b=w.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(eachAxis(c=>{const s=this.getAxisMotionValue(c);s&&(this.originPoint[c]+=d[c].translate,s.set(s.get()+d[c].translate))}),this.visualElement.render())});return()=>{y(),i(),g(),b&&b()}}getProps(){const n=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:w=!1,dragConstraints:g=!1,dragElastic:y=defaultElastic,dragMomentum:b=!0}=n;return{...n,drag:i,dragDirectionLock:a,dragPropagation:w,dragConstraints:g,dragElastic:y,dragMomentum:b}}}function shouldDrag(e,n,i){return(n===!0||n===e)&&(i===null||i===e)}function getCurrentDirection(e,n=10){let i=null;return Math.abs(e.y)>n?i="y":Math.abs(e.x)>n&&(i="x"),i}class DragGesture extends Feature{constructor(n){super(n),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(n,i)=>{e&&frame.postRender(()=>e(n,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(n){this.session=new PanSession(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:i,onPan:a,onPanEnd:w}=this.node.getProps();return{onSessionStart:asyncHandler(n),onStart:asyncHandler(i),onMove:a,onEnd:(g,y)=>{delete this.session,w&&frame.postRender(()=>w(g,y))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const correctBorderRadius={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,n.target.x),a=pixelsToPercent(e,n.target.y);return`${i}% ${a}%`}},correctBoxShadow={correct:(e,{treeScale:n,projectionDelta:i})=>{const a=e,w=complex.parse(e);if(w.length>5)return a;const g=complex.createTransformer(e),y=typeof w[0]!="number"?1:0,b=i.x.scale*n.x,d=i.y.scale*n.y;w[0+y]/=b,w[1+y]/=d;const f=mixNumber$1(b,d,.5);return typeof w[2+y]=="number"&&(w[2+y]/=f),typeof w[3+y]=="number"&&(w[3+y]/=f),g(w)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:a,layoutId:w}=this.props,{projection:g}=n;addScaleCorrector(defaultScaleCorrectors),g&&(i.group&&i.group.add(g),a&&a.register&&w&&a.register(g),g.root.didUpdate(),g.addEventListener("animationComplete",()=>{this.safeToRemove()}),g.setOptions({...g.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:i,visualElement:a,drag:w,isPresent:g}=this.props,y=a.projection;return y&&(y.isPresent=g,w||n.layoutDependency!==i||i===void 0||n.isPresent!==g?y.willUpdate():this.safeToRemove(),n.isPresent!==g&&(g?y.promote():y.relegate()||frame.postRender(()=>{const b=y.getStack();(!b||!b.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),microtask.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:w}=n;w&&(w.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(w),a&&a.deregister&&a.deregister(w))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function MeasureLayout(e){const[n,i]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:n,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,n,i){const a=isMotionValue(e)?e:motionValue(e);return a.start(animateMotionValue("",a,n,i)),a.animation}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,n)=>e.depth-n.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(n){addUniqueItem(this.children,n),this.isDirty=!0}remove(n){removeItem(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(n)}}function delay(e,n){const i=time.now(),a=({timestamp:w})=>{const g=w-i;g>=n&&(cancelFrame(a),e(g-n))};return frame.read(a,!0),()=>cancelFrame(a)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,n,i,a,w,g){w?(e.opacity=mixNumber$1(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(a)),e.opacityExit=mixNumber$1(n.opacity!==void 0?n.opacity:1,0,easeCrossfadeOut(a))):g&&(e.opacity=mixNumber$1(n.opacity!==void 0?n.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let y=0;y<numBorders;y++){const b=`border${borders[y]}Radius`;let d=getRadius(n,b),f=getRadius(i,b);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||isPx(d)===isPx(f)?(e[b]=Math.max(mixNumber$1(asNumber(d),asNumber(f),a),0),(percent.test(f)||percent.test(d))&&(e[b]+="%")):e[b]=f}(n.rotate||i.rotate)&&(e.rotate=mixNumber$1(n.rotate||0,i.rotate||0,a))}function getRadius(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(e,n,i){return a=>a<e?0:a>n?1:i(progress(e,n,a))}function copyAxisInto(e,n){e.min=n.min,e.max=n.max}function copyBoxInto(e,n){copyAxisInto(e.x,n.x),copyAxisInto(e.y,n.y)}function copyAxisDeltaInto(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function removePointDelta(e,n,i,a,w){return e-=n,e=scalePoint(e,1/i,a),w!==void 0&&(e=scalePoint(e,1/w,a)),e}function removeAxisDelta(e,n=0,i=1,a=.5,w,g=e,y=e){if(percent.test(n)&&(n=parseFloat(n),n=mixNumber$1(y.min,y.max,n/100)-y.min),typeof n!="number")return;let b=mixNumber$1(g.min,g.max,a);e===g&&(b-=n),e.min=removePointDelta(e.min,n,i,b,w),e.max=removePointDelta(e.max,n,i,b,w)}function removeAxisTransforms(e,n,[i,a,w],g,y){removeAxisDelta(e,n[i],n[a],n[w],n.scale,g,y)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,n,i,a){removeAxisTransforms(e.x,n,xKeys,i?i.x:void 0,a?a.x:void 0),removeAxisTransforms(e.y,n,yKeys,i?i.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,n){return e.min===n.min&&e.max===n.max}function boxEquals(e,n){return axisEquals(e.x,n.x)&&axisEquals(e.y,n.y)}function axisEqualsRounded(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function boxEqualsRounded(e,n){return axisEqualsRounded(e.x,n.x)&&axisEqualsRounded(e.y,n.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class NodeStack{constructor(){this.members=[]}add(n){addUniqueItem(this.members,n),n.scheduleRender()}remove(n){if(removeItem(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(n){const i=this.members.findIndex(w=>n===w);if(i===0)return!1;let a;for(let w=i;w>=0;w--){const g=this.members[w];if(g.isPresent!==!1){a=g;break}}return a?(this.promote(a),!0):!1}promote(n,i){const a=this.lead;if(n!==a&&(this.prevLead=a,this.lead=n,n.show(),a)){a.instance&&a.scheduleRender(),n.scheduleRender(),n.resumeFrom=a,i&&(n.resumeFrom.preserveOpacity=!0),a.snapshot&&(n.snapshot=a.snapshot,n.snapshot.latestValues=a.animationValues||a.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:w}=n.options;w===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:i,resumingFrom:a}=n;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,n,i){let a="";const w=e.x.translate/n.x,g=e.y.translate/n.y,y=(i==null?void 0:i.z)||0;if((w||g||y)&&(a=`translate3d(${w}px, ${g}px, ${y}px) `),(n.x!==1||n.y!==1)&&(a+=`scale(${1/n.x}, ${1/n.y}) `),i){const{transformPerspective:f,rotate:c,rotateX:s,rotateY:o,skewX:u,skewY:h}=i;f&&(a=`perspective(${f}px) ${a}`),c&&(a+=`rotate(${c}deg) `),s&&(a+=`rotateX(${s}deg) `),o&&(a+=`rotateY(${o}deg) `),u&&(a+=`skewX(${u}deg) `),h&&(a+=`skewY(${h}deg) `)}const b=e.x.scale*n.x,d=e.y.scale*n.y;return(b!==1||d!==1)&&(a+=`scale(${b}, ${d})`),a||"none"}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,n,i,a){const{latestValues:w}=n;w[e]&&(i[e]=w[e],n.setStaticValue(e,0),a&&(a[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const i=getOptimisedAppearId(n);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:w,layoutId:g}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(w||g))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(a)}function createProjectionNode({attachResizeListener:e,defaultParent:n,measureScroll:i,checkIsScrollRoot:a,resetTransform:w}){return class{constructor(y={},b=n==null?void 0:n()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=b?b.root||b:this,this.path=b?[...b.path,b]:[],this.parent=b,this.depth=b?b.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(y,b){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new SubscriptionManager),this.eventHandlers.get(y).add(b)}notifyListeners(y,...b){const d=this.eventHandlers.get(y);d&&d.notify(...b)}hasListeners(y){return this.eventHandlers.has(y)}mount(y,b=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(y),this.instance=y;const{layoutId:d,layout:f,visualElement:c}=this.options;if(c&&!c.current&&c.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),b&&(f||d)&&(this.isLayoutDirty=!0),e){let s;const o=()=>this.root.updateBlockedByResize=!1;e(y,()=>{this.root.updateBlockedByResize=!0,s&&s(),s=delay(o,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&c&&(d||f)&&this.addEventListener("didUpdate",({delta:s,hasLayoutChanged:o,hasRelativeLayoutChanged:u,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:v,onLayoutAnimationComplete:T}=c.getProps(),x=!this.targetLayout||!boxEqualsRounded(this.targetLayout,h),R=!o&&u;if(this.options.layoutRoot||this.resumeFrom||R||o&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(s,R);const k={...getValueTransition(m,"layout"),onPlay:v,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else o||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const s=this.path[c];s.shouldResetTransform=!0,s.updateScroll("snapshot"),s.options.layoutRoot&&s.willUpdate(!1)}const{layoutId:b,layout:d}=this.options;if(b===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const b=time.now();frameData.delta=clamp(0,1e3/60,b-frameData.timestamp),frameData.timestamp=b,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(b=!1),b){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!w)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!isDeltaZero(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,c=f!==this.prevTransformTemplateValue;y&&(b||hasTransform(this.latestValues)||c)&&(w(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const b=this.measurePageBox();let d=this.removeElementScroll(b);return y&&(d=this.removeTransform(d)),roundBox(d),{animationId:this.root.animationId,measuredBox:b,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var y;const{visualElement:b}=this.options;if(!b)return createBox();const d=b.measureViewportBox();if(!(((y=this.scroll)===null||y===void 0?void 0:y.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:c}=this.root;c&&(translateAxis(d.x,c.offset.x),translateAxis(d.y,c.offset.y))}return d}removeElementScroll(y){var b;const d=createBox();if(copyBoxInto(d,y),!((b=this.scroll)===null||b===void 0)&&b.wasRoot)return d;for(let f=0;f<this.path.length;f++){const c=this.path[f],{scroll:s,options:o}=c;c!==this.root&&s&&o.layoutScroll&&(s.wasRoot&&copyBoxInto(d,y),translateAxis(d.x,s.offset.x),translateAxis(d.y,s.offset.y))}return d}applyTransform(y,b=!1){const d=createBox();copyBoxInto(d,y);for(let f=0;f<this.path.length;f++){const c=this.path[f];!b&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(d,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),hasTransform(c.latestValues)&&transformBox(d,c.latestValues)}return hasTransform(this.latestValues)&&transformBox(d,this.latestValues),d}removeTransform(y){const b=createBox();copyBoxInto(b,y);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!hasTransform(f.latestValues))continue;hasScale(f.latestValues)&&f.updateSnapshot();const c=createBox(),s=f.measurePageBox();copyBoxInto(c,s),removeBoxTransforms(b,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,c)}return hasTransform(this.latestValues)&&removeBoxTransforms(b,this.latestValues),b}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(y||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((b=this.parent)===null||b===void 0)&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:o}=this.options;if(!(!this.layout||!(s||o))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout&&this.animationProgress!==1?(this.relativeParent=u,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&!!u.resumingFrom==!!this.resumingFrom&&!u.options.layoutScroll&&u.target&&this.animationProgress!==1?(this.relativeParent=u,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,u.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const b=this.getLead(),d=!!this.resumingFrom||this!==b;let f=!0;if((this.isProjectionDirty||!((y=this.parent)===null||y===void 0)&&y.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(f=!1),f)return;const{layout:c,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||s))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,u=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,d),b.layout&&!b.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(b.target=b.layout.layoutBox,b.targetWithTransforms=createBox());const{target:h}=b;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==o||this.treeScale.y!==u||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var b;if((b=this.options.visualElement)===null||b===void 0||b.scheduleRender(),y){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(y,b=!1){const d=this.snapshot,f=d?d.latestValues:{},c={...this.latestValues},s=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;const o=createBox(),u=d?d.source:void 0,h=this.layout?this.layout.source:void 0,m=u!==h,v=this.getStack(),T=!v||v.members.length<=1,x=!!(m&&!T&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let R;this.mixTargetDelta=k=>{const C=k/1e3;mixAxisDelta(s.x,y.x,C),mixAxisDelta(s.y,y.y,C),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,o,C),R&&boxEquals(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=createBox()),copyBoxInto(R,this.relativeTarget)),m&&(this.animationValues=c,mixValues(c,f,this.latestValues,C,x,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...y,onUpdate:b=>{this.mixTargetDelta(b),y.onUpdate&&y.onUpdate(b)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:b,target:d,layout:f,latestValues:c}=y;if(!(!b||!d||!f)){if(this!==y&&this.layout&&f&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||createBox();const s=calcLength(this.layout.layoutBox.x);d.x.min=y.target.x.min,d.x.max=d.x.min+s;const o=calcLength(this.layout.layoutBox.y);d.y.min=y.target.y.min,d.y.max=d.y.min+o}copyBoxInto(b,d),transformBox(b,c),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,b,c)}}registerSharedNode(y,b){this.sharedNodes.has(y)||this.sharedNodes.set(y,new NodeStack),this.sharedNodes.get(y).add(b);const f=b.options.initialPromotionConfig;b.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(b):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var y;const{layoutId:b}=this.options;return b?((y=this.getStack())===null||y===void 0?void 0:y.lead)||this:this}getPrevLead(){var y;const{layoutId:b}=this.options;return b?(y=this.getStack())===null||y===void 0?void 0:y.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:b,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),y&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let b=!1;const{latestValues:d}=y;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(b=!0),!b)return;const f={};d.z&&resetDistortingTransform("z",y,f,this.animationValues);for(let c=0;c<transformAxes.length;c++)resetDistortingTransform(`rotate${transformAxes[c]}`,y,f,this.animationValues),resetDistortingTransform(`skew${transformAxes[c]}`,y,f,this.animationValues);y.render();for(const c in f)y.setStaticValue(c,f[c]),this.animationValues&&(this.animationValues[c]=f[c]);y.scheduleRender()}getProjectionStyles(y){var b,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const f={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=resolveMotionValue(y==null?void 0:y.pointerEvents)||"",f.transform=c?c(this.latestValues,""):"none",f;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=resolveMotionValue(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),f.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,o),c&&(f.transform=c(o,f.transform));const{x:u,y:h}=this.projectionDelta;f.transformOrigin=`${u.origin*100}% ${h.origin*100}% 0`,s.animationValues?f.opacity=s===this?(d=(b=o.opacity)!==null&&b!==void 0?b:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:f.opacity=s===this?o.opacity!==void 0?o.opacity:"":o.opacityExit!==void 0?o.opacityExit:0;for(const m in scaleCorrectors){if(o[m]===void 0)continue;const{correct:v,applyTo:T,isCSSVariable:x}=scaleCorrectors[m],R=f.transform==="none"?o[m]:v(o[m],s);if(T){const k=T.length;for(let C=0;C<k;C++)f[T[C]]=R}else x?this.options.visualElement.renderState.vars[m]=R:f[m]=R}return this.options.layoutId&&(f.pointerEvents=s===this?resolveMotionValue(y==null?void 0:y.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var b;return(b=y.currentAnimation)===null||b===void 0?void 0:b.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var n;const i=((n=e.resumeFrom)===null||n===void 0?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:w}=e.layout,{animationType:g}=e.options,y=i.source!==e.layout.source;g==="size"?eachAxis(s=>{const o=y?i.measuredBox[s]:i.layoutBox[s],u=calcLength(o);o.min=a[s].min,o.max=o.min+u}):shouldAnimatePositionOnly(g,i.layoutBox,a)&&eachAxis(s=>{const o=y?i.measuredBox[s]:i.layoutBox[s],u=calcLength(a[s]);o.max=o.min+u,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+u)});const b=createDelta();calcBoxDelta(b,a,i.layoutBox);const d=createDelta();y?calcBoxDelta(d,e.applyTransform(w,!0),i.measuredBox):calcBoxDelta(d,a,i.layoutBox);const f=!isDeltaZero(b);let c=!1;if(!e.resumeFrom){const s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){const{snapshot:o,layout:u}=s;if(o&&u){const h=createBox();calcRelativePosition(h,i.layoutBox,o.layoutBox);const m=createBox();calcRelativePosition(m,a,u.layoutBox),boxEqualsRounded(h,m)||(c=!0),s.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=h,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:d,layoutDelta:b,hasLayoutChanged:f,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function propagateDirtyNodes(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,n,i){e.translate=mixNumber$1(n.translate,0,i),e.scale=mixNumber$1(n.scale,1,i),e.origin=n.origin,e.originPoint=n.originPoint}function mixAxis(e,n,i,a){e.min=mixNumber$1(n.min,i.min,a),e.max=mixNumber$1(n.max,i.max,a)}function mixBox(e,n,i,a){mixAxis(e.x,n.x,i.x,a),mixAxis(e.y,n.y,i.y,a)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,n,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(n),aspectRatio(i),.2)}function checkNodeWasScrollRoot(e){var n;return e!==e.root&&((n=e.scroll)===null||n===void 0?void 0:n.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,n)=>addDomEvent(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,n,i){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",i==="Start");const w="onHover"+i,g=a[w];g&&frame.postRender(()=>g(n,extractEventInfo(n)))}class HoverGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=hover(n,(i,a)=>(handleHoverEvent(this.node,a,"Start"),w=>handleHoverEvent(this.node,w,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,n,i){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",i==="Start");const w="onTap"+(i==="End"?"":i),g=a[w];g&&frame.postRender(()=>g(n,extractEventInfo(n)))}class PressGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=press(n,(i,a)=>(handlePressEvent(this.node,a,"Start"),(w,{success:g})=>handlePressEvent(this.node,w,g?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const n=observerCallbacks.get(e.target);n&&n(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...n}){const i=e||document;observers.has(i)||observers.set(i,{});const a=observers.get(i),w=JSON.stringify(n);return a[w]||(a[w]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...n})),a[w]}function observeIntersection(e,n,i){const a=initIntersectionObserver(n);return observerCallbacks.set(e,i),a.observe(e),()=>{observerCallbacks.delete(e),a.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:i,margin:a,amount:w="some",once:g}=n,y={root:i?i.current:void 0,rootMargin:a,threshold:typeof w=="number"?w:thresholdNames[w]},b=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,g&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:c,onViewportLeave:s}=this.node.getProps(),o=f?c:s;o&&o(d)};return observeIntersection(this.node.current,y,b)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(n,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:n={}}={}){return i=>e[i]!==n[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>prefersReducedMotion.current=e.matches;e.addListener(n),n()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,n,i){for(const a in n){const w=n[a],g=i[a];if(isMotionValue(w))e.addValue(a,w);else if(isMotionValue(g))e.addValue(a,motionValue(w,{owner:e}));else if(g!==w)if(e.hasValue(a)){const y=e.getValue(a);y.liveStyle===!0?y.jump(w):y.hasAnimated||y.set(w)}else{const y=e.getStaticValue(a);e.addValue(a,motionValue(y!==void 0?y:w,{owner:e}))}}for(const a in i)n[a]===void 0&&e.removeValue(a);return n}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(n,i,a){return{}}constructor({parent:n,props:i,presenceContext:a,reducedMotionConfig:w,blockInitialAnimation:g,visualState:y},b={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const u=time.now();this.renderScheduledAt<u&&(this.renderScheduledAt=u,frame.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:c}=y;this.onUpdate=c,this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=f,this.parent=n,this.props=i,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=w,this.options=b,this.blockInitialAnimation=!!g,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:s,...o}=this.scrapeMotionValuesFromProps(i,{},this);for(const u in o){const h=o[u];d[u]!==void 0&&isMotionValue(h)&&h.set(d[u],!1)}}mount(n){this.current=n,visualElementStore.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(n,i){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const a=transformProps.has(n);a&&this.onBindTransform&&this.onBindTransform();const w=i.on("change",b=>{this.latestValues[n]=b,this.props.onUpdate&&frame.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),g=i.on("renderRequest",this.scheduleRender);let y;window.MotionCheckAppearSync&&(y=window.MotionCheckAppearSync(this,n,i)),this.valueSubscriptions.set(n,()=>{w(),g(),y&&y(),i.owner&&i.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in featureDefinitions){const i=featureDefinitions[n];if(!i)continue;const{isEnabled:a,Feature:w}=i;if(!this.features[n]&&w&&a(this.props)&&(this.features[n]=new w(this)),this.features[n]){const g=this.features[n];g.isMounted?g.update():(g.mount(),g.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,i){this.latestValues[n]=i}update(n,i){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<propEventHandlers.length;a++){const w=propEventHandlers[a];this.propEventSubscriptions[w]&&(this.propEventSubscriptions[w](),delete this.propEventSubscriptions[w]);const g="on"+w,y=n[g];y&&(this.propEventSubscriptions[w]=this.on(w,y))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(n),()=>i.variantChildren.delete(n)}addValue(n,i){const a=this.values.get(n);i!==a&&(a&&this.removeValue(n),this.bindToMotionValue(n,i),this.values.set(n,i),this.latestValues[n]=i.get())}removeValue(n){this.values.delete(n);const i=this.valueSubscriptions.get(n);i&&(i(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,i){if(this.props.values&&this.props.values[n])return this.props.values[n];let a=this.values.get(n);return a===void 0&&i!==void 0&&(a=motionValue(i===null?void 0:i,{owner:this}),this.addValue(n,a)),a}readValue(n,i){var a;let w=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(a=this.getBaseTargetFromProps(this.props,n))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,n,this.options);return w!=null&&(typeof w=="string"&&(isNumericalString(w)||isZeroValueString(w))?w=parseFloat(w):!findValueType(w)&&complex.test(i)&&(w=getAnimatableNone(n,i)),this.setBaseTarget(n,isMotionValue(w)?w.get():w)),isMotionValue(w)?w.get():w}setBaseTarget(n,i){this.baseTarget[n]=i}getBaseTarget(n){var i;const{initial:a}=this.props;let w;if(typeof a=="string"||typeof a=="object"){const y=resolveVariantFromProps(this.props,a,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);y&&(w=y[n])}if(a&&w!==void 0)return w;const g=this.getBaseTargetFromProps(this.props,n);return g!==void 0&&!isMotionValue(g)?g:this.initialValues[n]!==void 0&&w===void 0?void 0:this.baseTarget[n]}on(n,i){return this.events[n]||(this.events[n]=new SubscriptionManager),this.events[n].add(i)}notify(n,...i){this.events[n]&&this.events[n].notify(...i)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(n,i){return n.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(n,i){return n.style?n.style[i]:void 0}removeValueFromRenderState(n,{vars:i,style:a}){delete i[n],delete a[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;isMotionValue(n)&&(this.childSubscription=n.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(n,i){if(transformProps.has(i))return readTransformValue(n,i);{const a=getComputedStyle$1(n),w=(isCSSVariableName(i)?a.getPropertyValue(i):a[i])||0;return typeof w=="string"?w.trim():w}}measureInstanceViewportBox(n,{transformPagePoint:i}){return measureViewportBox(n,i)}build(n,i,a){buildHTMLStyles(n,i,a.transformTemplate)}scrapeMotionValuesFromProps(n,i,a){return scrapeMotionValuesFromProps$1(n,i,a)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&updateSVGDimensions(this.current,this.renderState)}}getBaseTargetFromProps(n,i){return n[i]}readValueFromInstance(n,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),n.getAttribute(i)}scrapeMotionValuesFromProps(n,i,a){return scrapeMotionValuesFromProps(n,i,a)}onBindTransform(){this.current&&!this.renderState.dimensions&&frame.postRender(this.updateDimensions)}build(n,i,a){buildSVGAttrs(n,i,this.isSVGTag,a.transformTemplate)}renderInstance(n,i,a,w){renderSVG(n,i,a,w)}mount(n){this.isSVGTag=isSVGTag(n.tagName),super.mount(n)}}const createDomVisualElement=(e,n)=>isSVGComponent(e)?new SVGVisualElement(n):new HTMLVisualElement(n,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),findById=(e,n)=>e.find(i=>i.id===n);function findToast(e,n){const i=getToastPosition(e,n),a=i?e[i].findIndex(w=>w.id===n):-1;return{position:i,index:a}}function getToastPosition(e,n){for(const[i,a]of Object.entries(e))if(findById(a,n))return i}function getToastStyle(e){const n=e.includes("right"),i=e.includes("left");let a="center";return n&&(a="flex-end"),i&&(a="flex-start"),{display:"flex",flexDirection:"column",alignItems:a}}function getToastListStyle(e){const i=e==="top"||e==="bottom"?"0 auto":void 0,a=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,w=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,g=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",y=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:i,top:a,bottom:w,right:g,left:y}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(e){return reactPropsRegex.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(n){return n!=="theme"},getDefaultShouldForwardProp=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(n,i,a){var w;if(i){var g=i.shouldForwardProp;w=n.__emotion_forwardProp&&g?function(y){return n.__emotion_forwardProp(y)&&g(y)}:g}return typeof w!="function"&&a&&(w=n.__emotion_forwardProp),w},Insertion=function(n){var i=n.cache,a=n.serialized,w=n.isStringTag;return registerStyles(i,a,w),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(i,a,w)}),null},createStyled=function e(n,i){var a=n.__emotion_real===n,w=a&&n.__emotion_base||n,g,y;i!==void 0&&(g=i.label,y=i.target);var b=composeShouldForwardProps(n,i,a),d=b||getDefaultShouldForwardProp(w),f=!d("as");return function(){var c=arguments,s=a&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(g!==void 0&&s.push("label:"+g+";"),c[0]==null||c[0].raw===void 0)s.push.apply(s,c);else{var o=c[0];s.push(o[0]);for(var u=c.length,h=1;h<u;h++)s.push(c[h],o[h])}var m=withEmotionCache(function(v,T,x){var R=f&&v.as||w,k="",C=[],S=v;if(v.theme==null){S={};for(var N in v)S[N]=v[N];S.theme=reactExports.useContext(ThemeContext)}typeof v.className=="string"?k=getRegisteredStyles(T.registered,C,v.className):v.className!=null&&(k=v.className+" ");var L=serializeStyles(s.concat(C),T.registered,S);k+=T.key+"-"+L.name,y!==void 0&&(k+=" "+y);var A=f&&b===void 0?getDefaultShouldForwardProp(R):d,$={};for(var O in v)f&&O==="as"||A(O)&&($[O]=v[O]);return $.className=k,x&&($.ref=x),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:T,serialized:L,isStringTag:typeof R=="string"}),reactExports.createElement(R,$))});return m.displayName=g!==void 0?g:"Styled("+(typeof w=="string"?w:w.displayName||w.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=w,m.__emotion_styles=s,m.__emotion_forwardProp=b,Object.defineProperty(m,"toString",{value:function(){return"."+y}}),m.withComponent=function(v,T){var x=e(v,_extends({},i,T,{shouldForwardProp:composeShouldForwardProps(m,T,!0)}));return x.apply(void 0,s)},m}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind(null);tags.forEach(function(e){newStyled[e]=newStyled(e)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(e){return(validHTMLProps.has(e)||!allPropNames.has(e))&&e[0]!=="_"}const emotion_styled=interopDefault(newStyled),toCSSObject=({baseStyle:e})=>n=>{const{theme:i,css:a,__css:w,sx:g,...y}=n,[b]=splitProps(y,isStyleProp),d=runIfFn$1(e,n),f=assignAfter({},w,d,compact(b),g),c=css$2(f)(n.theme);return a?[c,a]:c};function styled(e,n){const{baseStyle:i,...a}=n??{};a.shouldForwardProp||(a.shouldForwardProp=shouldForwardProp);const w=toCSSObject({baseStyle:i}),g=emotion_styled(e,a)(w);return reactExports.forwardRef(function(d,f){const{children:c,...s}=d,{colorMode:o,forced:u}=useColorMode(),h=u?o:void 0;return reactExports.createElement(g,{ref:f,"data-theme":h,...s},c)})}function factory(){const e=new Map;return new Proxy(styled,{apply(n,i,a){return styled(...a)},get(n,i){return e.has(i)||e.set(i,styled(i)),e.get(i)}})}const chakra=factory(),toastMotionVariants={initial:e=>{const{position:n}=e,i=["top","bottom"].includes(n)?"y":"x";let a=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(a=1),{opacity:0,[i]:a*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(e=>{const{id:n,message:i,onCloseComplete:a,onRequestRemove:w,requestClose:g=!1,position:y="bottom",duration:b=5e3,containerStyle:d,motionVariants:f=toastMotionVariants,toastSpacing:c="0.5rem"}=e,[s,o]=reactExports.useState(b),u=useIsPresent();useUpdateEffect(()=>{u||a==null||a()},[u]),useUpdateEffect(()=>{o(b)},[b]);const h=()=>o(null),m=()=>o(b),v=()=>{u&&w()};reactExports.useEffect(()=>{u&&g&&w()},[u,g,w]),useTimeout(v,s);const T=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...d}),[d,c]),x=reactExports.useMemo(()=>getToastStyle(y),[y]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:f,initial:"initial",animate:"animate",exit:"exit",onHoverStart:h,onHoverEnd:m,custom:{position:y},style:x,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:T,children:runIfFn$1(i,{id:n,onClose:v})})})});ToastComponent.displayName="ToastComponent";function forwardRef(e){return reactExports.forwardRef(e)}var reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var e=typeof Element<"u",n=typeof Map=="function",i=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function w(g,y){if(g===y)return!0;if(g&&y&&typeof g=="object"&&typeof y=="object"){if(g.constructor!==y.constructor)return!1;var b,d,f;if(Array.isArray(g)){if(b=g.length,b!=y.length)return!1;for(d=b;d--!==0;)if(!w(g[d],y[d]))return!1;return!0}var c;if(n&&g instanceof Map&&y instanceof Map){if(g.size!==y.size)return!1;for(c=g.entries();!(d=c.next()).done;)if(!y.has(d.value[0]))return!1;for(c=g.entries();!(d=c.next()).done;)if(!w(d.value[1],y.get(d.value[0])))return!1;return!0}if(i&&g instanceof Set&&y instanceof Set){if(g.size!==y.size)return!1;for(c=g.entries();!(d=c.next()).done;)if(!y.has(d.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(g)&&ArrayBuffer.isView(y)){if(b=g.length,b!=y.length)return!1;for(d=b;d--!==0;)if(g[d]!==y[d])return!1;return!0}if(g.constructor===RegExp)return g.source===y.source&&g.flags===y.flags;if(g.valueOf!==Object.prototype.valueOf&&typeof g.valueOf=="function"&&typeof y.valueOf=="function")return g.valueOf()===y.valueOf();if(g.toString!==Object.prototype.toString&&typeof g.toString=="function"&&typeof y.toString=="function")return g.toString()===y.toString();if(f=Object.keys(g),b=f.length,b!==Object.keys(y).length)return!1;for(d=b;d--!==0;)if(!Object.prototype.hasOwnProperty.call(y,f[d]))return!1;if(e&&g instanceof Element)return!1;for(d=b;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&g.$$typeof)&&!w(g[f[d]],y[f[d]]))return!1;return!0}return g!==g&&y!==y}return reactFastCompare=function(y,b){try{return w(y,b)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},reactFastCompare}var reactFastCompareExports=requireReactFastCompare();const isEqual=getDefaultExportFromCjs(reactFastCompareExports);function useTheme(){const e=reactExports.useContext(ThemeContext);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function useChakra(){const e=useColorMode(),n=useTheme();return{...e,theme:n}}function getTokenValue(e,n,i){if(n==null)return n;const a=w=>{var g,y;return(y=(g=e.__cssMap)==null?void 0:g[w])==null?void 0:y.value};return a(n)??a(i)??i}function getToken(e,n,i){const a=Array.isArray(n)?n:[n],w=Array.isArray(i)?i:[i];return g=>{const y=w.filter(Boolean),b=a.map((d,f)=>{const c=`${e}.${d}`;return getTokenValue(g,c,y[f]??d)});return Array.isArray(n)?b:b[0]}}function useStyleConfigImpl(e,n={}){const{styleConfig:i,...a}=n,{theme:w,colorMode:g}=useChakra(),y=e?memoizedGet$1(w,`components.${e}`):void 0,b=i||y,d=mergeWith({theme:w,colorMode:g},(b==null?void 0:b.defaultProps)??{},compact(omit(a,["children"])),(c,s)=>c?void 0:s),f=reactExports.useRef({});if(b){const s=resolveStyleConfig(b)(d);isEqual(f.current,s)||(f.current=s)}return f.current}function useStyleConfig(e,n={}){return useStyleConfigImpl(e,n)}function useMultiStyleConfig(e,n={}){return useStyleConfigImpl(e,n)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((e,n)=>{const{as:i,viewBox:a,color:w="currentColor",focusable:g=!1,children:y,className:b,__css:d,...f}=e,c=cx("chakra-icon",b),s=useStyleConfig("Icon",e),o={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:w,...d,...s},u={ref:n,focusable:g,className:c,__css:o},h=a??fallbackIcon.viewBox;if(i&&typeof i!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:i,...u,...f});const m=y??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:h,...u,...f,children:m})});Icon.displayName="Icon";function CheckIcon$1(e){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(e){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(e){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((e,n)=>{const i=useStyleConfig("Spinner",e),{label:a="Loading...",thickness:w="2px",speed:g="0.45s",emptyColor:y="transparent",className:b,...d}=omitThemingProps(e),f=cx("chakra-spinner",b),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:w,borderBottomColor:y,borderLeftColor:y,animation:`${spin} ${g} linear infinite`,...i};return jsxRuntimeExports.jsx(chakra.div,{ref:n,__css:c,className:f,...d,children:a&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:a})})});Spinner.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext$1({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$1({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon$1,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(e){return STATUSES[e].colorScheme}function getStatusIcon(e){return STATUSES[e].icon}const Alert=forwardRef(function(n,i){const{status:a="info",addRole:w=!0,...g}=omitThemingProps(n),y=n.colorScheme??getStatusColorScheme(a),b=useMultiStyleConfig("Alert",{...n,colorScheme:y}),d={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...b.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:a},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:b,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":a,role:w?"alert":void 0,ref:i,...g,className:cx("chakra-alert",n.className),__css:d})})})});Alert.displayName="Alert";function AlertIcon(e){const{status:n}=useAlertContext(),i=getStatusIcon(n),a=useAlertStyles(),w=n==="loading"?a.spinner:a.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":n,...e,className:cx("chakra-alert__icon",e.className),__css:w,children:e.children||jsxRuntimeExports.jsx(i,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function(n,i){const a=useAlertStyles(),{status:w}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:i,"data-status":w,...n,className:cx("chakra-alert__title",n.className),__css:a.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function(n,i){const{status:a}=useAlertContext(),w=useAlertStyles(),g={display:"inline",...w.description};return jsxRuntimeExports.jsx(chakra.div,{ref:i,"data-status":a,...n,className:cx("chakra-alert__desc",n.className),__css:g})});AlertDescription.displayName="AlertDescription";function CloseIcon(e){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function(n,i){const a=useStyleConfig("CloseButton",n),{children:w,isDisabled:g,__css:y,...b}=omitThemingProps(n),d={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:i,disabled:g,__css:{...d,...a,...y},...b,children:w||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast=e=>{const{status:n,variant:i="solid",id:a,title:w,isClosable:g,onClose:y,description:b,colorScheme:d,icon:f}=e,c=a?{root:`toast-${a}`,title:`toast-${a}-title`,description:`toast-${a}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:n,variant:i,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:d,children:[jsxRuntimeExports.jsx(AlertIcon,{children:f}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[w&&jsxRuntimeExports.jsx(AlertTitle,{id:c==null?void 0:c.title,children:w}),b&&jsxRuntimeExports.jsx(AlertDescription,{id:c==null?void 0:c.description,display:"block",children:b})]}),g&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:y,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(e={}){const{render:n,toastComponent:i=Toast}=e;return w=>typeof n=="function"?n({...w,...e}):jsxRuntimeExports.jsx(i,{...w,...e})}const initialState$1={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$1);function createStore$1(e){let n=e;const i=new Set,a=w=>{n=w(n),i.forEach(g=>g())};return{getState:()=>n,subscribe:w=>(i.add(w),()=>{a(()=>e),i.delete(w)}),removeToast:(w,g)=>{a(y=>({...y,[g]:y[g].filter(b=>b.id!=w)}))},notify:(w,g)=>{const y=createToast(w,g),{position:b,id:d}=y;return a(f=>{const s=b.includes("top")?[y,...f[b]??[]]:[...f[b]??[],y];return{...f,[b]:s}}),d},update:(w,g)=>{w&&a(y=>{const b={...y},{position:d,index:f}=findToast(b,w);return d&&f!==-1&&(b[d][f]={...b[d][f],...g,message:createRenderToast(g)}),b})},closeAll:({positions:w}={})=>{a(g=>(w??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((d,f)=>(d[f]=g[f].map(c=>({...c,requestClose:!0})),d),{...g}))},close:w=>{a(g=>{const y=getToastPosition(g,w);return y?{...g,[y]:g[y].map(b=>b.id==w?{...b,requestClose:!0}:b)}:g})},isActive:w=>!!findToast(toastStore.getState(),w).position}}let counter=0;function createToast(e,n={}){counter+=1;const i=n.id??counter,a=n.position??"bottom";return{id:i,message:e,position:a,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(i),a),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var e=requireReact();function n(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)f+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},w=Symbol.for("react.portal");function g(d,f,c){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:s==null?null:""+s,children:d,containerInfo:f,implementation:c}}var y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,reactDom_production.createPortal=function(d,f){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(n(299));return g(d,f,null,c)},reactDom_production.flushSync=function(d){var f=y.T,c=a.p;try{if(y.T=null,a.p=2,d)return d()}finally{y.T=f,a.p=c,a.d.f()}},reactDom_production.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(d,f))},reactDom_production.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},reactDom_production.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var c=f.as,s=b(c,f.crossOrigin),o=typeof f.integrity=="string"?f.integrity:void 0,u=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;c==="style"?a.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:s,integrity:o,fetchPriority:u}):c==="script"&&a.d.X(d,{crossOrigin:s,integrity:o,fetchPriority:u,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},reactDom_production.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var c=b(f.as,f.crossOrigin);a.d.M(d,{crossOrigin:c,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(d)},reactDom_production.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var c=f.as,s=b(c,f.crossOrigin);a.d.L(d,c,{crossOrigin:s,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},reactDom_production.preloadModule=function(d,f){if(typeof d=="string")if(f){var c=b(f.as,f.crossOrigin);a.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:c,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(d)},reactDom_production.requestFormReset=function(d){a.d.r(d)},reactDom_production.unstable_batchedUpdates=function(d,f){return d(f)},reactDom_production.useFormState=function(d,f,c){return y.H.useFormState(d,f,c)},reactDom_production.useFormStatus=function(){return y.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),reactDom.exports=requireReactDom_production(),reactDom.exports}var reactDomExports=requireReactDom();const[PortalContextProvider,usePortalContext]=createContext$1({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=e=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),DefaultPortal=e=>{const{appendToParentPortal:n,children:i}=e,[a,w]=reactExports.useState(null),g=reactExports.useRef(null),[,y]=reactExports.useState({});reactExports.useEffect(()=>y({}),[]);const b=usePortalContext(),d=usePortalManager();useSafeLayoutEffect$1(()=>{if(!a)return;const c=a.ownerDocument,s=n?b??c.body:c.body;if(!s)return;g.current=c.createElement("div"),g.current.className=PORTAL_CLASSNAME,s.appendChild(g.current),y({});const o=g.current;return()=>{s.contains(o)&&s.removeChild(o)}},[a]);const f=d!=null&&d.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:d==null?void 0:d.zIndex,children:i}):i;return g.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:g.current,children:f}),g.current):jsxRuntimeExports.jsx("span",{ref:c=>{c&&w(c)}})},ContainerPortal=e=>{const{children:n,containerRef:i,appendToParentPortal:a}=e,w=i.current,g=w??(typeof window<"u"?document.body:void 0),y=reactExports.useMemo(()=>{const d=w==null?void 0:w.ownerDocument.createElement("div");return d&&(d.className=PORTAL_CLASSNAME),d},[w]),[,b]=reactExports.useState({});return useSafeLayoutEffect$1(()=>b({}),[]),useSafeLayoutEffect$1(()=>{if(!(!y||!g))return g.appendChild(y),()=>{g.removeChild(y)}},[y,g]),g&&y?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:a?y:null,children:n}),y):null};function Portal(e){const n={appendToParentPortal:!0,...e},{containerRef:i,...a}=n;return i?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:i,...a}):jsxRuntimeExports.jsx(DefaultPortal,{...a})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider,useToastOptionContext]=createContext$1({name:"ToastOptionsContext",strict:!1}),ToastProvider=e=>{const n=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:i,component:a=ToastComponent,portalProps:w,animatePresenceProps:g}=e,b=Object.keys(n).map(d=>{const f=n[d];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${d}`,id:`chakra-toast-manager-${d}`,style:getToastListStyle(d),children:jsxRuntimeExports.jsx(AnimatePresence,{...g,initial:!1,children:f.map(c=>jsxRuntimeExports.jsx(a,{motionVariants:i,...c},c.id))})},d)});return jsxRuntimeExports.jsx(Portal,{...w,children:b})},createProvider=e=>function({children:i,theme:a=e,toastOptions:w,...g}){return jsxRuntimeExports.jsxs(Provider$1,{theme:a,...g,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:w==null?void 0:w.defaultOptions,children:i}),jsxRuntimeExports.jsx(ToastProvider,{...w})]})},ChakraProvider=createProvider(theme$1),TRANSITION_EASINGS={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(e,n)=>({...e,delay:typeof n=="number"?n:n==null?void 0:n.enter}),exit:(e,n)=>({...e,delay:typeof n=="number"?n:n==null?void 0:n.exit})},Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext$1({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(e){const{children:n,className:i,...a}=e,w=reactExports.isValidElement(n)?reactExports.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,g=cx("chakra-button__icon",i);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:g,children:w})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(e){const{label:n,placement:i,spacing:a="0.5rem",children:w=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:g,__css:y,...b}=e,d=cx("chakra-button__spinner",g),f=i==="start"?"marginEnd":"marginStart",c=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[f]:n?a:0,fontSize:"1em",lineHeight:"normal",...y}),[y,n,f,a]);return jsxRuntimeExports.jsx(chakra.div,{className:d,...b,__css:c,children:w})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(e){const[n,i]=reactExports.useState(!e);return{ref:reactExports.useCallback(g=>{g&&i(g.tagName==="BUTTON")},[]),type:n?"button":void 0}}const Button=forwardRef((e,n)=>{const i=useButtonGroup(),a=useStyleConfig("Button",{...i,...e}),{isDisabled:w=i==null?void 0:i.isDisabled,isLoading:g,isActive:y,children:b,leftIcon:d,rightIcon:f,loadingText:c,iconSpacing:s="0.5rem",type:o,spinner:u,spinnerPlacement:h="start",className:m,as:v,shouldWrapChildren:T,...x}=omitThemingProps(e),R=reactExports.useMemo(()=>{const N={...a==null?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!i&&{_focus:N}}},[a,i]),{ref:k,type:C}=useButtonType(v),S={rightIcon:f,leftIcon:d,iconSpacing:s,children:b,shouldWrapChildren:T};return jsxRuntimeExports.jsxs(chakra.button,{disabled:w||g,ref:useMergeRefs$1(n,k),as:v,type:o??C,"data-active":dataAttr(y),"data-loading":dataAttr(g),__css:R,className:cx("chakra-button",m),...x,children:[g&&h==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:s,children:u}),g?c||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...S})}):jsxRuntimeExports.jsx(ButtonContent,{...S}),g&&h==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:s,children:u})]})});Button.displayName="Button";function ButtonContent(e){const{leftIcon:n,rightIcon:i,children:a,iconSpacing:w,shouldWrapChildren:g}=e;return g?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[n&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:w,children:n}),a,i&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:w,children:i})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[n&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:w,children:n}),a,i&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:w,children:i})]})}const attachedStyles={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},gapStyles={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},ButtonGroup=forwardRef(function(n,i){const{size:a,colorScheme:w,variant:g,className:y,spacing:b="0.5rem",isAttached:d,isDisabled:f,orientation:c="horizontal",...s}=n,o=cx("chakra-button__group",y),u=reactExports.useMemo(()=>({size:a,colorScheme:w,variant:g,isDisabled:f}),[a,w,g,f]);let h={display:"inline-flex",...d?attachedStyles[c]:gapStyles[c](b)};const m=c==="vertical";return jsxRuntimeExports.jsx(ButtonGroupProvider,{value:u,children:jsxRuntimeExports.jsx(chakra.div,{ref:i,role:"group",__css:h,className:o,"data-attached":d?"":void 0,"data-orientation":c,flexDir:m?"column":void 0,...s})})});ButtonGroup.displayName="ButtonGroup";const[CardStylesProvider,useCardStyles]=createStylesContext("Card"),Card=forwardRef(function(n,i){const{className:a,children:w,direction:g="column",justify:y,align:b,...d}=omitThemingProps(n),f=useMultiStyleConfig("Card",n);return jsxRuntimeExports.jsx(chakra.div,{ref:i,className:cx("chakra-card",a),__css:{display:"flex",flexDirection:g,justifyContent:y,alignItems:b,position:"relative",minWidth:0,wordWrap:"break-word",...f.container},...d,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:f,children:w})})}),CardBody=forwardRef(function(n,i){const{className:a,...w}=n,g=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:i,className:cx("chakra-card__body",a),__css:g.body,...w})}),CardHeader=forwardRef(function(n,i){const{className:a,...w}=n,g=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:i,className:cx("chakra-card__header",a),__css:g.header,...w})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$1({name:"CheckboxGroupContext",strict:!1});function CheckIcon(e){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(e){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(e){const{isIndeterminate:n,isChecked:i,...a}=e,w=n?IndeterminateIcon:CheckIcon;return i||n?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(w,{...a})}):null}var isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(e,n){handlers.forEach(i=>i(e,n))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(e){return!(e.metaKey||!isMac&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function onKeyboardEvent(e){hasEventBeforeFocus=!0,isValidKey(e)&&(modality="keyboard",trigger("keyboard",e))}function onPointerEvent(e){if(modality="pointer",e.type==="mousedown"||e.type==="pointerdown"){hasEventBeforeFocus=!0;const n=e.composedPath?e.composedPath()[0]:e.target;let i=!1;try{i=n.matches(":focus-visible")}catch{}if(i)return;trigger("pointer",e)}}function isVirtualClick(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function onClickEvent(e){isVirtualClick(e)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus$1(e){e.target===window||e.target===document||e.target instanceof Element&&e.target.hasAttribute("tabindex")||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",e)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...i){hasEventBeforeFocus=!0,e.apply(this,i)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus$1,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(e){setupGlobalFocusEvents(),e(isFocusVisible());const n=()=>e(isFocusVisible());return handlers.add(n),()=>{handlers.delete(n)}}const[FormControlStylesProvider,useFormControlStyles]=createContext$1({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$1({strict:!1,name:"FormControlContext"});function useFormControlProvider(e){const{id:n,isRequired:i,isInvalid:a,isDisabled:w,isReadOnly:g,...y}=e,b=reactExports.useId(),d=n||`field-${b}`,f=`${d}-label`,c=`${d}-feedback`,s=`${d}-helptext`,[o,u]=reactExports.useState(!1),[h,m]=reactExports.useState(!1),[v,T]=reactExports.useState(!1),x=reactExports.useCallback((N={},L=null)=>({id:s,...N,ref:mergeRefs(L,A=>{A&&m(!0)})}),[s]),R=reactExports.useCallback((N={},L=null)=>({...N,ref:L,"data-focus":dataAttr(v),"data-disabled":dataAttr(w),"data-invalid":dataAttr(a),"data-readonly":dataAttr(g),id:N.id!==void 0?N.id:f,htmlFor:N.htmlFor!==void 0?N.htmlFor:d}),[d,w,v,a,g,f]),k=reactExports.useCallback((N={},L=null)=>({id:c,...N,ref:mergeRefs(L,A=>{A&&u(!0)}),"aria-live":"polite"}),[c]),C=reactExports.useCallback((N={},L=null)=>({...N,...y,ref:L,role:"group","data-focus":dataAttr(v),"data-disabled":dataAttr(w),"data-invalid":dataAttr(a),"data-readonly":dataAttr(g)}),[y,w,v,a,g]),S=reactExports.useCallback((N={},L=null)=>({...N,ref:L,role:"presentation","aria-hidden":!0,children:N.children||"*"}),[]);return{isRequired:!!i,isInvalid:!!a,isReadOnly:!!g,isDisabled:!!w,isFocused:!!v,onFocus:()=>T(!0),onBlur:()=>T(!1),hasFeedbackText:o,setHasFeedbackText:u,hasHelpText:h,setHasHelpText:m,id:d,labelId:f,feedbackId:c,helpTextId:s,htmlProps:y,getHelpTextProps:x,getErrorMessageProps:k,getRootProps:C,getLabelProps:R,getRequiredIndicatorProps:S}}const FormControl=forwardRef(function(n,i){const a=useMultiStyleConfig("Form",n),w=omitThemingProps(n),{getRootProps:g,htmlProps:y,...b}=useFormControlProvider(w),d=cx("chakra-form-control",n.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:b,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.div,{...g({},i),className:d,__css:a.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function(n,i){const a=useFormControlContext(),w=useFormControlStyles(),g=cx("chakra-form__helper-text",n.className);return jsxRuntimeExports.jsx(chakra.div,{...a==null?void 0:a.getHelpTextProps(n,i),__css:w.helperText,className:g})});FormHelperText.displayName="FormHelperText";function useFormControl(e){const{isDisabled:n,isInvalid:i,isReadOnly:a,isRequired:w,...g}=useFormControlProps(e);return{...g,disabled:n,readOnly:a,required:w,"aria-invalid":ariaAttr(i),"aria-required":ariaAttr(w),"aria-readonly":ariaAttr(a)}}function useFormControlProps(e){const n=useFormControlContext(),{id:i,disabled:a,readOnly:w,required:g,isRequired:y,isInvalid:b,isReadOnly:d,isDisabled:f,onFocus:c,onBlur:s,...o}=e,u=e["aria-describedby"]?[e["aria-describedby"]]:[];return n!=null&&n.hasFeedbackText&&(n!=null&&n.isInvalid)&&u.push(n.feedbackId),n!=null&&n.hasHelpText&&u.push(n.helpTextId),{...o,"aria-describedby":u.join(" ")||void 0,id:i??(n==null?void 0:n.id),isDisabled:a??f??(n==null?void 0:n.isDisabled),isReadOnly:w??d??(n==null?void 0:n.isReadOnly),isRequired:g??y??(n==null?void 0:n.isRequired),isInvalid:b??(n==null?void 0:n.isInvalid),onFocus:callAllHandlers(n==null?void 0:n.onFocus,c),onBlur:callAllHandlers(n==null?void 0:n.onBlur,s)}}const visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useCheckbox(e={}){const n=useFormControlProps(e),{isDisabled:i,isReadOnly:a,isRequired:w,isInvalid:g,id:y,onBlur:b,onFocus:d,"aria-describedby":f}=n,{defaultChecked:c,isChecked:s,isFocusable:o,onChange:u,isIndeterminate:h,name:m,value:v,tabIndex:T=void 0,"aria-label":x,"aria-labelledby":R,"aria-invalid":k,...C}=e,S=omit(C,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),N=useCallbackRef$1(u),L=useCallbackRef$1(b),A=useCallbackRef$1(d),[$,O]=reactExports.useState(!1),[B,z]=reactExports.useState(!1),[F,V]=reactExports.useState(!1),U=reactExports.useRef(!1);reactExports.useEffect(()=>trackFocusVisible(Le=>{U.current=Le}),[]);const q=reactExports.useRef(null),[K,Q]=reactExports.useState(!0),[X,te]=reactExports.useState(!!c),se=s!==void 0,J=se?s:X,le=reactExports.useCallback(Le=>{if(a||i){Le.preventDefault();return}se||te(J?Le.currentTarget.checked:h?!0:Le.currentTarget.checked),N==null||N(Le)},[a,i,J,se,h,N]);useSafeLayoutEffect$1(()=>{q.current&&(q.current.indeterminate=!!h)},[h]),useUpdateEffect(()=>{i&&O(!1)},[i,O]),useSafeLayoutEffect$1(()=>{const Le=q.current;if(!(Le!=null&&Le.form))return;const Qe=()=>{te(!!c)};return Le.form.addEventListener("reset",Qe),()=>{var De;return(De=Le.form)==null?void 0:De.removeEventListener("reset",Qe)}},[]);const ce=i&&!o,ue=reactExports.useCallback(Le=>{Le.key===" "&&V(!0)},[V]),Ie=reactExports.useCallback(Le=>{Le.key===" "&&V(!1)},[V]);useSafeLayoutEffect$1(()=>{if(!q.current)return;q.current.checked!==J&&te(q.current.checked)},[q.current]);const Te=reactExports.useCallback((Le={},Qe=null)=>{const De=xt=>{$&&xt.preventDefault(),V(!0)};return{...Le,ref:Qe,"data-active":dataAttr(F),"data-hover":dataAttr(B),"data-checked":dataAttr(J),"data-focus":dataAttr($),"data-focus-visible":dataAttr($&&U.current),"data-indeterminate":dataAttr(h),"data-disabled":dataAttr(i),"data-invalid":dataAttr(g),"data-readonly":dataAttr(a),"aria-hidden":!0,onMouseDown:callAllHandlers(Le.onMouseDown,De),onMouseUp:callAllHandlers(Le.onMouseUp,()=>V(!1)),onMouseEnter:callAllHandlers(Le.onMouseEnter,()=>z(!0)),onMouseLeave:callAllHandlers(Le.onMouseLeave,()=>z(!1))}},[F,J,i,$,B,h,g,a]),Re=reactExports.useCallback((Le={},Qe=null)=>({...Le,ref:Qe,"data-active":dataAttr(F),"data-hover":dataAttr(B),"data-checked":dataAttr(J),"data-focus":dataAttr($),"data-focus-visible":dataAttr($&&U.current),"data-indeterminate":dataAttr(h),"data-disabled":dataAttr(i),"data-invalid":dataAttr(g),"data-readonly":dataAttr(a)}),[F,J,i,$,B,h,g,a]),ke=reactExports.useCallback((Le={},Qe=null)=>({...S,...Le,ref:mergeRefs(Qe,De=>{De&&Q(De.tagName==="LABEL")}),onClick:callAllHandlers(Le.onClick,()=>{var De;K||((De=q.current)==null||De.click(),requestAnimationFrame(()=>{var xt;(xt=q.current)==null||xt.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(i),"data-checked":dataAttr(J),"data-invalid":dataAttr(g)}),[S,i,J,g,K]),me=reactExports.useCallback((Le={},Qe=null)=>({...Le,ref:mergeRefs(q,Qe),type:"checkbox",name:m,value:v,id:y,tabIndex:T,onChange:callAllHandlers(Le.onChange,le),onBlur:callAllHandlers(Le.onBlur,L,()=>O(!1)),onFocus:callAllHandlers(Le.onFocus,A,()=>O(!0)),onKeyDown:callAllHandlers(Le.onKeyDown,ue),onKeyUp:callAllHandlers(Le.onKeyUp,Ie),required:w,checked:J,disabled:ce,readOnly:a,"aria-label":x,"aria-labelledby":R,"aria-invalid":k?!!k:g,"aria-describedby":f,"aria-disabled":i,"aria-checked":h?"mixed":J,style:visuallyHiddenStyle}),[m,v,y,T,le,L,A,ue,Ie,w,J,ce,a,x,R,k,g,f,i,h]),ve=reactExports.useCallback((Le={},Qe=null)=>({...Le,ref:Qe,onMouseDown:callAllHandlers(Le.onMouseDown,stopEvent),"data-disabled":dataAttr(i),"data-checked":dataAttr(J),"data-invalid":dataAttr(g)}),[J,i,g]);return{state:{isInvalid:g,isFocused:$,isChecked:J,isActive:F,isHovered:B,isIndeterminate:h,isDisabled:i,isReadOnly:a,isRequired:w},getRootProps:ke,getCheckboxProps:Te,getIndicatorProps:Re,getInputProps:me,getLabelProps:ve,htmlProps:S}}function stopEvent(e){e.preventDefault(),e.stopPropagation()}function useInitialAnimationState(e){const[n,i]=reactExports.useState(e),[a,w]=reactExports.useState(!1);return e!==n&&(w(!0),i(e)),a}const controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(n,i){const a=useCheckboxGroupContext(),w={...a,...n},g=useMultiStyleConfig("Checkbox",w),y=omitThemingProps(n),{spacing:b="0.5rem",className:d,children:f,iconColor:c,iconSize:s,icon:o=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:u,isDisabled:h=a==null?void 0:a.isDisabled,onChange:m,inputProps:v,...T}=y;let x=u;a!=null&&a.value&&y.value&&(x=a.value.includes(y.value));let R=m;a!=null&&a.onChange&&y.value&&(R=callAll(a.onChange,m));const{state:k,getInputProps:C,getCheckboxProps:S,getLabelProps:N,getRootProps:L}=useCheckbox({...T,isDisabled:h,isChecked:x,onChange:R}),A=useInitialAnimationState(k.isChecked),$=reactExports.useMemo(()=>({animation:A?k.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,...g.icon,...compact({fontSize:s,color:c})}),[c,s,A,k.isIndeterminate,g.icon]),O=reactExports.cloneElement(o,{__css:$,isIndeterminate:k.isIndeterminate,isChecked:k.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...g.container},className:cx("chakra-checkbox",d),...L(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...C(v,i)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...g.control},className:"chakra-checkbox__control",...S(),children:O}),f&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...N(),__css:{marginStart:b,...g.label},children:f})]})});Checkbox.displayName="Checkbox";const Code=forwardRef(function(n,i){const a=useStyleConfig("Code",n),{className:w,...g}=omitThemingProps(n);return jsxRuntimeExports.jsx(chakra.code,{ref:i,className:cx("chakra-code",n.className),...g,__css:{display:"inline-block",...a}})});Code.displayName="Code";const VALID_VALUES=new Set(["dark","light","system"]);function normalize(e){let n=e;return VALID_VALUES.has(n)||(n="light"),n}function getScriptSrc(e={}){const{initialColorMode:n="light",type:i="localStorage",storageKey:a="chakra-ui-color-mode"}=e,w=normalize(n),g=i==="cookie",y=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${w}",r="${a}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,b=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${w}",e="${a}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${g?y:b}`.trim()}function ColorModeScript(e={}){const{nonce:n}=e;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:n,dangerouslySetInnerHTML:{__html:getScriptSrc(e)}})}function isFunction(e){return typeof e=="function"}function pipe(...e){return n=>e.reduce((i,a)=>a(i),n)}const createExtendTheme=e=>function(...i){let a=[...i],w=i[i.length-1];return isChakraTheme(w)&&a.length>1?a=a.slice(0,a.length-1):w=e,pipe(...a.map(g=>y=>isFunction(g)?g(y):mergeThemeOverride(y,g)))(w)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...e){return mergeWith({},...e,mergeThemeCustomizer)}function mergeThemeCustomizer(e,n,i,a){if((isFunction(e)||isFunction(n))&&Object.prototype.hasOwnProperty.call(a,i))return(...w)=>{const g=isFunction(e)?e(...w):e,y=isFunction(n)?n(...w):n;return mergeWith({},g,y,mergeThemeCustomizer)};if(isObject(e)&&isArray(n)||isArray(e)&&isObject(n))return n}function _objectWithoutPropertiesLoose(e,n){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.indexOf(a)!==-1)continue;i[a]=e[a]}return i}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=e,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var e=requireReactPropTypesSecret();function n(){}function i(){}return i.resetWarningCache=n,factoryWithThrowingShims=function(){function a(y,b,d,f,c,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}a.isRequired=a;function w(){return a}var g={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:w,element:a,elementType:a,instanceOf:w,node:a,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:i,resetWarningCache:n};return g.PropTypes=g,g},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function useCallbackRef(e,n){var i=reactExports.useState(function(){return{value:e,callback:n,facade:{get current(){return i.value},set current(a){var w=i.value;w!==a&&(i.value=a,i.callback(a,w))}}}})[0];return i.callback=n,i.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(e,n){var i=useCallbackRef(null,function(a){return e.forEach(function(w){return assignRef(w,a)})});return useIsomorphicLayoutEffect$1(function(){var a=currentValues.get(i);if(a){var w=new Set(a),g=new Set(e),y=i.current;w.forEach(function(b){g.has(b)||assignRef(b,null)}),g.forEach(function(b){w.has(b)||assignRef(b,y)})}currentValues.set(i,e)},[e]),i}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},__assign=function(){return __assign=Object.assign||function(n){for(var i,a=1,w=arguments.length;a<w;a++){i=arguments[a];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(n[g]=i[g])}return n},__assign.apply(this,arguments)};function __rest(e,n){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,a=Object.getOwnPropertySymbols(e);w<a.length;w++)n.indexOf(a[w])<0&&Object.prototype.propertyIsEnumerable.call(e,a[w])&&(i[a[w]]=e[a[w]]);return i}function __spreadArray(e,n,i){if(i||arguments.length===2)for(var a=0,w=n.length,g;a<w;a++)(g||!(a in n))&&(g||(g=Array.prototype.slice.call(n,0,a)),g[a]=n[a]);return e.concat(g||Array.prototype.slice.call(n))}typeof SuppressedError=="function"&&SuppressedError;function ItoI(e){return e}function innerCreateMedium(e,n){n===void 0&&(n=ItoI);var i=[],a=!1,w={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(g){var y=n(g,a);return i.push(y),function(){i=i.filter(function(b){return b!==y})}},assignSyncMedium:function(g){for(a=!0;i.length;){var y=i;i=[],y.forEach(g)}i={push:function(b){return g(b)},filter:function(){return i}}},assignMedium:function(g){a=!0;var y=[];if(i.length){var b=i;i=[],b.forEach(g),y=i}var d=function(){var c=y;y=[],c.forEach(g)},f=function(){return Promise.resolve().then(d)};f(),i={push:function(c){y.push(c),f()},filter:function(c){return y=y.filter(c),i}}}};return w}function createMedium(e,n){return n===void 0&&(n=ItoI),innerCreateMedium(e,n)}function createSidecarMedium(e){e===void 0&&(e={});var n=innerCreateMedium(null);return n.options=__assign({async:!0,ssr:!1},e),n}var SideCar$1=function(e){var n=e.sideCar,i=__rest(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign({},i))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,n){return e.useMedium(n),SideCar$1}var mediumFocus=createMedium({},function(e){var n=e.target,i=e.currentTarget;return{target:n,currentTarget:i}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(n,i){var a,w=reactExports.useState(),g=w[0],y=w[1],b=reactExports.useRef(),d=reactExports.useRef(!1),f=reactExports.useRef(null),c=reactExports.useState({}),s=c[1],o=n.children,u=n.disabled,h=u===void 0?!1:u,m=n.noFocusGuards,v=m===void 0?!1:m,T=n.persistentFocus,x=T===void 0?!1:T,R=n.crossFrame,k=R===void 0?!0:R,C=n.autoFocus,S=C===void 0?!0:C;n.allowTextSelection;var N=n.group,L=n.className,A=n.whiteList,$=n.hasPositiveIndices,O=n.shards,B=O===void 0?emptyArray:O,z=n.as,F=z===void 0?"div":z,V=n.lockProps,U=V===void 0?{}:V,q=n.sideCar,K=n.returnFocus,Q=K===void 0?!1:K,X=n.focusOptions,te=n.onActivation,se=n.onDeactivation,J=reactExports.useState({}),le=J[0],ce=reactExports.useCallback(function(De){var xt=De.captureFocusRestore;if(!f.current){var Mt,$t=(Mt=document)==null?void 0:Mt.activeElement;f.current=$t,$t!==document.body&&(f.current=xt($t))}b.current&&te&&te(b.current),d.current=!0,s()},[te]),ue=reactExports.useCallback(function(){d.current=!1,se&&se(b.current),s()},[se]),Ie=reactExports.useCallback(function(De){var xt=f.current;if(xt){var Mt=(typeof xt=="function"?xt():xt)||document.body,$t=typeof Q=="function"?Q(Mt):Q;if($t){var tr=typeof $t=="object"?$t:void 0;f.current=null,De?Promise.resolve().then(function(){return Mt.focus(tr)}):Mt.focus(tr)}}},[Q]),Te=reactExports.useCallback(function(De){d.current&&mediumFocus.useMedium(De)},[]),Re=mediumBlur.useMedium,ke=reactExports.useCallback(function(De){b.current!==De&&(b.current=De,y(De))},[]),me=_extends((a={},a[FOCUS_DISABLED]=h&&"disabled",a[FOCUS_GROUP]=N,a),U),ve=v!==!0,he=ve&&v!=="tail",Le=useMergeRefs([i,ke]),Qe=reactExports.useMemo(function(){return{observed:b,shards:B,enabled:!h,active:d.current}},[h,d.current,B,g]);return React.createElement(reactExports.Fragment,null,ve&&[React.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:h?-1:0,style:hiddenGuard}),$?React.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:h?-1:1,style:hiddenGuard}):null],!h&&React.createElement(q,{id:le,sideCar:mediumSidecar,observed:g,disabled:h,persistentFocus:x,crossFrame:k,autoFocus:S,whiteList:A,shards:B,onActivation:ce,onDeactivation:ue,returnFocus:Ie,focusOptions:X,noFocusGuards:v}),React.createElement(F,_extends({ref:Le},me,{className:L,onBlur:Re,onFocus:Te}),React.createElement(focusScope.Provider,{value:Qe},o)),he&&React.createElement("div",{"data-focus-guard":!0,tabIndex:h?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(e,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},_setPrototypeOf(e,n)}function _inheritsLoose(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,_setPrototypeOf(e,n)}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(e)}function toPrimitive(e,n){if(_typeof(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,n);if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function toPropertyKey(e){var n=toPrimitive(e,"string");return _typeof(n)=="symbol"?n:n+""}function _defineProperty(e,n,i){return(n=toPropertyKey(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function withSideEffect(e,n){function i(a){return a.displayName||a.name||"Component"}return function(w){var g=[],y;function b(){y=e(g.map(function(f){return f.props})),n(y)}var d=function(f){_inheritsLoose(c,f);function c(){return f.apply(this,arguments)||this}c.peek=function(){return y};var s=c.prototype;return s.componentDidMount=function(){g.push(this),b()},s.componentDidUpdate=function(){b()},s.componentWillUnmount=function(){var u=g.indexOf(this);g.splice(u,1),b()},s.render=function(){return React.createElement(w,this.props)},c}(reactExports.PureComponent);return _defineProperty(d,"displayName","SideEffect("+i(w)+")"),d}}var toArray=function(e){for(var n=Array(e.length),i=0;i<e.length;++i)n[i]=e[i];return n},asArray=function(e){return Array.isArray(e)?e:[e]},getFirst=function(e){return Array.isArray(e)?e[0]:e},isElementHidden=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},getParentNode=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},isTopNode=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},isInert=function(e){return e.hasAttribute("inert")},isVisibleUncached=function(e,n){return!e||isTopNode(e)||!isElementHidden(e)&&!isInert(e)&&n(getParentNode(e))},isVisibleCached=function(e,n){var i=e.get(n);if(i!==void 0)return i;var a=isVisibleUncached(n,isVisibleCached.bind(void 0,e));return e.set(n,a),a},isAutoFocusAllowedUncached=function(e,n){return e&&!isTopNode(e)?isAutoFocusAllowed(e)?n(getParentNode(e)):!1:!0},isAutoFocusAllowedCached=function(e,n){var i=e.get(n);if(i!==void 0)return i;var a=isAutoFocusAllowedUncached(n,isAutoFocusAllowedCached.bind(void 0,e));return e.set(n,a),a},getDataset=function(e){return e.dataset},isHTMLButtonElement=function(e){return e.tagName==="BUTTON"},isHTMLInputElement=function(e){return e.tagName==="INPUT"},isRadioElement=function(e){return isHTMLInputElement(e)&&e.type==="radio"},notHiddenInput=function(e){return!((isHTMLInputElement(e)||isHTMLButtonElement(e))&&(e.type==="hidden"||e.disabled))},isAutoFocusAllowed=function(e){var n=e.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(n)},isGuard=function(e){var n;return!!(e&&(!((n=getDataset(e))===null||n===void 0)&&n.focusGuard))},isNotAGuard=function(e){return!isGuard(e)},isDefined=function(e){return!!e},tabSort=function(e,n){var i=Math.max(0,e.tabIndex),a=Math.max(0,n.tabIndex),w=i-a,g=e.index-n.index;if(w){if(!i)return 1;if(!a)return-1}return w||g},getTabIndex=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},orderByTabIndex=function(e,n,i){return toArray(e).map(function(a,w){var g=getTabIndex(a);return{node:a,index:w,tabIndex:i&&g===-1?(a.dataset||{}).focusGuard?0:-1:g}}).filter(function(a){return!n||a.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(e,n){return toArray((e.shadowRoot||e).children).reduce(function(i,a){return i.concat(a.matches(n?queryGuardTabbables:queryTabbables)?[a]:[],getFocusablesWithShadowDom(a))},[])},getFocusablesWithIFrame=function(e,n){var i;return e instanceof HTMLIFrameElement&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?getFocusables([e.contentDocument.body],n):[e]},getFocusables=function(e,n){return e.reduce(function(i,a){var w,g=getFocusablesWithShadowDom(a,n),y=(w=[]).concat.apply(w,g.map(function(b){return getFocusablesWithIFrame(b,n)}));return i.concat(y,a.parentNode?toArray(a.parentNode.querySelectorAll(queryTabbables)).filter(function(b){return b===a}):[])},[])},getParentAutofocusables=function(e){var n=e.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(n).map(function(i){return getFocusables([i])}).reduce(function(i,a){return i.concat(a)},[])},filterFocusable=function(e,n){return toArray(e).filter(function(i){return isVisibleCached(n,i)}).filter(function(i){return notHiddenInput(i)})},filterAutoFocusable=function(e,n){return n===void 0&&(n=new Map),toArray(e).filter(function(i){return isAutoFocusAllowedCached(n,i)})},getTabbableNodes=function(e,n,i){return orderByTabIndex(filterFocusable(getFocusables(e,i),n),!0,i)},getFocusableNodes=function(e,n){return orderByTabIndex(filterFocusable(getFocusables(e),n),!1)},parentAutofocusables=function(e,n){return filterFocusable(getParentAutofocusables(e),n)},contains=function(e,n){return e.shadowRoot?contains(e.shadowRoot,n):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,n)?!0:toArray(e.children).some(function(i){var a;if(i instanceof HTMLIFrameElement){var w=(a=i.contentDocument)===null||a===void 0?void 0:a.body;return w?contains(w,n):!1}return contains(i,n)})},filterNested=function(e){for(var n=new Set,i=e.length,a=0;a<i;a+=1)for(var w=a+1;w<i;w+=1){var g=e[a].compareDocumentPosition(e[w]);(g&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(w),(g&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(a)}return e.filter(function(y,b){return!n.has(b)})},getTopParent=function(e){return e.parentNode?getTopParent(e.parentNode):e},getAllAffectedNodes=function(e){var n=asArray(e);return n.filter(Boolean).reduce(function(i,a){var w=a.getAttribute(FOCUS_GROUP);return i.push.apply(i,w?filterNested(toArray(getTopParent(a).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(w,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[a]),i},[])},safeProbe=function(e){try{return e()}catch{return}},getActiveElement=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var n=e.activeElement;return n.shadowRoot?getActiveElement(n.shadowRoot):n instanceof HTMLIFrameElement&&safeProbe(function(){return n.contentWindow.document})?getActiveElement(n.contentWindow.document):n}},focusInFrame=function(e,n){return e===n},focusInsideIframe=function(e,n){return!!toArray(e.querySelectorAll("iframe")).some(function(i){return focusInFrame(i,n)})},focusInside=function(e,n){return n===void 0&&(n=getActiveElement(getFirst(e).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:getAllAffectedNodes(e).some(function(i){return contains(i,n)||focusInsideIframe(i,n)})},focusIsHidden=function(e){e===void 0&&(e=document);var n=getActiveElement(e);return n?toArray(e.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(i){return contains(i,n)}):!1},findSelectedRadio=function(e,n){return n.filter(isRadioElement).filter(function(i){return i.name===e.name}).filter(function(i){return i.checked})[0]||e},correctNode=function(e,n){return isRadioElement(e)&&e.name?findSelectedRadio(e,n):e},correctNodes=function(e){var n=new Set;return e.forEach(function(i){return n.add(correctNode(i,e))}),e.filter(function(i){return n.has(i)})},pickFirstFocus=function(e){return e[0]&&e.length>1?correctNode(e[0],e):e[0]},pickFocusable=function(e,n){return e.indexOf(correctNode(n,e))},NEW_FOCUS="NEW_FOCUS",newFocus=function(e,n,i,a,w){var g=e.length,y=e[0],b=e[g-1],d=isGuard(a);if(!(a&&e.indexOf(a)>=0)){var f=a!==void 0?i.indexOf(a):-1,c=w?i.indexOf(w):f,s=w?e.indexOf(w):-1;if(f===-1)return s!==-1?s:NEW_FOCUS;if(s===-1)return NEW_FOCUS;var o=f-c,u=i.indexOf(y),h=i.indexOf(b),m=correctNodes(i),v=a!==void 0?m.indexOf(a):-1,T=w?m.indexOf(w):v,x=m.filter(function(L){return L.tabIndex>=0}),R=a!==void 0?x.indexOf(a):-1,k=w?x.indexOf(w):R,C=R>=0&&k>=0?k-R:T-v;if(!o&&s>=0||n.length===0)return s;var S=pickFocusable(e,n[0]),N=pickFocusable(e,n[n.length-1]);if(f<=u&&d&&Math.abs(o)>1)return N;if(f>=h&&d&&Math.abs(o)>1)return S;if(o&&Math.abs(C)>1)return s;if(f<=u)return N;if(f>h)return S;if(o)return Math.abs(o)>1?s:(g+s+o)%g}},findAutoFocused=function(e){return function(n){var i,a=(i=getDataset(n))===null||i===void 0?void 0:i.autofocus;return n.autofocus||a!==void 0&&a!=="false"||e.indexOf(n)>=0}},pickAutofocus=function(e,n,i){var a=e.map(function(g){var y=g.node;return y}),w=filterAutoFocusable(a.filter(findAutoFocused(i)));return w&&w.length?pickFirstFocus(w):pickFirstFocus(filterAutoFocusable(n))},getParents=function(e,n){return n===void 0&&(n=[]),n.push(e),e.parentNode&&getParents(e.parentNode.host||e.parentNode,n),n},getCommonParent=function(e,n){for(var i=getParents(e),a=getParents(n),w=0;w<i.length;w+=1){var g=i[w];if(a.indexOf(g)>=0)return g}return!1},getTopCommonParent=function(e,n,i){var a=asArray(e),w=asArray(n),g=a[0],y=!1;return w.filter(Boolean).forEach(function(b){y=getCommonParent(y||b,b)||y,i.filter(Boolean).forEach(function(d){var f=getCommonParent(g,d);f&&(!y||contains(f,y)?y=f:y=getCommonParent(f,y))})}),y},allParentAutofocusables=function(e,n){return e.reduce(function(i,a){return i.concat(parentAutofocusables(a,n))},[])},reorderNodes=function(e,n){var i=new Map;return n.forEach(function(a){return i.set(a.node,a)}),e.map(function(a){return i.get(a)}).filter(isDefined)},focusSolver=function(e,n){var i=getActiveElement(asArray(e).length>0?document:getFirst(e).ownerDocument),a=getAllAffectedNodes(e).filter(isNotAGuard),w=getTopCommonParent(i||e,e,a),g=new Map,y=getFocusableNodes(a,g),b=y.filter(function(h){var m=h.node;return isNotAGuard(m)});if(b[0]){var d=getFocusableNodes([w],g).map(function(h){var m=h.node;return m}),f=reorderNodes(d,b),c=f.map(function(h){var m=h.node;return m}),s=f.filter(function(h){var m=h.tabIndex;return m>=0}).map(function(h){var m=h.node;return m}),o=newFocus(c,s,d,i,n);if(o===NEW_FOCUS){var u=pickAutofocus(y,s,allParentAutofocusables(a,g))||pickAutofocus(y,c,allParentAutofocusables(a,g));if(u)return{node:u};console.warn("focus-lock: cannot find any node to move focus into");return}return o===void 0?o:f[o]}},expandFocusableNodes=function(e){var n=getAllAffectedNodes(e).filter(isNotAGuard),i=getTopCommonParent(e,e,n),a=orderByTabIndex(getFocusables([i],!0),!0,!0),w=getFocusables(n,!1);return a.map(function(g){var y=g.node,b=g.index;return{node:y,index:b,lockItem:w.indexOf(y)>=0,guard:isGuard(y)}})},focusOn=function(e,n){e&&("focus"in e&&e.focus(n),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(e,n,i){i===void 0&&(i={});var a=focusSolver(e,n);if(!lockDisabled&&a){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(a.node,i.focusOptions),guardCount--}};function weakRef(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var n=e?new WeakRef(e):null;return function(){return(n==null?void 0:n.deref())||null}}var recordElementLocation=function(e){if(!e)return null;for(var n=[],i=e;i&&i!==document.body;)n.push({current:weakRef(i),parent:weakRef(i.parentElement),left:weakRef(i.previousElementSibling),right:weakRef(i.nextElementSibling)}),i=i.parentElement;return{element:weakRef(e),stack:n,ownerDocument:e.ownerDocument}},restoreFocusTo=function(e){var n,i,a,w,g;if(e)for(var y=e.stack,b=e.ownerDocument,d=new Map,f=0,c=y;f<c.length;f++){var s=c[f],o=(n=s.parent)===null||n===void 0?void 0:n.call(s);if(o&&b.contains(o)){for(var u=(i=s.left)===null||i===void 0?void 0:i.call(s),h=s.current(),m=o.contains(h)?h:void 0,v=(a=s.right)===null||a===void 0?void 0:a.call(s),T=getTabbableNodes([o],d),x=(g=(w=m??(u==null?void 0:u.nextElementSibling))!==null&&w!==void 0?w:v)!==null&&g!==void 0?g:u;x;){for(var R=0,k=T;R<k.length;R++){var C=k[R];if(x!=null&&x.contains(C.node))return C.node}x=x.nextElementSibling}if(T.length)return T[0].node}}},captureFocusRestore=function(e){var n=recordElementLocation(e);return function(){return restoreFocusTo(n)}},getRelativeFocusable=function(e,n,i){if(!e||!n)return console.error("no element or scope given"),{};var a=asArray(n);if(a.every(function(y){return!contains(y,e)}))return console.error("Active element is not contained in the scope"),{};var w=i?getTabbableNodes(a,new Map):getFocusableNodes(a,new Map),g=w.findIndex(function(y){var b=y.node;return b===e});if(g!==-1)return{prev:w[g-1],next:w[g+1],first:w[0],last:w[w.length-1]}},getBoundary=function(e,n){var i=n?getTabbableNodes(asArray(e),new Map):getFocusableNodes(asArray(e),new Map);return{first:i[0],last:i[i.length-1]}},defaultOptions=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},moveFocus=function(e,n,i){n===void 0&&(n={});var a=defaultOptions(n),w=getRelativeFocusable(e,a.scope,a.onlyTabbable);if(w){var g=i(w,a.cycle);g&&focusOn(g.node,a.focusOptions)}},focusNextElement=function(e,n){n===void 0&&(n={}),moveFocus(e,n,function(i,a){var w=i.next,g=i.first;return w||a&&g})},focusPrevElement=function(e,n){n===void 0&&(n={}),moveFocus(e,n,function(i,a){var w=i.prev,g=i.last;return w||a&&g})},pickBoundary=function(e,n,i){var a,w=getBoundary(e,(a=n.onlyTabbable)!==null&&a!==void 0?a:!0),g=w[i];g&&focusOn(g.node,n.focusOptions)},focusFirstElement=function(e,n){n===void 0&&(n={}),pickBoundary(e,n,"first")},focusLastElement=function(e,n){n===void 0&&(n={}),pickBoundary(e,n,"last")};function deferAction(e){setTimeout(e,1)}var extractRef$1=function(n){return n&&"current"in n?n.current:n},focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(n){return(lastActiveTrap.whiteList||defaultWhitelist)(n)},recordPortal=function(n,i){lastPortaledElement={observerNode:n,portaledElement:i}},focusIsPortaledPair=function(n){return lastPortaledElement&&lastPortaledElement.portaledElement===n};function autoGuard(e,n,i,a){var w=null,g=e;do{var y=a[g];if(y.guard)y.node.dataset.focusAutoGuard&&(w=y);else if(y.lockItem){if(g!==e)return;w=null}else break}while((g+=i)!==n);w&&(w.node.tabIndex=0)}var focusWasOutside=function(n){return n?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function e(n,i,a){return i&&(i.host===n&&(!i.activeElement||a.contains(i.activeElement))||i.parentNode&&e(n,i.parentNode,a))},withinHost=function(n,i){return i.some(function(a){return checkInHost(n,a,a)})},getNodeFocusables=function(n){return getFocusableNodes(n,new Map)},isNotFocusable=function(n){return!getNodeFocusables([n.parentNode]).some(function(i){return i.node===n})},activateTrap=function(){var n=!1;if(lastActiveTrap){var i=lastActiveTrap,a=i.observed,w=i.persistentFocus,g=i.autoFocus,y=i.shards,b=i.crossFrame,d=i.focusOptions,f=i.noFocusGuards,c=a||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&lastActiveFocus!==document.body&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){var s=tryRestoreFocus();s&&s.focus()}var o=document&&document.activeElement;if(c){var u=[c].concat(y.map(extractRef$1).filter(Boolean)),h=function(){if(!focusWasOutside(b)||!f||!lastActiveFocus||windowFocused)return!1;var R=getNodeFocusables(u),k=R.findIndex(function(C){var S=C.node;return S===lastActiveFocus});return k===0||k===R.length-1};if((!o||focusWhitelisted(o))&&(w||h()||!isFreeFocus()||!lastActiveFocus&&g)&&(c&&!(focusInside(u)||o&&withinHost(o,u)||focusIsPortaledPair(o))&&(document&&!lastActiveFocus&&o&&!g?(o.blur&&o.blur(),document.body.focus()):(n=moveFocusInside(u,lastActiveFocus,{focusOptions:d}),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement,lastActiveFocus!==document.body&&(tryRestoreFocus=captureFocusRestore(lastActiveFocus)),focusWasOutsideWindow=!1),document&&o!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var m=document&&document.activeElement,v=expandFocusableNodes(u),T=v.map(function(x){var R=x.node;return R}).indexOf(m);T>-1&&(v.filter(function(x){var R=x.guard,k=x.node;return R&&k.dataset.focusAutoGuard}).forEach(function(x){var R=x.node;return R.removeAttribute("tabIndex")}),autoGuard(T,v.length,1,v),autoGuard(T,-1,-1,v))}}}return n},onTrap=function(n){activateTrap()&&n&&(n.stopPropagation(),n.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(n){var i=n.target,a=n.currentTarget;a.contains(i)||recordPortal(a,i)},FocusWatcher=function(){return null},onWindowFocus=function(){windowFocused=!0},onWindowBlur=function(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(e){return e.filter(function(n){var i=n.disabled;return!i})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(e){var n=e.slice(-1)[0];n&&!lastActiveTrap&&attachHandler();var i=lastActiveTrap,a=i&&n&&n.id===i.id;lastActiveTrap=n,i&&!a&&(i.onDeactivation(),e.filter(function(w){var g=w.id;return g===i.id}).length||i.returnFocus(!n)),n?(lastActiveFocus=null,(!a||i.observed!==n.observed)&&n.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(e){return e(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(n,i){return React.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:i},n))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=e=>{const{initialFocusRef:n,finalFocusRef:i,contentRef:a,restoreFocus:w,children:g,isDisabled:y,autoFocus:b,persistentFocus:d,lockFocusAcrossFrames:f}=e,c=reactExports.useCallback(()=>{n!=null&&n.current?n.current.focus():a!=null&&a.current&&getAllFocusable(a.current).length===0&&requestAnimationFrame(()=>{var h;(h=a.current)==null||h.focus()})},[n,a]),s=reactExports.useCallback(()=>{var u;(u=i==null?void 0:i.current)==null||u.focus()},[i]),o=w&&!i;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:f,persistentFocus:d,autoFocus:b,disabled:y,onActivation:c,onDeactivation:s,returnFocus:o,children:g})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function(n,i){const{templateAreas:a,gap:w,rowGap:g,columnGap:y,column:b,row:d,autoFlow:f,autoRows:c,templateRows:s,autoColumns:o,templateColumns:u,...h}=n,m={display:"grid",gridTemplateAreas:a,gridGap:w,gridRowGap:g,gridColumnGap:y,gridAutoColumns:o,gridColumn:b,gridRow:d,gridAutoFlow:f,gridAutoRows:c,gridTemplateRows:s,gridTemplateColumns:u};return jsxRuntimeExports.jsx(chakra.div,{ref:i,__css:m,...h})});Grid.displayName="Grid";function spanFn(e){return mapResponsive(e,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const GridItem=forwardRef(function(n,i){const{area:a,colSpan:w,colStart:g,colEnd:y,rowEnd:b,rowSpan:d,rowStart:f,...c}=n,s=compact({gridArea:a,gridColumn:spanFn(w),gridRow:spanFn(d),gridColumnStart:g,gridColumnEnd:y,gridRowStart:f,gridRowEnd:b});return jsxRuntimeExports.jsx(chakra.div,{ref:i,__css:s,...c})});GridItem.displayName="GridItem";const SimpleGrid=forwardRef(function(n,i){const{columns:a,spacingX:w,spacingY:g,spacing:y,minChildWidth:b,...d}=n,f=useTheme(),c=b?widthToColumns(b,f):countToColumns(a);return jsxRuntimeExports.jsx(Grid,{ref:i,gap:y,columnGap:w,rowGap:g,templateColumns:c,...d})});SimpleGrid.displayName="SimpleGrid";function toPx(e){return typeof e=="number"?`${e}px`:e}function widthToColumns(e,n){return mapResponsive(e,i=>{const a=getToken("sizes",i,toPx(i))(n);return i===null?null:`repeat(auto-fit, minmax(${a}, 1fr))`})}function countToColumns(e){return mapResponsive(e,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function createIcon(e){const{viewBox:n="0 0 24 24",d:i,displayName:a,defaultProps:w={}}=e,g=reactExports.Children.toArray(e.path),y=forwardRef((b,d)=>jsxRuntimeExports.jsx(Icon,{ref:d,viewBox:n,...w,...b,children:g.length?g:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:i})}));return y.displayName=a,y}const[ListStylesProvider,useListStyles]=createContext$1({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(n,i){const a=useMultiStyleConfig("List",n),{children:w,styleType:g="none",stylePosition:y,spacing:b,...d}=omitThemingProps(n),f=getValidChildren(w),s=b?{["& > *:not(style) ~ *:not(style)"]:{mt:b}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:a,children:jsxRuntimeExports.jsx(chakra.ul,{ref:i,listStyleType:g,listStylePosition:y,role:"list",__css:{...a.container,...s},...d,children:f})})});List.displayName="List";const OrderedList=forwardRef((e,n)=>{const{as:i,...a}=e;return jsxRuntimeExports.jsx(List,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...a})});OrderedList.displayName="OrderedList";const UnorderedList=forwardRef(function(n,i){const{as:a,...w}=n;return jsxRuntimeExports.jsx(List,{ref:i,as:"ul",styleType:"initial",marginStart:"1em",...w})});UnorderedList.displayName="UnorderedList";const ListItem=forwardRef(function(n,i){const a=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:i,...n,__css:a.item})});ListItem.displayName="ListItem";const ListIcon=forwardRef(function(n,i){const a=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:i,role:"presentation",...n,__css:a.icon})});ListIcon.displayName="ListIcon";var getDefaultParent=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},correctTargets=function(e,n){return n.map(function(i){if(e.contains(i))return i;var a=unwrapHost(i);return a&&e.contains(a)?a:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},applyAttributeToOthers=function(e,n,i,a){var w=correctTargets(n,Array.isArray(e)?e:[e]);markerMap[i]||(markerMap[i]=new WeakMap);var g=markerMap[i],y=[],b=new Set,d=new Set(w),f=function(s){!s||b.has(s)||(b.add(s),f(s.parentNode))};w.forEach(f);var c=function(s){!s||d.has(s)||Array.prototype.forEach.call(s.children,function(o){if(b.has(o))c(o);else try{var u=o.getAttribute(a),h=u!==null&&u!=="false",m=(counterMap.get(o)||0)+1,v=(g.get(o)||0)+1;counterMap.set(o,m),g.set(o,v),y.push(o),m===1&&h&&uncontrolledNodes.set(o,!0),v===1&&o.setAttribute(i,"true"),h||o.setAttribute(a,"true")}catch(T){console.error("aria-hidden: cannot operate on ",o,T)}})};return c(n),b.clear(),lockCount++,function(){y.forEach(function(s){var o=counterMap.get(s)-1,u=g.get(s)-1;counterMap.set(s,o),g.set(s,u),o||(uncontrolledNodes.has(s)||s.removeAttribute(a),uncontrolledNodes.delete(s)),u||s.removeAttribute(i)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(e,n,i){i===void 0&&(i="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),w=getDefaultParent(e);return w?(a.push.apply(a,Array.from(w.querySelectorAll("[aria-live]"))),applyAttributeToOthers(a,w,i,"aria-hidden")):function(){return null}},__defProp=Object.defineProperty,__defNormalProp=(e,n,i)=>n in e?__defProp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,__publicField=(e,n,i)=>(__defNormalProp(e,n+"",i),i);class ModalManager{constructor(){__publicField(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const i=Array.from(this.modals)[this.modals.size-1];return n===i}}const modalManager=new ModalManager;function useModalManager(e,n){const[i,a]=reactExports.useState(0);return reactExports.useEffect(()=>{const w=e.current;if(w){if(n){const g=modalManager.add(w);a(g)}return()=>{modalManager.remove(w),a(0)}}},[n,e]),i}function useModal(e){const{isOpen:n,onClose:i,id:a,closeOnOverlayClick:w=!0,closeOnEsc:g=!0,useInert:y=!0,onOverlayClick:b,onEsc:d}=e,f=reactExports.useRef(null),c=reactExports.useRef(null),[s,o,u]=useIds(a,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(f,n&&y);const h=useModalManager(f,n),m=reactExports.useRef(null),v=reactExports.useCallback(A=>{m.current=A.target},[]),T=reactExports.useCallback(A=>{A.key==="Escape"&&(A.stopPropagation(),g&&(i==null||i()),d==null||d())},[g,i,d]),[x,R]=reactExports.useState(!1),[k,C]=reactExports.useState(!1),S=reactExports.useCallback((A={},$=null)=>({role:"dialog",...A,ref:mergeRefs($,f),id:s,tabIndex:-1,"aria-modal":!0,"aria-labelledby":x?o:void 0,"aria-describedby":k?u:void 0,onClick:callAllHandlers(A.onClick,O=>O.stopPropagation())}),[u,k,s,o,x]),N=reactExports.useCallback(A=>{A.stopPropagation(),m.current===A.target&&modalManager.isTopModal(f.current)&&(w&&(i==null||i()),b==null||b())},[i,w,b]),L=reactExports.useCallback((A={},$=null)=>({...A,ref:mergeRefs($,c),onClick:callAllHandlers(A.onClick,N),onKeyDown:callAllHandlers(A.onKeyDown,T),onMouseDown:callAllHandlers(A.onMouseDown,v)}),[T,v,N]);return{isOpen:n,onClose:i,headerId:o,bodyId:u,setBodyMounted:C,setHeaderMounted:R,dialogRef:f,overlayRef:c,getDialogProps:S,getDialogContainerProps:L,index:h}}function useAriaHidden(e,n){const i=e.current;reactExports.useEffect(()=>{if(!(!e.current||!n))return hideOthers(e.current)},[n,e,i])}function useIds(e,...n){const i=reactExports.useId(),a=e||i;return reactExports.useMemo(()=>n.map(w=>`${w}-${a}`),[a,n])}const[ModalStylesProvider,useModalStyles]=createContext$1({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$1({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=e=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...e,lockFocusAcrossFrames:e.lockFocusAcrossFrames||!0},{portalProps:i,children:a,autoFocus:w,trapFocus:g,initialFocusRef:y,finalFocusRef:b,returnFocusOnClose:d,blockScrollOnMount:f,allowPinchZoom:c,preserveScrollBarGap:s,motionPreset:o,lockFocusAcrossFrames:u,animatePresenceProps:h,onCloseComplete:m}=n,v=useMultiStyleConfig("Modal",n),x={...useModal(n),autoFocus:w,trapFocus:g,initialFocusRef:y,finalFocusRef:b,returnFocusOnClose:d,blockScrollOnMount:f,allowPinchZoom:c,preserveScrollBarGap:s,motionPreset:o,lockFocusAcrossFrames:u};return jsxRuntimeExports.jsx(ModalContextProvider,{value:x,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:v,children:jsxRuntimeExports.jsx(AnimatePresence,{...h,onExitComplete:m,children:x.isOpen&&jsxRuntimeExports.jsx(Portal,{...i,children:a})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,n){var i=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),w=a[0],g=a[1],y=e.forwardProps,b=e.children,d=e.className,f=e.removeScrollBar,c=e.enabled,s=e.shards,o=e.sideCar,u=e.noIsolation,h=e.inert,m=e.allowPinchZoom,v=e.as,T=v===void 0?"div":v,x=e.gapMode,R=__rest(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=o,C=useMergeRefs([i,n]),S=__assign(__assign({},R),w);return reactExports.createElement(reactExports.Fragment,null,c&&reactExports.createElement(k,{sideCar:effectCar,removeScrollBar:f,shards:s,noIsolation:u,inert:h,setCallbacks:g,allowPinchZoom:!!m,lockRef:i,gapMode:x}),y?reactExports.cloneElement(reactExports.Children.only(b),__assign(__assign({},S),{ref:C})):reactExports.createElement(T,__assign({},S,{className:d,ref:C}),b))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=getNonce();return n&&e.setAttribute("nonce",n),e}function injectStyles(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function insertStyleTag(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var stylesheetSingleton=function(){var e=0,n=null;return{add:function(i){e==0&&(n=makeStyleTag())&&(injectStyles(n,i),insertStyleTag(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(n,i){reactExports.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&i])}},styleSingleton=function(){var e=styleHookSingleton(),n=function(i){var a=i.styles,w=i.dynamic;return e(a,w),null};return n},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(e){return parseInt(e||"",10)||0},getOffset=function(e){var n=window.getComputedStyle(document.body),i=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],w=n[e==="padding"?"paddingRight":"marginRight"];return[parse$1(i),parse$1(a),parse$1(w)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var n=getOffset(e),i=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-i+n[2]-n[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,n,i,a){var w=e.left,g=e.top,y=e.right,b=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(b,"px ").concat(a,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),i==="margin"&&`
    padding-left: `.concat(w,`px;
    padding-top: `).concat(g,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(a,`;
    `),i==="padding"&&"padding-right: ".concat(b,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(b,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(b,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(b,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var n=e.noRelative,i=e.noImportant,a=e.gapMode,w=a===void 0?"margin":a;useLockAttribute();var g=reactExports.useMemo(function(){return getGapWidth(w)},[w]);return reactExports.createElement(Style,{styles:getStyles(g,!n,w,i?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,n){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[n]!=="hidden"&&!(i.overflowY===i.overflowX&&!alwaysContainsScroll(e)&&i[n]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,n){var i=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var w=elementCouldBeScrolled(e,a);if(w){var g=getScrollVariables(e,a),y=g[1],b=g[2];if(y>b)return!0}a=a.parentNode}while(a&&a!==i.body);return!1},getVScrollVariables=function(e){var n=e.scrollTop,i=e.scrollHeight,a=e.clientHeight;return[n,i,a]},getHScrollVariables=function(e){var n=e.scrollLeft,i=e.scrollWidth,a=e.clientWidth;return[n,i,a]},elementCouldBeScrolled=function(e,n){return e==="v"?elementCouldBeVScrolled(n):elementCouldBeHScrolled(n)},getScrollVariables=function(e,n){return e==="v"?getVScrollVariables(n):getHScrollVariables(n)},getDirectionFactor=function(e,n){return e==="h"&&n==="rtl"?-1:1},handleScroll=function(e,n,i,a,w){var g=getDirectionFactor(e,window.getComputedStyle(n).direction),y=g*a,b=i.target,d=n.contains(b),f=!1,c=y>0,s=0,o=0;do{var u=getScrollVariables(e,b),h=u[0],m=u[1],v=u[2],T=m-v-g*h;(h||T)&&elementCouldBeScrolled(e,b)&&(s+=T,o+=h),b instanceof ShadowRoot?b=b.host:b=b.parentNode}while(!d&&b!==document.body||d&&(n.contains(b)||n===b));return(c&&Math.abs(s)<1||!c&&Math.abs(o)<1)&&(f=!0),f},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,n){return e[0]===n[0]&&e[1]===n[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(e){var n=reactExports.useRef([]),i=reactExports.useRef([0,0]),a=reactExports.useRef(),w=reactExports.useState(idCounter++)[0],g=reactExports.useState(styleSingleton)[0],y=reactExports.useRef(e);reactExports.useEffect(function(){y.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(w));var m=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(w))}),function(){document.body.classList.remove("block-interactivity-".concat(w)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(w))})}}},[e.inert,e.lockRef.current,e.shards]);var b=reactExports.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!y.current.allowPinchZoom;var T=getTouchXY(m),x=i.current,R="deltaX"in m?m.deltaX:x[0]-T[0],k="deltaY"in m?m.deltaY:x[1]-T[1],C,S=m.target,N=Math.abs(R)>Math.abs(k)?"h":"v";if("touches"in m&&N==="h"&&S.type==="range")return!1;var L=locationCouldBeScrolled(N,S);if(!L)return!0;if(L?C=N:(C=N==="v"?"h":"v",L=locationCouldBeScrolled(N,S)),!L)return!1;if(!a.current&&"changedTouches"in m&&(R||k)&&(a.current=C),!C)return!0;var A=a.current||C;return handleScroll(A,v,m,A==="h"?R:k)},[]),d=reactExports.useCallback(function(m){var v=m;if(!(!lockStack.length||lockStack[lockStack.length-1]!==g)){var T="deltaY"in v?getDeltaXY(v):getTouchXY(v),x=n.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&deltaCompare(C.delta,T)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var R=(y.current.shards||[]).map(extractRef).filter(Boolean).filter(function(C){return C.contains(v.target)}),k=R.length>0?b(v,R[0]):!y.current.noIsolation;k&&v.cancelable&&v.preventDefault()}}},[]),f=reactExports.useCallback(function(m,v,T,x){var R={name:m,delta:v,target:T,should:x,shadowParent:getOutermostShadowParent(T)};n.current.push(R),setTimeout(function(){n.current=n.current.filter(function(k){return k!==R})},1)},[]),c=reactExports.useCallback(function(m){i.current=getTouchXY(m),a.current=void 0},[]),s=reactExports.useCallback(function(m){f(m.type,getDeltaXY(m),m.target,b(m,e.lockRef.current))},[]),o=reactExports.useCallback(function(m){f(m.type,getTouchXY(m),m.target,b(m,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(g),e.setCallbacks({onScrollCapture:s,onWheelCapture:s,onTouchMoveCapture:o}),document.addEventListener("wheel",d,nonPassive),document.addEventListener("touchmove",d,nonPassive),document.addEventListener("touchstart",c,nonPassive),function(){lockStack=lockStack.filter(function(m){return m!==g}),document.removeEventListener("wheel",d,nonPassive),document.removeEventListener("touchmove",d,nonPassive),document.removeEventListener("touchstart",c,nonPassive)}},[]);var u=e.removeScrollBar,h=e.inert;return reactExports.createElement(reactExports.Fragment,null,h?reactExports.createElement(g,{styles:generateStyle(w)}):null,u?reactExports.createElement(RemoveScrollBar,{gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,n){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:n,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(e){const{autoFocus:n,trapFocus:i,dialogRef:a,initialFocusRef:w,blockScrollOnMount:g,allowPinchZoom:y,finalFocusRef:b,returnFocusOnClose:d,preserveScrollBarGap:f,lockFocusAcrossFrames:c,isOpen:s}=useModalContext(),[o,u]=usePresence();reactExports.useEffect(()=>{!o&&u&&setTimeout(u)},[o,u]);const h=useModalManager(a,s);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:n,isDisabled:!i,initialFocusRef:w,finalFocusRef:b,restoreFocus:d,contentRef:a,lockFocusAcrossFrames:c,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!f,allowPinchZoom:y,enabled:h===1&&g,forwardProps:!0,children:e.children})})}const variants$2={initial:({offsetX:e,offsetY:n,transition:i,transitionEnd:a,delay:w})=>({opacity:0,x:e,y:n,transition:(i==null?void 0:i.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,w),transitionEnd:a==null?void 0:a.exit}),enter:({transition:e,transitionEnd:n,delay:i})=>({opacity:1,x:0,y:0,transition:(e==null?void 0:e.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,i),transitionEnd:n==null?void 0:n.enter}),exit:({offsetY:e,offsetX:n,transition:i,transitionEnd:a,reverse:w,delay:g})=>{const y={x:n,y:e};return{opacity:0,transition:(i==null?void 0:i.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,g),...w?{...y,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{...y,...a==null?void 0:a.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$2},SlideFade=reactExports.forwardRef(function(n,i){const{unmountOnExit:a,in:w,reverse:g=!0,className:y,offsetX:b=0,offsetY:d=8,transition:f,transitionEnd:c,delay:s,animatePresenceProps:o,...u}=n,h=a?w&&a:!0,m=w||a?"enter":"exit",v={offsetX:b,offsetY:d,reverse:g,transition:f,transitionEnd:c,delay:s};return jsxRuntimeExports.jsx(AnimatePresence,{...o,custom:v,children:h&&jsxRuntimeExports.jsx(motion.div,{ref:i,className:cx("chakra-offset-slide",y),custom:v,...slideFadeConfig,animate:m,...u})})});SlideFade.displayName="SlideFade";const variants$1={exit:({reverse:e,initialScale:n,transition:i,transitionEnd:a,delay:w})=>({opacity:0,...e?{scale:n,transitionEnd:a==null?void 0:a.exit}:{transitionEnd:{scale:n,...a==null?void 0:a.exit}},transition:(i==null?void 0:i.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,w)}),enter:({transitionEnd:e,transition:n,delay:i})=>({opacity:1,scale:1,transition:(n==null?void 0:n.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,i),transitionEnd:e==null?void 0:e.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$1},ScaleFade=reactExports.forwardRef(function(n,i){const{unmountOnExit:a,in:w,reverse:g=!0,initialScale:y=.95,className:b,transition:d,transitionEnd:f,delay:c,animatePresenceProps:s,...o}=n,u=a?w&&a:!0,h=w||a?"enter":"exit",m={initialScale:y,reverse:g,transition:d,transitionEnd:f,delay:c};return jsxRuntimeExports.jsx(AnimatePresence,{...s,custom:m,children:u&&jsxRuntimeExports.jsx(motion.div,{ref:i,className:cx("chakra-offset-slide",b),...scaleFadeConfig,animate:h,custom:m,...o})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=e=>transitions[e||"none"],ModalTransition=reactExports.forwardRef((e,n)=>{const{preset:i,motionProps:a=getMotionProps(i),...w}=e;return jsxRuntimeExports.jsx(MotionSection,{ref:n,...a,...w})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((e,n)=>{const{className:i,children:a,containerProps:w,motionProps:g,...y}=e,{getDialogProps:b,getDialogContainerProps:d}=useModalContext(),f=b(y,n),c=d(w),s=cx("chakra-modal__content",i),o=useModalStyles(),u={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...o.dialog},h={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...o.dialogContainer},{motionPreset:m}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...c,className:"chakra-modal__content-container",tabIndex:-1,__css:h,children:jsxRuntimeExports.jsx(ModalTransition,{preset:m,motionProps:g,className:s,...f,__css:u,children:a})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((e,n)=>{const{className:i,...a}=e,{bodyId:w,setBodyMounted:g}=useModalContext();reactExports.useEffect(()=>(g(!0),()=>g(!1)),[g]);const y=cx("chakra-modal__body",i),b=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:n,className:y,id:w,...a,__css:b.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((e,n)=>{const{onClick:i,className:a,...w}=e,{onClose:g}=useModalContext(),y=cx("chakra-modal__close-btn",a),b=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:n,__css:b.closeButton,className:y,onClick:callAllHandlers(i,d=>{d.stopPropagation(),g()}),...w})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((e,n)=>{const{className:i,...a}=e,w=cx("chakra-modal__footer",i),g=useModalStyles(),y={display:"flex",alignItems:"center",justifyContent:"flex-end",...g.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:n,...a,__css:y,className:w})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((e,n)=>{const{className:i,...a}=e,{headerId:w,setHeaderMounted:g}=useModalContext();reactExports.useEffect(()=>(g(!0),()=>g(!1)),[g]);const y=cx("chakra-modal__header",i),b=useModalStyles(),d={flex:0,...b.header};return jsxRuntimeExports.jsx(chakra.header,{ref:n,className:y,id:w,...a,__css:d})});ModalHeader.displayName="ModalHeader";const variants={enter:({transition:e,transitionEnd:n,delay:i}={})=>({opacity:1,transition:(e==null?void 0:e.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,i),transitionEnd:n==null?void 0:n.enter}),exit:({transition:e,transitionEnd:n,delay:i}={})=>({opacity:0,transition:(e==null?void 0:e.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,i),transitionEnd:n==null?void 0:n.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants},Fade=reactExports.forwardRef(function(n,i){const{unmountOnExit:a,in:w,className:g,transition:y,transitionEnd:b,delay:d,animatePresenceProps:f,...c}=n,s=w||a?"enter":"exit",o=a?w&&a:!0,u={transition:y,transitionEnd:b,delay:d};return jsxRuntimeExports.jsx(AnimatePresence,{...f,custom:u,children:o&&jsxRuntimeExports.jsx(motion.div,{ref:i,className:cx("chakra-fade",g),custom:u,...fadeConfig,animate:s,...c})})});Fade.displayName="Fade";const MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((e,n)=>{const{className:i,transition:a,motionProps:w,...g}=e,y=cx("chakra-modal__overlay",i),d={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:f}=useModalContext(),s=w||(f==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv,{...s,__css:d,ref:n,className:y,...g})});ModalOverlay.displayName="ModalOverlay";const SelectField=forwardRef(function(n,i){const{children:a,placeholder:w,className:g,...y}=n;return jsxRuntimeExports.jsxs(chakra.select,{...y,ref:i,className:cx("chakra-select",g),children:[w&&jsxRuntimeExports.jsx("option",{value:"",children:w}),a]})});SelectField.displayName="SelectField";const Select=forwardRef((e,n)=>{var R;const i=useMultiStyleConfig("Select",e),{rootProps:a,placeholder:w,icon:g,color:y,height:b,h:d,minH:f,minHeight:c,iconColor:s,iconSize:o,...u}=omitThemingProps(e),[h,m]=split$1(u,layoutPropNames),v=useFormControl(m),T={width:"100%",height:"fit-content",position:"relative",color:y},x={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...(R=i.field)==null?void 0:R._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:T,...h,...a,children:[jsxRuntimeExports.jsx(SelectField,{ref:n,height:d??b,minH:f??c,placeholder:w,...v,__css:x,children:e.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(v.disabled),...(s||y)&&{color:s||y},__css:i.icon,...o&&{fontSize:o},children:g})]})});Select.displayName="Select";const DefaultIcon=e=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...e,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=e=>{const{children:n=jsxRuntimeExports.jsx(DefaultIcon,{}),...i}=e,a=reactExports.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...i,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(n)?a:null})};SelectIcon.displayName="SelectIcon";const Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";const StackItem=e=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});StackItem.displayName="StackItem";function getDividerStyles(e){const{spacing:n,direction:i}=e,a={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(i,w=>a[w])}}const Stack=forwardRef((e,n)=>{const{isInline:i,direction:a,align:w,justify:g,spacing:y="0.5rem",wrap:b,children:d,divider:f,className:c,shouldWrapChildren:s,...o}=e,u=i?"row":a??"column",h=reactExports.useMemo(()=>getDividerStyles({spacing:y,direction:u}),[y,u]),m=!!f,v=!s&&!m,T=reactExports.useMemo(()=>{const R=getValidChildren(d);return v?R:R.map((k,C)=>{const S=typeof k.key<"u"?k.key:C,N=C+1===R.length,A=s?jsxRuntimeExports.jsx(StackItem,{children:k},S):k;if(!m)return A;const $=reactExports.cloneElement(f,{__css:h}),O=N?null:$;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[A,O]},S)})},[f,h,m,v,s,d]),x=cx("chakra-stack",c);return jsxRuntimeExports.jsx(chakra.div,{ref:n,display:"flex",alignItems:w,justifyContent:g,flexDirection:u,flexWrap:b,gap:m?void 0:y,className:x,...o,children:T})});Stack.displayName="Stack";const HStack=forwardRef((e,n)=>jsxRuntimeExports.jsx(Stack,{align:"center",...e,direction:"row",ref:n}));HStack.displayName="HStack";const StackDivider=e=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__divider",...e,__css:{...e.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});StackDivider.displayName="StackDivider";const Heading=forwardRef(function(n,i){const a=useStyleConfig("Heading",n),{className:w,...g}=omitThemingProps(n);return jsxRuntimeExports.jsx(chakra.h2,{ref:i,className:cx("chakra-heading",n.className),...g,__css:a})});Heading.displayName="Heading";const Text=forwardRef(function(n,i){const a=useStyleConfig("Text",n),{className:w,align:g,decoration:y,casing:b,...d}=omitThemingProps(n),f=compact({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:i,className:cx("chakra-text",n.className),...f,...d,__css:a})});Text.displayName="Text";var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(e){function n(U,q){var K=U.length;U.push(q);e:for(;0<K;){var Q=K-1>>>1,X=U[Q];if(0<w(X,q))U[Q]=q,U[K]=X,K=Q;else break e}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var q=U[0],K=U.pop();if(K!==q){U[0]=K;e:for(var Q=0,X=U.length,te=X>>>1;Q<te;){var se=2*(Q+1)-1,J=U[se],le=se+1,ce=U[le];if(0>w(J,K))le<X&&0>w(ce,J)?(U[Q]=ce,U[le]=K,Q=le):(U[Q]=J,U[se]=K,Q=se);else if(le<X&&0>w(ce,K))U[Q]=ce,U[le]=K,Q=le;else break e}}return q}function w(U,q){var K=U.sortIndex-q.sortIndex;return K!==0?K:U.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var y=Date,b=y.now();e.unstable_now=function(){return y.now()-b}}var d=[],f=[],c=1,s=null,o=3,u=!1,h=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function R(U){for(var q=i(f);q!==null;){if(q.callback===null)a(f);else if(q.startTime<=U)a(f),q.sortIndex=q.expirationTime,n(d,q);else break;q=i(f)}}function k(U){if(m=!1,R(U),!h)if(i(d)!==null)h=!0,F();else{var q=i(f);q!==null&&V(k,q.startTime-U)}}var C=!1,S=-1,N=5,L=-1;function A(){return!(e.unstable_now()-L<N)}function $(){if(C){var U=e.unstable_now();L=U;var q=!0;try{e:{h=!1,m&&(m=!1,T(S),S=-1),u=!0;var K=o;try{t:{for(R(U),s=i(d);s!==null&&!(s.expirationTime>U&&A());){var Q=s.callback;if(typeof Q=="function"){s.callback=null,o=s.priorityLevel;var X=Q(s.expirationTime<=U);if(U=e.unstable_now(),typeof X=="function"){s.callback=X,R(U),q=!0;break t}s===i(d)&&a(d),R(U)}else a(d);s=i(d)}if(s!==null)q=!0;else{var te=i(f);te!==null&&V(k,te.startTime-U),q=!1}}break e}finally{s=null,o=K,u=!1}q=void 0}}finally{q?O():C=!1}}}var O;if(typeof x=="function")O=function(){x($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,z=B.port2;B.port1.onmessage=$,O=function(){z.postMessage(null)}}else O=function(){v($,0)};function F(){C||(C=!0,O())}function V(U,q){S=v(function(){U(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){h||u||(h=!0,F())},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_getFirstCallbackNode=function(){return i(d)},e.unstable_next=function(U){switch(o){case 1:case 2:case 3:var q=3;break;default:q=o}var K=o;o=q;try{return U()}finally{o=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=o;o=U;try{return q()}finally{o=K}},e.unstable_scheduleCallback=function(U,q,K){var Q=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,U={id:c++,callback:q,priorityLevel:U,startTime:K,expirationTime:X,sortIndex:-1},K>Q?(U.sortIndex=K,n(f,U),i(d)===null&&U===i(f)&&(m?(T(S),S=-1):m=!0,V(k,K-Q))):(U.sortIndex=X,n(d,U),h||u||(h=!0,F())),U},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(U){var q=o;return function(){var K=o;o=q;try{return U.apply(this,arguments)}finally{o=K}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var e=requireScheduler(),n=requireReact(),i=requireReactDom();function a(l){var p="https://react.dev/errors/"+l;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+l+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function S(l){return l===null||typeof l!="object"?null:(l=C&&l[C]||l["@@iterator"],typeof l=="function"?l:null)}var N=Symbol.for("react.client.reference");function L(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===N?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case b:return"Portal";case c:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case v:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case u:return(l.displayName||"Context")+".Provider";case o:return(l._context.displayName||"Context")+".Consumer";case h:var p=l.render;return l=l.displayName,l||(l=p.displayName||p.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case T:return p=l.displayName||null,p!==null?p:L(l.type)||"Memo";case x:p=l._payload,l=l._init;try{return L(l(p))}catch{}}return null}var A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,O,B;function z(l){if(O===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);O=p&&p[1]||"",B=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+l+B}var F=!1;function V(l,p){if(!l||F)return"";F=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(p){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(it){var Ye=it}Reflect.construct(l,[],pt)}else{try{pt.call()}catch(it){Ye=it}l.call(pt.prototype)}}else{try{throw Error()}catch(it){Ye=it}(pt=l())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(it){if(it&&Ye&&typeof it.stack=="string")return[it.stack,Ye.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=D.DetermineComponentFrameRoot(),ne=G[0],ge=G[1];if(ne&&ge){var Ce=ne.split(`
`),Fe=ge.split(`
`);for(j=D=0;D<Ce.length&&!Ce[D].includes("DetermineComponentFrameRoot");)D++;for(;j<Fe.length&&!Fe[j].includes("DetermineComponentFrameRoot");)j++;if(D===Ce.length||j===Fe.length)for(D=Ce.length-1,j=Fe.length-1;1<=D&&0<=j&&Ce[D]!==Fe[j];)j--;for(;1<=D&&0<=j;D--,j--)if(Ce[D]!==Fe[j]){if(D!==1||j!==1)do if(D--,j--,0>j||Ce[D]!==Fe[j]){var at=`
`+Ce[D].replace(" at new "," at ");return l.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",l.displayName)),at}while(1<=D&&0<=j);break}}}finally{F=!1,Error.prepareStackTrace=_}return(_=l?l.displayName||l.name:"")?z(_):""}function U(l){switch(l.tag){case 26:case 27:case 5:return z(l.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return l=V(l.type,!1),l;case 11:return l=V(l.type.render,!1),l;case 1:return l=V(l.type,!0),l;default:return""}}function q(l){try{var p="";do p+=U(l),l=l.return;while(l);return p}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function K(l){var p=l,_=l;if(l.alternate)for(;p.return;)p=p.return;else{l=p;do p=l,(p.flags&4098)!==0&&(_=p.return),l=p.return;while(l)}return p.tag===3?_:null}function Q(l){if(l.tag===13){var p=l.memoizedState;if(p===null&&(l=l.alternate,l!==null&&(p=l.memoizedState)),p!==null)return p.dehydrated}return null}function X(l){if(K(l)!==l)throw Error(a(188))}function te(l){var p=l.alternate;if(!p){if(p=K(l),p===null)throw Error(a(188));return p!==l?null:l}for(var _=l,D=p;;){var j=_.return;if(j===null)break;var G=j.alternate;if(G===null){if(D=j.return,D!==null){_=D;continue}break}if(j.child===G.child){for(G=j.child;G;){if(G===_)return X(j),l;if(G===D)return X(j),p;G=G.sibling}throw Error(a(188))}if(_.return!==D.return)_=j,D=G;else{for(var ne=!1,ge=j.child;ge;){if(ge===_){ne=!0,_=j,D=G;break}if(ge===D){ne=!0,D=j,_=G;break}ge=ge.sibling}if(!ne){for(ge=G.child;ge;){if(ge===_){ne=!0,_=G,D=j;break}if(ge===D){ne=!0,D=G,_=j;break}ge=ge.sibling}if(!ne)throw Error(a(189))}}if(_.alternate!==D)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?l:p}function se(l){var p=l.tag;if(p===5||p===26||p===27||p===6)return l;for(l=l.child;l!==null;){if(p=se(l),p!==null)return p;l=l.sibling}return null}var J=Array.isArray,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ue=[],Ie=-1;function Te(l){return{current:l}}function Re(l){0>Ie||(l.current=ue[Ie],ue[Ie]=null,Ie--)}function ke(l,p){Ie++,ue[Ie]=l.current,l.current=p}var me=Te(null),ve=Te(null),he=Te(null),Le=Te(null);function Qe(l,p){switch(ke(he,p),ke(ve,l),ke(me,null),l=p.nodeType,l){case 9:case 11:p=(p=p.documentElement)&&(p=p.namespaceURI)?nd(p):0;break;default:if(l=l===8?p.parentNode:p,p=l.tagName,l=l.namespaceURI)l=nd(l),p=sd(l,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}Re(me),ke(me,p)}function De(){Re(me),Re(ve),Re(he)}function xt(l){l.memoizedState!==null&&ke(Le,l);var p=me.current,_=sd(p,l.type);p!==_&&(ke(ve,l),ke(me,_))}function Mt(l){ve.current===l&&(Re(me),Re(ve)),Le.current===l&&(Re(Le),$l._currentValue=ce)}var $t=Object.prototype.hasOwnProperty,tr=e.unstable_scheduleCallback,br=e.unstable_cancelCallback,dr=e.unstable_shouldYield,Ne=e.unstable_requestPaint,He=e.unstable_now,_t=e.unstable_getCurrentPriorityLevel,Ve=e.unstable_ImmediatePriority,ft=e.unstable_UserBlockingPriority,Je=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,pe=e.unstable_IdlePriority,ye=e.log,Me=e.unstable_setDisableYieldValue,st=null,lt=null;function Xe(l){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(st,l,void 0,(l.current.flags&128)===128)}catch{}}function we(l){if(typeof ye=="function"&&Me(l),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(st,l)}catch{}}var Ue=Math.clz32?Math.clz32:At,ht=Math.log,tt=Math.LN2;function At(l){return l>>>=0,l===0?32:31-(ht(l)/tt|0)|0}var vt=128,St=4194304;function Ot(l){var p=l&42;if(p!==0)return p;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function nt(l,p){var _=l.pendingLanes;if(_===0)return 0;var D=0,j=l.suspendedLanes,G=l.pingedLanes,ne=l.warmLanes;l=l.finishedLanes!==0;var ge=_&134217727;return ge!==0?(_=ge&~j,_!==0?D=Ot(_):(G&=ge,G!==0?D=Ot(G):l||(ne=ge&~ne,ne!==0&&(D=Ot(ne))))):(ge=_&~j,ge!==0?D=Ot(ge):G!==0?D=Ot(G):l||(ne=_&~ne,ne!==0&&(D=Ot(ne)))),D===0?0:p!==0&&p!==D&&(p&j)===0&&(j=D&-D,ne=p&-p,j>=ne||j===32&&(ne&4194176)!==0)?p:D}function jt(l,p){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&p)===0}function Dn(l,p){switch(l){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(){var l=vt;return vt<<=1,(vt&4194176)===0&&(vt=128),l}function vn(){var l=St;return St<<=1,(St&62914560)===0&&(St=4194304),l}function Nr(l){for(var p=[],_=0;31>_;_++)p.push(l);return p}function ui(l,p){l.pendingLanes|=p,p!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function On(l,p,_,D,j,G){var ne=l.pendingLanes;l.pendingLanes=_,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=_,l.entangledLanes&=_,l.errorRecoveryDisabledLanes&=_,l.shellSuspendCounter=0;var ge=l.entanglements,Ce=l.expirationTimes,Fe=l.hiddenUpdates;for(_=ne&~_;0<_;){var at=31-Ue(_),pt=1<<at;ge[at]=0,Ce[at]=-1;var Ye=Fe[at];if(Ye!==null)for(Fe[at]=null,at=0;at<Ye.length;at++){var it=Ye[at];it!==null&&(it.lane&=-536870913)}_&=~pt}D!==0&&jn(l,D,0),G!==0&&j===0&&l.tag!==0&&(l.suspendedLanes|=G&~(ne&~p))}function jn(l,p,_){l.pendingLanes|=p,l.suspendedLanes&=~p;var D=31-Ue(p);l.entangledLanes|=p,l.entanglements[D]=l.entanglements[D]|1073741824|_&4194218}function ti(l,p){var _=l.entangledLanes|=p;for(l=l.entanglements;_;){var D=31-Ue(_),j=1<<D;j&p|l[D]&p&&(l[D]|=p),_&=~j}}function Ui(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function bn(){var l=le.p;return l!==0?l:(l=window.event,l===void 0?32:yd(l.type))}function Tn(l,p){var _=le.p;try{return le.p=l,p()}finally{le.p=_}}var ln=Math.random().toString(36).slice(2),Et="__reactFiber$"+ln,Cr="__reactProps$"+ln,En="__reactContainer$"+ln,Cn="__reactEvents$"+ln,xn="__reactListeners$"+ln,ks="__reactHandles$"+ln,Ci="__reactResources$"+ln,ri="__reactMarker$"+ln;function Ai(l){delete l[Et],delete l[Cr],delete l[Cn],delete l[xn],delete l[ks]}function An(l){var p=l[Et];if(p)return p;for(var _=l.parentNode;_;){if(p=_[En]||_[Et]){if(_=p.alternate,p.child!==null||_!==null&&_.child!==null)for(l=od(l);l!==null;){if(_=l[Et])return _;l=od(l)}return p}l=_,_=l.parentNode}return null}function jr(l){if(l=l[Et]||l[En]){var p=l.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return l}return null}function rn(l){var p=l.tag;if(p===5||p===26||p===27||p===6)return l.stateNode;throw Error(a(33))}function Sn(l){var p=l[Ci];return p||(p=l[Ci]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Tr(l){l[ri]=!0}var ki=new Set,Nn={};function zt(l,p){wn(l,p),wn(l+"Capture",p)}function wn(l,p){for(Nn[l]=p,l=0;l<p.length;l++)ki.add(p[l])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ni={},cn={};function Rs(l){return $t.call(cn,l)?!0:$t.call(ni,l)?!1:wt.test(l)?cn[l]=!0:(ni[l]=!0,!1)}function P(l,p,_){if(Rs(p))if(_===null)l.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":l.removeAttribute(p);return;case"boolean":var D=p.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){l.removeAttribute(p);return}}l.setAttribute(p,""+_)}}function Y(l,p,_){if(_===null)l.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttribute(p,""+_)}}function ie(l,p,_,D){if(D===null)l.removeAttribute(_);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(_);return}l.setAttributeNS(p,_,""+D)}}function de(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ee(l){var p=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ge(l){var p=Ee(l)?"checked":"value",_=Object.getOwnPropertyDescriptor(l.constructor.prototype,p),D=""+l[p];if(!l.hasOwnProperty(p)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var j=_.get,G=_.set;return Object.defineProperty(l,p,{configurable:!0,get:function(){return j.call(this)},set:function(ne){D=""+ne,G.call(this,ne)}}),Object.defineProperty(l,p,{enumerable:_.enumerable}),{getValue:function(){return D},setValue:function(ne){D=""+ne},stopTracking:function(){l._valueTracker=null,delete l[p]}}}}function et(l){l._valueTracker||(l._valueTracker=Ge(l))}function yt(l){if(!l)return!1;var p=l._valueTracker;if(!p)return!0;var _=p.getValue(),D="";return l&&(D=Ee(l)?l.checked?"true":"false":l.value),l=D,l!==_?(p.setValue(l),!0):!1}function Ct(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var or=/[\n"\\]/g;function mr(l){return l.replace(or,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function nn(l,p,_,D,j,G,ne,ge){l.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?l.type=ne:l.removeAttribute("type"),p!=null?ne==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+de(p)):l.value!==""+de(p)&&(l.value=""+de(p)):ne!=="submit"&&ne!=="reset"||l.removeAttribute("value"),p!=null?kn(l,ne,de(p)):_!=null?kn(l,ne,de(_)):D!=null&&l.removeAttribute("value"),j==null&&G!=null&&(l.defaultChecked=!!G),j!=null&&(l.checked=j&&typeof j!="function"&&typeof j!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?l.name=""+de(ge):l.removeAttribute("name")}function hn(l,p,_,D,j,G,ne,ge){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(l.type=G),p!=null||_!=null){if(!(G!=="submit"&&G!=="reset"||p!=null))return;_=_!=null?""+de(_):"",p=p!=null?""+de(p):_,ge||p===l.value||(l.value=p),l.defaultValue=p}D=D??j,D=typeof D!="function"&&typeof D!="symbol"&&!!D,l.checked=ge?l.checked:!!D,l.defaultChecked=!!D,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(l.name=ne)}function kn(l,p,_){p==="number"&&Ct(l.ownerDocument)===l||l.defaultValue===""+_||(l.defaultValue=""+_)}function Hn(l,p,_,D){if(l=l.options,p){p={};for(var j=0;j<_.length;j++)p["$"+_[j]]=!0;for(_=0;_<l.length;_++)j=p.hasOwnProperty("$"+l[_].value),l[_].selected!==j&&(l[_].selected=j),j&&D&&(l[_].defaultSelected=!0)}else{for(_=""+de(_),p=null,j=0;j<l.length;j++){if(l[j].value===_){l[j].selected=!0,D&&(l[j].defaultSelected=!0);return}p!==null||l[j].disabled||(p=l[j])}p!==null&&(p.selected=!0)}}function Pn(l,p,_){if(p!=null&&(p=""+de(p),p!==l.value&&(l.value=p),_==null)){l.defaultValue!==p&&(l.defaultValue=p);return}l.defaultValue=_!=null?""+de(_):""}function _n(l,p,_,D){if(p==null){if(D!=null){if(_!=null)throw Error(a(92));if(J(D)){if(1<D.length)throw Error(a(93));D=D[0]}_=D}_==null&&(_=""),p=_}_=de(p),l.defaultValue=_,D=l.textContent,D===_&&D!==""&&D!==null&&(l.value=D)}function Hr(l,p){if(p){var _=l.firstChild;if(_&&_===l.lastChild&&_.nodeType===3){_.nodeValue=p;return}}l.textContent=p}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ri(l,p,_){var D=p.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?D?l.setProperty(p,""):p==="float"?l.cssFloat="":l[p]="":D?l.setProperty(p,_):typeof _!="number"||_===0||$s.has(p)?p==="float"?l.cssFloat=_:l[p]=(""+_).trim():l[p]=_+"px"}function Gt(l,p,_){if(p!=null&&typeof p!="object")throw Error(a(62));if(l=l.style,_!=null){for(var D in _)!_.hasOwnProperty(D)||p!=null&&p.hasOwnProperty(D)||(D.indexOf("--")===0?l.setProperty(D,""):D==="float"?l.cssFloat="":l[D]="");for(var j in p)D=p[j],p.hasOwnProperty(j)&&_[j]!==D&&Ri(l,j,D)}else for(var G in p)p.hasOwnProperty(G)&&Ri(l,G,p[G])}function ls(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(l){return Ls.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var ji=null;function Rn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Gn=null,M=null;function W(l){var p=jr(l);if(p&&(l=p.stateNode)){var _=l[Cr]||null;e:switch(l=p.stateNode,p.type){case"input":if(nn(l,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),p=_.name,_.type==="radio"&&p!=null){for(_=l;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+mr(""+p)+'"][type="radio"]'),p=0;p<_.length;p++){var D=_[p];if(D!==l&&D.form===l.form){var j=D[Cr]||null;if(!j)throw Error(a(90));nn(D,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(p=0;p<_.length;p++)D=_[p],D.form===l.form&&yt(D)}break e;case"textarea":Pn(l,_.value,_.defaultValue);break e;case"select":p=_.value,p!=null&&Hn(l,!!_.multiple,p,!1)}}}var ee=!1;function ae(l,p,_){if(ee)return l(p,_);ee=!0;try{var D=l(p);return D}finally{if(ee=!1,(Gn!==null||M!==null)&&(Tu(),Gn&&(p=Gn,l=M,M=Gn=null,W(p),l)))for(p=0;p<l.length;p++)W(l[p])}}function Se(l,p){var _=l.stateNode;if(_===null)return null;var D=_[Cr]||null;if(D===null)return null;_=D[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(l=l.type,D=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!D;break e;default:l=!1}if(l)return null;if(_&&typeof _!="function")throw Error(a(231,p,typeof _));return _}var Be=!1;if(un)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{Be=!1}var dt=null,bt=null,Ht=null;function Wt(){if(Ht)return Ht;var l,p=bt,_=p.length,D,j="value"in dt?dt.value:dt.textContent,G=j.length;for(l=0;l<_&&p[l]===j[l];l++);var ne=_-l;for(D=1;D<=ne&&p[_-D]===j[G-D];D++);return Ht=j.slice(l,1<D?1-D:void 0)}function Kt(l){var p=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&p===13&&(l=13)):l=p,l===10&&(l=13),32<=l||l===13?l:0}function nr(){return!0}function _e(){return!1}function re(l){function p(_,D,j,G,ne){this._reactName=_,this._targetInst=j,this.type=D,this.nativeEvent=G,this.target=ne,this.currentTarget=null;for(var ge in l)l.hasOwnProperty(ge)&&(_=l[ge],this[ge]=_?_(G):G[ge]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?nr:_e,this.isPropagationStopped=_e,this}return $(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),p}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$e=re(xe),mt=$({},xe,{view:0,detail:0}),Tt=re(mt),Bt,Zt,Rt,Vt=$({},mt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Rt&&(Rt&&l.type==="mousemove"?(Bt=l.screenX-Rt.screenX,Zt=l.screenY-Rt.screenY):Zt=Bt=0,Rt=l),Bt)},movementY:function(l){return"movementY"in l?l.movementY:Zt}}),xr=re(Vt),Lr=$({},Vt,{dataTransfer:0}),Pr=re(Lr),Mr=$({},mt,{relatedTarget:0}),Jr=re(Mr),ii=$({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),$i=re(ii),us=$({},xe,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Uo=re(us),Ma=$({},xe,{data:0}),fn=re(Ma),wd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(l){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(l):(l=_d[l])?!!p[l]:!1}function cs(){return Oh}var Pl=$({},mt,{key:function(l){if(l.key){var p=wd[l.key]||l.key;if(p!=="Unidentified")return p}return l.type==="keypress"?(l=Kt(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Mi[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(l){return l.type==="keypress"?Kt(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Kt(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Wu=re(Pl),zr=$({},Vt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Is=re(zr),Gu=$({},mt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),Td=re(Gu),Ku=$({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ed=re(Ku),Cd=$({},Vt,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ad=re(Cd),Nh=$({},xe,{newState:0,oldState:0}),Fl=re(Nh),eo=[9,13,27,32],qu=un&&"CompositionEvent"in window,to=null;un&&"documentMode"in document&&(to=document.documentMode);var Ph=un&&"TextEvent"in window&&!to,zl=un&&(!qu||to&&8<to&&11>=to),Bl=" ",Yu=!1;function Fh(l,p){switch(l){case"keyup":return eo.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ia=!1;function kd(l,p){switch(l){case"compositionend":return Vl(p);case"keypress":return p.which!==32?null:(Yu=!0,Bl);case"textInput":return l=p.data,l===Bl&&Yu?null:l;default:return null}}function zh(l,p){if(ia)return l==="compositionend"||!qu&&Fh(l,p)?(l=Wt(),Ht=bt=dt=null,ia=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return zl&&p.locale!=="ko"?null:p.data;default:return null}}var ci={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p==="input"?!!ci[l.type]:p==="textarea"}function ro(l,p,_,D){Gn?M?M.push(D):M=[D]:Gn=D,p=ku(p,"onChange"),0<p.length&&(_=new $e("onChange","change",null,_,D),l.push({event:_,listeners:p}))}var no=null,io=null;function Rd(l){td(l,0)}function jl(l){var p=rn(l);if(yt(p))return l}function Bh(l,p){if(l==="change")return p}var Vh=!1;if(un){var Xu;if(un){var sa="oninput"in document;if(!sa){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),sa=typeof Uh.oninput=="function"}Xu=sa}else Xu=!1;Vh=Xu&&(!document.documentMode||9<document.documentMode)}function jh(){no&&(no.detachEvent("onpropertychange",Hl),io=no=null)}function Hl(l){if(l.propertyName==="value"&&jl(io)){var p=[];ro(p,io,l,Rn(l)),ae(Rd,p)}}function Hh(l,p,_){l==="focusin"?(jh(),no=p,io=_,no.attachEvent("onpropertychange",Hl)):l==="focusout"&&jh()}function aa(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return jl(io)}function Wl(l,p){if(l==="click")return jl(p)}function $d(l,p){if(l==="input"||l==="change")return jl(p)}function Md(l,p){return l===p&&(l!==0||1/l===1/p)||l!==l&&p!==p}var hi=typeof Object.is=="function"?Object.is:Md;function hs(l,p){if(hi(l,p))return!0;if(typeof l!="object"||l===null||typeof p!="object"||p===null)return!1;var _=Object.keys(l),D=Object.keys(p);if(_.length!==D.length)return!1;for(D=0;D<_.length;D++){var j=_[D];if(!$t.call(p,j)||!hi(l[j],p[j]))return!1}return!0}function Li(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Qu(l,p){var _=Li(l);l=0;for(var D;_;){if(_.nodeType===3){if(D=l+_.textContent.length,l<=p&&D>=p)return{node:_,offset:p-l};l=D}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Li(_)}}function Wh(l,p){return l&&p?l===p?!0:l&&l.nodeType===3?!1:p&&p.nodeType===3?Wh(l,p.parentNode):"contains"in l?l.contains(p):l.compareDocumentPosition?!!(l.compareDocumentPosition(p)&16):!1:!1}function Gh(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var p=Ct(l.document);p instanceof l.HTMLIFrameElement;){try{var _=typeof p.contentWindow.location.href=="string"}catch{_=!1}if(_)l=p.contentWindow;else break;p=Ct(l.document)}return p}function Zu(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p&&(p==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||p==="textarea"||l.contentEditable==="true")}function Ld(l,p){var _=Gh(p);p=l.focusedElem;var D=l.selectionRange;if(_!==p&&p&&p.ownerDocument&&Wh(p.ownerDocument.documentElement,p)){if(D!==null&&Zu(p)){if(l=D.start,_=D.end,_===void 0&&(_=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(_,p.value.length);else if(_=(l=p.ownerDocument||document)&&l.defaultView||window,_.getSelection){_=_.getSelection();var j=p.textContent.length,G=Math.min(D.start,j);D=D.end===void 0?G:Math.min(D.end,j),!_.extend&&G>D&&(j=D,D=G,G=j),j=Qu(p,G);var ne=Qu(p,D);j&&ne&&(_.rangeCount!==1||_.anchorNode!==j.node||_.anchorOffset!==j.offset||_.focusNode!==ne.node||_.focusOffset!==ne.offset)&&(l=l.createRange(),l.setStart(j.node,j.offset),_.removeAllRanges(),G>D?(_.addRange(l),_.extend(ne.node,ne.offset)):(l.setEnd(ne.node,ne.offset),_.addRange(l)))}}for(l=[],_=p;_=_.parentNode;)_.nodeType===1&&l.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)_=l[p],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var Id=un&&"documentMode"in document&&11>=document.documentMode,Hi=null,ze=null,rt=null,Ze=!1;function Lt(l,p,_){var D=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Ze||Hi==null||Hi!==Ct(D)||(D=Hi,"selectionStart"in D&&Zu(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),rt&&hs(rt,D)||(rt=D,D=ku(ze,"onSelect"),0<D.length&&(p=new $e("onSelect","select",null,p,_),l.push({event:p,listeners:D}),p.target=Hi)))}function qt(l,p){var _={};return _[l.toLowerCase()]=p.toLowerCase(),_["Webkit"+l]="webkit"+p,_["Moz"+l]="moz"+p,_}var pr={animationend:qt("Animation","AnimationEnd"),animationiteration:qt("Animation","AnimationIteration"),animationstart:qt("Animation","AnimationStart"),transitionrun:qt("Transition","TransitionRun"),transitionstart:qt("Transition","TransitionStart"),transitioncancel:qt("Transition","TransitionCancel"),transitionend:qt("Transition","TransitionEnd")},en={},Ir={};un&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Ds(l){if(en[l])return en[l];if(!pr[l])return l;var p=pr[l],_;for(_ in p)if(p.hasOwnProperty(_)&&_ in Ir)return en[l]=p[_];return l}var Kh=Ds("animationend"),fi=Ds("animationiteration"),jo=Ds("animationstart"),Dd=Ds("transitionrun"),so=Ds("transitionstart"),Gl=Ds("transitioncancel"),Ho=Ds("transitionend"),kr=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ii(l,p){kr.set(l,p),zt(p,[l])}var Kn=[],ao=0,Ju=0;function Kl(){for(var l=ao,p=Ju=ao=0;p<l;){var _=Kn[p];Kn[p++]=null;var D=Kn[p];Kn[p++]=null;var j=Kn[p];Kn[p++]=null;var G=Kn[p];if(Kn[p++]=null,D!==null&&j!==null){var ne=D.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),D.pending=j}G!==0&&ec(_,j,G)}}function La(l,p,_,D){Kn[ao++]=l,Kn[ao++]=p,Kn[ao++]=_,Kn[ao++]=D,Ju|=D,l.lanes|=D,l=l.alternate,l!==null&&(l.lanes|=D)}function fs(l,p,_,D){return La(l,p,_,D),Ia(l)}function Wi(l,p){return La(l,null,null,p),Ia(l)}function ec(l,p,_){l.lanes|=_;var D=l.alternate;D!==null&&(D.lanes|=_);for(var j=!1,G=l.return;G!==null;)G.childLanes|=_,D=G.alternate,D!==null&&(D.childLanes|=_),G.tag===22&&(l=G.stateNode,l===null||l._visibility&1||(j=!0)),l=G,G=G.return;j&&p!==null&&l.tag===3&&(G=l.stateNode,j=31-Ue(_),G=G.hiddenUpdates,l=G[j],l===null?G[j]=[p]:l.push(p),p.lane=_|536870912)}function Ia(l){if(50<wl)throw wl=0,Jc=null,Error(a(185));for(var p=l.return;p!==null;)l=p,p=l.return;return l.tag===3?l.stateNode:null}var Da={},tc=new WeakMap;function qn(l,p){if(typeof l=="object"&&l!==null){var _=tc.get(l);return _!==void 0?_:(p={value:l,source:p,stack:q(p)},tc.set(l,p),p)}return{value:l,source:p,stack:q(p)}}var Oa=[],ds=0,ps=null,Na=0,Di=[],Oi=0,Pa=null,Ni=1,Pi="";function Os(l,p){Oa[ds++]=Na,Oa[ds++]=ps,ps=l,Na=p}function Yh(l,p,_){Di[Oi++]=Ni,Di[Oi++]=Pi,Di[Oi++]=Pa,Pa=l;var D=Ni;l=Pi;var j=32-Ue(D)-1;D&=~(1<<j),_+=1;var G=32-Ue(p)+j;if(30<G){var ne=j-j%5;G=(D&(1<<ne)-1).toString(32),D>>=ne,j-=ne,Ni=1<<32-Ue(p)+j|_<<j|D,Pi=G+l}else Ni=1<<G|_<<j|D,Pi=l}function ql(l){l.return!==null&&(Os(l,1),Yh(l,1,0))}function rc(l){for(;l===ps;)ps=Oa[--ds],Oa[ds]=null,Na=Oa[--ds],Oa[ds]=null;for(;l===Pa;)Pa=Di[--Oi],Di[Oi]=null,Pi=Di[--Oi],Di[Oi]=null,Ni=Di[--Oi],Di[Oi]=null}var Yn=null,gr=null,Jt=!1,Gi=null,ms=!1,Yl=Error(a(519));function Fa(l){var p=Error(a(418,""));throw Ns(qn(p,l)),Yl}function Xl(l){var p=l.stateNode,_=l.type,D=l.memoizedProps;switch(p[Et]=l,p[Cr]=D,_){case"dialog":yr("cancel",p),yr("close",p);break;case"iframe":case"object":case"embed":yr("load",p);break;case"video":case"audio":for(_=0;_<El.length;_++)yr(El[_],p);break;case"source":yr("error",p);break;case"img":case"image":case"link":yr("error",p),yr("load",p);break;case"details":yr("toggle",p);break;case"input":yr("invalid",p),hn(p,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0),et(p);break;case"select":yr("invalid",p);break;case"textarea":yr("invalid",p),_n(p,D.value,D.defaultValue,D.children),et(p)}_=D.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||p.textContent===""+_||D.suppressHydrationWarning===!0||rr(p.textContent,_)?(D.popover!=null&&(yr("beforetoggle",p),yr("toggle",p)),D.onScroll!=null&&yr("scroll",p),D.onScrollEnd!=null&&yr("scrollend",p),D.onClick!=null&&(p.onclick=Ru),p=!0):p=!1,p||Fa(l)}function oo(l){for(Yn=l.return;Yn;)switch(Yn.tag){case 3:case 27:ms=!0;return;case 5:case 13:ms=!1;return;default:Yn=Yn.return}}function za(l){if(l!==Yn)return!1;if(!Jt)return oo(l),Jt=!0,!1;var p=!1,_;if((_=l.tag!==3&&l.tag!==27)&&((_=l.tag===5)&&(_=l.type,_=!(_!=="form"&&_!=="button")||Al(l.type,l.memoizedProps)),_=!_),_&&(p=!0),p&&gr&&Fa(l),oo(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));e:{for(l=l.nextSibling,p=0;l;){if(l.nodeType===8)if(_=l.data,_==="/$"){if(p===0){gr=ns(l.nextSibling);break e}p--}else _!=="$"&&_!=="$!"&&_!=="$?"||p++;l=l.nextSibling}gr=null}}else gr=Yn?ns(l.stateNode.nextSibling):null;return!0}function gs(){gr=Yn=null,Jt=!1}function Ns(l){Gi===null?Gi=[l]:Gi.push(l)}var Ps=Error(a(460)),Wo=Error(a(474)),oa={then:function(){}};function Xh(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ql(){}function Qh(l,p,_){switch(_=l[_],_===void 0?l.push(p):_!==p&&(p.then(Ql,Ql),p=_),p.status){case"fulfilled":return p.value;case"rejected":throw l=p.reason,l===Ps?Error(a(483)):l;default:if(typeof p.status=="string")p.then(Ql,Ql);else{if(l=Dr,l!==null&&100<l.shellSuspendCounter)throw Error(a(482));l=p,l.status="pending",l.then(function(D){if(p.status==="pending"){var j=p;j.status="fulfilled",j.value=D}},function(D){if(p.status==="pending"){var j=p;j.status="rejected",j.reason=D}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw l=p.reason,l===Ps?Error(a(483)):l}throw Go=p,Ps}}var Go=null;function Zh(){if(Go===null)throw Error(a(459));var l=Go;return Go=null,l}var Fs=null,zs=0;function Ko(l){var p=zs;return zs+=1,Fs===null&&(Fs=[]),Qh(Fs,l,p)}function fe(l,p){p=p.props.ref,l.ref=p!==void 0?p:null}function Bs(l,p){throw p.$$typeof===g?Error(a(525)):(l=Object.prototype.toString.call(p),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":l)))}function qo(l){var p=l._init;return p(l._payload)}function di(l){function p(We,Pe){if(l){var qe=We.deletions;qe===null?(We.deletions=[Pe],We.flags|=16):qe.push(Pe)}}function _(We,Pe){if(!l)return null;for(;Pe!==null;)p(We,Pe),Pe=Pe.sibling;return null}function D(We){for(var Pe=new Map;We!==null;)We.key!==null?Pe.set(We.key,We):Pe.set(We.index,We),We=We.sibling;return Pe}function j(We,Pe){return We=_a(We,Pe),We.index=0,We.sibling=null,We}function G(We,Pe,qe){return We.index=qe,l?(qe=We.alternate,qe!==null?(qe=qe.index,qe<Pe?(We.flags|=33554434,Pe):qe):(We.flags|=33554434,Pe)):(We.flags|=1048576,Pe)}function ne(We){return l&&We.alternate===null&&(We.flags|=33554434),We}function ge(We,Pe,qe,ut){return Pe===null||Pe.tag!==6?(Pe=Wc(qe,We.mode,ut),Pe.return=We,Pe):(Pe=j(Pe,qe),Pe.return=We,Pe)}function Ce(We,Pe,qe,ut){var It=qe.type;return It===d?at(We,Pe,qe.props.children,ut,qe.key):Pe!==null&&(Pe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===x&&qo(It)===Pe.type)?(Pe=j(Pe,qe.props),fe(Pe,qe),Pe.return=We,Pe):(Pe=yl(qe.type,qe.key,qe.props,null,We.mode,ut),fe(Pe,qe),Pe.return=We,Pe)}function Fe(We,Pe,qe,ut){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==qe.containerInfo||Pe.stateNode.implementation!==qe.implementation?(Pe=Gc(qe,We.mode,ut),Pe.return=We,Pe):(Pe=j(Pe,qe.children||[]),Pe.return=We,Pe)}function at(We,Pe,qe,ut,It){return Pe===null||Pe.tag!==7?(Pe=Ka(qe,We.mode,ut,It),Pe.return=We,Pe):(Pe=j(Pe,qe),Pe.return=We,Pe)}function pt(We,Pe,qe){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Wc(""+Pe,We.mode,qe),Pe.return=We,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return qe=yl(Pe.type,Pe.key,Pe.props,null,We.mode,qe),fe(qe,Pe),qe.return=We,qe;case b:return Pe=Gc(Pe,We.mode,qe),Pe.return=We,Pe;case x:var ut=Pe._init;return Pe=ut(Pe._payload),pt(We,Pe,qe)}if(J(Pe)||S(Pe))return Pe=Ka(Pe,We.mode,qe,null),Pe.return=We,Pe;if(typeof Pe.then=="function")return pt(We,Ko(Pe),qe);if(Pe.$$typeof===u)return pt(We,yu(We,Pe),qe);Bs(We,Pe)}return null}function Ye(We,Pe,qe,ut){var It=Pe!==null?Pe.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return It!==null?null:ge(We,Pe,""+qe,ut);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:return qe.key===It?Ce(We,Pe,qe,ut):null;case b:return qe.key===It?Fe(We,Pe,qe,ut):null;case x:return It=qe._init,qe=It(qe._payload),Ye(We,Pe,qe,ut)}if(J(qe)||S(qe))return It!==null?null:at(We,Pe,qe,ut,null);if(typeof qe.then=="function")return Ye(We,Pe,Ko(qe),ut);if(qe.$$typeof===u)return Ye(We,Pe,yu(We,qe),ut);Bs(We,qe)}return null}function it(We,Pe,qe,ut,It){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return We=We.get(qe)||null,ge(Pe,We,""+ut,It);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case y:return We=We.get(ut.key===null?qe:ut.key)||null,Ce(Pe,We,ut,It);case b:return We=We.get(ut.key===null?qe:ut.key)||null,Fe(Pe,We,ut,It);case x:var cr=ut._init;return ut=cr(ut._payload),it(We,Pe,qe,ut,It)}if(J(ut)||S(ut))return We=We.get(qe)||null,at(Pe,We,ut,It,null);if(typeof ut.then=="function")return it(We,Pe,qe,Ko(ut),It);if(ut.$$typeof===u)return it(We,Pe,qe,yu(Pe,ut),It);Bs(Pe,ut)}return null}function Dt(We,Pe,qe,ut){for(var It=null,cr=null,Ft=Pe,Yt=Pe=0,Ar=null;Ft!==null&&Yt<qe.length;Yt++){Ft.index>Yt?(Ar=Ft,Ft=null):Ar=Ft.sibling;var wr=Ye(We,Ft,qe[Yt],ut);if(wr===null){Ft===null&&(Ft=Ar);break}l&&Ft&&wr.alternate===null&&p(We,Ft),Pe=G(wr,Pe,Yt),cr===null?It=wr:cr.sibling=wr,cr=wr,Ft=Ar}if(Yt===qe.length)return _(We,Ft),Jt&&Os(We,Yt),It;if(Ft===null){for(;Yt<qe.length;Yt++)Ft=pt(We,qe[Yt],ut),Ft!==null&&(Pe=G(Ft,Pe,Yt),cr===null?It=Ft:cr.sibling=Ft,cr=Ft);return Jt&&Os(We,Yt),It}for(Ft=D(Ft);Yt<qe.length;Yt++)Ar=it(Ft,We,Yt,qe[Yt],ut),Ar!==null&&(l&&Ar.alternate!==null&&Ft.delete(Ar.key===null?Yt:Ar.key),Pe=G(Ar,Pe,Yt),cr===null?It=Ar:cr.sibling=Ar,cr=Ar);return l&&Ft.forEach(function($a){return p(We,$a)}),Jt&&Os(We,Yt),It}function er(We,Pe,qe,ut){if(qe==null)throw Error(a(151));for(var It=null,cr=null,Ft=Pe,Yt=Pe=0,Ar=null,wr=qe.next();Ft!==null&&!wr.done;Yt++,wr=qe.next()){Ft.index>Yt?(Ar=Ft,Ft=null):Ar=Ft.sibling;var $a=Ye(We,Ft,wr.value,ut);if($a===null){Ft===null&&(Ft=Ar);break}l&&Ft&&$a.alternate===null&&p(We,Ft),Pe=G($a,Pe,Yt),cr===null?It=$a:cr.sibling=$a,cr=$a,Ft=Ar}if(wr.done)return _(We,Ft),Jt&&Os(We,Yt),It;if(Ft===null){for(;!wr.done;Yt++,wr=qe.next())wr=pt(We,wr.value,ut),wr!==null&&(Pe=G(wr,Pe,Yt),cr===null?It=wr:cr.sibling=wr,cr=wr);return Jt&&Os(We,Yt),It}for(Ft=D(Ft);!wr.done;Yt++,wr=qe.next())wr=it(Ft,We,Yt,wr.value,ut),wr!==null&&(l&&wr.alternate!==null&&Ft.delete(wr.key===null?Yt:wr.key),Pe=G(wr,Pe,Yt),cr===null?It=wr:cr.sibling=wr,cr=wr);return l&&Ft.forEach(function(_p){return p(We,_p)}),Jt&&Os(We,Yt),It}function qr(We,Pe,qe,ut){if(typeof qe=="object"&&qe!==null&&qe.type===d&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:e:{for(var It=qe.key;Pe!==null;){if(Pe.key===It){if(It=qe.type,It===d){if(Pe.tag===7){_(We,Pe.sibling),ut=j(Pe,qe.props.children),ut.return=We,We=ut;break e}}else if(Pe.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===x&&qo(It)===Pe.type){_(We,Pe.sibling),ut=j(Pe,qe.props),fe(ut,qe),ut.return=We,We=ut;break e}_(We,Pe);break}else p(We,Pe);Pe=Pe.sibling}qe.type===d?(ut=Ka(qe.props.children,We.mode,ut,qe.key),ut.return=We,We=ut):(ut=yl(qe.type,qe.key,qe.props,null,We.mode,ut),fe(ut,qe),ut.return=We,We=ut)}return ne(We);case b:e:{for(It=qe.key;Pe!==null;){if(Pe.key===It)if(Pe.tag===4&&Pe.stateNode.containerInfo===qe.containerInfo&&Pe.stateNode.implementation===qe.implementation){_(We,Pe.sibling),ut=j(Pe,qe.children||[]),ut.return=We,We=ut;break e}else{_(We,Pe);break}else p(We,Pe);Pe=Pe.sibling}ut=Gc(qe,We.mode,ut),ut.return=We,We=ut}return ne(We);case x:return It=qe._init,qe=It(qe._payload),qr(We,Pe,qe,ut)}if(J(qe))return Dt(We,Pe,qe,ut);if(S(qe)){if(It=S(qe),typeof It!="function")throw Error(a(150));return qe=It.call(qe),er(We,Pe,qe,ut)}if(typeof qe.then=="function")return qr(We,Pe,Ko(qe),ut);if(qe.$$typeof===u)return qr(We,Pe,yu(We,qe),ut);Bs(We,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Pe!==null&&Pe.tag===6?(_(We,Pe.sibling),ut=j(Pe,qe),ut.return=We,We=ut):(_(We,Pe),ut=Wc(qe,We.mode,ut),ut.return=We,We=ut),ne(We)):_(We,Pe)}return function(We,Pe,qe,ut){try{zs=0;var It=qr(We,Pe,qe,ut);return Fs=null,It}catch(Ft){if(Ft===Ps)throw Ft;var cr=xi(29,Ft,null,We.mode);return cr.lanes=ut,cr.return=We,cr}finally{}}}var ir=di(!0),Jh=di(!1),lo=Te(null),Zl=Te(0);function la(l,p){l=Qs,ke(Zl,l),ke(lo,p),Qs=l|p.baseLanes}function nc(){ke(Zl,Qs),ke(lo,lo.current)}function ic(){Qs=Zl.current,Re(lo),Re(Zl)}var Fi=Te(null),ys=null;function ua(l){var p=l.alternate;ke(dn,dn.current&1),ke(Fi,l),ys===null&&(p===null||lo.current!==null||p.memoizedState!==null)&&(ys=l)}function vs(l){if(l.tag===22){if(ke(dn,dn.current),ke(Fi,l),ys===null){var p=l.alternate;p!==null&&p.memoizedState!==null&&(ys=l)}}else ca()}function ca(){ke(dn,dn.current),ke(Fi,Fi.current)}function Vs(l){Re(Fi),ys===l&&(ys=null),Re(dn)}var dn=Te(0);function Jl(l){for(var p=l;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Od=typeof AbortController<"u"?AbortController:function(){var l=[],p=this.signal={aborted:!1,addEventListener:function(_,D){l.push(D)}};this.abort=function(){p.aborted=!0,l.forEach(function(_){return _()})}},Us=e.unstable_scheduleCallback,Nd=e.unstable_NormalPriority,pn={$$typeof:u,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new Od,data:new Map,refCount:0}}function Yo(l){l.refCount--,l.refCount===0&&Us(Nd,function(){l.controller.abort()})}var Xo=null,js=0,uo=0,co=null;function Ki(l,p){if(Xo===null){var _=Xo=[];js=0,uo=uh(),co={status:"pending",value:void 0,then:function(D){_.push(D)}}}return js++,p.then(ef,ef),p}function ef(){if(--js===0&&Xo!==null){co!==null&&(co.status="fulfilled");var l=Xo;Xo=null,uo=0,co=null;for(var p=0;p<l.length;p++)(0,l[p])()}}function Pd(l,p){var _=[],D={status:"pending",value:null,reason:null,then:function(j){_.push(j)}};return l.then(function(){D.status="fulfilled",D.value=p;for(var j=0;j<_.length;j++)(0,_[j])(p)},function(j){for(D.status="rejected",D.reason=j,j=0;j<_.length;j++)(0,_[j])(void 0)}),D}var tf=A.S;A.S=function(l,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Ki(l,p),tf!==null&&tf(l,p)};var Ba=Te(null);function ac(){var l=Ba.current;return l!==null?l:Dr.pooledCache}function Qo(l,p){p===null?ke(Ba,Ba.current):ke(Ba,p.pool)}function oc(){var l=ac();return l===null?null:{parent:pn._currentValue,pool:l}}var ha=0,ur=null,Rr=null,Br=null,Va=!1,ho=!1,fa=!1,eu=0,pi=0,da=null,Ua=0;function Er(){throw Error(a(321))}function lc(l,p){if(p===null)return!1;for(var _=0;_<p.length&&_<l.length;_++)if(!hi(l[_],p[_]))return!1;return!0}function tu(l,p,_,D,j,G){return ha=G,ur=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,A.H=l===null||l.memoizedState===null?ai:bs,fa=!1,G=_(D,j),fa=!1,ho&&(G=fo(p,_,D,j)),uc(l),G}function uc(l){A.H=Yr;var p=Rr!==null&&Rr.next!==null;if(ha=0,Br=Rr=ur=null,Va=!1,pi=0,da=null,p)throw Error(a(300));l===null||mn||(l=l.dependencies,l!==null&&gu(l)&&(mn=!0))}function fo(l,p,_,D){ur=l;var j=0;do{if(ho&&(da=null),pi=0,ho=!1,25<=j)throw Error(a(301));if(j+=1,Br=Rr=null,l.updateQueue!=null){var G=l.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}A.H=ga,G=p(_,D)}while(ho);return G}function pa(){var l=A.H,p=l.useState()[0];return p=typeof p.then=="function"?ja(p):p,l=l.useState()[0],(Rr!==null?Rr.memoizedState:null)!==l&&(ur.flags|=1024),p}function ru(){var l=eu!==0;return eu=0,l}function cc(l,p,_){p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~_}function po(l){if(Va){for(l=l.memoizedState;l!==null;){var p=l.queue;p!==null&&(p.pending=null),l=l.next}Va=!1}ha=0,Br=Rr=ur=null,ho=!1,pi=eu=0,da=null}function si(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?ur.memoizedState=Br=l:Br=Br.next=l,Br}function tn(){if(Rr===null){var l=ur.alternate;l=l!==null?l.memoizedState:null}else l=Rr.next;var p=Br===null?ur.memoizedState:Br.next;if(p!==null)Br=p,Rr=l;else{if(l===null)throw ur.alternate===null?Error(a(467)):Error(a(310));Rr=l,l={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Br===null?ur.memoizedState=Br=l:Br=Br.next=l}return Br}var sn;sn=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ja(l){var p=pi;return pi+=1,da===null&&(da=[]),l=Qh(da,l,p),p=ur,(Br===null?p.memoizedState:Br.next)===null&&(p=p.alternate,A.H=p===null||p.memoizedState===null?ai:bs),l}function Zo(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ja(l);if(l.$$typeof===u)return zn(l)}throw Error(a(438,String(l)))}function zi(l){var p=null,_=ur.updateQueue;if(_!==null&&(p=_.memoCache),p==null){var D=ur.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(p={data:D.data.map(function(j){return j.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),_===null&&(_=sn(),ur.updateQueue=_),_.memoCache=p,_=p.data[p.index],_===void 0)for(_=p.data[p.index]=Array(l),D=0;D<l;D++)_[D]=k;return p.index++,_}function qi(l,p){return typeof p=="function"?p(l):p}function Ha(l){var p=tn();return Hs(p,Rr,l)}function Hs(l,p,_){var D=l.queue;if(D===null)throw Error(a(311));D.lastRenderedReducer=_;var j=l.baseQueue,G=D.pending;if(G!==null){if(j!==null){var ne=j.next;j.next=G.next,G.next=ne}p.baseQueue=j=G,D.pending=null}if(G=l.baseState,j===null)l.memoizedState=G;else{p=j.next;var ge=ne=null,Ce=null,Fe=p,at=!1;do{var pt=Fe.lane&-536870913;if(pt!==Fe.lane?(Sr&pt)===pt:(ha&pt)===pt){var Ye=Fe.revertLane;if(Ye===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),pt===uo&&(at=!0);else if((ha&Ye)===Ye){Fe=Fe.next,Ye===uo&&(at=!0);continue}else pt={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},Ce===null?(ge=Ce=pt,ne=G):Ce=Ce.next=pt,ur.lanes|=Ye,Ta|=Ye;pt=Fe.action,fa&&_(G,pt),G=Fe.hasEagerState?Fe.eagerState:_(G,pt)}else Ye={lane:pt,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},Ce===null?(ge=Ce=Ye,ne=G):Ce=Ce.next=Ye,ur.lanes|=pt,Ta|=pt;Fe=Fe.next}while(Fe!==null&&Fe!==p);if(Ce===null?ne=G:Ce.next=ge,!hi(G,l.memoizedState)&&(mn=!0,at&&(_=co,_!==null)))throw _;l.memoizedState=G,l.baseState=ne,l.baseQueue=Ce,D.lastRenderedState=G}return j===null&&(D.lanes=0),[l.memoizedState,D.dispatch]}function nu(l){var p=tn(),_=p.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=l;var D=_.dispatch,j=_.pending,G=p.memoizedState;if(j!==null){_.pending=null;var ne=j=j.next;do G=l(G,ne.action),ne=ne.next;while(ne!==j);hi(G,p.memoizedState)||(mn=!0),p.memoizedState=G,p.baseQueue===null&&(p.baseState=G),_.lastRenderedState=G}return[G,D]}function Fn(l,p,_){var D=ur,j=tn(),G=Jt;if(G){if(_===void 0)throw Error(a(407));_=_()}else _=p();var ne=!hi((Rr||j).memoizedState,_);if(ne&&(j.memoizedState=_,mn=!0),j=j.queue,ou(nf.bind(null,D,j,l),[l]),j.getSnapshot!==p||ne||Br!==null&&Br.memoizedState.tag&1){if(D.flags|=2048,ma(9,rf.bind(null,D,j,_,p),{destroy:void 0},null),Dr===null)throw Error(a(349));G||(ha&60)!==0||iu(D,p,_)}return _}function iu(l,p,_){l.flags|=16384,l={getSnapshot:p,value:_},p=ur.updateQueue,p===null?(p=sn(),ur.updateQueue=p,p.stores=[l]):(_=p.stores,_===null?p.stores=[l]:_.push(l))}function rf(l,p,_,D){p.value=_,p.getSnapshot=D,sf(p)&&su(l)}function nf(l,p,_){return _(function(){sf(p)&&su(l)})}function sf(l){var p=l.getSnapshot;l=l.value;try{var _=p();return!hi(l,_)}catch{return!0}}function su(l){var p=Wi(l,2);p!==null&&Vn(p,l,2)}function hc(l){var p=si();if(typeof l=="function"){var _=l;if(l=_(),fa){we(!0);try{_()}finally{we(!1)}}}return p.memoizedState=p.baseState=l,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:l},p}function mo(l,p,_,D){return l.baseState=_,Hs(l,Rr,typeof D=="function"?D:qi)}function af(l,p,_,D,j){if(xo(l))throw Error(a(485));if(l=p.action,l!==null){var G={payload:j,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){G.listeners.push(ne)}};A.T!==null?_(!0):G.isTransition=!1,D(G),_=p.pending,_===null?(G.next=p.pending=G,of(p,G)):(G.next=_.next,p.pending=_.next=G)}}function of(l,p){var _=p.action,D=p.payload,j=l.state;if(p.isTransition){var G=A.T,ne={};A.T=ne;try{var ge=_(j,D),Ce=A.S;Ce!==null&&Ce(ne,ge),lf(l,p,ge)}catch(Fe){fc(l,p,Fe)}finally{A.T=G}}else try{G=_(j,D),lf(l,p,G)}catch(Fe){fc(l,p,Fe)}}function lf(l,p,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(D){go(l,p,D)},function(D){return fc(l,p,D)}):go(l,p,_)}function go(l,p,_){p.status="fulfilled",p.value=_,uf(p),l.state=_,p=l.pending,p!==null&&(_=p.next,_===p?l.pending=null:(_=_.next,p.next=_,of(l,_)))}function fc(l,p,_){var D=l.pending;if(l.pending=null,D!==null){D=D.next;do p.status="rejected",p.reason=_,uf(p),p=p.next;while(p!==D)}l.action=null}function uf(l){l=l.listeners;for(var p=0;p<l.length;p++)(0,l[p])()}function au(l,p){return p}function dc(l,p){if(Jt){var _=Dr.formState;if(_!==null){e:{var D=ur;if(Jt){if(gr){t:{for(var j=gr,G=ms;j.nodeType!==8;){if(!G){j=null;break t}if(j=ns(j.nextSibling),j===null){j=null;break t}}G=j.data,j=G==="F!"||G==="F"?j:null}if(j){gr=ns(j.nextSibling),D=j.data==="F!";break e}}Fa(D)}D=!1}D&&(p=_[0])}}return _=si(),_.memoizedState=_.baseState=p,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:p},_.queue=D,_=mi.bind(null,ur,D),D.dispatch=_,D=hc(!1),G=bo.bind(null,ur,!1,D.queue),D=si(),j={state:p,dispatch:null,action:l,pending:null},D.queue=j,_=af.bind(null,ur,j,G,_),j.dispatch=_,D.memoizedState=l,[p,_,!1]}function cf(l){var p=tn();return hf(p,Rr,l)}function hf(l,p,_){p=Hs(l,p,au)[0],l=Ha(qi)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?ja(p):p;var D=tn(),j=D.queue,G=j.dispatch;return _!==D.memoizedState&&(ur.flags|=2048,ma(9,Fd.bind(null,j,_),{destroy:void 0},null)),[p,G,l]}function Fd(l,p){l.action=p}function pc(l){var p=tn(),_=Rr;if(_!==null)return hf(p,_,l);tn(),p=p.memoizedState,_=tn();var D=_.queue.dispatch;return _.memoizedState=l,[p,D,!1]}function ma(l,p,_,D){return l={tag:l,create:p,inst:_,deps:D,next:null},p=ur.updateQueue,p===null&&(p=sn(),ur.updateQueue=p),_=p.lastEffect,_===null?p.lastEffect=l.next=l:(D=_.next,_.next=l,l.next=D,p.lastEffect=l),l}function ff(){return tn().memoizedState}function yo(l,p,_,D){var j=si();ur.flags|=l,j.memoizedState=ma(1|p,_,{destroy:void 0},D===void 0?null:D)}function Jo(l,p,_,D){var j=tn();D=D===void 0?null:D;var G=j.memoizedState.inst;Rr!==null&&D!==null&&lc(D,Rr.memoizedState.deps)?j.memoizedState=ma(p,_,G,D):(ur.flags|=l,j.memoizedState=ma(1|p,_,G,D))}function mc(l,p){yo(8390656,8,l,p)}function ou(l,p){Jo(2048,8,l,p)}function el(l,p){return Jo(4,2,l,p)}function df(l,p){return Jo(4,4,l,p)}function gc(l,p){if(typeof p=="function"){l=l();var _=p(l);return function(){typeof _=="function"?_():p(null)}}if(p!=null)return l=l(),p.current=l,function(){p.current=null}}function yc(l,p,_){_=_!=null?_.concat([l]):null,Jo(4,4,gc.bind(null,p,l),_)}function vc(){}function bc(l,p){var _=tn();p=p===void 0?null:p;var D=_.memoizedState;return p!==null&&lc(p,D[1])?D[0]:(_.memoizedState=[l,p],l)}function pf(l,p){var _=tn();p=p===void 0?null:p;var D=_.memoizedState;if(p!==null&&lc(p,D[1]))return D[0];if(D=l(),fa){we(!0);try{l()}finally{we(!1)}}return _.memoizedState=[D,p],D}function tl(l,p,_){return _===void 0||(ha&1073741824)!==0?l.memoizedState=p:(l.memoizedState=_,l=zf(),ur.lanes|=l,Ta|=l,_)}function xc(l,p,_,D){return hi(_,p)?_:lo.current!==null?(l=tl(l,_,D),hi(l,p)||(mn=!0),l):(ha&42)===0?(mn=!0,l.memoizedState=_):(l=zf(),ur.lanes|=l,Ta|=l,p)}function lu(l,p,_,D,j){var G=le.p;le.p=G!==0&&8>G?G:8;var ne=A.T,ge={};A.T=ge,bo(l,!1,p,_);try{var Ce=j(),Fe=A.S;if(Fe!==null&&Fe(ge,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var at=Pd(Ce,D);nl(l,p,at,wi(l))}else nl(l,p,D,wi(l))}catch(pt){nl(l,p,{then:function(){},status:"rejected",reason:pt},wi())}finally{le.p=G,A.T=ne}}function zd(){}function rl(l,p,_,D){if(l.tag!==5)throw Error(a(476));var j=lr(l).queue;lu(l,j,p,ce,_===null?zd:function(){return mf(l),_(D)})}function lr(l){var p=l.memoizedState;if(p!==null)return p;p={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ce},next:null};var _={};return p.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:_},next:null},l.memoizedState=p,l=l.alternate,l!==null&&(l.memoizedState=p),p}function mf(l){var p=lr(l).next.queue;nl(l,p,{},wi())}function Sc(){return zn($l)}function vo(){return tn().memoizedState}function wc(){return tn().memoizedState}function Bd(l){for(var p=l.return;p!==null;){switch(p.tag){case 24:case 3:var _=wi();l=Ji(_);var D=gi(p,l,_);D!==null&&(Vn(D,p,_),Ut(D,p,_)),p={cache:sc()},l.payload=p;return}p=p.return}}function Vd(l,p,_){var D=wi();_={lane:D,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},xo(l)?_c(p,_):(_=fs(l,p,_,D),_!==null&&(Vn(_,l,D),Tc(_,p,D)))}function mi(l,p,_){var D=wi();nl(l,p,_,D)}function nl(l,p,_,D){var j={lane:D,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(xo(l))_c(p,j);else{var G=l.alternate;if(l.lanes===0&&(G===null||G.lanes===0)&&(G=p.lastRenderedReducer,G!==null))try{var ne=p.lastRenderedState,ge=G(ne,_);if(j.hasEagerState=!0,j.eagerState=ge,hi(ge,ne))return La(l,p,j,0),Dr===null&&Kl(),!1}catch{}finally{}if(_=fs(l,p,j,D),_!==null)return Vn(_,l,D),Tc(_,p,D),!0}return!1}function bo(l,p,_,D){if(D={lane:2,revertLane:uh(),action:D,hasEagerState:!1,eagerState:null,next:null},xo(l)){if(p)throw Error(a(479))}else p=fs(l,_,D,2),p!==null&&Vn(p,l,2)}function xo(l){var p=l.alternate;return l===ur||p!==null&&p===ur}function _c(l,p){ho=Va=!0;var _=l.pending;_===null?p.next=p:(p.next=_.next,_.next=p),l.pending=p}function Tc(l,p,_){if((_&4194176)!==0){var D=p.lanes;D&=l.pendingLanes,_|=D,p.lanes=_,ti(l,_)}}var Yr={readContext:zn,use:Zo,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useInsertionEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useSyncExternalStore:Er,useId:Er};Yr.useCacheRefresh=Er,Yr.useMemoCache=Er,Yr.useHostTransitionStatus=Er,Yr.useFormState=Er,Yr.useActionState=Er,Yr.useOptimistic=Er;var ai={readContext:zn,use:Zo,useCallback:function(l,p){return si().memoizedState=[l,p===void 0?null:p],l},useContext:zn,useEffect:mc,useImperativeHandle:function(l,p,_){_=_!=null?_.concat([l]):null,yo(4194308,4,gc.bind(null,p,l),_)},useLayoutEffect:function(l,p){return yo(4194308,4,l,p)},useInsertionEffect:function(l,p){yo(4,2,l,p)},useMemo:function(l,p){var _=si();p=p===void 0?null:p;var D=l();if(fa){we(!0);try{l()}finally{we(!1)}}return _.memoizedState=[D,p],D},useReducer:function(l,p,_){var D=si();if(_!==void 0){var j=_(p);if(fa){we(!0);try{_(p)}finally{we(!1)}}}else j=p;return D.memoizedState=D.baseState=j,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:j},D.queue=l,l=l.dispatch=Vd.bind(null,ur,l),[D.memoizedState,l]},useRef:function(l){var p=si();return l={current:l},p.memoizedState=l},useState:function(l){l=hc(l);var p=l.queue,_=mi.bind(null,ur,p);return p.dispatch=_,[l.memoizedState,_]},useDebugValue:vc,useDeferredValue:function(l,p){var _=si();return tl(_,l,p)},useTransition:function(){var l=hc(!1);return l=lu.bind(null,ur,l.queue,!0,!1),si().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,p,_){var D=ur,j=si();if(Jt){if(_===void 0)throw Error(a(407));_=_()}else{if(_=p(),Dr===null)throw Error(a(349));(Sr&60)!==0||iu(D,p,_)}j.memoizedState=_;var G={value:_,getSnapshot:p};return j.queue=G,mc(nf.bind(null,D,G,l),[l]),D.flags|=2048,ma(9,rf.bind(null,D,G,_,p),{destroy:void 0},null),_},useId:function(){var l=si(),p=Dr.identifierPrefix;if(Jt){var _=Pi,D=Ni;_=(D&~(1<<32-Ue(D)-1)).toString(32)+_,p=":"+p+"R"+_,_=eu++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=Ua++,p=":"+p+"r"+_.toString(32)+":";return l.memoizedState=p},useCacheRefresh:function(){return si().memoizedState=Bd.bind(null,ur)}};ai.useMemoCache=zi,ai.useHostTransitionStatus=Sc,ai.useFormState=dc,ai.useActionState=dc,ai.useOptimistic=function(l){var p=si();p.memoizedState=p.baseState=l;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=_,p=bo.bind(null,ur,!0,_),_.dispatch=p,[l,p]};var bs={readContext:zn,use:Zo,useCallback:bc,useContext:zn,useEffect:ou,useImperativeHandle:yc,useInsertionEffect:el,useLayoutEffect:df,useMemo:pf,useReducer:Ha,useRef:ff,useState:function(){return Ha(qi)},useDebugValue:vc,useDeferredValue:function(l,p){var _=tn();return xc(_,Rr.memoizedState,l,p)},useTransition:function(){var l=Ha(qi)[0],p=tn().memoizedState;return[typeof l=="boolean"?l:ja(l),p]},useSyncExternalStore:Fn,useId:vo};bs.useCacheRefresh=wc,bs.useMemoCache=zi,bs.useHostTransitionStatus=Sc,bs.useFormState=cf,bs.useActionState=cf,bs.useOptimistic=function(l,p){var _=tn();return mo(_,Rr,l,p)};var ga={readContext:zn,use:Zo,useCallback:bc,useContext:zn,useEffect:ou,useImperativeHandle:yc,useInsertionEffect:el,useLayoutEffect:df,useMemo:pf,useReducer:nu,useRef:ff,useState:function(){return nu(qi)},useDebugValue:vc,useDeferredValue:function(l,p){var _=tn();return Rr===null?tl(_,l,p):xc(_,Rr.memoizedState,l,p)},useTransition:function(){var l=nu(qi)[0],p=tn().memoizedState;return[typeof l=="boolean"?l:ja(l),p]},useSyncExternalStore:Fn,useId:vo};ga.useCacheRefresh=wc,ga.useMemoCache=zi,ga.useHostTransitionStatus=Sc,ga.useFormState=pc,ga.useActionState=pc,ga.useOptimistic=function(l,p){var _=tn();return Rr!==null?mo(_,Rr,l,p):(_.baseState=l,[l,_.queue.dispatch])};function So(l,p,_,D){p=l.memoizedState,_=_(D,p),_=_==null?p:$({},p,_),l.memoizedState=_,l.lanes===0&&(l.updateQueue.baseState=_)}var uu={isMounted:function(l){return(l=l._reactInternals)?K(l)===l:!1},enqueueSetState:function(l,p,_){l=l._reactInternals;var D=wi(),j=Ji(D);j.payload=p,_!=null&&(j.callback=_),p=gi(l,j,D),p!==null&&(Vn(p,l,D),Ut(p,l,D))},enqueueReplaceState:function(l,p,_){l=l._reactInternals;var D=wi(),j=Ji(D);j.tag=1,j.payload=p,_!=null&&(j.callback=_),p=gi(l,j,D),p!==null&&(Vn(p,l,D),Ut(p,l,D))},enqueueForceUpdate:function(l,p){l=l._reactInternals;var _=wi(),D=Ji(_);D.tag=2,p!=null&&(D.callback=p),p=gi(l,D,_),p!==null&&(Vn(p,l,_),Ut(p,l,_))}};function cu(l,p,_,D,j,G,ne){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(D,G,ne):p.prototype&&p.prototype.isPureReactComponent?!hs(_,D)||!hs(j,G):!0}function Ec(l,p,_,D){l=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,D),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,D),p.state!==l&&uu.enqueueReplaceState(p,p.state,null)}function Ws(l,p){var _=p;if("ref"in p){_={};for(var D in p)D!=="ref"&&(_[D]=p[D])}if(l=l.defaultProps){_===p&&(_=$({},_));for(var j in l)_[j]===void 0&&(_[j]=l[j])}return _}var wo=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Gs(l){wo(l)}function gf(l){console.error(l)}function Ks(l){wo(l)}function il(l,p){try{var _=l.onUncaughtError;_(p.value,{componentStack:p.stack})}catch(D){setTimeout(function(){throw D})}}function Cc(l,p,_){try{var D=l.onCaughtError;D(_.value,{componentStack:_.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function sl(l,p,_){return _=Ji(_),_.tag=3,_.payload={element:null},_.callback=function(){il(l,p)},_}function yf(l){return l=Ji(l),l.tag=3,l}function vf(l,p,_,D){var j=_.type.getDerivedStateFromError;if(typeof j=="function"){var G=D.value;l.payload=function(){return j(G)},l.callback=function(){Cc(p,_,D)}}var ne=_.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(l.callback=function(){Cc(p,_,D),typeof j!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var ge=D.stack;this.componentDidCatch(D.value,{componentStack:ge!==null?ge:""})})}function Ud(l,p,_,D,j){if(_.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(p=_.alternate,p!==null&&Ao(p,_,j,!0),_=Fi.current,_!==null){switch(_.tag){case 13:return ys===null?th():_.alternate===null&&Qr===0&&(Qr=3),_.flags&=-257,_.flags|=65536,_.lanes=j,D===oa?_.flags|=16384:(p=_.updateQueue,p===null?_.updateQueue=new Set([D]):p.add(D),nh(l,D,j)),!1;case 22:return _.flags|=65536,D===oa?_.flags|=16384:(p=_.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([D])},_.updateQueue=p):(_=p.retryQueue,_===null?p.retryQueue=new Set([D]):_.add(D)),nh(l,D,j)),!1}throw Error(a(435,_.tag))}return nh(l,D,j),th(),!1}if(Jt)return p=Fi.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=j,D!==Yl&&(l=Error(a(422),{cause:D}),Ns(qn(l,_)))):(D!==Yl&&(p=Error(a(423),{cause:D}),Ns(qn(p,_))),l=l.current.alternate,l.flags|=65536,j&=-j,l.lanes|=j,D=qn(D,_),j=sl(l.stateNode,D,j),ko(l,j),Qr!==4&&(Qr=2)),!1;var G=Error(a(520),{cause:D});if(G=qn(G,_),bl===null?bl=[G]:bl.push(G),Qr!==4&&(Qr=2),p===null)return!0;D=qn(D,_),_=p;do{switch(_.tag){case 3:return _.flags|=65536,l=j&-j,_.lanes|=l,l=sl(_.stateNode,D,l),ko(_,l),!1;case 1:if(p=_.type,G=_.stateNode,(_.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Cs===null||!Cs.has(G))))return _.flags|=65536,j&=-j,_.lanes|=j,j=yf(j),vf(j,l,_,D),ko(_,j),!1}_=_.return}while(_!==null);return!1}var Ac=Error(a(461)),mn=!1;function $n(l,p,_,D){p.child=l===null?Jh(p,null,_,D):ir(p,l.child,_,D)}function kc(l,p,_,D,j){_=_.render;var G=p.ref;if("ref"in D){var ne={};for(var ge in D)ge!=="ref"&&(ne[ge]=D[ge])}else ne=D;return xa(p),D=tu(l,p,_,ne,G,j),ge=ru(),l!==null&&!mn?(cc(l,p,j),Xi(l,p,j)):(Jt&&ge&&ql(p),p.flags|=1,$n(l,p,D,j),p.child)}function Rc(l,p,_,D,j){if(l===null){var G=_.type;return typeof G=="function"&&!Hc(G)&&G.defaultProps===void 0&&_.compare===null?(p.tag=15,p.type=G,Xn(l,p,G,D,j)):(l=yl(_.type,null,D,p,p.mode,j),l.ref=p.ref,l.return=p,p.child=l)}if(G=l.child,!Eo(l,j)){var ne=G.memoizedProps;if(_=_.compare,_=_!==null?_:hs,_(ne,D)&&l.ref===p.ref)return Xi(l,p,j)}return p.flags|=1,l=_a(G,D),l.ref=p.ref,l.return=p,p.child=l}function Xn(l,p,_,D,j){if(l!==null){var G=l.memoizedProps;if(hs(G,D)&&l.ref===p.ref)if(mn=!1,p.pendingProps=D=G,Eo(l,j))(l.flags&131072)!==0&&(mn=!0);else return p.lanes=l.lanes,Xi(l,p,j)}return _o(l,p,_,D,j)}function Yi(l,p,_){var D=p.pendingProps,j=D.children,G=(p.stateNode._pendingVisibility&2)!==0,ne=l!==null?l.memoizedState:null;if(al(l,p),D.mode==="hidden"||G){if((p.flags&128)!==0){if(D=ne!==null?ne.baseLanes|_:_,l!==null){for(j=p.child=l.child,G=0;j!==null;)G=G|j.lanes|j.childLanes,j=j.sibling;p.childLanes=G&~D}else p.childLanes=0,p.child=null;return bf(l,p,D,_)}if((_&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},l!==null&&Qo(p,ne!==null?ne.cachePool:null),ne!==null?la(p,ne):nc(),vs(p);else return p.lanes=p.childLanes=536870912,bf(l,p,ne!==null?ne.baseLanes|_:_,_)}else ne!==null?(Qo(p,ne.cachePool),la(p,ne),ca(),p.memoizedState=null):(l!==null&&Qo(p,null),nc(),ca());return $n(l,p,j,_),p.child}function bf(l,p,_,D){var j=ac();return j=j===null?null:{parent:pn._currentValue,pool:j},p.memoizedState={baseLanes:_,cachePool:j},l!==null&&Qo(p,null),nc(),vs(p),l!==null&&Ao(l,p,D,!0),null}function al(l,p){var _=p.ref;if(_===null)l!==null&&l.ref!==null&&(p.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(a(284));(l===null||l.ref!==_)&&(p.flags|=2097664)}}function _o(l,p,_,D,j){return xa(p),_=tu(l,p,_,D,void 0,j),D=ru(),l!==null&&!mn?(cc(l,p,j),Xi(l,p,j)):(Jt&&D&&ql(p),p.flags|=1,$n(l,p,_,j),p.child)}function Wa(l,p,_,D,j,G){return xa(p),p.updateQueue=null,_=fo(p,D,_,j),uc(l),D=ru(),l!==null&&!mn?(cc(l,p,G),Xi(l,p,G)):(Jt&&D&&ql(p),p.flags|=1,$n(l,p,_,G),p.child)}function $c(l,p,_,D,j){if(xa(p),p.stateNode===null){var G=Da,ne=_.contextType;typeof ne=="object"&&ne!==null&&(G=zn(ne)),G=new _(D,G),p.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=uu,p.stateNode=G,G._reactInternals=p,G=p.stateNode,G.props=D,G.state=p.memoizedState,G.refs={},ul(p),ne=_.contextType,G.context=typeof ne=="object"&&ne!==null?zn(ne):Da,G.state=p.memoizedState,ne=_.getDerivedStateFromProps,typeof ne=="function"&&(So(p,_,ne,D),G.state=p.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(ne=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),ne!==G.state&&uu.enqueueReplaceState(G,G.state,null),fl(p,D,G,j),es(),G.state=p.memoizedState),typeof G.componentDidMount=="function"&&(p.flags|=4194308),D=!0}else if(l===null){G=p.stateNode;var ge=p.memoizedProps,Ce=Ws(_,ge);G.props=Ce;var Fe=G.context,at=_.contextType;ne=Da,typeof at=="object"&&at!==null&&(ne=zn(at));var pt=_.getDerivedStateFromProps;at=typeof pt=="function"||typeof G.getSnapshotBeforeUpdate=="function",ge=p.pendingProps!==ge,at||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge||Fe!==ne)&&Ec(p,G,D,ne),ws=!1;var Ye=p.memoizedState;G.state=Ye,fl(p,D,G,j),es(),Fe=p.memoizedState,ge||Ye!==Fe||ws?(typeof pt=="function"&&(So(p,_,pt,D),Fe=p.memoizedState),(Ce=ws||cu(p,_,Ce,D,Ye,Fe,ne))?(at||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(p.flags|=4194308)):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=D,p.memoizedState=Fe),G.props=D,G.state=Fe,G.context=ne,D=Ce):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),D=!1)}else{G=p.stateNode,cl(l,p),ne=p.memoizedProps,at=Ws(_,ne),G.props=at,pt=p.pendingProps,Ye=G.context,Fe=_.contextType,Ce=Da,typeof Fe=="object"&&Fe!==null&&(Ce=zn(Fe)),ge=_.getDerivedStateFromProps,(Fe=typeof ge=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ne!==pt||Ye!==Ce)&&Ec(p,G,D,Ce),ws=!1,Ye=p.memoizedState,G.state=Ye,fl(p,D,G,j),es();var it=p.memoizedState;ne!==pt||Ye!==it||ws||l!==null&&l.dependencies!==null&&gu(l.dependencies)?(typeof ge=="function"&&(So(p,_,ge,D),it=p.memoizedState),(at=ws||cu(p,_,at,D,Ye,it,Ce)||l!==null&&l.dependencies!==null&&gu(l.dependencies))?(Fe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(D,it,Ce),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(D,it,Ce)),typeof G.componentDidUpdate=="function"&&(p.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof G.componentDidUpdate!="function"||ne===l.memoizedProps&&Ye===l.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===l.memoizedProps&&Ye===l.memoizedState||(p.flags|=1024),p.memoizedProps=D,p.memoizedState=it),G.props=D,G.state=it,G.context=Ce,D=at):(typeof G.componentDidUpdate!="function"||ne===l.memoizedProps&&Ye===l.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===l.memoizedProps&&Ye===l.memoizedState||(p.flags|=1024),D=!1)}return G=D,al(l,p),D=(p.flags&128)!==0,G||D?(G=p.stateNode,_=D&&typeof _.getDerivedStateFromError!="function"?null:G.render(),p.flags|=1,l!==null&&D?(p.child=ir(p,l.child,null,j),p.child=ir(p,null,_,j)):$n(l,p,_,j),p.memoizedState=G.state,l=p.child):l=Xi(l,p,j),l}function Mc(l,p,_,D){return gs(),p.flags|=256,$n(l,p,_,D),p.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function hu(l){return{baseLanes:l,cachePool:oc()}}function ya(l,p,_){return l=l!==null?l.childLanes&~_:0,p&&(l|=Bi),l}function To(l,p,_){var D=p.pendingProps,j=!1,G=(p.flags&128)!==0,ne;if((ne=G)||(ne=l!==null&&l.memoizedState===null?!1:(dn.current&2)!==0),ne&&(j=!0,p.flags&=-129),ne=(p.flags&32)!==0,p.flags&=-33,l===null){if(Jt){if(j?ua(p):ca(),Jt){var ge=gr,Ce;if(Ce=ge){e:{for(Ce=ge,ge=ms;Ce.nodeType!==8;){if(!ge){ge=null;break e}if(Ce=ns(Ce.nextSibling),Ce===null){ge=null;break e}}ge=Ce}ge!==null?(p.memoizedState={dehydrated:ge,treeContext:Pa!==null?{id:Ni,overflow:Pi}:null,retryLane:536870912},Ce=xi(18,null,null,0),Ce.stateNode=ge,Ce.return=p,p.child=Ce,Yn=p,gr=null,Ce=!0):Ce=!1}Ce||Fa(p)}if(ge=p.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return ge.data==="$!"?p.lanes=16:p.lanes=536870912,null;Vs(p)}return ge=D.children,D=D.fallback,j?(ca(),j=p.mode,ge=fu({mode:"hidden",children:ge},j),D=Ka(D,j,_,null),ge.return=p,D.return=p,ge.sibling=D,p.child=ge,j=p.child,j.memoizedState=hu(_),j.childLanes=ya(l,ne,_),p.memoizedState=Lc,D):(ua(p),Ic(p,ge))}if(Ce=l.memoizedState,Ce!==null&&(ge=Ce.dehydrated,ge!==null)){if(G)p.flags&256?(ua(p),p.flags&=-257,p=du(l,p,_)):p.memoizedState!==null?(ca(),p.child=l.child,p.flags|=128,p=null):(ca(),j=D.fallback,ge=p.mode,D=fu({mode:"visible",children:D.children},ge),j=Ka(j,ge,_,null),j.flags|=2,D.return=p,j.return=p,D.sibling=j,p.child=D,ir(p,l.child,null,_),D=p.child,D.memoizedState=hu(_),D.childLanes=ya(l,ne,_),p.memoizedState=Lc,p=j);else if(ua(p),ge.data==="$!"){if(ne=ge.nextSibling&&ge.nextSibling.dataset,ne)var Fe=ne.dgst;ne=Fe,D=Error(a(419)),D.stack="",D.digest=ne,Ns({value:D,source:null,stack:null}),p=du(l,p,_)}else if(mn||Ao(l,p,_,!1),ne=(_&l.childLanes)!==0,mn||ne){if(ne=Dr,ne!==null){if(D=_&-_,(D&42)!==0)D=1;else switch(D){case 2:D=1;break;case 8:D=4;break;case 32:D=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:D=64;break;case 268435456:D=134217728;break;default:D=0}if(D=(D&(ne.suspendedLanes|_))!==0?0:D,D!==0&&D!==Ce.retryLane)throw Ce.retryLane=D,Wi(l,D),Vn(ne,l,D),Ac}ge.data==="$?"||th(),p=du(l,p,_)}else ge.data==="$?"?(p.flags|=128,p.child=l.child,p=Jd.bind(null,l),ge._reactRetry=p,p=null):(l=Ce.treeContext,gr=ns(ge.nextSibling),Yn=p,Jt=!0,Gi=null,ms=!1,l!==null&&(Di[Oi++]=Ni,Di[Oi++]=Pi,Di[Oi++]=Pa,Ni=l.id,Pi=l.overflow,Pa=p),p=Ic(p,D.children),p.flags|=4096);return p}return j?(ca(),j=D.fallback,ge=p.mode,Ce=l.child,Fe=Ce.sibling,D=_a(Ce,{mode:"hidden",children:D.children}),D.subtreeFlags=Ce.subtreeFlags&31457280,Fe!==null?j=_a(Fe,j):(j=Ka(j,ge,_,null),j.flags|=2),j.return=p,D.return=p,D.sibling=j,p.child=D,D=j,j=p.child,ge=l.child.memoizedState,ge===null?ge=hu(_):(Ce=ge.cachePool,Ce!==null?(Fe=pn._currentValue,Ce=Ce.parent!==Fe?{parent:Fe,pool:Fe}:Ce):Ce=oc(),ge={baseLanes:ge.baseLanes|_,cachePool:Ce}),j.memoizedState=ge,j.childLanes=ya(l,ne,_),p.memoizedState=Lc,D):(ua(p),_=l.child,l=_.sibling,_=_a(_,{mode:"visible",children:D.children}),_.return=p,_.sibling=null,l!==null&&(ne=p.deletions,ne===null?(p.deletions=[l],p.flags|=16):ne.push(l)),p.child=_,p.memoizedState=null,_)}function Ic(l,p){return p=fu({mode:"visible",children:p},l.mode),p.return=l,l.child=p}function fu(l,p){return Of(l,p,0,null)}function du(l,p,_){return ir(p,l.child,null,_),l=Ic(p,p.pendingProps.children),l.flags|=2,p.memoizedState=null,l}function ol(l,p,_){l.lanes|=p;var D=l.alternate;D!==null&&(D.lanes|=p),Zi(l.return,p,_)}function pu(l,p,_,D,j){var G=l.memoizedState;G===null?l.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:D,tail:_,tailMode:j}:(G.isBackwards=p,G.rendering=null,G.renderingStartTime=0,G.last=D,G.tail=_,G.tailMode=j)}function ll(l,p,_){var D=p.pendingProps,j=D.revealOrder,G=D.tail;if($n(l,p,D.children,_),D=dn.current,(D&2)!==0)D=D&1|2,p.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=p.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ol(l,_,p);else if(l.tag===19)ol(l,_,p);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===p)break e;for(;l.sibling===null;){if(l.return===null||l.return===p)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}D&=1}switch(ke(dn,D),j){case"forwards":for(_=p.child,j=null;_!==null;)l=_.alternate,l!==null&&Jl(l)===null&&(j=_),_=_.sibling;_=j,_===null?(j=p.child,p.child=null):(j=_.sibling,_.sibling=null),pu(p,!1,j,_,G);break;case"backwards":for(_=null,j=p.child,p.child=null;j!==null;){if(l=j.alternate,l!==null&&Jl(l)===null){p.child=j;break}l=j.sibling,j.sibling=_,_=j,j=l}pu(p,!0,_,null,G);break;case"together":pu(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Xi(l,p,_){if(l!==null&&(p.dependencies=l.dependencies),Ta|=p.lanes,(_&p.childLanes)===0)if(l!==null){if(Ao(l,p,_,!1),(_&p.childLanes)===0)return null}else return null;if(l!==null&&p.child!==l.child)throw Error(a(153));if(p.child!==null){for(l=p.child,_=_a(l,l.pendingProps),p.child=_,_.return=p;l.sibling!==null;)l=l.sibling,_=_.sibling=_a(l,l.pendingProps),_.return=p;_.sibling=null}return p.child}function Eo(l,p){return(l.lanes&p)!==0?!0:(l=l.dependencies,!!(l!==null&&gu(l)))}function jd(l,p,_){switch(p.tag){case 3:Qe(p,p.stateNode.containerInfo),ba(p,pn,l.memoizedState.cache),gs();break;case 27:case 5:xt(p);break;case 4:Qe(p,p.stateNode.containerInfo);break;case 10:ba(p,p.type,p.memoizedProps.value);break;case 13:var D=p.memoizedState;if(D!==null)return D.dehydrated!==null?(ua(p),p.flags|=128,null):(_&p.child.childLanes)!==0?To(l,p,_):(ua(p),l=Xi(l,p,_),l!==null?l.sibling:null);ua(p);break;case 19:var j=(l.flags&128)!==0;if(D=(_&p.childLanes)!==0,D||(Ao(l,p,_,!1),D=(_&p.childLanes)!==0),j){if(D)return ll(l,p,_);p.flags|=128}if(j=p.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),ke(dn,dn.current),D)break;return null;case 22:case 23:return p.lanes=0,Yi(l,p,_);case 24:ba(p,pn,l.memoizedState.cache)}return Xi(l,p,_)}function Dc(l,p,_){if(l!==null)if(l.memoizedProps!==p.pendingProps)mn=!0;else{if(!Eo(l,_)&&(p.flags&128)===0)return mn=!1,jd(l,p,_);mn=(l.flags&131072)!==0}else mn=!1,Jt&&(p.flags&1048576)!==0&&Yh(p,Na,p.index);switch(p.lanes=0,p.tag){case 16:e:{l=p.pendingProps;var D=p.elementType,j=D._init;if(D=j(D._payload),p.type=D,typeof D=="function")Hc(D)?(l=Ws(D,l),p.tag=1,p=$c(null,p,D,l,_)):(p.tag=0,p=_o(null,p,D,l,_));else{if(D!=null){if(j=D.$$typeof,j===h){p.tag=11,p=kc(null,p,D,l,_);break e}else if(j===T){p.tag=14,p=Rc(null,p,D,l,_);break e}}throw p=L(D)||D,Error(a(306,p,""))}}return p;case 0:return _o(l,p,p.type,p.pendingProps,_);case 1:return D=p.type,j=Ws(D,p.pendingProps),$c(l,p,D,j,_);case 3:e:{if(Qe(p,p.stateNode.containerInfo),l===null)throw Error(a(387));var G=p.pendingProps;j=p.memoizedState,D=j.element,cl(l,p),fl(p,G,null,_);var ne=p.memoizedState;if(G=ne.cache,ba(p,pn,G),G!==j.cache&&mu(p,[pn],_,!0),es(),G=ne.element,j.isDehydrated)if(j={element:G,isDehydrated:!1,cache:ne.cache},p.updateQueue.baseState=j,p.memoizedState=j,p.flags&256){p=Mc(l,p,G,_);break e}else if(G!==D){D=qn(Error(a(424)),p),Ns(D),p=Mc(l,p,G,_);break e}else for(gr=ns(p.stateNode.containerInfo.firstChild),Yn=p,Jt=!0,Gi=null,ms=!0,_=Jh(p,null,G,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(gs(),G===D){p=Xi(l,p,_);break e}$n(l,p,G,_)}p=p.child}return p;case 26:return al(l,p),l===null?(_=Th(p.type,null,p.pendingProps,null))?p.memoizedState=_:Jt||(_=p.type,l=p.pendingProps,D=$u(he.current).createElement(_),D[Et]=p,D[Cr]=l,Ln(D,_,l),Tr(D),p.stateNode=D):p.memoizedState=Th(p.type,l.memoizedProps,p.pendingProps,l.memoizedState),null;case 27:return xt(p),l===null&&Jt&&(D=p.stateNode=_h(p.type,p.pendingProps,he.current),Yn=p,ms=!0,gr=ns(D.firstChild)),D=p.pendingProps.children,l!==null||Jt?$n(l,p,D,_):p.child=ir(p,null,D,_),al(l,p),p.child;case 5:return l===null&&Jt&&((j=D=gr)&&(D=ap(D,p.type,p.pendingProps,ms),D!==null?(p.stateNode=D,Yn=p,gr=ns(D.firstChild),ms=!1,j=!0):j=!1),j||Fa(p)),xt(p),j=p.type,G=p.pendingProps,ne=l!==null?l.memoizedProps:null,D=G.children,Al(j,G)?D=null:ne!==null&&Al(j,ne)&&(p.flags|=32),p.memoizedState!==null&&(j=tu(l,p,pa,null,null,_),$l._currentValue=j),al(l,p),$n(l,p,D,_),p.child;case 6:return l===null&&Jt&&((l=_=gr)&&(_=op(_,p.pendingProps,ms),_!==null?(p.stateNode=_,Yn=p,gr=null,l=!0):l=!1),l||Fa(p)),null;case 13:return To(l,p,_);case 4:return Qe(p,p.stateNode.containerInfo),D=p.pendingProps,l===null?p.child=ir(p,null,D,_):$n(l,p,D,_),p.child;case 11:return kc(l,p,p.type,p.pendingProps,_);case 7:return $n(l,p,p.pendingProps,_),p.child;case 8:return $n(l,p,p.pendingProps.children,_),p.child;case 12:return $n(l,p,p.pendingProps.children,_),p.child;case 10:return D=p.pendingProps,ba(p,p.type,D.value),$n(l,p,D.children,_),p.child;case 9:return j=p.type._context,D=p.pendingProps.children,xa(p),j=zn(j),D=D(j),p.flags|=1,$n(l,p,D,_),p.child;case 14:return Rc(l,p,p.type,p.pendingProps,_);case 15:return Xn(l,p,p.type,p.pendingProps,_);case 19:return ll(l,p,_);case 22:return Yi(l,p,_);case 24:return xa(p),D=zn(pn),l===null?(j=ac(),j===null&&(j=Dr,G=sc(),j.pooledCache=G,G.refCount++,G!==null&&(j.pooledCacheLanes|=_),j=G),p.memoizedState={parent:D,cache:j},ul(p),ba(p,pn,j)):((l.lanes&_)!==0&&(cl(l,p),fl(p,null,null,_),es()),j=l.memoizedState,G=p.memoizedState,j.parent!==D?(j={parent:D,cache:D},p.memoizedState=j,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=j),ba(p,pn,D)):(D=G.cache,ba(p,pn,D),D!==j.cache&&mu(p,[pn],_,!0))),$n(l,p,p.pendingProps.children,_),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}var Co=Te(null),va=null,Qi=null;function ba(l,p,_){ke(Co,p._currentValue),p._currentValue=_}function xs(l){l._currentValue=Co.current,Re(Co)}function Zi(l,p,_){for(;l!==null;){var D=l.alternate;if((l.childLanes&p)!==p?(l.childLanes|=p,D!==null&&(D.childLanes|=p)):D!==null&&(D.childLanes&p)!==p&&(D.childLanes|=p),l===_)break;l=l.return}}function mu(l,p,_,D){var j=l.child;for(j!==null&&(j.return=l);j!==null;){var G=j.dependencies;if(G!==null){var ne=j.child;G=G.firstContext;e:for(;G!==null;){var ge=G;G=j;for(var Ce=0;Ce<p.length;Ce++)if(ge.context===p[Ce]){G.lanes|=_,ge=G.alternate,ge!==null&&(ge.lanes|=_),Zi(G.return,_,l),D||(ne=null);break e}G=ge.next}}else if(j.tag===18){if(ne=j.return,ne===null)throw Error(a(341));ne.lanes|=_,G=ne.alternate,G!==null&&(G.lanes|=_),Zi(ne,_,l),ne=null}else ne=j.child;if(ne!==null)ne.return=j;else for(ne=j;ne!==null;){if(ne===l){ne=null;break}if(j=ne.sibling,j!==null){j.return=ne.return,ne=j;break}ne=ne.return}j=ne}}function Ao(l,p,_,D){l=null;for(var j=p,G=!1;j!==null;){if(!G){if((j.flags&524288)!==0)G=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var ne=j.alternate;if(ne===null)throw Error(a(387));if(ne=ne.memoizedProps,ne!==null){var ge=j.type;hi(j.pendingProps.value,ne.value)||(l!==null?l.push(ge):l=[ge])}}else if(j===Le.current){if(ne=j.alternate,ne===null)throw Error(a(387));ne.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(l!==null?l.push($l):l=[$l])}j=j.return}l!==null&&mu(p,l,_,D),p.flags|=262144}function gu(l){for(l=l.firstContext;l!==null;){if(!hi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function xa(l){va=l,Qi=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function zn(l){return Ss(va,l)}function yu(l,p){return va===null&&xa(l),Ss(l,p)}function Ss(l,p){var _=p._currentValue;if(p={context:p,memoizedValue:_,next:null},Qi===null){if(l===null)throw Error(a(308));Qi=p,l.dependencies={lanes:0,firstContext:p},l.flags|=524288}else Qi=Qi.next=p;return _}var ws=!1;function ul(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cl(l,p){l=l.updateQueue,p.updateQueue===l&&(p.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ji(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function gi(l,p,_){var D=l.updateQueue;if(D===null)return null;if(D=D.shared,(Gr&2)!==0){var j=D.pending;return j===null?p.next=p:(p.next=j.next,j.next=p),D.pending=p,p=Ia(l),ec(l,null,_),p}return La(l,D,p,_),Ia(l)}function Ut(l,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194176)!==0)){var D=p.lanes;D&=l.pendingLanes,_|=D,p.lanes=_,ti(l,_)}}function ko(l,p){var _=l.updateQueue,D=l.alternate;if(D!==null&&(D=D.updateQueue,_===D)){var j=null,G=null;if(_=_.firstBaseUpdate,_!==null){do{var ne={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};G===null?j=G=ne:G=G.next=ne,_=_.next}while(_!==null);G===null?j=G=p:G=G.next=p}else j=G=p;_={baseState:D.baseState,firstBaseUpdate:j,lastBaseUpdate:G,shared:D.shared,callbacks:D.callbacks},l.updateQueue=_;return}l=_.lastBaseUpdate,l===null?_.firstBaseUpdate=p:l.next=p,_.lastBaseUpdate=p}var hl=!1;function es(){if(hl){var l=co;if(l!==null)throw l}}function fl(l,p,_,D){hl=!1;var j=l.updateQueue;ws=!1;var G=j.firstBaseUpdate,ne=j.lastBaseUpdate,ge=j.shared.pending;if(ge!==null){j.shared.pending=null;var Ce=ge,Fe=Ce.next;Ce.next=null,ne===null?G=Fe:ne.next=Fe,ne=Ce;var at=l.alternate;at!==null&&(at=at.updateQueue,ge=at.lastBaseUpdate,ge!==ne&&(ge===null?at.firstBaseUpdate=Fe:ge.next=Fe,at.lastBaseUpdate=Ce))}if(G!==null){var pt=j.baseState;ne=0,at=Fe=Ce=null,ge=G;do{var Ye=ge.lane&-536870913,it=Ye!==ge.lane;if(it?(Sr&Ye)===Ye:(D&Ye)===Ye){Ye!==0&&Ye===uo&&(hl=!0),at!==null&&(at=at.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Dt=l,er=ge;Ye=p;var qr=_;switch(er.tag){case 1:if(Dt=er.payload,typeof Dt=="function"){pt=Dt.call(qr,pt,Ye);break e}pt=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=er.payload,Ye=typeof Dt=="function"?Dt.call(qr,pt,Ye):Dt,Ye==null)break e;pt=$({},pt,Ye);break e;case 2:ws=!0}}Ye=ge.callback,Ye!==null&&(l.flags|=64,it&&(l.flags|=8192),it=j.callbacks,it===null?j.callbacks=[Ye]:it.push(Ye))}else it={lane:Ye,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},at===null?(Fe=at=it,Ce=pt):at=at.next=it,ne|=Ye;if(ge=ge.next,ge===null){if(ge=j.shared.pending,ge===null)break;it=ge,ge=it.next,it.next=null,j.lastBaseUpdate=it,j.shared.pending=null}}while(!0);at===null&&(Ce=pt),j.baseState=Ce,j.firstBaseUpdate=Fe,j.lastBaseUpdate=at,G===null&&(j.shared.lanes=0),Ta|=ne,l.lanes=ne,l.memoizedState=pt}}function vu(l,p){if(typeof l!="function")throw Error(a(191,l));l.call(p)}function Oc(l,p){var _=l.callbacks;if(_!==null)for(l.callbacks=null,l=0;l<_.length;l++)vu(_[l],p)}function an(l,p){try{var _=p.updateQueue,D=_!==null?_.lastEffect:null;if(D!==null){var j=D.next;_=j;do{if((_.tag&l)===l){D=void 0;var G=_.create,ne=_.inst;D=G(),ne.destroy=D}_=_.next}while(_!==j)}}catch(ge){Or(p,p.return,ge)}}function Sa(l,p,_){try{var D=p.updateQueue,j=D!==null?D.lastEffect:null;if(j!==null){var G=j.next;D=G;do{if((D.tag&l)===l){var ne=D.inst,ge=ne.destroy;if(ge!==void 0){ne.destroy=void 0,j=p;var Ce=_;try{ge()}catch(Fe){Or(j,Ce,Fe)}}}D=D.next}while(D!==G)}}catch(Fe){Or(p,p.return,Fe)}}function xf(l){var p=l.updateQueue;if(p!==null){var _=l.stateNode;try{Oc(p,_)}catch(D){Or(l,l.return,D)}}}function Nc(l,p,_){_.props=Ws(l.type,l.memoizedProps),_.state=l.memoizedState;try{_.componentWillUnmount()}catch(D){Or(l,p,D)}}function Ga(l,p){try{var _=l.ref;if(_!==null){var D=l.stateNode;switch(l.tag){case 26:case 27:case 5:var j=D;break;default:j=D}typeof _=="function"?l.refCleanup=_(j):_.current=j}}catch(G){Or(l,p,G)}}function oi(l,p){var _=l.ref,D=l.refCleanup;if(_!==null)if(typeof D=="function")try{D()}catch(j){Or(l,p,j)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(j){Or(l,p,j)}else _.current=null}function Sf(l){var p=l.type,_=l.memoizedProps,D=l.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":_.autoFocus&&D.focus();break e;case"img":_.src?D.src=_.src:_.srcSet&&(D.srcset=_.srcSet)}}catch(j){Or(l,l.return,j)}}function wf(l,p,_){try{var D=l.stateNode;Aa(D,l.type,_,p),D[Cr]=p}catch(j){Or(l,l.return,j)}}function _f(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function ts(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||_f(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Mn(l,p,_){var D=l.tag;if(D===5||D===6)l=l.stateNode,p?_.nodeType===8?_.parentNode.insertBefore(l,p):_.insertBefore(l,p):(_.nodeType===8?(p=_.parentNode,p.insertBefore(l,_)):(p=_,p.appendChild(l)),_=_._reactRootContainer,_!=null||p.onclick!==null||(p.onclick=Ru));else if(D!==4&&D!==27&&(l=l.child,l!==null))for(Mn(l,p,_),l=l.sibling;l!==null;)Mn(l,p,_),l=l.sibling}function Ro(l,p,_){var D=l.tag;if(D===5||D===6)l=l.stateNode,p?_.insertBefore(l,p):_.appendChild(l);else if(D!==4&&D!==27&&(l=l.child,l!==null))for(Ro(l,p,_),l=l.sibling;l!==null;)Ro(l,p,_),l=l.sibling}var qs=!1,Vr=!1,Pc=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,Xr=null,Fc=!1;function Ef(l,p){if(l=l.containerInfo,gh=Ml,l=Gh(l),Zu(l)){if("selectionStart"in l)var _={start:l.selectionStart,end:l.selectionEnd};else e:{_=(_=l.ownerDocument)&&_.defaultView||window;var D=_.getSelection&&_.getSelection();if(D&&D.rangeCount!==0){_=D.anchorNode;var j=D.anchorOffset,G=D.focusNode;D=D.focusOffset;try{_.nodeType,G.nodeType}catch{_=null;break e}var ne=0,ge=-1,Ce=-1,Fe=0,at=0,pt=l,Ye=null;t:for(;;){for(var it;pt!==_||j!==0&&pt.nodeType!==3||(ge=ne+j),pt!==G||D!==0&&pt.nodeType!==3||(Ce=ne+D),pt.nodeType===3&&(ne+=pt.nodeValue.length),(it=pt.firstChild)!==null;)Ye=pt,pt=it;for(;;){if(pt===l)break t;if(Ye===_&&++Fe===j&&(ge=ne),Ye===G&&++at===D&&(Ce=ne),(it=pt.nextSibling)!==null)break;pt=Ye,Ye=pt.parentNode}pt=it}_=ge===-1||Ce===-1?null:{start:ge,end:Ce}}else _=null}_=_||{start:0,end:0}}else _=null;for(yh={focusedElem:l,selectionRange:_},Ml=!1,Xr=p;Xr!==null;)if(p=Xr,l=p.child,(p.subtreeFlags&1028)!==0&&l!==null)l.return=p,Xr=l;else for(;Xr!==null;){switch(p=Xr,G=p.alternate,l=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&G!==null){l=void 0,_=p,j=G.memoizedProps,G=G.memoizedState,D=_.stateNode;try{var Dt=Ws(_.type,j,_.elementType===_.type);l=D.getSnapshotBeforeUpdate(Dt,G),D.__reactInternalSnapshotBeforeUpdate=l}catch(er){Or(_,_.return,er)}}break;case 3:if((l&1024)!==0){if(l=p.stateNode.containerInfo,_=l.nodeType,_===9)wh(l);else if(_===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":wh(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(a(163))}if(l=p.sibling,l!==null){l.return=p.return,Xr=l;break}Xr=p.return}return Dt=Fc,Fc=!1,Dt}function Cf(l,p,_){var D=_.flags;switch(_.tag){case 0:case 11:case 15:Ts(l,_),D&4&&an(5,_);break;case 1:if(Ts(l,_),D&4)if(l=_.stateNode,p===null)try{l.componentDidMount()}catch(ge){Or(_,_.return,ge)}else{var j=Ws(_.type,p.memoizedProps);p=p.memoizedState;try{l.componentDidUpdate(j,p,l.__reactInternalSnapshotBeforeUpdate)}catch(ge){Or(_,_.return,ge)}}D&64&&xf(_),D&512&&Ga(_,_.return);break;case 3:if(Ts(l,_),D&64&&(D=_.updateQueue,D!==null)){if(l=null,_.child!==null)switch(_.child.tag){case 27:case 5:l=_.child.stateNode;break;case 1:l=_.child.stateNode}try{Oc(D,l)}catch(ge){Or(_,_.return,ge)}}break;case 26:Ts(l,_),D&512&&Ga(_,_.return);break;case 27:case 5:Ts(l,_),p===null&&D&4&&Sf(_),D&512&&Ga(_,_.return);break;case 12:Ts(l,_);break;case 13:Ts(l,_),D&4&&kf(l,_);break;case 22:if(j=_.memoizedState!==null||qs,!j){p=p!==null&&p.memoizedState!==null||Vr;var G=qs,ne=Vr;qs=j,(Vr=p)&&!ne?li(l,_,(_.subtreeFlags&8772)!==0):Ts(l,_),qs=G,Vr=ne}D&512&&(_.memoizedProps.mode==="manual"?Ga(_,_.return):oi(_,_.return));break;default:Ts(l,_)}}function Af(l){var p=l.alternate;p!==null&&(l.alternate=null,Af(p)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(p=l.stateNode,p!==null&&Ai(p)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var on=null,yi=!1;function _s(l,p,_){for(_=_.child;_!==null;)zc(l,p,_),_=_.sibling}function zc(l,p,_){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(st,_)}catch{}switch(_.tag){case 26:Vr||oi(_,p),_s(l,p,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Vr||oi(_,p);var D=on,j=yi;for(on=_.stateNode,_s(l,p,_),_=_.stateNode,p=_.attributes;p.length;)_.removeAttributeNode(p[0]);Ai(_),on=D,yi=j;break;case 5:Vr||oi(_,p);case 6:j=on;var G=yi;if(on=null,_s(l,p,_),on=j,yi=G,on!==null)if(yi)try{l=on,D=_.stateNode,l.nodeType===8?l.parentNode.removeChild(D):l.removeChild(D)}catch(ne){Or(_,p,ne)}else try{on.removeChild(_.stateNode)}catch(ne){Or(_,p,ne)}break;case 18:on!==null&&(yi?(p=on,_=_.stateNode,p.nodeType===8?Sh(p.parentNode,_):p.nodeType===1&&Sh(p,_),Nl(p)):Sh(on,_.stateNode));break;case 4:D=on,j=yi,on=_.stateNode.containerInfo,yi=!0,_s(l,p,_),on=D,yi=j;break;case 0:case 11:case 14:case 15:Vr||Sa(2,_,p),Vr||Sa(4,_,p),_s(l,p,_);break;case 1:Vr||(oi(_,p),D=_.stateNode,typeof D.componentWillUnmount=="function"&&Nc(_,p,D)),_s(l,p,_);break;case 21:_s(l,p,_);break;case 22:Vr||oi(_,p),Vr=(D=Vr)||_.memoizedState!==null,_s(l,p,_),Vr=D;break;default:_s(l,p,_)}}function kf(l,p){if(p.memoizedState===null&&(l=p.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Nl(l)}catch(_){Or(p,p.return,_)}}function Bc(l){switch(l.tag){case 13:case 19:var p=l.stateNode;return p===null&&(p=l.stateNode=new Tf),p;case 22:return l=l.stateNode,p=l._retryCache,p===null&&(p=l._retryCache=new Tf),p;default:throw Error(a(435,l.tag))}}function bu(l,p){var _=Bc(l);p.forEach(function(D){var j=ep.bind(null,l,D);_.has(D)||(_.add(D),D.then(j,j))})}function Bn(l,p){var _=p.deletions;if(_!==null)for(var D=0;D<_.length;D++){var j=_[D],G=l,ne=p,ge=ne;e:for(;ge!==null;){switch(ge.tag){case 27:case 5:on=ge.stateNode,yi=!1;break e;case 3:on=ge.stateNode.containerInfo,yi=!0;break e;case 4:on=ge.stateNode.containerInfo,yi=!0;break e}ge=ge.return}if(on===null)throw Error(a(160));zc(G,ne,j),on=null,yi=!1,G=j.alternate,G!==null&&(G.return=null),j.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)Vc(p,l),p=p.sibling}var vi=null;function Vc(l,p){var _=l.alternate,D=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Bn(p,l),bi(l),D&4&&(Sa(3,l,l.return),an(3,l),Sa(5,l,l.return));break;case 1:Bn(p,l),bi(l),D&512&&(Vr||_===null||oi(_,_.return)),D&64&&qs&&(l=l.updateQueue,l!==null&&(D=l.callbacks,D!==null&&(_=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=_===null?D:_.concat(D))));break;case 26:var j=vi;if(Bn(p,l),bi(l),D&512&&(Vr||_===null||oi(_,_.return)),D&4){var G=_!==null?_.memoizedState:null;if(D=l.memoizedState,_===null)if(D===null)if(l.stateNode===null){e:{D=l.type,_=l.memoizedProps,j=j.ownerDocument||j;t:switch(D){case"title":G=j.getElementsByTagName("title")[0],(!G||G[ri]||G[Et]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=j.createElement(D),j.head.insertBefore(G,j.querySelector("head > title"))),Ln(G,D,_),G[Et]=l,Tr(G),D=G;break e;case"link":var ne=hd("link","href",j).get(D+(_.href||""));if(ne){for(var ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("href")===(_.href==null?null:_.href)&&G.getAttribute("rel")===(_.rel==null?null:_.rel)&&G.getAttribute("title")===(_.title==null?null:_.title)&&G.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){ne.splice(ge,1);break t}}G=j.createElement(D),Ln(G,D,_),j.head.appendChild(G);break;case"meta":if(ne=hd("meta","content",j).get(D+(_.content||""))){for(ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("content")===(_.content==null?null:""+_.content)&&G.getAttribute("name")===(_.name==null?null:_.name)&&G.getAttribute("property")===(_.property==null?null:_.property)&&G.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&G.getAttribute("charset")===(_.charSet==null?null:_.charSet)){ne.splice(ge,1);break t}}G=j.createElement(D),Ln(G,D,_),j.head.appendChild(G);break;default:throw Error(a(468,D))}G[Et]=l,Tr(G),D=G}l.stateNode=D}else fd(j,l.type,l.stateNode);else l.stateNode=kl(j,D,l.memoizedProps);else G!==D?(G===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):G.count--,D===null?fd(j,l.type,l.stateNode):kl(j,D,l.memoizedProps)):D===null&&l.stateNode!==null&&wf(l,l.memoizedProps,_.memoizedProps)}break;case 27:if(D&4&&l.alternate===null){j=l.stateNode,G=l.memoizedProps;try{for(var Ce=j.firstChild;Ce;){var Fe=Ce.nextSibling,at=Ce.nodeName;Ce[ri]||at==="HEAD"||at==="BODY"||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&Ce.rel.toLowerCase()==="stylesheet"||j.removeChild(Ce),Ce=Fe}for(var pt=l.type,Ye=j.attributes;Ye.length;)j.removeAttributeNode(Ye[0]);Ln(j,pt,G),j[Et]=l,j[Cr]=G}catch(Dt){Or(l,l.return,Dt)}}case 5:if(Bn(p,l),bi(l),D&512&&(Vr||_===null||oi(_,_.return)),l.flags&32){j=l.stateNode;try{Hr(j,"")}catch(Dt){Or(l,l.return,Dt)}}D&4&&l.stateNode!=null&&(j=l.memoizedProps,wf(l,j,_!==null?_.memoizedProps:j)),D&1024&&(Pc=!0);break;case 6:if(Bn(p,l),bi(l),D&4){if(l.stateNode===null)throw Error(a(162));D=l.memoizedProps,_=l.stateNode;try{_.nodeValue=D}catch(Dt){Or(l,l.return,Dt)}}break;case 3:if(Nu=null,j=vi,vi=Iu(p.containerInfo),Bn(p,l),vi=j,bi(l),D&4&&_!==null&&_.memoizedState.isDehydrated)try{Nl(p.containerInfo)}catch(Dt){Or(l,l.return,Dt)}Pc&&(Pc=!1,dl(l));break;case 4:D=vi,vi=Iu(l.stateNode.containerInfo),Bn(p,l),bi(l),vi=D;break;case 12:Bn(p,l),bi(l);break;case 13:Bn(p,l),bi(l),l.child.flags&8192&&l.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(Xc=He()),D&4&&(D=l.updateQueue,D!==null&&(l.updateQueue=null,bu(l,D)));break;case 22:if(D&512&&(Vr||_===null||oi(_,_.return)),Ce=l.memoizedState!==null,Fe=_!==null&&_.memoizedState!==null,at=qs,pt=Vr,qs=at||Ce,Vr=pt||Fe,Bn(p,l),Vr=pt,qs=at,bi(l),p=l.stateNode,p._current=l,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,D&8192&&(p._visibility=Ce?p._visibility&-2:p._visibility|1,Ce&&(p=qs||Vr,_===null||Fe||p||Qn(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(_=null,p=l;;){if(p.tag===5||p.tag===26||p.tag===27){if(_===null){Fe=_=p;try{if(j=Fe.stateNode,Ce)G=j.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ne=Fe.stateNode,ge=Fe.memoizedProps.style;var it=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;ne.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Dt){Or(Fe,Fe.return,Dt)}}}else if(p.tag===6){if(_===null){Fe=p;try{Fe.stateNode.nodeValue=Ce?"":Fe.memoizedProps}catch(Dt){Or(Fe,Fe.return,Dt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===l)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;_===p&&(_=null),p=p.return}_===p&&(_=null),p.sibling.return=p.return,p=p.sibling}D&4&&(D=l.updateQueue,D!==null&&(_=D.retryQueue,_!==null&&(D.retryQueue=null,bu(l,_))));break;case 19:Bn(p,l),bi(l),D&4&&(D=l.updateQueue,D!==null&&(l.updateQueue=null,bu(l,D)));break;case 21:break;default:Bn(p,l),bi(l)}}function bi(l){var p=l.flags;if(p&2){try{if(l.tag!==27){e:{for(var _=l.return;_!==null;){if(_f(_)){var D=_;break e}_=_.return}throw Error(a(160))}switch(D.tag){case 27:var j=D.stateNode,G=ts(l);Ro(l,G,j);break;case 5:var ne=D.stateNode;D.flags&32&&(Hr(ne,""),D.flags&=-33);var ge=ts(l);Ro(l,ge,ne);break;case 3:case 4:var Ce=D.stateNode.containerInfo,Fe=ts(l);Mn(l,Fe,Ce);break;default:throw Error(a(161))}}}catch(at){Or(l,l.return,at)}l.flags&=-3}p&4096&&(l.flags&=-4097)}function dl(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var p=l;dl(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),l=l.sibling}}function Ts(l,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Cf(l,p.alternate,p),p=p.sibling}function Qn(l){for(l=l.child;l!==null;){var p=l;switch(p.tag){case 0:case 11:case 14:case 15:Sa(4,p,p.return),Qn(p);break;case 1:oi(p,p.return);var _=p.stateNode;typeof _.componentWillUnmount=="function"&&Nc(p,p.return,_),Qn(p);break;case 26:case 27:case 5:oi(p,p.return),Qn(p);break;case 22:oi(p,p.return),p.memoizedState===null&&Qn(p);break;default:Qn(p)}l=l.sibling}}function li(l,p,_){for(_=_&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var D=p.alternate,j=l,G=p,ne=G.flags;switch(G.tag){case 0:case 11:case 15:li(j,G,_),an(4,G);break;case 1:if(li(j,G,_),D=G,j=D.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Fe){Or(D,D.return,Fe)}if(D=G,j=D.updateQueue,j!==null){var ge=D.stateNode;try{var Ce=j.shared.hiddenCallbacks;if(Ce!==null)for(j.shared.hiddenCallbacks=null,j=0;j<Ce.length;j++)vu(Ce[j],ge)}catch(Fe){Or(D,D.return,Fe)}}_&&ne&64&&xf(G),Ga(G,G.return);break;case 26:case 27:case 5:li(j,G,_),_&&D===null&&ne&4&&Sf(G),Ga(G,G.return);break;case 12:li(j,G,_);break;case 13:li(j,G,_),_&&ne&4&&kf(j,G);break;case 22:G.memoizedState===null&&li(j,G,_),Ga(G,G.return);break;default:li(j,G,_)}p=p.sibling}}function Uc(l,p){var _=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(_=l.memoizedState.cachePool.pool),l=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(l=p.memoizedState.cachePool.pool),l!==_&&(l!=null&&l.refCount++,_!=null&&Yo(_))}function xu(l,p){l=null,p.alternate!==null&&(l=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==l&&(p.refCount++,l!=null&&Yo(l))}function wa(l,p,_,D){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Rf(l,p,_,D),p=p.sibling}function Rf(l,p,_,D){var j=p.flags;switch(p.tag){case 0:case 11:case 15:wa(l,p,_,D),j&2048&&an(9,p);break;case 3:wa(l,p,_,D),j&2048&&(l=null,p.alternate!==null&&(l=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==l&&(p.refCount++,l!=null&&Yo(l)));break;case 12:if(j&2048){wa(l,p,_,D),l=p.stateNode;try{var G=p.memoizedProps,ne=G.id,ge=G.onPostCommit;typeof ge=="function"&&ge(ne,p.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Ce){Or(p,p.return,Ce)}}else wa(l,p,_,D);break;case 23:break;case 22:G=p.stateNode,p.memoizedState!==null?G._visibility&4?wa(l,p,_,D):pl(l,p):G._visibility&4?wa(l,p,_,D):(G._visibility|=4,$o(l,p,_,D,(p.subtreeFlags&10256)!==0)),j&2048&&Uc(p.alternate,p);break;case 24:wa(l,p,_,D),j&2048&&xu(p.alternate,p);break;default:wa(l,p,_,D)}}function $o(l,p,_,D,j){for(j=j&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var G=l,ne=p,ge=_,Ce=D,Fe=ne.flags;switch(ne.tag){case 0:case 11:case 15:$o(G,ne,ge,Ce,j),an(8,ne);break;case 23:break;case 22:var at=ne.stateNode;ne.memoizedState!==null?at._visibility&4?$o(G,ne,ge,Ce,j):pl(G,ne):(at._visibility|=4,$o(G,ne,ge,Ce,j)),j&&Fe&2048&&Uc(ne.alternate,ne);break;case 24:$o(G,ne,ge,Ce,j),j&&Fe&2048&&xu(ne.alternate,ne);break;default:$o(G,ne,ge,Ce,j)}p=p.sibling}}function pl(l,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var _=l,D=p,j=D.flags;switch(D.tag){case 22:pl(_,D),j&2048&&Uc(D.alternate,D);break;case 24:pl(_,D),j&2048&&xu(D.alternate,D);break;default:pl(_,D)}p=p.sibling}}var ml=8192;function Mo(l){if(l.subtreeFlags&ml)for(l=l.child;l!==null;)$f(l),l=l.sibling}function $f(l){switch(l.tag){case 26:Mo(l),l.flags&ml&&l.memoizedState!==null&&pp(vi,l.memoizedState,l.memoizedProps);break;case 5:Mo(l);break;case 3:case 4:var p=vi;vi=Iu(l.stateNode.containerInfo),Mo(l),vi=p;break;case 22:l.memoizedState===null&&(p=l.alternate,p!==null&&p.memoizedState!==null?(p=ml,ml=16777216,Mo(l),ml=p):Mo(l));break;default:Mo(l)}}function Mf(l){var p=l.alternate;if(p!==null&&(l=p.child,l!==null)){p.child=null;do p=l.sibling,l.sibling=null,l=p;while(l!==null)}}function gl(l){var p=l.deletions;if((l.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var D=p[_];Xr=D,jc(D,l)}Mf(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Lf(l),l=l.sibling}function Lf(l){switch(l.tag){case 0:case 11:case 15:gl(l),l.flags&2048&&Sa(9,l,l.return);break;case 3:gl(l);break;case 12:gl(l);break;case 22:var p=l.stateNode;l.memoizedState!==null&&p._visibility&4&&(l.return===null||l.return.tag!==13)?(p._visibility&=-5,Su(l)):gl(l);break;default:gl(l)}}function Su(l){var p=l.deletions;if((l.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var D=p[_];Xr=D,jc(D,l)}Mf(l)}for(l=l.child;l!==null;){switch(p=l,p.tag){case 0:case 11:case 15:Sa(8,p,p.return),Su(p);break;case 22:_=p.stateNode,_._visibility&4&&(_._visibility&=-5,Su(p));break;default:Su(p)}l=l.sibling}}function jc(l,p){for(;Xr!==null;){var _=Xr;switch(_.tag){case 0:case 11:case 15:Sa(8,_,p);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var D=_.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:Yo(_.memoizedState.cache)}if(D=_.child,D!==null)D.return=_,Xr=D;else e:for(_=l;Xr!==null;){D=Xr;var j=D.sibling,G=D.return;if(Af(D),D===_){Xr=null;break e}if(j!==null){j.return=G,Xr=j;break e}Xr=G}}}function If(l,p,_,D){this.tag=l,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(l,p,_,D){return new If(l,p,_,D)}function Hc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function _a(l,p){var _=l.alternate;return _===null?(_=xi(l.tag,p,l.key,l.mode),_.elementType=l.elementType,_.type=l.type,_.stateNode=l.stateNode,_.alternate=l,l.alternate=_):(_.pendingProps=p,_.type=l.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=l.flags&31457280,_.childLanes=l.childLanes,_.lanes=l.lanes,_.child=l.child,_.memoizedProps=l.memoizedProps,_.memoizedState=l.memoizedState,_.updateQueue=l.updateQueue,p=l.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=l.sibling,_.index=l.index,_.ref=l.ref,_.refCleanup=l.refCleanup,_}function Df(l,p){l.flags&=31457282;var _=l.alternate;return _===null?(l.childLanes=0,l.lanes=p,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=_.childLanes,l.lanes=_.lanes,l.child=_.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=_.memoizedProps,l.memoizedState=_.memoizedState,l.updateQueue=_.updateQueue,l.type=_.type,p=_.dependencies,l.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),l}function yl(l,p,_,D,j,G){var ne=0;if(D=l,typeof l=="function")Hc(l)&&(ne=1);else if(typeof l=="string")ne=fp(l,_,me.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case d:return Ka(_.children,j,G,p);case f:ne=8,j|=24;break;case c:return l=xi(12,_,p,j|2),l.elementType=c,l.lanes=G,l;case m:return l=xi(13,_,p,j),l.elementType=m,l.lanes=G,l;case v:return l=xi(19,_,p,j),l.elementType=v,l.lanes=G,l;case R:return Of(_,j,G,p);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case s:case u:ne=10;break e;case o:ne=9;break e;case h:ne=11;break e;case T:ne=14;break e;case x:ne=16,D=null;break e}ne=29,_=Error(a(130,l===null?"null":typeof l,"")),D=null}return p=xi(ne,_,p,j),p.elementType=l,p.type=D,p.lanes=G,p}function Ka(l,p,_,D){return l=xi(7,l,D,p),l.lanes=_,l}function Of(l,p,_,D){l=xi(22,l,D,p),l.elementType=R,l.lanes=_;var j={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=j._current;if(G===null)throw Error(a(456));if((j._pendingVisibility&2)===0){var ne=Wi(G,2);ne!==null&&(j._pendingVisibility|=2,Vn(ne,G,2))}},attach:function(){var G=j._current;if(G===null)throw Error(a(456));if((j._pendingVisibility&2)!==0){var ne=Wi(G,2);ne!==null&&(j._pendingVisibility&=-3,Vn(ne,G,2))}}};return l.stateNode=j,l}function Wc(l,p,_){return l=xi(6,l,null,p),l.lanes=_,l}function Gc(l,p,_){return p=xi(4,l.children!==null?l.children:[],l.key,p),p.lanes=_,p.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},p}function Ys(l){l.flags|=4}function Nf(l,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!dd(p)){if(p=Fi.current,p!==null&&((Sr&4194176)===Sr?ys!==null:(Sr&62914560)!==Sr&&(Sr&536870912)===0||p!==ys))throw Go=oa,Wo;l.flags|=8192}}function Zn(l,p){p!==null&&(l.flags|=4),l.flags&16384&&(p=l.tag!==22?vn():536870912,l.lanes|=p,Io|=p)}function vl(l,p){if(!Jt)switch(l.tailMode){case"hidden":p=l.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?l.tail=null:_.sibling=null;break;case"collapsed":_=l.tail;for(var D=null;_!==null;)_.alternate!==null&&(D=_),_=_.sibling;D===null?p||l.tail===null?l.tail=null:l.tail.sibling=null:D.sibling=null}}function Wr(l){var p=l.alternate!==null&&l.alternate.child===l.child,_=0,D=0;if(p)for(var j=l.child;j!==null;)_|=j.lanes|j.childLanes,D|=j.subtreeFlags&31457280,D|=j.flags&31457280,j.return=l,j=j.sibling;else for(j=l.child;j!==null;)_|=j.lanes|j.childLanes,D|=j.subtreeFlags,D|=j.flags,j.return=l,j=j.sibling;return l.subtreeFlags|=D,l.childLanes=_,p}function Hd(l,p,_){var D=p.pendingProps;switch(rc(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(p),null;case 1:return Wr(p),null;case 3:return _=p.stateNode,D=null,l!==null&&(D=l.memoizedState.cache),p.memoizedState.cache!==D&&(p.flags|=2048),xs(pn),De(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(l===null||l.child===null)&&(za(p)?Ys(p):l===null||l.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Gi!==null&&(Do(Gi),Gi=null))),Wr(p),null;case 26:return _=p.memoizedState,l===null?(Ys(p),_!==null?(Wr(p),Nf(p,_)):(Wr(p),p.flags&=-16777217)):_?_!==l.memoizedState?(Ys(p),Wr(p),Nf(p,_)):(Wr(p),p.flags&=-16777217):(l.memoizedProps!==D&&Ys(p),Wr(p),p.flags&=-16777217),null;case 27:Mt(p),_=he.current;var j=p.type;if(l!==null&&p.stateNode!=null)l.memoizedProps!==D&&Ys(p);else{if(!D){if(p.stateNode===null)throw Error(a(166));return Wr(p),null}l=me.current,za(p)?Xl(p):(l=_h(j,D,_),p.stateNode=l,Ys(p))}return Wr(p),null;case 5:if(Mt(p),_=p.type,l!==null&&p.stateNode!=null)l.memoizedProps!==D&&Ys(p);else{if(!D){if(p.stateNode===null)throw Error(a(166));return Wr(p),null}if(l=me.current,za(p))Xl(p);else{switch(j=$u(he.current),l){case 1:l=j.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:l=j.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":l=j.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":l=j.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":l=j.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof D.is=="string"?j.createElement("select",{is:D.is}):j.createElement("select"),D.multiple?l.multiple=!0:D.size&&(l.size=D.size);break;default:l=typeof D.is=="string"?j.createElement(_,{is:D.is}):j.createElement(_)}}l[Et]=p,l[Cr]=D;e:for(j=p.child;j!==null;){if(j.tag===5||j.tag===6)l.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===p)break e;for(;j.sibling===null;){if(j.return===null||j.return===p)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}p.stateNode=l;e:switch(Ln(l,_,D),_){case"button":case"input":case"select":case"textarea":l=!!D.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ys(p)}}return Wr(p),p.flags&=-16777217,null;case 6:if(l&&p.stateNode!=null)l.memoizedProps!==D&&Ys(p);else{if(typeof D!="string"&&p.stateNode===null)throw Error(a(166));if(l=he.current,za(p)){if(l=p.stateNode,_=p.memoizedProps,D=null,j=Yn,j!==null)switch(j.tag){case 27:case 5:D=j.memoizedProps}l[Et]=p,l=!!(l.nodeValue===_||D!==null&&D.suppressHydrationWarning===!0||rr(l.nodeValue,_)),l||Fa(p)}else l=$u(l).createTextNode(D),l[Et]=p,p.stateNode=l}return Wr(p),null;case 13:if(D=p.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(j=za(p),D!==null&&D.dehydrated!==null){if(l===null){if(!j)throw Error(a(318));if(j=p.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(a(317));j[Et]=p}else gs(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Wr(p),j=!1}else Gi!==null&&(Do(Gi),Gi=null),j=!0;if(!j)return p.flags&256?(Vs(p),p):(Vs(p),null)}if(Vs(p),(p.flags&128)!==0)return p.lanes=_,p;if(_=D!==null,l=l!==null&&l.memoizedState!==null,_){D=p.child,j=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(j=D.alternate.memoizedState.cachePool.pool);var G=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(G=D.memoizedState.cachePool.pool),G!==j&&(D.flags|=2048)}return _!==l&&_&&(p.child.flags|=8192),Zn(p,p.updateQueue),Wr(p),null;case 4:return De(),l===null&&ph(p.stateNode.containerInfo),Wr(p),null;case 10:return xs(p.type),Wr(p),null;case 19:if(Re(dn),j=p.memoizedState,j===null)return Wr(p),null;if(D=(p.flags&128)!==0,G=j.rendering,G===null)if(D)vl(j,!1);else{if(Qr!==0||l!==null&&(l.flags&128)!==0)for(l=p.child;l!==null;){if(G=Jl(l),G!==null){for(p.flags|=128,vl(j,!1),l=G.updateQueue,p.updateQueue=l,Zn(p,l),p.subtreeFlags=0,l=_,_=p.child;_!==null;)Df(_,l),_=_.sibling;return ke(dn,dn.current&1|2),p.child}l=l.sibling}j.tail!==null&&He()>wu&&(p.flags|=128,D=!0,vl(j,!1),p.lanes=4194304)}else{if(!D)if(l=Jl(G),l!==null){if(p.flags|=128,D=!0,l=l.updateQueue,p.updateQueue=l,Zn(p,l),vl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!G.alternate&&!Jt)return Wr(p),null}else 2*He()-j.renderingStartTime>wu&&_!==536870912&&(p.flags|=128,D=!0,vl(j,!1),p.lanes=4194304);j.isBackwards?(G.sibling=p.child,p.child=G):(l=j.last,l!==null?l.sibling=G:p.child=G,j.last=G)}return j.tail!==null?(p=j.tail,j.rendering=p,j.tail=p.sibling,j.renderingStartTime=He(),p.sibling=null,l=dn.current,ke(dn,D?l&1|2:l&1),p):(Wr(p),null);case 22:case 23:return Vs(p),ic(),D=p.memoizedState!==null,l!==null?l.memoizedState!==null!==D&&(p.flags|=8192):D&&(p.flags|=8192),D?(_&536870912)!==0&&(p.flags&128)===0&&(Wr(p),p.subtreeFlags&6&&(p.flags|=8192)):Wr(p),_=p.updateQueue,_!==null&&Zn(p,_.retryQueue),_=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(_=l.memoizedState.cachePool.pool),D=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(D=p.memoizedState.cachePool.pool),D!==_&&(p.flags|=2048),l!==null&&Re(Ba),null;case 24:return _=null,l!==null&&(_=l.memoizedState.cache),p.memoizedState.cache!==_&&(p.flags|=2048),xs(pn),Wr(p),null;case 25:return null}throw Error(a(156,p.tag))}function Pf(l,p){switch(rc(p),p.tag){case 1:return l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 3:return xs(pn),De(),l=p.flags,(l&65536)!==0&&(l&128)===0?(p.flags=l&-65537|128,p):null;case 26:case 27:case 5:return Mt(p),null;case 13:if(Vs(p),l=p.memoizedState,l!==null&&l.dehydrated!==null){if(p.alternate===null)throw Error(a(340));gs()}return l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 19:return Re(dn),null;case 4:return De(),null;case 10:return xs(p.type),null;case 22:case 23:return Vs(p),ic(),l!==null&&Re(Ba),l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 24:return xs(pn),null;case 25:return null;default:return null}}function Ff(l,p){switch(rc(p),p.tag){case 3:xs(pn),De();break;case 26:case 27:case 5:Mt(p);break;case 4:De();break;case 13:Vs(p);break;case 19:Re(dn);break;case 10:xs(p.type);break;case 22:case 23:Vs(p),ic(),l!==null&&Re(Ba);break;case 24:xs(pn)}}var Wd={getCacheForType:function(l){var p=zn(pn),_=p.data.get(l);return _===void 0&&(_=l(),p.data.set(l,_)),_}},Gd=typeof WeakMap=="function"?WeakMap:Map,Gr=0,Dr=null,fr=null,Sr=0,Fr=0,Si=null,Xs=!1,Lo=!1,Kc=!1,Qs=0,Qr=0,Ta=0,qa=0,qc=0,Bi=0,Io=0,bl=null,Es=null,Yc=!1,Xc=0,wu=1/0,_u=null,Cs=null,xl=!1,Ya=null,Sl=0,Qc=0,Zc=null,wl=0,Jc=null;function wi(){if((Gr&2)!==0&&Sr!==0)return Sr&-Sr;if(A.T!==null){var l=uo;return l!==0?l:uh()}return bn()}function zf(){Bi===0&&(Bi=(Sr&536870912)===0||Jt?ei():536870912);var l=Fi.current;return l!==null&&(l.flags|=32),Bi}function Vn(l,p,_){(l===Dr&&Fr===2||l.cancelPendingCommit!==null)&&(Oo(l,0),Zs(l,Sr,Bi,!1)),ui(l,_),((Gr&2)===0||l!==Dr)&&(l===Dr&&((Gr&2)===0&&(qa|=_),Qr===4&&Zs(l,Sr,Bi,!1)),rs(l))}function Bf(l,p,_){if((Gr&6)!==0)throw Error(a(327));var D=!_&&(p&60)===0&&(p&l.expiredLanes)===0||jt(l,p),j=D?Yd(l,p):rh(l,p,!0),G=D;do{if(j===0){Lo&&!D&&Zs(l,p,0,!1);break}else if(j===6)Zs(l,p,0,!Xs);else{if(_=l.current.alternate,G&&!Kd(_)){j=rh(l,p,!1),G=!1;continue}if(j===2){if(G=p,l.errorRecoveryDisabledLanes&G)var ne=0;else ne=l.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){p=ne;e:{var ge=l;j=bl;var Ce=ge.current.memoizedState.isDehydrated;if(Ce&&(Oo(ge,ne).flags|=256),ne=rh(ge,ne,!1),ne!==2){if(Kc&&!Ce){ge.errorRecoveryDisabledLanes|=G,qa|=G,j=4;break e}G=Es,Es=j,G!==null&&Do(G)}j=ne}if(G=!1,j!==2)continue}}if(j===1){Oo(l,0),Zs(l,p,0,!0);break}e:{switch(D=l,j){case 0:case 1:throw Error(a(345));case 4:if((p&4194176)===p){Zs(D,p,Bi,!Xs);break e}break;case 2:Es=null;break;case 3:case 5:break;default:throw Error(a(329))}if(D.finishedWork=_,D.finishedLanes=p,(p&62914560)===p&&(G=Xc+300-He(),10<G)){if(Zs(D,p,Bi,!Xs),nt(D,0)!==0)break e;D.timeoutHandle=xh(Vf.bind(null,D,_,Es,_u,Yc,p,Bi,qa,Io,Xs,2,-0,0),G);break e}Vf(D,_,Es,_u,Yc,p,Bi,qa,Io,Xs,0,-0,0)}}break}while(!0);rs(l)}function Do(l){Es===null?Es=l:Es.push.apply(Es,l)}function Vf(l,p,_,D,j,G,ne,ge,Ce,Fe,at,pt,Ye){var it=p.subtreeFlags;if((it&8192||(it&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:dp},$f(p),p=mp(),p!==null)){l.cancelPendingCommit=p(qf.bind(null,l,_,D,j,ne,ge,Ce,1,pt,Ye)),Zs(l,G,ne,!Fe);return}qf(l,_,D,j,ne,ge,Ce,at,pt,Ye)}function Kd(l){for(var p=l;;){var _=p.tag;if((_===0||_===11||_===15)&&p.flags&16384&&(_=p.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var D=0;D<_.length;D++){var j=_[D],G=j.getSnapshot;j=j.value;try{if(!hi(G(),j))return!1}catch{return!1}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Zs(l,p,_,D){p&=~qc,p&=~qa,l.suspendedLanes|=p,l.pingedLanes&=~p,D&&(l.warmLanes|=p),D=l.expirationTimes;for(var j=p;0<j;){var G=31-Ue(j),ne=1<<G;D[G]=-1,j&=~ne}_!==0&&jn(l,_,p)}function Tu(){return(Gr&6)===0?(Za(0),!1):!0}function eh(){if(fr!==null){if(Fr===0)var l=fr.return;else l=fr,Qi=va=null,po(l),Fs=null,zs=0,l=fr;for(;l!==null;)Ff(l.alternate,l),l=l.return;fr=null}}function Oo(l,p){l.finishedWork=null,l.finishedLanes=0;var _=l.timeoutHandle;_!==-1&&(l.timeoutHandle=-1,Mu(_)),_=l.cancelPendingCommit,_!==null&&(l.cancelPendingCommit=null,_()),eh(),Dr=l,fr=_=_a(l.current,null),Sr=p,Fr=0,Si=null,Xs=!1,Lo=jt(l,p),Kc=!1,Io=Bi=qc=qa=Ta=Qr=0,Es=bl=null,Yc=!1,(p&8)!==0&&(p|=p&32);var D=l.entangledLanes;if(D!==0)for(l=l.entanglements,D&=p;0<D;){var j=31-Ue(D),G=1<<j;p|=l[j],D&=~G}return Qs=p,Kl(),_}function Uf(l,p){ur=null,A.H=Yr,p===Ps?(p=Zh(),Fr=3):p===Wo?(p=Zh(),Fr=4):Fr=p===Ac?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Si=p,fr===null&&(Qr=1,il(l,qn(p,l.current)))}function jf(){var l=A.H;return A.H=Yr,l===null?Yr:l}function Hf(){var l=A.A;return A.A=Wd,l}function th(){Qr=4,Xs||(Sr&4194176)!==Sr&&Fi.current!==null||(Lo=!0),(Ta&134217727)===0&&(qa&134217727)===0||Dr===null||Zs(Dr,Sr,Bi,!1)}function rh(l,p,_){var D=Gr;Gr|=2;var j=jf(),G=Hf();(Dr!==l||Sr!==p)&&(_u=null,Oo(l,p)),p=!1;var ne=Qr;e:do try{if(Fr!==0&&fr!==null){var ge=fr,Ce=Si;switch(Fr){case 8:eh(),ne=6;break e;case 3:case 2:case 6:Fi.current===null&&(p=!0);var Fe=Fr;if(Fr=0,Si=null,Xa(l,ge,Ce,Fe),_&&Lo){ne=0;break e}break;default:Fe=Fr,Fr=0,Si=null,Xa(l,ge,Ce,Fe)}}qd(),ne=Qr;break}catch(at){Uf(l,at)}while(!0);return p&&l.shellSuspendCounter++,Qi=va=null,Gr=D,A.H=j,A.A=G,fr===null&&(Dr=null,Sr=0,Kl()),ne}function qd(){for(;fr!==null;)Wf(fr)}function Yd(l,p){var _=Gr;Gr|=2;var D=jf(),j=Hf();Dr!==l||Sr!==p?(_u=null,wu=He()+500,Oo(l,p)):Lo=jt(l,p);e:do try{if(Fr!==0&&fr!==null){p=fr;var G=Si;t:switch(Fr){case 1:Fr=0,Si=null,Xa(l,p,G,1);break;case 2:if(Xh(G)){Fr=0,Si=null,Gf(p);break}p=function(){Fr===2&&Dr===l&&(Fr=7),rs(l)},G.then(p,p);break e;case 3:Fr=7;break e;case 4:Fr=5;break e;case 7:Xh(G)?(Fr=0,Si=null,Gf(p)):(Fr=0,Si=null,Xa(l,p,G,7));break;case 5:var ne=null;switch(fr.tag){case 26:ne=fr.memoizedState;case 5:case 27:var ge=fr;if(!ne||dd(ne)){Fr=0,Si=null;var Ce=ge.sibling;if(Ce!==null)fr=Ce;else{var Fe=ge.return;Fe!==null?(fr=Fe,_l(Fe)):fr=null}break t}}Fr=0,Si=null,Xa(l,p,G,5);break;case 6:Fr=0,Si=null,Xa(l,p,G,6);break;case 8:eh(),Qr=6;break e;default:throw Error(a(462))}}Xd();break}catch(at){Uf(l,at)}while(!0);return Qi=va=null,A.H=D,A.A=j,Gr=_,fr!==null?0:(Dr=null,Sr=0,Kl(),Qr)}function Xd(){for(;fr!==null&&!dr();)Wf(fr)}function Wf(l){var p=Dc(l.alternate,l,Qs);l.memoizedProps=l.pendingProps,p===null?_l(l):fr=p}function Gf(l){var p=l,_=p.alternate;switch(p.tag){case 15:case 0:p=Wa(_,p,p.pendingProps,p.type,void 0,Sr);break;case 11:p=Wa(_,p,p.pendingProps,p.type.render,p.ref,Sr);break;case 5:po(p);default:Ff(_,p),p=fr=Df(p,Qs),p=Dc(_,p,Qs)}l.memoizedProps=l.pendingProps,p===null?_l(l):fr=p}function Xa(l,p,_,D){Qi=va=null,po(p),Fs=null,zs=0;var j=p.return;try{if(Ud(l,j,p,_,Sr)){Qr=1,il(l,qn(_,l.current)),fr=null;return}}catch(G){if(j!==null)throw fr=j,G;Qr=1,il(l,qn(_,l.current)),fr=null;return}p.flags&32768?(Jt||D===1?l=!0:Lo||(Sr&536870912)!==0?l=!1:(Xs=l=!0,(D===2||D===3||D===6)&&(D=Fi.current,D!==null&&D.tag===13&&(D.flags|=16384))),Kf(p,l)):_l(p)}function _l(l){var p=l;do{if((p.flags&32768)!==0){Kf(p,Xs);return}l=p.return;var _=Hd(p.alternate,p,Qs);if(_!==null){fr=_;return}if(p=p.sibling,p!==null){fr=p;return}fr=p=l}while(p!==null);Qr===0&&(Qr=5)}function Kf(l,p){do{var _=Pf(l.alternate,l);if(_!==null){_.flags&=32767,fr=_;return}if(_=l.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!p&&(l=l.sibling,l!==null)){fr=l;return}fr=l=_}while(l!==null);Qr=6,fr=null}function qf(l,p,_,D,j,G,ne,ge,Ce,Fe){var at=A.T,pt=le.p;try{le.p=2,A.T=null,Qd(l,p,_,D,pt,j,G,ne,ge,Ce,Fe)}finally{A.T=at,le.p=pt}}function Qd(l,p,_,D,j,G,ne,ge){do Js();while(Ya!==null);if((Gr&6)!==0)throw Error(a(327));var Ce=l.finishedWork;if(D=l.finishedLanes,Ce===null)return null;if(l.finishedWork=null,l.finishedLanes=0,Ce===l.current)throw Error(a(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Fe=Ce.lanes|Ce.childLanes;if(Fe|=Ju,On(l,D,Fe,G,ne,ge),l===Dr&&(fr=Dr=null,Sr=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||xl||(xl=!0,Qc=Fe,Zc=_,tp(Je,function(){return Js(),null})),_=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||_?(_=A.T,A.T=null,G=le.p,le.p=2,ne=Gr,Gr|=4,Ef(l,Ce),Vc(Ce,l),Ld(yh,l.containerInfo),Ml=!!gh,yh=gh=null,l.current=Ce,Cf(l,Ce.alternate,Ce),Ne(),Gr=ne,le.p=G,A.T=_):l.current=Ce,xl?(xl=!1,Ya=l,Sl=D):Yf(l,Fe),Fe=l.pendingLanes,Fe===0&&(Cs=null),Xe(Ce.stateNode),rs(l),p!==null)for(j=l.onRecoverableError,Ce=0;Ce<p.length;Ce++)Fe=p[Ce],j(Fe.value,{componentStack:Fe.stack});return(Sl&3)!==0&&Js(),Fe=l.pendingLanes,(D&4194218)!==0&&(Fe&42)!==0?l===Jc?wl++:(wl=0,Jc=l):wl=0,Za(0),null}function Yf(l,p){(l.pooledCacheLanes&=p)===0&&(p=l.pooledCache,p!=null&&(l.pooledCache=null,Yo(p)))}function Js(){if(Ya!==null){var l=Ya,p=Qc;Qc=0;var _=Ui(Sl),D=A.T,j=le.p;try{if(le.p=32>_?32:_,A.T=null,Ya===null)var G=!1;else{_=Zc,Zc=null;var ne=Ya,ge=Sl;if(Ya=null,Sl=0,(Gr&6)!==0)throw Error(a(331));var Ce=Gr;if(Gr|=4,Lf(ne.current),Rf(ne,ne.current,ge,_),Gr=Ce,Za(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(st,ne)}catch{}G=!0}return G}finally{le.p=j,A.T=D,Yf(l,p)}}return!1}function Xf(l,p,_){p=qn(_,p),p=sl(l.stateNode,p,2),l=gi(l,p,2),l!==null&&(ui(l,2),rs(l))}function Or(l,p,_){if(l.tag===3)Xf(l,l,_);else for(;p!==null;){if(p.tag===3){Xf(p,l,_);break}else if(p.tag===1){var D=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(Cs===null||!Cs.has(D))){l=qn(_,l),_=yf(2),D=gi(p,_,2),D!==null&&(vf(_,D,p,l),ui(D,2),rs(D));break}}p=p.return}}function nh(l,p,_){var D=l.pingCache;if(D===null){D=l.pingCache=new Gd;var j=new Set;D.set(p,j)}else j=D.get(p),j===void 0&&(j=new Set,D.set(p,j));j.has(_)||(Kc=!0,j.add(_),l=Zd.bind(null,l,p,_),p.then(l,l))}function Zd(l,p,_){var D=l.pingCache;D!==null&&D.delete(p),l.pingedLanes|=l.suspendedLanes&_,l.warmLanes&=~_,Dr===l&&(Sr&_)===_&&(Qr===4||Qr===3&&(Sr&62914560)===Sr&&300>He()-Xc?(Gr&2)===0&&Oo(l,0):qc|=_,Io===Sr&&(Io=0)),rs(l)}function Qf(l,p){p===0&&(p=vn()),l=Wi(l,p),l!==null&&(ui(l,p),rs(l))}function Jd(l){var p=l.memoizedState,_=0;p!==null&&(_=p.retryLane),Qf(l,_)}function ep(l,p){var _=0;switch(l.tag){case 13:var D=l.stateNode,j=l.memoizedState;j!==null&&(_=j.retryLane);break;case 19:D=l.stateNode;break;case 22:D=l.stateNode._retryCache;break;default:throw Error(a(314))}D!==null&&D.delete(p),Qf(l,_)}function tp(l,p){return tr(l,p)}var Eu=null,No=null,ih=!1,Qa=!1,sh=!1,Ea=0;function rs(l){l!==No&&l.next===null&&(No===null?Eu=No=l:No=No.next=l),Qa=!0,ih||(ih=!0,rp(Zf))}function Za(l,p){if(!sh&&Qa){sh=!0;do for(var _=!1,D=Eu;D!==null;){if(l!==0){var j=D.pendingLanes;if(j===0)var G=0;else{var ne=D.suspendedLanes,ge=D.pingedLanes;G=(1<<31-Ue(42|l)+1)-1,G&=j&~(ne&~ge),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(_=!0,lh(D,G))}else G=Sr,G=nt(D,D===Dr?G:0),(G&3)===0||jt(D,G)||(_=!0,lh(D,G));D=D.next}while(_);sh=!1}}function Zf(){Qa=ih=!1;var l=0;Ea!==0&&(ea()&&(l=Ea),Ea=0);for(var p=He(),_=null,D=Eu;D!==null;){var j=D.next,G=ah(D,p);G===0?(D.next=null,_===null?Eu=j:_.next=j,j===null&&(No=_)):(_=D,(l!==0||(G&3)!==0)&&(Qa=!0)),D=j}Za(l)}function ah(l,p){for(var _=l.suspendedLanes,D=l.pingedLanes,j=l.expirationTimes,G=l.pendingLanes&-62914561;0<G;){var ne=31-Ue(G),ge=1<<ne,Ce=j[ne];Ce===-1?((ge&_)===0||(ge&D)!==0)&&(j[ne]=Dn(ge,p)):Ce<=p&&(l.expiredLanes|=ge),G&=~ge}if(p=Dr,_=Sr,_=nt(l,l===p?_:0),D=l.callbackNode,_===0||l===p&&Fr===2||l.cancelPendingCommit!==null)return D!==null&&D!==null&&br(D),l.callbackNode=null,l.callbackPriority=0;if((_&3)===0||jt(l,_)){if(p=_&-_,p===l.callbackPriority)return p;switch(D!==null&&br(D),Ui(_)){case 2:case 8:_=ft;break;case 32:_=Je;break;case 268435456:_=pe;break;default:_=Je}return D=oh.bind(null,l),_=tr(_,D),l.callbackPriority=p,l.callbackNode=_,p}return D!==null&&D!==null&&br(D),l.callbackPriority=2,l.callbackNode=null,2}function oh(l,p){var _=l.callbackNode;if(Js()&&l.callbackNode!==_)return null;var D=Sr;return D=nt(l,l===Dr?D:0),D===0?null:(Bf(l,D,p),ah(l,He()),l.callbackNode!=null&&l.callbackNode===_?oh.bind(null,l):null)}function lh(l,p){if(Js())return null;Bf(l,p,!0)}function rp(l){Zr(function(){(Gr&6)!==0?tr(Ve,l):l()})}function uh(){return Ea===0&&(Ea=ei()),Ea}function Jf(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Wn(""+l)}function Tl(l,p){var _=p.ownerDocument.createElement("input");return _.name=p.name,_.value=p.value,l.id&&_.setAttribute("form",l.id),p.parentNode.insertBefore(_,p),l=new FormData(l),_.parentNode.removeChild(_),l}function Cu(l,p,_,D,j){if(p==="submit"&&_&&_.stateNode===j){var G=Jf((j[Cr]||null).action),ne=D.submitter;ne&&(p=(p=ne[Cr]||null)?Jf(p.formAction):ne.getAttribute("formAction"),p!==null&&(G=p,ne=null));var ge=new $e("action","action",null,D,j);l.push({event:ge,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(Ea!==0){var Ce=ne?Tl(j,ne):new FormData(j);rl(_,{pending:!0,data:Ce,method:j.method,action:G},null,Ce)}}else typeof G=="function"&&(ge.preventDefault(),Ce=ne?Tl(j,ne):new FormData(j),rl(_,{pending:!0,data:Ce,method:j.method,action:G},G,Ce))},currentTarget:j}]})}}for(var ch=0;ch<qh.length;ch++){var hh=qh[ch],fh=hh.toLowerCase(),ed=hh[0].toUpperCase()+hh.slice(1);Ii(fh,"on"+ed)}Ii(Kh,"onAnimationEnd"),Ii(fi,"onAnimationIteration"),Ii(jo,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Dd,"onTransitionRun"),Ii(so,"onTransitionStart"),Ii(Gl,"onTransitionCancel"),Ii(Ho,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),np=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function td(l,p){p=(p&4)!==0;for(var _=0;_<l.length;_++){var D=l[_],j=D.event;D=D.listeners;e:{var G=void 0;if(p)for(var ne=D.length-1;0<=ne;ne--){var ge=D[ne],Ce=ge.instance,Fe=ge.currentTarget;if(ge=ge.listener,Ce!==G&&j.isPropagationStopped())break e;G=ge,j.currentTarget=Fe;try{G(j)}catch(at){wo(at)}j.currentTarget=null,G=Ce}else for(ne=0;ne<D.length;ne++){if(ge=D[ne],Ce=ge.instance,Fe=ge.currentTarget,ge=ge.listener,Ce!==G&&j.isPropagationStopped())break e;G=ge,j.currentTarget=Fe;try{G(j)}catch(at){wo(at)}j.currentTarget=null,G=Ce}}}}function yr(l,p){var _=p[Cn];_===void 0&&(_=p[Cn]=new Set);var D=l+"__bubble";_.has(D)||(rd(p,l,2,!1),_.add(D))}function dh(l,p,_){var D=0;p&&(D|=4),rd(_,l,D,p)}var Au="_reactListening"+Math.random().toString(36).slice(2);function ph(l){if(!l[Au]){l[Au]=!0,ki.forEach(function(_){_!=="selectionchange"&&(np.has(_)||dh(_,!1,l),dh(_,!0,l))});var p=l.nodeType===9?l:l.ownerDocument;p===null||p[Au]||(p[Au]=!0,dh("selectionchange",!1,p))}}function rd(l,p,_,D){switch(yd(p)){case 2:var j=yp;break;case 8:j=vp;break;default:j=$h}_=j.bind(null,p,_,l),j=void 0,!Be||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(j=!0),D?j!==void 0?l.addEventListener(p,_,{capture:!0,passive:j}):l.addEventListener(p,_,!0):j!==void 0?l.addEventListener(p,_,{passive:j}):l.addEventListener(p,_,!1)}function mh(l,p,_,D,j){var G=D;if((p&1)===0&&(p&2)===0&&D!==null)e:for(;;){if(D===null)return;var ne=D.tag;if(ne===3||ne===4){var ge=D.stateNode.containerInfo;if(ge===j||ge.nodeType===8&&ge.parentNode===j)break;if(ne===4)for(ne=D.return;ne!==null;){var Ce=ne.tag;if((Ce===3||Ce===4)&&(Ce=ne.stateNode.containerInfo,Ce===j||Ce.nodeType===8&&Ce.parentNode===j))return;ne=ne.return}for(;ge!==null;){if(ne=An(ge),ne===null)return;if(Ce=ne.tag,Ce===5||Ce===6||Ce===26||Ce===27){D=G=ne;continue e}ge=ge.parentNode}}D=D.return}ae(function(){var Fe=G,at=Rn(_),pt=[];e:{var Ye=kr.get(l);if(Ye!==void 0){var it=$e,Dt=l;switch(l){case"keypress":if(Kt(_)===0)break e;case"keydown":case"keyup":it=Wu;break;case"focusin":Dt="focus",it=Jr;break;case"focusout":Dt="blur",it=Jr;break;case"beforeblur":case"afterblur":it=Jr;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Td;break;case Kh:case fi:case jo:it=$i;break;case Ho:it=Ed;break;case"scroll":case"scrollend":it=Tt;break;case"wheel":it=Ad;break;case"copy":case"cut":case"paste":it=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Is;break;case"toggle":case"beforetoggle":it=Fl}var er=(p&4)!==0,qr=!er&&(l==="scroll"||l==="scrollend"),We=er?Ye!==null?Ye+"Capture":null:Ye;er=[];for(var Pe=Fe,qe;Pe!==null;){var ut=Pe;if(qe=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||qe===null||We===null||(ut=Se(Pe,We),ut!=null&&er.push(Cl(Pe,ut,qe))),qr)break;Pe=Pe.return}0<er.length&&(Ye=new it(Ye,Dt,null,_,at),pt.push({event:Ye,listeners:er}))}}if((p&7)===0){e:{if(Ye=l==="mouseover"||l==="pointerover",it=l==="mouseout"||l==="pointerout",Ye&&_!==ji&&(Dt=_.relatedTarget||_.fromElement)&&(An(Dt)||Dt[En]))break e;if((it||Ye)&&(Ye=at.window===at?at:(Ye=at.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,it?(Dt=_.relatedTarget||_.toElement,it=Fe,Dt=Dt?An(Dt):null,Dt!==null&&(qr=K(Dt),er=Dt.tag,Dt!==qr||er!==5&&er!==27&&er!==6)&&(Dt=null)):(it=null,Dt=Fe),it!==Dt)){if(er=xr,ut="onMouseLeave",We="onMouseEnter",Pe="mouse",(l==="pointerout"||l==="pointerover")&&(er=Is,ut="onPointerLeave",We="onPointerEnter",Pe="pointer"),qr=it==null?Ye:rn(it),qe=Dt==null?Ye:rn(Dt),Ye=new er(ut,Pe+"leave",it,_,at),Ye.target=qr,Ye.relatedTarget=qe,ut=null,An(at)===Fe&&(er=new er(We,Pe+"enter",Dt,_,at),er.target=qe,er.relatedTarget=qr,ut=er),qr=ut,it&&Dt)t:{for(er=it,We=Dt,Pe=0,qe=er;qe;qe=Po(qe))Pe++;for(qe=0,ut=We;ut;ut=Po(ut))qe++;for(;0<Pe-qe;)er=Po(er),Pe--;for(;0<qe-Pe;)We=Po(We),qe--;for(;Pe--;){if(er===We||We!==null&&er===We.alternate)break t;er=Po(er),We=Po(We)}er=null}else er=null;it!==null&&Vi(pt,Ye,it,er,!1),Dt!==null&&qr!==null&&Vi(pt,qr,Dt,er,!0)}}e:{if(Ye=Fe?rn(Fe):window,it=Ye.nodeName&&Ye.nodeName.toLowerCase(),it==="select"||it==="input"&&Ye.type==="file")var It=Bh;else if(Ul(Ye))if(Vh)It=$d;else{It=aa;var cr=Hh}else it=Ye.nodeName,!it||it.toLowerCase()!=="input"||Ye.type!=="checkbox"&&Ye.type!=="radio"?Fe&&ls(Fe.elementType)&&(It=Bh):It=Wl;if(It&&(It=It(l,Fe))){ro(pt,It,_,at);break e}cr&&cr(l,Ye,Fe),l==="focusout"&&Fe&&Ye.type==="number"&&Fe.memoizedProps.value!=null&&kn(Ye,"number",Ye.value)}switch(cr=Fe?rn(Fe):window,l){case"focusin":(Ul(cr)||cr.contentEditable==="true")&&(Hi=cr,ze=Fe,rt=null);break;case"focusout":rt=ze=Hi=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,Lt(pt,_,at);break;case"selectionchange":if(Id)break;case"keydown":case"keyup":Lt(pt,_,at)}var Ft;if(qu)e:{switch(l){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else ia?Fh(l,_)&&(Yt="onCompositionEnd"):l==="keydown"&&_.keyCode===229&&(Yt="onCompositionStart");Yt&&(zl&&_.locale!=="ko"&&(ia||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&ia&&(Ft=Wt()):(dt=at,bt="value"in dt?dt.value:dt.textContent,ia=!0)),cr=ku(Fe,Yt),0<cr.length&&(Yt=new fn(Yt,l,null,_,at),pt.push({event:Yt,listeners:cr}),Ft?Yt.data=Ft:(Ft=Vl(_),Ft!==null&&(Yt.data=Ft)))),(Ft=Ph?kd(l,_):zh(l,_))&&(Yt=ku(Fe,"onBeforeInput"),0<Yt.length&&(cr=new fn("onBeforeInput","beforeinput",null,_,at),pt.push({event:cr,listeners:Yt}),cr.data=Ft)),Cu(pt,l,Fe,_,at)}td(pt,p)})}function Cl(l,p,_){return{instance:l,listener:p,currentTarget:_}}function ku(l,p){for(var _=p+"Capture",D=[];l!==null;){var j=l,G=j.stateNode;j=j.tag,j!==5&&j!==26&&j!==27||G===null||(j=Se(l,_),j!=null&&D.unshift(Cl(l,j,G)),j=Se(l,p),j!=null&&D.push(Cl(l,j,G))),l=l.return}return D}function Po(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Vi(l,p,_,D,j){for(var G=p._reactName,ne=[];_!==null&&_!==D;){var ge=_,Ce=ge.alternate,Fe=ge.stateNode;if(ge=ge.tag,Ce!==null&&Ce===D)break;ge!==5&&ge!==26&&ge!==27||Fe===null||(Ce=Fe,j?(Fe=Se(_,G),Fe!=null&&ne.unshift(Cl(_,Fe,Ce))):j||(Fe=Se(_,G),Fe!=null&&ne.push(Cl(_,Fe,Ce)))),_=_.return}ne.length!==0&&l.push({event:p,listeners:ne})}var ip=/\r\n?/g,sp=/\u0000|\uFFFD/g;function Ca(l){return(typeof l=="string"?l:""+l).replace(ip,`
`).replace(sp,"")}function rr(l,p){return p=Ca(p),Ca(l)===p}function Ru(){}function sr(l,p,_,D,j,G){switch(_){case"children":typeof D=="string"?p==="body"||p==="textarea"&&D===""||Hr(l,D):(typeof D=="number"||typeof D=="bigint")&&p!=="body"&&Hr(l,""+D);break;case"className":Y(l,"class",D);break;case"tabIndex":Y(l,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":Y(l,_,D);break;case"style":Gt(l,D,G);break;case"data":if(p!=="object"){Y(l,"data",D);break}case"src":case"href":if(D===""&&(p!=="a"||_!=="href")){l.removeAttribute(_);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){l.removeAttribute(_);break}D=Wn(""+D),l.setAttribute(_,D);break;case"action":case"formAction":if(typeof D=="function"){l.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(_==="formAction"?(p!=="input"&&sr(l,p,"name",j.name,j,null),sr(l,p,"formEncType",j.formEncType,j,null),sr(l,p,"formMethod",j.formMethod,j,null),sr(l,p,"formTarget",j.formTarget,j,null)):(sr(l,p,"encType",j.encType,j,null),sr(l,p,"method",j.method,j,null),sr(l,p,"target",j.target,j,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){l.removeAttribute(_);break}D=Wn(""+D),l.setAttribute(_,D);break;case"onClick":D!=null&&(l.onclick=Ru);break;case"onScroll":D!=null&&yr("scroll",l);break;case"onScrollEnd":D!=null&&yr("scrollend",l);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(a(61));if(_=D.__html,_!=null){if(j.children!=null)throw Error(a(60));l.innerHTML=_}}break;case"multiple":l.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":l.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){l.removeAttribute("xlink:href");break}_=Wn(""+D),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?l.setAttribute(_,""+D):l.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?l.setAttribute(_,""):l.removeAttribute(_);break;case"capture":case"download":D===!0?l.setAttribute(_,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?l.setAttribute(_,D):l.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?l.setAttribute(_,D):l.removeAttribute(_);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?l.removeAttribute(_):l.setAttribute(_,D);break;case"popover":yr("beforetoggle",l),yr("toggle",l),P(l,"popover",D);break;case"xlinkActuate":ie(l,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":ie(l,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":ie(l,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":ie(l,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":ie(l,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":ie(l,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":ie(l,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":ie(l,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":ie(l,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":P(l,"is",D);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=Ms.get(_)||_,P(l,_,D))}}function Kr(l,p,_,D,j,G){switch(_){case"style":Gt(l,D,G);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(a(61));if(_=D.__html,_!=null){if(j.children!=null)throw Error(a(60));l.innerHTML=_}}break;case"children":typeof D=="string"?Hr(l,D):(typeof D=="number"||typeof D=="bigint")&&Hr(l,""+D);break;case"onScroll":D!=null&&yr("scroll",l);break;case"onScrollEnd":D!=null&&yr("scrollend",l);break;case"onClick":D!=null&&(l.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nn.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(j=_.endsWith("Capture"),p=_.slice(2,j?_.length-7:void 0),G=l[Cr]||null,G=G!=null?G[_]:null,typeof G=="function"&&l.removeEventListener(p,G,j),typeof D=="function")){typeof G!="function"&&G!==null&&(_ in l?l[_]=null:l.hasAttribute(_)&&l.removeAttribute(_)),l.addEventListener(p,D,j);break e}_ in l?l[_]=D:D===!0?l.setAttribute(_,""):P(l,_,D)}}}function Ln(l,p,_){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yr("error",l),yr("load",l);var D=!1,j=!1,G;for(G in _)if(_.hasOwnProperty(G)){var ne=_[G];if(ne!=null)switch(G){case"src":D=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:sr(l,p,G,ne,_,null)}}j&&sr(l,p,"srcSet",_.srcSet,_,null),D&&sr(l,p,"src",_.src,_,null);return;case"input":yr("invalid",l);var ge=G=ne=j=null,Ce=null,Fe=null;for(D in _)if(_.hasOwnProperty(D)){var at=_[D];if(at!=null)switch(D){case"name":j=at;break;case"type":ne=at;break;case"checked":Ce=at;break;case"defaultChecked":Fe=at;break;case"value":G=at;break;case"defaultValue":ge=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(a(137,p));break;default:sr(l,p,D,at,_,null)}}hn(l,G,ge,Ce,Fe,ne,j,!1),et(l);return;case"select":yr("invalid",l),D=ne=G=null;for(j in _)if(_.hasOwnProperty(j)&&(ge=_[j],ge!=null))switch(j){case"value":G=ge;break;case"defaultValue":ne=ge;break;case"multiple":D=ge;default:sr(l,p,j,ge,_,null)}p=G,_=ne,l.multiple=!!D,p!=null?Hn(l,!!D,p,!1):_!=null&&Hn(l,!!D,_,!0);return;case"textarea":yr("invalid",l),G=j=D=null;for(ne in _)if(_.hasOwnProperty(ne)&&(ge=_[ne],ge!=null))switch(ne){case"value":D=ge;break;case"defaultValue":j=ge;break;case"children":G=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(91));break;default:sr(l,p,ne,ge,_,null)}_n(l,D,j,G),et(l);return;case"option":for(Ce in _)if(_.hasOwnProperty(Ce)&&(D=_[Ce],D!=null))switch(Ce){case"selected":l.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:sr(l,p,Ce,D,_,null)}return;case"dialog":yr("cancel",l),yr("close",l);break;case"iframe":case"object":yr("load",l);break;case"video":case"audio":for(D=0;D<El.length;D++)yr(El[D],l);break;case"image":yr("error",l),yr("load",l);break;case"details":yr("toggle",l);break;case"embed":case"source":case"link":yr("error",l),yr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in _)if(_.hasOwnProperty(Fe)&&(D=_[Fe],D!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:sr(l,p,Fe,D,_,null)}return;default:if(ls(p)){for(at in _)_.hasOwnProperty(at)&&(D=_[at],D!==void 0&&Kr(l,p,at,D,_,void 0));return}}for(ge in _)_.hasOwnProperty(ge)&&(D=_[ge],D!=null&&sr(l,p,ge,D,_,null))}function Aa(l,p,_,D){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,G=null,ne=null,ge=null,Ce=null,Fe=null,at=null;for(it in _){var pt=_[it];if(_.hasOwnProperty(it)&&pt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Ce=pt;default:D.hasOwnProperty(it)||sr(l,p,it,null,D,pt)}}for(var Ye in D){var it=D[Ye];if(pt=_[Ye],D.hasOwnProperty(Ye)&&(it!=null||pt!=null))switch(Ye){case"type":G=it;break;case"name":j=it;break;case"checked":Fe=it;break;case"defaultChecked":at=it;break;case"value":ne=it;break;case"defaultValue":ge=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,p));break;default:it!==pt&&sr(l,p,Ye,it,D,pt)}}nn(l,ne,ge,Ce,Fe,at,G,j);return;case"select":it=ne=ge=Ye=null;for(G in _)if(Ce=_[G],_.hasOwnProperty(G)&&Ce!=null)switch(G){case"value":break;case"multiple":it=Ce;default:D.hasOwnProperty(G)||sr(l,p,G,null,D,Ce)}for(j in D)if(G=D[j],Ce=_[j],D.hasOwnProperty(j)&&(G!=null||Ce!=null))switch(j){case"value":Ye=G;break;case"defaultValue":ge=G;break;case"multiple":ne=G;default:G!==Ce&&sr(l,p,j,G,D,Ce)}p=ge,_=ne,D=it,Ye!=null?Hn(l,!!_,Ye,!1):!!D!=!!_&&(p!=null?Hn(l,!!_,p,!0):Hn(l,!!_,_?[]:"",!1));return;case"textarea":it=Ye=null;for(ge in _)if(j=_[ge],_.hasOwnProperty(ge)&&j!=null&&!D.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:sr(l,p,ge,null,D,j)}for(ne in D)if(j=D[ne],G=_[ne],D.hasOwnProperty(ne)&&(j!=null||G!=null))switch(ne){case"value":Ye=j;break;case"defaultValue":it=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(91));break;default:j!==G&&sr(l,p,ne,j,D,G)}Pn(l,Ye,it);return;case"option":for(var Dt in _)if(Ye=_[Dt],_.hasOwnProperty(Dt)&&Ye!=null&&!D.hasOwnProperty(Dt))switch(Dt){case"selected":l.selected=!1;break;default:sr(l,p,Dt,null,D,Ye)}for(Ce in D)if(Ye=D[Ce],it=_[Ce],D.hasOwnProperty(Ce)&&Ye!==it&&(Ye!=null||it!=null))switch(Ce){case"selected":l.selected=Ye&&typeof Ye!="function"&&typeof Ye!="symbol";break;default:sr(l,p,Ce,Ye,D,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var er in _)Ye=_[er],_.hasOwnProperty(er)&&Ye!=null&&!D.hasOwnProperty(er)&&sr(l,p,er,null,D,Ye);for(Fe in D)if(Ye=D[Fe],it=_[Fe],D.hasOwnProperty(Fe)&&Ye!==it&&(Ye!=null||it!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(a(137,p));break;default:sr(l,p,Fe,Ye,D,it)}return;default:if(ls(p)){for(var qr in _)Ye=_[qr],_.hasOwnProperty(qr)&&Ye!==void 0&&!D.hasOwnProperty(qr)&&Kr(l,p,qr,void 0,D,Ye);for(at in D)Ye=D[at],it=_[at],!D.hasOwnProperty(at)||Ye===it||Ye===void 0&&it===void 0||Kr(l,p,at,Ye,D,it);return}}for(var We in _)Ye=_[We],_.hasOwnProperty(We)&&Ye!=null&&!D.hasOwnProperty(We)&&sr(l,p,We,null,D,Ye);for(pt in D)Ye=D[pt],it=_[pt],!D.hasOwnProperty(pt)||Ye===it||Ye==null&&it==null||sr(l,p,pt,Ye,D,it)}var gh=null,yh=null;function $u(l){return l.nodeType===9?l:l.ownerDocument}function nd(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(l,p){if(l===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&p==="foreignObject"?0:l}function Al(l,p){return l==="textarea"||l==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var bh=null;function ea(){var l=window.event;return l&&l.type==="popstate"?l===bh?!1:(bh=l,!0):(bh=null,!1)}var xh=typeof setTimeout=="function"?setTimeout:void 0,Mu=typeof clearTimeout=="function"?clearTimeout:void 0,Ur=typeof Promise=="function"?Promise:void 0,Zr=typeof queueMicrotask=="function"?queueMicrotask:typeof Ur<"u"?function(l){return Ur.resolve(null).then(l).catch(ad)}:xh;function ad(l){setTimeout(function(){throw l})}function Sh(l,p){var _=p,D=0;do{var j=_.nextSibling;if(l.removeChild(_),j&&j.nodeType===8)if(_=j.data,_==="/$"){if(D===0){l.removeChild(j),Nl(p);return}D--}else _!=="$"&&_!=="$?"&&_!=="$!"||D++;_=j}while(_);Nl(p)}function wh(l){var p=l.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var _=p;switch(p=p.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":wh(_),Ai(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}l.removeChild(_)}}function ap(l,p,_,D){for(;l.nodeType===1;){var j=_;if(l.nodeName.toLowerCase()!==p.toLowerCase()){if(!D&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(D){if(!l[ri])switch(p){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(G=l.getAttribute("rel"),G==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(G!==j.rel||l.getAttribute("href")!==(j.href==null?null:j.href)||l.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||l.getAttribute("title")!==(j.title==null?null:j.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(G=l.getAttribute("src"),(G!==(j.src==null?null:j.src)||l.getAttribute("type")!==(j.type==null?null:j.type)||l.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&G&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(p==="input"&&l.type==="hidden"){var G=j.name==null?null:""+j.name;if(j.type==="hidden"&&l.getAttribute("name")===G)return l}else return l;if(l=ns(l.nextSibling),l===null)break}return null}function op(l,p,_){if(p==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!_||(l=ns(l.nextSibling),l===null))return null;return l}function ns(l){for(;l!=null;l=l.nextSibling){var p=l.nodeType;if(p===1||p===3)break;if(p===8){if(p=l.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return l}function od(l){l=l.previousSibling;for(var p=0;l;){if(l.nodeType===8){var _=l.data;if(_==="$"||_==="$!"||_==="$?"){if(p===0)return l;p--}else _==="/$"&&p++}l=l.previousSibling}return null}function _h(l,p,_){switch(p=$u(_),l){case"html":if(l=p.documentElement,!l)throw Error(a(452));return l;case"head":if(l=p.head,!l)throw Error(a(453));return l;case"body":if(l=p.body,!l)throw Error(a(454));return l;default:throw Error(a(451))}}var Un=new Map,Lu=new Set;function Iu(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var As=le.d;le.d={f:Du,r:_i,D:lp,C:up,L:cp,m:hp,X:ta,S:ud,M:ar};function Du(){var l=As.f(),p=Tu();return l||p}function _i(l){var p=jr(l);p!==null&&p.tag===5&&p.type==="form"?mf(p):As.r(l)}var ss=typeof document>"u"?null:document;function ld(l,p,_){var D=ss;if(D&&typeof p=="string"&&p){var j=mr(p);j='link[rel="'+l+'"][href="'+j+'"]',typeof _=="string"&&(j+='[crossorigin="'+_+'"]'),Lu.has(j)||(Lu.add(j),l={rel:l,crossOrigin:_,href:p},D.querySelector(j)===null&&(p=D.createElement("link"),Ln(p,"link",l),Tr(p),D.head.appendChild(p)))}}function lp(l){As.D(l),ld("dns-prefetch",l,null)}function up(l,p){As.C(l,p),ld("preconnect",l,p)}function cp(l,p,_){As.L(l,p,_);var D=ss;if(D&&l&&p){var j='link[rel="preload"][as="'+mr(p)+'"]';p==="image"&&_&&_.imageSrcSet?(j+='[imagesrcset="'+mr(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(j+='[imagesizes="'+mr(_.imageSizes)+'"]')):j+='[href="'+mr(l)+'"]';var G=j;switch(p){case"style":G=In(l);break;case"script":G=zo(l)}Un.has(G)||(l=$({rel:"preload",href:p==="image"&&_&&_.imageSrcSet?void 0:l,as:p},_),Un.set(G,l),D.querySelector(j)!==null||p==="style"&&D.querySelector(Fo(G))||p==="script"&&D.querySelector(Bo(G))||(p=D.createElement("link"),Ln(p,"link",l),Tr(p),D.head.appendChild(p)))}}function hp(l,p){As.m(l,p);var _=ss;if(_&&l){var D=p&&typeof p.as=="string"?p.as:"script",j='link[rel="modulepreload"][as="'+mr(D)+'"][href="'+mr(l)+'"]',G=j;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=zo(l)}if(!Un.has(G)&&(l=$({rel:"modulepreload",href:l},p),Un.set(G,l),_.querySelector(j)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(Bo(G)))return}D=_.createElement("link"),Ln(D,"link",l),Tr(D),_.head.appendChild(D)}}}function ud(l,p,_){As.S(l,p,_);var D=ss;if(D&&l){var j=Sn(D).hoistableStyles,G=In(l);p=p||"default";var ne=j.get(G);if(!ne){var ge={loading:0,preload:null};if(ne=D.querySelector(Fo(G)))ge.loading=5;else{l=$({rel:"stylesheet",href:l,"data-precedence":p},_),(_=Un.get(G))&&Eh(l,_);var Ce=ne=D.createElement("link");Tr(Ce),Ln(Ce,"link",l),Ce._p=new Promise(function(Fe,at){Ce.onload=Fe,Ce.onerror=at}),Ce.addEventListener("load",function(){ge.loading|=1}),Ce.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Ou(ne,p,D)}ne={type:"stylesheet",instance:ne,count:1,state:ge},j.set(G,ne)}}}function ta(l,p){As.X(l,p);var _=ss;if(_&&l){var D=Sn(_).hoistableScripts,j=zo(l),G=D.get(j);G||(G=_.querySelector(Bo(j)),G||(l=$({src:l,async:!0},p),(p=Un.get(j))&&Ch(l,p),G=_.createElement("script"),Tr(G),Ln(G,"link",l),_.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},D.set(j,G))}}function ar(l,p){As.M(l,p);var _=ss;if(_&&l){var D=Sn(_).hoistableScripts,j=zo(l),G=D.get(j);G||(G=_.querySelector(Bo(j)),G||(l=$({src:l,async:!0,type:"module"},p),(p=Un.get(j))&&Ch(l,p),G=_.createElement("script"),Tr(G),Ln(G,"link",l),_.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},D.set(j,G))}}function Th(l,p,_,D){var j=(j=he.current)?Iu(j):null;if(!j)throw Error(a(446));switch(l){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(p=In(_.href),_=Sn(j).hoistableStyles,D=_.get(p),D||(D={type:"style",instance:null,count:0,state:null},_.set(p,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){l=In(_.href);var G=Sn(j).hoistableStyles,ne=G.get(l);if(ne||(j=j.ownerDocument||j,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(l,ne),(G=j.querySelector(Fo(l)))&&!G._p&&(ne.instance=G,ne.state.loading=5),Un.has(l)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},Un.set(l,_),G||$r(j,l,_,ne.state))),p&&D===null)throw Error(a(528,""));return ne}if(p&&D!==null)throw Error(a(529,""));return null;case"script":return p=_.async,_=_.src,typeof _=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=zo(_),_=Sn(j).hoistableScripts,D=_.get(p),D||(D={type:"script",instance:null,count:0,state:null},_.set(p,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,l))}}function In(l){return'href="'+mr(l)+'"'}function Fo(l){return'link[rel="stylesheet"]['+l+"]"}function cd(l){return $({},l,{"data-precedence":l.precedence,precedence:null})}function $r(l,p,_,D){l.querySelector('link[rel="preload"][as="style"]['+p+"]")?D.loading=1:(p=l.createElement("link"),D.preload=p,p.addEventListener("load",function(){return D.loading|=1}),p.addEventListener("error",function(){return D.loading|=2}),Ln(p,"link",_),Tr(p),l.head.appendChild(p))}function zo(l){return'[src="'+mr(l)+'"]'}function Bo(l){return"script[async]"+l}function kl(l,p,_){if(p.count++,p.instance===null)switch(p.type){case"style":var D=l.querySelector('style[data-href~="'+mr(_.href)+'"]');if(D)return p.instance=D,Tr(D),D;var j=$({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return D=(l.ownerDocument||l).createElement("style"),Tr(D),Ln(D,"style",j),Ou(D,_.precedence,l),p.instance=D;case"stylesheet":j=In(_.href);var G=l.querySelector(Fo(j));if(G)return p.state.loading|=4,p.instance=G,Tr(G),G;D=cd(_),(j=Un.get(j))&&Eh(D,j),G=(l.ownerDocument||l).createElement("link"),Tr(G);var ne=G;return ne._p=new Promise(function(ge,Ce){ne.onload=ge,ne.onerror=Ce}),Ln(G,"link",D),p.state.loading|=4,Ou(G,_.precedence,l),p.instance=G;case"script":return G=zo(_.src),(j=l.querySelector(Bo(G)))?(p.instance=j,Tr(j),j):(D=_,(j=Un.get(G))&&(D=$({},_),Ch(D,j)),l=l.ownerDocument||l,j=l.createElement("script"),Tr(j),Ln(j,"link",D),l.head.appendChild(j),p.instance=j);case"void":return null;default:throw Error(a(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(D=p.instance,p.state.loading|=4,Ou(D,_.precedence,l));return p.instance}function Ou(l,p,_){for(var D=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=D.length?D[D.length-1]:null,G=j,ne=0;ne<D.length;ne++){var ge=D[ne];if(ge.dataset.precedence===p)G=ge;else if(G!==j)break}G?G.parentNode.insertBefore(l,G.nextSibling):(p=_.nodeType===9?_.head:_,p.insertBefore(l,p.firstChild))}function Eh(l,p){l.crossOrigin==null&&(l.crossOrigin=p.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=p.referrerPolicy),l.title==null&&(l.title=p.title)}function Ch(l,p){l.crossOrigin==null&&(l.crossOrigin=p.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=p.referrerPolicy),l.integrity==null&&(l.integrity=p.integrity)}var Nu=null;function hd(l,p,_){if(Nu===null){var D=new Map,j=Nu=new Map;j.set(_,D)}else j=Nu,D=j.get(_),D||(D=new Map,j.set(_,D));if(D.has(l))return D;for(D.set(l,null),_=_.getElementsByTagName(l),j=0;j<_.length;j++){var G=_[j];if(!(G[ri]||G[Et]||l==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=G.getAttribute(p)||"";ne=l+ne;var ge=D.get(ne);ge?ge.push(G):D.set(ne,[G])}}return D}function fd(l,p,_){l=l.ownerDocument||l,l.head.insertBefore(_,p==="title"?l.querySelector("head > title"):null)}function fp(l,p,_){if(_===1||p.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return l=p.disabled,typeof p.precedence=="string"&&l==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function dd(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Rl=null;function dp(){}function pp(l,p,_){if(Rl===null)throw Error(a(475));var D=Rl;if(p.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var j=In(_.href),G=l.querySelector(Fo(j));if(G){l=G._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(D.count++,D=Pu.bind(D),l.then(D,D)),p.state.loading|=4,p.instance=G,Tr(G);return}G=l.ownerDocument||l,_=cd(_),(j=Un.get(j))&&Eh(_,j),G=G.createElement("link"),Tr(G);var ne=G;ne._p=new Promise(function(ge,Ce){ne.onload=ge,ne.onerror=Ce}),Ln(G,"link",_),p.instance=G}D.stylesheets===null&&(D.stylesheets=new Map),D.stylesheets.set(p,l),(l=p.state.preload)&&(p.state.loading&3)===0&&(D.count++,p=Pu.bind(D),l.addEventListener("load",p),l.addEventListener("error",p))}}function mp(){if(Rl===null)throw Error(a(475));var l=Rl;return l.stylesheets&&l.count===0&&Ah(l,l.stylesheets),0<l.count?function(p){var _=setTimeout(function(){if(l.stylesheets&&Ah(l,l.stylesheets),l.unsuspend){var D=l.unsuspend;l.unsuspend=null,D()}},6e4);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(_)}}:null}function Pu(){if(this.count--,this.count===0){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Vo=null;function Ah(l,p){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Vo=new Map,p.forEach(kh,l),Vo=null,Pu.call(l))}function kh(l,p){if(!(p.state.loading&4)){var _=Vo.get(l);if(_)var D=_.get(null);else{_=new Map,Vo.set(l,_);for(var j=l.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<j.length;G++){var ne=j[G];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(_.set(ne.dataset.precedence,ne),D=ne)}D&&_.set(null,D)}j=p.instance,ne=j.getAttribute("data-precedence"),G=_.get(ne)||D,G===D&&_.set(null,j),_.set(ne,j),this.count++,D=Pu.bind(this),j.addEventListener("load",D),j.addEventListener("error",D),G?G.parentNode.insertBefore(j,G.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(j,l.firstChild)),p.state.loading|=4}}var $l={$$typeof:u,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function gp(l,p,_,D,j,G,ne,ge){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=D,this.onUncaughtError=j,this.onCaughtError=G,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function pd(l,p,_,D,j,G,ne,ge,Ce,Fe,at,pt){return l=new gp(l,p,_,ne,ge,Ce,Fe,pt),p=1,G===!0&&(p|=24),G=xi(3,null,null,p),l.current=G,G.stateNode=l,p=sc(),p.refCount++,l.pooledCache=p,p.refCount++,G.memoizedState={element:D,isDehydrated:_,cache:p},ul(G),l}function gn(l){return l?(l=Da,l):Da}function Jn(l,p,_,D,j,G){j=gn(j),D.context===null?D.context=j:D.pendingContext=j,D=Ji(p),D.payload={element:_},G=G===void 0?null:G,G!==null&&(D.callback=G),_=gi(l,D,p),_!==null&&(Vn(_,l,p),Ut(_,l,p))}function md(l,p){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var _=l.retryLane;l.retryLane=_!==0&&_<p?_:p}}function Rh(l,p){md(l,p),(l=l.alternate)&&md(l,p)}function gd(l){if(l.tag===13){var p=Wi(l,67108864);p!==null&&Vn(p,l,67108864),Rh(l,67108864)}}var Ml=!0;function yp(l,p,_,D){var j=A.T;A.T=null;var G=le.p;try{le.p=2,$h(l,p,_,D)}finally{le.p=G,A.T=j}}function vp(l,p,_,D){var j=A.T;A.T=null;var G=le.p;try{le.p=8,$h(l,p,_,D)}finally{le.p=G,A.T=j}}function $h(l,p,_,D){if(Ml){var j=Fu(D);if(j===null)mh(l,p,D,zu,_),vd(l,D);else if(xp(j,l,p,_,D))D.stopPropagation();else if(vd(l,D),p&4&&-1<bp.indexOf(l)){for(;j!==null;){var G=jr(j);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var ne=Ot(G.pendingLanes);if(ne!==0){var ge=G;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ne;){var Ce=1<<31-Ue(ne);ge.entanglements[1]|=Ce,ne&=~Ce}rs(G),(Gr&6)===0&&(wu=He()+500,Za(0))}}break;case 13:ge=Wi(G,2),ge!==null&&Vn(ge,G,2),Tu(),Rh(G,2)}if(G=Fu(D),G===null&&mh(l,p,D,zu,_),G===j)break;j=G}j!==null&&D.stopPropagation()}else mh(l,p,D,null,_)}}function Fu(l){return l=Rn(l),Mh(l)}var zu=null;function Mh(l){if(zu=null,l=An(l),l!==null){var p=K(l);if(p===null)l=null;else{var _=p.tag;if(_===13){if(l=Q(p),l!==null)return l;l=null}else if(_===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;l=null}else p!==l&&(l=null)}}return zu=l,null}function yd(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Ve:return 2;case ft:return 8;case Je:case Pt:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Bu=!1,ra=null,ka=null,Ra=null,Ll=new Map,Il=new Map,Ti=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(l,p){switch(l){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Ll.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(p.pointerId)}}function Dl(l,p,_,D,j,G){return l===null||l.nativeEvent!==G?(l={blockedOn:p,domEventName:_,eventSystemFlags:D,nativeEvent:G,targetContainers:[j]},p!==null&&(p=jr(p),p!==null&&gd(p)),l):(l.eventSystemFlags|=D,p=l.targetContainers,j!==null&&p.indexOf(j)===-1&&p.push(j),l)}function xp(l,p,_,D,j){switch(p){case"focusin":return ra=Dl(ra,l,p,_,D,j),!0;case"dragenter":return ka=Dl(ka,l,p,_,D,j),!0;case"mouseover":return Ra=Dl(Ra,l,p,_,D,j),!0;case"pointerover":var G=j.pointerId;return Ll.set(G,Dl(Ll.get(G)||null,l,p,_,D,j)),!0;case"gotpointercapture":return G=j.pointerId,Il.set(G,Dl(Il.get(G)||null,l,p,_,D,j)),!0}return!1}function bd(l){var p=An(l.target);if(p!==null){var _=K(p);if(_!==null){if(p=_.tag,p===13){if(p=Q(_),p!==null){l.blockedOn=p,Tn(l.priority,function(){if(_.tag===13){var D=wi(),j=Wi(_,D);j!==null&&Vn(j,_,D),Rh(_,D)}});return}}else if(p===3&&_.stateNode.current.memoizedState.isDehydrated){l.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Ol(l){if(l.blockedOn!==null)return!1;for(var p=l.targetContainers;0<p.length;){var _=Fu(l.nativeEvent);if(_===null){_=l.nativeEvent;var D=new _.constructor(_.type,_);ji=D,_.target.dispatchEvent(D),ji=null}else return p=jr(_),p!==null&&gd(p),l.blockedOn=_,!1;p.shift()}return!0}function Lh(l,p,_){Ol(l)&&_.delete(p)}function Sp(){Bu=!1,ra!==null&&Ol(ra)&&(ra=null),ka!==null&&Ol(ka)&&(ka=null),Ra!==null&&Ol(Ra)&&(Ra=null),Ll.forEach(Lh),Il.forEach(Lh)}function Vu(l,p){l.blockedOn===p&&(l.blockedOn=null,Bu||(Bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sp)))}var Uu=null;function xd(l){Uu!==l&&(Uu=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uu===l&&(Uu=null);for(var p=0;p<l.length;p+=3){var _=l[p],D=l[p+1],j=l[p+2];if(typeof D!="function"){if(Mh(D||_)===null)continue;break}var G=jr(_);G!==null&&(l.splice(p,3),p-=3,rl(G,{pending:!0,data:j,method:_.method,action:D},D,j))}}))}function Nl(l){function p(Ce){return Vu(Ce,l)}ra!==null&&Vu(ra,l),ka!==null&&Vu(ka,l),Ra!==null&&Vu(Ra,l),Ll.forEach(p),Il.forEach(p);for(var _=0;_<Ti.length;_++){var D=Ti[_];D.blockedOn===l&&(D.blockedOn=null)}for(;0<Ti.length&&(_=Ti[0],_.blockedOn===null);)bd(_),_.blockedOn===null&&Ti.shift();if(_=(l.ownerDocument||l).$$reactFormReplay,_!=null)for(D=0;D<_.length;D+=3){var j=_[D],G=_[D+1],ne=j[Cr]||null;if(typeof G=="function")ne||xd(_);else if(ne){var ge=null;if(G&&G.hasAttribute("formAction")){if(j=G,ne=G[Cr]||null)ge=ne.formAction;else if(Mh(j)!==null)continue}else ge=ne.action;typeof ge=="function"?_[D+1]=ge:(_.splice(D,3),D-=3),xd(_)}}}function Ih(l){this._internalRoot=l}ju.prototype.render=Ih.prototype.render=function(l){var p=this._internalRoot;if(p===null)throw Error(a(409));var _=p.current,D=wi();Jn(_,D,l,p,null,null)},ju.prototype.unmount=Ih.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var p=l.containerInfo;l.tag===0&&Js(),Jn(l.current,2,null,l,null,null),Tu(),p[En]=null}};function ju(l){this._internalRoot=l}ju.prototype.unstable_scheduleHydration=function(l){if(l){var p=bn();l={blockedOn:null,target:l,priority:p};for(var _=0;_<Ti.length&&p!==0&&p<Ti[_].priority;_++);Ti.splice(_,0,l),_===0&&bd(l)}};var Sd=n.version;if(Sd!=="19.0.0")throw Error(a(527,Sd,"19.0.0"));le.findDOMNode=function(l){var p=l._reactInternals;if(p===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=te(p),l=l!==null?se(l):null,l=l===null?null:l.stateNode,l};var wp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:An,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{st=Hu.inject(wp),lt=Hu}catch{}}return reactDomClient_production.createRoot=function(l,p){if(!w(l))throw Error(a(299));var _=!1,D="",j=Gs,G=gf,ne=Ks,ge=null;return p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onUncaughtError!==void 0&&(j=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(ne=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ge=p.unstable_transitionCallbacks)),p=pd(l,1,!1,null,null,_,D,j,G,ne,ge,null),l[En]=p.current,ph(l.nodeType===8?l.parentNode:l),new Ih(p)},reactDomClient_production.hydrateRoot=function(l,p,_){if(!w(l))throw Error(a(299));var D=!1,j="",G=Gs,ne=gf,ge=Ks,Ce=null,Fe=null;return _!=null&&(_.unstable_strictMode===!0&&(D=!0),_.identifierPrefix!==void 0&&(j=_.identifierPrefix),_.onUncaughtError!==void 0&&(G=_.onUncaughtError),_.onCaughtError!==void 0&&(ne=_.onCaughtError),_.onRecoverableError!==void 0&&(ge=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(Ce=_.unstable_transitionCallbacks),_.formState!==void 0&&(Fe=_.formState)),p=pd(l,1,!0,p,_??null,D,j,G,ne,ge,Ce,Fe),p.context=gn(null),_=p.current,D=wi(),j=Ji(D),j.callback=null,gi(_,j,D),p.current.lanes=D,ui(p,D),rs(p),l[En]=p.current,ph(l),new ju(p)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var e=requireReact();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,w=e.useRef,g=e.useEffect,y=e.useMemo,b=e.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(d,f,c,s,o){var u=w(null);if(u.current===null){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=y(function(){function v(C){if(!T){if(T=!0,x=C,C=s(C),o!==void 0&&h.hasValue){var S=h.value;if(o(S,C))return R=S}return R=C}if(S=R,i(x,C))return S;var N=s(C);return o!==void 0&&o(S,N)?(x=C,S):(x=C,R=N)}var T=!1,x,R,k=c===void 0?null:c;return[function(){return v(f())},k===null?void 0:function(){return v(k())}]},[f,c,s,o]);var m=a(d,u[0],u[1]);return g(function(){h.hasValue=!0,h.value=m},[m]),b(m),m},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();function defaultNoopBatch(e){e()}function createListenerCollection(){let e=null,n=null;return{clear(){e=null,n=null},notify(){defaultNoopBatch(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let a=e;for(;a;)i.push(a),a=a.next;return i},subscribe(i){let a=!0;const w=n={callback:i,next:null,prev:n};return w.prev?w.prev.next=w:e=w,function(){!a||e===null||(a=!1,w.next?w.next.prev=w.prev:n=w.prev,w.prev?w.prev.next=w.next:e=w.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(e,n){let i,a=nullListeners,w=0,g=!1;function y(m){c();const v=a.subscribe(m);let T=!1;return()=>{T||(T=!0,v(),s())}}function b(){a.notify()}function d(){h.onStateChange&&h.onStateChange()}function f(){return g}function c(){w++,i||(i=e.subscribe(d),a=createListenerCollection())}function s(){w--,i&&w===0&&(i(),i=void 0,a.clear(),a=nullListeners)}function o(){g||(g=!0,c())}function u(){g&&(g=!1,s())}const h={addNestedSub:y,notifyNestedSubs:b,handleChangeWrapper:d,isSubscribed:f,trySubscribe:o,tryUnsubscribe:u,getListeners:()=>a};return h}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const e=gT[ContextKey]??(gT[ContextKey]=new Map);let n=e.get(reactExports.createContext);return n||(n=reactExports.createContext(null),e.set(reactExports.createContext,n)),n}var ReactReduxContext=getContext();function Provider(e){const{children:n,context:i,serverState:a,store:w}=e,g=reactExports.useMemo(()=>{const d=createSubscription(w);return{store:w,subscription:d,getServerState:a?()=>a:void 0}},[w,a]),y=reactExports.useMemo(()=>w.getState(),[w]);useIsomorphicLayoutEffect(()=>{const{subscription:d}=g;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),y!==w.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[g,y]);const b=i||ReactReduxContext;return reactExports.createElement(b.Provider,{value:g},n)}var Provider_default=Provider;function createReduxContextHook(e=ReactReduxContext){return function(){return reactExports.useContext(e)}}var useReduxContext=createReduxContextHook();function createStoreHook(e=ReactReduxContext){const n=e===ReactReduxContext?useReduxContext:createReduxContextHook(e),i=()=>{const{store:a}=n();return a};return Object.assign(i,{withTypes:()=>i}),i}var useStore=createStoreHook();function createDispatchHook(e=ReactReduxContext){const n=e===ReactReduxContext?useStore:createStoreHook(e),i=()=>n().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var useDispatch=createDispatchHook(),refEquality=(e,n)=>e===n;function createSelectorHook(e=ReactReduxContext){const n=e===ReactReduxContext?useReduxContext:createReduxContextHook(e),i=(a,w={})=>{const{equalityFn:g=refEquality}=typeof w=="function"?{equalityFn:w}:w,y=n(),{store:b,subscription:d,getServerState:f}=y;reactExports.useRef(!0);const c=reactExports.useCallback({[a.name](o){return a(o)}}[a.name],[a]),s=withSelectorExports.useSyncExternalStoreWithSelector(d.addNestedSub,b.getState,f||b.getState,c,g);return reactExports.useDebugValue(s),s};return Object.assign(i,{withTypes:()=>i}),i}var useSelector=createSelectorHook();const scriptRel="modulepreload",assetsURL=function(e){return"/seker/"+e},seen={},__vitePreload=function(n,i,a){let w=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),b=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));w=Promise.allSettled(i.map(d=>{if(d=assetsURL(d),d in seen)return;seen[d]=!0;const f=d.endsWith(".css"),c=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${c}`))return;const s=document.createElement("link");if(s.rel=f?"stylesheet":scriptRel,f||(s.as="script"),s.crossOrigin="",s.href=d,b&&s.setAttribute("nonce",b),document.head.appendChild(s),f)return new Promise((o,u)=>{s.addEventListener("load",o),s.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${d}`)))})}))}function g(y){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=y,window.dispatchEvent(b),!b.defaultPrevented)throw y}return w.then(y=>{for(const b of y||[])b.status==="rejected"&&g(b.reason);return n().catch(g)})};var lzString={exports:{}},hasRequiredLzString;function requireLzString(){return hasRequiredLzString||(hasRequiredLzString=1,function(e){var n=function(){var i=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",g={};function y(d,f){if(!g[d]){g[d]={};for(var c=0;c<d.length;c++)g[d][d.charAt(c)]=c}return g[d][f]}var b={compressToBase64:function(d){if(d==null)return"";var f=b._compress(d,6,function(c){return a.charAt(c)});switch(f.length%4){default:case 0:return f;case 1:return f+"===";case 2:return f+"==";case 3:return f+"="}},decompressFromBase64:function(d){return d==null?"":d==""?null:b._decompress(d.length,32,function(f){return y(a,d.charAt(f))})},compressToUTF16:function(d){return d==null?"":b._compress(d,15,function(f){return i(f+32)})+" "},decompressFromUTF16:function(d){return d==null?"":d==""?null:b._decompress(d.length,16384,function(f){return d.charCodeAt(f)-32})},compressToUint8Array:function(d){for(var f=b.compress(d),c=new Uint8Array(f.length*2),s=0,o=f.length;s<o;s++){var u=f.charCodeAt(s);c[s*2]=u>>>8,c[s*2+1]=u%256}return c},decompressFromUint8Array:function(d){if(d==null)return b.decompress(d);for(var f=new Array(d.length/2),c=0,s=f.length;c<s;c++)f[c]=d[c*2]*256+d[c*2+1];var o=[];return f.forEach(function(u){o.push(i(u))}),b.decompress(o.join(""))},compressToEncodedURIComponent:function(d){return d==null?"":b._compress(d,6,function(f){return w.charAt(f)})},decompressFromEncodedURIComponent:function(d){return d==null?"":d==""?null:(d=d.replace(/ /g,"+"),b._decompress(d.length,32,function(f){return y(w,d.charAt(f))}))},compress:function(d){return b._compress(d,16,function(f){return i(f)})},_compress:function(d,f,c){if(d==null)return"";var s,o,u={},h={},m="",v="",T="",x=2,R=3,k=2,C=[],S=0,N=0,L;for(L=0;L<d.length;L+=1)if(m=d.charAt(L),Object.prototype.hasOwnProperty.call(u,m)||(u[m]=R++,h[m]=!0),v=T+m,Object.prototype.hasOwnProperty.call(u,v))T=v;else{if(Object.prototype.hasOwnProperty.call(h,T)){if(T.charCodeAt(0)<256){for(s=0;s<k;s++)S=S<<1,N==f-1?(N=0,C.push(c(S)),S=0):N++;for(o=T.charCodeAt(0),s=0;s<8;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1}else{for(o=1,s=0;s<k;s++)S=S<<1|o,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=0;for(o=T.charCodeAt(0),s=0;s<16;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1}x--,x==0&&(x=Math.pow(2,k),k++),delete h[T]}else for(o=u[T],s=0;s<k;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1;x--,x==0&&(x=Math.pow(2,k),k++),u[v]=R++,T=String(m)}if(T!==""){if(Object.prototype.hasOwnProperty.call(h,T)){if(T.charCodeAt(0)<256){for(s=0;s<k;s++)S=S<<1,N==f-1?(N=0,C.push(c(S)),S=0):N++;for(o=T.charCodeAt(0),s=0;s<8;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1}else{for(o=1,s=0;s<k;s++)S=S<<1|o,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=0;for(o=T.charCodeAt(0),s=0;s<16;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1}x--,x==0&&(x=Math.pow(2,k),k++),delete h[T]}else for(o=u[T],s=0;s<k;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1;x--,x==0&&(x=Math.pow(2,k),k++)}for(o=2,s=0;s<k;s++)S=S<<1|o&1,N==f-1?(N=0,C.push(c(S)),S=0):N++,o=o>>1;for(;;)if(S=S<<1,N==f-1){C.push(c(S));break}else N++;return C.join("")},decompress:function(d){return d==null?"":d==""?null:b._decompress(d.length,32768,function(f){return d.charCodeAt(f)})},_decompress:function(d,f,c){var s=[],o=4,u=4,h=3,m="",v=[],T,x,R,k,C,S,N,L={val:c(0),position:f,index:1};for(T=0;T<3;T+=1)s[T]=T;for(R=0,C=Math.pow(2,2),S=1;S!=C;)k=L.val&L.position,L.position>>=1,L.position==0&&(L.position=f,L.val=c(L.index++)),R|=(k>0?1:0)*S,S<<=1;switch(R){case 0:for(R=0,C=Math.pow(2,8),S=1;S!=C;)k=L.val&L.position,L.position>>=1,L.position==0&&(L.position=f,L.val=c(L.index++)),R|=(k>0?1:0)*S,S<<=1;N=i(R);break;case 1:for(R=0,C=Math.pow(2,16),S=1;S!=C;)k=L.val&L.position,L.position>>=1,L.position==0&&(L.position=f,L.val=c(L.index++)),R|=(k>0?1:0)*S,S<<=1;N=i(R);break;case 2:return""}for(s[3]=N,x=N,v.push(N);;){if(L.index>d)return"";for(R=0,C=Math.pow(2,h),S=1;S!=C;)k=L.val&L.position,L.position>>=1,L.position==0&&(L.position=f,L.val=c(L.index++)),R|=(k>0?1:0)*S,S<<=1;switch(N=R){case 0:for(R=0,C=Math.pow(2,8),S=1;S!=C;)k=L.val&L.position,L.position>>=1,L.position==0&&(L.position=f,L.val=c(L.index++)),R|=(k>0?1:0)*S,S<<=1;s[u++]=i(R),N=u-1,o--;break;case 1:for(R=0,C=Math.pow(2,16),S=1;S!=C;)k=L.val&L.position,L.position>>=1,L.position==0&&(L.position=f,L.val=c(L.index++)),R|=(k>0?1:0)*S,S<<=1;s[u++]=i(R),N=u-1,o--;break;case 2:return v.join("")}if(o==0&&(o=Math.pow(2,h),h++),s[N])m=s[N];else if(N===u)m=x+x.charAt(0);else return null;v.push(m),s[u++]=x+m.charAt(0),o--,x=m,o==0&&(o=Math.pow(2,h),h++)}}};return b}();e!=null?e.exports=n:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return n})}(lzString)),lzString.exports}var lzStringExports=requireLzString();const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,n){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;n=n||1;const i=e.slice(0,n),a=e.slice(n);return Array.prototype.concat.call([],decodeComponents(i),decodeComponents(a))}function decode$1(e){try{return decodeURIComponent(e)}catch{let n=e.match(singleMatcher)||[];for(let i=1;i<n.length;i++)e=decodeComponents(n,i).join(""),n=e.match(singleMatcher)||[];return e}}function customDecodeURIComponent(e){const n={"%FE%FF":"��","%FF%FE":"��"};let i=multiMatcher.exec(e);for(;i;){try{n[i[0]]=decodeURIComponent(i[0])}catch{const w=decode$1(i[0]);w!==i[0]&&(n[i[0]]=w)}i=multiMatcher.exec(e)}n["%C2"]="�";const a=Object.keys(n);for(const w of a)e=e.replace(new RegExp(w,"g"),n[w]);return e}function decodeUriComponent(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return customDecodeURIComponent(e)}}function includeKeys(e,n){const i={};if(Array.isArray(n))for(const a of n){const w=Object.getOwnPropertyDescriptor(e,a);w!=null&&w.enumerable&&Object.defineProperty(i,a,w)}else for(const a of Reflect.ownKeys(e)){const w=Object.getOwnPropertyDescriptor(e,a);if(w.enumerable){const g=e[a];n(a,g,e)&&Object.defineProperty(i,a,w)}}return i}function splitOnFirst(e,n){if(!(typeof e=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||n==="")return[];const i=e.indexOf(n);return i===-1?[]:[e.slice(0,i),e.slice(i+n.length)]}const isNullOrUndefined=e=>e==null,strictUriEncode=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return n=>(i,a)=>{const w=i.length;return a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?i:a===null?[...i,[encode(n,e),"[",w,"]"].join("")]:[...i,[encode(n,e),"[",encode(w,e),"]=",encode(a,e)].join("")]};case"bracket":return n=>(i,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?i:a===null?[...i,[encode(n,e),"[]"].join("")]:[...i,[encode(n,e),"[]=",encode(a,e)].join("")];case"colon-list-separator":return n=>(i,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?i:a===null?[...i,[encode(n,e),":list="].join("")]:[...i,[encode(n,e),":list=",encode(a,e)].join("")];case"comma":case"separator":case"bracket-separator":{const n=e.arrayFormat==="bracket-separator"?"[]=":"=";return i=>(a,w)=>w===void 0||e.skipNull&&w===null||e.skipEmptyString&&w===""?a:(w=w===null?"":w,a.length===0?[[encode(i,e),n,encode(w,e)].join("")]:[[a,encode(w,e)].join(e.arrayFormatSeparator)])}default:return n=>(i,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?i:a===null?[...i,encode(n,e)]:[...i,[encode(n,e),"=",encode(a,e)].join("")]}}function parserForArrayFormat(e){let n;switch(e.arrayFormat){case"index":return(i,a,w)=>{if(n=/\[(\d*)]$/.exec(i),i=i.replace(/\[\d*]$/,""),!n){w[i]=a;return}w[i]===void 0&&(w[i]={}),w[i][n[1]]=a};case"bracket":return(i,a,w)=>{if(n=/(\[])$/.exec(i),i=i.replace(/\[]$/,""),!n){w[i]=a;return}if(w[i]===void 0){w[i]=[a];return}w[i]=[...w[i],a]};case"colon-list-separator":return(i,a,w)=>{if(n=/(:list)$/.exec(i),i=i.replace(/:list$/,""),!n){w[i]=a;return}if(w[i]===void 0){w[i]=[a];return}w[i]=[...w[i],a]};case"comma":case"separator":return(i,a,w)=>{const g=typeof a=="string"&&a.includes(e.arrayFormatSeparator),y=typeof a=="string"&&!g&&decode(a,e).includes(e.arrayFormatSeparator);a=y?decode(a,e):a;const b=g||y?a.split(e.arrayFormatSeparator).map(d=>decode(d,e)):a===null?a:decode(a,e);w[i]=b};case"bracket-separator":return(i,a,w)=>{const g=/(\[])$/.test(i);if(i=i.replace(/\[]$/,""),!g){w[i]=a&&decode(a,e);return}const y=a===null?[]:decode(a,e).split(e.arrayFormatSeparator);if(w[i]===void 0){w[i]=y;return}w[i]=[...w[i],...y]};default:return(i,a,w)=>{if(w[i]===void 0){w[i]=a;return}w[i]=[...[w[i]].flat(),a]}}}function validateArrayFormatSeparator(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(e,n){return n.encode?n.strict?strictUriEncode(e):encodeURIComponent(e):e}function decode(e,n){return n.decode?decodeUriComponent(e):e}function keysSorter(e){return Array.isArray(e)?e.sort():typeof e=="object"?keysSorter(Object.keys(e)).sort((n,i)=>Number(n)-Number(i)).map(n=>e[n]):e}function removeHash(e){const n=e.indexOf("#");return n!==-1&&(e=e.slice(0,n)),e}function getHash(e){let n="";const i=e.indexOf("#");return i!==-1&&(n=e.slice(i)),n}function parseValue(e,n,i){return i==="string"&&typeof e=="string"?e:typeof i=="function"&&typeof e=="string"?i(e):n.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":i==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""||n.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function extract(e){e=removeHash(e);const n=e.indexOf("?");return n===-1?"":e.slice(n+1)}function parse(e,n){n={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...n},validateArrayFormatSeparator(n.arrayFormatSeparator);const i=parserForArrayFormat(n),a=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return a;for(const w of e.split("&")){if(w==="")continue;const g=n.decode?w.replaceAll("+"," "):w;let[y,b]=splitOnFirst(g,"=");y===void 0&&(y=g),b=b===void 0?null:["comma","separator","bracket-separator"].includes(n.arrayFormat)?b:decode(b,n),i(decode(y,n),b,a)}for(const[w,g]of Object.entries(a))if(typeof g=="object"&&g!==null&&n.types[w]!=="string")for(const[y,b]of Object.entries(g)){const d=n.types[w]?n.types[w].replace("[]",""):void 0;g[y]=parseValue(b,n,d)}else typeof g=="object"&&g!==null&&n.types[w]==="string"?a[w]=Object.values(g).join(n.arrayFormatSeparator):a[w]=parseValue(g,n,n.types[w]);return n.sort===!1?a:(n.sort===!0?Object.keys(a).sort():Object.keys(a).sort(n.sort)).reduce((w,g)=>{const y=a[g];return w[g]=y&&typeof y=="object"&&!Array.isArray(y)?keysSorter(y):y,w},Object.create(null))}function stringify$1(e,n){if(!e)return"";n={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...n},validateArrayFormatSeparator(n.arrayFormatSeparator);const i=y=>n.skipNull&&isNullOrUndefined(e[y])||n.skipEmptyString&&e[y]==="",a=encoderForArrayFormat(n),w={};for(const[y,b]of Object.entries(e))i(y)||(w[y]=b);const g=Object.keys(w);return n.sort!==!1&&g.sort(n.sort),g.map(y=>{const b=e[y];return b===void 0?"":b===null?encode(y,n):Array.isArray(b)?b.length===0&&n.arrayFormat==="bracket-separator"?encode(y,n)+"[]":b.reduce(a(y),[]).join("&"):encode(y,n)+"="+encode(b,n)}).filter(y=>y.length>0).join("&")}function parseUrl(e,n){var w;n={decode:!0,...n};let[i,a]=splitOnFirst(e,"#");return i===void 0&&(i=e),{url:((w=i==null?void 0:i.split("?"))==null?void 0:w[0])??"",query:parse(extract(e),n),...n&&n.parseFragmentIdentifier&&a?{fragmentIdentifier:decode(a,n)}:{}}}function stringifyUrl(e,n){n={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...n};const i=removeHash(e.url).split("?")[0]||"",a=extract(e.url),w={...parse(a,{sort:!1}),...e.query};let g=stringify$1(w,n);g&&(g=`?${g}`);let y=getHash(e.url);if(typeof e.fragmentIdentifier=="string"){const b=new URL(i);b.hash=e.fragmentIdentifier,y=n[encodeFragmentIdentifier]?b.hash:`#${e.fragmentIdentifier}`}return`${i}${g}${y}`}function pick(e,n,i){i={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...i};const{url:a,query:w,fragmentIdentifier:g}=parseUrl(e,i);return stringifyUrl({url:a,query:includeKeys(w,n),fragmentIdentifier:g},i)}function exclude(e,n,i){const a=Array.isArray(n)?w=>!n.includes(w):(w,g)=>!n(w,g);return pick(e,a,i)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify:stringify$1,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var lib$1={},ace$2={},ace$1={exports:{}},hasRequiredAce$1;function requireAce$1(){return hasRequiredAce$1||(hasRequiredAce$1=1,function(e,n){(function(){var i="ace",a=function(){return this}();!a&&typeof window<"u"&&(a=window);var w=function(c,s,o){if(typeof c!="string"){w.original?w.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(o=s),w.modules[c]||(w.payloads[c]=o,w.modules[c]=null)};w.modules={},w.payloads={};var g=function(c,s,o){if(typeof s=="string"){var u=d(c,s);if(u!=null)return o&&o(),u}else if(Object.prototype.toString.call(s)==="[object Array]"){for(var h=[],m=0,v=s.length;m<v;++m){var T=d(c,s[m]);if(T==null&&y.original)return;h.push(T)}return o&&o.apply(null,h)||!0}},y=function(c,s){var o=g("",c,s);return o==null&&y.original?y.original.apply(this,arguments):o},b=function(c,s){if(s.indexOf("!")!==-1){var o=s.split("!");return b(c,o[0])+"!"+b(c,o[1])}if(s.charAt(0)=="."){var u=c.split("/").slice(0,-1).join("/");for(s=u+"/"+s;s.indexOf(".")!==-1&&h!=s;){var h=s;s=s.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return s},d=function(c,s){s=b(c,s);var o=w.modules[s];if(!o){if(o=w.payloads[s],typeof o=="function"){var u={},h={id:s,uri:"",exports:u,packaged:!0},m=function(T,x){return g(s,T,x)},v=o(m,u,h);u=v||h.exports,w.modules[s]=u,delete w.payloads[s]}o=w.modules[s]=u||o}return o};function f(c){var s=a;a[c]||(a[c]={}),s=a[c],(!s.define||!s.define.packaged)&&(w.original=s.define,s.define=w,s.define.packaged=!0),(!s.require||!s.require.packaged)&&(y.original=s.require,s.require=y,s.require.packaged=!0)}f(i)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(i,a,w){function g(y,b,d){Object.defineProperty(y,b,{value:d,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||g(String.prototype,"startsWith",function(y,b){return b=b||0,this.lastIndexOf(y,b)===b}),String.prototype.endsWith||g(String.prototype,"endsWith",function(y,b){var d=this;(b===void 0||b>d.length)&&(b=d.length),b-=y.length;var f=d.indexOf(y,b);return f!==-1&&f===b}),String.prototype.repeat||g(String.prototype,"repeat",function(y){for(var b="",d=this;y>0;)y&1&&(b+=d),(y>>=1)&&(d+=d);return b}),String.prototype.includes||g(String.prototype,"includes",function(y,b){return this.indexOf(y,b)!=-1}),Object.assign||(Object.assign=function(y){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(y),d=1;d<arguments.length;d++){var f=arguments[d];f!=null&&Object.keys(f).forEach(function(c){b[c]=f[c]})}return b}),Object.values||(Object.values=function(y){return Object.keys(y).map(function(b){return y[b]})}),Array.prototype.find||g(Array.prototype,"find",function(y){for(var b=this.length,d=arguments[1],f=0;f<b;f++){var c=this[f];if(y.call(d,c,f,this))return c}}),Array.prototype.findIndex||g(Array.prototype,"findIndex",function(y){for(var b=this.length,d=arguments[1],f=0;f<b;f++){var c=this[f];if(y.call(d,c,f,this))return f}}),Array.prototype.includes||g(Array.prototype,"includes",function(y,b){return this.indexOf(y,b)!=-1}),Array.prototype.fill||g(Array.prototype,"fill",function(y){for(var b=this,d=b.length>>>0,f=arguments[1],c=f>>0,s=c<0?Math.max(d+c,0):Math.min(c,d),o=arguments[2],u=o===void 0?d:o>>0,h=u<0?Math.max(d+u,0):Math.min(u,d);s<h;)b[s]=y,s++;return b}),Array.of||g(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(i,a,w){i("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(i,a,w){a.deepCopy=function g(y){if(typeof y!="object"||!y)return y;var b;if(Array.isArray(y)){b=[];for(var d=0;d<y.length;d++)b[d]=g(y[d]);return b}if(Object.prototype.toString.call(y)!=="[object Object]")return y;b={};for(var d in y)b[d]=g(y[d]);return b}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(i,a,w){a.last=function(b){return b[b.length-1]},a.stringReverse=function(b){return b.split("").reverse().join("")},a.stringRepeat=function(b,d){for(var f="";d>0;)d&1&&(f+=b),(d>>=1)&&(b+=b);return f};var g=/^\s\s*/,y=/\s\s*$/;a.stringTrimLeft=function(b){return b.replace(g,"")},a.stringTrimRight=function(b){return b.replace(y,"")},a.copyObject=function(b){var d={};for(var f in b)d[f]=b[f];return d},a.copyArray=function(b){for(var d=[],f=0,c=b.length;f<c;f++)b[f]&&typeof b[f]=="object"?d[f]=this.copyObject(b[f]):d[f]=b[f];return d},a.deepCopy=i("./deep_copy").deepCopy,a.arrayToMap=function(b){for(var d={},f=0;f<b.length;f++)d[b[f]]=1;return d},a.createMap=function(b){var d=Object.create(null);for(var f in b)d[f]=b[f];return d},a.arrayRemove=function(b,d){for(var f=0;f<=b.length;f++)d===b[f]&&b.splice(f,1)},a.escapeRegExp=function(b){return b.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},a.escapeHTML=function(b){return(""+b).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},a.getMatchOffsets=function(b,d){var f=[];return b.replace(d,function(c){f.push({offset:arguments[arguments.length-2],length:c.length})}),f},a.deferredCall=function(b){var d=null,f=function(){d=null,b()},c=function(s){return c.cancel(),d=setTimeout(f,s||0),c};return c.schedule=c,c.call=function(){return this.cancel(),b(),c},c.cancel=function(){return clearTimeout(d),d=null,c},c.isPending=function(){return d},c},a.delayedCall=function(b,d){var f=null,c=function(){f=null,b()},s=function(o){f==null&&(f=setTimeout(c,o||d))};return s.delay=function(o){f&&clearTimeout(f),f=setTimeout(c,o||d)},s.schedule=s,s.call=function(){this.cancel(),b()},s.cancel=function(){f&&clearTimeout(f),f=null},s.isPending=function(){return f},s},a.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},a.skipEmptyMatch=function(b,d,f){return f&&b.codePointAt(d)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(i,a,w){a.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},a.getOS=function(){return a.isMac?a.OS.MAC:a.isLinux?a.OS.LINUX:a.OS.WINDOWS};var g=typeof navigator=="object"?navigator:{},y=(/mac|win|linux/i.exec(g.platform)||["other"])[0].toLowerCase(),b=g.userAgent||"",d=g.appName||"";a.isWin=y=="win",a.isMac=y=="mac",a.isLinux=y=="linux",a.isIE=d=="Microsoft Internet Explorer"||d.indexOf("MSAppHost")>=0?parseFloat((b.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((b.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),a.isOldIE=a.isIE&&a.isIE<9,a.isGecko=a.isMozilla=b.match(/ Gecko\/\d+/),a.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",a.isWebKit=parseFloat(b.split("WebKit/")[1])||void 0,a.isChrome=parseFloat(b.split(" Chrome/")[1])||void 0,a.isSafari=parseFloat(b.split(" Safari/")[1])&&!a.isChrome||void 0,a.isEdge=parseFloat(b.split(" Edge/")[1])||void 0,a.isAIR=b.indexOf("AdobeAIR")>=0,a.isAndroid=b.indexOf("Android")>=0,a.isChromeOS=b.indexOf(" CrOS ")>=0,a.isIOS=/iPad|iPhone|iPod/.test(b)&&!window.MSStream,a.isIOS&&(a.isMac=!0),a.isMobile=a.isIOS||a.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(i,a,w){var g=i("./useragent"),y="http://www.w3.org/1999/xhtml";a.buildDom=function o(u,h,m){if(typeof u=="string"&&u){var v=document.createTextNode(u);return h&&h.appendChild(v),v}if(!Array.isArray(u))return u&&u.appendChild&&h&&h.appendChild(u),u;if(typeof u[0]!="string"||!u[0]){for(var T=[],x=0;x<u.length;x++){var R=o(u[x],h,m);R&&T.push(R)}return T}var k=document.createElement(u[0]),C=u[1],S=1;C&&typeof C=="object"&&!Array.isArray(C)&&(S=2);for(var x=S;x<u.length;x++)o(u[x],k,m);return S==2&&Object.keys(C).forEach(function(N){var L=C[N];N==="class"?k.className=Array.isArray(L)?L.join(" "):L:typeof L=="function"||N=="value"||N[0]=="$"?k[N]=L:N==="ref"?m&&(m[L]=k):N==="style"?typeof L=="string"&&(k.style.cssText=L):L!=null&&k.setAttribute(N,L)}),h&&h.appendChild(k),k},a.getDocumentHead=function(o){return o||(o=document),o.head||o.getElementsByTagName("head")[0]||o.documentElement},a.createElement=function(o,u){return document.createElementNS?document.createElementNS(u||y,o):document.createElement(o)},a.removeChildren=function(o){o.innerHTML=""},a.createTextNode=function(o,u){var h=u?u.ownerDocument:document;return h.createTextNode(o)},a.createFragment=function(o){var u=o?o.ownerDocument:document;return u.createDocumentFragment()},a.hasCssClass=function(o,u){var h=(o.className+"").split(/\s+/g);return h.indexOf(u)!==-1},a.addCssClass=function(o,u){a.hasCssClass(o,u)||(o.className+=" "+u)},a.removeCssClass=function(o,u){for(var h=o.className.split(/\s+/g);;){var m=h.indexOf(u);if(m==-1)break;h.splice(m,1)}o.className=h.join(" ")},a.toggleCssClass=function(o,u){for(var h=o.className.split(/\s+/g),m=!0;;){var v=h.indexOf(u);if(v==-1)break;m=!1,h.splice(v,1)}return m&&h.push(u),o.className=h.join(" "),m},a.setCssClass=function(o,u,h){h?a.addCssClass(o,u):a.removeCssClass(o,u)},a.hasCssString=function(o,u){var h=0,m;if(u=u||document,m=u.querySelectorAll("style")){for(;h<m.length;)if(m[h++].id===o)return!0}},a.removeElementById=function(o,u){u=u||document,u.getElementById(o)&&u.getElementById(o).remove()};var b,d=[];a.useStrictCSP=function(o){b=o,o==!1?f():d||(d=[])};function f(){var o=d;d=null,o&&o.forEach(function(u){c(u[0],u[1])})}function c(o,u,h){if(!(typeof document>"u")){if(d){if(h)f();else if(h===!1)return d.push([o,u])}if(!b){var m=h;!h||!h.getRootNode?m=document:(m=h.getRootNode(),(!m||m==h)&&(m=document));var v=m.ownerDocument||m;if(u&&a.hasCssString(u,m))return null;u&&(o+=`
/*# sourceURL=ace/css/`+u+" */");var T=a.createElement("style");T.appendChild(v.createTextNode(o)),u&&(T.id=u),m==v&&(m=a.getDocumentHead(v)),m.insertBefore(T,m.firstChild)}}}if(a.importCssString=c,a.importCssStylsheet=function(o,u){a.buildDom(["link",{rel:"stylesheet",href:o}],a.getDocumentHead(u))},a.scrollbarWidth=function(o){var u=a.createElement("ace_inner");u.style.width="100%",u.style.minWidth="0px",u.style.height="200px",u.style.display="block";var h=a.createElement("ace_outer"),m=h.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",h.appendChild(u);var v=o&&o.documentElement||document&&document.documentElement;if(!v)return 0;v.appendChild(h);var T=u.offsetWidth;m.overflow="scroll";var x=u.offsetWidth;return T===x&&(x=h.clientWidth),v.removeChild(h),T-x},a.computedStyle=function(o,u){return window.getComputedStyle(o,"")||{}},a.setStyle=function(o,u,h){o[u]!==h&&(o[u]=h)},a.HAS_CSS_ANIMATION=!1,a.HAS_CSS_TRANSFORMS=!1,a.HI_DPI=g.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,g.isChromeOS&&(a.HI_DPI=!1),typeof document<"u"){var s=document.createElement("div");a.HI_DPI&&s.style.transform!==void 0&&(a.HAS_CSS_TRANSFORMS=!0),!g.isEdge&&typeof s.style.animationName<"u"&&(a.HAS_CSS_ANIMATION=!0),s=null}a.HAS_CSS_TRANSFORMS?a.translate=function(o,u,h){o.style.transform="translate("+Math.round(u)+"px, "+Math.round(h)+"px)"}:a.translate=function(o,u,h){o.style.top=Math.round(h)+"px",o.style.left=Math.round(u)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(i,a,w){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var g=i("./dom");a.get=function(y,b){var d=new XMLHttpRequest;d.open("GET",y,!0),d.onreadystatechange=function(){d.readyState===4&&b(d.responseText)},d.send(null)},a.loadScript=function(y,b){var d=g.getDocumentHead(),f=document.createElement("script");f.src=y,d.appendChild(f),f.onload=f.onreadystatechange=function(c,s){(s||!f.readyState||f.readyState=="loaded"||f.readyState=="complete")&&(f=f.onload=f.onreadystatechange=null,s||b())}},a.qualifyURL=function(y){var b=document.createElement("a");return b.href=y,b.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(i,a,w){a.inherits=function(g,y){g.super_=y,g.prototype=Object.create(y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})},a.mixin=function(g,y){for(var b in y)g[b]=y[b];return g},a.implement=function(g,y){a.mixin(g,y)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(i,a,w){var g={},y=function(){this.propagationStopped=!0},b=function(){this.defaultPrevented=!0};g._emit=g._dispatchEvent=function(d,f){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[d]||[],s=this._defaultHandlers[d];if(!(!c.length&&!s)){(typeof f!="object"||!f)&&(f={}),f.type||(f.type=d),f.stopPropagation||(f.stopPropagation=y),f.preventDefault||(f.preventDefault=b),c=c.slice();for(var o=0;o<c.length&&(c[o](f,this),!f.propagationStopped);o++);if(s&&!f.defaultPrevented)return s(f,this)}},g._signal=function(d,f){var c=(this._eventRegistry||{})[d];if(c){c=c.slice();for(var s=0;s<c.length;s++)c[s](f,this)}},g.once=function(d,f){var c=this;if(this.on(d,function s(){c.off(d,s),f.apply(null,arguments)}),!f)return new Promise(function(s){f=s})},g.setDefaultHandler=function(d,f){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[d]){var s=c[d],o=c._disabled_[d];o||(c._disabled_[d]=o=[]),o.push(s);var u=o.indexOf(f);u!=-1&&o.splice(u,1)}c[d]=f},g.removeDefaultHandler=function(d,f){var c=this._defaultHandlers;if(c){var s=c._disabled_[d];if(c[d]==f)s&&this.setDefaultHandler(d,s.pop());else if(s){var o=s.indexOf(f);o!=-1&&s.splice(o,1)}}},g.on=g.addEventListener=function(d,f,c){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[d];return s||(s=this._eventRegistry[d]=[]),s.indexOf(f)==-1&&s[c?"unshift":"push"](f),f},g.off=g.removeListener=g.removeEventListener=function(d,f){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[d];if(c){var s=c.indexOf(f);s!==-1&&c.splice(s,1)}},g.removeAllListeners=function(d){d||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[d]=void 0),this._defaultHandlers&&(this._defaultHandlers[d]=void 0)},a.EventEmitter=g}),ace.define("ace/lib/report_error",["require","exports","module"],function(i,a,w){a.reportError=function(y,b){var d=new Error(y);d.data=b,typeof console=="object"&&console.error&&console.error(d),setTimeout(function(){throw d})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(i,a,w){var g={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};a.defaultEnglishMessages=g}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(i,a,w){"no use strict";var g=i("./oop"),y=i("./event_emitter").EventEmitter,b=i("./report_error").reportError,d=i("./default_english_messages").defaultEnglishMessages,f={setOptions:function(h){Object.keys(h).forEach(function(m){this.setOption(m,h[m])},this)},getOptions:function(h){var m={};if(h)Array.isArray(h)||(m=h,h=Object.keys(m));else{var v=this.$options;h=Object.keys(v).filter(function(T){return!v[T].hidden})}return h.forEach(function(T){m[T]=this.getOption(T)},this),m},setOption:function(h,m){if(this["$"+h]!==m){var v=this.$options[h];if(!v)return c('misspelled option "'+h+'"');if(v.forwardTo)return this[v.forwardTo]&&this[v.forwardTo].setOption(h,m);v.handlesSet||(this["$"+h]=m),v&&v.set&&v.set.call(this,m)}},getOption:function(h){var m=this.$options[h];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(h):m&&m.get?m.get.call(this):this["$"+h]:c('misspelled option "'+h+'"')}};function c(h){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var s,o,u=function(){function h(){this.$defaultOptions={},s=d,o="dollarSigns"}return h.prototype.defineOptions=function(m,v,T){return m.$options||(this.$defaultOptions[v]=m.$options={}),Object.keys(T).forEach(function(x){var R=T[x];typeof R=="string"&&(R={forwardTo:R}),R.name||(R.name=x),m.$options[R.name]=R,"initialValue"in R&&(m["$"+R.name]=R.initialValue)}),g.implement(m,f),this},h.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(v){var T=m.$options[v];"value"in T&&m.setOption(v,T.value)})},h.prototype.setDefaultValue=function(m,v,T){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][v])break;if(!this.$defaultOptions[m][v])return!1}var x=this.$defaultOptions[m]||(this.$defaultOptions[m]={});x[v]&&(x.forwardTo?this.setDefaultValue(x.forwardTo,v,T):x[v].value=T)},h.prototype.setDefaultValues=function(m,v){Object.keys(v).forEach(function(T){this.setDefaultValue(m,T,v[T])},this)},h.prototype.setMessages=function(m,v){s=m,v&&v.placeholders&&(o=v.placeholders)},h.prototype.nls=function(m,v,T){s[m]||(c("No message found for the key '"+m+"' in messages with id "+s.$id+", trying to find a translation for the default string '"+v+"'."),s[v]||c("No message found for the default string '"+v+"' in the provided messages. Falling back to the default English message."));var x=s[m]||s[v]||v;return T&&(o==="dollarSigns"&&(x=x.replace(/\$(\$|[\d]+)/g,function(R,k){return k=="$"?"$":T[k]})),o==="curlyBrackets"&&(x=x.replace(/\{([^\}]+)\}/g,function(R,k){return T[k]}))),x},h}();u.prototype.warn=c,u.prototype.reportError=b,g.implement(u.prototype,y),a.AppConfig=u}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(i,a,w){w.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(i,a,w){a.isDark=!1,a.cssClass="ace-tm",a.cssText=i("./textmate-css"),a.$id="ace/theme/textmate";var g=i("../lib/dom");g.importCssString(a.cssText,a.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(i,a,w){"no use strict";var g=i("./lib/lang"),y=i("./lib/net"),b=i("./lib/dom"),d=i("./lib/app_config").AppConfig;w.exports=a=new d;var f={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};a.get=function(u){if(!f.hasOwnProperty(u))throw new Error("Unknown config key: "+u);return f[u]},a.set=function(u,h){if(f.hasOwnProperty(u))f[u]=h;else if(this.setDefaultValue("",u,h)==!1)throw new Error("Unknown config key: "+u);u=="useStrictCSP"&&b.useStrictCSP(h)},a.all=function(){return g.copyObject(f)},a.$modes={},a.moduleUrl=function(u,h){if(f.$moduleUrls[u])return f.$moduleUrls[u];var m=u.split("/");h=h||m[m.length-2]||"";var v=h=="snippets"?"/":"-",T=m[m.length-1];if(h=="worker"&&v=="-"){var x=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");T=T.replace(x,"")}(!T||T==h)&&m.length>1&&(T=m[m.length-2]);var R=f[h+"Path"];return R==null?R=f.basePath:v=="/"&&(h=v=""),R&&R.slice(-1)!="/"&&(R+="/"),R+h+v+T+this.get("suffix")},a.setModuleUrl=function(u,h){return f.$moduleUrls[u]=h};var c=function(u,h){if(u==="ace/theme/textmate"||u==="./theme/textmate")return h(null,i("./theme/textmate"));if(s)return s(u,h);console.error("loader is not configured")},s;a.setLoader=function(u){s=u},a.dynamicModules=Object.create(null),a.$loading={},a.$loaded={},a.loadModule=function(u,h){var m;if(Array.isArray(u))var v=u[0],T=u[1];else if(typeof u=="string")var T=u;var x=function(R){if(R&&!a.$loading[T])return h&&h(R);if(a.$loading[T]||(a.$loading[T]=[]),a.$loading[T].push(h),!(a.$loading[T].length>1)){var k=function(){c(T,function(C,S){S&&(a.$loaded[T]=S),a._emit("load.module",{name:T,module:S});var N=a.$loading[T];a.$loading[T]=null,N.forEach(function(L){L&&L(S)})})};if(!a.get("packaged"))return k();y.loadScript(a.moduleUrl(T,v),k),o()}};if(a.dynamicModules[T])a.dynamicModules[T]().then(function(R){R.default?x(R.default):x(R)});else{try{m=this.$require(T)}catch{}x(m||a.$loaded[T])}},a.$require=function(u){if(typeof w.require=="function"){var h="require";return w[h](u)}},a.setModuleLoader=function(u,h){a.dynamicModules[u]=h};var o=function(){!f.basePath&&!f.workerPath&&!f.modePath&&!f.themePath&&!Object.keys(f.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),o=function(){})};a.version="1.39.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(i,a,w){i("./lib/fixoldbrowsers");var g=i("./config");g.setLoader(function(f,c){i([f],function(s){c(null,s)})});var y=function(){return this||typeof window<"u"&&window}();w.exports=function(f){g.init=b,g.$require=i,f.require=i},b(!0);function b(f){if(!(!y||!y.document)){g.set("packaged",f||i.packaged||w.packaged||y.define&&(void 0).packaged);var c={},s="",o=document.currentScript||document._currentScript,u=o&&o.ownerDocument||document;o&&o.src&&(s=o.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var h=u.getElementsByTagName("script"),m=0;m<h.length;m++){var v=h[m],T=v.src||v.getAttribute("src");if(T){for(var x=v.attributes,R=0,k=x.length;R<k;R++){var C=x[R];C.name.indexOf("data-ace-")===0&&(c[d(C.name.replace(/^data-ace-/,""))]=C.value)}var S=T.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);S&&(s=S[1])}}s&&(c.base=c.base||s,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var N in c)typeof c[N]<"u"&&g.set(N,c[N])}}function d(f){return f.replace(/-(.)/g,function(c,s){return s.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(i,a,w){var g=function(){function y(b,d,f,c){this.start={row:b,column:d},this.end={row:f,column:c}}return y.prototype.isEqual=function(b){return this.start.row===b.start.row&&this.end.row===b.end.row&&this.start.column===b.start.column&&this.end.column===b.end.column},y.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},y.prototype.contains=function(b,d){return this.compare(b,d)==0},y.prototype.compareRange=function(b){var d,f=b.end,c=b.start;return d=this.compare(f.row,f.column),d==1?(d=this.compare(c.row,c.column),d==1?2:d==0?1:0):d==-1?-2:(d=this.compare(c.row,c.column),d==-1?-1:d==1?42:0)},y.prototype.comparePoint=function(b){return this.compare(b.row,b.column)},y.prototype.containsRange=function(b){return this.comparePoint(b.start)==0&&this.comparePoint(b.end)==0},y.prototype.intersects=function(b){var d=this.compareRange(b);return d==-1||d==0||d==1},y.prototype.isEnd=function(b,d){return this.end.row==b&&this.end.column==d},y.prototype.isStart=function(b,d){return this.start.row==b&&this.start.column==d},y.prototype.setStart=function(b,d){typeof b=="object"?(this.start.column=b.column,this.start.row=b.row):(this.start.row=b,this.start.column=d)},y.prototype.setEnd=function(b,d){typeof b=="object"?(this.end.column=b.column,this.end.row=b.row):(this.end.row=b,this.end.column=d)},y.prototype.inside=function(b,d){return this.compare(b,d)==0?!(this.isEnd(b,d)||this.isStart(b,d)):!1},y.prototype.insideStart=function(b,d){return this.compare(b,d)==0?!this.isEnd(b,d):!1},y.prototype.insideEnd=function(b,d){return this.compare(b,d)==0?!this.isStart(b,d):!1},y.prototype.compare=function(b,d){return!this.isMultiLine()&&b===this.start.row?d<this.start.column?-1:d>this.end.column?1:0:b<this.start.row?-1:b>this.end.row?1:this.start.row===b?d>=this.start.column?0:-1:this.end.row===b?d<=this.end.column?0:1:0},y.prototype.compareStart=function(b,d){return this.start.row==b&&this.start.column==d?-1:this.compare(b,d)},y.prototype.compareEnd=function(b,d){return this.end.row==b&&this.end.column==d?1:this.compare(b,d)},y.prototype.compareInside=function(b,d){return this.end.row==b&&this.end.column==d?1:this.start.row==b&&this.start.column==d?-1:this.compare(b,d)},y.prototype.clipRows=function(b,d){if(this.end.row>d)var f={row:d+1,column:0};else if(this.end.row<b)var f={row:b,column:0};if(this.start.row>d)var c={row:d+1,column:0};else if(this.start.row<b)var c={row:b,column:0};return y.fromPoints(c||this.start,f||this.end)},y.prototype.extend=function(b,d){var f=this.compare(b,d);if(f==0)return this;if(f==-1)var c={row:b,column:d};else var s={row:b,column:d};return y.fromPoints(c||this.start,s||this.end)},y.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},y.prototype.isMultiLine=function(){return this.start.row!==this.end.row},y.prototype.clone=function(){return y.fromPoints(this.start,this.end)},y.prototype.collapseRows=function(){return this.end.column==0?new y(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new y(this.start.row,0,this.end.row,0)},y.prototype.toScreenRange=function(b){var d=b.documentToScreenPosition(this.start),f=b.documentToScreenPosition(this.end);return new y(d.row,d.column,f.row,f.column)},y.prototype.moveBy=function(b,d){this.start.row+=b,this.start.column+=d,this.end.row+=b,this.end.column+=d},y}();g.fromPoints=function(y,b){return new g(y.row,y.column,b.row,b.column)},g.comparePoints=function(y,b){return y.row-b.row||y.column-b.column},a.Range=g}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(i,a,w){for(var g=i("./oop"),y={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},b={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},d=0;d<10;d++)b["Digit"+d]=48+d,b["Numpad"+d]=96+d,y.PRINTABLE_KEYS[48+d]=""+d,y.FUNCTION_KEYS[96+d]="Numpad"+d;for(var d=65;d<91;d++){var f=String.fromCharCode(d+32);b["Key"+f.toUpperCase()]=d,y.PRINTABLE_KEYS[d]=f}for(var d=1;d<13;d++)b["F"+d]=111+d,y.FUNCTION_KEYS[111+d]="F"+d;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var s in c)b[s]=b[s+"Left"]=b[s+"Right"]=c[s];a.$codeToKeyCode=b,y.PRINTABLE_KEYS[173]="-";for(var o in y.FUNCTION_KEYS){var u=y.FUNCTION_KEYS[o].toLowerCase();y[u]=parseInt(o,10)}for(var o in y.PRINTABLE_KEYS){var u=y.PRINTABLE_KEYS[o].toLowerCase();y[u]=parseInt(o,10)}g.mixin(y,y.MODIFIER_KEYS),g.mixin(y,y.PRINTABLE_KEYS),g.mixin(y,y.FUNCTION_KEYS),y.enter=y.return,y.escape=y.esc,y.del=y.delete,function(){for(var h=["cmd","ctrl","alt","shift"],m=Math.pow(2,h.length);m--;)y.KEY_MODS[m]=h.filter(function(v){return m&y.KEY_MODS[v]}).join("-")+"-"}(),y.KEY_MODS[0]="",y.KEY_MODS[-1]="input-",g.mixin(a,y),a.default=a,a.keyCodeToString=function(h){var m=y[h];return typeof m!="string"&&(m=String.fromCharCode(h)),m.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,a,w){var g=i("./keys"),y=i("./useragent"),b=null,d=0,f;function c(){f=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return f={passive:!1},!0}})}catch{}}function s(){return f==null&&c(),f}function o(R,k,C){this.elem=R,this.type=k,this.callback=C}o.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=a.addListener=function(R,k,C,S){R.addEventListener(k,C,s()),S&&S.$toDestroy.push(new o(R,k,C))},h=a.removeListener=function(R,k,C){R.removeEventListener(k,C,s())};a.stopEvent=function(R){return a.stopPropagation(R),a.preventDefault(R),!1},a.stopPropagation=function(R){R.stopPropagation&&R.stopPropagation()},a.preventDefault=function(R){R.preventDefault&&R.preventDefault()},a.getButton=function(R){return R.type=="dblclick"?0:R.type=="contextmenu"||y.isMac&&R.ctrlKey&&!R.altKey&&!R.shiftKey?2:R.button},a.capture=function(R,k,C){var S=R&&R.ownerDocument||document;function N(L){k&&k(L),C&&C(L),h(S,"mousemove",k),h(S,"mouseup",N),h(S,"dragstart",N)}return u(S,"mousemove",k),u(S,"mouseup",N),u(S,"dragstart",N),N},a.addMouseWheelListener=function(R,k,C){u(R,"wheel",function(S){var N=.15,L=S.deltaX||0,A=S.deltaY||0;switch(S.deltaMode){case S.DOM_DELTA_PIXEL:S.wheelX=L*N,S.wheelY=A*N;break;case S.DOM_DELTA_LINE:var $=15;S.wheelX=L*$,S.wheelY=A*$;break;case S.DOM_DELTA_PAGE:var O=150;S.wheelX=L*O,S.wheelY=A*O;break}k(S)},C)},a.addMultiMouseDownListener=function(R,k,C,S,N){var L=0,A,$,O,B={2:"dblclick",3:"tripleclick",4:"quadclick"};function z(F){if(a.getButton(F)!==0?L=0:F.detail>1?(L++,L>4&&(L=1)):L=1,y.isIE){var V=Math.abs(F.clientX-A)>5||Math.abs(F.clientY-$)>5;(!O||V)&&(L=1),O&&clearTimeout(O),O=setTimeout(function(){O=null},k[L-1]||600),L==1&&(A=F.clientX,$=F.clientY)}if(F._clicks=L,C[S]("mousedown",F),L>4)L=0;else if(L>1)return C[S](B[L],F)}Array.isArray(R)||(R=[R]),R.forEach(function(F){u(F,"mousedown",z,N)})};function m(R){return 0|(R.ctrlKey?1:0)|(R.altKey?2:0)|(R.shiftKey?4:0)|(R.metaKey?8:0)}a.getModifierString=function(R){return g.KEY_MODS[m(R)]};function v(R,k,C){var S=m(k);if(!C&&k.code&&(C=g.$codeToKeyCode[k.code]||C),!y.isMac&&b){if(k.getModifierState&&(k.getModifierState("OS")||k.getModifierState("Win"))&&(S|=8),b.altGr)if((3&S)!=3)b.altGr=0;else return;if(C===18||C===17){var N=k.location;if(C===17&&N===1)b[C]==1&&(d=k.timeStamp);else if(C===18&&S===3&&N===2){var L=k.timeStamp-d;L<50&&(b.altGr=!0)}}}if(C in g.MODIFIER_KEYS&&(C=-1),!(!S&&C===13&&k.location===3&&(R(k,S,-C),k.defaultPrevented))){if(y.isChromeOS&&S&8){if(R(k,S,C),k.defaultPrevented)return;S&=-9}return!S&&!(C in g.FUNCTION_KEYS)&&!(C in g.PRINTABLE_KEYS)?!1:R(k,S,C)}}a.addCommandKeyListener=function(R,k,C){var S=null;u(R,"keydown",function(N){b[N.keyCode]=(b[N.keyCode]||0)+1;var L=v(k,N,N.keyCode);return S=N.defaultPrevented,L},C),u(R,"keypress",function(N){S&&(N.ctrlKey||N.altKey||N.shiftKey||N.metaKey)&&(a.stopEvent(N),S=null)},C),u(R,"keyup",function(N){b[N.keyCode]=null},C),b||(T(),u(window,"focus",T))};function T(){b=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!y.isOldIE){var x=1;a.nextTick=function(R,k){k=k||window;var C="zero-timeout-message-"+x++,S=function(N){N.data==C&&(a.stopPropagation(N),h(k,"message",S),R())};u(k,"message",S),k.postMessage(C,"*")}}a.$idleBlocked=!1,a.onIdle=function(R,k){return setTimeout(function C(){a.$idleBlocked?setTimeout(C,100):R()},k)},a.$idleBlockId=null,a.blockIdle=function(R){a.$idleBlockId&&clearTimeout(a.$idleBlockId),a.$idleBlocked=!0,a.$idleBlockId=setTimeout(function(){a.$idleBlocked=!1},R||100)},a.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),a.nextFrame?a.nextFrame=a.nextFrame.bind(window):a.nextFrame=function(R){setTimeout(R,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(i,a,w){var g;w.exports={lineMode:!1,pasteCancelled:function(){return g&&g>Date.now()-50?!0:g=!1},cancel:function(){g=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(i,a,w){var g=i("../lib/event"),y=i("../config").nls,b=i("../lib/useragent"),d=i("../lib/dom"),f=i("../lib/lang"),c=i("../clipboard"),s=b.isChrome<18,o=b.isIE,u=b.isChrome>63,h=400,m=i("../lib/keys"),v=m.KEY_MODS,T=b.isIOS,x=T?/\s/:/\n/,R=b.isMobile,k;k=function(C,S){var N=d.createElement("textarea");N.className="ace_text-input",N.setAttribute("wrap","off"),N.setAttribute("autocorrect","off"),N.setAttribute("autocapitalize","off"),N.setAttribute("spellcheck","false"),N.style.opacity="0",C.insertBefore(N,C.firstChild);var L=!1,A=!1,$=!1,O=!1,B="";R||(N.style.fontSize="1px");var z=!1,F=!1,V="",U=0,q=0,K=0,Q=Number.MAX_SAFE_INTEGER,X=Number.MIN_SAFE_INTEGER,te=0;try{var se=document.activeElement===N}catch{}this.setNumberOfExtraLines=function(Ve){if(Q=Number.MAX_SAFE_INTEGER,X=Number.MIN_SAFE_INTEGER,Ve<0){te=0;return}te=Ve},this.setAriaLabel=function(){var Ve="";if(S.$textInputAriaLabel&&(Ve+="".concat(S.$textInputAriaLabel,", ")),S.session){var ft=S.session.selection.cursor.row;Ve+=y("text-input.aria-label","Cursor at row $0",[ft+1])}N.setAttribute("aria-label",Ve)},this.setAriaOptions=function(Ve){Ve.activeDescendant?(N.setAttribute("aria-haspopup","true"),N.setAttribute("aria-autocomplete",Ve.inline?"both":"list"),N.setAttribute("aria-activedescendant",Ve.activeDescendant)):(N.setAttribute("aria-haspopup","false"),N.setAttribute("aria-autocomplete","both"),N.removeAttribute("aria-activedescendant")),Ve.role&&N.setAttribute("role",Ve.role),Ve.setLabel&&(N.setAttribute("aria-roledescription",y("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),g.addListener(N,"blur",function(Ve){F||(S.onBlur(Ve),se=!1)},S),g.addListener(N,"focus",function(Ve){if(!F){if(se=!0,b.isEdge)try{if(!document.hasFocus())return}catch{}S.onFocus(Ve),b.isEdge?setTimeout(le):le()}},S),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:S.renderer.enableKeyboardAccessibility}),B||u||this.$focusScroll=="browser")return N.focus({preventScroll:!0});var Ve=N.style.top;N.style.position="fixed",N.style.top="0px";try{var ft=N.getBoundingClientRect().top!=0}catch{return}var Je=[];if(ft)for(var Pt=N.parentElement;Pt&&Pt.nodeType==1;)Je.push(Pt),Pt.setAttribute("ace_nocontext","true"),!Pt.parentElement&&Pt.getRootNode?Pt=Pt.getRootNode().host:Pt=Pt.parentElement;N.focus({preventScroll:!0}),ft&&Je.forEach(function(pe){pe.removeAttribute("ace_nocontext")}),setTimeout(function(){N.style.position="",N.style.top=="0px"&&(N.style.top=Ve)},0)},this.blur=function(){N.blur()},this.isFocused=function(){return se},S.on("beforeEndOperation",function(){var Ve=S.curOp,ft=Ve&&Ve.command&&Ve.command.name;if(ft!="insertstring"){var Je=ft&&(Ve.docChanged||Ve.selectionChanged);$&&Je&&(V=N.value="",Mt()),le()}}),S.on("changeSelection",this.setAriaLabel);var J=function(Ve,ft){for(var Je=ft,Pt=1;Pt<=Ve-Q&&Pt<2*te+1;Pt++)Je+=S.session.getLine(Ve-Pt).length+1;return Je},le=T?function(Ve){if(!(!se||L&&!Ve||O)){Ve||(Ve="");var ft=`
 ab`+Ve+`cde fg
`;ft!=N.value&&(N.value=V=ft);var Je=4,Pt=4+(Ve.length||(S.selection.isEmpty()?0:1));(U!=Je||q!=Pt)&&N.setSelectionRange(Je,Pt),U=Je,q=Pt}}:function(){if(!($||O)&&!(!se&&!Te)){$=!0;var Ve=0,ft=0,Je="";if(S.session){var Pt=S.selection,pe=Pt.getRange(),ye=Pt.cursor.row;ye===X+1?(Q=X+1,X=Q+2*te):ye===Q-1?(X=Q-1,Q=X-2*te):(ye<Q-1||ye>X+1)&&(Q=ye>te?ye-te:0,X=ye>te?ye+te:2*te);for(var Me=[],st=Q;st<=X;st++)Me.push(S.session.getLine(st));if(Je=Me.join(`
`),Ve=J(pe.start.row,pe.start.column),ft=J(pe.end.row,pe.end.column),pe.start.row<Q){var lt=S.session.getLine(Q-1);Ve=pe.start.row<Q-1?0:Ve,ft+=lt.length+1,Je=lt+`
`+Je}else if(pe.end.row>X){var Xe=S.session.getLine(X+1);ft=pe.end.row>X+1?Xe.length:pe.end.column,ft+=Je.length+1,Je=Je+`
`+Xe}else R&&ye>0&&(Je=`
`+Je,ft+=1,Ve+=1);Je.length>h&&(Ve<h&&ft<h?Je=Je.slice(0,h):(Je=`
`,Ve==ft?Ve=ft=0:(Ve=0,ft=1)));var we=Je+`

`;we!=V&&(N.value=V=we,U=q=we.length)}if(Te&&(U=N.selectionStart,q=N.selectionEnd),q!=ft||U!=Ve||N.selectionEnd!=q)try{N.setSelectionRange(Ve,ft),U=Ve,q=ft}catch{}$=!1}};this.resetSelection=le,se&&S.onFocus();var ce=function(Ve){return Ve.selectionStart===0&&Ve.selectionEnd>=V.length&&Ve.value===V&&V&&Ve.selectionEnd!==q},ue=function(Ve){$||(L?L=!1:ce(N)?(S.selectAll(),le()):R&&N.selectionStart!=U&&le())},Ie=null;this.setInputHandler=function(Ve){Ie=Ve},this.getInputHandler=function(){return Ie};var Te=!1,Re=function(Ve,ft){if(Te&&(Te=!1),A)return le(),Ve&&S.onPaste(Ve),A=!1,"";for(var Je=N.selectionStart,Pt=N.selectionEnd,pe=U,ye=V.length-q,Me=Ve,st=Ve.length-Je,lt=Ve.length-Pt,Xe=0;pe>0&&V[Xe]==Ve[Xe];)Xe++,pe--;for(Me=Me.slice(Xe),Xe=1;ye>0&&V.length-Xe>U-1&&V[V.length-Xe]==Ve[Ve.length-Xe];)Xe++,ye--;st-=Xe-1,lt-=Xe-1;var we=Me.length-Xe+1;if(we<0&&(pe=-we,we=0),Me=Me.slice(0,we),!ft&&!Me&&!st&&!pe&&!ye&&!lt)return"";O=!0;var Ue=!1;return b.isAndroid&&Me==". "&&(Me="  ",Ue=!0),Me&&!pe&&!ye&&!st&&!lt||z?S.onTextInput(Me):S.onTextInput(Me,{extendLeft:pe,extendRight:ye,restoreStart:st,restoreEnd:lt}),O=!1,V=Ve,U=Je,q=Pt,K=lt,Ue?`
`:Me},ke=function(Ve){if($)return xt();if(Ve&&Ve.inputType){if(Ve.inputType=="historyUndo")return S.execCommand("undo");if(Ve.inputType=="historyRedo")return S.execCommand("redo")}var ft=N.value,Je=Re(ft,!0);(ft.length>h+100||x.test(Je)||R&&U<1&&U==q)&&le()},me=function(Ve,ft,Je){var Pt=Ve.clipboardData||window.clipboardData;if(!(!Pt||s)){var pe=o||Je?"Text":"text/plain";try{return ft?Pt.setData(pe,ft)!==!1:Pt.getData(pe)}catch(ye){if(!Je)return me(ye,ft,!0)}}},ve=function(Ve,ft){var Je=S.getCopyText();if(!Je)return g.preventDefault(Ve);me(Ve,Je)?(T&&(le(Je),L=Je,setTimeout(function(){L=!1},10)),ft?S.onCut():S.onCopy(),g.preventDefault(Ve)):(L=!0,N.value=Je,N.select(),setTimeout(function(){L=!1,le(),ft?S.onCut():S.onCopy()}))},he=function(Ve){ve(Ve,!0)},Le=function(Ve){ve(Ve,!1)},Qe=function(Ve){var ft=me(Ve);c.pasteCancelled()||(typeof ft=="string"?(ft&&S.onPaste(ft,Ve),b.isIE&&setTimeout(le),g.preventDefault(Ve)):(N.value="",A=!0))};g.addCommandKeyListener(N,function(Ve,ft,Je){if(!$)return S.onCommandKey(Ve,ft,Je)},S),g.addListener(N,"select",ue,S),g.addListener(N,"input",ke,S),g.addListener(N,"cut",he,S),g.addListener(N,"copy",Le,S),g.addListener(N,"paste",Qe,S),(!("oncut"in N)||!("oncopy"in N)||!("onpaste"in N))&&g.addListener(C,"keydown",function(Ve){if(!(b.isMac&&!Ve.metaKey||!Ve.ctrlKey))switch(Ve.keyCode){case 67:Le(Ve);break;case 86:Qe(Ve);break;case 88:he(Ve);break}},S);var De=function(Ve){if(!($||!S.onCompositionStart||S.$readOnly)&&($={},!z)){Ve.data&&($.useTextareaForIME=!1),setTimeout(xt,0),S._signal("compositionStart"),S.on("mousedown",$t);var ft=S.getSelectionRange();ft.end.row=ft.start.row,ft.end.column=ft.start.column,$.markerRange=ft,$.selectionStart=U,S.onCompositionStart($),$.useTextareaForIME?(V=N.value="",U=0,q=0):(N.msGetInputContext&&($.context=N.msGetInputContext()),N.getInputContext&&($.context=N.getInputContext()))}},xt=function(){if(!(!$||!S.onCompositionUpdate||S.$readOnly)){if(z)return $t();if($.useTextareaForIME)S.onCompositionUpdate(N.value);else{var Ve=N.value;Re(Ve),$.markerRange&&($.context&&($.markerRange.start.column=$.selectionStart=$.context.compositionStartOffset),$.markerRange.end.column=$.markerRange.start.column+q-$.selectionStart+K)}}},Mt=function(Ve){!S.onCompositionEnd||S.$readOnly||($=!1,S.onCompositionEnd(),S.off("mousedown",$t),Ve&&ke())};function $t(){F=!0,N.blur(),N.focus(),F=!1}var tr=f.delayedCall(xt,50).schedule.bind(null,null);function br(Ve){Ve.keyCode==27&&N.value.length<N.selectionStart&&($||(V=N.value),U=q=-1,le()),tr()}g.addListener(N,"compositionstart",De,S),g.addListener(N,"compositionupdate",xt,S),g.addListener(N,"keyup",br,S),g.addListener(N,"keydown",tr,S),g.addListener(N,"compositionend",Mt,S),this.getElement=function(){return N},this.setCommandMode=function(Ve){z=Ve,N.readOnly=!1},this.setReadOnly=function(Ve){z||(N.readOnly=Ve)},this.setCopyWithEmptySelection=function(Ve){},this.onContextMenu=function(Ve){Te=!0,le(),S._emit("nativecontextmenu",{target:S,domEvent:Ve}),this.moveToMouse(Ve,!0)},this.moveToMouse=function(Ve,ft){B||(B=N.style.cssText),N.style.cssText=(ft?"z-index:100000;":"")+(b.isIE?"opacity:0.1;":"")+"text-indent: -"+(U+q)*S.renderer.characterWidth*.5+"px;";var Je=S.container.getBoundingClientRect(),Pt=d.computedStyle(S.container),pe=Je.top+(parseInt(Pt.borderTopWidth)||0),ye=Je.left+(parseInt(Pt.borderLeftWidth)||0),Me=Je.bottom-pe-N.clientHeight-2,st=function(lt){d.translate(N,lt.clientX-ye-2,Math.min(lt.clientY-pe-2,Me))};st(Ve),Ve.type=="mousedown"&&(S.renderer.$isMousePressed=!0,clearTimeout(dr),b.isWin&&g.capture(S.container,st,Ne))},this.onContextMenuClose=Ne;var dr;function Ne(){clearTimeout(dr),dr=setTimeout(function(){B&&(N.style.cssText=B,B=""),S.renderer.$isMousePressed=!1,S.renderer.$keepTextAreaAtCursor&&S.renderer.$moveTextAreaToCursor()},0)}var He=function(Ve){S.textInput.onContextMenu(Ve),Ne()};g.addListener(N,"mouseup",He,S),g.addListener(N,"mousedown",function(Ve){Ve.preventDefault(),Ne()},S),g.addListener(S.renderer.scroller,"contextmenu",He,S),g.addListener(N,"contextmenu",He,S),T&&_t(C,S,N);function _t(Ve,ft,Je){var Pt=null,pe=!1;Je.addEventListener("keydown",function(Me){Pt&&clearTimeout(Pt),pe=!0},!0),Je.addEventListener("keyup",function(Me){Pt=setTimeout(function(){pe=!1},100)},!0);var ye=function(Me){if(document.activeElement===Je&&!(pe||$||ft.$mouseHandler.isMousePressed)&&!L){var st=Je.selectionStart,lt=Je.selectionEnd,Xe=null,we=0;if(st==0?Xe=m.up:st==1?Xe=m.home:lt>q&&V[lt]==`
`?Xe=m.end:st<U&&V[st-1]==" "?(Xe=m.left,we=v.option):st<U||st==U&&q!=U&&st==lt?Xe=m.left:lt>q&&V.slice(0,lt).split(`
`).length>2?Xe=m.down:lt>q&&V[lt-1]==" "?(Xe=m.right,we=v.option):(lt>q||lt==q&&q!=U&&st==lt)&&(Xe=m.right),st!==lt&&(we|=v.shift),Xe){var Ue=ft.onCommandKey({},we,Xe);if(!Ue&&ft.commands){Xe=m.keyCodeToString(Xe);var ht=ft.commands.findKeyCommand(we,Xe);ht&&ft.execCommand(ht)}U=st,q=lt,le("")}}};document.addEventListener("selectionchange",ye),ft.on("destroy",function(){document.removeEventListener("selectionchange",ye)})}this.destroy=function(){N.parentElement&&N.parentElement.removeChild(N)}},a.TextInput=k,a.$setUserAgentForTests=function(C,S){R=C,T=S}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(i,a,w){var g=i("../lib/useragent"),y=0,b=550,d=function(){function s(o){o.$clickSelection=null;var u=o.editor;u.setDefaultHandler("mousedown",this.onMouseDown.bind(o)),u.setDefaultHandler("dblclick",this.onDoubleClick.bind(o)),u.setDefaultHandler("tripleclick",this.onTripleClick.bind(o)),u.setDefaultHandler("quadclick",this.onQuadClick.bind(o)),u.setDefaultHandler("mousewheel",this.onMouseWheel.bind(o));var h=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];h.forEach(function(m){o[m]=this[m]},this),o.selectByLines=this.extendSelectionBy.bind(o,"getLineRange"),o.selectByWords=this.extendSelectionBy.bind(o,"getWordRange")}return s.prototype.onMouseDown=function(o){var u=o.inSelection(),h=o.getDocumentPosition();this.mousedownEvent=o;var m=this.editor,v=o.getButton();if(v!==0){var T=m.getSelectionRange(),x=T.isEmpty();(x||v==1)&&m.selection.moveToPosition(h),v==2&&(m.textInput.onContextMenu(o.domEvent),g.isMozilla||o.preventDefault());return}if(this.mousedownEvent.time=Date.now(),u&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(o);return}return this.captureMouse(o),this.startSelect(h,o.domEvent._clicks>1),o.preventDefault()},s.prototype.startSelect=function(o,u){o=o||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var h=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?h.selection.selectToPosition(o):u||h.selection.moveToPosition(o),u||this.select(),h.setStyle("ace_selecting"),this.setState("select"))},s.prototype.select=function(){var o,u=this.editor,h=u.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(h);if(m==-1)o=this.$clickSelection.end;else if(m==1)o=this.$clickSelection.start;else{var v=c(this.$clickSelection,h);h=v.cursor,o=v.anchor}u.selection.setSelectionAnchor(o.row,o.column)}u.selection.selectToPosition(h),u.renderer.scrollCursorIntoView()},s.prototype.extendSelectionBy=function(o){var u,h=this.editor,m=h.renderer.screenToTextCoordinates(this.x,this.y),v=h.selection[o](m.row,m.column);if(this.$clickSelection){var T=this.$clickSelection.comparePoint(v.start),x=this.$clickSelection.comparePoint(v.end);if(T==-1&&x<=0)u=this.$clickSelection.end,(v.end.row!=m.row||v.end.column!=m.column)&&(m=v.start);else if(x==1&&T>=0)u=this.$clickSelection.start,(v.start.row!=m.row||v.start.column!=m.column)&&(m=v.end);else if(T==-1&&x==1)m=v.end,u=v.start;else{var R=c(this.$clickSelection,m);m=R.cursor,u=R.anchor}h.selection.setSelectionAnchor(u.row,u.column)}h.selection.selectToPosition(m),h.renderer.scrollCursorIntoView()},s.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},s.prototype.focusWait=function(){var o=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),u=Date.now();(o>y||u-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},s.prototype.onDoubleClick=function(o){var u=o.getDocumentPosition(),h=this.editor,m=h.session,v=m.getBracketRange(u);v?(v.isEmpty()&&(v.start.column--,v.end.column++),this.setState("select")):(v=h.selection.getWordRange(u.row,u.column),this.setState("selectByWords")),this.$clickSelection=v,this.select()},s.prototype.onTripleClick=function(o){var u=o.getDocumentPosition(),h=this.editor;this.setState("selectByLines");var m=h.getSelectionRange();m.isMultiLine()&&m.contains(u.row,u.column)?(this.$clickSelection=h.selection.getLineRange(m.start.row),this.$clickSelection.end=h.selection.getLineRange(m.end.row).end):this.$clickSelection=h.selection.getLineRange(u.row),this.select()},s.prototype.onQuadClick=function(o){var u=this.editor;u.selectAll(),this.$clickSelection=u.getSelectionRange(),this.setState("selectAll")},s.prototype.onMouseWheel=function(o){if(!o.getAccelKey()){o.getShiftKey()&&o.wheelY&&!o.wheelX&&(o.wheelX=o.wheelY,o.wheelY=0);var u=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var h=this.$lastScroll,m=o.domEvent.timeStamp,v=m-h.t,T=v?o.wheelX/v:h.vx,x=v?o.wheelY/v:h.vy;v<b&&(T=(T+h.vx)/2,x=(x+h.vy)/2);var R=Math.abs(T/x),k=!1;if(R>=1&&u.renderer.isScrollableBy(o.wheelX*o.speed,0)&&(k=!0),R<=1&&u.renderer.isScrollableBy(0,o.wheelY*o.speed)&&(k=!0),k)h.allowed=m;else if(m-h.allowed<b){var C=Math.abs(T)<=1.5*Math.abs(h.vx)&&Math.abs(x)<=1.5*Math.abs(h.vy);C?(k=!0,h.allowed=m):h.allowed=0}if(h.t=m,h.vx=T,h.vy=x,k)return u.renderer.scrollBy(o.wheelX*o.speed,o.wheelY*o.speed),o.stop()}},s}();d.prototype.selectEnd=d.prototype.selectByLinesEnd,d.prototype.selectAllEnd=d.prototype.selectByLinesEnd,d.prototype.selectByWordsEnd=d.prototype.selectByLinesEnd,a.DefaultHandlers=d;function f(s,o,u,h){return Math.sqrt(Math.pow(u-s,2)+Math.pow(h-o,2))}function c(s,o){if(s.start.row==s.end.row)var u=2*o.column-s.start.column-s.end.column;else if(s.start.row==s.end.row-1&&!s.start.column&&!s.end.column)var u=o.column-4;else var u=2*o.row-s.start.row-s.end.row;return u<0?{cursor:s.start,anchor:s.end}:{cursor:s.end,anchor:s.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(i,a,w){a.preventParentScroll=function(y){y.stopPropagation();var b=y.currentTarget,d=b.scrollHeight>b.clientHeight;d||y.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(i,a,w){var g=this&&this.__extends||function(){var m=function(v,T){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,R){x.__proto__=R}||function(x,R){for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(x[k]=R[k])},m(v,T)};return function(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");m(v,T);function x(){this.constructor=v}v.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)}}(),y=this&&this.__values||function(m){var v=typeof Symbol=="function"&&Symbol.iterator,T=v&&m[v],x=0;if(T)return T.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},b=i("./lib/dom");i("./lib/event");var d=i("./range").Range,f=i("./lib/scroll").preventParentScroll,c="ace_tooltip",s=function(){function m(v){this.isOpen=!1,this.$element=null,this.$parentNode=v}return m.prototype.$init=function(){return this.$element=b.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(v){this.getElement().textContent=v},m.prototype.setHtml=function(v){this.getElement().innerHTML=v},m.prototype.setPosition=function(v,T){this.getElement().style.left=v+"px",this.getElement().style.top=T+"px"},m.prototype.setClassName=function(v){b.addCssClass(this.getElement(),v)},m.prototype.setTheme=function(v){this.$element.className=c+" "+(v.isDark?"ace_dark ":"")+(v.cssClass||"")},m.prototype.show=function(v,T,x){v!=null&&this.setText(v),T!=null&&x!=null&&this.setPosition(T,x),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(v){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},m}(),o=function(){function m(){this.popups=[]}return m.prototype.addPopup=function(v){this.popups.push(v),this.updatePopups()},m.prototype.removePopup=function(v){var T=this.popups.indexOf(v);T!==-1&&(this.popups.splice(T,1),this.updatePopups())},m.prototype.updatePopups=function(){var v,T,x,R;this.popups.sort(function(B,z){return z.priority-B.priority});var k=[];try{for(var C=y(this.popups),S=C.next();!S.done;S=C.next()){var N=S.value,L=!0;try{for(var A=(x=void 0,y(k)),$=A.next();!$.done;$=A.next()){var O=$.value;if(this.doPopupsOverlap(O,N)){L=!1;break}}}catch(B){x={error:B}}finally{try{$&&!$.done&&(R=A.return)&&R.call(A)}finally{if(x)throw x.error}}L?k.push(N):N.hide()}}catch(B){v={error:B}}finally{try{S&&!S.done&&(T=C.return)&&T.call(C)}finally{if(v)throw v.error}}},m.prototype.doPopupsOverlap=function(v,T){var x=v.getElement().getBoundingClientRect(),R=T.getElement().getBoundingClientRect();return x.left<R.right&&x.right>R.left&&x.top<R.bottom&&x.bottom>R.top},m}(),u=new o;a.popupManager=u,a.Tooltip=s;var h=function(m){g(v,m);function v(T){T===void 0&&(T=document.body);var x=m.call(this,T)||this;x.timeout=void 0,x.lastT=0,x.idleTime=350,x.lastEvent=void 0,x.onMouseOut=x.onMouseOut.bind(x),x.onMouseMove=x.onMouseMove.bind(x),x.waitForHover=x.waitForHover.bind(x),x.hide=x.hide.bind(x);var R=x.getElement();return R.style.whiteSpace="pre-wrap",R.style.pointerEvents="auto",R.addEventListener("mouseout",x.onMouseOut),R.tabIndex=-1,R.addEventListener("blur",(function(){R.contains(document.activeElement)||this.hide()}).bind(x)),R.addEventListener("wheel",f),x}return v.prototype.addToEditor=function(T){T.on("mousemove",this.onMouseMove),T.on("mousedown",this.hide),T.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},v.prototype.removeFromEditor=function(T){T.off("mousemove",this.onMouseMove),T.off("mousedown",this.hide),T.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},v.prototype.onMouseMove=function(T,x){this.lastEvent=T,this.lastT=Date.now();var R=x.$mouseHandler.isMousePressed;if(this.isOpen){var k=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(k.row,k.column)||R||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||R||(this.lastEvent=T,this.timeout=setTimeout(this.waitForHover,this.idleTime))},v.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var T=Date.now()-this.lastT;if(this.idleTime-T>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-T);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},v.prototype.isOutsideOfText=function(T){var x=T.editor,R=T.getDocumentPosition(),k=x.session.getLine(R.row);if(R.column==k.length){var C=x.renderer.pixelToScreenCoordinates(T.clientX,T.clientY),S=x.session.documentToScreenPosition(R.row,R.column);if(S.column!=C.column||S.row!=C.row)return!0}return!1},v.prototype.setDataProvider=function(T){this.$gatherData=T},v.prototype.showForRange=function(T,x,R,k){var C=10;if(!(k&&k!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var S=T.renderer;this.isOpen||(u.addPopup(this),this.$registerCloseEvents(),this.setTheme(S.theme)),this.isOpen=!0,this.addMarker(x,T.session),this.range=d.fromPoints(x.start,x.end);var N=S.textToScreenCoordinates(x.start.row,x.start.column),L=S.scroller.getBoundingClientRect();N.pageX<L.left&&(N.pageX=L.left);var A=this.getElement();A.innerHTML="",A.appendChild(R),A.style.maxHeight="",A.style.display="block";var $=A.clientHeight,O=A.clientWidth,B=window.innerHeight-N.pageY-S.lineHeight,z=!0;N.pageY-$<0&&N.pageY<B&&(z=!1),A.style.maxHeight=(z?N.pageY:B)-C+"px",A.style.top=z?"":N.pageY+S.lineHeight+"px",A.style.bottom=z?window.innerHeight-N.pageY+"px":"",A.style.left=Math.min(N.pageX,window.innerWidth-O-C)+"px"}},v.prototype.addMarker=function(T,x){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=x,this.marker=x&&x.addMarker(T,"ace_highlight-marker","text")},v.prototype.hide=function(T){!T&&document.activeElement==this.getElement()||T&&T.target&&(T.type!="keydown"||T.ctrlKey||T.metaKey)&&this.$element.contains(T.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,u.removePopup(this)))},v.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},v.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},v.prototype.onMouseOut=function(T){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!T.relatedTarget||this.getElement().contains(T.relatedTarget)||T&&T.currentTarget.contains(T.relatedTarget)||T.relatedTarget.classList.contains("ace_content")||this.hide())},v}(s);a.HoverTooltip=h}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(i,a,w){var g=this&&this.__extends||function(){var m=function(v,T){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,R){x.__proto__=R}||function(x,R){for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(x[k]=R[k])},m(v,T)};return function(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");m(v,T);function x(){this.constructor=v}v.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)}}(),y=this&&this.__values||function(m){var v=typeof Symbol=="function"&&Symbol.iterator,T=v&&m[v],x=0;if(T)return T.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},b=i("../lib/dom"),d=i("../lib/event"),f=i("../tooltip").Tooltip,c=i("../config").nls,s=5,o=3;a.GUTTER_TOOLTIP_LEFT_OFFSET=s,a.GUTTER_TOOLTIP_TOP_OFFSET=o;function u(m){var v=m.editor,T=v.renderer.$gutterLayer,x=new h(v,!0);m.editor.setDefaultHandler("guttermousedown",function(L){if(!(!v.isFocused()||L.getButton()!=0)){var A=T.getRegion(L);if(A!="foldWidgets"){var $=L.getDocumentPosition().row,O=v.session.selection;if(L.getShiftKey())O.selectTo($,0);else{if(L.domEvent.detail==2)return v.selectAll(),L.preventDefault();m.$clickSelection=v.selection.getLineRange($)}return m.setState("selectByLines"),m.captureMouse(L),L.preventDefault()}}});var R,k;function C(){var L=k.getDocumentPosition().row,A=v.session.getLength();if(L==A){var $=v.renderer.pixelToScreenCoordinates(0,k.y).row,O=k.$pos;if($>v.session.documentToScreenRow(O.row,O.column))return S()}if(x.showTooltip(L),!!x.isOpen)if(v.on("mousewheel",S),v.on("changeSession",S),window.addEventListener("keydown",S,!0),m.$tooltipFollowsMouse)N(k);else{var B=k.getGutterRow(),z=T.$lines.get(B);if(z){var F=z.element.querySelector(".ace_gutter_annotation"),V=F.getBoundingClientRect(),U=x.getElement().style;U.left=V.right-s+"px",U.top=V.bottom-o+"px"}else N(k)}}function S(L){L&&L.type==="keydown"&&(L.ctrlKey||L.metaKey)||L&&L.type==="mouseout"&&(!L.relatedTarget||x.getElement().contains(L.relatedTarget))||(R&&(R=clearTimeout(R)),x.isOpen&&(x.hideTooltip(),v.off("mousewheel",S),v.off("changeSession",S),window.removeEventListener("keydown",S,!0)))}function N(L){x.setPosition(L.x,L.y)}m.editor.setDefaultHandler("guttermousemove",function(L){var A=L.domEvent.target||L.domEvent.srcElement;if(b.hasCssClass(A,"ace_fold-widget"))return S();x.isOpen&&m.$tooltipFollowsMouse&&N(L),k=L,!R&&(R=setTimeout(function(){R=null,k&&!m.isMousePressed&&C()},50))}),d.addListener(v.renderer.$gutter,"mouseout",function(L){k=null,x.isOpen&&(R=setTimeout(function(){R=null,S(L)},50))},v)}a.GutterHandler=u;var h=function(m){g(v,m);function v(T,x){x===void 0&&(x=!1);var R=m.call(this,T.container)||this;R.editor=T,R.visibleTooltipRow;var k=R.getElement();return k.setAttribute("role","tooltip"),k.style.pointerEvents="auto",x&&(R.onMouseOut=R.onMouseOut.bind(R),k.addEventListener("mouseout",R.onMouseOut)),R}return v.prototype.onMouseOut=function(T){this.isOpen&&(!T.relatedTarget||this.getElement().contains(T.relatedTarget)||T&&T.currentTarget.contains(T.relatedTarget)||this.hideTooltip())},v.prototype.setPosition=function(T,x){var R=window.innerWidth||document.documentElement.clientWidth,k=window.innerHeight||document.documentElement.clientHeight,C=this.getWidth(),S=this.getHeight();T+=15,x+=15,T+C>R&&(T-=T+C-R),x+S>k&&(x-=20+S),f.prototype.setPosition.call(this,T,x)},Object.defineProperty(v,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),v.prototype.showTooltip=function(T){var x,R=this.editor.renderer.$gutterLayer,k=R.$annotations[T],C;k?C={displayText:Array.from(k.displayText),type:Array.from(k.type)}:C={displayText:[],type:[]};var S=R.session.getFoldLine(T);if(S&&R.$showFoldedAnnotations){for(var N={error:[],security:[],warning:[],info:[],hint:[]},L={error:1,security:2,warning:3,info:4,hint:5},A,$=T+1;$<=S.end.row;$++)if(R.$annotations[$])for(var O=0;O<R.$annotations[$].text.length;O++){var B=R.$annotations[$].type[O];N[B].push(R.$annotations[$].text[O]),(!A||L[B]<L[A])&&(A=B)}if(["error","security","warning"].includes(A)){var z="".concat(v.annotationsToSummaryString(N)," in folded code.");C.displayText.push(z),C.type.push(A+"_fold")}}if(C.displayText.length===0)return this.hideTooltip();for(var F={error:[],security:[],warning:[],info:[],hint:[]},V=R.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",$=0;$<C.displayText.length;$++){var U=b.createElement("span"),q=b.createElement("span");(x=q.classList).add.apply(x,["ace_".concat(C.type[$]),V]),q.setAttribute("aria-label","".concat(v.annotationLabels[C.type[$].replace("_fold","")].singular)),q.setAttribute("role","img"),q.appendChild(b.createTextNode(" ")),U.appendChild(q),U.appendChild(b.createTextNode(C.displayText[$])),U.appendChild(b.createElement("br")),F[C.type[$].replace("_fold","")].push(U)}var K=this.getElement();b.removeChildren(K),F.error.forEach(function(Q){return K.appendChild(Q)}),F.security.forEach(function(Q){return K.appendChild(Q)}),F.warning.forEach(function(Q){return K.appendChild(Q)}),F.info.forEach(function(Q){return K.appendChild(Q)}),F.hint.forEach(function(Q){return K.appendChild(Q)}),K.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=T,this.editor._signal("showGutterTooltip",this)},v.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},v.annotationsToSummaryString=function(T){var x,R,k=[],C=["error","security","warning","info","hint"];try{for(var S=y(C),N=S.next();!N.done;N=S.next()){var L=N.value;if(T[L].length){var A=T[L].length===1?v.annotationLabels[L].singular:v.annotationLabels[L].plural;k.push("".concat(T[L].length," ").concat(A))}}}catch($){x={error:$}}finally{try{N&&!N.done&&(R=S.return)&&R.call(S)}finally{if(x)throw x.error}}return k.join(", ")},v}(f);a.GutterTooltip=h}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,a,w){var g=i("../lib/event"),y=i("../lib/useragent"),b=function(){function d(f,c){this.speed,this.wheelX,this.wheelY,this.domEvent=f,this.editor=c,this.x=this.clientX=f.clientX,this.y=this.clientY=f.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return d.prototype.stopPropagation=function(){g.stopPropagation(this.domEvent),this.propagationStopped=!0},d.prototype.preventDefault=function(){g.preventDefault(this.domEvent),this.defaultPrevented=!0},d.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},d.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},d.prototype.getGutterRow=function(){var f=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(f,0),s=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-s},d.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var f=this.editor,c=f.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var s=this.getDocumentPosition();this.$inSelection=c.contains(s.row,s.column)}return this.$inSelection},d.prototype.getButton=function(){return g.getButton(this.domEvent)},d.prototype.getShiftKey=function(){return this.domEvent.shiftKey},d.prototype.getAccelKey=function(){return y.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},d}();a.MouseEvent=b}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(i,a,w){var g=i("../lib/dom"),y=i("../lib/event"),b=i("../lib/useragent"),d=200,f=200,c=5;function s(u){var h=u.editor,m=g.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent=" ";var v=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];v.forEach(function(J){u[J]=this[J]},this),h.on("mousedown",this.onMouseDown.bind(u));var T=h.container,x,R,k,C,S,N,L=0,A,$,O,B,z;this.onDragStart=function(J){if(this.cancelDrag||!T.draggable){var le=this;return setTimeout(function(){le.startSelect(),le.captureMouse(J)},0),J.preventDefault()}S=h.getSelectionRange();var ce=J.dataTransfer;ce.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(m),ce.setDragImage&&ce.setDragImage(m,0,0),setTimeout(function(){h.container.removeChild(m)}),ce.clearData(),ce.setData("Text",h.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(J){if(T.draggable=!1,$=!1,this.setState(null),!h.getReadOnly()){var le=J.dataTransfer.dropEffect;!A&&le=="move"&&h.session.remove(h.getSelectionRange()),h.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(J){if(!(h.getReadOnly()||!te(J.dataTransfer)))return R=J.clientX,k=J.clientY,x||q(),L++,J.dataTransfer.dropEffect=A=se(J),y.preventDefault(J)},this.onDragOver=function(J){if(!(h.getReadOnly()||!te(J.dataTransfer)))return R=J.clientX,k=J.clientY,x||(q(),L++),Q!==null&&(Q=null),J.dataTransfer.dropEffect=A=se(J),y.preventDefault(J)},this.onDragLeave=function(J){if(L--,L<=0&&x)return K(),A=null,y.preventDefault(J)},this.onDrop=function(J){if(N){var le=J.dataTransfer;if($)switch(A){case"move":S.contains(N.row,N.column)?S={start:N,end:N}:S=h.moveText(S,N);break;case"copy":S=h.moveText(S,N,!0);break}else{var ce=le.getData("Text");S={start:N,end:h.session.insert(N,ce)},h.focus(),A=null}return K(),y.preventDefault(J)}},y.addListener(T,"dragstart",this.onDragStart.bind(u),h),y.addListener(T,"dragend",this.onDragEnd.bind(u),h),y.addListener(T,"dragenter",this.onDragEnter.bind(u),h),y.addListener(T,"dragover",this.onDragOver.bind(u),h),y.addListener(T,"dragleave",this.onDragLeave.bind(u),h),y.addListener(T,"drop",this.onDrop.bind(u),h);function F(J,le){var ce=Date.now(),ue=!le||J.row!=le.row,Ie=!le||J.column!=le.column;if(!B||ue||Ie)h.moveCursorToPosition(J),B=ce,z={x:R,y:k};else{var Te=o(z.x,z.y,R,k);Te>c?B=null:ce-B>=f&&(h.renderer.scrollCursorIntoView(),B=null)}}function V(J,le){var ce=Date.now(),ue=h.renderer.layerConfig.lineHeight,Ie=h.renderer.layerConfig.characterWidth,Te=h.renderer.scroller.getBoundingClientRect(),Re={x:{left:R-Te.left,right:Te.right-R},y:{top:k-Te.top,bottom:Te.bottom-k}},ke=Math.min(Re.x.left,Re.x.right),me=Math.min(Re.y.top,Re.y.bottom),ve={row:J.row,column:J.column};ke/Ie<=2&&(ve.column+=Re.x.left<Re.x.right?-3:2),me/ue<=1&&(ve.row+=Re.y.top<Re.y.bottom?-1:1);var he=J.row!=ve.row,Le=J.column!=ve.column,Qe=!le||J.row!=le.row;he||Le&&!Qe?O?ce-O>=d&&h.renderer.scrollCursorIntoView(ve):O=ce:O=null}function U(){var J=N;N=h.renderer.screenToTextCoordinates(R,k),F(N,J),V(N,J)}function q(){S=h.selection.toOrientedRange(),x=h.session.addMarker(S,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),U(),C=setInterval(U,20),L=0,y.addListener(document,"mousemove",X)}function K(){clearInterval(C),h.session.removeMarker(x),x=null,h.selection.fromOrientedRange(S),h.isFocused()&&!$&&h.$resetCursorStyle(),S=null,N=null,L=0,O=null,B=null,y.removeListener(document,"mousemove",X)}var Q=null;function X(){Q==null&&(Q=setTimeout(function(){Q!=null&&x&&K()},20))}function te(J){var le=J.types;return!le||Array.prototype.some.call(le,function(ce){return ce=="text/plain"||ce=="Text"})}function se(J){var le=["copy","copymove","all","uninitialized"],ce=["move","copymove","linkmove","all","uninitialized"],ue=b.isMac?J.altKey:J.ctrlKey,Ie="uninitialized";try{Ie=J.dataTransfer.effectAllowed.toLowerCase()}catch{}var Te="none";return ue&&le.indexOf(Ie)>=0?Te="copy":ce.indexOf(Ie)>=0?Te="move":le.indexOf(Ie)>=0&&(Te="copy"),Te}}(function(){this.dragWait=function(){var u=Date.now()-this.mousedownEvent.time;u>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var u=this.editor.container;u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(u){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var u=this.editor,h=u.container;h.draggable=!0,u.renderer.$cursorLayer.setBlinking(!1),u.setStyle("ace_dragging");var m=b.isWin?"default":"move";u.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(u){var h=this.editor.container;if(b.isIE&&this.state=="dragReady"){var m=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&h.dragDrop()}if(this.state==="dragWait"){var m=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var h=this.editor,m=u.inSelection(),v=u.getButton(),T=u.domEvent.detail||1;if(T===1&&v===0&&m){if(u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey()))return;this.mousedownEvent.time=Date.now();var x=u.domEvent.target||u.domEvent.srcElement;if("unselectable"in x&&(x.unselectable="on"),h.getDragDelay()){if(b.isWebKit){this.cancelDrag=!0;var R=h.container;R.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0}}}}).call(s.prototype);function o(u,h,m,v){return Math.sqrt(Math.pow(m-u,2)+Math.pow(v-h,2))}a.DragdropHandler=s}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(i,a,w){var g=i("./mouse_event").MouseEvent,y=i("../lib/event"),b=i("../lib/dom");a.addTouchListeners=function(d,f){var c="scroll",s,o,u,h,m,v,T=0,x,R=0,k=0,C=0,S,N;function L(){var F=window.navigator&&window.navigator.clipboard,V=!1,U=function(){var Q=f.getCopyText(),X=f.session.getUndoManager().hasUndo();N.replaceChild(b.buildDom(V?["span",!Q&&q("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Q&&q("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Q&&q("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],F&&q("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],X&&q("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],q("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],q("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),N.firstChild)},q=function(Q){return f.commands.canExecute(Q,f)},K=function(Q){var X=Q.target.getAttribute("action");if(X=="more"||!V)return V=!V,U();X=="paste"?F.readText().then(function(te){f.execCommand(X,te)}):X&&((X=="cut"||X=="copy")&&(F?F.writeText(f.getCopyText()):document.execCommand("copy")),f.execCommand(X)),N.firstChild.style.display="none",V=!1,X!="openCommandPalette"&&f.focus()};N=b.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Q){c="menu",Q.stopPropagation(),Q.preventDefault(),f.textInput.focus()},ontouchend:function(Q){Q.stopPropagation(),Q.preventDefault(),K(Q)},onclick:K},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],f.container)}function A(){if(!f.getOption("enableMobileMenu")){N&&$();return}N||L();var F=f.selection.cursor,V=f.renderer.textToScreenCoordinates(F.row,F.column),U=f.renderer.textToScreenCoordinates(0,0).pageX,q=f.renderer.scrollLeft,K=f.container.getBoundingClientRect();N.style.top=V.pageY-K.top-3+"px",V.pageX-K.left<K.width-70?(N.style.left="",N.style.right="10px"):(N.style.right="",N.style.left=U+q-K.left+"px"),N.style.display="",N.firstChild.style.display="none",f.on("input",$)}function $(F){N&&(N.style.display="none"),f.off("input",$)}function O(){m=null,clearTimeout(m);var F=f.selection.getRange(),V=F.contains(x.row,x.column);(F.isEmpty()||!V)&&(f.selection.moveToPosition(x),f.selection.selectWord()),c="wait",A()}function B(){m=null,clearTimeout(m),f.selection.moveToPosition(x);var F=R>=2?f.selection.getLineRange(x.row):f.session.getBracketRange(x);F&&!F.isEmpty()?f.selection.setRange(F):f.selection.selectWord(),c="wait"}y.addListener(d,"contextmenu",function(F){if(S){var V=f.textInput.getElement();V.focus()}},f),y.addListener(d,"touchstart",function(F){var V=F.touches;if(m||V.length>1){clearTimeout(m),m=null,u=-1,c="zoom";return}S=f.$mouseHandler.isMousePressed=!0;var U=f.renderer.layerConfig.lineHeight,q=f.renderer.layerConfig.lineHeight,K=F.timeStamp;h=K;var Q=V[0],X=Q.clientX,te=Q.clientY;Math.abs(s-X)+Math.abs(o-te)>U&&(u=-1),s=F.clientX=X,o=F.clientY=te,k=C=0;var se=new g(F,f);if(x=se.getDocumentPosition(),K-u<500&&V.length==1&&!T)R++,F.preventDefault(),F.button=0,B();else{R=0;var J=f.selection.cursor,le=f.selection.isEmpty()?J:f.selection.anchor,ce=f.renderer.$cursorLayer.getPixelPosition(J,!0),ue=f.renderer.$cursorLayer.getPixelPosition(le,!0),Ie=f.renderer.scroller.getBoundingClientRect(),Te=f.renderer.layerConfig.offset,Re=f.renderer.scrollLeft,ke=function(he,Le){return he=he/q,Le=Le/U-.75,he*he+Le*Le};if(F.clientX<Ie.left){c="zoom";return}var me=ke(F.clientX-Ie.left-ce.left+Re,F.clientY-Ie.top-ce.top+Te),ve=ke(F.clientX-Ie.left-ue.left+Re,F.clientY-Ie.top-ue.top+Te);me<3.5&&ve<3.5&&(c=me>ve?"cursor":"anchor"),ve<3.5?c="anchor":me<3.5?c="cursor":c="scroll",m=setTimeout(O,450)}u=K},f),y.addListener(d,"touchend",function(F){S=f.$mouseHandler.isMousePressed=!1,v&&clearInterval(v),c=="zoom"?(c="",T=0):m?(f.selection.moveToPosition(x),T=0,A()):c=="scroll"?(z(),$()):A(),clearTimeout(m),m=null},f),y.addListener(d,"touchmove",function(F){m&&(clearTimeout(m),m=null);var V=F.touches;if(!(V.length>1||c=="zoom")){var U=V[0],q=s-U.clientX,K=o-U.clientY;if(c=="wait")if(q*q+K*K>4)c="cursor";else return F.preventDefault();s=U.clientX,o=U.clientY,F.clientX=U.clientX,F.clientY=U.clientY;var Q=F.timeStamp,X=Q-h;if(h=Q,c=="scroll"){var te=new g(F,f);te.speed=1,te.wheelX=q,te.wheelY=K,10*Math.abs(q)<Math.abs(K)&&(q=0),10*Math.abs(K)<Math.abs(q)&&(K=0),X!=0&&(k=q/X,C=K/X),f._emit("mousewheel",te),te.propagationStopped||(k=C=0)}else{var se=new g(F,f),J=se.getDocumentPosition();c=="cursor"?f.selection.moveCursorToPosition(J):c=="anchor"&&f.selection.setSelectionAnchor(J.row,J.column),f.renderer.scrollCursorIntoView(J),F.preventDefault()}}},f);function z(){T+=60,v=setInterval(function(){T--<=0&&(clearInterval(v),v=null),Math.abs(k)<.01&&(k=0),Math.abs(C)<.01&&(C=0),T<20&&(k=.9*k),T<20&&(C=.9*C);var F=f.session.getScrollTop();f.renderer.scrollBy(10*k,10*C),F==f.session.getScrollTop()&&(T=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(i,a,w){var g=i("../lib/event"),y=i("../lib/useragent"),b=i("./default_handlers").DefaultHandlers,d=i("./default_gutter_handler").GutterHandler,f=i("./mouse_event").MouseEvent,c=i("./dragdrop_handler").DragdropHandler,s=i("./touch_handler").addTouchListeners,o=i("../config"),u=function(){function h(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var v=this;this.editor=m,new b(this),new d(this),new c(this);var T=function(k){var C=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());C&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},x=m.renderer.getMouseEventTarget();g.addListener(x,"click",this.onMouseEvent.bind(this,"click"),m),g.addListener(x,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),g.addMultiMouseDownListener([x,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),g.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),s(m.container,m);var R=m.renderer.$gutter;g.addListener(R,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),g.addListener(R,"click",this.onMouseEvent.bind(this,"gutterclick"),m),g.addListener(R,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),g.addListener(R,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),g.addListener(x,"mousedown",T,m),g.addListener(R,"mousedown",T,m),y.isIE&&m.renderer.scrollBarV&&(g.addListener(m.renderer.scrollBarV.element,"mousedown",T,m),g.addListener(m.renderer.scrollBarH.element,"mousedown",T,m)),m.on("mousemove",function(k){if(!(v.state||v.$dragDelay||!v.$dragEnabled)){var C=m.renderer.screenToTextCoordinates(k.x,k.y),S=m.session.selection.getRange(),N=m.renderer;!S.isEmpty()&&S.insideStart(C.row,C.column)?N.setCursorStyle("default"):N.setCursorStyle("")}},m)}return h.prototype.onMouseEvent=function(m,v){this.editor.session&&this.editor._emit(m,new f(v,this.editor))},h.prototype.onMouseMove=function(m,v){var T=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!T||!T.length||this.editor._emit(m,new f(v,this.editor))},h.prototype.onMouseWheel=function(m,v){var T=new f(v,this.editor);T.speed=this.$scrollSpeed*2,T.wheelX=v.wheelX,T.wheelY=v.wheelY,this.editor._emit(m,T)},h.prototype.setState=function(m){this.state=m},h.prototype.captureMouse=function(m,v){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var T=this.editor,x=this.editor.renderer;x.$isMousePressed=!0;var R=this,k=function(A){if(A){if(y.isWebKit&&!A.which&&R.releaseMouse)return R.releaseMouse();R.x=A.clientX,R.y=A.clientY,v&&v(A),R.mouseEvent=new f(A,R.editor),R.$mouseMoved=!0}},C=function(A){T.off("beforeEndOperation",N),clearInterval(L),T.session&&S(),R[R.state+"End"]&&R[R.state+"End"](A),R.state="",R.isMousePressed=x.$isMousePressed=!1,x.$keepTextAreaAtCursor&&x.$moveTextAreaToCursor(),R.$onCaptureMouseMove=R.releaseMouse=null,A&&R.onMouseEvent("mouseup",A),T.endOperation()},S=function(){R[R.state]&&R[R.state](),R.$mouseMoved=!1};if(y.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){C(m)});var N=function(A){R.releaseMouse&&T.curOp.command.name&&T.curOp.selectionChanged&&(R[R.state+"End"]&&R[R.state+"End"](),R.state="",R.releaseMouse())};T.on("beforeEndOperation",N),T.startOperation({command:{name:"mouse"}}),R.$onCaptureMouseMove=k,R.releaseMouse=g.capture(this.editor.container,k,C);var L=setInterval(S,20)},h.prototype.cancelContextMenu=function(){var m=(function(v){v&&v.domEvent&&v.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),v&&v.domEvent&&g.stopEvent(v.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},h.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},h}();u.prototype.releaseMouse=null,o.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:y.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),a.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(i,a,w){var g=i("../lib/dom"),y=function(){function b(d){d.on("click",function(f){var c=f.getDocumentPosition(),s=d.session,o=s.getFoldAt(c.row,c.column,1);o&&(f.getAccelKey()?s.removeFold(o):s.expandFold(o),f.stop());var u=f.domEvent&&f.domEvent.target;u&&g.hasCssClass(u,"ace_inline_button")&&g.hasCssClass(u,"ace_toggle_wrap")&&(s.setOption("wrap",!s.getUseWrapMode()),d.renderer.scrollCursorIntoView())}),d.on("gutterclick",function(f){var c=d.renderer.$gutterLayer.getRegion(f);if(c=="foldWidgets"){var s=f.getDocumentPosition().row,o=d.session;o.foldWidgets&&o.foldWidgets[s]&&d.session.onFoldWidgetClick(s,f),d.isFocused()||d.focus(),f.stop()}}),d.on("gutterdblclick",function(f){var c=d.renderer.$gutterLayer.getRegion(f);if(c=="foldWidgets"){var s=f.getDocumentPosition().row,o=d.session,u=o.getParentFoldRangeData(s,!0),h=u.range||u.firstRange;if(h){s=h.start.row;var m=o.getFoldAt(s,o.getLine(s).length,1);m?o.removeFold(m):(o.addFold("...",h),d.renderer.scrollCursorIntoView({row:h.start.row,column:0}))}f.stop()}})}return b}();a.FoldHandler=y}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(i,a,w){var g=i("../lib/keys"),y=i("../lib/event"),b=function(){function d(f){this.$editor=f,this.$data={editor:f},this.$handlers=[],this.setDefaultHandler(f.commands)}return d.prototype.setDefaultHandler=function(f){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=f,this.addKeyboardHandler(f,0)},d.prototype.setKeyboardHandler=function(f){var c=this.$handlers;if(c[c.length-1]!=f){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(f,1)}},d.prototype.addKeyboardHandler=function(f,c){if(f){typeof f=="function"&&!f.handleKeyboard&&(f.handleKeyboard=f);var s=this.$handlers.indexOf(f);s!=-1&&this.$handlers.splice(s,1),c==null?this.$handlers.push(f):this.$handlers.splice(c,0,f),s==-1&&f.attach&&f.attach(this.$editor)}},d.prototype.removeKeyboardHandler=function(f){var c=this.$handlers.indexOf(f);return c==-1?!1:(this.$handlers.splice(c,1),f.detach&&f.detach(this.$editor),!0)},d.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},d.prototype.getStatusText=function(){var f=this.$data,c=f.editor;return this.$handlers.map(function(s){return s.getStatusText&&s.getStatusText(c,f)||""}).filter(Boolean).join(" ")},d.prototype.$callKeyboardHandlers=function(f,c,s,o){for(var u,h=!1,m=this.$editor.commands,v=this.$handlers.length;v--&&(u=this.$handlers[v].handleKeyboard(this.$data,f,c,s,o),!(!(!u||!u.command)&&(u.command=="null"?h=!0:h=m.exec(u.command,this.$editor,u.args,o),h&&o&&f!=-1&&u.passEvent!=!0&&u.command.passEvent!=!0&&y.stopEvent(o),h))););return!h&&f==-1&&(u={command:"insertstring"},h=m.exec("insertstring",this.$editor,c)),h&&this.$editor._signal&&this.$editor._signal("keyboardActivity",u),h},d.prototype.onCommandKey=function(f,c,s){var o=g.keyCodeToString(s);return this.$callKeyboardHandlers(c,o,s,f)},d.prototype.onTextInput=function(f){return this.$callKeyboardHandlers(-1,f)},d}();a.KeyBinding=b}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(i,a,w){var g=0,y=0,b=!1,d=!1,f=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],s=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],o=0,u=1,h=0,m=1,v=2,T=3,x=4,R=5,k=6,C=7,S=8,N=9,L=10,A=11,$=12,O=13,B=14,z=15,F=16,V=17,U=18,q=[U,U,U,U,U,U,U,U,U,k,R,k,S,R,U,U,U,U,U,U,U,U,U,U,U,U,U,U,R,R,R,k,S,x,x,A,A,A,x,x,x,x,x,L,N,L,N,N,v,v,v,v,v,v,v,v,v,v,N,x,x,x,x,x,x,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,x,x,x,x,x,x,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,x,x,x,x,U,U,U,U,U,U,R,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,N,x,A,A,A,A,x,x,x,x,h,x,x,U,x,x,A,A,v,v,x,h,x,x,x,v,h,x,x,x,x,x],K=[S,S,S,S,S,S,S,S,S,S,S,U,U,U,h,m,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,S,R,O,B,z,F,V,N,A,A,A,A,A,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,N,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,S];function Q(J,le,ce,ue){var Ie=g?s:c,Te=null,Re=null,ke=null,me=0,ve=null,he=null,Le=-1,Qe=null,De=null,xt=[];if(!ue)for(Qe=0,ue=[];Qe<ce;Qe++)ue[Qe]=se(J[Qe]);for(y=g,b=!1,d=!1,f=!1,De=0;De<ce;De++){if(Te=me,xt[De]=Re=te(J,ue,xt,De),me=Ie[Te][Re],ve=me&240,me&=15,le[De]=ke=Ie[me][5],ve>0)if(ve==16){for(Qe=Le;Qe<De;Qe++)le[Qe]=1;Le=-1}else Le=-1;if(he=Ie[me][6],he)Le==-1&&(Le=De);else if(Le>-1){for(Qe=Le;Qe<De;Qe++)le[Qe]=ke;Le=-1}ue[De]==R&&(le[De]=0),y|=ke}if(f){for(Qe=0;Qe<ce;Qe++)if(ue[Qe]==k){le[Qe]=g;for(var Mt=Qe-1;Mt>=0&&ue[Mt]==S;Mt--)le[Mt]=g}}}function X(J,le,ce){if(!(y<J)){if(J==1&&g==u&&!d){ce.reverse();return}for(var ue=ce.length,Ie=0,Te,Re,ke,me;Ie<ue;){if(le[Ie]>=J){for(Te=Ie+1;Te<ue&&le[Te]>=J;)Te++;for(Re=Ie,ke=Te-1;Re<ke;Re++,ke--)me=ce[Re],ce[Re]=ce[ke],ce[ke]=me;Ie=Te}Ie++}}}function te(J,le,ce,ue){var Ie=le[ue],Te,Re,ke,me;switch(Ie){case h:case m:b=!1;case x:case T:return Ie;case v:return b?T:v;case C:return b=!0,m;case S:return x;case N:return ue<1||ue+1>=le.length||(Te=ce[ue-1])!=v&&Te!=T||(Re=le[ue+1])!=v&&Re!=T?x:(b&&(Re=T),Re==Te?Re:x);case L:return Te=ue>0?ce[ue-1]:R,Te==v&&ue+1<le.length&&le[ue+1]==v?v:x;case A:if(ue>0&&ce[ue-1]==v)return v;if(b)return x;for(me=ue+1,ke=le.length;me<ke&&le[me]==A;)me++;return me<ke&&le[me]==v?v:x;case $:for(ke=le.length,me=ue+1;me<ke&&le[me]==$;)me++;if(me<ke){var ve=J[ue],he=ve>=1425&&ve<=2303||ve==64286;if(Te=le[me],he&&(Te==m||Te==C))return m}return ue<1||(Te=le[ue-1])==R?x:ce[ue-1];case R:return b=!1,d=!0,g;case k:return f=!0,x;case O:case B:case F:case V:case z:b=!1;case U:return x}}function se(J){var le=J.charCodeAt(0),ce=le>>8;return ce==0?le>191?h:q[le]:ce==5?/[\u0591-\u05f4]/.test(J)?m:h:ce==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(J)?$:/[\u0660-\u0669\u066b-\u066c]/.test(J)?T:le==1642?A:/[\u06f0-\u06f9]/.test(J)?v:C:ce==32&&le<=8287?K[le&255]:ce==254&&le>=65136?C:x}a.L=h,a.R=m,a.EN=v,a.ON_R=3,a.AN=4,a.R_H=5,a.B=6,a.RLE=7,a.DOT="·",a.doBidiReorder=function(J,le,ce){if(J.length<2)return{};var ue=J.split(""),Ie=new Array(ue.length),Te=new Array(ue.length),Re=[];g=ce?u:o,Q(ue,Re,ue.length,le);for(var ke=0;ke<Ie.length;Ie[ke]=ke,ke++);X(2,Re,Ie),X(1,Re,Ie);for(var ke=0;ke<Ie.length-1;ke++)le[ke]===T?Re[ke]=a.AN:Re[ke]===m&&(le[ke]>C&&le[ke]<O||le[ke]===x||le[ke]===U)?Re[ke]=a.ON_R:ke>0&&ue[ke-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(ue[ke])&&(Re[ke-1]=Re[ke]=a.R_H,ke++);ue[ue.length-1]===a.DOT&&(Re[ue.length-1]=a.B),ue[0]==="‫"&&(Re[0]=a.RLE);for(var ke=0;ke<Ie.length;ke++)Te[ke]=Re[Ie[ke]];return{logicalFromVisual:Ie,bidiLevels:Te}},a.hasBidiCharacters=function(J,le){for(var ce=!1,ue=0;ue<J.length;ue++)le[ue]=se(J.charAt(ue)),!ce&&(le[ue]==m||le[ue]==C||le[ue]==T)&&(ce=!0);return ce},a.getVisualFromLogicalIdx=function(J,le){for(var ce=0;ce<le.logicalFromVisual.length;ce++)if(le.logicalFromVisual[ce]==J)return ce;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(i,a,w){var g=i("./lib/bidiutil"),y=i("./lib/lang"),b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,d=function(){function f(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=g,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=b.test(c.getValue())}return f.prototype.isBidiRow=function(c,s,o){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(s,o),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},f.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&b.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},f.prototype.getDocumentRow=function(){var c=0,s=this.session.$screenRowCache;if(s.length){var o=this.session.$getRowCacheIndex(s,this.currentRow);o>=0&&(c=this.session.$docRowCache[o])}return c},f.prototype.getSplitIndex=function(){var c=0,s=this.session.$screenRowCache;if(s.length)for(var o,u=this.session.$getRowCacheIndex(s,this.currentRow);this.currentRow-c>0&&(o=this.session.$getRowCacheIndex(s,this.currentRow-c-1),o===u);)u=o,c++;else c=this.currentRow;return c},f.prototype.updateRowLine=function(c,s){c===void 0&&(c=this.getDocumentRow());var o=c===this.session.getLength()-1,u=o?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var h=this.session.$wrapData[c];h&&(s===void 0&&(s=this.getSplitIndex()),s>0&&h.length?(this.wrapIndent=h.indent,this.wrapOffset=this.wrapIndent*this.charWidths[g.L],this.line=s<h.length?this.line.substring(h[s-1],h[s]):this.line.substring(h[h.length-1])):this.line=this.line.substring(0,h[s]),s==h.length&&(this.line+=this.showInvisibles?u:g.DOT))}else this.line+=this.showInvisibles?u:g.DOT;var m=this.session,v=0,T;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(x,R){return x==="	"||m.isFullWidth(x.charCodeAt(0))?(T=x==="	"?m.getScreenTabSize(R+v):2,v+=T-1,y.stringRepeat(g.DOT,T)):x}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==g.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},f.prototype.updateBidiMap=function(){var c=[];g.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=g.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},f.prototype.markAsDirty=function(){this.currentRow=null},f.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var s=this.characterWidth=c.$characterSize.width,o=c.$measureCharWidth("ה");this.charWidths[g.L]=this.charWidths[g.EN]=this.charWidths[g.ON_R]=s,this.charWidths[g.R]=this.charWidths[g.AN]=o,this.charWidths[g.R_H]=o*.45,this.charWidths[g.B]=this.charWidths[g.RLE]=0,this.currentRow=null}},f.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},f.prototype.setEolChar=function(c){this.EOL=c},f.prototype.setContentWidth=function(c){this.contentWidth=c},f.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},f.prototype.setRtlDirection=function(c,s){for(var o=c.getCursorPosition(),u=c.selection.getSelectionAnchor().row;u<=o.row;u++)!s&&c.session.getLine(u).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(u,0,1):s&&c.session.getLine(u).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:u},c.session.$bidiHandler.RLE)},f.prototype.getPosLeft=function(c){c-=this.wrapIndent;var s=this.line.charAt(0)===this.RLE?1:0,o=c>s?this.session.getOverwrite()?c:c-1:s,u=g.getVisualFromLogicalIdx(o,this.bidiMap),h=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=s&&h[u]%2!==0&&u++;for(var v=0;v<u;v++)m+=this.charWidths[h[v]];return!this.session.getOverwrite()&&c>s&&h[u]%2===0&&(m+=this.charWidths[h[u]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},f.prototype.getSelections=function(c,s){var o=this.bidiMap,u=o.bidiLevels,h,m=[],v=0,T=Math.min(c,s)-this.wrapIndent,x=Math.max(c,s)-this.wrapIndent,R=!1,k=!1,C=0;this.wrapIndent&&(v+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var S,N=0;N<u.length;N++)S=o.logicalFromVisual[N],h=u[N],R=S>=T&&S<x,R&&!k?C=v:!R&&k&&m.push({left:C,width:v-C}),v+=this.charWidths[h],k=R;if(R&&N===u.length&&m.push({left:C,width:v-C}),this.isRtlDir)for(var L=0;L<m.length;L++)m[L].left+=this.rtlLineOffset;return m},f.prototype.offsetToCol=function(o){this.isRtlDir&&(o-=this.rtlLineOffset);var s=0,o=Math.max(o,0),u=0,h=0,m=this.bidiMap.bidiLevels,v=this.charWidths[m[h]];for(this.wrapIndent&&(o-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);o>u+v/2;){if(u+=v,h===m.length-1){v=0;break}v=this.charWidths[m[++h]]}return h>0&&m[h-1]%2!==0&&m[h]%2===0?(o<u&&h--,s=this.bidiMap.logicalFromVisual[h]):h>0&&m[h-1]%2===0&&m[h]%2!==0?s=1+(o>u?this.bidiMap.logicalFromVisual[h]:this.bidiMap.logicalFromVisual[h-1]):this.isRtlDir&&h===m.length-1&&v===0&&m[h-1]%2===0||!this.isRtlDir&&h===0&&m[h]%2!==0?s=1+this.bidiMap.logicalFromVisual[h]:(h>0&&m[h-1]%2!==0&&v!==0&&h--,s=this.bidiMap.logicalFromVisual[h]),s===0&&this.isRtlDir&&s++,s+this.wrapIndent},f}();a.BidiHandler=d}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(i,a,w){var g=i("./lib/oop"),y=i("./lib/lang"),b=i("./lib/event_emitter").EventEmitter,d=i("./range").Range,f=function(){function c(s){this.session=s,this.doc=s.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var o=this;this.cursor.on("change",function(u){o.$cursorChanged=!0,o.$silent||o._emit("changeCursor"),!o.$isEmpty&&!o.$silent&&o._emit("changeSelection"),!o.$keepDesiredColumnOnChange&&u.old.column!=u.value.column&&(o.$desiredColumn=null)}),this.anchor.on("change",function(){o.$anchorChanged=!0,!o.$isEmpty&&!o.$silent&&o._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(s,o){this.$isEmpty=!1,this.anchor.setPosition(s,o)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var s=this.anchor,o=this.lead;return s.row>o.row||s.row==o.row&&s.column>o.column},c.prototype.getRange=function(){var s=this.anchor,o=this.lead;return this.$isEmpty?d.fromPoints(o,o):this.isBackwards()?d.fromPoints(o,s):d.fromPoints(s,o)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(s,o){var u=o?s.end:s.start,h=o?s.start:s.end;this.$setSelection(u.row,u.column,h.row,h.column)},c.prototype.$setSelection=function(s,o,u,h){if(!this.$silent){var m=this.$isEmpty,v=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(s,o),this.cursor.setPosition(u,h),this.$isEmpty=!d.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||v)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(s){var o=this.lead;this.$isEmpty&&this.setSelectionAnchor(o.row,o.column),s.call(this)},c.prototype.selectTo=function(s,o){this.$moveSelection(function(){this.moveCursorTo(s,o)})},c.prototype.selectToPosition=function(s){this.$moveSelection(function(){this.moveCursorToPosition(s)})},c.prototype.moveTo=function(s,o){this.clearSelection(),this.moveCursorTo(s,o)},c.prototype.moveToPosition=function(s){this.clearSelection(),this.moveCursorToPosition(s)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(s,o){if(typeof o>"u"){var u=s||this.lead;s=u.row,o=u.column}return this.session.getWordRange(s,o)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var s=this.getCursor(),o=this.session.getAWordRange(s.row,s.column);this.setSelectionRange(o)},c.prototype.getLineRange=function(s,o){var u=typeof s=="number"?s:this.lead.row,h,m=this.session.getFoldLine(u);return m?(u=m.start.row,h=m.end.row):h=u,o===!0?new d(u,0,h,this.session.getLine(h).length):new d(u,0,h+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(s,o,u){var h=s.column,m=s.column+o;return u<0&&(h=s.column-o,m=s.column),this.session.isTabStop(s)&&this.doc.getLine(s.row).slice(h,m).split(" ").length-1==o},c.prototype.moveCursorLeft=function(){var s=this.lead.getPosition(),o;if(o=this.session.getFoldAt(s.row,s.column,-1))this.moveCursorTo(o.start.row,o.start.column);else if(s.column===0)s.row>0&&this.moveCursorTo(s.row-1,this.doc.getLine(s.row-1).length);else{var u=this.session.getTabSize();this.wouldMoveIntoSoftTab(s,u,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-u):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var s=this.lead.getPosition(),o;if(o=this.session.getFoldAt(s.row,s.column,1))this.moveCursorTo(o.end.row,o.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var u=this.session.getTabSize(),s=this.lead;this.wouldMoveIntoSoftTab(s,u,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,u):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var s=this.lead.row,o=this.lead.column,u=this.session.documentToScreenRow(s,o),h=this.session.screenToDocumentPosition(u,0),m=this.session.getDisplayLine(s,null,h.row,h.column),v=m.match(/^\s*/);v[0].length!=o&&!this.session.$useEmacsStyleLineStart&&(h.column+=v[0].length),this.moveCursorToPosition(h)},c.prototype.moveCursorLineEnd=function(){var s=this.lead,o=this.session.getDocumentLastRowColumnPosition(s.row,s.column);if(this.lead.column==o.column){var u=this.session.getLine(o.row);if(o.column==u.length){var h=u.search(/\s+$/);h>0&&(o.column=h)}}this.moveCursorTo(o.row,o.column)},c.prototype.moveCursorFileEnd=function(){var s=this.doc.getLength()-1,o=this.doc.getLine(s).length;this.moveCursorTo(s,o)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var s=this.lead.row,o=this.lead.column,u=this.doc.getLine(s),h=u.substring(o);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(s,o,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(h)&&(o+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,h=u.substring(o)),o>=u.length){this.moveCursorTo(s,u.length),this.moveCursorRight(),s<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(h)&&(o+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(s,o)},c.prototype.moveCursorLongWordLeft=function(){var s=this.lead.row,o=this.lead.column,u;if(u=this.session.getFoldAt(s,o,-1)){this.moveCursorTo(u.start.row,u.start.column);return}var h=this.session.getFoldStringAt(s,o,-1);h==null&&(h=this.doc.getLine(s).substring(0,o));var m=y.stringReverse(h);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(o-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),o<=0){this.moveCursorTo(s,0),this.moveCursorLeft(),s>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(o-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(s,o)},c.prototype.$shortWordEndIndex=function(s){var o=0,u,h=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(s))o=this.session.tokenRe.lastIndex;else{for(;(u=s[o])&&h.test(u);)o++;if(o<1){for(m.lastIndex=0;(u=s[o])&&!m.test(u);)if(m.lastIndex=0,o++,h.test(u))if(o>2){o--;break}else{for(;(u=s[o])&&h.test(u);)o++;if(o>2)break}}}return m.lastIndex=0,o},c.prototype.moveCursorShortWordRight=function(){var s=this.lead.row,o=this.lead.column,u=this.doc.getLine(s),h=u.substring(o),m=this.session.getFoldAt(s,o,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(o==u.length){var v=this.doc.getLength();do s++,h=this.doc.getLine(s);while(s<v&&/^\s*$/.test(h));/^\s+/.test(h)||(h=""),o=0}var T=this.$shortWordEndIndex(h);this.moveCursorTo(s,o+T)},c.prototype.moveCursorShortWordLeft=function(){var s=this.lead.row,o=this.lead.column,u;if(u=this.session.getFoldAt(s,o,-1))return this.moveCursorTo(u.start.row,u.start.column);var h=this.session.getLine(s).substring(0,o);if(o===0){do s--,h=this.doc.getLine(s);while(s>0&&/^\s*$/.test(h));o=h.length,/\s+$/.test(h)||(h="")}var m=y.stringReverse(h),v=this.$shortWordEndIndex(m);return this.moveCursorTo(s,o-v)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(s,o){var u=this.session.documentToScreenPosition(this.lead.row,this.lead.column),h;if(o===0&&(s!==0&&(this.session.$bidiHandler.isBidiRow(u.row,this.lead.row)?(h=this.session.$bidiHandler.getPosLeft(u.column),u.column=Math.round(h/this.session.$bidiHandler.charWidths[0])):h=u.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?u.column=this.$desiredColumn:this.$desiredColumn=u.column),s!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];s<0?s-=m.rowsAbove||0:s>0&&(s+=m.rowCount-(m.rowsAbove||0))}var v=this.session.screenToDocumentPosition(u.row+s,u.column,h);s!==0&&o===0&&v.row===this.lead.row&&(v.column,this.lead.column),this.moveCursorTo(v.row,v.column+o,o===0)},c.prototype.moveCursorToPosition=function(s){this.moveCursorTo(s.row,s.column)},c.prototype.moveCursorTo=function(s,o,u){var h=this.session.getFoldAt(s,o,1);h&&(s=h.start.row,o=h.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(s);/[\uDC00-\uDFFF]/.test(m.charAt(o))&&m.charAt(o-1)&&(this.lead.row==s&&this.lead.column==o+1?o=o-1:o=o+1),this.lead.setPosition(s,o),this.$keepDesiredColumnOnChange=!1,u||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(s,o,u){var h=this.session.screenToDocumentPosition(s,o);this.moveCursorTo(h.row,h.column,u)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(s){this.setSelectionRange(s,s.cursor==s.start),this.$desiredColumn=s.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(s){var o=this.getRange();return s?(s.start.column=o.start.column,s.start.row=o.start.row,s.end.column=o.end.column,s.end.row=o.end.row):s=o,s.cursor=this.isBackwards()?s.start:s.end,s.desiredColumn=this.$desiredColumn,s},c.prototype.getRangeOfMovements=function(s){var o=this.getCursor();try{s(this);var u=this.getCursor();return d.fromPoints(o,u)}catch{return d.fromPoints(o,o)}finally{this.moveCursorToPosition(o)}},c.prototype.toJSON=function(){if(this.rangeCount)var s=this.ranges.map(function(o){var u=o.clone();return u.isBackwards=o.cursor==o.start,u});else{var s=this.getRange();s.isBackwards=this.isBackwards()}return s},c.prototype.fromJSON=function(s){if(s.start==null)if(this.rangeList&&s.length>1){this.toSingleRange(s[0]);for(var o=s.length;o--;){var u=d.fromPoints(s[o].start,s[o].end);s[o].isBackwards&&(u.cursor=u.start),this.addRange(u,!0)}return}else s=s[0];this.rangeList&&this.toSingleRange(s),this.setSelectionRange(s,s.isBackwards)},c.prototype.isEqual=function(s){if((s.length||this.rangeCount)&&s.length!=this.rangeCount)return!1;if(!s.length||!this.ranges)return this.getRange().isEqual(s);for(var o=this.ranges.length;o--;)if(!this.ranges[o].isEqual(s[o]))return!1;return!0},c}();f.prototype.setSelectionAnchor=f.prototype.setAnchor,f.prototype.getSelectionAnchor=f.prototype.getAnchor,f.prototype.setSelectionRange=f.prototype.setRange,g.implement(f.prototype,b),a.Selection=f}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(i,a,w){var g=i("./lib/report_error").reportError,y=2e3,b=function(){function d(f){this.splitRegex,this.states=f,this.regExps={},this.matchMappings={};for(var c in this.states){for(var s=this.states[c],o=[],u=0,h=this.matchMappings[c]={defaultToken:"text"},m="g",v=[],T=0;T<s.length;T++){var x=s[T];if(x.defaultToken&&(h.defaultToken=x.defaultToken),x.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),x.unicode&&m.indexOf("u")===-1&&(m+="u"),x.regex!=null){x.regex instanceof RegExp&&(x.regex=x.regex.toString().slice(1,-1));var R=x.regex,k=new RegExp("(?:("+R+")|(.))").exec("a").length-2;Array.isArray(x.token)?x.token.length==1||k==1?x.token=x.token[0]:k-1!=x.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:x,groupCount:k-1}),x.token=x.token[0]):(x.tokenArray=x.token,x.token=null,x.onMatch=this.$arrayTokens):typeof x.token=="function"&&!x.onMatch&&(k>1?x.onMatch=this.$applyToken:x.onMatch=x.token),k>1&&(/\\\d/.test(x.regex)?R=x.regex.replace(/\\([0-9]+)/g,function(C,S){return"\\"+(parseInt(S,10)+u+1)}):(k=1,R=this.removeCapturingGroups(x.regex)),!x.splitRegex&&typeof x.token!="string"&&v.push(x)),h[u]=T,u+=k,o.push(R),x.onMatch||(x.onMatch=null)}}o.length||(h[0]=0,o.push("$")),v.forEach(function(C){C.splitRegex=this.createSplitterRegexp(C.regex,m)},this),this.regExps[c]=new RegExp("("+o.join(")|(")+")|($)",m)}}return d.prototype.$setMaxTokenCount=function(f){y=f|0},d.prototype.$applyToken=function(f){var c=this.splitRegex.exec(f).slice(1),s=this.token.apply(this,c);if(typeof s=="string")return[{type:s,value:f}];for(var o=[],u=0,h=s.length;u<h;u++)c[u]&&(o[o.length]={type:s[u],value:c[u]});return o},d.prototype.$arrayTokens=function(f){if(!f)return[];var c=this.splitRegex.exec(f);if(!c)return"text";for(var s=[],o=this.tokenArray,u=0,h=o.length;u<h;u++)c[u+1]&&(s[s.length]={type:o[u],value:c[u+1]});return s},d.prototype.removeCapturingGroups=function(f){var c=f.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(s,o){return o?"(?:":s});return c},d.prototype.createSplitterRegexp=function(f,c){if(f.indexOf("(?=")!=-1){var s=0,o=!1,u={};f.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(h,m,v,T,x,R){return o?o=x!="]":x?o=!0:T?(s==u.stack&&(u.end=R+1,u.stack=-1),s--):v&&(s++,v.length!=1&&(u.stack=s,u.start=R)),h}),u.end!=null&&/^\)*$/.test(f.substr(u.end))&&(f=f.substring(0,u.start)+f.substr(u.end))}return f.charAt(0)!="^"&&(f="^"+f),f.charAt(f.length-1)!="$"&&(f+="$"),new RegExp(f,(c||"").replace("g",""))},d.prototype.getLineTokens=function(f,c){if(c&&typeof c!="string"){var s=c.slice(0);c=s[0],c==="#tmp"&&(s.shift(),c=s.shift())}else var s=[];var o=c||"start",u=this.states[o];u||(o="start",u=this.states[o]);var h=this.matchMappings[o],m=this.regExps[o];m.lastIndex=0;for(var v,T=[],x=0,R=0,k={type:null,value:""};v=m.exec(f);){var C=h.defaultToken,S=null,N=v[0],L=m.lastIndex;if(L-N.length>x){var A=f.substring(x,L-N.length);k.type==C?k.value+=A:(k.type&&T.push(k),k={type:C,value:A})}for(var $=0;$<v.length-2;$++)if(v[$+1]!==void 0){S=u[h[$]],S.onMatch?C=S.onMatch(N,o,s,f):C=S.token,S.next&&(typeof S.next=="string"?o=S.next:o=S.next(o,s),u=this.states[o],u||(this.reportError("state doesn't exist",o),o="start",u=this.states[o]),h=this.matchMappings[o],x=L,m=this.regExps[o],m.lastIndex=L),S.consumeLineEnd&&(x=L);break}if(N){if(typeof C=="string")(!S||S.merge!==!1)&&k.type===C?k.value+=N:(k.type&&T.push(k),k={type:C,value:N});else if(C){k.type&&T.push(k),k={type:null,value:""};for(var $=0;$<C.length;$++)T.push(C[$])}}if(x==f.length)break;if(x=L,R++>y){for(R>2*f.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:f});x<f.length;)k.type&&T.push(k),k={value:f.substring(x,x+=500),type:"overflow"};o="start",s=[];break}}return k.type&&T.push(k),s.length>1&&s[0]!==o&&s.unshift("#tmp",o),{tokens:T,state:s.length?s:o}},d}();b.prototype.reportError=g,a.Tokenizer=b}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(i,a,w){var g=i("../lib/deep_copy").deepCopy,y;y=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(f,c){if(!c){for(var s in f)this.$rules[s]=f[s];return}for(var s in f){for(var o=f[s],u=0;u<o.length;u++){var h=o[u];(h.next||h.onMatch)&&(typeof h.next=="string"&&h.next.indexOf(c)!==0&&(h.next=c+h.next),h.nextState&&h.nextState.indexOf(c)!==0&&(h.nextState=c+h.nextState))}this.$rules[c+s]=o}},this.getRules=function(){return this.$rules},this.embedRules=function(f,c,s,o,u){var h=typeof f=="function"?new f().getRules():f;if(o)for(var m=0;m<o.length;m++)o[m]=c+o[m];else{o=[];for(var v in h)o.push(c+v)}if(this.addRules(h,c),s)for(var T=Array.prototype[u?"push":"unshift"],m=0;m<o.length;m++)T.apply(this.$rules[o[m]],g(s));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var b=function(f,c){return(f!="start"||c.length)&&c.unshift(this.nextState,f),this.nextState},d=function(f,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var f=0,c=this.$rules;function s(o){var u=c[o];u.processed=!0;for(var h=0;h<u.length;h++){var m=u[h],v=null;Array.isArray(m)&&(v=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var T=m.next||m.push;if(T&&Array.isArray(T)){var x=m.stateName;x||(x=m.token,typeof x!="string"&&(x=x[0]||""),c[x]&&(x+=f++)),c[x]=T,m.next=x,s(x)}else T=="pop"&&(m.next=d);if(m.push&&(m.nextState=m.next||m.push,m.next=b,delete m.push),m.rules)for(var R in m.rules)c[R]?c[R].push&&c[R].push.apply(c[R],m.rules[R]):c[R]=m.rules[R];var k=typeof m=="string"?m:m.include;if(k&&(k==="$self"&&(k="start"),Array.isArray(k)?v=k.map(function(S){return c[S]}):v=c[k]),v){var C=[h,1].concat(v);m.noEscape&&(C=C.filter(function(S){return!S.next})),u.splice.apply(u,C),h--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(s,this)},this.createKeywordMapper=function(f,c,s,o){var u=Object.create(null);return this.$keywordList=[],Object.keys(f).forEach(function(h){for(var m=f[h],v=m.split(o||"|"),T=v.length;T--;){var x=v[T];this.$keywordList.push(x),s&&(x=x.toLowerCase()),u[x]=h}},this),f=null,s?function(h){return u[h.toLowerCase()]||c}:function(h){return u[h]||c}},this.getKeywords=function(){return this.$keywords}}).call(y.prototype),a.TextHighlightRules=y}),ace.define("ace/mode/behaviour",["require","exports","module"],function(i,a,w){var g;g=function(){this.$behaviours={}},(function(){this.add=function(y,b,d){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[y]:this.$behaviours[y]={}}this.$behaviours[y][b]=d},this.addBehaviours=function(y){for(var b in y)for(var d in y[b])this.add(b,d,y[b][d])},this.remove=function(y){this.$behaviours&&this.$behaviours[y]&&delete this.$behaviours[y]},this.inherit=function(y,b){if(typeof y=="function")var d=new y().getBehaviours(b);else var d=y.getBehaviours(b);this.addBehaviours(d)},this.getBehaviours=function(y){if(y){for(var b={},d=0;d<y.length;d++)this.$behaviours[y[d]]&&(b[y[d]]=this.$behaviours[y[d]]);return b}else return this.$behaviours}}).call(g.prototype),a.Behaviour=g}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(i,a,w){var g=i("./range").Range,y=function(){function b(d,f,c){this.$session=d,this.$row=f,this.$rowTokens=d.getTokens(f);var s=d.getTokenAt(f,c);this.$tokenIndex=s?s.index:-1}return b.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},b.prototype.stepForward=function(){this.$tokenIndex+=1;for(var d;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,d||(d=this.$session.getLength()),this.$row>=d)return this.$row=d-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},b.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},b.prototype.getCurrentTokenRow=function(){return this.$row},b.prototype.getCurrentTokenColumn=function(){var d=this.$rowTokens,f=this.$tokenIndex,c=d[f].start;if(c!==void 0)return c;for(c=0;f>0;)f-=1,c+=d[f].value.length;return c},b.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},b.prototype.getCurrentTokenRange=function(){var d=this.$rowTokens[this.$tokenIndex],f=this.getCurrentTokenColumn();return new g(this.$row,f,this.$row,f+d.value.length)},b}();a.TokenIterator=y}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(i,a,w){var g=i("../../lib/oop"),y=i("../behaviour").Behaviour,b=i("../../token_iterator").TokenIterator,d=i("../../lib/lang"),f=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],s,o={},u={'"':'"',"'":"'"},h=function(T){var x=-1;if(T.multiSelect&&(x=T.selection.index,o.rangeCount!=T.multiSelect.rangeCount&&(o={rangeCount:T.multiSelect.rangeCount})),o[x])return s=o[x];s=o[x]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(T,x,R,k){var C=T.end.row-T.start.row;return{text:R+x+k,selection:[0,T.start.column+1,C,T.end.column+(C?0:1)]}},v;v=function(T){T=T||{},this.add("braces","insertion",function(x,R,k,C,S){var N=k.getCursorPosition(),L=C.doc.getLine(N.row);if(S=="{"){h(k);var A=k.getSelectionRange(),$=C.doc.getTextRange(A),O=C.getTokenAt(N.row,N.column);if($!==""&&$!=="{"&&k.getWrapBehavioursEnabled())return m(A,$,"{","}");if(O&&/(?:string)\.quasi|\.xml/.test(O.type)){var B=[/tag\-(?:open|name)/,/attribute\-name/];return B.some(function(Q){return Q.test(O.type)})||/(string)\.quasi/.test(O.type)&&O.value[N.column-O.start-1]!=="$"?void 0:(v.recordAutoInsert(k,C,"}"),{text:"{}",selection:[1,1]})}else if(v.isSaneInsertion(k,C))return/[\]\}\)]/.test(L[N.column])||k.inMultiSelectMode||T.braces?(v.recordAutoInsert(k,C,"}"),{text:"{}",selection:[1,1]}):(v.recordMaybeInsert(k,C,"{"),{text:"{",selection:[1,1]})}else if(S=="}"){h(k);var z=L.substring(N.column,N.column+1);if(z=="}"){var F=C.$findOpeningBracket("}",{column:N.column+1,row:N.row});if(F!==null&&v.isAutoInsertedClosing(N,L,S))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(S==`
`||S==`\r
`){h(k);var V="";v.isMaybeInsertedClosing(N,L)&&(V=d.stringRepeat("}",s.maybeInsertedBrackets),v.clearMaybeInsertedClosing());var z=L.substring(N.column,N.column+1);if(z==="}"){var U=C.findMatchingBracket({row:N.row,column:N.column+1},"}");if(!U)return null;var q=this.$getIndent(C.getLine(U.row))}else if(V)var q=this.$getIndent(L);else{v.clearMaybeInsertedClosing();return}var K=q+C.getTabString();return{text:`
`+K+`
`+q+V,selection:[1,K.length,1,K.length]}}else v.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(x,R,k,C,S){var N=C.doc.getTextRange(S);if(!S.isMultiLine()&&N=="{"){h(k);var L=C.doc.getLine(S.start.row),A=L.substring(S.end.column,S.end.column+1);if(A=="}")return S.end.column++,S;s.maybeInsertedBrackets--}}),this.add("parens","insertion",function(x,R,k,C,S){if(S=="("){h(k);var N=k.getSelectionRange(),L=C.doc.getTextRange(N);if(L!==""&&k.getWrapBehavioursEnabled())return m(N,L,"(",")");if(v.isSaneInsertion(k,C))return v.recordAutoInsert(k,C,")"),{text:"()",selection:[1,1]}}else if(S==")"){h(k);var A=k.getCursorPosition(),$=C.doc.getLine(A.row),O=$.substring(A.column,A.column+1);if(O==")"){var B=C.$findOpeningBracket(")",{column:A.column+1,row:A.row});if(B!==null&&v.isAutoInsertedClosing(A,$,S))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(x,R,k,C,S){var N=C.doc.getTextRange(S);if(!S.isMultiLine()&&N=="("){h(k);var L=C.doc.getLine(S.start.row),A=L.substring(S.start.column+1,S.start.column+2);if(A==")")return S.end.column++,S}}),this.add("brackets","insertion",function(x,R,k,C,S){if(S=="["){h(k);var N=k.getSelectionRange(),L=C.doc.getTextRange(N);if(L!==""&&k.getWrapBehavioursEnabled())return m(N,L,"[","]");if(v.isSaneInsertion(k,C))return v.recordAutoInsert(k,C,"]"),{text:"[]",selection:[1,1]}}else if(S=="]"){h(k);var A=k.getCursorPosition(),$=C.doc.getLine(A.row),O=$.substring(A.column,A.column+1);if(O=="]"){var B=C.$findOpeningBracket("]",{column:A.column+1,row:A.row});if(B!==null&&v.isAutoInsertedClosing(A,$,S))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(x,R,k,C,S){var N=C.doc.getTextRange(S);if(!S.isMultiLine()&&N=="["){h(k);var L=C.doc.getLine(S.start.row),A=L.substring(S.start.column+1,S.start.column+2);if(A=="]")return S.end.column++,S}}),this.add("string_dquotes","insertion",function(x,R,k,C,S){var N=C.$mode.$quotes||u;if(S.length==1&&N[S]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(S)!=-1)return;h(k);var L=S,A=k.getSelectionRange(),$=C.doc.getTextRange(A);if($!==""&&($.length!=1||!N[$])&&k.getWrapBehavioursEnabled())return m(A,$,L,L);if(!$){var O=k.getCursorPosition(),B=C.doc.getLine(O.row),z=B.substring(O.column-1,O.column),F=B.substring(O.column,O.column+1),V=C.getTokenAt(O.row,O.column),U=C.getTokenAt(O.row,O.column+1);if(z=="\\"&&V&&/escape/.test(V.type))return null;var q=V&&/string|escape/.test(V.type),K=!U||/string|escape/.test(U.type),Q;if(F==L)Q=q!==K,Q&&/string\.end/.test(U.type)&&(Q=!1);else{if(q&&!K||q&&K)return null;var X=C.$mode.tokenRe;X.lastIndex=0;var te=X.test(z);X.lastIndex=0;var se=X.test(F),J=C.$mode.$pairQuotesAfter,le=J&&J[L]&&J[L].test(z);if(!le&&te||se||F&&!/[\s;,.})\]\\]/.test(F))return null;var ce=B[O.column-2];if(z==L&&(ce==L||X.test(ce)))return null;Q=!0}return{text:Q?L+L:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(x,R,k,C,S){var N=C.$mode.$quotes||u,L=C.doc.getTextRange(S);if(!S.isMultiLine()&&N.hasOwnProperty(L)){h(k);var A=C.doc.getLine(S.start.row),$=A.substring(S.start.column+1,S.start.column+2);if($==L)return S.end.column++,S}}),T.closeDocComment!==!1&&this.add("doc comment end","insertion",function(x,R,k,C,S){if(x==="doc-start"&&(S===`
`||S===`\r
`)&&k.selection.isEmpty()){var N=k.getCursorPosition();if(N.column===0)return;for(var L=C.doc.getLine(N.row),A=C.doc.getLine(N.row+1),$=C.getTokens(N.row),O=0,B=0;B<$.length;B++){O+=$[B].value.length;var z=$[B];if(O>=N.column){if(O===N.column){if(!/\.doc/.test(z.type))return;if(/\*\//.test(z.value)){var F=$[B+1];if(!F||!/\.doc/.test(F.type))return}}var V=N.column-(O-z.value.length),U=z.value.indexOf("*/"),q=z.value.indexOf("/**",U>-1?U+2:0);if(q!==-1&&V>q&&V<q+3||U!==-1&&q!==-1&&V>=U&&V<=q||!/\.doc/.test(z.type))return;break}}var K=this.$getIndent(L);if(/\s*\*/.test(A))return/^\s*\*/.test(L)?{text:S+K+"* ",selection:[1,2+K.length,1,2+K.length]}:{text:S+K+" * ",selection:[1,3+K.length,1,3+K.length]};if(/\/\*\*/.test(L.substring(0,N.column)))return{text:S+K+" * "+S+" "+K+"*/",selection:[1,4+K.length,1,4+K.length]}}})},v.isSaneInsertion=function(T,x){var R=T.getCursorPosition(),k=new b(x,R.row,R.column);if(!this.$matchTokenType(k.getCurrentToken()||"text",f)){if(/[)}\]]/.test(T.session.getLine(R.row)[R.column]))return!0;var C=new b(x,R.row,R.column+1);if(!this.$matchTokenType(C.getCurrentToken()||"text",f))return!1}return k.stepForward(),k.getCurrentTokenRow()!==R.row||this.$matchTokenType(k.getCurrentToken()||"text",c)},v.$matchTokenType=function(T,x){return x.indexOf(T.type||T)>-1},v.recordAutoInsert=function(T,x,R){var k=T.getCursorPosition(),C=x.doc.getLine(k.row);this.isAutoInsertedClosing(k,C,s.autoInsertedLineEnd[0])||(s.autoInsertedBrackets=0),s.autoInsertedRow=k.row,s.autoInsertedLineEnd=R+C.substr(k.column),s.autoInsertedBrackets++},v.recordMaybeInsert=function(T,x,R){var k=T.getCursorPosition(),C=x.doc.getLine(k.row);this.isMaybeInsertedClosing(k,C)||(s.maybeInsertedBrackets=0),s.maybeInsertedRow=k.row,s.maybeInsertedLineStart=C.substr(0,k.column)+R,s.maybeInsertedLineEnd=C.substr(k.column),s.maybeInsertedBrackets++},v.isAutoInsertedClosing=function(T,x,R){return s.autoInsertedBrackets>0&&T.row===s.autoInsertedRow&&R===s.autoInsertedLineEnd[0]&&x.substr(T.column)===s.autoInsertedLineEnd},v.isMaybeInsertedClosing=function(T,x){return s.maybeInsertedBrackets>0&&T.row===s.maybeInsertedRow&&x.substr(T.column)===s.maybeInsertedLineEnd&&x.substr(0,T.column)==s.maybeInsertedLineStart},v.popAutoInsertedClosing=function(){s.autoInsertedLineEnd=s.autoInsertedLineEnd.substr(1),s.autoInsertedBrackets--},v.clearMaybeInsertedClosing=function(){s&&(s.maybeInsertedBrackets=0,s.maybeInsertedRow=-1)},g.inherits(v,y),a.CstyleBehaviour=v}),ace.define("ace/unicode",["require","exports","module"],function(i,a,w){for(var g=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],y=0,b=[],d=0;d<g.length;d+=2)b.push(y+=g[d]),g[d+1]&&b.push(45,y+=g[d+1]);a.wordChars=String.fromCharCode.apply(null,b)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(i,a,w){var g=i("../config"),y=i("../tokenizer").Tokenizer,b=i("./text_highlight_rules").TextHighlightRules,d=i("./behaviour/cstyle").CstyleBehaviour,f=i("../unicode"),c=i("../lib/lang"),s=i("../token_iterator").TokenIterator,o=i("../range").Range,u;u=function(){this.HighlightRules=b},(function(){this.$defaultBehaviour=new d,this.tokenRe=new RegExp("^["+f.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+f.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new y(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(h,m,v,T){var x=m.doc,R=!0,k=!0,C=1/0,S=m.getTabSize(),N=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var $=this.lineCommentStart.map(c.escapeRegExp).join("|"),L=this.lineCommentStart[0];else var $=c.escapeRegExp(this.lineCommentStart),L=this.lineCommentStart;$=new RegExp("^(\\s*)(?:"+$+") ?"),N=m.getUseSoftTabs();var z=function(se,J){var le=se.match($);if(le){var ce=le[1].length,ue=le[0].length;!U(se,ce,ue)&&le[0][ue-1]==" "&&ue--,x.removeInLine(J,ce,ue)}},V=L+" ",B=function(se,J){(!R||/\S/.test(se))&&(U(se,C,C)?x.insertInLine({row:J,column:C},V):x.insertInLine({row:J,column:C},L))},F=function(se,J){return $.test(se)},U=function(se,J,le){for(var ce=0;J--&&se.charAt(J)==" ";)ce++;if(ce%S!=0)return!1;for(var ce=0;se.charAt(le++)==" ";)ce++;return S>2?ce%S!=S-1:ce%S==0}}else{if(!this.blockComment)return!1;var L=this.blockComment.start,A=this.blockComment.end,$=new RegExp("^(\\s*)(?:"+c.escapeRegExp(L)+")"),O=new RegExp("(?:"+c.escapeRegExp(A)+")\\s*$"),B=function(Q,X){F(Q,X)||(!R||/\S/.test(Q))&&(x.insertInLine({row:X,column:Q.length},A),x.insertInLine({row:X,column:C},L))},z=function(Q,X){var te;(te=Q.match(O))&&x.removeInLine(X,Q.length-te[0].length,Q.length),(te=Q.match($))&&x.removeInLine(X,te[1].length,te[0].length)},F=function(Q,X){if($.test(Q))return!0;for(var te=m.getTokens(X),se=0;se<te.length;se++)if(te[se].type==="comment")return!0}}function q(Q){for(var X=v;X<=T;X++)Q(x.getLine(X),X)}var K=1/0;q(function(Q,X){var te=Q.search(/\S/);te!==-1?(te<C&&(C=te),k&&!F(Q,X)&&(k=!1)):K>Q.length&&(K=Q.length)}),C==1/0&&(C=K,R=!1,k=!1),N&&C%S!=0&&(C=Math.floor(C/S)*S),q(k?z:B)},this.toggleBlockComment=function(h,m,v,T){var x=this.blockComment;if(x){!x.start&&x[0]&&(x=x[0]);var R=new s(m,T.row,T.column),k=R.getCurrentToken();m.selection;var C=m.selection.toOrientedRange(),S,N;if(k&&/comment/.test(k.type)){for(var L,A;k&&/comment/.test(k.type);){var $=k.value.indexOf(x.start);if($!=-1){var O=R.getCurrentTokenRow(),B=R.getCurrentTokenColumn()+$;L=new o(O,B,O,B+x.start.length);break}k=R.stepBackward()}for(var R=new s(m,T.row,T.column),k=R.getCurrentToken();k&&/comment/.test(k.type);){var $=k.value.indexOf(x.end);if($!=-1){var O=R.getCurrentTokenRow(),B=R.getCurrentTokenColumn()+$;A=new o(O,B,O,B+x.end.length);break}k=R.stepForward()}A&&m.remove(A),L&&(m.remove(L),S=L.start.row,N=-x.start.length)}else N=x.start.length,S=v.start.row,m.insert(v.end,x.end),m.insert(v.start,x.start);C.start.row==S&&(C.start.column+=N),C.end.row==S&&(C.end.column+=N),m.selection.fromOrientedRange(C)}},this.getNextLineIndent=function(h,m,v){return this.$getIndent(m)},this.checkOutdent=function(h,m,v){return!1},this.autoOutdent=function(h,m,v){},this.$getIndent=function(h){return h.match(/^\s*/)[0]},this.createWorker=function(h){return null},this.createModeDelegates=function(h){this.$embeds=[],this.$modes={};for(var m in h)if(h[m]){var v=h[m],T=v.prototype.$id,x=g.$modes[T];x||(g.$modes[T]=x=new v),g.$modes[m]||(g.$modes[m]=x),this.$embeds.push(m),this.$modes[m]=x}for(var R=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],k=function(S){(function(N){var L=R[S],A=N[L];N[R[S]]=function(){return this.$delegator(L,arguments,A)}})(C)},C=this,m=0;m<R.length;m++)k(m)},this.$delegator=function(h,m,v){var T=m[0]||"start";if(typeof T!="string"){if(Array.isArray(T[2])){var x=T[2][T[2].length-1],R=this.$modes[x];if(R)return R[h].apply(R,[T[1]].concat([].slice.call(m,1)))}T=T[0]||"start"}for(var k=0;k<this.$embeds.length;k++)if(this.$modes[this.$embeds[k]]){var C=T.split(this.$embeds[k]);if(!C[0]&&C[1]){m[0]=C[1];var R=this.$modes[this.$embeds[k]];return R[h].apply(R,m)}}var S=v.apply(this,m);return v?S:void 0},this.transformAction=function(h,m,v,T,x){if(this.$behaviour){var R=this.$behaviour.getBehaviours();for(var k in R)if(R[k][m]){var C=R[k][m].apply(this,arguments);if(C)return C}}},this.getKeywords=function(h){if(!this.completionKeywords){var m=this.$tokenizer.rules,v=[];for(var T in m)for(var x=m[T],R=0,k=x.length;R<k;R++)if(typeof x[R].token=="string")/keyword|support|storage/.test(x[R].token)&&v.push(x[R].regex);else if(typeof x[R].token=="object"){for(var C=0,S=x[R].token.length;C<S;C++)if(/keyword|support|storage/.test(x[R].token[C])){var T=x[R].regex.match(/\(.+?\)/g)[C];v.push(T.substr(1,T.length-2))}}this.completionKeywords=v}return h?v.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(h,m,v,T){var x=this.$keywordList||this.$createKeywordList();return x.map(function(R){return{name:R,value:R,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),a.Mode=u}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(i,a,w){var g=i("./lib/dom"),y=function(){function b(d){this.session=d,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return b.prototype.getRowLength=function(d){var f;return this.lineWidgets?f=this.lineWidgets[d]&&this.lineWidgets[d].rowCount||0:f=0,!this.$useWrapMode||!this.$wrapData[d]?1+f:this.$wrapData[d].length+1+f},b.prototype.$getWidgetScreenLength=function(){var d=0;return this.lineWidgets.forEach(function(f){f&&f.rowCount&&!f.hidden&&(d+=f.rowCount)}),d},b.prototype.$onChangeEditor=function(d){this.attach(d.editor)},b.prototype.attach=function(d){d&&d.widgetManager&&d.widgetManager!=this&&d.widgetManager.detach(),this.editor!=d&&(this.detach(),this.editor=d,d&&(d.widgetManager=this,d.renderer.on("beforeRender",this.measureWidgets),d.renderer.on("afterRender",this.renderWidgets)))},b.prototype.detach=function(d){var f=this.editor;if(f){this.editor=null,f.widgetManager=null,f.renderer.off("beforeRender",this.measureWidgets),f.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(s){s&&s.el&&s.el.parentNode&&(s._inDocument=!1,s.el.parentNode.removeChild(s.el))})}},b.prototype.updateOnFold=function(d,f){var c=f.lineWidgets;if(!(!c||!d.action)){for(var s=d.data,o=s.start.row,u=s.end.row,h=d.action=="add",m=o+1;m<u;m++)c[m]&&(c[m].hidden=h);c[u]&&(h?c[o]?c[u].hidden=h:c[o]=c[u]:(c[o]==c[u]&&(c[o]=void 0),c[u].hidden=h))}},b.prototype.updateOnChange=function(d){var f=this.session.lineWidgets;if(f){var c=d.start.row,s=d.end.row-c;if(s!==0)if(d.action=="remove"){var o=f.splice(c+1,s);!f[c]&&o[o.length-1]&&(f[c]=o.pop()),o.forEach(function(h){h&&this.removeLineWidget(h)},this),this.$updateRows()}else{var u=new Array(s);f[c]&&f[c].column!=null&&d.start.column>f[c].column&&c++,u.unshift(c,0),f.splice.apply(f,u),this.$updateRows()}}},b.prototype.$updateRows=function(){var d=this.session.lineWidgets;if(d){var f=!0;d.forEach(function(c,s){if(c)for(f=!1,c.row=s;c.$oldWidget;)c.$oldWidget.row=s,c=c.$oldWidget}),f&&(this.session.lineWidgets=null)}},b.prototype.$registerLineWidget=function(d){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var f=this.session.lineWidgets[d.row];return f&&(d.$oldWidget=f,f.el&&f.el.parentNode&&(f.el.parentNode.removeChild(f.el),f._inDocument=!1)),this.session.lineWidgets[d.row]=d,d},b.prototype.addLineWidget=function(d){if(this.$registerLineWidget(d),d.session=this.session,!this.editor)return d;var f=this.editor.renderer;d.html&&!d.el&&(d.el=g.createElement("div"),d.el.innerHTML=d.html),d.text&&!d.el&&(d.el=g.createElement("div"),d.el.textContent=d.text),d.el&&(g.addCssClass(d.el,"ace_lineWidgetContainer"),d.className&&g.addCssClass(d.el,d.className),d.el.style.position="absolute",d.el.style.zIndex="5",f.container.appendChild(d.el),d._inDocument=!0,d.coverGutter||(d.el.style.zIndex="3"),d.pixelHeight==null&&(d.pixelHeight=d.el.offsetHeight)),d.rowCount==null&&(d.rowCount=d.pixelHeight/f.layerConfig.lineHeight);var c=this.session.getFoldAt(d.row,0);if(d.$fold=c,c){var s=this.session.lineWidgets;d.row==c.end.row&&!s[c.start.row]?s[c.start.row]=d:d.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows(),this.renderWidgets(null,f),this.onWidgetChanged(d),d},b.prototype.removeLineWidget=function(d){if(d._inDocument=!1,d.session=null,d.el&&d.el.parentNode&&d.el.parentNode.removeChild(d.el),d.editor&&d.editor.destroy)try{d.editor.destroy()}catch{}if(this.session.lineWidgets){var f=this.session.lineWidgets[d.row];if(f==d)this.session.lineWidgets[d.row]=d.$oldWidget,d.$oldWidget&&this.onWidgetChanged(d.$oldWidget);else for(;f;){if(f.$oldWidget==d){f.$oldWidget=d.$oldWidget;break}f=f.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows()},b.prototype.getWidgetsAtRow=function(d){for(var f=this.session.lineWidgets,c=f&&f[d],s=[];c;)s.push(c),c=c.$oldWidget;return s},b.prototype.onWidgetChanged=function(d){this.session._changedWidgets.push(d),this.editor&&this.editor.renderer.updateFull()},b.prototype.measureWidgets=function(d,f){var c=this.session._changedWidgets,s=f.layerConfig;if(!(!c||!c.length)){for(var o=1/0,u=0;u<c.length;u++){var h=c[u];if(!(!h||!h.el)&&h.session==this.session){if(!h._inDocument){if(this.session.lineWidgets[h.row]!=h)continue;h._inDocument=!0,f.container.appendChild(h.el)}h.h=h.el.offsetHeight,h.fixedWidth||(h.w=h.el.offsetWidth,h.screenWidth=Math.ceil(h.w/s.characterWidth));var m=h.h/s.lineHeight;h.coverLine&&(m-=this.session.getRowLineCount(h.row),m<0&&(m=0)),h.rowCount!=m&&(h.rowCount=m,h.row<o&&(o=h.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},b.prototype.renderWidgets=function(d,f){var c=f.layerConfig,s=this.session.lineWidgets;if(s){for(var o=Math.min(this.firstRow,c.firstRow),u=Math.max(this.lastRow,c.lastRow,s.length);o>0&&!s[o];)o--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,f.$cursorLayer.config=c;for(var h=o;h<=u;h++){var m=s[h];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,f.container.appendChild(m.el));var v=f.$cursorLayer.getPixelPosition({row:h,column:0},!0).top;m.coverLine||(v+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=v-c.offset+"px";var T=m.coverGutter?0:f.gutterWidth;m.fixedWidth||(T-=f.scrollLeft),m.el.style.left=T+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=f.scrollBar.getWidth()+"px":m.el.style.right=""}}}},b}();a.LineWidgets=y}),ace.define("ace/apply_delta",["require","exports","module"],function(i,a,w){a.applyDelta=function(g,y,b){var d=y.start.row,f=y.start.column,c=g[d]||"";switch(y.action){case"insert":var s=y.lines;if(s.length===1)g[d]=c.substring(0,f)+y.lines[0]+c.substring(f);else{var o=[d,1].concat(y.lines);g.splice.apply(g,o),g[d]=c.substring(0,f)+g[d],g[d+y.lines.length-1]+=c.substring(f)}break;case"remove":var u=y.end.column,h=y.end.row;d===h?g[d]=c.substring(0,f)+c.substring(u):g.splice(d,h-d+1,c.substring(0,f)+g[h].substring(u));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,a,w){var g=i("./lib/oop"),y=i("./lib/event_emitter").EventEmitter,b=function(){function c(s,o,u){this.$onChange=this.onChange.bind(this),this.attach(s),typeof o!="number"?this.setPosition(o.row,o.column):this.setPosition(o,u)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(s){if(!(s.start.row==s.end.row&&s.start.row!=this.row)&&!(s.start.row>this.row)){var o=f(s,{row:this.row,column:this.column},this.$insertRight);this.setPosition(o.row,o.column,!0)}},c.prototype.setPosition=function(s,o,u){var h;if(u?h={row:s,column:o}:h=this.$clipPositionToDocument(s,o),!(this.row==h.row&&this.column==h.column)){var m={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:m,value:h})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(s){this.document=s||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(s,o){var u={};return s>=this.document.getLength()?(u.row=Math.max(0,this.document.getLength()-1),u.column=this.document.getLine(u.row).length):s<0?(u.row=0,u.column=0):(u.row=s,u.column=Math.min(this.document.getLine(u.row).length,Math.max(0,o))),o<0&&(u.column=0),u},c}();b.prototype.$insertRight=!1,g.implement(b.prototype,y);function d(c,s,o){var u=o?c.column<=s.column:c.column<s.column;return c.row<s.row||c.row==s.row&&u}function f(c,s,o){var u=c.action=="insert",h=(u?1:-1)*(c.end.row-c.start.row),m=(u?1:-1)*(c.end.column-c.start.column),v=c.start,T=u?v:c.end;return d(s,v,o)?{row:s.row,column:s.column}:d(T,s,!o)?{row:s.row+h,column:s.column+(s.row==T.row?m:0)}:{row:v.row,column:v.column}}a.Anchor=b}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(i,a,w){var g=i("./lib/oop"),y=i("./apply_delta").applyDelta,b=i("./lib/event_emitter").EventEmitter,d=i("./range").Range,f=i("./anchor").Anchor,c=function(){function s(o){this.$lines=[""],o.length===0?this.$lines=[""]:Array.isArray(o)?this.insertMergedLines({row:0,column:0},o):this.insert({row:0,column:0},o)}return s.prototype.setValue=function(o){var u=this.getLength()-1;this.remove(new d(0,0,u,this.getLine(u).length)),this.insert({row:0,column:0},o||"")},s.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},s.prototype.createAnchor=function(o,u){return new f(this,o,u)},s.prototype.$detectNewLine=function(o){var u=o.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=u?u[1]:`
`,this._signal("changeNewLineMode")},s.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},s.prototype.setNewLineMode=function(o){this.$newLineMode!==o&&(this.$newLineMode=o,this._signal("changeNewLineMode"))},s.prototype.getNewLineMode=function(){return this.$newLineMode},s.prototype.isNewLine=function(o){return o==`\r
`||o=="\r"||o==`
`},s.prototype.getLine=function(o){return this.$lines[o]||""},s.prototype.getLines=function(o,u){return this.$lines.slice(o,u+1)},s.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},s.prototype.getLength=function(){return this.$lines.length},s.prototype.getTextRange=function(o){return this.getLinesForRange(o).join(this.getNewLineCharacter())},s.prototype.getLinesForRange=function(o){var u;if(o.start.row===o.end.row)u=[this.getLine(o.start.row).substring(o.start.column,o.end.column)];else{u=this.getLines(o.start.row,o.end.row),u[0]=(u[0]||"").substring(o.start.column);var h=u.length-1;o.end.row-o.start.row==h&&(u[h]=u[h].substring(0,o.end.column))}return u},s.prototype.insertLines=function(o,u){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(o,u)},s.prototype.removeLines=function(o,u){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(o,u)},s.prototype.insertNewLine=function(o){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(o,["",""])},s.prototype.insert=function(o,u){return this.getLength()<=1&&this.$detectNewLine(u),this.insertMergedLines(o,this.$split(u))},s.prototype.insertInLine=function(o,u){var h=this.clippedPos(o.row,o.column),m=this.pos(o.row,o.column+u.length);return this.applyDelta({start:h,end:m,action:"insert",lines:[u]},!0),this.clonePos(m)},s.prototype.clippedPos=function(o,u){var h=this.getLength();o===void 0?o=h:o<0?o=0:o>=h&&(o=h-1,u=void 0);var m=this.getLine(o);return u==null&&(u=m.length),u=Math.min(Math.max(u,0),m.length),{row:o,column:u}},s.prototype.clonePos=function(o){return{row:o.row,column:o.column}},s.prototype.pos=function(o,u){return{row:o,column:u}},s.prototype.$clipPosition=function(o){var u=this.getLength();return o.row>=u?(o.row=Math.max(0,u-1),o.column=this.getLine(u-1).length):(o.row=Math.max(0,o.row),o.column=Math.min(Math.max(o.column,0),this.getLine(o.row).length)),o},s.prototype.insertFullLines=function(o,u){o=Math.min(Math.max(o,0),this.getLength());var h=0;o<this.getLength()?(u=u.concat([""]),h=0):(u=[""].concat(u),o--,h=this.$lines[o].length),this.insertMergedLines({row:o,column:h},u)},s.prototype.insertMergedLines=function(o,u){var h=this.clippedPos(o.row,o.column),m={row:h.row+u.length-1,column:(u.length==1?h.column:0)+u[u.length-1].length};return this.applyDelta({start:h,end:m,action:"insert",lines:u}),this.clonePos(m)},s.prototype.remove=function(o){var u=this.clippedPos(o.start.row,o.start.column),h=this.clippedPos(o.end.row,o.end.column);return this.applyDelta({start:u,end:h,action:"remove",lines:this.getLinesForRange({start:u,end:h})}),this.clonePos(u)},s.prototype.removeInLine=function(o,u,h){var m=this.clippedPos(o,u),v=this.clippedPos(o,h);return this.applyDelta({start:m,end:v,action:"remove",lines:this.getLinesForRange({start:m,end:v})},!0),this.clonePos(m)},s.prototype.removeFullLines=function(o,u){o=Math.min(Math.max(0,o),this.getLength()-1),u=Math.min(Math.max(0,u),this.getLength()-1);var h=u==this.getLength()-1&&o>0,m=u<this.getLength()-1,v=h?o-1:o,T=h?this.getLine(v).length:0,x=m?u+1:u,R=m?0:this.getLine(x).length,k=new d(v,T,x,R),C=this.$lines.slice(o,u+1);return this.applyDelta({start:k.start,end:k.end,action:"remove",lines:this.getLinesForRange(k)}),C},s.prototype.removeNewLine=function(o){o<this.getLength()-1&&o>=0&&this.applyDelta({start:this.pos(o,this.getLine(o).length),end:this.pos(o+1,0),action:"remove",lines:["",""]})},s.prototype.replace=function(o,u){if(o instanceof d||(o=d.fromPoints(o.start,o.end)),u.length===0&&o.isEmpty())return o.start;if(u==this.getTextRange(o))return o.end;this.remove(o);var h;return u?h=this.insert(o.start,u):h=o.start,h},s.prototype.applyDeltas=function(o){for(var u=0;u<o.length;u++)this.applyDelta(o[u])},s.prototype.revertDeltas=function(o){for(var u=o.length-1;u>=0;u--)this.revertDelta(o[u])},s.prototype.applyDelta=function(o,u){var h=o.action=="insert";(h?o.lines.length<=1&&!o.lines[0]:!d.comparePoints(o.start,o.end))||(h&&o.lines.length>2e4?this.$splitAndapplyLargeDelta(o,2e4):(y(this.$lines,o,u),this._signal("change",o)))},s.prototype.$safeApplyDelta=function(o){var u=this.$lines.length;(o.action=="remove"&&o.start.row<u&&o.end.row<u||o.action=="insert"&&o.start.row<=u)&&this.applyDelta(o)},s.prototype.$splitAndapplyLargeDelta=function(o,u){for(var h=o.lines,m=h.length-u+1,v=o.start.row,T=o.start.column,x=0,R=0;x<m;x=R){R+=u-1;var k=h.slice(x,R);k.push(""),this.applyDelta({start:this.pos(v+x,T),end:this.pos(v+R,T=0),action:o.action,lines:k},!0)}o.lines=h.slice(x),o.start.row=v+x,o.start.column=T,this.applyDelta(o,!0)},s.prototype.revertDelta=function(o){this.$safeApplyDelta({start:this.clonePos(o.start),end:this.clonePos(o.end),action:o.action=="insert"?"remove":"insert",lines:o.lines.slice()})},s.prototype.indexToPosition=function(o,u){for(var h=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,v=u||0,T=h.length;v<T;v++)if(o-=h[v].length+m,o<0)return{row:v,column:o+h[v].length+m};return{row:T-1,column:o+h[T-1].length+m}},s.prototype.positionToIndex=function(o,u){for(var h=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,v=0,T=Math.min(o.row,h.length),x=u||0;x<T;++x)v+=h[x].length+m;return v+o.column},s.prototype.$split=function(o){return o.split(/\r\n|\r|\n/)},s}();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",g.implement(c.prototype,b),a.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,a,w){var g=i("./lib/oop"),y=i("./lib/event_emitter").EventEmitter,b=function(){function d(f,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=f;var s=this;this.$worker=function(){if(s.running){for(var o=new Date,u=s.currentLine,h=-1,m=s.doc,v=u;s.lines[u];)u++;var T=m.getLength(),x=0;for(s.running=!1;u<T;){s.$tokenizeRow(u),h=u;do u++;while(s.lines[u]);if(x++,x%5===0&&new Date-o>20){s.running=setTimeout(s.$worker,20);break}}s.currentLine=u,h==-1&&(h=u),v<=h&&s.fireUpdateEvent(v,h)}}}return d.prototype.setTokenizer=function(f){this.tokenizer=f,this.lines=[],this.states=[],this.start(0)},d.prototype.setDocument=function(f){this.doc=f,this.lines=[],this.states=[],this.stop()},d.prototype.fireUpdateEvent=function(f,c){var s={first:f,last:c};this._signal("update",{data:s})},d.prototype.start=function(f){this.currentLine=Math.min(f||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},d.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},d.prototype.$updateOnChange=function(f){var c=f.start.row,s=f.end.row-c;if(s===0)this.lines[c]=null;else if(f.action=="remove")this.lines.splice(c,s+1,null),this.states.splice(c,s+1,null);else{var o=Array(s+1);o.unshift(c,1),this.lines.splice.apply(this.lines,o),this.states.splice.apply(this.states,o)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},d.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},d.prototype.getTokens=function(f){return this.lines[f]||this.$tokenizeRow(f)},d.prototype.getState=function(f){return this.currentLine==f&&this.$tokenizeRow(f),this.states[f]||"start"},d.prototype.$tokenizeRow=function(f){var c=this.doc.getLine(f),s=this.states[f-1],o=this.tokenizer.getLineTokens(c,s,f);return this.states[f]+""!=o.state+""?(this.states[f]=o.state,this.lines[f+1]=null,this.currentLine>f+1&&(this.currentLine=f+1)):this.currentLine==f&&(this.currentLine=f+1),this.lines[f]=o.tokens},d.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},d}();g.implement(b.prototype,y),a.BackgroundTokenizer=b}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(i,a,w){var g=i("./lib/lang"),y=i("./range").Range,b=function(){function d(f,c,s){s===void 0&&(s="text"),this.setRegexp(f),this.clazz=c,this.type=s,this.docLen=0}return d.prototype.setRegexp=function(f){this.regExp+""!=f+""&&(this.regExp=f,this.cache=[])},d.prototype.update=function(f,c,s,o){if(this.regExp){for(var u=o.firstRow,h=o.lastRow,m={},v=s.$editor.$search,T=v.$isMultilineSearch(s.$editor.getLastSearchOptions()),x=u;x<=h;x++){var R=this.cache[x];if(R==null||s.getValue().length!=this.docLen){if(T){R=[];var k=v.$multiLineForward(s,this.regExp,x,h);if(k){var C=k.endRow<=h?k.endRow-1:h;C>x&&(x=C),R.push(new y(k.startRow,k.startCol,k.endRow,k.endCol))}R.length>this.MAX_RANGES&&(R=R.slice(0,this.MAX_RANGES))}else R=g.getMatchOffsets(s.getLine(x),this.regExp),R.length>this.MAX_RANGES&&(R=R.slice(0,this.MAX_RANGES)),R=R.map(function(A){return new y(x,A.offset,x,A.offset+A.length)});this.cache[x]=R.length?R:""}if(R.length!==0)for(var S=R.length;S--;){var N=R[S].toScreenRange(s),L=N.toString();m[L]||(m[L]=!0,c.drawSingleLineMarker(f,N,this.clazz,o))}}this.docLen=s.getValue().length}},d}();b.prototype.MAX_RANGES=500,a.SearchHighlight=b}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(i,a,w){var g=function(){function C(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return C.prototype.addSession=function(S){this.$session=S},C.prototype.add=function(S,N,L){if(!this.$fromUndo&&S!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),N===!1||!this.lastDeltas){this.lastDeltas=[];var A=this.$undoStack.length;A>this.$undoDepth-1&&this.$undoStack.splice(0,A-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),S.id=this.$rev=++this.$maxRev}(S.action=="remove"||S.action=="insert")&&(this.$lastDelta=S),this.lastDeltas.push(S)}},C.prototype.addSelection=function(S,N){this.selections.push({value:S,rev:N||this.$rev})},C.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},C.prototype.markIgnored=function(S,N){N==null&&(N=this.$rev+1);for(var L=this.$undoStack,A=L.length;A--;){var $=L[A][0];if($.id<=S)break;$.id<N&&($.ignore=!0)}this.lastDeltas=null},C.prototype.getSelection=function(S,N){for(var L=this.selections,A=L.length;A--;){var $=L[A];if($.rev<S)return N&&($=L[A+1]),$}},C.prototype.getRevision=function(){return this.$rev},C.prototype.getDeltas=function(S,N){N==null&&(N=this.$rev+1);for(var L=this.$undoStack,A=null,$=0,O=L.length;O--;){var B=L[O][0];if(B.id<N&&!A&&(A=O+1),B.id<=S){$=O+1;break}}return L.slice($,A)},C.prototype.getChangedRanges=function(S,N){N==null&&(N=this.$rev+1)},C.prototype.getChangedLines=function(S,N){N==null&&(N=this.$rev+1)},C.prototype.undo=function(S,N){this.lastDeltas=null;var L=this.$undoStack;if(y(L,L.length)){S||(S=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var A=L.pop(),$=null;return A&&($=S.undoChanges(A,N),this.$redoStack.push(A),this.$syncRev()),this.$fromUndo=!1,$}},C.prototype.redo=function(S,N){if(this.lastDeltas=null,S||(S=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var L=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);k(this.$redoStack,L),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(O){O[0].id=++this.$maxRev},this)}var A=this.$redoStack.pop(),$=null;return A&&($=S.redoChanges(A,N),this.$undoStack.push(A),this.$syncRev()),this.$fromUndo=!1,$},C.prototype.$syncRev=function(){var S=this.$undoStack,N=S[S.length-1],L=N&&N[0].id||0;this.$redoStackBaseRev=L,this.$rev=L},C.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},C.prototype.canUndo=function(){return this.$undoStack.length>0},C.prototype.canRedo=function(){return this.$redoStack.length>0},C.prototype.bookmark=function(S){S==null&&(S=this.$rev),this.mark=S},C.prototype.isAtBookmark=function(){return this.$rev===this.mark},C.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},C.prototype.fromJSON=function(S){this.reset(),this.$undoStack=S.$undoStack,this.$redoStack=S.$redoStack},C.prototype.$prettyPrint=function(S){return S?s(S):s(this.$undoStack)+`
---
`+s(this.$redoStack)},C}();g.prototype.hasUndo=g.prototype.canUndo,g.prototype.hasRedo=g.prototype.canRedo,g.prototype.isClean=g.prototype.isAtBookmark,g.prototype.markClean=g.prototype.bookmark;function y(C,S){for(var N=S;N--;){var L=C[N];if(L&&!L[0].ignore){for(;N<S-1;){var A=h(C[N],C[N+1]);C[N]=A[0],C[N+1]=A[1],N++}return!0}}}var b=i("./range").Range,d=b.comparePoints;b.comparePoints;function f(C){return{row:C.row,column:C.column}}function c(C){return{start:f(C.start),end:f(C.end),action:C.action,lines:C.lines.slice()}}function s(C){if(C=C||this,Array.isArray(C))return C.map(s).join(`
`);var S="";return C.action?(S=C.action=="insert"?"+":"-",S+="["+C.lines+"]"):C.value&&(Array.isArray(C.value)?S=C.value.map(o).join(`
`):S=o(C.value)),C.start&&(S+=o(C)),(C.id||C.rev)&&(S+="	("+(C.id||C.rev)+")"),S}function o(C){return C.start.row+":"+C.start.column+"=>"+C.end.row+":"+C.end.column}function u(C,S){var N=C.action=="insert",L=S.action=="insert";if(N&&L)if(d(S.start,C.end)>=0)v(S,C,-1);else if(d(S.start,C.start)<=0)v(C,S,1);else return null;else if(N&&!L)if(d(S.start,C.end)>=0)v(S,C,-1);else if(d(S.end,C.start)<=0)v(C,S,-1);else return null;else if(!N&&L)if(d(S.start,C.start)>=0)v(S,C,1);else if(d(S.start,C.start)<=0)v(C,S,1);else return null;else if(!N&&!L)if(d(S.start,C.start)>=0)v(S,C,1);else if(d(S.end,C.start)<=0)v(C,S,-1);else return null;return[S,C]}function h(C,S){for(var N=C.length;N--;)for(var L=0;L<S.length;L++)if(!u(C[N],S[L])){for(;N<C.length;){for(;L--;)u(S[L],C[N]);L=S.length,N++}return[C,S]}return C.selectionBefore=S.selectionBefore=C.selectionAfter=S.selectionAfter=null,[S,C]}function m(C,S){var N=C.action=="insert",L=S.action=="insert";if(N&&L)d(C.start,S.start)<0?v(S,C,1):v(C,S,1);else if(N&&!L)d(C.start,S.end)>=0?v(C,S,-1):(d(C.start,S.start)<=0||v(C,b.fromPoints(S.start,C.start),-1),v(S,C,1));else if(!N&&L)d(S.start,C.end)>=0?v(S,C,-1):(d(S.start,C.start)<=0||v(S,b.fromPoints(C.start,S.start),-1),v(C,S,1));else if(!N&&!L)if(d(S.start,C.end)>=0)v(S,C,-1);else if(d(S.end,C.start)<=0)v(C,S,-1);else{var A,$;return d(C.start,S.start)<0&&(A=C,C=x(C,S.start)),d(C.end,S.end)>0&&($=x(C,S.end)),T(S.end,C.start,C.end,-1),$&&!A&&(C.lines=$.lines,C.start=$.start,C.end=$.end,$=C),[S,A,$].filter(Boolean)}return[S,C]}function v(C,S,N){T(C.start,S.start,S.end,N),T(C.end,S.start,S.end,N)}function T(C,S,N,L){C.row==(L==1?S:N).row&&(C.column+=L*(N.column-S.column)),C.row+=L*(N.row-S.row)}function x(C,S){var N=C.lines,L=C.end;C.end=f(S);var A=C.end.row-C.start.row,$=N.splice(A,N.length),O=A?S.column:S.column-C.start.column;N.push($[0].substring(0,O)),$[0]=$[0].substr(O);var B={start:f(S),end:L,lines:$,action:C.action};return B}function R(C,S){S=c(S);for(var N=C.length;N--;){for(var L=C[N],A=0;A<L.length;A++){var $=L[A],O=m($,S);S=O[0],O.length!=2&&(O[2]?(L.splice(A+1,1,O[1],O[2]),A++):O[1]||(L.splice(A,1),A--))}L.length||C.splice(N,1)}return C}function k(C,S){for(var N=0;N<S.length;N++)for(var L=S[N],A=0;A<L.length;A++)R(C,L[A])}a.UndoManager=g}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(i,a,w){var g=i("../range").Range,y=function(){function b(d,f){this.foldData=d,Array.isArray(f)?this.folds=f:f=this.folds=[f];var c=f[f.length-1];this.range=new g(f[0].start.row,f[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(s){s.setFoldLine(this)},this)}return b.prototype.shiftRow=function(d){this.start.row+=d,this.end.row+=d,this.folds.forEach(function(f){f.start.row+=d,f.end.row+=d})},b.prototype.addFold=function(d){if(d.sameRow){if(d.start.row<this.startRow||d.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(d),this.folds.sort(function(f,c){return-f.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(d.start.row,d.start.column)>0?(this.end.row=d.end.row,this.end.column=d.end.column):this.range.compareStart(d.end.row,d.end.column)<0&&(this.start.row=d.start.row,this.start.column=d.start.column)}else if(d.start.row==this.end.row)this.folds.push(d),this.end.row=d.end.row,this.end.column=d.end.column;else if(d.end.row==this.start.row)this.folds.unshift(d),this.start.row=d.start.row,this.start.column=d.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");d.foldLine=this},b.prototype.containsRow=function(d){return d>=this.start.row&&d<=this.end.row},b.prototype.walk=function(d,f,c){var s=0,o=this.folds,u,h,m,v=!0;f==null&&(f=this.end.row,c=this.end.column);for(var T=0;T<o.length;T++){if(u=o[T],h=u.range.compareStart(f,c),h==-1){d(null,f,c,s,v);return}if(m=d(null,u.start.row,u.start.column,s,v),m=!m&&d(u.placeholder,u.start.row,u.start.column,s),m||h===0)return;v=!u.sameRow,s=u.end.column}d(null,f,c,s,v)},b.prototype.getNextFoldTo=function(d,f){for(var c,s,o=0;o<this.folds.length;o++){if(c=this.folds[o],s=c.range.compareEnd(d,f),s==-1)return{fold:c,kind:"after"};if(s===0)return{fold:c,kind:"inside"}}return null},b.prototype.addRemoveChars=function(d,f,c){var s=this.getNextFoldTo(d,f),o,u;if(s){if(o=s.fold,s.kind=="inside"&&o.start.column!=f&&o.start.row!=d)window.console&&window.console.log(d,f,o);else if(o.start.row==d){u=this.folds;var h=u.indexOf(o);for(h===0&&(this.start.column+=c),h;h<u.length;h++){if(o=u[h],o.start.column+=c,!o.sameRow)return;o.end.column+=c}this.end.column+=c}}},b.prototype.split=function(d,f){var c=this.getNextFoldTo(d,f);if(!c||c.kind=="inside")return null;var s=c.fold,o=this.folds,u=this.foldData,h=o.indexOf(s),m=o[h-1];this.end.row=m.end.row,this.end.column=m.end.column,o=o.splice(h,o.length-h);var v=new b(u,o);return u.splice(u.indexOf(this)+1,0,v),v},b.prototype.merge=function(d){for(var f=d.folds,c=0;c<f.length;c++)this.addFold(f[c]);var s=this.foldData;s.splice(s.indexOf(d),1)},b.prototype.toString=function(){var d=[this.range.toString()+": ["];return this.folds.forEach(function(f){d.push("  "+f.toString())}),d.push("]"),d.join(`
`)},b.prototype.idxToPosition=function(d){for(var f=0,c=0;c<this.folds.length;c++){var s=this.folds[c];if(d-=s.start.column-f,d<0)return{row:s.start.row,column:s.start.column+d};if(d-=s.placeholder.length,d<0)return s.start;f=s.end.column}return{row:this.end.row,column:this.end.column+d}},b}();a.FoldLine=y}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(i,a,w){var g=i("./range").Range,y=g.comparePoints,b=function(){function d(){this.ranges=[],this.$bias=1}return d.prototype.pointIndex=function(f,c,s){for(var o=this.ranges,u=s||0;u<o.length;u++){var h=o[u],m=y(f,h.end);if(!(m>0)){var v=y(f,h.start);return m===0?c&&v!==0?-u-2:u:v>0||v===0&&!c?u:-u-1}}return-u-1},d.prototype.add=function(f){var c=!f.isEmpty(),s=this.pointIndex(f.start,c);s<0&&(s=-s-1);var o=this.pointIndex(f.end,c,s);return o<0?o=-o-1:o++,this.ranges.splice(s,o-s,f)},d.prototype.addList=function(f){for(var c=[],s=f.length;s--;)c.push.apply(c,this.add(f[s]));return c},d.prototype.substractPoint=function(f){var c=this.pointIndex(f);if(c>=0)return this.ranges.splice(c,1)},d.prototype.merge=function(){var f=[],c=this.ranges;c=c.sort(function(m,v){return y(m.start,v.start)});for(var s=c[0],o,u=1;u<c.length;u++){o=s,s=c[u];var h=y(o.end,s.start);h<0||h==0&&!o.isEmpty()&&!s.isEmpty()||(y(o.end,s.end)<0&&(o.end.row=s.end.row,o.end.column=s.end.column),c.splice(u,1),f.push(s),s=o,u--)}return this.ranges=c,f},d.prototype.contains=function(f,c){return this.pointIndex({row:f,column:c})>=0},d.prototype.containsPoint=function(f){return this.pointIndex(f)>=0},d.prototype.rangeAtPoint=function(f){var c=this.pointIndex(f);if(c>=0)return this.ranges[c]},d.prototype.clipRows=function(f,c){var s=this.ranges;if(s[0].start.row>c||s[s.length-1].start.row<f)return[];var o=this.pointIndex({row:f,column:0});o<0&&(o=-o-1);var u=this.pointIndex({row:c,column:0},o);u<0&&(u=-u-1);for(var h=[],m=o;m<u;m++)h.push(s[m]);return h},d.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},d.prototype.attach=function(f){this.session&&this.detach(),this.session=f,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},d.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},d.prototype.$onChange=function(f){for(var c=f.start,s=f.end,o=c.row,u=s.row,h=this.ranges,m=0,v=h.length;m<v;m++){var T=h[m];if(T.end.row>=o)break}if(f.action=="insert")for(var x=u-o,R=-c.column+s.column;m<v;m++){var T=h[m];if(T.start.row>o)break;if(T.start.row==o&&T.start.column>=c.column&&(T.start.column==c.column&&this.$bias<=0||(T.start.column+=R,T.start.row+=x)),T.end.row==o&&T.end.column>=c.column){if(T.end.column==c.column&&this.$bias<0)continue;T.end.column==c.column&&R>0&&m<v-1&&T.end.column>T.start.column&&T.end.column==h[m+1].start.column&&(T.end.column-=R),T.end.column+=R,T.end.row+=x}}else for(var x=o-u,R=c.column-s.column;m<v;m++){var T=h[m];if(T.start.row>u)break;T.end.row<u&&(o<T.end.row||o==T.end.row&&c.column<T.end.column)?(T.end.row=o,T.end.column=c.column):T.end.row==u?T.end.column<=s.column?(x||T.end.column>c.column)&&(T.end.column=c.column,T.end.row=c.row):(T.end.column+=R,T.end.row+=x):T.end.row>u&&(T.end.row+=x),T.start.row<u&&(o<T.start.row||o==T.start.row&&c.column<T.start.column)?(T.start.row=o,T.start.column=c.column):T.start.row==u?T.start.column<=s.column?(x||T.start.column>c.column)&&(T.start.column=c.column,T.start.row=c.row):(T.start.column+=R,T.start.row+=x):T.start.row>u&&(T.start.row+=x)}if(x!=0&&m<v)for(;m<v;m++){var T=h[m];T.start.row+=x,T.end.row+=x}},d}();b.prototype.comparePoints=y,a.RangeList=b}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(i,a,w){var g=this&&this.__extends||function(){var o=function(u,h){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])},o(u,h)};return function(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");o(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),y=i("../range_list").RangeList,b=function(o){g(u,o);function u(h,m){var v=o.call(this)||this;return v.foldLine=null,v.placeholder=m,v.range=h,v.start=h.start,v.end=h.end,v.sameRow=h.start.row==h.end.row,v.subFolds=v.ranges=[],v}return u.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},u.prototype.setFoldLine=function(h){this.foldLine=h,this.subFolds.forEach(function(m){m.setFoldLine(h)})},u.prototype.clone=function(){var h=this.range.clone(),m=new u(h,this.placeholder);return this.subFolds.forEach(function(v){m.subFolds.push(v.clone())}),m.collapseChildren=this.collapseChildren,m},u.prototype.addSubFold=function(h){if(!this.range.isEqual(h)){f(h,this.start);for(var R=h.start.row,k=h.start.column,m=0,v=-1;m<this.subFolds.length&&(v=this.subFolds[m].range.compare(R,k),v==1);m++);var T=this.subFolds[m],x=0;if(v==0){if(T.range.containsRange(h))return T.addSubFold(h);x=1}for(var R=h.range.end.row,k=h.range.end.column,C=m,v=-1;C<this.subFolds.length&&(v=this.subFolds[C].range.compare(R,k),v==1);C++);v==0&&C++;for(var S=this.subFolds.splice(m,C-m,h),N=v==0?S.length-1:S.length,L=x;L<N;L++)h.addSubFold(S[L]);return h.setFoldLine(this.foldLine),h}},u.prototype.restoreRange=function(h){return s(h,this.start)},u}(y);function d(o,u){o.row-=u.row,o.row==0&&(o.column-=u.column)}function f(o,u){d(o.start,u),d(o.end,u)}function c(o,u){o.row==0&&(o.column+=u.column),o.row+=u.row}function s(o,u){c(o.start,u),c(o.end,u)}a.Fold=b}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(i,a,w){var g=i("../range").Range,y=i("./fold_line").FoldLine,b=i("./fold").Fold,d=i("../token_iterator").TokenIterator,f=i("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(s,o,u){var h=this.getFoldLine(s);if(!h)return null;for(var m=h.folds,v=0;v<m.length;v++){var T=m[v].range;if(T.contains(s,o)){if(u==1&&T.isEnd(s,o)&&!T.isEmpty())continue;if(u==-1&&T.isStart(s,o)&&!T.isEmpty())continue;return m[v]}}},this.getFoldsInRange=function(s){var o=s.start,u=s.end,h=this.$foldData,m=[];o.column+=1,u.column-=1;for(var v=0;v<h.length;v++){var T=h[v].range.compareRange(s);if(T!=2){if(T==-2)break;for(var x=h[v].folds,R=0;R<x.length;R++){var k=x[R];if(T=k.range.compareRange(s),T==-2)break;if(T==2)continue;if(T==42)break;m.push(k)}}}return o.column-=1,u.column+=1,m},this.getFoldsInRangeList=function(s){if(Array.isArray(s)){var o=[];s.forEach(function(u){o=o.concat(this.getFoldsInRange(u))},this)}else var o=this.getFoldsInRange(s);return o},this.getAllFolds=function(){for(var s=[],o=this.$foldData,u=0;u<o.length;u++)for(var h=0;h<o[u].folds.length;h++)s.push(o[u].folds[h]);return s},this.getFoldStringAt=function(s,o,u,h){if(h=h||this.getFoldLine(s),!h)return null;for(var m={end:{column:0}},v,T,x=0;x<h.folds.length;x++){T=h.folds[x];var R=T.range.compareEnd(s,o);if(R==-1){v=this.getLine(T.start.row).substring(m.end.column,T.start.column);break}else if(R===0)return null;m=T}return v||(v=this.getLine(T.start.row).substring(m.end.column)),u==-1?v.substring(0,o-m.end.column):u==1?v.substring(o-m.end.column):v},this.getFoldLine=function(s,o){var u=this.$foldData,h=0;for(o&&(h=u.indexOf(o)),h==-1&&(h=0),h;h<u.length;h++){var m=u[h];if(m.start.row<=s&&m.end.row>=s)return m;if(m.end.row>s)return null}return null},this.getNextFoldLine=function(s,o){var u=this.$foldData,h=0;for(o&&(h=u.indexOf(o)),h==-1&&(h=0),h;h<u.length;h++){var m=u[h];if(m.end.row>=s)return m}return null},this.getFoldedRowCount=function(s,o){for(var u=this.$foldData,h=o-s+1,m=0;m<u.length;m++){var v=u[m],T=v.end.row,x=v.start.row;if(T>=o){x<o&&(x>=s?h-=o-x:h=0);break}else T>=s&&(x>=s?h-=T-x:h-=T-s+1)}return h},this.$addFoldLine=function(s){return this.$foldData.push(s),this.$foldData.sort(function(o,u){return o.start.row-u.start.row}),s},this.addFold=function(s,o){var u=this.$foldData,h=!1,m;s instanceof b?m=s:(m=new b(o,s),m.collapseChildren=o.collapseChildren),this.$clipRangeToDocument(m.range);var v=m.start.row,T=m.start.column,x=m.end.row,R=m.end.column,k=this.getFoldAt(v,T,1),C=this.getFoldAt(x,R,-1);if(k&&C==k)return k.addSubFold(m);k&&!k.range.isStart(v,T)&&this.removeFold(k),C&&!C.range.isEnd(x,R)&&this.removeFold(C);var S=this.getFoldsInRange(m.range);S.length>0&&(this.removeFolds(S),m.collapseChildren||S.forEach(function($){m.addSubFold($)}));for(var N=0;N<u.length;N++){var L=u[N];if(x==L.start.row){L.addFold(m),h=!0;break}else if(v==L.end.row){if(L.addFold(m),h=!0,!m.sameRow){var A=u[N+1];if(A&&A.start.row==x){L.merge(A);break}}break}else if(x<=L.start.row)break}return h||(L=this.$addFoldLine(new y(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(L.start.row,L.start.row):this.$updateRowLengthCache(L.start.row,L.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(s){s.forEach(function(o){this.addFold(o)},this)},this.removeFold=function(s){var o=s.foldLine,u=o.start.row,h=o.end.row,m=this.$foldData,v=o.folds;if(v.length==1)m.splice(m.indexOf(o),1);else if(o.range.isEnd(s.end.row,s.end.column))v.pop(),o.end.row=v[v.length-1].end.row,o.end.column=v[v.length-1].end.column;else if(o.range.isStart(s.start.row,s.start.column))v.shift(),o.start.row=v[0].start.row,o.start.column=v[0].start.column;else if(s.sameRow)v.splice(v.indexOf(s),1);else{var T=o.split(s.start.row,s.start.column);v=T.folds,v.shift(),T.start.row=v[0].start.row,T.start.column=v[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(u,h):this.$updateRowLengthCache(u,h)),this.$modified=!0,this._signal("changeFold",{data:s,action:"remove"})},this.removeFolds=function(s){for(var o=[],u=0;u<s.length;u++)o.push(s[u]);o.forEach(function(h){this.removeFold(h)},this),this.$modified=!0},this.expandFold=function(s){this.removeFold(s),s.subFolds.forEach(function(o){s.restoreRange(o),this.addFold(o)},this),s.collapseChildren>0&&this.foldAll(s.start.row+1,s.end.row,s.collapseChildren-1),s.subFolds=[]},this.expandFolds=function(s){s.forEach(function(o){this.expandFold(o)},this)},this.unfold=function(s,o){var u,h;if(s==null)u=new g(0,0,this.getLength(),0),o==null&&(o=!0);else if(typeof s=="number")u=new g(s,0,s,this.getLine(s).length);else if("row"in s)u=g.fromPoints(s,s);else{if(Array.isArray(s))return h=[],s.forEach(function(v){h=h.concat(this.unfold(v))},this),h;u=s}h=this.getFoldsInRangeList(u);for(var m=h;h.length==1&&g.comparePoints(h[0].start,u.start)<0&&g.comparePoints(h[0].end,u.end)>0;)this.expandFolds(h),h=this.getFoldsInRangeList(u);if(o!=!1?this.removeFolds(h):this.expandFolds(h),m.length)return m},this.isRowFolded=function(s,o){return!!this.getFoldLine(s,o)},this.getRowFoldEnd=function(s,o){var u=this.getFoldLine(s,o);return u?u.end.row:s},this.getRowFoldStart=function(s,o){var u=this.getFoldLine(s,o);return u?u.start.row:s},this.getFoldDisplayLine=function(s,o,u,h,m){h==null&&(h=s.start.row),m==null&&(m=0),o==null&&(o=s.end.row),u==null&&(u=this.getLine(o).length);var v=this.doc,T="";return s.walk(function(x,R,k,C){if(!(R<h)){if(R==h){if(k<m)return;C=Math.max(m,C)}x!=null?T+=x:T+=v.getLine(R).substring(C,k)}},o,u),T},this.getDisplayLine=function(s,o,u,h){var m=this.getFoldLine(s);if(m)return this.getFoldDisplayLine(m,s,o,u,h);var v;return v=this.doc.getLine(s),v.substring(h||0,o||v.length)},this.$cloneFoldData=function(){var s=[];return s=this.$foldData.map(function(o){var u=o.folds.map(function(h){return h.clone()});return new y(s,u)}),s},this.toggleFold=function(s){var o=this.selection,u=o.getRange(),h,m;if(u.isEmpty()){var v=u.start;if(h=this.getFoldAt(v.row,v.column),h){this.expandFold(h);return}else(m=this.findMatchingBracket(v))?u.comparePoint(m)==1?u.end=m:(u.start=m,u.start.column++,u.end.column--):(m=this.findMatchingBracket({row:v.row,column:v.column+1}))?(u.comparePoint(m)==1?u.end=m:u.start=m,u.start.column++):u=this.getCommentFoldRange(v.row,v.column)||u}else{var T=this.getFoldsInRange(u);if(s&&T.length){this.expandFolds(T);return}else T.length==1&&(h=T[0])}if(h||(h=this.getFoldAt(u.start.row,u.start.column)),h&&h.range.toString()==u.toString()){this.expandFold(h);return}var x="...";if(!u.isMultiLine()){if(x=this.getTextRange(u),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,u)},this.getCommentFoldRange=function(s,o,u){var h=new d(this,s,o),m=h.getCurrentToken(),v=m&&m.type;if(m&&/^comment|string/.test(v)){v=v.match(/comment|string/)[0],v=="comment"&&(v+="|doc-start|\\.doc");var T=new RegExp(v),x=new g;if(u!=1){do m=h.stepBackward();while(m&&T.test(m.type));m=h.stepForward()}x.start.row=h.getCurrentTokenRow(),x.start.column=h.getCurrentTokenColumn()+m.value.length,h=new d(this,s,o);var R=this.getState(h.$row);if(u!=-1){var k=-1;do if(m=h.stepForward(),k==-1){var C=this.getState(h.$row);R.toString()!==C.toString()&&(k=h.$row)}else if(h.$row>k)break;while(m&&T.test(m.type));m=h.stepBackward()}else m=h.getCurrentToken();return x.end.row=h.getCurrentTokenRow(),x.end.column=h.getCurrentTokenColumn(),x}},this.foldAll=function(s,o,u,h){u==null&&(u=1e5);var m=this.foldWidgets;if(m){o=o||this.getLength(),s=s||0;for(var v=s;v<o;v++)if(m[v]==null&&(m[v]=this.getFoldWidget(v)),m[v]=="start"&&!(h&&!h(v))){var T=this.getFoldWidgetRange(v);T&&T.isMultiLine()&&T.end.row<=o&&T.start.row>=s&&(v=T.end.row,T.collapseChildren=u,this.addFold("...",T))}}},this.foldToLevel=function(s){for(this.foldAll();s-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var s=this;this.foldAll(null,null,null,function(o){for(var u=s.getTokens(o),h=0;h<u.length;h++){var m=u[h];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(s){if(!this.$foldStyles[s])throw new Error("invalid fold style: "+s+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=s){this.$foldStyle=s,s=="manual"&&this.unfold();var o=this.$foldMode;this.$setFolding(null),this.$setFolding(o)}},this.$setFolding=function(s){if(this.$foldMode!=s){if(this.$foldMode=s,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!s||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=s.getFoldWidget.bind(s,this,this.$foldStyle),this.getFoldWidgetRange=s.getFoldWidgetRange.bind(s,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(s,o){var u=this.foldWidgets;if(!u||o&&u[s])return{};for(var h=s-1,m;h>=0;){var v=u[h];if(v==null&&(v=u[h]=this.getFoldWidget(h)),v=="start"){var T=this.getFoldWidgetRange(h);if(m||(m=T),T&&T.end.row>=s)break}h--}return{range:h!==-1&&T,firstRange:m}},this.onFoldWidgetClick=function(s,o){o instanceof f&&(o=o.domEvent);var u={children:o.shiftKey,all:o.ctrlKey||o.metaKey,siblings:o.altKey},h=this.$toggleFoldWidget(s,u);if(!h){var m=o.target||o.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(s,o){if(this.getFoldWidget){var u=this.getFoldWidget(s),h=this.getLine(s),m=u==="end"?-1:1,v=this.getFoldAt(s,m===-1?0:h.length,m);if(v)return o.children||o.all?this.removeFold(v):this.expandFold(v),v;var T=this.getFoldWidgetRange(s,!0);if(T&&!T.isMultiLine()&&(v=this.getFoldAt(T.start.row,T.start.column,1),v&&T.isEqual(v.range)))return this.removeFold(v),v;if(o.siblings){var x=this.getParentFoldRangeData(s);if(x.range)var R=x.range.start.row+1,k=x.range.end.row;this.foldAll(R,k,o.all?1e4:0)}else o.children?(k=T?T.end.row:this.getLength(),this.foldAll(s+1,k,o.all?1e4:0)):T&&(o.all&&(T.collapseChildren=1e4),this.addFold("...",T));return T}},this.toggleFoldWidget=function(s){var o=this.selection.getCursor().row;o=this.getRowFoldStart(o);var u=this.$toggleFoldWidget(o,{});if(!u){var h=this.getParentFoldRangeData(o,!0);if(u=h.range||h.firstRange,u){o=u.start.row;var m=this.getFoldAt(o,this.getLine(o).length,1);m?this.removeFold(m):this.addFold("...",u)}}},this.updateFoldWidgets=function(s){var o=s.start.row,u=s.end.row-o;if(u===0)this.foldWidgets[o]=null;else if(s.action=="remove")this.foldWidgets.splice(o,u+1,null);else{var h=Array(u+1);h.unshift(o,1),this.foldWidgets.splice.apply(this.foldWidgets,h)}},this.tokenizerUpdateFoldWidgets=function(s){var o=s.data;o.first!=o.last&&this.foldWidgets.length>o.first&&this.foldWidgets.splice(o.first,this.foldWidgets.length)}}a.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(i,a,w){var g=i("../token_iterator").TokenIterator,y=i("../range").Range;function b(){this.findMatchingBracket=function(d,f){if(d.column==0)return null;var c=f||this.getLine(d.row).charAt(d.column-1);if(c=="")return null;var s=c.match(/([\(\[\{])|([\)\]\}])/);return s?s[1]?this.$findClosingBracket(s[1],d):this.$findOpeningBracket(s[2],d):null},this.getBracketRange=function(d){var f=this.getLine(d.row),c=!0,s,o=f.charAt(d.column-1),u=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(u||(o=f.charAt(d.column),d={row:d.row,column:d.column+1},u=o&&o.match(/([\(\[\{])|([\)\]\}])/),c=!1),!u)return null;if(u[1]){var h=this.$findClosingBracket(u[1],d);if(!h)return null;s=y.fromPoints(d,h),c||(s.end.column++,s.start.column--),s.cursor=s.end}else{var h=this.$findOpeningBracket(u[2],d);if(!h)return null;s=y.fromPoints(h,d),c||(s.start.column++,s.end.column--),s.cursor=s.start}return s},this.getMatchingBracketRanges=function(d,f){var c=this.getLine(d.row),s=/([\(\[\{])|([\)\]\}])/,o=!f&&c.charAt(d.column-1),u=o&&o.match(s);if(u||(o=(f===void 0||f)&&c.charAt(d.column),d={row:d.row,column:d.column+1},u=o&&o.match(s)),!u)return null;var h=new y(d.row,d.column-1,d.row,d.column),m=u[1]?this.$findClosingBracket(u[1],d):this.$findOpeningBracket(u[2],d);if(!m)return[h];var v=new y(m.row,m.column,m.row,m.column+1);return[h,v]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(d,f,c){var s=this.$brackets[d],o=1,u=new g(this,f.row,f.column),h=u.getCurrentToken();if(h||(h=u.stepForward()),!!h){c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=f.column-u.getCurrentTokenColumn()-2,v=h.value;;){for(;m>=0;){var T=v.charAt(m);if(T==s){if(o-=1,o==0)return{row:u.getCurrentTokenRow(),column:m+u.getCurrentTokenColumn()}}else T==d&&(o+=1);m-=1}do h=u.stepBackward();while(h&&!c.test(h.type));if(h==null)break;v=h.value,m=v.length-1}return null}},this.$findClosingBracket=function(d,f,c){var s=this.$brackets[d],o=1,u=new g(this,f.row,f.column),h=u.getCurrentToken();if(h||(h=u.stepForward()),!!h){c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=f.column-u.getCurrentTokenColumn();;){for(var v=h.value,T=v.length;m<T;){var x=v.charAt(m);if(x==s){if(o-=1,o==0)return{row:u.getCurrentTokenRow(),column:m+u.getCurrentTokenColumn()}}else x==d&&(o+=1);m+=1}do h=u.stepForward();while(h&&!c.test(h.type));if(h==null)break;m=0}return null}},this.getMatchingTags=function(d){var f=new g(this,d.row,d.column),c=this.$findTagName(f);if(c){var s=f.stepBackward();return s.value==="<"?this.$findClosingTag(f,c):this.$findOpeningTag(f,c)}},this.$findTagName=function(d){var f=d.getCurrentToken(),c=!1,s=!1;if(f&&f.type.indexOf("tag-name")===-1)do s?f=d.stepBackward():f=d.stepForward(),f&&(f.value==="/>"?s=!0:f.type.indexOf("tag-name")!==-1&&(c=!0));while(f&&!c);return f},this.$findClosingTag=function(d,f){var c,s=f.value,o=f.value,u=0,h=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);f=d.stepForward();var m=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+f.value.length),v=!1;do{if(c=f,c.type.indexOf("tag-close")!==-1&&!v){var T=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);v=!0}if(f=d.stepForward(),f){if(f.value===">"&&!v){var T=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);v=!0}if(f.type.indexOf("tag-name")!==-1){if(s=f.value,o===s){if(c.value==="<")u++;else if(c.value==="</"&&(u--,u<0)){d.stepBackward();var x=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+2);f=d.stepForward();var R=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+f.value.length);if(f.type.indexOf("tag-close")===-1&&(f=d.stepForward()),f&&f.value===">")var k=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);else return}}}else if(o===s&&f.value==="/>"&&(u--,u<0))var x=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+2),R=x,k=R,T=new y(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(f&&u>=0);if(h&&T&&x&&k&&m&&R)return{openTag:new y(h.start.row,h.start.column,T.end.row,T.end.column),closeTag:new y(x.start.row,x.start.column,k.end.row,k.end.column),openTagName:m,closeTagName:R}},this.$findOpeningTag=function(d,f){var c=d.getCurrentToken(),s=f.value,o=0,u=d.getCurrentTokenRow(),h=d.getCurrentTokenColumn(),m=h+2,v=new y(u,h,u,m);d.stepForward();var T=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+f.value.length);if(f.type.indexOf("tag-close")===-1&&(f=d.stepForward()),!(!f||f.value!==">")){var x=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);d.stepBackward(),d.stepBackward();do if(f=c,u=d.getCurrentTokenRow(),h=d.getCurrentTokenColumn(),m=h+f.value.length,c=d.stepBackward(),f){if(f.type.indexOf("tag-name")!==-1){if(s===f.value)if(c.value==="<"){if(o++,o>0){var R=new y(u,h,u,m),k=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1);do f=d.stepForward();while(f&&f.value!==">");var C=new y(d.getCurrentTokenRow(),d.getCurrentTokenColumn(),d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1)}}else c.value==="</"&&o--}else if(f.value==="/>"){for(var S=0,N=c;N;){if(N.type.indexOf("tag-name")!==-1&&N.value===s){o--;break}else if(N.value==="<")break;N=d.stepBackward(),S++}for(var L=0;L<S;L++)d.stepForward()}}while(c&&o<=0);if(k&&C&&v&&x&&R&&T)return{openTag:new y(k.start.row,k.start.column,C.end.row,C.end.column),closeTag:new y(v.start.row,v.start.column,x.end.row,x.end.column),openTagName:R,closeTagName:T}}}}a.BracketMatch=b}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(i,a,w){var g=i("./lib/oop"),y=i("./lib/lang"),b=i("./bidihandler").BidiHandler,d=i("./config"),f=i("./lib/event_emitter").EventEmitter,c=i("./selection").Selection,s=i("./mode/text").Mode,o=i("./range").Range,u=i("./line_widgets").LineWidgets,h=i("./document").Document,m=i("./background_tokenizer").BackgroundTokenizer,v=i("./search_highlight").SearchHighlight,T=i("./undomanager").UndoManager,x=function(){function B(z,F){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++B.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new m(new s().getTokenizer(),this);var V=this;this.bgTokenizer.on("update",function(U){V._signal("tokenizerUpdate",U)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof z!="object"||!z.getLine)&&(z=new h(z)),this.setDocument(z),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new b(this),d.resetOptions(this),this.setMode(F),d._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return B.prototype.$initOperationListeners=function(){var z=this;this.curOp=null,this.on("change",function(){z.curOp||(z.startOperation(),z.curOp.selectionBefore=z.$lastSel),z.curOp.docChanged=!0},!0),this.on("changeSelection",function(){z.curOp||(z.startOperation(),z.curOp.selectionBefore=z.$lastSel),z.curOp.selectionChanged=!0},!0),this.$operationResetTimer=y.delayedCall(this.endOperation.bind(this,!0))},B.prototype.startOperation=function(z){if(this.curOp){if(!z||this.curOp.command)return;this.prevOp=this.curOp}z||(z={}),this.$operationResetTimer.schedule(),this.curOp={command:z.command||{},args:z.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",z)},B.prototype.endOperation=function(z){if(this.curOp){if(z&&z.returnValue===!1){this.curOp=null,this._signal("endOperation",z);return}if(z==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var F=this.selection.toJSON();this.curOp.selectionAfter=F,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(F),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",z)}},B.prototype.setDocument=function(z){this.doc&&this.doc.off("change",this.$onChange),this.doc=z,z.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},B.prototype.getDocument=function(){return this.doc},Object.defineProperty(B.prototype,"widgetManager",{get:function(){var z=new u(this);return this.widgetManager=z,this.$editor&&z.attach(this.$editor),z},set:function(z){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:z})},enumerable:!1,configurable:!0}),B.prototype.$resetRowCache=function(z){if(!z){this.$docRowCache=[],this.$screenRowCache=[];return}var F=this.$docRowCache.length,V=this.$getRowCacheIndex(this.$docRowCache,z)+1;F>V&&(this.$docRowCache.splice(V,F),this.$screenRowCache.splice(V,F))},B.prototype.$getRowCacheIndex=function(z,F){for(var V=0,U=z.length-1;V<=U;){var q=V+U>>1,K=z[q];if(F>K)V=q+1;else if(F<K)U=q-1;else return q}return V-1},B.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},B.prototype.onChangeFold=function(z){var F=z.data;this.$resetRowCache(F.start.row)},B.prototype.onChange=function(z){this.$modified=!0,this.$bidiHandler.onChange(z),this.$resetRowCache(z.start.row);var F=this.$updateInternalDataOnChange(z);!this.$fromUndo&&this.$undoManager&&(F&&F.length&&(this.$undoManager.add({action:"removeFolds",folds:F},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(z,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(z),this._signal("change",z)},B.prototype.onSelectionChange=function(){this._signal("changeSelection")},B.prototype.setValue=function(z){this.doc.setValue(z),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},B.fromJSON=function(z){typeof z=="string"&&(z=JSON.parse(z));var F=new T;F.$undoStack=z.history.undo,F.$redoStack=z.history.redo,F.mark=z.history.mark,F.$rev=z.history.rev;var V=new B(z.value);return z.folds.forEach(function(U){V.addFold("...",o.fromPoints(U.start,U.end))}),V.setAnnotations(z.annotations),V.setBreakpoints(z.breakpoints),V.setMode(z.mode),V.setScrollLeft(z.scrollLeft),V.setScrollTop(z.scrollTop),V.setUndoManager(F),V.selection.fromJSON(z.selection),V},B.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(z){return z.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},B.prototype.toString=function(){return this.doc.getValue()},B.prototype.getSelection=function(){return this.selection},B.prototype.getState=function(z){return this.bgTokenizer.getState(z)},B.prototype.getTokens=function(z){return this.bgTokenizer.getTokens(z)},B.prototype.getTokenAt=function(z,F){var V=this.bgTokenizer.getTokens(z),U,q=0;if(F==null){var K=V.length-1;q=this.getLine(z).length}else for(var K=0;K<V.length&&(q+=V[K].value.length,!(q>=F));K++);return U=V[K],U?(U.index=K,U.start=q-U.value.length,U):null},B.prototype.setUndoManager=function(z){if(this.$undoManager=z,this.$informUndoManager&&this.$informUndoManager.cancel(),z){var F=this;z.addSession(this),this.$syncInformUndoManager=function(){F.$informUndoManager.cancel(),F.mergeUndoDeltas=!1},this.$informUndoManager=y.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},B.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},B.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},B.prototype.getTabString=function(){return this.getUseSoftTabs()?y.stringRepeat(" ",this.getTabSize()):"	"},B.prototype.setUseSoftTabs=function(z){this.setOption("useSoftTabs",z)},B.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},B.prototype.setTabSize=function(z){this.setOption("tabSize",z)},B.prototype.getTabSize=function(){return this.$tabSize},B.prototype.isTabStop=function(z){return this.$useSoftTabs&&z.column%this.$tabSize===0},B.prototype.setNavigateWithinSoftTabs=function(z){this.setOption("navigateWithinSoftTabs",z)},B.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},B.prototype.setOverwrite=function(z){this.setOption("overwrite",z)},B.prototype.getOverwrite=function(){return this.$overwrite},B.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},B.prototype.addGutterDecoration=function(z,F){this.$decorations[z]||(this.$decorations[z]=""),this.$decorations[z]+=" "+F,this._signal("changeBreakpoint",{})},B.prototype.removeGutterDecoration=function(z,F){this.$decorations[z]=(this.$decorations[z]||"").replace(" "+F,""),this._signal("changeBreakpoint",{})},B.prototype.getBreakpoints=function(){return this.$breakpoints},B.prototype.setBreakpoints=function(z){this.$breakpoints=[];for(var F=0;F<z.length;F++)this.$breakpoints[z[F]]="ace_breakpoint";this._signal("changeBreakpoint",{})},B.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},B.prototype.setBreakpoint=function(z,F){F===void 0&&(F="ace_breakpoint"),F?this.$breakpoints[z]=F:delete this.$breakpoints[z],this._signal("changeBreakpoint",{})},B.prototype.clearBreakpoint=function(z){delete this.$breakpoints[z],this._signal("changeBreakpoint",{})},B.prototype.addMarker=function(z,F,V,U){var q=this.$markerId++,K={range:z,type:V||"line",renderer:typeof V=="function"?V:null,clazz:F,inFront:!!U,id:q};return U?(this.$frontMarkers[q]=K,this._signal("changeFrontMarker")):(this.$backMarkers[q]=K,this._signal("changeBackMarker")),q},B.prototype.addDynamicMarker=function(z,F){if(z.update){var V=this.$markerId++;return z.id=V,z.inFront=!!F,F?(this.$frontMarkers[V]=z,this._signal("changeFrontMarker")):(this.$backMarkers[V]=z,this._signal("changeBackMarker")),z}},B.prototype.removeMarker=function(z){var F=this.$frontMarkers[z]||this.$backMarkers[z];if(F){var V=F.inFront?this.$frontMarkers:this.$backMarkers;delete V[z],this._signal(F.inFront?"changeFrontMarker":"changeBackMarker")}},B.prototype.getMarkers=function(z){return z?this.$frontMarkers:this.$backMarkers},B.prototype.highlight=function(z){if(!this.$searchHighlight){var F=new v(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(F)}this.$searchHighlight.setRegexp(z)},B.prototype.highlightLines=function(z,F,V,U){typeof F!="number"&&(V=F,F=z),V||(V="ace_step");var q=new o(z,0,F,1/0);return q.id=this.addMarker(q,V,"fullLine",U),q},B.prototype.setAnnotations=function(z){this.$annotations=z,this._signal("changeAnnotation",{})},B.prototype.getAnnotations=function(){return this.$annotations||[]},B.prototype.clearAnnotations=function(){this.setAnnotations([])},B.prototype.$detectNewLine=function(z){var F=z.match(/^.*?(\r?\n)/m);F?this.$autoNewLine=F[1]:this.$autoNewLine=`
`},B.prototype.getWordRange=function(z,F){var V=this.getLine(z),U=!1;if(F>0&&(U=!!V.charAt(F-1).match(this.tokenRe)),U||(U=!!V.charAt(F).match(this.tokenRe)),U)var q=this.tokenRe;else if(/^\s+$/.test(V.slice(F-1,F+1)))var q=/\s/;else var q=this.nonTokenRe;var K=F;if(K>0){do K--;while(K>=0&&V.charAt(K).match(q));K++}for(var Q=F;Q<V.length&&V.charAt(Q).match(q);)Q++;return new o(z,K,z,Q)},B.prototype.getAWordRange=function(z,F){for(var V=this.getWordRange(z,F),U=this.getLine(V.end.row);U.charAt(V.end.column).match(/[ \t]/);)V.end.column+=1;return V},B.prototype.setNewLineMode=function(z){this.doc.setNewLineMode(z)},B.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},B.prototype.setUseWorker=function(z){this.setOption("useWorker",z)},B.prototype.getUseWorker=function(){return this.$useWorker},B.prototype.onReloadTokenizer=function(z){var F=z.data;this.bgTokenizer.start(F.first),this._signal("tokenizerUpdate",z)},B.prototype.setMode=function(z,F){if(z&&typeof z=="object"){if(z.getTokenizer)return this.$onChangeMode(z);var V=z,U=V.path}else U=z||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new s),this.$modes[U]&&!V){this.$onChangeMode(this.$modes[U]),F&&F();return}this.$modeId=U,d.loadModule(["mode",U],(function(q){if(!this.destroyed){if(this.$modeId!==U)return F&&F();this.$modes[U]&&!V?this.$onChangeMode(this.$modes[U]):q&&q.Mode&&(q=new q.Mode(V),V||(this.$modes[U]=q,q.$id=U),this.$onChangeMode(q)),F&&F()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},B.prototype.$onChangeMode=function(z,F){if(F||(this.$modeId=z.$id),this.$mode!==z){var V=this.$mode;this.$mode=z,this.$stopWorker(),this.$useWorker&&this.$startWorker();var U=z.getTokenizer();if(U.on!==void 0){var q=this.onReloadTokenizer.bind(this);U.on("update",q)}this.bgTokenizer.setTokenizer(U),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=z.tokenRe,this.nonTokenRe=z.nonTokenRe,F||(z.attachToSession&&z.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(z.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:V,mode:z}))}},B.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},B.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(z){d.warn("Could not load worker",z),this.$worker=null}},B.prototype.getMode=function(){return this.$mode},B.prototype.setScrollTop=function(z){this.$scrollTop===z||isNaN(z)||(this.$scrollTop=z,this._signal("changeScrollTop",z))},B.prototype.getScrollTop=function(){return this.$scrollTop},B.prototype.setScrollLeft=function(z){this.$scrollLeft===z||isNaN(z)||(this.$scrollLeft=z,this._signal("changeScrollLeft",z))},B.prototype.getScrollLeft=function(){return this.$scrollLeft},B.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},B.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var z=0;return this.lineWidgets.forEach(function(F){F&&F.screenWidth>z&&(z=F.screenWidth)}),this.lineWidgetWidth=z},B.prototype.$computeWidth=function(z){if(this.$modified||z){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var F=this.doc.getAllLines(),V=this.$rowLengthCache,U=0,q=0,K=this.$foldData[q],Q=K?K.start.row:1/0,X=F.length,te=0;te<X;te++){if(te>Q){if(te=K.end.row+1,te>=X)break;K=this.$foldData[q++],Q=K?K.start.row:1/0}V[te]==null&&(V[te]=this.$getStringScreenWidth(F[te])[0]),V[te]>U&&(U=V[te])}this.screenWidth=U}},B.prototype.getLine=function(z){return this.doc.getLine(z)},B.prototype.getLines=function(z,F){return this.doc.getLines(z,F)},B.prototype.getLength=function(){return this.doc.getLength()},B.prototype.getTextRange=function(z){return this.doc.getTextRange(z||this.selection.getRange())},B.prototype.insert=function(z,F){return this.doc.insert(z,F)},B.prototype.remove=function(z){return this.doc.remove(z)},B.prototype.removeFullLines=function(z,F){return this.doc.removeFullLines(z,F)},B.prototype.undoChanges=function(z,F){if(z.length){this.$fromUndo=!0;for(var V=z.length-1;V!=-1;V--){var U=z[V];U.action=="insert"||U.action=="remove"?this.doc.revertDelta(U):U.folds&&this.addFolds(U.folds)}!F&&this.$undoSelect&&(z.selectionBefore?this.selection.fromJSON(z.selectionBefore):this.selection.setRange(this.$getUndoSelection(z,!0))),this.$fromUndo=!1}},B.prototype.redoChanges=function(z,F){if(z.length){this.$fromUndo=!0;for(var V=0;V<z.length;V++){var U=z[V];(U.action=="insert"||U.action=="remove")&&this.doc.$safeApplyDelta(U)}!F&&this.$undoSelect&&(z.selectionAfter?this.selection.fromJSON(z.selectionAfter):this.selection.setRange(this.$getUndoSelection(z,!1))),this.$fromUndo=!1}},B.prototype.setUndoSelect=function(z){this.$undoSelect=z},B.prototype.$getUndoSelection=function(z,F){function V(X){return F?X.action!=="insert":X.action==="insert"}for(var U,q,K=0;K<z.length;K++){var Q=z[K];if(Q.start){if(!U){V(Q)?U=o.fromPoints(Q.start,Q.end):U=o.fromPoints(Q.start,Q.start);continue}V(Q)?(q=Q.start,U.compare(q.row,q.column)==-1&&U.setStart(q),q=Q.end,U.compare(q.row,q.column)==1&&U.setEnd(q)):(q=Q.start,U.compare(q.row,q.column)==-1&&(U=o.fromPoints(Q.start,Q.start)))}}return U},B.prototype.replace=function(z,F){return this.doc.replace(z,F)},B.prototype.moveText=function(z,F,V){var U=this.getTextRange(z),q=this.getFoldsInRange(z),K=o.fromPoints(F,F);if(!V){this.remove(z);var Q=z.start.row-z.end.row,X=Q?-z.end.column:z.start.column-z.end.column;X&&(K.start.row==z.end.row&&K.start.column>z.end.column&&(K.start.column+=X),K.end.row==z.end.row&&K.end.column>z.end.column&&(K.end.column+=X)),Q&&K.start.row>=z.end.row&&(K.start.row+=Q,K.end.row+=Q)}if(K.end=this.insert(K.start,U),q.length){var te=z.start,se=K.start,Q=se.row-te.row,X=se.column-te.column;this.addFolds(q.map(function(ce){return ce=ce.clone(),ce.start.row==te.row&&(ce.start.column+=X),ce.end.row==te.row&&(ce.end.column+=X),ce.start.row+=Q,ce.end.row+=Q,ce}))}return K},B.prototype.indentRows=function(z,F,V){V=V.replace(/\t/g,this.getTabString());for(var U=z;U<=F;U++)this.doc.insertInLine({row:U,column:0},V)},B.prototype.outdentRows=function(z){for(var F=z.collapseRows(),V=new o(0,0,0,0),U=this.getTabSize(),q=F.start.row;q<=F.end.row;++q){var K=this.getLine(q);V.start.row=q,V.end.row=q;for(var Q=0;Q<U&&K.charAt(Q)==" ";++Q);Q<U&&K.charAt(Q)=="	"?(V.start.column=Q,V.end.column=Q+1):(V.start.column=0,V.end.column=Q),this.remove(V)}},B.prototype.$moveLines=function(z,F,V){if(z=this.getRowFoldStart(z),F=this.getRowFoldEnd(F),V<0){var U=this.getRowFoldStart(z+V);if(U<0)return 0;var q=U-z}else if(V>0){var U=this.getRowFoldEnd(F+V);if(U>this.doc.getLength()-1)return 0;var q=U-F}else{z=this.$clipRowToDocument(z),F=this.$clipRowToDocument(F);var q=F-z+1}var K=new o(z,0,F,Number.MAX_VALUE),Q=this.getFoldsInRange(K).map(function(te){return te=te.clone(),te.start.row+=q,te.end.row+=q,te}),X=V==0?this.doc.getLines(z,F):this.doc.removeFullLines(z,F);return this.doc.insertFullLines(z+q,X),Q.length&&this.addFolds(Q),q},B.prototype.moveLinesUp=function(z,F){return this.$moveLines(z,F,-1)},B.prototype.moveLinesDown=function(z,F){return this.$moveLines(z,F,1)},B.prototype.duplicateLines=function(z,F){return this.$moveLines(z,F,0)},B.prototype.$clipRowToDocument=function(z){return Math.max(0,Math.min(z,this.doc.getLength()-1))},B.prototype.$clipColumnToRow=function(z,F){return F<0?0:Math.min(this.doc.getLine(z).length,F)},B.prototype.$clipPositionToDocument=function(z,F){if(F=Math.max(0,F),z<0)z=0,F=0;else{var V=this.doc.getLength();z>=V?(z=V-1,F=this.doc.getLine(V-1).length):F=Math.min(this.doc.getLine(z).length,F)}return{row:z,column:F}},B.prototype.$clipRangeToDocument=function(z){z.start.row<0?(z.start.row=0,z.start.column=0):z.start.column=this.$clipColumnToRow(z.start.row,z.start.column);var F=this.doc.getLength()-1;return z.end.row>F?(z.end.row=F,z.end.column=this.doc.getLine(F).length):z.end.column=this.$clipColumnToRow(z.end.row,z.end.column),z},B.prototype.setUseWrapMode=function(z){if(z!=this.$useWrapMode){if(this.$useWrapMode=z,this.$modified=!0,this.$resetRowCache(0),z){var F=this.getLength();this.$wrapData=Array(F),this.$updateWrapData(0,F-1)}this._signal("changeWrapMode")}},B.prototype.getUseWrapMode=function(){return this.$useWrapMode},B.prototype.setWrapLimitRange=function(z,F){(this.$wrapLimitRange.min!==z||this.$wrapLimitRange.max!==F)&&(this.$wrapLimitRange={min:z,max:F},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},B.prototype.adjustWrapLimit=function(z,F){var V=this.$wrapLimitRange;V.max<0&&(V={min:F,max:F});var U=this.$constrainWrapLimit(z,V.min,V.max);return U!=this.$wrapLimit&&U>1?(this.$wrapLimit=U,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},B.prototype.$constrainWrapLimit=function(z,F,V){return F&&(z=Math.max(F,z)),V&&(z=Math.min(V,z)),z},B.prototype.getWrapLimit=function(){return this.$wrapLimit},B.prototype.setWrapLimit=function(z){this.setWrapLimitRange(z,z)},B.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},B.prototype.$updateInternalDataOnChange=function(z){var F=this.$useWrapMode,V=z.action,U=z.start,q=z.end,K=U.row,Q=q.row,X=Q-K,te=null;if(this.$updating=!0,X!=0)if(V==="remove"){this[F?"$wrapData":"$rowLengthCache"].splice(K,X);var se=this.$foldData;te=this.getFoldsInRange(z),this.removeFolds(te);var J=this.getFoldLine(q.row),le=0;if(J){J.addRemoveChars(q.row,q.column,U.column-q.column),J.shiftRow(-X);var ce=this.getFoldLine(K);ce&&ce!==J&&(ce.merge(J),J=ce),le=se.indexOf(J)+1}for(le;le<se.length;le++){var J=se[le];J.start.row>=q.row&&J.shiftRow(-X)}Q=K}else{var ue=Array(X);ue.unshift(K,0);var Ie=F?this.$wrapData:this.$rowLengthCache;Ie.splice.apply(Ie,ue);var se=this.$foldData,J=this.getFoldLine(K),le=0;if(J){var Te=J.range.compareInside(U.row,U.column);Te==0?(J=J.split(U.row,U.column),J&&(J.shiftRow(X),J.addRemoveChars(Q,0,q.column-U.column))):Te==-1&&(J.addRemoveChars(K,0,q.column-U.column),J.shiftRow(X)),le=se.indexOf(J)+1}for(le;le<se.length;le++){var J=se[le];J.start.row>=K&&J.shiftRow(X)}}else{X=Math.abs(z.start.column-z.end.column),V==="remove"&&(te=this.getFoldsInRange(z),this.removeFolds(te),X=-X);var J=this.getFoldLine(K);J&&J.addRemoveChars(K,U.column,X)}return F&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,F?this.$updateWrapData(K,Q):this.$updateRowLengthCache(K,Q),te},B.prototype.$updateRowLengthCache=function(z,F){this.$rowLengthCache[z]=null,this.$rowLengthCache[F]=null},B.prototype.$updateWrapData=function(z,F){var V=this.doc.getAllLines(),U=this.getTabSize(),q=this.$wrapData,K=this.$wrapLimit,Q,X,te=z;for(F=Math.min(F,V.length-1);te<=F;)X=this.getFoldLine(te,X),X?(Q=[],X.walk((function(se,J,le,ce){var ue;if(se!=null){ue=this.$getDisplayTokens(se,Q.length),ue[0]=C;for(var Ie=1;Ie<ue.length;Ie++)ue[Ie]=S}else ue=this.$getDisplayTokens(V[J].substring(ce,le),Q.length);Q=Q.concat(ue)}).bind(this),X.end.row,V[X.end.row].length+1),q[X.start.row]=this.$computeWrapSplits(Q,K,U),te=X.end.row+1):(Q=this.$getDisplayTokens(V[te]),q[te]=this.$computeWrapSplits(Q,K,U),te++)},B.prototype.$computeWrapSplits=function(z,F,V){if(z.length==0)return[];var U=[],q=z.length,K=0,Q=0,X=this.$wrapAsCode,te=this.$indentedSoftWrap,se=F<=Math.max(2*V,8)||te===!1?0:Math.floor(F/2);function J(){var Te=0;if(se===0)return Te;if(te)for(var Re=0;Re<z.length;Re++){var ke=z[Re];if(ke==L)Te+=1;else if(ke==A)Te+=V;else{if(ke==$)continue;break}}return X&&te!==!1&&(Te+=V),Math.min(Te,se)}function le(Te){for(var Re=Te-K,ke=K;ke<Te;ke++){var me=z[ke];(me===12||me===2)&&(Re-=1)}U.length||(ce=J(),U.indent=ce),Q+=Re,U.push(Q),K=Te}for(var ce=0;q-K>F-ce;){var ue=K+F-ce;if(z[ue-1]>=L&&z[ue]>=L){le(ue);continue}if(z[ue]==C||z[ue]==S){for(ue;ue!=K-1&&z[ue]!=C;ue--);if(ue>K){le(ue);continue}for(ue=K+F,ue;ue<z.length&&z[ue]==S;ue++);if(ue==z.length)break;le(ue);continue}for(var Ie=Math.max(ue-(F-(F>>2)),K-1);ue>Ie&&z[ue]<C;)ue--;if(X){for(;ue>Ie&&z[ue]<C;)ue--;for(;ue>Ie&&z[ue]==N;)ue--}else for(;ue>Ie&&z[ue]<L;)ue--;if(ue>Ie){le(++ue);continue}ue=K+F,z[ue]==k&&ue--,le(ue-ce)}return U},B.prototype.$getDisplayTokens=function(z,F){var V=[],U;F=F||0;for(var q=0;q<z.length;q++){var K=z.charCodeAt(q);if(K==9){U=this.getScreenTabSize(V.length+F),V.push(A);for(var Q=1;Q<U;Q++)V.push($)}else K==32?V.push(L):K>39&&K<48||K>57&&K<64?V.push(N):K>=4352&&O(K)?V.push(R,k):V.push(R)}return V},B.prototype.$getStringScreenWidth=function(z,F,V){if(F==0)return[0,0];F==null&&(F=1/0),V=V||0;var U,q;for(q=0;q<z.length&&(U=z.charCodeAt(q),U==9?V+=this.getScreenTabSize(V):U>=4352&&O(U)?V+=2:V+=1,!(V>F));q++);return[V,q]},B.prototype.getRowLength=function(z){var F=1;return this.lineWidgets&&(F+=this.lineWidgets[z]&&this.lineWidgets[z].rowCount||0),!this.$useWrapMode||!this.$wrapData[z]?F:this.$wrapData[z].length+F},B.prototype.getRowLineCount=function(z){return!this.$useWrapMode||!this.$wrapData[z]?1:this.$wrapData[z].length+1},B.prototype.getRowWrapIndent=function(z){if(this.$useWrapMode){var F=this.screenToDocumentPosition(z,Number.MAX_VALUE),V=this.$wrapData[F.row];return V.length&&V[0]<F.column?V.indent:0}else return 0},B.prototype.getScreenLastRowColumn=function(z){var F=this.screenToDocumentPosition(z,Number.MAX_VALUE);return this.documentToScreenColumn(F.row,F.column)},B.prototype.getDocumentLastRowColumn=function(z,F){var V=this.documentToScreenRow(z,F);return this.getScreenLastRowColumn(V)},B.prototype.getDocumentLastRowColumnPosition=function(z,F){var V=this.documentToScreenRow(z,F);return this.screenToDocumentPosition(V,Number.MAX_VALUE/10)},B.prototype.getRowSplitData=function(z){if(this.$useWrapMode)return this.$wrapData[z]},B.prototype.getScreenTabSize=function(z){return this.$tabSize-(z%this.$tabSize|0)},B.prototype.screenToDocumentRow=function(z,F){return this.screenToDocumentPosition(z,F).row},B.prototype.screenToDocumentColumn=function(z,F){return this.screenToDocumentPosition(z,F).column},B.prototype.screenToDocumentPosition=function(z,F,V){if(z<0)return{row:0,column:0};var U,q=0,K=0,Q,X=0,te=0,se=this.$screenRowCache,J=this.$getRowCacheIndex(se,z),le=se.length;if(le&&J>=0)var X=se[J],q=this.$docRowCache[J],ce=z>se[le-1];else var ce=!le;for(var ue=this.getLength()-1,Ie=this.getNextFoldLine(q),Te=Ie?Ie.start.row:1/0;X<=z&&(te=this.getRowLength(q),!(X+te>z||q>=ue));)X+=te,q++,q>Te&&(q=Ie.end.row+1,Ie=this.getNextFoldLine(q,Ie),Te=Ie?Ie.start.row:1/0),ce&&(this.$docRowCache.push(q),this.$screenRowCache.push(X));if(Ie&&Ie.start.row<=q)U=this.getFoldDisplayLine(Ie),q=Ie.start.row;else{if(X+te<=z||q>ue)return{row:ue,column:this.getLine(ue).length};U=this.getLine(q),Ie=null}var Re=0,ke=Math.floor(z-X);if(this.$useWrapMode){var me=this.$wrapData[q];me&&(Q=me[ke],ke>0&&me.length&&(Re=me.indent,K=me[ke-1]||me[me.length-1],U=U.substring(K)))}return V!==void 0&&this.$bidiHandler.isBidiRow(X+ke,q,ke)&&(F=this.$bidiHandler.offsetToCol(V)),K+=this.$getStringScreenWidth(U,F-Re)[1],this.$useWrapMode&&K>=Q&&(K=Q-1),Ie?Ie.idxToPosition(K):{row:q,column:K}},B.prototype.documentToScreenPosition=function(z,F){if(typeof F>"u")var V=this.$clipPositionToDocument(z.row,z.column);else V=this.$clipPositionToDocument(z,F);z=V.row,F=V.column;var U=0,q=null,K=null;K=this.getFoldAt(z,F,1),K&&(z=K.start.row,F=K.start.column);var Q,X=0,te=this.$docRowCache,se=this.$getRowCacheIndex(te,z),J=te.length;if(J&&se>=0)var X=te[se],U=this.$screenRowCache[se],le=z>te[J-1];else var le=!J;for(var ce=this.getNextFoldLine(X),ue=ce?ce.start.row:1/0;X<z;){if(X>=ue){if(Q=ce.end.row+1,Q>z)break;ce=this.getNextFoldLine(Q,ce),ue=ce?ce.start.row:1/0}else Q=X+1;U+=this.getRowLength(X),X=Q,le&&(this.$docRowCache.push(X),this.$screenRowCache.push(U))}var Ie="";ce&&X>=ue?(Ie=this.getFoldDisplayLine(ce,z,F),q=ce.start.row):(Ie=this.getLine(z).substring(0,F),q=z);var Te=0;if(this.$useWrapMode){var Re=this.$wrapData[q];if(Re){for(var ke=0;Ie.length>=Re[ke];)U++,ke++;Ie=Ie.substring(Re[ke-1]||0,Ie.length),Te=ke>0?Re.indent:0}}return this.lineWidgets&&this.lineWidgets[X]&&this.lineWidgets[X].rowsAbove&&(U+=this.lineWidgets[X].rowsAbove),{row:U,column:Te+this.$getStringScreenWidth(Ie)[0]}},B.prototype.documentToScreenColumn=function(z,F){return this.documentToScreenPosition(z,F).column},B.prototype.documentToScreenRow=function(z,F){return this.documentToScreenPosition(z,F).row},B.prototype.getScreenLength=function(){var z=0,F=null;if(this.$useWrapMode)for(var q=this.$wrapData.length,K=0,U=0,F=this.$foldData[U++],Q=F?F.start.row:1/0;K<q;){var X=this.$wrapData[K];z+=X?X.length+1:1,K++,K>Q&&(K=F.end.row+1,F=this.$foldData[U++],Q=F?F.start.row:1/0)}else{z=this.getLength();for(var V=this.$foldData,U=0;U<V.length;U++)F=V[U],z-=F.end.row-F.start.row}return this.lineWidgets&&(z+=this.$getWidgetScreenLength()),z},B.prototype.$setFontMetrics=function(z){this.$enableVarChar&&(this.$getStringScreenWidth=function(F,V,U){if(V===0)return[0,0];V||(V=1/0),U=U||0;var q,K;for(K=0;K<F.length&&(q=F.charAt(K),q==="	"?U+=this.getScreenTabSize(U):U+=z.getCharacterWidth(q),!(U>V));K++);return[U,K]})},B.prototype.getPrecedingCharacter=function(){var z=this.selection.getCursor();if(z.column===0)return z.row===0?"":this.doc.getNewLineCharacter();var F=this.getLine(z.row);return F[z.column-1]},B.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},B}();x.$uid=0,x.prototype.$modes=d.$modes,x.prototype.getValue=x.prototype.toString,x.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},x.prototype.$overwrite=!1,x.prototype.$mode=null,x.prototype.$modeId=null,x.prototype.$scrollTop=0,x.prototype.$scrollLeft=0,x.prototype.$wrapLimit=80,x.prototype.$useWrapMode=!1,x.prototype.$wrapLimitRange={min:null,max:null},x.prototype.lineWidgets=null,x.prototype.isFullWidth=O,g.implement(x.prototype,f);var R=1,k=2,C=3,S=4,N=9,L=10,A=11,$=12;function O(B){return B<4352?!1:B>=4352&&B<=4447||B>=4515&&B<=4519||B>=4602&&B<=4607||B>=9001&&B<=9002||B>=11904&&B<=11929||B>=11931&&B<=12019||B>=12032&&B<=12245||B>=12272&&B<=12283||B>=12288&&B<=12350||B>=12353&&B<=12438||B>=12441&&B<=12543||B>=12549&&B<=12589||B>=12593&&B<=12686||B>=12688&&B<=12730||B>=12736&&B<=12771||B>=12784&&B<=12830||B>=12832&&B<=12871||B>=12880&&B<=13054||B>=13056&&B<=19903||B>=19968&&B<=42124||B>=42128&&B<=42182||B>=43360&&B<=43388||B>=44032&&B<=55203||B>=55216&&B<=55238||B>=55243&&B<=55291||B>=63744&&B<=64255||B>=65040&&B<=65049||B>=65072&&B<=65106||B>=65108&&B<=65126||B>=65128&&B<=65131||B>=65281&&B<=65376||B>=65504&&B<=65510}i("./edit_session/folding").Folding.call(x.prototype),i("./edit_session/bracket_match").BracketMatch.call(x.prototype),d.defineOptions(x.prototype,"session",{wrap:{set:function(B){if(!B||B=="off"?B=!1:B=="free"?B=!0:B=="printMargin"?B=-1:typeof B=="string"&&(B=parseInt(B,10)||!1),this.$wrap!=B)if(this.$wrap=B,!B)this.setUseWrapMode(!1);else{var z=typeof B=="number"?B:null;this.setWrapLimitRange(z,z),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(B){B=B=="auto"?this.$mode.type!="text":B!="text",B!=this.$wrapAsCode&&(this.$wrapAsCode=B,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(B){this.$useWorker=B,this.$stopWorker(),B&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(B){B=parseInt(B),B>0&&this.$tabSize!==B&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=B,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(B){this.setFoldStyle(B)},handlesSet:!0},overwrite:{set:function(B){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(B){this.doc.setNewLineMode(B)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(B){this.setMode(B)},get:function(){return this.$modeId},handlesSet:!0}}),a.EditSession=x}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(i,a,w){var g=i("./lib/lang"),y=i("./lib/oop"),b=i("./range").Range,d=function(){function o(){this.$options={}}return o.prototype.set=function(u){return y.mixin(this.$options,u),this},o.prototype.getOptions=function(){return g.copyObject(this.$options)},o.prototype.setOptions=function(u){this.$options=u},o.prototype.find=function(u){var h=this.$options,m=this.$matchIterator(u,h);if(!m)return!1;var v=null;return m.forEach(function(T,x,R,k){return v=new b(T,x,R,k),x==k&&h.start&&h.start.start&&h.skipCurrent!=!1&&v.isEqual(h.start)?(v=null,!1):!0}),v},o.prototype.findAll=function(u){var h=this.$options;if(!h.needle)return[];this.$assembleRegExp(h);var m=h.range,v=m?u.getLines(m.start.row,m.end.row):u.doc.getAllLines(),T=[],x=h.re;if(h.$isMultiLine){var R=x.length,k=v.length-R,C;e:for(var S=x.offset||0;S<=k;S++){for(var N=0;N<R;N++)if(v[S+N].search(x[N])==-1)continue e;var L=v[S],A=v[S+R-1],$=L.length-L.match(x[0])[0].length,O=A.match(x[R-1])[0].length;C&&C.end.row===S&&C.end.column>$||(T.push(C=new b(S,$,S+R-1,O)),R>2&&(S=S+R-2))}}else for(var B,z=0;z<v.length;z++)if(this.$isMultilineSearch(h)){var F=v.length-1;if(B=this.$multiLineForward(u,x,z,F),B){var V=B.endRow<=F?B.endRow-1:F;V>z&&(z=V),T.push(new b(B.startRow,B.startCol,B.endRow,B.endCol))}}else{B=g.getMatchOffsets(v[z],x);for(var N=0;N<B.length;N++){var U=B[N];T.push(new b(z,U.offset,z,U.offset+U.length))}}if(m){for(var q=m.start.column,K=m.end.column,z=0,N=T.length-1;z<N&&T[z].start.column<q&&T[z].start.row==0;)z++;for(var Q=m.end.row-m.start.row;z<N&&T[N].end.column>K&&T[N].end.row==Q;)N--;for(T=T.slice(z,N+1),z=0,N=T.length;z<N;z++)T[z].start.row+=m.start.row,T[z].end.row+=m.start.row}return T},o.prototype.parseReplaceString=function(u){for(var h={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",v=0,T=u.length;v<T;v++){var x=u.charCodeAt(v);if(x===h.Backslash){if(v++,v>=T){m+="\\";break}var R=u.charCodeAt(v);switch(R){case h.Backslash:m+="\\";break;case h.n:m+=`
`;break;case h.t:m+="	";break}continue}if(x===h.DollarSign){if(v++,v>=T){m+="$";break}var k=u.charCodeAt(v);if(k===h.DollarSign){m+="$$";continue}if(k===h.Digit0||k===h.Ampersand){m+="$&";continue}if(h.Digit1<=k&&k<=h.Digit9){m+="$"+u[v];continue}}m+=u[v]}return m||u},o.prototype.replace=function(u,h){var m=this.$options,v=this.$assembleRegExp(m);if(m.$isMultiLine)return h;if(v){var T=this.$isMultilineSearch(m);T&&(u=u.replace(/\r\n|\r|\n/g,`
`));var x=v.exec(u);if(!x||!T&&x[0].length!=u.length)return null;if(h=m.regExp?this.parseReplaceString(h):h.replace(/\$/g,"$$$$"),h=u.replace(v,h),m.preserveCase){h=h.split("");for(var R=Math.min(u.length,u.length);R--;){var k=u[R];k&&k.toLowerCase()!=k?h[R]=h[R].toUpperCase():h[R]=h[R].toLowerCase()}h=h.join("")}return h}},o.prototype.$assembleRegExp=function(u,h){if(u.needle instanceof RegExp)return u.re=u.needle;var m=u.needle;if(!u.needle)return u.re=!1;u.regExp||(m=g.escapeRegExp(m));var v=u.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),u.$supportsUnicodeFlag=!0,v+="u"}catch{u.$supportsUnicodeFlag=!1}if(u.wholeWord&&(m=f(m,u)),u.$isMultiLine=!h&&/[\n\r]/.test(m),u.$isMultiLine)return u.re=this.$assembleMultilineRegExp(m,v);try{var T=new RegExp(m,v)}catch{T=!1}return u.re=T},o.prototype.$assembleMultilineRegExp=function(u,h){for(var m=u.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),v=[],T=0;T<m.length;T++)try{v.push(new RegExp(m[T],h))}catch{return!1}return v},o.prototype.$isMultilineSearch=function(u){return u.re&&/\\r\\n|\\r|\\n/.test(u.re.source)&&u.regExp&&!u.$isMultiLine},o.prototype.$multiLineForward=function(u,h,m,v){for(var T,x=s(u,m),R=m;R<=v;){for(var k=0;k<x&&!(R>v);k++){var C=u.getLine(R++);T=T==null?C:T+`
`+C}var S=h.exec(T);if(h.lastIndex=0,S){var N=T.slice(0,S.index).split(`
`),L=S[0].split(`
`),A=m+N.length-1,$=N[N.length-1].length,O=A+L.length-1,B=L.length==1?$+L[0].length:L[L.length-1].length;return{startRow:A,startCol:$,endRow:O,endCol:B}}}return null},o.prototype.$multiLineBackward=function(u,h,m,v,T){for(var x,R=s(u,v),k=u.getLine(v).length-m,C=v;C>=T;){for(var S=0;S<R&&C>=T;S++){var N=u.getLine(C--);x=x==null?N:N+`
`+x}var L=c(x,h,k);if(L){var A=x.slice(0,L.index).split(`
`),$=L[0].split(`
`),O=C+A.length,B=A[A.length-1].length,z=O+$.length-1,F=$.length==1?B+$[0].length:$[$.length-1].length;return{startRow:O,startCol:B,endRow:z,endCol:F}}}return null},o.prototype.$matchIterator=function(u,h){var m=this.$assembleRegExp(h);if(!m)return!1;var v=this.$isMultilineSearch(h),T=this.$multiLineForward,x=this.$multiLineBackward,R=h.backwards==!0,k=h.skipCurrent!=!1,C=m.unicode,S=h.range,N=h.start;N||(N=S?S[R?"end":"start"]:u.selection.getRange()),N.start&&(N=N[k!=R?"end":"start"]);var L=S?S.start.row:0,A=S?S.end.row:u.getLength()-1;if(R)var $=function(z){var F=N.row;if(!B(F,N.column,z)){for(F--;F>=L;F--)if(B(F,Number.MAX_VALUE,z))return;if(h.wrap!=!1){for(F=A,L=N.row;F>=L;F--)if(B(F,Number.MAX_VALUE,z))return}}};else var $=function(F){var V=N.row;if(!B(V,N.column,F)){for(V=V+1;V<=A;V++)if(B(V,0,F))return;if(h.wrap!=!1){for(V=L,A=N.row;V<=A;V++)if(B(V,0,F))return}}};if(h.$isMultiLine)var O=m.length,B=function(z,F,V){var U=R?z-O+1:z;if(!(U<0||U+O>u.getLength())){var q=u.getLine(U),K=q.search(m[0]);if(!(!R&&K<F||K===-1)){for(var Q=1;Q<O;Q++)if(q=u.getLine(U+Q),q.search(m[Q])==-1)return;var X=q.match(m[O-1])[0].length;if(!(R&&X>F)&&V(U,K,U+O-1,X))return!0}}};else if(R)var B=function(F,V,U){if(v){var q=x(u,m,V,F,L);if(!q)return!1;if(U(q.startRow,q.startCol,q.endRow,q.endCol))return!0}else{var K=u.getLine(F),Q=[],X,te=0;for(m.lastIndex=0;X=m.exec(K);){var se=X[0].length;if(te=X.index,!se){if(te>=K.length)break;m.lastIndex=te+=g.skipEmptyMatch(K,te,C)}if(X.index+se>V)break;Q.push(X.index,se)}for(var J=Q.length-1;J>=0;J-=2){var le=Q[J-1],se=Q[J];if(U(F,le,F,le+se))return!0}}};else var B=function(F,V,U){if(m.lastIndex=V,v){var q=T(u,m,F,A);if(q){var K=q.endRow<=A?q.endRow-1:A;K>F&&(F=K)}if(!q)return!1;if(U(q.startRow,q.startCol,q.endRow,q.endCol))return!0}else for(var Q=u.getLine(F),X,te;te=m.exec(Q);){var se=te[0].length;if(X=te.index,U(F,X,F,X+se))return!0;if(!se&&(m.lastIndex=X+=g.skipEmptyMatch(Q,X,C),X>=Q.length))return!1}};return{forEach:$}},o}();function f(o,u){var h=g.supportsLookbehind();function m(R,k){k===void 0&&(k=!0);var C=h&&u.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return C.test(R)||u.regExp?h&&u.$supportsUnicodeFlag?k?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var v=Array.from(o),T=v[0],x=v[v.length-1];return m(T)+o+m(x,!1)}function c(o,u,h){for(var m=null,v=0;v<=o.length;){u.lastIndex=v;var T=u.exec(o);if(!T)break;var x=T.index+T[0].length;if(x>o.length-h)break;(!m||x>m.index+m[0].length)&&(m=T),v=T.index+1}return m}function s(o,u){var h=5e3,m={row:u,column:0},v=o.doc.positionToIndex(m),T=v+h,x=o.doc.indexToPosition(T),R=x.row;return R+1}a.Search=d}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,a,w){var g=this&&this.__extends||function(){var o=function(u,h){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])},o(u,h)};return function(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");o(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),y=i("../lib/keys"),b=i("../lib/useragent"),d=y.KEY_MODS,f=function(){function o(u,h){this.$init(u,h,!1)}return o.prototype.$init=function(u,h,m){this.platform=h||(b.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(u),this.$singleCommand=m},o.prototype.addCommand=function(u){this.commands[u.name]&&this.removeCommand(u),this.commands[u.name]=u,u.bindKey&&this._buildKeyHash(u)},o.prototype.removeCommand=function(u,h){var m=u&&(typeof u=="string"?u:u.name);u=this.commands[m],h||delete this.commands[m];var v=this.commandKeyBinding;for(var T in v){var x=v[T];if(x==u)delete v[T];else if(Array.isArray(x)){var R=x.indexOf(u);R!=-1&&(x.splice(R,1),x.length==1&&(v[T]=x[0]))}}},o.prototype.bindKey=function(u,h,m){if(typeof u=="object"&&u&&(m==null&&(m=u.position),u=u[this.platform]),!!u){if(typeof h=="function")return this.addCommand({exec:h,bindKey:u,name:h.name||u});u.split("|").forEach(function(v){var T="";if(v.indexOf(" ")!=-1){var x=v.split(/\s+/);v=x.pop(),x.forEach(function(C){var S=this.parseKeys(C),N=d[S.hashId]+S.key;T+=(T?" ":"")+N,this._addCommandToBinding(T,"chainKeys")},this),T+=" "}var R=this.parseKeys(v),k=d[R.hashId]+R.key;this._addCommandToBinding(T+k,h,m)},this)}},o.prototype._addCommandToBinding=function(u,h,m){var v=this.commandKeyBinding,T;if(!h)delete v[u];else if(!v[u]||this.$singleCommand)v[u]=h;else{Array.isArray(v[u])?(T=v[u].indexOf(h))!=-1&&v[u].splice(T,1):v[u]=[v[u]],typeof m!="number"&&(m=c(h));var x=v[u];for(T=0;T<x.length;T++){var R=x[T],k=c(R);if(k>m)break}x.splice(T,0,h)}},o.prototype.addCommands=function(u){u&&Object.keys(u).forEach(function(h){var m=u[h];if(m){if(typeof m=="string")return this.bindKey(m,h);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=h),this.addCommand(m))}},this)},o.prototype.removeCommands=function(u){Object.keys(u).forEach(function(h){this.removeCommand(u[h])},this)},o.prototype.bindKeys=function(u){Object.keys(u).forEach(function(h){this.bindKey(h,u[h])},this)},o.prototype._buildKeyHash=function(u){this.bindKey(u.bindKey,u)},o.prototype.parseKeys=function(u){var h=u.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(k){return k}),m=h.pop(),v=y[m];if(y.FUNCTION_KEYS[v])m=y.FUNCTION_KEYS[v].toLowerCase();else if(h.length){if(h.length==1&&h[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var T=0,x=h.length;x--;){var R=y.KEY_MODS[h[x]];if(R==null)return typeof console<"u"&&console.error("invalid modifier "+h[x]+" in "+u),!1;T|=R}return{key:m,hashId:T}},o.prototype.findKeyCommand=function(u,h){var m=d[u]+h;return this.commandKeyBinding[m]},o.prototype.handleKeyboard=function(u,h,m,v){if(!(v<0)){var T=d[h]+m,x=this.commandKeyBinding[T];return u.$keyChain&&(u.$keyChain+=" "+T,x=this.commandKeyBinding[u.$keyChain]||x),x&&(x=="chainKeys"||x[x.length-1]=="chainKeys")?(u.$keyChain=u.$keyChain||T,{command:"null"}):(u.$keyChain&&((!h||h==4)&&m.length==1?u.$keyChain=u.$keyChain.slice(0,-T.length-1):(h==-1||v>0)&&(u.$keyChain="")),{command:x})}},o.prototype.getStatusText=function(u,h){return h.$keyChain||""},o}();function c(o){return typeof o=="object"&&o.bindKey&&o.bindKey.position||(o.isDefault?-100:0)}var s=function(o){g(u,o);function u(h,m){var v=o.call(this,h,m)||this;return v.$singleCommand=!0,v}return u}(f);s.call=function(o,u,h){f.prototype.$init.call(o,u,h,!0)},f.call=function(o,u,h){f.prototype.$init.call(o,u,h,!1)},a.HashHandler=s,a.MultiHashHandler=f}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(i,a,w){var g=this&&this.__extends||function(){var c=function(s,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(u[m]=h[m])},c(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(s,o);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}(),y=i("../lib/oop"),b=i("../keyboard/hash_handler").MultiHashHandler,d=i("../lib/event_emitter").EventEmitter,f=function(c){g(s,c);function s(o,u){var h=c.call(this,u,o)||this;return h.byName=h.commands,h.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),h}return s.prototype.exec=function(o,u,h){if(Array.isArray(o)){for(var m=o.length;m--;)if(this.exec(o[m],u,h))return!0;return!1}typeof o=="string"&&(o=this.commands[o]);var v={editor:u,command:o,args:h};return this.canExecute(o,u)?(v.returnValue=this._emit("exec",v),this._signal("afterExec",v),v.returnValue!==!1):(this._signal("commandUnavailable",v),!1)},s.prototype.canExecute=function(o,u){return typeof o=="string"&&(o=this.commands[o]),!(!o||u&&u.$readOnly&&!o.readOnly||this.$checkCommandState!=!1&&o.isAvailable&&!o.isAvailable(u))},s.prototype.toggleRecording=function(o){if(!this.$inReplay)return o&&o._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(u){this.macro.push([u.command,u.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},s.prototype.replay=function(o){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(o);try{this.$inReplay=!0,this.macro.forEach(function(u){typeof u=="string"?this.exec(u,o):this.exec(u[0],o,u[1])},this)}finally{this.$inReplay=!1}}},s.prototype.trimMacro=function(o){return o.map(function(u){return typeof u[0]!="string"&&(u[0]=u[0].name),u[1]||(u=u[0]),u})},s}(b);y.implement(f.prototype,d),a.CommandManager=f}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(i,a,w){var g=i("../lib/lang"),y=i("../config"),b=i("../range").Range;function d(c,s){return{win:c,mac:s}}a.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:d("Ctrl-,","Command-,"),exec:function(c){y.loadModule("ace/ext/settings_menu",function(s){s.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:d("Alt-E","F4"),exec:function(c){y.loadModule("ace/ext/error_marker",function(s){s.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:d("Alt-Shift-E","Shift-F4"),exec:function(c){y.loadModule("ace/ext/error_marker",function(s){s.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:d("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:d(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:d("Ctrl-L","Command-L"),exec:function(c,s){typeof s=="number"&&!isNaN(s)&&c.gotoLine(s),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:d("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:d("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:d("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:d("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:d("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:d("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:d("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:d("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:d("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:d("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:d("Ctrl-F","Command-F"),exec:function(c){y.loadModule("ace/ext/searchbox",function(s){s.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:d("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:d("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:d("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:d("Up","Up|Ctrl-P"),exec:function(c,s){c.navigateUp(s.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:d("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:d("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:d("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:d("Down","Down|Ctrl-N"),exec:function(c,s){c.navigateDown(s.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:d("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:d("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:d("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:d("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:d("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:d("Left","Left|Ctrl-B"),exec:function(c,s){c.navigateLeft(s.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:d("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:d("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:d("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:d("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:d("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:d("Right","Right|Ctrl-F"),exec:function(c,s){c.navigateRight(s.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:d(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:d("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:d(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:d("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:d("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:d("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:d("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:d("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:d("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:d("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:d(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var s=c.$copyWithEmptySelection&&c.selection.isEmpty(),o=s?c.selection.getLineRange():c.selection.getRange();c._emit("cut",o),o.isEmpty()||c.session.remove(o),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,s){c.$handlePaste(s)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:d("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:d("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:d("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:d("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:d("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:d("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:d("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:d("Ctrl-H","Command-Option-F"),exec:function(c){y.loadModule("ace/ext/searchbox",function(s){s.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:d("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:d("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:d("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:d("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:d("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:d("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:d("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:d("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:d("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:d("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:d("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:d("Ctrl-Shift-Backspace",null),exec:function(c){var s=c.selection.getRange();s.start.column=0,c.session.remove(s)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:d("Ctrl-Shift-Delete",null),exec:function(c){var s=c.selection.getRange();s.end.column=Number.MAX_VALUE,c.session.remove(s)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:d("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:d("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:d("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:d("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:d("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:d("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,s){c.insert(s)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,s){c.insert(g.stringRepeat(s.text||"",s.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:d(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:d("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:d("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:d("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:d(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:d("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var s=c.selection.getRange();s.start.column=s.end.column=0,s.end.row++,c.selection.setRange(s,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:d("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:d(null,null),exec:function(c){for(var s=c.selection.isBackwards(),o=s?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),u=s?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),h=c.session.doc.getLine(o.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),v=m.replace(/\n\s*/," ").length,T=c.session.doc.getLine(o.row),x=o.row+1;x<=u.row+1;x++){var R=g.stringTrimLeft(g.stringTrimRight(c.session.doc.getLine(x)));R.length!==0&&(R=" "+R),T+=R}u.row+1<c.session.doc.getLength()-1&&(T+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new b(o.row,0,u.row+2,0),T),v>0?(c.selection.moveCursorTo(o.row,o.column),c.selection.selectTo(o.row,o.column+v)):(h=c.session.doc.getLine(o.row).length>h?h+1:h,c.selection.moveCursorTo(o.row,h))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:d(null,null),exec:function(c){var s=c.session.doc.getLength()-1,o=c.session.doc.getLine(s).length,u=c.selection.rangeList.ranges,h=[];u.length<1&&(u=[c.selection.getRange()]);for(var m=0;m<u.length;m++)m==u.length-1&&(u[m].end.row===s&&u[m].end.column===o||h.push(new b(u[m].end.row,u[m].end.column,s,o))),m===0?u[m].start.row===0&&u[m].start.column===0||h.push(new b(0,0,u[m].start.row,u[m].start.column)):h.push(new b(u[m-1].end.row,u[m-1].end.column,u[m].start.row,u[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<h.length;m++)c.selection.addRange(h[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var s=c.getCursorPosition();c.selection.moveTo(s.row-1,Number.MAX_VALUE),c.insert(`
`),s.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:d("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:d(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var f=1;f<9;f++)a.commands.push({name:"foldToLevel"+f,description:"Fold To Level "+f,level:f,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(i,a,w){var g=i("../lib/keys"),y=i("../mouse/default_gutter_handler").GutterTooltip,b=function(){function f(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new y(this.editor)}return f.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},f.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},f.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===g.escape&&this.annotationTooltip.hideTooltip();return}if(c.target===this.element){if(c.keyCode!=g.enter)return;c.preventDefault();var s=this.editor.getCursorPosition().row;this.editor.isRowVisible(s)||this.editor.scrollToLine(s,!0,!0),setTimeout((function(){var o=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),u=this.$findNearestFoldWidget(o),h=this.$findNearestAnnotation(o);if(!(u===null&&h===null)){if(u===null&&h!==null){this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(u!==null&&h===null){this.activeRowIndex=u,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(h-o)<Math.abs(u-o)){this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=u,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new d(c,this))}).bind(this),10)},f.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===g.tab){c.preventDefault();return}if(c.keyCode===g.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===g.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===g.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===g.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===g.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===g.enter||c.keyCode===g.space){switch(c.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var s=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==s&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(s),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var o=this.lines.cells[this.activeRowIndex].element.childNodes[2],u=o.getBoundingClientRect(),h=this.annotationTooltip.getElement().style;h.left=u.right+"px",h.top=u.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},f.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},f.prototype.$isFoldWidgetVisible=function(c){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),o=this.$getFoldWidget(c).style.display!=="none";return s&&o},f.prototype.$isAnnotationVisible=function(c){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),o=this.$getAnnotation(c).style.display!=="none";return s&&o},f.prototype.$getFoldWidget=function(c){var s=this.lines.get(c),o=s.element;return o.childNodes[1]},f.prototype.$getAnnotation=function(c){var s=this.lines.get(c),o=s.element;return o.childNodes[2]},f.prototype.$findNearestFoldWidget=function(c){if(this.$isFoldWidgetVisible(c))return c;for(var s=0;c-s>0||c+s<this.lines.getLength()-1;){if(s++,c-s>=0&&this.$isFoldWidgetVisible(c-s))return c-s;if(c+s<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+s))return c+s}return null},f.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var s=0;c-s>0||c+s<this.lines.getLength()-1;){if(s++,c-s>=0&&this.$isAnnotationVisible(c-s))return c-s;if(c+s<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+s))return c+s}return null},f.prototype.$focusFoldWidget=function(c){if(c!=null){var s=this.$getFoldWidget(c);s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus()}},f.prototype.$focusAnnotation=function(c){if(c!=null){var s=this.$getAnnotation(c);s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus()}},f.prototype.$blurFoldWidget=function(c){var s=this.$getFoldWidget(c);s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur()},f.prototype.$blurAnnotation=function(c){var s=this.$getAnnotation(c);s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur()},f.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},f.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},f.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},f.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},f.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var s=this.$findNearestAnnotation(this.activeRowIndex);if(s==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var o=this.$findNearestFoldWidget(this.activeRowIndex);if(o==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);break}},f.prototype.$rowIndexToRow=function(c){var s=this.lines.get(c);return s?s.row:null},f.prototype.$rowToRowIndex=function(c){for(var s=0;s<this.lines.getLength();s++){var o=this.lines.get(s);if(o.row==c)return s}return null},f}();a.GutterKeyboardHandler=b;var d=function(){function f(c,s){this.gutterKeyboardHandler=s,this.domEvent=c}return f.prototype.getKey=function(){return g.keyCodeToString(this.domEvent.keyCode)},f.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},f.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},f.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},f}();a.GutterKeyboardEvent=d}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(i,a,w){var g=this&&this.__values||function(F){var V=typeof Symbol=="function"&&Symbol.iterator,U=V&&F[V],q=0;if(U)return U.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&q>=F.length&&(F=void 0),{value:F&&F[q++],done:!F}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")},y=i("./lib/oop"),b=i("./lib/dom"),d=i("./lib/lang"),f=i("./lib/useragent"),c=i("./keyboard/textinput").TextInput,s=i("./mouse/mouse_handler").MouseHandler,o=i("./mouse/fold_handler").FoldHandler,u=i("./keyboard/keybinding").KeyBinding,h=i("./edit_session").EditSession,m=i("./search").Search,v=i("./range").Range,T=i("./lib/event_emitter").EventEmitter,x=i("./commands/command_manager").CommandManager,R=i("./commands/default_commands").commands,k=i("./config"),C=i("./token_iterator").TokenIterator,S=i("./keyboard/gutter_handler").GutterKeyboardHandler,N=i("./config").nls,L=i("./clipboard"),A=i("./lib/keys"),$=i("./lib/event"),O=i("./tooltip").HoverTooltip,B=function(){function F(V,U,q){this.session,this.$toDestroy=[];var K=V.getContainerElement();this.container=K,this.renderer=V,this.id="editor"+ ++F.$uid,this.commands=new x(f.isMac?"mac":"win",R),typeof document=="object"&&(this.textInput=new c(V.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new s(this),new o(this)),this.keyBinding=new u(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=d.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(Q,X){X._$emitInputEvent.schedule(31)}),this.setSession(U||q&&q.session||new h("")),k.resetOptions(this),q&&this.setOptions(q),k._signal("editor",this)}return F.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},F.prototype.startOperation=function(V){this.session.startOperation(V)},F.prototype.endOperation=function(V){this.session.endOperation(V)},F.prototype.onStartOperation=function(V){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,V||(this.previousCommand=null)},F.prototype.onEndOperation=function(V){if(this.curOp&&this.session){if(V&&V.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var U=this.curOp.command,q=U&&U.scrollIntoView;if(q){switch(q){case"center-animate":q="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var K=this.selection.getRange(),Q=this.renderer.layerConfig;(K.start.row>=Q.lastRow||K.end.row<=Q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}q=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},F.prototype.$historyTracker=function(V){if(this.$mergeUndoDeltas){var U=this.prevOp,q=this.$mergeableCommands,K=U.command&&V.command.name==U.command.name;if(V.command.name=="insertstring"){var Q=V.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),K=K&&this.mergeNextCommand&&(!/\s/.test(Q)||/\s/.test(U.args)),this.mergeNextCommand=!0}else K=K&&q.indexOf(V.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(K=!1),K?this.session.mergeUndoDeltas=!0:q.indexOf(V.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},F.prototype.setKeyboardHandler=function(V,U){if(V&&typeof V=="string"&&V!="ace"){this.$keybindingId=V;var q=this;k.loadModule(["keybinding",V],function(K){q.$keybindingId==V&&q.keyBinding.setKeyboardHandler(K&&K.handler),U&&U()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(V),U&&U()},F.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},F.prototype.setSession=function(V){if(this.session!=V){this.curOp&&this.endOperation(),this.curOp={};var U=this.session;if(U){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var q=this.session.getSelection();q.off("changeCursor",this.$onCursorChange),q.off("changeSelection",this.$onSelectionChange)}this.session=V,V?(this.$onDocumentChange=this.onDocumentChange.bind(this),V.on("change",this.$onDocumentChange),this.renderer.setSession(V),this.$onChangeMode=this.onChangeMode.bind(this),V.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),V.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),V.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),V.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),V.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),V.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=V.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(V)),this._signal("changeSession",{session:V,oldSession:U}),this.curOp=null,U&&U._signal("changeEditor",{oldEditor:this}),U&&(U.$editor=null),V&&V._signal("changeEditor",{editor:this}),V&&(V.$editor=this),V&&!V.destroyed&&V.bgTokenizer.scheduleStart()}},F.prototype.getSession=function(){return this.session},F.prototype.setValue=function(V,U){return this.session.doc.setValue(V),U?U==1?this.navigateFileEnd():U==-1&&this.navigateFileStart():this.selectAll(),V},F.prototype.getValue=function(){return this.session.getValue()},F.prototype.getSelection=function(){return this.selection},F.prototype.resize=function(V){this.renderer.onResize(V)},F.prototype.setTheme=function(V,U){this.renderer.setTheme(V,U)},F.prototype.getTheme=function(){return this.renderer.getTheme()},F.prototype.setStyle=function(V){this.renderer.setStyle(V)},F.prototype.unsetStyle=function(V){this.renderer.unsetStyle(V)},F.prototype.getFontSize=function(){return this.getOption("fontSize")||b.computedStyle(this.container).fontSize},F.prototype.setFontSize=function(V){this.setOption("fontSize",V)},F.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var V=this;this.$highlightPending=!0,setTimeout(function(){V.$highlightPending=!1;var U=V.session;if(!(!U||U.destroyed)){U.$bracketHighlight&&(U.$bracketHighlight.markerIds.forEach(function(ce){U.removeMarker(ce)}),U.$bracketHighlight=null);var q=V.getCursorPosition(),K=V.getKeyboardHandler(),Q=K&&K.$getDirectionForHighlight&&K.$getDirectionForHighlight(V),X=U.getMatchingBracketRanges(q,Q);if(!X){var te=new C(U,q.row,q.column),se=te.getCurrentToken();if(se&&/\b(?:tag-open|tag-name)/.test(se.type)){var J=U.getMatchingTags(q);J&&(X=[J.openTagName.isEmpty()?J.openTag:J.openTagName,J.closeTagName.isEmpty()?J.closeTag:J.closeTagName])}}if(!X&&U.$mode.getMatching&&(X=U.$mode.getMatching(V.session)),!X){V.getHighlightIndentGuides()&&V.renderer.$textLayer.$highlightIndentGuide();return}var le="ace_bracket";Array.isArray(X)?X.length==1&&(le="ace_error_bracket"):X=[X],X.length==2&&(v.comparePoints(X[0].end,X[1].start)==0?X=[v.fromPoints(X[0].start,X[1].end)]:v.comparePoints(X[0].start,X[1].end)==0&&(X=[v.fromPoints(X[1].start,X[0].end)])),U.$bracketHighlight={ranges:X,markerIds:X.map(function(ce){return U.addMarker(ce,le,"text")})},V.getHighlightIndentGuides()&&V.renderer.$textLayer.$highlightIndentGuide()}},50)}},F.prototype.focus=function(){this.textInput.focus()},F.prototype.isFocused=function(){return this.textInput.isFocused()},F.prototype.blur=function(){this.textInput.blur()},F.prototype.onFocus=function(V){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",V))},F.prototype.onBlur=function(V){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",V))},F.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},F.prototype.onDocumentChange=function(V){var U=this.session.$useWrapMode,q=V.start.row==V.end.row?V.end.row:1/0;this.renderer.updateLines(V.start.row,q,U),this._signal("change",V),this.$cursorChange()},F.prototype.onTokenizerUpdate=function(V){var U=V.data;this.renderer.updateLines(U.first,U.last)},F.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},F.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},F.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},F.prototype.$updateHighlightActiveLine=function(){var V=this.getSession(),U;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(U=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(U=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(U=!1)),V.$highlightLineMarker&&!U)V.removeMarker(V.$highlightLineMarker.id),V.$highlightLineMarker=null;else if(!V.$highlightLineMarker&&U){var q=new v(U.row,U.column,U.row,1/0);q.id=V.addMarker(q,"ace_active-line","screenLine"),V.$highlightLineMarker=q}else U&&(V.$highlightLineMarker.start.row=U.row,V.$highlightLineMarker.end.row=U.row,V.$highlightLineMarker.start.column=U.column,V._signal("changeBackMarker"))},F.prototype.onSelectionChange=function(V){var U=this.session;if(U.$selectionMarker&&U.removeMarker(U.$selectionMarker),U.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var q=this.selection.getRange(),K=this.getSelectionStyle();U.$selectionMarker=U.addMarker(q,"ace_selection",K)}var Q=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(Q),this._signal("changeSelection")},F.prototype.$getSelectionHighLightRegexp=function(){var V=this.session,U=this.getSelectionRange();if(!(U.isEmpty()||U.isMultiLine())){var q=U.start.column,K=U.end.column,Q=V.getLine(U.start.row),X=Q.substring(q,K);if(!(X.length>5e3||!/[\w\d]/.test(X))){var te=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:X}),se=Q.substring(q-1,K+1);if(te.test(se))return te}}},F.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},F.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},F.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},F.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},F.prototype.onChangeMode=function(V){this.renderer.updateText(),this._emit("changeMode",V)},F.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},F.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},F.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},F.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},F.prototype.getCopyText=function(){var V=this.getSelectedText(),U=this.session.doc.getNewLineCharacter(),q=!1;if(!V&&this.$copyWithEmptySelection){q=!0;for(var K=this.selection.getAllRanges(),Q=0;Q<K.length;Q++){var X=K[Q];Q&&K[Q-1].start.row==X.start.row||(V+=this.session.getLine(X.start.row)+U)}}var te={text:V};return this._signal("copy",te),L.lineMode=q?te.text:!1,te.text},F.prototype.onCopy=function(){this.commands.exec("copy",this)},F.prototype.onCut=function(){this.commands.exec("cut",this)},F.prototype.onPaste=function(V,U){var q={text:V,event:U};this.commands.exec("paste",this,q)},F.prototype.$handlePaste=function(V){typeof V=="string"&&(V={text:V}),this._signal("paste",V);var U=V.text,q=U===L.lineMode,K=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)q?K.insert({row:this.selection.lead.row,column:0},U):this.insert(U);else if(q)this.selection.rangeList.ranges.forEach(function(le){K.insert({row:le.start.row,column:0},U)});else{var Q=U.split(/\r\n|\r|\n/),X=this.selection.rangeList.ranges,te=Q.length==2&&(!Q[0]||!Q[1]);if(Q.length!=X.length||te)return this.commands.exec("insertstring",this,U);for(var se=X.length;se--;){var J=X[se];J.isEmpty()||K.remove(J),K.insert(J.start,Q[se])}}},F.prototype.execCommand=function(V,U){return this.commands.exec(V,this,U)},F.prototype.insert=function(V,U){var q=this.session,K=q.getMode(),Q=this.getCursorPosition();if(this.getBehavioursEnabled()&&!U){var X=K.transformAction(q.getState(Q.row),"insertion",this,q,V);X&&(V!==X.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),V=X.text)}if(V=="	"&&(V=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&V.indexOf(`
`)==-1){var te=v.fromPoints(Q,Q);te.end.column+=V.length,this.session.remove(te)}}else{var te=this.getSelectionRange();Q=this.session.remove(te),this.clearSelection()}if(V==`
`||V==`\r
`){var ce=q.getLine(Q.row);if(Q.column>ce.search(/\S|$/)){var se=ce.substr(Q.column).search(/\S|$/);q.doc.removeInLine(Q.row,Q.column,Q.column+se)}}this.clearSelection();var J=Q.column,le=q.getState(Q.row),ce=q.getLine(Q.row),ue=K.checkOutdent(le,ce,V);if(q.insert(Q,V),X&&X.selection&&(X.selection.length==2?this.selection.setSelectionRange(new v(Q.row,J+X.selection[0],Q.row,J+X.selection[1])):this.selection.setSelectionRange(new v(Q.row+X.selection[0],X.selection[1],Q.row+X.selection[2],X.selection[3]))),this.$enableAutoIndent){if(q.getDocument().isNewLine(V)){var Ie=K.getNextLineIndent(le,ce.slice(0,Q.column),q.getTabString());q.insert({row:Q.row+1,column:0},Ie)}ue&&K.autoOutdent(le,q,Q.row)}},F.prototype.autoIndent=function(){for(var V=this.session,U=V.getMode(),q=this.selection.isEmpty()?[new v(0,0,V.doc.getLength()-1,0)]:this.selection.getAllRanges(),K="",Q="",X="",te=V.getTabString(),se=0;se<q.length;se++)for(var J=q[se].start.row,le=q[se].end.row,ce=J;ce<=le;ce++){ce>0&&(K=V.getState(ce-1),Q=V.getLine(ce-1),X=U.getNextLineIndent(K,Q,te));var ue=V.getLine(ce),Ie=U.$getIndent(ue);if(X!==Ie){if(Ie.length>0){var Te=new v(ce,0,ce,Ie.length);V.remove(Te)}X.length>0&&V.insert({row:ce,column:0},X)}U.autoOutdent(K,V,ce)}},F.prototype.onTextInput=function(V,U){if(!U)return this.keyBinding.onTextInput(V);this.startOperation({command:{name:"insertstring"}});var q=this.applyComposition.bind(this,V,U);this.selection.rangeCount?this.forEachSelection(q):q(),this.endOperation()},F.prototype.applyComposition=function(V,U){if(U.extendLeft||U.extendRight){var q=this.selection.getRange();q.start.column-=U.extendLeft,q.end.column+=U.extendRight,q.start.column<0&&(q.start.row--,q.start.column+=this.session.getLine(q.start.row).length+1),this.selection.setRange(q),!V&&!q.isEmpty()&&this.remove()}if((V||!this.selection.isEmpty())&&this.insert(V,!0),U.restoreStart||U.restoreEnd){var q=this.selection.getRange();q.start.column-=U.restoreStart,q.end.column-=U.restoreEnd,this.selection.setRange(q)}},F.prototype.onCommandKey=function(V,U,q){return this.keyBinding.onCommandKey(V,U,q)},F.prototype.setOverwrite=function(V){this.session.setOverwrite(V)},F.prototype.getOverwrite=function(){return this.session.getOverwrite()},F.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},F.prototype.setScrollSpeed=function(V){this.setOption("scrollSpeed",V)},F.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},F.prototype.setDragDelay=function(V){this.setOption("dragDelay",V)},F.prototype.getDragDelay=function(){return this.getOption("dragDelay")},F.prototype.setSelectionStyle=function(V){this.setOption("selectionStyle",V)},F.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},F.prototype.setHighlightActiveLine=function(V){this.setOption("highlightActiveLine",V)},F.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},F.prototype.setHighlightGutterLine=function(V){this.setOption("highlightGutterLine",V)},F.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},F.prototype.setHighlightSelectedWord=function(V){this.setOption("highlightSelectedWord",V)},F.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},F.prototype.setAnimatedScroll=function(V){this.renderer.setAnimatedScroll(V)},F.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},F.prototype.setShowInvisibles=function(V){this.renderer.setShowInvisibles(V)},F.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},F.prototype.setDisplayIndentGuides=function(V){this.renderer.setDisplayIndentGuides(V)},F.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},F.prototype.setHighlightIndentGuides=function(V){this.renderer.setHighlightIndentGuides(V)},F.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},F.prototype.setShowPrintMargin=function(V){this.renderer.setShowPrintMargin(V)},F.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},F.prototype.setPrintMarginColumn=function(V){this.renderer.setPrintMarginColumn(V)},F.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},F.prototype.setReadOnly=function(V){this.setOption("readOnly",V)},F.prototype.getReadOnly=function(){return this.getOption("readOnly")},F.prototype.setBehavioursEnabled=function(V){this.setOption("behavioursEnabled",V)},F.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},F.prototype.setWrapBehavioursEnabled=function(V){this.setOption("wrapBehavioursEnabled",V)},F.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},F.prototype.setShowFoldWidgets=function(V){this.setOption("showFoldWidgets",V)},F.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},F.prototype.setFadeFoldWidgets=function(V){this.setOption("fadeFoldWidgets",V)},F.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},F.prototype.remove=function(V){this.selection.isEmpty()&&(V=="left"?this.selection.selectLeft():this.selection.selectRight());var U=this.getSelectionRange();if(this.getBehavioursEnabled()){var q=this.session,K=q.getState(U.start.row),Q=q.getMode().transformAction(K,"deletion",this,q,U);if(U.end.column===0){var X=q.getTextRange(U);if(X[X.length-1]==`
`){var te=q.getLine(U.end.row);/^\s+$/.test(te)&&(U.end.column=te.length)}}Q&&(U=Q)}this.session.remove(U),this.clearSelection()},F.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},F.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},F.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},F.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var V=this.getSelectionRange();V.start.column==V.end.column&&V.start.row==V.end.row&&(V.end.column=0,V.end.row++),this.session.remove(V),this.clearSelection()},F.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var V=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(V)},F.prototype.setGhostText=function(V,U){this.renderer.setGhostText(V,U)},F.prototype.removeGhostText=function(){this.renderer.removeGhostText()},F.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var V=this.getCursorPosition(),U=V.column;if(U!==0){var q=this.session.getLine(V.row),K,Q;U<q.length?(K=q.charAt(U)+q.charAt(U-1),Q=new v(V.row,U-1,V.row,U+1)):(K=q.charAt(U-1)+q.charAt(U-2),Q=new v(V.row,U-2,V.row,U)),this.session.replace(Q,K),this.session.selection.moveToPosition(Q.end)}}},F.prototype.toLowerCase=function(){var V=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var U=this.getSelectionRange(),q=this.session.getTextRange(U);this.session.replace(U,q.toLowerCase()),this.selection.setSelectionRange(V)},F.prototype.toUpperCase=function(){var V=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var U=this.getSelectionRange(),q=this.session.getTextRange(U);this.session.replace(U,q.toUpperCase()),this.selection.setSelectionRange(V)},F.prototype.indent=function(){var V=this.session,U=this.getSelectionRange();if(U.start.row<U.end.row){var q=this.$getSelectedRows();V.indentRows(q.first,q.last,"	");return}else if(U.start.column<U.end.column){var K=V.getTextRange(U);if(!/^\s+$/.test(K)){var q=this.$getSelectedRows();V.indentRows(q.first,q.last,"	");return}}var Q=V.getLine(U.start.row),X=U.start,te=V.getTabSize(),se=V.documentToScreenColumn(X.row,X.column);if(this.session.getUseSoftTabs())var J=te-se%te,le=d.stringRepeat(" ",J);else{for(var J=se%te;Q[U.start.column-1]==" "&&J;)U.start.column--,J--;this.selection.setSelectionRange(U),le="	"}return this.insert(le)},F.prototype.blockIndent=function(){var V=this.$getSelectedRows();this.session.indentRows(V.first,V.last,"	")},F.prototype.blockOutdent=function(){var V=this.session.getSelection();this.session.outdentRows(V.getRange())},F.prototype.sortLines=function(){for(var V=this.$getSelectedRows(),U=this.session,q=[],K=V.first;K<=V.last;K++)q.push(U.getLine(K));q.sort(function(te,se){return te.toLowerCase()<se.toLowerCase()?-1:te.toLowerCase()>se.toLowerCase()?1:0});for(var Q=new v(0,0,0,0),K=V.first;K<=V.last;K++){var X=U.getLine(K);Q.start.row=K,Q.end.row=K,Q.end.column=X.length,U.replace(Q,q[K-V.first])}},F.prototype.toggleCommentLines=function(){var V=this.session.getState(this.getCursorPosition().row),U=this.$getSelectedRows();this.session.getMode().toggleCommentLines(V,this.session,U.first,U.last)},F.prototype.toggleBlockComment=function(){var V=this.getCursorPosition(),U=this.session.getState(V.row),q=this.getSelectionRange();this.session.getMode().toggleBlockComment(U,this.session,q,V)},F.prototype.getNumberAt=function(V,U){var q=/[\-]?[0-9]+(?:\.[0-9]+)?/g;q.lastIndex=0;for(var K=this.session.getLine(V);q.lastIndex<U;){var Q=q.exec(K);if(Q.index<=U&&Q.index+Q[0].length>=U){var X={value:Q[0],start:Q.index,end:Q.index+Q[0].length};return X}}return null},F.prototype.modifyNumber=function(V){var U=this.selection.getCursor().row,q=this.selection.getCursor().column,K=new v(U,q-1,U,q),Q=this.session.getTextRange(K);if(!isNaN(parseFloat(Q))&&isFinite(Q)){var X=this.getNumberAt(U,q);if(X){var te=X.value.indexOf(".")>=0?X.start+X.value.indexOf(".")+1:X.end,se=X.start+X.value.length-te,J=parseFloat(X.value);J*=Math.pow(10,se),te!==X.end&&q<te?V*=Math.pow(10,X.end-q-1):V*=Math.pow(10,X.end-q),J+=V,J/=Math.pow(10,se);var le=J.toFixed(se),ce=new v(U,X.start,U,X.end);this.session.replace(ce,le),this.moveCursorTo(U,Math.max(X.start+1,q+le.length-X.value.length))}}else this.toggleWord()},F.prototype.toggleWord=function(){var V=this.selection.getCursor().row,U=this.selection.getCursor().column;this.selection.selectWord();var q=this.getSelectedText(),K=this.selection.getWordRange().start.column,Q=q.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),X=U-K-1;X<0&&(X=0);var te=0,se=0,J=this;q.match(/[A-Za-z0-9_]+/)&&Q.forEach(function(ve,he){se=te+ve.length,X>=te&&X<=se&&(q=ve,J.selection.clearSelection(),J.moveCursorTo(V,te+K),J.selection.selectTo(V,se+K)),te=se});for(var le=this.$toggleWordPairs,ce,ue=0;ue<le.length;ue++)for(var Ie=le[ue],Te=0;Te<=1;Te++){var Re=+!Te,ke=q.match(new RegExp("^\\s?_?("+d.escapeRegExp(Ie[Te])+")\\s?$","i"));if(ke){var me=q.match(new RegExp("([_]|^|\\s)("+d.escapeRegExp(ke[1])+")($|\\s)","g"));me&&(ce=q.replace(new RegExp(d.escapeRegExp(Ie[Te]),"i"),function(ve){var he=Ie[Re];return ve.toUpperCase()==ve?he=he.toUpperCase():ve.charAt(0).toUpperCase()==ve.charAt(0)&&(he=he.substr(0,0)+Ie[Re].charAt(0).toUpperCase()+he.substr(1)),he}),this.insert(ce),ce="")}}},F.prototype.findLinkAt=function(V,U){var q,K,Q=this.session.getLine(V),X=Q.split(/((?:https?|ftp):\/\/[\S]+)/),te=U;te<0&&(te=0);var se=0,J=0,le;try{for(var ce=g(X),ue=ce.next();!ue.done;ue=ce.next()){var Ie=ue.value;if(J=se+Ie.length,te>=se&&te<=J&&Ie.match(/((?:https?|ftp):\/\/[\S]+)/)){le=Ie.replace(/[\s:.,'";}\]]+$/,"");break}se=J}}catch(Te){q={error:Te}}finally{try{ue&&!ue.done&&(K=ce.return)&&K.call(ce)}finally{if(q)throw q.error}}return le},F.prototype.openLink=function(){var V=this.selection.getCursor(),U=this.findLinkAt(V.row,V.column);return U&&window.open(U,"_blank"),U!=null},F.prototype.removeLines=function(){var V=this.$getSelectedRows();this.session.removeFullLines(V.first,V.last),this.clearSelection()},F.prototype.duplicateSelection=function(){var V=this.selection,U=this.session,q=V.getRange(),K=V.isBackwards();if(q.isEmpty()){var Q=q.start.row;U.duplicateLines(Q,Q)}else{var X=K?q.start:q.end,te=U.insert(X,U.getTextRange(q));q.start=X,q.end=te,V.setSelectionRange(q,K)}},F.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},F.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},F.prototype.moveText=function(V,U,q){return this.session.moveText(V,U,q)},F.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},F.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},F.prototype.$moveLines=function(V,U){var q,K,Q=this.selection;if(!Q.inMultiSelectMode||this.inVirtualSelectionMode){var X=Q.toOrientedRange();q=this.$getSelectedRows(X),K=this.session.$moveLines(q.first,q.last,U?0:V),U&&V==-1&&(K=0),X.moveBy(K,0),Q.fromOrientedRange(X)}else{var te=Q.rangeList.ranges;Q.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var se=0,J=0,le=te.length,ce=0;ce<le;ce++){var ue=ce;te[ce].moveBy(se,0),q=this.$getSelectedRows(te[ce]);for(var Ie=q.first,Te=q.last;++ce<le;){J&&te[ce].moveBy(J,0);var Re=this.$getSelectedRows(te[ce]);if(U&&Re.first!=Te)break;if(!U&&Re.first>Te+1)break;Te=Re.last}for(ce--,se=this.session.$moveLines(Ie,Te,U?0:V),U&&V==-1&&(ue=ce+1);ue<=ce;)te[ue].moveBy(se,0),ue++;U||(se=0),J+=se}Q.fromOrientedRange(Q.ranges[0]),Q.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},F.prototype.$getSelectedRows=function(V){return V=(V||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(V.start.row),last:this.session.getRowFoldEnd(V.end.row)}},F.prototype.onCompositionStart=function(V){this.renderer.showComposition(V)},F.prototype.onCompositionUpdate=function(V){this.renderer.setCompositionText(V)},F.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},F.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},F.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},F.prototype.isRowVisible=function(V){return V>=this.getFirstVisibleRow()&&V<=this.getLastVisibleRow()},F.prototype.isRowFullyVisible=function(V){return V>=this.renderer.getFirstFullyVisibleRow()&&V<=this.renderer.getLastFullyVisibleRow()},F.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},F.prototype.$moveByPage=function(V,U){var q=this.renderer,K=this.renderer.layerConfig,Q=V*Math.floor(K.height/K.lineHeight);U===!0?this.selection.$moveSelection(function(){this.moveCursorBy(Q,0)}):U===!1&&(this.selection.moveCursorBy(Q,0),this.selection.clearSelection());var X=q.scrollTop;q.scrollBy(0,Q*K.lineHeight),U!=null&&q.scrollCursorIntoView(null,.5),q.animateScrolling(X)},F.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},F.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},F.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},F.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},F.prototype.scrollPageDown=function(){this.$moveByPage(1)},F.prototype.scrollPageUp=function(){this.$moveByPage(-1)},F.prototype.scrollToRow=function(V){this.renderer.scrollToRow(V)},F.prototype.scrollToLine=function(V,U,q,K){this.renderer.scrollToLine(V,U,q,K)},F.prototype.centerSelection=function(){var V=this.getSelectionRange(),U={row:Math.floor(V.start.row+(V.end.row-V.start.row)/2),column:Math.floor(V.start.column+(V.end.column-V.start.column)/2)};this.renderer.alignCursor(U,.5)},F.prototype.getCursorPosition=function(){return this.selection.getCursor()},F.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},F.prototype.getSelectionRange=function(){return this.selection.getRange()},F.prototype.selectAll=function(){this.selection.selectAll()},F.prototype.clearSelection=function(){this.selection.clearSelection()},F.prototype.moveCursorTo=function(V,U){this.selection.moveCursorTo(V,U)},F.prototype.moveCursorToPosition=function(V){this.selection.moveCursorToPosition(V)},F.prototype.jumpToMatching=function(V,U){var q=this.getCursorPosition(),K=new C(this.session,q.row,q.column),Q=K.getCurrentToken(),X=0;Q&&Q.type.indexOf("tag-name")!==-1&&(Q=K.stepBackward());var te=Q||K.stepForward();if(te){var se,J=!1,le={},ce=q.column-te.start,ue,Ie={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(te.value.match(/[{}()\[\]]/g)){for(;ce<te.value.length&&!J;ce++)if(Ie[te.value[ce]])switch(ue=Ie[te.value[ce]]+"."+te.type.replace("rparen","lparen"),isNaN(le[ue])&&(le[ue]=0),te.value[ce]){case"(":case"[":case"{":le[ue]++;break;case")":case"]":case"}":le[ue]--,le[ue]===-1&&(se="bracket",J=!0);break}}else te.type.indexOf("tag-name")!==-1&&(isNaN(le[te.value])&&(le[te.value]=0),Q.value==="<"&&X>1?le[te.value]++:Q.value==="</"&&le[te.value]--,le[te.value]===-1&&(se="tag",J=!0));J||(Q=te,X++,te=K.stepForward(),ce=0)}while(te&&!J);if(se){var Te,Re;if(se==="bracket")Te=this.session.getBracketRange(q),Te||(Te=new v(K.getCurrentTokenRow(),K.getCurrentTokenColumn()+ce-1,K.getCurrentTokenRow(),K.getCurrentTokenColumn()+ce-1),Re=Te.start,(U||Re.row===q.row&&Math.abs(Re.column-q.column)<2)&&(Te=this.session.getBracketRange(Re)));else if(se==="tag"){if(!te||te.type.indexOf("tag-name")===-1)return;if(Te=new v(K.getCurrentTokenRow(),K.getCurrentTokenColumn()-2,K.getCurrentTokenRow(),K.getCurrentTokenColumn()-2),Te.compare(q.row,q.column)===0){var ke=this.session.getMatchingTags(q);ke&&(ke.openTag.contains(q.row,q.column)?(Te=ke.closeTag,Re=Te.start):(Te=ke.openTag,ke.closeTag.start.row===q.row&&ke.closeTag.start.column===q.column?Re=Te.end:Re=Te.start))}Re=Re||Te.start}Re=Te&&Te.cursor||Re,Re&&(V?Te&&U?this.selection.setRange(Te):Te&&Te.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Re.row,Re.column):this.selection.moveTo(Re.row,Re.column))}}},F.prototype.gotoLine=function(V,U,q){this.selection.clearSelection(),this.session.unfold({row:V-1,column:U||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(V-1,U||0),this.isRowFullyVisible(V-1)||this.scrollToLine(V-1,!0,q)},F.prototype.navigateTo=function(V,U){this.selection.moveTo(V,U)},F.prototype.navigateUp=function(V){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var U=this.selection.anchor.getPosition();return this.moveCursorToPosition(U)}this.selection.clearSelection(),this.selection.moveCursorBy(-V||-1,0)},F.prototype.navigateDown=function(V){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var U=this.selection.anchor.getPosition();return this.moveCursorToPosition(U)}this.selection.clearSelection(),this.selection.moveCursorBy(V||1,0)},F.prototype.navigateLeft=function(V){if(this.selection.isEmpty())for(V=V||1;V--;)this.selection.moveCursorLeft();else{var U=this.getSelectionRange().start;this.moveCursorToPosition(U)}this.clearSelection()},F.prototype.navigateRight=function(V){if(this.selection.isEmpty())for(V=V||1;V--;)this.selection.moveCursorRight();else{var U=this.getSelectionRange().end;this.moveCursorToPosition(U)}this.clearSelection()},F.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},F.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},F.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},F.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},F.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},F.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},F.prototype.replace=function(V,U){U&&this.$search.set(U);var q=this.$search.find(this.session),K=0;return q&&(this.$tryReplace(q,V)&&(K=1),this.selection.setSelectionRange(q),this.renderer.scrollSelectionIntoView(q.start,q.end)),K},F.prototype.replaceAll=function(V,U){U&&this.$search.set(U);var q=this.$search.findAll(this.session),K=0;if(!q.length)return K;var Q=this.getSelectionRange();this.selection.moveTo(0,0);for(var X=q.length-1;X>=0;--X)this.$tryReplace(q[X],V)&&K++;return this.selection.setSelectionRange(Q),K},F.prototype.$tryReplace=function(V,U){var q=this.session.getTextRange(V);return U=this.$search.replace(q,U),U!==null?(V.end=this.session.replace(V,U),V):null},F.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},F.prototype.find=function(V,U,q){U||(U={}),typeof V=="string"||V instanceof RegExp?U.needle=V:typeof V=="object"&&y.mixin(U,V);var K=this.selection.getRange();U.needle==null&&(V=this.session.getTextRange(K)||this.$search.$options.needle,V||(K=this.session.getWordRange(K.start.row,K.start.column),V=this.session.getTextRange(K)),this.$search.set({needle:V})),this.$search.set(U),U.start||this.$search.set({start:K});var Q=this.$search.find(this.session);if(U.preventScroll)return Q;if(Q)return this.revealRange(Q,q),Q;U.backwards?K.start=K.end:K.end=K.start,this.selection.setRange(K)},F.prototype.findNext=function(V,U){this.find({skipCurrent:!0,backwards:!1},V,U)},F.prototype.findPrevious=function(V,U){this.find(V,{skipCurrent:!0,backwards:!0},U)},F.prototype.revealRange=function(V,U){this.session.unfold(V),this.selection.setSelectionRange(V);var q=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(V.start,V.end,.5),U!==!1&&this.renderer.animateScrolling(q)},F.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},F.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},F.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(V){V.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},F.prototype.setAutoScrollEditorIntoView=function(V){if(V){var U,q=this,K=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var Q=this.$scrollAnchor;Q.style.cssText="position:absolute",this.container.insertBefore(Q,this.container.firstChild);var X=this.on("changeSelection",function(){K=!0}),te=this.renderer.on("beforeRender",function(){K&&(U=q.renderer.container.getBoundingClientRect())}),se=this.renderer.on("afterRender",function(){if(K&&U&&(q.isFocused()||q.searchBox&&q.searchBox.isFocused())){var J=q.renderer,le=J.$cursorLayer.$pixelPos,ce=J.layerConfig,ue=le.top-ce.offset;le.top>=0&&ue+U.top<0?K=!0:le.top<ce.height&&le.top+U.top+ce.lineHeight>window.innerHeight?K=!1:K=null,K!=null&&(Q.style.top=ue+"px",Q.style.left=le.left+"px",Q.style.height=ce.lineHeight+"px",Q.scrollIntoView(K)),K=U=null}});this.setAutoScrollEditorIntoView=function(J){J||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",X),this.renderer.off("afterRender",se),this.renderer.off("beforeRender",te))}}},F.prototype.$resetCursorStyle=function(){var V=this.$cursorStyle||"ace",U=this.renderer.$cursorLayer;U&&(U.setSmoothBlinking(/smooth/.test(V)),U.isBlinking=!this.$readOnly&&V!="wide",b.setCssClass(U.element,"ace_slim-cursors",/slim/.test(V)))},F.prototype.prompt=function(V,U,q){var K=this;k.loadModule("ace/ext/prompt",function(Q){Q.prompt(K,V,U,q)})},F}();B.$uid=0,B.prototype.curOp=null,B.prototype.prevOp={},B.prototype.$mergeableCommands=["backspace","del","insertstring"],B.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],y.implement(B.prototype,T),k.defineOptions(B.prototype,"editor",{selectionStyle:{set:function(F){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:F})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(F){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(F){var V=this;this.textInput.setReadOnly(F),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(q){var K=!1;if(q&&q.type=="keydown"){if(K=q&&q.key&&q.key.length==1&&!q.ctrlKey&&!q.metaKey,!K)return}else q&&q.type!=="exec"&&(K=!0);if(K){V.hoverTooltip||(V.hoverTooltip=new O);var Q=b.createElement("div");Q.textContent=N("editor.tooltip.disable-editing","Editing is disabled"),V.hoverTooltip.isOpen||V.hoverTooltip.showForRange(V,V.getSelectionRange(),Q)}else V.hoverTooltip&&V.hoverTooltip.isOpen&&V.hoverTooltip.hide()});var U=this.textInput.getElement();F?($.addListener(U,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):($.removeListener(U,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(F){this.textInput.setCopyWithEmptySelection(F)},initialValue:!1},cursorStyle:{set:function(F){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(F){this.setAutoScrollEditorIntoView(F)}},keyboardHandler:{set:function(F){this.setKeyboardHandler(F)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(F){this.session.setValue(F)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(F){this.setSession(F)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(F){this.renderer.$gutterLayer.setShowLineNumbers(F),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),F&&this.$relativeLineNumbers?z.attach(this):z.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(F){this.$showLineNumbers&&F?z.attach(this):z.detach(this)}},placeholder:{set:function(F){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var V=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(V&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),b.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!V&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),b.addCssClass(this.container,"ace_hasPlaceholder");var U=b.createElement("div");U.className="ace_placeholder",U.textContent=this.$placeholder||"",this.renderer.placeholderNode=U,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!V&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(F){var V={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(K){K.blur(),K.renderer.scroller.focus()},readOnly:!0},U=function(K){if(K.target==this.renderer.scroller&&K.keyCode===A.enter){K.preventDefault();var Q=this.getCursorPosition().row;this.isRowVisible(Q)||this.scrollToLine(Q,!0,!0),this.focus()}},q;F?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(f.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",N("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",N("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",U.bind(this)),this.commands.addCommand(V),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",N("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",N("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),q||(q=new S(this)),q.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",U.bind(this)),this.commands.removeCommand(V),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),q&&q.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(F){this.$textInputAriaLabel=F},initialValue:""},enableMobileMenu:{set:function(F){this.$enableMobileMenu=F},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var z={getText:function(F,V){return(Math.abs(F.selection.lead.row-V)||V+1+(V<9?"·":""))+""},getWidth:function(F,V,U){return Math.max(V.toString().length,(U.lastRow+1).toString().length,2)*U.characterWidth},update:function(F,V){V.renderer.$loop.schedule(V.renderer.CHANGE_GUTTER)},attach:function(F){F.renderer.$gutterLayer.$renderer=this,F.on("changeSelection",this.update),this.update(null,F)},detach:function(F){F.renderer.$gutterLayer.$renderer==this&&(F.renderer.$gutterLayer.$renderer=null),F.off("changeSelection",this.update),this.update(null,F)}};a.Editor=B}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(i,a,w){var g=i("../lib/dom"),y=function(){function b(d,f){this.element=d,this.canvasHeight=f||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return b.prototype.moveContainer=function(d){g.translate(this.element,0,-(d.firstRowScreen*d.lineHeight%this.canvasHeight)-d.offset*this.$offsetCoefficient)},b.prototype.pageChanged=function(d,f){return Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)!==Math.floor(f.firstRowScreen*f.lineHeight/this.canvasHeight)},b.prototype.computeLineTop=function(d,f,c){var s=f.firstRowScreen*f.lineHeight,o=Math.floor(s/this.canvasHeight),u=c.documentToScreenRow(d,0)*f.lineHeight;return u-o*this.canvasHeight},b.prototype.computeLineHeight=function(d,f,c){return f.lineHeight*c.getRowLineCount(d)},b.prototype.getLength=function(){return this.cells.length},b.prototype.get=function(d){return this.cells[d]},b.prototype.shift=function(){this.$cacheCell(this.cells.shift())},b.prototype.pop=function(){this.$cacheCell(this.cells.pop())},b.prototype.push=function(d){if(Array.isArray(d)){this.cells.push.apply(this.cells,d);for(var f=g.createFragment(this.element),c=0;c<d.length;c++)f.appendChild(d[c].element);this.element.appendChild(f)}else this.cells.push(d),this.element.appendChild(d.element)},b.prototype.unshift=function(d){if(Array.isArray(d)){this.cells.unshift.apply(this.cells,d);for(var f=g.createFragment(this.element),c=0;c<d.length;c++)f.appendChild(d[c].element);this.element.firstChild?this.element.insertBefore(f,this.element.firstChild):this.element.appendChild(f)}else this.cells.unshift(d),this.element.insertAdjacentElement("afterbegin",d.element)},b.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},b.prototype.$cacheCell=function(d){d&&(d.element.remove(),this.cellCache.push(d))},b.prototype.createCell=function(d,f,c,s){var o=this.cellCache.pop();if(!o){var u=g.createElement("div");s&&s(u),this.element.appendChild(u),o={element:u,text:"",row:d}}return o.row=d,o},b}();a.Lines=y}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(i,a,w){var g=i("../lib/dom"),y=i("../lib/oop"),b=i("../lib/lang"),d=i("../lib/event_emitter").EventEmitter,f=i("./lines").Lines,c=i("../config").nls,s=function(){function u(h){this.element=g.createElement("div"),this.element.className="ace_layer ace_gutter-layer",h.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new f(this.element),this.$lines.$offsetCoefficient=1}return u.prototype.setSession=function(h){this.session&&this.session.off("change",this.$updateAnnotations),this.session=h,h&&h.on("change",this.$updateAnnotations)},u.prototype.addGutterDecoration=function(h,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(h,m)},u.prototype.removeGutterDecoration=function(h,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(h,m)},u.prototype.setAnnotations=function(h){this.$annotations=[];for(var m=0;m<h.length;m++){var v=h[m],T=v.row,x=this.$annotations[T];x||(x=this.$annotations[T]={text:[],type:[],displayText:[]});var R=v.text,k=v.text,C=v.type;R=R?b.escapeHTML(R):v.html||"",k=k||v.html||"",x.text.indexOf(R)===-1&&(x.text.push(R),x.type.push(C),x.displayText.push(k));var S=v.className;S?x.className=S:C==="error"?x.className=" ace_error":C==="security"&&!/\bace_error\b/.test(x.className)?x.className=" ace_security":C==="warning"&&!/\bace_(error|security)\b/.test(x.className)?x.className=" ace_warning":C==="info"&&!x.className?x.className=" ace_info":C==="hint"&&!x.className&&(x.className=" ace_hint")}},u.prototype.$updateAnnotations=function(h){if(this.$annotations.length){var m=h.start.row,v=h.end.row-m;if(v!==0)if(h.action=="remove")this.$annotations.splice(m,v+1,null);else{var T=new Array(v+1);T.unshift(m,1),this.$annotations.splice.apply(this.$annotations,T)}}},u.prototype.update=function(h){this.config=h;var m=this.session,v=h.firstRow,T=Math.min(h.lastRow+h.gutterOffset,m.getLength()-1);this.oldLastRow=T,this.config=h,this.$lines.moveContainer(h),this.$updateCursorRow();for(var x=m.getNextFoldLine(v),R=x?x.start.row:1/0,k=null,C=-1,S=v;;){if(S>R&&(S=x.end.row+1,x=m.getNextFoldLine(S,x),R=x?x.start.row:1/0),S>T){for(;this.$lines.getLength()>C+1;)this.$lines.pop();break}k=this.$lines.get(++C),k?k.row=S:(k=this.$lines.createCell(S,h,this.session,o),this.$lines.push(k)),this.$renderCell(k,h,x,S),S++}this._signal("afterRender"),this.$updateGutterWidth(h)},u.prototype.$updateGutterWidth=function(h){var m=this.session,v=m.gutterRenderer||this.$renderer,T=m.$firstLineNumber,x=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(x=m.getLength()+T-1);var R=v?v.getWidth(m,x,h):x.toString().length*h.characterWidth,k=this.$padding||this.$computePadding();R+=k.left+k.right,R!==this.gutterWidth&&!isNaN(R)&&(this.gutterWidth=R,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",R))},u.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var h=this.session.selection.getCursor();this.$cursorRow!==h.row&&(this.$cursorRow=h.row)}},u.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var h=this.session.selection.cursor.row;if(this.$cursorRow=h,!(this.$cursorCell&&this.$cursorCell.row==h)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var v=0;v<m.length;v++){var T=m[v];if(T.row>=this.$cursorRow){if(T.row>this.$cursorRow){var x=this.session.getFoldLine(this.$cursorRow);if(v>0&&x&&x.start.row==m[v-1].row)T=m[v-1];else break}T.element.className="ace_gutter-active-line "+T.element.className,this.$cursorCell=T;break}}}}},u.prototype.scrollLines=function(h){var m=this.config;if(this.config=h,this.$updateCursorRow(),this.$lines.pageChanged(m,h))return this.update(h);this.$lines.moveContainer(h);var v=Math.min(h.lastRow+h.gutterOffset,this.session.getLength()-1),T=this.oldLastRow;if(this.oldLastRow=v,!m||T<h.firstRow)return this.update(h);if(v<m.firstRow)return this.update(h);if(m.firstRow<h.firstRow)for(var x=this.session.getFoldedRowCount(m.firstRow,h.firstRow-1);x>0;x--)this.$lines.shift();if(T>v)for(var x=this.session.getFoldedRowCount(v+1,T);x>0;x--)this.$lines.pop();h.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(h,h.firstRow,m.firstRow-1)),v>T&&this.$lines.push(this.$renderLines(h,T+1,v)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(h)},u.prototype.$renderLines=function(h,m,v){for(var T=[],x=m,R=this.session.getNextFoldLine(x),k=R?R.start.row:1/0;x>k&&(x=R.end.row+1,R=this.session.getNextFoldLine(x,R),k=R?R.start.row:1/0),!(x>v);){var C=this.$lines.createCell(x,h,this.session,o);this.$renderCell(C,h,R,x),T.push(C),x++}return T},u.prototype.$renderCell=function(h,m,v,T){var x=h.element,R=this.session,k=x.childNodes[0],C=x.childNodes[1],S=x.childNodes[2],N=S.firstChild,L=R.$firstLineNumber,A=R.$breakpoints,$=R.$decorations,O=R.gutterRenderer||this.$renderer,B=this.$showFoldWidgets&&R.foldWidgets,z=v?v.start.row:Number.MAX_VALUE,F=m.lineHeight+"px",V=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",U=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",q=(O?O.getText(R,T):T+L).toString();if(this.$highlightGutterLine&&(T==this.$cursorRow||v&&T<this.$cursorRow&&T>=z&&this.$cursorRow<=v.end.row)&&(V+="ace_gutter-active-line ",this.$cursorCell!=h&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=h)),A[T]&&(V+=A[T]),$[T]&&(V+=$[T]),this.$annotations[T]&&T!==z&&(V+=this.$annotations[T].className),B){var K=B[T];K==null&&(K=B[T]=R.getFoldWidget(T))}if(K){var Q="ace_fold-widget ace_"+K,X=K=="start"&&T==z&&T<v.end.row;if(X){Q+=" ace_closed";for(var te="",se=!1,J=T+1;J<=v.end.row;J++)if(this.$annotations[J]){if(this.$annotations[J].className===" ace_error"){se=!0,te=" ace_error_fold";break}this.$annotations[J].className===" ace_security"?(se=!0,te=" ace_security_fold"):this.$annotations[J].className===" ace_warning"&&te!==" ace_security_fold"&&(se=!0,te=" ace_warning_fold")}V+=te}else Q+=" ace_open";C.className!=Q&&(C.className=Q),g.setStyle(C.style,"height",F),g.setStyle(C.style,"display","inline-block"),C.setAttribute("role","button"),C.setAttribute("tabindex","-1");var le=R.getFoldWidgetRange(T);le?C.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[le.start.row+1,le.end.row+1])):v?C.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[v.start.row+1,v.end.row+1])):C.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[T+1])),X?(C.setAttribute("aria-expanded","false"),C.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(C.setAttribute("aria-expanded","true"),C.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else C&&(g.setStyle(C.style,"display","none"),C.setAttribute("tabindex","0"),C.removeAttribute("role"),C.removeAttribute("aria-label"));if(se&&this.$showFoldedAnnotations){S.className="ace_gutter_annotation",N.className=U,N.className+=te,g.setStyle(N.style,"height",F),g.setStyle(S.style,"display","block"),g.setStyle(S.style,"height",F);var ce;switch(te){case" ace_error_fold":ce=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[q]);break;case" ace_security_fold":ce=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[q]);break;case" ace_warning_fold":ce=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[q]);break}S.setAttribute("aria-label",ce),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")}else if(this.$annotations[T]){S.className="ace_gutter_annotation",N.className=U,this.$useSvgGutterIcons?N.className+=this.$annotations[T].className:x.classList.add(this.$annotations[T].className.replace(" ","")),g.setStyle(N.style,"height",F),g.setStyle(S.style,"display","block"),g.setStyle(S.style,"height",F);var ce;switch(this.$annotations[T].className){case" ace_error":ce=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[q]);break;case" ace_security":ce=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[q]);break;case" ace_warning":ce=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[q]);break;case" ace_info":ce=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[q]);break;case" ace_hint":ce=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[q]);break}S.setAttribute("aria-label",ce),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")}else g.setStyle(S.style,"display","none"),S.removeAttribute("aria-label"),S.removeAttribute("role"),S.setAttribute("tabindex","0");return q!==k.data&&(k.data=q),x.className!=V&&(x.className=V),g.setStyle(h.element.style,"height",this.$lines.computeLineHeight(T,m,R)+"px"),g.setStyle(h.element.style,"top",this.$lines.computeLineTop(T,m,R)+"px"),h.text=q,S.style.display==="none"&&C.style.display==="none"?h.element.setAttribute("aria-hidden",!0):h.element.setAttribute("aria-hidden",!1),h},u.prototype.setHighlightGutterLine=function(h){this.$highlightGutterLine=h},u.prototype.setShowLineNumbers=function(h){this.$renderer=!h&&{getWidth:function(){return 0},getText:function(){return""}}},u.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},u.prototype.setShowFoldWidgets=function(h){h?g.addCssClass(this.element,"ace_folding-enabled"):g.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=h,this.$padding=null},u.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},u.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var h=g.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(h.borderLeftWidth)||0)+(parseInt(h.paddingLeft)||0)+1,this.$padding.right=(parseInt(h.borderRightWidth)||0)+(parseInt(h.paddingRight)||0),this.$padding},u.prototype.getRegion=function(h){var m=this.$padding||this.$computePadding(),v=this.element.getBoundingClientRect();if(h.x<m.left+v.left)return"markers";if(this.$showFoldWidgets&&h.x>v.right-m.right)return"foldWidgets"},u}();s.prototype.$fixedWidth=!1,s.prototype.$highlightGutterLine=!0,s.prototype.$renderer="",s.prototype.$showLineNumbers=!0,s.prototype.$showFoldWidgets=!0,y.implement(s.prototype,d);function o(u){var h=document.createTextNode("");u.appendChild(h);var m=g.createElement("span");u.appendChild(m);var v=g.createElement("span");u.appendChild(v);var T=g.createElement("span");return v.appendChild(T),u}a.Gutter=s}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(i,a,w){var g=i("../range").Range,y=i("../lib/dom"),b=function(){function f(c){this.element=y.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return f.prototype.setPadding=function(c){this.$padding=c},f.prototype.setSession=function(c){this.session=c},f.prototype.setMarkers=function(c){this.markers=c},f.prototype.elt=function(c,s){var o=this.i!=-1&&this.element.childNodes[this.i];o?this.i++:(o=document.createElement("div"),this.element.appendChild(o),this.i=-1),o.style.cssText=s,o.className=c},f.prototype.update=function(c){if(c){this.config=c,this.i=0;var s;for(var o in this.markers){var u=this.markers[o];if(!u.range){u.update(s,this,this.session,c);continue}var h=u.range.clipRows(c.firstRow,c.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),u.renderer){var m=this.$getTop(h.start.row,c),v=this.$padding+h.start.column*c.characterWidth;u.renderer(s,h,v,m,c)}else u.type=="fullLine"?this.drawFullLineMarker(s,h,u.clazz,c):u.type=="screenLine"?this.drawScreenLineMarker(s,h,u.clazz,c):h.isMultiLine()?u.type=="text"?this.drawTextMarker(s,h,u.clazz,c):this.drawMultiLineMarker(s,h,u.clazz,c):this.drawSingleLineMarker(s,h,u.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},f.prototype.$getTop=function(c,s){return(c-s.firstRowScreen)*s.lineHeight},f.prototype.drawTextMarker=function(c,s,o,u,h){for(var m=this.session,v=s.start.row,T=s.end.row,x=v,R=0,k=0,C=m.getScreenLastRowColumn(x),S=new g(x,s.start.column,x,k);x<=T;x++)S.start.row=S.end.row=x,S.start.column=x==v?s.start.column:m.getRowWrapIndent(x),S.end.column=C,R=k,k=C,C=x+1<T?m.getScreenLastRowColumn(x+1):x==T?0:s.end.column,this.drawSingleLineMarker(c,S,o+(x==v?" ace_start":"")+" ace_br"+d(x==v||x==v+1&&s.start.column,R<k,k>C,x==T),u,x==T?0:1,h)},f.prototype.drawMultiLineMarker=function(c,s,o,u,h){var m=this.$padding,v=u.lineHeight,T=this.$getTop(s.start.row,u),x=m+s.start.column*u.characterWidth;if(h=h||"",this.session.$bidiHandler.isBidiRow(s.start.row)){var R=s.clone();R.end.row=R.start.row,R.end.column=this.session.getLine(R.start.row).length,this.drawBidiSingleLineMarker(c,R,o+" ace_br1 ace_start",u,null,h)}else this.elt(o+" ace_br1 ace_start","height:"+v+"px;right:"+m+"px;top:"+T+"px;left:"+x+"px;"+(h||""));if(this.session.$bidiHandler.isBidiRow(s.end.row)){var R=s.clone();R.start.row=R.end.row,R.start.column=0,this.drawBidiSingleLineMarker(c,R,o+" ace_br12",u,null,h)}else{T=this.$getTop(s.end.row,u);var k=s.end.column*u.characterWidth;this.elt(o+" ace_br12","height:"+v+"px;width:"+k+"px;top:"+T+"px;left:"+m+"px;"+(h||""))}if(v=(s.end.row-s.start.row-1)*u.lineHeight,!(v<=0)){T=this.$getTop(s.start.row+1,u);var C=(s.start.column?1:0)|(s.end.column?0:8);this.elt(o+(C?" ace_br"+C:""),"height:"+v+"px;right:"+m+"px;top:"+T+"px;left:"+m+"px;"+(h||""))}},f.prototype.drawSingleLineMarker=function(c,s,o,u,h,m){if(this.session.$bidiHandler.isBidiRow(s.start.row))return this.drawBidiSingleLineMarker(c,s,o,u,h,m);var v=u.lineHeight,T=(s.end.column+(h||0)-s.start.column)*u.characterWidth,x=this.$getTop(s.start.row,u),R=this.$padding+s.start.column*u.characterWidth;this.elt(o,"height:"+v+"px;width:"+T+"px;top:"+x+"px;left:"+R+"px;"+(m||""))},f.prototype.drawBidiSingleLineMarker=function(c,s,o,u,h,m){var v=u.lineHeight,T=this.$getTop(s.start.row,u),x=this.$padding,R=this.session.$bidiHandler.getSelections(s.start.column,s.end.column);R.forEach(function(k){this.elt(o,"height:"+v+"px;width:"+(k.width+(h||0))+"px;top:"+T+"px;left:"+(x+k.left)+"px;"+(m||""))},this)},f.prototype.drawFullLineMarker=function(c,s,o,u,h){var m=this.$getTop(s.start.row,u),v=u.lineHeight;s.start.row!=s.end.row&&(v+=this.$getTop(s.end.row,u)-m),this.elt(o,"height:"+v+"px;top:"+m+"px;left:0;right:0;"+(h||""))},f.prototype.drawScreenLineMarker=function(c,s,o,u,h){var m=this.$getTop(s.start.row,u),v=u.lineHeight;this.elt(o,"height:"+v+"px;top:"+m+"px;left:0;right:0;"+(h||""))},f}();b.prototype.$padding=0;function d(f,c,s,o){return(f?1:0)|(c?2:0)|(s?4:0)|(o?8:0)}a.Marker=b}),ace.define("ace/layer/text_util",["require","exports","module"],function(i,a,w){var g=new Set(["text","rparen","lparen"]);a.isTextToken=function(y){return g.has(y)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(i,a,w){var g=i("../lib/oop"),y=i("../lib/dom"),b=i("../lib/lang"),d=i("./lines").Lines,f=i("../lib/event_emitter").EventEmitter,c=i("../config").nls,s=i("./text_util").isTextToken,o=function(){function u(h){this.dom=y,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new d(this.element)}return u.prototype.$updateEolChar=function(){var h=this.session.doc,m=h.getNewLineCharacter()==`
`&&h.getNewLineMode()!="windows",v=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=v)return this.EOL_CHAR=v,!0},u.prototype.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},u.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},u.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},u.prototype.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},u.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},u.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},u.prototype.setSession=function(h){this.session=h,h&&this.$computeTabString()},u.prototype.setShowInvisibles=function(h){return this.showInvisibles==h?!1:(this.showInvisibles=h,typeof h=="string"?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},u.prototype.setDisplayIndentGuides=function(h){return this.displayIndentGuides==h?!1:(this.displayIndentGuides=h,this.$computeTabString(),!0)},u.prototype.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides===h?!1:(this.$highlightIndentGuides=h,h)},u.prototype.$computeTabString=function(){var h=this.session.getTabSize();this.tabSize=h;for(var m=this.$tabStrings=[0],v=1;v<h+1;v++)if(this.showTabs){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_tab",T.textContent=b.stringRepeat(this.TAB_CHAR,v),m.push(T)}else m.push(this.dom.createTextNode(b.stringRepeat(" ",v),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var x="ace_indent-guide",R=this.showSpaces?" ace_invisible ace_invisible_space":"",k=this.showSpaces?b.stringRepeat(this.SPACE_CHAR,this.tabSize):b.stringRepeat(" ",this.tabSize),C=this.showTabs?" ace_invisible ace_invisible_tab":"",S=this.showTabs?b.stringRepeat(this.TAB_CHAR,this.tabSize):k,T=this.dom.createElement("span");T.className=x+R,T.textContent=k,this.$tabStrings[" "]=T;var T=this.dom.createElement("span");T.className=x+C,T.textContent=S,this.$tabStrings["	"]=T}},u.prototype.updateLines=function(h,m,v){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var T=Math.max(m,h.firstRow),x=Math.min(v,h.lastRow),R=this.element.childNodes,k=0,S=h.firstRow;S<T;S++){var N=this.session.getFoldLine(S);if(N)if(N.containsRow(T)){T=N.start.row;break}else S=N.end.row;k++}for(var C=!1,S=T,N=this.session.getNextFoldLine(S),L=N?N.start.row:1/0;S>L&&(S=N.end.row+1,N=this.session.getNextFoldLine(S,N),L=N?N.start.row:1/0),!(S>x);){var A=R[k++];if(A){this.dom.removeChildren(A),this.$renderLine(A,S,S==L?N:!1),C&&(A.style.top=this.$lines.computeLineTop(S,h,this.session)+"px");var $=h.lineHeight*this.session.getRowLength(S)+"px";A.style.height!=$&&(C=!0,A.style.height=$)}S++}if(C)for(;k<this.$lines.cells.length;){var O=this.$lines.cells[k++];O.element.style.top=this.$lines.computeLineTop(O.row,h,this.session)+"px"}},u.prototype.scrollLines=function(h){var m=this.config;if(this.config=h,this.$lines.pageChanged(m,h))return this.update(h);this.$lines.moveContainer(h);var v=h.lastRow,T=m?m.lastRow:-1;if(!m||T<h.firstRow)return this.update(h);if(v<m.firstRow)return this.update(h);if(!m||m.lastRow<h.firstRow)return this.update(h);if(h.lastRow<m.firstRow)return this.update(h);if(m.firstRow<h.firstRow)for(var x=this.session.getFoldedRowCount(m.firstRow,h.firstRow-1);x>0;x--)this.$lines.shift();if(m.lastRow>h.lastRow)for(var x=this.session.getFoldedRowCount(h.lastRow+1,m.lastRow);x>0;x--)this.$lines.pop();h.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,m.firstRow-1)),h.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(h,m.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},u.prototype.$renderLinesFragment=function(h,m,v){for(var T=[],x=m,R=this.session.getNextFoldLine(x),k=R?R.start.row:1/0;x>k&&(x=R.end.row+1,R=this.session.getNextFoldLine(x,R),k=R?R.start.row:1/0),!(x>v);){var C=this.$lines.createCell(x,h,this.session),S=C.element;this.dom.removeChildren(S),y.setStyle(S.style,"height",this.$lines.computeLineHeight(x,h,this.session)+"px"),y.setStyle(S.style,"top",this.$lines.computeLineTop(x,h,this.session)+"px"),this.$renderLine(S,x,x==k?R:!1),this.$useLineGroups()?S.className="ace_line_group":S.className="ace_line",T.push(C),x++}return T},u.prototype.update=function(h){this.$lines.moveContainer(h),this.config=h;for(var m=h.firstRow,v=h.lastRow,T=this.$lines;T.getLength();)T.pop();T.push(this.$renderLinesFragment(h,m,v))},u.prototype.$renderToken=function(h,m,v,T){for(var x=this,R=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,k=this.dom.createFragment(this.element),C,S=0;C=R.exec(T);){var N=C[1],L=C[2],A=C[3],$=C[4],O=C[5];if(!(!x.showSpaces&&L)){var B=S!=C.index?T.slice(S,C.index):"";if(S=C.index+C[0].length,B&&k.appendChild(this.dom.createTextNode(B,this.element)),N){var z=x.session.getScreenTabSize(m+C.index);k.appendChild(x.$tabStrings[z].cloneNode(!0)),m+=z-1}else if(L)if(x.showSpaces){var F=this.dom.createElement("span");F.className="ace_invisible ace_invisible_space",F.textContent=b.stringRepeat(x.SPACE_CHAR,L.length),k.appendChild(F)}else k.appendChild(this.dom.createTextNode(L,this.element));else if(A){var F=this.dom.createElement("span");F.className="ace_invisible ace_invisible_space ace_invalid",F.textContent=b.stringRepeat(x.SPACE_CHAR,A.length),k.appendChild(F)}else if($){m+=1;var F=this.dom.createElement("span");F.style.width=x.config.characterWidth*2+"px",F.className=x.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",F.textContent=x.showSpaces?x.SPACE_CHAR:$,k.appendChild(F)}else if(O){m+=1;var F=this.dom.createElement("span");F.style.width=x.config.characterWidth*2+"px",F.className="ace_cjk",F.textContent=O,k.appendChild(F)}}}if(k.appendChild(this.dom.createTextNode(S?T.slice(S):T,this.element)),s(v.type))h.appendChild(k);else{var V="ace_"+v.type.replace(/\./g," ace_"),F=this.dom.createElement("span");v.type=="fold"&&(F.style.width=v.value.length*this.config.characterWidth+"px",F.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),F.className=V,F.appendChild(k),h.appendChild(F)}return m+T.length},u.prototype.renderIndentGuide=function(h,m,v){var T=m.search(this.$indentGuideRe);if(T<=0||T>=v)return m;if(m[0]==" "){T-=T%this.tabSize;for(var x=T/this.tabSize,R=0;R<x;R++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(T)}else if(m[0]=="	"){for(var R=0;R<T;R++)h.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(T)}return this.$highlightIndentGuide(),m},u.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var m=this.session.selection.getCursor(),v=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,T=Math.floor(v/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:T,start:m.row};var x=this.session.$bracketHighlight;if(x){for(var R=this.session.$bracketHighlight.ranges,k=0;k<R.length;k++)if(m.row!==R[k].start.row){this.$highlightIndentGuideMarker.end=R[k].start.row+1,m.row>R[k].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&h[m.row]!==""&&m.column===h[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var k=m.row+1;k<h.length;k++){var C=h[k],S=/^\s*/.exec(C)[0].length;if(C!==""&&(this.$highlightIndentGuideMarker.end=k,S<=v))break}}this.$renderHighlightIndentGuide()}}},u.prototype.$clearActiveIndentGuide=function(){for(var h=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<h.length;m++)h[m].classList.remove("ace_indent-guide-active")},u.prototype.$setIndentGuideActive=function(h,m){var v=this.session.doc.getLine(h.row);if(v!==""){var T=h.element;if(h.element.classList&&h.element.classList.contains("ace_line_group"))if(h.element.childNodes.length>0)T=h.element.childNodes[0];else return;var x=T.childNodes;if(x){var R=x[m-1];R&&R.classList&&R.classList.contains("ace_indent-guide")&&R.classList.add("ace_indent-guide-active")}}},u.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var v=0;v<h.length;v++){var T=h[v];if(this.$highlightIndentGuideMarker.end&&T.row>=this.$highlightIndentGuideMarker.start+1){if(T.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(T,m)}}else for(var v=h.length-1;v>=0;v--){var T=h[v];if(this.$highlightIndentGuideMarker.end&&T.row<this.$highlightIndentGuideMarker.start){if(T.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(T,m)}}}},u.prototype.$createLineElement=function(h){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},u.prototype.$renderWrappedLine=function(h,m,v){var T=0,x=0,R=v[0],k=0,C=this.$createLineElement();h.appendChild(C);for(var S=0;S<m.length;S++){var N=m[S],L=N.value;if(S==0&&this.displayIndentGuides){if(T=L.length,L=this.renderIndentGuide(C,L,R),!L)continue;T-=L.length}if(T+L.length<R)k=this.$renderToken(C,k,N,L),T+=L.length;else{for(;T+L.length>=R;)k=this.$renderToken(C,k,N,L.substring(0,R-T)),L=L.substring(R-T),T=R,C=this.$createLineElement(),h.appendChild(C),C.appendChild(this.dom.createTextNode(b.stringRepeat(" ",v.indent),this.element)),x++,k=0,R=v[x]||Number.MAX_VALUE;L.length!=0&&(T+=L.length,k=this.$renderToken(C,k,N,L))}}v[v.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(C,k,null,"",!0)},u.prototype.$renderSimpleLine=function(h,m){for(var v=0,T=0;T<m.length;T++){var x=m[T],R=x.value;if(!(T==0&&this.displayIndentGuides&&(R=this.renderIndentGuide(h,R),!R))){if(v+R.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,v,x,R);v=this.$renderToken(h,v,x,R)}}},u.prototype.$renderOverflowMessage=function(h,m,v,T,x){v&&this.$renderToken(h,m,v,T.slice(0,this.MAX_LINE_LENGTH-m));var R=this.dom.createElement("span");R.className="ace_inline_button ace_keyword ace_toggle_wrap",R.textContent=x?"<hide>":"<click to see more...>",h.appendChild(R)},u.prototype.$renderLine=function(h,m,v){if(!v&&v!=!1&&(v=this.session.getFoldLine(m)),v)var T=this.$getFoldLineTokens(m,v);else var T=this.session.getTokens(m);var x=h;if(T.length){var R=this.session.getRowSplitData(m);if(R&&R.length){this.$renderWrappedLine(h,T,R);var x=h.lastChild}else{var x=h;this.$useLineGroups()&&(x=this.$createLineElement(),h.appendChild(x)),this.$renderSimpleLine(x,T)}}else this.$useLineGroups()&&(x=this.$createLineElement(),h.appendChild(x));if(this.showEOL&&x){v&&(m=v.end.row);var k=this.dom.createElement("span");k.className="ace_invisible ace_invisible_eol",k.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,x.appendChild(k)}},u.prototype.$getFoldLineTokens=function(h,m){var v=this.session,T=[];function x(k,C,S){for(var N=0,L=0;L+k[N].value.length<C;)if(L+=k[N].value.length,N++,N==k.length)return;if(L!=C){var A=k[N].value.substring(C-L);A.length>S-C&&(A=A.substring(0,S-C)),T.push({type:k[N].type,value:A}),L=C+A.length,N+=1}for(;L<S&&N<k.length;){var A=k[N].value;A.length+L>S?T.push({type:k[N].type,value:A.substring(0,S-L)}):T.push(k[N]),L+=A.length,N+=1}}var R=v.getTokens(h);return m.walk(function(k,C,S,N,L){k!=null?T.push({type:"fold",value:k}):(L&&(R=v.getTokens(C)),R.length&&x(R,N,S))},m.end.row,this.session.getLine(m.end.row).length),T},u.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},u}();o.prototype.EOF_CHAR="¶",o.prototype.EOL_CHAR_LF="¬",o.prototype.EOL_CHAR_CRLF="¤",o.prototype.EOL_CHAR=o.prototype.EOL_CHAR_LF,o.prototype.TAB_CHAR="—",o.prototype.SPACE_CHAR="·",o.prototype.$padding=0,o.prototype.MAX_LINE_LENGTH=1e4,o.prototype.showInvisibles=!1,o.prototype.showSpaces=!1,o.prototype.showTabs=!1,o.prototype.showEOL=!1,o.prototype.displayIndentGuides=!0,o.prototype.$highlightIndentGuides=!0,o.prototype.$tabStrings=[],o.prototype.destroy={},o.prototype.onChangeTabSize=o.prototype.$computeTabString,g.implement(o.prototype,f),a.Text=o}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(i,a,w){var g=i("../lib/dom"),y=function(){function b(d){this.element=g.createElement("div"),this.element.className="ace_layer ace_cursor-layer",d.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),g.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return b.prototype.$updateOpacity=function(d){for(var f=this.cursors,c=f.length;c--;)g.setStyle(f[c].style,"opacity",d?"":"0")},b.prototype.$startCssAnimation=function(){for(var d=this.cursors,f=d.length;f--;)d[f].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&g.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},b.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,g.removeCssClass(this.element,"ace_animate-blinking")},b.prototype.setPadding=function(d){this.$padding=d},b.prototype.setSession=function(d){this.session=d},b.prototype.setBlinking=function(d){d!=this.isBlinking&&(this.isBlinking=d,this.restartTimer())},b.prototype.setBlinkInterval=function(d){d!=this.blinkInterval&&(this.blinkInterval=d,this.restartTimer())},b.prototype.setSmoothBlinking=function(d){d!=this.smoothBlinking&&(this.smoothBlinking=d,g.setCssClass(this.element,"ace_smooth-blinking",d),this.$updateCursors(!0),this.restartTimer())},b.prototype.addCursor=function(){var d=g.createElement("div");return d.className="ace_cursor",this.element.appendChild(d),this.cursors.push(d),d},b.prototype.removeCursor=function(){if(this.cursors.length>1){var d=this.cursors.pop();return d.parentNode.removeChild(d),d}},b.prototype.hideCursor=function(){this.isVisible=!1,g.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},b.prototype.showCursor=function(){this.isVisible=!0,g.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},b.prototype.restartTimer=function(){var d=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,g.removeCssClass(this.element,"ace_smooth-blinking")),d(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&g.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),g.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var f=(function(){this.timeoutId=setTimeout(function(){d(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){d(!0),f()},this.blinkInterval),f()}},b.prototype.getPixelPosition=function(d,f){if(!this.config||!this.session)return{left:0,top:0};d||(d=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(d),s=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,d.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),o=(c.row-(f?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:s,top:o}},b.prototype.isCursorInView=function(d,f){return d.top>=0&&d.top<f.maxHeight},b.prototype.update=function(d){this.config=d;var f=this.session.$selectionMarkers,c=0,s=0;(f===void 0||f.length===0)&&(f=[{cursor:null}]);for(var c=0,o=f.length;c<o;c++){var u=this.getPixelPosition(f[c].cursor,!0);if(!((u.top>d.height+d.offset||u.top<0)&&c>1)){var h=this.cursors[s++]||this.addCursor(),m=h.style;this.drawCursor?this.drawCursor(h,u,d,f[c],this.session):this.isCursorInView(u,d)?(g.setStyle(m,"display","block"),g.translate(h,u.left,u.top),g.setStyle(m,"width",Math.round(d.characterWidth)+"px"),g.setStyle(m,"height",d.lineHeight+"px")):g.setStyle(m,"display","none")}}for(;this.cursors.length>s;)this.removeCursor();var v=this.session.getOverwrite();this.$setOverwrite(v),this.$pixelPos=u,this.restartTimer()},b.prototype.$setOverwrite=function(d){d!=this.overwrite&&(this.overwrite=d,d?g.addCssClass(this.element,"ace_overwrite-cursors"):g.removeCssClass(this.element,"ace_overwrite-cursors"))},b.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},b}();y.prototype.$padding=0,y.prototype.drawCursor=null,a.Cursor=y}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,a,w){var g=this&&this.__extends||function(){var h=function(m,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,x){T.__proto__=x}||function(T,x){for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(T[R]=x[R])},h(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(m,v);function T(){this.constructor=m}m.prototype=v===null?Object.create(v):(T.prototype=v.prototype,new T)}}(),y=i("./lib/oop"),b=i("./lib/dom"),d=i("./lib/event"),f=i("./lib/event_emitter").EventEmitter,c=32768,s=function(){function h(m,v){this.element=b.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+v,this.inner=b.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,d.addListener(this.element,"scroll",this.onScroll.bind(this)),d.addListener(this.element,"mousedown",d.preventDefault)}return h.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},h}();y.implement(s.prototype,f);var o=function(h){g(m,h);function m(v,T){var x=h.call(this,v,"-v")||this;return x.scrollTop=0,x.scrollHeight=0,T.$scrollbarWidth=x.width=b.scrollbarWidth(v.ownerDocument),x.inner.style.width=x.element.style.width=(x.width||15)+5+"px",x.$minWidth=0,x}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var v=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-v)/(this.coeff-v)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(v){this.element.style.height=v+"px"},m.prototype.setScrollHeight=function(v){this.scrollHeight=v,v>c?(this.coeff=c/v,v=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=v+"px"},m.prototype.setScrollTop=function(v){this.scrollTop!=v&&(this.skipEvent=!0,this.scrollTop=v,this.element.scrollTop=v*this.coeff)},m}(s);o.prototype.setInnerHeight=o.prototype.setScrollHeight;var u=function(h){g(m,h);function m(v,T){var x=h.call(this,v,"-h")||this;return x.scrollLeft=0,x.height=T.$scrollbarWidth,x.inner.style.height=x.element.style.height=(x.height||15)+5+"px",x}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(v){this.element.style.width=v+"px"},m.prototype.setInnerWidth=function(v){this.inner.style.width=v+"px"},m.prototype.setScrollWidth=function(v){this.inner.style.width=v+"px"},m.prototype.setScrollLeft=function(v){this.scrollLeft!=v&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=v)},m}(s);a.ScrollBar=o,a.ScrollBarV=o,a.ScrollBarH=u,a.VScrollBar=o,a.HScrollBar=u}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,a,w){var g=this&&this.__extends||function(){var u=function(h,m){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,T){v.__proto__=T}||function(v,T){for(var x in T)Object.prototype.hasOwnProperty.call(T,x)&&(v[x]=T[x])},u(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");u(h,m);function v(){this.constructor=h}h.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),y=i("./lib/oop"),b=i("./lib/dom"),d=i("./lib/event"),f=i("./lib/event_emitter").EventEmitter;b.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=function(){function u(h,m){this.element=b.createElement("div"),this.element.className="ace_sb"+m,this.inner=b.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,d.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return u.prototype.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1},u}();y.implement(c.prototype,f);var s=function(u){g(h,u);function h(m,v){var T=u.call(this,m,"-v")||this;return T.scrollTop=0,T.scrollHeight=0,T.parent=m,T.width=T.VScrollWidth,T.renderer=v,T.inner.style.width=T.element.style.width=(T.width||15)+"px",T.$minWidth=0,T}return h.prototype.onMouseDown=function(m,v){if(m==="mousedown"&&!(d.getButton(v)!==0||v.detail===2)){if(v.target===this.inner){var T=this,x=v.clientY,R=function($){x=$.clientY},k=function(){clearInterval(L)},C=v.clientY,S=this.thumbTop,N=function(){if(x!==void 0){var $=T.scrollTopFromThumbTop(S+x-C);$!==T.scrollTop&&T._emit("scroll",{data:$})}};d.capture(this.inner,R,k);var L=setInterval(N,20);return d.preventDefault(v)}var A=v.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(A)}),d.preventDefault(v)}},h.prototype.getHeight=function(){return this.height},h.prototype.scrollTopFromThumbTop=function(m){var v=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return v=v>>0,v<0?v=0:v>this.pageHeight-this.viewHeight&&(v=this.pageHeight-this.viewHeight),v},h.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},h.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},h.prototype.setScrollHeight=function(m,v){this.pageHeight===m&&!v||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},h.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},h}(c);s.prototype.setInnerHeight=s.prototype.setScrollHeight;var o=function(u){g(h,u);function h(m,v){var T=u.call(this,m,"-h")||this;return T.scrollLeft=0,T.scrollWidth=0,T.height=T.HScrollHeight,T.inner.style.height=T.element.style.height=(T.height||12)+"px",T.renderer=v,T}return h.prototype.onMouseDown=function(m,v){if(m==="mousedown"&&!(d.getButton(v)!==0||v.detail===2)){if(v.target===this.inner){var T=this,x=v.clientX,R=function($){x=$.clientX},k=function(){clearInterval(L)},C=v.clientX,S=this.thumbLeft,N=function(){if(x!==void 0){var $=T.scrollLeftFromThumbLeft(S+x-C);$!==T.scrollLeft&&T._emit("scroll",{data:$})}};d.capture(this.inner,R,k);var L=setInterval(N,20);return d.preventDefault(v)}var A=v.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(A)}),d.preventDefault(v)}},h.prototype.getHeight=function(){return this.isVisible?this.height:0},h.prototype.scrollLeftFromThumbLeft=function(m){var v=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return v=v>>0,v<0?v=0:v>this.pageWidth-this.viewWidth&&(v=this.pageWidth-this.viewWidth),v},h.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},h.prototype.setScrollWidth=function(m,v){this.pageWidth===m&&!v||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},h.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},h}(c);o.prototype.setInnerWidth=o.prototype.setScrollWidth,a.ScrollBar=s,a.ScrollBarV=s,a.ScrollBarH=o,a.VScrollBar=s,a.HScrollBar=o}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(i,a,w){var g=i("./lib/event"),y=function(){function b(d,f){this.onRender=d,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=f||window;var c=this;this._flush=function(s){c.pending=!1;var o=c.changes;if(o&&(g.blockIdle(100),c.changes=0,c.onRender(o)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return b.prototype.schedule=function(d){this.changes=this.changes|d,this.changes&&!this.pending&&(g.nextFrame(this._flush),this.pending=!0)},b.prototype.clear=function(d){var f=this.changes;return this.changes=0,f},b}();a.RenderLoop=y}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(i,a,w){var g=i("../lib/oop"),y=i("../lib/dom"),b=i("../lib/lang"),d=i("../lib/event"),f=i("../lib/useragent"),c=i("../lib/event_emitter").EventEmitter,s=512,o=typeof ResizeObserver=="function",u=200,h=function(){function m(v){this.el=y.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=y.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=y.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),v.appendChild(this.el),this.$measureNode.textContent=b.stringRepeat("X",s),this.$characterSize={width:0,height:0},o?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(v,T){v.width=v.height="auto",v.left=v.top="0px",v.visibility="hidden",v.position="absolute",v.whiteSpace="pre",f.isIE<8?v["font-family"]="inherit":v.font="inherit",v.overflow=T?"hidden":"visible"},m.prototype.checkForSizeChanges=function(v){if(v===void 0&&(v=this.$measureSizes()),v&&(this.$characterSize.width!==v.width||this.$characterSize.height!==v.height)){this.$measureNode.style.fontWeight="bold";var T=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=v,this.charSizes=Object.create(null),this.allowBoldFonts=T&&T.width===v.width&&T.height===v.height,this._emit("changeCharacterSize",{data:v})}},m.prototype.$addObserver=function(){var v=this;this.$observer=new window.ResizeObserver(function(T){v.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var v=this;return this.$pollSizeChangesTimer=d.onIdle(function T(){v.checkForSizeChanges(),d.onIdle(T,500)},500)},m.prototype.setPolling=function(v){v?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(v){var T={height:(v||this.$measureNode).clientHeight,width:(v||this.$measureNode).clientWidth/s};return T.width===0||T.height===0?null:T},m.prototype.$measureCharWidth=function(v){this.$main.textContent=b.stringRepeat(v,s);var T=this.$main.getBoundingClientRect();return T.width/s},m.prototype.getCharacterWidth=function(v){var T=this.charSizes[v];return T===void 0&&(T=this.charSizes[v]=this.$measureCharWidth(v)/this.$characterSize.width),T},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(v){return!v||!v.parentElement?1:(Number(window.getComputedStyle(v).zoom)||1)*this.$getZoom(v.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var v=function(T,x){return["div",{style:"position: absolute;top:"+T+"px;left:"+x+"px;"}]};this.els=y.buildDom([v(0,0),v(u,0),v(0,u),v(u,u)],this.el)},m.prototype.transformCoordinates=function(v,T){if(v){var x=this.$getZoom(this.el);v=S(1/x,v)}function R(X,te,se){var J=X[1]*te[0]-X[0]*te[1];return[(-te[1]*se[0]+te[0]*se[1])/J,(+X[1]*se[0]-X[0]*se[1])/J]}function k(X,te){return[X[0]-te[0],X[1]-te[1]]}function C(X,te){return[X[0]+te[0],X[1]+te[1]]}function S(X,te){return[X*te[0],X*te[1]]}this.els||this.$initTransformMeasureNodes();function N(X){var te=X.getBoundingClientRect();return[te.left,te.top]}var L=N(this.els[0]),A=N(this.els[1]),$=N(this.els[2]),O=N(this.els[3]),B=R(k(O,A),k(O,$),k(C(A,$),C(O,L))),z=S(1+B[0],k(A,L)),F=S(1+B[1],k($,L));if(T){var V=T,U=B[0]*V[0]/u+B[1]*V[1]/u+1,q=C(S(V[0],z),S(V[1],F));return C(S(1/U/u,q),L)}var K=k(v,L),Q=R(k(z,S(B[0],K)),k(F,S(B[1],K)),K);return S(u,Q)},m}();h.prototype.$characterSize={width:0,height:0},g.implement(h.prototype,c),a.FontMetrics=h}),ace.define("ace/css/editor-css",["require","exports","module"],function(i,a,w){w.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(i,a,w){var g=i("../lib/dom"),y=i("../lib/oop"),b=i("../lib/event_emitter").EventEmitter,d=function(){function f(c,s){this.canvas=g.createElement("canvas"),this.renderer=s,this.pixelRatio=1,this.maxHeight=s.layerConfig.maxHeight,this.lineHeight=s.layerConfig.lineHeight,this.canvasHeight=c.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=c.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},c.element.appendChild(this.canvas)}return f.prototype.$updateDecorators=function(c){var s=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(c){this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height;var o=(c.lastRow+1)*this.lineHeight;o<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var u=this.canvas.getContext("2d");function h(O,B){return O.priority<B.priority?-1:O.priority>B.priority?1:0}var m=this.renderer.session.$annotations;if(u.clearRect(0,0,this.canvas.width,this.canvas.height),m){var v={info:1,warning:2,error:3};m.forEach(function(O){O.priority=v[O.type]||null}),m=m.sort(h);for(var T=this.renderer.session.$foldData,x=0;x<m.length;x++){var R=m[x].row,k=this.compensateFoldRows(R,T),C=Math.round((R-k)*this.lineHeight*this.heightRatio),S=Math.round((R-k)*this.lineHeight*this.heightRatio),N=Math.round(((R-k)*this.lineHeight+this.lineHeight)*this.heightRatio),L=N-S;if(L<this.minDecorationHeight){var A=(S+N)/2|0;A<this.halfMinDecorationHeight?A=this.halfMinDecorationHeight:A+this.halfMinDecorationHeight>this.canvasHeight&&(A=this.canvasHeight-this.halfMinDecorationHeight),S=Math.round(A-this.halfMinDecorationHeight),N=Math.round(A+this.halfMinDecorationHeight)}u.fillStyle=s[m[x].type]||null,u.fillRect(0,C,this.canvasWidth,N-S)}}var $=this.renderer.session.selection.getCursor();if($){var k=this.compensateFoldRows($.row,T),C=Math.round(($.row-k)*this.lineHeight*this.heightRatio);u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,C,this.canvasWidth,2)}},f.prototype.compensateFoldRows=function(c,s){var o=0;if(s&&s.length>0)for(var u=0;u<s.length;u++)c>s[u].start.row&&c<s[u].end.row?o+=c-s[u].start.row:c>=s[u].end.row&&(o+=s[u].end.row-s[u].start.row);return o},f}();y.implement(d.prototype,b),a.Decorator=d}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(i,a,w){var g=i("./lib/oop"),y=i("./lib/dom"),b=i("./lib/lang"),d=i("./config"),f=i("./layer/gutter").Gutter,c=i("./layer/marker").Marker,s=i("./layer/text").Text,o=i("./layer/cursor").Cursor,u=i("./scrollbar").HScrollBar,h=i("./scrollbar").VScrollBar,m=i("./scrollbar_custom").HScrollBar,v=i("./scrollbar_custom").VScrollBar,T=i("./renderloop").RenderLoop,x=i("./layer/font_metrics").FontMetrics,R=i("./lib/event_emitter").EventEmitter,k=i("./css/editor-css"),C=i("./layer/decorators").Decorator,S=i("./lib/useragent"),N=i("./layer/text_util").isTextToken;y.importCssString(k,"ace_editor.css",!1);var L=function(){function A($,O){var B=this;this.container=$||y.createElement("div"),y.addCssClass(this.container,"ace_editor"),y.HI_DPI&&y.addCssClass(this.container,"ace_hidpi"),this.setTheme(O),d.get("useStrictCSP")==null&&d.set("useStrictCSP",!1),this.$gutter=y.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=y.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=y.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new f(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var z=this.$textLayer=new s(this.content);this.canvas=z.element,this.$markerFront=new c(this.content),this.$cursorLayer=new o(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",function(F){B.$scrollAnimation||B.session.setScrollTop(F.data-B.scrollMargin.top)}),this.scrollBarH.on("scroll",function(F){B.$scrollAnimation||B.session.setScrollLeft(F.data-B.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new x(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(F){B.updateCharacterSize(),B.onResize(!0,B.gutterWidth,B.$size.width,B.$size.height),B._signal("changeCharacterSize",F)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!S.isIOS,this.$loop=new T(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),d.resetOptions(this),d._signal("renderer",this)}return A.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),y.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},A.prototype.setSession=function($){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=$,$&&this.scrollMargin.top&&$.getScrollTop()<=0&&$.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession($),this.$markerBack.setSession($),this.$markerFront.setSession($),this.$gutterLayer.setSession($),this.$textLayer.setSession($),$&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},A.prototype.updateLines=function($,O,B){if(O===void 0&&(O=1/0),this.$changedLines?(this.$changedLines.firstRow>$&&(this.$changedLines.firstRow=$),this.$changedLines.lastRow<O&&(this.$changedLines.lastRow=O)):this.$changedLines={firstRow:$,lastRow:O},this.$changedLines.lastRow<this.layerConfig.firstRow)if(B)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},A.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},A.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},A.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},A.prototype.updateFull=function($){$?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},A.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},A.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},A.prototype.onResize=function($,O,B,z){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=$?1:0;var F=this.container;z||(z=F.clientHeight||F.scrollHeight),!z&&this.$maxLines&&this.lineHeight>1&&(!F.style.height||F.style.height=="0px")&&(F.style.height="1px",z=F.clientHeight||F.scrollHeight),B||(B=F.clientWidth||F.scrollWidth);var V=this.$updateCachedSize($,O,B,z);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!B&&!z)return this.resizing=0;$&&(this.$gutterLayer.$padding=null),$?this.$renderChanges(V|this.$changes,!0):this.$loop.schedule(V|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},A.prototype.$updateCachedSize=function($,O,B,z){z-=this.$extraHeight||0;var F=0,V=this.$size,U={width:V.width,height:V.height,scrollerHeight:V.scrollerHeight,scrollerWidth:V.scrollerWidth};if(z&&($||V.height!=z)&&(V.height=z,F|=this.CHANGE_SIZE,V.scrollerHeight=V.height,this.$horizScroll&&(V.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(V.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",F=F|this.CHANGE_SCROLL),B&&($||V.width!=B)){F|=this.CHANGE_SIZE,V.width=B,O==null&&(O=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=O,y.setStyle(this.scrollBarH.element.style,"left",O+"px"),y.setStyle(this.scroller.style,"left",O+this.margin.left+"px"),V.scrollerWidth=Math.max(0,B-O-this.scrollBarV.getWidth()-this.margin.h),y.setStyle(this.$gutter.style,"left",this.margin.left+"px");var q=this.scrollBarV.getWidth()+"px";y.setStyle(this.scrollBarH.element.style,"right",q),y.setStyle(this.scroller.style,"right",q),y.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(V.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||$)&&(F|=this.CHANGE_FULL)}return V.$dirty=!B||!z,F&&this._signal("resize",U),F},A.prototype.onGutterResize=function($){var O=this.$showGutter?$:0;O!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,O,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},A.prototype.adjustWrapLimit=function(){var $=this.$size.scrollerWidth-this.$padding*2,O=Math.floor($/this.characterWidth);return this.session.adjustWrapLimit(O,this.$showPrintMargin&&this.$printMarginColumn)},A.prototype.setAnimatedScroll=function($){this.setOption("animatedScroll",$)},A.prototype.getAnimatedScroll=function(){return this.$animatedScroll},A.prototype.setShowInvisibles=function($){this.setOption("showInvisibles",$),this.session.$bidiHandler.setShowInvisibles($)},A.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},A.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},A.prototype.setDisplayIndentGuides=function($){this.setOption("displayIndentGuides",$)},A.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},A.prototype.setHighlightIndentGuides=function($){this.setOption("highlightIndentGuides",$)},A.prototype.setShowPrintMargin=function($){this.setOption("showPrintMargin",$)},A.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},A.prototype.setPrintMarginColumn=function($){this.setOption("printMarginColumn",$)},A.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},A.prototype.getShowGutter=function(){return this.getOption("showGutter")},A.prototype.setShowGutter=function($){return this.setOption("showGutter",$)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.setFadeFoldWidgets=function($){this.setOption("fadeFoldWidgets",$)},A.prototype.setHighlightGutterLine=function($){this.setOption("highlightGutterLine",$)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var $=y.createElement("div");$.className="ace_layer ace_print-margin-layer",this.$printMarginEl=y.createElement("div"),this.$printMarginEl.className="ace_print-margin",$.appendChild(this.$printMarginEl),this.content.insertBefore($,this.content.firstChild)}var O=this.$printMarginEl.style;O.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",O.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},A.prototype.getContainerElement=function(){return this.container},A.prototype.getMouseEventTarget=function(){return this.scroller},A.prototype.getTextAreaContainer=function(){return this.container},A.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var $=this.textarea.style,O=this.$composition;if(!this.$keepTextAreaAtCursor&&!O){y.translate(this.textarea,-100,0);return}var B=this.$cursorLayer.$pixelPos;if(B){O&&O.markerRange&&(B=this.$cursorLayer.getPixelPosition(O.markerRange.start,!0));var z=this.layerConfig,F=B.top,V=B.left;F-=z.offset;var U=O&&O.useTextareaForIME||S.isMobile?this.lineHeight:1;if(F<0||F>z.height-U){y.translate(this.textarea,0,0);return}var q=1,K=this.$size.height-U;if(!O)F+=this.lineHeight;else if(O.useTextareaForIME){var Q=this.textarea.value;q=this.characterWidth*this.session.$getStringScreenWidth(Q)[0]}else F+=this.lineHeight+2;V-=this.scrollLeft,V>this.$size.scrollerWidth-q&&(V=this.$size.scrollerWidth-q),V+=this.gutterWidth+this.margin.left,y.setStyle($,"height",U+"px"),y.setStyle($,"width",q+"px"),y.translate(this.textarea,Math.min(V,this.$size.scrollerWidth-q),Math.min(F,K))}}},A.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},A.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},A.prototype.getLastFullyVisibleRow=function(){var $=this.layerConfig,O=$.lastRow,B=this.session.documentToScreenRow(O,0)*$.lineHeight;return B-this.session.getScrollTop()>$.height-$.lineHeight?O-1:O},A.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},A.prototype.setPadding=function($){this.$padding=$,this.$textLayer.setPadding($),this.$cursorLayer.setPadding($),this.$markerFront.setPadding($),this.$markerBack.setPadding($),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},A.prototype.setScrollMargin=function($,O,B,z){var F=this.scrollMargin;F.top=$|0,F.bottom=O|0,F.right=z|0,F.left=B|0,F.v=F.top+F.bottom,F.h=F.left+F.right,F.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-F.top),this.updateFull()},A.prototype.setMargin=function($,O,B,z){var F=this.margin;F.top=$|0,F.bottom=O|0,F.right=z|0,F.left=B|0,F.v=F.top+F.bottom,F.h=F.left+F.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},A.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},A.prototype.setHScrollBarAlwaysVisible=function($){this.setOption("hScrollBarAlwaysVisible",$)},A.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},A.prototype.setVScrollBarAlwaysVisible=function($){this.setOption("vScrollBarAlwaysVisible",$)},A.prototype.$updateScrollBarV=function(){var $=this.layerConfig.maxHeight,O=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&($-=(O-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>$-O&&($=this.scrollTop+O,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight($+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},A.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},A.prototype.freeze=function(){this.$frozen=!0},A.prototype.unfreeze=function(){this.$frozen=!1},A.prototype.$renderChanges=function($,O){if(this.$changes&&($|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!$&&!O){this.$changes|=$;return}if(this.$size.$dirty)return this.$changes|=$,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",$),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var B=this.layerConfig;if($&this.CHANGE_FULL||$&this.CHANGE_SIZE||$&this.CHANGE_TEXT||$&this.CHANGE_LINES||$&this.CHANGE_SCROLL||$&this.CHANGE_H_SCROLL){if($|=this.$computeLayerConfig()|this.$loop.clear(),B.firstRow!=this.layerConfig.firstRow&&B.firstRowScreen==this.layerConfig.firstRowScreen){var z=this.scrollTop+(B.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;z>0&&(this.scrollTop=z,$=$|this.CHANGE_SCROLL,$|=this.$computeLayerConfig()|this.$loop.clear())}B=this.layerConfig,this.$updateScrollBarV(),$&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),y.translate(this.content,-this.scrollLeft,-B.offset);var F=B.width+2*this.$padding+"px",V=B.minHeight+"px";y.setStyle(this.content.style,"width",F),y.setStyle(this.content.style,"height",V)}if($&this.CHANGE_H_SCROLL&&(y.translate(this.content,-this.scrollLeft,-B.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),$&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(B),this.$showGutter&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B),this.$markerBack.update(B),this.$markerFront.update(B),this.$cursorLayer.update(B),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}if($&this.CHANGE_SCROLL){this.$changedLines=null,$&this.CHANGE_TEXT||$&this.CHANGE_LINES?this.$textLayer.update(B):this.$textLayer.scrollLines(B),this.$showGutter&&($&this.CHANGE_GUTTER||$&this.CHANGE_LINES?this.$gutterLayer.update(B):this.$gutterLayer.scrollLines(B)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B),this.$markerBack.update(B),this.$markerFront.update(B),this.$cursorLayer.update(B),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}$&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(B),this.$showGutter&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)):$&this.CHANGE_LINES?((this.$updateLines()||$&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)):$&this.CHANGE_TEXT||$&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)):$&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(B),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(B)),$&this.CHANGE_CURSOR&&(this.$cursorLayer.update(B),this.$moveTextAreaToCursor()),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(B),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(B),this._signal("afterRender",$)},A.prototype.$autosize=function(){var $=this.session.getScreenLength()*this.lineHeight,O=this.$maxLines*this.lineHeight,B=Math.min(O,Math.max((this.$minLines||1)*this.lineHeight,$))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(B+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&B>this.$maxPixelHeight&&(B=this.$maxPixelHeight);var z=B<=2*this.lineHeight,F=!z&&$>O;if(B!=this.desiredHeight||this.$size.height!=this.desiredHeight||F!=this.$vScroll){F!=this.$vScroll&&(this.$vScroll=F,this.scrollBarV.setVisible(F));var V=this.container.clientWidth;this.container.style.height=B+"px",this.$updateCachedSize(!0,this.$gutterWidth,V,B),this.desiredHeight=B,this._signal("autosize")}},A.prototype.$computeLayerConfig=function(){var $=this.session,O=this.$size,B=O.height<=2*this.lineHeight,z=this.session.getScreenLength(),F=z*this.lineHeight,V=this.$getLongestLine(),U=!B&&(this.$hScrollBarAlwaysVisible||O.scrollerWidth-V-2*this.$padding<0),q=this.$horizScroll!==U;q&&(this.$horizScroll=U,this.scrollBarH.setVisible(U));var K=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),B=O.height<=2*this.lineHeight);var Q=O.scrollerHeight+this.lineHeight,X=!this.$maxLines&&this.$scrollPastEnd?(O.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;F+=X;var te=this.scrollMargin;this.session.setScrollTop(Math.max(-te.top,Math.min(this.scrollTop,F-O.scrollerHeight+te.bottom))),this.session.setScrollLeft(Math.max(-te.left,Math.min(this.scrollLeft,V+2*this.$padding-O.scrollerWidth+te.right)));var se=!B&&(this.$vScrollBarAlwaysVisible||O.scrollerHeight-F+X<0||this.scrollTop>te.top),J=K!==se;J&&(this.$vScroll=se,this.scrollBarV.setVisible(se));var le=this.scrollTop%this.lineHeight,ce=Math.ceil(Q/this.lineHeight)-1,ue=Math.max(0,Math.round((this.scrollTop-le)/this.lineHeight)),Ie=ue+ce,Te,Re,ke=this.lineHeight;ue=$.screenToDocumentRow(ue,0);var me=$.getFoldLine(ue);me&&(ue=me.start.row),Te=$.documentToScreenRow(ue,0),Re=$.getRowLength(ue)*ke,Ie=Math.min($.screenToDocumentRow(Ie,0),$.getLength()-1),Q=O.scrollerHeight+$.getRowLength(Ie)*ke+Re,le=this.scrollTop-Te*ke;var ve=0;return(this.layerConfig.width!=V||q)&&(ve=this.CHANGE_H_SCROLL),(q||J)&&(ve|=this.$updateCachedSize(!0,this.gutterWidth,O.width,O.height),this._signal("scrollbarVisibilityChanged"),J&&(V=this.$getLongestLine())),this.layerConfig={width:V,padding:this.$padding,firstRow:ue,firstRowScreen:Te,lastRow:Ie,lineHeight:ke,characterWidth:this.characterWidth,minHeight:Q,maxHeight:F,offset:le,gutterOffset:ke?Math.max(0,Math.ceil((le+O.height-O.scrollerHeight)/ke)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(V-this.$padding),ve},A.prototype.$updateLines=function(){if(this.$changedLines){var $=this.$changedLines.firstRow,O=this.$changedLines.lastRow;this.$changedLines=null;var B=this.layerConfig;if(!($>B.lastRow+1)&&!(O<B.firstRow)){if(O===1/0){this.$showGutter&&this.$gutterLayer.update(B),this.$textLayer.update(B);return}return this.$textLayer.updateLines(B,$,O),!0}}},A.prototype.$getLongestLine=function(){var $=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&($+=1),this.$textLayer&&$>this.$textLayer.MAX_LINE_LENGTH&&($=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round($*this.characterWidth))},A.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},A.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},A.prototype.addGutterDecoration=function($,O){this.$gutterLayer.addGutterDecoration($,O)},A.prototype.removeGutterDecoration=function($,O){this.$gutterLayer.removeGutterDecoration($,O)},A.prototype.updateBreakpoints=function($){this._rows=$,this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.setAnnotations=function($){this.$gutterLayer.setAnnotations($),this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},A.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},A.prototype.showCursor=function(){this.$cursorLayer.showCursor()},A.prototype.scrollSelectionIntoView=function($,O,B){this.scrollCursorIntoView($,B),this.scrollCursorIntoView(O,B)},A.prototype.scrollCursorIntoView=function($,O,B){if(this.$size.scrollerHeight!==0){var z=this.$cursorLayer.getPixelPosition($),F=z.left,V=z.top,U=B&&B.top||0,q=B&&B.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var K=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;K+U>V?(O&&K+U>V+this.lineHeight&&(V-=O*this.$size.scrollerHeight),V===0&&(V=-this.scrollMargin.top),this.session.setScrollTop(V)):K+this.$size.scrollerHeight-q<V+this.lineHeight&&(O&&K+this.$size.scrollerHeight-q<V-this.lineHeight&&(V+=O*this.$size.scrollerHeight),this.session.setScrollTop(V+this.lineHeight+q-this.$size.scrollerHeight));var Q=this.scrollLeft,X=2*this.layerConfig.characterWidth;F-X<Q?(F-=X,F<this.$padding+X&&(F=-this.scrollMargin.left),this.session.setScrollLeft(F)):(F+=X,Q+this.$size.scrollerWidth<F+this.characterWidth?this.session.setScrollLeft(Math.round(F+this.characterWidth-this.$size.scrollerWidth)):Q<=this.$padding&&F-Q<this.characterWidth&&this.session.setScrollLeft(0))}},A.prototype.getScrollTop=function(){return this.session.getScrollTop()},A.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},A.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},A.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},A.prototype.scrollToRow=function($){this.session.setScrollTop($*this.lineHeight)},A.prototype.alignCursor=function($,O){typeof $=="number"&&($={row:$,column:0});var B=this.$cursorLayer.getPixelPosition($),z=this.$size.scrollerHeight-this.lineHeight,F=B.top-z*(O||0);return this.session.setScrollTop(F),F},A.prototype.$calcSteps=function($,O){var B=0,z=this.STEPS,F=[],V=function(U,q,K){return K*(Math.pow(U-1,3)+1)+q};for(B=0;B<z;++B)F.push(V(B/this.STEPS,$,O-$));return F},A.prototype.scrollToLine=function($,O,B,z){var F=this.$cursorLayer.getPixelPosition({row:$,column:0}),V=F.top;O&&(V-=this.$size.scrollerHeight/2);var U=this.scrollTop;this.session.setScrollTop(V),B!==!1&&this.animateScrolling(U,z)},A.prototype.animateScrolling=function($,O){var B=this.scrollTop;if(!this.$animatedScroll)return;var z=this;if($==B)return;if(this.$scrollAnimation){var F=this.$scrollAnimation.steps;if(F.length&&($=F[0],$==B))return}var V=z.$calcSteps($,B);this.$scrollAnimation={from:$,to:B,steps:V},clearInterval(this.$timer),z.session.setScrollTop(V.shift()),z.session.$scrollTop=B;function U(){z.$timer=clearInterval(z.$timer),z.$scrollAnimation=null,z.$stopAnimation=!1,O&&O()}this.$timer=setInterval(function(){if(z.$stopAnimation){U();return}if(!z.session)return clearInterval(z.$timer);V.length?(z.session.setScrollTop(V.shift()),z.session.$scrollTop=B):B!=null?(z.session.$scrollTop=-1,z.session.setScrollTop(B),B=null):U()},10)},A.prototype.scrollToY=function($){this.scrollTop!==$&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=$)},A.prototype.scrollToX=function($){this.scrollLeft!==$&&(this.scrollLeft=$),this.$loop.schedule(this.CHANGE_H_SCROLL)},A.prototype.scrollTo=function($,O){this.session.setScrollTop(O),this.session.setScrollLeft($)},A.prototype.scrollBy=function($,O){O&&this.session.setScrollTop(this.session.getScrollTop()+O),$&&this.session.setScrollLeft(this.session.getScrollLeft()+$)},A.prototype.isScrollableBy=function($,O){if(O<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||O>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||$<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||$>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},A.prototype.pixelToScreenCoordinates=function($,O){var B;if(this.$hasCssTransforms){B={top:0,left:0};var z=this.$fontMetrics.transformCoordinates([$,O]);$=z[1]-this.gutterWidth-this.margin.left,O=z[0]}else B=this.scroller.getBoundingClientRect();var F=$+this.scrollLeft-B.left-this.$padding,V=F/this.characterWidth,U=Math.floor((O+this.scrollTop-B.top)/this.lineHeight),q=this.$blockCursor?Math.floor(V):Math.round(V);return{row:U,column:q,side:V-q>0?1:-1,offsetX:F}},A.prototype.screenToTextCoordinates=function($,O){var B;if(this.$hasCssTransforms){B={top:0,left:0};var z=this.$fontMetrics.transformCoordinates([$,O]);$=z[1]-this.gutterWidth-this.margin.left,O=z[0]}else B=this.scroller.getBoundingClientRect();var F=$+this.scrollLeft-B.left-this.$padding,V=F/this.characterWidth,U=this.$blockCursor?Math.floor(V):Math.round(V),q=Math.floor((O+this.scrollTop-B.top)/this.lineHeight);return this.session.screenToDocumentPosition(q,Math.max(U,0),F)},A.prototype.textToScreenCoordinates=function($,O){var B=this.scroller.getBoundingClientRect(),z=this.session.documentToScreenPosition($,O),F=this.$padding+(this.session.$bidiHandler.isBidiRow(z.row,$)?this.session.$bidiHandler.getPosLeft(z.column):Math.round(z.column*this.characterWidth)),V=z.row*this.lineHeight;return{pageX:B.left+F-this.scrollLeft,pageY:B.top+V-this.scrollTop}},A.prototype.visualizeFocus=function(){y.addCssClass(this.container,"ace_focus")},A.prototype.visualizeBlur=function(){y.removeCssClass(this.container,"ace_focus")},A.prototype.showComposition=function($){this.$composition=$,$.cssText||($.cssText=this.textarea.style.cssText),$.useTextareaForIME==null&&($.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(y.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):$.markerId=this.session.addMarker($.markerRange,"ace_composition_marker","text")},A.prototype.setCompositionText=function($){var O=this.session.selection.cursor;this.addToken($,"composition_placeholder",O.row,O.column),this.$moveTextAreaToCursor()},A.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),y.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var $=this.session.selection.cursor;this.removeExtraToken($.row,$.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},A.prototype.setGhostText=function($,O){var B=this.session.selection.cursor,z=O||{row:B.row,column:B.column};this.removeGhostText();var F=this.$calculateWrappedTextChunks($,z);this.addToken(F[0].text,"ghost_text",z.row,z.column),this.$ghostText={text:$,position:{row:z.row,column:z.column}};var V=y.createElement("div");if(F.length>1){var U=this.hideTokensAfterPosition(z.row,z.column),q;F.slice(1).forEach(function(J){var le=y.createElement("div"),ce=y.createElement("span");ce.className="ace_ghost_text",J.wrapped&&(le.className="ghost_text_line_wrapped"),J.text.length===0&&(J.text=" "),ce.appendChild(y.createTextNode(J.text)),le.appendChild(ce),V.appendChild(le),q=le}),U.forEach(function(J){var le=y.createElement("span");N(J.type)||(le.className="ace_"+J.type.replace(/\./g," ace_")),le.appendChild(y.createTextNode(J.value)),q.appendChild(le)}),this.$ghostTextWidget={el:V,row:z.row,column:z.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var K=this.$cursorLayer.getPixelPosition(z,!0),Q=this.container,X=Q.getBoundingClientRect().height,te=F.length*this.lineHeight,se=te<X-K.top;if(se)return;te<X?this.scrollBy(0,(F.length-1)*this.lineHeight):this.scrollToRow(z.row)}},A.prototype.$calculateWrappedTextChunks=function($,O){var B=this.$size.scrollerWidth-this.$padding*2,z=Math.floor(B/this.characterWidth)-2;z=z<=0?60:z;for(var F=$.split(/\r?\n/),V=[],U=0;U<F.length;U++){var q=this.session.$getDisplayTokens(F[U],O.column),K=this.session.$computeWrapSplits(q,z,this.session.$tabSize);if(K.length>0){var Q=0;K.push(F[U].length);for(var X=0;X<K.length;X++){var te=F[U].slice(Q,K[X]);V.push({text:te,wrapped:!0}),Q=K[X]}}else V.push({text:F[U],wrapped:!1})}return V},A.prototype.removeGhostText=function(){if(this.$ghostText){var $=this.$ghostText.position;this.removeExtraToken($.row,$.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},A.prototype.addToken=function($,O,B,z){var F=this.session;F.bgTokenizer.lines[B]=null;var V={type:O,value:$},U=F.getTokens(B);if(z==null||!U.length)U.push(V);else for(var q=0,K=0;K<U.length;K++){var Q=U[K];if(q+=Q.value.length,z<=q){var X=Q.value.length-(q-z),te=Q.value.slice(0,X),se=Q.value.slice(X);U.splice(K,1,{type:Q.type,value:te},V,{type:Q.type,value:se});break}}this.updateLines(B,B)},A.prototype.hideTokensAfterPosition=function($,O){for(var B=this.session.getTokens($),z=0,F=!1,V=[],U=0;U<B.length;U++){var q=B[U];if(z+=q.value.length,q.type!=="ghost_text"){if(F){V.push({type:q.type,value:q.value}),q.type="hidden_token";continue}z===O&&(F=!0)}}return this.updateLines($,$),V},A.prototype.removeExtraToken=function($,O){this.session.bgTokenizer.lines[$]=null,this.updateLines($,$)},A.prototype.setTheme=function($,O){var B=this;if(this.$themeId=$,B._dispatchEvent("themeChange",{theme:$}),!$||typeof $=="string"){var z=$||this.$options.theme.initialValue;d.loadModule(["theme",z],F)}else F($);function F(V){if(B.$themeId!=$)return O&&O();if(!V||!V.cssClass)throw new Error("couldn't load module "+$+" or it didn't call define");V.$id&&(B.$themeId=V.$id),y.importCssString(V.cssText,V.cssClass,B.container),B.theme&&y.removeCssClass(B.container,B.theme.cssClass);var U="padding"in V?V.padding:"padding"in(B.theme||{})?4:B.$padding;B.$padding&&U!=B.$padding&&B.setPadding(U),B.$theme=V.cssClass,B.theme=V,y.addCssClass(B.container,V.cssClass),y.setCssClass(B.container,"ace_dark",V.isDark),B.$size&&(B.$size.width=0,B.$updateSizeAsync()),B._dispatchEvent("themeLoaded",{theme:V}),O&&O(),S.isSafari&&B.scroller&&(B.scroller.style.background="red",B.scroller.style.background="")}},A.prototype.getTheme=function(){return this.$themeId},A.prototype.setStyle=function($,O){y.setCssClass(this.container,$,O!==!1)},A.prototype.unsetStyle=function($){y.removeCssClass(this.container,$)},A.prototype.setCursorStyle=function($){y.setStyle(this.scroller.style,"cursor",$)},A.prototype.setMouseCursor=function($){y.setStyle(this.scroller.style,"cursor",$)},A.prototype.attachToShadowRoot=function(){y.importCssString(k,"ace_editor.css",this.container)},A.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},A.prototype.$updateCustomScrollbar=function($){var O=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,$===!0?(this.scrollBarV=new v(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(B){O.$scrollAnimation||O.session.setScrollTop(B.data-O.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(B){O.$scrollAnimation||O.session.setScrollLeft(B.data-O.scrollMargin.left)}),this.$scrollDecorator=new C(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(B){O.$scrollAnimation||O.session.setScrollTop(B.data-O.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(B){O.$scrollAnimation||O.session.setScrollLeft(B.data-O.scrollMargin.left)}))},A.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var $=this;this.$resizeTimer=b.delayedCall(function(){$.destroyed||$.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(O){var B=O[0].contentRect.width,z=O[0].contentRect.height;Math.abs($.$size.width-B)>1||Math.abs($.$size.height-z)>1?$.$resizeTimer.delay():$.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},A}();L.prototype.CHANGE_CURSOR=1,L.prototype.CHANGE_MARKER=2,L.prototype.CHANGE_GUTTER=4,L.prototype.CHANGE_SCROLL=8,L.prototype.CHANGE_LINES=16,L.prototype.CHANGE_TEXT=32,L.prototype.CHANGE_SIZE=64,L.prototype.CHANGE_MARKER_BACK=128,L.prototype.CHANGE_MARKER_FRONT=256,L.prototype.CHANGE_FULL=512,L.prototype.CHANGE_H_SCROLL=1024,L.prototype.$changes=0,L.prototype.$padding=null,L.prototype.$frozen=!1,L.prototype.STEPS=8,g.implement(L.prototype,R),d.defineOptions(L.prototype,"renderer",{useResizeObserver:{set:function(A){!A&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):A&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(A){this.$textLayer.setShowInvisibles(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(A){typeof A=="number"&&(this.$printMarginColumn=A),this.$showPrintMargin=!!A,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(A){this.$gutter.style.display=A?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(A){this.$gutterLayer.$useSvgGutterIcons=A},initialValue:!1},showFoldedAnnotations:{set:function(A){this.$gutterLayer.$showFoldedAnnotations=A},initialValue:!1},fadeFoldWidgets:{set:function(A){y.setCssClass(this.$gutter,"ace_fade-fold-widgets",A)},initialValue:!1},showFoldWidgets:{set:function(A){this.$gutterLayer.setShowFoldWidgets(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(A){this.$textLayer.setDisplayIndentGuides(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(A){this.$textLayer.setHighlightIndentGuides(A)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(A){this.$gutterLayer.setHighlightGutterLine(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(A){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(A){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(A){typeof A=="number"&&(A=A+"px"),this.container.style.fontSize=A,this.updateFontSize()},initialValue:12},fontFamily:{set:function(A){this.container.style.fontFamily=A,this.updateFontSize()}},maxLines:{set:function(A){this.updateFull()}},minLines:{set:function(A){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(A){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(A){A=+A||0,this.$scrollPastEnd!=A&&(this.$scrollPastEnd=A,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(A){this.$gutterLayer.$fixedWidth=!!A,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(A){this.$updateCustomScrollbar(A)},initialValue:!1},theme:{set:function(A){this.setTheme(A)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!S.isMobile&&!S.isIE}}),a.VirtualRenderer=L}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(i,a,w){var g=i("../lib/oop"),y=i("../lib/net"),b=i("../lib/event_emitter").EventEmitter,d=i("../config");function f(u){var h="importScripts('"+y.qualifyURL(u)+"');";try{return new Blob([h],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,v=new m;return v.append(h),v.getBlob("application/javascript")}}function c(u){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(d.get("loadWorkerFromBlob")){var h=f(u),m=window.URL||window.webkitURL,v=m.createObjectURL(h);return new Worker(v)}return new Worker(u)}var s=function(u){u.postMessage||(u=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=u,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){g.implement(this,b),this.$createWorkerFromOldConfig=function(u,h,m,v,T){if(i.nameToUrl&&!i.toUrl&&(i.toUrl=i.nameToUrl),d.get("packaged")||!i.toUrl)v=v||d.moduleUrl(h,"worker");else{var x=this.$normalizePath;v=v||x(i.toUrl("ace/worker/worker.js",null,"_"));var R={};u.forEach(function(k){R[k]=x(i.toUrl(k,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(v),T&&this.send("importScripts",T),this.$worker.postMessage({init:!0,tlns:R,module:h,classname:m}),this.$worker},this.onMessage=function(u){var h=u.data;switch(h.type){case"event":this._signal(h.name,{data:h.data});break;case"call":var m=this.callbacks[h.id];m&&(m(h.data),delete this.callbacks[h.id]);break;case"error":this.reportError(h.data);break;case"log":window.console&&console.log&&console.log.apply(console,h.data);break}},this.reportError=function(u){window.console&&console.error&&console.error(u)},this.$normalizePath=function(u){return y.qualifyURL(u)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(u){u.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(u,h){this.$worker.postMessage({command:u,args:h})},this.call=function(u,h,m){if(m){var v=this.callbackId++;this.callbacks[v]=m,h.push(v)}this.send(u,h)},this.emit=function(u,h){try{h.data&&h.data.err&&(h.data.err={message:h.data.err.message,stack:h.data.err.stack,code:h.data.err.code}),this.$worker&&this.$worker.postMessage({event:u,data:{data:h.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(u){this.$doc&&this.terminate(),this.$doc=u,this.call("setValue",[u.getValue()]),u.on("change",this.changeListener,!0)},this.changeListener=function(u){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),u.action=="insert"?this.deltaQueue.push(u.start,u.lines):this.deltaQueue.push(u.start,u.end)},this.$sendDeltaQueue=function(){var u=this.deltaQueue;u&&(this.deltaQueue=null,u.length>50&&u.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:u}))}}).call(s.prototype);var o=function(u,h,m){var v=null,T=!1,x=Object.create(b),R=[],k=new s({messageBuffer:R,terminate:function(){},postMessage:function(S){R.push(S),v&&(T?setTimeout(C):C())}});k.setEmitSync=function(S){T=S};var C=function(){var S=R.shift();S.command?v[S.command].apply(v,S.args):S.event&&x._signal(S.event,S.data)};return x.postMessage=function(S){k.onMessage({data:S})},x.callback=function(S,N){this.postMessage({type:"call",id:N,data:S})},x.emit=function(S,N){this.postMessage({type:"event",name:S,data:N})},d.loadModule(["worker",h],function(S){for(v=new S[m](x);R.length;)C()}),k};a.UIWorkerClient=o,a.WorkerClient=s,a.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(i,a,w){var g=i("./range").Range,y=i("./lib/event_emitter").EventEmitter,b=i("./lib/oop"),d=function(){function f(c,s,o,u,h,m){var v=this;this.length=s,this.session=c,this.doc=c.getDocument(),this.mainClass=h,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=u,this.$onCursorChange=function(){setTimeout(function(){v.onCursorChange()})},this.$pos=o;var T=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=T.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return f.prototype.setup=function(){var c=this,s=this.doc,o=this.session;this.selectionBefore=o.selection.toJSON(),o.selection.inMultiSelectMode&&o.selection.toSingleRange(),this.pos=s.createAnchor(this.$pos.row,this.$pos.column);var u=this.pos;u.$insertRight=!0,u.detach(),u.markerId=o.addMarker(new g(u.row,u.column,u.row,u.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(h){var m=s.createAnchor(h.row,h.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),o.setUndoSelect(!1)},f.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,s=this;this.othersActive=!0,this.others.forEach(function(o){o.markerId=c.addMarker(new g(o.row,o.column,o.row,o.column+s.length),s.othersClass,null,!1)})}},f.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},f.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var s=c;if(s.start.row===s.end.row&&s.start.row===this.pos.row){this.$updating=!0;var o=c.action==="insert"?s.end.column-s.start.column:s.start.column-s.end.column,u=s.start.column>=this.pos.column&&s.start.column<=this.pos.column+this.length+1,h=s.start.column-this.pos.column;if(this.updateAnchors(c),u&&(this.length+=o),u&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var v=this.others[m],T={row:v.row,column:v.column+h};this.doc.insertMergedLines(T,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var v=this.others[m],T={row:v.row,column:v.column+h};this.doc.remove(new g(T.row,T.column,T.row,T.column-o))}}this.$updating=!1,this.updateMarkers()}},f.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var s=this.others.length;s--;)this.others[s].onChange(c);this.updateMarkers()},f.prototype.updateMarkers=function(){if(!this.$updating){var c=this,s=this.session,o=function(h,m){s.removeMarker(h.markerId),h.markerId=s.addMarker(new g(h.row,h.column,h.row,h.column+c.length),m,null,!1)};o(this.pos,this.mainClass);for(var u=this.others.length;u--;)o(this.others[u],this.othersClass)}},f.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var s=this.session.selection.getCursor();s.row===this.pos.row&&s.column>=this.pos.column&&s.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},f.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},f.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),s=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,o=0;o<s;o++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},f}();b.implement(d.prototype,y),a.PlaceHolder=d}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,a,w){var g=i("../lib/event"),y=i("../lib/useragent");function b(f,c){return f.row==c.row&&f.column==c.column}function d(f){var c=f.domEvent,s=c.altKey,o=c.shiftKey,u=c.ctrlKey,h=f.getAccelKey(),m=f.getButton();if(u&&y.isMac&&(m=c.button),f.editor.inMultiSelectMode&&m==2){f.editor.textInput.onContextMenu(f.domEvent);return}if(!u&&!s&&!h){m===0&&f.editor.inMultiSelectMode&&f.editor.exitMultiSelectMode();return}if(m===0){var v=f.editor,T=v.selection,x=v.inMultiSelectMode,R=f.getDocumentPosition(),k=T.getCursor(),C=f.inSelection()||T.isEmpty()&&b(R,k),S=f.x,N=f.y,L=function(te){S=te.clientX,N=te.clientY},A=v.session,$=v.renderer.pixelToScreenCoordinates(S,N),O=$,B;if(v.$mouseHandler.$enableJumpToDef)u&&s||h&&s?B=o?"block":"add":s&&v.$blockSelectEnabled&&(B="block");else if(h&&!s){if(B="add",!x&&o)return}else s&&v.$blockSelectEnabled&&(B="block");if(B&&y.isMac&&c.ctrlKey&&v.$mouseHandler.cancelContextMenu(),B=="add"){if(!x&&C)return;if(!x){var z=T.toOrientedRange();v.addSelectionMarker(z)}var F=T.rangeList.rangeAtPoint(R);v.inVirtualSelectionMode=!0,o&&(F=null,z=T.ranges[0]||z,v.removeSelectionMarker(z)),v.once("mouseup",function(){var te=T.toOrientedRange();F&&te.isEmpty()&&b(F.cursor,te.cursor)?T.substractPoint(te.cursor):(o?T.substractPoint(z.cursor):z&&(v.removeSelectionMarker(z),T.addRange(z)),T.addRange(te)),v.inVirtualSelectionMode=!1})}else if(B=="block"){f.stop(),v.inVirtualSelectionMode=!0;var V,U=[],q=function(){var te=v.renderer.pixelToScreenCoordinates(S,N),se=A.screenToDocumentPosition(te.row,te.column,te.offsetX);b(O,te)&&b(se,T.lead)||(O=te,v.selection.moveToPosition(se),v.renderer.scrollCursorIntoView(),v.removeSelectionMarkers(U),U=T.rectangularRangeBlock(O,$),v.$mouseHandler.$clickSelection&&U.length==1&&U[0].isEmpty()&&(U[0]=v.$mouseHandler.$clickSelection.clone()),U.forEach(v.addSelectionMarker,v),v.updateSelectionMarkers())};x&&!h?T.toSingleRange():!x&&h&&(V=T.toOrientedRange(),v.addSelectionMarker(V)),o?$=A.documentToScreenPosition(T.lead):T.moveToPosition(R),O={row:-1,column:-1};var K=function(te){q(),clearInterval(X),v.removeSelectionMarkers(U),U.length||(U=[T.toOrientedRange()]),V&&(v.removeSelectionMarker(V),T.toSingleRange(V));for(var se=0;se<U.length;se++)T.addRange(U[se]);v.inVirtualSelectionMode=!1,v.$mouseHandler.$clickSelection=null},Q=q;g.capture(v.container,L,K);var X=setInterval(function(){Q()},20);return f.preventDefault()}}}a.onMouseDown=d}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(i,a,w){a.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(y){y.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(y){y.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(y){y.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(y){y.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(y){y.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(y){y.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(y){y.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(y){y.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(y){y.multiSelect.rangeCount>1?y.multiSelect.joinSelections():y.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(y){y.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(y){y.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(y){y.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],a.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(y){y.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(y){return y&&y.inMultiSelectMode}}];var g=i("../keyboard/hash_handler").HashHandler;a.keyboardHandler=new g(a.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(i,a,w){var g=i("./range_list").RangeList,y=i("./range").Range,b=i("./selection").Selection,d=i("./mouse/multi_select_handler").onMouseDown,f=i("./lib/event"),c=i("./lib/lang"),s=i("./commands/multi_select_commands");a.commands=s.defaultCommands.concat(s.multiSelectCommands);var o=i("./search").Search,u=new o;function h(k,C,S){return u.$options.wrap=!0,u.$options.needle=C,u.$options.backwards=S==-1,u.find(k)}var m=i("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(k,C){if(k){if(!this.inMultiSelectMode&&this.rangeCount===0){var S=this.toOrientedRange();if(this.rangeList.add(S),this.rangeList.add(k),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(k);this.rangeList.removeAll(),this.rangeList.add(S),this.$onAddRange(S)}k.cursor||(k.cursor=k.end);var N=this.rangeList.add(k);return this.$onAddRange(k),N.length&&this.$onRemoveRange(N),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(k)}},this.toSingleRange=function(k){k=k||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),k&&this.fromOrientedRange(k)},this.substractPoint=function(k){var C=this.rangeList.substractPoint(k);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var k=this.rangeList.merge();k.length&&this.$onRemoveRange(k)},this.$onAddRange=function(k){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(k),this._signal("addRange",{range:k})},this.$onRemoveRange=function(k){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();k.push(C),this.rangeCount=0}for(var S=k.length;S--;){var N=this.ranges.indexOf(k[S]);this.ranges.splice(N,1)}this._signal("removeRange",{ranges:k}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),C=C||this.ranges[0],C&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var k=this.ranges.length?this.ranges:[this.getRange()],C=[],S=0;S<k.length;S++){var N=k[S],L=N.start.row,A=N.end.row;if(L===A)C.push(N.clone());else{for(C.push(new y(L,N.start.column,L,this.session.getLine(L).length));++L<A;)C.push(this.getLineRange(L,!0));C.push(new y(A,0,A,N.end.column))}S==0&&!this.isBackwards()&&(C=C.reverse())}this.toSingleRange();for(var S=C.length;S--;)this.addRange(C[S])},this.joinSelections=function(){var k=this.rangeList.ranges,C=k[k.length-1],S=y.fromPoints(k[0].start,C.end);this.toSingleRange(),this.setSelectionRange(S,C.cursor==C.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var k=this.rangeList.ranges,C=k[k.length-1],S=y.fromPoints(k[0].start,C.end);this.toSingleRange(),this.setSelectionRange(S,C.cursor==C.start)}else{var N=this.session.documentToScreenPosition(this.cursor),L=this.session.documentToScreenPosition(this.anchor),A=this.rectangularRangeBlock(N,L);A.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(k,C,S){var N=[],L=k.column<C.column;if(L)var A=k.column,$=C.column,O=k.offsetX,B=C.offsetX;else var A=C.column,$=k.column,O=C.offsetX,B=k.offsetX;var z=k.row<C.row;if(z)var F=k.row,V=C.row;else var F=C.row,V=k.row;A<0&&(A=0),F<0&&(F=0),F==V&&(S=!0);for(var U,q=F;q<=V;q++){var K=y.fromPoints(this.session.screenToDocumentPosition(q,A,O),this.session.screenToDocumentPosition(q,$,B));if(K.isEmpty()){if(U&&T(K.end,U))break;U=K.end}K.cursor=L?K.start:K.end,N.push(K)}if(z&&N.reverse(),!S){for(var Q=N.length-1;N[Q].isEmpty()&&Q>0;)Q--;if(Q>0)for(var X=0;N[X].isEmpty();)X++;for(var te=Q;te>=X;te--)N[te].isEmpty()&&N.splice(te,1)}return N}}).call(b.prototype);var v=i("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(k){k.cursor||(k.cursor=k.end);var C=this.getSelectionStyle();return k.marker=this.session.addMarker(k,"ace_selection",C),this.session.$selectionMarkers.push(k),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,k},this.removeSelectionMarker=function(k){if(k.marker){this.session.removeMarker(k.marker);var C=this.session.$selectionMarkers.indexOf(k);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(k){for(var C=this.session.$selectionMarkers,S=k.length;S--;){var N=k[S];if(N.marker){this.session.removeMarker(N.marker);var L=C.indexOf(N);L!=-1&&C.splice(L,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(k){this.addSelectionMarker(k.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(k){this.removeSelectionMarkers(k.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(k){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(s.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(k){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(s.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(k){var C=k.command,S=k.editor;if(S.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?N=S.forEachSelection(C,k.args):C.multiSelectAction=="forEachLine"?N=S.forEachSelection(C,k.args,!0):C.multiSelectAction=="single"?(S.exitMultiSelectMode(),N=C.exec(S,k.args||{})):N=C.multiSelectAction(S,k.args||{});else{var N=C.exec(S,k.args||{});S.multiSelect.addRange(S.multiSelect.toOrientedRange()),S.multiSelect.mergeOverlappingRanges()}return N}},this.forEachSelection=function(k,C,S){if(!this.inVirtualSelectionMode){var N=S&&S.keepOrder,L=S==!0||S&&S.$byLines,A=this.session,$=this.selection,O=$.rangeList,B=(N?$:O).ranges,z;if(!B.length)return k.exec?k.exec(this,C||{}):k(this,C||{});var F=$._eventRegistry;$._eventRegistry={};var V=new b(A);this.inVirtualSelectionMode=!0;for(var U=B.length;U--;){if(L)for(;U>0&&B[U].start.row==B[U-1].end.row;)U--;V.fromOrientedRange(B[U]),V.index=U,this.selection=A.selection=V;var q=k.exec?k.exec(this,C||{}):k(this,C||{});!z&&q!==void 0&&(z=q),V.toOrientedRange(B[U])}V.detach(),this.selection=A.selection=$,this.inVirtualSelectionMode=!1,$._eventRegistry=F,$.mergeOverlappingRanges(),$.ranges[0]&&$.fromOrientedRange($.ranges[0]);var K=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),K&&K.from==K.to&&this.renderer.animateScrolling(K.from),z}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var k="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,S=[],N=0;N<C.length;N++)S.push(this.session.getTextRange(C[N]));var L=this.session.getDocument().getNewLineCharacter();k=S.join(L),k.length==(S.length-1)*L.length&&(k="")}else this.selection.isEmpty()||(k=this.session.getTextRange(this.getSelectionRange()));return k},this.$checkMultiselectChange=function(k,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var S=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var N=C==this.multiSelect.anchor?S.cursor==S.start?S.end:S.start:S.cursor;N.row!=C.row||this.session.$clipPositionToDocument(N.row,N.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(k,C,S){if(C=C||{},C.needle=k||C.needle,C.needle==null){var N=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(N)}this.$search.set(C);var L=this.$search.findAll(this.session);if(!L.length)return 0;var A=this.multiSelect;S||A.toSingleRange(L[0]);for(var $=L.length;$--;)A.addRange(L[$],!0);return N&&A.rangeList.rangeAtPoint(N.start)&&A.addRange(N,!0),L.length},this.selectMoreLines=function(k,C){var S=this.selection.toOrientedRange(),N=S.cursor==S.end,L=this.session.documentToScreenPosition(S.cursor);this.selection.$desiredColumn&&(L.column=this.selection.$desiredColumn);var A=this.session.screenToDocumentPosition(L.row+k,L.column);if(S.isEmpty())var O=A;else var $=this.session.documentToScreenPosition(N?S.end:S.start),O=this.session.screenToDocumentPosition($.row+k,$.column);if(N){var B=y.fromPoints(A,O);B.cursor=B.start}else{var B=y.fromPoints(O,A);B.cursor=B.end}if(B.desiredColumn=L.column,!this.selection.inMultiSelectMode)this.selection.addRange(S);else if(C)var z=S.cursor;this.selection.addRange(B),z&&this.selection.substractPoint(z)},this.transposeSelections=function(k){for(var C=this.session,S=C.multiSelect,N=S.ranges,L=N.length;L--;){var A=N[L];if(A.isEmpty()){var $=C.getWordRange(A.start.row,A.start.column);A.start.row=$.start.row,A.start.column=$.start.column,A.end.row=$.end.row,A.end.column=$.end.column}}S.mergeOverlappingRanges();for(var O=[],L=N.length;L--;){var A=N[L];O.unshift(C.getTextRange(A))}k<0?O.unshift(O.pop()):O.push(O.shift());for(var L=N.length;L--;){var A=N[L],B=A.clone();C.replace(A,O[L]),A.start.row=B.start.row,A.start.column=B.start.column}S.fromOrientedRange(S.ranges[0])},this.selectMore=function(k,C,S){var N=this.session,L=N.multiSelect,A=L.toOrientedRange();if(!(A.isEmpty()&&(A=N.getWordRange(A.start.row,A.start.column),A.cursor=k==-1?A.start:A.end,this.multiSelect.addRange(A),S))){var $=N.getTextRange(A),O=h(N,$,k);O&&(O.cursor=k==-1?O.start:O.end,this.session.unfold(O),this.multiSelect.addRange(O),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(A.cursor)}},this.alignCursors=function(){var k=this.session,C=k.multiSelect,S=C.ranges,N=-1,L=S.filter(function(Q){if(Q.cursor.row==N)return!0;N=Q.cursor.row});if(!S.length||L.length==S.length-1){var A=this.selection.getRange(),$=A.start.row,O=A.end.row,B=$==O;if(B){var z=this.session.getLength(),F;do F=this.session.getLine(O);while(/[=:]/.test(F)&&++O<z);do F=this.session.getLine($);while(/[=:]/.test(F)&&--$>0);$<0&&($=0),O>=z&&(O=z-1)}var V=this.session.removeFullLines($,O);V=this.$reAlignText(V,B),this.session.insert({row:$,column:0},V.join(`
`)+`
`),B||(A.start.column=0,A.end.column=V[V.length-1].length),this.selection.setRange(A)}else{L.forEach(function(Q){C.substractPoint(Q.cursor)});var U=0,q=1/0,K=S.map(function(Q){var X=Q.cursor,te=k.getLine(X.row),se=te.substr(X.column).search(/\S/g);return se==-1&&(se=0),X.column>U&&(U=X.column),se<q&&(q=se),se});S.forEach(function(Q,X){var te=Q.cursor,se=U-te.column,J=K[X]-q;se>J?k.insert(te,c.stringRepeat(" ",se-J)):k.remove(new y(te.row,te.column,te.row,te.column-se+J)),Q.start.column=Q.end.column=U,Q.start.row=Q.end.row=te.row,Q.cursor=Q.end}),C.fromOrientedRange(S[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(k,C){var S=!0,N=!0,L,A,$;return k.map(function(V){var U=V.match(/(\s*)(.*?)(\s*)([=:].*)/);return U?L==null?(L=U[1].length,A=U[2].length,$=U[3].length,U):(L+A+$!=U[1].length+U[2].length+U[3].length&&(N=!1),L!=U[1].length&&(S=!1),L>U[1].length&&(L=U[1].length),A<U[2].length&&(A=U[2].length),$>U[3].length&&($=U[3].length),U):[V]}).map(C?B:S?N?z:B:F);function O(V){return c.stringRepeat(" ",V)}function B(V){return V[2]?O(L)+V[2]+O(A-V[2].length+$)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}function z(V){return V[2]?O(L+A-V[2].length)+V[2]+O($)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}function F(V){return V[2]?O(L)+V[2]+O($)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}}}).call(v.prototype);function T(k,C){return k.row==C.row&&k.column==C.column}a.onSessionChange=function(k){var C=k.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var S=k.oldSession;S&&(S.multiSelect.off("addRange",this.$onAddRange),S.multiSelect.off("removeRange",this.$onRemoveRange),S.multiSelect.off("multiSelect",this.$onMultiSelect),S.multiSelect.off("singleSelect",this.$onSingleSelect),S.multiSelect.lead.off("change",this.$checkMultiselectChange),S.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function x(k){k.$multiselectOnSessionChange||(k.$onAddRange=k.$onAddRange.bind(k),k.$onRemoveRange=k.$onRemoveRange.bind(k),k.$onMultiSelect=k.$onMultiSelect.bind(k),k.$onSingleSelect=k.$onSingleSelect.bind(k),k.$multiselectOnSessionChange=a.onSessionChange.bind(k),k.$checkMultiselectChange=k.$checkMultiselectChange.bind(k),k.$multiselectOnSessionChange(k),k.on("changeSession",k.$multiselectOnSessionChange),k.on("mousedown",d),k.commands.addCommands(s.defaultCommands),R(k))}function R(k){if(!k.textInput)return;var C=k.textInput.getElement(),S=!1;f.addListener(C,"keydown",function(L){var A=L.keyCode==18&&!(L.ctrlKey||L.shiftKey||L.metaKey);k.$blockSelectEnabled&&A?S||(k.renderer.setMouseCursor("crosshair"),S=!0):S&&N()},k),f.addListener(C,"keyup",N,k),f.addListener(C,"blur",N,k);function N(L){S&&(k.renderer.setMouseCursor(""),S=!1)}}a.MultiSelect=x,i("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(k){x(this),k?this.on("mousedown",d):this.off("mousedown",d)},value:!0},enableBlockSelect:{set:function(k){this.$blockSelectEnabled=k},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(i,a,w){var g=i("../../range").Range,y=a.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(b,d,f){var c=b.getLine(f);return this.foldingStartMarker.test(c)?"start":d=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(b,d,f){return null},this.indentationBlock=function(b,d,f){var c=/\S/,s=b.getLine(d),o=s.search(c);if(o!=-1){for(var u=f||s.length,h=b.getLength(),m=d,v=d;++d<h;){var T=b.getLine(d).search(c);if(T!=-1){if(T<=o){var x=b.getTokenAt(d,0);if(!x||x.type!=="string")break}v=d}}if(v>m){var R=b.getLine(v).length;return new g(m,u,v,R)}}},this.openingBracketBlock=function(b,d,f,c,s){var o={row:f,column:c+1},u=b.$findClosingBracket(d,o,s);if(u){var h=b.foldWidgets[u.row];return h==null&&(h=b.getFoldWidget(u.row)),h=="start"&&u.row>o.row&&(u.row--,u.column=b.getLine(u.row).length),g.fromPoints(o,u)}},this.closingBracketBlock=function(b,d,f,c,s){var o={row:f,column:c},u=b.$findOpeningBracket(d,o);if(u)return u.column++,o.column--,g.fromPoints(u,o)}}).call(y.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(i,a,w){var g=i("../lib/dom"),y=i("../range").Range,b=i("../config").nls;function d(c,s,o){for(var u=0,h=c.length-1;u<=h;){var m=u+h>>1,v=o(s,c[m]);if(v>0)u=m+1;else if(v<0)h=m-1;else return m}return-(u+1)}function f(c,s,o){var u=c.getAnnotations().sort(y.comparePoints);if(u.length){var h=d(u,{row:s,column:-1},y.comparePoints);h<0&&(h=-h-1),h>=u.length?h=o>0?0:u.length-1:h===0&&o<0&&(h=u.length-1);var m=u[h];if(!(!m||!o)){if(m.row===s){do m=u[h+=o];while(m&&m.row===s);if(!m)return u.slice()}var v=[];s=m.row;do v[o<0?"unshift":"push"](m),m=u[h+=o];while(m&&m.row==s);return v.length&&v}}}a.showErrorMarker=function(c,s){var o=c.session,u=c.getCursorPosition(),h=u.row,m=o.widgetManager.getWidgetsAtRow(h).filter(function(L){return L.type=="errorMarker"})[0];m?m.destroy():h-=s;var v=f(o,h,s),T;if(v){var x=v[0];u.column=(x.pos&&typeof x.column!="number"?x.pos.sc:x.column)||0,u.row=x.row,T=c.renderer.$gutterLayer.$annotations[u.row]}else{if(m)return;T={displayText:[b("error-marker.good-state","Looks good!")],className:"ace_ok"}}c.session.unfold(u.row),c.selection.moveToPosition(u);var R={row:u.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},k=R.el.appendChild(g.createElement("div")),C=R.el.appendChild(g.createElement("div"));C.className="error_widget_arrow "+T.className;var S=c.renderer.$cursorLayer.getPixelPosition(u).left;C.style.left=S+c.renderer.gutterWidth-5+"px",R.el.className="error_widget_wrapper",k.className="error_widget "+T.className,T.displayText.forEach(function(L,A){k.appendChild(g.createTextNode(L)),A<T.displayText.length-1&&k.appendChild(g.createElement("br"))}),k.appendChild(g.createElement("div"));var N=function(L,A,$){if(A===0&&($==="esc"||$==="return"))return R.destroy(),{command:"null"}};R.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(N),o.widgetManager.removeLineWidget(R),c.off("changeSelection",R.destroy),c.off("changeSession",R.destroy),c.off("mouseup",R.destroy),c.off("change",R.destroy))},c.keyBinding.addKeyboardHandler(N),c.on("changeSelection",R.destroy),c.on("changeSession",R.destroy),c.on("mouseup",R.destroy),c.on("change",R.destroy),c.session.widgetManager.addLineWidget(R),R.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:R.el.offsetHeight})},g.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(i,a,w){i("./loader_build")(a);var g=i("./lib/dom"),y=i("./range").Range,b=i("./editor").Editor,d=i("./edit_session").EditSession,f=i("./undomanager").UndoManager,c=i("./virtual_renderer").VirtualRenderer;i("./worker/worker_client"),i("./keyboard/hash_handler"),i("./placeholder"),i("./multi_select"),i("./mode/folding/fold_mode"),i("./theme/textmate"),i("./ext/error_marker"),a.config=i("./config"),a.edit=function(o,u){if(typeof o=="string"){var h=o;if(o=document.getElementById(h),!o)throw new Error("ace.edit can't find div #"+h)}if(o&&o.env&&o.env.editor instanceof b)return o.env.editor;var m="";if(o&&/input|textarea/i.test(o.tagName)){var v=o;m=v.value,o=g.createElement("pre"),v.parentNode.replaceChild(o,v)}else o&&(m=o.textContent,o.innerHTML="");var T=a.createEditSession(m),x=new b(new c(o),T,u),R={document:T,editor:x,onResize:x.resize.bind(x,null)};return v&&(R.textarea=v),x.on("destroy",function(){R.editor.container.env=null}),x.container.env=x.env=R,x},a.createEditSession=function(o,u){var h=new d(o,u);return h.setUndoManager(new f),h},a.Range=y,a.Editor=b,a.EditSession=d,a.UndoManager=f,a.VirtualRenderer=c;var s=a.config.version;a.version=s}),function(){ace.require(["ace/ace"],function(i){i&&(i.config.init(!0),i.define=ace.define);var a=function(){return this}();!a&&typeof window<"u"&&(a=window),!a&&typeof self<"u"&&(a=self),a.ace||(a.ace=i);for(var w in i)i.hasOwnProperty(w)&&(a.ace[w]=i[w]);a.ace.default=a.ace,e&&(e.exports=a.ace)})}()}(ace$1)),ace$1.exports}var lodash_isequal={exports:{}};lodash_isequal.exports;var hasRequiredLodash_isequal;function requireLodash_isequal(){return hasRequiredLodash_isequal||(hasRequiredLodash_isequal=1,function(e,n){var i=200,a="__lodash_hash_undefined__",w=1,g=2,y=9007199254740991,b="[object Arguments]",d="[object Array]",f="[object AsyncFunction]",c="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",h="[object GeneratorFunction]",m="[object Map]",v="[object Number]",T="[object Null]",x="[object Object]",R="[object Promise]",k="[object Proxy]",C="[object RegExp]",S="[object Set]",N="[object String]",L="[object Symbol]",A="[object Undefined]",$="[object WeakMap]",O="[object ArrayBuffer]",B="[object DataView]",z="[object Float32Array]",F="[object Float64Array]",V="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",Q="[object Uint8ClampedArray]",X="[object Uint16Array]",te="[object Uint32Array]",se=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,ce={};ce[z]=ce[F]=ce[V]=ce[U]=ce[q]=ce[K]=ce[Q]=ce[X]=ce[te]=!0,ce[b]=ce[d]=ce[O]=ce[c]=ce[B]=ce[s]=ce[o]=ce[u]=ce[m]=ce[v]=ce[x]=ce[C]=ce[S]=ce[N]=ce[$]=!1;var ue=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ie=typeof self=="object"&&self&&self.Object===Object&&self,Te=ue||Ie||Function("return this")(),Re=n&&!n.nodeType&&n,ke=Re&&!0&&e&&!e.nodeType&&e,me=ke&&ke.exports===Re,ve=me&&ue.process,he=function(){try{return ve&&ve.binding&&ve.binding("util")}catch{}}(),Le=he&&he.isTypedArray;function Qe(_e,re){for(var xe=-1,$e=_e==null?0:_e.length,mt=0,Tt=[];++xe<$e;){var Bt=_e[xe];re(Bt,xe,_e)&&(Tt[mt++]=Bt)}return Tt}function De(_e,re){for(var xe=-1,$e=re.length,mt=_e.length;++xe<$e;)_e[mt+xe]=re[xe];return _e}function xt(_e,re){for(var xe=-1,$e=_e==null?0:_e.length;++xe<$e;)if(re(_e[xe],xe,_e))return!0;return!1}function Mt(_e,re){for(var xe=-1,$e=Array(_e);++xe<_e;)$e[xe]=re(xe);return $e}function $t(_e){return function(re){return _e(re)}}function tr(_e,re){return _e.has(re)}function br(_e,re){return _e==null?void 0:_e[re]}function dr(_e){var re=-1,xe=Array(_e.size);return _e.forEach(function($e,mt){xe[++re]=[mt,$e]}),xe}function Ne(_e,re){return function(xe){return _e(re(xe))}}function He(_e){var re=-1,xe=Array(_e.size);return _e.forEach(function($e){xe[++re]=$e}),xe}var _t=Array.prototype,Ve=Function.prototype,ft=Object.prototype,Je=Te["__core-js_shared__"],Pt=Ve.toString,pe=ft.hasOwnProperty,ye=function(){var _e=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}(),Me=ft.toString,st=RegExp("^"+Pt.call(pe).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=me?Te.Buffer:void 0,Xe=Te.Symbol,we=Te.Uint8Array,Ue=ft.propertyIsEnumerable,ht=_t.splice,tt=Xe?Xe.toStringTag:void 0,At=Object.getOwnPropertySymbols,vt=lt?lt.isBuffer:void 0,St=Ne(Object.keys,Object),Ot=Hr(Te,"DataView"),nt=Hr(Te,"Map"),jt=Hr(Te,"Promise"),Dn=Hr(Te,"Set"),ei=Hr(Te,"WeakMap"),vn=Hr(Object,"create"),Nr=Rn(Ot),ui=Rn(nt),On=Rn(jt),jn=Rn(Dn),ti=Rn(ei),Ui=Xe?Xe.prototype:void 0,bn=Ui?Ui.valueOf:void 0;function Tn(_e){var re=-1,xe=_e==null?0:_e.length;for(this.clear();++re<xe;){var $e=_e[re];this.set($e[0],$e[1])}}function ln(){this.__data__=vn?vn(null):{},this.size=0}function Et(_e){var re=this.has(_e)&&delete this.__data__[_e];return this.size-=re?1:0,re}function Cr(_e){var re=this.__data__;if(vn){var xe=re[_e];return xe===a?void 0:xe}return pe.call(re,_e)?re[_e]:void 0}function En(_e){var re=this.__data__;return vn?re[_e]!==void 0:pe.call(re,_e)}function Cn(_e,re){var xe=this.__data__;return this.size+=this.has(_e)?0:1,xe[_e]=vn&&re===void 0?a:re,this}Tn.prototype.clear=ln,Tn.prototype.delete=Et,Tn.prototype.get=Cr,Tn.prototype.has=En,Tn.prototype.set=Cn;function xn(_e){var re=-1,xe=_e==null?0:_e.length;for(this.clear();++re<xe;){var $e=_e[re];this.set($e[0],$e[1])}}function ks(){this.__data__=[],this.size=0}function Ci(_e){var re=this.__data__,xe=de(re,_e);if(xe<0)return!1;var $e=re.length-1;return xe==$e?re.pop():ht.call(re,xe,1),--this.size,!0}function ri(_e){var re=this.__data__,xe=de(re,_e);return xe<0?void 0:re[xe][1]}function Ai(_e){return de(this.__data__,_e)>-1}function An(_e,re){var xe=this.__data__,$e=de(xe,_e);return $e<0?(++this.size,xe.push([_e,re])):xe[$e][1]=re,this}xn.prototype.clear=ks,xn.prototype.delete=Ci,xn.prototype.get=ri,xn.prototype.has=Ai,xn.prototype.set=An;function jr(_e){var re=-1,xe=_e==null?0:_e.length;for(this.clear();++re<xe;){var $e=_e[re];this.set($e[0],$e[1])}}function rn(){this.size=0,this.__data__={hash:new Tn,map:new(nt||xn),string:new Tn}}function Sn(_e){var re=_n(this,_e).delete(_e);return this.size-=re?1:0,re}function Tr(_e){return _n(this,_e).get(_e)}function ki(_e){return _n(this,_e).has(_e)}function Nn(_e,re){var xe=_n(this,_e),$e=xe.size;return xe.set(_e,re),this.size+=xe.size==$e?0:1,this}jr.prototype.clear=rn,jr.prototype.delete=Sn,jr.prototype.get=Tr,jr.prototype.has=ki,jr.prototype.set=Nn;function zt(_e){var re=-1,xe=_e==null?0:_e.length;for(this.__data__=new jr;++re<xe;)this.add(_e[re])}function wn(_e){return this.__data__.set(_e,a),this}function un(_e){return this.__data__.has(_e)}zt.prototype.add=zt.prototype.push=wn,zt.prototype.has=un;function wt(_e){var re=this.__data__=new xn(_e);this.size=re.size}function ni(){this.__data__=new xn,this.size=0}function cn(_e){var re=this.__data__,xe=re.delete(_e);return this.size=re.size,xe}function Rs(_e){return this.__data__.get(_e)}function P(_e){return this.__data__.has(_e)}function Y(_e,re){var xe=this.__data__;if(xe instanceof xn){var $e=xe.__data__;if(!nt||$e.length<i-1)return $e.push([_e,re]),this.size=++xe.size,this;xe=this.__data__=new jr($e)}return xe.set(_e,re),this.size=xe.size,this}wt.prototype.clear=ni,wt.prototype.delete=cn,wt.prototype.get=Rs,wt.prototype.has=P,wt.prototype.set=Y;function ie(_e,re){var xe=W(_e),$e=!xe&&M(_e),mt=!xe&&!$e&&ae(_e),Tt=!xe&&!$e&&!mt&&Ht(_e),Bt=xe||$e||mt||Tt,Zt=Bt?Mt(_e.length,String):[],Rt=Zt.length;for(var Vt in _e)pe.call(_e,Vt)&&!(Bt&&(Vt=="length"||mt&&(Vt=="offset"||Vt=="parent")||Tt&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||ls(Vt,Rt)))&&Zt.push(Vt);return Zt}function de(_e,re){for(var xe=_e.length;xe--;)if(Gn(_e[xe][0],re))return xe;return-1}function Ee(_e,re,xe){var $e=re(_e);return W(_e)?$e:De($e,xe(_e))}function Ge(_e){return _e==null?_e===void 0?A:T:tt&&tt in Object(_e)?$s(_e):ji(_e)}function et(_e){return bt(_e)&&Ge(_e)==b}function yt(_e,re,xe,$e,mt){return _e===re?!0:_e==null||re==null||!bt(_e)&&!bt(re)?_e!==_e&&re!==re:Ct(_e,re,xe,$e,yt,mt)}function Ct(_e,re,xe,$e,mt,Tt){var Bt=W(_e),Zt=W(re),Rt=Bt?d:Gt(_e),Vt=Zt?d:Gt(re);Rt=Rt==b?x:Rt,Vt=Vt==b?x:Vt;var xr=Rt==x,Lr=Vt==x,Pr=Rt==Vt;if(Pr&&ae(_e)){if(!ae(re))return!1;Bt=!0,xr=!1}if(Pr&&!xr)return Tt||(Tt=new wt),Bt||Ht(_e)?hn(_e,re,xe,$e,mt,Tt):kn(_e,re,Rt,xe,$e,mt,Tt);if(!(xe&w)){var Mr=xr&&pe.call(_e,"__wrapped__"),Jr=Lr&&pe.call(re,"__wrapped__");if(Mr||Jr){var ii=Mr?_e.value():_e,$i=Jr?re.value():re;return Tt||(Tt=new wt),mt(ii,$i,xe,$e,Tt)}}return Pr?(Tt||(Tt=new wt),Hn(_e,re,xe,$e,mt,Tt)):!1}function or(_e){if(!dt(_e)||Ls(_e))return!1;var re=Be(_e)?st:J;return re.test(Rn(_e))}function mr(_e){return bt(_e)&&Ke(_e.length)&&!!ce[Ge(_e)]}function nn(_e){if(!Wn(_e))return St(_e);var re=[];for(var xe in Object(_e))pe.call(_e,xe)&&xe!="constructor"&&re.push(xe);return re}function hn(_e,re,xe,$e,mt,Tt){var Bt=xe&w,Zt=_e.length,Rt=re.length;if(Zt!=Rt&&!(Bt&&Rt>Zt))return!1;var Vt=Tt.get(_e);if(Vt&&Tt.get(re))return Vt==re;var xr=-1,Lr=!0,Pr=xe&g?new zt:void 0;for(Tt.set(_e,re),Tt.set(re,_e);++xr<Zt;){var Mr=_e[xr],Jr=re[xr];if($e)var ii=Bt?$e(Jr,Mr,xr,re,_e,Tt):$e(Mr,Jr,xr,_e,re,Tt);if(ii!==void 0){if(ii)continue;Lr=!1;break}if(Pr){if(!xt(re,function($i,us){if(!tr(Pr,us)&&(Mr===$i||mt(Mr,$i,xe,$e,Tt)))return Pr.push(us)})){Lr=!1;break}}else if(!(Mr===Jr||mt(Mr,Jr,xe,$e,Tt))){Lr=!1;break}}return Tt.delete(_e),Tt.delete(re),Lr}function kn(_e,re,xe,$e,mt,Tt,Bt){switch(xe){case B:if(_e.byteLength!=re.byteLength||_e.byteOffset!=re.byteOffset)return!1;_e=_e.buffer,re=re.buffer;case O:return!(_e.byteLength!=re.byteLength||!Tt(new we(_e),new we(re)));case c:case s:case v:return Gn(+_e,+re);case o:return _e.name==re.name&&_e.message==re.message;case C:case N:return _e==re+"";case m:var Zt=dr;case S:var Rt=$e&w;if(Zt||(Zt=He),_e.size!=re.size&&!Rt)return!1;var Vt=Bt.get(_e);if(Vt)return Vt==re;$e|=g,Bt.set(_e,re);var xr=hn(Zt(_e),Zt(re),$e,mt,Tt,Bt);return Bt.delete(_e),xr;case L:if(bn)return bn.call(_e)==bn.call(re)}return!1}function Hn(_e,re,xe,$e,mt,Tt){var Bt=xe&w,Zt=Pn(_e),Rt=Zt.length,Vt=Pn(re),xr=Vt.length;if(Rt!=xr&&!Bt)return!1;for(var Lr=Rt;Lr--;){var Pr=Zt[Lr];if(!(Bt?Pr in re:pe.call(re,Pr)))return!1}var Mr=Tt.get(_e);if(Mr&&Tt.get(re))return Mr==re;var Jr=!0;Tt.set(_e,re),Tt.set(re,_e);for(var ii=Bt;++Lr<Rt;){Pr=Zt[Lr];var $i=_e[Pr],us=re[Pr];if($e)var Uo=Bt?$e(us,$i,Pr,re,_e,Tt):$e($i,us,Pr,_e,re,Tt);if(!(Uo===void 0?$i===us||mt($i,us,xe,$e,Tt):Uo)){Jr=!1;break}ii||(ii=Pr=="constructor")}if(Jr&&!ii){var Ma=_e.constructor,fn=re.constructor;Ma!=fn&&"constructor"in _e&&"constructor"in re&&!(typeof Ma=="function"&&Ma instanceof Ma&&typeof fn=="function"&&fn instanceof fn)&&(Jr=!1)}return Tt.delete(_e),Tt.delete(re),Jr}function Pn(_e){return Ee(_e,Wt,Ri)}function _n(_e,re){var xe=_e.__data__;return Ms(re)?xe[typeof re=="string"?"string":"hash"]:xe.map}function Hr(_e,re){var xe=br(_e,re);return or(xe)?xe:void 0}function $s(_e){var re=pe.call(_e,tt),xe=_e[tt];try{_e[tt]=void 0;var $e=!0}catch{}var mt=Me.call(_e);return $e&&(re?_e[tt]=xe:delete _e[tt]),mt}var Ri=At?function(_e){return _e==null?[]:(_e=Object(_e),Qe(At(_e),function(re){return Ue.call(_e,re)}))}:Kt,Gt=Ge;(Ot&&Gt(new Ot(new ArrayBuffer(1)))!=B||nt&&Gt(new nt)!=m||jt&&Gt(jt.resolve())!=R||Dn&&Gt(new Dn)!=S||ei&&Gt(new ei)!=$)&&(Gt=function(_e){var re=Ge(_e),xe=re==x?_e.constructor:void 0,$e=xe?Rn(xe):"";if($e)switch($e){case Nr:return B;case ui:return m;case On:return R;case jn:return S;case ti:return $}return re});function ls(_e,re){return re=re??y,!!re&&(typeof _e=="number"||le.test(_e))&&_e>-1&&_e%1==0&&_e<re}function Ms(_e){var re=typeof _e;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?_e!=="__proto__":_e===null}function Ls(_e){return!!ye&&ye in _e}function Wn(_e){var re=_e&&_e.constructor,xe=typeof re=="function"&&re.prototype||ft;return _e===xe}function ji(_e){return Me.call(_e)}function Rn(_e){if(_e!=null){try{return Pt.call(_e)}catch{}try{return _e+""}catch{}}return""}function Gn(_e,re){return _e===re||_e!==_e&&re!==re}var M=et(function(){return arguments}())?et:function(_e){return bt(_e)&&pe.call(_e,"callee")&&!Ue.call(_e,"callee")},W=Array.isArray;function ee(_e){return _e!=null&&Ke(_e.length)&&!Be(_e)}var ae=vt||nr;function Se(_e,re){return yt(_e,re)}function Be(_e){if(!dt(_e))return!1;var re=Ge(_e);return re==u||re==h||re==f||re==k}function Ke(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=y}function dt(_e){var re=typeof _e;return _e!=null&&(re=="object"||re=="function")}function bt(_e){return _e!=null&&typeof _e=="object"}var Ht=Le?$t(Le):mr;function Wt(_e){return ee(_e)?ie(_e):nn(_e)}function Kt(){return[]}function nr(){return!1}e.exports=Se}(lodash_isequal,lodash_isequal.exports)),lodash_isequal.exports}var editorOptions={},hasRequiredEditorOptions;function requireEditorOptions(){if(hasRequiredEditorOptions)return editorOptions;hasRequiredEditorOptions=1,Object.defineProperty(editorOptions,"__esModule",{value:!0}),editorOptions.getAceInstance=editorOptions.debounce=editorOptions.editorEvents=editorOptions.editorOptions=void 0;var e=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions.editorOptions=e;var n=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions.editorEvents=n;var i=function(){var w;return typeof window>"u"?(commonjsGlobal.window={},w=requireAce$1(),delete commonjsGlobal.window):window.ace?(w=window.ace,w.acequire=window.ace.require||window.ace.acequire):w=requireAce$1(),w};editorOptions.getAceInstance=i;var a=function(w,g){var y=null;return function(){var b=this,d=arguments;clearTimeout(y),y=setTimeout(function(){w.apply(b,d)},g)}};return editorOptions.debounce=a,editorOptions}var hasRequiredAce;function requireAce(){if(hasRequiredAce)return ace$2;hasRequiredAce=1;var e=ace$2&&ace$2.__extends||function(){var f=function(c,s){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])},f(c,s)};return function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");f(c,s);function o(){this.constructor=c}c.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),n=ace$2&&ace$2.__assign||function(){return n=Object.assign||function(f){for(var c,s=1,o=arguments.length;s<o;s++){c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(f[u]=c[u])}return f},n.apply(this,arguments)};Object.defineProperty(ace$2,"__esModule",{value:!0});var i=requireAce$1(),a=requirePropTypes(),w=requireReact(),g=requireLodash_isequal(),y=requireEditorOptions(),b=(0,y.getAceInstance)(),d=function(f){e(c,f);function c(s){var o=f.call(this,s)||this;return y.editorEvents.forEach(function(u){o[u]=o[u].bind(o)}),o.debounce=y.debounce,o}return c.prototype.isInShadow=function(s){for(var o=s&&s.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},c.prototype.componentDidMount=function(){var s=this,o=this.props,u=o.className,h=o.onBeforeLoad,m=o.onValidate,v=o.mode,T=o.focus,x=o.theme,R=o.fontSize,k=o.lineHeight,C=o.value,S=o.defaultValue,N=o.showGutter,L=o.wrapEnabled,A=o.showPrintMargin,$=o.scrollMargin,O=$===void 0?[0,0,0,0]:$,B=o.keyboardHandler,z=o.onLoad,F=o.commands,V=o.annotations,U=o.markers,q=o.placeholder;this.editor=b.edit(this.refEditor),h&&h(b);for(var K=Object.keys(this.props.editorProps),Q=0;Q<K.length;Q++)this.editor[K[Q]]=this.props.editorProps[K[Q]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(O[0],O[1],O[2],O[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof v=="string"?"ace/mode/".concat(v):v),x&&x!==""&&this.editor.setTheme("ace/theme/".concat(x)),this.editor.setFontSize(typeof R=="number"?"".concat(R,"px"):R),k&&(this.editor.container.style.lineHeight=typeof k=="number"?"".concat(k,"px"):"".concat(k),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(S||C||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(N),this.editor.getSession().setUseWrapMode(L),this.editor.setShowPrintMargin(A),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),q&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),m&&this.editor.getSession().on("changeAnnotation",function(){var te=s.editor.getSession().getAnnotations();s.props.onValidate(te)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(V||[]),U&&U.length>0&&this.handleMarkers(U);var X=this.editor.$options;y.editorOptions.forEach(function(te){X.hasOwnProperty(te)?s.editor.setOption(te,s.props[te]):s.props[te]&&console.warn("ReactAce: editor option ".concat(te," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(F)&&F.forEach(function(te){typeof te.exec=="string"?s.editor.commands.bindKey(te.bindKey,te.exec):s.editor.commands.addCommand(te)}),B&&this.editor.setKeyboardHandler("ace/keyboard/"+B),u&&(this.refEditor.className+=" "+u),z&&z(this.editor),this.editor.resize(),T&&this.editor.focus()},c.prototype.componentDidUpdate=function(s){for(var o=s,u=this.props,h=0;h<y.editorOptions.length;h++){var m=y.editorOptions[h];u[m]!==o[m]&&this.editor.setOption(m,u[m])}if(u.className!==o.className){var v=this.refEditor.className,T=v.trim().split(" "),x=o.className.trim().split(" ");x.forEach(function(C){var S=T.indexOf(C);T.splice(S,1)}),this.refEditor.className=" "+u.className+" "+T.join(" ")}var R=this.editor&&u.value!=null&&this.editor.getValue()!==u.value;if(R){this.silent=!0;var k=this.editor.session.selection.toJSON();this.editor.setValue(u.value,u.cursorStart),this.editor.session.selection.fromJSON(k),this.silent=!1}u.placeholder!==o.placeholder&&this.updatePlaceholder(),u.mode!==o.mode&&this.editor.getSession().setMode(typeof u.mode=="string"?"ace/mode/".concat(u.mode):u.mode),u.theme!==o.theme&&this.editor.setTheme("ace/theme/"+u.theme),u.keyboardHandler!==o.keyboardHandler&&(u.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+u.keyboardHandler):this.editor.setKeyboardHandler(null)),u.fontSize!==o.fontSize&&this.editor.setFontSize(typeof u.fontSize=="number"?"".concat(u.fontSize,"px"):u.fontSize),u.lineHeight!==o.lineHeight&&(this.editor.container.style.lineHeight=typeof u.lineHeight=="number"?"".concat(u.lineHeight,"px"):u.lineHeight,this.editor.renderer.updateFontSize()),u.wrapEnabled!==o.wrapEnabled&&this.editor.getSession().setUseWrapMode(u.wrapEnabled),u.showPrintMargin!==o.showPrintMargin&&this.editor.setShowPrintMargin(u.showPrintMargin),u.showGutter!==o.showGutter&&this.editor.renderer.setShowGutter(u.showGutter),g(u.setOptions,o.setOptions)||this.handleOptions(u),(R||!g(u.annotations,o.annotations))&&this.editor.getSession().setAnnotations(u.annotations||[]),!g(u.markers,o.markers)&&Array.isArray(u.markers)&&this.handleMarkers(u.markers),g(u.scrollMargin,o.scrollMargin)||this.handleScrollMargins(u.scrollMargin),(s.height!==this.props.height||s.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!s.focus&&this.editor.focus()},c.prototype.handleScrollMargins=function(s){s===void 0&&(s=[0,0,0,0]),this.editor.renderer.setScrollMargin(s[0],s[1],s[2],s[3])},c.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},c.prototype.onChange=function(s){if(this.editor&&this.props.onChange&&!this.silent){var o=this.editor.getValue();this.props.onChange(o,s)}},c.prototype.onSelectionChange=function(s){if(this.props.onSelectionChange){var o=this.editor.getSelection();this.props.onSelectionChange(o,s)}},c.prototype.onCursorChange=function(s){if(this.props.onCursorChange){var o=this.editor.getSelection();this.props.onCursorChange(o,s)}},c.prototype.onInput=function(s){this.props.onInput&&this.props.onInput(s),this.props.placeholder&&this.updatePlaceholder()},c.prototype.onFocus=function(s){this.props.onFocus&&this.props.onFocus(s,this.editor)},c.prototype.onBlur=function(s){this.props.onBlur&&this.props.onBlur(s,this.editor)},c.prototype.onCopy=function(s){var o=s.text;this.props.onCopy&&this.props.onCopy(o)},c.prototype.onPaste=function(s){var o=s.text;this.props.onPaste&&this.props.onPaste(o)},c.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},c.prototype.handleOptions=function(s){for(var o=Object.keys(s.setOptions),u=0;u<o.length;u++)this.editor.setOption(o[u],s.setOptions[o[u]])},c.prototype.handleMarkers=function(s){var o=this,u=this.editor.getSession().getMarkers(!0);for(var h in u)u.hasOwnProperty(h)&&this.editor.getSession().removeMarker(u[h].id);u=this.editor.getSession().getMarkers(!1);for(var h in u)u.hasOwnProperty(h)&&u[h].clazz!=="ace_active-line"&&u[h].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(u[h].id);s.forEach(function(m){var v=m.startRow,T=m.startCol,x=m.endRow,R=m.endCol,k=m.className,C=m.type,S=m.inFront,N=S===void 0?!1:S,L=new i.Range(v,T,x,R);o.editor.getSession().addMarker(L,k,C,N)})},c.prototype.updatePlaceholder=function(){var s=this.editor,o=this.props.placeholder,u=!s.session.getValue().length,h=s.renderer.placeholderNode;!u&&h?(s.renderer.scroller.removeChild(s.renderer.placeholderNode),s.renderer.placeholderNode=null):u&&!h?(h=s.renderer.placeholderNode=document.createElement("div"),h.textContent=o||"",h.className="ace_comment ace_placeholder",h.style.padding="0 9px",h.style.position="absolute",h.style.zIndex="3",s.renderer.scroller.appendChild(h)):u&&h&&(h.textContent=o)},c.prototype.updateRef=function(s){this.refEditor=s},c.prototype.render=function(){var s=this.props,o=s.name,u=s.width,h=s.height,m=s.style,v=n({width:u,height:h},m);return w.createElement("div",{ref:this.updateRef,id:o,style:v})},c.propTypes={mode:a.oneOfType([a.string,a.object]),focus:a.bool,theme:a.string,name:a.string,className:a.string,height:a.string,width:a.string,fontSize:a.oneOfType([a.number,a.string]),lineHeight:a.oneOfType([a.number,a.string]),showGutter:a.bool,onChange:a.func,onCopy:a.func,onPaste:a.func,onFocus:a.func,onInput:a.func,onBlur:a.func,onScroll:a.func,value:a.string,defaultValue:a.string,onLoad:a.func,onSelectionChange:a.func,onCursorChange:a.func,onBeforeLoad:a.func,onValidate:a.func,minLines:a.number,maxLines:a.number,readOnly:a.bool,highlightActiveLine:a.bool,tabSize:a.number,showPrintMargin:a.bool,cursorStart:a.number,debounceChangePeriod:a.number,editorProps:a.object,setOptions:a.object,style:a.object,scrollMargin:a.array,annotations:a.array,markers:a.array,keyboardHandler:a.string,wrapEnabled:a.bool,enableSnippets:a.bool,enableBasicAutocompletion:a.oneOfType([a.bool,a.array]),enableLiveAutocompletion:a.oneOfType([a.bool,a.array]),navigateToFileEnd:a.bool,commands:a.array,placeholder:a.string},c.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},c}(w.Component);return ace$2.default=d,ace$2}var diff={},split={},extSplit={exports:{}},hasRequiredExtSplit;function requireExtSplit(){return hasRequiredExtSplit||(hasRequiredExtSplit=1,function(e,n){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(i,a,w){var g=i("./lib/oop");i("./lib/lang");var y=i("./lib/event_emitter").EventEmitter,b=i("./editor").Editor,d=i("./virtual_renderer").VirtualRenderer,f=i("./edit_session").EditSession,c;c=function(s,o,u){this.BELOW=1,this.BESIDE=0,this.$container=s,this.$theme=o,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(u||1),this.$cEditor=this.$editors[0],this.on("focus",(function(h){this.$cEditor=h}).bind(this))},(function(){g.implement(this,y),this.$createEditor=function(){var s=document.createElement("div");s.className=this.$editorCSS,s.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(s);var o=new b(new d(s,this.$theme));return o.on("focus",(function(){this._emit("focus",o)}).bind(this)),this.$editors.push(o),o.setFontSize(this.$fontSize),o},this.setSplits=function(s){var o;if(s<1)throw"The number of splits have to be > 0!";if(s!=this.$splits){if(s>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<s;)o=this.$editors[this.$splits],this.$container.appendChild(o.container),o.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<s;)this.$createEditor(),this.$splits++}else for(;this.$splits>s;)o=this.$editors[this.$splits-1],this.$container.removeChild(o.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(s){return this.$editors[s]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(s){this.$editors.forEach(function(o){o.setTheme(s)})},this.setKeyboardHandler=function(s){this.$editors.forEach(function(o){o.setKeyboardHandler(s)})},this.forEach=function(s,o){this.$editors.forEach(s,o)},this.$fontSize="",this.setFontSize=function(s){this.$fontSize=s,this.forEach(function(o){o.setFontSize(s)})},this.$cloneSession=function(s){var o=new f(s.getDocument(),s.getMode()),u=s.getUndoManager();return o.setUndoManager(u),o.setTabSize(s.getTabSize()),o.setUseSoftTabs(s.getUseSoftTabs()),o.setOverwrite(s.getOverwrite()),o.setBreakpoints(s.getBreakpoints()),o.setUseWrapMode(s.getUseWrapMode()),o.setUseWorker(s.getUseWorker()),o.setWrapLimitRange(s.$wrapLimitRange.min,s.$wrapLimitRange.max),o.$foldData=s.$cloneFoldData(),o},this.setSession=function(s,o){var u;o==null?u=this.$cEditor:u=this.$editors[o];var h=this.$editors.some(function(m){return m.session===s});return h&&(s=this.$cloneSession(s)),u.setSession(s),s},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(s){this.$orientation!=s&&(this.$orientation=s,this.resize())},this.resize=function(){var s=this.$container.clientWidth,o=this.$container.clientHeight,u;if(this.$orientation==this.BESIDE)for(var h=s/this.$splits,m=0;m<this.$splits;m++)u=this.$editors[m],u.container.style.width=h+"px",u.container.style.top="0px",u.container.style.left=m*h+"px",u.container.style.height=o+"px",u.resize();else for(var v=o/this.$splits,m=0;m<this.$splits;m++)u=this.$editors[m],u.container.style.width=s+"px",u.container.style.top=m*v+"px",u.container.style.left="0px",u.container.style.height=v+"px",u.resize()}}).call(c.prototype),a.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(i,a,w){w.exports=i("../split")}),function(){ace.require(["ace/ext/split"],function(i){e&&(e.exports=i)})}()}(extSplit)),extSplit.exports}var lodash_get,hasRequiredLodash_get;function requireLodash_get(){if(hasRequiredLodash_get)return lodash_get;hasRequiredLodash_get=1;var e="Expected a function",n="__lodash_hash_undefined__",i="[object Function]",a="[object GeneratorFunction]",w="[object Symbol]",g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/,b=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/[\\^$.*+?()[\]{}|]/g,c=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,o=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,u=typeof self=="object"&&self&&self.Object===Object&&self,h=o||u||Function("return this")();function m(we,Ue){return we==null?void 0:we[Ue]}function v(we){var Ue=!1;if(we!=null&&typeof we.toString!="function")try{Ue=!!(we+"")}catch{}return Ue}var T=Array.prototype,x=Function.prototype,R=Object.prototype,k=h["__core-js_shared__"],C=function(){var we=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return we?"Symbol(src)_1."+we:""}(),S=x.toString,N=R.hasOwnProperty,L=R.toString,A=RegExp("^"+S.call(N).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=h.Symbol,O=T.splice,B=tr(h,"Map"),z=tr(Object,"create"),F=$?$.prototype:void 0,V=F?F.toString:void 0;function U(we){var Ue=-1,ht=we?we.length:0;for(this.clear();++Ue<ht;){var tt=we[Ue];this.set(tt[0],tt[1])}}function q(){this.__data__=z?z(null):{}}function K(we){return this.has(we)&&delete this.__data__[we]}function Q(we){var Ue=this.__data__;if(z){var ht=Ue[we];return ht===n?void 0:ht}return N.call(Ue,we)?Ue[we]:void 0}function X(we){var Ue=this.__data__;return z?Ue[we]!==void 0:N.call(Ue,we)}function te(we,Ue){var ht=this.__data__;return ht[we]=z&&Ue===void 0?n:Ue,this}U.prototype.clear=q,U.prototype.delete=K,U.prototype.get=Q,U.prototype.has=X,U.prototype.set=te;function se(we){var Ue=-1,ht=we?we.length:0;for(this.clear();++Ue<ht;){var tt=we[Ue];this.set(tt[0],tt[1])}}function J(){this.__data__=[]}function le(we){var Ue=this.__data__,ht=Le(Ue,we);if(ht<0)return!1;var tt=Ue.length-1;return ht==tt?Ue.pop():O.call(Ue,ht,1),!0}function ce(we){var Ue=this.__data__,ht=Le(Ue,we);return ht<0?void 0:Ue[ht][1]}function ue(we){return Le(this.__data__,we)>-1}function Ie(we,Ue){var ht=this.__data__,tt=Le(ht,we);return tt<0?ht.push([we,Ue]):ht[tt][1]=Ue,this}se.prototype.clear=J,se.prototype.delete=le,se.prototype.get=ce,se.prototype.has=ue,se.prototype.set=Ie;function Te(we){var Ue=-1,ht=we?we.length:0;for(this.clear();++Ue<ht;){var tt=we[Ue];this.set(tt[0],tt[1])}}function Re(){this.__data__={hash:new U,map:new(B||se),string:new U}}function ke(we){return $t(this,we).delete(we)}function me(we){return $t(this,we).get(we)}function ve(we){return $t(this,we).has(we)}function he(we,Ue){return $t(this,we).set(we,Ue),this}Te.prototype.clear=Re,Te.prototype.delete=ke,Te.prototype.get=me,Te.prototype.has=ve,Te.prototype.set=he;function Le(we,Ue){for(var ht=we.length;ht--;)if(Je(we[ht][0],Ue))return ht;return-1}function Qe(we,Ue){Ue=br(Ue,we)?[Ue]:Mt(Ue);for(var ht=0,tt=Ue.length;we!=null&&ht<tt;)we=we[_t(Ue[ht++])];return ht&&ht==tt?we:void 0}function De(we){if(!ye(we)||Ne(we))return!1;var Ue=pe(we)||v(we)?A:s;return Ue.test(Ve(we))}function xt(we){if(typeof we=="string")return we;if(st(we))return V?V.call(we):"";var Ue=we+"";return Ue=="0"&&1/we==-1/0?"-0":Ue}function Mt(we){return Pt(we)?we:He(we)}function $t(we,Ue){var ht=we.__data__;return dr(Ue)?ht[typeof Ue=="string"?"string":"hash"]:ht.map}function tr(we,Ue){var ht=m(we,Ue);return De(ht)?ht:void 0}function br(we,Ue){if(Pt(we))return!1;var ht=typeof we;return ht=="number"||ht=="symbol"||ht=="boolean"||we==null||st(we)?!0:y.test(we)||!g.test(we)||Ue!=null&&we in Object(Ue)}function dr(we){var Ue=typeof we;return Ue=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?we!=="__proto__":we===null}function Ne(we){return!!C&&C in we}var He=ft(function(we){we=lt(we);var Ue=[];return b.test(we)&&Ue.push(""),we.replace(d,function(ht,tt,At,vt){Ue.push(At?vt.replace(c,"$1"):tt||ht)}),Ue});function _t(we){if(typeof we=="string"||st(we))return we;var Ue=we+"";return Ue=="0"&&1/we==-1/0?"-0":Ue}function Ve(we){if(we!=null){try{return S.call(we)}catch{}try{return we+""}catch{}}return""}function ft(we,Ue){if(typeof we!="function"||Ue&&typeof Ue!="function")throw new TypeError(e);var ht=function(){var tt=arguments,At=Ue?Ue.apply(this,tt):tt[0],vt=ht.cache;if(vt.has(At))return vt.get(At);var St=we.apply(this,tt);return ht.cache=vt.set(At,St),St};return ht.cache=new(ft.Cache||Te),ht}ft.Cache=Te;function Je(we,Ue){return we===Ue||we!==we&&Ue!==Ue}var Pt=Array.isArray;function pe(we){var Ue=ye(we)?L.call(we):"";return Ue==i||Ue==a}function ye(we){var Ue=typeof we;return!!we&&(Ue=="object"||Ue=="function")}function Me(we){return!!we&&typeof we=="object"}function st(we){return typeof we=="symbol"||Me(we)&&L.call(we)==w}function lt(we){return we==null?"":xt(we)}function Xe(we,Ue,ht){var tt=we==null?void 0:Qe(we,Ue);return tt===void 0?ht:tt}return lodash_get=Xe,lodash_get}var hasRequiredSplit;function requireSplit(){if(hasRequiredSplit)return split;hasRequiredSplit=1;var e=split&&split.__extends||function(){var s=function(o,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(h[v]=m[v])},s(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(o,u);function h(){this.constructor=o}o.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}}(),n=split&&split.__assign||function(){return n=Object.assign||function(s){for(var o,u=1,h=arguments.length;u<h;u++){o=arguments[u];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(s[m]=o[m])}return s},n.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var i=requireEditorOptions(),a=(0,i.getAceInstance)(),w=requireAce$1(),g=requireExtSplit(),y=requirePropTypes(),b=requireReact(),d=requireLodash_isequal(),f=requireLodash_get(),c=function(s){e(o,s);function o(u){var h=s.call(this,u)||this;return i.editorEvents.forEach(function(m){h[m]=h[m].bind(h)}),h.debounce=i.debounce,h}return o.prototype.isInShadow=function(u){for(var h=u&&u.parentNode;h;){if(h.toString()==="[object ShadowRoot]")return!0;h=h.parentNode}return!1},o.prototype.componentDidMount=function(){var u=this,h=this.props,m=h.className,v=h.onBeforeLoad,T=h.mode,x=h.focus,R=h.theme,k=h.fontSize,C=h.value,S=h.defaultValue,N=h.cursorStart,L=h.showGutter,A=h.wrapEnabled,$=h.showPrintMargin,O=h.scrollMargin,B=O===void 0?[0,0,0,0]:O,z=h.keyboardHandler,F=h.onLoad,V=h.commands,U=h.annotations,q=h.markers,K=h.splits;this.editor=a.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(R)),v&&v(a);var Q=Object.keys(this.props.editorProps),X=new g.Split(this.editor.container,"ace/theme/".concat(R),K);this.editor.env.split=X,this.splitEditor=X.getEditor(0),this.split=X,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var te=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),X.forEach(function(J,le){for(var ce=0;ce<Q.length;ce++)J[Q[ce]]=u.props.editorProps[Q[ce]];var ue=f(S,le),Ie=f(C,le,"");J.session.setUndoManager(new a.UndoManager),J.setTheme("ace/theme/".concat(R)),J.renderer.setScrollMargin(B[0],B[1],B[2],B[3]),J.getSession().setMode("ace/mode/".concat(T)),J.setFontSize(k),J.renderer.setShowGutter(L),J.getSession().setUseWrapMode(A),J.setShowPrintMargin($),J.on("focus",u.onFocus),J.on("blur",u.onBlur),J.on("input",u.onInput),J.on("copy",u.onCopy),J.on("paste",u.onPaste),J.on("change",u.onChange),J.getSession().selection.on("changeSelection",u.onSelectionChange),J.getSession().selection.on("changeCursor",u.onCursorChange),J.session.on("changeScrollTop",u.onScroll),J.setValue(ue===void 0?Ie:ue,N);var Te=f(U,le,[]),Re=f(q,le,[]);J.getSession().setAnnotations(Te),Re&&Re.length>0&&u.handleMarkers(Re,J);for(var ce=0;ce<i.editorOptions.length;ce++){var ke=i.editorOptions[ce];te.hasOwnProperty(ke)?J.setOption(ke,u.props[ke]):u.props[ke]&&console.warn("ReaceAce: editor option ".concat(ke," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}u.handleOptions(u.props,J),Array.isArray(V)&&V.forEach(function(me){typeof me.exec=="string"?J.commands.bindKey(me.bindKey,me.exec):J.commands.addCommand(me)}),z&&J.setKeyboardHandler("ace/keyboard/"+z)}),m&&(this.refEditor.className+=" "+m),x&&this.splitEditor.focus();var se=this.editor.env.split;se.setOrientation(this.props.orientation==="below"?se.BELOW:se.BESIDE),se.resize(!0),F&&F(se)},o.prototype.componentDidUpdate=function(u){var h=this,m=u,v=this.props,T=this.editor.env.split;if(v.splits!==m.splits&&T.setSplits(v.splits),v.orientation!==m.orientation&&T.setOrientation(v.orientation==="below"?T.BELOW:T.BESIDE),T.forEach(function(C,S){v.mode!==m.mode&&C.getSession().setMode("ace/mode/"+v.mode),v.keyboardHandler!==m.keyboardHandler&&(v.keyboardHandler?C.setKeyboardHandler("ace/keyboard/"+v.keyboardHandler):C.setKeyboardHandler(null)),v.fontSize!==m.fontSize&&C.setFontSize(v.fontSize),v.wrapEnabled!==m.wrapEnabled&&C.getSession().setUseWrapMode(v.wrapEnabled),v.showPrintMargin!==m.showPrintMargin&&C.setShowPrintMargin(v.showPrintMargin),v.showGutter!==m.showGutter&&C.renderer.setShowGutter(v.showGutter);for(var N=0;N<i.editorOptions.length;N++){var L=i.editorOptions[N];v[L]!==m[L]&&C.setOption(L,v[L])}d(v.setOptions,m.setOptions)||h.handleOptions(v,C);var A=f(v.value,S,"");if(C.getValue()!==A){h.silent=!0;var $=C.session.selection.toJSON();C.setValue(A,v.cursorStart),C.session.selection.fromJSON($),h.silent=!1}var O=f(v.annotations,S,[]),B=f(m.annotations,S,[]);d(O,B)||C.getSession().setAnnotations(O);var z=f(v.markers,S,[]),F=f(m.markers,S,[]);!d(z,F)&&Array.isArray(z)&&h.handleMarkers(z,C)}),v.className!==m.className){var x=this.refEditor.className,R=x.trim().split(" "),k=m.className.trim().split(" ");k.forEach(function(C){var S=R.indexOf(C);R.splice(S,1)}),this.refEditor.className=" "+v.className+" "+R.join(" ")}v.theme!==m.theme&&T.setTheme("ace/theme/"+v.theme),v.focus&&!m.focus&&this.splitEditor.focus(),(v.height!==this.props.height||v.width!==this.props.width)&&this.editor.resize()},o.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},o.prototype.onChange=function(u){if(this.props.onChange&&!this.silent){var h=[];this.editor.env.split.forEach(function(m){h.push(m.getValue())}),this.props.onChange(h,u)}},o.prototype.onSelectionChange=function(u){if(this.props.onSelectionChange){var h=[];this.editor.env.split.forEach(function(m){h.push(m.getSelection())}),this.props.onSelectionChange(h,u)}},o.prototype.onCursorChange=function(u){if(this.props.onCursorChange){var h=[];this.editor.env.split.forEach(function(m){h.push(m.getSelection())}),this.props.onCursorChange(h,u)}},o.prototype.onFocus=function(u){this.props.onFocus&&this.props.onFocus(u)},o.prototype.onInput=function(u){this.props.onInput&&this.props.onInput(u)},o.prototype.onBlur=function(u){this.props.onBlur&&this.props.onBlur(u)},o.prototype.onCopy=function(u){this.props.onCopy&&this.props.onCopy(u)},o.prototype.onPaste=function(u){this.props.onPaste&&this.props.onPaste(u)},o.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},o.prototype.handleOptions=function(u,h){for(var m=Object.keys(u.setOptions),v=0;v<m.length;v++)h.setOption(m[v],u.setOptions[m[v]])},o.prototype.handleMarkers=function(u,h){var m=h.getSession().getMarkers(!0);for(var v in m)m.hasOwnProperty(v)&&h.getSession().removeMarker(m[v].id);m=h.getSession().getMarkers(!1);for(var v in m)m.hasOwnProperty(v)&&h.getSession().removeMarker(m[v].id);u.forEach(function(T){var x=T.startRow,R=T.startCol,k=T.endRow,C=T.endCol,S=T.className,N=T.type,L=T.inFront,A=L===void 0?!1:L,$=new w.Range(x,R,k,C);h.getSession().addMarker($,S,N,A)})},o.prototype.updateRef=function(u){this.refEditor=u},o.prototype.render=function(){var u=this.props,h=u.name,m=u.width,v=u.height,T=u.style,x=n({width:m,height:v},T);return b.createElement("div",{ref:this.updateRef,id:h,style:x})},o.propTypes={className:y.string,debounceChangePeriod:y.number,defaultValue:y.arrayOf(y.string),focus:y.bool,fontSize:y.oneOfType([y.number,y.string]),height:y.string,mode:y.string,name:y.string,onBlur:y.func,onChange:y.func,onCopy:y.func,onFocus:y.func,onInput:y.func,onLoad:y.func,onPaste:y.func,onScroll:y.func,orientation:y.string,showGutter:y.bool,splits:y.number,theme:y.string,value:y.arrayOf(y.string),width:y.string,onSelectionChange:y.func,onCursorChange:y.func,onBeforeLoad:y.func,minLines:y.number,maxLines:y.number,readOnly:y.bool,highlightActiveLine:y.bool,tabSize:y.number,showPrintMargin:y.bool,cursorStart:y.number,editorProps:y.object,setOptions:y.object,style:y.object,scrollMargin:y.array,annotations:y.array,markers:y.array,keyboardHandler:y.string,wrapEnabled:y.bool,enableBasicAutocompletion:y.oneOfType([y.bool,y.array]),enableLiveAutocompletion:y.oneOfType([y.bool,y.array]),commands:y.array},o.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},o}(b.Component);return split.default=c,split}var diffMatchPatch={exports:{}},hasRequiredDiffMatchPatch;function requireDiffMatchPatch(){return hasRequiredDiffMatchPatch||(hasRequiredDiffMatchPatch=1,function(e){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},i=-1,a=1,w=0;n.Diff=function(g,y){return[g,y]},n.prototype.diff_main=function(g,y,b,d){typeof d>"u"&&(this.Diff_Timeout<=0?d=Number.MAX_VALUE:d=new Date().getTime()+this.Diff_Timeout*1e3);var f=d;if(g==null||y==null)throw new Error("Null input. (diff_main)");if(g==y)return g?[new n.Diff(w,g)]:[];typeof b>"u"&&(b=!0);var c=b,s=this.diff_commonPrefix(g,y),o=g.substring(0,s);g=g.substring(s),y=y.substring(s),s=this.diff_commonSuffix(g,y);var u=g.substring(g.length-s);g=g.substring(0,g.length-s),y=y.substring(0,y.length-s);var h=this.diff_compute_(g,y,c,f);return o&&h.unshift(new n.Diff(w,o)),u&&h.push(new n.Diff(w,u)),this.diff_cleanupMerge(h),h},n.prototype.diff_compute_=function(g,y,b,d){var f;if(!g)return[new n.Diff(a,y)];if(!y)return[new n.Diff(i,g)];var c=g.length>y.length?g:y,s=g.length>y.length?y:g,o=c.indexOf(s);if(o!=-1)return f=[new n.Diff(a,c.substring(0,o)),new n.Diff(w,s),new n.Diff(a,c.substring(o+s.length))],g.length>y.length&&(f[0][0]=f[2][0]=i),f;if(s.length==1)return[new n.Diff(i,g),new n.Diff(a,y)];var u=this.diff_halfMatch_(g,y);if(u){var h=u[0],m=u[1],v=u[2],T=u[3],x=u[4],R=this.diff_main(h,v,b,d),k=this.diff_main(m,T,b,d);return R.concat([new n.Diff(w,x)],k)}return b&&g.length>100&&y.length>100?this.diff_lineMode_(g,y,d):this.diff_bisect_(g,y,d)},n.prototype.diff_lineMode_=function(g,y,b){var d=this.diff_linesToChars_(g,y);g=d.chars1,y=d.chars2;var f=d.lineArray,c=this.diff_main(g,y,!1,b);this.diff_charsToLines_(c,f),this.diff_cleanupSemantic(c),c.push(new n.Diff(w,""));for(var s=0,o=0,u=0,h="",m="";s<c.length;){switch(c[s][0]){case a:u++,m+=c[s][1];break;case i:o++,h+=c[s][1];break;case w:if(o>=1&&u>=1){c.splice(s-o-u,o+u),s=s-o-u;for(var v=this.diff_main(h,m,!1,b),T=v.length-1;T>=0;T--)c.splice(s,0,v[T]);s=s+v.length}u=0,o=0,h="",m="";break}s++}return c.pop(),c},n.prototype.diff_bisect_=function(g,y,b){for(var d=g.length,f=y.length,c=Math.ceil((d+f)/2),s=c,o=2*c,u=new Array(o),h=new Array(o),m=0;m<o;m++)u[m]=-1,h[m]=-1;u[s+1]=0,h[s+1]=0;for(var v=d-f,T=v%2!=0,x=0,R=0,k=0,C=0,S=0;S<c&&!(new Date().getTime()>b);S++){for(var N=-S+x;N<=S-R;N+=2){var L=s+N,A;N==-S||N!=S&&u[L-1]<u[L+1]?A=u[L+1]:A=u[L-1]+1;for(var $=A-N;A<d&&$<f&&g.charAt(A)==y.charAt($);)A++,$++;if(u[L]=A,A>d)R+=2;else if($>f)x+=2;else if(T){var O=s+v-N;if(O>=0&&O<o&&h[O]!=-1){var B=d-h[O];if(A>=B)return this.diff_bisectSplit_(g,y,A,$,b)}}}for(var z=-S+k;z<=S-C;z+=2){var O=s+z,B;z==-S||z!=S&&h[O-1]<h[O+1]?B=h[O+1]:B=h[O-1]+1;for(var F=B-z;B<d&&F<f&&g.charAt(d-B-1)==y.charAt(f-F-1);)B++,F++;if(h[O]=B,B>d)C+=2;else if(F>f)k+=2;else if(!T){var L=s+v-z;if(L>=0&&L<o&&u[L]!=-1){var A=u[L],$=s+A-L;if(B=d-B,A>=B)return this.diff_bisectSplit_(g,y,A,$,b)}}}}return[new n.Diff(i,g),new n.Diff(a,y)]},n.prototype.diff_bisectSplit_=function(g,y,b,d,f){var c=g.substring(0,b),s=y.substring(0,d),o=g.substring(b),u=y.substring(d),h=this.diff_main(c,s,!1,f),m=this.diff_main(o,u,!1,f);return h.concat(m)},n.prototype.diff_linesToChars_=function(g,y){var b=[],d={};b[0]="";function f(u){for(var h="",m=0,v=-1,T=b.length;v<u.length-1;){v=u.indexOf(`
`,m),v==-1&&(v=u.length-1);var x=u.substring(m,v+1);(d.hasOwnProperty?d.hasOwnProperty(x):d[x]!==void 0)?h+=String.fromCharCode(d[x]):(T==c&&(x=u.substring(m),v=u.length),h+=String.fromCharCode(T),d[x]=T,b[T++]=x),m=v+1}return h}var c=4e4,s=f(g);c=65535;var o=f(y);return{chars1:s,chars2:o,lineArray:b}},n.prototype.diff_charsToLines_=function(g,y){for(var b=0;b<g.length;b++){for(var d=g[b][1],f=[],c=0;c<d.length;c++)f[c]=y[d.charCodeAt(c)];g[b][1]=f.join("")}},n.prototype.diff_commonPrefix=function(g,y){if(!g||!y||g.charAt(0)!=y.charAt(0))return 0;for(var b=0,d=Math.min(g.length,y.length),f=d,c=0;b<f;)g.substring(c,f)==y.substring(c,f)?(b=f,c=b):d=f,f=Math.floor((d-b)/2+b);return f},n.prototype.diff_commonSuffix=function(g,y){if(!g||!y||g.charAt(g.length-1)!=y.charAt(y.length-1))return 0;for(var b=0,d=Math.min(g.length,y.length),f=d,c=0;b<f;)g.substring(g.length-f,g.length-c)==y.substring(y.length-f,y.length-c)?(b=f,c=b):d=f,f=Math.floor((d-b)/2+b);return f},n.prototype.diff_commonOverlap_=function(g,y){var b=g.length,d=y.length;if(b==0||d==0)return 0;b>d?g=g.substring(b-d):b<d&&(y=y.substring(0,b));var f=Math.min(b,d);if(g==y)return f;for(var c=0,s=1;;){var o=g.substring(f-s),u=y.indexOf(o);if(u==-1)return c;s+=u,(u==0||g.substring(f-s)==y.substring(0,s))&&(c=s,s++)}},n.prototype.diff_halfMatch_=function(g,y){if(this.Diff_Timeout<=0)return null;var b=g.length>y.length?g:y,d=g.length>y.length?y:g;if(b.length<4||d.length*2<b.length)return null;var f=this;function c(R,k,C){for(var S=R.substring(C,C+Math.floor(R.length/4)),N=-1,L="",A,$,O,B;(N=k.indexOf(S,N+1))!=-1;){var z=f.diff_commonPrefix(R.substring(C),k.substring(N)),F=f.diff_commonSuffix(R.substring(0,C),k.substring(0,N));L.length<F+z&&(L=k.substring(N-F,N)+k.substring(N,N+z),A=R.substring(0,C-F),$=R.substring(C+z),O=k.substring(0,N-F),B=k.substring(N+z))}return L.length*2>=R.length?[A,$,O,B,L]:null}var s=c(b,d,Math.ceil(b.length/4)),o=c(b,d,Math.ceil(b.length/2)),u;if(!s&&!o)return null;o?s?u=s[4].length>o[4].length?s:o:u=o:u=s;var h,m,v,T;g.length>y.length?(h=u[0],m=u[1],v=u[2],T=u[3]):(v=u[0],T=u[1],h=u[2],m=u[3]);var x=u[4];return[h,m,v,T,x]},n.prototype.diff_cleanupSemantic=function(g){for(var y=!1,b=[],d=0,f=null,c=0,s=0,o=0,u=0,h=0;c<g.length;)g[c][0]==w?(b[d++]=c,s=u,o=h,u=0,h=0,f=g[c][1]):(g[c][0]==a?u+=g[c][1].length:h+=g[c][1].length,f&&f.length<=Math.max(s,o)&&f.length<=Math.max(u,h)&&(g.splice(b[d-1],0,new n.Diff(i,f)),g[b[d-1]+1][0]=a,d--,d--,c=d>0?b[d-1]:-1,s=0,o=0,u=0,h=0,f=null,y=!0)),c++;for(y&&this.diff_cleanupMerge(g),this.diff_cleanupSemanticLossless(g),c=1;c<g.length;){if(g[c-1][0]==i&&g[c][0]==a){var m=g[c-1][1],v=g[c][1],T=this.diff_commonOverlap_(m,v),x=this.diff_commonOverlap_(v,m);T>=x?(T>=m.length/2||T>=v.length/2)&&(g.splice(c,0,new n.Diff(w,v.substring(0,T))),g[c-1][1]=m.substring(0,m.length-T),g[c+1][1]=v.substring(T),c++):(x>=m.length/2||x>=v.length/2)&&(g.splice(c,0,new n.Diff(w,m.substring(0,x))),g[c-1][0]=a,g[c-1][1]=v.substring(0,v.length-x),g[c+1][0]=i,g[c+1][1]=m.substring(x),c++),c++}c++}},n.prototype.diff_cleanupSemanticLossless=function(g){function y(x,R){if(!x||!R)return 6;var k=x.charAt(x.length-1),C=R.charAt(0),S=k.match(n.nonAlphaNumericRegex_),N=C.match(n.nonAlphaNumericRegex_),L=S&&k.match(n.whitespaceRegex_),A=N&&C.match(n.whitespaceRegex_),$=L&&k.match(n.linebreakRegex_),O=A&&C.match(n.linebreakRegex_),B=$&&x.match(n.blanklineEndRegex_),z=O&&R.match(n.blanklineStartRegex_);return B||z?5:$||O?4:S&&!L&&A?3:L||A?2:S||N?1:0}for(var b=1;b<g.length-1;){if(g[b-1][0]==w&&g[b+1][0]==w){var d=g[b-1][1],f=g[b][1],c=g[b+1][1],s=this.diff_commonSuffix(d,f);if(s){var o=f.substring(f.length-s);d=d.substring(0,d.length-s),f=o+f.substring(0,f.length-s),c=o+c}for(var u=d,h=f,m=c,v=y(d,f)+y(f,c);f.charAt(0)===c.charAt(0);){d+=f.charAt(0),f=f.substring(1)+c.charAt(0),c=c.substring(1);var T=y(d,f)+y(f,c);T>=v&&(v=T,u=d,h=f,m=c)}g[b-1][1]!=u&&(u?g[b-1][1]=u:(g.splice(b-1,1),b--),g[b][1]=h,m?g[b+1][1]=m:(g.splice(b+1,1),b--))}b++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(g){for(var y=!1,b=[],d=0,f=null,c=0,s=!1,o=!1,u=!1,h=!1;c<g.length;)g[c][0]==w?(g[c][1].length<this.Diff_EditCost&&(u||h)?(b[d++]=c,s=u,o=h,f=g[c][1]):(d=0,f=null),u=h=!1):(g[c][0]==i?h=!0:u=!0,f&&(s&&o&&u&&h||f.length<this.Diff_EditCost/2&&s+o+u+h==3)&&(g.splice(b[d-1],0,new n.Diff(i,f)),g[b[d-1]+1][0]=a,d--,f=null,s&&o?(u=h=!0,d=0):(d--,c=d>0?b[d-1]:-1,u=h=!1),y=!0)),c++;y&&this.diff_cleanupMerge(g)},n.prototype.diff_cleanupMerge=function(g){g.push(new n.Diff(w,""));for(var y=0,b=0,d=0,f="",c="",s;y<g.length;)switch(g[y][0]){case a:d++,c+=g[y][1],y++;break;case i:b++,f+=g[y][1],y++;break;case w:b+d>1?(b!==0&&d!==0&&(s=this.diff_commonPrefix(c,f),s!==0&&(y-b-d>0&&g[y-b-d-1][0]==w?g[y-b-d-1][1]+=c.substring(0,s):(g.splice(0,0,new n.Diff(w,c.substring(0,s))),y++),c=c.substring(s),f=f.substring(s)),s=this.diff_commonSuffix(c,f),s!==0&&(g[y][1]=c.substring(c.length-s)+g[y][1],c=c.substring(0,c.length-s),f=f.substring(0,f.length-s))),y-=b+d,g.splice(y,b+d),f.length&&(g.splice(y,0,new n.Diff(i,f)),y++),c.length&&(g.splice(y,0,new n.Diff(a,c)),y++),y++):y!==0&&g[y-1][0]==w?(g[y-1][1]+=g[y][1],g.splice(y,1)):y++,d=0,b=0,f="",c="";break}g[g.length-1][1]===""&&g.pop();var o=!1;for(y=1;y<g.length-1;)g[y-1][0]==w&&g[y+1][0]==w&&(g[y][1].substring(g[y][1].length-g[y-1][1].length)==g[y-1][1]?(g[y][1]=g[y-1][1]+g[y][1].substring(0,g[y][1].length-g[y-1][1].length),g[y+1][1]=g[y-1][1]+g[y+1][1],g.splice(y-1,1),o=!0):g[y][1].substring(0,g[y+1][1].length)==g[y+1][1]&&(g[y-1][1]+=g[y+1][1],g[y][1]=g[y][1].substring(g[y+1][1].length)+g[y+1][1],g.splice(y+1,1),o=!0)),y++;o&&this.diff_cleanupMerge(g)},n.prototype.diff_xIndex=function(g,y){var b=0,d=0,f=0,c=0,s;for(s=0;s<g.length&&(g[s][0]!==a&&(b+=g[s][1].length),g[s][0]!==i&&(d+=g[s][1].length),!(b>y));s++)f=b,c=d;return g.length!=s&&g[s][0]===i?c:c+(y-f)},n.prototype.diff_prettyHtml=function(g){for(var y=[],b=/&/g,d=/</g,f=/>/g,c=/\n/g,s=0;s<g.length;s++){var o=g[s][0],u=g[s][1],h=u.replace(b,"&amp;").replace(d,"&lt;").replace(f,"&gt;").replace(c,"&para;<br>");switch(o){case a:y[s]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case i:y[s]='<del style="background:#ffe6e6;">'+h+"</del>";break;case w:y[s]="<span>"+h+"</span>";break}}return y.join("")},n.prototype.diff_text1=function(g){for(var y=[],b=0;b<g.length;b++)g[b][0]!==a&&(y[b]=g[b][1]);return y.join("")},n.prototype.diff_text2=function(g){for(var y=[],b=0;b<g.length;b++)g[b][0]!==i&&(y[b]=g[b][1]);return y.join("")},n.prototype.diff_levenshtein=function(g){for(var y=0,b=0,d=0,f=0;f<g.length;f++){var c=g[f][0],s=g[f][1];switch(c){case a:b+=s.length;break;case i:d+=s.length;break;case w:y+=Math.max(b,d),b=0,d=0;break}}return y+=Math.max(b,d),y},n.prototype.diff_toDelta=function(g){for(var y=[],b=0;b<g.length;b++)switch(g[b][0]){case a:y[b]="+"+encodeURI(g[b][1]);break;case i:y[b]="-"+g[b][1].length;break;case w:y[b]="="+g[b][1].length;break}return y.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(g,y){for(var b=[],d=0,f=0,c=y.split(/\t/g),s=0;s<c.length;s++){var o=c[s].substring(1);switch(c[s].charAt(0)){case"+":try{b[d++]=new n.Diff(a,decodeURI(o))}catch{throw new Error("Illegal escape in diff_fromDelta: "+o)}break;case"-":case"=":var u=parseInt(o,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+o);var h=g.substring(f,f+=u);c[s].charAt(0)=="="?b[d++]=new n.Diff(w,h):b[d++]=new n.Diff(i,h);break;default:if(c[s])throw new Error("Invalid diff operation in diff_fromDelta: "+c[s])}}if(f!=g.length)throw new Error("Delta length ("+f+") does not equal source text length ("+g.length+").");return b},n.prototype.match_main=function(g,y,b){if(g==null||y==null||b==null)throw new Error("Null input. (match_main)");return b=Math.max(0,Math.min(b,g.length)),g==y?0:g.length?g.substring(b,b+y.length)==y?b:this.match_bitap_(g,y,b):-1},n.prototype.match_bitap_=function(g,y,b){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var d=this.match_alphabet_(y),f=this;function c(A,$){var O=A/y.length,B=Math.abs(b-$);return f.Match_Distance?O+B/f.Match_Distance:B?1:O}var s=this.Match_Threshold,o=g.indexOf(y,b);o!=-1&&(s=Math.min(c(0,o),s),o=g.lastIndexOf(y,b+y.length),o!=-1&&(s=Math.min(c(0,o),s)));var u=1<<y.length-1;o=-1;for(var h,m,v=y.length+g.length,T,x=0;x<y.length;x++){for(h=0,m=v;h<m;)c(x,b+m)<=s?h=m:v=m,m=Math.floor((v-h)/2+h);v=m;var R=Math.max(1,b-m+1),k=Math.min(b+m,g.length)+y.length,C=Array(k+2);C[k+1]=(1<<x)-1;for(var S=k;S>=R;S--){var N=d[g.charAt(S-1)];if(x===0?C[S]=(C[S+1]<<1|1)&N:C[S]=(C[S+1]<<1|1)&N|((T[S+1]|T[S])<<1|1)|T[S+1],C[S]&u){var L=c(x,S-1);if(L<=s)if(s=L,o=S-1,o>b)R=Math.max(1,2*b-o);else break}}if(c(x+1,b)>s)break;T=C}return o},n.prototype.match_alphabet_=function(g){for(var y={},b=0;b<g.length;b++)y[g.charAt(b)]=0;for(var b=0;b<g.length;b++)y[g.charAt(b)]|=1<<g.length-b-1;return y},n.prototype.patch_addContext_=function(g,y){if(y.length!=0){if(g.start2===null)throw Error("patch not initialized");for(var b=y.substring(g.start2,g.start2+g.length1),d=0;y.indexOf(b)!=y.lastIndexOf(b)&&b.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,b=y.substring(g.start2-d,g.start2+g.length1+d);d+=this.Patch_Margin;var f=y.substring(g.start2-d,g.start2);f&&g.diffs.unshift(new n.Diff(w,f));var c=y.substring(g.start2+g.length1,g.start2+g.length1+d);c&&g.diffs.push(new n.Diff(w,c)),g.start1-=f.length,g.start2-=f.length,g.length1+=f.length+c.length,g.length2+=f.length+c.length}},n.prototype.patch_make=function(g,y,b){var d,f;if(typeof g=="string"&&typeof y=="string"&&typeof b>"u")d=g,f=this.diff_main(d,y,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(g&&typeof g=="object"&&typeof y>"u"&&typeof b>"u")f=g,d=this.diff_text1(f);else if(typeof g=="string"&&y&&typeof y=="object"&&typeof b>"u")d=g,f=y;else if(typeof g=="string"&&typeof y=="string"&&b&&typeof b=="object")d=g,f=b;else throw new Error("Unknown call format to patch_make.");if(f.length===0)return[];for(var c=[],s=new n.patch_obj,o=0,u=0,h=0,m=d,v=d,T=0;T<f.length;T++){var x=f[T][0],R=f[T][1];switch(!o&&x!==w&&(s.start1=u,s.start2=h),x){case a:s.diffs[o++]=f[T],s.length2+=R.length,v=v.substring(0,h)+R+v.substring(h);break;case i:s.length1+=R.length,s.diffs[o++]=f[T],v=v.substring(0,h)+v.substring(h+R.length);break;case w:R.length<=2*this.Patch_Margin&&o&&f.length!=T+1?(s.diffs[o++]=f[T],s.length1+=R.length,s.length2+=R.length):R.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(s,m),c.push(s),s=new n.patch_obj,o=0,m=v,u=h);break}x!==a&&(u+=R.length),x!==i&&(h+=R.length)}return o&&(this.patch_addContext_(s,m),c.push(s)),c},n.prototype.patch_deepCopy=function(g){for(var y=[],b=0;b<g.length;b++){var d=g[b],f=new n.patch_obj;f.diffs=[];for(var c=0;c<d.diffs.length;c++)f.diffs[c]=new n.Diff(d.diffs[c][0],d.diffs[c][1]);f.start1=d.start1,f.start2=d.start2,f.length1=d.length1,f.length2=d.length2,y[b]=f}return y},n.prototype.patch_apply=function(g,y){if(g.length==0)return[y,[]];g=this.patch_deepCopy(g);var b=this.patch_addPadding(g);y=b+y+b,this.patch_splitMax(g);for(var d=0,f=[],c=0;c<g.length;c++){var s=g[c].start2+d,o=this.diff_text1(g[c].diffs),u,h=-1;if(o.length>this.Match_MaxBits?(u=this.match_main(y,o.substring(0,this.Match_MaxBits),s),u!=-1&&(h=this.match_main(y,o.substring(o.length-this.Match_MaxBits),s+o.length-this.Match_MaxBits),(h==-1||u>=h)&&(u=-1))):u=this.match_main(y,o,s),u==-1)f[c]=!1,d-=g[c].length2-g[c].length1;else{f[c]=!0,d=u-s;var m;if(h==-1?m=y.substring(u,u+o.length):m=y.substring(u,h+this.Match_MaxBits),o==m)y=y.substring(0,u)+this.diff_text2(g[c].diffs)+y.substring(u+o.length);else{var v=this.diff_main(o,m,!1);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(v)/o.length>this.Patch_DeleteThreshold)f[c]=!1;else{this.diff_cleanupSemanticLossless(v);for(var T=0,x,R=0;R<g[c].diffs.length;R++){var k=g[c].diffs[R];k[0]!==w&&(x=this.diff_xIndex(v,T)),k[0]===a?y=y.substring(0,u+x)+k[1]+y.substring(u+x):k[0]===i&&(y=y.substring(0,u+x)+y.substring(u+this.diff_xIndex(v,T+k[1].length))),k[0]!==i&&(T+=k[1].length)}}}}}return y=y.substring(b.length,y.length-b.length),[y,f]},n.prototype.patch_addPadding=function(g){for(var y=this.Patch_Margin,b="",d=1;d<=y;d++)b+=String.fromCharCode(d);for(var d=0;d<g.length;d++)g[d].start1+=y,g[d].start2+=y;var f=g[0],c=f.diffs;if(c.length==0||c[0][0]!=w)c.unshift(new n.Diff(w,b)),f.start1-=y,f.start2-=y,f.length1+=y,f.length2+=y;else if(y>c[0][1].length){var s=y-c[0][1].length;c[0][1]=b.substring(c[0][1].length)+c[0][1],f.start1-=s,f.start2-=s,f.length1+=s,f.length2+=s}if(f=g[g.length-1],c=f.diffs,c.length==0||c[c.length-1][0]!=w)c.push(new n.Diff(w,b)),f.length1+=y,f.length2+=y;else if(y>c[c.length-1][1].length){var s=y-c[c.length-1][1].length;c[c.length-1][1]+=b.substring(0,s),f.length1+=s,f.length2+=s}return b},n.prototype.patch_splitMax=function(g){for(var y=this.Match_MaxBits,b=0;b<g.length;b++)if(!(g[b].length1<=y)){var d=g[b];g.splice(b--,1);for(var f=d.start1,c=d.start2,s="";d.diffs.length!==0;){var o=new n.patch_obj,u=!0;for(o.start1=f-s.length,o.start2=c-s.length,s!==""&&(o.length1=o.length2=s.length,o.diffs.push(new n.Diff(w,s)));d.diffs.length!==0&&o.length1<y-this.Patch_Margin;){var h=d.diffs[0][0],m=d.diffs[0][1];h===a?(o.length2+=m.length,c+=m.length,o.diffs.push(d.diffs.shift()),u=!1):h===i&&o.diffs.length==1&&o.diffs[0][0]==w&&m.length>2*y?(o.length1+=m.length,f+=m.length,u=!1,o.diffs.push(new n.Diff(h,m)),d.diffs.shift()):(m=m.substring(0,y-o.length1-this.Patch_Margin),o.length1+=m.length,f+=m.length,h===w?(o.length2+=m.length,c+=m.length):u=!1,o.diffs.push(new n.Diff(h,m)),m==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(m.length))}s=this.diff_text2(o.diffs),s=s.substring(s.length-this.Patch_Margin);var v=this.diff_text1(d.diffs).substring(0,this.Patch_Margin);v!==""&&(o.length1+=v.length,o.length2+=v.length,o.diffs.length!==0&&o.diffs[o.diffs.length-1][0]===w?o.diffs[o.diffs.length-1][1]+=v:o.diffs.push(new n.Diff(w,v))),u||g.splice(++b,0,o)}}},n.prototype.patch_toText=function(g){for(var y=[],b=0;b<g.length;b++)y[b]=g[b];return y.join("")},n.prototype.patch_fromText=function(g){var y=[];if(!g)return y;for(var b=g.split(`
`),d=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;d<b.length;){var c=b[d].match(f);if(!c)throw new Error("Invalid patch string: "+b[d]);var s=new n.patch_obj;for(y.push(s),s.start1=parseInt(c[1],10),c[2]===""?(s.start1--,s.length1=1):c[2]=="0"?s.length1=0:(s.start1--,s.length1=parseInt(c[2],10)),s.start2=parseInt(c[3],10),c[4]===""?(s.start2--,s.length2=1):c[4]=="0"?s.length2=0:(s.start2--,s.length2=parseInt(c[4],10)),d++;d<b.length;){var o=b[d].charAt(0);try{var u=decodeURI(b[d].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+u)}if(o=="-")s.diffs.push(new n.Diff(i,u));else if(o=="+")s.diffs.push(new n.Diff(a,u));else if(o==" ")s.diffs.push(new n.Diff(w,u));else{if(o=="@")break;if(o!=="")throw new Error('Invalid patch mode "'+o+'" in: '+u)}d++}}return y},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){var g,y;this.length1===0?g=this.start1+",0":this.length1==1?g=this.start1+1:g=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var b=["@@ -"+g+" +"+y+` @@
`],d,f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case a:d="+";break;case i:d="-";break;case w:d=" ";break}b[f+1]=d+encodeURI(this.diffs[f][1])+`
`}return b.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=i,e.exports.DIFF_INSERT=a,e.exports.DIFF_EQUAL=w}(diffMatchPatch)),diffMatchPatch.exports}var hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff;hasRequiredDiff=1;var e=diff&&diff.__extends||function(){var y=function(b,d){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},y(b,d)};return function(b,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");y(b,d);function f(){this.constructor=b}b.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(diff,"__esModule",{value:!0});var n=requirePropTypes(),i=requireReact(),a=requireSplit(),w=requireDiffMatchPatch(),g=function(y){e(b,y);function b(d){var f=y.call(this,d)||this;return f.state={value:f.props.value},f.onChange=f.onChange.bind(f),f.diff=f.diff.bind(f),f}return b.prototype.componentDidUpdate=function(){var d=this.props.value;d!==this.state.value&&this.setState({value:d})},b.prototype.onChange=function(d){this.setState({value:d}),this.props.onChange&&this.props.onChange(d)},b.prototype.diff=function(){var d=new w,f=this.state.value[0],c=this.state.value[1];if(f.length===0&&c.length===0)return[];var s=d.diff_main(f,c);d.diff_cleanupSemantic(s);var o=this.generateDiffedLines(s),u=this.setCodeMarkers(o);return u},b.prototype.generateDiffedLines=function(d){var f={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},c={left:[],right:[]},s={left:1,right:1};return d.forEach(function(o){var u=o[0],h=o[1],m=h.split(`
`).length-1;if(h.length!==0){var v=h[0],T=h[h.length-1],x=0;switch(u){case f.DIFF_EQUAL:s.left+=m,s.right+=m;break;case f.DIFF_DELETE:v===`
`&&(s.left++,m--),x=m,x===0&&c.right.push({startLine:s.right,endLine:s.right}),T===`
`&&(x-=1),c.left.push({startLine:s.left,endLine:s.left+x}),s.left+=m;break;case f.DIFF_INSERT:v===`
`&&(s.right++,m--),x=m,x===0&&c.left.push({startLine:s.left,endLine:s.left}),T===`
`&&(x-=1),c.right.push({startLine:s.right,endLine:s.right+x}),s.right+=m;break;default:throw new Error("Diff type was not defined.")}}}),c},b.prototype.setCodeMarkers=function(d){d===void 0&&(d={left:[],right:[]});for(var f=[],c={left:[],right:[]},s=0;s<d.left.length;s++){var o={startRow:d.left[s].startLine-1,endRow:d.left[s].endLine,type:"text",className:"codeMarker"};c.left.push(o)}for(var s=0;s<d.right.length;s++){var o={startRow:d.right[s].startLine-1,endRow:d.right[s].endLine,type:"text",className:"codeMarker"};c.right.push(o)}return f[0]=c.left,f[1]=c.right,f},b.prototype.render=function(){var d=this.diff();return i.createElement(a.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:d})},b.propTypes={cursorStart:n.number,editorProps:n.object,enableBasicAutocompletion:n.bool,enableLiveAutocompletion:n.bool,focus:n.bool,fontSize:n.number,height:n.string,highlightActiveLine:n.bool,maxLines:n.number,minLines:n.number,mode:n.string,name:n.string,className:n.string,onLoad:n.func,onPaste:n.func,onScroll:n.func,onChange:n.func,orientation:n.string,readOnly:n.bool,scrollMargin:n.array,setOptions:n.object,showGutter:n.bool,showPrintMargin:n.bool,splits:n.number,style:n.object,tabSize:n.number,theme:n.string,value:n.array,width:n.string,wrapEnabled:n.bool},b.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},b}(i.Component);return diff.default=g,diff}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1,Object.defineProperty(lib$1,"__esModule",{value:!0}),lib$1.diff=lib$1.split=void 0;var e=requireAce(),n=requireDiff();lib$1.diff=n.default;var i=requireSplit();return lib$1.split=i.default,lib$1.default=e.default,lib$1}var libExports=requireLib$1();const AceEditor=getDefaultExportFromCjs(libExports),useTypedSelector=useSelector,useTypedDispatch=useDispatch,BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",RAW_MODE_ENTER="",RAW_MODE_COMPILE="",RAW_MODE_EXIT="";var Languages=(e=>(e.SOURCE_THREE_INTERPRETER="Source §3 (Legacy)",e.PYTHON="Python",e))(Languages||{});const supportedLanguages=["Python","Source §3 (Legacy)"],languageToModeMap=Object.freeze({Python:"python","Source §3 (Legacy)":"javascript"});var extLanguage_tools={exports:{}},hasRequiredExtLanguage_tools;function requireExtLanguage_tools(){return hasRequiredExtLanguage_tools||(hasRequiredExtLanguage_tools=1,function(e,n){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(i,a,w){var g=i("./lib/dom"),y=i("./lib/oop"),b=i("./lib/event_emitter").EventEmitter,d=i("./lib/lang"),f=i("./range").Range,c=i("./range_list").RangeList,s=i("./keyboard/hash_handler").HashHandler,o=i("./tokenizer").Tokenizer,u=i("./clipboard"),h={CURRENT_WORD:function(S){return S.session.getTextRange(S.session.getWordRange())},SELECTION:function(S,N,L){var A=S.session.getTextRange();return L?A.replace(/\n\r?([ \t]*\S)/g,`
`+L+"$1"):A},CURRENT_LINE:function(S){return S.session.getLine(S.getCursorPosition().row)},PREV_LINE:function(S){return S.session.getLine(S.getCursorPosition().row-1)},LINE_INDEX:function(S){return S.getCursorPosition().row},LINE_NUMBER:function(S){return S.getCursorPosition().row+1},SOFT_TABS:function(S){return S.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(S){return S.session.getTabSize()},CLIPBOARD:function(S){return u.getText&&u.getText()},FILENAME:function(S){return/[^/\\]*$/.exec(this.FILEPATH(S))[0]},FILENAME_BASE:function(S){return/[^/\\]*$/.exec(this.FILEPATH(S))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(S){return this.FILEPATH(S).replace(/[^/\\]*$/,"")},FILEPATH:function(S){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(S){var N=S.session.$mode||{};return N.blockComment&&N.blockComment.start||""},BLOCK_COMMENT_END:function(S){var N=S.session.$mode||{};return N.blockComment&&N.blockComment.end||""},LINE_COMMENT:function(S){var N=S.session.$mode||{};return N.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};h.SELECTED_TEXT=h.SELECTION;function m(S){var N=new Date().toLocaleString("en-us",S);return N.length==1?"0"+N:N}var v=function(){function S(){this.snippetMap={},this.snippetNameMap={},this.variables=h}return S.prototype.getTokenizer=function(){return S.$tokenizer||this.createTokenizer()},S.prototype.createTokenizer=function(){function N($){return $=$.substr(1),/^\d+$/.test($)?[{tabstopId:parseInt($,10)}]:[{text:$}]}function L($){return"(?:[^\\\\"+$+"]|\\\\.)"}var A={regex:"/("+L("/")+"+)/",onMatch:function($,O,B){var z=B[0];return z.fmtString=!0,z.guard=$.slice(1,-1),z.flag="",""},next:"formatString"};return S.$tokenizer=new o({start:[{regex:/\\./,onMatch:function($,O,B){var z=$[1];return(z=="}"&&B.length||"`$\\".indexOf(z)!=-1)&&($=z),[$]}},{regex:/}/,onMatch:function($,O,B){return[B.length?B.shift():$]}},{regex:/\$(?:\d+|\w+)/,onMatch:N},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function($,O,B){var z=N($.substr(1));return B.unshift(z[0]),z},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+L("\\|")+"*\\|",onMatch:function($,O,B){var z=$.slice(1,-1).replace(/\\[,|\\]|,/g,function(F){return F.length==2?F[1]:"\0"}).split("\0").map(function(F){return{value:F}});return B[0].choices=z,[z[0]]},next:"start"},A,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function($,O,B){return B.length&&B[0].expectElse?(B[0].expectElse=!1,B[0].ifEnd={elseEnd:B[0]},[B[0].ifEnd]):":"}},{regex:/\\./,onMatch:function($,O,B){var z=$[1];return z=="}"&&B.length||"`$\\".indexOf(z)!=-1?$=z:z=="n"?$=`
`:z=="t"?$="	":"ulULE".indexOf(z)!=-1&&($={changeCase:z,local:z>"a"}),[$]}},{regex:"/\\w*}",onMatch:function($,O,B){var z=B.shift();return z&&(z.flag=$.slice(1,-1)),this.next=z&&z.tabstopId?"start":"",[z||$]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function($,O,B){return[{text:$.slice(1)}]}},{regex:/\${\w+/,onMatch:function($,O,B){var z={text:$.slice(2)};return B.unshift(z),[z]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function($,O,B){var z=B.shift();return this.next=z&&z.tabstopId?"start":"",[z||$]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function($,O,B){var z=B[0];return z.formatFunction=$.slice(2,-1),[B.shift()]},next:"formatString"},A,{regex:/:[\?\-+]?/,onMatch:function($,O,B){$[1]=="+"&&(B[0].ifEnd=B[0]),$[1]=="?"&&(B[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),S.$tokenizer},S.prototype.tokenizeTmSnippet=function(N,L){return this.getTokenizer().getLineTokens(N,L).tokens.map(function(A){return A.value||A})},S.prototype.getVariableValue=function(N,L,A){if(/^\d+$/.test(L))return(this.variables.__||{})[L]||"";if(/^[A-Z]\d+$/.test(L))return(this.variables[L[0]+"__"]||{})[L.substr(1)]||"";if(L=L.replace(/^TM_/,""),!this.variables.hasOwnProperty(L))return"";var $=this.variables[L];return typeof $=="function"&&($=this.variables[L](N,L,A)),$??""},S.prototype.tmStrFormat=function(N,L,A){if(!L.fmt)return N;var $=L.flag||"",O=L.guard;O=new RegExp(O,$.replace(/[^gim]/g,""));var B=typeof L.fmt=="string"?this.tokenizeTmSnippet(L.fmt,"formatString"):L.fmt,z=this,F=N.replace(O,function(){var V=z.variables.__;z.variables.__=[].slice.call(arguments);for(var U=z.resolveVariables(B,A),q="E",K=0;K<U.length;K++){var Q=U[K];if(typeof Q=="object")if(U[K]="",Q.changeCase&&Q.local){var X=U[K+1];X&&typeof X=="string"&&(Q.changeCase=="u"?U[K]=X[0].toUpperCase():U[K]=X[0].toLowerCase(),U[K+1]=X.substr(1))}else Q.changeCase&&(q=Q.changeCase);else q=="U"?U[K]=Q.toUpperCase():q=="L"&&(U[K]=Q.toLowerCase())}return z.variables.__=V,U.join("")});return F},S.prototype.tmFormatFunction=function(N,L,A){return L.formatFunction=="upcase"?N.toUpperCase():L.formatFunction=="downcase"?N.toLowerCase():N},S.prototype.resolveVariables=function(N,L){for(var A=[],$="",O=!0,B=0;B<N.length;B++){var z=N[B];if(typeof z=="string"){A.push(z),z==`
`?(O=!0,$=""):O&&($=/^\t*/.exec(z)[0],O=/\S/.test(z));continue}if(z){if(O=!1,z.fmtString){var F=N.indexOf(z,B+1);F==-1&&(F=N.length),z.fmt=N.slice(B+1,F),B=F}if(z.text){var V=this.getVariableValue(L,z.text,$)+"";z.fmtString&&(V=this.tmStrFormat(V,z,L)),z.formatFunction&&(V=this.tmFormatFunction(V,z,L)),V&&!z.ifEnd?(A.push(V),U(z)):!V&&z.ifEnd&&U(z.ifEnd)}else z.elseEnd?U(z.elseEnd):(z.tabstopId!=null||z.changeCase!=null)&&A.push(z)}}function U(q){var K=N.indexOf(q,B+1);K!=-1&&(B=K)}return A},S.prototype.getDisplayTextForSnippet=function(N,L){var A=T.call(this,N,L);return A.text},S.prototype.insertSnippetForSelection=function(N,L,A){A===void 0&&(A={});var $=T.call(this,N,L,A),O=N.getSelectionRange(),B=N.session.replace(O,$.text),z=new x(N),F=N.inVirtualSelectionMode&&N.selection.index;z.addTabstops($.tabstops,O.start,B,F)},S.prototype.insertSnippet=function(N,L,A){A===void 0&&(A={});var $=this;if(N.inVirtualSelectionMode)return $.insertSnippetForSelection(N,L,A);N.forEachSelection(function(){$.insertSnippetForSelection(N,L,A)},null,{keepOrder:!0}),N.tabstopManager&&N.tabstopManager.tabNext()},S.prototype.$getScope=function(N){var L=N.session.$mode.$id||"";if(L=L.split("/").pop(),L==="html"||L==="php"){L==="php"&&!N.session.$mode.inlinePhp&&(L="html");var A=N.getCursorPosition(),$=N.session.getState(A.row);typeof $=="object"&&($=$[0]),$.substring&&($.substring(0,3)=="js-"?L="javascript":$.substring(0,4)=="css-"?L="css":$.substring(0,4)=="php-"&&(L="php"))}return L},S.prototype.getActiveScopes=function(N){var L=this.$getScope(N),A=[L],$=this.snippetMap;return $[L]&&$[L].includeScopes&&A.push.apply(A,$[L].includeScopes),A.push("_"),A},S.prototype.expandWithTab=function(N,L){var A=this,$=N.forEachSelection(function(){return A.expandSnippetForSelection(N,L)},null,{keepOrder:!0});return $&&N.tabstopManager&&N.tabstopManager.tabNext(),$},S.prototype.expandSnippetForSelection=function(N,L){var A=N.getCursorPosition(),$=N.session.getLine(A.row),O=$.substring(0,A.column),B=$.substr(A.column),z=this.snippetMap,F;return this.getActiveScopes(N).some(function(V){var U=z[V];return U&&(F=this.findMatchingSnippet(U,O,B)),!!F},this),F?(L&&L.dryRun||(N.session.doc.removeInLine(A.row,A.column-F.replaceBefore.length,A.column+F.replaceAfter.length),this.variables.M__=F.matchBefore,this.variables.T__=F.matchAfter,this.insertSnippetForSelection(N,F.content),this.variables.M__=this.variables.T__=null),!0):!1},S.prototype.findMatchingSnippet=function(N,L,A){for(var $=N.length;$--;){var O=N[$];if(!(O.startRe&&!O.startRe.test(L))&&!(O.endRe&&!O.endRe.test(A))&&!(!O.startRe&&!O.endRe))return O.matchBefore=O.startRe?O.startRe.exec(L):[""],O.matchAfter=O.endRe?O.endRe.exec(A):[""],O.replaceBefore=O.triggerRe?O.triggerRe.exec(L)[0]:"",O.replaceAfter=O.endTriggerRe?O.endTriggerRe.exec(A)[0]:"",O}},S.prototype.register=function(N,L){var A=this.snippetMap,$=this.snippetNameMap,O=this;N||(N=[]);function B(V){return V&&!/^\^?\(.*\)\$?$|^\\b$/.test(V)&&(V="(?:"+V+")"),V||""}function z(V,U,q){return V=B(V),U=B(U),V=U+V,V&&V[V.length-1]!="$"&&(V=V+"$"),new RegExp(V)}function F(V){V.scope||(V.scope=L||"_"),L=V.scope,A[L]||(A[L]=[],$[L]={});var U=$[L];if(V.name){var q=U[V.name];q&&O.unregister(q),U[V.name]=V}A[L].push(V),V.prefix&&(V.tabTrigger=V.prefix),!V.content&&V.body&&(V.content=Array.isArray(V.body)?V.body.join(`
`):V.body),V.tabTrigger&&!V.trigger&&(!V.guard&&/^\w/.test(V.tabTrigger)&&(V.guard="\\b"),V.trigger=d.escapeRegExp(V.tabTrigger)),!(!V.trigger&&!V.guard&&!V.endTrigger&&!V.endGuard)&&(V.startRe=z(V.trigger,V.guard),V.triggerRe=new RegExp(V.trigger),V.endRe=z(V.endTrigger,V.endGuard),V.endTriggerRe=new RegExp(V.endTrigger))}Array.isArray(N)?N.forEach(F):Object.keys(N).forEach(function(V){F(N[V])}),this._signal("registerSnippets",{scope:L})},S.prototype.unregister=function(N,L){var A=this.snippetMap,$=this.snippetNameMap;function O(B){var z=$[B.scope||L];if(z&&z[B.name]){delete z[B.name];var F=A[B.scope||L],V=F&&F.indexOf(B);V>=0&&F.splice(V,1)}}N.content?O(N):Array.isArray(N)&&N.forEach(O)},S.prototype.parseSnippetFile=function(N){N=N.replace(/\r/g,"");for(var L=[],A={},$=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,O;O=$.exec(N);){if(O[1])try{A=JSON.parse(O[1]),L.push(A)}catch{}if(O[4])A.content=O[4].replace(/^\t/gm,""),L.push(A),A={};else{var B=O[2],z=O[3];if(B=="regex"){var F=/\/((?:[^\/\\]|\\.)*)|$/g;A.guard=F.exec(z)[1],A.trigger=F.exec(z)[1],A.endTrigger=F.exec(z)[1],A.endGuard=F.exec(z)[1]}else B=="snippet"?(A.tabTrigger=z.match(/^\S*/)[0],A.name||(A.name=z)):B&&(A[B]=z)}}return L},S.prototype.getSnippetByName=function(N,L){var A=this.snippetNameMap,$;return this.getActiveScopes(L).some(function(O){var B=A[O];return B&&($=B[N]),!!$},this),$},S}();y.implement(v.prototype,b);var T=function(S,N,L){L===void 0&&(L={});var A=S.getCursorPosition(),$=S.session.getLine(A.row),O=S.session.getTabString(),B=$.match(/^\s*/)[0];A.column<B.length&&(B=B.slice(0,A.column)),N=N.replace(/\r/g,"");var z=this.tokenizeTmSnippet(N);z=this.resolveVariables(z,S),z=z.map(function(ue){return ue==`
`&&!L.excludeExtraIndent?ue+B:typeof ue=="string"?ue.replace(/\t/g,O):ue});var F=[];z.forEach(function(ue,Ie){if(typeof ue=="object"){var Te=ue.tabstopId,Re=F[Te];if(Re||(Re=F[Te]=[],Re.index=Te,Re.value="",Re.parents={}),Re.indexOf(ue)===-1){ue.choices&&!Re.choices&&(Re.choices=ue.choices),Re.push(ue);var ke=z.indexOf(ue,Ie+1);if(ke!==-1){var me=z.slice(Ie+1,ke),ve=me.some(function(he){return typeof he=="object"});ve&&!Re.value?Re.value=me:me.length&&(!Re.value||typeof Re.value!="string")&&(Re.value=me.join(""))}}}}),F.forEach(function(ue){ue.length=0});var V={};function U(ue){for(var Ie=[],Te=0;Te<ue.length;Te++){var Re=ue[Te];if(typeof Re=="object"){if(V[Re.tabstopId])continue;var ke=ue.lastIndexOf(Re,Te-1);Re=Ie[ke]||{tabstopId:Re.tabstopId}}Ie[Te]=Re}return Ie}for(var q=0;q<z.length;q++){var K=z[q];if(typeof K=="object"){var Q=K.tabstopId,X=F[Q],te=z.indexOf(K,q+1);if(V[Q]){V[Q]===K&&(delete V[Q],Object.keys(V).forEach(function(ue){X.parents[ue]=!0}));continue}V[Q]=K;var se=X.value;typeof se!="string"?se=U(se):K.fmt&&(se=this.tmStrFormat(se,K,S)),z.splice.apply(z,[q+1,Math.max(0,te-q)].concat(se,K)),X.indexOf(K)===-1&&X.push(K)}}var J=0,le=0,ce="";return z.forEach(function(ue){if(typeof ue=="string"){var Ie=ue.split(`
`);Ie.length>1?(le=Ie[Ie.length-1].length,J+=Ie.length-1):le+=ue.length,ce+=ue}else ue&&(ue.start?ue.end={row:J,column:le}:ue.start={row:J,column:le})}),{text:ce,tabstops:F,tokens:z}},x=function(){function S(N){if(this.index=0,this.ranges=[],this.tabstops=[],N.tabstopManager)return N.tabstopManager;N.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=d.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(N)}return S.prototype.attach=function(N){this.$openTabstops=null,this.selectedTabstop=null,this.editor=N,this.session=N.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},S.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},S.prototype.onChange=function(N){for(var L=N.action[0]=="r",A=this.selectedTabstop||{},$=A.parents||{},O=this.tabstops.slice(),B=0;B<O.length;B++){var z=O[B],F=z==A||$[z.index];if(z.rangeList.$bias=F?0:1,N.action=="remove"&&z!==A){var V=z.parents&&z.parents[A.index],U=z.rangeList.pointIndex(N.start,V);U=U<0?-U-1:U+1;var q=z.rangeList.pointIndex(N.end,V);q=q<0?-q-1:q-1;for(var K=z.rangeList.ranges.slice(U,q),Q=0;Q<K.length;Q++)this.removeRange(K[Q])}z.rangeList.$onChange(N)}var X=this.session;!this.$inChange&&L&&X.getLength()==1&&!X.getValue()&&this.detach()},S.prototype.updateLinkedFields=function(){var N=this.selectedTabstop;if(!(!N||!N.hasLinkedRanges||!N.firstNonLinked)){this.$inChange=!0;for(var L=this.session,A=L.getTextRange(N.firstNonLinked),$=0;$<N.length;$++){var O=N[$];if(O.linked){var B=O.original,z=a.snippetManager.tmStrFormat(A,B,this.editor);L.replace(O,z)}}this.$inChange=!1}},S.prototype.onAfterExec=function(N){N.command&&!N.command.readOnly&&this.updateLinkedFields()},S.prototype.onChangeSelection=function(){if(this.editor){for(var N=this.editor.selection.lead,L=this.editor.selection.anchor,A=this.editor.selection.isEmpty(),$=0;$<this.ranges.length;$++)if(!this.ranges[$].linked){var O=this.ranges[$].contains(N.row,N.column),B=A||this.ranges[$].contains(L.row,L.column);if(O&&B)return}this.detach()}},S.prototype.onChangeSession=function(){this.detach()},S.prototype.tabNext=function(N){var L=this.tabstops.length,A=this.index+(N||1);A=Math.min(Math.max(A,1),L),A==L&&(A=0),this.selectTabstop(A),this.updateTabstopMarkers(),A===0&&this.detach()},S.prototype.selectTabstop=function(N){this.$openTabstops=null;var L=this.tabstops[this.index];if(L&&this.addTabstopMarkers(L),this.index=N,L=this.tabstops[this.index],!(!L||!L.length)){this.selectedTabstop=L;var A=L.firstNonLinked||L;if(L.choices&&(A.cursor=A.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(A);else{var $=this.editor.multiSelect;$.toSingleRange(A);for(var O=0;O<L.length;O++)L.hasLinkedRanges&&L[O].linked||$.addRange(L[O].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},S.prototype.addTabstops=function(N,L,A){var $=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!N[0]){var O=f.fromPoints(A,A);k(O.start,L),k(O.end,L),N[0]=[O],N[0].index=0}var B=this.index,z=[B+1,0],F=this.ranges,V=this.snippetId=(this.snippetId||0)+1;N.forEach(function(U,q){var K=this.$openTabstops[q]||U;K.snippetId=V;for(var Q=0;Q<U.length;Q++){var X=U[Q],te=f.fromPoints(X.start,X.end||X.start);R(te.start,L),R(te.end,L),te.original=X,te.tabstop=K,F.push(te),K!=U?K.unshift(te):K[Q]=te,X.fmtString||K.firstNonLinked&&$?(te.linked=!0,K.hasLinkedRanges=!0):K.firstNonLinked||(K.firstNonLinked=te)}K.firstNonLinked||(K.hasLinkedRanges=!1),K===U&&(z.push(K),this.$openTabstops[q]=K),this.addTabstopMarkers(K),K.rangeList=K.rangeList||new c,K.rangeList.$bias=0,K.rangeList.addList(K)},this),z.length>2&&(this.tabstops.length&&z.push(z.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,z))},S.prototype.addTabstopMarkers=function(N){var L=this.session;N.forEach(function(A){A.markerId||(A.markerId=L.addMarker(A,"ace_snippet-marker","text"))})},S.prototype.removeTabstopMarkers=function(N){var L=this.session;N.forEach(function(A){L.removeMarker(A.markerId),A.markerId=null})},S.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var N=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&N--,this.tabstops.forEach(function(L){L.snippetId===N?this.addTabstopMarkers(L):this.removeTabstopMarkers(L)},this)}},S.prototype.removeRange=function(N){var L=N.tabstop.indexOf(N);L!=-1&&N.tabstop.splice(L,1),L=this.ranges.indexOf(N),L!=-1&&this.ranges.splice(L,1),L=N.tabstop.rangeList.ranges.indexOf(N),L!=-1&&N.tabstop.splice(L,1),this.session.removeMarker(N.markerId),N.tabstop.length||(L=this.tabstops.indexOf(N.tabstop),L!=-1&&this.tabstops.splice(L,1),this.tabstops.length||this.detach())},S}();x.prototype.keyboardHandler=new s,x.prototype.keyboardHandler.bindKeys({Tab:function(S){a.snippetManager&&a.snippetManager.expandWithTab(S)||(S.tabstopManager.tabNext(1),S.renderer.scrollCursorIntoView())},"Shift-Tab":function(S){S.tabstopManager.tabNext(-1),S.renderer.scrollCursorIntoView()},Esc:function(S){S.tabstopManager.detach()}});var R=function(S,N){S.row==0&&(S.column+=N.column),S.row+=N.row},k=function(S,N){S.row==N.row&&(S.column-=N.column),S.row-=N.row};g.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),a.snippetManager=new v;var C=i("./editor").Editor;(function(){this.insertSnippet=function(S,N){return a.snippetManager.insertSnippet(this,S,N)},this.expandSnippet=function(S){return a.snippetManager.expandWithTab(this,S)}}).call(C.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(i,a,w){var g=i("../virtual_renderer").VirtualRenderer,y=i("../editor").Editor,b=i("../range").Range,d=i("../lib/event"),f=i("../lib/lang"),c=i("../lib/dom"),s=i("../config").nls,o=i("./../lib/useragent"),u=function(R){return"suggest-aria-id:".concat(R)},h=o.isSafari?"menu":"listbox",m=o.isSafari?"menuitem":"option",v=o.isSafari?"aria-current":"aria-selected",T=function(R){var k=new g(R);k.$maxLines=4;var C=new y(k);return C.setHighlightActiveLine(!1),C.setShowPrintMargin(!1),C.renderer.setShowGutter(!1),C.renderer.setHighlightGutterLine(!1),C.$mouseHandler.$focusTimeout=0,C.$highlightTagPending=!0,C},x=function(){function R(k){var C=c.createElement("div"),S=T(C);k&&k.appendChild(C),C.style.display="none",S.renderer.content.style.cursor="default",S.renderer.setStyle("ace_autocomplete"),S.renderer.$textLayer.element.setAttribute("role",h),S.renderer.$textLayer.element.setAttribute("aria-roledescription",s("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),S.renderer.$textLayer.element.setAttribute("aria-label",s("autocomplete.popup.aria-label","Autocomplete suggestions")),S.renderer.textarea.setAttribute("aria-hidden","true"),S.setOption("displayIndentGuides",!1),S.setOption("dragDelay",150);var N=function(){};S.focus=N,S.$isFocused=!0,S.renderer.$cursorLayer.restartTimer=N,S.renderer.$cursorLayer.element.style.opacity="0",S.renderer.$maxLines=8,S.renderer.$keepTextAreaAtCursor=!1,S.setHighlightActiveLine(!1),S.session.highlight(""),S.session.$searchHighlight.clazz="ace_highlight-marker",S.on("mousedown",function(F){var V=F.getDocumentPosition();S.selection.moveToPosition(V),$.start.row=$.end.row=V.row,F.stop()});var L,A=new b(-1,0,-1,1/0),$=new b(-1,0,-1,1/0);$.id=S.session.addMarker($,"ace_active-line","fullLine"),S.setSelectOnHover=function(F){F?A.id&&(S.session.removeMarker(A.id),A.id=null):A.id=S.session.addMarker(A,"ace_line-hover","fullLine")},S.setSelectOnHover(!1),S.on("mousemove",function(F){if(!L){L=F;return}if(!(L.x==F.x&&L.y==F.y)){L=F,L.scrollTop=S.renderer.scrollTop,S.isMouseOver=!0;var V=L.getDocumentPosition().row;A.start.row!=V&&(A.id||S.setRow(V),B(V))}}),S.renderer.on("beforeRender",function(){if(L&&A.start.row!=-1){L.$pos=null;var F=L.getDocumentPosition().row;A.id||S.setRow(F),B(F,!0)}}),S.renderer.on("afterRender",function(){for(var F=S.renderer.$textLayer,V=F.config.firstRow,U=F.config.lastRow;V<=U;V++){var q=F.element.childNodes[V-F.config.firstRow];q.setAttribute("role",m),q.setAttribute("aria-roledescription",s("autocomplete.popup.item.aria-roledescription","item")),q.setAttribute("aria-setsize",S.data.length),q.setAttribute("aria-describedby","doc-tooltip"),q.setAttribute("aria-posinset",V+1);var K=S.getData(V);if(K){var Q="".concat(K.caption||K.value).concat(K.meta?", ".concat(K.meta):"");q.setAttribute("aria-label",Q)}var X=q.querySelectorAll(".ace_completion-highlight");X.forEach(function(te){te.setAttribute("role","mark")})}}),S.renderer.on("afterRender",function(){var F=S.getRow(),V=S.renderer.$textLayer,U=V.element.childNodes[F-V.config.firstRow],q=document.activeElement;if(U!==S.selectedNode&&S.selectedNode&&(c.removeCssClass(S.selectedNode,"ace_selected"),S.selectedNode.removeAttribute(v),S.selectedNode.removeAttribute("id")),q.removeAttribute("aria-activedescendant"),S.selectedNode=U,U){var K=u(F);c.addCssClass(U,"ace_selected"),U.id=K,V.element.setAttribute("aria-activedescendant",K),q.setAttribute("aria-activedescendant",K),U.setAttribute(v,"true")}});var O=function(){B(-1)},B=function(F,V){F!==A.start.row&&(A.start.row=A.end.row=F,V||S.session._emit("changeBackMarker"),S._emit("changeHoverMarker"))};S.getHoveredRow=function(){return A.start.row},d.addListener(S.container,"mouseout",function(){S.isMouseOver=!1,O()}),S.on("hide",O),S.on("changeSelection",O),S.session.doc.getLength=function(){return S.data.length},S.session.doc.getLine=function(F){var V=S.data[F];return typeof V=="string"?V:V&&V.value||""};var z=S.session.bgTokenizer;return z.$tokenizeRow=function(F){var V=S.data[F],U=[];if(!V)return U;typeof V=="string"&&(V={value:V});var q=V.caption||V.value||V.name;function K(ue,Ie){ue&&U.push({type:(V.className||"")+(Ie||""),value:ue})}for(var Q=q.toLowerCase(),X=(S.filterText||"").toLowerCase(),te=0,se=0,J=0;J<=X.length;J++)if(J!=se&&(V.matchMask&1<<J||J==X.length)){var le=X.slice(se,J);se=J;var ce=Q.indexOf(le,te);if(ce==-1)continue;K(q.slice(te,ce),""),te=ce+le.length,K(q.slice(ce,te),"completion-highlight")}return K(q.slice(te,q.length),""),U.push({type:"completion-spacer",value:" "}),V.meta&&U.push({type:"completion-meta",value:V.meta}),V.message&&U.push({type:"completion-message",value:V.message}),U},z.$updateOnChange=N,z.start=N,S.session.$computeWidth=function(){return this.screenWidth=0},S.isOpen=!1,S.isTopdown=!1,S.autoSelect=!0,S.filterText="",S.isMouseOver=!1,S.data=[],S.setData=function(F,V){S.filterText=V||"",S.setValue(f.stringRepeat(`
`,F.length),-1),S.data=F||[],S.setRow(0)},S.getData=function(F){return S.data[F]},S.getRow=function(){return $.start.row},S.setRow=function(F){F=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,F)),$.start.row!=F&&(S.selection.clearSelection(),$.start.row=$.end.row=F||0,S.session._emit("changeBackMarker"),S.moveCursorTo(F||0,0),S.isOpen&&S._signal("select"))},S.on("changeSelection",function(){S.isOpen&&S.setRow(S.selection.lead.row),S.renderer.scrollCursorIntoView()}),S.hide=function(){this.container.style.display="none",S.anchorPos=null,S.anchor=null,S.isOpen&&(S.isOpen=!1,this._signal("hide"))},S.tryShow=function(F,V,U,q){if(!q&&S.isOpen&&S.anchorPos&&S.anchor&&S.anchorPos.top===F.top&&S.anchorPos.left===F.left&&S.anchor===U)return!0;var K=this.container,Q=this.renderer.scrollBar.width||10,X=window.innerHeight-Q,te=window.innerWidth-Q,se=this.renderer,J=se.$maxLines*V*1.4,le={top:0,bottom:0},ce=X-F.top-3*this.$borderSize-V,ue=F.top-3*this.$borderSize;U||(ue<=ce||ce>=J?U="bottom":U="top"),U==="top"?(le.bottom=F.top-this.$borderSize,le.top=le.bottom-J):U==="bottom"&&(le.top=F.top+V+this.$borderSize,le.bottom=le.top+J);var Ie=le.top>=0&&le.bottom<=X;if(!q&&!Ie)return!1;Ie?se.$maxPixelHeight=null:U==="top"?se.$maxPixelHeight=ue:se.$maxPixelHeight=ce,U==="top"?(K.style.top="",K.style.bottom=X+Q-le.bottom+"px",S.isTopdown=!1):(K.style.top=le.top+"px",K.style.bottom="",S.isTopdown=!0),K.style.display="";var Te=F.left;return Te+K.offsetWidth>te&&(Te=te-K.offsetWidth),K.style.left=Te+"px",K.style.right="",S.isOpen||(S.isOpen=!0,this._signal("show"),L=null),S.anchorPos=F,S.anchor=U,!0},S.show=function(F,V,U){this.tryShow(F,V,U?"bottom":void 0,!0)},S.goTo=function(F){var V=this.getRow(),U=this.session.getLength()-1;switch(F){case"up":V=V<=0?U:V-1;break;case"down":V=V>=U?-1:V+1;break;case"start":V=0;break;case"end":V=U;break}this.setRow(V)},S.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},S.$imageSize=0,S.$borderSize=1,S}return R}();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),a.AcePopup=x,a.$singleLineEditor=T,a.getAriaId=u}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(i,a,w){var g=function(){function y(b){this.editor=b,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return y.prototype.setScreenReaderContent=function(b){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var f=this.popup.getRow(),c=this.popup.renderer.$textLayer,s=c.element.childNodes[f-c.config.firstRow];if(s){for(var o="doc-tooltip ",u=0;u<this._lines.length;u++)o+="ace-inline-screenreader-line-".concat(u," ");s.setAttribute("aria-describedby",o)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=b.split(/\r\n|\r|\n/);var d=this.createCodeBlock();this.screenReaderDiv.appendChild(d)},y.prototype.destroy=function(){this.screenReaderDiv.remove()},y.prototype.createCodeBlock=function(){var b=document.createElement("pre");b.setAttribute("id","ace-inline-screenreader");for(var d=0;d<this._lines.length;d++){var f=document.createElement("code");f.setAttribute("id","ace-inline-screenreader-line-".concat(d));var c=document.createTextNode(this._lines[d]);f.appendChild(c),b.appendChild(f)}return b},y}();a.AceInlineScreenReader=g}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(i,a,w){var g=i("../snippets").snippetManager,y=i("./inline_screenreader").AceInlineScreenReader,b=function(){function d(){this.editor=null}return d.prototype.show=function(f,c,s){if(s=s||"",f&&this.editor&&this.editor!==f&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!f||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new y(f));var o=c.snippet?g.getDisplayTextForSnippet(f,c.snippet):c.value;return c.hideInlinePreview||!o||!o.startsWith(s)?!1:(this.editor=f,this.inlineScreenReader.setScreenReaderContent(o),o=o.slice(s.length),o===""?f.removeGhostText():f.setGhostText(o),!0)},d.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},d.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},d.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},d}();a.AceInline=b}),ace.define("ace/autocomplete/util",["require","exports","module"],function(i,a,w){a.parForEach=function(y,b,d){var f=0,c=y.length;c===0&&d();for(var s=0;s<c;s++)b(y[s],function(o,u){f++,f===c&&d(o,u)})};var g=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;a.retrievePrecedingIdentifier=function(y,b,d){d=d||g;for(var f=[],c=b-1;c>=0&&d.test(y[c]);c--)f.push(y[c]);return f.reverse().join("")},a.retrieveFollowingIdentifier=function(y,b,d){d=d||g;for(var f=[],c=b;c<y.length&&d.test(y[c]);c++)f.push(y[c]);return f},a.getCompletionPrefix=function(y){var b=y.getCursorPosition(),d=y.session.getLine(b.row),f;return y.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(s){!f&&s&&(f=this.retrievePrecedingIdentifier(d,b.column,s))}).bind(this))}).bind(this)),f||this.retrievePrecedingIdentifier(d,b.column)},a.triggerAutocomplete=function(y,d){var d=d??y.session.getPrecedingCharacter();return y.completers.some(function(f){if(f.triggerCharacters&&Array.isArray(f.triggerCharacters))return f.triggerCharacters.includes(d)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(i,a,w){var g=i("./keyboard/hash_handler").HashHandler,y=i("./autocomplete/popup").AcePopup,b=i("./autocomplete/inline").AceInline,d=i("./autocomplete/popup").getAriaId,f=i("./autocomplete/util"),c=i("./lib/lang"),s=i("./lib/dom"),o=i("./snippets").snippetManager,u=i("./config"),h=i("./lib/event"),m=i("./lib/scroll").preventParentScroll,v=function(k,C){C.completer&&C.completer.destroy()},T=function(){function k(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new g,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var C=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!C||this.editor.completers.length===0||(this.completions=new R(k.completionsForLoading),this.openPopup(this.editor,C.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(k,"completionsForLoading",{get:function(){return[{caption:u.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),k.prototype.$init=function(){return this.popup=new y(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(C){this.insertMatch(),C.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),h.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},k.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new b,this.inlineRenderer},k.prototype.getPopup=function(){return this.popup||this.$init()},k.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},k.prototype.$seen=function(C){!this.hasSeen.has(C)&&C&&C.completer&&C.completer.onSeen&&typeof C.completer.onSeen=="function"&&(C.completer.onSeen(this.editor,C),this.hasSeen.add(C))},k.prototype.$onPopupChange=function(C){if(this.inlineRenderer&&this.inlineEnabled){var S=C?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(S),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},k.prototype.$updateGhostText=function(C){var S=this.base.row,N=this.base.column,L=this.editor.getCursorPosition().column,A=this.editor.session.getLine(S).slice(N,L);this.inlineRenderer.show(this.editor,C,A)?this.$seen(C):this.inlineRenderer.hide()},k.prototype.$onPopupRender=function(){var C=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var S=this.popup.getFirstVisibleRow();S<=this.popup.getLastVisibleRow();S++){var N=this.popup.getData(S);N&&(!C||N.hideInlinePreview)&&this.$seen(N)}},k.prototype.$onPopupShow=function(C){this.$onPopupChange(C),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},k.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var C=this.editor.container.parentNode,S=[];C;)S.push(C),C.addEventListener("scroll",this.onLayoutChange,{passive:!0}),C=C.parentNode;this.$elements=S}},k.prototype.unObserveLayoutChanges=function(){var C=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(S){S.removeEventListener("scroll",C.onLayoutChange,{passive:!0})}),this.$elements=null},k.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},k.prototype.$updatePopupPosition=function(){var C=this.editor,S=C.renderer,N=S.layerConfig.lineHeight,L=S.$cursorLayer.getPixelPosition(this.base,!0);L.left-=this.popup.getTextLeftOffset();var A=C.container.getBoundingClientRect();L.top+=A.top-S.layerConfig.offset,L.left+=A.left-C.renderer.scrollLeft,L.left+=S.gutterWidth;var $={top:L.top,left:L.left};S.$ghostText&&S.$ghostTextWidget&&this.base.row===S.$ghostText.position.row&&($.top+=S.$ghostTextWidget.el.offsetHeight);var O=C.container.getBoundingClientRect().bottom-N,B=O<$.top?{top:O,left:$.left}:$;this.popup.tryShow(B,N,"bottom")||this.popup.tryShow(L,N,"top")||this.popup.show(L,N)},k.prototype.openPopup=function(C,S,N){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var L=this.popup.getRow(),A=this.popup.data[L];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:d(this.popup.getRow()),inline:this.inlineEnabled}),C.keyBinding.addKeyboardHandler(this.keyboardHandler);var $;this.stickySelection&&($=this.popup.data.indexOf(A)),(!$||$===-1)&&($=0),this.popup.setRow(this.autoSelect?$:-1),$===L&&A!==this.completions.filtered[$]&&this.$onPopupChange();var O=this.inlineRenderer&&this.inlineEnabled;if($===L&&O){var B=this.popup.getData(this.popup.getRow());this.$updateGhostText(B)}N||(this.popup.setTheme(C.getTheme()),this.popup.setFontSize(C.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},k.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},k.prototype.changeListener=function(C){var S=this.editor.selection.lead;(S.row!=this.base.row||S.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},k.prototype.blurListener=function(C){var S=document.activeElement,N=this.editor.textInput.getElement(),L=C.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(C.relatedTarget),A=this.popup&&this.popup.container;S!=N&&S.parentNode!=A&&!L&&S!=this.tooltipNode&&C.relatedTarget!=N&&this.detach()},k.prototype.mousedownListener=function(C){this.detach()},k.prototype.mousewheelListener=function(C){this.popup&&!this.popup.isMouseOver&&this.detach()},k.prototype.mouseOutListener=function(C){this.popup.isOpen&&this.$updatePopupPosition()},k.prototype.goTo=function(C){this.popup.goTo(C)},k.prototype.insertMatch=function(C,S){if(C||(C=this.popup.getData(this.popup.getRow())),!C)return!1;if(C.value==="")return this.detach();var N=this.completions,L=this.getCompletionProvider().insertMatch(this.editor,C,N.filterText,S);return this.completions==N&&this.detach(),L},k.prototype.showPopup=function(C,S){this.editor&&this.detach(),this.activated=!0,this.editor=C,C.completer!=this&&(C.completer&&C.completer.detach(),C.completer=this),C.on("changeSelection",this.changeListener),C.on("blur",this.blurListener),C.on("mousedown",this.mousedownListener),C.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,S)},k.prototype.getCompletionProvider=function(C){return this.completionProvider||(this.completionProvider=new x(C)),this.completionProvider},k.prototype.gatherCompletions=function(C,S){return this.getCompletionProvider().gatherCompletions(C,S)},k.prototype.updateCompletions=function(C,S){if(C&&this.base&&this.completions){var L=this.editor.getCursorPosition(),A=this.editor.session.getTextRange({start:this.base,end:L});if(A==this.completions.filterText)return;if(this.completions.setFilter(A),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==A&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,A,C);return}if(S&&S.matches){var L=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(L.row,L.column),this.base.$insertRight=!0,this.completions=new R(S.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",C)}var N=this.editor.getSession(),L=this.editor.getCursorPosition(),A=f.getCompletionPrefix(this.editor);this.base=N.doc.createAnchor(L.row,L.column-A.length),this.base.$insertRight=!0;var $={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:A,pos:L}).provideCompletions(this.editor,$,(function(O,B,z){var F=B.filtered,V=f.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),z){if(!F.length){var U=!this.autoShown&&this.emptyMessage;if(typeof U=="function"&&(U=this.emptyMessage(V)),U){var q=[{caption:U,value:""}];this.completions=new R(q),this.openPopup(this.editor,V,C),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(F.length==1&&F[0].value==V&&!F[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&F.length==1)return this.insertMatch(F[0])}this.completions=!z&&this.showLoadingState?new R(k.completionsForLoading.concat(F),B.filterText):B,this.openPopup(this.editor,V,C),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!z)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},k.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},k.prototype.updateDocTooltip=function(){var C=this.popup,S=this.completions&&this.completions.filtered,N=S&&(S[C.getHoveredRow()]||S[C.getRow()]),L=null;if(!N||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var A=this.editor.completers.length,$=0;$<A;$++){var O=this.editor.completers[$];if(O.getDocTooltip&&N.completerId===O.id){L=O.getDocTooltip(N);break}}if(!L&&typeof N!="string"&&(L=N),typeof L=="string"&&(L={docText:L}),!L||!(L.docHTML||L.docText))return this.hideDocTooltip();this.showDocTooltip(L)},k.prototype.showDocTooltip=function(C){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var S=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(S.isDark?"ace_dark ":"")+(S.cssClass||"");var N=this.tooltipNode;C.docHTML?N.innerHTML=C.docHTML:C.docText&&(N.textContent=C.docText),N.parentNode||this.popup.container.appendChild(this.tooltipNode);var L=this.popup,A=L.container.getBoundingClientRect(),$=400,O=300,B=L.renderer.scrollBar.width||10,z=A.left,F=window.innerWidth-A.right-B,V=L.isTopdown?A.top:window.innerHeight-B-A.bottom,U=[Math.min(F/$,1),Math.min(z/$,1),Math.min(V/O*.9)],q=Math.max.apply(Math,U),K=N.style;K.display="block",q==U[0]?(K.left=A.right+1+"px",K.right="",K.maxWidth=$*q+"px",K.top=A.top+"px",K.bottom="",K.maxHeight=Math.min(window.innerHeight-B-A.top,O)+"px"):q==U[1]?(K.right=window.innerWidth-A.left+"px",K.left="",K.maxWidth=$*q+"px",K.top=A.top+"px",K.bottom="",K.maxHeight=Math.min(window.innerHeight-B-A.top,O)+"px"):q==U[2]&&(K.left=window.innerWidth-A.left+"px",K.maxWidth=Math.min($,window.innerWidth)+"px",L.isTopdown?(K.top=A.bottom+"px",K.left=A.left+"px",K.right="",K.bottom="",K.maxHeight=Math.min(window.innerHeight-B-A.bottom,O)+"px"):(K.top=L.container.offsetTop-N.offsetHeight+"px",K.left=A.left+"px",K.right="",K.bottom="",K.maxHeight=Math.min(L.container.offsetTop,O)+"px"))},k.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var C=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==C&&this.editor.focus(),this.tooltipNode=null,C.parentNode&&C.parentNode.removeChild(C)}},k.prototype.onTooltipClick=function(C){for(var S=C.target;S&&S!=this.tooltipNode;){if(S.nodeName=="A"&&S.href){S.rel="noreferrer",S.target="_blank";break}S=S.parentNode}},k.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var C=this.popup.container;C&&C.parentNode&&C.parentNode.removeChild(C)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",v),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},k.for=function(C){return C.completer instanceof k||(C.completer&&(C.completer.destroy(),C.completer=null),u.get("sharedPopups")?(k.$sharedInstance||(k.$sharedInstance=new k),C.completer=k.$sharedInstance):(C.completer=new k,C.once("destroy",v))),C.completer},k}();T.prototype.commands={Up:function(k){k.completer.goTo("up")},Down:function(k){k.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(k){k.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(k){k.completer.goTo("end")},Esc:function(k){k.completer.detach()},Return:function(k){return k.completer.insertMatch()},"Shift-Return":function(k){k.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(k){var C=k.completer.insertMatch();if(!C&&!k.tabstopManager)k.completer.goTo("down");else return C},Backspace:function(k){k.execCommand("backspace");var C=f.getCompletionPrefix(k);!C&&k.completer&&k.completer.detach()},PageUp:function(k){k.completer.popup.gotoPageUp()},PageDown:function(k){k.completer.popup.gotoPageDown()}},T.startCommand={name:"startAutocomplete",exec:function(k,C){var S=T.for(k);S.autoInsert=!1,S.autoSelect=!0,S.autoShown=!1,S.showPopup(k,C),S.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var x=function(){function k(C){this.initialPosition=C,this.active=!0}return k.prototype.insertByIndex=function(C,S,N){return!this.completions||!this.completions.filtered?!1:this.insertMatch(C,this.completions.filtered[S],N)},k.prototype.insertMatch=function(C,S,N){if(!S)return!1;if(C.startOperation({command:{name:"insertMatch"}}),S.completer&&S.completer.insertMatch)S.completer.insertMatch(C,S);else{if(!this.completions)return!1;var L=this.completions.filterText.length,A=0;if(S.range&&S.range.start.row===S.range.end.row&&(L-=this.initialPosition.prefix.length,L+=this.initialPosition.pos.column-S.range.start.column,A+=S.range.end.column-this.initialPosition.pos.column),L||A){var $;C.selection.getAllRanges?$=C.selection.getAllRanges():$=[C.getSelectionRange()];for(var O=0,B;B=$[O];O++)B.start.column-=L,B.end.column+=A,C.session.remove(B)}S.snippet?o.insertSnippet(C,S.snippet):this.$insertString(C,S),S.completer&&S.completer.onInsert&&typeof S.completer.onInsert=="function"&&S.completer.onInsert(C,S),S.command&&S.command==="startAutocomplete"&&C.execCommand(S.command)}return C.endOperation(),!0},k.prototype.$insertString=function(C,S){var N=S.value||S;C.execCommand("insertstring",N)},k.prototype.gatherCompletions=function(C,S){var N=C.getSession(),L=C.getCursorPosition(),A=f.getCompletionPrefix(C),$=[];this.completers=C.completers;var O=C.completers.length;return C.completers.forEach(function(B,z){B.getCompletions(C,N,L,A,function(F,V){B.hideInlinePreview&&(V=V.map(function(U){return Object.assign(U,{hideInlinePreview:B.hideInlinePreview})})),!F&&V&&($=$.concat(V)),S(null,{prefix:f.getCompletionPrefix(C),matches:$,finished:--O===0})})}),!0},k.prototype.provideCompletions=function(C,S,N){var L=(function(B){var z=B.prefix,F=B.matches;this.completions=new R(F),S.exactMatch&&(this.completions.exactMatch=!0),S.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(z),(B.finished||this.completions.filtered.length)&&N(null,this.completions,B.finished)}).bind(this),A=!0,$=null;if(this.gatherCompletions(C,(function(B,z){if(this.active){B&&(N(B,[],!0),this.detach());var F=z.prefix;if(F.indexOf(z.prefix)===0){if(A){$=z;return}L(z)}}}).bind(this)),A=!1,$){var O=$;$=null,L(O)}},k.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(C){typeof C.cancel=="function"&&C.cancel()})},k}(),R=function(){function k(C,S){this.all=C,this.filtered=C,this.filterText=S||"",this.exactMatch=!1,this.ignoreCaption=!1}return k.prototype.setFilter=function(C){if(C.length>this.filterText&&C.lastIndexOf(this.filterText,0)===0)var S=this.filtered;else var S=this.all;this.filterText=C,S=this.filterCompletions(S,this.filterText),S=S.sort(function(L,A){return A.exactMatch-L.exactMatch||A.$score-L.$score||(L.caption||L.value).localeCompare(A.caption||A.value)});var N=null;S=S.filter(function(L){var A=L.snippet||L.caption||L.value;return A===N?!1:(N=A,!0)}),this.filtered=S},k.prototype.filterCompletions=function(C,S){var N=[],L=S.toUpperCase(),A=S.toLowerCase();e:for(var $=0,O;O=C[$];$++){if(O.skipFilter){O.$score=O.score,N.push(O);continue}var B=!this.ignoreCaption&&O.caption||O.value||O.snippet;if(B){var z=-1,F=0,V=0,U,q;if(this.exactMatch){if(S!==B.substr(0,S.length))continue e}else{var K=B.toLowerCase().indexOf(A);if(K>-1)V=K;else for(var Q=0;Q<S.length;Q++){var X=B.indexOf(A[Q],z+1),te=B.indexOf(L[Q],z+1);if(U=X>=0&&(te<0||X<te)?X:te,U<0)continue e;q=U-z-1,q>0&&(z===-1&&(V+=10),V+=q,F=F|1<<Q),z=U}}O.matchMask=F,O.exactMatch=V?0:1,O.$score=(O.score||0)-V,N.push(O)}}return N},k}();a.Autocomplete=T,a.CompletionProvider=x,a.FilteredList=R}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(i,a,w){var g=i("../range").Range,y=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function b(f,c){var s=f.getTextRange(g.fromPoints({row:0,column:0},c));return s.split(y).length-1}function d(f,c){var s=b(f,c),o=f.getValue().split(y),u=Object.create(null),h=o[s];return o.forEach(function(m,v){if(!(!m||m===h)){var T=Math.abs(s-v),x=o.length-T;u[m]?u[m]=Math.max(x,u[m]):u[m]=x}}),u}a.getCompletions=function(f,c,s,o,u){var h=d(c,s),m=Object.keys(h);u(null,m.map(function(v){return{caption:v,value:v,score:h[v],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(i,a,w){var g=i("../snippets").snippetManager,y=i("../autocomplete").Autocomplete,b=i("../config"),d=i("../lib/lang"),f=i("../autocomplete/util"),c=i("../autocomplete/text_completer"),s={getCompletions:function(L,A,$,O,B){if(A.$mode.completer)return A.$mode.completer.getCompletions(L,A,$,O,B);var z=L.session.getState($.row),F=A.$mode.getCompletions(z,A,$,O);F=F.map(function(V){return V.completerId=s.id,V}),B(null,F)},id:"keywordCompleter"},o=function(L){var A={};return L.replace(/\${(\d+)(:(.*?))?}/g,function($,O,B,z){return A[O]=z||""}).replace(/\$(\d+?)/g,function($,O){return A[O]})},u={getCompletions:function(L,A,$,O,B){var z=[],F=A.getTokenAt($.row,$.column);F&&F.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?z.push("html-tag"):z=g.getActiveScopes(L);var V=g.snippetMap,U=[];z.forEach(function(q){for(var K=V[q]||[],Q=K.length;Q--;){var X=K[Q],te=X.name||X.tabTrigger;te&&U.push({caption:te,snippet:X.content,meta:X.tabTrigger&&!X.name?X.tabTrigger+"⇥ ":"snippet",completerId:u.id})}},this),B(null,U)},getDocTooltip:function(L){L.snippet&&!L.docHTML&&(L.docHTML=["<b>",d.escapeHTML(L.caption),"</b>","<hr></hr>",d.escapeHTML(o(L.snippet))].join(""))},id:"snippetCompleter"},h=[u,c,s];a.setCompleters=function(L){h.length=0,L&&h.push.apply(h,L)},a.addCompleter=function(L){h.push(L)},a.textCompleter=c,a.keyWordCompleter=s,a.snippetCompleter=u;var m={name:"expandSnippet",exec:function(L){return g.expandWithTab(L)},bindKey:"Tab"},v=function(L,A){T(A.session.$mode)},T=function(L){typeof L=="string"&&(L=b.$modes[L]),L&&(g.files||(g.files={}),x(L.$id,L.snippetFileId),L.modes&&L.modes.forEach(T))},x=function(L,A){!A||!L||g.files[L]||(g.files[L]={},b.loadModule(A,function($){$&&(g.files[L]=$,!$.snippets&&$.snippetText&&($.snippets=g.parseSnippetFile($.snippetText)),g.register($.snippets||[],$.scope),$.includeScopes&&(g.snippetMap[$.scope].includeScopes=$.includeScopes,$.includeScopes.forEach(function(O){T("ace/mode/"+O)})))}))},R=function(L){var A=L.editor,$=A.completer&&A.completer.activated;if(L.command.name==="backspace")$&&!f.getCompletionPrefix(A)&&A.completer.detach();else if(L.command.name==="insertstring"&&!$){k=L;var O=L.editor.$liveAutocompletionDelay;O?C.delay(O):S(L)}},k,C=d.delayedCall(function(){S(k)},0),S=function(L){var A=L.editor,$=f.getCompletionPrefix(A),O=L.args,B=f.triggerAutocomplete(A,O);if($&&$.length>=A.$liveAutocompletionThreshold||B){var z=y.for(A);z.autoShown=!0,z.showPopup(A)}},N=i("../editor").Editor;i("../config").defineOptions(N.prototype,"editor",{enableBasicAutocompletion:{set:function(L){L?(this.completers||(this.completers=Array.isArray(L)?L:h),this.commands.addCommand(y.startCommand)):this.commands.removeCommand(y.startCommand)},value:!1},enableLiveAutocompletion:{set:function(L){L?(this.completers||(this.completers=Array.isArray(L)?L:h),this.commands.on("afterExec",R)):this.commands.off("afterExec",R)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(L){L?(this.commands.addCommand(m),this.on("changeMode",v),v(null,this)):(this.commands.removeCommand(m),this.off("changeMode",v))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(i){e&&(e.exports=i)})}()}(extLanguage_tools)),extLanguage_tools.exports}requireExtLanguage_tools();var modeJavascript={exports:{}},hasRequiredModeJavascript;function requireModeJavascript(){return hasRequiredModeJavascript||(hasRequiredModeJavascript=1,function(e,n){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,a,w){var g=i("../lib/oop"),y=i("./text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},b.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};g.inherits(b,y),b.getTagRule=function(d){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},b.getStartRule=function(d){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:d}},b.getEndRule=function(d){return{token:"comment.doc",regex:"\\*\\/",next:d}},a.JsDocCommentHighlightRules=b}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(i,a,w){var g=i("../lib/oop"),y=i("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,b=i("./text_highlight_rules").TextHighlightRules,d="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",f=function(o){var u={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},h=this.createKeywordMapper(u,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",v="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",T="(function)(\\s*)(\\*?)",x={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(u).join("|")+"\\b)"+d+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),s("no_regex"),x,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+d+")(\\s*)(=)(\\s*)"+T+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+d+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+d+")(\\s*)(:)(\\s*)"+T+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+T+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:h,regex:d},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:T+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:d},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),s("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[s("function_arguments"),{token:"variable.parameter",regex:d},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!o||!o.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(R,k,C){if(this.next=R=="{"?this.nextState:"",R=="{"&&C.length)C.unshift("start",k);else if(R=="}"&&C.length&&(C.shift(),this.next=C.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return R=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:v},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+d+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!o||o.jsx!=!1)&&c.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};g.inherits(f,b);function c(){var o=d.replace("\\d","\\d\\-"),u={onMatch:function(m,v,T){var x=m.charAt(1)=="/"?2:1;return x==1?(v!=this.nextState?T.unshift(this.next,this.nextState,0):T.unshift(this.next),T[2]++):x==2&&v==this.nextState&&(T[1]--,(!T[1]||T[1]<0)&&(T.shift(),T.shift())),[{type:"meta.tag.punctuation."+(x==1?"":"end-")+"tag-open.xml",value:m.slice(0,x)},{type:"meta.tag.tag-name.xml",value:m.substr(x)}]},regex:"</?(?:"+o+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(u);var h={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[h,u,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,v,T){return v==T[0]&&T.shift(),m.length==2&&(T[0]==this.nextState&&T[1]--,(!T[1]||T[1]<0)&&T.splice(0,2)),this.next=T[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},h,s("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:o},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},u],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function s(o){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:o||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:o||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}a.JavaScriptHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(i,a,w){var g=i("../range").Range,y=function(){};(function(){this.checkOutdent=function(b,d){return/^\s+$/.test(b)?/^\s*\}/.test(d):!1},this.autoOutdent=function(b,d){var f=b.getLine(d),c=f.match(/^(\s*\})/);if(!c)return 0;var s=c[1].length,o=b.findMatchingBracket({row:d,column:s});if(!o||o.row==d)return 0;var u=this.$getIndent(b.getLine(o.row));b.replace(new g(d,0,d,s-1),u)},this.$getIndent=function(b){return b.match(/^\s*/)[0]}}).call(y.prototype),a.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(i,a,w){var g=i("../../lib/oop"),y=i("../behaviour").Behaviour,b=i("../../token_iterator").TokenIterator;function d(c,s){return c&&c.type.lastIndexOf(s+".xml")>-1}var f=function(){this.add("string_dquotes","insertion",function(c,s,o,u,h){if(h=='"'||h=="'"){var m=h,v=u.doc.getTextRange(o.getSelectionRange());if(v!==""&&v!=="'"&&v!='"'&&o.getWrapBehavioursEnabled())return{text:m+v+m,selection:!1};var T=o.getCursorPosition(),x=u.doc.getLine(T.row),R=x.substring(T.column,T.column+1),k=new b(u,T.row,T.column),C=k.getCurrentToken();if(R==m&&(d(C,"attribute-value")||d(C,"string")))return{text:"",selection:[1,1]};if(C||(C=k.stepBackward()),!C)return;for(;d(C,"tag-whitespace")||d(C,"whitespace");)C=k.stepBackward();var S=!R||R.match(/\s/);if(d(C,"attribute-equals")&&(S||R==">")||d(C,"decl-attribute-equals")&&(S||R=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,s,o,u,h){var m=u.doc.getTextRange(h);if(!h.isMultiLine()&&(m=='"'||m=="'")){var v=u.doc.getLine(h.start.row),T=v.substring(h.start.column+1,h.start.column+2);if(T==m)return h.end.column++,h}}),this.add("autoclosing","insertion",function(c,s,o,u,h){if(h==">"){var m=o.getSelectionRange().start,v=new b(u,m.row,m.column),T=v.getCurrentToken()||v.stepBackward();if(!T||!(d(T,"tag-name")||d(T,"tag-whitespace")||d(T,"attribute-name")||d(T,"attribute-equals")||d(T,"attribute-value"))||d(T,"reference.attribute-value"))return;if(d(T,"attribute-value")){var x=v.getCurrentTokenColumn()+T.value.length;if(m.column<x)return;if(m.column==x){var R=v.stepForward();if(R&&d(R,"attribute-value"))return;v.stepBackward()}}if(/^\s*>/.test(u.getLine(m.row).slice(m.column)))return;for(;!d(T,"tag-name");)if(T=v.stepBackward(),T.value=="<"){T=v.stepForward();break}var k=v.getCurrentTokenRow(),C=v.getCurrentTokenColumn();if(d(v.stepBackward(),"end-tag-open"))return;var S=T.value;return k==m.row&&(S=S.substring(0,m.column-C)),this.voidElements&&this.voidElements.hasOwnProperty(S.toLowerCase())?void 0:{text:"></"+S+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,s,o,u,h){if(h==`
`){var m=o.getCursorPosition(),v=u.getLine(m.row),T=new b(u,m.row,m.column),x=T.getCurrentToken();if(d(x,"")&&x.type.indexOf("tag-close")!==-1){if(x.value=="/>")return;for(;x&&x.type.indexOf("tag-name")===-1;)x=T.stepBackward();if(!x)return;var R=x.value,k=T.getCurrentTokenRow();if(x=T.stepBackward(),!x||x.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[R]||!this.voidElements){var C=u.getTokenAt(m.row,m.column+1),v=u.getLine(k),S=this.$getIndent(v),N=S+u.getTabString();return C&&C.value==="</"?{text:`
`+N+`
`+S,selection:[1,N.length,1,N.length]}:{text:`
`+N}}}}})};g.inherits(f,y),a.XmlBehaviour=f}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(i,a,w){var g=i("../../lib/oop"),y=i("../../token_iterator").TokenIterator,b=i("../behaviour/cstyle").CstyleBehaviour,d=i("../behaviour/xml").XmlBehaviour,f=function(){var c=new d({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(c),this.inherit(b),this.add("autoclosing-fragment","insertion",function(s,o,u,h,m){if(m==">"){var v=u.getSelectionRange().start,T=new y(h,v.row,v.column),x=T.getCurrentToken()||T.stepBackward();if(!x)return;if(x.value=="<")return{text:"></>",selection:[1,1]}}})};g.inherits(f,b),a.JavaScriptBehaviour=f}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(i,a,w){var g=i("../../lib/oop"),y=i("../../range").Range,b=i("./fold_mode").FoldMode,d=a.FoldMode=function(s,o){b.call(this),this.voidElements=s||{},this.optionalEndTags=g.mixin({},this.voidElements),o&&g.mixin(this.optionalEndTags,o)};g.inherits(d,b);var f=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(s,o){return s&&s.type&&s.type.lastIndexOf(o+".xml")>-1}(function(){this.getFoldWidget=function(s,o,u){var h=this._getFirstTagInLine(s,u);return h?h.closing||!h.tagName&&h.selfClosing?o==="markbeginend"?"end":"":!h.tagName||h.selfClosing||this.voidElements.hasOwnProperty(h.tagName.toLowerCase())||this._findEndTagInLine(s,u,h.tagName,h.end.column)?"":"start":this.getCommentFoldWidget(s,u)},this.getCommentFoldWidget=function(s,o){return/comment/.test(s.getState(o))&&/<!-/.test(s.getLine(o))?"start":""},this._getFirstTagInLine=function(s,o){for(var u=s.getTokens(o),h=new f,m=0;m<u.length;m++){var v=u[m];if(c(v,"tag-open")){if(h.end.column=h.start.column+v.value.length,h.closing=c(v,"end-tag-open"),v=u[++m],!v)return null;if(h.tagName=v.value,v.value===""){if(v=u[++m],!v)return null;h.tagName=v.value}for(h.end.column+=v.value.length,m++;m<u.length;m++)if(v=u[m],h.end.column+=v.value.length,c(v,"tag-close")){h.selfClosing=v.value=="/>";break}return h}else if(c(v,"tag-close"))return h.selfClosing=v.value=="/>",h;h.start.column+=v.value.length}return null},this._findEndTagInLine=function(s,o,u,h){for(var m=s.getTokens(o),v=0,T=0;T<m.length;T++){var x=m[T];if(v+=x.value.length,!(v<h-1)&&c(x,"end-tag-open")&&(x=m[T+1],c(x,"tag-name")&&x.value===""&&(x=m[T+2]),x&&x.value==u))return!0}return!1},this.getFoldWidgetRange=function(s,o,u){var h=this._getFirstTagInLine(s,u);if(!h)return this.getCommentFoldWidget(s,u)&&s.getCommentFoldRange(u,s.getLine(u).length);var m=s.getMatchingTags({row:u,column:0});if(m)return new y(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(d.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(i,a,w){var g=i("../../lib/oop"),y=i("../../range").Range,b=i("./fold_mode").FoldMode,d=a.FoldMode=function(f){f&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+f.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+f.end)))};g.inherits(d,b),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(f,c,s){var o=f.getLine(s);if(this.singleLineBlockCommentRe.test(o)&&!this.startRegionRe.test(o)&&!this.tripleStarBlockCommentRe.test(o))return"";var u=this._getFoldWidgetBase(f,c,s);return!u&&this.startRegionRe.test(o)?"start":u},this.getFoldWidgetRange=function(f,c,s,o){var u=f.getLine(s);if(this.startRegionRe.test(u))return this.getCommentRegionBlock(f,u,s);var v=u.match(this.foldingStartMarker);if(v){var h=v.index;if(v[1])return this.openingBracketBlock(f,v[1],s,h);var m=f.getCommentFoldRange(s,h+v[0].length,1);return m&&!m.isMultiLine()&&(o?m=this.getSectionRange(f,s):c!="all"&&(m=null)),m}if(c!=="markbegin"){var v=u.match(this.foldingStopMarker);if(v){var h=v.index+v[0].length;return v[1]?this.closingBracketBlock(f,v[1],s,h):f.getCommentFoldRange(s,h,-1)}}},this.getSectionRange=function(f,c){var s=f.getLine(c),o=s.search(/\S/),u=c,h=s.length;c=c+1;for(var m=c,v=f.getLength();++c<v;){s=f.getLine(c);var T=s.search(/\S/);if(T!==-1){if(o>T)break;var x=this.getFoldWidgetRange(f,"all",c);if(x){if(x.start.row<=u)break;if(x.isMultiLine())c=x.end.row;else if(o==T)break}m=c}}return new y(u,h,m,f.getLine(m).length)},this.getCommentRegionBlock=function(f,c,s){for(var o=c.search(/\s*$/),u=f.getLength(),h=s,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++s<u;){c=f.getLine(s);var T=m.exec(c);if(T&&(T[1]?v--:v++,!v))break}var x=s;if(x>h)return new y(h,o,x,c.length)}}).call(d.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(i,a,w){var g=i("../../lib/oop"),y=i("./xml").FoldMode,b=i("./cstyle").FoldMode,d=a.FoldMode=function(f){f&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+f.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+f.end))),this.xmlFoldMode=new y};g.inherits(d,b),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(f,c,s){var o=this.getFoldWidgetBase(f,c,s);return o||this.xmlFoldMode.getFoldWidget(f,c,s)},this.getFoldWidgetRange=function(f,c,s,o){var u=this.getFoldWidgetRangeBase(f,c,s,o);return u||this.xmlFoldMode.getFoldWidgetRange(f,c,s)}}).call(d.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(i,a,w){var g=i("../lib/oop"),y=i("./text").Mode,b=i("./javascript_highlight_rules").JavaScriptHighlightRules,d=i("./matching_brace_outdent").MatchingBraceOutdent,f=i("../worker/worker_client").WorkerClient,c=i("./behaviour/javascript").JavaScriptBehaviour,s=i("./folding/javascript").FoldMode,o=function(){this.HighlightRules=b,this.$outdent=new d,this.$behaviour=new c,this.foldingRules=new s};g.inherits(o,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(u,h,m){var v=this.$getIndent(h),T=this.getTokenizer().getLineTokens(h,u),x=T.tokens,R=T.state;if(x.length&&x[x.length-1].type=="comment")return v;if(u=="start"||u=="no_regex"){var k=h.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);k&&(v+=m)}else if(u=="doc-start"&&(R=="start"||R=="no_regex"))return"";return v},this.checkOutdent=function(u,h,m){return this.$outdent.checkOutdent(h,m)},this.autoOutdent=function(u,h,m){this.$outdent.autoOutdent(h,m)},this.createWorker=function(u){var h=new f(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return h.attachToDocument(u.getDocument()),h.on("annotate",function(m){u.setAnnotations(m.data)}),h.on("terminate",function(){u.clearAnnotations()}),h},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(o.prototype),a.Mode=o}),function(){ace.require(["ace/mode/javascript"],function(i){e&&(e.exports=i)})}()}(modeJavascript)),modeJavascript.exports}requireModeJavascript();var modePython={exports:{}},hasRequiredModePython;function requireModePython(){return hasRequiredModePython||(hasRequiredModePython=1,function(e,n){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,a,w){var g=i("../lib/oop"),y=i("./text_highlight_rules").TextHighlightRules,b=function(){var d="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",f="True|False|None|NotImplemented|Ellipsis|__debug__",c="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",s=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":c,"variable.language":"self|cls","constant.language":f,keyword:d},"identifier"),o="[uU]?",u="[rR]",h="[fF]",m="(?:[rR][fF]|[fF][rR])",v="(?:(?:[1-9]\\d*)|(?:0))",T="(?:0[oO]?[0-7]+)",x="(?:0[xX][\\dA-Fa-f]+)",R="(?:0[bB][01]+)",k="(?:"+v+"|"+T+"|"+x+"|"+R+")",C="(?:[eE][+-]?\\d+)",S="(?:\\.\\d+)",N="(?:\\d+)",L="(?:(?:"+N+"?"+S+")|(?:"+N+"\\.))",A="(?:(?:"+L+"|"+N+")"+C+")",$="(?:"+A+"|"+L+")",O=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:o+'"{3}',next:"qqstring3"},{token:"string",regex:o+'"(?=.)',next:"qqstring"},{token:"string",regex:o+"'{3}",next:"qstring3"},{token:"string",regex:o+"'(?=.)",next:"qstring"},{token:"string",regex:u+'"{3}',next:"rawqqstring3"},{token:"string",regex:u+'"(?=.)',next:"rawqqstring"},{token:"string",regex:u+"'{3}",next:"rawqstring3"},{token:"string",regex:u+"'(?=.)",next:"rawqstring"},{token:"string",regex:h+'"{3}',next:"fqqstring3"},{token:"string",regex:h+'"(?=.)',next:"fqqstring"},{token:"string",regex:h+"'{3}",next:"fqstring3"},{token:"string",regex:h+"'(?=.)",next:"fqstring"},{token:"string",regex:m+'"{3}',next:"rfqqstring3"},{token:"string",regex:m+'"(?=.)',next:"rfqqstring"},{token:"string",regex:m+"'{3}",next:"rfqstring3"},{token:"string",regex:m+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+$+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:$},{token:"constant.numeric",regex:k+"[lL]\\b"},{token:"constant.numeric",regex:k+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:s,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};g.inherits(b,y),a.PythonHighlightRules=b}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(i,a,w){var g=i("../../lib/oop"),y=i("./fold_mode").FoldMode,b=a.FoldMode=function(d){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+d+")(?:\\s*)(?:#.*)?$")};g.inherits(b,y),(function(){this.getFoldWidgetRange=function(d,f,c){var s=d.getLine(c),o=s.match(this.foldingStartMarker);if(o)return o[1]?this.openingBracketBlock(d,o[1],c,o.index):o[2]?this.indentationBlock(d,c,o.index+o[2].length):this.indentationBlock(d,c)}}).call(b.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(i,a,w){var g=i("../lib/oop"),y=i("./text").Mode,b=i("./python_highlight_rules").PythonHighlightRules,d=i("./folding/pythonic").FoldMode,f=i("../range").Range,c=function(){this.HighlightRules=b,this.foldingRules=new d("\\:"),this.$behaviour=this.$defaultBehaviour};g.inherits(c,y),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(o,u,h){var m=this.$getIndent(u),v=this.getTokenizer().getLineTokens(u,o),T=v.tokens;if(T.length&&T[T.length-1].type=="comment")return m;if(o=="start"){var x=u.match(/^.*[\{\(\[:]\s*$/);x&&(m+=h)}return m};var s={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(o,u,h){if(h!==`\r
`&&h!=="\r"&&h!==`
`)return!1;var m=this.getTokenizer().getLineTokens(u.trim(),o).tokens;if(!m)return!1;do var v=m.pop();while(v&&(v.type=="comment"||v.type=="text"&&v.value.match(/^\s+$/)));return v?v.type=="keyword"&&s[v.value]:!1},this.autoOutdent=function(o,u,h){h+=1;var m=this.$getIndent(u.getLine(h)),v=u.getTabString();m.slice(-v.length)==v&&u.remove(new f(h,m.length-v.length,h,m.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(c.prototype),a.Mode=c}),function(){ace.require(["ace/mode/python"],function(i){e&&(e.exports=i)})}()}(modePython)),modePython.exports}requireModePython();var themeDracula={exports:{}},hasRequiredThemeDracula;function requireThemeDracula(){return hasRequiredThemeDracula||(hasRequiredThemeDracula=1,function(e,n){ace.define("ace/theme/dracula-css",["require","exports","module"],function(i,a,w){w.exports=`/*
 * Copyright © 2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

.ace-dracula .ace_gutter {
  background: #282a36;
  color: rgb(144,145,148)
}

.ace-dracula .ace_print-margin {
  width: 1px;
  background: #44475a
}

.ace-dracula {
  background-color: #282a36;
  color: #f8f8f2
}

.ace-dracula .ace_cursor {
  color: #f8f8f0
}

.ace-dracula .ace_marker-layer .ace_selection {
  background: #44475a
}

.ace-dracula.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #282a36;
  border-radius: 2px
}

.ace-dracula .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-dracula .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #a29709
}

.ace-dracula .ace_marker-layer .ace_active-line {
  background: #44475a
}

.ace-dracula .ace_gutter-active-line {
  background-color: #44475a
}

.ace-dracula .ace_marker-layer .ace_selected-word {
  box-shadow: 0px 0px 0px 1px #a29709;
  border-radius: 3px;
}

.ace-dracula .ace_fold {
  background-color: #50fa7b;
  border-color: #f8f8f2
}

.ace-dracula .ace_keyword {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_language {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_numeric {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character.ace_escape {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_other {
  color: #bd93f9
}

.ace-dracula .ace_support.ace_function {
  color: #8be9fd
}

.ace-dracula .ace_support.ace_constant {
  color: #6be5fd
}

.ace-dracula .ace_support.ace_class {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_support.ace_type {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_storage {
  color: #ff79c6
}

.ace-dracula .ace_storage.ace_type {
  font-style: italic;
  color: #8be9fd
}

.ace-dracula .ace_invalid {
  color: #F8F8F0;
  background-color: #ff79c6
}

.ace-dracula .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #bd93f9
}

.ace-dracula .ace_string {
  color: #f1fa8c
}

.ace-dracula .ace_comment {
  color: #6272a4
}

.ace-dracula .ace_variable {
  color: #50fa7b
}

.ace-dracula .ace_variable.ace_parameter {
  font-style: italic;
  color: #ffb86c
}

.ace-dracula .ace_entity.ace_other.ace_attribute-name {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_function {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_tag {
  color: #ff79c6
}
.ace-dracula .ace_invisible {
  color: #626680;
}

.ace-dracula .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-dracula .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAADCwsK76u2xAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjYGBoAAAAhACBGFbxzQAAAABJRU5ErkJggg==") right repeat-y;
}
`}),ace.define("ace/theme/dracula",["require","exports","module","ace/theme/dracula-css","ace/lib/dom"],function(i,a,w){a.isDark=!0,a.cssClass="ace-dracula",a.cssText=i("./dracula-css"),a.$selectionColorConflict=!0;var g=i("../lib/dom");g.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/dracula"],function(i){e&&(e.exports=i)})}()}(themeDracula)),themeDracula.exports}requireThemeDracula();var themeTomorrow_night_eighties={exports:{}},hasRequiredThemeTomorrow_night_eighties;function requireThemeTomorrow_night_eighties(){return hasRequiredThemeTomorrow_night_eighties||(hasRequiredThemeTomorrow_night_eighties=1,function(e,n){ace.define("ace/theme/tomorrow_night_eighties-css",["require","exports","module"],function(i,a,w){w.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties-css","ace/lib/dom"],function(i,a,w){a.isDark=!0,a.cssClass="ace-tomorrow-night-eighties",a.cssText=i("./tomorrow_night_eighties-css");var g=i("../lib/dom");g.importCssString(a.cssText,a.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(i){e&&(e.exports=i)})}()}(themeTomorrow_night_eighties)),themeTomorrow_night_eighties.exports}requireThemeTomorrow_night_eighties();const Editor=e=>{const n=useTypedSelector(a=>a.workspace.currentLanguage),{colorMode:i}=useColorMode();return jsxRuntimeExports.jsx(AceEditor,{mode:languageToModeMap[n],theme:i==="dark"?"dracula":"tomorrow_night_eighties",fontSize:15,width:"100%",...e})},JsonDisplay=({jsonProgram:e})=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardBody,{children:[jsxRuntimeExports.jsx(Text,{children:"JSON Code:"}),jsxRuntimeExports.jsx(Box,{overflowX:"scroll",children:jsxRuntimeExports.jsx(Code,{display:"block",whiteSpace:"pre",width:"max-content",children:e})})]})});function formatProdErrorMessage$1(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function createStore(e,n,i){if(typeof e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof n=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof n=="function"&&typeof i>"u"&&(i=n,n=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(formatProdErrorMessage$1(1));return i(createStore)(e,n)}let a=e,w=n,g=new Map,y=g,b=0,d=!1;function f(){y===g&&(y=new Map,g.forEach((v,T)=>{y.set(T,v)}))}function c(){if(d)throw new Error(formatProdErrorMessage$1(3));return w}function s(v){if(typeof v!="function")throw new Error(formatProdErrorMessage$1(4));if(d)throw new Error(formatProdErrorMessage$1(5));let T=!0;f();const x=b++;return y.set(x,v),function(){if(T){if(d)throw new Error(formatProdErrorMessage$1(6));T=!1,f(),y.delete(x),g=null}}}function o(v){if(!isPlainObject$1(v))throw new Error(formatProdErrorMessage$1(7));if(typeof v.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof v.type!="string")throw new Error(formatProdErrorMessage$1(17));if(d)throw new Error(formatProdErrorMessage$1(9));try{d=!0,w=a(w,v)}finally{d=!1}return(g=y).forEach(x=>{x()}),v}function u(v){if(typeof v!="function")throw new Error(formatProdErrorMessage$1(10));a=v,o({type:actionTypes_default.REPLACE})}function h(){const v=s;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(formatProdErrorMessage$1(11));function x(){const k=T;k.next&&k.next(c())}return x(),{unsubscribe:v(x)}},[symbol_observable_default](){return this}}}return o({type:actionTypes_default.INIT}),{dispatch:o,subscribe:s,getState:c,replaceReducer:u,[symbol_observable_default]:h}}function assertReducerShape(e){Object.keys(e).forEach(n=>{const i=e[n];if(typeof i(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof i(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(e){const n=Object.keys(e),i={};for(let g=0;g<n.length;g++){const y=n[g];typeof e[y]=="function"&&(i[y]=e[y])}const a=Object.keys(i);let w;try{assertReducerShape(i)}catch(g){w=g}return function(y={},b){if(w)throw w;let d=!1;const f={};for(let c=0;c<a.length;c++){const s=a[c],o=i[s],u=y[s],h=o(u,b);if(typeof h>"u")throw b&&b.type,new Error(formatProdErrorMessage$1(14));f[s]=h,d=d||h!==u}return d=d||a.length!==Object.keys(y).length,d?f:y}}function compose(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,i)=>(...a)=>n(i(...a)))}function applyMiddleware(...e){return n=>(i,a)=>{const w=n(i,a);let g=()=>{throw new Error(formatProdErrorMessage$1(15))};const y={getState:w.getState,dispatch:(d,...f)=>g(d,...f)},b=e.map(d=>d(y));return g=compose(...b)(w.dispatch),{...w,dispatch:g}}}function isAction(e){return isPlainObject$1(e)&&"type"in e&&typeof e.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(e){return!!e&&!!e[DRAFT_STATE]}function isDraftable(e){var n;return e?isPlainObject(e)||Array.isArray(e)||!!e[DRAFTABLE]||!!((n=e.constructor)!=null&&n[DRAFTABLE])||isMap(e)||isSet(e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(e){if(!e||typeof e!="object")return!1;const n=getPrototypeOf(e);if(n===null)return!0;const i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===objectCtorString}function each(e,n){getArchtype(e)===0?Reflect.ownKeys(e).forEach(i=>{n(i,e[i],e)}):e.forEach((i,a)=>n(a,i,e))}function getArchtype(e){const n=e[DRAFT_STATE];return n?n.type_:Array.isArray(e)?1:isMap(e)?2:isSet(e)?3:0}function has(e,n){return getArchtype(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function set(e,n,i){const a=getArchtype(e);a===2?e.set(n,i):a===3?e.add(i):e[n]=i}function is(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function latest(e){return e.copy_||e.base_}function shallowCopy(e,n){if(isMap(e))return new Map(e);if(isSet(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=isPlainObject(e);if(n===!0||n==="class_only"&&!i){const a=Object.getOwnPropertyDescriptors(e);delete a[DRAFT_STATE];let w=Reflect.ownKeys(a);for(let g=0;g<w.length;g++){const y=w[g],b=a[y];b.writable===!1&&(b.writable=!0,b.configurable=!0),(b.get||b.set)&&(a[y]={configurable:!0,writable:!0,enumerable:b.enumerable,value:e[y]})}return Object.create(getPrototypeOf(e),a)}else{const a=getPrototypeOf(e);if(a!==null&&i)return{...e};const w=Object.create(a);return Object.assign(w,e)}}function freeze(e,n=!1){return isFrozen(e)||isDraft(e)||!isDraftable(e)||(getArchtype(e)>1&&(e.set=e.add=e.clear=e.delete=dontMutateFrozenCollections),Object.freeze(e),n&&Object.entries(e).forEach(([i,a])=>freeze(a,!0))),e}function dontMutateFrozenCollections(){die(2)}function isFrozen(e){return Object.isFrozen(e)}var plugins={};function getPlugin(e){const n=plugins[e];return n||die(0,e),n}var currentScope;function getCurrentScope(){return currentScope}function createScope(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(e,n){n&&(getPlugin("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}function enterScope(e){return currentScope=createScope(currentScope,e)}function revokeDraft(e){const n=e[DRAFT_STATE];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function processResult(e,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];return e!==void 0&&e!==i?(i[DRAFT_STATE].modified_&&(revokeScope(n),die(4)),isDraftable(e)&&(e=finalize(n,e),n.parent_||maybeFreeze(n,e)),n.patches_&&getPlugin("Patches").generateReplacementPatches_(i[DRAFT_STATE].base_,e,n.patches_,n.inversePatches_)):e=finalize(n,i,[]),revokeScope(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==NOTHING?e:void 0}function finalize(e,n,i){if(isFrozen(n))return n;const a=n[DRAFT_STATE];if(!a)return each(n,(w,g)=>finalizeProperty(e,a,n,w,g,i)),n;if(a.scope_!==e)return n;if(!a.modified_)return maybeFreeze(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const w=a.copy_;let g=w,y=!1;a.type_===3&&(g=new Set(w),w.clear(),y=!0),each(g,(b,d)=>finalizeProperty(e,a,w,b,d,i,y)),maybeFreeze(e,w,!1),i&&e.patches_&&getPlugin("Patches").generatePatches_(a,i,e.patches_,e.inversePatches_)}return a.copy_}function finalizeProperty(e,n,i,a,w,g,y){if(isDraft(w)){const b=g&&n&&n.type_!==3&&!has(n.assigned_,a)?g.concat(a):void 0,d=finalize(e,w,b);if(set(i,a,d),isDraft(d))e.canAutoFreeze_=!1;else return}else y&&i.add(w);if(isDraftable(w)&&!isFrozen(w)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;finalize(e,w),(!n||!n.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,a)&&maybeFreeze(e,w)}}function maybeFreeze(e,n,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(n,i)}function createProxyProxy(e,n){const i=Array.isArray(e),a={type_:i?1:0,scope_:n?n.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let w=a,g=objectTraps;i&&(w=[a],g=arrayTraps);const{revoke:y,proxy:b}=Proxy.revocable(w,g);return a.draft_=b,a.revoke_=y,b}var objectTraps={get(e,n){if(n===DRAFT_STATE)return e;const i=latest(e);if(!has(i,n))return readPropFromProto(e,i,n);const a=i[n];return e.finalized_||!isDraftable(a)?a:a===peek(e.base_,n)?(prepareCopy(e),e.copy_[n]=createProxy(a,e)):a},has(e,n){return n in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,n,i){const a=getDescriptorFromProto(latest(e),n);if(a!=null&&a.set)return a.set.call(e.draft_,i),!0;if(!e.modified_){const w=peek(latest(e),n),g=w==null?void 0:w[DRAFT_STATE];if(g&&g.base_===i)return e.copy_[n]=i,e.assigned_[n]=!1,!0;if(is(i,w)&&(i!==void 0||has(e.base_,n)))return!0;prepareCopy(e),markChanged(e)}return e.copy_[n]===i&&(i!==void 0||n in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=i,e.assigned_[n]=!0),!0},deleteProperty(e,n){return peek(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,prepareCopy(e),markChanged(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const i=latest(e),a=Reflect.getOwnPropertyDescriptor(i,n);return a&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:a.enumerable,value:i[n]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(e,n)=>{arrayTraps[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});arrayTraps.deleteProperty=function(e,n){return arrayTraps.set.call(this,e,n,void 0)};arrayTraps.set=function(e,n,i){return objectTraps.set.call(this,e[0],n,i,e[0])};function peek(e,n){const i=e[DRAFT_STATE];return(i?latest(i):e)[n]}function readPropFromProto(e,n,i){var w;const a=getDescriptorFromProto(n,i);return a?"value"in a?a.value:(w=a.get)==null?void 0:w.call(e.draft_):void 0}function getDescriptorFromProto(e,n){if(!(n in e))return;let i=getPrototypeOf(e);for(;i;){const a=Object.getOwnPropertyDescriptor(i,n);if(a)return a;i=getPrototypeOf(i)}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,i,a)=>{if(typeof n=="function"&&typeof i!="function"){const g=i;i=n;const y=this;return function(d=g,...f){return y.produce(d,c=>i.call(this,c,...f))}}typeof i!="function"&&die(6),a!==void 0&&typeof a!="function"&&die(7);let w;if(isDraftable(n)){const g=enterScope(this),y=createProxy(n,void 0);let b=!0;try{w=i(y),b=!1}finally{b?revokeScope(g):leaveScope(g)}return usePatchesInScope(g,a),processResult(w,g)}else if(!n||typeof n!="object"){if(w=i(n),w===void 0&&(w=n),w===NOTHING&&(w=void 0),this.autoFreeze_&&freeze(w,!0),a){const g=[],y=[];getPlugin("Patches").generateReplacementPatches_(n,w,g,y),a(g,y)}return w}else die(1,n)},this.produceWithPatches=(n,i)=>{if(typeof n=="function")return(y,...b)=>this.produceWithPatches(y,d=>n(d,...b));let a,w;return[this.produce(n,i,(y,b)=>{a=y,w=b}),a,w]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));const n=enterScope(this),i=createProxy(e,void 0);return i[DRAFT_STATE].isManual_=!0,leaveScope(n),i}finishDraft(e,n){const i=e&&e[DRAFT_STATE];(!i||!i.isManual_)&&die(9);const{scope_:a}=i;return usePatchesInScope(a,n),processResult(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const w=n[i];if(w.path.length===0&&w.op==="replace"){e=w.value;break}}i>-1&&(n=n.slice(i+1));const a=getPlugin("Patches").applyPatches_;return isDraft(e)?a(e,n):this.produce(e,w=>a(w,n))}};function createProxy(e,n){const i=isMap(e)?getPlugin("MapSet").proxyMap_(e,n):isSet(e)?getPlugin("MapSet").proxySet_(e,n):createProxyProxy(e,n);return(n?n.scope_:getCurrentScope()).drafts_.push(i),i}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;const n=e[DRAFT_STATE];let i;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=shallowCopy(e,n.scope_.immer_.useStrictShallowCopy_)}else i=shallowCopy(e,!0);return each(i,(a,w)=>{set(i,a,currentImpl(w))}),n&&(n.finalized_=!1),i}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function createThunkMiddleware(e){return({dispatch:i,getState:a})=>w=>g=>typeof g=="function"?g(i,a,e):w(g)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(e,n){function i(...a){if(n){let w=n(...a);if(!w)throw new Error(formatProdErrorMessage(0));return{type:e,payload:w.payload,..."meta"in w&&{meta:w.meta},..."error"in w&&{error:w.error}}}return{type:e,payload:a[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=a=>isAction(a)&&a.type===e,i}var Tuple=class Dh extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,Dh.prototype)}static get[Symbol.species](){return Dh}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new Dh(...n[0].concat(this)):new Dh(...n.concat(this))}};function freezeDraftable(e){return isDraftable(e)?produce(e,()=>{}):e}function getOrInsertComputed(e,n,i){return e.has(n)?e.get(n):e.set(n,i(n)).get(n)}function isBoolean(e){return typeof e=="boolean"}var buildGetDefaultMiddleware=()=>function(n){const{thunk:i=!0,immutableCheck:a=!0,serializableCheck:w=!0,actionCreatorCheck:g=!0}=n??{};let y=new Tuple;return i&&(isBoolean(i)?y.push(thunk):y.push(withExtraArgument(i.extraArgument))),y},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=e=>n=>{setTimeout(n,e)},autoBatchEnhancer=(e={type:"raf"})=>n=>(...i)=>{const a=n(...i);let w=!0,g=!1,y=!1;const b=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):e.type==="callback"?e.queueNotification:createQueueWithTimer(e.timeout),f=()=>{y=!1,g&&(g=!1,b.forEach(c=>c()))};return Object.assign({},a,{subscribe(c){const s=()=>w&&c(),o=a.subscribe(s);return b.add(c),()=>{o(),b.delete(c)}},dispatch(c){var s;try{return w=!((s=c==null?void 0:c.meta)!=null&&s[SHOULD_AUTOBATCH]),g=!w,g&&(y||(y=!0,d(f))),a.dispatch(c)}finally{w=!0}}})},buildGetDefaultEnhancers=e=>function(i){const{autoBatch:a=!0}=i??{};let w=new Tuple(e);return a&&w.push(autoBatchEnhancer(typeof a=="object"?a:void 0)),w};function configureStore(e){const n=buildGetDefaultMiddleware(),{reducer:i=void 0,middleware:a,devTools:w=!0,preloadedState:g=void 0,enhancers:y=void 0}=e||{};let b;if(typeof i=="function")b=i;else if(isPlainObject$1(i))b=combineReducers(i);else throw new Error(formatProdErrorMessage(1));let d;typeof a=="function"?d=a(n):d=n();let f=compose;w&&(f=composeWithDevTools({trace:!1,...typeof w=="object"&&w}));const c=applyMiddleware(...d),s=buildGetDefaultEnhancers(c);let o=typeof y=="function"?y(s):s();const u=f(...o);return createStore(b,g,u)}function executeReducerBuilderCallback(e){const n={},i=[];let a;const w={addCase(g,y){const b=typeof g=="string"?g:g.type;if(!b)throw new Error(formatProdErrorMessage(28));if(b in n)throw new Error(formatProdErrorMessage(29));return n[b]=y,w},addMatcher(g,y){return i.push({matcher:g,reducer:y}),w},addDefaultCase(g){return a=g,w}};return e(w),[n,i,a]}function isStateFunction(e){return typeof e=="function"}function createReducer(e,n){let[i,a,w]=executeReducerBuilderCallback(n),g;if(isStateFunction(e))g=()=>freezeDraftable(e());else{const b=freezeDraftable(e);g=()=>b}function y(b=g(),d){let f=[i[d.type],...a.filter(({matcher:c})=>c(d)).map(({reducer:c})=>c)];return f.filter(c=>!!c).length===0&&(f=[w]),f.reduce((c,s)=>{if(s)if(isDraft(c)){const u=s(c,d);return u===void 0?c:u}else{if(isDraftable(c))return produce(c,o=>s(o,d));{const o=s(c,d);if(o===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return o}}return c},b)}return y.getInitialState=g,y}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(e,n){return`${e}/${n}`}function buildCreateSlice({creators:e}={}){var i;const n=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[asyncThunkSymbol];return function(w){const{name:g,reducerPath:y=g}=w;if(!g)throw new Error(formatProdErrorMessage(11));const b=(typeof w.reducers=="function"?w.reducers(buildReducerCreators()):w.reducers)||{},d=Object.keys(b),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(R,k){const C=typeof R=="string"?R:R.type;if(!C)throw new Error(formatProdErrorMessage(12));if(C in f.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return f.sliceCaseReducersByType[C]=k,c},addMatcher(R,k){return f.sliceMatchers.push({matcher:R,reducer:k}),c},exposeAction(R,k){return f.actionCreators[R]=k,c},exposeCaseReducer(R,k){return f.sliceCaseReducersByName[R]=k,c}};d.forEach(R=>{const k=b[R],C={reducerName:R,type:getType(g,R),createNotation:typeof w.reducers=="function"};isAsyncThunkSliceReducerDefinition(k)?handleThunkCaseReducerDefinition(C,k,c,n):handleNormalReducerDefinition(C,k,c)});function s(){const[R={},k=[],C=void 0]=typeof w.extraReducers=="function"?executeReducerBuilderCallback(w.extraReducers):[w.extraReducers],S={...R,...f.sliceCaseReducersByType};return createReducer(w.initialState,N=>{for(let L in S)N.addCase(L,S[L]);for(let L of f.sliceMatchers)N.addMatcher(L.matcher,L.reducer);for(let L of k)N.addMatcher(L.matcher,L.reducer);C&&N.addDefaultCase(C)})}const o=R=>R,u=new Map;let h;function m(R,k){return h||(h=s()),h(R,k)}function v(){return h||(h=s()),h.getInitialState()}function T(R,k=!1){function C(N){let L=N[R];return typeof L>"u"&&k&&(L=v()),L}function S(N=o){const L=getOrInsertComputed(u,k,()=>new WeakMap);return getOrInsertComputed(L,N,()=>{const A={};for(const[$,O]of Object.entries(w.selectors??{}))A[$]=wrapSelector(O,N,v,k);return A})}return{reducerPath:R,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const x={name:g,reducer:m,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:v,...T(y),injectInto(R,{reducerPath:k,...C}={}){const S=k??y;return R.inject({reducerPath:S,reducer:m},C),{...x,...T(S,!0)}}};return x}}function wrapSelector(e,n,i,a){function w(g,...y){let b=n(g);return typeof b>"u"&&a&&(b=i()),e(b,...y)}return w.unwrapped=e,w}var createSlice=buildCreateSlice();function buildReducerCreators(){function e(n,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...i}}return e.withTypes=()=>e,{reducer(n){return Object.assign({[n.name](...i){return n(...i)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:i}},asyncThunk:e}}function handleNormalReducerDefinition({type:e,reducerName:n,createNotation:i},a,w){let g,y;if("reducer"in a){if(i&&!isCaseReducerWithPrepareDefinition(a))throw new Error(formatProdErrorMessage(17));g=a.reducer,y=a.prepare}else g=a;w.addCase(e,g).exposeCaseReducer(n,g).exposeAction(n,y?createAction(e,y):createAction(e))}function isAsyncThunkSliceReducerDefinition(e){return e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(e){return e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:e,reducerName:n},i,a,w){if(!w)throw new Error(formatProdErrorMessage(18));const{payloadCreator:g,fulfilled:y,pending:b,rejected:d,settled:f,options:c}=i,s=w(e,g,c);a.exposeAction(n,s),y&&a.addCase(s.fulfilled,y),b&&a.addCase(s.pending,b),d&&a.addCase(s.rejected,d),f&&a.addMatcher(s.settled,f),a.exposeCaseReducer(n,{fulfilled:y||noop,pending:b||noop,rejected:d||noop,settled:f||noop})}function noop(){}function formatProdErrorMessage(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const loadSamplePythonPrograms=async()=>(await __vitePreload(async()=>{const{samplePythonPrograms:e}=await import("./index-CxR4alL1.js");return{samplePythonPrograms:e}},[])).samplePythonPrograms,loadSampleSourceThreePrograms=async()=>(await __vitePreload(async()=>{const{sampleSourceThreePrograms:e}=await import("./index-OcF0Dhf2.js");return{sampleSourceThreePrograms:e}},[])).sampleSourceThreePrograms;let samplePythonPrograms,sampleSourceThreePrograms;const sampleProgramLoader=async e=>{switch(e){case Languages.PYTHON:return samplePythonPrograms===void 0&&(samplePythonPrograms=await loadSamplePythonPrograms()),samplePythonPrograms;case Languages.SOURCE_THREE_INTERPRETER:return sampleSourceThreePrograms===void 0&&(sampleSourceThreePrograms=await loadSampleSourceThreePrograms()),sampleSourceThreePrograms}},defaultPrograms=Object.freeze({[Languages.PYTHON]:`# Write your Python program here!
`,[Languages.SOURCE_THREE_INTERPRETER]:`// Write your Source §3 program here!
`}),initialState={currentLanguage:Languages.PYTHON,editorValue:{...defaultPrograms}},WorkspaceSlice=createSlice({name:"workspace",initialState,reducers:{setCurrentLanguage:(e,n)=>{e.currentLanguage=n.payload},setEditorValue:(e,n)=>{e.editorValue[e.currentLanguage]=n.payload},resetEditorValues:(e,n)=>{const i=n.payload;i!==void 0?e.editorValue[i]=defaultPrograms[i]:e.editorValue={...defaultPrograms}}}}),WorkspaceActions=WorkspaceSlice.actions,workspace=WorkspaceSlice.reducer,{setCurrentLanguage:setCurrentLanguage$1}=WorkspaceActions,LanguageSelector=()=>{const e=useTypedSelector(i=>i.workspace.currentLanguage),n=useTypedDispatch();return jsxRuntimeExports.jsx(Select,{size:"sm",variant:"filled",width:"fit-content",name:"languageMode",id:"languagemode",value:e,onChange:i=>n(setCurrentLanguage$1(i.target.value)),children:supportedLanguages.map(i=>jsxRuntimeExports.jsx("option",{value:i,children:i},i))})},UserGuide=()=>{const{isOpen:e,onOpen:n,onClose:i}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"link",onClick:n,fontWeight:"normal",children:"View User Guide"}),jsxRuntimeExports.jsxs(Modal,{isOpen:e,onClose:i,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:"User Guide"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{paddingBottom:0,children:jsxRuntimeExports.jsxs(OrderedList,{children:[jsxRuntimeExports.jsxs(ListItem,{children:["Connect your SPIKE Prime to your computer via USB.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," You can also connect via Bluetooth but reliability will not be guaranteed."]})]}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the appropriate language mode:"," ",Languages.SOURCE_THREE_INTERPRETER," or ",Languages.PYTHON]}),jsxRuntimeExports.jsx(ListItem,{children:'After finishing your code, click the "Run on Device" button.'}),jsxRuntimeExports.jsxs(ListItem,{children:["Select the correct port from the pop-up that is shown.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("em",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," SEKER only supports Chromium-based browsers version 89 and onwards. If you do not see a pop-up, this means your browser is not supported."]})]}),jsxRuntimeExports.jsx(ListItem,{children:"The SPIKE Prime should start running your code."})]})}),jsxRuntimeExports.jsx(ModalFooter,{paddingTop:0})]})]})]})},ArrowForwardIcon=createIcon({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),SampleProgramListItem=({label:e,onClick:n})=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"link",fontWeight:"normal",width:"full",iconSpacing:"auto",rightIcon:jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{children:"Load"}),jsxRuntimeExports.jsx(ArrowForwardIcon,{})]}),onClick:n,children:e})}),{setEditorValue:setEditorValue$1}=WorkspaceActions,SampleProgramSidebar=()=>{const[e,n]=reactExports.useState(),i=useTypedSelector(w=>w.workspace.currentLanguage),a=useTypedDispatch();return reactExports.useEffect(()=>{n(void 0),sampleProgramLoader(i).then(n)},[i]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Sample ",i," Programs"]}),jsxRuntimeExports.jsx(Text,{children:"Click on a program below to load them into the editor."})]})}),jsxRuntimeExports.jsx(CardBody,{paddingTop:0,children:jsxRuntimeExports.jsx(Stack,{divider:jsxRuntimeExports.jsx(StackDivider,{}),children:e===void 0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"Loading sample programs…"}):e.length==0?jsxRuntimeExports.jsx(Text,{fontStyle:"italic",color:"gray",children:"No sample programs found."}):e.map((w,g)=>jsxRuntimeExports.jsx(SampleProgramListItem,{label:`Sample Program ${g+1}`,onClick:()=>a(setEditorValue$1(w))},g))})})]})};var sicp={},createContext={},constants={},types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Variant=e.Chapter=e.ErrorSeverity=e.ErrorType=void 0,function(n){n.SYNTAX="Syntax",n.TYPE="Type",n.RUNTIME="Runtime"}(e.ErrorType||(e.ErrorType={})),function(n){n.WARNING="Warning",n.ERROR="Error"}(e.ErrorSeverity||(e.ErrorSeverity={})),function(n){n[n.SOURCE_1=1]="SOURCE_1",n[n.SOURCE_2=2]="SOURCE_2",n[n.SOURCE_3=3]="SOURCE_3",n[n.SOURCE_4=4]="SOURCE_4",n[n.FULL_JS=-1]="FULL_JS",n[n.HTML=-2]="HTML",n[n.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(e.Chapter||(e.Chapter={})),function(n){n.DEFAULT="default",n.NATIVE="native",n.WASM="wasm",n.LAZY="lazy",n.NON_DET="non-det",n.CONCURRENT="concurrent",n.GPU="gpu"}(e.Variant||(e.Variant={}))}(types)),types}var hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const e=requireTypes();return constants.CUT="cut",constants.TRY_AGAIN="retry",constants.GLOBAL=typeof window>"u"?commonjsGlobal:window,constants.NATIVE_STORAGE_ID="nativeStorage",constants.MODULE_PARAMS_ID="moduleParams",constants.MODULE_CONTEXTS_ID="moduleContexts",constants.MAX_LIST_DISPLAY_LENGTH=100,constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}},constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10},constants.sourceLanguages=[{chapter:e.Chapter.SOURCE_1,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_1,variant:e.Variant.WASM},{chapter:e.Chapter.SOURCE_1,variant:e.Variant.LAZY},{chapter:e.Chapter.SOURCE_2,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_2,variant:e.Variant.LAZY},{chapter:e.Chapter.SOURCE_3,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_3,variant:e.Variant.CONCURRENT},{chapter:e.Chapter.SOURCE_3,variant:e.Variant.NON_DET},{chapter:e.Chapter.SOURCE_4,variant:e.Variant.DEFAULT},{chapter:e.Chapter.SOURCE_4,variant:e.Variant.GPU}],constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015},constants}var lib={},acorn$1={exports:{}},acorn=acorn$1.exports,hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(e,n){(function(i,a){a(n)})(acorn,function(i){var a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],w=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],g="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",y="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",b={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},d="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",f={5:d,"5module":d+" export import",6:d+" const class extends export import super"},c=/^in(stanceof)?$/,s=new RegExp("["+y+"]"),o=new RegExp("["+y+g+"]");function u(M,W){for(var ee=65536,ae=0;ae<W.length;ae+=2){if(ee+=W[ae],ee>M)return!1;if(ee+=W[ae+1],ee>=M)return!0}return!1}function h(M,W){return M<65?M===36:M<91?!0:M<97?M===95:M<123?!0:M<=65535?M>=170&&s.test(String.fromCharCode(M)):W===!1?!1:u(M,w)}function m(M,W){return M<48?M===36:M<58?!0:M<65?!1:M<91?!0:M<97?M===95:M<123?!0:M<=65535?M>=170&&o.test(String.fromCharCode(M)):W===!1?!1:u(M,w)||u(M,a)}var v=function(W,ee){ee===void 0&&(ee={}),this.label=W,this.keyword=ee.keyword,this.beforeExpr=!!ee.beforeExpr,this.startsExpr=!!ee.startsExpr,this.isLoop=!!ee.isLoop,this.isAssign=!!ee.isAssign,this.prefix=!!ee.prefix,this.postfix=!!ee.postfix,this.binop=ee.binop||null,this.updateContext=null};function T(M,W){return new v(M,{beforeExpr:!0,binop:W})}var x={beforeExpr:!0},R={startsExpr:!0},k={};function C(M,W){return W===void 0&&(W={}),W.keyword=M,k[M]=new v(M,W)}var S={num:new v("num",R),regexp:new v("regexp",R),string:new v("string",R),name:new v("name",R),privateId:new v("privateId",R),eof:new v("eof"),bracketL:new v("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new v("]"),braceL:new v("{",{beforeExpr:!0,startsExpr:!0}),braceR:new v("}"),parenL:new v("(",{beforeExpr:!0,startsExpr:!0}),parenR:new v(")"),comma:new v(",",x),semi:new v(";",x),colon:new v(":",x),dot:new v("."),question:new v("?",x),questionDot:new v("?."),arrow:new v("=>",x),template:new v("template"),invalidTemplate:new v("invalidTemplate"),ellipsis:new v("...",x),backQuote:new v("`",R),dollarBraceL:new v("${",{beforeExpr:!0,startsExpr:!0}),eq:new v("=",{beforeExpr:!0,isAssign:!0}),assign:new v("_=",{beforeExpr:!0,isAssign:!0}),incDec:new v("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new v("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:T("||",1),logicalAND:T("&&",2),bitwiseOR:T("|",3),bitwiseXOR:T("^",4),bitwiseAND:T("&",5),equality:T("==/!=/===/!==",6),relational:T("</>/<=/>=",7),bitShift:T("<</>>/>>>",8),plusMin:new v("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:T("%",10),star:T("*",10),slash:T("/",10),starstar:new v("**",{beforeExpr:!0}),coalesce:T("??",1),_break:C("break"),_case:C("case",x),_catch:C("catch"),_continue:C("continue"),_debugger:C("debugger"),_default:C("default",x),_do:C("do",{isLoop:!0,beforeExpr:!0}),_else:C("else",x),_finally:C("finally"),_for:C("for",{isLoop:!0}),_function:C("function",R),_if:C("if"),_return:C("return",x),_switch:C("switch"),_throw:C("throw",x),_try:C("try"),_var:C("var"),_const:C("const"),_while:C("while",{isLoop:!0}),_with:C("with"),_new:C("new",{beforeExpr:!0,startsExpr:!0}),_this:C("this",R),_super:C("super",R),_class:C("class",R),_extends:C("extends",x),_export:C("export"),_import:C("import",R),_null:C("null",R),_true:C("true",R),_false:C("false",R),_in:C("in",{beforeExpr:!0,binop:7}),_instanceof:C("instanceof",{beforeExpr:!0,binop:7}),_typeof:C("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:C("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:C("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},N=/\r\n?|\n|\u2028|\u2029/,L=new RegExp(N.source,"g");function A(M){return M===10||M===13||M===8232||M===8233}function $(M,W,ee){ee===void 0&&(ee=M.length);for(var ae=W;ae<ee;ae++){var Se=M.charCodeAt(ae);if(A(Se))return ae<ee-1&&Se===13&&M.charCodeAt(ae+1)===10?ae+2:ae+1}return-1}var O=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,B=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,z=Object.prototype,F=z.hasOwnProperty,V=z.toString,U=Object.hasOwn||function(M,W){return F.call(M,W)},q=Array.isArray||function(M){return V.call(M)==="[object Array]"},K=Object.create(null);function Q(M){return K[M]||(K[M]=new RegExp("^(?:"+M.replace(/ /g,"|")+")$"))}function X(M){return M<=65535?String.fromCharCode(M):(M-=65536,String.fromCharCode((M>>10)+55296,(M&1023)+56320))}var te=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,se=function(W,ee){this.line=W,this.column=ee};se.prototype.offset=function(W){return new se(this.line,this.column+W)};var J=function(W,ee,ae){this.start=ee,this.end=ae,W.sourceFile!==null&&(this.source=W.sourceFile)};function le(M,W){for(var ee=1,ae=0;;){var Se=$(M,ae,W);if(Se<0)return new se(ee,W-ae);++ee,ae=Se}}var ce={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},ue=!1;function Ie(M){var W={};for(var ee in ce)W[ee]=M&&U(M,ee)?M[ee]:ce[ee];if(W.ecmaVersion==="latest"?W.ecmaVersion=1e8:W.ecmaVersion==null?(!ue&&typeof console=="object"&&console.warn&&(ue=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),W.ecmaVersion=11):W.ecmaVersion>=2015&&(W.ecmaVersion-=2009),W.allowReserved==null&&(W.allowReserved=W.ecmaVersion<5),(!M||M.allowHashBang==null)&&(W.allowHashBang=W.ecmaVersion>=14),q(W.onToken)){var ae=W.onToken;W.onToken=function(Se){return ae.push(Se)}}return q(W.onComment)&&(W.onComment=Te(W,W.onComment)),W}function Te(M,W){return function(ee,ae,Se,Be,Ke,dt){var bt={type:ee?"Block":"Line",value:ae,start:Se,end:Be};M.locations&&(bt.loc=new J(this,Ke,dt)),M.ranges&&(bt.range=[Se,Be]),W.push(bt)}}var Re=1,ke=2,me=4,ve=8,he=16,Le=32,Qe=64,De=128,xt=256,Mt=Re|ke|xt;function $t(M,W){return ke|(M?me:0)|(W?ve:0)}var tr=0,br=1,dr=2,Ne=3,He=4,_t=5,Ve=function(W,ee,ae){this.options=W=Ie(W),this.sourceFile=W.sourceFile,this.keywords=Q(f[W.ecmaVersion>=6?6:W.sourceType==="module"?"5module":5]);var Se="";W.allowReserved!==!0&&(Se=b[W.ecmaVersion>=6?6:W.ecmaVersion===5?5:3],W.sourceType==="module"&&(Se+=" await")),this.reservedWords=Q(Se);var Be=(Se?Se+" ":"")+b.strict;this.reservedWordsStrict=Q(Be),this.reservedWordsStrictBind=Q(Be+" "+b.strictBind),this.input=String(ee),this.containsEsc=!1,ae?(this.pos=ae,this.lineStart=this.input.lastIndexOf(`
`,ae-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(N).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=S.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=W.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&W.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Re),this.regexpState=null,this.privateNameStack=[]},ft={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ve.prototype.parse=function(){var W=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(W)},ft.inFunction.get=function(){return(this.currentVarScope().flags&ke)>0},ft.inGenerator.get=function(){return(this.currentVarScope().flags&ve)>0&&!this.currentVarScope().inClassFieldInit},ft.inAsync.get=function(){return(this.currentVarScope().flags&me)>0&&!this.currentVarScope().inClassFieldInit},ft.canAwait.get=function(){for(var M=this.scopeStack.length-1;M>=0;M--){var W=this.scopeStack[M];if(W.inClassFieldInit||W.flags&xt)return!1;if(W.flags&ke)return(W.flags&me)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},ft.allowSuper.get=function(){var M=this.currentThisScope(),W=M.flags,ee=M.inClassFieldInit;return(W&Qe)>0||ee||this.options.allowSuperOutsideMethod},ft.allowDirectSuper.get=function(){return(this.currentThisScope().flags&De)>0},ft.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ft.allowNewDotTarget.get=function(){var M=this.currentThisScope(),W=M.flags,ee=M.inClassFieldInit;return(W&(ke|xt))>0||ee},ft.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&xt)>0},Ve.extend=function(){for(var W=[],ee=arguments.length;ee--;)W[ee]=arguments[ee];for(var ae=this,Se=0;Se<W.length;Se++)ae=W[Se](ae);return ae},Ve.parse=function(W,ee){return new this(ee,W).parse()},Ve.parseExpressionAt=function(W,ee,ae){var Se=new this(ae,W,ee);return Se.nextToken(),Se.parseExpression()},Ve.tokenizer=function(W,ee){return new this(ee,W)},Object.defineProperties(Ve.prototype,ft);var Je=Ve.prototype,Pt=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Je.strictDirective=function(M){if(this.options.ecmaVersion<5)return!1;for(;;){B.lastIndex=M,M+=B.exec(this.input)[0].length;var W=Pt.exec(this.input.slice(M));if(!W)return!1;if((W[1]||W[2])==="use strict"){B.lastIndex=M+W[0].length;var ee=B.exec(this.input),ae=ee.index+ee[0].length,Se=this.input.charAt(ae);return Se===";"||Se==="}"||N.test(ee[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Se)||Se==="!"&&this.input.charAt(ae+1)==="=")}M+=W[0].length,B.lastIndex=M,M+=B.exec(this.input)[0].length,this.input[M]===";"&&M++}},Je.eat=function(M){return this.type===M?(this.next(),!0):!1},Je.isContextual=function(M){return this.type===S.name&&this.value===M&&!this.containsEsc},Je.eatContextual=function(M){return this.isContextual(M)?(this.next(),!0):!1},Je.expectContextual=function(M){this.eatContextual(M)||this.unexpected()},Je.canInsertSemicolon=function(){return this.type===S.eof||this.type===S.braceR||N.test(this.input.slice(this.lastTokEnd,this.start))},Je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Je.semicolon=function(){!this.eat(S.semi)&&!this.insertSemicolon()&&this.unexpected()},Je.afterTrailingComma=function(M,W){if(this.type===M)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),W||this.next(),!0},Je.expect=function(M){this.eat(M)||this.unexpected()},Je.unexpected=function(M){this.raise(M??this.start,"Unexpected token")};var pe=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Je.checkPatternErrors=function(M,W){if(M){M.trailingComma>-1&&this.raiseRecoverable(M.trailingComma,"Comma is not permitted after the rest element");var ee=W?M.parenthesizedAssign:M.parenthesizedBind;ee>-1&&this.raiseRecoverable(ee,W?"Assigning to rvalue":"Parenthesized pattern")}},Je.checkExpressionErrors=function(M,W){if(!M)return!1;var ee=M.shorthandAssign,ae=M.doubleProto;if(!W)return ee>=0||ae>=0;ee>=0&&this.raise(ee,"Shorthand property assignments are valid only in destructuring patterns"),ae>=0&&this.raiseRecoverable(ae,"Redefinition of __proto__ property")},Je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Je.isSimpleAssignTarget=function(M){return M.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(M.expression):M.type==="Identifier"||M.type==="MemberExpression"};var ye=Ve.prototype;ye.parseTopLevel=function(M){var W=Object.create(null);for(M.body||(M.body=[]);this.type!==S.eof;){var ee=this.parseStatement(null,!0,W);M.body.push(ee)}if(this.inModule)for(var ae=0,Se=Object.keys(this.undefinedExports);ae<Se.length;ae+=1){var Be=Se[ae];this.raiseRecoverable(this.undefinedExports[Be].start,"Export '"+Be+"' is not defined")}return this.adaptDirectivePrologue(M.body),this.next(),M.sourceType=this.options.sourceType,this.finishNode(M,"Program")};var Me={kind:"loop"},st={kind:"switch"};ye.isLet=function(M){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;B.lastIndex=this.pos;var W=B.exec(this.input),ee=this.pos+W[0].length,ae=this.input.charCodeAt(ee);if(ae===91||ae===92)return!0;if(M)return!1;if(ae===123||ae>55295&&ae<56320)return!0;if(h(ae,!0)){for(var Se=ee+1;m(ae=this.input.charCodeAt(Se),!0);)++Se;if(ae===92||ae>55295&&ae<56320)return!0;var Be=this.input.slice(ee,Se);if(!c.test(Be))return!0}return!1},ye.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;B.lastIndex=this.pos;var M=B.exec(this.input),W=this.pos+M[0].length,ee;return!N.test(this.input.slice(this.pos,W))&&this.input.slice(W,W+8)==="function"&&(W+8===this.input.length||!(m(ee=this.input.charCodeAt(W+8))||ee>55295&&ee<56320))},ye.parseStatement=function(M,W,ee){var ae=this.type,Se=this.startNode(),Be;switch(this.isLet(M)&&(ae=S._var,Be="let"),ae){case S._break:case S._continue:return this.parseBreakContinueStatement(Se,ae.keyword);case S._debugger:return this.parseDebuggerStatement(Se);case S._do:return this.parseDoStatement(Se);case S._for:return this.parseForStatement(Se);case S._function:return M&&(this.strict||M!=="if"&&M!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Se,!1,!M);case S._class:return M&&this.unexpected(),this.parseClass(Se,!0);case S._if:return this.parseIfStatement(Se);case S._return:return this.parseReturnStatement(Se);case S._switch:return this.parseSwitchStatement(Se);case S._throw:return this.parseThrowStatement(Se);case S._try:return this.parseTryStatement(Se);case S._const:case S._var:return Be=Be||this.value,M&&Be!=="var"&&this.unexpected(),this.parseVarStatement(Se,Be);case S._while:return this.parseWhileStatement(Se);case S._with:return this.parseWithStatement(Se);case S.braceL:return this.parseBlock(!0,Se);case S.semi:return this.parseEmptyStatement(Se);case S._export:case S._import:if(this.options.ecmaVersion>10&&ae===S._import){B.lastIndex=this.pos;var Ke=B.exec(this.input),dt=this.pos+Ke[0].length,bt=this.input.charCodeAt(dt);if(bt===40||bt===46)return this.parseExpressionStatement(Se,this.parseExpression())}return this.options.allowImportExportEverywhere||(W||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),ae===S._import?this.parseImport(Se):this.parseExport(Se,ee);default:if(this.isAsyncFunction())return M&&this.unexpected(),this.next(),this.parseFunctionStatement(Se,!0,!M);var Ht=this.value,Wt=this.parseExpression();return ae===S.name&&Wt.type==="Identifier"&&this.eat(S.colon)?this.parseLabeledStatement(Se,Ht,Wt,M):this.parseExpressionStatement(Se,Wt)}},ye.parseBreakContinueStatement=function(M,W){var ee=W==="break";this.next(),this.eat(S.semi)||this.insertSemicolon()?M.label=null:this.type!==S.name?this.unexpected():(M.label=this.parseIdent(),this.semicolon());for(var ae=0;ae<this.labels.length;++ae){var Se=this.labels[ae];if((M.label==null||Se.name===M.label.name)&&(Se.kind!=null&&(ee||Se.kind==="loop")||M.label&&ee))break}return ae===this.labels.length&&this.raise(M.start,"Unsyntactic "+W),this.finishNode(M,ee?"BreakStatement":"ContinueStatement")},ye.parseDebuggerStatement=function(M){return this.next(),this.semicolon(),this.finishNode(M,"DebuggerStatement")},ye.parseDoStatement=function(M){return this.next(),this.labels.push(Me),M.body=this.parseStatement("do"),this.labels.pop(),this.expect(S._while),M.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(S.semi):this.semicolon(),this.finishNode(M,"DoWhileStatement")},ye.parseForStatement=function(M){this.next();var W=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Me),this.enterScope(0),this.expect(S.parenL),this.type===S.semi)return W>-1&&this.unexpected(W),this.parseFor(M,null);var ee=this.isLet();if(this.type===S._var||this.type===S._const||ee){var ae=this.startNode(),Se=ee?"let":this.value;return this.next(),this.parseVar(ae,!0,Se),this.finishNode(ae,"VariableDeclaration"),(this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&ae.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===S._in?W>-1&&this.unexpected(W):M.await=W>-1),this.parseForIn(M,ae)):(W>-1&&this.unexpected(W),this.parseFor(M,ae))}var Be=this.isContextual("let"),Ke=!1,dt=this.containsEsc,bt=new pe,Ht=this.start,Wt=W>-1?this.parseExprSubscripts(bt,"await"):this.parseExpression(!0,bt);return this.type===S._in||(Ke=this.options.ecmaVersion>=6&&this.isContextual("of"))?(W>-1?(this.type===S._in&&this.unexpected(W),M.await=!0):Ke&&this.options.ecmaVersion>=8&&(Wt.start===Ht&&!dt&&Wt.type==="Identifier"&&Wt.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(M.await=!1)),Be&&Ke&&this.raise(Wt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Wt,!1,bt),this.checkLValPattern(Wt),this.parseForIn(M,Wt)):(this.checkExpressionErrors(bt,!0),W>-1&&this.unexpected(W),this.parseFor(M,Wt))},ye.parseFunctionStatement=function(M,W,ee){return this.next(),this.parseFunction(M,Xe|(ee?0:we),!1,W)},ye.parseIfStatement=function(M){return this.next(),M.test=this.parseParenExpression(),M.consequent=this.parseStatement("if"),M.alternate=this.eat(S._else)?this.parseStatement("if"):null,this.finishNode(M,"IfStatement")},ye.parseReturnStatement=function(M){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(S.semi)||this.insertSemicolon()?M.argument=null:(M.argument=this.parseExpression(),this.semicolon()),this.finishNode(M,"ReturnStatement")},ye.parseSwitchStatement=function(M){this.next(),M.discriminant=this.parseParenExpression(),M.cases=[],this.expect(S.braceL),this.labels.push(st),this.enterScope(0);for(var W,ee=!1;this.type!==S.braceR;)if(this.type===S._case||this.type===S._default){var ae=this.type===S._case;W&&this.finishNode(W,"SwitchCase"),M.cases.push(W=this.startNode()),W.consequent=[],this.next(),ae?W.test=this.parseExpression():(ee&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),ee=!0,W.test=null),this.expect(S.colon)}else W||this.unexpected(),W.consequent.push(this.parseStatement(null));return this.exitScope(),W&&this.finishNode(W,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(M,"SwitchStatement")},ye.parseThrowStatement=function(M){return this.next(),N.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),M.argument=this.parseExpression(),this.semicolon(),this.finishNode(M,"ThrowStatement")};var lt=[];ye.parseCatchClauseParam=function(){var M=this.parseBindingAtom(),W=M.type==="Identifier";return this.enterScope(W?Le:0),this.checkLValPattern(M,W?He:dr),this.expect(S.parenR),M},ye.parseTryStatement=function(M){if(this.next(),M.block=this.parseBlock(),M.handler=null,this.type===S._catch){var W=this.startNode();this.next(),this.eat(S.parenL)?W.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),W.param=null,this.enterScope(0)),W.body=this.parseBlock(!1),this.exitScope(),M.handler=this.finishNode(W,"CatchClause")}return M.finalizer=this.eat(S._finally)?this.parseBlock():null,!M.handler&&!M.finalizer&&this.raise(M.start,"Missing catch or finally clause"),this.finishNode(M,"TryStatement")},ye.parseVarStatement=function(M,W,ee){return this.next(),this.parseVar(M,!1,W,ee),this.semicolon(),this.finishNode(M,"VariableDeclaration")},ye.parseWhileStatement=function(M){return this.next(),M.test=this.parseParenExpression(),this.labels.push(Me),M.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(M,"WhileStatement")},ye.parseWithStatement=function(M){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),M.object=this.parseParenExpression(),M.body=this.parseStatement("with"),this.finishNode(M,"WithStatement")},ye.parseEmptyStatement=function(M){return this.next(),this.finishNode(M,"EmptyStatement")},ye.parseLabeledStatement=function(M,W,ee,ae){for(var Se=0,Be=this.labels;Se<Be.length;Se+=1){var Ke=Be[Se];Ke.name===W&&this.raise(ee.start,"Label '"+W+"' is already declared")}for(var dt=this.type.isLoop?"loop":this.type===S._switch?"switch":null,bt=this.labels.length-1;bt>=0;bt--){var Ht=this.labels[bt];if(Ht.statementStart===M.start)Ht.statementStart=this.start,Ht.kind=dt;else break}return this.labels.push({name:W,kind:dt,statementStart:this.start}),M.body=this.parseStatement(ae?ae.indexOf("label")===-1?ae+"label":ae:"label"),this.labels.pop(),M.label=ee,this.finishNode(M,"LabeledStatement")},ye.parseExpressionStatement=function(M,W){return M.expression=W,this.semicolon(),this.finishNode(M,"ExpressionStatement")},ye.parseBlock=function(M,W,ee){for(M===void 0&&(M=!0),W===void 0&&(W=this.startNode()),W.body=[],this.expect(S.braceL),M&&this.enterScope(0);this.type!==S.braceR;){var ae=this.parseStatement(null);W.body.push(ae)}return ee&&(this.strict=!1),this.next(),M&&this.exitScope(),this.finishNode(W,"BlockStatement")},ye.parseFor=function(M,W){return M.init=W,this.expect(S.semi),M.test=this.type===S.semi?null:this.parseExpression(),this.expect(S.semi),M.update=this.type===S.parenR?null:this.parseExpression(),this.expect(S.parenR),M.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(M,"ForStatement")},ye.parseForIn=function(M,W){var ee=this.type===S._in;return this.next(),W.type==="VariableDeclaration"&&W.declarations[0].init!=null&&(!ee||this.options.ecmaVersion<8||this.strict||W.kind!=="var"||W.declarations[0].id.type!=="Identifier")&&this.raise(W.start,(ee?"for-in":"for-of")+" loop variable declaration may not have an initializer"),M.left=W,M.right=ee?this.parseExpression():this.parseMaybeAssign(),this.expect(S.parenR),M.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(M,ee?"ForInStatement":"ForOfStatement")},ye.parseVar=function(M,W,ee,ae){for(M.declarations=[],M.kind=ee;;){var Se=this.startNode();if(this.parseVarId(Se,ee),this.eat(S.eq)?Se.init=this.parseMaybeAssign(W):!ae&&ee==="const"&&!(this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!ae&&Se.id.type!=="Identifier"&&!(W&&(this.type===S._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Se.init=null,M.declarations.push(this.finishNode(Se,"VariableDeclarator")),!this.eat(S.comma))break}return M},ye.parseVarId=function(M,W){M.id=this.parseBindingAtom(),this.checkLValPattern(M.id,W==="var"?br:dr,!1)};var Xe=1,we=2,Ue=4;ye.parseFunction=function(M,W,ee,ae,Se){this.initFunction(M),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!ae)&&(this.type===S.star&&W&we&&this.unexpected(),M.generator=this.eat(S.star)),this.options.ecmaVersion>=8&&(M.async=!!ae),W&Xe&&(M.id=W&Ue&&this.type!==S.name?null:this.parseIdent(),M.id&&!(W&we)&&this.checkLValSimple(M.id,this.strict||M.generator||M.async?this.treatFunctionsAsVar?br:dr:Ne));var Be=this.yieldPos,Ke=this.awaitPos,dt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($t(M.async,M.generator)),W&Xe||(M.id=this.type===S.name?this.parseIdent():null),this.parseFunctionParams(M),this.parseFunctionBody(M,ee,!1,Se),this.yieldPos=Be,this.awaitPos=Ke,this.awaitIdentPos=dt,this.finishNode(M,W&Xe?"FunctionDeclaration":"FunctionExpression")},ye.parseFunctionParams=function(M){this.expect(S.parenL),M.params=this.parseBindingList(S.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ye.parseClass=function(M,W){this.next();var ee=this.strict;this.strict=!0,this.parseClassId(M,W),this.parseClassSuper(M);var ae=this.enterClassBody(),Se=this.startNode(),Be=!1;for(Se.body=[],this.expect(S.braceL);this.type!==S.braceR;){var Ke=this.parseClassElement(M.superClass!==null);Ke&&(Se.body.push(Ke),Ke.type==="MethodDefinition"&&Ke.kind==="constructor"?(Be&&this.raiseRecoverable(Ke.start,"Duplicate constructor in the same class"),Be=!0):Ke.key&&Ke.key.type==="PrivateIdentifier"&&ht(ae,Ke)&&this.raiseRecoverable(Ke.key.start,"Identifier '#"+Ke.key.name+"' has already been declared"))}return this.strict=ee,this.next(),M.body=this.finishNode(Se,"ClassBody"),this.exitClassBody(),this.finishNode(M,W?"ClassDeclaration":"ClassExpression")},ye.parseClassElement=function(M){if(this.eat(S.semi))return null;var W=this.options.ecmaVersion,ee=this.startNode(),ae="",Se=!1,Be=!1,Ke="method",dt=!1;if(this.eatContextual("static")){if(W>=13&&this.eat(S.braceL))return this.parseClassStaticBlock(ee),ee;this.isClassElementNameStart()||this.type===S.star?dt=!0:ae="static"}if(ee.static=dt,!ae&&W>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===S.star)&&!this.canInsertSemicolon()?Be=!0:ae="async"),!ae&&(W>=9||!Be)&&this.eat(S.star)&&(Se=!0),!ae&&!Be&&!Se){var bt=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Ke=bt:ae=bt)}if(ae?(ee.computed=!1,ee.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),ee.key.name=ae,this.finishNode(ee.key,"Identifier")):this.parseClassElementName(ee),W<13||this.type===S.parenL||Ke!=="method"||Se||Be){var Ht=!ee.static&&tt(ee,"constructor"),Wt=Ht&&M;Ht&&Ke!=="method"&&this.raise(ee.key.start,"Constructor can't have get/set modifier"),ee.kind=Ht?"constructor":Ke,this.parseClassMethod(ee,Se,Be,Wt)}else this.parseClassField(ee);return ee},ye.isClassElementNameStart=function(){return this.type===S.name||this.type===S.privateId||this.type===S.num||this.type===S.string||this.type===S.bracketL||this.type.keyword},ye.parseClassElementName=function(M){this.type===S.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),M.computed=!1,M.key=this.parsePrivateIdent()):this.parsePropertyName(M)},ye.parseClassMethod=function(M,W,ee,ae){var Se=M.key;M.kind==="constructor"?(W&&this.raise(Se.start,"Constructor can't be a generator"),ee&&this.raise(Se.start,"Constructor can't be an async method")):M.static&&tt(M,"prototype")&&this.raise(Se.start,"Classes may not have a static property named prototype");var Be=M.value=this.parseMethod(W,ee,ae);return M.kind==="get"&&Be.params.length!==0&&this.raiseRecoverable(Be.start,"getter should have no params"),M.kind==="set"&&Be.params.length!==1&&this.raiseRecoverable(Be.start,"setter should have exactly one param"),M.kind==="set"&&Be.params[0].type==="RestElement"&&this.raiseRecoverable(Be.params[0].start,"Setter cannot use rest params"),this.finishNode(M,"MethodDefinition")},ye.parseClassField=function(M){if(tt(M,"constructor")?this.raise(M.key.start,"Classes can't have a field named 'constructor'"):M.static&&tt(M,"prototype")&&this.raise(M.key.start,"Classes can't have a static field named 'prototype'"),this.eat(S.eq)){var W=this.currentThisScope(),ee=W.inClassFieldInit;W.inClassFieldInit=!0,M.value=this.parseMaybeAssign(),W.inClassFieldInit=ee}else M.value=null;return this.semicolon(),this.finishNode(M,"PropertyDefinition")},ye.parseClassStaticBlock=function(M){M.body=[];var W=this.labels;for(this.labels=[],this.enterScope(xt|Qe);this.type!==S.braceR;){var ee=this.parseStatement(null);M.body.push(ee)}return this.next(),this.exitScope(),this.labels=W,this.finishNode(M,"StaticBlock")},ye.parseClassId=function(M,W){this.type===S.name?(M.id=this.parseIdent(),W&&this.checkLValSimple(M.id,dr,!1)):(W===!0&&this.unexpected(),M.id=null)},ye.parseClassSuper=function(M){M.superClass=this.eat(S._extends)?this.parseExprSubscripts(null,!1):null},ye.enterClassBody=function(){var M={declared:Object.create(null),used:[]};return this.privateNameStack.push(M),M.declared},ye.exitClassBody=function(){var M=this.privateNameStack.pop(),W=M.declared,ee=M.used;if(this.options.checkPrivateFields)for(var ae=this.privateNameStack.length,Se=ae===0?null:this.privateNameStack[ae-1],Be=0;Be<ee.length;++Be){var Ke=ee[Be];U(W,Ke.name)||(Se?Se.used.push(Ke):this.raiseRecoverable(Ke.start,"Private field '#"+Ke.name+"' must be declared in an enclosing class"))}};function ht(M,W){var ee=W.key.name,ae=M[ee],Se="true";return W.type==="MethodDefinition"&&(W.kind==="get"||W.kind==="set")&&(Se=(W.static?"s":"i")+W.kind),ae==="iget"&&Se==="iset"||ae==="iset"&&Se==="iget"||ae==="sget"&&Se==="sset"||ae==="sset"&&Se==="sget"?(M[ee]="true",!1):ae?!0:(M[ee]=Se,!1)}function tt(M,W){var ee=M.computed,ae=M.key;return!ee&&(ae.type==="Identifier"&&ae.name===W||ae.type==="Literal"&&ae.value===W)}ye.parseExportAllDeclaration=function(M,W){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(M.exported=this.parseModuleExportName(),this.checkExport(W,M.exported,this.lastTokStart)):M.exported=null),this.expectContextual("from"),this.type!==S.string&&this.unexpected(),M.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(M.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(M,"ExportAllDeclaration")},ye.parseExport=function(M,W){if(this.next(),this.eat(S.star))return this.parseExportAllDeclaration(M,W);if(this.eat(S._default))return this.checkExport(W,"default",this.lastTokStart),M.declaration=this.parseExportDefaultDeclaration(),this.finishNode(M,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())M.declaration=this.parseExportDeclaration(M),M.declaration.type==="VariableDeclaration"?this.checkVariableExport(W,M.declaration.declarations):this.checkExport(W,M.declaration.id,M.declaration.id.start),M.specifiers=[],M.source=null;else{if(M.declaration=null,M.specifiers=this.parseExportSpecifiers(W),this.eatContextual("from"))this.type!==S.string&&this.unexpected(),M.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(M.attributes=this.parseWithClause());else{for(var ee=0,ae=M.specifiers;ee<ae.length;ee+=1){var Se=ae[ee];this.checkUnreserved(Se.local),this.checkLocalExport(Se.local),Se.local.type==="Literal"&&this.raise(Se.local.start,"A string literal cannot be used as an exported binding without `from`.")}M.source=null}this.semicolon()}return this.finishNode(M,"ExportNamedDeclaration")},ye.parseExportDeclaration=function(M){return this.parseStatement(null)},ye.parseExportDefaultDeclaration=function(){var M;if(this.type===S._function||(M=this.isAsyncFunction())){var W=this.startNode();return this.next(),M&&this.next(),this.parseFunction(W,Xe|Ue,!1,M)}else if(this.type===S._class){var ee=this.startNode();return this.parseClass(ee,"nullableID")}else{var ae=this.parseMaybeAssign();return this.semicolon(),ae}},ye.checkExport=function(M,W,ee){M&&(typeof W!="string"&&(W=W.type==="Identifier"?W.name:W.value),U(M,W)&&this.raiseRecoverable(ee,"Duplicate export '"+W+"'"),M[W]=!0)},ye.checkPatternExport=function(M,W){var ee=W.type;if(ee==="Identifier")this.checkExport(M,W,W.start);else if(ee==="ObjectPattern")for(var ae=0,Se=W.properties;ae<Se.length;ae+=1){var Be=Se[ae];this.checkPatternExport(M,Be)}else if(ee==="ArrayPattern")for(var Ke=0,dt=W.elements;Ke<dt.length;Ke+=1){var bt=dt[Ke];bt&&this.checkPatternExport(M,bt)}else ee==="Property"?this.checkPatternExport(M,W.value):ee==="AssignmentPattern"?this.checkPatternExport(M,W.left):ee==="RestElement"&&this.checkPatternExport(M,W.argument)},ye.checkVariableExport=function(M,W){if(M)for(var ee=0,ae=W;ee<ae.length;ee+=1){var Se=ae[ee];this.checkPatternExport(M,Se.id)}},ye.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},ye.parseExportSpecifier=function(M){var W=this.startNode();return W.local=this.parseModuleExportName(),W.exported=this.eatContextual("as")?this.parseModuleExportName():W.local,this.checkExport(M,W.exported,W.exported.start),this.finishNode(W,"ExportSpecifier")},ye.parseExportSpecifiers=function(M){var W=[],ee=!0;for(this.expect(S.braceL);!this.eat(S.braceR);){if(ee)ee=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;W.push(this.parseExportSpecifier(M))}return W},ye.parseImport=function(M){return this.next(),this.type===S.string?(M.specifiers=lt,M.source=this.parseExprAtom()):(M.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),M.source=this.type===S.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(M.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(M,"ImportDeclaration")},ye.parseImportSpecifier=function(){var M=this.startNode();return M.imported=this.parseModuleExportName(),this.eatContextual("as")?M.local=this.parseIdent():(this.checkUnreserved(M.imported),M.local=M.imported),this.checkLValSimple(M.local,dr),this.finishNode(M,"ImportSpecifier")},ye.parseImportDefaultSpecifier=function(){var M=this.startNode();return M.local=this.parseIdent(),this.checkLValSimple(M.local,dr),this.finishNode(M,"ImportDefaultSpecifier")},ye.parseImportNamespaceSpecifier=function(){var M=this.startNode();return this.next(),this.expectContextual("as"),M.local=this.parseIdent(),this.checkLValSimple(M.local,dr),this.finishNode(M,"ImportNamespaceSpecifier")},ye.parseImportSpecifiers=function(){var M=[],W=!0;if(this.type===S.name&&(M.push(this.parseImportDefaultSpecifier()),!this.eat(S.comma)))return M;if(this.type===S.star)return M.push(this.parseImportNamespaceSpecifier()),M;for(this.expect(S.braceL);!this.eat(S.braceR);){if(W)W=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;M.push(this.parseImportSpecifier())}return M},ye.parseWithClause=function(){var M=[];if(!this.eat(S._with))return M;this.expect(S.braceL);for(var W={},ee=!0;!this.eat(S.braceR);){if(ee)ee=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;var ae=this.parseImportAttribute(),Se=ae.key.type==="Identifier"?ae.key.name:ae.key.value;U(W,Se)&&this.raiseRecoverable(ae.key.start,"Duplicate attribute key '"+Se+"'"),W[Se]=!0,M.push(ae)}return M},ye.parseImportAttribute=function(){var M=this.startNode();return M.key=this.type===S.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(S.colon),this.type!==S.string&&this.unexpected(),M.value=this.parseExprAtom(),this.finishNode(M,"ImportAttribute")},ye.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===S.string){var M=this.parseLiteral(this.value);return te.test(M.value)&&this.raise(M.start,"An export name cannot include a lone surrogate."),M}return this.parseIdent(!0)},ye.adaptDirectivePrologue=function(M){for(var W=0;W<M.length&&this.isDirectiveCandidate(M[W]);++W)M[W].directive=M[W].expression.raw.slice(1,-1)},ye.isDirectiveCandidate=function(M){return this.options.ecmaVersion>=5&&M.type==="ExpressionStatement"&&M.expression.type==="Literal"&&typeof M.expression.value=="string"&&(this.input[M.start]==='"'||this.input[M.start]==="'")};var At=Ve.prototype;At.toAssignable=function(M,W,ee){if(this.options.ecmaVersion>=6&&M)switch(M.type){case"Identifier":this.inAsync&&M.name==="await"&&this.raise(M.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":M.type="ObjectPattern",ee&&this.checkPatternErrors(ee,!0);for(var ae=0,Se=M.properties;ae<Se.length;ae+=1){var Be=Se[ae];this.toAssignable(Be,W),Be.type==="RestElement"&&(Be.argument.type==="ArrayPattern"||Be.argument.type==="ObjectPattern")&&this.raise(Be.argument.start,"Unexpected token")}break;case"Property":M.kind!=="init"&&this.raise(M.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(M.value,W);break;case"ArrayExpression":M.type="ArrayPattern",ee&&this.checkPatternErrors(ee,!0),this.toAssignableList(M.elements,W);break;case"SpreadElement":M.type="RestElement",this.toAssignable(M.argument,W),M.argument.type==="AssignmentPattern"&&this.raise(M.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":M.operator!=="="&&this.raise(M.left.end,"Only '=' operator can be used for specifying default value."),M.type="AssignmentPattern",delete M.operator,this.toAssignable(M.left,W);break;case"ParenthesizedExpression":this.toAssignable(M.expression,W,ee);break;case"ChainExpression":this.raiseRecoverable(M.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!W)break;default:this.raise(M.start,"Assigning to rvalue")}else ee&&this.checkPatternErrors(ee,!0);return M},At.toAssignableList=function(M,W){for(var ee=M.length,ae=0;ae<ee;ae++){var Se=M[ae];Se&&this.toAssignable(Se,W)}if(ee){var Be=M[ee-1];this.options.ecmaVersion===6&&W&&Be&&Be.type==="RestElement"&&Be.argument.type!=="Identifier"&&this.unexpected(Be.argument.start)}return M},At.parseSpread=function(M){var W=this.startNode();return this.next(),W.argument=this.parseMaybeAssign(!1,M),this.finishNode(W,"SpreadElement")},At.parseRestBinding=function(){var M=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==S.name&&this.unexpected(),M.argument=this.parseBindingAtom(),this.finishNode(M,"RestElement")},At.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case S.bracketL:var M=this.startNode();return this.next(),M.elements=this.parseBindingList(S.bracketR,!0,!0),this.finishNode(M,"ArrayPattern");case S.braceL:return this.parseObj(!0)}return this.parseIdent()},At.parseBindingList=function(M,W,ee,ae){for(var Se=[],Be=!0;!this.eat(M);)if(Be?Be=!1:this.expect(S.comma),W&&this.type===S.comma)Se.push(null);else{if(ee&&this.afterTrailingComma(M))break;if(this.type===S.ellipsis){var Ke=this.parseRestBinding();this.parseBindingListItem(Ke),Se.push(Ke),this.type===S.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(M);break}else Se.push(this.parseAssignableListItem(ae))}return Se},At.parseAssignableListItem=function(M){var W=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(W),W},At.parseBindingListItem=function(M){return M},At.parseMaybeDefault=function(M,W,ee){if(ee=ee||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(S.eq))return ee;var ae=this.startNodeAt(M,W);return ae.left=ee,ae.right=this.parseMaybeAssign(),this.finishNode(ae,"AssignmentPattern")},At.checkLValSimple=function(M,W,ee){W===void 0&&(W=tr);var ae=W!==tr;switch(M.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(M.name)&&this.raiseRecoverable(M.start,(ae?"Binding ":"Assigning to ")+M.name+" in strict mode"),ae&&(W===dr&&M.name==="let"&&this.raiseRecoverable(M.start,"let is disallowed as a lexically bound name"),ee&&(U(ee,M.name)&&this.raiseRecoverable(M.start,"Argument name clash"),ee[M.name]=!0),W!==_t&&this.declareName(M.name,W,M.start));break;case"ChainExpression":this.raiseRecoverable(M.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":ae&&this.raiseRecoverable(M.start,"Binding member expression");break;case"ParenthesizedExpression":return ae&&this.raiseRecoverable(M.start,"Binding parenthesized expression"),this.checkLValSimple(M.expression,W,ee);default:this.raise(M.start,(ae?"Binding":"Assigning to")+" rvalue")}},At.checkLValPattern=function(M,W,ee){switch(W===void 0&&(W=tr),M.type){case"ObjectPattern":for(var ae=0,Se=M.properties;ae<Se.length;ae+=1){var Be=Se[ae];this.checkLValInnerPattern(Be,W,ee)}break;case"ArrayPattern":for(var Ke=0,dt=M.elements;Ke<dt.length;Ke+=1){var bt=dt[Ke];bt&&this.checkLValInnerPattern(bt,W,ee)}break;default:this.checkLValSimple(M,W,ee)}},At.checkLValInnerPattern=function(M,W,ee){switch(W===void 0&&(W=tr),M.type){case"Property":this.checkLValInnerPattern(M.value,W,ee);break;case"AssignmentPattern":this.checkLValPattern(M.left,W,ee);break;case"RestElement":this.checkLValPattern(M.argument,W,ee);break;default:this.checkLValPattern(M,W,ee)}};var vt=function(W,ee,ae,Se,Be){this.token=W,this.isExpr=!!ee,this.preserveSpace=!!ae,this.override=Se,this.generator=!!Be},St={b_stat:new vt("{",!1),b_expr:new vt("{",!0),b_tmpl:new vt("${",!1),p_stat:new vt("(",!1),p_expr:new vt("(",!0),q_tmpl:new vt("`",!0,!0,function(M){return M.tryReadTemplateToken()}),f_stat:new vt("function",!1),f_expr:new vt("function",!0),f_expr_gen:new vt("function",!0,!1,null,!0),f_gen:new vt("function",!1,!1,null,!0)},Ot=Ve.prototype;Ot.initialContext=function(){return[St.b_stat]},Ot.curContext=function(){return this.context[this.context.length-1]},Ot.braceIsBlock=function(M){var W=this.curContext();return W===St.f_expr||W===St.f_stat?!0:M===S.colon&&(W===St.b_stat||W===St.b_expr)?!W.isExpr:M===S._return||M===S.name&&this.exprAllowed?N.test(this.input.slice(this.lastTokEnd,this.start)):M===S._else||M===S.semi||M===S.eof||M===S.parenR||M===S.arrow?!0:M===S.braceL?W===St.b_stat:M===S._var||M===S._const||M===S.name?!1:!this.exprAllowed},Ot.inGeneratorContext=function(){for(var M=this.context.length-1;M>=1;M--){var W=this.context[M];if(W.token==="function")return W.generator}return!1},Ot.updateContext=function(M){var W,ee=this.type;ee.keyword&&M===S.dot?this.exprAllowed=!1:(W=ee.updateContext)?W.call(this,M):this.exprAllowed=ee.beforeExpr},Ot.overrideContext=function(M){this.curContext()!==M&&(this.context[this.context.length-1]=M)},S.parenR.updateContext=S.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var M=this.context.pop();M===St.b_stat&&this.curContext().token==="function"&&(M=this.context.pop()),this.exprAllowed=!M.isExpr},S.braceL.updateContext=function(M){this.context.push(this.braceIsBlock(M)?St.b_stat:St.b_expr),this.exprAllowed=!0},S.dollarBraceL.updateContext=function(){this.context.push(St.b_tmpl),this.exprAllowed=!0},S.parenL.updateContext=function(M){var W=M===S._if||M===S._for||M===S._with||M===S._while;this.context.push(W?St.p_stat:St.p_expr),this.exprAllowed=!0},S.incDec.updateContext=function(){},S._function.updateContext=S._class.updateContext=function(M){M.beforeExpr&&M!==S._else&&!(M===S.semi&&this.curContext()!==St.p_stat)&&!(M===S._return&&N.test(this.input.slice(this.lastTokEnd,this.start)))&&!((M===S.colon||M===S.braceL)&&this.curContext()===St.b_stat)?this.context.push(St.f_expr):this.context.push(St.f_stat),this.exprAllowed=!1},S.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},S.backQuote.updateContext=function(){this.curContext()===St.q_tmpl?this.context.pop():this.context.push(St.q_tmpl),this.exprAllowed=!1},S.star.updateContext=function(M){if(M===S._function){var W=this.context.length-1;this.context[W]===St.f_expr?this.context[W]=St.f_expr_gen:this.context[W]=St.f_gen}this.exprAllowed=!0},S.name.updateContext=function(M){var W=!1;this.options.ecmaVersion>=6&&M!==S.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(W=!0),this.exprAllowed=W};var nt=Ve.prototype;nt.checkPropClash=function(M,W,ee){if(!(this.options.ecmaVersion>=9&&M.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(M.computed||M.method||M.shorthand))){var ae=M.key,Se;switch(ae.type){case"Identifier":Se=ae.name;break;case"Literal":Se=String(ae.value);break;default:return}var Be=M.kind;if(this.options.ecmaVersion>=6){Se==="__proto__"&&Be==="init"&&(W.proto&&(ee?ee.doubleProto<0&&(ee.doubleProto=ae.start):this.raiseRecoverable(ae.start,"Redefinition of __proto__ property")),W.proto=!0);return}Se="$"+Se;var Ke=W[Se];if(Ke){var dt;Be==="init"?dt=this.strict&&Ke.init||Ke.get||Ke.set:dt=Ke.init||Ke[Be],dt&&this.raiseRecoverable(ae.start,"Redefinition of property")}else Ke=W[Se]={init:!1,get:!1,set:!1};Ke[Be]=!0}},nt.parseExpression=function(M,W){var ee=this.start,ae=this.startLoc,Se=this.parseMaybeAssign(M,W);if(this.type===S.comma){var Be=this.startNodeAt(ee,ae);for(Be.expressions=[Se];this.eat(S.comma);)Be.expressions.push(this.parseMaybeAssign(M,W));return this.finishNode(Be,"SequenceExpression")}return Se},nt.parseMaybeAssign=function(M,W,ee){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(M);this.exprAllowed=!1}var ae=!1,Se=-1,Be=-1,Ke=-1;W?(Se=W.parenthesizedAssign,Be=W.trailingComma,Ke=W.doubleProto,W.parenthesizedAssign=W.trailingComma=-1):(W=new pe,ae=!0);var dt=this.start,bt=this.startLoc;(this.type===S.parenL||this.type===S.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=M==="await");var Ht=this.parseMaybeConditional(M,W);if(ee&&(Ht=ee.call(this,Ht,dt,bt)),this.type.isAssign){var Wt=this.startNodeAt(dt,bt);return Wt.operator=this.value,this.type===S.eq&&(Ht=this.toAssignable(Ht,!1,W)),ae||(W.parenthesizedAssign=W.trailingComma=W.doubleProto=-1),W.shorthandAssign>=Ht.start&&(W.shorthandAssign=-1),this.type===S.eq?this.checkLValPattern(Ht):this.checkLValSimple(Ht),Wt.left=Ht,this.next(),Wt.right=this.parseMaybeAssign(M),Ke>-1&&(W.doubleProto=Ke),this.finishNode(Wt,"AssignmentExpression")}else ae&&this.checkExpressionErrors(W,!0);return Se>-1&&(W.parenthesizedAssign=Se),Be>-1&&(W.trailingComma=Be),Ht},nt.parseMaybeConditional=function(M,W){var ee=this.start,ae=this.startLoc,Se=this.parseExprOps(M,W);if(this.checkExpressionErrors(W))return Se;if(this.eat(S.question)){var Be=this.startNodeAt(ee,ae);return Be.test=Se,Be.consequent=this.parseMaybeAssign(),this.expect(S.colon),Be.alternate=this.parseMaybeAssign(M),this.finishNode(Be,"ConditionalExpression")}return Se},nt.parseExprOps=function(M,W){var ee=this.start,ae=this.startLoc,Se=this.parseMaybeUnary(W,!1,!1,M);return this.checkExpressionErrors(W)||Se.start===ee&&Se.type==="ArrowFunctionExpression"?Se:this.parseExprOp(Se,ee,ae,-1,M)},nt.parseExprOp=function(M,W,ee,ae,Se){var Be=this.type.binop;if(Be!=null&&(!Se||this.type!==S._in)&&Be>ae){var Ke=this.type===S.logicalOR||this.type===S.logicalAND,dt=this.type===S.coalesce;dt&&(Be=S.logicalAND.binop);var bt=this.value;this.next();var Ht=this.start,Wt=this.startLoc,Kt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Se),Ht,Wt,Be,Se),nr=this.buildBinary(W,ee,M,Kt,bt,Ke||dt);return(Ke&&this.type===S.coalesce||dt&&(this.type===S.logicalOR||this.type===S.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(nr,W,ee,ae,Se)}return M},nt.buildBinary=function(M,W,ee,ae,Se,Be){ae.type==="PrivateIdentifier"&&this.raise(ae.start,"Private identifier can only be left side of binary expression");var Ke=this.startNodeAt(M,W);return Ke.left=ee,Ke.operator=Se,Ke.right=ae,this.finishNode(Ke,Be?"LogicalExpression":"BinaryExpression")},nt.parseMaybeUnary=function(M,W,ee,ae){var Se=this.start,Be=this.startLoc,Ke;if(this.isContextual("await")&&this.canAwait)Ke=this.parseAwait(ae),W=!0;else if(this.type.prefix){var dt=this.startNode(),bt=this.type===S.incDec;dt.operator=this.value,dt.prefix=!0,this.next(),dt.argument=this.parseMaybeUnary(null,!0,bt,ae),this.checkExpressionErrors(M,!0),bt?this.checkLValSimple(dt.argument):this.strict&&dt.operator==="delete"&&jt(dt.argument)?this.raiseRecoverable(dt.start,"Deleting local variable in strict mode"):dt.operator==="delete"&&Dn(dt.argument)?this.raiseRecoverable(dt.start,"Private fields can not be deleted"):W=!0,Ke=this.finishNode(dt,bt?"UpdateExpression":"UnaryExpression")}else if(!W&&this.type===S.privateId)(ae||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Ke=this.parsePrivateIdent(),this.type!==S._in&&this.unexpected();else{if(Ke=this.parseExprSubscripts(M,ae),this.checkExpressionErrors(M))return Ke;for(;this.type.postfix&&!this.canInsertSemicolon();){var Ht=this.startNodeAt(Se,Be);Ht.operator=this.value,Ht.prefix=!1,Ht.argument=Ke,this.checkLValSimple(Ke),this.next(),Ke=this.finishNode(Ht,"UpdateExpression")}}if(!ee&&this.eat(S.starstar))if(W)this.unexpected(this.lastTokStart);else return this.buildBinary(Se,Be,Ke,this.parseMaybeUnary(null,!1,!1,ae),"**",!1);else return Ke};function jt(M){return M.type==="Identifier"||M.type==="ParenthesizedExpression"&&jt(M.expression)}function Dn(M){return M.type==="MemberExpression"&&M.property.type==="PrivateIdentifier"||M.type==="ChainExpression"&&Dn(M.expression)||M.type==="ParenthesizedExpression"&&Dn(M.expression)}nt.parseExprSubscripts=function(M,W){var ee=this.start,ae=this.startLoc,Se=this.parseExprAtom(M,W);if(Se.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Se;var Be=this.parseSubscripts(Se,ee,ae,!1,W);return M&&Be.type==="MemberExpression"&&(M.parenthesizedAssign>=Be.start&&(M.parenthesizedAssign=-1),M.parenthesizedBind>=Be.start&&(M.parenthesizedBind=-1),M.trailingComma>=Be.start&&(M.trailingComma=-1)),Be},nt.parseSubscripts=function(M,W,ee,ae,Se){for(var Be=this.options.ecmaVersion>=8&&M.type==="Identifier"&&M.name==="async"&&this.lastTokEnd===M.end&&!this.canInsertSemicolon()&&M.end-M.start===5&&this.potentialArrowAt===M.start,Ke=!1;;){var dt=this.parseSubscript(M,W,ee,ae,Be,Ke,Se);if(dt.optional&&(Ke=!0),dt===M||dt.type==="ArrowFunctionExpression"){if(Ke){var bt=this.startNodeAt(W,ee);bt.expression=dt,dt=this.finishNode(bt,"ChainExpression")}return dt}M=dt}},nt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(S.arrow)},nt.parseSubscriptAsyncArrow=function(M,W,ee,ae){return this.parseArrowExpression(this.startNodeAt(M,W),ee,!0,ae)},nt.parseSubscript=function(M,W,ee,ae,Se,Be,Ke){var dt=this.options.ecmaVersion>=11,bt=dt&&this.eat(S.questionDot);ae&&bt&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Ht=this.eat(S.bracketL);if(Ht||bt&&this.type!==S.parenL&&this.type!==S.backQuote||this.eat(S.dot)){var Wt=this.startNodeAt(W,ee);Wt.object=M,Ht?(Wt.property=this.parseExpression(),this.expect(S.bracketR)):this.type===S.privateId&&M.type!=="Super"?Wt.property=this.parsePrivateIdent():Wt.property=this.parseIdent(this.options.allowReserved!=="never"),Wt.computed=!!Ht,dt&&(Wt.optional=bt),M=this.finishNode(Wt,"MemberExpression")}else if(!ae&&this.eat(S.parenL)){var Kt=new pe,nr=this.yieldPos,_e=this.awaitPos,re=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var xe=this.parseExprList(S.parenR,this.options.ecmaVersion>=8,!1,Kt);if(Se&&!bt&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Kt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=nr,this.awaitPos=_e,this.awaitIdentPos=re,this.parseSubscriptAsyncArrow(W,ee,xe,Ke);this.checkExpressionErrors(Kt,!0),this.yieldPos=nr||this.yieldPos,this.awaitPos=_e||this.awaitPos,this.awaitIdentPos=re||this.awaitIdentPos;var $e=this.startNodeAt(W,ee);$e.callee=M,$e.arguments=xe,dt&&($e.optional=bt),M=this.finishNode($e,"CallExpression")}else if(this.type===S.backQuote){(bt||Be)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var mt=this.startNodeAt(W,ee);mt.tag=M,mt.quasi=this.parseTemplate({isTagged:!0}),M=this.finishNode(mt,"TaggedTemplateExpression")}return M},nt.parseExprAtom=function(M,W,ee){this.type===S.slash&&this.readRegexp();var ae,Se=this.potentialArrowAt===this.start;switch(this.type){case S._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),ae=this.startNode(),this.next(),this.type===S.parenL&&!this.allowDirectSuper&&this.raise(ae.start,"super() call outside constructor of a subclass"),this.type!==S.dot&&this.type!==S.bracketL&&this.type!==S.parenL&&this.unexpected(),this.finishNode(ae,"Super");case S._this:return ae=this.startNode(),this.next(),this.finishNode(ae,"ThisExpression");case S.name:var Be=this.start,Ke=this.startLoc,dt=this.containsEsc,bt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!dt&&bt.name==="async"&&!this.canInsertSemicolon()&&this.eat(S._function))return this.overrideContext(St.f_expr),this.parseFunction(this.startNodeAt(Be,Ke),0,!1,!0,W);if(Se&&!this.canInsertSemicolon()){if(this.eat(S.arrow))return this.parseArrowExpression(this.startNodeAt(Be,Ke),[bt],!1,W);if(this.options.ecmaVersion>=8&&bt.name==="async"&&this.type===S.name&&!dt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return bt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(S.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Be,Ke),[bt],!0,W)}return bt;case S.regexp:var Ht=this.value;return ae=this.parseLiteral(Ht.value),ae.regex={pattern:Ht.pattern,flags:Ht.flags},ae;case S.num:case S.string:return this.parseLiteral(this.value);case S._null:case S._true:case S._false:return ae=this.startNode(),ae.value=this.type===S._null?null:this.type===S._true,ae.raw=this.type.keyword,this.next(),this.finishNode(ae,"Literal");case S.parenL:var Wt=this.start,Kt=this.parseParenAndDistinguishExpression(Se,W);return M&&(M.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Kt)&&(M.parenthesizedAssign=Wt),M.parenthesizedBind<0&&(M.parenthesizedBind=Wt)),Kt;case S.bracketL:return ae=this.startNode(),this.next(),ae.elements=this.parseExprList(S.bracketR,!0,!0,M),this.finishNode(ae,"ArrayExpression");case S.braceL:return this.overrideContext(St.b_expr),this.parseObj(!1,M);case S._function:return ae=this.startNode(),this.next(),this.parseFunction(ae,0);case S._class:return this.parseClass(this.startNode(),!1);case S._new:return this.parseNew();case S.backQuote:return this.parseTemplate();case S._import:return this.options.ecmaVersion>=11?this.parseExprImport(ee):this.unexpected();default:return this.parseExprAtomDefault()}},nt.parseExprAtomDefault=function(){this.unexpected()},nt.parseExprImport=function(M){var W=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===S.parenL&&!M)return this.parseDynamicImport(W);if(this.type===S.dot){var ee=this.startNodeAt(W.start,W.loc&&W.loc.start);return ee.name="import",W.meta=this.finishNode(ee,"Identifier"),this.parseImportMeta(W)}else this.unexpected()},nt.parseDynamicImport=function(M){if(this.next(),M.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(S.parenR)?M.options=null:(this.expect(S.comma),this.afterTrailingComma(S.parenR)?M.options=null:(M.options=this.parseMaybeAssign(),this.eat(S.parenR)||(this.expect(S.comma),this.afterTrailingComma(S.parenR)||this.unexpected())));else if(!this.eat(S.parenR)){var W=this.start;this.eat(S.comma)&&this.eat(S.parenR)?this.raiseRecoverable(W,"Trailing comma is not allowed in import()"):this.unexpected(W)}return this.finishNode(M,"ImportExpression")},nt.parseImportMeta=function(M){this.next();var W=this.containsEsc;return M.property=this.parseIdent(!0),M.property.name!=="meta"&&this.raiseRecoverable(M.property.start,"The only valid meta property for import is 'import.meta'"),W&&this.raiseRecoverable(M.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(M.start,"Cannot use 'import.meta' outside a module"),this.finishNode(M,"MetaProperty")},nt.parseLiteral=function(M){var W=this.startNode();return W.value=M,W.raw=this.input.slice(this.start,this.end),W.raw.charCodeAt(W.raw.length-1)===110&&(W.bigint=W.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(W,"Literal")},nt.parseParenExpression=function(){this.expect(S.parenL);var M=this.parseExpression();return this.expect(S.parenR),M},nt.shouldParseArrow=function(M){return!this.canInsertSemicolon()},nt.parseParenAndDistinguishExpression=function(M,W){var ee=this.start,ae=this.startLoc,Se,Be=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Ke=this.start,dt=this.startLoc,bt=[],Ht=!0,Wt=!1,Kt=new pe,nr=this.yieldPos,_e=this.awaitPos,re;for(this.yieldPos=0,this.awaitPos=0;this.type!==S.parenR;)if(Ht?Ht=!1:this.expect(S.comma),Be&&this.afterTrailingComma(S.parenR,!0)){Wt=!0;break}else if(this.type===S.ellipsis){re=this.start,bt.push(this.parseParenItem(this.parseRestBinding())),this.type===S.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else bt.push(this.parseMaybeAssign(!1,Kt,this.parseParenItem));var xe=this.lastTokEnd,$e=this.lastTokEndLoc;if(this.expect(S.parenR),M&&this.shouldParseArrow(bt)&&this.eat(S.arrow))return this.checkPatternErrors(Kt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=nr,this.awaitPos=_e,this.parseParenArrowList(ee,ae,bt,W);(!bt.length||Wt)&&this.unexpected(this.lastTokStart),re&&this.unexpected(re),this.checkExpressionErrors(Kt,!0),this.yieldPos=nr||this.yieldPos,this.awaitPos=_e||this.awaitPos,bt.length>1?(Se=this.startNodeAt(Ke,dt),Se.expressions=bt,this.finishNodeAt(Se,"SequenceExpression",xe,$e)):Se=bt[0]}else Se=this.parseParenExpression();if(this.options.preserveParens){var mt=this.startNodeAt(ee,ae);return mt.expression=Se,this.finishNode(mt,"ParenthesizedExpression")}else return Se},nt.parseParenItem=function(M){return M},nt.parseParenArrowList=function(M,W,ee,ae){return this.parseArrowExpression(this.startNodeAt(M,W),ee,!1,ae)};var ei=[];nt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var M=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===S.dot){var W=this.startNodeAt(M.start,M.loc&&M.loc.start);W.name="new",M.meta=this.finishNode(W,"Identifier"),this.next();var ee=this.containsEsc;return M.property=this.parseIdent(!0),M.property.name!=="target"&&this.raiseRecoverable(M.property.start,"The only valid meta property for new is 'new.target'"),ee&&this.raiseRecoverable(M.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(M.start,"'new.target' can only be used in functions and class static block"),this.finishNode(M,"MetaProperty")}var ae=this.start,Se=this.startLoc;return M.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),ae,Se,!0,!1),this.eat(S.parenL)?M.arguments=this.parseExprList(S.parenR,this.options.ecmaVersion>=8,!1):M.arguments=ei,this.finishNode(M,"NewExpression")},nt.parseTemplateElement=function(M){var W=M.isTagged,ee=this.startNode();return this.type===S.invalidTemplate?(W||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),ee.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):ee.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),ee.tail=this.type===S.backQuote,this.finishNode(ee,"TemplateElement")},nt.parseTemplate=function(M){M===void 0&&(M={});var W=M.isTagged;W===void 0&&(W=!1);var ee=this.startNode();this.next(),ee.expressions=[];var ae=this.parseTemplateElement({isTagged:W});for(ee.quasis=[ae];!ae.tail;)this.type===S.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(S.dollarBraceL),ee.expressions.push(this.parseExpression()),this.expect(S.braceR),ee.quasis.push(ae=this.parseTemplateElement({isTagged:W}));return this.next(),this.finishNode(ee,"TemplateLiteral")},nt.isAsyncProp=function(M){return!M.computed&&M.key.type==="Identifier"&&M.key.name==="async"&&(this.type===S.name||this.type===S.num||this.type===S.string||this.type===S.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===S.star)&&!N.test(this.input.slice(this.lastTokEnd,this.start))},nt.parseObj=function(M,W){var ee=this.startNode(),ae=!0,Se={};for(ee.properties=[],this.next();!this.eat(S.braceR);){if(ae)ae=!1;else if(this.expect(S.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(S.braceR))break;var Be=this.parseProperty(M,W);M||this.checkPropClash(Be,Se,W),ee.properties.push(Be)}return this.finishNode(ee,M?"ObjectPattern":"ObjectExpression")},nt.parseProperty=function(M,W){var ee=this.startNode(),ae,Se,Be,Ke;if(this.options.ecmaVersion>=9&&this.eat(S.ellipsis))return M?(ee.argument=this.parseIdent(!1),this.type===S.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(ee,"RestElement")):(ee.argument=this.parseMaybeAssign(!1,W),this.type===S.comma&&W&&W.trailingComma<0&&(W.trailingComma=this.start),this.finishNode(ee,"SpreadElement"));this.options.ecmaVersion>=6&&(ee.method=!1,ee.shorthand=!1,(M||W)&&(Be=this.start,Ke=this.startLoc),M||(ae=this.eat(S.star)));var dt=this.containsEsc;return this.parsePropertyName(ee),!M&&!dt&&this.options.ecmaVersion>=8&&!ae&&this.isAsyncProp(ee)?(Se=!0,ae=this.options.ecmaVersion>=9&&this.eat(S.star),this.parsePropertyName(ee)):Se=!1,this.parsePropertyValue(ee,M,ae,Se,Be,Ke,W,dt),this.finishNode(ee,"Property")},nt.parseGetterSetter=function(M){M.kind=M.key.name,this.parsePropertyName(M),M.value=this.parseMethod(!1);var W=M.kind==="get"?0:1;if(M.value.params.length!==W){var ee=M.value.start;M.kind==="get"?this.raiseRecoverable(ee,"getter should have no params"):this.raiseRecoverable(ee,"setter should have exactly one param")}else M.kind==="set"&&M.value.params[0].type==="RestElement"&&this.raiseRecoverable(M.value.params[0].start,"Setter cannot use rest params")},nt.parsePropertyValue=function(M,W,ee,ae,Se,Be,Ke,dt){(ee||ae)&&this.type===S.colon&&this.unexpected(),this.eat(S.colon)?(M.value=W?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Ke),M.kind="init"):this.options.ecmaVersion>=6&&this.type===S.parenL?(W&&this.unexpected(),M.kind="init",M.method=!0,M.value=this.parseMethod(ee,ae)):!W&&!dt&&this.options.ecmaVersion>=5&&!M.computed&&M.key.type==="Identifier"&&(M.key.name==="get"||M.key.name==="set")&&this.type!==S.comma&&this.type!==S.braceR&&this.type!==S.eq?((ee||ae)&&this.unexpected(),this.parseGetterSetter(M)):this.options.ecmaVersion>=6&&!M.computed&&M.key.type==="Identifier"?((ee||ae)&&this.unexpected(),this.checkUnreserved(M.key),M.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Se),M.kind="init",W?M.value=this.parseMaybeDefault(Se,Be,this.copyNode(M.key)):this.type===S.eq&&Ke?(Ke.shorthandAssign<0&&(Ke.shorthandAssign=this.start),M.value=this.parseMaybeDefault(Se,Be,this.copyNode(M.key))):M.value=this.copyNode(M.key),M.shorthand=!0):this.unexpected()},nt.parsePropertyName=function(M){if(this.options.ecmaVersion>=6){if(this.eat(S.bracketL))return M.computed=!0,M.key=this.parseMaybeAssign(),this.expect(S.bracketR),M.key;M.computed=!1}return M.key=this.type===S.num||this.type===S.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},nt.initFunction=function(M){M.id=null,this.options.ecmaVersion>=6&&(M.generator=M.expression=!1),this.options.ecmaVersion>=8&&(M.async=!1)},nt.parseMethod=function(M,W,ee){var ae=this.startNode(),Se=this.yieldPos,Be=this.awaitPos,Ke=this.awaitIdentPos;return this.initFunction(ae),this.options.ecmaVersion>=6&&(ae.generator=M),this.options.ecmaVersion>=8&&(ae.async=!!W),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($t(W,ae.generator)|Qe|(ee?De:0)),this.expect(S.parenL),ae.params=this.parseBindingList(S.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(ae,!1,!0,!1),this.yieldPos=Se,this.awaitPos=Be,this.awaitIdentPos=Ke,this.finishNode(ae,"FunctionExpression")},nt.parseArrowExpression=function(M,W,ee,ae){var Se=this.yieldPos,Be=this.awaitPos,Ke=this.awaitIdentPos;return this.enterScope($t(ee,!1)|he),this.initFunction(M),this.options.ecmaVersion>=8&&(M.async=!!ee),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,M.params=this.toAssignableList(W,!0),this.parseFunctionBody(M,!0,!1,ae),this.yieldPos=Se,this.awaitPos=Be,this.awaitIdentPos=Ke,this.finishNode(M,"ArrowFunctionExpression")},nt.parseFunctionBody=function(M,W,ee,ae){var Se=W&&this.type!==S.braceL,Be=this.strict,Ke=!1;if(Se)M.body=this.parseMaybeAssign(ae),M.expression=!0,this.checkParams(M,!1);else{var dt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(M.params);(!Be||dt)&&(Ke=this.strictDirective(this.end),Ke&&dt&&this.raiseRecoverable(M.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var bt=this.labels;this.labels=[],Ke&&(this.strict=!0),this.checkParams(M,!Be&&!Ke&&!W&&!ee&&this.isSimpleParamList(M.params)),this.strict&&M.id&&this.checkLValSimple(M.id,_t),M.body=this.parseBlock(!1,void 0,Ke&&!Be),M.expression=!1,this.adaptDirectivePrologue(M.body.body),this.labels=bt}this.exitScope()},nt.isSimpleParamList=function(M){for(var W=0,ee=M;W<ee.length;W+=1){var ae=ee[W];if(ae.type!=="Identifier")return!1}return!0},nt.checkParams=function(M,W){for(var ee=Object.create(null),ae=0,Se=M.params;ae<Se.length;ae+=1){var Be=Se[ae];this.checkLValInnerPattern(Be,br,W?null:ee)}},nt.parseExprList=function(M,W,ee,ae){for(var Se=[],Be=!0;!this.eat(M);){if(Be)Be=!1;else if(this.expect(S.comma),W&&this.afterTrailingComma(M))break;var Ke=void 0;ee&&this.type===S.comma?Ke=null:this.type===S.ellipsis?(Ke=this.parseSpread(ae),ae&&this.type===S.comma&&ae.trailingComma<0&&(ae.trailingComma=this.start)):Ke=this.parseMaybeAssign(!1,ae),Se.push(Ke)}return Se},nt.checkUnreserved=function(M){var W=M.start,ee=M.end,ae=M.name;if(this.inGenerator&&ae==="yield"&&this.raiseRecoverable(W,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&ae==="await"&&this.raiseRecoverable(W,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&ae==="arguments"&&this.raiseRecoverable(W,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(ae==="arguments"||ae==="await")&&this.raise(W,"Cannot use "+ae+" in class static initialization block"),this.keywords.test(ae)&&this.raise(W,"Unexpected keyword '"+ae+"'"),!(this.options.ecmaVersion<6&&this.input.slice(W,ee).indexOf("\\")!==-1)){var Se=this.strict?this.reservedWordsStrict:this.reservedWords;Se.test(ae)&&(!this.inAsync&&ae==="await"&&this.raiseRecoverable(W,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(W,"The keyword '"+ae+"' is reserved"))}},nt.parseIdent=function(M){var W=this.parseIdentNode();return this.next(!!M),this.finishNode(W,"Identifier"),M||(this.checkUnreserved(W),W.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=W.start)),W},nt.parseIdentNode=function(){var M=this.startNode();return this.type===S.name?M.name=this.value:this.type.keyword?(M.name=this.type.keyword,(M.name==="class"||M.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=S.name):this.unexpected(),M},nt.parsePrivateIdent=function(){var M=this.startNode();return this.type===S.privateId?M.name=this.value:this.unexpected(),this.next(),this.finishNode(M,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(M.start,"Private field '#"+M.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(M)),M},nt.parseYield=function(M){this.yieldPos||(this.yieldPos=this.start);var W=this.startNode();return this.next(),this.type===S.semi||this.canInsertSemicolon()||this.type!==S.star&&!this.type.startsExpr?(W.delegate=!1,W.argument=null):(W.delegate=this.eat(S.star),W.argument=this.parseMaybeAssign(M)),this.finishNode(W,"YieldExpression")},nt.parseAwait=function(M){this.awaitPos||(this.awaitPos=this.start);var W=this.startNode();return this.next(),W.argument=this.parseMaybeUnary(null,!0,!1,M),this.finishNode(W,"AwaitExpression")};var vn=Ve.prototype;vn.raise=function(M,W){var ee=le(this.input,M);W+=" ("+ee.line+":"+ee.column+")";var ae=new SyntaxError(W);throw ae.pos=M,ae.loc=ee,ae.raisedAt=this.pos,ae},vn.raiseRecoverable=vn.raise,vn.curPosition=function(){if(this.options.locations)return new se(this.curLine,this.pos-this.lineStart)};var Nr=Ve.prototype,ui=function(W){this.flags=W,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Nr.enterScope=function(M){this.scopeStack.push(new ui(M))},Nr.exitScope=function(){this.scopeStack.pop()},Nr.treatFunctionsAsVarInScope=function(M){return M.flags&ke||!this.inModule&&M.flags&Re},Nr.declareName=function(M,W,ee){var ae=!1;if(W===dr){var Se=this.currentScope();ae=Se.lexical.indexOf(M)>-1||Se.functions.indexOf(M)>-1||Se.var.indexOf(M)>-1,Se.lexical.push(M),this.inModule&&Se.flags&Re&&delete this.undefinedExports[M]}else if(W===He){var Be=this.currentScope();Be.lexical.push(M)}else if(W===Ne){var Ke=this.currentScope();this.treatFunctionsAsVar?ae=Ke.lexical.indexOf(M)>-1:ae=Ke.lexical.indexOf(M)>-1||Ke.var.indexOf(M)>-1,Ke.functions.push(M)}else for(var dt=this.scopeStack.length-1;dt>=0;--dt){var bt=this.scopeStack[dt];if(bt.lexical.indexOf(M)>-1&&!(bt.flags&Le&&bt.lexical[0]===M)||!this.treatFunctionsAsVarInScope(bt)&&bt.functions.indexOf(M)>-1){ae=!0;break}if(bt.var.push(M),this.inModule&&bt.flags&Re&&delete this.undefinedExports[M],bt.flags&Mt)break}ae&&this.raiseRecoverable(ee,"Identifier '"+M+"' has already been declared")},Nr.checkLocalExport=function(M){this.scopeStack[0].lexical.indexOf(M.name)===-1&&this.scopeStack[0].var.indexOf(M.name)===-1&&(this.undefinedExports[M.name]=M)},Nr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Nr.currentVarScope=function(){for(var M=this.scopeStack.length-1;;M--){var W=this.scopeStack[M];if(W.flags&Mt)return W}},Nr.currentThisScope=function(){for(var M=this.scopeStack.length-1;;M--){var W=this.scopeStack[M];if(W.flags&Mt&&!(W.flags&he))return W}};var On=function(W,ee,ae){this.type="",this.start=ee,this.end=0,W.options.locations&&(this.loc=new J(W,ae)),W.options.directSourceFile&&(this.sourceFile=W.options.directSourceFile),W.options.ranges&&(this.range=[ee,0])},jn=Ve.prototype;jn.startNode=function(){return new On(this,this.start,this.startLoc)},jn.startNodeAt=function(M,W){return new On(this,M,W)};function ti(M,W,ee,ae){return M.type=W,M.end=ee,this.options.locations&&(M.loc.end=ae),this.options.ranges&&(M.range[1]=ee),M}jn.finishNode=function(M,W){return ti.call(this,M,W,this.lastTokEnd,this.lastTokEndLoc)},jn.finishNodeAt=function(M,W,ee,ae){return ti.call(this,M,W,ee,ae)},jn.copyNode=function(M){var W=new On(this,M.start,this.startLoc);for(var ee in M)W[ee]=M[ee];return W};var Ui="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",bn="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Tn=bn+" Extended_Pictographic",ln=Tn,Et=ln+" EBase EComp EMod EPres ExtPict",Cr=Et,En=Cr,Cn={9:bn,10:Tn,11:ln,12:Et,13:Cr,14:En},xn="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ks={9:"",10:"",11:"",12:"",13:"",14:xn},Ci="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ri="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ai=ri+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",An=Ai+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",jr=An+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",rn=jr+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Sn=rn+" "+Ui,Tr={9:ri,10:Ai,11:An,12:jr,13:rn,14:Sn},ki={};function Nn(M){var W=ki[M]={binary:Q(Cn[M]+" "+Ci),binaryOfStrings:Q(ks[M]),nonBinary:{General_Category:Q(Ci),Script:Q(Tr[M])}};W.nonBinary.Script_Extensions=W.nonBinary.Script,W.nonBinary.gc=W.nonBinary.General_Category,W.nonBinary.sc=W.nonBinary.Script,W.nonBinary.scx=W.nonBinary.Script_Extensions}for(var zt=0,wn=[9,10,11,12,13,14];zt<wn.length;zt+=1){var un=wn[zt];Nn(un)}var wt=Ve.prototype,ni=function(W,ee){this.parent=W,this.base=ee||this};ni.prototype.separatedFrom=function(W){for(var ee=this;ee;ee=ee.parent)for(var ae=W;ae;ae=ae.parent)if(ee.base===ae.base&&ee!==ae)return!0;return!1},ni.prototype.sibling=function(){return new ni(this.parent,this.base)};var cn=function(W){this.parser=W,this.validFlags="gim"+(W.options.ecmaVersion>=6?"uy":"")+(W.options.ecmaVersion>=9?"s":"")+(W.options.ecmaVersion>=13?"d":"")+(W.options.ecmaVersion>=15?"v":""),this.unicodeProperties=ki[W.options.ecmaVersion>=14?14:W.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};cn.prototype.reset=function(W,ee,ae){var Se=ae.indexOf("v")!==-1,Be=ae.indexOf("u")!==-1;this.start=W|0,this.source=ee+"",this.flags=ae,Se&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Be&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Be&&this.parser.options.ecmaVersion>=9)},cn.prototype.raise=function(W){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+W)},cn.prototype.at=function(W,ee){ee===void 0&&(ee=!1);var ae=this.source,Se=ae.length;if(W>=Se)return-1;var Be=ae.charCodeAt(W);if(!(ee||this.switchU)||Be<=55295||Be>=57344||W+1>=Se)return Be;var Ke=ae.charCodeAt(W+1);return Ke>=56320&&Ke<=57343?(Be<<10)+Ke-56613888:Be},cn.prototype.nextIndex=function(W,ee){ee===void 0&&(ee=!1);var ae=this.source,Se=ae.length;if(W>=Se)return Se;var Be=ae.charCodeAt(W),Ke;return!(ee||this.switchU)||Be<=55295||Be>=57344||W+1>=Se||(Ke=ae.charCodeAt(W+1))<56320||Ke>57343?W+1:W+2},cn.prototype.current=function(W){return W===void 0&&(W=!1),this.at(this.pos,W)},cn.prototype.lookahead=function(W){return W===void 0&&(W=!1),this.at(this.nextIndex(this.pos,W),W)},cn.prototype.advance=function(W){W===void 0&&(W=!1),this.pos=this.nextIndex(this.pos,W)},cn.prototype.eat=function(W,ee){return ee===void 0&&(ee=!1),this.current(ee)===W?(this.advance(ee),!0):!1},cn.prototype.eatChars=function(W,ee){ee===void 0&&(ee=!1);for(var ae=this.pos,Se=0,Be=W;Se<Be.length;Se+=1){var Ke=Be[Se],dt=this.at(ae,ee);if(dt===-1||dt!==Ke)return!1;ae=this.nextIndex(ae,ee)}return this.pos=ae,!0},wt.validateRegExpFlags=function(M){for(var W=M.validFlags,ee=M.flags,ae=!1,Se=!1,Be=0;Be<ee.length;Be++){var Ke=ee.charAt(Be);W.indexOf(Ke)===-1&&this.raise(M.start,"Invalid regular expression flag"),ee.indexOf(Ke,Be+1)>-1&&this.raise(M.start,"Duplicate regular expression flag"),Ke==="u"&&(ae=!0),Ke==="v"&&(Se=!0)}this.options.ecmaVersion>=15&&ae&&Se&&this.raise(M.start,"Invalid regular expression flag")};function Rs(M){for(var W in M)return!0;return!1}wt.validateRegExpPattern=function(M){this.regexp_pattern(M),!M.switchN&&this.options.ecmaVersion>=9&&Rs(M.groupNames)&&(M.switchN=!0,this.regexp_pattern(M))},wt.regexp_pattern=function(M){M.pos=0,M.lastIntValue=0,M.lastStringValue="",M.lastAssertionIsQuantifiable=!1,M.numCapturingParens=0,M.maxBackReference=0,M.groupNames=Object.create(null),M.backReferenceNames.length=0,M.branchID=null,this.regexp_disjunction(M),M.pos!==M.source.length&&(M.eat(41)&&M.raise("Unmatched ')'"),(M.eat(93)||M.eat(125))&&M.raise("Lone quantifier brackets")),M.maxBackReference>M.numCapturingParens&&M.raise("Invalid escape");for(var W=0,ee=M.backReferenceNames;W<ee.length;W+=1){var ae=ee[W];M.groupNames[ae]||M.raise("Invalid named capture referenced")}},wt.regexp_disjunction=function(M){var W=this.options.ecmaVersion>=16;for(W&&(M.branchID=new ni(M.branchID,null)),this.regexp_alternative(M);M.eat(124);)W&&(M.branchID=M.branchID.sibling()),this.regexp_alternative(M);W&&(M.branchID=M.branchID.parent),this.regexp_eatQuantifier(M,!0)&&M.raise("Nothing to repeat"),M.eat(123)&&M.raise("Lone quantifier brackets")},wt.regexp_alternative=function(M){for(;M.pos<M.source.length&&this.regexp_eatTerm(M););},wt.regexp_eatTerm=function(M){return this.regexp_eatAssertion(M)?(M.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(M)&&M.switchU&&M.raise("Invalid quantifier"),!0):(M.switchU?this.regexp_eatAtom(M):this.regexp_eatExtendedAtom(M))?(this.regexp_eatQuantifier(M),!0):!1},wt.regexp_eatAssertion=function(M){var W=M.pos;if(M.lastAssertionIsQuantifiable=!1,M.eat(94)||M.eat(36))return!0;if(M.eat(92)){if(M.eat(66)||M.eat(98))return!0;M.pos=W}if(M.eat(40)&&M.eat(63)){var ee=!1;if(this.options.ecmaVersion>=9&&(ee=M.eat(60)),M.eat(61)||M.eat(33))return this.regexp_disjunction(M),M.eat(41)||M.raise("Unterminated group"),M.lastAssertionIsQuantifiable=!ee,!0}return M.pos=W,!1},wt.regexp_eatQuantifier=function(M,W){return W===void 0&&(W=!1),this.regexp_eatQuantifierPrefix(M,W)?(M.eat(63),!0):!1},wt.regexp_eatQuantifierPrefix=function(M,W){return M.eat(42)||M.eat(43)||M.eat(63)||this.regexp_eatBracedQuantifier(M,W)},wt.regexp_eatBracedQuantifier=function(M,W){var ee=M.pos;if(M.eat(123)){var ae=0,Se=-1;if(this.regexp_eatDecimalDigits(M)&&(ae=M.lastIntValue,M.eat(44)&&this.regexp_eatDecimalDigits(M)&&(Se=M.lastIntValue),M.eat(125)))return Se!==-1&&Se<ae&&!W&&M.raise("numbers out of order in {} quantifier"),!0;M.switchU&&!W&&M.raise("Incomplete quantifier"),M.pos=ee}return!1},wt.regexp_eatAtom=function(M){return this.regexp_eatPatternCharacters(M)||M.eat(46)||this.regexp_eatReverseSolidusAtomEscape(M)||this.regexp_eatCharacterClass(M)||this.regexp_eatUncapturingGroup(M)||this.regexp_eatCapturingGroup(M)},wt.regexp_eatReverseSolidusAtomEscape=function(M){var W=M.pos;if(M.eat(92)){if(this.regexp_eatAtomEscape(M))return!0;M.pos=W}return!1},wt.regexp_eatUncapturingGroup=function(M){var W=M.pos;if(M.eat(40)){if(M.eat(63)){if(this.options.ecmaVersion>=16){var ee=this.regexp_eatModifiers(M),ae=M.eat(45);if(ee||ae){for(var Se=0;Se<ee.length;Se++){var Be=ee.charAt(Se);ee.indexOf(Be,Se+1)>-1&&M.raise("Duplicate regular expression modifiers")}if(ae){var Ke=this.regexp_eatModifiers(M);!ee&&!Ke&&M.current()===58&&M.raise("Invalid regular expression modifiers");for(var dt=0;dt<Ke.length;dt++){var bt=Ke.charAt(dt);(Ke.indexOf(bt,dt+1)>-1||ee.indexOf(bt)>-1)&&M.raise("Duplicate regular expression modifiers")}}}}if(M.eat(58)){if(this.regexp_disjunction(M),M.eat(41))return!0;M.raise("Unterminated group")}}M.pos=W}return!1},wt.regexp_eatCapturingGroup=function(M){if(M.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(M):M.current()===63&&M.raise("Invalid group"),this.regexp_disjunction(M),M.eat(41))return M.numCapturingParens+=1,!0;M.raise("Unterminated group")}return!1},wt.regexp_eatModifiers=function(M){for(var W="",ee=0;(ee=M.current())!==-1&&P(ee);)W+=X(ee),M.advance();return W};function P(M){return M===105||M===109||M===115}wt.regexp_eatExtendedAtom=function(M){return M.eat(46)||this.regexp_eatReverseSolidusAtomEscape(M)||this.regexp_eatCharacterClass(M)||this.regexp_eatUncapturingGroup(M)||this.regexp_eatCapturingGroup(M)||this.regexp_eatInvalidBracedQuantifier(M)||this.regexp_eatExtendedPatternCharacter(M)},wt.regexp_eatInvalidBracedQuantifier=function(M){return this.regexp_eatBracedQuantifier(M,!0)&&M.raise("Nothing to repeat"),!1},wt.regexp_eatSyntaxCharacter=function(M){var W=M.current();return Y(W)?(M.lastIntValue=W,M.advance(),!0):!1};function Y(M){return M===36||M>=40&&M<=43||M===46||M===63||M>=91&&M<=94||M>=123&&M<=125}wt.regexp_eatPatternCharacters=function(M){for(var W=M.pos,ee=0;(ee=M.current())!==-1&&!Y(ee);)M.advance();return M.pos!==W},wt.regexp_eatExtendedPatternCharacter=function(M){var W=M.current();return W!==-1&&W!==36&&!(W>=40&&W<=43)&&W!==46&&W!==63&&W!==91&&W!==94&&W!==124?(M.advance(),!0):!1},wt.regexp_groupSpecifier=function(M){if(M.eat(63)){this.regexp_eatGroupName(M)||M.raise("Invalid group");var W=this.options.ecmaVersion>=16,ee=M.groupNames[M.lastStringValue];if(ee)if(W)for(var ae=0,Se=ee;ae<Se.length;ae+=1){var Be=Se[ae];Be.separatedFrom(M.branchID)||M.raise("Duplicate capture group name")}else M.raise("Duplicate capture group name");W?(ee||(M.groupNames[M.lastStringValue]=[])).push(M.branchID):M.groupNames[M.lastStringValue]=!0}},wt.regexp_eatGroupName=function(M){if(M.lastStringValue="",M.eat(60)){if(this.regexp_eatRegExpIdentifierName(M)&&M.eat(62))return!0;M.raise("Invalid capture group name")}return!1},wt.regexp_eatRegExpIdentifierName=function(M){if(M.lastStringValue="",this.regexp_eatRegExpIdentifierStart(M)){for(M.lastStringValue+=X(M.lastIntValue);this.regexp_eatRegExpIdentifierPart(M);)M.lastStringValue+=X(M.lastIntValue);return!0}return!1},wt.regexp_eatRegExpIdentifierStart=function(M){var W=M.pos,ee=this.options.ecmaVersion>=11,ae=M.current(ee);return M.advance(ee),ae===92&&this.regexp_eatRegExpUnicodeEscapeSequence(M,ee)&&(ae=M.lastIntValue),ie(ae)?(M.lastIntValue=ae,!0):(M.pos=W,!1)};function ie(M){return h(M,!0)||M===36||M===95}wt.regexp_eatRegExpIdentifierPart=function(M){var W=M.pos,ee=this.options.ecmaVersion>=11,ae=M.current(ee);return M.advance(ee),ae===92&&this.regexp_eatRegExpUnicodeEscapeSequence(M,ee)&&(ae=M.lastIntValue),de(ae)?(M.lastIntValue=ae,!0):(M.pos=W,!1)};function de(M){return m(M,!0)||M===36||M===95||M===8204||M===8205}wt.regexp_eatAtomEscape=function(M){return this.regexp_eatBackReference(M)||this.regexp_eatCharacterClassEscape(M)||this.regexp_eatCharacterEscape(M)||M.switchN&&this.regexp_eatKGroupName(M)?!0:(M.switchU&&(M.current()===99&&M.raise("Invalid unicode escape"),M.raise("Invalid escape")),!1)},wt.regexp_eatBackReference=function(M){var W=M.pos;if(this.regexp_eatDecimalEscape(M)){var ee=M.lastIntValue;if(M.switchU)return ee>M.maxBackReference&&(M.maxBackReference=ee),!0;if(ee<=M.numCapturingParens)return!0;M.pos=W}return!1},wt.regexp_eatKGroupName=function(M){if(M.eat(107)){if(this.regexp_eatGroupName(M))return M.backReferenceNames.push(M.lastStringValue),!0;M.raise("Invalid named reference")}return!1},wt.regexp_eatCharacterEscape=function(M){return this.regexp_eatControlEscape(M)||this.regexp_eatCControlLetter(M)||this.regexp_eatZero(M)||this.regexp_eatHexEscapeSequence(M)||this.regexp_eatRegExpUnicodeEscapeSequence(M,!1)||!M.switchU&&this.regexp_eatLegacyOctalEscapeSequence(M)||this.regexp_eatIdentityEscape(M)},wt.regexp_eatCControlLetter=function(M){var W=M.pos;if(M.eat(99)){if(this.regexp_eatControlLetter(M))return!0;M.pos=W}return!1},wt.regexp_eatZero=function(M){return M.current()===48&&!Pn(M.lookahead())?(M.lastIntValue=0,M.advance(),!0):!1},wt.regexp_eatControlEscape=function(M){var W=M.current();return W===116?(M.lastIntValue=9,M.advance(),!0):W===110?(M.lastIntValue=10,M.advance(),!0):W===118?(M.lastIntValue=11,M.advance(),!0):W===102?(M.lastIntValue=12,M.advance(),!0):W===114?(M.lastIntValue=13,M.advance(),!0):!1},wt.regexp_eatControlLetter=function(M){var W=M.current();return Ee(W)?(M.lastIntValue=W%32,M.advance(),!0):!1};function Ee(M){return M>=65&&M<=90||M>=97&&M<=122}wt.regexp_eatRegExpUnicodeEscapeSequence=function(M,W){W===void 0&&(W=!1);var ee=M.pos,ae=W||M.switchU;if(M.eat(117)){if(this.regexp_eatFixedHexDigits(M,4)){var Se=M.lastIntValue;if(ae&&Se>=55296&&Se<=56319){var Be=M.pos;if(M.eat(92)&&M.eat(117)&&this.regexp_eatFixedHexDigits(M,4)){var Ke=M.lastIntValue;if(Ke>=56320&&Ke<=57343)return M.lastIntValue=(Se-55296)*1024+(Ke-56320)+65536,!0}M.pos=Be,M.lastIntValue=Se}return!0}if(ae&&M.eat(123)&&this.regexp_eatHexDigits(M)&&M.eat(125)&&Ge(M.lastIntValue))return!0;ae&&M.raise("Invalid unicode escape"),M.pos=ee}return!1};function Ge(M){return M>=0&&M<=1114111}wt.regexp_eatIdentityEscape=function(M){if(M.switchU)return this.regexp_eatSyntaxCharacter(M)?!0:M.eat(47)?(M.lastIntValue=47,!0):!1;var W=M.current();return W!==99&&(!M.switchN||W!==107)?(M.lastIntValue=W,M.advance(),!0):!1},wt.regexp_eatDecimalEscape=function(M){M.lastIntValue=0;var W=M.current();if(W>=49&&W<=57){do M.lastIntValue=10*M.lastIntValue+(W-48),M.advance();while((W=M.current())>=48&&W<=57);return!0}return!1};var et=0,yt=1,Ct=2;wt.regexp_eatCharacterClassEscape=function(M){var W=M.current();if(or(W))return M.lastIntValue=-1,M.advance(),yt;var ee=!1;if(M.switchU&&this.options.ecmaVersion>=9&&((ee=W===80)||W===112)){M.lastIntValue=-1,M.advance();var ae;if(M.eat(123)&&(ae=this.regexp_eatUnicodePropertyValueExpression(M))&&M.eat(125))return ee&&ae===Ct&&M.raise("Invalid property name"),ae;M.raise("Invalid property name")}return et};function or(M){return M===100||M===68||M===115||M===83||M===119||M===87}wt.regexp_eatUnicodePropertyValueExpression=function(M){var W=M.pos;if(this.regexp_eatUnicodePropertyName(M)&&M.eat(61)){var ee=M.lastStringValue;if(this.regexp_eatUnicodePropertyValue(M)){var ae=M.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(M,ee,ae),yt}}if(M.pos=W,this.regexp_eatLoneUnicodePropertyNameOrValue(M)){var Se=M.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(M,Se)}return et},wt.regexp_validateUnicodePropertyNameAndValue=function(M,W,ee){U(M.unicodeProperties.nonBinary,W)||M.raise("Invalid property name"),M.unicodeProperties.nonBinary[W].test(ee)||M.raise("Invalid property value")},wt.regexp_validateUnicodePropertyNameOrValue=function(M,W){if(M.unicodeProperties.binary.test(W))return yt;if(M.switchV&&M.unicodeProperties.binaryOfStrings.test(W))return Ct;M.raise("Invalid property name")},wt.regexp_eatUnicodePropertyName=function(M){var W=0;for(M.lastStringValue="";mr(W=M.current());)M.lastStringValue+=X(W),M.advance();return M.lastStringValue!==""};function mr(M){return Ee(M)||M===95}wt.regexp_eatUnicodePropertyValue=function(M){var W=0;for(M.lastStringValue="";nn(W=M.current());)M.lastStringValue+=X(W),M.advance();return M.lastStringValue!==""};function nn(M){return mr(M)||Pn(M)}wt.regexp_eatLoneUnicodePropertyNameOrValue=function(M){return this.regexp_eatUnicodePropertyValue(M)},wt.regexp_eatCharacterClass=function(M){if(M.eat(91)){var W=M.eat(94),ee=this.regexp_classContents(M);return M.eat(93)||M.raise("Unterminated character class"),W&&ee===Ct&&M.raise("Negated character class may contain strings"),!0}return!1},wt.regexp_classContents=function(M){return M.current()===93?yt:M.switchV?this.regexp_classSetExpression(M):(this.regexp_nonEmptyClassRanges(M),yt)},wt.regexp_nonEmptyClassRanges=function(M){for(;this.regexp_eatClassAtom(M);){var W=M.lastIntValue;if(M.eat(45)&&this.regexp_eatClassAtom(M)){var ee=M.lastIntValue;M.switchU&&(W===-1||ee===-1)&&M.raise("Invalid character class"),W!==-1&&ee!==-1&&W>ee&&M.raise("Range out of order in character class")}}},wt.regexp_eatClassAtom=function(M){var W=M.pos;if(M.eat(92)){if(this.regexp_eatClassEscape(M))return!0;if(M.switchU){var ee=M.current();(ee===99||$s(ee))&&M.raise("Invalid class escape"),M.raise("Invalid escape")}M.pos=W}var ae=M.current();return ae!==93?(M.lastIntValue=ae,M.advance(),!0):!1},wt.regexp_eatClassEscape=function(M){var W=M.pos;if(M.eat(98))return M.lastIntValue=8,!0;if(M.switchU&&M.eat(45))return M.lastIntValue=45,!0;if(!M.switchU&&M.eat(99)){if(this.regexp_eatClassControlLetter(M))return!0;M.pos=W}return this.regexp_eatCharacterClassEscape(M)||this.regexp_eatCharacterEscape(M)},wt.regexp_classSetExpression=function(M){var W=yt,ee;if(!this.regexp_eatClassSetRange(M))if(ee=this.regexp_eatClassSetOperand(M)){ee===Ct&&(W=Ct);for(var ae=M.pos;M.eatChars([38,38]);){if(M.current()!==38&&(ee=this.regexp_eatClassSetOperand(M))){ee!==Ct&&(W=yt);continue}M.raise("Invalid character in character class")}if(ae!==M.pos)return W;for(;M.eatChars([45,45]);)this.regexp_eatClassSetOperand(M)||M.raise("Invalid character in character class");if(ae!==M.pos)return W}else M.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(M)){if(ee=this.regexp_eatClassSetOperand(M),!ee)return W;ee===Ct&&(W=Ct)}},wt.regexp_eatClassSetRange=function(M){var W=M.pos;if(this.regexp_eatClassSetCharacter(M)){var ee=M.lastIntValue;if(M.eat(45)&&this.regexp_eatClassSetCharacter(M)){var ae=M.lastIntValue;return ee!==-1&&ae!==-1&&ee>ae&&M.raise("Range out of order in character class"),!0}M.pos=W}return!1},wt.regexp_eatClassSetOperand=function(M){return this.regexp_eatClassSetCharacter(M)?yt:this.regexp_eatClassStringDisjunction(M)||this.regexp_eatNestedClass(M)},wt.regexp_eatNestedClass=function(M){var W=M.pos;if(M.eat(91)){var ee=M.eat(94),ae=this.regexp_classContents(M);if(M.eat(93))return ee&&ae===Ct&&M.raise("Negated character class may contain strings"),ae;M.pos=W}if(M.eat(92)){var Se=this.regexp_eatCharacterClassEscape(M);if(Se)return Se;M.pos=W}return null},wt.regexp_eatClassStringDisjunction=function(M){var W=M.pos;if(M.eatChars([92,113])){if(M.eat(123)){var ee=this.regexp_classStringDisjunctionContents(M);if(M.eat(125))return ee}else M.raise("Invalid escape");M.pos=W}return null},wt.regexp_classStringDisjunctionContents=function(M){for(var W=this.regexp_classString(M);M.eat(124);)this.regexp_classString(M)===Ct&&(W=Ct);return W},wt.regexp_classString=function(M){for(var W=0;this.regexp_eatClassSetCharacter(M);)W++;return W===1?yt:Ct},wt.regexp_eatClassSetCharacter=function(M){var W=M.pos;if(M.eat(92))return this.regexp_eatCharacterEscape(M)||this.regexp_eatClassSetReservedPunctuator(M)?!0:M.eat(98)?(M.lastIntValue=8,!0):(M.pos=W,!1);var ee=M.current();return ee<0||ee===M.lookahead()&&hn(ee)||kn(ee)?!1:(M.advance(),M.lastIntValue=ee,!0)};function hn(M){return M===33||M>=35&&M<=38||M>=42&&M<=44||M===46||M>=58&&M<=64||M===94||M===96||M===126}function kn(M){return M===40||M===41||M===45||M===47||M>=91&&M<=93||M>=123&&M<=125}wt.regexp_eatClassSetReservedPunctuator=function(M){var W=M.current();return Hn(W)?(M.lastIntValue=W,M.advance(),!0):!1};function Hn(M){return M===33||M===35||M===37||M===38||M===44||M===45||M>=58&&M<=62||M===64||M===96||M===126}wt.regexp_eatClassControlLetter=function(M){var W=M.current();return Pn(W)||W===95?(M.lastIntValue=W%32,M.advance(),!0):!1},wt.regexp_eatHexEscapeSequence=function(M){var W=M.pos;if(M.eat(120)){if(this.regexp_eatFixedHexDigits(M,2))return!0;M.switchU&&M.raise("Invalid escape"),M.pos=W}return!1},wt.regexp_eatDecimalDigits=function(M){var W=M.pos,ee=0;for(M.lastIntValue=0;Pn(ee=M.current());)M.lastIntValue=10*M.lastIntValue+(ee-48),M.advance();return M.pos!==W};function Pn(M){return M>=48&&M<=57}wt.regexp_eatHexDigits=function(M){var W=M.pos,ee=0;for(M.lastIntValue=0;_n(ee=M.current());)M.lastIntValue=16*M.lastIntValue+Hr(ee),M.advance();return M.pos!==W};function _n(M){return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102}function Hr(M){return M>=65&&M<=70?10+(M-65):M>=97&&M<=102?10+(M-97):M-48}wt.regexp_eatLegacyOctalEscapeSequence=function(M){if(this.regexp_eatOctalDigit(M)){var W=M.lastIntValue;if(this.regexp_eatOctalDigit(M)){var ee=M.lastIntValue;W<=3&&this.regexp_eatOctalDigit(M)?M.lastIntValue=W*64+ee*8+M.lastIntValue:M.lastIntValue=W*8+ee}else M.lastIntValue=W;return!0}return!1},wt.regexp_eatOctalDigit=function(M){var W=M.current();return $s(W)?(M.lastIntValue=W-48,M.advance(),!0):(M.lastIntValue=0,!1)};function $s(M){return M>=48&&M<=55}wt.regexp_eatFixedHexDigits=function(M,W){var ee=M.pos;M.lastIntValue=0;for(var ae=0;ae<W;++ae){var Se=M.current();if(!_n(Se))return M.pos=ee,!1;M.lastIntValue=16*M.lastIntValue+Hr(Se),M.advance()}return!0};var Ri=function(W){this.type=W.type,this.value=W.value,this.start=W.start,this.end=W.end,W.options.locations&&(this.loc=new J(W,W.startLoc,W.endLoc)),W.options.ranges&&(this.range=[W.start,W.end])},Gt=Ve.prototype;Gt.next=function(M){!M&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ri(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Gt.getToken=function(){return this.next(),new Ri(this)},typeof Symbol<"u"&&(Gt[Symbol.iterator]=function(){var M=this;return{next:function(){var W=M.getToken();return{done:W.type===S.eof,value:W}}}}),Gt.nextToken=function(){var M=this.curContext();if((!M||!M.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(S.eof);if(M.override)return M.override(this);this.readToken(this.fullCharCodeAtPos())},Gt.readToken=function(M){return h(M,this.options.ecmaVersion>=6)||M===92?this.readWord():this.getTokenFromCode(M)},Gt.fullCharCodeAtPos=function(){var M=this.input.charCodeAt(this.pos);if(M<=55295||M>=56320)return M;var W=this.input.charCodeAt(this.pos+1);return W<=56319||W>=57344?M:(M<<10)+W-56613888},Gt.skipBlockComment=function(){var M=this.options.onComment&&this.curPosition(),W=this.pos,ee=this.input.indexOf("*/",this.pos+=2);if(ee===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=ee+2,this.options.locations)for(var ae=void 0,Se=W;(ae=$(this.input,Se,this.pos))>-1;)++this.curLine,Se=this.lineStart=ae;this.options.onComment&&this.options.onComment(!0,this.input.slice(W+2,ee),W,this.pos,M,this.curPosition())},Gt.skipLineComment=function(M){for(var W=this.pos,ee=this.options.onComment&&this.curPosition(),ae=this.input.charCodeAt(this.pos+=M);this.pos<this.input.length&&!A(ae);)ae=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(W+M,this.pos),W,this.pos,ee,this.curPosition())},Gt.skipSpace=function(){e:for(;this.pos<this.input.length;){var M=this.input.charCodeAt(this.pos);switch(M){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(M>8&&M<14||M>=5760&&O.test(String.fromCharCode(M)))++this.pos;else break e}}},Gt.finishToken=function(M,W){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var ee=this.type;this.type=M,this.value=W,this.updateContext(ee)},Gt.readToken_dot=function(){var M=this.input.charCodeAt(this.pos+1);if(M>=48&&M<=57)return this.readNumber(!0);var W=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&M===46&&W===46?(this.pos+=3,this.finishToken(S.ellipsis)):(++this.pos,this.finishToken(S.dot))},Gt.readToken_slash=function(){var M=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):M===61?this.finishOp(S.assign,2):this.finishOp(S.slash,1)},Gt.readToken_mult_modulo_exp=function(M){var W=this.input.charCodeAt(this.pos+1),ee=1,ae=M===42?S.star:S.modulo;return this.options.ecmaVersion>=7&&M===42&&W===42&&(++ee,ae=S.starstar,W=this.input.charCodeAt(this.pos+2)),W===61?this.finishOp(S.assign,ee+1):this.finishOp(ae,ee)},Gt.readToken_pipe_amp=function(M){var W=this.input.charCodeAt(this.pos+1);if(W===M){if(this.options.ecmaVersion>=12){var ee=this.input.charCodeAt(this.pos+2);if(ee===61)return this.finishOp(S.assign,3)}return this.finishOp(M===124?S.logicalOR:S.logicalAND,2)}return W===61?this.finishOp(S.assign,2):this.finishOp(M===124?S.bitwiseOR:S.bitwiseAND,1)},Gt.readToken_caret=function(){var M=this.input.charCodeAt(this.pos+1);return M===61?this.finishOp(S.assign,2):this.finishOp(S.bitwiseXOR,1)},Gt.readToken_plus_min=function(M){var W=this.input.charCodeAt(this.pos+1);return W===M?W===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||N.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(S.incDec,2):W===61?this.finishOp(S.assign,2):this.finishOp(S.plusMin,1)},Gt.readToken_lt_gt=function(M){var W=this.input.charCodeAt(this.pos+1),ee=1;return W===M?(ee=M===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+ee)===61?this.finishOp(S.assign,ee+1):this.finishOp(S.bitShift,ee)):W===33&&M===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(W===61&&(ee=2),this.finishOp(S.relational,ee))},Gt.readToken_eq_excl=function(M){var W=this.input.charCodeAt(this.pos+1);return W===61?this.finishOp(S.equality,this.input.charCodeAt(this.pos+2)===61?3:2):M===61&&W===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(S.arrow)):this.finishOp(M===61?S.eq:S.prefix,1)},Gt.readToken_question=function(){var M=this.options.ecmaVersion;if(M>=11){var W=this.input.charCodeAt(this.pos+1);if(W===46){var ee=this.input.charCodeAt(this.pos+2);if(ee<48||ee>57)return this.finishOp(S.questionDot,2)}if(W===63){if(M>=12){var ae=this.input.charCodeAt(this.pos+2);if(ae===61)return this.finishOp(S.assign,3)}return this.finishOp(S.coalesce,2)}}return this.finishOp(S.question,1)},Gt.readToken_numberSign=function(){var M=this.options.ecmaVersion,W=35;if(M>=13&&(++this.pos,W=this.fullCharCodeAtPos(),h(W,!0)||W===92))return this.finishToken(S.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+X(W)+"'")},Gt.getTokenFromCode=function(M){switch(M){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(S.parenL);case 41:return++this.pos,this.finishToken(S.parenR);case 59:return++this.pos,this.finishToken(S.semi);case 44:return++this.pos,this.finishToken(S.comma);case 91:return++this.pos,this.finishToken(S.bracketL);case 93:return++this.pos,this.finishToken(S.bracketR);case 123:return++this.pos,this.finishToken(S.braceL);case 125:return++this.pos,this.finishToken(S.braceR);case 58:return++this.pos,this.finishToken(S.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(S.backQuote);case 48:var W=this.input.charCodeAt(this.pos+1);if(W===120||W===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(W===111||W===79)return this.readRadixNumber(8);if(W===98||W===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(M);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(M);case 124:case 38:return this.readToken_pipe_amp(M);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(M);case 60:case 62:return this.readToken_lt_gt(M);case 61:case 33:return this.readToken_eq_excl(M);case 63:return this.readToken_question();case 126:return this.finishOp(S.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+X(M)+"'")},Gt.finishOp=function(M,W){var ee=this.input.slice(this.pos,this.pos+W);return this.pos+=W,this.finishToken(M,ee)},Gt.readRegexp=function(){for(var M,W,ee=this.pos;;){this.pos>=this.input.length&&this.raise(ee,"Unterminated regular expression");var ae=this.input.charAt(this.pos);if(N.test(ae)&&this.raise(ee,"Unterminated regular expression"),M)M=!1;else{if(ae==="[")W=!0;else if(ae==="]"&&W)W=!1;else if(ae==="/"&&!W)break;M=ae==="\\"}++this.pos}var Se=this.input.slice(ee,this.pos);++this.pos;var Be=this.pos,Ke=this.readWord1();this.containsEsc&&this.unexpected(Be);var dt=this.regexpState||(this.regexpState=new cn(this));dt.reset(ee,Se,Ke),this.validateRegExpFlags(dt),this.validateRegExpPattern(dt);var bt=null;try{bt=new RegExp(Se,Ke)}catch{}return this.finishToken(S.regexp,{pattern:Se,flags:Ke,value:bt})},Gt.readInt=function(M,W,ee){for(var ae=this.options.ecmaVersion>=12&&W===void 0,Se=ee&&this.input.charCodeAt(this.pos)===48,Be=this.pos,Ke=0,dt=0,bt=0,Ht=W??1/0;bt<Ht;++bt,++this.pos){var Wt=this.input.charCodeAt(this.pos),Kt=void 0;if(ae&&Wt===95){Se&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),dt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),bt===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),dt=Wt;continue}if(Wt>=97?Kt=Wt-97+10:Wt>=65?Kt=Wt-65+10:Wt>=48&&Wt<=57?Kt=Wt-48:Kt=1/0,Kt>=M)break;dt=Wt,Ke=Ke*M+Kt}return ae&&dt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Be||W!=null&&this.pos-Be!==W?null:Ke};function ls(M,W){return W?parseInt(M,8):parseFloat(M.replace(/_/g,""))}function Ms(M){return typeof BigInt!="function"?null:BigInt(M.replace(/_/g,""))}Gt.readRadixNumber=function(M){var W=this.pos;this.pos+=2;var ee=this.readInt(M);return ee==null&&this.raise(this.start+2,"Expected number in radix "+M),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(ee=Ms(this.input.slice(W,this.pos)),++this.pos):h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(S.num,ee)},Gt.readNumber=function(M){var W=this.pos;!M&&this.readInt(10,void 0,!0)===null&&this.raise(W,"Invalid number");var ee=this.pos-W>=2&&this.input.charCodeAt(W)===48;ee&&this.strict&&this.raise(W,"Invalid number");var ae=this.input.charCodeAt(this.pos);if(!ee&&!M&&this.options.ecmaVersion>=11&&ae===110){var Se=Ms(this.input.slice(W,this.pos));return++this.pos,h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(S.num,Se)}ee&&/[89]/.test(this.input.slice(W,this.pos))&&(ee=!1),ae===46&&!ee&&(++this.pos,this.readInt(10),ae=this.input.charCodeAt(this.pos)),(ae===69||ae===101)&&!ee&&(ae=this.input.charCodeAt(++this.pos),(ae===43||ae===45)&&++this.pos,this.readInt(10)===null&&this.raise(W,"Invalid number")),h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Be=ls(this.input.slice(W,this.pos),ee);return this.finishToken(S.num,Be)},Gt.readCodePoint=function(){var M=this.input.charCodeAt(this.pos),W;if(M===123){this.options.ecmaVersion<6&&this.unexpected();var ee=++this.pos;W=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,W>1114111&&this.invalidStringToken(ee,"Code point out of bounds")}else W=this.readHexChar(4);return W},Gt.readString=function(M){for(var W="",ee=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ae=this.input.charCodeAt(this.pos);if(ae===M)break;ae===92?(W+=this.input.slice(ee,this.pos),W+=this.readEscapedChar(!1),ee=this.pos):ae===8232||ae===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(A(ae)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return W+=this.input.slice(ee,this.pos++),this.finishToken(S.string,W)};var Ls={};Gt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(M){if(M===Ls)this.readInvalidTemplateToken();else throw M}this.inTemplateElement=!1},Gt.invalidStringToken=function(M,W){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ls;this.raise(M,W)},Gt.readTmplToken=function(){for(var M="",W=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var ee=this.input.charCodeAt(this.pos);if(ee===96||ee===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===S.template||this.type===S.invalidTemplate)?ee===36?(this.pos+=2,this.finishToken(S.dollarBraceL)):(++this.pos,this.finishToken(S.backQuote)):(M+=this.input.slice(W,this.pos),this.finishToken(S.template,M));if(ee===92)M+=this.input.slice(W,this.pos),M+=this.readEscapedChar(!0),W=this.pos;else if(A(ee)){switch(M+=this.input.slice(W,this.pos),++this.pos,ee){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:M+=`
`;break;default:M+=String.fromCharCode(ee);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),W=this.pos}else++this.pos}},Gt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(S.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Gt.readEscapedChar=function(M){var W=this.input.charCodeAt(++this.pos);switch(++this.pos,W){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return X(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),M){var ee=this.pos-1;this.invalidStringToken(ee,"Invalid escape sequence in template string")}default:if(W>=48&&W<=55){var ae=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Se=parseInt(ae,8);return Se>255&&(ae=ae.slice(0,-1),Se=parseInt(ae,8)),this.pos+=ae.length-1,W=this.input.charCodeAt(this.pos),(ae!=="0"||W===56||W===57)&&(this.strict||M)&&this.invalidStringToken(this.pos-1-ae.length,M?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Se)}return A(W)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(W)}},Gt.readHexChar=function(M){var W=this.pos,ee=this.readInt(16,M);return ee===null&&this.invalidStringToken(W,"Bad character escape sequence"),ee},Gt.readWord1=function(){this.containsEsc=!1;for(var M="",W=!0,ee=this.pos,ae=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Se=this.fullCharCodeAtPos();if(m(Se,ae))this.pos+=Se<=65535?1:2;else if(Se===92){this.containsEsc=!0,M+=this.input.slice(ee,this.pos);var Be=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Ke=this.readCodePoint();(W?h:m)(Ke,ae)||this.invalidStringToken(Be,"Invalid Unicode escape"),M+=X(Ke),ee=this.pos}else break;W=!1}return M+this.input.slice(ee,this.pos)},Gt.readWord=function(){var M=this.readWord1(),W=S.name;return this.keywords.test(M)&&(W=k[M]),this.finishToken(W,M)};var Wn="8.14.0";Ve.acorn={Parser:Ve,version:Wn,defaultOptions:ce,Position:se,SourceLocation:J,getLineInfo:le,Node:On,TokenType:v,tokTypes:S,keywordTypes:k,TokContext:vt,tokContexts:St,isIdentifierChar:m,isIdentifierStart:h,Token:Ri,isNewLine:A,lineBreak:N,lineBreakG:L,nonASCIIwhitespace:O};function ji(M,W){return Ve.parse(M,W)}function Rn(M,W,ee){return Ve.parseExpressionAt(M,W,ee)}function Gn(M,W){return Ve.tokenizer(M,W)}i.Node=On,i.Parser=Ve,i.Position=se,i.SourceLocation=J,i.TokContext=vt,i.Token=Ri,i.TokenType=v,i.defaultOptions=ce,i.getLineInfo=le,i.isIdentifierChar=m,i.isIdentifierStart=h,i.isNewLine=A,i.keywordTypes=k,i.lineBreak=N,i.lineBreakG=L,i.nonASCIIwhitespace=O,i.parse=ji,i.parseExpressionAt=Rn,i.tokContexts=St,i.tokTypes=S,i.tokenizer=Gn,i.version=Wn})}(acorn$1,acorn$1.exports)),acorn$1.exports}var astring={},hasRequiredAstring;function requireAstring(){if(hasRequiredAstring)return astring;hasRequiredAstring=1,Object.defineProperty(astring,"__esModule",{value:!0}),astring.generate=L,astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function e(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}function n(A,$){for(var O=0;O<$.length;O++){var B=$[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function i(A,$,O){return $&&n(A.prototype,$),A}var a=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var w={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},g=17;astring.NEEDS_PARENTHESES=g;var y={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:g,ClassExpression:g,FunctionExpression:g,ObjectExpression:g,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=y;function b(A,$){var O=A.generator;if(A.write("("),$!=null&&$.length>0){O[$[0].type]($[0],A);for(var B=$.length,z=1;z<B;z++){var F=$[z];A.write(", "),O[F.type](F,A)}}A.write(")")}function d(A,$,O,B){var z=A.expressionsPrecedence[$.type];if(z===g)return!0;var F=A.expressionsPrecedence[O.type];return z!==F?!B&&z===15&&F===14&&O.operator==="**"||z<F:z!==13&&z!==14?!1:$.operator==="**"&&O.operator==="**"?!B:z===13&&F===13&&($.operator==="??"||O.operator==="??")?!0:B?w[$.operator]<=w[O.operator]:w[$.operator]<w[O.operator]}function f(A,$,O,B){var z=A.generator;d(A,$,O,B)?(A.write("("),z[$.type]($,A),A.write(")")):z[$.type]($,A)}function c(A,$,O,B){var z=$.split(`
`),F=z.length-1;if(A.write(z[0].trim()),F>0){A.write(B);for(var V=1;V<F;V++)A.write(O+z[V].trim()+B);A.write(O+z[F].trim())}}function s(A,$,O,B){for(var z=$.length,F=0;F<z;F++){var V=$[F];A.write(O),V.type[0]==="L"?A.write("// "+V.value.trim()+`
`,V):(A.write("/*"),c(A,V.value,O,B),A.write("*/"+B))}}function o(A){for(var $=A;$!=null;){var O=$,B=O.type;if(B[0]==="C"&&B[1]==="a")return!0;if(B[0]==="M"&&B[1]==="e"&&B[2]==="m")$=$.object;else return!1}}function u(A,$){var O=A.generator,B=$.declarations;A.write($.kind+" ");var z=B.length;if(z>0){O.VariableDeclarator(B[0],A);for(var F=1;F<z;F++)A.write(", "),O.VariableDeclarator(B[F],A)}}var h,m,v,T,x,R,k={Program:function($,O){var B=O.indent.repeat(O.indentLevel),z=O.lineEnd,F=O.writeComments;F&&$.comments!=null&&s(O,$.comments,B,z);for(var V=$.body,U=V.length,q=0;q<U;q++){var K=V[q];F&&K.comments!=null&&s(O,K.comments,B,z),O.write(B),this[K.type](K,O),O.write(z)}F&&$.trailingComments!=null&&s(O,$.trailingComments,B,z)},BlockStatement:R=function($,O){var B=O.indent.repeat(O.indentLevel++),z=O.lineEnd,F=O.writeComments,V=B+O.indent;O.write("{");var U=$.body;if(U!=null&&U.length>0){O.write(z),F&&$.comments!=null&&s(O,$.comments,V,z);for(var q=U.length,K=0;K<q;K++){var Q=U[K];F&&Q.comments!=null&&s(O,Q.comments,V,z),O.write(V),this[Q.type](Q,O),O.write(z)}O.write(B)}else F&&$.comments!=null&&(O.write(z),s(O,$.comments,V,z),O.write(B));F&&$.trailingComments!=null&&s(O,$.trailingComments,V,z),O.write("}"),O.indentLevel--},ClassBody:R,StaticBlock:function($,O){O.write("static "),this.BlockStatement($,O)},EmptyStatement:function($,O){O.write(";")},ExpressionStatement:function($,O){var B=O.expressionsPrecedence[$.expression.type];B===g||B===3&&$.expression.left.type[0]==="O"?(O.write("("),this[$.expression.type]($.expression,O),O.write(")")):this[$.expression.type]($.expression,O),O.write(";")},IfStatement:function($,O){O.write("if ("),this[$.test.type]($.test,O),O.write(") "),this[$.consequent.type]($.consequent,O),$.alternate!=null&&(O.write(" else "),this[$.alternate.type]($.alternate,O))},LabeledStatement:function($,O){this[$.label.type]($.label,O),O.write(": "),this[$.body.type]($.body,O)},BreakStatement:function($,O){O.write("break"),$.label!=null&&(O.write(" "),this[$.label.type]($.label,O)),O.write(";")},ContinueStatement:function($,O){O.write("continue"),$.label!=null&&(O.write(" "),this[$.label.type]($.label,O)),O.write(";")},WithStatement:function($,O){O.write("with ("),this[$.object.type]($.object,O),O.write(") "),this[$.body.type]($.body,O)},SwitchStatement:function($,O){var B=O.indent.repeat(O.indentLevel++),z=O.lineEnd,F=O.writeComments;O.indentLevel++;var V=B+O.indent,U=V+O.indent;O.write("switch ("),this[$.discriminant.type]($.discriminant,O),O.write(") {"+z);for(var q=$.cases,K=q.length,Q=0;Q<K;Q++){var X=q[Q];F&&X.comments!=null&&s(O,X.comments,V,z),X.test?(O.write(V+"case "),this[X.test.type](X.test,O),O.write(":"+z)):O.write(V+"default:"+z);for(var te=X.consequent,se=te.length,J=0;J<se;J++){var le=te[J];F&&le.comments!=null&&s(O,le.comments,U,z),O.write(U),this[le.type](le,O),O.write(z)}}O.indentLevel-=2,O.write(B+"}")},ReturnStatement:function($,O){O.write("return"),$.argument&&(O.write(" "),this[$.argument.type]($.argument,O)),O.write(";")},ThrowStatement:function($,O){O.write("throw "),this[$.argument.type]($.argument,O),O.write(";")},TryStatement:function($,O){if(O.write("try "),this[$.block.type]($.block,O),$.handler){var B=$.handler;B.param==null?O.write(" catch "):(O.write(" catch ("),this[B.param.type](B.param,O),O.write(") ")),this[B.body.type](B.body,O)}$.finalizer&&(O.write(" finally "),this[$.finalizer.type]($.finalizer,O))},WhileStatement:function($,O){O.write("while ("),this[$.test.type]($.test,O),O.write(") "),this[$.body.type]($.body,O)},DoWhileStatement:function($,O){O.write("do "),this[$.body.type]($.body,O),O.write(" while ("),this[$.test.type]($.test,O),O.write(");")},ForStatement:function($,O){if(O.write("for ("),$.init!=null){var B=$.init;B.type[0]==="V"?u(O,B):this[B.type](B,O)}O.write("; "),$.test&&this[$.test.type]($.test,O),O.write("; "),$.update&&this[$.update.type]($.update,O),O.write(") "),this[$.body.type]($.body,O)},ForInStatement:h=function($,O){O.write("for ".concat($.await?"await ":"","("));var B=$.left;B.type[0]==="V"?u(O,B):this[B.type](B,O),O.write($.type[3]==="I"?" in ":" of "),this[$.right.type]($.right,O),O.write(") "),this[$.body.type]($.body,O)},ForOfStatement:h,DebuggerStatement:function($,O){O.write("debugger;",$)},FunctionDeclaration:m=function($,O){O.write(($.async?"async ":"")+($.generator?"function* ":"function ")+($.id?$.id.name:""),$),b(O,$.params),O.write(" "),this[$.body.type]($.body,O)},FunctionExpression:m,VariableDeclaration:function($,O){u(O,$),O.write(";")},VariableDeclarator:function($,O){this[$.id.type]($.id,O),$.init!=null&&(O.write(" = "),this[$.init.type]($.init,O))},ClassDeclaration:function($,O){if(O.write("class "+($.id?"".concat($.id.name," "):""),$),$.superClass){O.write("extends ");var B=$.superClass,z=B.type,F=O.expressionsPrecedence[z];(z[0]!=="C"||z[1]!=="l"||z[5]!=="E")&&(F===g||F<O.expressionsPrecedence.ClassExpression)?(O.write("("),this[$.superClass.type](B,O),O.write(")")):this[B.type](B,O),O.write(" ")}this.ClassBody($.body,O)},ImportDeclaration:function($,O){O.write("import ");var B=$.specifiers,z=$.attributes,F=B.length,V=0;if(F>0){for(;V<F;){V>0&&O.write(", ");var U=B[V],q=U.type[6];if(q==="D")O.write(U.local.name,U),V++;else if(q==="N")O.write("* as "+U.local.name,U),V++;else break}if(V<F){for(O.write("{");;){var K=B[V],Q=K.imported.name;if(O.write(Q,K),Q!==K.local.name&&O.write(" as "+K.local.name),++V<F)O.write(", ");else break}O.write("}")}O.write(" from ")}if(this.Literal($.source,O),z&&z.length>0){O.write(" with { ");for(var X=0;X<z.length;X++)this.ImportAttribute(z[X],O),X<z.length-1&&O.write(", ");O.write(" }")}O.write(";")},ImportAttribute:function($,O){this.Identifier($.key,O),O.write(": "),this.Literal($.value,O)},ImportExpression:function($,O){O.write("import("),this[$.source.type]($.source,O),O.write(")")},ExportDefaultDeclaration:function($,O){O.write("export default "),this[$.declaration.type]($.declaration,O),O.expressionsPrecedence[$.declaration.type]!=null&&$.declaration.type[0]!=="F"&&O.write(";")},ExportNamedDeclaration:function($,O){if(O.write("export "),$.declaration)this[$.declaration.type]($.declaration,O);else{O.write("{");var B=$.specifiers,z=B.length;if(z>0)for(var F=0;;){var V=B[F],U=V.local.name;if(O.write(U,V),U!==V.exported.name&&O.write(" as "+V.exported.name),++F<z)O.write(", ");else break}if(O.write("}"),$.source&&(O.write(" from "),this.Literal($.source,O)),$.attributes&&$.attributes.length>0){O.write(" with { ");for(var q=0;q<$.attributes.length;q++)this.ImportAttribute($.attributes[q],O),q<$.attributes.length-1&&O.write(", ");O.write(" }")}O.write(";")}},ExportAllDeclaration:function($,O){if($.exported!=null?O.write("export * as "+$.exported.name+" from "):O.write("export * from "),this.Literal($.source,O),$.attributes&&$.attributes.length>0){O.write(" with { ");for(var B=0;B<$.attributes.length;B++)this.ImportAttribute($.attributes[B],O),B<$.attributes.length-1&&O.write(", ");O.write(" }")}O.write(";")},MethodDefinition:function($,O){$.static&&O.write("static ");var B=$.kind[0];(B==="g"||B==="s")&&O.write($.kind+" "),$.value.async&&O.write("async "),$.value.generator&&O.write("*"),$.computed?(O.write("["),this[$.key.type]($.key,O),O.write("]")):this[$.key.type]($.key,O),b(O,$.value.params),O.write(" "),this[$.value.body.type]($.value.body,O)},ClassExpression:function($,O){this.ClassDeclaration($,O)},ArrowFunctionExpression:function($,O){O.write($.async?"async ":"",$);var B=$.params;B!=null&&(B.length===1&&B[0].type[0]==="I"?O.write(B[0].name,B[0]):b(O,$.params)),O.write(" => "),$.body.type[0]==="O"?(O.write("("),this.ObjectExpression($.body,O),O.write(")")):this[$.body.type]($.body,O)},ThisExpression:function($,O){O.write("this",$)},Super:function($,O){O.write("super",$)},RestElement:v=function($,O){O.write("..."),this[$.argument.type]($.argument,O)},SpreadElement:v,YieldExpression:function($,O){O.write($.delegate?"yield*":"yield"),$.argument&&(O.write(" "),this[$.argument.type]($.argument,O))},AwaitExpression:function($,O){O.write("await ",$),f(O,$.argument,$)},TemplateLiteral:function($,O){var B=$.quasis,z=$.expressions;O.write("`");for(var F=z.length,V=0;V<F;V++){var U=z[V],q=B[V];O.write(q.value.raw,q),O.write("${"),this[U.type](U,O),O.write("}")}var K=B[B.length-1];O.write(K.value.raw,K),O.write("`")},TemplateElement:function($,O){O.write($.value.raw,$)},TaggedTemplateExpression:function($,O){f(O,$.tag,$),this[$.quasi.type]($.quasi,O)},ArrayExpression:x=function($,O){if(O.write("["),$.elements.length>0)for(var B=$.elements,z=B.length,F=0;;){var V=B[F];if(V!=null&&this[V.type](V,O),++F<z)O.write(", ");else{V==null&&O.write(", ");break}}O.write("]")},ArrayPattern:x,ObjectExpression:function($,O){var B=O.indent.repeat(O.indentLevel++),z=O.lineEnd,F=O.writeComments,V=B+O.indent;if(O.write("{"),$.properties.length>0){O.write(z),F&&$.comments!=null&&s(O,$.comments,V,z);for(var U=","+z,q=$.properties,K=q.length,Q=0;;){var X=q[Q];if(F&&X.comments!=null&&s(O,X.comments,V,z),O.write(V),this[X.type](X,O),++Q<K)O.write(U);else break}O.write(z),F&&$.trailingComments!=null&&s(O,$.trailingComments,V,z),O.write(B+"}")}else F?$.comments!=null?(O.write(z),s(O,$.comments,V,z),$.trailingComments!=null&&s(O,$.trailingComments,V,z),O.write(B+"}")):$.trailingComments!=null?(O.write(z),s(O,$.trailingComments,V,z),O.write(B+"}")):O.write("}"):O.write("}");O.indentLevel--},Property:function($,O){$.method||$.kind[0]!=="i"?this.MethodDefinition($,O):($.shorthand||($.computed?(O.write("["),this[$.key.type]($.key,O),O.write("]")):this[$.key.type]($.key,O),O.write(": ")),this[$.value.type]($.value,O))},PropertyDefinition:function($,O){if($.static&&O.write("static "),$.computed&&O.write("["),this[$.key.type]($.key,O),$.computed&&O.write("]"),$.value==null){$.key.type[0]!=="F"&&O.write(";");return}O.write(" = "),this[$.value.type]($.value,O),O.write(";")},ObjectPattern:function($,O){if(O.write("{"),$.properties.length>0)for(var B=$.properties,z=B.length,F=0;this[B[F].type](B[F],O),++F<z;)O.write(", ");O.write("}")},SequenceExpression:function($,O){b(O,$.expressions)},UnaryExpression:function($,O){if($.prefix){var B=$.operator,z=$.argument,F=$.argument.type;O.write(B);var V=d(O,z,$);!V&&(B.length>1||F[0]==="U"&&(F[1]==="n"||F[1]==="p")&&z.prefix&&z.operator[0]===B&&(B==="+"||B==="-"))&&O.write(" "),V?(O.write(B.length>1?" (":"("),this[F](z,O),O.write(")")):this[F](z,O)}else this[$.argument.type]($.argument,O),O.write($.operator)},UpdateExpression:function($,O){$.prefix?(O.write($.operator),this[$.argument.type]($.argument,O)):(this[$.argument.type]($.argument,O),O.write($.operator))},AssignmentExpression:function($,O){this[$.left.type]($.left,O),O.write(" "+$.operator+" "),this[$.right.type]($.right,O)},AssignmentPattern:function($,O){this[$.left.type]($.left,O),O.write(" = "),this[$.right.type]($.right,O)},BinaryExpression:T=function($,O){var B=$.operator==="in";B&&O.write("("),f(O,$.left,$,!1),O.write(" "+$.operator+" "),f(O,$.right,$,!0),B&&O.write(")")},LogicalExpression:T,ConditionalExpression:function($,O){var B=$.test,z=O.expressionsPrecedence[B.type];z===g||z<=O.expressionsPrecedence.ConditionalExpression?(O.write("("),this[B.type](B,O),O.write(")")):this[B.type](B,O),O.write(" ? "),this[$.consequent.type]($.consequent,O),O.write(" : "),this[$.alternate.type]($.alternate,O)},NewExpression:function($,O){O.write("new ");var B=O.expressionsPrecedence[$.callee.type];B===g||B<O.expressionsPrecedence.CallExpression||o($.callee)?(O.write("("),this[$.callee.type]($.callee,O),O.write(")")):this[$.callee.type]($.callee,O),b(O,$.arguments)},CallExpression:function($,O){var B=O.expressionsPrecedence[$.callee.type];B===g||B<O.expressionsPrecedence.CallExpression?(O.write("("),this[$.callee.type]($.callee,O),O.write(")")):this[$.callee.type]($.callee,O),$.optional&&O.write("?."),b(O,$.arguments)},ChainExpression:function($,O){this[$.expression.type]($.expression,O)},MemberExpression:function($,O){var B=O.expressionsPrecedence[$.object.type];B===g||B<O.expressionsPrecedence.MemberExpression?(O.write("("),this[$.object.type]($.object,O),O.write(")")):this[$.object.type]($.object,O),$.computed?($.optional&&O.write("?."),O.write("["),this[$.property.type]($.property,O),O.write("]")):($.optional?O.write("?."):O.write("."),this[$.property.type]($.property,O))},MetaProperty:function($,O){O.write($.meta.name+"."+$.property.name,$)},Identifier:function($,O){O.write($.name,$)},PrivateIdentifier:function($,O){O.write("#".concat($.name),$)},Literal:function($,O){$.raw!=null?O.write($.raw,$):$.regex!=null?this.RegExpLiteral($,O):$.bigint!=null?O.write($.bigint+"n",$):O.write(a($.value),$)},RegExpLiteral:function($,O){var B=$.regex;O.write("/".concat(B.pattern,"/").concat(B.flags),$)}};astring.GENERATOR=k;var C={},S=k;astring.baseGenerator=S;var N=function(){function A($){e(this,A);var O=$??C;this.output="",O.output!=null?(this.output=O.output,this.write=this.writeToStream):this.output="",this.generator=O.generator!=null?O.generator:k,this.expressionsPrecedence=O.expressionsPrecedence!=null?O.expressionsPrecedence:y,this.indent=O.indent!=null?O.indent:"  ",this.lineEnd=O.lineEnd!=null?O.lineEnd:`
`,this.indentLevel=O.startingIndentLevel!=null?O.startingIndentLevel:0,this.writeComments=O.comments?O.comments:!1,O.sourceMap!=null&&(this.write=O.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=O.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:O.sourceMap.file||O.sourceMap._file})}return i(A,[{key:"write",value:function(O){this.output+=O}},{key:"writeToStream",value:function(O){this.output.write(O)}},{key:"writeAndMap",value:function(O,B){this.output+=O,this.map(O,B)}},{key:"writeToStreamAndMap",value:function(O,B){this.output.write(O),this.map(O,B)}},{key:"map",value:function(O,B){if(B!=null){var z=B.type;if(z[0]==="L"&&z[2]==="n"){this.column=0,this.line++;return}if(B.loc!=null){var F=this.mapping;F.original=B.loc.start,F.name=B.name,this.sourceMap.addMapping(F)}if(z[0]==="T"&&z[8]==="E"||z[0]==="L"&&z[1]==="i"&&typeof B.value=="string"){for(var V=O.length,U=this.column,q=this.line,K=0;K<V;K++)O[K]===`
`?(U=0,q++):U++;this.column=U,this.line=q;return}}var Q=O.length,X=this.lineEnd;Q>0&&(this.lineEndSize>0&&(X.length===1?O[Q-1]===X:O.endsWith(X))?(this.line+=this.lineEndSize,this.column=0):this.column+=Q)}},{key:"toString",value:function(){return this.output}}]),A}();function L(A,$){var O=new N($);return O.generator[A.type](A,O),O.output}return astring}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */var hasRequiredGpuBrowser;function requireGpuBrowser(){return hasRequiredGpuBrowser||(hasRequiredGpuBrowser=1,function(e,n){(function(i){e.exports=i()})(function(){return function(){function i(a,w,g){function y(f,c){if(!w[f]){if(!a[f]){var s=typeof commonjsRequire=="function"&&commonjsRequire;if(!c&&s)return s(f,!0);if(b)return b(f,!0);var o=new Error("Cannot find module '"+f+"'");throw o.code="MODULE_NOT_FOUND",o}var u=w[f]={exports:{}};a[f][0].call(u.exports,function(h){var m=a[f][1][h];return y(m||h)},u,u.exports,i,a,w,g)}return w[f].exports}for(var b=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<g.length;d++)y(g[d]);return y}return i}()({1:[function(i,a,w){(function(g,y){typeof w=="object"&&typeof a<"u"?y(w):(g=g||self,y(g.acorn={}))})(this,function(g){var y={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},b="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",d={5:b,"5module":b+" export import",6:b+" const class extends export import super"},f=/^in(stanceof)?$/,c="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",s="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",o=new RegExp("["+c+"]"),u=new RegExp("["+c+s+"]");c=s=null;var h=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],m=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function v(P,Y){for(var ie=65536,de=0;de<Y.length;de+=2){if(ie+=Y[de],ie>P)return!1;if(ie+=Y[de+1],ie>=P)return!0}}function T(P,Y){return P<65?P===36:P<91?!0:P<97?P===95:P<123?!0:P<=65535?P>=170&&o.test(String.fromCharCode(P)):Y===!1?!1:v(P,h)}function x(P,Y){return P<48?P===36:P<58?!0:P<65?!1:P<91?!0:P<97?P===95:P<123?!0:P<=65535?P>=170&&u.test(String.fromCharCode(P)):Y===!1?!1:v(P,h)||v(P,m)}var R=function(Y,ie){ie===void 0&&(ie={}),this.label=Y,this.keyword=ie.keyword,this.beforeExpr=!!ie.beforeExpr,this.startsExpr=!!ie.startsExpr,this.isLoop=!!ie.isLoop,this.isAssign=!!ie.isAssign,this.prefix=!!ie.prefix,this.postfix=!!ie.postfix,this.binop=ie.binop||null,this.updateContext=null};function k(P,Y){return new R(P,{beforeExpr:!0,binop:Y})}var C={beforeExpr:!0},S={startsExpr:!0},N={};function L(P,Y){return Y===void 0&&(Y={}),Y.keyword=P,N[P]=new R(P,Y)}var A={num:new R("num",S),regexp:new R("regexp",S),string:new R("string",S),name:new R("name",S),eof:new R("eof"),bracketL:new R("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new R("]"),braceL:new R("{",{beforeExpr:!0,startsExpr:!0}),braceR:new R("}"),parenL:new R("(",{beforeExpr:!0,startsExpr:!0}),parenR:new R(")"),comma:new R(",",C),semi:new R(";",C),colon:new R(":",C),dot:new R("."),question:new R("?",C),arrow:new R("=>",C),template:new R("template"),invalidTemplate:new R("invalidTemplate"),ellipsis:new R("...",C),backQuote:new R("`",S),dollarBraceL:new R("${",{beforeExpr:!0,startsExpr:!0}),eq:new R("=",{beforeExpr:!0,isAssign:!0}),assign:new R("_=",{beforeExpr:!0,isAssign:!0}),incDec:new R("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new R("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:k("||",1),logicalAND:k("&&",2),bitwiseOR:k("|",3),bitwiseXOR:k("^",4),bitwiseAND:k("&",5),equality:k("==/!=/===/!==",6),relational:k("</>/<=/>=",7),bitShift:k("<</>>/>>>",8),plusMin:new R("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:k("%",10),star:k("*",10),slash:k("/",10),starstar:new R("**",{beforeExpr:!0}),_break:L("break"),_case:L("case",C),_catch:L("catch"),_continue:L("continue"),_debugger:L("debugger"),_default:L("default",C),_do:L("do",{isLoop:!0,beforeExpr:!0}),_else:L("else",C),_finally:L("finally"),_for:L("for",{isLoop:!0}),_function:L("function",S),_if:L("if"),_return:L("return",C),_switch:L("switch"),_throw:L("throw",C),_try:L("try"),_var:L("var"),_const:L("const"),_while:L("while",{isLoop:!0}),_with:L("with"),_new:L("new",{beforeExpr:!0,startsExpr:!0}),_this:L("this",S),_super:L("super",S),_class:L("class",S),_extends:L("extends",C),_export:L("export"),_import:L("import",S),_null:L("null",S),_true:L("true",S),_false:L("false",S),_in:L("in",{beforeExpr:!0,binop:7}),_instanceof:L("instanceof",{beforeExpr:!0,binop:7}),_typeof:L("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:L("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:L("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},$=/\r\n?|\n|\u2028|\u2029/,O=new RegExp($.source,"g");function B(P,Y){return P===10||P===13||!Y&&(P===8232||P===8233)}var z=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,F=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,V=Object.prototype,U=V.hasOwnProperty,q=V.toString;function K(P,Y){return U.call(P,Y)}var Q=Array.isArray||function(P){return q.call(P)==="[object Array]"};function X(P){return new RegExp("^(?:"+P.replace(/ /g,"|")+")$")}var te=function(Y,ie){this.line=Y,this.column=ie};te.prototype.offset=function(Y){return new te(this.line,this.column+Y)};var se=function(Y,ie,de){this.start=ie,this.end=de,Y.sourceFile!==null&&(this.source=Y.sourceFile)};function J(P,Y){for(var ie=1,de=0;;){O.lastIndex=de;var Ee=O.exec(P);if(Ee&&Ee.index<Y)++ie,de=Ee.index+Ee[0].length;else return new te(ie,Y-de)}}var le={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function ce(P){var Y={};for(var ie in le)Y[ie]=P&&K(P,ie)?P[ie]:le[ie];if(Y.ecmaVersion>=2015&&(Y.ecmaVersion-=2009),Y.allowReserved==null&&(Y.allowReserved=Y.ecmaVersion<5),Q(Y.onToken)){var de=Y.onToken;Y.onToken=function(Ee){return de.push(Ee)}}return Q(Y.onComment)&&(Y.onComment=ue(Y,Y.onComment)),Y}function ue(P,Y){return function(ie,de,Ee,Ge,et,yt){var Ct={type:ie?"Block":"Line",value:de,start:Ee,end:Ge};P.locations&&(Ct.loc=new se(this,et,yt)),P.ranges&&(Ct.range=[Ee,Ge]),Y.push(Ct)}}var Ie=1,Te=2,Re=Ie|Te,ke=4,me=8,ve=16,he=32,Le=64,Qe=128;function De(P,Y){return Te|(P?ke:0)|(Y?me:0)}var xt=0,Mt=1,$t=2,tr=3,br=4,dr=5,Ne=function(Y,ie,de){this.options=Y=ce(Y),this.sourceFile=Y.sourceFile,this.keywords=X(d[Y.ecmaVersion>=6?6:Y.sourceType==="module"?"5module":5]);var Ee="";if(Y.allowReserved!==!0){for(var Ge=Y.ecmaVersion;!(Ee=y[Ge]);Ge--);Y.sourceType==="module"&&(Ee+=" await")}this.reservedWords=X(Ee);var et=(Ee?Ee+" ":"")+y.strict;this.reservedWordsStrict=X(et),this.reservedWordsStrictBind=X(et+" "+y.strictBind),this.input=String(ie),this.containsEsc=!1,de?(this.pos=de,this.lineStart=this.input.lastIndexOf(`
`,de-1)+1,this.curLine=this.input.slice(0,this.lineStart).split($).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Y.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&Y.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ie),this.regexpState=null},He={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Ne.prototype.parse=function(){var Y=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Y)},He.inFunction.get=function(){return(this.currentVarScope().flags&Te)>0},He.inGenerator.get=function(){return(this.currentVarScope().flags&me)>0},He.inAsync.get=function(){return(this.currentVarScope().flags&ke)>0},He.allowSuper.get=function(){return(this.currentThisScope().flags&Le)>0},He.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Qe)>0},He.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Ne.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&Te)>0},Ne.extend=function(){for(var Y=[],ie=arguments.length;ie--;)Y[ie]=arguments[ie];for(var de=this,Ee=0;Ee<Y.length;Ee++)de=Y[Ee](de);return de},Ne.parse=function(Y,ie){return new this(ie,Y).parse()},Ne.parseExpressionAt=function(Y,ie,de){var Ee=new this(de,Y,ie);return Ee.nextToken(),Ee.parseExpression()},Ne.tokenizer=function(Y,ie){return new this(ie,Y)},Object.defineProperties(Ne.prototype,He);var _t=Ne.prototype,Ve=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;_t.strictDirective=function(P){for(;;){F.lastIndex=P,P+=F.exec(this.input)[0].length;var Y=Ve.exec(this.input.slice(P));if(!Y)return!1;if((Y[1]||Y[2])==="use strict")return!0;P+=Y[0].length,F.lastIndex=P,P+=F.exec(this.input)[0].length,this.input[P]===";"&&P++}},_t.eat=function(P){return this.type===P?(this.next(),!0):!1},_t.isContextual=function(P){return this.type===A.name&&this.value===P&&!this.containsEsc},_t.eatContextual=function(P){return this.isContextual(P)?(this.next(),!0):!1},_t.expectContextual=function(P){this.eatContextual(P)||this.unexpected()},_t.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||$.test(this.input.slice(this.lastTokEnd,this.start))},_t.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},_t.semicolon=function(){!this.eat(A.semi)&&!this.insertSemicolon()&&this.unexpected()},_t.afterTrailingComma=function(P,Y){if(this.type===P)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),Y||this.next(),!0},_t.expect=function(P){this.eat(P)||this.unexpected()},_t.unexpected=function(P){this.raise(P??this.start,"Unexpected token")};function ft(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}_t.checkPatternErrors=function(P,Y){if(P){P.trailingComma>-1&&this.raiseRecoverable(P.trailingComma,"Comma is not permitted after the rest element");var ie=Y?P.parenthesizedAssign:P.parenthesizedBind;ie>-1&&this.raiseRecoverable(ie,"Parenthesized pattern")}},_t.checkExpressionErrors=function(P,Y){if(!P)return!1;var ie=P.shorthandAssign,de=P.doubleProto;if(!Y)return ie>=0||de>=0;ie>=0&&this.raise(ie,"Shorthand property assignments are valid only in destructuring patterns"),de>=0&&this.raiseRecoverable(de,"Redefinition of __proto__ property")},_t.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},_t.isSimpleAssignTarget=function(P){return P.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(P.expression):P.type==="Identifier"||P.type==="MemberExpression"};var Je=Ne.prototype;Je.parseTopLevel=function(P){var Y={};for(P.body||(P.body=[]);this.type!==A.eof;){var ie=this.parseStatement(null,!0,Y);P.body.push(ie)}if(this.inModule)for(var de=0,Ee=Object.keys(this.undefinedExports);de<Ee.length;de+=1){var Ge=Ee[de];this.raiseRecoverable(this.undefinedExports[Ge].start,"Export '"+Ge+"' is not defined")}return this.adaptDirectivePrologue(P.body),this.next(),P.sourceType=this.options.sourceType,this.finishNode(P,"Program")};var Pt={kind:"loop"},pe={kind:"switch"};Je.isLet=function(P){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;F.lastIndex=this.pos;var Y=F.exec(this.input),ie=this.pos+Y[0].length,de=this.input.charCodeAt(ie);if(de===91)return!0;if(P)return!1;if(de===123)return!0;if(T(de,!0)){for(var Ee=ie+1;x(this.input.charCodeAt(Ee),!0);)++Ee;var Ge=this.input.slice(ie,Ee);if(!f.test(Ge))return!0}return!1},Je.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;F.lastIndex=this.pos;var P=F.exec(this.input),Y=this.pos+P[0].length;return!$.test(this.input.slice(this.pos,Y))&&this.input.slice(Y,Y+8)==="function"&&(Y+8===this.input.length||!x(this.input.charAt(Y+8)))},Je.parseStatement=function(P,Y,ie){var de=this.type,Ee=this.startNode(),Ge;switch(this.isLet(P)&&(de=A._var,Ge="let"),de){case A._break:case A._continue:return this.parseBreakContinueStatement(Ee,de.keyword);case A._debugger:return this.parseDebuggerStatement(Ee);case A._do:return this.parseDoStatement(Ee);case A._for:return this.parseForStatement(Ee);case A._function:return P&&(this.strict||P!=="if"&&P!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Ee,!1,!P);case A._class:return P&&this.unexpected(),this.parseClass(Ee,!0);case A._if:return this.parseIfStatement(Ee);case A._return:return this.parseReturnStatement(Ee);case A._switch:return this.parseSwitchStatement(Ee);case A._throw:return this.parseThrowStatement(Ee);case A._try:return this.parseTryStatement(Ee);case A._const:case A._var:return Ge=Ge||this.value,P&&Ge!=="var"&&this.unexpected(),this.parseVarStatement(Ee,Ge);case A._while:return this.parseWhileStatement(Ee);case A._with:return this.parseWithStatement(Ee);case A.braceL:return this.parseBlock(!0,Ee);case A.semi:return this.parseEmptyStatement(Ee);case A._export:case A._import:if(this.options.ecmaVersion>10&&de===A._import){F.lastIndex=this.pos;var et=F.exec(this.input),yt=this.pos+et[0].length,Ct=this.input.charCodeAt(yt);if(Ct===40)return this.parseExpressionStatement(Ee,this.parseExpression())}return this.options.allowImportExportEverywhere||(Y||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),de===A._import?this.parseImport(Ee):this.parseExport(Ee,ie);default:if(this.isAsyncFunction())return P&&this.unexpected(),this.next(),this.parseFunctionStatement(Ee,!0,!P);var or=this.value,mr=this.parseExpression();return de===A.name&&mr.type==="Identifier"&&this.eat(A.colon)?this.parseLabeledStatement(Ee,or,mr,P):this.parseExpressionStatement(Ee,mr)}},Je.parseBreakContinueStatement=function(P,Y){var ie=Y==="break";this.next(),this.eat(A.semi)||this.insertSemicolon()?P.label=null:this.type!==A.name?this.unexpected():(P.label=this.parseIdent(),this.semicolon());for(var de=0;de<this.labels.length;++de){var Ee=this.labels[de];if((P.label==null||Ee.name===P.label.name)&&(Ee.kind!=null&&(ie||Ee.kind==="loop")||P.label&&ie))break}return de===this.labels.length&&this.raise(P.start,"Unsyntactic "+Y),this.finishNode(P,ie?"BreakStatement":"ContinueStatement")},Je.parseDebuggerStatement=function(P){return this.next(),this.semicolon(),this.finishNode(P,"DebuggerStatement")},Je.parseDoStatement=function(P){return this.next(),this.labels.push(Pt),P.body=this.parseStatement("do"),this.labels.pop(),this.expect(A._while),P.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(P,"DoWhileStatement")},Je.parseForStatement=function(P){this.next();var Y=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Pt),this.enterScope(0),this.expect(A.parenL),this.type===A.semi)return Y>-1&&this.unexpected(Y),this.parseFor(P,null);var ie=this.isLet();if(this.type===A._var||this.type===A._const||ie){var de=this.startNode(),Ee=ie?"let":this.value;return this.next(),this.parseVar(de,!0,Ee),this.finishNode(de,"VariableDeclaration"),(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&de.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===A._in?Y>-1&&this.unexpected(Y):P.await=Y>-1),this.parseForIn(P,de)):(Y>-1&&this.unexpected(Y),this.parseFor(P,de))}var Ge=new ft,et=this.parseExpression(!0,Ge);return this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===A._in?Y>-1&&this.unexpected(Y):P.await=Y>-1),this.toAssignable(et,!1,Ge),this.checkLVal(et),this.parseForIn(P,et)):(this.checkExpressionErrors(Ge,!0),Y>-1&&this.unexpected(Y),this.parseFor(P,et))},Je.parseFunctionStatement=function(P,Y,ie){return this.next(),this.parseFunction(P,Me|(ie?0:st),!1,Y)},Je.parseIfStatement=function(P){return this.next(),P.test=this.parseParenExpression(),P.consequent=this.parseStatement("if"),P.alternate=this.eat(A._else)?this.parseStatement("if"):null,this.finishNode(P,"IfStatement")},Je.parseReturnStatement=function(P){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?P.argument=null:(P.argument=this.parseExpression(),this.semicolon()),this.finishNode(P,"ReturnStatement")},Je.parseSwitchStatement=function(P){this.next(),P.discriminant=this.parseParenExpression(),P.cases=[],this.expect(A.braceL),this.labels.push(pe),this.enterScope(0);for(var Y,ie=!1;this.type!==A.braceR;)if(this.type===A._case||this.type===A._default){var de=this.type===A._case;Y&&this.finishNode(Y,"SwitchCase"),P.cases.push(Y=this.startNode()),Y.consequent=[],this.next(),de?Y.test=this.parseExpression():(ie&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),ie=!0,Y.test=null),this.expect(A.colon)}else Y||this.unexpected(),Y.consequent.push(this.parseStatement(null));return this.exitScope(),Y&&this.finishNode(Y,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(P,"SwitchStatement")},Je.parseThrowStatement=function(P){return this.next(),$.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),P.argument=this.parseExpression(),this.semicolon(),this.finishNode(P,"ThrowStatement")};var ye=[];Je.parseTryStatement=function(P){if(this.next(),P.block=this.parseBlock(),P.handler=null,this.type===A._catch){var Y=this.startNode();if(this.next(),this.eat(A.parenL)){Y.param=this.parseBindingAtom();var ie=Y.param.type==="Identifier";this.enterScope(ie?he:0),this.checkLVal(Y.param,ie?br:$t),this.expect(A.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),Y.param=null,this.enterScope(0);Y.body=this.parseBlock(!1),this.exitScope(),P.handler=this.finishNode(Y,"CatchClause")}return P.finalizer=this.eat(A._finally)?this.parseBlock():null,!P.handler&&!P.finalizer&&this.raise(P.start,"Missing catch or finally clause"),this.finishNode(P,"TryStatement")},Je.parseVarStatement=function(P,Y){return this.next(),this.parseVar(P,!1,Y),this.semicolon(),this.finishNode(P,"VariableDeclaration")},Je.parseWhileStatement=function(P){return this.next(),P.test=this.parseParenExpression(),this.labels.push(Pt),P.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(P,"WhileStatement")},Je.parseWithStatement=function(P){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),P.object=this.parseParenExpression(),P.body=this.parseStatement("with"),this.finishNode(P,"WithStatement")},Je.parseEmptyStatement=function(P){return this.next(),this.finishNode(P,"EmptyStatement")},Je.parseLabeledStatement=function(P,Y,ie,de){for(var Ee=0,Ge=this.labels;Ee<Ge.length;Ee+=1){var et=Ge[Ee];et.name===Y&&this.raise(ie.start,"Label '"+Y+"' is already declared")}for(var yt=this.type.isLoop?"loop":this.type===A._switch?"switch":null,Ct=this.labels.length-1;Ct>=0;Ct--){var or=this.labels[Ct];if(or.statementStart===P.start)or.statementStart=this.start,or.kind=yt;else break}return this.labels.push({name:Y,kind:yt,statementStart:this.start}),P.body=this.parseStatement(de?de.indexOf("label")===-1?de+"label":de:"label"),this.labels.pop(),P.label=ie,this.finishNode(P,"LabeledStatement")},Je.parseExpressionStatement=function(P,Y){return P.expression=Y,this.semicolon(),this.finishNode(P,"ExpressionStatement")},Je.parseBlock=function(P,Y){for(P===void 0&&(P=!0),Y===void 0&&(Y=this.startNode()),Y.body=[],this.expect(A.braceL),P&&this.enterScope(0);!this.eat(A.braceR);){var ie=this.parseStatement(null);Y.body.push(ie)}return P&&this.exitScope(),this.finishNode(Y,"BlockStatement")},Je.parseFor=function(P,Y){return P.init=Y,this.expect(A.semi),P.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),P.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),P.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(P,"ForStatement")},Je.parseForIn=function(P,Y){var ie=this.type===A._in;return this.next(),Y.type==="VariableDeclaration"&&Y.declarations[0].init!=null&&(!ie||this.options.ecmaVersion<8||this.strict||Y.kind!=="var"||Y.declarations[0].id.type!=="Identifier")?this.raise(Y.start,(ie?"for-in":"for-of")+" loop variable declaration may not have an initializer"):Y.type==="AssignmentPattern"&&this.raise(Y.start,"Invalid left-hand side in for-loop"),P.left=Y,P.right=ie?this.parseExpression():this.parseMaybeAssign(),this.expect(A.parenR),P.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(P,ie?"ForInStatement":"ForOfStatement")},Je.parseVar=function(P,Y,ie){for(P.declarations=[],P.kind=ie;;){var de=this.startNode();if(this.parseVarId(de,ie),this.eat(A.eq)?de.init=this.parseMaybeAssign(Y):ie==="const"&&!(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():de.id.type!=="Identifier"&&!(Y&&(this.type===A._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):de.init=null,P.declarations.push(this.finishNode(de,"VariableDeclarator")),!this.eat(A.comma))break}return P},Je.parseVarId=function(P,Y){P.id=this.parseBindingAtom(),this.checkLVal(P.id,Y==="var"?Mt:$t,!1)};var Me=1,st=2,lt=4;Je.parseFunction=function(P,Y,ie,de){this.initFunction(P),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!de)&&(this.type===A.star&&Y&st&&this.unexpected(),P.generator=this.eat(A.star)),this.options.ecmaVersion>=8&&(P.async=!!de),Y&Me&&(P.id=Y&lt&&this.type!==A.name?null:this.parseIdent(),P.id&&!(Y&st)&&this.checkLVal(P.id,this.strict||P.generator||P.async?this.treatFunctionsAsVar?Mt:$t:tr));var Ee=this.yieldPos,Ge=this.awaitPos,et=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(De(P.async,P.generator)),Y&Me||(P.id=this.type===A.name?this.parseIdent():null),this.parseFunctionParams(P),this.parseFunctionBody(P,ie,!1),this.yieldPos=Ee,this.awaitPos=Ge,this.awaitIdentPos=et,this.finishNode(P,Y&Me?"FunctionDeclaration":"FunctionExpression")},Je.parseFunctionParams=function(P){this.expect(A.parenL),P.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Je.parseClass=function(P,Y){this.next();var ie=this.strict;this.strict=!0,this.parseClassId(P,Y),this.parseClassSuper(P);var de=this.startNode(),Ee=!1;for(de.body=[],this.expect(A.braceL);!this.eat(A.braceR);){var Ge=this.parseClassElement(P.superClass!==null);Ge&&(de.body.push(Ge),Ge.type==="MethodDefinition"&&Ge.kind==="constructor"&&(Ee&&this.raise(Ge.start,"Duplicate constructor in the same class"),Ee=!0))}return P.body=this.finishNode(de,"ClassBody"),this.strict=ie,this.finishNode(P,Y?"ClassDeclaration":"ClassExpression")},Je.parseClassElement=function(P){var Y=this;if(this.eat(A.semi))return null;var ie=this.startNode(),de=function(Ct,or){or===void 0&&(or=!1);var mr=Y.start,nn=Y.startLoc;return Y.eatContextual(Ct)?Y.type!==A.parenL&&(!or||!Y.canInsertSemicolon())?!0:(ie.key&&Y.unexpected(),ie.computed=!1,ie.key=Y.startNodeAt(mr,nn),ie.key.name=Ct,Y.finishNode(ie.key,"Identifier"),!1):!1};ie.kind="method",ie.static=de("static");var Ee=this.eat(A.star),Ge=!1;Ee||(this.options.ecmaVersion>=8&&de("async",!0)?(Ge=!0,Ee=this.options.ecmaVersion>=9&&this.eat(A.star)):de("get")?ie.kind="get":de("set")&&(ie.kind="set")),ie.key||this.parsePropertyName(ie);var et=ie.key,yt=!1;return!ie.computed&&!ie.static&&(et.type==="Identifier"&&et.name==="constructor"||et.type==="Literal"&&et.value==="constructor")?(ie.kind!=="method"&&this.raise(et.start,"Constructor can't have get/set modifier"),Ee&&this.raise(et.start,"Constructor can't be a generator"),Ge&&this.raise(et.start,"Constructor can't be an async method"),ie.kind="constructor",yt=P):ie.static&&et.type==="Identifier"&&et.name==="prototype"&&this.raise(et.start,"Classes may not have a static property named prototype"),this.parseClassMethod(ie,Ee,Ge,yt),ie.kind==="get"&&ie.value.params.length!==0&&this.raiseRecoverable(ie.value.start,"getter should have no params"),ie.kind==="set"&&ie.value.params.length!==1&&this.raiseRecoverable(ie.value.start,"setter should have exactly one param"),ie.kind==="set"&&ie.value.params[0].type==="RestElement"&&this.raiseRecoverable(ie.value.params[0].start,"Setter cannot use rest params"),ie},Je.parseClassMethod=function(P,Y,ie,de){return P.value=this.parseMethod(Y,ie,de),this.finishNode(P,"MethodDefinition")},Je.parseClassId=function(P,Y){this.type===A.name?(P.id=this.parseIdent(),Y&&this.checkLVal(P.id,$t,!1)):(Y===!0&&this.unexpected(),P.id=null)},Je.parseClassSuper=function(P){P.superClass=this.eat(A._extends)?this.parseExprSubscripts():null},Je.parseExport=function(P,Y){if(this.next(),this.eat(A.star))return this.expectContextual("from"),this.type!==A.string&&this.unexpected(),P.source=this.parseExprAtom(),this.semicolon(),this.finishNode(P,"ExportAllDeclaration");if(this.eat(A._default)){this.checkExport(Y,"default",this.lastTokStart);var ie;if(this.type===A._function||(ie=this.isAsyncFunction())){var de=this.startNode();this.next(),ie&&this.next(),P.declaration=this.parseFunction(de,Me|lt,!1,ie)}else if(this.type===A._class){var Ee=this.startNode();P.declaration=this.parseClass(Ee,"nullableID")}else P.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(P,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())P.declaration=this.parseStatement(null),P.declaration.type==="VariableDeclaration"?this.checkVariableExport(Y,P.declaration.declarations):this.checkExport(Y,P.declaration.id.name,P.declaration.id.start),P.specifiers=[],P.source=null;else{if(P.declaration=null,P.specifiers=this.parseExportSpecifiers(Y),this.eatContextual("from"))this.type!==A.string&&this.unexpected(),P.source=this.parseExprAtom();else{for(var Ge=0,et=P.specifiers;Ge<et.length;Ge+=1){var yt=et[Ge];this.checkUnreserved(yt.local),this.checkLocalExport(yt.local)}P.source=null}this.semicolon()}return this.finishNode(P,"ExportNamedDeclaration")},Je.checkExport=function(P,Y,ie){P&&(K(P,Y)&&this.raiseRecoverable(ie,"Duplicate export '"+Y+"'"),P[Y]=!0)},Je.checkPatternExport=function(P,Y){var ie=Y.type;if(ie==="Identifier")this.checkExport(P,Y.name,Y.start);else if(ie==="ObjectPattern")for(var de=0,Ee=Y.properties;de<Ee.length;de+=1){var Ge=Ee[de];this.checkPatternExport(P,Ge)}else if(ie==="ArrayPattern")for(var et=0,yt=Y.elements;et<yt.length;et+=1){var Ct=yt[et];Ct&&this.checkPatternExport(P,Ct)}else ie==="Property"?this.checkPatternExport(P,Y.value):ie==="AssignmentPattern"?this.checkPatternExport(P,Y.left):ie==="RestElement"?this.checkPatternExport(P,Y.argument):ie==="ParenthesizedExpression"&&this.checkPatternExport(P,Y.expression)},Je.checkVariableExport=function(P,Y){if(P)for(var ie=0,de=Y;ie<de.length;ie+=1){var Ee=de[ie];this.checkPatternExport(P,Ee.id)}},Je.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Je.parseExportSpecifiers=function(P){var Y=[],ie=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(ie)ie=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;var de=this.startNode();de.local=this.parseIdent(!0),de.exported=this.eatContextual("as")?this.parseIdent(!0):de.local,this.checkExport(P,de.exported.name,de.exported.start),Y.push(this.finishNode(de,"ExportSpecifier"))}return Y},Je.parseImport=function(P){return this.next(),this.type===A.string?(P.specifiers=ye,P.source=this.parseExprAtom()):(P.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),P.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(P,"ImportDeclaration")},Je.parseImportSpecifiers=function(){var P=[],Y=!0;if(this.type===A.name){var ie=this.startNode();if(ie.local=this.parseIdent(),this.checkLVal(ie.local,$t),P.push(this.finishNode(ie,"ImportDefaultSpecifier")),!this.eat(A.comma))return P}if(this.type===A.star){var de=this.startNode();return this.next(),this.expectContextual("as"),de.local=this.parseIdent(),this.checkLVal(de.local,$t),P.push(this.finishNode(de,"ImportNamespaceSpecifier")),P}for(this.expect(A.braceL);!this.eat(A.braceR);){if(Y)Y=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;var Ee=this.startNode();Ee.imported=this.parseIdent(!0),this.eatContextual("as")?Ee.local=this.parseIdent():(this.checkUnreserved(Ee.imported),Ee.local=Ee.imported),this.checkLVal(Ee.local,$t),P.push(this.finishNode(Ee,"ImportSpecifier"))}return P},Je.adaptDirectivePrologue=function(P){for(var Y=0;Y<P.length&&this.isDirectiveCandidate(P[Y]);++Y)P[Y].directive=P[Y].expression.raw.slice(1,-1)},Je.isDirectiveCandidate=function(P){return P.type==="ExpressionStatement"&&P.expression.type==="Literal"&&typeof P.expression.value=="string"&&(this.input[P.start]==='"'||this.input[P.start]==="'")};var Xe=Ne.prototype;Xe.toAssignable=function(P,Y,ie){if(this.options.ecmaVersion>=6&&P)switch(P.type){case"Identifier":this.inAsync&&P.name==="await"&&this.raise(P.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":P.type="ObjectPattern",ie&&this.checkPatternErrors(ie,!0);for(var de=0,Ee=P.properties;de<Ee.length;de+=1){var Ge=Ee[de];this.toAssignable(Ge,Y),Ge.type==="RestElement"&&(Ge.argument.type==="ArrayPattern"||Ge.argument.type==="ObjectPattern")&&this.raise(Ge.argument.start,"Unexpected token")}break;case"Property":P.kind!=="init"&&this.raise(P.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(P.value,Y);break;case"ArrayExpression":P.type="ArrayPattern",ie&&this.checkPatternErrors(ie,!0),this.toAssignableList(P.elements,Y);break;case"SpreadElement":P.type="RestElement",this.toAssignable(P.argument,Y),P.argument.type==="AssignmentPattern"&&this.raise(P.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":P.operator!=="="&&this.raise(P.left.end,"Only '=' operator can be used for specifying default value."),P.type="AssignmentPattern",delete P.operator,this.toAssignable(P.left,Y);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(P.expression,Y,ie);break;case"MemberExpression":if(!Y)break;default:this.raise(P.start,"Assigning to rvalue")}else ie&&this.checkPatternErrors(ie,!0);return P},Xe.toAssignableList=function(P,Y){for(var ie=P.length,de=0;de<ie;de++){var Ee=P[de];Ee&&this.toAssignable(Ee,Y)}if(ie){var Ge=P[ie-1];this.options.ecmaVersion===6&&Y&&Ge&&Ge.type==="RestElement"&&Ge.argument.type!=="Identifier"&&this.unexpected(Ge.argument.start)}return P},Xe.parseSpread=function(P){var Y=this.startNode();return this.next(),Y.argument=this.parseMaybeAssign(!1,P),this.finishNode(Y,"SpreadElement")},Xe.parseRestBinding=function(){var P=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==A.name&&this.unexpected(),P.argument=this.parseBindingAtom(),this.finishNode(P,"RestElement")},Xe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case A.bracketL:var P=this.startNode();return this.next(),P.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(P,"ArrayPattern");case A.braceL:return this.parseObj(!0)}return this.parseIdent()},Xe.parseBindingList=function(P,Y,ie){for(var de=[],Ee=!0;!this.eat(P);)if(Ee?Ee=!1:this.expect(A.comma),Y&&this.type===A.comma)de.push(null);else{if(ie&&this.afterTrailingComma(P))break;if(this.type===A.ellipsis){var Ge=this.parseRestBinding();this.parseBindingListItem(Ge),de.push(Ge),this.type===A.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(P);break}else{var et=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(et),de.push(et)}}return de},Xe.parseBindingListItem=function(P){return P},Xe.parseMaybeDefault=function(P,Y,ie){if(ie=ie||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return ie;var de=this.startNodeAt(P,Y);return de.left=ie,de.right=this.parseMaybeAssign(),this.finishNode(de,"AssignmentPattern")},Xe.checkLVal=function(P,Y,ie){switch(Y===void 0&&(Y=xt),P.type){case"Identifier":Y===$t&&P.name==="let"&&this.raiseRecoverable(P.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(P.name)&&this.raiseRecoverable(P.start,(Y?"Binding ":"Assigning to ")+P.name+" in strict mode"),ie&&(K(ie,P.name)&&this.raiseRecoverable(P.start,"Argument name clash"),ie[P.name]=!0),Y!==xt&&Y!==dr&&this.declareName(P.name,Y,P.start);break;case"MemberExpression":Y&&this.raiseRecoverable(P.start,"Binding member expression");break;case"ObjectPattern":for(var de=0,Ee=P.properties;de<Ee.length;de+=1){var Ge=Ee[de];this.checkLVal(Ge,Y,ie)}break;case"Property":this.checkLVal(P.value,Y,ie);break;case"ArrayPattern":for(var et=0,yt=P.elements;et<yt.length;et+=1){var Ct=yt[et];Ct&&this.checkLVal(Ct,Y,ie)}break;case"AssignmentPattern":this.checkLVal(P.left,Y,ie);break;case"RestElement":this.checkLVal(P.argument,Y,ie);break;case"ParenthesizedExpression":this.checkLVal(P.expression,Y,ie);break;default:this.raise(P.start,(Y?"Binding":"Assigning to")+" rvalue")}};var we=Ne.prototype;we.checkPropClash=function(P,Y,ie){if(!(this.options.ecmaVersion>=9&&P.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(P.computed||P.method||P.shorthand))){var de=P.key,Ee;switch(de.type){case"Identifier":Ee=de.name;break;case"Literal":Ee=String(de.value);break;default:return}var Ge=P.kind;if(this.options.ecmaVersion>=6){Ee==="__proto__"&&Ge==="init"&&(Y.proto&&(ie?ie.doubleProto<0&&(ie.doubleProto=de.start):this.raiseRecoverable(de.start,"Redefinition of __proto__ property")),Y.proto=!0);return}Ee="$"+Ee;var et=Y[Ee];if(et){var yt;Ge==="init"?yt=this.strict&&et.init||et.get||et.set:yt=et.init||et[Ge],yt&&this.raiseRecoverable(de.start,"Redefinition of property")}else et=Y[Ee]={init:!1,get:!1,set:!1};et[Ge]=!0}},we.parseExpression=function(P,Y){var ie=this.start,de=this.startLoc,Ee=this.parseMaybeAssign(P,Y);if(this.type===A.comma){var Ge=this.startNodeAt(ie,de);for(Ge.expressions=[Ee];this.eat(A.comma);)Ge.expressions.push(this.parseMaybeAssign(P,Y));return this.finishNode(Ge,"SequenceExpression")}return Ee},we.parseMaybeAssign=function(P,Y,ie){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(P);this.exprAllowed=!1}var de=!1,Ee=-1,Ge=-1;Y?(Ee=Y.parenthesizedAssign,Ge=Y.trailingComma,Y.parenthesizedAssign=Y.trailingComma=-1):(Y=new ft,de=!0);var et=this.start,yt=this.startLoc;(this.type===A.parenL||this.type===A.name)&&(this.potentialArrowAt=this.start);var Ct=this.parseMaybeConditional(P,Y);if(ie&&(Ct=ie.call(this,Ct,et,yt)),this.type.isAssign){var or=this.startNodeAt(et,yt);return or.operator=this.value,or.left=this.type===A.eq?this.toAssignable(Ct,!1,Y):Ct,de||(Y.parenthesizedAssign=Y.trailingComma=Y.doubleProto=-1),Y.shorthandAssign>=or.left.start&&(Y.shorthandAssign=-1),this.checkLVal(Ct),this.next(),or.right=this.parseMaybeAssign(P),this.finishNode(or,"AssignmentExpression")}else de&&this.checkExpressionErrors(Y,!0);return Ee>-1&&(Y.parenthesizedAssign=Ee),Ge>-1&&(Y.trailingComma=Ge),Ct},we.parseMaybeConditional=function(P,Y){var ie=this.start,de=this.startLoc,Ee=this.parseExprOps(P,Y);if(this.checkExpressionErrors(Y))return Ee;if(this.eat(A.question)){var Ge=this.startNodeAt(ie,de);return Ge.test=Ee,Ge.consequent=this.parseMaybeAssign(),this.expect(A.colon),Ge.alternate=this.parseMaybeAssign(P),this.finishNode(Ge,"ConditionalExpression")}return Ee},we.parseExprOps=function(P,Y){var ie=this.start,de=this.startLoc,Ee=this.parseMaybeUnary(Y,!1);return this.checkExpressionErrors(Y)||Ee.start===ie&&Ee.type==="ArrowFunctionExpression"?Ee:this.parseExprOp(Ee,ie,de,-1,P)},we.parseExprOp=function(P,Y,ie,de,Ee){var Ge=this.type.binop;if(Ge!=null&&(!Ee||this.type!==A._in)&&Ge>de){var et=this.type===A.logicalOR||this.type===A.logicalAND,yt=this.value;this.next();var Ct=this.start,or=this.startLoc,mr=this.parseExprOp(this.parseMaybeUnary(null,!1),Ct,or,Ge,Ee),nn=this.buildBinary(Y,ie,P,mr,yt,et);return this.parseExprOp(nn,Y,ie,de,Ee)}return P},we.buildBinary=function(P,Y,ie,de,Ee,Ge){var et=this.startNodeAt(P,Y);return et.left=ie,et.operator=Ee,et.right=de,this.finishNode(et,Ge?"LogicalExpression":"BinaryExpression")},we.parseMaybeUnary=function(P,Y){var ie=this.start,de=this.startLoc,Ee;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))Ee=this.parseAwait(),Y=!0;else if(this.type.prefix){var Ge=this.startNode(),et=this.type===A.incDec;Ge.operator=this.value,Ge.prefix=!0,this.next(),Ge.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(P,!0),et?this.checkLVal(Ge.argument):this.strict&&Ge.operator==="delete"&&Ge.argument.type==="Identifier"?this.raiseRecoverable(Ge.start,"Deleting local variable in strict mode"):Y=!0,Ee=this.finishNode(Ge,et?"UpdateExpression":"UnaryExpression")}else{if(Ee=this.parseExprSubscripts(P),this.checkExpressionErrors(P))return Ee;for(;this.type.postfix&&!this.canInsertSemicolon();){var yt=this.startNodeAt(ie,de);yt.operator=this.value,yt.prefix=!1,yt.argument=Ee,this.checkLVal(Ee),this.next(),Ee=this.finishNode(yt,"UpdateExpression")}}return!Y&&this.eat(A.starstar)?this.buildBinary(ie,de,Ee,this.parseMaybeUnary(null,!1),"**",!1):Ee},we.parseExprSubscripts=function(P){var Y=this.start,ie=this.startLoc,de=this.parseExprAtom(P);if(de.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return de;var Ee=this.parseSubscripts(de,Y,ie);return P&&Ee.type==="MemberExpression"&&(P.parenthesizedAssign>=Ee.start&&(P.parenthesizedAssign=-1),P.parenthesizedBind>=Ee.start&&(P.parenthesizedBind=-1)),Ee},we.parseSubscripts=function(P,Y,ie,de){for(var Ee=this.options.ecmaVersion>=8&&P.type==="Identifier"&&P.name==="async"&&this.lastTokEnd===P.end&&!this.canInsertSemicolon()&&this.input.slice(P.start,P.end)==="async";;){var Ge=this.parseSubscript(P,Y,ie,de,Ee);if(Ge===P||Ge.type==="ArrowFunctionExpression")return Ge;P=Ge}},we.parseSubscript=function(P,Y,ie,de,Ee){var Ge=this.eat(A.bracketL);if(Ge||this.eat(A.dot)){var et=this.startNodeAt(Y,ie);et.object=P,et.property=Ge?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),et.computed=!!Ge,Ge&&this.expect(A.bracketR),P=this.finishNode(et,"MemberExpression")}else if(!de&&this.eat(A.parenL)){var yt=new ft,Ct=this.yieldPos,or=this.awaitPos,mr=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var nn=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1,yt);if(Ee&&!this.canInsertSemicolon()&&this.eat(A.arrow))return this.checkPatternErrors(yt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Ct,this.awaitPos=or,this.awaitIdentPos=mr,this.parseArrowExpression(this.startNodeAt(Y,ie),nn,!0);this.checkExpressionErrors(yt,!0),this.yieldPos=Ct||this.yieldPos,this.awaitPos=or||this.awaitPos,this.awaitIdentPos=mr||this.awaitIdentPos;var hn=this.startNodeAt(Y,ie);hn.callee=P,hn.arguments=nn,P=this.finishNode(hn,"CallExpression")}else if(this.type===A.backQuote){var kn=this.startNodeAt(Y,ie);kn.tag=P,kn.quasi=this.parseTemplate({isTagged:!0}),P=this.finishNode(kn,"TaggedTemplateExpression")}return P},we.parseExprAtom=function(P){this.type===A.slash&&this.readRegexp();var Y,ie=this.potentialArrowAt===this.start;switch(this.type){case A._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Y=this.startNode(),this.next(),this.type===A.parenL&&!this.allowDirectSuper&&this.raise(Y.start,"super() call outside constructor of a subclass"),this.type!==A.dot&&this.type!==A.bracketL&&this.type!==A.parenL&&this.unexpected(),this.finishNode(Y,"Super");case A._this:return Y=this.startNode(),this.next(),this.finishNode(Y,"ThisExpression");case A.name:var de=this.start,Ee=this.startLoc,Ge=this.containsEsc,et=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Ge&&et.name==="async"&&!this.canInsertSemicolon()&&this.eat(A._function))return this.parseFunction(this.startNodeAt(de,Ee),0,!1,!0);if(ie&&!this.canInsertSemicolon()){if(this.eat(A.arrow))return this.parseArrowExpression(this.startNodeAt(de,Ee),[et],!1);if(this.options.ecmaVersion>=8&&et.name==="async"&&this.type===A.name&&!Ge)return et=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(A.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(de,Ee),[et],!0)}return et;case A.regexp:var yt=this.value;return Y=this.parseLiteral(yt.value),Y.regex={pattern:yt.pattern,flags:yt.flags},Y;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return Y=this.startNode(),Y.value=this.type===A._null?null:this.type===A._true,Y.raw=this.type.keyword,this.next(),this.finishNode(Y,"Literal");case A.parenL:var Ct=this.start,or=this.parseParenAndDistinguishExpression(ie);return P&&(P.parenthesizedAssign<0&&!this.isSimpleAssignTarget(or)&&(P.parenthesizedAssign=Ct),P.parenthesizedBind<0&&(P.parenthesizedBind=Ct)),or;case A.bracketL:return Y=this.startNode(),this.next(),Y.elements=this.parseExprList(A.bracketR,!0,!0,P),this.finishNode(Y,"ArrayExpression");case A.braceL:return this.parseObj(!1,P);case A._function:return Y=this.startNode(),this.next(),this.parseFunction(Y,0);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();case A._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},we.parseExprImport=function(){var P=this.startNode();switch(this.next(),this.type){case A.parenL:return this.parseDynamicImport(P);default:this.unexpected()}},we.parseDynamicImport=function(P){if(this.next(),P.source=this.parseMaybeAssign(),!this.eat(A.parenR)){var Y=this.start;this.eat(A.comma)&&this.eat(A.parenR)?this.raiseRecoverable(Y,"Trailing comma is not allowed in import()"):this.unexpected(Y)}return this.finishNode(P,"ImportExpression")},we.parseLiteral=function(P){var Y=this.startNode();return Y.value=P,Y.raw=this.input.slice(this.start,this.end),Y.raw.charCodeAt(Y.raw.length-1)===110&&(Y.bigint=Y.raw.slice(0,-1)),this.next(),this.finishNode(Y,"Literal")},we.parseParenExpression=function(){this.expect(A.parenL);var P=this.parseExpression();return this.expect(A.parenR),P},we.parseParenAndDistinguishExpression=function(P){var Y=this.start,ie=this.startLoc,de,Ee=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Ge=this.start,et=this.startLoc,yt=[],Ct=!0,or=!1,mr=new ft,nn=this.yieldPos,hn=this.awaitPos,kn;for(this.yieldPos=0,this.awaitPos=0;this.type!==A.parenR;)if(Ct?Ct=!1:this.expect(A.comma),Ee&&this.afterTrailingComma(A.parenR,!0)){or=!0;break}else if(this.type===A.ellipsis){kn=this.start,yt.push(this.parseParenItem(this.parseRestBinding())),this.type===A.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else yt.push(this.parseMaybeAssign(!1,mr,this.parseParenItem));var Hn=this.start,Pn=this.startLoc;if(this.expect(A.parenR),P&&!this.canInsertSemicolon()&&this.eat(A.arrow))return this.checkPatternErrors(mr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=nn,this.awaitPos=hn,this.parseParenArrowList(Y,ie,yt);(!yt.length||or)&&this.unexpected(this.lastTokStart),kn&&this.unexpected(kn),this.checkExpressionErrors(mr,!0),this.yieldPos=nn||this.yieldPos,this.awaitPos=hn||this.awaitPos,yt.length>1?(de=this.startNodeAt(Ge,et),de.expressions=yt,this.finishNodeAt(de,"SequenceExpression",Hn,Pn)):de=yt[0]}else de=this.parseParenExpression();if(this.options.preserveParens){var _n=this.startNodeAt(Y,ie);return _n.expression=de,this.finishNode(_n,"ParenthesizedExpression")}else return de},we.parseParenItem=function(P){return P},we.parseParenArrowList=function(P,Y,ie){return this.parseArrowExpression(this.startNodeAt(P,Y),ie)};var Ue=[];we.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var P=this.startNode(),Y=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(A.dot)){P.meta=Y;var ie=this.containsEsc;return P.property=this.parseIdent(!0),(P.property.name!=="target"||ie)&&this.raiseRecoverable(P.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(P.start,"new.target can only be used in functions"),this.finishNode(P,"MetaProperty")}var de=this.start,Ee=this.startLoc,Ge=this.type===A._import;return P.callee=this.parseSubscripts(this.parseExprAtom(),de,Ee,!0),Ge&&P.callee.type==="ImportExpression"&&this.raise(de,"Cannot use new with import()"),this.eat(A.parenL)?P.arguments=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1):P.arguments=Ue,this.finishNode(P,"NewExpression")},we.parseTemplateElement=function(P){var Y=P.isTagged,ie=this.startNode();return this.type===A.invalidTemplate?(Y||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),ie.value={raw:this.value,cooked:null}):ie.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),ie.tail=this.type===A.backQuote,this.finishNode(ie,"TemplateElement")},we.parseTemplate=function(P){P===void 0&&(P={});var Y=P.isTagged;Y===void 0&&(Y=!1);var ie=this.startNode();this.next(),ie.expressions=[];var de=this.parseTemplateElement({isTagged:Y});for(ie.quasis=[de];!de.tail;)this.type===A.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(A.dollarBraceL),ie.expressions.push(this.parseExpression()),this.expect(A.braceR),ie.quasis.push(de=this.parseTemplateElement({isTagged:Y}));return this.next(),this.finishNode(ie,"TemplateLiteral")},we.isAsyncProp=function(P){return!P.computed&&P.key.type==="Identifier"&&P.key.name==="async"&&(this.type===A.name||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===A.star)&&!$.test(this.input.slice(this.lastTokEnd,this.start))},we.parseObj=function(P,Y){var ie=this.startNode(),de=!0,Ee={};for(ie.properties=[],this.next();!this.eat(A.braceR);){if(de)de=!1;else if(this.expect(A.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(A.braceR))break;var Ge=this.parseProperty(P,Y);P||this.checkPropClash(Ge,Ee,Y),ie.properties.push(Ge)}return this.finishNode(ie,P?"ObjectPattern":"ObjectExpression")},we.parseProperty=function(P,Y){var ie=this.startNode(),de,Ee,Ge,et;if(this.options.ecmaVersion>=9&&this.eat(A.ellipsis))return P?(ie.argument=this.parseIdent(!1),this.type===A.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(ie,"RestElement")):(this.type===A.parenL&&Y&&(Y.parenthesizedAssign<0&&(Y.parenthesizedAssign=this.start),Y.parenthesizedBind<0&&(Y.parenthesizedBind=this.start)),ie.argument=this.parseMaybeAssign(!1,Y),this.type===A.comma&&Y&&Y.trailingComma<0&&(Y.trailingComma=this.start),this.finishNode(ie,"SpreadElement"));this.options.ecmaVersion>=6&&(ie.method=!1,ie.shorthand=!1,(P||Y)&&(Ge=this.start,et=this.startLoc),P||(de=this.eat(A.star)));var yt=this.containsEsc;return this.parsePropertyName(ie),!P&&!yt&&this.options.ecmaVersion>=8&&!de&&this.isAsyncProp(ie)?(Ee=!0,de=this.options.ecmaVersion>=9&&this.eat(A.star),this.parsePropertyName(ie,Y)):Ee=!1,this.parsePropertyValue(ie,P,de,Ee,Ge,et,Y,yt),this.finishNode(ie,"Property")},we.parsePropertyValue=function(P,Y,ie,de,Ee,Ge,et,yt){if((ie||de)&&this.type===A.colon&&this.unexpected(),this.eat(A.colon))P.value=Y?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,et),P.kind="init";else if(this.options.ecmaVersion>=6&&this.type===A.parenL)Y&&this.unexpected(),P.kind="init",P.method=!0,P.value=this.parseMethod(ie,de);else if(!Y&&!yt&&this.options.ecmaVersion>=5&&!P.computed&&P.key.type==="Identifier"&&(P.key.name==="get"||P.key.name==="set")&&this.type!==A.comma&&this.type!==A.braceR){(ie||de)&&this.unexpected(),P.kind=P.key.name,this.parsePropertyName(P),P.value=this.parseMethod(!1);var Ct=P.kind==="get"?0:1;if(P.value.params.length!==Ct){var or=P.value.start;P.kind==="get"?this.raiseRecoverable(or,"getter should have no params"):this.raiseRecoverable(or,"setter should have exactly one param")}else P.kind==="set"&&P.value.params[0].type==="RestElement"&&this.raiseRecoverable(P.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!P.computed&&P.key.type==="Identifier"?((ie||de)&&this.unexpected(),this.checkUnreserved(P.key),P.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Ee),P.kind="init",Y?P.value=this.parseMaybeDefault(Ee,Ge,P.key):this.type===A.eq&&et?(et.shorthandAssign<0&&(et.shorthandAssign=this.start),P.value=this.parseMaybeDefault(Ee,Ge,P.key)):P.value=P.key,P.shorthand=!0):this.unexpected()},we.parsePropertyName=function(P){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return P.computed=!0,P.key=this.parseMaybeAssign(),this.expect(A.bracketR),P.key;P.computed=!1}return P.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},we.initFunction=function(P){P.id=null,this.options.ecmaVersion>=6&&(P.generator=P.expression=!1),this.options.ecmaVersion>=8&&(P.async=!1)},we.parseMethod=function(P,Y,ie){var de=this.startNode(),Ee=this.yieldPos,Ge=this.awaitPos,et=this.awaitIdentPos;return this.initFunction(de),this.options.ecmaVersion>=6&&(de.generator=P),this.options.ecmaVersion>=8&&(de.async=!!Y),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(De(Y,de.generator)|Le|(ie?Qe:0)),this.expect(A.parenL),de.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(de,!1,!0),this.yieldPos=Ee,this.awaitPos=Ge,this.awaitIdentPos=et,this.finishNode(de,"FunctionExpression")},we.parseArrowExpression=function(P,Y,ie){var de=this.yieldPos,Ee=this.awaitPos,Ge=this.awaitIdentPos;return this.enterScope(De(ie,!1)|ve),this.initFunction(P),this.options.ecmaVersion>=8&&(P.async=!!ie),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,P.params=this.toAssignableList(Y,!0),this.parseFunctionBody(P,!0,!1),this.yieldPos=de,this.awaitPos=Ee,this.awaitIdentPos=Ge,this.finishNode(P,"ArrowFunctionExpression")},we.parseFunctionBody=function(P,Y,ie){var de=Y&&this.type!==A.braceL,Ee=this.strict,Ge=!1;if(de)P.body=this.parseMaybeAssign(),P.expression=!0,this.checkParams(P,!1);else{var et=this.options.ecmaVersion>=7&&!this.isSimpleParamList(P.params);(!Ee||et)&&(Ge=this.strictDirective(this.end),Ge&&et&&this.raiseRecoverable(P.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var yt=this.labels;this.labels=[],Ge&&(this.strict=!0),this.checkParams(P,!Ee&&!Ge&&!Y&&!ie&&this.isSimpleParamList(P.params)),P.body=this.parseBlock(!1),P.expression=!1,this.adaptDirectivePrologue(P.body.body),this.labels=yt}this.exitScope(),this.strict&&P.id&&this.checkLVal(P.id,dr),this.strict=Ee},we.isSimpleParamList=function(P){for(var Y=0,ie=P;Y<ie.length;Y+=1){var de=ie[Y];if(de.type!=="Identifier")return!1}return!0},we.checkParams=function(P,Y){for(var ie={},de=0,Ee=P.params;de<Ee.length;de+=1){var Ge=Ee[de];this.checkLVal(Ge,Mt,Y?null:ie)}},we.parseExprList=function(P,Y,ie,de){for(var Ee=[],Ge=!0;!this.eat(P);){if(Ge)Ge=!1;else if(this.expect(A.comma),Y&&this.afterTrailingComma(P))break;var et=void 0;ie&&this.type===A.comma?et=null:this.type===A.ellipsis?(et=this.parseSpread(de),de&&this.type===A.comma&&de.trailingComma<0&&(de.trailingComma=this.start)):et=this.parseMaybeAssign(!1,de),Ee.push(et)}return Ee},we.checkUnreserved=function(P){var Y=P.start,ie=P.end,de=P.name;if(this.inGenerator&&de==="yield"&&this.raiseRecoverable(Y,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&de==="await"&&this.raiseRecoverable(Y,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(de)&&this.raise(Y,"Unexpected keyword '"+de+"'"),!(this.options.ecmaVersion<6&&this.input.slice(Y,ie).indexOf("\\")!==-1)){var Ee=this.strict?this.reservedWordsStrict:this.reservedWords;Ee.test(de)&&(!this.inAsync&&de==="await"&&this.raiseRecoverable(Y,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(Y,"The keyword '"+de+"' is reserved"))}},we.parseIdent=function(P,Y){var ie=this.startNode();return this.type===A.name?ie.name=this.value:this.type.keyword?(ie.name=this.type.keyword,(ie.name==="class"||ie.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!P),this.finishNode(ie,"Identifier"),P||(this.checkUnreserved(ie),ie.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ie.start)),ie},we.parseYield=function(P){this.yieldPos||(this.yieldPos=this.start);var Y=this.startNode();return this.next(),this.type===A.semi||this.canInsertSemicolon()||this.type!==A.star&&!this.type.startsExpr?(Y.delegate=!1,Y.argument=null):(Y.delegate=this.eat(A.star),Y.argument=this.parseMaybeAssign(P)),this.finishNode(Y,"YieldExpression")},we.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var P=this.startNode();return this.next(),P.argument=this.parseMaybeUnary(null,!1),this.finishNode(P,"AwaitExpression")};var ht=Ne.prototype;ht.raise=function(P,Y){var ie=J(this.input,P);Y+=" ("+ie.line+":"+ie.column+")";var de=new SyntaxError(Y);throw de.pos=P,de.loc=ie,de.raisedAt=this.pos,de},ht.raiseRecoverable=ht.raise,ht.curPosition=function(){if(this.options.locations)return new te(this.curLine,this.pos-this.lineStart)};var tt=Ne.prototype,At=function(Y){this.flags=Y,this.var=[],this.lexical=[],this.functions=[]};tt.enterScope=function(P){this.scopeStack.push(new At(P))},tt.exitScope=function(){this.scopeStack.pop()},tt.treatFunctionsAsVarInScope=function(P){return P.flags&Te||!this.inModule&&P.flags&Ie},tt.declareName=function(P,Y,ie){var de=!1;if(Y===$t){var Ee=this.currentScope();de=Ee.lexical.indexOf(P)>-1||Ee.functions.indexOf(P)>-1||Ee.var.indexOf(P)>-1,Ee.lexical.push(P),this.inModule&&Ee.flags&Ie&&delete this.undefinedExports[P]}else if(Y===br){var Ge=this.currentScope();Ge.lexical.push(P)}else if(Y===tr){var et=this.currentScope();this.treatFunctionsAsVar?de=et.lexical.indexOf(P)>-1:de=et.lexical.indexOf(P)>-1||et.var.indexOf(P)>-1,et.functions.push(P)}else for(var yt=this.scopeStack.length-1;yt>=0;--yt){var Ct=this.scopeStack[yt];if(Ct.lexical.indexOf(P)>-1&&!(Ct.flags&he&&Ct.lexical[0]===P)||!this.treatFunctionsAsVarInScope(Ct)&&Ct.functions.indexOf(P)>-1){de=!0;break}if(Ct.var.push(P),this.inModule&&Ct.flags&Ie&&delete this.undefinedExports[P],Ct.flags&Re)break}de&&this.raiseRecoverable(ie,"Identifier '"+P+"' has already been declared")},tt.checkLocalExport=function(P){this.scopeStack[0].lexical.indexOf(P.name)===-1&&this.scopeStack[0].var.indexOf(P.name)===-1&&(this.undefinedExports[P.name]=P)},tt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},tt.currentVarScope=function(){for(var P=this.scopeStack.length-1;;P--){var Y=this.scopeStack[P];if(Y.flags&Re)return Y}},tt.currentThisScope=function(){for(var P=this.scopeStack.length-1;;P--){var Y=this.scopeStack[P];if(Y.flags&Re&&!(Y.flags&ve))return Y}};var vt=function(Y,ie,de){this.type="",this.start=ie,this.end=0,Y.options.locations&&(this.loc=new se(Y,de)),Y.options.directSourceFile&&(this.sourceFile=Y.options.directSourceFile),Y.options.ranges&&(this.range=[ie,0])},St=Ne.prototype;St.startNode=function(){return new vt(this,this.start,this.startLoc)},St.startNodeAt=function(P,Y){return new vt(this,P,Y)};function Ot(P,Y,ie,de){return P.type=Y,P.end=ie,this.options.locations&&(P.loc.end=de),this.options.ranges&&(P.range[1]=ie),P}St.finishNode=function(P,Y){return Ot.call(this,P,Y,this.lastTokEnd,this.lastTokEndLoc)},St.finishNodeAt=function(P,Y,ie,de){return Ot.call(this,P,Y,ie,de)};var nt=function(Y,ie,de,Ee,Ge){this.token=Y,this.isExpr=!!ie,this.preserveSpace=!!de,this.override=Ee,this.generator=!!Ge},jt={b_stat:new nt("{",!1),b_expr:new nt("{",!0),b_tmpl:new nt("${",!1),p_stat:new nt("(",!1),p_expr:new nt("(",!0),q_tmpl:new nt("`",!0,!0,function(P){return P.tryReadTemplateToken()}),f_stat:new nt("function",!1),f_expr:new nt("function",!0),f_expr_gen:new nt("function",!0,!1,null,!0),f_gen:new nt("function",!1,!1,null,!0)},Dn=Ne.prototype;Dn.initialContext=function(){return[jt.b_stat]},Dn.braceIsBlock=function(P){var Y=this.curContext();return Y===jt.f_expr||Y===jt.f_stat?!0:P===A.colon&&(Y===jt.b_stat||Y===jt.b_expr)?!Y.isExpr:P===A._return||P===A.name&&this.exprAllowed?$.test(this.input.slice(this.lastTokEnd,this.start)):P===A._else||P===A.semi||P===A.eof||P===A.parenR||P===A.arrow?!0:P===A.braceL?Y===jt.b_stat:P===A._var||P===A._const||P===A.name?!1:!this.exprAllowed},Dn.inGeneratorContext=function(){for(var P=this.context.length-1;P>=1;P--){var Y=this.context[P];if(Y.token==="function")return Y.generator}return!1},Dn.updateContext=function(P){var Y,ie=this.type;ie.keyword&&P===A.dot?this.exprAllowed=!1:(Y=ie.updateContext)?Y.call(this,P):this.exprAllowed=ie.beforeExpr},A.parenR.updateContext=A.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var P=this.context.pop();P===jt.b_stat&&this.curContext().token==="function"&&(P=this.context.pop()),this.exprAllowed=!P.isExpr},A.braceL.updateContext=function(P){this.context.push(this.braceIsBlock(P)?jt.b_stat:jt.b_expr),this.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.context.push(jt.b_tmpl),this.exprAllowed=!0},A.parenL.updateContext=function(P){var Y=P===A._if||P===A._for||P===A._with||P===A._while;this.context.push(Y?jt.p_stat:jt.p_expr),this.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=A._class.updateContext=function(P){P.beforeExpr&&P!==A.semi&&P!==A._else&&!(P===A._return&&$.test(this.input.slice(this.lastTokEnd,this.start)))&&!((P===A.colon||P===A.braceL)&&this.curContext()===jt.b_stat)?this.context.push(jt.f_expr):this.context.push(jt.f_stat),this.exprAllowed=!1},A.backQuote.updateContext=function(){this.curContext()===jt.q_tmpl?this.context.pop():this.context.push(jt.q_tmpl),this.exprAllowed=!1},A.star.updateContext=function(P){if(P===A._function){var Y=this.context.length-1;this.context[Y]===jt.f_expr?this.context[Y]=jt.f_expr_gen:this.context[Y]=jt.f_gen}this.exprAllowed=!0},A.name.updateContext=function(P){var Y=!1;this.options.ecmaVersion>=6&&P!==A.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(Y=!0),this.exprAllowed=Y};var ei="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",vn=ei+" Extended_Pictographic",Nr=vn,ui={9:ei,10:vn,11:Nr},On="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",jn="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ti=jn+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Ui=ti+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",bn={9:jn,10:ti,11:Ui},Tn={};function ln(P){var Y=Tn[P]={binary:X(ui[P]+" "+On),nonBinary:{General_Category:X(On),Script:X(bn[P])}};Y.nonBinary.Script_Extensions=Y.nonBinary.Script,Y.nonBinary.gc=Y.nonBinary.General_Category,Y.nonBinary.sc=Y.nonBinary.Script,Y.nonBinary.scx=Y.nonBinary.Script_Extensions}ln(9),ln(10),ln(11);var Et=Ne.prototype,Cr=function(Y){this.parser=Y,this.validFlags="gim"+(Y.options.ecmaVersion>=6?"uy":"")+(Y.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Tn[Y.options.ecmaVersion>=11?11:Y.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Cr.prototype.reset=function(Y,ie,de){var Ee=de.indexOf("u")!==-1;this.start=Y|0,this.source=ie+"",this.flags=de,this.switchU=Ee&&this.parser.options.ecmaVersion>=6,this.switchN=Ee&&this.parser.options.ecmaVersion>=9},Cr.prototype.raise=function(Y){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Y)},Cr.prototype.at=function(Y){var ie=this.source,de=ie.length;if(Y>=de)return-1;var Ee=ie.charCodeAt(Y);if(!this.switchU||Ee<=55295||Ee>=57344||Y+1>=de)return Ee;var Ge=ie.charCodeAt(Y+1);return Ge>=56320&&Ge<=57343?(Ee<<10)+Ge-56613888:Ee},Cr.prototype.nextIndex=function(Y){var ie=this.source,de=ie.length;if(Y>=de)return de;var Ee=ie.charCodeAt(Y),Ge;return!this.switchU||Ee<=55295||Ee>=57344||Y+1>=de||(Ge=ie.charCodeAt(Y+1))<56320||Ge>57343?Y+1:Y+2},Cr.prototype.current=function(){return this.at(this.pos)},Cr.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Cr.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Cr.prototype.eat=function(Y){return this.current()===Y?(this.advance(),!0):!1};function En(P){return P<=65535?String.fromCharCode(P):(P-=65536,String.fromCharCode((P>>10)+55296,(P&1023)+56320))}Et.validateRegExpFlags=function(P){for(var Y=P.validFlags,ie=P.flags,de=0;de<ie.length;de++){var Ee=ie.charAt(de);Y.indexOf(Ee)===-1&&this.raise(P.start,"Invalid regular expression flag"),ie.indexOf(Ee,de+1)>-1&&this.raise(P.start,"Duplicate regular expression flag")}},Et.validateRegExpPattern=function(P){this.regexp_pattern(P),!P.switchN&&this.options.ecmaVersion>=9&&P.groupNames.length>0&&(P.switchN=!0,this.regexp_pattern(P))},Et.regexp_pattern=function(P){P.pos=0,P.lastIntValue=0,P.lastStringValue="",P.lastAssertionIsQuantifiable=!1,P.numCapturingParens=0,P.maxBackReference=0,P.groupNames.length=0,P.backReferenceNames.length=0,this.regexp_disjunction(P),P.pos!==P.source.length&&(P.eat(41)&&P.raise("Unmatched ')'"),(P.eat(93)||P.eat(125))&&P.raise("Lone quantifier brackets")),P.maxBackReference>P.numCapturingParens&&P.raise("Invalid escape");for(var Y=0,ie=P.backReferenceNames;Y<ie.length;Y+=1){var de=ie[Y];P.groupNames.indexOf(de)===-1&&P.raise("Invalid named capture referenced")}},Et.regexp_disjunction=function(P){for(this.regexp_alternative(P);P.eat(124);)this.regexp_alternative(P);this.regexp_eatQuantifier(P,!0)&&P.raise("Nothing to repeat"),P.eat(123)&&P.raise("Lone quantifier brackets")},Et.regexp_alternative=function(P){for(;P.pos<P.source.length&&this.regexp_eatTerm(P););},Et.regexp_eatTerm=function(P){return this.regexp_eatAssertion(P)?(P.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(P)&&P.switchU&&P.raise("Invalid quantifier"),!0):(P.switchU?this.regexp_eatAtom(P):this.regexp_eatExtendedAtom(P))?(this.regexp_eatQuantifier(P),!0):!1},Et.regexp_eatAssertion=function(P){var Y=P.pos;if(P.lastAssertionIsQuantifiable=!1,P.eat(94)||P.eat(36))return!0;if(P.eat(92)){if(P.eat(66)||P.eat(98))return!0;P.pos=Y}if(P.eat(40)&&P.eat(63)){var ie=!1;if(this.options.ecmaVersion>=9&&(ie=P.eat(60)),P.eat(61)||P.eat(33))return this.regexp_disjunction(P),P.eat(41)||P.raise("Unterminated group"),P.lastAssertionIsQuantifiable=!ie,!0}return P.pos=Y,!1},Et.regexp_eatQuantifier=function(P,Y){return Y===void 0&&(Y=!1),this.regexp_eatQuantifierPrefix(P,Y)?(P.eat(63),!0):!1},Et.regexp_eatQuantifierPrefix=function(P,Y){return P.eat(42)||P.eat(43)||P.eat(63)||this.regexp_eatBracedQuantifier(P,Y)},Et.regexp_eatBracedQuantifier=function(P,Y){var ie=P.pos;if(P.eat(123)){var de=0,Ee=-1;if(this.regexp_eatDecimalDigits(P)&&(de=P.lastIntValue,P.eat(44)&&this.regexp_eatDecimalDigits(P)&&(Ee=P.lastIntValue),P.eat(125)))return Ee!==-1&&Ee<de&&!Y&&P.raise("numbers out of order in {} quantifier"),!0;P.switchU&&!Y&&P.raise("Incomplete quantifier"),P.pos=ie}return!1},Et.regexp_eatAtom=function(P){return this.regexp_eatPatternCharacters(P)||P.eat(46)||this.regexp_eatReverseSolidusAtomEscape(P)||this.regexp_eatCharacterClass(P)||this.regexp_eatUncapturingGroup(P)||this.regexp_eatCapturingGroup(P)},Et.regexp_eatReverseSolidusAtomEscape=function(P){var Y=P.pos;if(P.eat(92)){if(this.regexp_eatAtomEscape(P))return!0;P.pos=Y}return!1},Et.regexp_eatUncapturingGroup=function(P){var Y=P.pos;if(P.eat(40)){if(P.eat(63)&&P.eat(58)){if(this.regexp_disjunction(P),P.eat(41))return!0;P.raise("Unterminated group")}P.pos=Y}return!1},Et.regexp_eatCapturingGroup=function(P){if(P.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(P):P.current()===63&&P.raise("Invalid group"),this.regexp_disjunction(P),P.eat(41))return P.numCapturingParens+=1,!0;P.raise("Unterminated group")}return!1},Et.regexp_eatExtendedAtom=function(P){return P.eat(46)||this.regexp_eatReverseSolidusAtomEscape(P)||this.regexp_eatCharacterClass(P)||this.regexp_eatUncapturingGroup(P)||this.regexp_eatCapturingGroup(P)||this.regexp_eatInvalidBracedQuantifier(P)||this.regexp_eatExtendedPatternCharacter(P)},Et.regexp_eatInvalidBracedQuantifier=function(P){return this.regexp_eatBracedQuantifier(P,!0)&&P.raise("Nothing to repeat"),!1},Et.regexp_eatSyntaxCharacter=function(P){var Y=P.current();return Cn(Y)?(P.lastIntValue=Y,P.advance(),!0):!1};function Cn(P){return P===36||P>=40&&P<=43||P===46||P===63||P>=91&&P<=94||P>=123&&P<=125}Et.regexp_eatPatternCharacters=function(P){for(var Y=P.pos,ie=0;(ie=P.current())!==-1&&!Cn(ie);)P.advance();return P.pos!==Y},Et.regexp_eatExtendedPatternCharacter=function(P){var Y=P.current();return Y!==-1&&Y!==36&&!(Y>=40&&Y<=43)&&Y!==46&&Y!==63&&Y!==91&&Y!==94&&Y!==124?(P.advance(),!0):!1},Et.regexp_groupSpecifier=function(P){if(P.eat(63)){if(this.regexp_eatGroupName(P)){P.groupNames.indexOf(P.lastStringValue)!==-1&&P.raise("Duplicate capture group name"),P.groupNames.push(P.lastStringValue);return}P.raise("Invalid group")}},Et.regexp_eatGroupName=function(P){if(P.lastStringValue="",P.eat(60)){if(this.regexp_eatRegExpIdentifierName(P)&&P.eat(62))return!0;P.raise("Invalid capture group name")}return!1},Et.regexp_eatRegExpIdentifierName=function(P){if(P.lastStringValue="",this.regexp_eatRegExpIdentifierStart(P)){for(P.lastStringValue+=En(P.lastIntValue);this.regexp_eatRegExpIdentifierPart(P);)P.lastStringValue+=En(P.lastIntValue);return!0}return!1},Et.regexp_eatRegExpIdentifierStart=function(P){var Y=P.pos,ie=P.current();return P.advance(),ie===92&&this.regexp_eatRegExpUnicodeEscapeSequence(P)&&(ie=P.lastIntValue),xn(ie)?(P.lastIntValue=ie,!0):(P.pos=Y,!1)};function xn(P){return T(P,!0)||P===36||P===95}Et.regexp_eatRegExpIdentifierPart=function(P){var Y=P.pos,ie=P.current();return P.advance(),ie===92&&this.regexp_eatRegExpUnicodeEscapeSequence(P)&&(ie=P.lastIntValue),ks(ie)?(P.lastIntValue=ie,!0):(P.pos=Y,!1)};function ks(P){return x(P,!0)||P===36||P===95||P===8204||P===8205}Et.regexp_eatAtomEscape=function(P){return this.regexp_eatBackReference(P)||this.regexp_eatCharacterClassEscape(P)||this.regexp_eatCharacterEscape(P)||P.switchN&&this.regexp_eatKGroupName(P)?!0:(P.switchU&&(P.current()===99&&P.raise("Invalid unicode escape"),P.raise("Invalid escape")),!1)},Et.regexp_eatBackReference=function(P){var Y=P.pos;if(this.regexp_eatDecimalEscape(P)){var ie=P.lastIntValue;if(P.switchU)return ie>P.maxBackReference&&(P.maxBackReference=ie),!0;if(ie<=P.numCapturingParens)return!0;P.pos=Y}return!1},Et.regexp_eatKGroupName=function(P){if(P.eat(107)){if(this.regexp_eatGroupName(P))return P.backReferenceNames.push(P.lastStringValue),!0;P.raise("Invalid named reference")}return!1},Et.regexp_eatCharacterEscape=function(P){return this.regexp_eatControlEscape(P)||this.regexp_eatCControlLetter(P)||this.regexp_eatZero(P)||this.regexp_eatHexEscapeSequence(P)||this.regexp_eatRegExpUnicodeEscapeSequence(P)||!P.switchU&&this.regexp_eatLegacyOctalEscapeSequence(P)||this.regexp_eatIdentityEscape(P)},Et.regexp_eatCControlLetter=function(P){var Y=P.pos;if(P.eat(99)){if(this.regexp_eatControlLetter(P))return!0;P.pos=Y}return!1},Et.regexp_eatZero=function(P){return P.current()===48&&!rn(P.lookahead())?(P.lastIntValue=0,P.advance(),!0):!1},Et.regexp_eatControlEscape=function(P){var Y=P.current();return Y===116?(P.lastIntValue=9,P.advance(),!0):Y===110?(P.lastIntValue=10,P.advance(),!0):Y===118?(P.lastIntValue=11,P.advance(),!0):Y===102?(P.lastIntValue=12,P.advance(),!0):Y===114?(P.lastIntValue=13,P.advance(),!0):!1},Et.regexp_eatControlLetter=function(P){var Y=P.current();return Ci(Y)?(P.lastIntValue=Y%32,P.advance(),!0):!1};function Ci(P){return P>=65&&P<=90||P>=97&&P<=122}Et.regexp_eatRegExpUnicodeEscapeSequence=function(P){var Y=P.pos;if(P.eat(117)){if(this.regexp_eatFixedHexDigits(P,4)){var ie=P.lastIntValue;if(P.switchU&&ie>=55296&&ie<=56319){var de=P.pos;if(P.eat(92)&&P.eat(117)&&this.regexp_eatFixedHexDigits(P,4)){var Ee=P.lastIntValue;if(Ee>=56320&&Ee<=57343)return P.lastIntValue=(ie-55296)*1024+(Ee-56320)+65536,!0}P.pos=de,P.lastIntValue=ie}return!0}if(P.switchU&&P.eat(123)&&this.regexp_eatHexDigits(P)&&P.eat(125)&&ri(P.lastIntValue))return!0;P.switchU&&P.raise("Invalid unicode escape"),P.pos=Y}return!1};function ri(P){return P>=0&&P<=1114111}Et.regexp_eatIdentityEscape=function(P){if(P.switchU)return this.regexp_eatSyntaxCharacter(P)?!0:P.eat(47)?(P.lastIntValue=47,!0):!1;var Y=P.current();return Y!==99&&(!P.switchN||Y!==107)?(P.lastIntValue=Y,P.advance(),!0):!1},Et.regexp_eatDecimalEscape=function(P){P.lastIntValue=0;var Y=P.current();if(Y>=49&&Y<=57){do P.lastIntValue=10*P.lastIntValue+(Y-48),P.advance();while((Y=P.current())>=48&&Y<=57);return!0}return!1},Et.regexp_eatCharacterClassEscape=function(P){var Y=P.current();if(Ai(Y))return P.lastIntValue=-1,P.advance(),!0;if(P.switchU&&this.options.ecmaVersion>=9&&(Y===80||Y===112)){if(P.lastIntValue=-1,P.advance(),P.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(P)&&P.eat(125))return!0;P.raise("Invalid property name")}return!1};function Ai(P){return P===100||P===68||P===115||P===83||P===119||P===87}Et.regexp_eatUnicodePropertyValueExpression=function(P){var Y=P.pos;if(this.regexp_eatUnicodePropertyName(P)&&P.eat(61)){var ie=P.lastStringValue;if(this.regexp_eatUnicodePropertyValue(P)){var de=P.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(P,ie,de),!0}}if(P.pos=Y,this.regexp_eatLoneUnicodePropertyNameOrValue(P)){var Ee=P.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(P,Ee),!0}return!1},Et.regexp_validateUnicodePropertyNameAndValue=function(P,Y,ie){K(P.unicodeProperties.nonBinary,Y)||P.raise("Invalid property name"),P.unicodeProperties.nonBinary[Y].test(ie)||P.raise("Invalid property value")},Et.regexp_validateUnicodePropertyNameOrValue=function(P,Y){P.unicodeProperties.binary.test(Y)||P.raise("Invalid property name")},Et.regexp_eatUnicodePropertyName=function(P){var Y=0;for(P.lastStringValue="";An(Y=P.current());)P.lastStringValue+=En(Y),P.advance();return P.lastStringValue!==""};function An(P){return Ci(P)||P===95}Et.regexp_eatUnicodePropertyValue=function(P){var Y=0;for(P.lastStringValue="";jr(Y=P.current());)P.lastStringValue+=En(Y),P.advance();return P.lastStringValue!==""};function jr(P){return An(P)||rn(P)}Et.regexp_eatLoneUnicodePropertyNameOrValue=function(P){return this.regexp_eatUnicodePropertyValue(P)},Et.regexp_eatCharacterClass=function(P){if(P.eat(91)){if(P.eat(94),this.regexp_classRanges(P),P.eat(93))return!0;P.raise("Unterminated character class")}return!1},Et.regexp_classRanges=function(P){for(;this.regexp_eatClassAtom(P);){var Y=P.lastIntValue;if(P.eat(45)&&this.regexp_eatClassAtom(P)){var ie=P.lastIntValue;P.switchU&&(Y===-1||ie===-1)&&P.raise("Invalid character class"),Y!==-1&&ie!==-1&&Y>ie&&P.raise("Range out of order in character class")}}},Et.regexp_eatClassAtom=function(P){var Y=P.pos;if(P.eat(92)){if(this.regexp_eatClassEscape(P))return!0;if(P.switchU){var ie=P.current();(ie===99||ki(ie))&&P.raise("Invalid class escape"),P.raise("Invalid escape")}P.pos=Y}var de=P.current();return de!==93?(P.lastIntValue=de,P.advance(),!0):!1},Et.regexp_eatClassEscape=function(P){var Y=P.pos;if(P.eat(98))return P.lastIntValue=8,!0;if(P.switchU&&P.eat(45))return P.lastIntValue=45,!0;if(!P.switchU&&P.eat(99)){if(this.regexp_eatClassControlLetter(P))return!0;P.pos=Y}return this.regexp_eatCharacterClassEscape(P)||this.regexp_eatCharacterEscape(P)},Et.regexp_eatClassControlLetter=function(P){var Y=P.current();return rn(Y)||Y===95?(P.lastIntValue=Y%32,P.advance(),!0):!1},Et.regexp_eatHexEscapeSequence=function(P){var Y=P.pos;if(P.eat(120)){if(this.regexp_eatFixedHexDigits(P,2))return!0;P.switchU&&P.raise("Invalid escape"),P.pos=Y}return!1},Et.regexp_eatDecimalDigits=function(P){var Y=P.pos,ie=0;for(P.lastIntValue=0;rn(ie=P.current());)P.lastIntValue=10*P.lastIntValue+(ie-48),P.advance();return P.pos!==Y};function rn(P){return P>=48&&P<=57}Et.regexp_eatHexDigits=function(P){var Y=P.pos,ie=0;for(P.lastIntValue=0;Sn(ie=P.current());)P.lastIntValue=16*P.lastIntValue+Tr(ie),P.advance();return P.pos!==Y};function Sn(P){return P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102}function Tr(P){return P>=65&&P<=70?10+(P-65):P>=97&&P<=102?10+(P-97):P-48}Et.regexp_eatLegacyOctalEscapeSequence=function(P){if(this.regexp_eatOctalDigit(P)){var Y=P.lastIntValue;if(this.regexp_eatOctalDigit(P)){var ie=P.lastIntValue;Y<=3&&this.regexp_eatOctalDigit(P)?P.lastIntValue=Y*64+ie*8+P.lastIntValue:P.lastIntValue=Y*8+ie}else P.lastIntValue=Y;return!0}return!1},Et.regexp_eatOctalDigit=function(P){var Y=P.current();return ki(Y)?(P.lastIntValue=Y-48,P.advance(),!0):(P.lastIntValue=0,!1)};function ki(P){return P>=48&&P<=55}Et.regexp_eatFixedHexDigits=function(P,Y){var ie=P.pos;P.lastIntValue=0;for(var de=0;de<Y;++de){var Ee=P.current();if(!Sn(Ee))return P.pos=ie,!1;P.lastIntValue=16*P.lastIntValue+Tr(Ee),P.advance()}return!0};var Nn=function(Y){this.type=Y.type,this.value=Y.value,this.start=Y.start,this.end=Y.end,Y.options.locations&&(this.loc=new se(Y,Y.startLoc,Y.endLoc)),Y.options.ranges&&(this.range=[Y.start,Y.end])},zt=Ne.prototype;zt.next=function(P){!P&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Nn(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},zt.getToken=function(){return this.next(),new Nn(this)},typeof Symbol<"u"&&(zt[Symbol.iterator]=function(){var P=this;return{next:function(){var Y=P.getToken();return{done:Y.type===A.eof,value:Y}}}}),zt.curContext=function(){return this.context[this.context.length-1]},zt.nextToken=function(){var P=this.curContext();if((!P||!P.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(A.eof);if(P.override)return P.override(this);this.readToken(this.fullCharCodeAtPos())},zt.readToken=function(P){return T(P,this.options.ecmaVersion>=6)||P===92?this.readWord():this.getTokenFromCode(P)},zt.fullCharCodeAtPos=function(){var P=this.input.charCodeAt(this.pos);if(P<=55295||P>=57344)return P;var Y=this.input.charCodeAt(this.pos+1);return(P<<10)+Y-56613888},zt.skipBlockComment=function(){var P=this.options.onComment&&this.curPosition(),Y=this.pos,ie=this.input.indexOf("*/",this.pos+=2);if(ie===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=ie+2,this.options.locations){O.lastIndex=Y;for(var de;(de=O.exec(this.input))&&de.index<this.pos;)++this.curLine,this.lineStart=de.index+de[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(Y+2,ie),Y,this.pos,P,this.curPosition())},zt.skipLineComment=function(P){for(var Y=this.pos,ie=this.options.onComment&&this.curPosition(),de=this.input.charCodeAt(this.pos+=P);this.pos<this.input.length&&!B(de);)de=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(Y+P,this.pos),Y,this.pos,ie,this.curPosition())},zt.skipSpace=function(){e:for(;this.pos<this.input.length;){var P=this.input.charCodeAt(this.pos);switch(P){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(P>8&&P<14||P>=5760&&z.test(String.fromCharCode(P)))++this.pos;else break e}}},zt.finishToken=function(P,Y){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var ie=this.type;this.type=P,this.value=Y,this.updateContext(ie)},zt.readToken_dot=function(){var P=this.input.charCodeAt(this.pos+1);if(P>=48&&P<=57)return this.readNumber(!0);var Y=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&P===46&&Y===46?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))},zt.readToken_slash=function(){var P=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):P===61?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},zt.readToken_mult_modulo_exp=function(P){var Y=this.input.charCodeAt(this.pos+1),ie=1,de=P===42?A.star:A.modulo;return this.options.ecmaVersion>=7&&P===42&&Y===42&&(++ie,de=A.starstar,Y=this.input.charCodeAt(this.pos+2)),Y===61?this.finishOp(A.assign,ie+1):this.finishOp(de,ie)},zt.readToken_pipe_amp=function(P){var Y=this.input.charCodeAt(this.pos+1);return Y===P?this.finishOp(P===124?A.logicalOR:A.logicalAND,2):Y===61?this.finishOp(A.assign,2):this.finishOp(P===124?A.bitwiseOR:A.bitwiseAND,1)},zt.readToken_caret=function(){var P=this.input.charCodeAt(this.pos+1);return P===61?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},zt.readToken_plus_min=function(P){var Y=this.input.charCodeAt(this.pos+1);return Y===P?Y===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||$.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):Y===61?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},zt.readToken_lt_gt=function(P){var Y=this.input.charCodeAt(this.pos+1),ie=1;return Y===P?(ie=P===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+ie)===61?this.finishOp(A.assign,ie+1):this.finishOp(A.bitShift,ie)):Y===33&&P===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(Y===61&&(ie=2),this.finishOp(A.relational,ie))},zt.readToken_eq_excl=function(P){var Y=this.input.charCodeAt(this.pos+1);return Y===61?this.finishOp(A.equality,this.input.charCodeAt(this.pos+2)===61?3:2):P===61&&Y===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(P===61?A.eq:A.prefix,1)},zt.getTokenFromCode=function(P){switch(P){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 63:return++this.pos,this.finishToken(A.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var Y=this.input.charCodeAt(this.pos+1);if(Y===120||Y===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Y===111||Y===79)return this.readRadixNumber(8);if(Y===98||Y===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(P);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(P);case 124:case 38:return this.readToken_pipe_amp(P);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(P);case 60:case 62:return this.readToken_lt_gt(P);case 61:case 33:return this.readToken_eq_excl(P);case 126:return this.finishOp(A.prefix,1)}this.raise(this.pos,"Unexpected character '"+wn(P)+"'")},zt.finishOp=function(P,Y){var ie=this.input.slice(this.pos,this.pos+Y);return this.pos+=Y,this.finishToken(P,ie)},zt.readRegexp=function(){for(var P,Y,ie=this.pos;;){this.pos>=this.input.length&&this.raise(ie,"Unterminated regular expression");var de=this.input.charAt(this.pos);if($.test(de)&&this.raise(ie,"Unterminated regular expression"),P)P=!1;else{if(de==="[")Y=!0;else if(de==="]"&&Y)Y=!1;else if(de==="/"&&!Y)break;P=de==="\\"}++this.pos}var Ee=this.input.slice(ie,this.pos);++this.pos;var Ge=this.pos,et=this.readWord1();this.containsEsc&&this.unexpected(Ge);var yt=this.regexpState||(this.regexpState=new Cr(this));yt.reset(ie,Ee,et),this.validateRegExpFlags(yt),this.validateRegExpPattern(yt);var Ct=null;try{Ct=new RegExp(Ee,et)}catch{}return this.finishToken(A.regexp,{pattern:Ee,flags:et,value:Ct})},zt.readInt=function(P,Y){for(var ie=this.pos,de=0,Ee=0,Ge=Y??1/0;Ee<Ge;++Ee){var et=this.input.charCodeAt(this.pos),yt=void 0;if(et>=97?yt=et-97+10:et>=65?yt=et-65+10:et>=48&&et<=57?yt=et-48:yt=1/0,yt>=P)break;++this.pos,de=de*P+yt}return this.pos===ie||Y!=null&&this.pos-ie!==Y?null:de},zt.readRadixNumber=function(P){var Y=this.pos;this.pos+=2;var ie=this.readInt(P);return ie==null&&this.raise(this.start+2,"Expected number in radix "+P),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(ie=typeof BigInt<"u"?BigInt(this.input.slice(Y,this.pos)):null,++this.pos):T(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,ie)},zt.readNumber=function(P){var Y=this.pos;!P&&this.readInt(10)===null&&this.raise(Y,"Invalid number");var ie=this.pos-Y>=2&&this.input.charCodeAt(Y)===48;ie&&this.strict&&this.raise(Y,"Invalid number");var de=this.input.charCodeAt(this.pos);if(!ie&&!P&&this.options.ecmaVersion>=11&&de===110){var Ee=this.input.slice(Y,this.pos),Ge=typeof BigInt<"u"?BigInt(Ee):null;return++this.pos,T(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,Ge)}ie&&/[89]/.test(this.input.slice(Y,this.pos))&&(ie=!1),de===46&&!ie&&(++this.pos,this.readInt(10),de=this.input.charCodeAt(this.pos)),(de===69||de===101)&&!ie&&(de=this.input.charCodeAt(++this.pos),(de===43||de===45)&&++this.pos,this.readInt(10)===null&&this.raise(Y,"Invalid number")),T(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var et=this.input.slice(Y,this.pos),yt=ie?parseInt(et,8):parseFloat(et);return this.finishToken(A.num,yt)},zt.readCodePoint=function(){var P=this.input.charCodeAt(this.pos),Y;if(P===123){this.options.ecmaVersion<6&&this.unexpected();var ie=++this.pos;Y=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Y>1114111&&this.invalidStringToken(ie,"Code point out of bounds")}else Y=this.readHexChar(4);return Y};function wn(P){return P<=65535?String.fromCharCode(P):(P-=65536,String.fromCharCode((P>>10)+55296,(P&1023)+56320))}zt.readString=function(P){for(var Y="",ie=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var de=this.input.charCodeAt(this.pos);if(de===P)break;de===92?(Y+=this.input.slice(ie,this.pos),Y+=this.readEscapedChar(!1),ie=this.pos):(B(de,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return Y+=this.input.slice(ie,this.pos++),this.finishToken(A.string,Y)};var un={};zt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(P){if(P===un)this.readInvalidTemplateToken();else throw P}this.inTemplateElement=!1},zt.invalidStringToken=function(P,Y){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw un;this.raise(P,Y)},zt.readTmplToken=function(){for(var P="",Y=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var ie=this.input.charCodeAt(this.pos);if(ie===96||ie===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===A.template||this.type===A.invalidTemplate)?ie===36?(this.pos+=2,this.finishToken(A.dollarBraceL)):(++this.pos,this.finishToken(A.backQuote)):(P+=this.input.slice(Y,this.pos),this.finishToken(A.template,P));if(ie===92)P+=this.input.slice(Y,this.pos),P+=this.readEscapedChar(!0),Y=this.pos;else if(B(ie)){switch(P+=this.input.slice(Y,this.pos),++this.pos,ie){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:P+=`
`;break;default:P+=String.fromCharCode(ie);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),Y=this.pos}else++this.pos}},zt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(A.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},zt.readEscapedChar=function(P){var Y=this.input.charCodeAt(++this.pos);switch(++this.pos,Y){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return wn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(P){var ie=this.pos-1;return this.invalidStringToken(ie,"Invalid escape sequence in template string"),null}default:if(Y>=48&&Y<=55){var de=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Ee=parseInt(de,8);return Ee>255&&(de=de.slice(0,-1),Ee=parseInt(de,8)),this.pos+=de.length-1,Y=this.input.charCodeAt(this.pos),(de!=="0"||Y===56||Y===57)&&(this.strict||P)&&this.invalidStringToken(this.pos-1-de.length,P?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Ee)}return B(Y)?"":String.fromCharCode(Y)}},zt.readHexChar=function(P){var Y=this.pos,ie=this.readInt(16,P);return ie===null&&this.invalidStringToken(Y,"Bad character escape sequence"),ie},zt.readWord1=function(){this.containsEsc=!1;for(var P="",Y=!0,ie=this.pos,de=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Ee=this.fullCharCodeAtPos();if(x(Ee,de))this.pos+=Ee<=65535?1:2;else if(Ee===92){this.containsEsc=!0,P+=this.input.slice(ie,this.pos);var Ge=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var et=this.readCodePoint();(Y?T:x)(et,de)||this.invalidStringToken(Ge,"Invalid Unicode escape"),P+=wn(et),ie=this.pos}else break;Y=!1}return P+this.input.slice(ie,this.pos)},zt.readWord=function(){var P=this.readWord1(),Y=A.name;return this.keywords.test(P)&&(Y=N[P]),this.finishToken(Y,P)};var wt="7.1.0";Ne.acorn={Parser:Ne,version:wt,defaultOptions:le,Position:te,SourceLocation:se,getLineInfo:J,Node:vt,TokenType:R,tokTypes:A,keywordTypes:N,TokContext:nt,tokContexts:jt,isIdentifierChar:x,isIdentifierStart:T,Token:Nn,isNewLine:B,lineBreak:$,lineBreakG:O,nonASCIIwhitespace:z};function ni(P,Y){return Ne.parse(P,Y)}function cn(P,Y,ie){return Ne.parseExpressionAt(P,Y,ie)}function Rs(P,Y){return Ne.tokenizer(P,Y)}g.Node=vt,g.Parser=Ne,g.Position=te,g.SourceLocation=se,g.TokContext=nt,g.Token=Nn,g.TokenType=R,g.defaultOptions=le,g.getLineInfo=J,g.isIdentifierChar=x,g.isIdentifierStart=T,g.isNewLine=B,g.keywordTypes=N,g.lineBreak=$,g.lineBreakG=O,g.nonASCIIwhitespace=z,g.parse=ni,g.parseExpressionAt=cn,g.tokContexts=jt,g.tokTypes=A,g.tokenizer=Rs,g.version=wt,Object.defineProperty(g,"__esModule",{value:!0})})},{}],2:[function(i,a,w){},{}],3:[function(i,a,w){function g(c,s={}){const{contextName:o="gl",throwGetError:u,useTrackablePrimitives:h,readPixelsFile:m,recording:v=[],variables:T={},onReadPixels:x,onUnrecognizedArgumentLookup:R}=s,k=new Proxy(c,{get:$}),C=[],S={};let N=0,L="",A;return k;function $(J,le){switch(le){case"addComment":return K;case"checkThrowError":return Q;case"getReadPixelsVariableName":return A;case"insertVariable":return z;case"reset":return B;case"setIndent":return V;case"toString":return O;case"getContextVariableName":return se}return typeof c[le]=="function"?function(){switch(le){case"getError":return u?v.push(`${L}if (${o}.getError() !== ${o}.NONE) throw new Error('error');`):v.push(`${L}${o}.getError();`),c.getError();case"getExtension":{const Re=`${o}Variables${C.length}`;v.push(`${L}const ${Re} = ${o}.getExtension('${arguments[0]}');`);const ke=c.getExtension(arguments[0]);if(ke&&typeof ke=="object"){const me=y(ke,{getEntity:F,useTrackablePrimitives:h,recording:v,contextName:Re,contextVariables:C,variables:T,indent:L,onUnrecognizedArgumentLookup:R});return C.push(me),me}else C.push(null);return ke}case"readPixels":const ue=C.indexOf(arguments[6]);let Ie;if(ue===-1){const Re=te(arguments[6]);Re?(Ie=Re,v.push(`${L}${Re}`)):(Ie=`${o}Variable${C.length}`,C.push(arguments[6]),v.push(`${L}const ${Ie} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else Ie=`${o}Variable${ue}`;A=Ie;const Te=[arguments[0],arguments[1],arguments[2],arguments[3],F(arguments[4]),F(arguments[5]),Ie];return v.push(`${L}${o}.readPixels(${Te.join(", ")});`),m&&q(arguments[2],arguments[3]),x&&x(Ie,Te),c.readPixels.apply(c,arguments);case"drawBuffers":return v.push(`${L}${o}.drawBuffers([${b(arguments[0],{contextName:o,contextVariables:C,getEntity:F,addVariable:U,variables:T,onUnrecognizedArgumentLookup:R})}]);`),c.drawBuffers(arguments[0])}let ce=c[le].apply(c,arguments);switch(typeof ce){case"undefined":v.push(`${L}${X(le,arguments)};`);return;case"number":case"boolean":if(h&&C.indexOf(f(ce))===-1){v.push(`${L}const ${o}Variable${C.length} = ${X(le,arguments)};`),C.push(ce=f(ce));break}default:ce===null?v.push(`${X(le,arguments)};`):v.push(`${L}const ${o}Variable${C.length} = ${X(le,arguments)};`),C.push(ce)}return ce}:(S[c[le]]=le,c[le])}function O(){return v.join(`
`)}function B(){for(;v.length>0;)v.pop()}function z(J,le){T[J]=le}function F(J){const le=S[J];return le?o+"."+le:J}function V(J){L=" ".repeat(J)}function U(J,le){const ce=`${o}Variable${C.length}`;return v.push(`${L}const ${ce} = ${le};`),C.push(J),ce}function q(J,le){const ce=`${o}Variable${C.length}`,ue=`imageDatum${N}`;v.push(`${L}let ${ue} = ["P3\\n# ${m}.ppm\\n", ${J}, ' ', ${le}, "\\n255\\n"].join("");`),v.push(`${L}for (let i = 0; i < ${ue}.length; i += 4) {`),v.push(`${L}  ${ue} += ${ce}[i] + ' ' + ${ce}[i + 1] + ' ' + ${ce}[i + 2] + ' ';`),v.push(`${L}}`),v.push(`${L}if (typeof require !== "undefined") {`),v.push(`${L}  require('fs').writeFileSync('./${m}.ppm', ${ue});`),v.push(`${L}}`),N++}function K(J){v.push(`${L}// ${J}`)}function Q(){v.push(`${L}(() => {
${L}const error = ${o}.getError();
${L}if (error !== ${o}.NONE) {
${L}  const names = Object.getOwnPropertyNames(gl);
${L}  for (let i = 0; i < names.length; i++) {
${L}    const name = names[i];
${L}    if (${o}[name] === error) {
${L}      throw new Error('${o} threw ' + name);
${L}    }
${L}  }
${L}}
${L}})();`)}function X(J,le){return`${o}.${J}(${b(le,{contextName:o,contextVariables:C,getEntity:F,addVariable:U,variables:T,onUnrecognizedArgumentLookup:R})})`}function te(J){if(T){for(const le in T)if(T[le]===J)return le}return null}function se(J){const le=C.indexOf(J);return le!==-1?`${o}Variable${le}`:null}}function y(c,s){const o=new Proxy(c,{get:S}),u={},{contextName:h,contextVariables:m,getEntity:v,useTrackablePrimitives:T,recording:x,variables:R,indent:k,onUnrecognizedArgumentLookup:C}=s;return o;function S($,O){return typeof $[O]=="function"?function(){switch(O){case"drawBuffersWEBGL":return x.push(`${k}${h}.drawBuffersWEBGL([${b(arguments[0],{contextName:h,contextVariables:m,getEntity:N,addVariable:A,variables:R,onUnrecognizedArgumentLookup:C})}]);`),c.drawBuffersWEBGL(arguments[0])}let B=c[O].apply(c,arguments);switch(typeof B){case"undefined":x.push(`${k}${L(O,arguments)};`);return;case"number":case"boolean":T&&m.indexOf(f(B))===-1?(x.push(`${k}const ${h}Variable${m.length} = ${L(O,arguments)};`),m.push(B=f(B))):(x.push(`${k}const ${h}Variable${m.length} = ${L(O,arguments)};`),m.push(B));break;default:B===null?x.push(`${L(O,arguments)};`):x.push(`${k}const ${h}Variable${m.length} = ${L(O,arguments)};`),m.push(B)}return B}:(u[c[O]]=O,c[O])}function N($){return u.hasOwnProperty($)?`${h}.${u[$]}`:v($)}function L($,O){return`${h}.${$}(${b(O,{contextName:h,contextVariables:m,getEntity:N,addVariable:A,variables:R,onUnrecognizedArgumentLookup:C})})`}function A($,O){const B=`${h}Variable${m.length}`;return m.push($),x.push(`${k}const ${B} = ${O};`),B}}function b(c,s){const{variables:o,onUnrecognizedArgumentLookup:u}=s;return Array.from(c).map(m=>{const v=h(m);return v||d(m,s)}).join(", ");function h(m){if(o){for(const v in o)if(o.hasOwnProperty(v)&&o[v]===m)return v}return u?u(m):null}}function d(c,s){const{contextName:o,contextVariables:u,getEntity:h,addVariable:m,onUnrecognizedArgumentLookup:v}=s;if(typeof c>"u")return"undefined";if(c===null)return"null";const T=u.indexOf(c);if(T>-1)return`${o}Variable${T}`;switch(c.constructor.name){case"String":const x=/\n/.test(c),R=/'/.test(c),k=/"/.test(c);return x?"`"+c+"`":R&&!k?'"'+c+'"':"'"+c+"'";case"Number":return h(c);case"Boolean":return h(c);case"Array":return m(c,`new ${c.constructor.name}([${Array.from(c).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return m(c,`new ${c.constructor.name}(${JSON.stringify(Array.from(c))})`);default:if(v){const C=v(c);if(C)return C}throw new Error(`unrecognized argument type ${c.constructor.name}`)}}function f(c){return new c.constructor(c)}typeof a<"u"&&(a.exports={glWiretap:g,glExtensionWiretap:y}),typeof window<"u"&&(g.glExtensionWiretap=y,window.glWiretap=g)},{}],4:[function(i,a,w){function g(m){const v=new Array(m.length);for(let T=0;T<m.length;T++){const x=m[T];x.toArray?v[T]=x.toArray():v[T]=x}return v}function y(){const m=g(arguments),v=new Float32Array(this.output.x);for(let T=0;T<this.output.x;T++)this.thread.x=T,this.thread.y=0,this.thread.z=0,v[T]=this._fn.apply(this,m);return v}function b(){const m=g(arguments),v=new Array(this.output.y);for(let T=0;T<this.output.y;T++){const x=new Float32Array(this.output.x);for(let R=0;R<this.output.x;R++)this.thread.x=R,this.thread.y=T,this.thread.z=0,x[R]=this._fn.apply(this,m);v[T]=x}return v}function d(){const m=g(arguments);for(let v=0;v<this.output.y;v++)for(let T=0;T<this.output.x;T++)this.thread.x=T,this.thread.y=v,this.thread.z=0,this._fn.apply(this,m)}function f(){const m=g(arguments),v=new Array(this.output.z);for(let T=0;T<this.output.z;T++){const x=new Array(this.output.y);for(let R=0;R<this.output.y;R++){const k=new Float32Array(this.output.x);for(let C=0;C<this.output.x;C++)this.thread.x=C,this.thread.y=R,this.thread.z=T,k[C]=this._fn.apply(this,m);x[R]=k}v[T]=x}return v}function c(m){m.setOutput=x=>{m.output=o(x),m.graphical&&s(m)},m.toJSON=()=>{throw new Error("Not usable with gpuMock")},m.setConstants=x=>(m.constants=x,m),m.setGraphical=x=>(m.graphical=x,m),m.setCanvas=x=>(m.canvas=x,m),m.setContext=x=>(m.context=x,m),m.destroy=()=>{},m.validateSettings=()=>{},m.graphical&&m.output&&s(m),m.exec=function(){return new Promise((x,R)=>{try{x(m.apply(m,arguments))}catch(k){R(k)}})},m.getPixels=x=>{const{x:R,y:k}=m.output;return x?h(m._imageData.data,R,k):m._imageData.data.slice(0)},m.color=function(x,R,k,C){typeof C>"u"&&(C=1),x=Math.floor(x*255),R=Math.floor(R*255),k=Math.floor(k*255),C=Math.floor(C*255);const S=m.output.x,N=m.output.y,L=m.thread.x,A=N-m.thread.y-1,$=L+A*S;m._colorData[$*4+0]=x,m._colorData[$*4+1]=R,m._colorData[$*4+2]=k,m._colorData[$*4+3]=C};const v=()=>m,T=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let x=0;x<T.length;x++)m[T[x]]=v;return m}function s(m){const{x:v,y:T}=m.output;if(m.context&&m.context.createImageData){const x=new Uint8ClampedArray(v*T*4);m._imageData=m.context.createImageData(v,T),m._colorData=x}else{const x=new Uint8ClampedArray(v*T*4);m._imageData={data:x},m._colorData=x}}function o(m){let v=null;if(m.length)if(m.length===3){const[T,x,R]=m;v={x:T,y:x,z:R}}else if(m.length===2){const[T,x]=m;v={x:T,y:x}}else{const[T]=m;v={x:T}}else v=m;return v}function u(m,v={}){const T=v.output?o(v.output):null;function x(){return x.output.z?f.apply(x,arguments):x.output.y?x.graphical?d.apply(x,arguments):b.apply(x,arguments):y.apply(x,arguments)}return x._fn=m,x.constants=v.constants||null,x.context=v.context||null,x.canvas=v.canvas||null,x.graphical=v.graphical||!1,x._imageData=null,x._colorData=null,x.output=T,x.thread={x:0,y:0,z:0},c(x)}function h(m,v,T){const x=T/2|0,R=v*4,k=new Uint8ClampedArray(v*4),C=m.slice(0);for(let S=0;S<x;++S){const N=S*R,L=(T-S-1)*R;k.set(C.subarray(N,N+R)),C.copyWithin(N,L,L+R),C.set(k,L)}return C}a.exports={gpuMock:u}},{}],5:[function(i,a,w){const{utils:g}=i("./utils");function y(b,d){const f=d.toString();return new Function(`return function ${b} (${g.getArgumentNamesFromString(f).join(", ")}) {
  ${g.getFunctionBodyFromString(f)}
}`)()}a.exports={alias:y}},{"./utils":114}],6:[function(i,a,w){const{FunctionNode:g}=i("../function-node");class y extends g{astFunction(d,f){if(!this.isRootKernel){f.push("function"),f.push(" "),f.push(this.name),f.push("(");for(let c=0;c<this.argumentNames.length;++c){const s=this.argumentNames[c];c>0&&f.push(", "),f.push("user_"),f.push(s)}f.push(`) {
`)}for(let c=0;c<d.body.body.length;++c)this.astGeneric(d.body.body[c],f),f.push(`
`);return this.isRootKernel||f.push(`}
`),f}astReturnStatement(d,f){const c=this.returnType||this.getType(d.argument);return this.returnType||(this.returnType=c),this.isRootKernel?(f.push(this.leadingReturnStatement),this.astGeneric(d.argument,f),f.push(`;
`),f.push(this.followingReturnStatement),f.push(`continue;
`)):this.isSubKernel?(f.push(`subKernelResult_${this.name} = `),this.astGeneric(d.argument,f),f.push(";"),f.push(`return subKernelResult_${this.name};`)):(f.push("return "),this.astGeneric(d.argument,f),f.push(";")),f}astLiteral(d,f){if(isNaN(d.value))throw this.astErrorOutput("Non-numeric literal not supported : "+d.value,d);return f.push(d.value),f}astBinaryExpression(d,f){return f.push("("),this.astGeneric(d.left,f),f.push(d.operator),this.astGeneric(d.right,f),f.push(")"),f}astIdentifierExpression(d,f){if(d.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",d);switch(d.name){case"Infinity":f.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(d.name)?f.push("constants_"+d.name):f.push("user_"+d.name)}return f}astForStatement(d,f){if(d.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",d);const c=[],s=[],o=[],u=[];let h=null;if(d.init){this.pushState("in-for-loop-init"),this.astGeneric(d.init,c);for(let m=0;m<c.length;m++)c[m].includes&&c[m].includes(",")&&(h=!1);this.popState("in-for-loop-init")}else h=!1;if(d.test?this.astGeneric(d.test,s):h=!1,d.update?this.astGeneric(d.update,o):h=!1,d.body&&(this.pushState("loop-body"),this.astGeneric(d.body,u),this.popState("loop-body")),h===null&&(h=this.isSafe(d.init)&&this.isSafe(d.test)),h)f.push(`for (${c.join("")};${s.join("")};${o.join("")}){
`),f.push(u.join("")),f.push(`}
`);else{const m=this.getInternalVariableName("safeI");c.length>0&&f.push(c.join(""),`;
`),f.push(`for (let ${m}=0;${m}<LOOP_MAX;${m}++){
`),s.length>0&&f.push(`if (!${s.join("")}) break;
`),f.push(u.join("")),f.push(`
${o.join("")};`),f.push(`}
`)}return f}astWhileStatement(d,f){if(d.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",d);return f.push("for (let i = 0; i < LOOP_MAX; i++) {"),f.push("if ("),this.astGeneric(d.test,f),f.push(`) {
`),this.astGeneric(d.body,f),f.push(`} else {
`),f.push(`break;
`),f.push(`}
`),f.push(`}
`),f}astDoWhileStatement(d,f){if(d.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",d);return f.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(d.body,f),f.push("if (!"),this.astGeneric(d.test,f),f.push(`) {
`),f.push(`break;
`),f.push(`}
`),f.push(`}
`),f}astAssignmentExpression(d,f){const c=this.getDeclaration(d.left);if(c&&!c.assignable)throw this.astErrorOutput(`Variable ${d.left.name} is not assignable here`,d);return this.astGeneric(d.left,f),f.push(d.operator),this.astGeneric(d.right,f),f}astBlockStatement(d,f){if(this.isState("loop-body")){this.pushState("block-body");for(let c=0;c<d.body.length;c++)this.astGeneric(d.body[c],f);this.popState("block-body")}else{f.push(`{
`);for(let c=0;c<d.body.length;c++)this.astGeneric(d.body[c],f);f.push(`}
`)}return f}astVariableDeclaration(d,f){f.push(`${d.kind} `);const{declarations:c}=d;for(let s=0;s<c.length;s++){s>0&&f.push(",");const o=c[s],u=this.getDeclaration(o.id);u.valueType||(u.valueType=this.getType(o.init)),this.astGeneric(o,f)}return this.isState("in-for-loop-init")||f.push(";"),f}astIfStatement(d,f){return f.push("if ("),this.astGeneric(d.test,f),f.push(")"),d.consequent.type==="BlockStatement"?this.astGeneric(d.consequent,f):(f.push(` {
`),this.astGeneric(d.consequent,f),f.push(`
}
`)),d.alternate&&(f.push("else "),d.alternate.type==="BlockStatement"||d.alternate.type==="IfStatement"?this.astGeneric(d.alternate,f):(f.push(` {
`),this.astGeneric(d.alternate,f),f.push(`
}
`))),f}astSwitchStatement(d,f){const{discriminant:c,cases:s}=d;f.push("switch ("),this.astGeneric(c,f),f.push(`) {
`);for(let o=0;o<s.length;o++){if(s[o].test===null){f.push(`default:
`),this.astGeneric(s[o].consequent,f),s[o].consequent&&s[o].consequent.length>0&&f.push(`break;
`);continue}f.push("case "),this.astGeneric(s[o].test,f),f.push(`:
`),s[o].consequent&&s[o].consequent.length>0&&(this.astGeneric(s[o].consequent,f),f.push(`break;
`))}f.push(`
}`)}astThisExpression(d,f){return f.push("_this"),f}astMemberExpression(d,f){const{signature:c,type:s,property:o,xProperty:u,yProperty:h,zProperty:m,name:v,origin:T}=this.getMemberExpressionDetails(d);switch(c){case"this.thread.value":return f.push(`_this.thread.${v}`),f;case"this.output.value":switch(v){case"x":f.push("outputX");break;case"y":f.push("outputY");break;case"z":f.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",d)}return f;case"value":throw this.astErrorOutput("Unexpected expression",d);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(T==="Math")return f.push(Math[v]),f;switch(o){case"r":return f.push(`user_${v}[0]`),f;case"g":return f.push(`user_${v}[1]`),f;case"b":return f.push(`user_${v}[2]`),f;case"a":return f.push(`user_${v}[3]`),f}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(d.object,f),f.push("["),this.astGeneric(d.property,f),f.push("]"),f;case"fn()[][]":return this.astGeneric(d.object.object,f),f.push("["),this.astGeneric(d.object.property,f),f.push("]"),f.push("["),this.astGeneric(d.property,f),f.push("]"),f;default:throw this.astErrorOutput("Unexpected expression",d)}if(!d.computed)switch(s){case"Number":case"Integer":case"Float":case"Boolean":return f.push(`${T}_${v}`),f}const x=`${T}_${v}`;switch(s){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let R,k;if(T==="constants"){const C=this.constants[v];k=this.constantTypes[v]==="Input",R=k?C.size:null}else k=this.isInput(v),R=k?this.argumentSizes[this.argumentNames.indexOf(v)]:null;f.push(`${x}`),m&&h?k?(f.push("[("),this.astGeneric(m,f),f.push(`*${this.dynamicArguments?"(outputY * outputX)":R[1]*R[0]})+(`),this.astGeneric(h,f),f.push(`*${this.dynamicArguments?"outputX":R[0]})+`),this.astGeneric(u,f),f.push("]")):(f.push("["),this.astGeneric(m,f),f.push("]"),f.push("["),this.astGeneric(h,f),f.push("]"),f.push("["),this.astGeneric(u,f),f.push("]")):h?k?(f.push("[("),this.astGeneric(h,f),f.push(`*${this.dynamicArguments?"outputX":R[0]})+`),this.astGeneric(u,f),f.push("]")):(f.push("["),this.astGeneric(h,f),f.push("]"),f.push("["),this.astGeneric(u,f),f.push("]")):typeof u<"u"&&(f.push("["),this.astGeneric(u,f),f.push("]"))}return f}astCallExpression(d,f){if(d.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",d);let c=this.astMemberExpressionUnroll(d.callee);this.calledFunctions.indexOf(c)<0&&this.calledFunctions.push(c),this.isAstMathFunction(d),this.onFunctionCall&&this.onFunctionCall(this.name,c,d.arguments),f.push(c),f.push("(");const s=this.lookupFunctionArgumentTypes(c)||[];for(let o=0;o<d.arguments.length;++o){const u=d.arguments[o];let h=this.getType(u);s[o]||this.triggerImplyArgumentType(c,o,h,this),o>0&&f.push(", "),this.astGeneric(u,f)}return f.push(")"),f}astArrayExpression(d,f){const c=this.getType(d),s=d.elements.length,o=[];for(let u=0;u<s;++u){const h=[];this.astGeneric(d.elements[u],h),o.push(h.join(""))}switch(c){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":f.push(`[${o.join(", ")}]`);break;default:f.push(`new Float32Array([${o.join(", ")}])`)}return f}astDebuggerStatement(d,f){return f.push("debugger;"),f}}a.exports={CPUFunctionNode:y}},{"../function-node":10}],7:[function(i,a,w){const{utils:g}=i("../../utils");function y(d,f){const c=[];for(const s in f){if(!f.hasOwnProperty(s))continue;const o=f[s],u=d[s];switch(o){case"Number":case"Integer":case"Float":case"Boolean":c.push(`${s}:${u}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":c.push(`${s}:new ${u.constructor.name}(${JSON.stringify(Array.from(u))})`);break}}return`{ ${c.join()} }`}function b(d,f){const c=[],s=[],o=[],u=!/^function/.test(d.color.toString());if(c.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(d.output))});`,`  const _constantTypes = ${JSON.stringify(d.constantTypes)};`,`  const _constants = ${y(d.constants,d.constantTypes)};`),s.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),d.graphical){c.push(`  const _imageData = context.createImageData(${d.output[0]}, ${d.output[1]});`),c.push(`  const _colorData = new Uint8ClampedArray(${d.output[0]} * ${d.output[1]} * 4);`);const v=g.flattenFunctionToString((u?"function ":"")+d.color.toString(),{thisLookup:x=>{switch(x){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(d[x])},findDependency:(x,R)=>null}),T=g.flattenFunctionToString((u?"function ":"")+d.getPixels.toString(),{thisLookup:x=>{switch(x){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(d[x])},findDependency:()=>null});s.push("    _imageData,","    _colorData,",`    color: ${v},`),o.push(`  kernel.getPixels = ${T};`)}const h=[],m=Object.keys(d.constantTypes);for(let v=0;v<m.length;v++)h.push(d.constantTypes[m]);if(d.argumentTypes.indexOf("HTMLImageArray")!==-1||h.indexOf("HTMLImageArray")!==-1){const v=g.flattenFunctionToString((u?"function ":"")+d._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(T,x)=>T==="this"?(u?"function ":"")+d[x].toString():null,thisLookup:T=>{switch(T){case"canvas":return;case"context":return"context"}}});o.push(v),s.push("    _mediaTo2DArray,"),s.push("    _imageTo3DArray,")}else if(d.argumentTypes.indexOf("HTMLImage")!==-1||h.indexOf("HTMLImage")!==-1){const v=g.flattenFunctionToString((u?"function ":"")+d._mediaTo2DArray.toString(),{findDependency:(T,x)=>null,thisLookup:T=>{switch(T){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});o.push(v),s.push("    _mediaTo2DArray,")}return`function(settings) {
${c.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${d._kernelString}
  })
    .apply({ ${s.join(`
`)} });
  ${o.join(`
`)}
  return kernel;
}`}a.exports={cpuKernelString:b}},{"../../utils":114}],8:[function(i,a,w){const{Kernel:g}=i("../kernel"),{FunctionBuilder:y}=i("../function-builder"),{CPUFunctionNode:b}=i("./function-node"),{utils:d}=i("../../utils"),{cpuKernelString:f}=i("./kernel-string");class c extends g{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(o){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(o){return o}static getSignature(o,u){return"cpu"+(u.length>0?":"+u.join(","):"")}constructor(o,u){super(o,u),this.mergeSettings(o.settings||u),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(o){return[]}validateSettings(o){if(!this.output||this.output.length===0){if(o.length!==1)throw new Error("Auto output only supported for kernels with only one input");const u=d.getVariableType(o[0],this.strictIntegers);if(u==="Array")this.output=d.getDimensions(u);else if(u==="NumberTexture"||u==="ArrayTexture(4)")this.output=o[0].output;else throw new Error("Auto output not supported for input type: "+u)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const u=[];for(let h=0;h<this.subKernels.length;h++){const{name:m}=this.subKernels[h];u.push(this.output.length>1?`resultX_${m}[x] = subKernelResult_${m};
`:`result_${m}[x] = subKernelResult_${m};
`)}this.followingReturnStatement=u.join("")}const o=y.fromKernel(this,b);this.translatedSources=o.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=o.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:u,output:h}=this;if(!u)throw new Error("no canvas available for using graphical output");const m=h[0],v=h[1]||1;u.width=m,u.height=v,this._imageData=this.context.createImageData(m,v),this._colorData=new Uint8ClampedArray(m*v*4)}const o=this.getKernelString();this.kernelString=o,this.debug&&(console.log("Function output:"),console.log(o));try{this.run=new Function([],o).bind(this)()}catch(u){console.error("An error occurred compiling the javascript: ",u)}this.buildSignature(arguments),this.built=!0}color(o,u,h,m){typeof m>"u"&&(m=1),o=Math.floor(o*255),u=Math.floor(u*255),h=Math.floor(h*255),m=Math.floor(m*255);const v=this.output[0],T=this.output[1],x=this.thread.x,R=T-this.thread.y-1,k=x+R*v;this._colorData[k*4+0]=o,this._colorData[k*4+1]=u,this._colorData[k*4+2]=h,this._colorData[k*4+3]=m}getKernelString(){if(this._kernelString!==null)return this._kernelString;let o=null,{translatedSources:u}=this;return u.length>1?u=u.filter(h=>/^function/.test(h)?h:(o=h,!1)):o=u.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(h=>"user_"+h).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody(o):this._resultKernelBody(o)}
    ${u.length>0?u.join(`
`):""}
  };`}toString(){return f(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const o=[];for(let u in this.constants)switch(this.constantTypes[u]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`    const constants_${u} = this._mediaTo2DArray(this.constants.${u});
`);break;case"HTMLImageArray":o.push(`    const constants_${u} = this._imageTo3DArray(this.constants.${u});
`);break;case"Input":o.push(`    const constants_${u} = this.constants.${u}.value;
`);break;default:o.push(`    const constants_${u} = this.constants.${u};
`)}return o.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const o=[];for(let h=0;h<this.argumentTypes.length;h++)this.argumentTypes[h]==="Array"&&o.push(this.argumentNames[h]);if(o.length===0)return"";const u=[];for(let h=0;h<o.length;h++){const m=o[h],v=this._mapSubKernels(T=>`user_${m} === result_${T.name}`).join(" || ");u.push(`user_${m} === result${v?` || ${v}`:""}`)}return`if (${u.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const o=[];for(let u=0;u<this.argumentTypes.length;u++){const h=`user_${this.argumentNames[u]}`;switch(this.argumentTypes[u]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`    ${h} = this._mediaTo2DArray(${h});
`);break;case"HTMLImageArray":o.push(`    ${h} = this._imageTo3DArray(${h});
`);break;case"Input":o.push(`    ${h} = ${h}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":o.push(`
    if (${h}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${h});
      if (textureIndex !== -1) {
        ${h} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${h});
        ${h} = ${h}.toArray();
        _this.arrayCache.push(${h});
      }
    }`);break}}return o.join("")}_mediaTo2DArray(o){const u=this.canvas,h=o.width>0?o.width:o.videoWidth,m=o.height>0?o.height:o.videoHeight;u.width<h&&(u.width=h),u.height<m&&(u.height=m);const v=this.context;let T;o.constructor===ImageData?T=o.data:(v.drawImage(o,0,0,h,m),T=v.getImageData(0,0,h,m).data);const x=new Array(m);let R=0;for(let k=m-1;k>=0;k--){const C=x[k]=new Array(h);for(let S=0;S<h;S++){const N=new Float32Array(4);N[0]=T[R++]/255,N[1]=T[R++]/255,N[2]=T[R++]/255,N[3]=T[R++]/255,C[S]=N}}return x}getPixels(o){const[u,h]=this.output;return o?d.flipPixels(this._imageData.data,u,h):this._imageData.data.slice(0)}_imageTo3DArray(o){const u=new Array(o.length);for(let h=0;h<o.length;h++)u[h]=this._mediaTo2DArray(o[h]);return u}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(o){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(o):this._resultImmutableKernel1DLoop(o))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(o):this._resultImmutableKernel2DLoop(o))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(o):this._resultImmutableKernel3DLoop(o))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(o){switch(this.output.length){case 2:return this._graphicalKernel2DLoop(o)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${u}(outputX);
    ${this._mapSubKernels(h=>`const result_${h.name} = new ${u}(outputX);
`).join("    ")}
    ${this._mapSubKernels(h=>`let subKernelResult_${h.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${o}
    }`}_mutableKernel1DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${o}(outputX);
    ${this._mapSubKernels(u=>`const result_${u.name} = new ${o}(outputX);
`).join("    ")}
    ${this._mapSubKernels(u=>`let subKernelResult_${u.name};
`).join("    ")}`}_resultMutableKernel1DLoop(o){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${o}
    }`}_resultImmutableKernel2DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(h=>`const result_${h.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(h=>`let subKernelResult_${h.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${u}(outputX);
      ${this._mapSubKernels(h=>`const resultX_${h.name} = result_${h.name}[y] = new ${u}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_mutableKernel2DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(u=>`const result_${u.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(u=>`let subKernelResult_${u.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${o}(outputX);
      ${this._mapSubKernels(u=>`const resultX_${u.name} = result_${u.name}[y] = new ${o}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(h=>`const resultX_${h.name} = result_${h.name}[y] = new ${u}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_graphicalKernel2DLoop(o){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_resultImmutableKernel3DLoop(o){const u=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(h=>`const result_${h.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(h=>`let subKernelResult_${h.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(h=>`const resultY_${h.name} = result_${h.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${u}(outputX);
        ${this._mapSubKernels(h=>`const resultX_${h.name} = resultY_${h.name}[y] = new ${u}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${o}
        }
      }
    }`}_mutableKernel3DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(u=>`const result_${u.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(u=>`let subKernelResult_${u.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(u=>`const resultY_${u.name} = result_${u.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${o}(outputX);
        ${this._mapSubKernels(u=>`const resultX_${u.name} = resultY_${u.name}[y] = new ${o}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop(o){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${o}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map(o=>`${o.property}: result_${o.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels(o){return this.subKernels===null?[""]:this.subKernels.map(o)}destroy(o){o&&delete this.canvas}static destroyContext(o){}toJSON(){const o=super.toJSON();return o.functionNodes=y.fromKernel(this,b).toJSON(),o}setOutput(o){super.setOutput(o);const[u,h]=this.output;this.graphical&&(this._imageData=this.context.createImageData(u,h),this._colorData=new Uint8ClampedArray(u*h*4))}prependString(o){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(o)}hasPrependString(o){return this._prependedString.indexOf(o)>-1}}a.exports={CPUKernel:c}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(i,a,w){class g{static fromKernel(b,d,f){const{kernelArguments:c,kernelConstants:s,argumentNames:o,argumentSizes:u,argumentBitRatios:h,constants:m,constantBitRatios:v,debug:T,loopMaxIterations:x,nativeFunctions:R,output:k,optimizeFloatMemory:C,precision:S,plugins:N,source:L,subKernels:A,functions:$,leadingReturnStatement:O,followingReturnStatement:B,dynamicArguments:z,dynamicOutput:F}=b,V=new Array(c.length),U={};for(let he=0;he<c.length;he++)V[he]=c[he].type;for(let he=0;he<s.length;he++){const Le=s[he];U[Le.name]=Le.type}const q=(he,Le)=>ve.needsArgumentType(he,Le),K=(he,Le,Qe)=>{ve.assignArgumentType(he,Le,Qe)},Q=(he,Le,Qe)=>ve.lookupReturnType(he,Le,Qe),X=he=>ve.lookupFunctionArgumentTypes(he),te=(he,Le)=>ve.lookupFunctionArgumentName(he,Le),se=(he,Le)=>ve.lookupFunctionArgumentBitRatio(he,Le),J=(he,Le,Qe,De)=>{ve.assignArgumentType(he,Le,Qe,De)},le=(he,Le,Qe,De)=>{ve.assignArgumentBitRatio(he,Le,Qe,De)},ce=(he,Le,Qe)=>{ve.trackFunctionCall(he,Le,Qe)},ue=(he,Le)=>{const Qe=[];for(let xt=0;xt<he.params.length;xt++)Qe.push(he.params[xt].name);const De=new d(Le,Object.assign({},Ie,{returnType:null,ast:he,name:he.id.name,argumentNames:Qe,lookupReturnType:Q,lookupFunctionArgumentTypes:X,lookupFunctionArgumentName:te,lookupFunctionArgumentBitRatio:se,needsArgumentType:q,assignArgumentType:K,triggerImplyArgumentType:J,triggerImplyArgumentBitRatio:le,onFunctionCall:ce}));De.traceFunctionAST(he),ve.addFunctionNode(De)},Ie=Object.assign({isRootKernel:!1,onNestedFunction:ue,lookupReturnType:Q,lookupFunctionArgumentTypes:X,lookupFunctionArgumentName:te,lookupFunctionArgumentBitRatio:se,needsArgumentType:q,assignArgumentType:K,triggerImplyArgumentType:J,triggerImplyArgumentBitRatio:le,onFunctionCall:ce,optimizeFloatMemory:C,precision:S,constants:m,constantTypes:U,constantBitRatios:v,debug:T,loopMaxIterations:x,output:k,plugins:N,dynamicArguments:z,dynamicOutput:F},f||{}),Te=Object.assign({},Ie,{isRootKernel:!0,name:"kernel",argumentNames:o,argumentTypes:V,argumentSizes:u,argumentBitRatios:h,leadingReturnStatement:O,followingReturnStatement:B});if(typeof L=="object"&&L.functionNodes)return new g().fromJSON(L.functionNodes,d);const Re=new d(L,Te);let ke=null;$&&(ke=$.map(he=>new d(he.source,{returnType:he.returnType,argumentTypes:he.argumentTypes,output:k,plugins:N,constants:m,constantTypes:U,constantBitRatios:v,optimizeFloatMemory:C,precision:S,lookupReturnType:Q,lookupFunctionArgumentTypes:X,lookupFunctionArgumentName:te,lookupFunctionArgumentBitRatio:se,needsArgumentType:q,assignArgumentType:K,triggerImplyArgumentType:J,triggerImplyArgumentBitRatio:le,onFunctionCall:ce,onNestedFunction:ue})));let me=null;A&&(me=A.map(he=>{const{name:Le,source:Qe}=he;return new d(Qe,Object.assign({},Ie,{name:Le,isSubKernel:!0,isRootKernel:!1}))}));const ve=new g({kernel:b,rootNode:Re,functionNodes:ke,nativeFunctions:R,subKernelNodes:me});return ve}constructor(b){if(b=b||{},this.kernel=b.kernel,this.rootNode=b.rootNode,this.functionNodes=b.functionNodes||[],this.subKernelNodes=b.subKernelNodes||[],this.nativeFunctions=b.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let d=0;d<this.functionNodes.length;d++)this.functionMap[this.functionNodes[d].name]=this.functionNodes[d];if(this.subKernelNodes)for(let d=0;d<this.subKernelNodes.length;d++)this.functionMap[this.subKernelNodes[d].name]=this.subKernelNodes[d];if(this.nativeFunctions)for(let d=0;d<this.nativeFunctions.length;d++){const f=this.nativeFunctions[d];this.nativeFunctionNames.push(f.name)}}addFunctionNode(b){if(!b.name)throw new Error("functionNode.name needs set");this.functionMap[b.name]=b,b.isRootKernel&&(this.rootNode=b)}traceFunctionCalls(b,d){if(b=b||"kernel",d=d||[],this.nativeFunctionNames.indexOf(b)>-1){const c=d.indexOf(b);if(c===-1)d.push(b);else{const s=d.splice(c,1)[0];d.push(s)}return d}const f=this.functionMap[b];if(f){const c=d.indexOf(b);if(c===-1){d.push(b),f.toString();for(let s=0;s<f.calledFunctions.length;++s)this.traceFunctionCalls(f.calledFunctions[s],d)}else{const s=d.splice(c,1)[0];d.push(s)}}return d}getPrototypeString(b){return this.getPrototypes(b).join(`
`)}getPrototypes(b){return this.rootNode&&this.rootNode.toString(),b?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(b,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(b){const d=[];for(let f=0;f<b.length;++f)this.functionMap[b[f]]&&d.push(this.functionMap[b[f]].toString());return d.join(`
`)}getPrototypesFromFunctionNames(b){const d=[];for(let f=0;f<b.length;++f){const c=b[f],s=this.nativeFunctionNames.indexOf(c);if(s>-1){d.push(this.nativeFunctions[s].source);continue}const o=this.functionMap[c];o&&d.push(o.toString())}return d}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(b=>{const d=this.nativeFunctions.indexOf(b);if(d>-1)return{name:b,source:this.nativeFunctions[d].source};if(this.functionMap[b])return this.functionMap[b].toJSON();throw new Error(`function ${b} not found`)})}fromJSON(b,d){this.functionMap={};for(let f=0;f<b.length;f++){const c=b[f];this.functionMap[c.settings.name]=new d(c.ast,c.settings)}return this}getString(b){return b?this.getStringFromFunctionNames(this.traceFunctionCalls(b).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(b,d,f){if(d.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${d.type}`);if(this._isNativeFunction(b))return this._lookupNativeFunctionReturnType(b);if(this._isFunction(b)){const c=this._getFunction(b);if(c.returnType)return c.returnType;{for(let o=0;o<this.lookupChain.length;o++)if(this.lookupChain[o].ast===d){if(c.argumentTypes.length===0&&d.arguments.length>0){const u=d.arguments;for(let h=0;h<u.length;h++)this.lookupChain.push({name:f.name,ast:u[o],requestingNode:f}),c.argumentTypes[h]=f.getType(u[h]),this.lookupChain.pop();return c.returnType=c.getType(c.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:f.name,ast:d,requestingNode:f});const s=c.getType(c.getJsAST());return this.lookupChain.pop(),c.returnType=s}}return null}_getFunction(b){return this._isFunction(b),this.functionMap[b]}_isFunction(b){return!!this.functionMap[b]}_getNativeFunction(b){for(let d=0;d<this.nativeFunctions.length;d++)if(this.nativeFunctions[d].name===b)return this.nativeFunctions[d];return null}_isNativeFunction(b){return!!this._getNativeFunction(b)}_lookupNativeFunctionReturnType(b){let d=this._getNativeFunction(b);if(d)return d.returnType;throw new Error(`Native function ${b} not found`)}lookupFunctionArgumentTypes(b){return this._isNativeFunction(b)?this._getNativeFunction(b).argumentTypes:this._isFunction(b)?this._getFunction(b).argumentTypes:null}lookupFunctionArgumentName(b,d){return this._getFunction(b).argumentNames[d]}lookupFunctionArgumentBitRatio(b,d){if(!this._isFunction(b))throw new Error("function not found");if(this.rootNode.name===b){const o=this.rootNode.argumentNames.indexOf(d);if(o!==-1)return this.rootNode.argumentBitRatios[o]}const f=this._getFunction(b),c=f.argumentNames.indexOf(d);if(c===-1)throw new Error("argument not found");const s=f.argumentBitRatios[c];if(typeof s!="number")throw new Error("argument bit ratio not found");return s}needsArgumentType(b,d){return this._isFunction(b)?!this._getFunction(b).argumentTypes[d]:!1}assignArgumentType(b,d,f,c){if(!this._isFunction(b))return;const s=this._getFunction(b);s.argumentTypes[d]||(s.argumentTypes[d]=f)}assignArgumentBitRatio(b,d,f,c){const s=this._getFunction(b);if(this._isNativeFunction(f))return null;const o=this._getFunction(f),u=s.argumentNames.indexOf(d);if(u===-1)throw new Error(`Argument ${d} not found in arguments from function ${b}`);const h=s.argumentBitRatios[u];if(typeof h!="number")throw new Error(`Bit ratio for argument ${d} not found in function ${b}`);o.argumentBitRatios||(o.argumentBitRatios=new Array(o.argumentNames.length));const m=o.argumentBitRatios[u];if(typeof m=="number"){if(m!==h)throw new Error(`Incompatible bit ratio found at function ${b} at argument ${d}`);return m}return o.argumentBitRatios[u]=h,h}trackFunctionCall(b,d,f){this.functionNodeDependencies[b]||(this.functionNodeDependencies[b]=new Set,this.functionCalls[b]=[]),this.functionNodeDependencies[b].add(d),this.functionCalls[b].push(f)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(b){const d=this.subKernelNodes[b];let f=!1;for(let c=0;c<this.rootNode.functionCalls.length;c++)this.rootNode.functionCalls[c].ast.callee.name===d.name&&(f=!0);if(!f)throw new Error(`SubKernel ${d.name} never called by kernel`);return d.returnType||d.getType(d.getJsAST())}getReturnTypes(){const b={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},d=this.traceFunctionCalls(this.rootNode.name);for(let f=0;f<d.length;f++){const c=d[f],s=this.functionMap[c];b[c]=s.getType(s.ast)}return b}}a.exports={FunctionBuilder:g}},{}],10:[function(i,a,w){const g=i("acorn"),{utils:y}=i("../utils"),{FunctionTracer:b}=i("./function-tracer");class d{constructor(s,o){if(!s&&!o.ast)throw new Error("source parameter is missing");if(o=o||{},this.source=s,this.ast=null,this.name=typeof s=="string"?o.isRootKernel?"kernel":o.name||y.getFunctionNameFromString(s):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?y.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,o)for(const u in o)o.hasOwnProperty(u)&&this.hasOwnProperty(u)&&(this[u]=o[u]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!y.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(s){return this.constants?this.constants.hasOwnProperty(s):!1}isInput(s){return this.argumentTypes[this.argumentNames.indexOf(s)]==="Input"}pushState(s){this.states.push(s)}popState(s){if(this.state!==s)throw new Error(`Cannot popState ${s} when in ${this.state}`);this.states.pop()}isState(s){return this.state===s}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(s){if(s.type==="Identifier")return s.name;if(s.type==="ThisExpression")return"this";if(s.type==="MemberExpression"&&s.object&&s.property)return s.object.hasOwnProperty("name")&&s.object.name!=="Math"?this.astMemberExpressionUnroll(s.property):this.astMemberExpressionUnroll(s.object)+"."+this.astMemberExpressionUnroll(s.property);if(s.hasOwnProperty("expressions")){const o=s.expressions[0];if(o.type==="Literal"&&o.value===0&&s.expressions.length===2)return this.astMemberExpressionUnroll(s.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",s)}getJsAST(s){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(s=s||g,s===null)throw new Error("Missing JS to AST parser");const o=Object.freeze(s.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),u=o.body[0].declarations[0].init;if(this.traceFunctionAST(u),!o)throw new Error("Failed to parse JS code");return this.ast=u}traceFunctionAST(s){const{contexts:o,declarations:u,functions:h,identifiers:m,functionCalls:v}=new b(s);this.contexts=o,this.identifiers=m,this.functionCalls=v,this.functions=h;for(let T=0;T<u.length;T++){const x=u[T],{ast:R,inForLoopInit:k,inForLoopTest:C}=x,{init:S}=R,N=this.getDependencies(S);let L=null;if(k&&C)L="Integer";else if(S){const A=this.getType(S);switch(A){case"Integer":case"Float":case"Number":S.type==="MemberExpression"?L=A:L="Number";break;case"LiteralInteger":L="Number";break;default:L=A}}x.valueType=L,x.dependencies=N,x.isSafe=this.isSafeDependencies(N)}for(let T=0;T<h.length;T++)this.onNestedFunction(h[T],this.source)}getDeclaration(s){for(let o=0;o<this.identifiers.length;o++){const u=this.identifiers[o];if(s===u.ast)return u.declaration}return null}getVariableType(s){if(s.type!=="Identifier")throw new Error(`ast of ${s.type} not "Identifier"`);let o=null;const u=this.argumentNames.indexOf(s.name);if(u===-1){const h=this.getDeclaration(s);if(h)return h.valueType}else{const h=this.argumentTypes[u];h&&(o=h)}if(!o&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return o}getLookupType(s){if(!f.hasOwnProperty(s))throw new Error(`unknown typeLookupMap ${s}`);return f[s]}getConstantType(s){if(this.constantTypes[s]){const o=this.constantTypes[s];return o==="Float"?"Number":o}throw new Error(`Type for constant "${s}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const s={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:s}}getType(s){if(Array.isArray(s))return this.getType(s[s.length-1]);switch(s.type){case"BlockStatement":return this.getType(s.body);case"ArrayExpression":switch(this.getType(s.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${s.elements.length})`}return`Array(${s.elements.length})`;case"Literal":const u=this.astKey(s);return this.literalTypes[u]?this.literalTypes[u]:Number.isInteger(s.value)?"LiteralInteger":s.value===!0||s.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(s.left);case"CallExpression":if(this.isAstMathFunction(s))return"Number";if(!s.callee||!s.callee.name){if(s.callee.type==="SequenceExpression"&&s.callee.expressions[s.callee.expressions.length-1].property.name){const x=s.callee.expressions[s.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(x,s.arguments),this.lookupReturnType(x,s,this)}if(this.getVariableSignature(s.callee,!0)==="this.color")return null;if(s.callee.type==="MemberExpression"&&s.callee.object&&s.callee.property&&s.callee.property.name&&s.arguments){const x=s.callee.property.name;return this.inferArgumentTypesIfNeeded(x,s.arguments),this.lookupReturnType(x,s,this)}throw this.astErrorOutput("Unknown call expression",s)}if(s.callee&&s.callee.name){const x=s.callee.name;return this.inferArgumentTypesIfNeeded(x,s.arguments),this.lookupReturnType(x,s,this)}throw this.astErrorOutput(`Unhandled getType Type "${s.type}"`,s);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(s.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const h=this.getType(s.left);if(this.isState("skip-literal-correction"))return h;if(h==="LiteralInteger"){const x=this.getType(s.right);return x==="LiteralInteger"?s.left.value%1===0?"Integer":"Float":x}return f[h]||h;case"UpdateExpression":return this.getType(s.argument);case"UnaryExpression":return s.operator==="~"?"Integer":this.getType(s.argument);case"VariableDeclaration":{const x=s.declarations;let R;for(let k=0;k<x.length;k++){const C=x[k];R=this.getType(C)}if(!R)throw this.astErrorOutput("Unable to find type for declaration",s);return R}case"VariableDeclarator":const m=this.getDeclaration(s.id);if(!m)throw this.astErrorOutput("Unable to find declarator",s);if(!m.valueType)throw this.astErrorOutput("Unable to find declarator valueType",s);return m.valueType;case"Identifier":if(s.name==="Infinity")return"Number";if(this.isAstVariable(s)&&this.getVariableSignature(s)==="value")return this.getCheckVariableType(s);const v=this.findIdentifierOrigin(s);return v&&v.init?this.getType(v.init):null;case"ReturnStatement":return this.getType(s.argument);case"MemberExpression":if(this.isAstMathFunction(s)){switch(s.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(s)){switch(this.getVariableSignature(s)){case"value[]":return this.getLookupType(this.getCheckVariableType(s.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(s.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(s.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(s.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(s.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(s.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(s.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(s.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(s.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(s.object));case"value.value":if(this.isAstMathVariable(s))return"Number";switch(s.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(s.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",s)}throw this.astErrorOutput("Unhandled getType MemberExpression",s);case"ConditionalExpression":return this.getType(s.consequent);case"FunctionDeclaration":case"FunctionExpression":const T=this.findLastReturn(s.body);return T?this.getType(T):null;case"IfStatement":return this.getType(s.consequent);case"SequenceExpression":return this.getType(s.expressions[s.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${s.type}"`,s)}}getCheckVariableType(s){const o=this.getVariableType(s);if(!o)throw this.astErrorOutput(`${s.type} is not defined`,s);return o}inferArgumentTypesIfNeeded(s,o){for(let u=0;u<o.length;u++){if(!this.needsArgumentType(s,u))continue;const h=this.getType(o[u]);if(!h)throw this.astErrorOutput(`Unable to infer argument ${u}`,o[u]);this.assignArgumentType(s,u,h)}}isAstMathVariable(s){const o=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return s.type==="MemberExpression"&&s.object&&s.object.type==="Identifier"&&s.object.name==="Math"&&s.property&&s.property.type==="Identifier"&&o.indexOf(s.property.name)>-1}isAstMathFunction(s){const o=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return s.type==="CallExpression"&&s.callee&&s.callee.type==="MemberExpression"&&s.callee.object&&s.callee.object.type==="Identifier"&&s.callee.object.name==="Math"&&s.callee.property&&s.callee.property.type==="Identifier"&&o.indexOf(s.callee.property.name)>-1}isAstVariable(s){return s.type==="Identifier"||s.type==="MemberExpression"}isSafe(s){return this.isSafeDependencies(this.getDependencies(s))}isSafeDependencies(s){return s&&s.every?s.every(o=>o.isSafe):!0}getDependencies(s,o,u){if(o||(o=[]),!s)return null;if(Array.isArray(s)){for(let h=0;h<s.length;h++)this.getDependencies(s[h],o,u);return o}switch(s.type){case"AssignmentExpression":return this.getDependencies(s.left,o,u),this.getDependencies(s.right,o,u),o;case"ConditionalExpression":return this.getDependencies(s.test,o,u),this.getDependencies(s.alternate,o,u),this.getDependencies(s.consequent,o,u),o;case"Literal":o.push({origin:"literal",value:s.value,isSafe:u===!0?!1:s.value>-1/0&&s.value<1/0&&!isNaN(s.value)});break;case"VariableDeclarator":return this.getDependencies(s.init,o,u);case"Identifier":const h=this.getDeclaration(s);if(h)o.push({name:s.name,origin:"declaration",isSafe:u?!1:this.isSafeDependencies(h.dependencies)});else if(this.argumentNames.indexOf(s.name)>-1)o.push({name:s.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${s.name}"`);break;case"FunctionDeclaration":return this.getDependencies(s.body.body[s.body.body.length-1],o,u);case"ReturnStatement":return this.getDependencies(s.argument,o);case"BinaryExpression":case"LogicalExpression":return u=s.operator==="/"||s.operator==="*",this.getDependencies(s.left,o,u),this.getDependencies(s.right,o,u),o;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(s.argument,o,u);case"VariableDeclaration":return this.getDependencies(s.declarations,o,u);case"ArrayExpression":return o.push({origin:"declaration",isSafe:!0}),o;case"CallExpression":return o.push({origin:"function",isSafe:!0}),o;case"MemberExpression":const m=this.getMemberExpressionDetails(s);switch(m.signature){case"value[]":this.getDependencies(s.object,o,u);break;case"value[][]":this.getDependencies(s.object.object,o,u);break;case"value[][][]":this.getDependencies(s.object.object.object,o,u);break;case"this.output.value":this.dynamicOutput&&o.push({name:m.name,origin:"output",isSafe:!1});break}if(m)return m.property&&this.getDependencies(m.property,o,u),m.xProperty&&this.getDependencies(m.xProperty,o,u),m.yProperty&&this.getDependencies(m.yProperty,o,u),m.zProperty&&this.getDependencies(m.zProperty,o,u),o;case"SequenceExpression":return this.getDependencies(s.expressions,o,u);default:throw this.astErrorOutput(`Unhandled type ${s.type} in getDependencies`,s)}return o}getVariableSignature(s,o){if(!this.isAstVariable(s))throw new Error(`ast of type "${s.type}" is not a variable signature`);if(s.type==="Identifier")return"value";const u=[];for(;s;)s.computed?u.push("[]"):s.type==="ThisExpression"?u.unshift("this"):s.property&&s.property.name?s.property.name==="x"||s.property.name==="y"||s.property.name==="z"?u.unshift(o?"."+s.property.name:".value"):s.property.name==="constants"||s.property.name==="thread"||s.property.name==="output"?u.unshift("."+s.property.name):u.unshift(o?"."+s.property.name:".value"):s.name?u.unshift(o?s.name:"value"):s.callee&&s.callee.name?u.unshift(o?s.callee.name+"()":"fn()"):s.elements?u.unshift("[]"):u.unshift("unknown"),s=s.object;const h=u.join("");return o||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(h)>-1?h:null}build(){return this.toString().length>0}astGeneric(s,o){if(s===null)throw this.astErrorOutput("NULL ast",s);if(Array.isArray(s)){for(let u=0;u<s.length;u++)this.astGeneric(s[u],o);return o}switch(s.type){case"FunctionDeclaration":return this.astFunctionDeclaration(s,o);case"FunctionExpression":return this.astFunctionExpression(s,o);case"ReturnStatement":return this.astReturnStatement(s,o);case"Literal":return this.astLiteral(s,o);case"BinaryExpression":return this.astBinaryExpression(s,o);case"Identifier":return this.astIdentifierExpression(s,o);case"AssignmentExpression":return this.astAssignmentExpression(s,o);case"ExpressionStatement":return this.astExpressionStatement(s,o);case"EmptyStatement":return this.astEmptyStatement(s,o);case"BlockStatement":return this.astBlockStatement(s,o);case"IfStatement":return this.astIfStatement(s,o);case"SwitchStatement":return this.astSwitchStatement(s,o);case"BreakStatement":return this.astBreakStatement(s,o);case"ContinueStatement":return this.astContinueStatement(s,o);case"ForStatement":return this.astForStatement(s,o);case"WhileStatement":return this.astWhileStatement(s,o);case"DoWhileStatement":return this.astDoWhileStatement(s,o);case"VariableDeclaration":return this.astVariableDeclaration(s,o);case"VariableDeclarator":return this.astVariableDeclarator(s,o);case"ThisExpression":return this.astThisExpression(s,o);case"SequenceExpression":return this.astSequenceExpression(s,o);case"UnaryExpression":return this.astUnaryExpression(s,o);case"UpdateExpression":return this.astUpdateExpression(s,o);case"LogicalExpression":return this.astLogicalExpression(s,o);case"MemberExpression":return this.astMemberExpression(s,o);case"CallExpression":return this.astCallExpression(s,o);case"ArrayExpression":return this.astArrayExpression(s,o);case"DebuggerStatement":return this.astDebuggerStatement(s,o);case"ConditionalExpression":return this.astConditionalExpression(s,o)}throw this.astErrorOutput("Unknown ast type : "+s.type,s)}astErrorOutput(s,o){if(typeof this.source!="string")return new Error(s);const u=y.getAstString(this.source,o),m=this.source.substr(o.start).split(/\n/),v=m.length>0?m[m.length-1]:0;return new Error(`${s} on line ${m.length}, position ${v.length}:
 ${u}`)}astDebuggerStatement(s,o){return o}astConditionalExpression(s,o){if(s.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",s);return o.push("("),this.astGeneric(s.test,o),o.push("?"),this.astGeneric(s.consequent,o),o.push(":"),this.astGeneric(s.alternate,o),o.push(")"),o}astFunction(s,o){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(s,o){return this.isChildFunction(s)?o:this.astFunction(s,o)}astFunctionExpression(s,o){return this.isChildFunction(s)?o:this.astFunction(s,o)}isChildFunction(s){for(let o=0;o<this.functions.length;o++)if(this.functions[o]===s)return!0;return!1}astReturnStatement(s,o){return o}astLiteral(s,o){return this.literalTypes[this.astKey(s)]="Number",o}astBinaryExpression(s,o){return o}astIdentifierExpression(s,o){return o}astAssignmentExpression(s,o){return o}astExpressionStatement(s,o){return this.astGeneric(s.expression,o),o.push(";"),o}astEmptyStatement(s,o){return o}astBlockStatement(s,o){return o}astIfStatement(s,o){return o}astSwitchStatement(s,o){return o}astBreakStatement(s,o){return o.push("break;"),o}astContinueStatement(s,o){return o.push(`continue;
`),o}astForStatement(s,o){return o}astWhileStatement(s,o){return o}astDoWhileStatement(s,o){return o}astVariableDeclarator(s,o){return this.astGeneric(s.id,o),s.init!==null&&(o.push("="),this.astGeneric(s.init,o)),o}astThisExpression(s,o){return o}astSequenceExpression(s,o){const{expressions:u}=s,h=[];for(let m=0;m<u.length;m++){const v=u[m],T=[];this.astGeneric(v,T),h.push(T.join(""))}return h.length>1?o.push("(",h.join(","),")"):o.push(h[0]),o}astUnaryExpression(s,o){return this.checkAndUpconvertBitwiseUnary(s,o)||(s.prefix?(o.push(s.operator),this.astGeneric(s.argument,o)):(this.astGeneric(s.argument,o),o.push(s.operator))),o}checkAndUpconvertBitwiseUnary(s,o){}astUpdateExpression(s,o){return s.prefix?(o.push(s.operator),this.astGeneric(s.argument,o)):(this.astGeneric(s.argument,o),o.push(s.operator)),o}astLogicalExpression(s,o){return o.push("("),this.astGeneric(s.left,o),o.push(s.operator),this.astGeneric(s.right,o),o.push(")"),o}astMemberExpression(s,o){return o}astCallExpression(s,o){return o}astArrayExpression(s,o){return o}getMemberExpressionDetails(s){if(s.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${s.type} not a MemberExpression`,s);let o=null,u=null;const h=this.getVariableSignature(s);switch(h){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:h,type:"Integer",name:s.property.name};case"value[]":if(typeof s.object.name!="string")throw this.astErrorOutput("Unexpected expression",s);return o=s.object.name,{name:o,origin:"user",signature:h,type:this.getVariableType(s.object),xProperty:s.property};case"value[][]":if(typeof s.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",s);return o=s.object.object.name,{name:o,origin:"user",signature:h,type:this.getVariableType(s.object.object),yProperty:s.object.property,xProperty:s.property};case"value[][][]":if(typeof s.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",s);return o=s.object.object.object.name,{name:o,origin:"user",signature:h,type:this.getVariableType(s.object.object.object),zProperty:s.object.object.property,yProperty:s.object.property,xProperty:s.property};case"value[][][][]":if(typeof s.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",s);return o=s.object.object.object.object.name,{name:o,origin:"user",signature:h,type:this.getVariableType(s.object.object.object.object),zProperty:s.object.object.property,yProperty:s.object.property,xProperty:s.property};case"value.value":if(typeof s.property.name!="string")throw this.astErrorOutput("Unexpected expression",s);if(this.isAstMathVariable(s))return o=s.property.name,{name:o,origin:"Math",type:"Number",signature:h};switch(s.property.name){case"r":case"g":case"b":case"a":return o=s.object.name,{name:o,property:s.property.name,origin:"user",signature:h,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",s)}case"this.constants.value":if(typeof s.property.name!="string")throw this.astErrorOutput("Unexpected expression",s);if(o=s.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",s);return{name:o,type:u,origin:"constants",signature:h};case"this.constants.value[]":if(typeof s.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",s);if(o=s.object.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",s);return{name:o,type:u,origin:"constants",signature:h,xProperty:s.property};case"this.constants.value[][]":{if(typeof s.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",s);if(o=s.object.object.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",s);return{name:o,type:u,origin:"constants",signature:h,yProperty:s.object.property,xProperty:s.property}}case"this.constants.value[][][]":{if(typeof s.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",s);if(o=s.object.object.object.property.name,u=this.getConstantType(o),!u)throw this.astErrorOutput("Constant has no type",s);return{name:o,type:u,origin:"constants",signature:h,zProperty:s.object.object.property,yProperty:s.object.property,xProperty:s.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:h,property:s.property};default:throw this.astErrorOutput("Unexpected expression",s)}}findIdentifierOrigin(s){const o=[this.ast];for(;o.length>0;){const u=o[0];if(u.type==="VariableDeclarator"&&u.id&&u.id.name&&u.id.name===s.name)return u;if(o.shift(),u.argument)o.push(u.argument);else if(u.body)o.push(u.body);else if(u.declarations)o.push(u.declarations);else if(Array.isArray(u))for(let h=0;h<u.length;h++)o.push(u[h])}return null}findLastReturn(s){const o=[s||this.ast];for(;o.length>0;){const u=o.pop();if(u.type==="ReturnStatement")return u;if(u.type!=="FunctionDeclaration")if(u.argument)o.push(u.argument);else if(u.body)o.push(u.body);else if(u.declarations)o.push(u.declarations);else if(Array.isArray(u))for(let h=0;h<u.length;h++)o.push(u[h]);else u.consequent?o.push(u.consequent):u.cases&&o.push(u.cases)}return null}getInternalVariableName(s){return this._internalVariableNames.hasOwnProperty(s)||(this._internalVariableNames[s]=0),this._internalVariableNames[s]++,this._internalVariableNames[s]===1?s:s+this._internalVariableNames[s]}astKey(s,o=","){if(!s.start||!s.end)throw new Error("AST start and end needed");return`${s.start}${o}${s.end}`}}const f={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};a.exports={FunctionNode:d}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(i,a,w){const{utils:g}=i("../utils");function y(f){return f.length>0?f[f.length-1]:null}const b={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class d{constructor(c){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(c)}isState(c){return this.states[this.states.length-1]===c}hasState(c){return this.states.indexOf(c)>-1}pushState(c){this.states.push(c)}popState(c){if(this.isState(c))this.states.pop();else throw new Error(`Cannot pop the non-active state "${c}"`)}get currentFunctionContext(){return y(this.functionContexts)}get currentContext(){return y(this.runningContexts)}newFunctionContext(){const c={"@contextType":"function"};this.contexts.push(c),this.functionContexts.push(c)}newContext(c){const s=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(s),this.runningContexts.push(s),c();const{currentFunctionContext:o}=this;for(const u in o)!o.hasOwnProperty(u)||s.hasOwnProperty(u)||(s[u]=o[u]);return this.runningContexts.pop(),s}useFunctionContext(c){const s=y(this.functionContexts);this.runningContexts.push(s),c(),this.runningContexts.pop()}getIdentifiers(c){const s=this.trackedIdentifiers=[];return this.pushState(b.trackIdentifiers),c(),this.trackedIdentifiers=null,this.popState(b.trackIdentifiers),s}getDeclaration(c){const{currentContext:s,currentFunctionContext:o,runningContexts:u}=this,h=s[c]||o[c]||null;if(!h&&s===o&&u.length>0){const m=u[u.length-2];if(m[c])return m[c]}return h}scan(c){if(c){if(Array.isArray(c)){for(let s=0;s<c.length;s++)this.scan(c[s]);return}switch(c.type){case"Program":this.useFunctionContext(()=>{this.scan(c.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(c.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(c.left),this.scan(c.right);break;case"BinaryExpression":this.scan(c.left),this.scan(c.right);break;case"UpdateExpression":if(c.operator==="++"){const s=this.getDeclaration(c.argument.name);s&&(s.suggestedType="Integer")}this.scan(c.argument);break;case"UnaryExpression":this.scan(c.argument);break;case"VariableDeclaration":c.kind==="var"?this.useFunctionContext(()=>{c.declarations=g.normalizeDeclarations(c),this.scan(c.declarations)}):(c.declarations=g.normalizeDeclarations(c),this.scan(c.declarations));break;case"VariableDeclarator":{const{currentContext:s}=this,o=this.hasState(b.inForLoopInit),u={ast:c,context:s,name:c.id.name,origin:"declaration",inForLoopInit:o,inForLoopTest:null,assignable:s===this.currentFunctionContext||!o&&!s.hasOwnProperty(c.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};s[c.id.name]||(s[c.id.name]=u),this.declarations.push(u),this.scan(c.id),this.scan(c.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(c.body):this.functions.push(c);break;case"IfStatement":this.scan(c.test),this.scan(c.consequent),c.alternate&&this.scan(c.alternate);break;case"ForStatement":{let s;const o=this.newContext(()=>{this.pushState(b.inForLoopInit),this.scan(c.init),this.popState(b.inForLoopInit),s=this.getIdentifiers(()=>{this.scan(c.test)}),this.scan(c.update),this.newContext(()=>{this.scan(c.body)})});if(s)for(const u in o)u!=="@contextType"&&s.indexOf(u)>-1&&(o[u].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(c.body),this.scan(c.test)});break;case"Identifier":{this.isState(b.trackIdentifiers)&&this.trackedIdentifiers.push(c.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(c.name),ast:c});break}case"ReturnStatement":this.returnStatements.push(c),this.scan(c.argument);break;case"MemberExpression":this.pushState(b.memberExpression),this.scan(c.object),this.scan(c.property),this.popState(b.memberExpression);break;case"ExpressionStatement":this.scan(c.expression);break;case"SequenceExpression":this.scan(c.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:c}),this.scan(c.arguments);break;case"ArrayExpression":this.scan(c.elements);break;case"ConditionalExpression":this.scan(c.test),this.scan(c.alternate),this.scan(c.consequent);break;case"SwitchStatement":this.scan(c.discriminant),this.scan(c.cases);break;case"SwitchCase":this.scan(c.test),this.scan(c.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${c.type}"`)}}}}a.exports={FunctionTracer:d}},{"../utils":114}],12:[function(i,a,w){const{glWiretap:g}=i("gl-wiretap"),{utils:y}=i("../../utils");function b(u){return u.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function d(u,h,m,v,T){m.built||m.build.apply(m,h),h=h?Array.from(h).map(Te=>{switch(typeof Te){case"boolean":return new Boolean(Te);case"number":return new Number(Te);default:return Te}}):null;const x=[],R=g(m.context,{useTrackablePrimitives:!0,onReadPixels:Te=>{if(ce.subKernels){if(!k)x.push(`    const result = { result: ${f(Te,ce)} };`),k=!0;else{const Re=ce.subKernels[C++].property;x.push(`    result${isNaN(Re)?"."+Re:`[${Re}]`} = ${f(Te,ce)};`)}C===ce.subKernels.length&&x.push("    return result;");return}Te?x.push(`    return ${f(Te,ce)};`):x.push("    return null;")},onUnrecognizedArgumentLookup:Te=>{const Re=o(Te,ce.kernelArguments,[],R);if(Re)return Re;const ke=o(Te,ce.kernelConstants,B?Object.keys(B).map(me=>B[me]):[],R);return ke||null}});let k=!1,C=0;const{source:S,canvas:N,output:L,pipeline:A,graphical:$,loopMaxIterations:O,constants:B,optimizeFloatMemory:z,precision:F,fixIntegerDivisionAccuracy:V,functions:U,nativeFunctions:q,subKernels:K,immutable:Q,argumentTypes:X,constantTypes:te,kernelArguments:se,kernelConstants:J,tactic:le}=m,ce=new u(S,{canvas:N,context:R,checkContext:!1,output:L,pipeline:A,graphical:$,loopMaxIterations:O,constants:B,optimizeFloatMemory:z,precision:F,fixIntegerDivisionAccuracy:V,functions:U,nativeFunctions:q,subKernels:K,immutable:Q,argumentTypes:X,constantTypes:te,tactic:le});let ue=[];if(R.setIndent(2),ce.build.apply(ce,h),ue.push(R.toString()),R.reset(),ce.kernelArguments.forEach((Te,Re)=>{switch(Te.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":R.insertVariable(`uploadValue_${Te.name}`,Te.uploadValue);break;case"HTMLImageArray":for(let ke=0;ke<h[Re].length;ke++){const me=h[Re];R.insertVariable(`uploadValue_${Te.name}[${ke}]`,me[ke])}break;case"Input":R.insertVariable(`uploadValue_${Te.name}`,Te.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":R.insertVariable(`uploadValue_${Te.name}`,h[Re].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${Te.type}`)}}),ue.push("/** start of injected functions **/"),ue.push(`function ${b(y.flattenTo)}`),ue.push(`function ${b(y.flatten2dArrayTo)}`),ue.push(`function ${b(y.flatten3dArrayTo)}`),ue.push(`function ${b(y.flatten4dArrayTo)}`),ue.push(`function ${b(y.isArray)}`),ce.renderOutput!==ce.renderTexture&&ce.formatValues&&ue.push(`  const renderOutput = function ${b(ce.formatValues)};`),ue.push("/** end of injected functions **/"),ue.push(`  const innerKernel = function (${ce.kernelArguments.map(Te=>Te.varName).join(", ")}) {`),R.setIndent(4),ce.run.apply(ce,h),ce.renderKernels?ce.renderKernels():ce.renderOutput&&ce.renderOutput(),ue.push("    /** start setup uploads for kernel values **/"),ce.kernelArguments.forEach(Te=>{ue.push("    "+Te.getStringValueHandler().split(`
`).join(`
    `))}),ue.push("    /** end setup uploads for kernel values **/"),ue.push(R.toString()),ce.renderOutput===ce.renderTexture){R.reset();const Te=R.getContextVariableName(ce.framebuffer);if(ce.renderKernels){const Re=ce.renderKernels(),ke=R.getContextVariableName(ce.texture.texture);ue.push(`    return {
      result: {
        texture: ${ke},
        type: '${Re.result.type}',
        toArray: ${s(Re.result,ke,Te)}
      },`);const{subKernels:me,mappedTextures:ve}=ce;for(let he=0;he<me.length;he++){const Le=ve[he],Qe=me[he],De=Re[Qe.property],xt=R.getContextVariableName(Le.texture);ue.push(`
      ${Qe.property}: {
        texture: ${xt},
        type: '${De.type}',
        toArray: ${s(De,xt,Te)}
      },`)}ue.push("    };")}else{const Re=ce.renderOutput(),ke=R.getContextVariableName(ce.texture.texture);ue.push(`    return {
        texture: ${ke},
        type: '${Re.type}',
        toArray: ${s(Re,ke,Te)}
      };`)}}ue.push(`    ${T?`
`+T+"    ":""}`),ue.push(x.join(`
`)),ue.push("  };"),ce.graphical&&(ue.push(c(ce)),ue.push("  innerKernel.getPixels = getPixels;")),ue.push("  return innerKernel;");let Ie=[];return J.forEach(Te=>{Ie.push(`${Te.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${Ie.join("")}
  ${v||""}
${ue.join(`
`)}
}`}function f(u,h){const m=h.precision==="single"?u:`new Float32Array(${u}.buffer)`;return h.output[2]?`renderOutput(${m}, ${h.output[0]}, ${h.output[1]}, ${h.output[2]})`:h.output[1]?`renderOutput(${m}, ${h.output[0]}, ${h.output[1]})`:`renderOutput(${m}, ${h.output[0]})`}function c(u){const h=u.getPixels.toString(),m=!/^function/.test(h);return y.flattenFunctionToString(`${m?"function ":""}${h}`,{findDependency:(v,T)=>v==="utils"?`const ${T} = ${y[T].toString()};`:null,thisLookup:v=>{if(v==="context")return null;if(u.hasOwnProperty(v))return JSON.stringify(u[v]);throw new Error(`unhandled thisLookup ${v}`)}})}function s(u,h,m){const v=u.toArray.toString(),T=!/^function/.test(v),x=y.flattenFunctionToString(`${T?"function ":""}${v}`,{findDependency:(R,k)=>{if(R==="utils")return`const ${k} = ${y[k].toString()};`;if(R==="this")return k==="framebuffer"?"":`${T?"function ":""}${u[k].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(R,k)=>{if(R==="texture")return h;if(R==="context")return k?null:"gl";if(u.hasOwnProperty(R))return JSON.stringify(u[R]);throw new Error(`unhandled thisLookup ${R}`)}});return`() => {
  function framebuffer() { return ${m}; };
  ${x}
  return toArray();
  }`}function o(u,h,m,v,T){if(u===null||h===null)return null;switch(typeof u){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&u instanceof HTMLImageElement)for(let x=0;x<h.length;x++){const R=h[x];if(R.type!=="HTMLImageArray"&&R||R.uploadValue!==u)continue;const k=m[x].indexOf(u);if(k===-1)continue;const C=`uploadValue_${R.name}[${k}]`;return v.insertVariable(C,u),C}for(let x=0;x<h.length;x++){const R=h[x];if(u!==R.uploadValue)continue;const k=`uploadValue_${R.name}`;return v.insertVariable(k,R),k}return null}a.exports={glKernelString:d}},{"../../utils":114,"gl-wiretap":3}],13:[function(i,a,w){const{Kernel:g}=i("../kernel"),{utils:y}=i("../../utils"),{GLTextureArray2Float:b}=i("./texture/array-2-float"),{GLTextureArray2Float2D:d}=i("./texture/array-2-float-2d"),{GLTextureArray2Float3D:f}=i("./texture/array-2-float-3d"),{GLTextureArray3Float:c}=i("./texture/array-3-float"),{GLTextureArray3Float2D:s}=i("./texture/array-3-float-2d"),{GLTextureArray3Float3D:o}=i("./texture/array-3-float-3d"),{GLTextureArray4Float:u}=i("./texture/array-4-float"),{GLTextureArray4Float2D:h}=i("./texture/array-4-float-2d"),{GLTextureArray4Float3D:m}=i("./texture/array-4-float-3d"),{GLTextureFloat:v}=i("./texture/float"),{GLTextureFloat2D:T}=i("./texture/float-2d"),{GLTextureFloat3D:x}=i("./texture/float-3d"),{GLTextureMemoryOptimized:R}=i("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:k}=i("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:C}=i("./texture/memory-optimized-3d"),{GLTextureUnsigned:S}=i("./texture/unsigned"),{GLTextureUnsigned2D:N}=i("./texture/unsigned-2d"),{GLTextureUnsigned3D:L}=i("./texture/unsigned-3d"),{GLTextureGraphical:A}=i("./texture/graphical");class $ extends g{static get mode(){return"gpu"}static getIsFloatRead(){const z=`function kernelFunction() {
      return 1;
    }`,F=new this(z,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});F.build(),F.run();const V=F.renderOutput();return F.destroy(!0),V[0]===1}static getIsIntegerDivisionAccurate(){function z(q,K){return q[this.thread.x]/K[this.thread.x]}const F=new this(z.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),V=[[6,6030401],[3,3991]];F.build.apply(F,V),F.run.apply(F,V);const U=F.renderOutput();return F.destroy(!0),U[0]===2&&U[1]===1511}static getIsSpeedTacticSupported(){function z(q){return q[this.thread.x]}const F=new this(z.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),V=[[0,1,2,3]];F.build.apply(F,V),F.run.apply(F,V);const U=F.renderOutput();return F.destroy(!0),Math.round(U[0])===0&&Math.round(U[1])===1&&Math.round(U[2])===2&&Math.round(U[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const z=this.testContext,F=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:F,kernelMap:F,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.LOW_INT),lowFloatPrecision:z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.LOW_FLOAT),mediumIntPrecision:z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.MEDIUM_INT),mediumFloatPrecision:z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.MEDIUM_FLOAT),highIntPrecision:z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.HIGH_INT),highFloatPrecision:z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(z,F){return z.getVariablePrecisionString()+(F.length>0?":"+F.join(","):"")}setFixIntegerDivisionAccuracy(z){return this.fixIntegerDivisionAccuracy=z,this}setPrecision(z){return this.precision=z,this}setFloatTextures(z){return y.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=z,this}static nativeFunctionArguments(z){const F=[],V=[],U=[],q=/^[a-zA-Z_]/,K=/[a-zA-Z_0-9]/;let Q=0,X=null,te=null;for(;Q<z.length;){const se=z[Q],J=z[Q+1],le=U.length>0?U[U.length-1]:null;if(le==="FUNCTION_ARGUMENTS"&&se==="/"&&J==="*"){U.push("MULTI_LINE_COMMENT"),Q+=2;continue}else if(le==="MULTI_LINE_COMMENT"&&se==="*"&&J==="/"){U.pop(),Q+=2;continue}else if(le==="FUNCTION_ARGUMENTS"&&se==="/"&&J==="/"){U.push("COMMENT"),Q+=2;continue}else if(le==="COMMENT"&&se===`
`){U.pop(),Q++;continue}else if(le===null&&se==="("){U.push("FUNCTION_ARGUMENTS"),Q++;continue}else if(le==="FUNCTION_ARGUMENTS"){if(se===")"){U.pop();break}if(se==="f"&&J==="l"&&z[Q+2]==="o"&&z[Q+3]==="a"&&z[Q+4]==="t"&&z[Q+5]===" "){U.push("DECLARE_VARIABLE"),te="float",X="",Q+=6;continue}else if(se==="i"&&J==="n"&&z[Q+2]==="t"&&z[Q+3]===" "){U.push("DECLARE_VARIABLE"),te="int",X="",Q+=4;continue}else if(se==="v"&&J==="e"&&z[Q+2]==="c"&&z[Q+3]==="2"&&z[Q+4]===" "){U.push("DECLARE_VARIABLE"),te="vec2",X="",Q+=5;continue}else if(se==="v"&&J==="e"&&z[Q+2]==="c"&&z[Q+3]==="3"&&z[Q+4]===" "){U.push("DECLARE_VARIABLE"),te="vec3",X="",Q+=5;continue}else if(se==="v"&&J==="e"&&z[Q+2]==="c"&&z[Q+3]==="4"&&z[Q+4]===" "){U.push("DECLARE_VARIABLE"),te="vec4",X="",Q+=5;continue}}else if(le==="DECLARE_VARIABLE"){if(X===""){if(se===" "){Q++;continue}if(!q.test(se))throw new Error("variable name is not expected string")}X+=se,K.test(J)||(U.pop(),V.push(X),F.push(O[te]))}Q++}if(U.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:V,argumentTypes:F}}static nativeFunctionReturnType(z){return O[z.match(/int|float|vec[2-4]/)[0]]}static combineKernels(z,F){z.apply(null,arguments);const{texSize:V,context:U,threadDim:q}=F.texSize;let K;if(F.precision==="single"){const Q=V[0],X=Math.ceil(V[1]/4);K=new Float32Array(Q*X*4*4),U.readPixels(0,0,Q,X*4,U.RGBA,U.FLOAT,K)}else{const Q=new Uint8Array(V[0]*V[1]*4);U.readPixels(0,0,V[0],V[1],U.RGBA,U.UNSIGNED_BYTE,Q),K=new Float32Array(Q.buffer)}if(K=K.subarray(0,q[0]*q[1]*q[2]),F.output.length===1)return K;if(F.output.length===2)return y.splitArray(K,F.output[0]);if(F.output.length===3)return y.splitArray(K,F.output[0]*F.output[1]).map(function(X){return y.splitArray(X,F.output[0])})}constructor(z,F){super(z,F),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:z}=this.constructor;if(this.texSize[0]>z.maxTextureSize||this.texSize[1]>z.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${z.maxTextureSize},${z.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(z){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=F=>F,this.TextureConstructor=A,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=L,null):this.output[1]>0?(this.TextureConstructor=N,null):(this.TextureConstructor=S,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(z)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=L,this.formatValues=y.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=N,this.formatValues=y.erect2DPackedFloat,null):(this.TextureConstructor=S,this.formatValues=y.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(z)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=C,null):this.output[1]>0?(this.TextureConstructor=k,null):(this.TextureConstructor=R,null):this.output[2]>0?(this.TextureConstructor=x,null):this.output[1]>0?(this.TextureConstructor=T,null):(this.TextureConstructor=v,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=f,null):this.output[1]>0?(this.TextureConstructor=d,null):(this.TextureConstructor=b,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,null):this.output[1]>0?(this.TextureConstructor=s,null):(this.TextureConstructor=c,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=m,null):this.output[1]>0?(this.TextureConstructor=h,null):(this.TextureConstructor=u,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=C,this.formatValues=y.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=k,this.formatValues=y.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=R,this.formatValues=y.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=f,this.formatValues=y.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=y.erect2DArray2,null):(this.TextureConstructor=b,this.formatValues=y.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=y.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=s,this.formatValues=y.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=y.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=m,this.formatValues=y.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=h,this.formatValues=y.erect2DArray4,null):(this.TextureConstructor=u,this.formatValues=y.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=x,this.formatValues=y.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=T,this.formatValues=y.erect2DFloat,null):(this.TextureConstructor=v,this.formatValues=y.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=f,this.formatValues=y.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=y.erect2DArray2,null):(this.TextureConstructor=b,this.formatValues=y.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=y.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=s,this.formatValues=y.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=y.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=m,this.formatValues=y.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=h,this.formatValues=y.erect2DArray4,null):(this.TextureConstructor=u,this.formatValues=y.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return y.linesToString(this.getMainResultKernelNumberTexture())+y.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return y.linesToString(this.getMainResultKernelArray2Texture())+y.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return y.linesToString(this.getMainResultKernelArray3Texture())+y.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return y.linesToString(this.getMainResultKernelArray4Texture())+y.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:z,context:F}=this,V=new Uint8Array(z[0]*z[1]*4);return F.readPixels(0,0,z[0],z[1],F.RGBA,F.UNSIGNED_BYTE,V),V}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:z,context:F}=this,V=z[0],U=z[1],q=new Float32Array(V*U*4);return F.readPixels(0,0,V,U,F.RGBA,F.FLOAT,q),q}getPixels(z){const{context:F,output:V}=this,[U,q]=V,K=new Uint8Array(U*q*4);return F.readPixels(0,0,U,q,F.RGBA,F.UNSIGNED_BYTE,K),new Uint8ClampedArray((z?K:y.flipPixels(K,U,q)).buffer)}renderKernelsToArrays(){const z={result:this.renderOutput()};for(let F=0;F<this.subKernels.length;F++)z[this.subKernels[F].property]=this.mappedTextures[F].toArray();return z}renderKernelsToTextures(){const z={result:this.renderOutput()};if(this.immutable)for(let F=0;F<this.subKernels.length;F++)z[this.subKernels[F].property]=this.mappedTextures[F].clone();else for(let F=0;F<this.subKernels.length;F++)z[this.subKernels[F].property]=this.mappedTextures[F];return z}resetSwitchingKernels(){const z=this.switchingKernels;return this.switchingKernels=null,z}setOutput(z){const F=this.toKernelOutput(z);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const V=[F[0],F[1]||1,F[2]||1],U=y.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},V),q=this.texSize;if(q){const Q=this.getVariablePrecisionString(q,this.tactic),X=this.getVariablePrecisionString(U,this.tactic);if(Q!==X){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:X,needed:z});return}}this.output=F,this.threadDim=V,this.texSize=U;const{context:K}=this;if(K.bindFramebuffer(K.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],K.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Q=0;Q<this.mappedTextures.length;Q++)this.mappedTextures[Q].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=F;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(z){this.switchingKernels?this.switchingKernels.push(z):this.switchingKernels=[z]}getVariablePrecisionString(z=this.texSize,F=this.tactic,V=!1){if(!F){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const U=this.constructor.features[V?"lowIntPrecision":"lowFloatPrecision"],q=this.constructor.features[V?"mediumIntPrecision":"mediumFloatPrecision"],K=this.constructor.features[V?"highIntPrecision":"highFloatPrecision"],Q=Math.log2(z[0]*z[1]);if(Q<=U.rangeMax)return"lowp";if(Q<=q.rangeMax)return"mediump";if(Q<=K.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(F){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${F}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(z,F){if(this.immutable){if(this.texture.texture===F.texture){const{prevArg:V}=z;V&&(V.texture._refs===1&&(this.texture.delete(),this.texture=V.clone(),this._textureSwitched=!0),V.delete()),z.prevArg=F.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:V}=this;for(let U=0;U<V.length;U++){const q=V[U];if(q.texture===F.texture){const{prevArg:K}=z;K&&(K.texture._refs===1&&(q.delete(),V[U]=K.clone(),this._mappedTextureSwitched[U]=!0),K.delete()),z.prevArg=F.clone();return}}}}}onActivate(z){if(this._textureSwitched=!0,this.texture=z.texture,this.mappedTextures){for(let F=0;F<this.mappedTextures.length;F++)this._mappedTextureSwitched[F]=!0;this.mappedTextures=z.mappedTextures}}initCanvas(){}}const O={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};a.exports={GLKernel:$}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(2)"}toArray(){return g.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float2D:b}},{"../../../utils":114,"./float":25}],15:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(2)"}toArray(){return g.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray2Float3D:b}},{"../../../utils":114,"./float":25}],16:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(2)"}toArray(){return g.erectArray2(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray2Float:b}},{"../../../utils":114,"./float":25}],17:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(3)"}toArray(){return g.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray3Float2D:b}},{"../../../utils":114,"./float":25}],18:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(3)"}toArray(){return g.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray3Float3D:b}},{"../../../utils":114,"./float":25}],19:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(3)"}toArray(){return g.erectArray3(this.renderValues(),this.output[0])}}a.exports={GLTextureArray3Float:b}},{"../../../utils":114,"./float":25}],20:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(4)"}toArray(){return g.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureArray4Float2D:b}},{"../../../utils":114,"./float":25}],21:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(4)"}toArray(){return g.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureArray4Float3D:b}},{"../../../utils":114,"./float":25}],22:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(4)"}toArray(){return g.erectArray4(this.renderValues(),this.output[0])}}a.exports={GLTextureArray4Float:b}},{"../../../utils":114,"./float":25}],23:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(1)"}toArray(){return g.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureFloat2D:b}},{"../../../utils":114,"./float":25}],24:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="ArrayTexture(1)"}toArray(){return g.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureFloat3D:b}},{"../../../utils":114,"./float":25}],25:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTexture:y}=i("./index");class b extends y{get textureType(){return this.context.FLOAT}constructor(f){super(f),this.type="ArrayTexture(1)"}renderRawOutput(){const f=this.context,c=this.size;f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer()),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,this.texture,0);const s=new Float32Array(c[0]*c[1]*4);return f.readPixels(0,0,c[0],c[1],f.RGBA,f.FLOAT,s),s}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return g.erectFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureFloat:b}},{"../../../utils":114,"./index":27}],26:[function(i,a,w){const{GLTextureUnsigned:g}=i("./unsigned");class y extends g{constructor(d){super(d),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}a.exports={GLTextureGraphical:y}},{"./unsigned":33}],27:[function(i,a,w){const{Texture:g}=i("../../../texture");class y extends g{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:f,size:c,texture:s,kernel:o}=this;o.debug&&console.warn("cloning internal texture"),f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer()),b(f,s),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s,0);const u=f.createTexture();b(f,u),f.texImage2D(f.TEXTURE_2D,0,this.internalFormat,c[0],c[1],0,this.textureFormat,this.textureType,null),f.copyTexSubImage2D(f.TEXTURE_2D,0,0,0,0,0,c[0],c[1]),u._refs=1,this.texture=u}newTexture(){this.texture._refs--;const f=this.context,c=this.size;this.kernel.debug&&console.warn("new internal texture");const o=f.createTexture();b(f,o),f.texImage2D(f.TEXTURE_2D,0,this.internalFormat,c[0],c[1],0,this.textureFormat,this.textureType,null),o._refs=1,this.texture=o}clear(){if(this.texture._refs){this.texture._refs--;const s=this.context,o=this.texture=s.createTexture();b(s,o);const u=this.size;o._refs=1,s.texImage2D(s.TEXTURE_2D,0,this.internalFormat,u[0],u[1],0,this.textureFormat,this.textureType,null)}const{context:f,texture:c}=this;f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer()),f.bindTexture(f.TEXTURE_2D,c),b(f,c),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function b(d,f){d.activeTexture(d.TEXTURE15),d.bindTexture(d.TEXTURE_2D,f),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST)}a.exports={GLTexture:y}},{"../../../texture":113}],28:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="MemoryOptimizedNumberTexture"}toArray(){return g.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureMemoryOptimized2D:b}},{"../../../utils":114,"./float":25}],29:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="MemoryOptimizedNumberTexture"}toArray(){return g.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureMemoryOptimized3D:b}},{"../../../utils":114,"./float":25}],30:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureFloat:y}=i("./float");class b extends y{constructor(f){super(f),this.type="MemoryOptimizedNumberTexture"}toArray(){return g.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureMemoryOptimized:b}},{"../../../utils":114,"./float":25}],31:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureUnsigned:y}=i("./unsigned");class b extends y{constructor(f){super(f),this.type="NumberTexture"}toArray(){return g.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}a.exports={GLTextureUnsigned2D:b}},{"../../../utils":114,"./unsigned":33}],32:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTextureUnsigned:y}=i("./unsigned");class b extends y{constructor(f){super(f),this.type="NumberTexture"}toArray(){return g.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}a.exports={GLTextureUnsigned3D:b}},{"../../../utils":114,"./unsigned":33}],33:[function(i,a,w){const{utils:g}=i("../../../utils"),{GLTexture:y}=i("./index");class b extends y{get textureType(){return this.context.UNSIGNED_BYTE}constructor(f){super(f),this.type="NumberTexture"}renderRawOutput(){const{context:f}=this;f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer()),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,this.texture,0);const c=new Uint8Array(this.size[0]*this.size[1]*4);return f.readPixels(0,0,this.size[0],this.size[1],f.RGBA,f.UNSIGNED_BYTE,c),c}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return g.erectPackedFloat(this.renderValues(),this.output[0])}}a.exports={GLTextureUnsigned:b}},{"../../../utils":114,"./index":27}],34:[function(i,a,w){const g=i("gl"),{WebGLKernel:y}=i("../web-gl/kernel"),{glKernelString:b}=i("../gl/kernel-string");let d=null,f=null,c=null,s=null,o=null;class u extends y{static get isSupported(){return d!==null||(this.setupFeatureChecks(),d=c!==null),d}static setupFeatureChecks(){if(f=null,s=null,typeof g=="function")try{if(c=g(2,2,{preserveDrawingBuffer:!0}),!c||!c.getExtension)return;s={STACKGL_resize_drawingbuffer:c.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:c.getExtension("STACKGL_destroy_context"),OES_texture_float:c.getExtension("OES_texture_float"),OES_texture_float_linear:c.getExtension("OES_texture_float_linear"),OES_element_index_uint:c.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:c.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:c.getExtension("WEBGL_color_buffer_float")},o=this.getFeatures()}catch(m){console.warn(m)}}static isContextMatch(m){try{return m.getParameter(m.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!s.OES_texture_float}static getIsDrawBuffers(){return!!s.WEBGL_draw_buffers}static getChannelCount(){return s.WEBGL_draw_buffers?c.getParameter(s.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return c.getParameter(c.MAX_TEXTURE_SIZE)}static get testCanvas(){return f}static get testContext(){return c}static get features(){return o}initCanvas(){return{}}initContext(){return g(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(m){const v=m.getExtension("STACKGL_destroy_context");v&&v.destroy&&v.destroy()}toString(){return b(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(m){return super.setOutput(m),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}a.exports={HeadlessGLKernel:u}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(i,a,w){class g{constructor(b,d){const{name:f,kernel:c,context:s,checkContext:o,onRequestContextHandle:u,onUpdateValueMismatch:h,origin:m,strictIntegers:v,type:T,tactic:x}=d;if(!f)throw new Error("name not set");if(!T)throw new Error("type not set");if(!m)throw new Error("origin not set");if(m!=="user"&&m!=="constants")throw new Error(`origin must be "user" or "constants" value is "${m}"`);if(!u)throw new Error("onRequestContextHandle is not set");this.name=f,this.origin=m,this.tactic=x,this.varName=m==="constants"?`constants.${f}`:f,this.kernel=c,this.strictIntegers=v,this.type=b.type||T,this.size=b.size||null,this.index=null,this.context=s,this.checkContext=o??!0,this.contextHandle=null,this.onRequestContextHandle=u,this.onUpdateValueMismatch=h,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(b){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}a.exports={KernelValue:g}},{}],36:[function(i,a,w){const{utils:g}=i("../utils"),{Input:y}=i("../input");class b{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(c){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(c){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(c,s){if(typeof c!="object"){if(typeof c!="string")throw new Error("source not a string");if(!g.isFunctionString(c))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof c=="string"?g.getArgumentNamesFromString(c):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=c,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(c){for(let s in c)if(!(!c.hasOwnProperty(s)||!this.hasOwnProperty(s))){switch(s){case"output":if(!Array.isArray(c.output)){this.setOutput(c.output);continue}break;case"functions":this.functions=[];for(let o=0;o<c.functions.length;o++)this.addFunction(c.functions[o]);continue;case"graphical":c[s]&&!c.hasOwnProperty("precision")&&(this.precision="unsigned"),this[s]=c[s];continue;case"nativeFunctions":if(!c.nativeFunctions)continue;this.nativeFunctions=[];for(let o=0;o<c.nativeFunctions.length;o++){const u=c.nativeFunctions[o],{name:h,source:m}=u;this.addNativeFunction(h,m,u)}continue}this[s]=c[s]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(c))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(c){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(c,s={}){if(c.name&&c.source&&c.argumentTypes&&"returnType"in c)this.functions.push(c);else if("settings"in c&&"source"in c)this.functions.push(this.functionToIGPUFunction(c.source,c.settings));else if(typeof c=="string"||typeof c=="function")this.functions.push(this.functionToIGPUFunction(c,s));else throw new Error("function not properly defined");return this}addNativeFunction(c,s,o={}){const{argumentTypes:u,argumentNames:h}=o.argumentTypes?d(o.argumentTypes):this.constructor.nativeFunctionArguments(s)||{};return this.nativeFunctions.push({name:c,source:s,settings:o,argumentTypes:u,argumentNames:h,returnType:o.returnType||this.constructor.nativeFunctionReturnType(s)}),this}setupArguments(c){if(this.kernelArguments=[],this.argumentTypes)for(let s=0;s<this.argumentTypes.length;s++)this.kernelArguments.push({type:this.argumentTypes[s]});else if(!this.argumentTypes){this.argumentTypes=[];for(let s=0;s<c.length;s++){const o=g.getVariableType(c[s],this.strictIntegers),u=o==="Integer"?"Number":o;this.argumentTypes.push(u),this.kernelArguments.push({type:u})}}this.argumentSizes=new Array(c.length),this.argumentBitRatios=new Int32Array(c.length);for(let s=0;s<c.length;s++){const o=c[s];this.argumentSizes[s]=o.constructor===y?o.size:null,this.argumentBitRatios[s]=this.getBitRatio(o)}if(this.argumentNames.length!==c.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let c=this.constantTypes===null;if(c&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let s in this.constants){if(c){const o=g.getVariableType(this.constants[s],this.strictIntegers);this.constantTypes[s]=o,this.kernelConstants.push({name:s,type:o})}else this.kernelConstants.push({name:s,type:this.constantTypes[s]});this.constantBitRatios[s]=this.getBitRatio(this.constants[s])}}setOptimizeFloatMemory(c){return this.optimizeFloatMemory=c,this}toKernelOutput(c){return c.hasOwnProperty("x")?c.hasOwnProperty("y")?c.hasOwnProperty("z")?[c.x,c.y,c.z]:[c.x,c.y]:[c.x]:c}setOutput(c){return this.output=this.toKernelOutput(c),this}setDebug(c){return this.debug=c,this}setGraphical(c){return this.graphical=c,this.precision="unsigned",this}setLoopMaxIterations(c){return this.loopMaxIterations=c,this}setConstants(c){return this.constants=c,this}setConstantTypes(c){return this.constantTypes=c,this}setFunctions(c){for(let s=0;s<c.length;s++)this.addFunction(c[s]);return this}setNativeFunctions(c){for(let s=0;s<c.length;s++){const o=c[s],{name:u,source:h}=o;this.addNativeFunction(u,h,o)}return this}setInjectedNative(c){return this.injectedNative=c,this}setPipeline(c){return this.pipeline=c,this}setPrecision(c){return this.precision=c,this}setDimensions(c){return g.warnDeprecated("method","setDimensions","setOutput"),this.output=c,this}setOutputToTexture(c){return g.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=c,this}setImmutable(c){return this.immutable=c,this}setCanvas(c){return this.canvas=c,this}setStrictIntegers(c){return this.strictIntegers=c,this}setDynamicOutput(c){return this.dynamicOutput=c,this}setHardcodeConstants(c){return g.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(c),this.setDynamicArguments(c),this}setDynamicArguments(c){return this.dynamicArguments=c,this}setUseLegacyEncoder(c){return this.useLegacyEncoder=c,this}setWarnVarUsage(c){return g.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return g.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return g.warnDeprecated("method","getWebGl"),this.context}setContext(c){return this.context=c,this}setArgumentTypes(c){if(Array.isArray(c))this.argumentTypes=c;else{this.argumentTypes=[];for(const s in c){if(!c.hasOwnProperty(s))continue;const o=this.argumentNames.indexOf(s);if(o===-1)throw new Error(`unable to find argument ${s}`);this.argumentTypes[o]=c[s]}}return this}setTactic(c){return this.tactic=c,this}requestFallback(c){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(c)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(c){if(this.subKernels===null&&(this.subKernels=[]),!c.source)throw new Error('subKernel missing "source" property');if(!c.property&&isNaN(c.property))throw new Error('subKernel missing "property" property');if(!c.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(c),this}destroy(c){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(c){if(this.precision==="single")return 4;if(Array.isArray(c[0]))return this.getBitRatio(c[0]);if(c.constructor===y)return this.getBitRatio(c.value);switch(c.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(c){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!g.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let c=0;c<this.output.length;c++)if(isNaN(this.output[c])||this.output[c]<1)throw new Error(`${this.constructor.name}.output[${c}] incorrectly defined as \`${this.output[c]}\`, needs to be numeric, and greater than 0`)}prependString(c){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(c){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(c=>c.name):null,returnType:this.returnType}}}buildSignature(c){const s=this.constructor;this.signature=s.getSignature(this,s.getArgumentTypes(this,c))}static getArgumentTypes(c,s){const o=new Array(s.length);for(let u=0;u<s.length;u++){const h=s[u],m=c.argumentTypes[u];if(h.type)o[u]=h.type;else switch(m){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":o[u]=g.getVariableType(h);break;default:o[u]=m}}return o}static getSignature(c,s){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(c,s={}){if(typeof c!="string"&&typeof c!="function")throw new Error("source not a string or function");const o=typeof c=="string"?c:c.toString();let u=[];return Array.isArray(s.argumentTypes)?u=s.argumentTypes:typeof s.argumentTypes=="object"?u=g.getArgumentNamesFromString(o).map(h=>s.argumentTypes[h])||[]:u=s.argumentTypes||[],{name:g.getFunctionNameFromString(o)||null,source:o,argumentTypes:u,returnType:s.returnType||null}}onActivate(c){}}function d(f){const c=Object.keys(f),s=[];for(let o=0;o<c.length;o++){const u=c[o];s.push(f[u])}return{argumentTypes:s,argumentNames:c}}a.exports={Kernel:b}},{"../input":110,"../utils":114}],37:[function(i,a,w){const g=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:g}},{}],38:[function(i,a,w){const{utils:g}=i("../../utils"),{FunctionNode:y}=i("../function-node");class b extends y{constructor(s,o){super(s,o),o&&o.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=o.fixIntegerDivisionAccuracy)}astConditionalExpression(s,o){if(s.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",s);const u=this.getType(s.consequent),h=this.getType(s.alternate);return u===null&&h===null?(o.push("if ("),this.astGeneric(s.test,o),o.push(") {"),this.astGeneric(s.consequent,o),o.push(";"),o.push("} else {"),this.astGeneric(s.alternate,o),o.push(";"),o.push("}"),o):(o.push("("),this.astGeneric(s.test,o),o.push("?"),this.astGeneric(s.consequent,o),o.push(":"),this.astGeneric(s.alternate,o),o.push(")"),o)}astFunction(s,o){if(this.isRootKernel)o.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(s.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:u}=this;if(!u)o.push("void");else{const h=d[u];if(!h)throw new Error(`unknown type ${u}`);o.push(h)}}if(o.push(" "),o.push(this.name),o.push("("),!this.isRootKernel)for(let u=0;u<this.argumentNames.length;++u){const h=this.argumentNames[u];u>0&&o.push(", ");let m=this.argumentTypes[this.argumentNames.indexOf(h)];if(!m)throw this.astErrorOutput(`Unknown argument ${h} type`,s);m==="LiteralInteger"&&(this.argumentTypes[u]=m="Number");const v=d[m];if(!v)throw this.astErrorOutput("Unexpected expression",s);const T=g.sanitizeName(h);v==="sampler2D"||v==="sampler2DArray"?o.push(`${v} user_${T},ivec2 user_${T}Size,ivec3 user_${T}Dim`):o.push(`${v} user_${T}`)}o.push(`) {
`);for(let u=0;u<s.body.body.length;++u)this.astGeneric(s.body.body[u],o),o.push(`
`);return o.push(`}
`),o}astReturnStatement(s,o){if(!s.argument)throw this.astErrorOutput("Unexpected return statement",s);this.pushState("skip-literal-correction");const u=this.getType(s.argument);this.popState("skip-literal-correction");const h=[];switch(this.returnType||(u==="LiteralInteger"||u==="Integer"?this.returnType="Number":this.returnType=u),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(u){case"Integer":h.push("float("),this.astGeneric(s.argument,h),h.push(")");break;case"LiteralInteger":this.castLiteralToFloat(s.argument,h),this.getType(s)==="Integer"&&(h.unshift("float("),h.push(")"));break;default:this.astGeneric(s.argument,h)}break;case"Integer":switch(u){case"Float":case"Number":this.castValueToInteger(s.argument,h);break;case"LiteralInteger":this.castLiteralToInteger(s.argument,h);break;default:this.astGeneric(s.argument,h)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(s.argument,h);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,s)}return this.isRootKernel?(o.push(`kernelResult = ${h.join("")};`),o.push("return;")):this.isSubKernel?(o.push(`subKernelResult_${this.name} = ${h.join("")};`),o.push(`return subKernelResult_${this.name};`)):o.push(`return ${h.join("")};`),o}astLiteral(s,o){if(isNaN(s.value))throw this.astErrorOutput("Non-numeric literal not supported : "+s.value,s);const u=this.astKey(s);return Number.isInteger(s.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[u]="Integer",o.push(`${s.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[u]="Number",o.push(`${s.value}.0`)):(this.literalTypes[u]="Number",o.push(`${s.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[u]="Integer",o.push(Math.round(s.value))):(this.literalTypes[u]="Number",o.push(`${s.value}`)),o}astBinaryExpression(s,o){if(this.checkAndUpconvertOperator(s,o))return o;if(this.fixIntegerDivisionAccuracy&&s.operator==="/"){switch(o.push("divWithIntCheck("),this.pushState("building-float"),this.getType(s.left)){case"Integer":this.castValueToFloat(s.left,o);break;case"LiteralInteger":this.castLiteralToFloat(s.left,o);break;default:this.astGeneric(s.left,o)}switch(o.push(", "),this.getType(s.right)){case"Integer":this.castValueToFloat(s.right,o);break;case"LiteralInteger":this.castLiteralToFloat(s.right,o);break;default:this.astGeneric(s.right,o)}return this.popState("building-float"),o.push(")"),o}o.push("(");const u=this.getType(s.left)||"Number",h=this.getType(s.right)||"Number",m=u+" & "+h;switch(m){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.astGeneric(s.right,o),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.astGeneric(s.right,o),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.astGeneric(s.right,o),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(s.left,o),o.push(f[s.operator]||s.operator),this.castLiteralToFloat(s.right,o),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((s.operator===">"||s.operator==="<"&&s.right.type==="Literal")&&!Number.isInteger(s.right.value)){this.pushState("building-float"),this.castValueToFloat(s.left,o),o.push(f[s.operator]||s.operator),this.astGeneric(s.right,o),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.pushState("casting-to-integer"),s.right.type==="Literal"){const v=[];if(this.astGeneric(s.right,v),this.getType(s.right)==="Integer")o.push(v.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",s)}else o.push("int("),this.astGeneric(s.right,o),o.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.castLiteralToInteger(s.right,o),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.castValueToFloat(s.right,o),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.castLiteralToFloat(s.right,o),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(s.left,o),o.push(f[s.operator]||s.operator),this.castValueToInteger(s.right,o),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.pushState("casting-to-float"),this.astGeneric(s.right,o),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(s.left,o),o.push(f[s.operator]||s.operator),this.astGeneric(s.right,o),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.astGeneric(s.right,o),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(s.left,o),o.push(f[s.operator]||s.operator),this.castValueToFloat(s.right,o),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${m}`,s)}return o.push(")"),o}checkAndUpconvertOperator(s,o){const u=this.checkAndUpconvertBitwiseOperators(s,o);if(u)return u;const m={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[s.operator];if(!m)return null;switch(o.push(m),o.push("("),this.getType(s.left)){case"Integer":this.castValueToFloat(s.left,o);break;case"LiteralInteger":this.castLiteralToFloat(s.left,o);break;default:this.astGeneric(s.left,o)}switch(o.push(","),this.getType(s.right)){case"Integer":this.castValueToFloat(s.right,o);break;case"LiteralInteger":this.castLiteralToFloat(s.right,o);break;default:this.astGeneric(s.right,o)}return o.push(")"),o}checkAndUpconvertBitwiseOperators(s,o){const h={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[s.operator];if(!h)return null;switch(o.push(h),o.push("("),this.getType(s.left)){case"Number":case"Float":this.castValueToInteger(s.left,o);break;case"LiteralInteger":this.castLiteralToInteger(s.left,o);break;default:this.astGeneric(s.left,o)}switch(o.push(","),this.getType(s.right)){case"Number":case"Float":this.castValueToInteger(s.right,o);break;case"LiteralInteger":this.castLiteralToInteger(s.right,o);break;default:this.astGeneric(s.right,o)}return o.push(")"),o}checkAndUpconvertBitwiseUnary(s,o){const h={"~":"bitwiseNot"}[s.operator];if(!h)return null;switch(o.push(h),o.push("("),this.getType(s.argument)){case"Number":case"Float":this.castValueToInteger(s.argument,o);break;case"LiteralInteger":this.castLiteralToInteger(s.argument,o);break;default:this.astGeneric(s.argument,o)}return o.push(")"),o}castLiteralToInteger(s,o){return this.pushState("casting-to-integer"),this.astGeneric(s,o),this.popState("casting-to-integer"),o}castLiteralToFloat(s,o){return this.pushState("casting-to-float"),this.astGeneric(s,o),this.popState("casting-to-float"),o}castValueToInteger(s,o){return this.pushState("casting-to-integer"),o.push("int("),this.astGeneric(s,o),o.push(")"),this.popState("casting-to-integer"),o}castValueToFloat(s,o){return this.pushState("casting-to-float"),o.push("float("),this.astGeneric(s,o),o.push(")"),this.popState("casting-to-float"),o}astIdentifierExpression(s,o){if(s.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",s);const u=this.getType(s),h=g.sanitizeName(s.name);return s.name==="Infinity"?o.push("3.402823466e+38"):u==="Boolean"?this.argumentNames.indexOf(h)>-1?o.push(`bool(user_${h})`):o.push(`user_${h}`):o.push(`user_${h}`),o}astForStatement(s,o){if(s.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",s);const u=[],h=[],m=[],v=[];let T=null;if(s.init){const{declarations:x}=s.init;x.length>1&&(T=!1),this.astGeneric(s.init,u);for(let R=0;R<x.length;R++)x[R].init&&x[R].init.type!=="Literal"&&(T=!1)}else T=!1;if(s.test?this.astGeneric(s.test,h):T=!1,s.update?this.astGeneric(s.update,m):T=!1,s.body&&(this.pushState("loop-body"),this.astGeneric(s.body,v),this.popState("loop-body")),T===null&&(T=this.isSafe(s.init)&&this.isSafe(s.test)),T){const x=u.join(""),R=x[x.length-1]!==";";o.push(`for (${x}${R?";":""}${h.join("")};${m.join("")}){
`),o.push(v.join("")),o.push(`}
`)}else{const x=this.getInternalVariableName("safeI");u.length>0&&o.push(u.join(""),`
`),o.push(`for (int ${x}=0;${x}<LOOP_MAX;${x}++){
`),h.length>0&&o.push(`if (!${h.join("")}) break;
`),o.push(v.join("")),o.push(`
${m.join("")};`),o.push(`}
`)}return o}astWhileStatement(s,o){if(s.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",s);const u=this.getInternalVariableName("safeI");return o.push(`for (int ${u}=0;${u}<LOOP_MAX;${u}++){
`),o.push("if (!"),this.astGeneric(s.test,o),o.push(`) break;
`),this.astGeneric(s.body,o),o.push(`}
`),o}astDoWhileStatement(s,o){if(s.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",s);const u=this.getInternalVariableName("safeI");return o.push(`for (int ${u}=0;${u}<LOOP_MAX;${u}++){
`),this.astGeneric(s.body,o),o.push("if (!"),this.astGeneric(s.test,o),o.push(`) break;
`),o.push(`}
`),o}astAssignmentExpression(s,o){if(s.operator==="%=")this.astGeneric(s.left,o),o.push("="),o.push("mod("),this.astGeneric(s.left,o),o.push(","),this.astGeneric(s.right,o),o.push(")");else if(s.operator==="**=")this.astGeneric(s.left,o),o.push("="),o.push("pow("),this.astGeneric(s.left,o),o.push(","),this.astGeneric(s.right,o),o.push(")");else{const u=this.getType(s.left),h=this.getType(s.right);return this.astGeneric(s.left,o),o.push(s.operator),u!=="Integer"&&h==="Integer"?(o.push("float("),this.astGeneric(s.right,o),o.push(")")):this.astGeneric(s.right,o),o}}astBlockStatement(s,o){if(this.isState("loop-body")){this.pushState("block-body");for(let u=0;u<s.body.length;u++)this.astGeneric(s.body[u],o);this.popState("block-body")}else{o.push(`{
`);for(let u=0;u<s.body.length;u++)this.astGeneric(s.body[u],o);o.push(`}
`)}return o}astVariableDeclaration(s,o){const u=s.declarations;if(!u||!u[0]||!u[0].init)throw this.astErrorOutput("Unexpected expression",s);const h=[];let m=null;const v=[];let T=[];for(let x=0;x<u.length;x++){const R=u[x],k=R.init,C=this.getDeclaration(R.id),S=this.getType(R.init);let N=S;N==="LiteralInteger"&&(C.suggestedType==="Integer"?N="Integer":N="Number");const L=d[N];if(!L)throw this.astErrorOutput(`Markup type ${N} not handled`,s);const A=[];if(S==="Integer"&&N==="Integer"){if(C.valueType="Number",x===0||m===null)A.push("float ");else if(N!==m)throw new Error("Unhandled declaration");m=N,A.push(`user_${g.sanitizeName(R.id.name)}=`),A.push("float("),this.astGeneric(k,A),A.push(")")}else C.valueType=N,x===0||m===null?A.push(`${L} `):N!==m&&(v.push(T.join(",")),T=[],A.push(`${L} `)),m=N,A.push(`user_${g.sanitizeName(R.id.name)}=`),S==="Number"&&N==="Integer"?k.left&&k.left.type==="Literal"?this.astGeneric(k,A):(A.push("int("),this.astGeneric(k,A),A.push(")")):S==="LiteralInteger"&&N==="Integer"?this.castLiteralToInteger(k,A):this.astGeneric(k,A);T.push(A.join(""))}return T.length>0&&v.push(T.join(",")),h.push(v.join(";")),o.push(h.join("")),o.push(";"),o}astIfStatement(s,o){return o.push("if ("),this.astGeneric(s.test,o),o.push(")"),s.consequent.type==="BlockStatement"?this.astGeneric(s.consequent,o):(o.push(` {
`),this.astGeneric(s.consequent,o),o.push(`
}
`)),s.alternate&&(o.push("else "),s.alternate.type==="BlockStatement"||s.alternate.type==="IfStatement"?this.astGeneric(s.alternate,o):(o.push(` {
`),this.astGeneric(s.alternate,o),o.push(`
}
`))),o}astSwitchStatement(s,o){if(s.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",s);const{discriminant:u,cases:h}=s,m=this.getType(u),v=`switchDiscriminant${this.astKey(s,"_")}`;switch(m){case"Float":case"Number":o.push(`float ${v} = `),this.astGeneric(u,o),o.push(`;
`);break;case"Integer":o.push(`int ${v} = `),this.astGeneric(u,o),o.push(`;
`);break}if(h.length===1&&!h[0].test)return this.astGeneric(h[0].consequent,o),o;let T=!1,x=[],R=!1,k=!1;for(let C=0;C<h.length;C++){if(h[C].test){if(C===0||!k?(k=!0,o.push(`if (${v} == `)):T?(o.push(`${v} == `),T=!1):o.push(` else if (${v} == `),m==="Integer")switch(this.getType(h[C].test)){case"Number":case"Float":this.castValueToInteger(h[C].test,o);break;case"LiteralInteger":this.castLiteralToInteger(h[C].test,o);break}else if(m==="Float")switch(this.getType(h[C].test)){case"LiteralInteger":this.castLiteralToFloat(h[C].test,o);break;case"Integer":this.castValueToFloat(h[C].test,o);break}else throw new Error("unhanlded");if(!h[C].consequent||h[C].consequent.length===0){T=!0,o.push(" || ");continue}o.push(`) {
`)}else if(h.length>C+1){R=!0,this.astGeneric(h[C].consequent,x);continue}else o.push(` else {
`);this.astGeneric(h[C].consequent,o),o.push(`
}`)}return R&&(o.push(" else {"),o.push(x.join("")),o.push("}")),o}astThisExpression(s,o){return o.push("this"),o}astMemberExpression(s,o){const{property:u,name:h,signature:m,origin:v,type:T,xProperty:x,yProperty:R,zProperty:k}=this.getMemberExpressionDetails(s);switch(m){case"value.thread.value":case"this.thread.value":if(h!=="x"&&h!=="y"&&h!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",s);return o.push(`threadId.${h}`),o;case"this.output.value":if(this.dynamicOutput)switch(h){case"x":this.isState("casting-to-float")?o.push("float(uOutputDim.x)"):o.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?o.push("float(uOutputDim.y)"):o.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?o.push("float(uOutputDim.z)"):o.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",s)}else switch(h){case"x":this.isState("casting-to-integer")?o.push(this.output[0]):o.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?o.push(this.output[1]):o.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?o.push(this.output[2]):o.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",s)}return o;case"value":throw this.astErrorOutput("Unexpected expression",s);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(v==="Math")return o.push(Math[h]),o;const S=g.sanitizeName(h);switch(u){case"r":return o.push(`user_${S}.r`),o;case"g":return o.push(`user_${S}.g`),o;case"b":return o.push(`user_${S}.b`),o;case"a":return o.push(`user_${S}.a`),o}break;case"this.constants.value":if(typeof x>"u")switch(T){case"Array(2)":case"Array(3)":case"Array(4)":return o.push(`constants_${g.sanitizeName(h)}`),o}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(s.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(u)),o.push("]"),o;case"fn()[][]":return this.astCallExpression(s.object.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(s.object.property)),o.push("]"),o.push("["),o.push(this.memberExpressionPropertyMarkup(s.property)),o.push("]"),o;case"[][]":return this.astArrayExpression(s.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(u)),o.push("]"),o;default:throw this.astErrorOutput("Unexpected expression",s)}if(s.computed===!1)switch(T){case"Number":case"Integer":case"Float":case"Boolean":return o.push(`${v}_${g.sanitizeName(h)}`),o}const C=`${v}_${g.sanitizeName(h)}`;switch(T){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(s.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(x)),o.push("]");break;case"HTMLImageArray":o.push(`getImage3D(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"ArrayTexture(1)":o.push(`getFloatFromSampler2D(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":o.push(`getMemoryOptimizedVec2(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"ArrayTexture(2)":o.push(`getVec2FromSampler2D(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":o.push(`getMemoryOptimizedVec3(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"ArrayTexture(3)":o.push(`getVec3FromSampler2D(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":o.push(`getMemoryOptimizedVec4(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`getVec4FromSampler2D(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")o.push(`getMemoryOptimized32(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");else{const S=v==="user"?this.lookupFunctionArgumentBitRatio(this.name,h):this.constantBitRatios[h];switch(S){case 1:o.push(`get8(${C}, ${C}Size, ${C}Dim, `);break;case 2:o.push(`get16(${C}, ${C}Size, ${C}Dim, `);break;case 4:case 0:o.push(`get32(${C}, ${C}Size, ${C}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${S}`)}this.memberExpressionXYZ(x,R,k,o),o.push(")")}break;case"MemoryOptimizedNumberTexture":o.push(`getMemoryOptimized32(${C}, ${C}Size, ${C}Dim, `),this.memberExpressionXYZ(x,R,k,o),o.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":o.push(`${C}[${this.memberExpressionPropertyMarkup(R)}]`),R&&o.push(`[${this.memberExpressionPropertyMarkup(x)}]`);break;default:throw new Error(`unhandled member expression "${T}"`)}return o}astCallExpression(s,o){if(!s.callee)throw this.astErrorOutput("Unknown CallExpression",s);let u=null;const h=this.isAstMathFunction(s);if(h||s.callee.object&&s.callee.object.type==="ThisExpression"?u=s.callee.property.name:s.callee.type==="SequenceExpression"&&s.callee.expressions[0].type==="Literal"&&!isNaN(s.callee.expressions[0].raw)?u=s.callee.expressions[1].property.name:u=s.callee.name,!u)throw this.astErrorOutput("Unhandled function, couldn't find name",s);switch(u){case"pow":u="_pow";break;case"round":u="_round";break}if(this.calledFunctions.indexOf(u)<0&&this.calledFunctions.push(u),u==="random"&&this.plugins&&this.plugins.length>0)for(let m=0;m<this.plugins.length;m++){const v=this.plugins[m];if(v.functionMatch==="Math.random()"&&v.functionReplace)return o.push(v.functionReplace),o}if(this.onFunctionCall&&this.onFunctionCall(this.name,u,s.arguments),o.push(u),o.push("("),h)for(let m=0;m<s.arguments.length;++m){const v=s.arguments[m],T=this.getType(v);switch(m>0&&o.push(", "),T){case"Integer":this.castValueToFloat(v,o);break;default:this.astGeneric(v,o);break}}else{const m=this.lookupFunctionArgumentTypes(u)||[];for(let v=0;v<s.arguments.length;++v){const T=s.arguments[v];let x=m[v];v>0&&o.push(", ");const R=this.getType(T);switch(x||(this.triggerImplyArgumentType(u,v,R,this),x=R),R){case"Boolean":this.astGeneric(T,o);continue;case"Number":case"Float":if(x==="Integer"){o.push("int("),this.astGeneric(T,o),o.push(")");continue}else if(x==="Number"||x==="Float"){this.astGeneric(T,o);continue}else if(x==="LiteralInteger"){this.castLiteralToFloat(T,o);continue}break;case"Integer":if(x==="Number"||x==="Float"){o.push("float("),this.astGeneric(T,o),o.push(")");continue}else if(x==="Integer"){this.astGeneric(T,o);continue}break;case"LiteralInteger":if(x==="Integer"){this.castLiteralToInteger(T,o);continue}else if(x==="Number"||x==="Float"){this.castLiteralToFloat(T,o);continue}else if(x==="LiteralInteger"){this.astGeneric(T,o);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(x===R){if(T.type==="Identifier")o.push(`user_${g.sanitizeName(T.name)}`);else if(T.type==="ArrayExpression"||T.type==="MemberExpression"||T.type==="CallExpression")this.astGeneric(T,o);else throw this.astErrorOutput(`Unhandled argument type ${T.type}`,s);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(x===R){if(T.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${T.type}`,s);this.triggerImplyArgumentBitRatio(this.name,T.name,u,v);const k=g.sanitizeName(T.name);o.push(`user_${k},user_${k}Size,user_${k}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${R} and ${x} for argument named "${T.name}"`,s)}}return o.push(")"),o}astArrayExpression(s,o){const u=this.getType(s),h=s.elements.length;switch(u){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":o.push(`mat${h}(`);break;default:o.push(`vec${h}(`)}for(let m=0;m<h;++m){m>0&&o.push(", ");const v=s.elements[m];this.astGeneric(v,o)}return o.push(")"),o}memberExpressionXYZ(s,o,u,h){return u?h.push(this.memberExpressionPropertyMarkup(u),", "):h.push("0, "),o?h.push(this.memberExpressionPropertyMarkup(o),", "):h.push("0, "),h.push(this.memberExpressionPropertyMarkup(s)),h}memberExpressionPropertyMarkup(s){if(!s)throw new Error("Property not set");const o=this.getType(s),u=[];switch(o){case"Number":case"Float":this.castValueToInteger(s,u);break;case"LiteralInteger":this.castLiteralToInteger(s,u);break;default:this.astGeneric(s,u)}return u.join("")}}const d={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},f={"===":"==","!==":"!="};a.exports={WebGLFunctionNode:b}},{"../../utils":114,"../function-node":10}],39:[function(i,a,w){const{WebGLKernelValueBoolean:g}=i("./kernel-value/boolean"),{WebGLKernelValueFloat:y}=i("./kernel-value/float"),{WebGLKernelValueInteger:b}=i("./kernel-value/integer"),{WebGLKernelValueHTMLImage:d}=i("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:f}=i("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:c}=i("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:s}=i("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:o}=i("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:u}=i("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:h}=i("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:m}=i("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:v}=i("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:T}=i("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:x}=i("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:R}=i("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:k}=i("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:C}=i("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:S}=i("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:N}=i("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:L}=i("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:A}=i("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:$}=i("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:O}=i("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:B}=i("./kernel-value/array2"),{WebGLKernelValueArray3:z}=i("./kernel-value/array3"),{WebGLKernelValueArray4:F}=i("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:V}=i("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:U}=i("./kernel-value/dynamic-unsigned-array"),q={unsigned:{dynamic:{Boolean:g,Integer:b,Float:y,Array:U,"Array(2)":B,"Array(3)":z,"Array(4)":F,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:m,NumberTexture:R,"ArrayTexture(1)":R,"ArrayTexture(2)":R,"ArrayTexture(3)":R,"ArrayTexture(4)":R,MemoryOptimizedNumberTexture:T,HTMLCanvas:f,OffscreenCanvas:f,HTMLImage:f,ImageBitmap:f,ImageData:f,HTMLImageArray:!1,HTMLVideo:s},static:{Boolean:g,Float:y,Integer:b,Array:V,"Array(2)":B,"Array(3)":z,"Array(4)":F,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:h,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:v,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:!1,HTMLVideo:c}},single:{dynamic:{Boolean:g,Integer:b,Float:y,Array:C,"Array(2)":B,"Array(3)":z,"Array(4)":F,"Array1D(2)":N,"Array1D(3)":N,"Array1D(4)":N,"Array2D(2)":A,"Array2D(3)":A,"Array2D(4)":A,"Array3D(2)":O,"Array3D(3)":O,"Array3D(4)":O,Input:u,NumberTexture:R,"ArrayTexture(1)":R,"ArrayTexture(2)":R,"ArrayTexture(3)":R,"ArrayTexture(4)":R,MemoryOptimizedNumberTexture:T,HTMLCanvas:f,OffscreenCanvas:f,HTMLImage:f,ImageBitmap:f,ImageData:f,HTMLImageArray:!1,HTMLVideo:s},static:{Boolean:g,Float:y,Integer:b,Array:k,"Array(2)":B,"Array(3)":z,"Array(4)":F,"Array1D(2)":S,"Array1D(3)":S,"Array1D(4)":S,"Array2D(2)":L,"Array2D(3)":L,"Array2D(4)":L,"Array3D(2)":$,"Array3D(3)":$,"Array3D(4)":$,Input:o,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:v,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:!1,HTMLVideo:c}}};function K(Q,X,te,se){if(!Q)throw new Error("type missing");if(!X)throw new Error("dynamic missing");if(!te)throw new Error("precision missing");se.type&&(Q=se.type);const J=q[te][X];if(J[Q]===!1)return null;if(J[Q]===void 0)throw new Error(`Could not find a KernelValue for ${Q}`);return J[Q]}a.exports={lookupKernelValueType:K,kernelValueMaps:q}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(i,a,w){const{WebGLKernelValue:g}=i("./index"),{Input:y}=i("../../../input");class b extends g{checkSize(f,c){if(!this.kernel.validate)return;const{maxTextureSize:s}=this.kernel.constructor.features;if(f>s||c>s)throw f>c?new Error(`Argument texture width of ${f} larger than maximum size of ${s} for your GPU`):f<c?new Error(`Argument texture height of ${c} larger than maximum size of ${s} for your GPU`):new Error(`Argument texture height and width of ${c} larger than maximum size of ${s} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:f}=this;f.activeTexture(this.contextHandle),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(f){if(Array.isArray(f[0]))return this.getBitRatio(f[0]);if(f.constructor===y)return this.getBitRatio(f.value);switch(f.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}a.exports={WebGLKernelArray:b}},{"../../../input":110,"./index":59}],41:[function(i,a,w){const{WebGLKernelValue:g}=i("./index");class y extends g{constructor(d,f){super(d,f),this.uploadValue=d}getSource(d){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${d[0]},${d[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=d)}}a.exports={WebGLKernelValueArray2:y}},{"./index":59}],42:[function(i,a,w){const{WebGLKernelValue:g}=i("./index");class y extends g{constructor(d,f){super(d,f),this.uploadValue=d}getSource(d){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${d[0]},${d[1]},${d[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=d)}}a.exports={WebGLKernelValueArray3:y}},{"./index":59}],43:[function(i,a,w){const{WebGLKernelValue:g}=i("./index");class y extends g{constructor(d,f){super(d,f),this.uploadValue=d}getSource(d){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${d[0]},${d[1]},${d[2]},${d[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=d)}}a.exports={WebGLKernelValueArray4:y}},{"./index":59}],44:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValue:y}=i("./index");class b extends y{constructor(f,c){super(f,c),this.uploadValue=f}getSource(f){return this.origin==="constants"?`const bool ${this.id} = ${f};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(f){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=f)}}a.exports={WebGLKernelValueBoolean:b}},{"../../../utils":114,"./index":59}],45:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueHTMLImage:y}=i("./html-image");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){const{width:c,height:s}=f;this.checkSize(c,s),this.dimensions=[c,s,1],this.textureSize=[c,s],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicHTMLImage:b}},{"../../../utils":114,"./html-image":57}],46:[function(i,a,w){const{WebGLKernelValueDynamicHTMLImage:g}=i("./dynamic-html-image");class y extends g{}a.exports={WebGLKernelValueDynamicHTMLVideo:y}},{"./dynamic-html-image":45}],47:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:y}=i("./memory-optimized-number-texture");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.dimensions=f.dimensions,this.checkSize(f.size[0],f.size[1]),this.textureSize=f.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:b}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueNumberTexture:y}=i("./number-texture");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.dimensions=f.dimensions,this.checkSize(f.size[0],f.size[1]),this.textureSize=f.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicNumberTexture:b}},{"../../../utils":114,"./number-texture":62}],49:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray:y}=i("./single-array");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.dimensions=g.getDimensions(f,!0),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicSingleArray:b}},{"../../../utils":114,"./single-array":63}],50:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray1DI:y}=i("./single-array1d-i");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.setShape(f),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicSingleArray1DI:b}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray2DI:y}=i("./single-array2d-i");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.setShape(f),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicSingleArray2DI:b}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray3DI:y}=i("./single-array3d-i");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.setShape(f),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicSingleArray3DI:b}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleInput:y}=i("./single-input");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){let[c,s,o]=f.size;this.dimensions=new Int32Array([c||1,s||1,o||1]),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicSingleInput:b}},{"../../../utils":114,"./single-input":67}],54:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedArray:y}=i("./unsigned-array");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){this.dimensions=g.getDimensions(f,!0),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const c=this.getTransferArrayType(f);this.preUploadValue=new c(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicUnsignedArray:b}},{"../../../utils":114,"./unsigned-array":68}],55:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedInput:y}=i("./unsigned-input");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(f){let[c,s,o]=f.size;this.dimensions=new Int32Array([c||1,s||1,o||1]),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const u=this.getTransferArrayType(f.value);this.preUploadValue=new u(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGLKernelValueDynamicUnsignedInput:b}},{"../../../utils":114,"./unsigned-input":69}],56:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValue:y}=i("./index");class b extends y{constructor(f,c){super(f,c),this.uploadValue=f}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(f){return this.origin==="constants"?Number.isInteger(f)?`const float ${this.id} = ${f}.0;
`:`const float ${this.id} = ${f};
`:`uniform float ${this.id};
`}updateValue(f){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=f)}}a.exports={WebGLKernelValueFloat:b}},{"../../../utils":114,"./index":59}],57:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c);const{width:s,height:o}=f;this.checkSize(s,o),this.dimensions=[s,o,1],this.textureSize=[s,o],this.uploadValue=f}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue=f),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueHTMLImage:b}},{"../../../utils":114,"./array":40}],58:[function(i,a,w){const{WebGLKernelValueHTMLImage:g}=i("./html-image");class y extends g{}a.exports={WebGLKernelValueHTMLVideo:y}},{"./html-image":57}],59:[function(i,a,w){const{utils:g}=i("../../../utils"),{KernelValue:y}=i("../../kernel-value");class b extends y{constructor(f,c){super(f,c),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=f.constructor,this.onRequestTexture=c.onRequestTexture,this.onRequestIndex=c.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${g.sanitizeName(this.name)}`}setup(){}getTransferArrayType(f){if(Array.isArray(f[0]))return this.getTransferArrayType(f[0]);switch(f.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return f.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),f.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}a.exports={WebGLKernelValue:b}},{"../../../utils":114,"../../kernel-value":35}],60:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValue:y}=i("./index");class b extends y{constructor(f,c){super(f,c),this.uploadValue=f}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(f){return this.origin==="constants"?`const int ${this.id} = ${parseInt(f)};
`:`uniform int ${this.id};
`}updateValue(f){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=f)}}a.exports={WebGLKernelValueInteger:b}},{"../../../utils":114,"./index":59}],61:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array"),b="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class d extends y{constructor(c,s){super(c,s);const[o,u]=c.size;this.checkSize(o,u),this.dimensions=c.dimensions,this.textureSize=c.size,this.uploadValue=c.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(c){if(c.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(c.constructor);return}if(this.checkContext&&c.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:s,context:o}=this;if(s.pipeline)if(s.immutable)s.updateTextureArgumentRefs(this,c);else{if(s.texture&&s.texture.texture===c.texture)throw new Error(b);if(s.mappedTextures){const{mappedTextures:u}=s;for(let h=0;h<u.length;h++)if(u[h].texture===c.texture)throw new Error(b)}}o.activeTexture(this.contextHandle),o.bindTexture(o.TEXTURE_2D,this.uploadValue=c.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueMemoryOptimizedNumberTexture:d,sameError:b}},{"../../../utils":114,"./array":40}],62:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array"),{sameError:b}=i("./memory-optimized-number-texture");class d extends y{constructor(c,s){super(c,s);const[o,u]=c.size;this.checkSize(o,u);const{size:h,dimensions:m}=c;this.bitRatio=this.getBitRatio(c),this.dimensions=m,this.textureSize=h,this.uploadValue=c.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(c){if(c.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(c.constructor);return}if(this.checkContext&&c.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:s,context:o}=this;if(s.pipeline)if(s.immutable)s.updateTextureArgumentRefs(this,c);else{if(s.texture&&s.texture.texture===c.texture)throw new Error(b);if(s.mappedTextures){const{mappedTextures:u}=s;for(let h=0;h<u.length;h++)if(u[h].texture===c.texture)throw new Error(b)}}o.activeTexture(this.contextHandle),o.bindTexture(o.TEXTURE_2D,this.uploadValue=c.texture),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueNumberTexture:d}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=4,this.dimensions=g.getDimensions(f,!0),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray:b}},{"../../../utils":114,"./array":40}],64:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=4,this.setShape(f)}setShape(f){const c=g.getDimensions(f,!0);this.textureSize=g.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flatten2dArrayTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray1DI:b}},{"../../../utils":114,"./array":40}],65:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=4,this.setShape(f)}setShape(f){const c=g.getDimensions(f,!0);this.textureSize=g.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],c[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flatten3dArrayTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray2DI:b}},{"../../../utils":114,"./array":40}],66:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=4,this.setShape(f)}setShape(f){const c=g.getDimensions(f,!0);this.textureSize=g.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],c[2],c[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flatten4dArrayTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleArray3DI:b}},{"../../../utils":114,"./array":40}],67:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=4;let[s,o,u]=f.size;this.dimensions=new Int32Array([s||1,o||1,u||1]),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return g.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f.value,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueSingleInput:b}},{"../../../utils":114,"./array":40}],68:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=this.getBitRatio(f),this.dimensions=g.getDimensions(f,!0),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(f),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return g.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f,this.preUploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedArray:b}},{"../../../utils":114,"./array":40}],69:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("./array");class b extends y{constructor(f,c){super(f,c),this.bitRatio=this.getBitRatio(f);const[s,o,u]=f.size;this.dimensions=new Int32Array([s||1,o||1,u||1]),this.textureSize=g.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(f.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return g.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:c}=this;g.flattenTo(f.value,this.preUploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGLKernelValueUnsignedInput:b}},{"../../../utils":114,"./array":40}],70:[function(i,a,w){const{GLKernel:g}=i("../gl/kernel"),{FunctionBuilder:y}=i("../function-builder"),{WebGLFunctionNode:b}=i("./function-node"),{utils:d}=i("../../utils"),f=i("../../plugins/math-random-uniformly-distributed"),{fragmentShader:c}=i("./fragment-shader"),{vertexShader:s}=i("./vertex-shader"),{glKernelString:o}=i("../gl/kernel-string"),{lookupKernelValueType:u}=i("./kernel-value-maps");let h=null,m=null,v=null,T=null,x=null;const R=[f],k=[],C={};class S extends g{static get isSupported(){return h!==null||(this.setupFeatureChecks(),h=this.isContextMatch(v)),h}static setupFeatureChecks(){typeof document<"u"?m=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(m=new OffscreenCanvas(0,0)),m&&(v=m.getContext("webgl")||m.getContext("experimental-webgl"),!(!v||!v.getExtension)&&(T={OES_texture_float:v.getExtension("OES_texture_float"),OES_texture_float_linear:v.getExtension("OES_texture_float_linear"),OES_element_index_uint:v.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:v.getExtension("WEBGL_draw_buffers")},x=this.getFeatures()))}static isContextMatch(L){return typeof WebGLRenderingContext<"u"?L instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!T.OES_texture_float}static getIsDrawBuffers(){return!!T.WEBGL_draw_buffers}static getChannelCount(){return T.WEBGL_draw_buffers?v.getParameter(T.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return v.getParameter(v.MAX_TEXTURE_SIZE)}static lookupKernelValueType(L,A,$,O){return u(L,A,$,O)}static get testCanvas(){return m}static get testContext(){return v}static get features(){return x}static get fragmentShader(){return c}static get vertexShader(){return s}constructor(L,A){super(L,A),this.program=null,this.pipeline=A.pipeline,this.endianness=d.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(L.settings||A),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const L=document.createElement("canvas");return L.width=2,L.height=2,L}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const L={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",L)||this.canvas.getContext("experimental-webgl",L)}initPlugins(L){const A=[],{source:$}=this;if(typeof $=="string")for(let O=0;O<R.length;O++){const B=R[O];$.match(B.functionMatch)&&A.push(B)}else if(typeof $=="object"&&L.pluginNames)for(let O=0;O<R.length;O++){const B=R[O];L.pluginNames.some(F=>F===B.name)&&A.push(B)}return A}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(L){if(!this.validate){this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:A}=this.constructor;if(this.optimizeFloatMemory===!0&&!A.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!A.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&A.isTextureFloat&&(this.precision=A.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!A.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&A.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(L.length!==1)throw new Error("Auto output only supported for kernels with only one input");const $=d.getVariableType(L[0],this.strictIntegers);switch($){case"Array":this.output=d.getDimensions($);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=L[0].output;break;default:throw new Error("Auto output not supported for input type: "+$)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=d.clone(this.output);return}else this.precision===null&&A.isTextureFloat&&(this.precision="single");this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:L,canvas:A}=this;if(this.maxTexSize===null){let $=k.indexOf(A);$===-1&&($=k.length,k.push(A),C[$]=[L[0],L[1]]),this.maxTexSize=C[$]}this.maxTexSize[0]<L[0]&&(this.maxTexSize[0]=L[0]),this.maxTexSize[1]<L[1]&&(this.maxTexSize[1]=L[1])}setupArguments(L){this.kernelArguments=[],this.argumentTextureCount=0;const A=this.argumentTypes===null;if(A&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],L.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(L.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:$}=this;let O=0;const B=()=>this.createTexture(),z=()=>this.constantTextureCount+O++,F=U=>{this.switchKernels({type:"argumentMismatch",needed:U})},V=()=>$.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let U=0;U<L.length;U++){const q=L[U],K=this.argumentNames[U];let Q;A?(Q=d.getVariableType(q,this.strictIntegers),this.argumentTypes.push(Q)):Q=this.argumentTypes[U];const X=this.constructor.lookupKernelValueType(Q,this.dynamicArguments?"dynamic":"static",this.precision,L[U]);if(X===null)return this.requestFallback(L);const te=new X(q,{name:K,type:Q,tactic:this.tactic,origin:"user",context:$,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:B,onRequestIndex:z,onUpdateValueMismatch:F,onRequestContextHandle:V});this.kernelArguments.push(te),te.setup(),this.argumentSizes.push(te.textureSize),this.argumentBitRatios[U]=te.bitRatio}}createTexture(){const L=this.context.createTexture();return this.textureCache.push(L),L}setupConstants(L){const{context:A}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let $=this.constantTypes===null;$&&(this.constantTypes={}),this.constantBitRatios={};let O=0;for(const B in this.constants){const z=this.constants[B];let F;$?(F=d.getVariableType(z,this.strictIntegers),this.constantTypes[B]=F):F=this.constantTypes[B];const V=this.constructor.lookupKernelValueType(F,"static",this.precision,z);if(V===null)return this.requestFallback(L);const U=new V(z,{name:B,type:F,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>O++,onRequestContextHandle:()=>A.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[B]=U.bitRatio,this.kernelConstants.push(U),U.setup(),U.forceUploadEachRun&&this.forceUploadKernelConstants.push(U)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const L=this.pickRenderStrategy(arguments);if(L)return L;const{texSize:A,context:$,canvas:O}=this;$.enable($.SCISSOR_TEST),this.pipeline&&this.precision==="single"?($.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),O.width=this.maxTexSize[0],O.height=this.maxTexSize[1]):($.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),O.width=this.maxTexSize[0],O.height=this.maxTexSize[1]);const B=this.threadDim=Array.from(this.output);for(;B.length<3;)B.push(1);const z=this.getVertexShader(arguments),F=$.createShader($.VERTEX_SHADER);$.shaderSource(F,z),$.compileShader(F),this.vertShader=F;const V=this.getFragmentShader(arguments),U=$.createShader($.FRAGMENT_SHADER);if($.shaderSource(U,V),$.compileShader(U),this.fragShader=U,this.debug&&(console.log("GLSL Shader Output:"),console.log(V)),!$.getShaderParameter(F,$.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+$.getShaderInfoLog(F));if(!$.getShaderParameter(U,$.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+$.getShaderInfoLog(U));const q=this.program=$.createProgram();$.attachShader(q,F),$.attachShader(q,U),$.linkProgram(q),this.framebuffer=$.createFramebuffer(),this.framebuffer.width=A[0],this.framebuffer.height=A[1],this.rawValueFramebuffers={};const K=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Q=new Float32Array([0,0,1,0,0,1,1,1]),X=K.byteLength;let te=this.buffer;te?$.bindBuffer($.ARRAY_BUFFER,te):(te=this.buffer=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,te),$.bufferData($.ARRAY_BUFFER,K.byteLength+Q.byteLength,$.STATIC_DRAW)),$.bufferSubData($.ARRAY_BUFFER,0,K),$.bufferSubData($.ARRAY_BUFFER,X,Q);const se=$.getAttribLocation(this.program,"aPos");$.enableVertexAttribArray(se),$.vertexAttribPointer(se,2,$.FLOAT,!1,0,0);const J=$.getAttribLocation(this.program,"aTexCoord");$.enableVertexAttribArray(J),$.vertexAttribPointer(J,2,$.FLOAT,!1,0,X),$.bindFramebuffer($.FRAMEBUFFER,this.framebuffer);let le=0;$.useProgram(this.program);for(let ce in this.constants)this.kernelConstants[le++].updateValue(this.constants[ce]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const L=y.fromKernel(this,b,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=L.getPrototypeString("kernel"),this.setupReturnTypes(L)}setupReturnTypes(L){if(!this.graphical&&!this.returnType&&(this.returnType=L.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let A=0;A<this.subKernels.length;A++){const $=this.subKernels[A];$.returnType||($.returnType=L.getSubKernelResultType(A))}}run(){const{kernelArguments:L,texSize:A,forceUploadKernelConstants:$,context:O}=this;O.useProgram(this.program),O.scissor(0,0,A[0],A[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",A)),this.setUniform2f("ratio",A[0]/this.maxTexSize[0],A[1]/this.maxTexSize[1]);for(let B=0;B<$.length;B++){const z=$[B];if(z.updateValue(this.constants[z.name]),this.switchingKernels)return}for(let B=0;B<L.length;B++)if(L[B].updateValue(arguments[B]),this.switchingKernels)return;if(this.plugins)for(let B=0;B<this.plugins.length;B++){const z=this.plugins[B];z.onBeforeRun&&z.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return O.bindRenderbuffer(O.RENDERBUFFER,null),O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),O.drawArrays(O.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;O.bindRenderbuffer(O.RENDERBUFFER,null),O.bindFramebuffer(O.FRAMEBUFFER,null),O.drawArrays(O.TRIANGLE_STRIP,0,4);return}O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),O.drawArrays(O.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:L}=this;switch(this.getInternalFormat()){case L.RGBA:return L.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const L=this.context;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const L=this.context,A=this.texSize;if(this.texture){L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,this.texture.texture,0);return}const $=this.createTexture();L.activeTexture(L.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),L.bindTexture(L.TEXTURE_2D,$),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);const O=this.getInternalFormat();this.precision==="single"?L.texImage2D(L.TEXTURE_2D,0,O,A[0],A[1],0,L.RGBA,L.FLOAT,null):L.texImage2D(L.TEXTURE_2D,0,O,A[0],A[1],0,O,L.UNSIGNED_BYTE,null),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,$,0),this.texture=new this.TextureConstructor({texture:$,size:A,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const L=this.context;for(let A=0;A<this.mappedTextures.length;A++){const $=this.mappedTextures[A];($.beforeMutate()||this._mappedTextureSwitched[A])&&(L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0+A+1,L.TEXTURE_2D,$.texture,0),this._mappedTextureSwitched[A]=!1)}}_setupSubOutputTextures(){const L=this.context;if(this.mappedTextures){for(let $=0;$<this.subKernels.length;$++)L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0+$+1,L.TEXTURE_2D,this.mappedTextures[$].texture,0);return}const A=this.texSize;this.drawBuffersMap=[L.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let $=0;$<this.subKernels.length;$++){const O=this.createTexture();this.drawBuffersMap.push(L.COLOR_ATTACHMENT0+$+1),L.activeTexture(L.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+$),L.bindTexture(L.TEXTURE_2D,O),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),this.precision==="single"?L.texImage2D(L.TEXTURE_2D,0,L.RGBA,A[0],A[1],0,L.RGBA,L.FLOAT,null):L.texImage2D(L.TEXTURE_2D,0,L.RGBA,A[0],A[1],0,L.RGBA,L.UNSIGNED_BYTE,null),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0+$+1,L.TEXTURE_2D,O,0),this.mappedTextures.push(new this.TextureConstructor({texture:O,size:A,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(L,A){if(this.uniform1fCache.hasOwnProperty(L)){const O=this.uniform1fCache[L];if(A===O)return}this.uniform1fCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform1f($,A)}setUniform1i(L,A){if(this.uniform1iCache.hasOwnProperty(L)){const O=this.uniform1iCache[L];if(A===O)return}this.uniform1iCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform1i($,A)}setUniform2f(L,A,$){if(this.uniform2fCache.hasOwnProperty(L)){const B=this.uniform2fCache[L];if(A===B[0]&&$===B[1])return}this.uniform2fCache[L]=[A,$];const O=this.getUniformLocation(L);this.context.uniform2f(O,A,$)}setUniform2fv(L,A){if(this.uniform2fvCache.hasOwnProperty(L)){const O=this.uniform2fvCache[L];if(A[0]===O[0]&&A[1]===O[1])return}this.uniform2fvCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform2fv($,A)}setUniform2iv(L,A){if(this.uniform2ivCache.hasOwnProperty(L)){const O=this.uniform2ivCache[L];if(A[0]===O[0]&&A[1]===O[1])return}this.uniform2ivCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform2iv($,A)}setUniform3fv(L,A){if(this.uniform3fvCache.hasOwnProperty(L)){const O=this.uniform3fvCache[L];if(A[0]===O[0]&&A[1]===O[1]&&A[2]===O[2])return}this.uniform3fvCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform3fv($,A)}setUniform3iv(L,A){if(this.uniform3ivCache.hasOwnProperty(L)){const O=this.uniform3ivCache[L];if(A[0]===O[0]&&A[1]===O[1]&&A[2]===O[2])return}this.uniform3ivCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform3iv($,A)}setUniform4fv(L,A){if(this.uniform4fvCache.hasOwnProperty(L)){const O=this.uniform4fvCache[L];if(A[0]===O[0]&&A[1]===O[1]&&A[2]===O[2]&&A[3]===O[3])return}this.uniform4fvCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform4fv($,A)}setUniform4iv(L,A){if(this.uniform4ivCache.hasOwnProperty(L)){const O=this.uniform4ivCache[L];if(A[0]===O[0]&&A[1]===O[1]&&A[2]===O[2]&&A[3]===O[3])return}this.uniform4ivCache[L]=A;const $=this.getUniformLocation(L);this.context.uniform4iv($,A)}getUniformLocation(L){return this.programUniformLocationCache.hasOwnProperty(L)?this.programUniformLocationCache[L]:this.programUniformLocationCache[L]=this.context.getUniformLocation(this.program,L)}_getFragShaderArtifactMap(L){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(L),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(L){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(L=>L.source&&this.source.match(L.functionMatch)?L.source:"").join(`
`):`
`}_getConstantsString(){const L=[],{threadDim:A,texSize:$}=this;return this.dynamicOutput?L.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):L.push(`ivec3 uOutputDim = ivec3(${A[0]}, ${A[1]}, ${A[2]})`,`ivec2 uTexSize = ivec2(${$[0]}, ${$[1]})`),d.linesToString(L)}_getTextureCoordinate(){const L=this.subKernels;return L===null||L.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(L){const A=[],{argumentNames:$}=this;for(let O=0;O<$.length;O++)A.push(this.kernelArguments[O].getSource(L[O]));return A.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const L=[],{constants:A}=this;if(A){let $=0;for(const O in A)this.constants.hasOwnProperty(O)&&L.push(this.kernelConstants[$++].getSource(this.constants[O]))}return L.join("")}getRawValueFramebuffer(L,A){if(this.rawValueFramebuffers[L]||(this.rawValueFramebuffers[L]={}),!this.rawValueFramebuffers[L][A]){const $=this.context.createFramebuffer();$.width=L,$.height=A,this.rawValueFramebuffers[L][A]=$}return this.rawValueFramebuffers[L][A]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const L=[this.getKernelResultDeclaration()],{subKernels:A}=this;if(A!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let $=0;$<A.length;$++){const O=A[$];L.push(O.returnType==="Integer"?`int subKernelResult_${O.name} = 0`:`float subKernelResult_${O.name} = 0.0`)}break;case"Array(2)":for(let $=0;$<A.length;$++)L.push(`vec2 subKernelResult_${A[$].name}`);break;case"Array(3)":for(let $=0;$<A.length;$++)L.push(`vec3 subKernelResult_${A[$].name}`);break;case"Array(4)":for(let $=0;$<A.length;$++)L.push(`vec4 subKernelResult_${A[$].name}`);break}return d.linesToString(L)+this.translatedSource}getMainResultGraphical(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const L=[];if(!this.subKernels)return"";for(let A=0;A<this.subKernels.length;A++)this.subKernels[A].returnType==="Integer"?L.push(`  gl_FragData[${A+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[A].name}))`):L.push(`  gl_FragData[${A+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[A].name})`);return d.linesToString(L)}getMainResultMemoryOptimizedFloats(){const L=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const A=["r","g","b","a"];for(let $=0;$<A.length;$++){const O=A[$];this.getMainResultKernelMemoryOptimizedFloats(L,O),this.getMainResultSubKernelMemoryOptimizedFloats(L,O),$+1<A.length&&L.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return d.linesToString(L)}getMainResultKernelMemoryOptimizedFloats(L,A){L.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${A} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(L,A){if(!this.subKernels)return L;for(let $=0;$<this.subKernels.length;$++)this.subKernels[$].returnType==="Integer"?L.push(`  gl_FragData[${$+1}].${A} = float(subKernelResult_${this.subKernels[$].name})`):L.push(`  gl_FragData[${$+1}].${A} = subKernelResult_${this.subKernels[$].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const L=[];if(!this.subKernels)return L;for(let A=0;A<this.subKernels.length;++A){const $=this.subKernels[A];$.returnType==="Integer"?L.push(`  gl_FragData[${A+1}][0] = float(subKernelResult_${$.name})`):L.push(`  gl_FragData[${A+1}][0] = subKernelResult_${$.name}`)}return L}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const L=[];if(!this.subKernels)return L;for(let A=0;A<this.subKernels.length;++A)L.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`);return L}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const L=[];if(!this.subKernels)return L;for(let A=0;A<this.subKernels.length;++A)L.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`,`  gl_FragData[${A+1}][2] = subKernelResult_${this.subKernels[A].name}[2]`);return L}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const L=[];if(!this.subKernels)return L;switch(this.returnType){case"Number":case"Float":case"Integer":for(let A=0;A<this.subKernels.length;++A)this.subKernels[A].returnType==="Integer"?L.push(`  gl_FragData[${A+1}] = float(subKernelResult_${this.subKernels[A].name})`):L.push(`  gl_FragData[${A+1}] = subKernelResult_${this.subKernels[A].name}`);break;case"Array(2)":for(let A=0;A<this.subKernels.length;++A)L.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`);break;case"Array(3)":for(let A=0;A<this.subKernels.length;++A)L.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`,`  gl_FragData[${A+1}][2] = subKernelResult_${this.subKernels[A].name}[2]`);break;case"Array(4)":for(let A=0;A<this.subKernels.length;++A)L.push(`  gl_FragData[${A+1}][0] = subKernelResult_${this.subKernels[A].name}[0]`,`  gl_FragData[${A+1}][1] = subKernelResult_${this.subKernels[A].name}[1]`,`  gl_FragData[${A+1}][2] = subKernelResult_${this.subKernels[A].name}[2]`,`  gl_FragData[${A+1}][3] = subKernelResult_${this.subKernels[A].name}[3]`);break}return L}replaceArtifacts(L,A){return L.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,($,O)=>{if(A.hasOwnProperty(O))return A[O];throw`unhandled artifact ${O}`})}getFragmentShader(L){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(L))}getVertexShader(L){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(L))}toString(){const L=d.linesToString(["const gl = context"]);return o(this.constructor,arguments,this,L)}destroy(L){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const $ in this.rawValueFramebuffers){for(const O in this.rawValueFramebuffers[$])this.context.deleteFramebuffer(this.rawValueFramebuffers[$][O]),delete this.rawValueFramebuffers[$][O];delete this.rawValueFramebuffers[$]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const $=this.textureCache.indexOf(this.texture.texture);$>-1&&this.textureCache.splice($,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let $=0;$<this.mappedTextures.length;$++){const O=this.mappedTextures[$];O.delete();const B=this.textureCache.indexOf(O.texture);B>-1&&this.textureCache.splice(B,1)}this.mappedTextures=null}if(this.kernelArguments)for(let $=0;$<this.kernelArguments.length;$++)this.kernelArguments[$].destroy();if(this.kernelConstants)for(let $=0;$<this.kernelConstants.length;$++)this.kernelConstants[$].destroy();for(;this.textureCache.length>0;){const $=this.textureCache.pop();this.context.deleteTexture($)}if(L){const $=k.indexOf(this.canvas);$>=0&&(k[$]=null,C[$]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const A=this.gpu.kernels.indexOf(this);A!==-1&&this.gpu.kernels.splice(A,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(L){const A=L.getExtension("WEBGL_lose_context");A&&A.loseContext()}toJSON(){const L=super.toJSON();return L.functionNodes=y.fromKernel(this,b).toJSON(),L.settings.threadDim=this.threadDim,L}}a.exports={WebGLKernel:S}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(i,a,w){const g=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:g}},{}],72:[function(i,a,w){const g=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;a.exports={fragmentShader:g}},{}],73:[function(i,a,w){const{utils:g}=i("../../utils"),{WebGLFunctionNode:y}=i("../web-gl/function-node");class b extends y{astIdentifierExpression(f,c){if(f.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",f);const s=this.getType(f),o=g.sanitizeName(f.name);return f.name==="Infinity"?c.push("intBitsToFloat(2139095039)"):s==="Boolean"?this.argumentNames.indexOf(o)>-1?c.push(`bool(user_${o})`):c.push(`user_${o}`):c.push(`user_${o}`),c}}a.exports={WebGL2FunctionNode:b}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(i,a,w){const{WebGL2KernelValueBoolean:g}=i("./kernel-value/boolean"),{WebGL2KernelValueFloat:y}=i("./kernel-value/float"),{WebGL2KernelValueInteger:b}=i("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:d}=i("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:f}=i("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:c}=i("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:s}=i("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:o}=i("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:u}=i("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:h}=i("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:m}=i("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:v}=i("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:T}=i("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:x}=i("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:R}=i("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:k}=i("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:C}=i("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:S}=i("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:N}=i("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:L}=i("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:A}=i("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:$}=i("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:O}=i("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:B}=i("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:z}=i("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:F}=i("./kernel-value/array2"),{WebGL2KernelValueArray3:V}=i("./kernel-value/array3"),{WebGL2KernelValueArray4:U}=i("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:q}=i("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:K}=i("./kernel-value/dynamic-unsigned-array"),Q={unsigned:{dynamic:{Boolean:g,Integer:b,Float:y,Array:K,"Array(2)":F,"Array(3)":V,"Array(4)":U,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:T,NumberTexture:C,"ArrayTexture(1)":C,"ArrayTexture(2)":C,"ArrayTexture(3)":C,"ArrayTexture(4)":C,MemoryOptimizedNumberTexture:R,HTMLCanvas:f,OffscreenCanvas:f,HTMLImage:f,ImageBitmap:f,ImageData:f,HTMLImageArray:s,HTMLVideo:u},static:{Boolean:g,Float:y,Integer:b,Array:q,"Array(2)":F,"Array(3)":V,"Array(4)":U,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:v,NumberTexture:k,"ArrayTexture(1)":k,"ArrayTexture(2)":k,"ArrayTexture(3)":k,"ArrayTexture(4)":k,MemoryOptimizedNumberTexture:R,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:c,HTMLVideo:o}},single:{dynamic:{Boolean:g,Integer:b,Float:y,Array:N,"Array(2)":F,"Array(3)":V,"Array(4)":U,"Array1D(2)":A,"Array1D(3)":A,"Array1D(4)":A,"Array2D(2)":O,"Array2D(3)":O,"Array2D(4)":O,"Array3D(2)":z,"Array3D(3)":z,"Array3D(4)":z,Input:m,NumberTexture:C,"ArrayTexture(1)":C,"ArrayTexture(2)":C,"ArrayTexture(3)":C,"ArrayTexture(4)":C,MemoryOptimizedNumberTexture:R,HTMLCanvas:f,OffscreenCanvas:f,HTMLImage:f,ImageBitmap:f,ImageData:f,HTMLImageArray:s,HTMLVideo:u},static:{Boolean:g,Float:y,Integer:b,Array:S,"Array(2)":F,"Array(3)":V,"Array(4)":U,"Array1D(2)":L,"Array1D(3)":L,"Array1D(4)":L,"Array2D(2)":$,"Array2D(3)":$,"Array2D(4)":$,"Array3D(2)":B,"Array3D(3)":B,"Array3D(4)":B,Input:h,NumberTexture:k,"ArrayTexture(1)":k,"ArrayTexture(2)":k,"ArrayTexture(3)":k,"ArrayTexture(4)":k,MemoryOptimizedNumberTexture:x,HTMLCanvas:d,OffscreenCanvas:d,HTMLImage:d,ImageBitmap:d,ImageData:d,HTMLImageArray:c,HTMLVideo:o}}};function X(te,se,J,le){if(!te)throw new Error("type missing");if(!se)throw new Error("dynamic missing");if(!J)throw new Error("precision missing");le.type&&(te=le.type);const ce=Q[J][se];if(ce[te]===!1)return null;if(ce[te]===void 0)throw new Error(`Could not find a KernelValue for ${te}`);return ce[te]}a.exports={kernelValueMaps:Q,lookupKernelValueType:X}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(i,a,w){const{WebGLKernelValueArray2:g}=i("../../web-gl/kernel-value/array2");class y extends g{}a.exports={WebGL2KernelValueArray2:y}},{"../../web-gl/kernel-value/array2":41}],76:[function(i,a,w){const{WebGLKernelValueArray3:g}=i("../../web-gl/kernel-value/array3");class y extends g{}a.exports={WebGL2KernelValueArray3:y}},{"../../web-gl/kernel-value/array3":42}],77:[function(i,a,w){const{WebGLKernelValueArray4:g}=i("../../web-gl/kernel-value/array4");class y extends g{}a.exports={WebGL2KernelValueArray4:y}},{"../../web-gl/kernel-value/array4":43}],78:[function(i,a,w){const{WebGLKernelValueBoolean:g}=i("../../web-gl/kernel-value/boolean");class y extends g{}a.exports={WebGL2KernelValueBoolean:y}},{"../../web-gl/kernel-value/boolean":44}],79:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueHTMLImageArray:y}=i("./html-image-array");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2DArray ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}updateValue(f){const{width:c,height:s}=f[0];this.checkSize(c,s),this.dimensions=[c,s,f.length],this.textureSize=[c,s],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGL2KernelValueDynamicHTMLImageArray:b}},{"../../../utils":114,"./html-image-array":92}],80:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicHTMLImage:y}=i("../../web-gl/kernel-value/dynamic-html-image");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicHTMLImage:b}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueDynamicHTMLImage:y}=i("./dynamic-html-image");class b extends y{}a.exports={WebGL2KernelValueDynamicHTMLVideo:b}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:y}=i("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class b extends y{getSource(){return g.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:b}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicNumberTexture:y}=i("../../web-gl/kernel-value/dynamic-number-texture");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicNumberTexture:b}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray:y}=i("../../web-gl2/kernel-value/single-array");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}updateValue(f){this.dimensions=g.getDimensions(f,!0),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGL2KernelValueDynamicSingleArray:b}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray1DI:y}=i("../../web-gl2/kernel-value/single-array1d-i");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}updateValue(f){this.setShape(f),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGL2KernelValueDynamicSingleArray1DI:b}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray2DI:y}=i("../../web-gl2/kernel-value/single-array2d-i");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}updateValue(f){this.setShape(f),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGL2KernelValueDynamicSingleArray2DI:b}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleArray3DI:y}=i("../../web-gl2/kernel-value/single-array3d-i");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}updateValue(f){this.setShape(f),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGL2KernelValueDynamicSingleArray3DI:b}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueSingleInput:y}=i("../../web-gl2/kernel-value/single-input");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}updateValue(f){let[c,s,o]=f.size;this.dimensions=new Int32Array([c||1,s||1,o||1]),this.textureSize=g.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(f)}}a.exports={WebGL2KernelValueDynamicSingleInput:b}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:y}=i("../../web-gl/kernel-value/dynamic-unsigned-array");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedArray:b}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:y}=i("../../web-gl/kernel-value/dynamic-unsigned-input");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`uniform ${f} ivec2 ${this.sizeId}`,`uniform ${f} ivec3 ${this.dimensionsId}`])}}a.exports={WebGL2KernelValueDynamicUnsignedInput:b}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueFloat:y}=i("../../web-gl/kernel-value/float");class b extends y{}a.exports={WebGL2KernelValueFloat:b}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelArray:y}=i("../../web-gl/kernel-value/array");class b extends y{constructor(f,c){super(f,c),this.checkSize(f[0].width,f[0].height),this.dimensions=[f[0].width,f[0].height,f.length],this.textureSize=[f[0].width,f[0].height]}defineTexture(){const{context:f}=this;f.activeTexture(this.contextHandle),f.bindTexture(f.TEXTURE_2D_ARRAY,this.texture),f.texParameteri(f.TEXTURE_2D_ARRAY,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D_ARRAY,f.TEXTURE_MIN_FILTER,f.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2DArray ${this.id}`,`${f} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${f} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){const{context:c}=this;c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D_ARRAY,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage3D(c.TEXTURE_2D_ARRAY,0,c.RGBA,f[0].width,f[0].height,f.length,0,c.RGBA,c.UNSIGNED_BYTE,null);for(let s=0;s<f.length;s++)c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,s,f[s].width,f[s].height,1,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue=f[s]);this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueHTMLImageArray:b}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueHTMLImage:y}=i("../../web-gl/kernel-value/html-image");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`${f} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${f} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueHTMLImage:b}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGL2KernelValueHTMLImage:y}=i("./html-image");class b extends y{}a.exports={WebGL2KernelValueHTMLVideo:b}},{"../../../utils":114,"./html-image":93}],95:[function(i,a,w){const{WebGLKernelValueInteger:g}=i("../../web-gl/kernel-value/integer");class y extends g{getSource(d){const f=this.getVariablePrecisionString();return this.origin==="constants"?`const ${f} int ${this.id} = ${parseInt(d)};
`:`uniform ${f} int ${this.id};
`}updateValue(d){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=d)}}a.exports={WebGL2KernelValueInteger:y}},{"../../web-gl/kernel-value/integer":60}],96:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:y}=i("../../web-gl/kernel-value/memory-optimized-number-texture");class b extends y{getSource(){const{id:f,sizeId:c,textureSize:s,dimensionsId:o,dimensions:u}=this,h=this.getVariablePrecisionString();return g.linesToString([`uniform sampler2D ${f}`,`${h} ivec2 ${c} = ivec2(${s[0]}, ${s[1]})`,`${h} ivec3 ${o} = ivec3(${u[0]}, ${u[1]}, ${u[2]})`])}}a.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:b}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueNumberTexture:y}=i("../../web-gl/kernel-value/number-texture");class b extends y{getSource(){const{id:f,sizeId:c,textureSize:s,dimensionsId:o,dimensions:u}=this,h=this.getVariablePrecisionString();return g.linesToString([`uniform ${h} sampler2D ${f}`,`${h} ivec2 ${c} = ivec2(${s[0]}, ${s[1]})`,`${h} ivec3 ${o} = ivec3(${u[0]}, ${u[1]}, ${u[2]})`])}}a.exports={WebGL2KernelValueNumberTexture:b}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray:y}=i("../../web-gl/kernel-value/single-array");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`${f} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${f} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray:b}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray1DI:y}=i("../../web-gl/kernel-value/single-array1d-i");class b extends y{updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray1DI:b}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray2DI:y}=i("../../web-gl/kernel-value/single-array2d-i");class b extends y{updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray2DI:b}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleArray3DI:y}=i("../../web-gl/kernel-value/single-array3d-i");class b extends y{updateValue(f){if(f.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(f.constructor);return}const{context:c}=this;g.flattenTo(f,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleArray3DI:b}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueSingleInput:y}=i("../../web-gl/kernel-value/single-input");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`${f} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${f} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(f){const{context:c}=this;g.flattenTo(f.value,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}a.exports={WebGL2KernelValueSingleInput:b}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedArray:y}=i("../../web-gl/kernel-value/unsigned-array");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`${f} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${f} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedArray:b}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(i,a,w){const{utils:g}=i("../../../utils"),{WebGLKernelValueUnsignedInput:y}=i("../../web-gl/kernel-value/unsigned-input");class b extends y{getSource(){const f=this.getVariablePrecisionString();return g.linesToString([`uniform ${f} sampler2D ${this.id}`,`${f} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${f} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}a.exports={WebGL2KernelValueUnsignedInput:b}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(i,a,w){const{WebGLKernel:g}=i("../web-gl/kernel"),{WebGL2FunctionNode:y}=i("./function-node"),{FunctionBuilder:b}=i("../function-builder"),{utils:d}=i("../../utils"),{fragmentShader:f}=i("./fragment-shader"),{vertexShader:c}=i("./vertex-shader"),{lookupKernelValueType:s}=i("./kernel-value-maps");let o=null,u=null,h=null,m=null;class v extends g{static get isSupported(){return o!==null||(this.setupFeatureChecks(),o=this.isContextMatch(h)),o}static setupFeatureChecks(){typeof document<"u"?u=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(u=new OffscreenCanvas(0,0)),u&&(h=u.getContext("webgl2"),!(!h||!h.getExtension)&&(h.getExtension("EXT_color_buffer_float"),h.getExtension("OES_texture_float_linear"),m=this.getFeatures()))}static isContextMatch(x){return typeof WebGL2RenderingContext<"u"?x instanceof WebGL2RenderingContext:!1}static getFeatures(){const x=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.LOW_INT),lowFloatPrecision:x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.LOW_FLOAT),mediumIntPrecision:x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.MEDIUM_INT),mediumFloatPrecision:x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.MEDIUM_FLOAT),highIntPrecision:x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.HIGH_INT),highFloatPrecision:x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return h.getParameter(h.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return h.getParameter(h.MAX_TEXTURE_SIZE)}static lookupKernelValueType(x,R,k,C){return s(x,R,k,C)}static get testCanvas(){return u}static get testContext(){return h}static get features(){return m}static get fragmentShader(){return f}static get vertexShader(){return c}initContext(){const x={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",x)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(x){if(!this.validate){this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:R}=this.constructor;if(this.precision==="single"&&!R.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=R.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!R.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&R.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(x.length!==1)throw new Error("Auto output only supported for kernels with only one input");const k=d.getVariableType(x[0],this.strictIntegers);switch(k){case"Array":this.output=d.getDimensions(k);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=x[0].output;break;default:throw new Error("Auto output not supported for input type: "+k)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=d.clone(this.output);return}else!this.graphical&&this.precision===null&&R.isTextureFloat&&(this.precision="single");this.texSize=d.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const x=b.fromKernel(this,y,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=x.getPrototypeString("kernel"),this.setupReturnTypes(x)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:x}=this;switch(this.getInternalFormat()){case x.R32F:return x.RED;case x.RG32F:return x.RG;case x.RGBA32F:return x.RGBA;case x.RGBA:return x.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:x}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?x.RGBA32F:x.R32F;case"Array(2)":return x.RG32F;case"Array(3)":case"Array(4)":return x.RGBA32F;default:throw new Error("Unhandled return type")}return x.RGBA32F}return x.RGBA}_setupOutputTexture(){const x=this.context;if(this.texture){x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,this.texture.texture,0);return}x.bindFramebuffer(x.FRAMEBUFFER,this.framebuffer);const R=x.createTexture(),k=this.texSize;x.activeTexture(x.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),x.bindTexture(x.TEXTURE_2D,R),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.REPEAT),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.REPEAT),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);const C=this.getInternalFormat();this.precision==="single"?x.texStorage2D(x.TEXTURE_2D,1,C,k[0],k[1]):x.texImage2D(x.TEXTURE_2D,0,C,k[0],k[1],0,C,x.UNSIGNED_BYTE,null),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,R,0),this.texture=new this.TextureConstructor({texture:R,size:k,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const x=this.context;if(this.mappedTextures){for(let k=0;k<this.subKernels.length;k++)x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0+k+1,x.TEXTURE_2D,this.mappedTextures[k].texture,0);return}const R=this.texSize;this.drawBuffersMap=[x.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let k=0;k<this.subKernels.length;k++){const C=this.createTexture();this.drawBuffersMap.push(x.COLOR_ATTACHMENT0+k+1),x.activeTexture(x.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+k),x.bindTexture(x.TEXTURE_2D,C),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);const S=this.getInternalFormat();this.precision==="single"?x.texStorage2D(x.TEXTURE_2D,1,S,R[0],R[1]):x.texImage2D(x.TEXTURE_2D,0,x.RGBA,R[0],R[1],0,x.RGBA,x.UNSIGNED_BYTE,null),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0+k+1,x.TEXTURE_2D,C,0),this.mappedTextures.push(new this.TextureConstructor({texture:C,size:R,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const x=this.subKernels,R=this.getVariablePrecisionString(this.texSize,this.tactic);return x===null||x.length<1?`in ${R} vec2 vTexCoord;
`:`out ${R} vec2 vTexCoord;
`}_getMainArgumentsString(x){const R=[],k=this.argumentNames;for(let C=0;C<k.length;C++)R.push(this.kernelArguments[C].getSource(x[C]));return R.join("")}getKernelString(){const x=[this.getKernelResultDeclaration()],R=this.subKernels;if(R!==null)switch(x.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let k=0;k<R.length;k++){const C=R[k];x.push(C.returnType==="Integer"?`int subKernelResult_${C.name} = 0`:`float subKernelResult_${C.name} = 0.0`,`layout(location = ${k+1}) out vec4 data${k+1}`)}break;case"Array(2)":for(let k=0;k<R.length;k++)x.push(`vec2 subKernelResult_${R[k].name}`,`layout(location = ${k+1}) out vec4 data${k+1}`);break;case"Array(3)":for(let k=0;k<R.length;k++)x.push(`vec3 subKernelResult_${R[k].name}`,`layout(location = ${k+1}) out vec4 data${k+1}`);break;case"Array(4)":for(let k=0;k<R.length;k++)x.push(`vec4 subKernelResult_${R[k].name}`,`layout(location = ${k+1}) out vec4 data${k+1}`);break}else x.push("out vec4 data0");return d.linesToString(x)+this.translatedSource}getMainResultGraphical(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return d.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const x=[];if(!this.subKernels)return"";for(let R=0;R<this.subKernels.length;R++)this.subKernels[R].returnType==="Integer"?x.push(`  data${R+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[R].name}))`):x.push(`  data${R+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[R].name})`);return d.linesToString(x)}getMainResultKernelMemoryOptimizedFloats(x,R){x.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${R} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(x,R){if(!this.subKernels)return x;for(let k=0;k<this.subKernels.length;k++){const C=this.subKernels[k];C.returnType==="Integer"?x.push(`  data${k+1}.${R} = float(subKernelResult_${C.name})`):x.push(`  data${k+1}.${R} = subKernelResult_${C.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const x=[];if(!this.subKernels)return x;for(let R=0;R<this.subKernels.length;++R){const k=this.subKernels[R];k.returnType==="Integer"?x.push(`  data${R+1}[0] = float(subKernelResult_${k.name})`):x.push(`  data${R+1}[0] = subKernelResult_${k.name}`)}return x}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const x=[];if(!this.subKernels)return x;for(let R=0;R<this.subKernels.length;++R){const k=this.subKernels[R];x.push(`  data${R+1}[0] = subKernelResult_${k.name}[0]`,`  data${R+1}[1] = subKernelResult_${k.name}[1]`)}return x}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const x=[];if(!this.subKernels)return x;for(let R=0;R<this.subKernels.length;++R){const k=this.subKernels[R];x.push(`  data${R+1}[0] = subKernelResult_${k.name}[0]`,`  data${R+1}[1] = subKernelResult_${k.name}[1]`,`  data${R+1}[2] = subKernelResult_${k.name}[2]`)}return x}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const x=[];if(!this.subKernels)return x;for(let R=0;R<this.subKernels.length;++R)x.push(`  data${R+1} = subKernelResult_${this.subKernels[R].name}`);return x}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const x=super.toJSON();return x.functionNodes=b.fromKernel(this,y).toJSON(),x.settings.threadDim=this.threadDim,x}}a.exports={WebGL2Kernel:v}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(i,a,w){const g=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;a.exports={vertexShader:g}},{}],107:[function(i,a,w){const g=i("./index"),y=g.GPU;for(const d in g)g.hasOwnProperty(d)&&d!=="GPU"&&(y[d]=g[d]);typeof window<"u"&&b(window),typeof self<"u"&&b(self);function b(d){d.GPU||Object.defineProperty(d,"GPU",{get(){return y}})}a.exports=g},{"./index":109}],108:[function(i,a,w){const{gpuMock:g}=i("gpu-mock.js"),{utils:y}=i("./utils"),{Kernel:b}=i("./backend/kernel"),{CPUKernel:d}=i("./backend/cpu/kernel"),{HeadlessGLKernel:f}=i("./backend/headless-gl/kernel"),{WebGL2Kernel:c}=i("./backend/web-gl2/kernel"),{WebGLKernel:s}=i("./backend/web-gl/kernel"),{kernelRunShortcut:o}=i("./kernel-run-shortcut"),u=[f,c,s],h=["gpu","cpu"],m={headlessgl:f,webgl2:c,webgl:s};let v=!0;class T{static disableValidation(){v=!1}static enableValidation(){v=!0}static get isGPUSupported(){return u.some(k=>k.isSupported)}static get isKernelMapSupported(){return u.some(k=>k.isSupported&&k.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return s.isSupported}static get isWebGL2Supported(){return c.isSupported}static get isHeadlessGLSupported(){return f.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return c.isSupported}static get isSinglePrecisionSupported(){return u.some(k=>k.isSupported&&k.features.isFloatRead&&k.features.isTextureFloat)}constructor(k){if(k=k||{},this.canvas=k.canvas||null,this.context=k.context||null,this.mode=k.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),k.functions)for(let C=0;C<k.functions.length;C++)this.addFunction(k.functions[C]);if(k.nativeFunctions)for(const C in k.nativeFunctions){if(!k.nativeFunctions.hasOwnProperty(C))continue;const S=k.nativeFunctions[C],{name:N,source:L}=S;this.addNativeFunction(N,L,S)}}}chooseKernel(){if(this.Kernel)return;let k=null;if(this.context){for(let C=0;C<u.length;C++){const S=u[C];if(S.isContextMatch(this.context)){if(!S.isSupported)throw new Error(`Kernel type ${S.name} not supported`);k=S;break}}if(k===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in m)(!v||m[this.mode].isSupported)&&(k=m[this.mode]);else if(this.mode==="gpu"){for(let C=0;C<u.length;C++)if(u[C].isSupported){k=u[C];break}}else this.mode==="cpu"&&(k=d);if(!k)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let C=0;C<u.length;C++)if(u[C].isSupported){k=u[C];break}k||(k=d)}this.mode||(this.mode=k.mode),this.Kernel=k}createKernel(k,C){if(typeof k>"u")throw new Error("Missing source parameter");if(typeof k!="object"&&!y.isFunction(k)&&typeof k!="string")throw new Error("source parameter not a function");const S=this.kernels;if(this.mode==="dev"){const F=g(k,x(C));return S.push(F),F}k=typeof k=="function"?k.toString():k;const N={},L=x(C)||{};C&&typeof C.argumentTypes=="object"&&(L.argumentTypes=Object.keys(C.argumentTypes).map(F=>C.argumentTypes[F]));function A(F){console.warn("Falling back to CPU");const V=new d(k,{argumentTypes:z.argumentTypes,constantTypes:z.constantTypes,graphical:z.graphical,loopMaxIterations:z.loopMaxIterations,constants:z.constants,dynamicOutput:z.dynamicOutput,dynamicArgument:z.dynamicArguments,output:z.output,precision:z.precision,pipeline:z.pipeline,immutable:z.immutable,optimizeFloatMemory:z.optimizeFloatMemory,fixIntegerDivisionAccuracy:z.fixIntegerDivisionAccuracy,functions:z.functions,nativeFunctions:z.nativeFunctions,injectedNative:z.injectedNative,subKernels:z.subKernels,strictIntegers:z.strictIntegers,debug:z.debug});V.build.apply(V,F);const U=V.run.apply(V,F);return z.replaceKernel(V),U}function $(F,V,U){U.debug&&console.warn("Switching kernels");let q=null;if(U.signature&&!N[U.signature]&&(N[U.signature]=U),U.dynamicOutput)for(let J=F.length-1;J>=0;J--){const le=F[J];le.type==="outputPrecisionMismatch"&&(q=le.needed)}const K=U.constructor,Q=K.getArgumentTypes(U,V),X=K.getSignature(U,Q),te=N[X];if(te)return te.onActivate(U),te;const se=N[X]=new K(k,{argumentTypes:Q,constantTypes:U.constantTypes,graphical:U.graphical,loopMaxIterations:U.loopMaxIterations,constants:U.constants,dynamicOutput:U.dynamicOutput,dynamicArgument:U.dynamicArguments,context:U.context,canvas:U.canvas,output:q||U.output,precision:U.precision,pipeline:U.pipeline,immutable:U.immutable,optimizeFloatMemory:U.optimizeFloatMemory,fixIntegerDivisionAccuracy:U.fixIntegerDivisionAccuracy,functions:U.functions,nativeFunctions:U.nativeFunctions,injectedNative:U.injectedNative,subKernels:U.subKernels,strictIntegers:U.strictIntegers,debug:U.debug,gpu:U.gpu,validate:v,returnType:U.returnType,tactic:U.tactic,onRequestFallback:A,onRequestSwitchKernel:$,texture:U.texture,mappedTextures:U.mappedTextures,drawBuffersMap:U.drawBuffersMap});return se.build.apply(se,V),z.replaceKernel(se),S.push(se),se}const O=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:v,onRequestFallback:A,onRequestSwitchKernel:$},L),B=new this.Kernel(k,O),z=o(B);return this.canvas||(this.canvas=B.canvas),this.context||(this.context=B.context),S.push(B),z}createKernelMap(){let k,C;const S=typeof arguments[arguments.length-2];if(S==="function"||S==="string"?(k=arguments[arguments.length-2],C=arguments[arguments.length-1]):k=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&h.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const N=x(C);if(C&&typeof C.argumentTypes=="object"&&(N.argumentTypes=Object.keys(C.argumentTypes).map(L=>C.argumentTypes[L])),Array.isArray(arguments[0])){N.subKernels=[];const L=arguments[0];for(let A=0;A<L.length;A++){const $=L[A].toString(),O=y.getFunctionNameFromString($);N.subKernels.push({name:O,source:$,property:A})}}else{N.subKernels=[];const L=arguments[0];for(let A in L){if(!L.hasOwnProperty(A))continue;const $=L[A].toString(),O=y.getFunctionNameFromString($);N.subKernels.push({name:O||A,source:$,property:A})}}return this.createKernel(k,N)}combineKernels(){const k=arguments[0],C=arguments[arguments.length-1];if(k.kernel.constructor.mode==="cpu")return C;const S=arguments[0].canvas,N=arguments[0].context,L=arguments.length-1;for(let A=0;A<L;A++)arguments[A].setCanvas(S).setContext(N).setPipeline(!0);return function(){const A=C.apply(this,arguments);return A.toArray?A.toArray():A}}setFunctions(k){return this.functions=k,this}setNativeFunctions(k){return this.nativeFunctions=k,this}addFunction(k,C){return this.functions.push({source:k,settings:C}),this}addNativeFunction(k,C,S){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:k,source:C},S)),this}injectNative(k){return this.injectedNative=k,this}destroy(){return new Promise((k,C)=>{this.kernels||k(),setTimeout(()=>{try{for(let N=0;N<this.kernels.length;N++)this.kernels[N].destroy(!0);let S=this.kernels[0];S&&(S.kernel&&(S=S.kernel),S.constructor.destroyContext&&S.constructor.destroyContext(this.context))}catch(S){C(S)}k()},0)})}}function x(R){if(!R)return{};const k=Object.assign({},R);return R.hasOwnProperty("floatOutput")&&(y.warnDeprecated("setting","floatOutput","precision"),k.precision=R.floatOutput?"single":"unsigned"),R.hasOwnProperty("outputToTexture")&&(y.warnDeprecated("setting","outputToTexture","pipeline"),k.pipeline=!!R.outputToTexture),R.hasOwnProperty("outputImmutable")&&(y.warnDeprecated("setting","outputImmutable","immutable"),k.immutable=!!R.outputImmutable),R.hasOwnProperty("floatTextures")&&(y.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),k.optimizeFloatMemory=!!R.floatTextures),k}a.exports={GPU:T,kernelOrder:u,kernelTypes:h}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(i,a,w){const{GPU:g}=i("./gpu"),{alias:y}=i("./alias"),{utils:b}=i("./utils"),{Input:d,input:f}=i("./input"),{Texture:c}=i("./texture"),{FunctionBuilder:s}=i("./backend/function-builder"),{FunctionNode:o}=i("./backend/function-node"),{CPUFunctionNode:u}=i("./backend/cpu/function-node"),{CPUKernel:h}=i("./backend/cpu/kernel"),{HeadlessGLKernel:m}=i("./backend/headless-gl/kernel"),{WebGLFunctionNode:v}=i("./backend/web-gl/function-node"),{WebGLKernel:T}=i("./backend/web-gl/kernel"),{kernelValueMaps:x}=i("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:R}=i("./backend/web-gl2/function-node"),{WebGL2Kernel:k}=i("./backend/web-gl2/kernel"),{kernelValueMaps:C}=i("./backend/web-gl2/kernel-value-maps"),{GLKernel:S}=i("./backend/gl/kernel"),{Kernel:N}=i("./backend/kernel"),{FunctionTracer:L}=i("./backend/function-tracer"),A=i("./plugins/math-random-uniformly-distributed");a.exports={alias:y,CPUFunctionNode:u,CPUKernel:h,GPU:g,FunctionBuilder:s,FunctionNode:o,HeadlessGLKernel:m,Input:d,input:f,Texture:c,utils:b,WebGL2FunctionNode:R,WebGL2Kernel:k,webGL2KernelValueMaps:C,WebGLFunctionNode:v,WebGLKernel:T,webGLKernelValueMaps:x,GLKernel:S,Kernel:N,FunctionTracer:L,plugins:{mathRandom:A}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(i,a,w){class g{constructor(d,f){this.value=d,Array.isArray(f)?this.size=f:(this.size=new Int32Array(3),f.z?this.size=new Int32Array([f.x,f.y,f.z]):f.y?this.size=new Int32Array([f.x,f.y]):this.size=new Int32Array([f.x]));const[c,s,o]=this.size;if(o){if(this.value.length!==c*s*o)throw new Error(`Input size ${this.value.length} does not match ${c} * ${s} * ${o} = ${s*c*o}`)}else if(s){if(this.value.length!==c*s)throw new Error(`Input size ${this.value.length} does not match ${c} * ${s} = ${s*c}`)}else if(this.value.length!==c)throw new Error(`Input size ${this.value.length} does not match ${c}`)}toArray(){const{utils:d}=i("./utils"),[f,c,s]=this.size;return s?d.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),f,c,s):c?d.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),f,c):this.value}}function y(b,d){return new g(b,d)}a.exports={Input:g,input:y}},{"./utils":114}],111:[function(i,a,w){const{utils:g}=i("./utils");function y(d){let f=function(){return d.build.apply(d,arguments),f=function(){let s=d.run.apply(d,arguments);if(d.switchingKernels){const o=d.resetSwitchingKernels(),u=d.onRequestSwitchKernel(o,arguments,d);c.kernel=d=u,s=u.run.apply(u,arguments)}return d.renderKernels?d.renderKernels():d.renderOutput?d.renderOutput():s},f.apply(d,arguments)};const c=function(){return f.apply(d,arguments)};return c.exec=function(){return new Promise((s,o)=>{try{s(f.apply(this,arguments))}catch(u){o(u)}})},c.replaceKernel=function(s){d=s,b(d,c)},b(d,c),c}function b(d,f){if(f.kernel){f.kernel=d;return}const c=g.allPropertiesOf(d);for(let s=0;s<c.length;s++){const o=c[s];o[0]==="_"&&o[1]==="_"||(typeof d[o]=="function"?o.substring(0,3)==="add"||o.substring(0,3)==="set"?f[o]=function(){return f.kernel[o].apply(f.kernel,arguments),f}:f[o]=function(){return f.kernel[o].apply(f.kernel,arguments)}:(f.__defineGetter__(o,()=>f.kernel[o]),f.__defineSetter__(o,u=>{f.kernel[o]=u})))}f.kernel=d}a.exports={kernelRunShortcut:y}},{"./utils":114}],112:[function(i,a,w){const s={name:"math-random-uniformly-distributed",onBeforeRun:o=>{o.setUniform1f("randomSeed1",Math.random()),o.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};a.exports=s},{}],113:[function(i,a,w){class g{constructor(b){const{texture:d,size:f,dimensions:c,output:s,context:o,type:u="NumberTexture",kernel:h,internalFormat:m,textureFormat:v}=b;if(!s)throw new Error('settings property "output" required.');if(!o)throw new Error('settings property "context" required.');if(!d)throw new Error('settings property "texture" required.');if(!h)throw new Error('settings property "kernel" required.');this.texture=d,d._refs?d._refs++:d._refs=1,this.size=f,this.dimensions=c,this.output=s,this.context=o,this.kernel=h,this.type=u,this._deleted=!1,this.internalFormat=m,this.textureFormat=v}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}a.exports={Texture:g}},{}],114:[function(i,a,w){const g=i("acorn"),{Input:y}=i("./input"),{Texture:b}=i("./texture"),d=/function ([^(]*)/,f=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=/([^\s,]+)/g,s={systemEndianness(){return m},getSystemEndianness(){const v=new ArrayBuffer(4),T=new Uint32Array(v),x=new Uint8Array(v);if(T[0]=3735928559,x[0]===239)return"LE";if(x[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(v){return typeof v=="function"},isFunctionString(v){return typeof v=="string"?v.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(v){const T=d.exec(v);return!T||T.length===0?null:T[1].trim()},getFunctionBodyFromString(v){return v.substring(v.indexOf("{")+1,v.lastIndexOf("}"))},getArgumentNamesFromString(v){const T=v.replace(f,"");let x=T.slice(T.indexOf("(")+1,T.indexOf(")")).match(c);return x===null&&(x=[]),x},clone(v){if(v===null||typeof v!="object"||v.hasOwnProperty("isActiveClone"))return v;const T=v.constructor();for(let x in v)Object.prototype.hasOwnProperty.call(v,x)&&(v.isActiveClone=null,T[x]=s.clone(v[x]),delete v.isActiveClone);return T},isArray(v){return!isNaN(v.length)},getVariableType(v,T){if(s.isArray(v))return v.length>0&&v[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(v.constructor){case Boolean:return"Boolean";case Number:return T&&Number.isInteger(v)?"Integer":"Float";case b:return v.type;case y:return"Input"}if("nodeName"in v)switch(v.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(v.hasOwnProperty("type"))return v.type;if(typeof OffscreenCanvas<"u"&&v instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&v instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&v instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(v,T){let[x,R,k]=T,C=(x||1)*(R||1)*(k||1);return v.optimizeFloatMemory&&v.precision==="single"&&(x=C=Math.ceil(C/4)),R>1&&x*R===C?new Int32Array([x,R]):s.closestSquareDimensions(C)},closestSquareDimensions(v){const T=Math.sqrt(v);let x=Math.ceil(T),R=Math.floor(T);for(;x*R<v;)x--,R=Math.ceil(v/x);return new Int32Array([R,Math.ceil(v/R)])},getMemoryOptimizedFloatTextureSize(v,T){const R=s.roundTo((v[0]||1)*(v[1]||1)*(v[2]||1)*(v[3]||1),4)/T;return s.closestSquareDimensions(R)},getMemoryOptimizedPackedTextureSize(v,T){const[x,R,k]=v,S=s.roundTo((x||1)*(R||1)*(k||1),4)/(4/T);return s.closestSquareDimensions(S)},roundTo(v,T){return Math.floor((v+T-1)/T)*T},getDimensions(v,T){let x;if(s.isArray(v)){const R=[];let k=v;for(;s.isArray(k);)R.push(k.length),k=k[0];x=R.reverse()}else if(v instanceof b)x=v.output;else if(v instanceof y)x=v.size;else throw new Error(`Unknown dimensions of ${v}`);if(T)for(x=Array.from(x);x.length<3;)x.push(1);return new Int32Array(x)},flatten2dArrayTo(v,T){let x=0;for(let R=0;R<v.length;R++)T.set(v[R],x),x+=v[R].length},flatten3dArrayTo(v,T){let x=0;for(let R=0;R<v.length;R++)for(let k=0;k<v[R].length;k++)T.set(v[R][k],x),x+=v[R][k].length},flatten4dArrayTo(v,T){let x=0;for(let R=0;R<v.length;R++)for(let k=0;k<v[R].length;k++)for(let C=0;C<v[R][k].length;C++)T.set(v[R][k][C],x),x+=v[R][k][C].length},flattenTo(v,T){s.isArray(v[0])?s.isArray(v[0][0])?s.isArray(v[0][0][0])?s.flatten4dArrayTo(v,T):s.flatten3dArrayTo(v,T):s.flatten2dArrayTo(v,T):T.set(v)},splitArray(v,T){const x=[];for(let R=0;R<v.length;R+=T)x.push(new v.constructor(v.buffer,R*4+v.byteOffset,T));return x},getAstString(v,T){const x=Array.isArray(v)?v:v.split(/\r?\n/g),R=T.loc.start,k=T.loc.end,C=[];if(R.line===k.line)C.push(x[R.line-1].substring(R.column,k.column));else{C.push(x[R.line-1].slice(R.column));for(let S=R.line;S<k.line;S++)C.push(x[S]);C.push(x[k.line-1].slice(0,k.column))}return C.join(`
`)},allPropertiesOf(v){const T=[];do T.push.apply(T,Object.getOwnPropertyNames(v));while(v=Object.getPrototypeOf(v));return T},linesToString(v){return v.length>0?v.join(`;
`)+`;
`:`
`},warnDeprecated(v,T,x){console.warn(x?`You are using a deprecated ${v} "${T}". It has been replaced with "${x}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${v} "${T}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(v,T,x)=>{const R=x/2|0,k=T*4,C=new Uint8ClampedArray(T*4),S=v.slice(0);for(let N=0;N<R;++N){const L=N*k,A=(x-N-1)*k;C.set(S.subarray(L,L+k)),S.copyWithin(L,A,A+k),S.set(C,A)}return S},erectPackedFloat:(v,T)=>v.subarray(0,T),erect2DPackedFloat:(v,T,x)=>{const R=new Array(x);for(let k=0;k<x;k++){const C=k*T,S=C+T;R[k]=v.subarray(C,S)}return R},erect3DPackedFloat:(v,T,x,R)=>{const k=new Array(R);for(let C=0;C<R;C++){const S=new Array(x);for(let N=0;N<x;N++){const L=C*x*T+N*T,A=L+T;S[N]=v.subarray(L,A)}k[C]=S}return k},erectMemoryOptimizedFloat:(v,T)=>v.subarray(0,T),erectMemoryOptimized2DFloat:(v,T,x)=>{const R=new Array(x);for(let k=0;k<x;k++){const C=k*T;R[k]=v.subarray(C,C+T)}return R},erectMemoryOptimized3DFloat:(v,T,x,R)=>{const k=new Array(R);for(let C=0;C<R;C++){const S=new Array(x);for(let N=0;N<x;N++){const L=C*x*T+N*T;S[N]=v.subarray(L,L+T)}k[C]=S}return k},erectFloat:(v,T)=>{const x=new Float32Array(T);let R=0;for(let k=0;k<T;k++)x[k]=v[R],R+=4;return x},erect2DFloat:(v,T,x)=>{const R=new Array(x);let k=0;for(let C=0;C<x;C++){const S=new Float32Array(T);for(let N=0;N<T;N++)S[N]=v[k],k+=4;R[C]=S}return R},erect3DFloat:(v,T,x,R)=>{const k=new Array(R);let C=0;for(let S=0;S<R;S++){const N=new Array(x);for(let L=0;L<x;L++){const A=new Float32Array(T);for(let $=0;$<T;$++)A[$]=v[C],C+=4;N[L]=A}k[S]=N}return k},erectArray2:(v,T)=>{const x=new Array(T),R=T*4;let k=0;for(let C=0;C<R;C+=4)x[k++]=v.subarray(C,C+2);return x},erect2DArray2:(v,T,x)=>{const R=new Array(x),k=T*4;for(let C=0;C<x;C++){const S=new Array(T),N=C*k;let L=0;for(let A=0;A<k;A+=4)S[L++]=v.subarray(A+N,A+N+2);R[C]=S}return R},erect3DArray2:(v,T,x,R)=>{const k=T*4,C=new Array(R);for(let S=0;S<R;S++){const N=new Array(x);for(let L=0;L<x;L++){const A=new Array(T),$=S*k*x+L*k;let O=0;for(let B=0;B<k;B+=4)A[O++]=v.subarray(B+$,B+$+2);N[L]=A}C[S]=N}return C},erectArray3:(v,T)=>{const x=new Array(T),R=T*4;let k=0;for(let C=0;C<R;C+=4)x[k++]=v.subarray(C,C+3);return x},erect2DArray3:(v,T,x)=>{const R=T*4,k=new Array(x);for(let C=0;C<x;C++){const S=new Array(T),N=C*R;let L=0;for(let A=0;A<R;A+=4)S[L++]=v.subarray(A+N,A+N+3);k[C]=S}return k},erect3DArray3:(v,T,x,R)=>{const k=T*4,C=new Array(R);for(let S=0;S<R;S++){const N=new Array(x);for(let L=0;L<x;L++){const A=new Array(T),$=S*k*x+L*k;let O=0;for(let B=0;B<k;B+=4)A[O++]=v.subarray(B+$,B+$+3);N[L]=A}C[S]=N}return C},erectArray4:(v,T)=>{const x=new Array(v),R=T*4;let k=0;for(let C=0;C<R;C+=4)x[k++]=v.subarray(C,C+4);return x},erect2DArray4:(v,T,x)=>{const R=T*4,k=new Array(x);for(let C=0;C<x;C++){const S=new Array(T),N=C*R;let L=0;for(let A=0;A<R;A+=4)S[L++]=v.subarray(A+N,A+N+4);k[C]=S}return k},erect3DArray4:(v,T,x,R)=>{const k=T*4,C=new Array(R);for(let S=0;S<R;S++){const N=new Array(x);for(let L=0;L<x;L++){const A=new Array(T),$=S*k*x+L*k;let O=0;for(let B=0;B<k;B+=4)A[O++]=v.subarray(B+$,B+$+4);N[L]=A}C[S]=N}return C},flattenFunctionToString:(v,T)=>{const{findDependency:x,thisLookup:R,doNotDefine:k}=T;let C=T.flattened;C||(C=T.flattened={});const S=g.parse(v),N=[];let L=0;function A(O){if(Array.isArray(O)){const B=[];for(let z=0;z<O.length;z++)B.push(A(O[z]));return B.join("")}switch(O.type){case"Program":return A(O.body)+(O.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${O.id.name}(${O.params.map(A).join(", ")}) ${A(O.body)}`;case"BlockStatement":{const z=[];L+=2;for(let F=0;F<O.body.length;F++){const V=A(O.body[F]);V&&z.push(" ".repeat(L)+V,`;
`)}return L-=2,`{
${z.join("")}}`}case"VariableDeclaration":const B=s.normalizeDeclarations(O).map(A).filter(z=>z!==null);return B.length<1?"":`${O.kind} ${B.join(",")}`;case"VariableDeclarator":return O.init.object&&O.init.object.type==="ThisExpression"?R(O.init.property.name,!0)?`${O.id.name} = ${A(O.init)}`:null:`${O.id.name} = ${A(O.init)}`;case"CallExpression":{if(O.callee.property.name==="subarray")return`${A(O.callee.object)}.${A(O.callee.property)}(${O.arguments.map(z=>A(z)).join(", ")})`;if(O.callee.object.name==="gl"||O.callee.object.name==="context")return`${A(O.callee.object)}.${A(O.callee.property)}(${O.arguments.map(z=>A(z)).join(", ")})`;if(O.callee.object.type==="ThisExpression")return N.push(x("this",O.callee.property.name)),`${O.callee.property.name}(${O.arguments.map(z=>A(z)).join(", ")})`;if(O.callee.object.name){const z=x(O.callee.object.name,O.callee.property.name);return z===null?`${O.callee.object.name}.${O.callee.property.name}(${O.arguments.map(F=>A(F)).join(", ")})`:(N.push(z),`${O.callee.property.name}(${O.arguments.map(F=>A(F)).join(", ")})`)}else{if(O.callee.object.type==="MemberExpression")return`${A(O.callee.object)}.${O.callee.property.name}(${O.arguments.map(z=>A(z)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${A(O.argument)}`;case"BinaryExpression":return`(${A(O.left)}${O.operator}${A(O.right)})`;case"UnaryExpression":return O.prefix?`${O.operator} ${A(O.argument)}`:`${A(O.argument)} ${O.operator}`;case"ExpressionStatement":return`${A(O.expression)}`;case"SequenceExpression":return`(${A(O.expressions)})`;case"ArrowFunctionExpression":return`(${O.params.map(A).join(", ")}) => ${A(O.body)}`;case"Literal":return O.raw;case"Identifier":return O.name;case"MemberExpression":return O.object.type==="ThisExpression"?R(O.property.name):O.computed?`${A(O.object)}[${A(O.property)}]`:A(O.object)+"."+A(O.property);case"ThisExpression":return"this";case"NewExpression":return`new ${A(O.callee)}(${O.arguments.map(z=>A(z)).join(", ")})`;case"ForStatement":return`for (${A(O.init)};${A(O.test)};${A(O.update)}) ${A(O.body)}`;case"AssignmentExpression":return`${A(O.left)}${O.operator}${A(O.right)}`;case"UpdateExpression":return`${A(O.argument)}${O.operator}`;case"IfStatement":return`if (${A(O.test)}) ${A(O.consequent)}`;case"ThrowStatement":return`throw ${A(O.argument)}`;case"ObjectPattern":return O.properties.map(A).join(", ");case"ArrayPattern":return O.elements.map(A).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${A(O.test)}?${A(O.consequent)}:${A(O.alternate)}`;case"Property":if(O.kind==="init")return A(O.key)}throw new Error(`unhandled ast.type of ${O.type}`)}const $=A(S);if(N.length>0){const O=[];for(let B=0;B<N.length;B++){const z=N[B];C[z]||(C[z]=!0),z&&O.push(s.flattenFunctionToString(z,T)+`
`)}return O.join("")+$}return $},normalizeDeclarations:v=>{if(v.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const T=[];for(let x=0;x<v.declarations.length;x++){const R=v.declarations[x];if(R.id&&R.id.type==="ObjectPattern"&&R.id.properties){const{properties:k}=R.id;for(let C=0;C<k.length;C++){const S=k[C];if(S.value.type==="ObjectPattern"&&S.value.properties)for(let N=0;N<S.value.properties.length;N++){const L=S.value.properties[N];if(L.type==="Property")T.push({type:"VariableDeclarator",id:{type:"Identifier",name:L.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:R.init,property:{type:"Identifier",name:S.key.name},computed:!1},property:{type:"Identifier",name:L.key.name},computed:!1}});else throw new Error("unexpected state")}else if(S.value.type==="Identifier")T.push({type:"VariableDeclarator",id:{type:"Identifier",name:S.value&&S.value.name?S.value.name:S.key.name},init:{type:"MemberExpression",object:R.init,property:{type:"Identifier",name:S.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(R.id&&R.id.type==="ArrayPattern"&&R.id.elements){const{elements:k}=R.id;for(let C=0;C<k.length;C++){const S=k[C];if(S.type==="Identifier")T.push({type:"VariableDeclarator",id:{type:"Identifier",name:S.name},init:{type:"MemberExpression",object:R.init,property:{type:"Literal",value:C,raw:C.toString(),start:S.start,end:S.end},computed:!0}});else throw new Error("unexpected state")}}else T.push(R)}return T},splitHTMLImageToRGB:(v,T)=>{const x=v.createKernel(function(N){return N[this.thread.y][this.thread.x].r*255},{output:[T.width,T.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),R=v.createKernel(function(N){return N[this.thread.y][this.thread.x].g*255},{output:[T.width,T.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),k=v.createKernel(function(N){return N[this.thread.y][this.thread.x].b*255},{output:[T.width,T.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),C=v.createKernel(function(N){return N[this.thread.y][this.thread.x].a*255},{output:[T.width,T.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),S=[x(T),R(T),k(T),C(T)];return S.rKernel=x,S.gKernel=R,S.bKernel=k,S.aKernel=C,S.gpu=v,S},splitRGBAToCanvases:(v,T,x,R)=>{const k=v.createKernel(function(L){const A=L[this.thread.y][this.thread.x];this.color(A.r/255,0,0,255)},{output:[x,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});k(T);const C=v.createKernel(function(L){const A=L[this.thread.y][this.thread.x];this.color(0,A.g/255,0,255)},{output:[x,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});C(T);const S=v.createKernel(function(L){const A=L[this.thread.y][this.thread.x];this.color(0,0,A.b/255,255)},{output:[x,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});S(T);const N=v.createKernel(function(L){const A=L[this.thread.y][this.thread.x];this.color(255,255,255,A.a/255)},{output:[x,R],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return N(T),[k.canvas,C.canvas,S.canvas,N.canvas]},getMinifySafeName:v=>{try{const T=g.parse(`const value = ${v.toString()}`),{init:x}=T.body[0].declarations[0];return x.body.name||x.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(v){return o.test(v)&&(v=v.replace(o,"S_S")),u.test(v)?v=v.replace(u,"U_U"):h.test(v)&&(v=v.replace(h,"u_u")),v}},o=/\$/,u=/__/,h=/_/,m=s.getSystemEndianness();a.exports={utils:s}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})}(gpuBrowser)),gpuBrowser.exports}var rttc={},runtimeSourceError={},hasRequiredRuntimeSourceError;function requireRuntimeSourceError(){if(hasRequiredRuntimeSourceError)return runtimeSourceError;hasRequiredRuntimeSourceError=1,Object.defineProperty(runtimeSourceError,"__esModule",{value:!0}),runtimeSourceError.RuntimeSourceError=void 0;const e=requireConstants(),n=requireTypes();class i{constructor(w){this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR,this.location=w?w.loc:e.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}return runtimeSourceError.RuntimeSourceError=i,runtimeSourceError}var hasRequiredRttc;function requireRttc(){if(hasRequiredRttc)return rttc;hasRequiredRttc=1,Object.defineProperty(rttc,"__esModule",{value:!0}),rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const e=requireRuntimeSourceError(),n=requireTypes(),i=" on left hand side of operation",a=" on right hand side of operation";class w extends e.RuntimeSourceError{constructor(x,R,k,C,S=n.Chapter.SOURCE_4){super(x),this.side=R,this.expected=k,this.got=C,this.chapter=S,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR}explain(){const x=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${x}.`}elaborate(){return this.explain()}}rttc.TypeError=w;const g=T=>T===null?"null":Array.isArray(T)?"array":typeof T,y=T=>g(T)==="number",b=T=>y(T)&&T>>>0===T&&T<2**32-1,d=T=>g(T)==="string",f=T=>g(T)==="boolean",c=T=>g(T)==="object",s=T=>g(T)==="array",o=(T,x,R,k=n.Chapter.SOURCE_4)=>(x==="+"||x==="-")&&!y(R)?new w(T,"","number",g(R),k):x==="!"&&!f(R)?new w(T,"","boolean",g(R),k):void 0;rttc.checkUnaryExpression=o;const u=(T,x,R,k,C)=>{switch(x){case"-":case"*":case"/":case"%":return y(k)?y(C)?void 0:new w(T,a,"number",g(C),R):new w(T,i,"number",g(k),R);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return R>2&&(x==="==="||x==="!==")?void 0:y(k)?y(C)?void 0:new w(T,a,"number",g(C),R):d(k)?d(C)?void 0:new w(T,a,"string",g(C),R):new w(T,i,"string or number",g(k),R);default:return}};rttc.checkBinaryExpression=u;const h=(T,x,R=n.Chapter.SOURCE_4)=>f(x)?void 0:new w(T," as condition","boolean",g(x),R);rttc.checkIfStatement=h;const m=(T,x,R)=>c(x)?d(R)?void 0:new w(T," as prop","string",g(R)):s(x)?b(R)?void 0:y(R)?new w(T," as prop","array index","other number"):new w(T," as prop","array index",g(R)):new w(T,"","object or array",g(x));rttc.checkMemberAccess=m;const v=T=>T.name!==void 0;return rttc.isIdentifier=v,rttc}var transfomer={},astCreator={},hasRequiredAstCreator;function requireAstCreator(){return hasRequiredAstCreator||(hasRequiredAstCreator=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.whileStatement=e.ifStatement=e.variableDeclarator=e.variableDeclaration=e.arrowFunctionExpression=e.blockExpression=e.functionDeclaration=e.functionDeclarationExpression=e.primitive=e.unaryExpression=e.binaryExpression=e.assignmentExpression=e.arrayExpression=e.conditionalExpression=e.mutateToConditionalExpression=e.logicalExpression=e.mutateToMemberExpression=e.mutateToReturnStatement=e.mutateToExpressionStatement=e.mutateToAssignmentExpression=e.mutateToCallExpression=e.objectExpression=e.property=e.returnStatement=e.program=e.blockStatement=e.functionExpression=e.blockArrowFunction=e.expressionStatement=e.callExpression=e.constantDeclaration=e.declaration=e.memberExpression=e.literal=e.identifier=e.locationDummyNode=e.getVariableDecarationName=void 0;const n=se=>se.declarations[0].id.name;e.getVariableDecarationName=n;const i=(se,J)=>(0,e.literal)("Dummy",{start:{line:se,column:J},end:{line:se,column:J}});e.locationDummyNode=i;const a=(se,J)=>({type:"Identifier",name:se,loc:J});e.identifier=a;const w=(se,J)=>({type:"Literal",value:se,loc:J});e.literal=w;const g=(se,J)=>({type:"MemberExpression",object:se,computed:typeof J=="number",optional:!1,property:typeof J=="number"?(0,e.literal)(J):(0,e.identifier)(J)});e.memberExpression=g;const y=(se,J,le,ce)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,e.identifier)(se),init:le}],kind:J,loc:ce});e.declaration=y;const b=(se,J,le)=>(0,e.declaration)(se,"const",J,le);e.constantDeclaration=b;const d=(se,J,le)=>({type:"CallExpression",callee:se,arguments:J,optional:!1,loc:le});e.callExpression=d;const f=se=>({type:"ExpressionStatement",expression:se});e.expressionStatement=f;const c=(se,J,le)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:se,body:Array.isArray(J)?(0,e.blockStatement)(J):J,loc:le});e.blockArrowFunction=c;const s=(se,J,le)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:se,body:Array.isArray(J)?(0,e.blockStatement)(J):J,loc:le});e.functionExpression=s;const o=se=>({type:"BlockStatement",body:se});e.blockStatement=o;const u=se=>({type:"Program",sourceType:"module",body:se});e.program=u;const h=(se,J)=>({type:"ReturnStatement",argument:se,loc:J});e.returnStatement=h;const m=(se,J)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,e.identifier)(se),value:J,kind:"init"});e.property=m;const v=se=>({type:"ObjectExpression",properties:se});e.objectExpression=v;const T=(se,J,le)=>{se.type="CallExpression",se=se,se.callee=J,se.arguments=le};e.mutateToCallExpression=T;const x=(se,J,le)=>{se.type="AssignmentExpression",se=se,se.operator="=",se.left=J,se.right=le};e.mutateToAssignmentExpression=x;const R=(se,J)=>{se.type="ExpressionStatement",se=se,se.expression=J};e.mutateToExpressionStatement=R;const k=(se,J)=>{se.type="ReturnStatement",se=se,se.argument=J};e.mutateToReturnStatement=k;const C=(se,J,le)=>{se.type="MemberExpression",se=se,se.object=J,se.property=le,se.computed=!1};e.mutateToMemberExpression=C;const S=(se,J,le,ce)=>({type:"LogicalExpression",operator:se,left:J,right:le,loc:ce});e.logicalExpression=S;const N=(se,J,le,ce)=>{se.type="ConditionalExpression",se=se,se.test=J,se.consequent=le,se.alternate=ce};e.mutateToConditionalExpression=N;const L=(se,J,le,ce)=>({type:"ConditionalExpression",test:se,consequent:J,alternate:le,loc:ce});e.conditionalExpression=L;const A=se=>({type:"ArrayExpression",elements:se});e.arrayExpression=A;const $=(se,J)=>({type:"AssignmentExpression",operator:"=",left:se,right:J});e.assignmentExpression=$;const O=(se,J,le,ce)=>({type:"BinaryExpression",operator:se,left:J,right:le,loc:ce});e.binaryExpression=O;const B=(se,J,le)=>({type:"UnaryExpression",operator:se,prefix:!0,argument:J,loc:le});e.unaryExpression=B;const z=se=>se===void 0?(0,e.identifier)("undefined"):(0,e.literal)(se);e.primitive=z;const F=(se,J,le,ce)=>({type:"FunctionExpression",id:se,params:J,body:le,loc:ce});e.functionDeclarationExpression=F;const V=(se,J,le,ce)=>({type:"FunctionDeclaration",id:se,params:J,body:le,loc:ce});e.functionDeclaration=V;const U=(se,J)=>({type:"BlockExpression",body:se,loc:J});e.blockExpression=U;const q=(se,J,le)=>({type:"ArrowFunctionExpression",expression:J.type!=="BlockStatement",generator:!1,params:se,body:J,loc:le});e.arrowFunctionExpression=q;const K=(se,J)=>({type:"VariableDeclaration",kind:"const",declarations:se,loc:J});e.variableDeclaration=K;const Q=(se,J,le)=>({type:"VariableDeclarator",id:se,init:J,loc:le});e.variableDeclarator=Q;const X=(se,J,le,ce)=>({type:"IfStatement",test:se,consequent:J,alternate:le,loc:ce});e.ifStatement=X;const te=(se,J,le)=>({type:"WhileStatement",test:J,body:se,loc:le});e.whileStatement=te}(astCreator)),astCreator}var walkers={},walk$1={exports:{}},walk=walk$1.exports,hasRequiredWalk;function requireWalk(){return hasRequiredWalk||(hasRequiredWalk=1,function(e,n){(function(i,a){a(n)})(walk,function(i){function a(x,R,k,C,S){k||(k=T),function N(L,A,$){var O=$||L.type;k[O](L,A,N),R[O]&&R[O](L,A)}(x,C,S)}function w(x,R,k,C,S){var N=[];k||(k=T),function L(A,$,O){var B=O||A.type,z=A!==N[N.length-1];z&&N.push(A),k[B](A,$,L),R[B]&&R[B](A,$||N,N),z&&N.pop()}(x,C,S)}function g(x,R,k,C,S){var N=k?h(k,C||void 0):C;(function L(A,$,O){N[O||A.type](A,$,L)})(x,R,S)}function y(x){return typeof x=="string"?function(R){return R===x}:x||function(){return!0}}var b=function(R,k){this.node=R,this.state=k};function d(x,R,k,C,S){k||(k=T);var N;(function L(A,$,O){var B=O||A.type;k[B](A,$,L),N!==A&&(R(A,$,B),N=A)})(x,C,S)}function f(x,R,k,C){k||(k=T);var S=[],N;(function L(A,$,O){var B=O||A.type,z=A!==S[S.length-1];z&&S.push(A),k[B](A,$,L),N!==A&&(R(A,$||S,S,B),N=A),z&&S.pop()})(x,C)}function c(x,R,k,C,S,N){S||(S=T),C=y(C);try{(function L(A,$,O){var B=O||A.type;if((R==null||A.start<=R)&&(k==null||A.end>=k)&&S[B](A,$,L),(R==null||A.start===R)&&(k==null||A.end===k)&&C(B,A))throw new b(A,$)})(x,N)}catch(L){if(L instanceof b)return L;throw L}}function s(x,R,k,C,S){k=y(k),C||(C=T);try{(function N(L,A,$){var O=$||L.type;if(!(L.start>R||L.end<R)&&(C[O](L,A,N),k(O,L)))throw new b(L,A)})(x,S)}catch(N){if(N instanceof b)return N;throw N}}function o(x,R,k,C,S){k=y(k),C||(C=T);try{(function N(L,A,$){if(!(L.end<R)){var O=$||L.type;if(L.start>=R&&k(O,L))throw new b(L,A);C[O](L,A,N)}})(x,S)}catch(N){if(N instanceof b)return N;throw N}}function u(x,R,k,C,S){k=y(k),C||(C=T);var N;return function L(A,$,O){if(!(A.start>R)){var B=O||A.type;A.end<=R&&(!N||N.node.end<A.end)&&k(B,A)&&(N=new b(A,$)),C[B](A,$,L)}}(x,S),N}function h(x,R){var k=Object.create(R||T);for(var C in x)k[C]=x[C];return k}function m(x,R,k){k(x,R)}function v(x,R,k){}var T={};T.Program=T.BlockStatement=T.StaticBlock=function(x,R,k){for(var C=0,S=x.body;C<S.length;C+=1){var N=S[C];k(N,R,"Statement")}},T.Statement=m,T.EmptyStatement=v,T.ExpressionStatement=T.ParenthesizedExpression=T.ChainExpression=function(x,R,k){return k(x.expression,R,"Expression")},T.IfStatement=function(x,R,k){k(x.test,R,"Expression"),k(x.consequent,R,"Statement"),x.alternate&&k(x.alternate,R,"Statement")},T.LabeledStatement=function(x,R,k){return k(x.body,R,"Statement")},T.BreakStatement=T.ContinueStatement=v,T.WithStatement=function(x,R,k){k(x.object,R,"Expression"),k(x.body,R,"Statement")},T.SwitchStatement=function(x,R,k){k(x.discriminant,R,"Expression");for(var C=0,S=x.cases;C<S.length;C+=1){var N=S[C];k(N,R)}},T.SwitchCase=function(x,R,k){x.test&&k(x.test,R,"Expression");for(var C=0,S=x.consequent;C<S.length;C+=1){var N=S[C];k(N,R,"Statement")}},T.ReturnStatement=T.YieldExpression=T.AwaitExpression=function(x,R,k){x.argument&&k(x.argument,R,"Expression")},T.ThrowStatement=T.SpreadElement=function(x,R,k){return k(x.argument,R,"Expression")},T.TryStatement=function(x,R,k){k(x.block,R,"Statement"),x.handler&&k(x.handler,R),x.finalizer&&k(x.finalizer,R,"Statement")},T.CatchClause=function(x,R,k){x.param&&k(x.param,R,"Pattern"),k(x.body,R,"Statement")},T.WhileStatement=T.DoWhileStatement=function(x,R,k){k(x.test,R,"Expression"),k(x.body,R,"Statement")},T.ForStatement=function(x,R,k){x.init&&k(x.init,R,"ForInit"),x.test&&k(x.test,R,"Expression"),x.update&&k(x.update,R,"Expression"),k(x.body,R,"Statement")},T.ForInStatement=T.ForOfStatement=function(x,R,k){k(x.left,R,"ForInit"),k(x.right,R,"Expression"),k(x.body,R,"Statement")},T.ForInit=function(x,R,k){x.type==="VariableDeclaration"?k(x,R):k(x,R,"Expression")},T.DebuggerStatement=v,T.FunctionDeclaration=function(x,R,k){return k(x,R,"Function")},T.VariableDeclaration=function(x,R,k){for(var C=0,S=x.declarations;C<S.length;C+=1){var N=S[C];k(N,R)}},T.VariableDeclarator=function(x,R,k){k(x.id,R,"Pattern"),x.init&&k(x.init,R,"Expression")},T.Function=function(x,R,k){x.id&&k(x.id,R,"Pattern");for(var C=0,S=x.params;C<S.length;C+=1){var N=S[C];k(N,R,"Pattern")}k(x.body,R,x.expression?"Expression":"Statement")},T.Pattern=function(x,R,k){x.type==="Identifier"?k(x,R,"VariablePattern"):x.type==="MemberExpression"?k(x,R,"MemberPattern"):k(x,R)},T.VariablePattern=v,T.MemberPattern=m,T.RestElement=function(x,R,k){return k(x.argument,R,"Pattern")},T.ArrayPattern=function(x,R,k){for(var C=0,S=x.elements;C<S.length;C+=1){var N=S[C];N&&k(N,R,"Pattern")}},T.ObjectPattern=function(x,R,k){for(var C=0,S=x.properties;C<S.length;C+=1){var N=S[C];N.type==="Property"?(N.computed&&k(N.key,R,"Expression"),k(N.value,R,"Pattern")):N.type==="RestElement"&&k(N.argument,R,"Pattern")}},T.Expression=m,T.ThisExpression=T.Super=T.MetaProperty=v,T.ArrayExpression=function(x,R,k){for(var C=0,S=x.elements;C<S.length;C+=1){var N=S[C];N&&k(N,R,"Expression")}},T.ObjectExpression=function(x,R,k){for(var C=0,S=x.properties;C<S.length;C+=1){var N=S[C];k(N,R)}},T.FunctionExpression=T.ArrowFunctionExpression=T.FunctionDeclaration,T.SequenceExpression=function(x,R,k){for(var C=0,S=x.expressions;C<S.length;C+=1){var N=S[C];k(N,R,"Expression")}},T.TemplateLiteral=function(x,R,k){for(var C=0,S=x.quasis;C<S.length;C+=1){var N=S[C];k(N,R)}for(var L=0,A=x.expressions;L<A.length;L+=1){var $=A[L];k($,R,"Expression")}},T.TemplateElement=v,T.UnaryExpression=T.UpdateExpression=function(x,R,k){k(x.argument,R,"Expression")},T.BinaryExpression=T.LogicalExpression=function(x,R,k){k(x.left,R,"Expression"),k(x.right,R,"Expression")},T.AssignmentExpression=T.AssignmentPattern=function(x,R,k){k(x.left,R,"Pattern"),k(x.right,R,"Expression")},T.ConditionalExpression=function(x,R,k){k(x.test,R,"Expression"),k(x.consequent,R,"Expression"),k(x.alternate,R,"Expression")},T.NewExpression=T.CallExpression=function(x,R,k){if(k(x.callee,R,"Expression"),x.arguments)for(var C=0,S=x.arguments;C<S.length;C+=1){var N=S[C];k(N,R,"Expression")}},T.MemberExpression=function(x,R,k){k(x.object,R,"Expression"),x.computed&&k(x.property,R,"Expression")},T.ExportNamedDeclaration=T.ExportDefaultDeclaration=function(x,R,k){x.declaration&&k(x.declaration,R,x.type==="ExportNamedDeclaration"||x.declaration.id?"Statement":"Expression"),x.source&&k(x.source,R,"Expression")},T.ExportAllDeclaration=function(x,R,k){x.exported&&k(x.exported,R),k(x.source,R,"Expression")},T.ImportDeclaration=function(x,R,k){for(var C=0,S=x.specifiers;C<S.length;C+=1){var N=S[C];k(N,R)}k(x.source,R,"Expression")},T.ImportExpression=function(x,R,k){k(x.source,R,"Expression")},T.ImportSpecifier=T.ImportDefaultSpecifier=T.ImportNamespaceSpecifier=T.Identifier=T.PrivateIdentifier=T.Literal=v,T.TaggedTemplateExpression=function(x,R,k){k(x.tag,R,"Expression"),k(x.quasi,R,"Expression")},T.ClassDeclaration=T.ClassExpression=function(x,R,k){return k(x,R,"Class")},T.Class=function(x,R,k){x.id&&k(x.id,R,"Pattern"),x.superClass&&k(x.superClass,R,"Expression"),k(x.body,R)},T.ClassBody=function(x,R,k){for(var C=0,S=x.body;C<S.length;C+=1){var N=S[C];k(N,R)}},T.MethodDefinition=T.PropertyDefinition=T.Property=function(x,R,k){x.computed&&k(x.key,R,"Expression"),x.value&&k(x.value,R,"Expression")},i.ancestor=w,i.base=T,i.findNodeAfter=o,i.findNodeAround=s,i.findNodeAt=c,i.findNodeBefore=u,i.full=d,i.fullAncestor=f,i.make=h,i.recursive=g,i.simple=a})}(walk$1,walk$1.exports)),walk$1.exports}var hasRequiredWalkers;function requireWalkers(){if(hasRequiredWalkers)return walkers;hasRequiredWalkers=1,Object.defineProperty(walkers,"__esModule",{value:!0}),walkers.base=walkers.findNodeAfter=walkers.findNodeAround=walkers.findNodeAt=walkers.make=walkers.fullAncestor=walkers.full=walkers.recursive=walkers.ancestor=walkers.simple=void 0;const e=requireWalk();return walkers.simple=e.simple,walkers.ancestor=e.ancestor,walkers.recursive=e.recursive,walkers.full=e.full,walkers.fullAncestor=e.fullAncestor,walkers.make=e.make,walkers.findNodeAt=e.findNodeAt,walkers.findNodeAround=e.findNodeAround,walkers.findNodeAfter=e.findNodeAfter,walkers.base=e.base,walkers}var bodyVerifier={},hasRequiredBodyVerifier;function requireBodyVerifier(){if(hasRequiredBodyVerifier)return bodyVerifier;hasRequiredBodyVerifier=1,Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const e=requireWalkers();class n{constructor(a,w,g){this.checkBody=y=>{let b=!0;if((0,e.simple)(y,{FunctionDeclaration(){b=!1},ArrowFunctionExpression(){b=!1},ReturnStatement(){b=!1},BreakStatement(){b=!1},ContinueStatement(){b=!1}}),!b)return;const d=new RegExp(/^math_[a-z]+$/);if((0,e.simple)(y,{CallExpression(m){if(m.callee.type!=="Identifier"){b=!1;return}const v=m.callee.name;if(!d.test(v)){b=!1;return}}}),!b)return;const f=new Set;(0,e.simple)(y,{VariableDeclaration(m){m.declarations[0].id.type==="Identifier"&&f.add(m.declarations[0].id.name)}}),this.localVar=f;const c=[],s=this.getArrayName;if((0,e.simple)(y,{AssignmentExpression(m){if(!(m.left.type==="Identifier"&&f.has(m.left.name))){if(m.left.type==="MemberExpression"){const v=s(m.left);if(f.has(v.name))return}c.push(m)}}}),c.length!==1||c[0].left.type!=="MemberExpression")return;const o=this.getPropertyAccess(c[0].left);if(o.length===0||o.length>this.counters.length)return;const u=this.getPropertyAccess,h=this.outputArray;if((0,e.simple)(y,{MemberExpression(m){if(s(m).name!==h.name)return;const T=u(m);JSON.stringify(T)!==JSON.stringify(o)&&(b=!1)}},(0,e.make)({MemberExpression:()=>{}})),!!b){for(let m=0;m<this.counters.length&&o[m]===this.counters[m];m++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=y=>{let b=y;for(;b.type==="MemberExpression";)b=b.object;return b},this.getPropertyAccess=y=>{const b=[];let d=!0,f=y;for(;f.type==="MemberExpression";){if(f.property.type!=="Identifier"){d=!1;break}b.push(f.property.name),f=f.object}return d?(this.outputArray=f,b.reverse()):[]},this.program=a,this.node=w,this.counters=g,this.state=0,this.checkBody(w)}}return bodyVerifier.default=n,bodyVerifier}var loopVerifier={},hasRequiredLoopVerifier;function requireLoopVerifier(){if(hasRequiredLoopVerifier)return loopVerifier;hasRequiredLoopVerifier=1,Object.defineProperty(loopVerifier,"__esModule",{value:!0});class e{constructor(i){this.forLoopTransform=a=>{!a.init||!a.update||!a.test||(this.ok=this.hasCounter(a.init)&&this.hasCondition(a.test)&&this.hasUpdate(a.update))},this.hasCounter=a=>{if(!a||a.type!=="VariableDeclaration"||a.kind!=="let")return!1;const w=a.declarations;if(w.length>1)return!1;const g=w[0];if(g.id.type!=="Identifier"||!g.init)return!1;this.counter=g.id.name;const y=g.init;return!(!y||y.type!=="Literal"||y.value!==0)},this.hasCondition=a=>{if(a.type!=="BinaryExpression"||!(a.operator==="<"||a.operator==="<="))return!1;const w=a.left;if(w.type!=="Identifier"||w.name!==this.counter)return!1;const g=a.right;return g.type==="Identifier"||g.type==="Literal"?(this.end=g,!0):!1},this.hasUpdate=a=>{if(a.type!=="AssignmentExpression"||a.operator!=="="||a.left.type!=="Identifier"||a.left.name!==this.counter||a.right.type!=="BinaryExpression")return!1;const w=a.right;if(w.operator!=="+")return!1;const g=w.left.type==="Identifier"&&w.left.name===this.counter,y=w.right.type==="Identifier"&&w.right.name===this.counter,b=w.left.type==="Literal"&&w.left.value===1,d=w.right.type==="Literal"&&w.right.value===1;return g&&d||y&&b},this.node=i,this.forLoopTransform(this.node)}}return loopVerifier.default=e,loopVerifier}var hasRequiredTransfomer;function requireTransfomer(){if(hasRequiredTransfomer)return transfomer;hasRequiredTransfomer=1,Object.defineProperty(transfomer,"__esModule",{value:!0}),transfomer.gpuRuntimeTranspile=void 0;const e=requireAstCreator(),n=requireWalkers(),i=requireBodyVerifier(),a=requireLoopVerifier();let w=0;class g{constructor(d,f){this.transform=()=>{const c=this.gpuTranspile,s=[];return(0,n.simple)(this.program,{ForStatement(o){const u=c(o);u>0&&o.loc&&s.push([o.loc.start.line,u])}},(0,n.make)({ForStatement:()=>{}})),s},this.gpuTranspile=c=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(c),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const s=new i.default(this.program,this.innerBody,this.counters);if(s.state===0)return 0;this.state=s.state,this.outputArray=s.outputArray,this.localVar=s.localVar,this.getOuterVariables(),this.getTargetBody(c);const o=[];for(const x in this.outerVariables)if(this.outerVariables.hasOwnProperty(x)){const R=this.outerVariables[x];o.push([e.literal(x),JSON.parse(JSON.stringify(R))])}const u=s.getArrayName,h=this.localVar;(0,n.ancestor)(this.targetBody,{AssignmentExpression(x,R){if(x.left.type==="Identifier"||x.left.type!=="MemberExpression")return;const k=u(x.left);if(h.has(k.name))return;const C=R.length;e.mutateToReturnStatement(R[C-2],x.right)}});const m=[];for(let x=0;x<this.state;x++)m.push(e.identifier(this.counters[x]));const v=e.blockArrowFunction(this.counters.map(x=>e.identifier(x)),this.targetBody),T=e.callExpression(this.globalIds.__createKernelSource,[e.arrayExpression(this.end),e.arrayExpression(o.map(e.arrayExpression)),e.arrayExpression(Array.from(h.values()).map(x=>e.literal(x))),this.outputArray,v,e.literal(w++)],c.loc);return e.mutateToExpressionStatement(c,T),this.state},this.checkOuterLoops=c=>{let s=c;for(;s.type==="ForStatement";){const o=new a.default(s);if(!o.ok||(this.innerBody=s.body,this.counters.push(o.counter),this.end.push(o.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;s=this.innerBody.body[0]}},this.program=d,this.globalIds={__createKernelSource:f}}getTargetBody(d){let f=this.state;for(this.targetBody=d;f>1;)this.targetBody=this.targetBody.body.body[0],f--;this.targetBody=this.targetBody.body}getOuterVariables(){const d=this.innerBody,f=this.localVar,c=this.counters,s=this.outputArray.name,o={};(0,n.simple)(d,{Identifier(u){f.has(u.name)||c.includes(u.name)||u.name===s||u.name.startsWith("math_")||(o[u.name]=u)}}),this.outerVariables=o}}function y(b,d){const f=b.params.map(h=>h.name),c=b.body;(0,n.simple)(c,{CallExpression(h){if(h.callee.type!=="Identifier")return;const v=h.callee.name.split("_")[1],T=h.arguments;e.mutateToCallExpression(h,e.memberExpression(e.identifier("Math"),v),T)}});const s=new Set([...f,"Math"]);(0,n.simple)(c,{Identifier(h){s.has(h.name)||d.has(h.name)||e.mutateToMemberExpression(h,e.memberExpression(e.identifier("this"),"constants"),e.identifier(h.name))}});let o=["x"];f.length===2&&(o=["y","x"]),f.length===3&&(o=["z","y","x"]);const u=f.slice();return(0,n.simple)(c,{Identifier(h){let m=-1;for(let T=0;T<u.length;T=T+1)if(h.name===u[T]){m=T;break}if(m===-1)return;const v=o[m];e.mutateToMemberExpression(h,e.memberExpression(e.identifier("this"),"thread"),e.identifier(v))}}),c}return transfomer.gpuRuntimeTranspile=y,transfomer.default=g,transfomer}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const e=requireAcorn(),n=requireAstring(),i=requireGpuBrowser(),a=requireConstants(),w=requireRttc(),g=requireTransfomer(),y=200;function b(C,S,N){for(let L=0;L<S[0];L++)N[L]=c(C[L])}function d(C,S,N){for(let L=0;L<S[0];L++)for(let A=0;A<S[1];A++)N[L][A]=c(C[L][A])}function f(C,S,N){for(let L=0;L<S[0];L++)for(let A=0;A<S[1];A++)for(let $=0;$<S[2];$++)N[L][A][$]=c(C[L][A][$])}function c(C){if(!(C instanceof Float32Array))return C;const S=C.map(N=>c(N));return Array.from(S)}function s(C){return Array.isArray(C)}function o(C,S){for(let N=0;N<S[0];N=N+1)if(!Array.isArray(C[N]))return!1;return!0}function u(C,S){for(let N=0;N<S[0];N=N+1){if(!Array.isArray(C[N]))return!1;for(let L=0;L<S[1];L=L+1)if(!Array.isArray(C[N][L]))return!1}return!0}function h(C,S){let N;if(S.length===1&&(N=C(0)),S.length===2&&(N=C(0,0)),S.length===3&&(N=C(0,0,0)),typeof N!="number")return!1;let L=1;for(const A of S)L=L*A;return L>y}function m(C,S,N){function L(){for(let O=0;O<S[0];O++)N[O]=C(O)}function A(){for(let O=0;O<S[0];O=O+1)for(let B=0;B<S[1];B=B+1)N[O][B]=C(O,B)}function $(){for(let O=0;O<S[0];O=O+1)for(let B=0;B<S[1];B=B+1)for(let z=0;z<S[2];z=z+1)N[O][B][z]=C(O,B,z)}return S.length===1?L():S.length===2?A():$()}function v(C,S,N,L,A){const $=new i.GPU;let O=s(L),B="";if(O||(B=typeof L),C.length>1&&(O=O&&o(L,C),O||(B="undefined")),C.length>2&&(O=O&&u(L,C),O||(B="undefined")),!O)throw new w.TypeError(L,"","object or array",B);if(O=h(A,C),!O){m(A,C,L);return}const z=[];for(let q=C.length-1;q>=0;q--)z.push(C[q]);const F={constants:{}};F.constants=S;const U=$.createKernel(N,F).setOutput(z)();C.length===1&&b(U,C,L),C.length===2&&d(U,C,L),C.length===3&&f(U,C,L)}lib.__createKernel=v;function T(C){const S={};return C.forEach(([N,L])=>S[N]=L),S}const x=new Map;function R(){x.clear()}lib.__clearKernelCache=R;function k(C,S,N,L,A,$){const O=T(S),B=x.get($);if(B!==void 0)return v(C,O,B,L,A);const z=A.toString(),V=(0,e.parse)(z,a.ACORN_PARSE_OPTIONS).body[0].expression,U=(0,g.gpuRuntimeTranspile)(V,new Set(N)),q=new Function((0,n.generate)(U));return x.set($,q),v(C,O,q,L,A)}return lib.__createKernelSource=k,lib}var schedulers={},errors={},stringify={},closure={},interpreter={},lodash$1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lodash=lodash$1.exports,hasRequiredLodash;function requireLodash(){return hasRequiredLodash||(hasRequiredLodash=1,function(e,n){(function(){var i,a="4.17.21",w=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",b="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,c="__lodash_placeholder__",s=1,o=2,u=4,h=1,m=2,v=1,T=2,x=4,R=8,k=16,C=32,S=64,N=128,L=256,A=512,$=30,O="...",B=800,z=16,F=1,V=2,U=3,q=1/0,K=9007199254740991,Q=17976931348623157e292,X=NaN,te=4294967295,se=te-1,J=te>>>1,le=[["ary",N],["bind",v],["bindKey",T],["curry",R],["curryRight",k],["flip",A],["partial",C],["partialRight",S],["rearg",L]],ce="[object Arguments]",ue="[object Array]",Ie="[object AsyncFunction]",Te="[object Boolean]",Re="[object Date]",ke="[object DOMException]",me="[object Error]",ve="[object Function]",he="[object GeneratorFunction]",Le="[object Map]",Qe="[object Number]",De="[object Null]",xt="[object Object]",Mt="[object Promise]",$t="[object Proxy]",tr="[object RegExp]",br="[object Set]",dr="[object String]",Ne="[object Symbol]",He="[object Undefined]",_t="[object WeakMap]",Ve="[object WeakSet]",ft="[object ArrayBuffer]",Je="[object DataView]",Pt="[object Float32Array]",pe="[object Float64Array]",ye="[object Int8Array]",Me="[object Int16Array]",st="[object Int32Array]",lt="[object Uint8Array]",Xe="[object Uint8ClampedArray]",we="[object Uint16Array]",Ue="[object Uint32Array]",ht=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39);/g,St=/[&<>"']/g,Ot=RegExp(vt.source),nt=RegExp(St.source),jt=/<%-([\s\S]+?)%>/g,Dn=/<%([\s\S]+?)%>/g,ei=/<%=([\s\S]+?)%>/g,vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nr=/^\w*$/,ui=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,jn=RegExp(On.source),ti=/^\s+/,Ui=/\s/,bn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tn=/\{\n\/\* \[wrapped with (.+)\] \*/,ln=/,? & /,Et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cr=/[()=,{}\[\]\/\s]/,En=/\\(\\)?/g,Cn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xn=/\w*$/,ks=/^[-+]0x[0-9a-f]+$/i,Ci=/^0b[01]+$/i,ri=/^\[object .+?Constructor\]$/,Ai=/^0o[0-7]+$/i,An=/^(?:0|[1-9]\d*)$/,jr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rn=/($^)/,Sn=/['\n\r\u2028\u2029\\]/g,Tr="\\ud800-\\udfff",ki="\\u0300-\\u036f",Nn="\\ufe20-\\ufe2f",zt="\\u20d0-\\u20ff",wn=ki+Nn+zt,un="\\u2700-\\u27bf",wt="a-z\\xdf-\\xf6\\xf8-\\xff",ni="\\xac\\xb1\\xd7\\xf7",cn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rs="\\u2000-\\u206f",P=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Y="A-Z\\xc0-\\xd6\\xd8-\\xde",ie="\\ufe0e\\ufe0f",de=ni+cn+Rs+P,Ee="['’]",Ge="["+Tr+"]",et="["+de+"]",yt="["+wn+"]",Ct="\\d+",or="["+un+"]",mr="["+wt+"]",nn="[^"+Tr+de+Ct+un+wt+Y+"]",hn="\\ud83c[\\udffb-\\udfff]",kn="(?:"+yt+"|"+hn+")",Hn="[^"+Tr+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",_n="[\\ud800-\\udbff][\\udc00-\\udfff]",Hr="["+Y+"]",$s="\\u200d",Ri="(?:"+mr+"|"+nn+")",Gt="(?:"+Hr+"|"+nn+")",ls="(?:"+Ee+"(?:d|ll|m|re|s|t|ve))?",Ms="(?:"+Ee+"(?:D|LL|M|RE|S|T|VE))?",Ls=kn+"?",Wn="["+ie+"]?",ji="(?:"+$s+"(?:"+[Hn,Pn,_n].join("|")+")"+Wn+Ls+")*",Rn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",M=Wn+Ls+ji,W="(?:"+[or,Pn,_n].join("|")+")"+M,ee="(?:"+[Hn+yt+"?",yt,Pn,_n,Ge].join("|")+")",ae=RegExp(Ee,"g"),Se=RegExp(yt,"g"),Be=RegExp(hn+"(?="+hn+")|"+ee+M,"g"),Ke=RegExp([Hr+"?"+mr+"+"+ls+"(?="+[et,Hr,"$"].join("|")+")",Gt+"+"+Ms+"(?="+[et,Hr+Ri,"$"].join("|")+")",Hr+"?"+Ri+"+"+ls,Hr+"+"+Ms,Gn,Rn,Ct,W].join("|"),"g"),dt=RegExp("["+$s+Tr+wn+ie+"]"),bt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wt=-1,Kt={};Kt[Pt]=Kt[pe]=Kt[ye]=Kt[Me]=Kt[st]=Kt[lt]=Kt[Xe]=Kt[we]=Kt[Ue]=!0,Kt[ce]=Kt[ue]=Kt[ft]=Kt[Te]=Kt[Je]=Kt[Re]=Kt[me]=Kt[ve]=Kt[Le]=Kt[Qe]=Kt[xt]=Kt[tr]=Kt[br]=Kt[dr]=Kt[_t]=!1;var nr={};nr[ce]=nr[ue]=nr[ft]=nr[Je]=nr[Te]=nr[Re]=nr[Pt]=nr[pe]=nr[ye]=nr[Me]=nr[st]=nr[Le]=nr[Qe]=nr[xt]=nr[tr]=nr[br]=nr[dr]=nr[Ne]=nr[lt]=nr[Xe]=nr[we]=nr[Ue]=!0,nr[me]=nr[ve]=nr[_t]=!1;var _e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mt=parseFloat,Tt=parseInt,Bt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Zt=typeof self=="object"&&self&&self.Object===Object&&self,Rt=Bt||Zt||Function("return this")(),Vt=n&&!n.nodeType&&n,xr=Vt&&!0&&e&&!e.nodeType&&e,Lr=xr&&xr.exports===Vt,Pr=Lr&&Bt.process,Mr=function(){try{var ze=xr&&xr.require&&xr.require("util").types;return ze||Pr&&Pr.binding&&Pr.binding("util")}catch{}}(),Jr=Mr&&Mr.isArrayBuffer,ii=Mr&&Mr.isDate,$i=Mr&&Mr.isMap,us=Mr&&Mr.isRegExp,Uo=Mr&&Mr.isSet,Ma=Mr&&Mr.isTypedArray;function fn(ze,rt,Ze){switch(Ze.length){case 0:return ze.call(rt);case 1:return ze.call(rt,Ze[0]);case 2:return ze.call(rt,Ze[0],Ze[1]);case 3:return ze.call(rt,Ze[0],Ze[1],Ze[2])}return ze.apply(rt,Ze)}function wd(ze,rt,Ze,Lt){for(var qt=-1,pr=ze==null?0:ze.length;++qt<pr;){var en=ze[qt];rt(Lt,en,Ze(en),ze)}return Lt}function Mi(ze,rt){for(var Ze=-1,Lt=ze==null?0:ze.length;++Ze<Lt&&rt(ze[Ze],Ze,ze)!==!1;);return ze}function _d(ze,rt){for(var Ze=ze==null?0:ze.length;Ze--&&rt(ze[Ze],Ze,ze)!==!1;);return ze}function Oh(ze,rt){for(var Ze=-1,Lt=ze==null?0:ze.length;++Ze<Lt;)if(!rt(ze[Ze],Ze,ze))return!1;return!0}function cs(ze,rt){for(var Ze=-1,Lt=ze==null?0:ze.length,qt=0,pr=[];++Ze<Lt;){var en=ze[Ze];rt(en,Ze,ze)&&(pr[qt++]=en)}return pr}function Pl(ze,rt){var Ze=ze==null?0:ze.length;return!!Ze&&eo(ze,rt,0)>-1}function Wu(ze,rt,Ze){for(var Lt=-1,qt=ze==null?0:ze.length;++Lt<qt;)if(Ze(rt,ze[Lt]))return!0;return!1}function zr(ze,rt){for(var Ze=-1,Lt=ze==null?0:ze.length,qt=Array(Lt);++Ze<Lt;)qt[Ze]=rt(ze[Ze],Ze,ze);return qt}function Is(ze,rt){for(var Ze=-1,Lt=rt.length,qt=ze.length;++Ze<Lt;)ze[qt+Ze]=rt[Ze];return ze}function Gu(ze,rt,Ze,Lt){var qt=-1,pr=ze==null?0:ze.length;for(Lt&&pr&&(Ze=ze[++qt]);++qt<pr;)Ze=rt(Ze,ze[qt],qt,ze);return Ze}function Td(ze,rt,Ze,Lt){var qt=ze==null?0:ze.length;for(Lt&&qt&&(Ze=ze[--qt]);qt--;)Ze=rt(Ze,ze[qt],qt,ze);return Ze}function Ku(ze,rt){for(var Ze=-1,Lt=ze==null?0:ze.length;++Ze<Lt;)if(rt(ze[Ze],Ze,ze))return!0;return!1}var Ed=zl("length");function Cd(ze){return ze.split("")}function Ad(ze){return ze.match(Et)||[]}function Nh(ze,rt,Ze){var Lt;return Ze(ze,function(qt,pr,en){if(rt(qt,pr,en))return Lt=pr,!1}),Lt}function Fl(ze,rt,Ze,Lt){for(var qt=ze.length,pr=Ze+(Lt?1:-1);Lt?pr--:++pr<qt;)if(rt(ze[pr],pr,ze))return pr;return-1}function eo(ze,rt,Ze){return rt===rt?Md(ze,rt,Ze):Fl(ze,to,Ze)}function qu(ze,rt,Ze,Lt){for(var qt=Ze-1,pr=ze.length;++qt<pr;)if(Lt(ze[qt],rt))return qt;return-1}function to(ze){return ze!==ze}function Ph(ze,rt){var Ze=ze==null?0:ze.length;return Ze?Vl(ze,rt)/Ze:X}function zl(ze){return function(rt){return rt==null?i:rt[ze]}}function Bl(ze){return function(rt){return ze==null?i:ze[rt]}}function Yu(ze,rt,Ze,Lt,qt){return qt(ze,function(pr,en,Ir){Ze=Lt?(Lt=!1,pr):rt(Ze,pr,en,Ir)}),Ze}function Fh(ze,rt){var Ze=ze.length;for(ze.sort(rt);Ze--;)ze[Ze]=ze[Ze].value;return ze}function Vl(ze,rt){for(var Ze,Lt=-1,qt=ze.length;++Lt<qt;){var pr=rt(ze[Lt]);pr!==i&&(Ze=Ze===i?pr:Ze+pr)}return Ze}function ia(ze,rt){for(var Ze=-1,Lt=Array(ze);++Ze<ze;)Lt[Ze]=rt(Ze);return Lt}function kd(ze,rt){return zr(rt,function(Ze){return[Ze,ze[Ze]]})}function zh(ze){return ze&&ze.slice(0,Qu(ze)+1).replace(ti,"")}function ci(ze){return function(rt){return ze(rt)}}function Ul(ze,rt){return zr(rt,function(Ze){return ze[Ze]})}function ro(ze,rt){return ze.has(rt)}function no(ze,rt){for(var Ze=-1,Lt=ze.length;++Ze<Lt&&eo(rt,ze[Ze],0)>-1;);return Ze}function io(ze,rt){for(var Ze=ze.length;Ze--&&eo(rt,ze[Ze],0)>-1;);return Ze}function Rd(ze,rt){for(var Ze=ze.length,Lt=0;Ze--;)ze[Ze]===rt&&++Lt;return Lt}var jl=Bl(_e),Bh=Bl(re);function Vh(ze){return"\\"+$e[ze]}function Xu(ze,rt){return ze==null?i:ze[rt]}function sa(ze){return dt.test(ze)}function Uh(ze){return bt.test(ze)}function jh(ze){for(var rt,Ze=[];!(rt=ze.next()).done;)Ze.push(rt.value);return Ze}function Hl(ze){var rt=-1,Ze=Array(ze.size);return ze.forEach(function(Lt,qt){Ze[++rt]=[qt,Lt]}),Ze}function Hh(ze,rt){return function(Ze){return ze(rt(Ze))}}function aa(ze,rt){for(var Ze=-1,Lt=ze.length,qt=0,pr=[];++Ze<Lt;){var en=ze[Ze];(en===rt||en===c)&&(ze[Ze]=c,pr[qt++]=Ze)}return pr}function Wl(ze){var rt=-1,Ze=Array(ze.size);return ze.forEach(function(Lt){Ze[++rt]=Lt}),Ze}function $d(ze){var rt=-1,Ze=Array(ze.size);return ze.forEach(function(Lt){Ze[++rt]=[Lt,Lt]}),Ze}function Md(ze,rt,Ze){for(var Lt=Ze-1,qt=ze.length;++Lt<qt;)if(ze[Lt]===rt)return Lt;return-1}function hi(ze,rt,Ze){for(var Lt=Ze+1;Lt--;)if(ze[Lt]===rt)return Lt;return Lt}function hs(ze){return sa(ze)?Gh(ze):Ed(ze)}function Li(ze){return sa(ze)?Zu(ze):Cd(ze)}function Qu(ze){for(var rt=ze.length;rt--&&Ui.test(ze.charAt(rt)););return rt}var Wh=Bl(xe);function Gh(ze){for(var rt=Be.lastIndex=0;Be.test(ze);)++rt;return rt}function Zu(ze){return ze.match(Be)||[]}function Ld(ze){return ze.match(Ke)||[]}var Id=function ze(rt){rt=rt==null?Rt:Hi.defaults(Rt.Object(),rt,Hi.pick(Rt,Ht));var Ze=rt.Array,Lt=rt.Date,qt=rt.Error,pr=rt.Function,en=rt.Math,Ir=rt.Object,Ds=rt.RegExp,Kh=rt.String,fi=rt.TypeError,jo=Ze.prototype,Dd=pr.prototype,so=Ir.prototype,Gl=rt["__core-js_shared__"],Ho=Dd.toString,kr=so.hasOwnProperty,qh=0,Ii=function(){var E=/[^.]+$/.exec(Gl&&Gl.keys&&Gl.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),Kn=so.toString,ao=Ho.call(Ir),Ju=Rt._,Kl=Ds("^"+Ho.call(kr).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),La=Lr?rt.Buffer:i,fs=rt.Symbol,Wi=rt.Uint8Array,ec=La?La.allocUnsafe:i,Ia=Hh(Ir.getPrototypeOf,Ir),Da=Ir.create,tc=so.propertyIsEnumerable,qn=jo.splice,Oa=fs?fs.isConcatSpreadable:i,ds=fs?fs.iterator:i,ps=fs?fs.toStringTag:i,Na=function(){try{var E=es(Ir,"defineProperty");return E({},"",{}),E}catch{}}(),Di=rt.clearTimeout!==Rt.clearTimeout&&rt.clearTimeout,Oi=Lt&&Lt.now!==Rt.Date.now&&Lt.now,Pa=rt.setTimeout!==Rt.setTimeout&&rt.setTimeout,Ni=en.ceil,Pi=en.floor,Os=Ir.getOwnPropertySymbols,Yh=La?La.isBuffer:i,ql=rt.isFinite,rc=jo.join,Yn=Hh(Ir.keys,Ir),gr=en.max,Jt=en.min,Gi=Lt.now,ms=rt.parseInt,Yl=en.random,Fa=jo.reverse,Xl=es(rt,"DataView"),oo=es(rt,"Map"),za=es(rt,"Promise"),gs=es(rt,"Set"),Ns=es(rt,"WeakMap"),Ps=es(Ir,"create"),Wo=Ns&&new Ns,oa={},Xh=li(Xl),Ql=li(oo),Qh=li(za),Go=li(gs),Zh=li(Ns),Fs=fs?fs.prototype:i,zs=Fs?Fs.valueOf:i,Ko=Fs?Fs.toString:i;function fe(E){if(Zr(E)&&!rr(E)&&!(E instanceof ir)){if(E instanceof di)return E;if(kr.call(E,"__wrapped__"))return xu(E)}return new di(E)}var Bs=function(){function E(){}return function(I){if(!Ur(I))return{};if(Da)return Da(I);E.prototype=I;var H=new E;return E.prototype=i,H}}();function qo(){}function di(E,I){this.__wrapped__=E,this.__actions__=[],this.__chain__=!!I,this.__index__=0,this.__values__=i}fe.templateSettings={escape:jt,evaluate:Dn,interpolate:ei,variable:"",imports:{_:fe}},fe.prototype=qo.prototype,fe.prototype.constructor=fe,di.prototype=Bs(qo.prototype),di.prototype.constructor=di;function ir(E){this.__wrapped__=E,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Jh(){var E=new ir(this.__wrapped__);return E.__actions__=Xn(this.__actions__),E.__dir__=this.__dir__,E.__filtered__=this.__filtered__,E.__iteratees__=Xn(this.__iteratees__),E.__takeCount__=this.__takeCount__,E.__views__=Xn(this.__views__),E}function lo(){if(this.__filtered__){var E=new ir(this);E.__dir__=-1,E.__filtered__=!0}else E=this.clone(),E.__dir__*=-1;return E}function Zl(){var E=this.__wrapped__.value(),I=this.__dir__,H=rr(E),Z=I<0,oe=H?E.length:0,be=Sa(0,oe,this.__views__),Ae=be.start,Oe=be.end,je=Oe-Ae,ot=Z?Oe:Ae-1,ct=this.__iteratees__,gt=ct.length,kt=0,Nt=Jt(je,this.__takeCount__);if(!H||!Z&&oe==je&&Nt==je)return uu(E,this.__actions__);var Xt=[];e:for(;je--&&kt<Nt;){ot+=I;for(var hr=-1,Qt=E[ot];++hr<gt;){var vr=ct[hr],_r=vr.iteratee,as=vr.type,Ei=_r(Qt);if(as==V)Qt=Ei;else if(!Ei){if(as==F)continue e;break e}}Xt[kt++]=Qt}return Xt}ir.prototype=Bs(qo.prototype),ir.prototype.constructor=ir;function la(E){var I=-1,H=E==null?0:E.length;for(this.clear();++I<H;){var Z=E[I];this.set(Z[0],Z[1])}}function nc(){this.__data__=Ps?Ps(null):{},this.size=0}function ic(E){var I=this.has(E)&&delete this.__data__[E];return this.size-=I?1:0,I}function Fi(E){var I=this.__data__;if(Ps){var H=I[E];return H===d?i:H}return kr.call(I,E)?I[E]:i}function ys(E){var I=this.__data__;return Ps?I[E]!==i:kr.call(I,E)}function ua(E,I){var H=this.__data__;return this.size+=this.has(E)?0:1,H[E]=Ps&&I===i?d:I,this}la.prototype.clear=nc,la.prototype.delete=ic,la.prototype.get=Fi,la.prototype.has=ys,la.prototype.set=ua;function vs(E){var I=-1,H=E==null?0:E.length;for(this.clear();++I<H;){var Z=E[I];this.set(Z[0],Z[1])}}function ca(){this.__data__=[],this.size=0}function Vs(E){var I=this.__data__,H=Va(I,E);if(H<0)return!1;var Z=I.length-1;return H==Z?I.pop():qn.call(I,H,1),--this.size,!0}function dn(E){var I=this.__data__,H=Va(I,E);return H<0?i:I[H][1]}function Jl(E){return Va(this.__data__,E)>-1}function Od(E,I){var H=this.__data__,Z=Va(H,E);return Z<0?(++this.size,H.push([E,I])):H[Z][1]=I,this}vs.prototype.clear=ca,vs.prototype.delete=Vs,vs.prototype.get=dn,vs.prototype.has=Jl,vs.prototype.set=Od;function Us(E){var I=-1,H=E==null?0:E.length;for(this.clear();++I<H;){var Z=E[I];this.set(Z[0],Z[1])}}function Nd(){this.size=0,this.__data__={hash:new la,map:new(oo||vs),string:new la}}function pn(E){var I=ko(this,E).delete(E);return this.size-=I?1:0,I}function sc(E){return ko(this,E).get(E)}function Yo(E){return ko(this,E).has(E)}function Xo(E,I){var H=ko(this,E),Z=H.size;return H.set(E,I),this.size+=H.size==Z?0:1,this}Us.prototype.clear=Nd,Us.prototype.delete=pn,Us.prototype.get=sc,Us.prototype.has=Yo,Us.prototype.set=Xo;function js(E){var I=-1,H=E==null?0:E.length;for(this.__data__=new Us;++I<H;)this.add(E[I])}function uo(E){return this.__data__.set(E,d),this}function co(E){return this.__data__.has(E)}js.prototype.add=js.prototype.push=uo,js.prototype.has=co;function Ki(E){var I=this.__data__=new vs(E);this.size=I.size}function ef(){this.__data__=new vs,this.size=0}function Pd(E){var I=this.__data__,H=I.delete(E);return this.size=I.size,H}function tf(E){return this.__data__.get(E)}function Ba(E){return this.__data__.has(E)}function ac(E,I){var H=this.__data__;if(H instanceof vs){var Z=H.__data__;if(!oo||Z.length<w-1)return Z.push([E,I]),this.size=++H.size,this;H=this.__data__=new Us(Z)}return H.set(E,I),this.size=H.size,this}Ki.prototype.clear=ef,Ki.prototype.delete=Pd,Ki.prototype.get=tf,Ki.prototype.has=Ba,Ki.prototype.set=ac;function Qo(E,I){var H=rr(E),Z=!H&&Ca(E),oe=!H&&!Z&&Aa(E),be=!H&&!Z&&!oe&&ss(E),Ae=H||Z||oe||be,Oe=Ae?ia(E.length,Kh):[],je=Oe.length;for(var ot in E)(I||kr.call(E,ot))&&!(Ae&&(ot=="length"||oe&&(ot=="offset"||ot=="parent")||be&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||ts(ot,je)))&&Oe.push(ot);return Oe}function oc(E){var I=E.length;return I?E[lu(0,I-1)]:i}function ha(E,I){return dl(Xn(E),Ua(I,0,E.length))}function ur(E){return dl(Xn(E))}function Rr(E,I,H){(H!==i&&!Vi(E[I],H)||H===i&&!(I in E))&&pi(E,I,H)}function Br(E,I,H){var Z=E[I];(!(kr.call(E,I)&&Vi(Z,H))||H===i&&!(I in E))&&pi(E,I,H)}function Va(E,I){for(var H=E.length;H--;)if(Vi(E[H][0],I))return H;return-1}function ho(E,I,H,Z){return pa(E,function(oe,be,Ae){I(Z,oe,H(oe),Ae)}),Z}function fa(E,I){return E&&Yi(I,gn(I),E)}function eu(E,I){return E&&Yi(I,Jn(I),E)}function pi(E,I,H){I=="__proto__"&&Na?Na(E,I,{configurable:!0,enumerable:!0,value:H,writable:!0}):E[I]=H}function da(E,I){for(var H=-1,Z=I.length,oe=Ze(Z),be=E==null;++H<Z;)oe[H]=be?i:Vo(E,I[H]);return oe}function Ua(E,I,H){return E===E&&(H!==i&&(E=E<=H?E:H),I!==i&&(E=E>=I?E:I)),E}function Er(E,I,H,Z,oe,be){var Ae,Oe=I&s,je=I&o,ot=I&u;if(H&&(Ae=oe?H(E,Z,oe,be):H(E)),Ae!==i)return Ae;if(!Ur(E))return E;var ct=rr(E);if(ct){if(Ae=Ga(E),!Oe)return Xn(E,Ae)}else{var gt=an(E),kt=gt==ve||gt==he;if(Aa(E))return Cc(E,Oe);if(gt==xt||gt==ce||kt&&!oe){if(Ae=je||kt?{}:oi(E),!Oe)return je?al(E,eu(Ae,E)):bf(E,fa(Ae,E))}else{if(!nr[gt])return oe?E:{};Ae=Sf(E,gt,Oe)}}be||(be=new Ki);var Nt=be.get(E);if(Nt)return Nt;be.set(E,Ae),As(E)?E.forEach(function(Qt){Ae.add(Er(Qt,I,H,Qt,E,be))}):ad(E)&&E.forEach(function(Qt,vr){Ae.set(vr,Er(Qt,I,H,vr,E,be))});var Xt=ot?je?ul:ws:je?Jn:gn,hr=ct?i:Xt(E);return Mi(hr||E,function(Qt,vr){hr&&(vr=Qt,Qt=E[vr]),Br(Ae,vr,Er(Qt,I,H,vr,E,be))}),Ae}function lc(E){var I=gn(E);return function(H){return tu(H,E,I)}}function tu(E,I,H){var Z=H.length;if(E==null)return!Z;for(E=Ir(E);Z--;){var oe=H[Z],be=I[oe],Ae=E[oe];if(Ae===i&&!(oe in E)||!be(Ae))return!1}return!0}function uc(E,I,H){if(typeof E!="function")throw new fi(y);return Bn(function(){E.apply(i,H)},I)}function fo(E,I,H,Z){var oe=-1,be=Pl,Ae=!0,Oe=E.length,je=[],ot=I.length;if(!Oe)return je;H&&(I=zr(I,ci(H))),Z?(be=Wu,Ae=!1):I.length>=w&&(be=ro,Ae=!1,I=new js(I));e:for(;++oe<Oe;){var ct=E[oe],gt=H==null?ct:H(ct);if(ct=Z||ct!==0?ct:0,Ae&&gt===gt){for(var kt=ot;kt--;)if(I[kt]===gt)continue e;je.push(ct)}else be(I,gt,Z)||je.push(ct)}return je}var pa=$c(zi),ru=$c(qi,!0);function cc(E,I){var H=!0;return pa(E,function(Z,oe,be){return H=!!I(Z,oe,be),H}),H}function po(E,I,H){for(var Z=-1,oe=E.length;++Z<oe;){var be=E[Z],Ae=I(be);if(Ae!=null&&(Oe===i?Ae===Ae&&!_i(Ae):H(Ae,Oe)))var Oe=Ae,je=be}return je}function si(E,I,H,Z){var oe=E.length;for(H=ar(H),H<0&&(H=-H>oe?0:oe+H),Z=Z===i||Z>oe?oe:ar(Z),Z<0&&(Z+=oe),Z=H>Z?0:Th(Z);H<Z;)E[H++]=I;return E}function tn(E,I){var H=[];return pa(E,function(Z,oe,be){I(Z,oe,be)&&H.push(Z)}),H}function sn(E,I,H,Z,oe){var be=-1,Ae=E.length;for(H||(H=_f),oe||(oe=[]);++be<Ae;){var Oe=E[be];I>0&&H(Oe)?I>1?sn(Oe,I-1,H,Z,oe):Is(oe,Oe):Z||(oe[oe.length]=Oe)}return oe}var ja=Mc(),Zo=Mc(!0);function zi(E,I){return E&&ja(E,I,gn)}function qi(E,I){return E&&Zo(E,I,gn)}function Ha(E,I){return cs(I,function(H){return ea(E[H])})}function Hs(E,I){I=Gs(I,E);for(var H=0,Z=I.length;E!=null&&H<Z;)E=E[Qn(I[H++])];return H&&H==Z?E:i}function nu(E,I,H){var Z=I(E);return rr(E)?Z:Is(Z,H(E))}function Fn(E){return E==null?E===i?He:De:ps&&ps in Ir(E)?fl(E):yi(E)}function iu(E,I){return E>I}function rf(E,I){return E!=null&&kr.call(E,I)}function nf(E,I){return E!=null&&I in Ir(E)}function sf(E,I,H){return E>=Jt(I,H)&&E<gr(I,H)}function su(E,I,H){for(var Z=H?Wu:Pl,oe=E[0].length,be=E.length,Ae=be,Oe=Ze(be),je=1/0,ot=[];Ae--;){var ct=E[Ae];Ae&&I&&(ct=zr(ct,ci(I))),je=Jt(ct.length,je),Oe[Ae]=!H&&(I||oe>=120&&ct.length>=120)?new js(Ae&&ct):i}ct=E[0];var gt=-1,kt=Oe[0];e:for(;++gt<oe&&ot.length<je;){var Nt=ct[gt],Xt=I?I(Nt):Nt;if(Nt=H||Nt!==0?Nt:0,!(kt?ro(kt,Xt):Z(ot,Xt,H))){for(Ae=be;--Ae;){var hr=Oe[Ae];if(!(hr?ro(hr,Xt):Z(E[Ae],Xt,H)))continue e}kt&&kt.push(Xt),ot.push(Nt)}}return ot}function hc(E,I,H,Z){return zi(E,function(oe,be,Ae){I(Z,H(oe),be,Ae)}),Z}function mo(E,I,H){I=Gs(I,E),E=zc(E,I);var Z=E==null?E:E[Qn(Zn(I))];return Z==null?i:fn(Z,E,H)}function af(E){return Zr(E)&&Fn(E)==ce}function of(E){return Zr(E)&&Fn(E)==ft}function lf(E){return Zr(E)&&Fn(E)==Re}function go(E,I,H,Z,oe){return E===I?!0:E==null||I==null||!Zr(E)&&!Zr(I)?E!==E&&I!==I:fc(E,I,H,Z,go,oe)}function fc(E,I,H,Z,oe,be){var Ae=rr(E),Oe=rr(I),je=Ae?ue:an(E),ot=Oe?ue:an(I);je=je==ce?xt:je,ot=ot==ce?xt:ot;var ct=je==xt,gt=ot==xt,kt=je==ot;if(kt&&Aa(E)){if(!Aa(I))return!1;Ae=!0,ct=!1}if(kt&&!ct)return be||(be=new Ki),Ae||ss(E)?xa(E,I,H,Z,oe,be):zn(E,I,je,H,Z,oe,be);if(!(H&h)){var Nt=ct&&kr.call(E,"__wrapped__"),Xt=gt&&kr.call(I,"__wrapped__");if(Nt||Xt){var hr=Nt?E.value():E,Qt=Xt?I.value():I;return be||(be=new Ki),oe(hr,Qt,H,Z,be)}}return kt?(be||(be=new Ki),yu(E,I,H,Z,oe,be)):!1}function uf(E){return Zr(E)&&an(E)==Le}function au(E,I,H,Z){var oe=H.length,be=oe,Ae=!Z;if(E==null)return!be;for(E=Ir(E);oe--;){var Oe=H[oe];if(Ae&&Oe[2]?Oe[1]!==E[Oe[0]]:!(Oe[0]in E))return!1}for(;++oe<be;){Oe=H[oe];var je=Oe[0],ot=E[je],ct=Oe[1];if(Ae&&Oe[2]){if(ot===i&&!(je in E))return!1}else{var gt=new Ki;if(Z)var kt=Z(ot,ct,je,E,I,gt);if(!(kt===i?go(ct,ot,h|m,Z,gt):kt))return!1}}return!0}function dc(E){if(!Ur(E)||Pc(E))return!1;var I=ea(E)?Kl:ri;return I.test(li(E))}function cf(E){return Zr(E)&&Fn(E)==tr}function hf(E){return Zr(E)&&an(E)==br}function Fd(E){return Zr(E)&&Mu(E.length)&&!!Kt[Fn(E)]}function pc(E){return typeof E=="function"?E:E==null?Ar:typeof E=="object"?rr(E)?ou(E[0],E[1]):mc(E):kp(E)}function ma(E){if(!Xr(E))return Yn(E);var I=[];for(var H in Ir(E))kr.call(E,H)&&H!="constructor"&&I.push(H);return I}function ff(E){if(!Ur(E))return on(E);var I=Xr(E),H=[];for(var Z in E)Z=="constructor"&&(I||!kr.call(E,Z))||H.push(Z);return H}function yo(E,I){return E<I}function Jo(E,I){var H=-1,Z=sr(E)?Ze(E.length):[];return pa(E,function(oe,be,Ae){Z[++H]=I(oe,be,Ae)}),Z}function mc(E){var I=hl(E);return I.length==1&&I[0][2]?Ef(I[0][0],I[0][1]):function(H){return H===E||au(H,E,I)}}function ou(E,I){return Ro(E)&&Fc(I)?Ef(Qn(E),I):function(H){var Z=Vo(H,E);return Z===i&&Z===I?kh(H,E):go(I,Z,h|m)}}function el(E,I,H,Z,oe){E!==I&&ja(I,function(be,Ae){if(oe||(oe=new Ki),Ur(be))df(E,I,Ae,H,el,Z,oe);else{var Oe=Z?Z(Bc(E,Ae),be,Ae+"",E,I,oe):i;Oe===i&&(Oe=be),Rr(E,Ae,Oe)}},Jn)}function df(E,I,H,Z,oe,be,Ae){var Oe=Bc(E,H),je=Bc(I,H),ot=Ae.get(je);if(ot){Rr(E,H,ot);return}var ct=be?be(Oe,je,H+"",E,I,Ae):i,gt=ct===i;if(gt){var kt=rr(je),Nt=!kt&&Aa(je),Xt=!kt&&!Nt&&ss(je);ct=je,kt||Nt||Xt?rr(Oe)?ct=Oe:Kr(Oe)?ct=Xn(Oe):Nt?(gt=!1,ct=Cc(je,!0)):Xt?(gt=!1,ct=Ac(je,!0)):ct=[]:Un(je)||Ca(je)?(ct=Oe,Ca(Oe)?ct=Fo(Oe):(!Ur(Oe)||ea(Oe))&&(ct=oi(je))):gt=!1}gt&&(Ae.set(je,ct),oe(ct,je,Z,be,Ae),Ae.delete(je)),Rr(E,H,ct)}function gc(E,I){var H=E.length;if(H)return I+=I<0?H:0,ts(I,H)?E[I]:i}function yc(E,I,H){I.length?I=zr(I,function(be){return rr(be)?function(Ae){return Hs(Ae,be.length===1?be[0]:be)}:be}):I=[Ar];var Z=-1;I=zr(I,ci(Ut()));var oe=Jo(E,function(be,Ae,Oe){var je=zr(I,function(ot){return ot(be)});return{criteria:je,index:++Z,value:be}});return Fh(oe,function(be,Ae){return $n(be,Ae,H)})}function vc(E,I){return bc(E,I,function(H,Z){return kh(E,Z)})}function bc(E,I,H){for(var Z=-1,oe=I.length,be={};++Z<oe;){var Ae=I[Z],Oe=Hs(E,Ae);H(Oe,Ae)&&vo(be,Gs(Ae,E),Oe)}return be}function pf(E){return function(I){return Hs(I,E)}}function tl(E,I,H,Z){var oe=Z?qu:eo,be=-1,Ae=I.length,Oe=E;for(E===I&&(I=Xn(I)),H&&(Oe=zr(E,ci(H)));++be<Ae;)for(var je=0,ot=I[be],ct=H?H(ot):ot;(je=oe(Oe,ct,je,Z))>-1;)Oe!==E&&qn.call(Oe,je,1),qn.call(E,je,1);return E}function xc(E,I){for(var H=E?I.length:0,Z=H-1;H--;){var oe=I[H];if(H==Z||oe!==be){var be=oe;ts(oe)?qn.call(E,oe,1):bs(E,oe)}}return E}function lu(E,I){return E+Pi(Yl()*(I-E+1))}function zd(E,I,H,Z){for(var oe=-1,be=gr(Ni((I-E)/(H||1)),0),Ae=Ze(be);be--;)Ae[Z?be:++oe]=E,E+=H;return Ae}function rl(E,I){var H="";if(!E||I<1||I>K)return H;do I%2&&(H+=E),I=Pi(I/2),I&&(E+=E);while(I);return H}function lr(E,I){return vi(_s(E,I,Ar),E+"")}function mf(E){return oc(Ti(E))}function Sc(E,I){var H=Ti(E);return dl(H,Ua(I,0,H.length))}function vo(E,I,H,Z){if(!Ur(E))return E;I=Gs(I,E);for(var oe=-1,be=I.length,Ae=be-1,Oe=E;Oe!=null&&++oe<be;){var je=Qn(I[oe]),ot=H;if(je==="__proto__"||je==="constructor"||je==="prototype")return E;if(oe!=Ae){var ct=Oe[je];ot=Z?Z(ct,je,Oe):i,ot===i&&(ot=Ur(ct)?ct:ts(I[oe+1])?[]:{})}Br(Oe,je,ot),Oe=Oe[je]}return E}var wc=Wo?function(E,I){return Wo.set(E,I),E}:Ar,Bd=Na?function(E,I){return Na(E,"toString",{configurable:!0,enumerable:!1,value:It(I),writable:!0})}:Ar;function Vd(E){return dl(Ti(E))}function mi(E,I,H){var Z=-1,oe=E.length;I<0&&(I=-I>oe?0:oe+I),H=H>oe?oe:H,H<0&&(H+=oe),oe=I>H?0:H-I>>>0,I>>>=0;for(var be=Ze(oe);++Z<oe;)be[Z]=E[Z+I];return be}function nl(E,I){var H;return pa(E,function(Z,oe,be){return H=I(Z,oe,be),!H}),!!H}function bo(E,I,H){var Z=0,oe=E==null?Z:E.length;if(typeof I=="number"&&I===I&&oe<=J){for(;Z<oe;){var be=Z+oe>>>1,Ae=E[be];Ae!==null&&!_i(Ae)&&(H?Ae<=I:Ae<I)?Z=be+1:oe=be}return oe}return xo(E,I,Ar,H)}function xo(E,I,H,Z){var oe=0,be=E==null?0:E.length;if(be===0)return 0;I=H(I);for(var Ae=I!==I,Oe=I===null,je=_i(I),ot=I===i;oe<be;){var ct=Pi((oe+be)/2),gt=H(E[ct]),kt=gt!==i,Nt=gt===null,Xt=gt===gt,hr=_i(gt);if(Ae)var Qt=Z||Xt;else ot?Qt=Xt&&(Z||kt):Oe?Qt=Xt&&kt&&(Z||!Nt):je?Qt=Xt&&kt&&!Nt&&(Z||!hr):Nt||hr?Qt=!1:Qt=Z?gt<=I:gt<I;Qt?oe=ct+1:be=ct}return Jt(be,se)}function _c(E,I){for(var H=-1,Z=E.length,oe=0,be=[];++H<Z;){var Ae=E[H],Oe=I?I(Ae):Ae;if(!H||!Vi(Oe,je)){var je=Oe;be[oe++]=Ae===0?0:Ae}}return be}function Tc(E){return typeof E=="number"?E:_i(E)?X:+E}function Yr(E){if(typeof E=="string")return E;if(rr(E))return zr(E,Yr)+"";if(_i(E))return Ko?Ko.call(E):"";var I=E+"";return I=="0"&&1/E==-1/0?"-0":I}function ai(E,I,H){var Z=-1,oe=Pl,be=E.length,Ae=!0,Oe=[],je=Oe;if(H)Ae=!1,oe=Wu;else if(be>=w){var ot=I?null:ba(E);if(ot)return Wl(ot);Ae=!1,oe=ro,je=new js}else je=I?[]:Oe;e:for(;++Z<be;){var ct=E[Z],gt=I?I(ct):ct;if(ct=H||ct!==0?ct:0,Ae&&gt===gt){for(var kt=je.length;kt--;)if(je[kt]===gt)continue e;I&&je.push(gt),Oe.push(ct)}else oe(je,gt,H)||(je!==Oe&&je.push(gt),Oe.push(ct))}return Oe}function bs(E,I){return I=Gs(I,E),E=zc(E,I),E==null||delete E[Qn(Zn(I))]}function ga(E,I,H,Z){return vo(E,I,H(Hs(E,I)),Z)}function So(E,I,H,Z){for(var oe=E.length,be=Z?oe:-1;(Z?be--:++be<oe)&&I(E[be],be,E););return H?mi(E,Z?0:be,Z?be+1:oe):mi(E,Z?be+1:0,Z?oe:be)}function uu(E,I){var H=E;return H instanceof ir&&(H=H.value()),Gu(I,function(Z,oe){return oe.func.apply(oe.thisArg,Is([Z],oe.args))},H)}function cu(E,I,H){var Z=E.length;if(Z<2)return Z?ai(E[0]):[];for(var oe=-1,be=Ze(Z);++oe<Z;)for(var Ae=E[oe],Oe=-1;++Oe<Z;)Oe!=oe&&(be[oe]=fo(be[oe]||Ae,E[Oe],I,H));return ai(sn(be,1),I,H)}function Ec(E,I,H){for(var Z=-1,oe=E.length,be=I.length,Ae={};++Z<oe;){var Oe=Z<be?I[Z]:i;H(Ae,E[Z],Oe)}return Ae}function Ws(E){return Kr(E)?E:[]}function wo(E){return typeof E=="function"?E:Ar}function Gs(E,I){return rr(E)?E:Ro(E,I)?[E]:Ts($r(E))}var gf=lr;function Ks(E,I,H){var Z=E.length;return H=H===i?Z:H,!I&&H>=Z?E:mi(E,I,H)}var il=Di||function(E){return Rt.clearTimeout(E)};function Cc(E,I){if(I)return E.slice();var H=E.length,Z=ec?ec(H):new E.constructor(H);return E.copy(Z),Z}function sl(E){var I=new E.constructor(E.byteLength);return new Wi(I).set(new Wi(E)),I}function yf(E,I){var H=I?sl(E.buffer):E.buffer;return new E.constructor(H,E.byteOffset,E.byteLength)}function vf(E){var I=new E.constructor(E.source,xn.exec(E));return I.lastIndex=E.lastIndex,I}function Ud(E){return zs?Ir(zs.call(E)):{}}function Ac(E,I){var H=I?sl(E.buffer):E.buffer;return new E.constructor(H,E.byteOffset,E.length)}function mn(E,I){if(E!==I){var H=E!==i,Z=E===null,oe=E===E,be=_i(E),Ae=I!==i,Oe=I===null,je=I===I,ot=_i(I);if(!Oe&&!ot&&!be&&E>I||be&&Ae&&je&&!Oe&&!ot||Z&&Ae&&je||!H&&je||!oe)return 1;if(!Z&&!be&&!ot&&E<I||ot&&H&&oe&&!Z&&!be||Oe&&H&&oe||!Ae&&oe||!je)return-1}return 0}function $n(E,I,H){for(var Z=-1,oe=E.criteria,be=I.criteria,Ae=oe.length,Oe=H.length;++Z<Ae;){var je=mn(oe[Z],be[Z]);if(je){if(Z>=Oe)return je;var ot=H[Z];return je*(ot=="desc"?-1:1)}}return E.index-I.index}function kc(E,I,H,Z){for(var oe=-1,be=E.length,Ae=H.length,Oe=-1,je=I.length,ot=gr(be-Ae,0),ct=Ze(je+ot),gt=!Z;++Oe<je;)ct[Oe]=I[Oe];for(;++oe<Ae;)(gt||oe<be)&&(ct[H[oe]]=E[oe]);for(;ot--;)ct[Oe++]=E[oe++];return ct}function Rc(E,I,H,Z){for(var oe=-1,be=E.length,Ae=-1,Oe=H.length,je=-1,ot=I.length,ct=gr(be-Oe,0),gt=Ze(ct+ot),kt=!Z;++oe<ct;)gt[oe]=E[oe];for(var Nt=oe;++je<ot;)gt[Nt+je]=I[je];for(;++Ae<Oe;)(kt||oe<be)&&(gt[Nt+H[Ae]]=E[oe++]);return gt}function Xn(E,I){var H=-1,Z=E.length;for(I||(I=Ze(Z));++H<Z;)I[H]=E[H];return I}function Yi(E,I,H,Z){var oe=!H;H||(H={});for(var be=-1,Ae=I.length;++be<Ae;){var Oe=I[be],je=Z?Z(H[Oe],E[Oe],Oe,H,E):i;je===i&&(je=E[Oe]),oe?pi(H,Oe,je):Br(H,Oe,je)}return H}function bf(E,I){return Yi(E,vu(E),I)}function al(E,I){return Yi(E,Oc(E),I)}function _o(E,I){return function(H,Z){var oe=rr(H)?wd:ho,be=I?I():{};return oe(H,E,Ut(Z,2),be)}}function Wa(E){return lr(function(I,H){var Z=-1,oe=H.length,be=oe>1?H[oe-1]:i,Ae=oe>2?H[2]:i;for(be=E.length>3&&typeof be=="function"?(oe--,be):i,Ae&&Mn(H[0],H[1],Ae)&&(be=oe<3?i:be,oe=1),I=Ir(I);++Z<oe;){var Oe=H[Z];Oe&&E(I,Oe,Z,be)}return I})}function $c(E,I){return function(H,Z){if(H==null)return H;if(!sr(H))return E(H,Z);for(var oe=H.length,be=I?oe:-1,Ae=Ir(H);(I?be--:++be<oe)&&Z(Ae[be],be,Ae)!==!1;);return H}}function Mc(E){return function(I,H,Z){for(var oe=-1,be=Ir(I),Ae=Z(I),Oe=Ae.length;Oe--;){var je=Ae[E?Oe:++oe];if(H(be[je],je,be)===!1)break}return I}}function Lc(E,I,H){var Z=I&v,oe=To(E);function be(){var Ae=this&&this!==Rt&&this instanceof be?oe:E;return Ae.apply(Z?H:this,arguments)}return be}function hu(E){return function(I){I=$r(I);var H=sa(I)?Li(I):i,Z=H?H[0]:I.charAt(0),oe=H?Ks(H,1).join(""):I.slice(1);return Z[E]()+oe}}function ya(E){return function(I){return Gu(qr(Lh(I).replace(ae,"")),E,"")}}function To(E){return function(){var I=arguments;switch(I.length){case 0:return new E;case 1:return new E(I[0]);case 2:return new E(I[0],I[1]);case 3:return new E(I[0],I[1],I[2]);case 4:return new E(I[0],I[1],I[2],I[3]);case 5:return new E(I[0],I[1],I[2],I[3],I[4]);case 6:return new E(I[0],I[1],I[2],I[3],I[4],I[5]);case 7:return new E(I[0],I[1],I[2],I[3],I[4],I[5],I[6])}var H=Bs(E.prototype),Z=E.apply(H,I);return Ur(Z)?Z:H}}function Ic(E,I,H){var Z=To(E);function oe(){for(var be=arguments.length,Ae=Ze(be),Oe=be,je=gi(oe);Oe--;)Ae[Oe]=arguments[Oe];var ot=be<3&&Ae[0]!==je&&Ae[be-1]!==je?[]:aa(Ae,je);if(be-=ot.length,be<H)return va(E,I,ol,oe.placeholder,i,Ae,ot,i,i,H-be);var ct=this&&this!==Rt&&this instanceof oe?Z:E;return fn(ct,this,Ae)}return oe}function fu(E){return function(I,H,Z){var oe=Ir(I);if(!sr(I)){var be=Ut(H,3);I=gn(I),H=function(Oe){return be(oe[Oe],Oe,oe)}}var Ae=E(I,H,Z);return Ae>-1?oe[be?I[Ae]:Ae]:i}}function du(E){return Ss(function(I){var H=I.length,Z=H,oe=di.prototype.thru;for(E&&I.reverse();Z--;){var be=I[Z];if(typeof be!="function")throw new fi(y);if(oe&&!Ae&&Ji(be)=="wrapper")var Ae=new di([],!0)}for(Z=Ae?Z:H;++Z<H;){be=I[Z];var Oe=Ji(be),je=Oe=="wrapper"?cl(be):i;je&&Vr(je[0])&&je[1]==(N|R|C|L)&&!je[4].length&&je[9]==1?Ae=Ae[Ji(je[0])].apply(Ae,je[3]):Ae=be.length==1&&Vr(be)?Ae[Oe]():Ae.thru(be)}return function(){var ot=arguments,ct=ot[0];if(Ae&&ot.length==1&&rr(ct))return Ae.plant(ct).value();for(var gt=0,kt=H?I[gt].apply(this,ot):ct;++gt<H;)kt=I[gt].call(this,kt);return kt}})}function ol(E,I,H,Z,oe,be,Ae,Oe,je,ot){var ct=I&N,gt=I&v,kt=I&T,Nt=I&(R|k),Xt=I&A,hr=kt?i:To(E);function Qt(){for(var vr=arguments.length,_r=Ze(vr),as=vr;as--;)_r[as]=arguments[as];if(Nt)var Ei=gi(Qt),os=Rd(_r,Ei);if(Z&&(_r=kc(_r,Z,oe,Nt)),be&&(_r=Rc(_r,be,Ae,Nt)),vr-=os,Nt&&vr<ot){var yn=aa(_r,Ei);return va(E,I,ol,Qt.placeholder,H,_r,yn,Oe,je,ot-vr)}var na=gt?H:this,Ja=kt?na[E]:E;return vr=_r.length,Oe?_r=kf(_r,Oe):Xt&&vr>1&&_r.reverse(),ct&&je<vr&&(_r.length=je),this&&this!==Rt&&this instanceof Qt&&(Ja=hr||To(Ja)),Ja.apply(na,_r)}return Qt}function pu(E,I){return function(H,Z){return hc(H,E,I(Z),{})}}function ll(E,I){return function(H,Z){var oe;if(H===i&&Z===i)return I;if(H!==i&&(oe=H),Z!==i){if(oe===i)return Z;typeof H=="string"||typeof Z=="string"?(H=Yr(H),Z=Yr(Z)):(H=Tc(H),Z=Tc(Z)),oe=E(H,Z)}return oe}}function Xi(E){return Ss(function(I){return I=zr(I,ci(Ut())),lr(function(H){var Z=this;return E(I,function(oe){return fn(oe,Z,H)})})})}function Eo(E,I){I=I===i?" ":Yr(I);var H=I.length;if(H<2)return H?rl(I,E):I;var Z=rl(I,Ni(E/hs(I)));return sa(I)?Ks(Li(Z),0,E).join(""):Z.slice(0,E)}function jd(E,I,H,Z){var oe=I&v,be=To(E);function Ae(){for(var Oe=-1,je=arguments.length,ot=-1,ct=Z.length,gt=Ze(ct+je),kt=this&&this!==Rt&&this instanceof Ae?be:E;++ot<ct;)gt[ot]=Z[ot];for(;je--;)gt[ot++]=arguments[++Oe];return fn(kt,oe?H:this,gt)}return Ae}function Dc(E){return function(I,H,Z){return Z&&typeof Z!="number"&&Mn(I,H,Z)&&(H=Z=i),I=ta(I),H===i?(H=I,I=0):H=ta(H),Z=Z===i?I<H?1:-1:ta(Z),zd(I,H,Z,E)}}function Co(E){return function(I,H){return typeof I=="string"&&typeof H=="string"||(I=In(I),H=In(H)),E(I,H)}}function va(E,I,H,Z,oe,be,Ae,Oe,je,ot){var ct=I&R,gt=ct?Ae:i,kt=ct?i:Ae,Nt=ct?be:i,Xt=ct?i:be;I|=ct?C:S,I&=~(ct?S:C),I&x||(I&=-4);var hr=[E,I,oe,Nt,gt,Xt,kt,Oe,je,ot],Qt=H.apply(i,hr);return Vr(E)&&bu(Qt,hr),Qt.placeholder=Z,Vc(Qt,E,I)}function Qi(E){var I=en[E];return function(H,Z){if(H=In(H),Z=Z==null?0:Jt(ar(Z),292),Z&&ql(H)){var oe=($r(H)+"e").split("e"),be=I(oe[0]+"e"+(+oe[1]+Z));return oe=($r(be)+"e").split("e"),+(oe[0]+"e"+(+oe[1]-Z))}return I(H)}}var ba=gs&&1/Wl(new gs([,-0]))[1]==q?function(E){return new gs(E)}:Ep;function xs(E){return function(I){var H=an(I);return H==Le?Hl(I):H==br?$d(I):kd(I,E(I))}}function Zi(E,I,H,Z,oe,be,Ae,Oe){var je=I&T;if(!je&&typeof E!="function")throw new fi(y);var ot=Z?Z.length:0;if(ot||(I&=-97,Z=oe=i),Ae=Ae===i?Ae:gr(ar(Ae),0),Oe=Oe===i?Oe:ar(Oe),ot-=oe?oe.length:0,I&S){var ct=Z,gt=oe;Z=oe=i}var kt=je?i:cl(E),Nt=[E,I,H,Z,oe,ct,gt,be,Ae,Oe];if(kt&&Af(Nt,kt),E=Nt[0],I=Nt[1],H=Nt[2],Z=Nt[3],oe=Nt[4],Oe=Nt[9]=Nt[9]===i?je?0:E.length:gr(Nt[9]-ot,0),!Oe&&I&(R|k)&&(I&=-25),!I||I==v)var Xt=Lc(E,I,H);else I==R||I==k?Xt=Ic(E,I,Oe):(I==C||I==(v|C))&&!oe.length?Xt=jd(E,I,H,Z):Xt=ol.apply(i,Nt);var hr=kt?wc:bu;return Vc(hr(Xt,Nt),E,I)}function mu(E,I,H,Z){return E===i||Vi(E,so[H])&&!kr.call(Z,H)?I:E}function Ao(E,I,H,Z,oe,be){return Ur(E)&&Ur(I)&&(be.set(I,E),el(E,I,i,Ao,be),be.delete(I)),E}function gu(E){return Un(E)?i:E}function xa(E,I,H,Z,oe,be){var Ae=H&h,Oe=E.length,je=I.length;if(Oe!=je&&!(Ae&&je>Oe))return!1;var ot=be.get(E),ct=be.get(I);if(ot&&ct)return ot==I&&ct==E;var gt=-1,kt=!0,Nt=H&m?new js:i;for(be.set(E,I),be.set(I,E);++gt<Oe;){var Xt=E[gt],hr=I[gt];if(Z)var Qt=Ae?Z(hr,Xt,gt,I,E,be):Z(Xt,hr,gt,E,I,be);if(Qt!==i){if(Qt)continue;kt=!1;break}if(Nt){if(!Ku(I,function(vr,_r){if(!ro(Nt,_r)&&(Xt===vr||oe(Xt,vr,H,Z,be)))return Nt.push(_r)})){kt=!1;break}}else if(!(Xt===hr||oe(Xt,hr,H,Z,be))){kt=!1;break}}return be.delete(E),be.delete(I),kt}function zn(E,I,H,Z,oe,be,Ae){switch(H){case Je:if(E.byteLength!=I.byteLength||E.byteOffset!=I.byteOffset)return!1;E=E.buffer,I=I.buffer;case ft:return!(E.byteLength!=I.byteLength||!be(new Wi(E),new Wi(I)));case Te:case Re:case Qe:return Vi(+E,+I);case me:return E.name==I.name&&E.message==I.message;case tr:case dr:return E==I+"";case Le:var Oe=Hl;case br:var je=Z&h;if(Oe||(Oe=Wl),E.size!=I.size&&!je)return!1;var ot=Ae.get(E);if(ot)return ot==I;Z|=m,Ae.set(E,I);var ct=xa(Oe(E),Oe(I),Z,oe,be,Ae);return Ae.delete(E),ct;case Ne:if(zs)return zs.call(E)==zs.call(I)}return!1}function yu(E,I,H,Z,oe,be){var Ae=H&h,Oe=ws(E),je=Oe.length,ot=ws(I),ct=ot.length;if(je!=ct&&!Ae)return!1;for(var gt=je;gt--;){var kt=Oe[gt];if(!(Ae?kt in I:kr.call(I,kt)))return!1}var Nt=be.get(E),Xt=be.get(I);if(Nt&&Xt)return Nt==I&&Xt==E;var hr=!0;be.set(E,I),be.set(I,E);for(var Qt=Ae;++gt<je;){kt=Oe[gt];var vr=E[kt],_r=I[kt];if(Z)var as=Ae?Z(_r,vr,kt,I,E,be):Z(vr,_r,kt,E,I,be);if(!(as===i?vr===_r||oe(vr,_r,H,Z,be):as)){hr=!1;break}Qt||(Qt=kt=="constructor")}if(hr&&!Qt){var Ei=E.constructor,os=I.constructor;Ei!=os&&"constructor"in E&&"constructor"in I&&!(typeof Ei=="function"&&Ei instanceof Ei&&typeof os=="function"&&os instanceof os)&&(hr=!1)}return be.delete(E),be.delete(I),hr}function Ss(E){return vi(_s(E,i,xi),E+"")}function ws(E){return nu(E,gn,vu)}function ul(E){return nu(E,Jn,Oc)}var cl=Wo?function(E){return Wo.get(E)}:Ep;function Ji(E){for(var I=E.name+"",H=oa[I],Z=kr.call(oa,I)?H.length:0;Z--;){var oe=H[Z],be=oe.func;if(be==null||be==E)return oe.name}return I}function gi(E){var I=kr.call(fe,"placeholder")?fe:E;return I.placeholder}function Ut(){var E=fe.iteratee||wr;return E=E===wr?pc:E,arguments.length?E(arguments[0],arguments[1]):E}function ko(E,I){var H=E.__data__;return qs(I)?H[typeof I=="string"?"string":"hash"]:H.map}function hl(E){for(var I=gn(E),H=I.length;H--;){var Z=I[H],oe=E[Z];I[H]=[Z,oe,Fc(oe)]}return I}function es(E,I){var H=Xu(E,I);return dc(H)?H:i}function fl(E){var I=kr.call(E,ps),H=E[ps];try{E[ps]=i;var Z=!0}catch{}var oe=Kn.call(E);return Z&&(I?E[ps]=H:delete E[ps]),oe}var vu=Os?function(E){return E==null?[]:(E=Ir(E),cs(Os(E),function(I){return tc.call(E,I)}))}:Cp,Oc=Os?function(E){for(var I=[];E;)Is(I,vu(E)),E=Ia(E);return I}:Cp,an=Fn;(Xl&&an(new Xl(new ArrayBuffer(1)))!=Je||oo&&an(new oo)!=Le||za&&an(za.resolve())!=Mt||gs&&an(new gs)!=br||Ns&&an(new Ns)!=_t)&&(an=function(E){var I=Fn(E),H=I==xt?E.constructor:i,Z=H?li(H):"";if(Z)switch(Z){case Xh:return Je;case Ql:return Le;case Qh:return Mt;case Go:return br;case Zh:return _t}return I});function Sa(E,I,H){for(var Z=-1,oe=H.length;++Z<oe;){var be=H[Z],Ae=be.size;switch(be.type){case"drop":E+=Ae;break;case"dropRight":I-=Ae;break;case"take":I=Jt(I,E+Ae);break;case"takeRight":E=gr(E,I-Ae);break}}return{start:E,end:I}}function xf(E){var I=E.match(Tn);return I?I[1].split(ln):[]}function Nc(E,I,H){I=Gs(I,E);for(var Z=-1,oe=I.length,be=!1;++Z<oe;){var Ae=Qn(I[Z]);if(!(be=E!=null&&H(E,Ae)))break;E=E[Ae]}return be||++Z!=oe?be:(oe=E==null?0:E.length,!!oe&&Mu(oe)&&ts(Ae,oe)&&(rr(E)||Ca(E)))}function Ga(E){var I=E.length,H=new E.constructor(I);return I&&typeof E[0]=="string"&&kr.call(E,"index")&&(H.index=E.index,H.input=E.input),H}function oi(E){return typeof E.constructor=="function"&&!Xr(E)?Bs(Ia(E)):{}}function Sf(E,I,H){var Z=E.constructor;switch(I){case ft:return sl(E);case Te:case Re:return new Z(+E);case Je:return yf(E,H);case Pt:case pe:case ye:case Me:case st:case lt:case Xe:case we:case Ue:return Ac(E,H);case Le:return new Z;case Qe:case dr:return new Z(E);case tr:return vf(E);case br:return new Z;case Ne:return Ud(E)}}function wf(E,I){var H=I.length;if(!H)return E;var Z=H-1;return I[Z]=(H>1?"& ":"")+I[Z],I=I.join(H>2?", ":" "),E.replace(bn,`{
/* [wrapped with `+I+`] */
`)}function _f(E){return rr(E)||Ca(E)||!!(Oa&&E&&E[Oa])}function ts(E,I){var H=typeof E;return I=I??K,!!I&&(H=="number"||H!="symbol"&&An.test(E))&&E>-1&&E%1==0&&E<I}function Mn(E,I,H){if(!Ur(H))return!1;var Z=typeof I;return(Z=="number"?sr(H)&&ts(I,H.length):Z=="string"&&I in H)?Vi(H[I],E):!1}function Ro(E,I){if(rr(E))return!1;var H=typeof E;return H=="number"||H=="symbol"||H=="boolean"||E==null||_i(E)?!0:Nr.test(E)||!vn.test(E)||I!=null&&E in Ir(I)}function qs(E){var I=typeof E;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?E!=="__proto__":E===null}function Vr(E){var I=Ji(E),H=fe[I];if(typeof H!="function"||!(I in ir.prototype))return!1;if(E===H)return!0;var Z=cl(H);return!!Z&&E===Z[0]}function Pc(E){return!!Ii&&Ii in E}var Tf=Gl?ea:Ap;function Xr(E){var I=E&&E.constructor,H=typeof I=="function"&&I.prototype||so;return E===H}function Fc(E){return E===E&&!Ur(E)}function Ef(E,I){return function(H){return H==null?!1:H[E]===I&&(I!==i||E in Ir(H))}}function Cf(E){var I=Tl(E,function(Z){return H.size===f&&H.clear(),Z}),H=I.cache;return I}function Af(E,I){var H=E[1],Z=I[1],oe=H|Z,be=oe<(v|T|N),Ae=Z==N&&H==R||Z==N&&H==L&&E[7].length<=I[8]||Z==(N|L)&&I[7].length<=I[8]&&H==R;if(!(be||Ae))return E;Z&v&&(E[2]=I[2],oe|=H&v?0:x);var Oe=I[3];if(Oe){var je=E[3];E[3]=je?kc(je,Oe,I[4]):Oe,E[4]=je?aa(E[3],c):I[4]}return Oe=I[5],Oe&&(je=E[5],E[5]=je?Rc(je,Oe,I[6]):Oe,E[6]=je?aa(E[5],c):I[6]),Oe=I[7],Oe&&(E[7]=Oe),Z&N&&(E[8]=E[8]==null?I[8]:Jt(E[8],I[8])),E[9]==null&&(E[9]=I[9]),E[0]=I[0],E[1]=oe,E}function on(E){var I=[];if(E!=null)for(var H in Ir(E))I.push(H);return I}function yi(E){return Kn.call(E)}function _s(E,I,H){return I=gr(I===i?E.length-1:I,0),function(){for(var Z=arguments,oe=-1,be=gr(Z.length-I,0),Ae=Ze(be);++oe<be;)Ae[oe]=Z[I+oe];oe=-1;for(var Oe=Ze(I+1);++oe<I;)Oe[oe]=Z[oe];return Oe[I]=H(Ae),fn(E,this,Oe)}}function zc(E,I){return I.length<2?E:Hs(E,mi(I,0,-1))}function kf(E,I){for(var H=E.length,Z=Jt(I.length,H),oe=Xn(E);Z--;){var be=I[Z];E[Z]=ts(be,H)?oe[be]:i}return E}function Bc(E,I){if(!(I==="constructor"&&typeof E[I]=="function")&&I!="__proto__")return E[I]}var bu=bi(wc),Bn=Pa||function(E,I){return Rt.setTimeout(E,I)},vi=bi(Bd);function Vc(E,I,H){var Z=I+"";return vi(E,wf(Z,Uc(xf(Z),H)))}function bi(E){var I=0,H=0;return function(){var Z=Gi(),oe=z-(Z-H);if(H=Z,oe>0){if(++I>=B)return arguments[0]}else I=0;return E.apply(i,arguments)}}function dl(E,I){var H=-1,Z=E.length,oe=Z-1;for(I=I===i?Z:I;++H<I;){var be=lu(H,oe),Ae=E[be];E[be]=E[H],E[H]=Ae}return E.length=I,E}var Ts=Cf(function(E){var I=[];return E.charCodeAt(0)===46&&I.push(""),E.replace(ui,function(H,Z,oe,be){I.push(oe?be.replace(En,"$1"):Z||H)}),I});function Qn(E){if(typeof E=="string"||_i(E))return E;var I=E+"";return I=="0"&&1/E==-1/0?"-0":I}function li(E){if(E!=null){try{return Ho.call(E)}catch{}try{return E+""}catch{}}return""}function Uc(E,I){return Mi(le,function(H){var Z="_."+H[0];I&H[1]&&!Pl(E,Z)&&E.push(Z)}),E.sort()}function xu(E){if(E instanceof ir)return E.clone();var I=new di(E.__wrapped__,E.__chain__);return I.__actions__=Xn(E.__actions__),I.__index__=E.__index__,I.__values__=E.__values__,I}function wa(E,I,H){(H?Mn(E,I,H):I===i)?I=1:I=gr(ar(I),0);var Z=E==null?0:E.length;if(!Z||I<1)return[];for(var oe=0,be=0,Ae=Ze(Ni(Z/I));oe<Z;)Ae[be++]=mi(E,oe,oe+=I);return Ae}function Rf(E){for(var I=-1,H=E==null?0:E.length,Z=0,oe=[];++I<H;){var be=E[I];be&&(oe[Z++]=be)}return oe}function $o(){var E=arguments.length;if(!E)return[];for(var I=Ze(E-1),H=arguments[0],Z=E;Z--;)I[Z-1]=arguments[Z];return Is(rr(H)?Xn(H):[H],sn(I,1))}var pl=lr(function(E,I){return Kr(E)?fo(E,sn(I,1,Kr,!0)):[]}),ml=lr(function(E,I){var H=Zn(I);return Kr(H)&&(H=i),Kr(E)?fo(E,sn(I,1,Kr,!0),Ut(H,2)):[]}),Mo=lr(function(E,I){var H=Zn(I);return Kr(H)&&(H=i),Kr(E)?fo(E,sn(I,1,Kr,!0),i,H):[]});function $f(E,I,H){var Z=E==null?0:E.length;return Z?(I=H||I===i?1:ar(I),mi(E,I<0?0:I,Z)):[]}function Mf(E,I,H){var Z=E==null?0:E.length;return Z?(I=H||I===i?1:ar(I),I=Z-I,mi(E,0,I<0?0:I)):[]}function gl(E,I){return E&&E.length?So(E,Ut(I,3),!0,!0):[]}function Lf(E,I){return E&&E.length?So(E,Ut(I,3),!0):[]}function Su(E,I,H,Z){var oe=E==null?0:E.length;return oe?(H&&typeof H!="number"&&Mn(E,I,H)&&(H=0,Z=oe),si(E,I,H,Z)):[]}function jc(E,I,H){var Z=E==null?0:E.length;if(!Z)return-1;var oe=H==null?0:ar(H);return oe<0&&(oe=gr(Z+oe,0)),Fl(E,Ut(I,3),oe)}function If(E,I,H){var Z=E==null?0:E.length;if(!Z)return-1;var oe=Z-1;return H!==i&&(oe=ar(H),oe=H<0?gr(Z+oe,0):Jt(oe,Z-1)),Fl(E,Ut(I,3),oe,!0)}function xi(E){var I=E==null?0:E.length;return I?sn(E,1):[]}function Hc(E){var I=E==null?0:E.length;return I?sn(E,q):[]}function _a(E,I){var H=E==null?0:E.length;return H?(I=I===i?1:ar(I),sn(E,I)):[]}function Df(E){for(var I=-1,H=E==null?0:E.length,Z={};++I<H;){var oe=E[I];Z[oe[0]]=oe[1]}return Z}function yl(E){return E&&E.length?E[0]:i}function Ka(E,I,H){var Z=E==null?0:E.length;if(!Z)return-1;var oe=H==null?0:ar(H);return oe<0&&(oe=gr(Z+oe,0)),eo(E,I,oe)}function Of(E){var I=E==null?0:E.length;return I?mi(E,0,-1):[]}var Wc=lr(function(E){var I=zr(E,Ws);return I.length&&I[0]===E[0]?su(I):[]}),Gc=lr(function(E){var I=Zn(E),H=zr(E,Ws);return I===Zn(H)?I=i:H.pop(),H.length&&H[0]===E[0]?su(H,Ut(I,2)):[]}),Ys=lr(function(E){var I=Zn(E),H=zr(E,Ws);return I=typeof I=="function"?I:i,I&&H.pop(),H.length&&H[0]===E[0]?su(H,i,I):[]});function Nf(E,I){return E==null?"":rc.call(E,I)}function Zn(E){var I=E==null?0:E.length;return I?E[I-1]:i}function vl(E,I,H){var Z=E==null?0:E.length;if(!Z)return-1;var oe=Z;return H!==i&&(oe=ar(H),oe=oe<0?gr(Z+oe,0):Jt(oe,Z-1)),I===I?hi(E,I,oe):Fl(E,to,oe,!0)}function Wr(E,I){return E&&E.length?gc(E,ar(I)):i}var Hd=lr(Pf);function Pf(E,I){return E&&E.length&&I&&I.length?tl(E,I):E}function Ff(E,I,H){return E&&E.length&&I&&I.length?tl(E,I,Ut(H,2)):E}function Wd(E,I,H){return E&&E.length&&I&&I.length?tl(E,I,i,H):E}var Gd=Ss(function(E,I){var H=E==null?0:E.length,Z=da(E,I);return xc(E,zr(I,function(oe){return ts(oe,H)?+oe:oe}).sort(mn)),Z});function Gr(E,I){var H=[];if(!(E&&E.length))return H;var Z=-1,oe=[],be=E.length;for(I=Ut(I,3);++Z<be;){var Ae=E[Z];I(Ae,Z,E)&&(H.push(Ae),oe.push(Z))}return xc(E,oe),H}function Dr(E){return E==null?E:Fa.call(E)}function fr(E,I,H){var Z=E==null?0:E.length;return Z?(H&&typeof H!="number"&&Mn(E,I,H)?(I=0,H=Z):(I=I==null?0:ar(I),H=H===i?Z:ar(H)),mi(E,I,H)):[]}function Sr(E,I){return bo(E,I)}function Fr(E,I,H){return xo(E,I,Ut(H,2))}function Si(E,I){var H=E==null?0:E.length;if(H){var Z=bo(E,I);if(Z<H&&Vi(E[Z],I))return Z}return-1}function Xs(E,I){return bo(E,I,!0)}function Lo(E,I,H){return xo(E,I,Ut(H,2),!0)}function Kc(E,I){var H=E==null?0:E.length;if(H){var Z=bo(E,I,!0)-1;if(Vi(E[Z],I))return Z}return-1}function Qs(E){return E&&E.length?_c(E):[]}function Qr(E,I){return E&&E.length?_c(E,Ut(I,2)):[]}function Ta(E){var I=E==null?0:E.length;return I?mi(E,1,I):[]}function qa(E,I,H){return E&&E.length?(I=H||I===i?1:ar(I),mi(E,0,I<0?0:I)):[]}function qc(E,I,H){var Z=E==null?0:E.length;return Z?(I=H||I===i?1:ar(I),I=Z-I,mi(E,I<0?0:I,Z)):[]}function Bi(E,I){return E&&E.length?So(E,Ut(I,3),!1,!0):[]}function Io(E,I){return E&&E.length?So(E,Ut(I,3)):[]}var bl=lr(function(E){return ai(sn(E,1,Kr,!0))}),Es=lr(function(E){var I=Zn(E);return Kr(I)&&(I=i),ai(sn(E,1,Kr,!0),Ut(I,2))}),Yc=lr(function(E){var I=Zn(E);return I=typeof I=="function"?I:i,ai(sn(E,1,Kr,!0),i,I)});function Xc(E){return E&&E.length?ai(E):[]}function wu(E,I){return E&&E.length?ai(E,Ut(I,2)):[]}function _u(E,I){return I=typeof I=="function"?I:i,E&&E.length?ai(E,i,I):[]}function Cs(E){if(!(E&&E.length))return[];var I=0;return E=cs(E,function(H){if(Kr(H))return I=gr(H.length,I),!0}),ia(I,function(H){return zr(E,zl(H))})}function xl(E,I){if(!(E&&E.length))return[];var H=Cs(E);return I==null?H:zr(H,function(Z){return fn(I,i,Z)})}var Ya=lr(function(E,I){return Kr(E)?fo(E,I):[]}),Sl=lr(function(E){return cu(cs(E,Kr))}),Qc=lr(function(E){var I=Zn(E);return Kr(I)&&(I=i),cu(cs(E,Kr),Ut(I,2))}),Zc=lr(function(E){var I=Zn(E);return I=typeof I=="function"?I:i,cu(cs(E,Kr),i,I)}),wl=lr(Cs);function Jc(E,I){return Ec(E||[],I||[],Br)}function wi(E,I){return Ec(E||[],I||[],vo)}var zf=lr(function(E){var I=E.length,H=I>1?E[I-1]:i;return H=typeof H=="function"?(E.pop(),H):i,xl(E,H)});function Vn(E){var I=fe(E);return I.__chain__=!0,I}function Bf(E,I){return I(E),E}function Do(E,I){return I(E)}var Vf=Ss(function(E){var I=E.length,H=I?E[0]:0,Z=this.__wrapped__,oe=function(be){return da(be,E)};return I>1||this.__actions__.length||!(Z instanceof ir)||!ts(H)?this.thru(oe):(Z=Z.slice(H,+H+(I?1:0)),Z.__actions__.push({func:Do,args:[oe],thisArg:i}),new di(Z,this.__chain__).thru(function(be){return I&&!be.length&&be.push(i),be}))});function Kd(){return Vn(this)}function Zs(){return new di(this.value(),this.__chain__)}function Tu(){this.__values__===i&&(this.__values__=ud(this.value()));var E=this.__index__>=this.__values__.length,I=E?i:this.__values__[this.__index__++];return{done:E,value:I}}function eh(){return this}function Oo(E){for(var I,H=this;H instanceof qo;){var Z=xu(H);Z.__index__=0,Z.__values__=i,I?oe.__wrapped__=Z:I=Z;var oe=Z;H=H.__wrapped__}return oe.__wrapped__=E,I}function Uf(){var E=this.__wrapped__;if(E instanceof ir){var I=E;return this.__actions__.length&&(I=new ir(this)),I=I.reverse(),I.__actions__.push({func:Do,args:[Dr],thisArg:i}),new di(I,this.__chain__)}return this.thru(Dr)}function jf(){return uu(this.__wrapped__,this.__actions__)}var Hf=_o(function(E,I,H){kr.call(E,H)?++E[H]:pi(E,H,1)});function th(E,I,H){var Z=rr(E)?Oh:cc;return H&&Mn(E,I,H)&&(I=i),Z(E,Ut(I,3))}function rh(E,I){var H=rr(E)?cs:tn;return H(E,Ut(I,3))}var qd=fu(jc),Yd=fu(If);function Xd(E,I){return sn(Js(E,I),1)}function Wf(E,I){return sn(Js(E,I),q)}function Gf(E,I,H){return H=H===i?1:ar(H),sn(Js(E,I),H)}function Xa(E,I){var H=rr(E)?Mi:pa;return H(E,Ut(I,3))}function _l(E,I){var H=rr(E)?_d:ru;return H(E,Ut(I,3))}var Kf=_o(function(E,I,H){kr.call(E,H)?E[H].push(I):pi(E,H,[I])});function qf(E,I,H,Z){E=sr(E)?E:Ti(E),H=H&&!Z?ar(H):0;var oe=E.length;return H<0&&(H=gr(oe+H,0)),Du(E)?H<=oe&&E.indexOf(I,H)>-1:!!oe&&eo(E,I,H)>-1}var Qd=lr(function(E,I,H){var Z=-1,oe=typeof I=="function",be=sr(E)?Ze(E.length):[];return pa(E,function(Ae){be[++Z]=oe?fn(I,Ae,H):mo(Ae,I,H)}),be}),Yf=_o(function(E,I,H){pi(E,H,I)});function Js(E,I){var H=rr(E)?zr:Jo;return H(E,Ut(I,3))}function Xf(E,I,H,Z){return E==null?[]:(rr(I)||(I=I==null?[]:[I]),H=Z?i:H,rr(H)||(H=H==null?[]:[H]),yc(E,I,H))}var Or=_o(function(E,I,H){E[H?0:1].push(I)},function(){return[[],[]]});function nh(E,I,H){var Z=rr(E)?Gu:Yu,oe=arguments.length<3;return Z(E,Ut(I,4),H,oe,pa)}function Zd(E,I,H){var Z=rr(E)?Td:Yu,oe=arguments.length<3;return Z(E,Ut(I,4),H,oe,ru)}function Qf(E,I){var H=rr(E)?cs:tn;return H(E,Cu(Ut(I,3)))}function Jd(E){var I=rr(E)?oc:mf;return I(E)}function ep(E,I,H){(H?Mn(E,I,H):I===i)?I=1:I=ar(I);var Z=rr(E)?ha:Sc;return Z(E,I)}function tp(E){var I=rr(E)?ur:Vd;return I(E)}function Eu(E){if(E==null)return 0;if(sr(E))return Du(E)?hs(E):E.length;var I=an(E);return I==Le||I==br?E.size:ma(E).length}function No(E,I,H){var Z=rr(E)?Ku:nl;return H&&Mn(E,I,H)&&(I=i),Z(E,Ut(I,3))}var ih=lr(function(E,I){if(E==null)return[];var H=I.length;return H>1&&Mn(E,I[0],I[1])?I=[]:H>2&&Mn(I[0],I[1],I[2])&&(I=[I[0]]),yc(E,sn(I,1),[])}),Qa=Oi||function(){return Rt.Date.now()};function sh(E,I){if(typeof I!="function")throw new fi(y);return E=ar(E),function(){if(--E<1)return I.apply(this,arguments)}}function Ea(E,I,H){return I=H?i:I,I=E&&I==null?E.length:I,Zi(E,N,i,i,i,i,I)}function rs(E,I){var H;if(typeof I!="function")throw new fi(y);return E=ar(E),function(){return--E>0&&(H=I.apply(this,arguments)),E<=1&&(I=i),H}}var Za=lr(function(E,I,H){var Z=v;if(H.length){var oe=aa(H,gi(Za));Z|=C}return Zi(E,Z,I,H,oe)}),Zf=lr(function(E,I,H){var Z=v|T;if(H.length){var oe=aa(H,gi(Zf));Z|=C}return Zi(I,Z,E,H,oe)});function ah(E,I,H){I=H?i:I;var Z=Zi(E,R,i,i,i,i,i,I);return Z.placeholder=ah.placeholder,Z}function oh(E,I,H){I=H?i:I;var Z=Zi(E,k,i,i,i,i,i,I);return Z.placeholder=oh.placeholder,Z}function lh(E,I,H){var Z,oe,be,Ae,Oe,je,ot=0,ct=!1,gt=!1,kt=!0;if(typeof E!="function")throw new fi(y);I=In(I)||0,Ur(H)&&(ct=!!H.leading,gt="maxWait"in H,be=gt?gr(In(H.maxWait)||0,I):be,kt="trailing"in H?!!H.trailing:kt);function Nt(yn){var na=Z,Ja=oe;return Z=oe=i,ot=yn,Ae=E.apply(Ja,na),Ae}function Xt(yn){return ot=yn,Oe=Bn(vr,I),ct?Nt(yn):Ae}function hr(yn){var na=yn-je,Ja=yn-ot,Rp=I-na;return gt?Jt(Rp,be-Ja):Rp}function Qt(yn){var na=yn-je,Ja=yn-ot;return je===i||na>=I||na<0||gt&&Ja>=be}function vr(){var yn=Qa();if(Qt(yn))return _r(yn);Oe=Bn(vr,hr(yn))}function _r(yn){return Oe=i,kt&&Z?Nt(yn):(Z=oe=i,Ae)}function as(){Oe!==i&&il(Oe),ot=0,Z=je=oe=Oe=i}function Ei(){return Oe===i?Ae:_r(Qa())}function os(){var yn=Qa(),na=Qt(yn);if(Z=arguments,oe=this,je=yn,na){if(Oe===i)return Xt(je);if(gt)return il(Oe),Oe=Bn(vr,I),Nt(je)}return Oe===i&&(Oe=Bn(vr,I)),Ae}return os.cancel=as,os.flush=Ei,os}var rp=lr(function(E,I){return uc(E,1,I)}),uh=lr(function(E,I,H){return uc(E,In(I)||0,H)});function Jf(E){return Zi(E,A)}function Tl(E,I){if(typeof E!="function"||I!=null&&typeof I!="function")throw new fi(y);var H=function(){var Z=arguments,oe=I?I.apply(this,Z):Z[0],be=H.cache;if(be.has(oe))return be.get(oe);var Ae=E.apply(this,Z);return H.cache=be.set(oe,Ae)||be,Ae};return H.cache=new(Tl.Cache||Us),H}Tl.Cache=Us;function Cu(E){if(typeof E!="function")throw new fi(y);return function(){var I=arguments;switch(I.length){case 0:return!E.call(this);case 1:return!E.call(this,I[0]);case 2:return!E.call(this,I[0],I[1]);case 3:return!E.call(this,I[0],I[1],I[2])}return!E.apply(this,I)}}function ch(E){return rs(2,E)}var hh=gf(function(E,I){I=I.length==1&&rr(I[0])?zr(I[0],ci(Ut())):zr(sn(I,1),ci(Ut()));var H=I.length;return lr(function(Z){for(var oe=-1,be=Jt(Z.length,H);++oe<be;)Z[oe]=I[oe].call(this,Z[oe]);return fn(E,this,Z)})}),fh=lr(function(E,I){var H=aa(I,gi(fh));return Zi(E,C,i,I,H)}),ed=lr(function(E,I){var H=aa(I,gi(ed));return Zi(E,S,i,I,H)}),El=Ss(function(E,I){return Zi(E,L,i,i,i,I)});function np(E,I){if(typeof E!="function")throw new fi(y);return I=I===i?I:ar(I),lr(E,I)}function td(E,I){if(typeof E!="function")throw new fi(y);return I=I==null?0:gr(ar(I),0),lr(function(H){var Z=H[I],oe=Ks(H,0,I);return Z&&Is(oe,Z),fn(E,this,oe)})}function yr(E,I,H){var Z=!0,oe=!0;if(typeof E!="function")throw new fi(y);return Ur(H)&&(Z="leading"in H?!!H.leading:Z,oe="trailing"in H?!!H.trailing:oe),lh(E,I,{leading:Z,maxWait:I,trailing:oe})}function dh(E){return Ea(E,1)}function Au(E,I){return fh(wo(I),E)}function ph(){if(!arguments.length)return[];var E=arguments[0];return rr(E)?E:[E]}function rd(E){return Er(E,u)}function mh(E,I){return I=typeof I=="function"?I:i,Er(E,u,I)}function Cl(E){return Er(E,s|u)}function ku(E,I){return I=typeof I=="function"?I:i,Er(E,s|u,I)}function Po(E,I){return I==null||tu(E,I,gn(I))}function Vi(E,I){return E===I||E!==E&&I!==I}var ip=Co(iu),sp=Co(function(E,I){return E>=I}),Ca=af(function(){return arguments}())?af:function(E){return Zr(E)&&kr.call(E,"callee")&&!tc.call(E,"callee")},rr=Ze.isArray,Ru=Jr?ci(Jr):of;function sr(E){return E!=null&&Mu(E.length)&&!ea(E)}function Kr(E){return Zr(E)&&sr(E)}function Ln(E){return E===!0||E===!1||Zr(E)&&Fn(E)==Te}var Aa=Yh||Ap,gh=ii?ci(ii):lf;function yh(E){return Zr(E)&&E.nodeType===1&&!Un(E)}function $u(E){if(E==null)return!0;if(sr(E)&&(rr(E)||typeof E=="string"||typeof E.splice=="function"||Aa(E)||ss(E)||Ca(E)))return!E.length;var I=an(E);if(I==Le||I==br)return!E.size;if(Xr(E))return!ma(E).length;for(var H in E)if(kr.call(E,H))return!1;return!0}function nd(E,I){return go(E,I)}function sd(E,I,H){H=typeof H=="function"?H:i;var Z=H?H(E,I):i;return Z===i?go(E,I,i,H):!!Z}function Al(E){if(!Zr(E))return!1;var I=Fn(E);return I==me||I==ke||typeof E.message=="string"&&typeof E.name=="string"&&!Un(E)}function bh(E){return typeof E=="number"&&ql(E)}function ea(E){if(!Ur(E))return!1;var I=Fn(E);return I==ve||I==he||I==Ie||I==$t}function xh(E){return typeof E=="number"&&E==ar(E)}function Mu(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=K}function Ur(E){var I=typeof E;return E!=null&&(I=="object"||I=="function")}function Zr(E){return E!=null&&typeof E=="object"}var ad=$i?ci($i):uf;function Sh(E,I){return E===I||au(E,I,hl(I))}function wh(E,I,H){return H=typeof H=="function"?H:i,au(E,I,hl(I),H)}function ap(E){return _h(E)&&E!=+E}function op(E){if(Tf(E))throw new qt(g);return dc(E)}function ns(E){return E===null}function od(E){return E==null}function _h(E){return typeof E=="number"||Zr(E)&&Fn(E)==Qe}function Un(E){if(!Zr(E)||Fn(E)!=xt)return!1;var I=Ia(E);if(I===null)return!0;var H=kr.call(I,"constructor")&&I.constructor;return typeof H=="function"&&H instanceof H&&Ho.call(H)==ao}var Lu=us?ci(us):cf;function Iu(E){return xh(E)&&E>=-9007199254740991&&E<=K}var As=Uo?ci(Uo):hf;function Du(E){return typeof E=="string"||!rr(E)&&Zr(E)&&Fn(E)==dr}function _i(E){return typeof E=="symbol"||Zr(E)&&Fn(E)==Ne}var ss=Ma?ci(Ma):Fd;function ld(E){return E===i}function lp(E){return Zr(E)&&an(E)==_t}function up(E){return Zr(E)&&Fn(E)==Ve}var cp=Co(yo),hp=Co(function(E,I){return E<=I});function ud(E){if(!E)return[];if(sr(E))return Du(E)?Li(E):Xn(E);if(ds&&E[ds])return jh(E[ds]());var I=an(E),H=I==Le?Hl:I==br?Wl:Ti;return H(E)}function ta(E){if(!E)return E===0?E:0;if(E=In(E),E===q||E===-1/0){var I=E<0?-1:1;return I*Q}return E===E?E:0}function ar(E){var I=ta(E),H=I%1;return I===I?H?I-H:I:0}function Th(E){return E?Ua(ar(E),0,te):0}function In(E){if(typeof E=="number")return E;if(_i(E))return X;if(Ur(E)){var I=typeof E.valueOf=="function"?E.valueOf():E;E=Ur(I)?I+"":I}if(typeof E!="string")return E===0?E:+E;E=zh(E);var H=Ci.test(E);return H||Ai.test(E)?Tt(E.slice(2),H?2:8):ks.test(E)?X:+E}function Fo(E){return Yi(E,Jn(E))}function cd(E){return E?Ua(ar(E),-9007199254740991,K):E===0?E:0}function $r(E){return E==null?"":Yr(E)}var zo=Wa(function(E,I){if(Xr(I)||sr(I)){Yi(I,gn(I),E);return}for(var H in I)kr.call(I,H)&&Br(E,H,I[H])}),Bo=Wa(function(E,I){Yi(I,Jn(I),E)}),kl=Wa(function(E,I,H,Z){Yi(I,Jn(I),E,Z)}),Ou=Wa(function(E,I,H,Z){Yi(I,gn(I),E,Z)}),Eh=Ss(da);function Ch(E,I){var H=Bs(E);return I==null?H:fa(H,I)}var Nu=lr(function(E,I){E=Ir(E);var H=-1,Z=I.length,oe=Z>2?I[2]:i;for(oe&&Mn(I[0],I[1],oe)&&(Z=1);++H<Z;)for(var be=I[H],Ae=Jn(be),Oe=-1,je=Ae.length;++Oe<je;){var ot=Ae[Oe],ct=E[ot];(ct===i||Vi(ct,so[ot])&&!kr.call(E,ot))&&(E[ot]=be[ot])}return E}),hd=lr(function(E){return E.push(i,Ao),fn(Ml,i,E)});function fd(E,I){return Nh(E,Ut(I,3),zi)}function fp(E,I){return Nh(E,Ut(I,3),qi)}function dd(E,I){return E==null?E:ja(E,Ut(I,3),Jn)}function Rl(E,I){return E==null?E:Zo(E,Ut(I,3),Jn)}function dp(E,I){return E&&zi(E,Ut(I,3))}function pp(E,I){return E&&qi(E,Ut(I,3))}function mp(E){return E==null?[]:Ha(E,gn(E))}function Pu(E){return E==null?[]:Ha(E,Jn(E))}function Vo(E,I,H){var Z=E==null?i:Hs(E,I);return Z===i?H:Z}function Ah(E,I){return E!=null&&Nc(E,I,rf)}function kh(E,I){return E!=null&&Nc(E,I,nf)}var $l=pu(function(E,I,H){I!=null&&typeof I.toString!="function"&&(I=Kn.call(I)),E[I]=H},It(Ar)),gp=pu(function(E,I,H){I!=null&&typeof I.toString!="function"&&(I=Kn.call(I)),kr.call(E,I)?E[I].push(H):E[I]=[H]},Ut),pd=lr(mo);function gn(E){return sr(E)?Qo(E):ma(E)}function Jn(E){return sr(E)?Qo(E,!0):ff(E)}function md(E,I){var H={};return I=Ut(I,3),zi(E,function(Z,oe,be){pi(H,I(Z,oe,be),Z)}),H}function Rh(E,I){var H={};return I=Ut(I,3),zi(E,function(Z,oe,be){pi(H,oe,I(Z,oe,be))}),H}var gd=Wa(function(E,I,H){el(E,I,H)}),Ml=Wa(function(E,I,H,Z){el(E,I,H,Z)}),yp=Ss(function(E,I){var H={};if(E==null)return H;var Z=!1;I=zr(I,function(be){return be=Gs(be,E),Z||(Z=be.length>1),be}),Yi(E,ul(E),H),Z&&(H=Er(H,s|o|u,gu));for(var oe=I.length;oe--;)bs(H,I[oe]);return H});function vp(E,I){return Fu(E,Cu(Ut(I)))}var $h=Ss(function(E,I){return E==null?{}:vc(E,I)});function Fu(E,I){if(E==null)return{};var H=zr(ul(E),function(Z){return[Z]});return I=Ut(I),bc(E,H,function(Z,oe){return I(Z,oe[0])})}function zu(E,I,H){I=Gs(I,E);var Z=-1,oe=I.length;for(oe||(oe=1,E=i);++Z<oe;){var be=E==null?i:E[Qn(I[Z])];be===i&&(Z=oe,be=H),E=ea(be)?be.call(E):be}return E}function Mh(E,I,H){return E==null?E:vo(E,I,H)}function yd(E,I,H,Z){return Z=typeof Z=="function"?Z:i,E==null?E:vo(E,I,H,Z)}var Bu=xs(gn),ra=xs(Jn);function ka(E,I,H){var Z=rr(E),oe=Z||Aa(E)||ss(E);if(I=Ut(I,4),H==null){var be=E&&E.constructor;oe?H=Z?new be:[]:Ur(E)?H=ea(be)?Bs(Ia(E)):{}:H={}}return(oe?Mi:zi)(E,function(Ae,Oe,je){return I(H,Ae,Oe,je)}),H}function Ra(E,I){return E==null?!0:bs(E,I)}function Ll(E,I,H){return E==null?E:ga(E,I,wo(H))}function Il(E,I,H,Z){return Z=typeof Z=="function"?Z:i,E==null?E:ga(E,I,wo(H),Z)}function Ti(E){return E==null?[]:Ul(E,gn(E))}function bp(E){return E==null?[]:Ul(E,Jn(E))}function vd(E,I,H){return H===i&&(H=I,I=i),H!==i&&(H=In(H),H=H===H?H:0),I!==i&&(I=In(I),I=I===I?I:0),Ua(In(E),I,H)}function Dl(E,I,H){return I=ta(I),H===i?(H=I,I=0):H=ta(H),E=In(E),sf(E,I,H)}function xp(E,I,H){if(H&&typeof H!="boolean"&&Mn(E,I,H)&&(I=H=i),H===i&&(typeof I=="boolean"?(H=I,I=i):typeof E=="boolean"&&(H=E,E=i)),E===i&&I===i?(E=0,I=1):(E=ta(E),I===i?(I=E,E=0):I=ta(I)),E>I){var Z=E;E=I,I=Z}if(H||E%1||I%1){var oe=Yl();return Jt(E+oe*(I-E+mt("1e-"+((oe+"").length-1))),I)}return lu(E,I)}var bd=ya(function(E,I,H){return I=I.toLowerCase(),E+(H?Ol(I):I)});function Ol(E){return er($r(E).toLowerCase())}function Lh(E){return E=$r(E),E&&E.replace(jr,jl).replace(Se,"")}function Sp(E,I,H){E=$r(E),I=Yr(I);var Z=E.length;H=H===i?Z:Ua(ar(H),0,Z);var oe=H;return H-=I.length,H>=0&&E.slice(H,oe)==I}function Vu(E){return E=$r(E),E&&nt.test(E)?E.replace(St,Bh):E}function Uu(E){return E=$r(E),E&&jn.test(E)?E.replace(On,"\\$&"):E}var xd=ya(function(E,I,H){return E+(H?"-":"")+I.toLowerCase()}),Nl=ya(function(E,I,H){return E+(H?" ":"")+I.toLowerCase()}),Ih=hu("toLowerCase");function ju(E,I,H){E=$r(E),I=ar(I);var Z=I?hs(E):0;if(!I||Z>=I)return E;var oe=(I-Z)/2;return Eo(Pi(oe),H)+E+Eo(Ni(oe),H)}function Sd(E,I,H){E=$r(E),I=ar(I);var Z=I?hs(E):0;return I&&Z<I?E+Eo(I-Z,H):E}function wp(E,I,H){E=$r(E),I=ar(I);var Z=I?hs(E):0;return I&&Z<I?Eo(I-Z,H)+E:E}function Hu(E,I,H){return H||I==null?I=0:I&&(I=+I),ms($r(E).replace(ti,""),I||0)}function l(E,I,H){return(H?Mn(E,I,H):I===i)?I=1:I=ar(I),rl($r(E),I)}function p(){var E=arguments,I=$r(E[0]);return E.length<3?I:I.replace(E[1],E[2])}var _=ya(function(E,I,H){return E+(H?"_":"")+I.toLowerCase()});function D(E,I,H){return H&&typeof H!="number"&&Mn(E,I,H)&&(I=H=i),H=H===i?te:H>>>0,H?(E=$r(E),E&&(typeof I=="string"||I!=null&&!Lu(I))&&(I=Yr(I),!I&&sa(E))?Ks(Li(E),0,H):E.split(I,H)):[]}var j=ya(function(E,I,H){return E+(H?" ":"")+er(I)});function G(E,I,H){return E=$r(E),H=H==null?0:Ua(ar(H),0,E.length),I=Yr(I),E.slice(H,H+I.length)==I}function ne(E,I,H){var Z=fe.templateSettings;H&&Mn(E,I,H)&&(I=i),E=$r(E),I=kl({},I,Z,mu);var oe=kl({},I.imports,Z.imports,mu),be=gn(oe),Ae=Ul(oe,be),Oe,je,ot=0,ct=I.interpolate||rn,gt="__p += '",kt=Ds((I.escape||rn).source+"|"+ct.source+"|"+(ct===ei?Cn:rn).source+"|"+(I.evaluate||rn).source+"|$","g"),Nt="//# sourceURL="+(kr.call(I,"sourceURL")?(I.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wt+"]")+`
`;E.replace(kt,function(Qt,vr,_r,as,Ei,os){return _r||(_r=as),gt+=E.slice(ot,os).replace(Sn,Vh),vr&&(Oe=!0,gt+=`' +
__e(`+vr+`) +
'`),Ei&&(je=!0,gt+=`';
`+Ei+`;
__p += '`),_r&&(gt+=`' +
((__t = (`+_r+`)) == null ? '' : __t) +
'`),ot=os+Qt.length,Qt}),gt+=`';
`;var Xt=kr.call(I,"variable")&&I.variable;if(!Xt)gt=`with (obj) {
`+gt+`
}
`;else if(Cr.test(Xt))throw new qt(b);gt=(je?gt.replace(ht,""):gt).replace(tt,"$1").replace(At,"$1;"),gt="function("+(Xt||"obj")+`) {
`+(Xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Oe?", __e = _.escape":"")+(je?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+gt+`return __p
}`;var hr=We(function(){return pr(be,Nt+"return "+gt).apply(i,Ae)});if(hr.source=gt,Al(hr))throw hr;return hr}function ge(E){return $r(E).toLowerCase()}function Ce(E){return $r(E).toUpperCase()}function Fe(E,I,H){if(E=$r(E),E&&(H||I===i))return zh(E);if(!E||!(I=Yr(I)))return E;var Z=Li(E),oe=Li(I),be=no(Z,oe),Ae=io(Z,oe)+1;return Ks(Z,be,Ae).join("")}function at(E,I,H){if(E=$r(E),E&&(H||I===i))return E.slice(0,Qu(E)+1);if(!E||!(I=Yr(I)))return E;var Z=Li(E),oe=io(Z,Li(I))+1;return Ks(Z,0,oe).join("")}function pt(E,I,H){if(E=$r(E),E&&(H||I===i))return E.replace(ti,"");if(!E||!(I=Yr(I)))return E;var Z=Li(E),oe=no(Z,Li(I));return Ks(Z,oe).join("")}function Ye(E,I){var H=$,Z=O;if(Ur(I)){var oe="separator"in I?I.separator:oe;H="length"in I?ar(I.length):H,Z="omission"in I?Yr(I.omission):Z}E=$r(E);var be=E.length;if(sa(E)){var Ae=Li(E);be=Ae.length}if(H>=be)return E;var Oe=H-hs(Z);if(Oe<1)return Z;var je=Ae?Ks(Ae,0,Oe).join(""):E.slice(0,Oe);if(oe===i)return je+Z;if(Ae&&(Oe+=je.length-Oe),Lu(oe)){if(E.slice(Oe).search(oe)){var ot,ct=je;for(oe.global||(oe=Ds(oe.source,$r(xn.exec(oe))+"g")),oe.lastIndex=0;ot=oe.exec(ct);)var gt=ot.index;je=je.slice(0,gt===i?Oe:gt)}}else if(E.indexOf(Yr(oe),Oe)!=Oe){var kt=je.lastIndexOf(oe);kt>-1&&(je=je.slice(0,kt))}return je+Z}function it(E){return E=$r(E),E&&Ot.test(E)?E.replace(vt,Wh):E}var Dt=ya(function(E,I,H){return E+(H?" ":"")+I.toUpperCase()}),er=hu("toUpperCase");function qr(E,I,H){return E=$r(E),I=H?i:I,I===i?Uh(E)?Ld(E):Ad(E):E.match(I)||[]}var We=lr(function(E,I){try{return fn(E,i,I)}catch(H){return Al(H)?H:new qt(H)}}),Pe=Ss(function(E,I){return Mi(I,function(H){H=Qn(H),pi(E,H,Za(E[H],E))}),E});function qe(E){var I=E==null?0:E.length,H=Ut();return E=I?zr(E,function(Z){if(typeof Z[1]!="function")throw new fi(y);return[H(Z[0]),Z[1]]}):[],lr(function(Z){for(var oe=-1;++oe<I;){var be=E[oe];if(fn(be[0],this,Z))return fn(be[1],this,Z)}})}function ut(E){return lc(Er(E,s))}function It(E){return function(){return E}}function cr(E,I){return E==null||E!==E?I:E}var Ft=du(),Yt=du(!0);function Ar(E){return E}function wr(E){return pc(typeof E=="function"?E:Er(E,s))}function $a(E){return mc(Er(E,s))}function _p(E,I){return ou(E,Er(I,s))}var Kp=lr(function(E,I){return function(H){return mo(H,E,I)}}),qp=lr(function(E,I){return function(H){return mo(E,H,I)}});function Tp(E,I,H){var Z=gn(I),oe=Ha(I,Z);H==null&&!(Ur(I)&&(oe.length||!Z.length))&&(H=I,I=E,E=this,oe=Ha(I,gn(I)));var be=!(Ur(H)&&"chain"in H)||!!H.chain,Ae=ea(E);return Mi(oe,function(Oe){var je=I[Oe];E[Oe]=je,Ae&&(E.prototype[Oe]=function(){var ot=this.__chain__;if(be||ot){var ct=E(this.__wrapped__),gt=ct.__actions__=Xn(this.__actions__);return gt.push({func:je,args:arguments,thisArg:E}),ct.__chain__=ot,ct}return je.apply(E,Is([this.value()],arguments))})}),E}function Yp(){return Rt._===this&&(Rt._=Ju),this}function Ep(){}function Xp(E){return E=ar(E),lr(function(I){return gc(I,E)})}var Qp=Xi(zr),Zp=Xi(Oh),Jp=Xi(Ku);function kp(E){return Ro(E)?zl(Qn(E)):pf(E)}function em(E){return function(I){return E==null?i:Hs(E,I)}}var tm=Dc(),rm=Dc(!0);function Cp(){return[]}function Ap(){return!1}function nm(){return{}}function im(){return""}function sm(){return!0}function am(E,I){if(E=ar(E),E<1||E>K)return[];var H=te,Z=Jt(E,te);I=Ut(I),E-=te;for(var oe=ia(Z,I);++H<E;)I(H);return oe}function om(E){return rr(E)?zr(E,Qn):_i(E)?[E]:Xn(Ts($r(E)))}function lm(E){var I=++qh;return $r(E)+I}var um=ll(function(E,I){return E+I},0),cm=Qi("ceil"),hm=ll(function(E,I){return E/I},1),fm=Qi("floor");function dm(E){return E&&E.length?po(E,Ar,iu):i}function pm(E,I){return E&&E.length?po(E,Ut(I,2),iu):i}function mm(E){return Ph(E,Ar)}function gm(E,I){return Ph(E,Ut(I,2))}function ym(E){return E&&E.length?po(E,Ar,yo):i}function vm(E,I){return E&&E.length?po(E,Ut(I,2),yo):i}var bm=ll(function(E,I){return E*I},1),xm=Qi("round"),Sm=ll(function(E,I){return E-I},0);function wm(E){return E&&E.length?Vl(E,Ar):0}function _m(E,I){return E&&E.length?Vl(E,Ut(I,2)):0}return fe.after=sh,fe.ary=Ea,fe.assign=zo,fe.assignIn=Bo,fe.assignInWith=kl,fe.assignWith=Ou,fe.at=Eh,fe.before=rs,fe.bind=Za,fe.bindAll=Pe,fe.bindKey=Zf,fe.castArray=ph,fe.chain=Vn,fe.chunk=wa,fe.compact=Rf,fe.concat=$o,fe.cond=qe,fe.conforms=ut,fe.constant=It,fe.countBy=Hf,fe.create=Ch,fe.curry=ah,fe.curryRight=oh,fe.debounce=lh,fe.defaults=Nu,fe.defaultsDeep=hd,fe.defer=rp,fe.delay=uh,fe.difference=pl,fe.differenceBy=ml,fe.differenceWith=Mo,fe.drop=$f,fe.dropRight=Mf,fe.dropRightWhile=gl,fe.dropWhile=Lf,fe.fill=Su,fe.filter=rh,fe.flatMap=Xd,fe.flatMapDeep=Wf,fe.flatMapDepth=Gf,fe.flatten=xi,fe.flattenDeep=Hc,fe.flattenDepth=_a,fe.flip=Jf,fe.flow=Ft,fe.flowRight=Yt,fe.fromPairs=Df,fe.functions=mp,fe.functionsIn=Pu,fe.groupBy=Kf,fe.initial=Of,fe.intersection=Wc,fe.intersectionBy=Gc,fe.intersectionWith=Ys,fe.invert=$l,fe.invertBy=gp,fe.invokeMap=Qd,fe.iteratee=wr,fe.keyBy=Yf,fe.keys=gn,fe.keysIn=Jn,fe.map=Js,fe.mapKeys=md,fe.mapValues=Rh,fe.matches=$a,fe.matchesProperty=_p,fe.memoize=Tl,fe.merge=gd,fe.mergeWith=Ml,fe.method=Kp,fe.methodOf=qp,fe.mixin=Tp,fe.negate=Cu,fe.nthArg=Xp,fe.omit=yp,fe.omitBy=vp,fe.once=ch,fe.orderBy=Xf,fe.over=Qp,fe.overArgs=hh,fe.overEvery=Zp,fe.overSome=Jp,fe.partial=fh,fe.partialRight=ed,fe.partition=Or,fe.pick=$h,fe.pickBy=Fu,fe.property=kp,fe.propertyOf=em,fe.pull=Hd,fe.pullAll=Pf,fe.pullAllBy=Ff,fe.pullAllWith=Wd,fe.pullAt=Gd,fe.range=tm,fe.rangeRight=rm,fe.rearg=El,fe.reject=Qf,fe.remove=Gr,fe.rest=np,fe.reverse=Dr,fe.sampleSize=ep,fe.set=Mh,fe.setWith=yd,fe.shuffle=tp,fe.slice=fr,fe.sortBy=ih,fe.sortedUniq=Qs,fe.sortedUniqBy=Qr,fe.split=D,fe.spread=td,fe.tail=Ta,fe.take=qa,fe.takeRight=qc,fe.takeRightWhile=Bi,fe.takeWhile=Io,fe.tap=Bf,fe.throttle=yr,fe.thru=Do,fe.toArray=ud,fe.toPairs=Bu,fe.toPairsIn=ra,fe.toPath=om,fe.toPlainObject=Fo,fe.transform=ka,fe.unary=dh,fe.union=bl,fe.unionBy=Es,fe.unionWith=Yc,fe.uniq=Xc,fe.uniqBy=wu,fe.uniqWith=_u,fe.unset=Ra,fe.unzip=Cs,fe.unzipWith=xl,fe.update=Ll,fe.updateWith=Il,fe.values=Ti,fe.valuesIn=bp,fe.without=Ya,fe.words=qr,fe.wrap=Au,fe.xor=Sl,fe.xorBy=Qc,fe.xorWith=Zc,fe.zip=wl,fe.zipObject=Jc,fe.zipObjectDeep=wi,fe.zipWith=zf,fe.entries=Bu,fe.entriesIn=ra,fe.extend=Bo,fe.extendWith=kl,Tp(fe,fe),fe.add=um,fe.attempt=We,fe.camelCase=bd,fe.capitalize=Ol,fe.ceil=cm,fe.clamp=vd,fe.clone=rd,fe.cloneDeep=Cl,fe.cloneDeepWith=ku,fe.cloneWith=mh,fe.conformsTo=Po,fe.deburr=Lh,fe.defaultTo=cr,fe.divide=hm,fe.endsWith=Sp,fe.eq=Vi,fe.escape=Vu,fe.escapeRegExp=Uu,fe.every=th,fe.find=qd,fe.findIndex=jc,fe.findKey=fd,fe.findLast=Yd,fe.findLastIndex=If,fe.findLastKey=fp,fe.floor=fm,fe.forEach=Xa,fe.forEachRight=_l,fe.forIn=dd,fe.forInRight=Rl,fe.forOwn=dp,fe.forOwnRight=pp,fe.get=Vo,fe.gt=ip,fe.gte=sp,fe.has=Ah,fe.hasIn=kh,fe.head=yl,fe.identity=Ar,fe.includes=qf,fe.indexOf=Ka,fe.inRange=Dl,fe.invoke=pd,fe.isArguments=Ca,fe.isArray=rr,fe.isArrayBuffer=Ru,fe.isArrayLike=sr,fe.isArrayLikeObject=Kr,fe.isBoolean=Ln,fe.isBuffer=Aa,fe.isDate=gh,fe.isElement=yh,fe.isEmpty=$u,fe.isEqual=nd,fe.isEqualWith=sd,fe.isError=Al,fe.isFinite=bh,fe.isFunction=ea,fe.isInteger=xh,fe.isLength=Mu,fe.isMap=ad,fe.isMatch=Sh,fe.isMatchWith=wh,fe.isNaN=ap,fe.isNative=op,fe.isNil=od,fe.isNull=ns,fe.isNumber=_h,fe.isObject=Ur,fe.isObjectLike=Zr,fe.isPlainObject=Un,fe.isRegExp=Lu,fe.isSafeInteger=Iu,fe.isSet=As,fe.isString=Du,fe.isSymbol=_i,fe.isTypedArray=ss,fe.isUndefined=ld,fe.isWeakMap=lp,fe.isWeakSet=up,fe.join=Nf,fe.kebabCase=xd,fe.last=Zn,fe.lastIndexOf=vl,fe.lowerCase=Nl,fe.lowerFirst=Ih,fe.lt=cp,fe.lte=hp,fe.max=dm,fe.maxBy=pm,fe.mean=mm,fe.meanBy=gm,fe.min=ym,fe.minBy=vm,fe.stubArray=Cp,fe.stubFalse=Ap,fe.stubObject=nm,fe.stubString=im,fe.stubTrue=sm,fe.multiply=bm,fe.nth=Wr,fe.noConflict=Yp,fe.noop=Ep,fe.now=Qa,fe.pad=ju,fe.padEnd=Sd,fe.padStart=wp,fe.parseInt=Hu,fe.random=xp,fe.reduce=nh,fe.reduceRight=Zd,fe.repeat=l,fe.replace=p,fe.result=zu,fe.round=xm,fe.runInContext=ze,fe.sample=Jd,fe.size=Eu,fe.snakeCase=_,fe.some=No,fe.sortedIndex=Sr,fe.sortedIndexBy=Fr,fe.sortedIndexOf=Si,fe.sortedLastIndex=Xs,fe.sortedLastIndexBy=Lo,fe.sortedLastIndexOf=Kc,fe.startCase=j,fe.startsWith=G,fe.subtract=Sm,fe.sum=wm,fe.sumBy=_m,fe.template=ne,fe.times=am,fe.toFinite=ta,fe.toInteger=ar,fe.toLength=Th,fe.toLower=ge,fe.toNumber=In,fe.toSafeInteger=cd,fe.toString=$r,fe.toUpper=Ce,fe.trim=Fe,fe.trimEnd=at,fe.trimStart=pt,fe.truncate=Ye,fe.unescape=it,fe.uniqueId=lm,fe.upperCase=Dt,fe.upperFirst=er,fe.each=Xa,fe.eachRight=_l,fe.first=yl,Tp(fe,function(){var E={};return zi(fe,function(I,H){kr.call(fe.prototype,H)||(E[H]=I)}),E}(),{chain:!1}),fe.VERSION=a,Mi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(E){fe[E].placeholder=fe}),Mi(["drop","take"],function(E,I){ir.prototype[E]=function(H){H=H===i?1:gr(ar(H),0);var Z=this.__filtered__&&!I?new ir(this):this.clone();return Z.__filtered__?Z.__takeCount__=Jt(H,Z.__takeCount__):Z.__views__.push({size:Jt(H,te),type:E+(Z.__dir__<0?"Right":"")}),Z},ir.prototype[E+"Right"]=function(H){return this.reverse()[E](H).reverse()}}),Mi(["filter","map","takeWhile"],function(E,I){var H=I+1,Z=H==F||H==U;ir.prototype[E]=function(oe){var be=this.clone();return be.__iteratees__.push({iteratee:Ut(oe,3),type:H}),be.__filtered__=be.__filtered__||Z,be}}),Mi(["head","last"],function(E,I){var H="take"+(I?"Right":"");ir.prototype[E]=function(){return this[H](1).value()[0]}}),Mi(["initial","tail"],function(E,I){var H="drop"+(I?"":"Right");ir.prototype[E]=function(){return this.__filtered__?new ir(this):this[H](1)}}),ir.prototype.compact=function(){return this.filter(Ar)},ir.prototype.find=function(E){return this.filter(E).head()},ir.prototype.findLast=function(E){return this.reverse().find(E)},ir.prototype.invokeMap=lr(function(E,I){return typeof E=="function"?new ir(this):this.map(function(H){return mo(H,E,I)})}),ir.prototype.reject=function(E){return this.filter(Cu(Ut(E)))},ir.prototype.slice=function(E,I){E=ar(E);var H=this;return H.__filtered__&&(E>0||I<0)?new ir(H):(E<0?H=H.takeRight(-E):E&&(H=H.drop(E)),I!==i&&(I=ar(I),H=I<0?H.dropRight(-I):H.take(I-E)),H)},ir.prototype.takeRightWhile=function(E){return this.reverse().takeWhile(E).reverse()},ir.prototype.toArray=function(){return this.take(te)},zi(ir.prototype,function(E,I){var H=/^(?:filter|find|map|reject)|While$/.test(I),Z=/^(?:head|last)$/.test(I),oe=fe[Z?"take"+(I=="last"?"Right":""):I],be=Z||/^find/.test(I);oe&&(fe.prototype[I]=function(){var Ae=this.__wrapped__,Oe=Z?[1]:arguments,je=Ae instanceof ir,ot=Oe[0],ct=je||rr(Ae),gt=function(vr){var _r=oe.apply(fe,Is([vr],Oe));return Z&&kt?_r[0]:_r};ct&&H&&typeof ot=="function"&&ot.length!=1&&(je=ct=!1);var kt=this.__chain__,Nt=!!this.__actions__.length,Xt=be&&!kt,hr=je&&!Nt;if(!be&&ct){Ae=hr?Ae:new ir(this);var Qt=E.apply(Ae,Oe);return Qt.__actions__.push({func:Do,args:[gt],thisArg:i}),new di(Qt,kt)}return Xt&&hr?E.apply(this,Oe):(Qt=this.thru(gt),Xt?Z?Qt.value()[0]:Qt.value():Qt)})}),Mi(["pop","push","shift","sort","splice","unshift"],function(E){var I=jo[E],H=/^(?:push|sort|unshift)$/.test(E)?"tap":"thru",Z=/^(?:pop|shift)$/.test(E);fe.prototype[E]=function(){var oe=arguments;if(Z&&!this.__chain__){var be=this.value();return I.apply(rr(be)?be:[],oe)}return this[H](function(Ae){return I.apply(rr(Ae)?Ae:[],oe)})}}),zi(ir.prototype,function(E,I){var H=fe[I];if(H){var Z=H.name+"";kr.call(oa,Z)||(oa[Z]=[]),oa[Z].push({name:I,func:H})}}),oa[ol(i,T).name]=[{name:"wrapper",func:i}],ir.prototype.clone=Jh,ir.prototype.reverse=lo,ir.prototype.value=Zl,fe.prototype.at=Vf,fe.prototype.chain=Kd,fe.prototype.commit=Zs,fe.prototype.next=Tu,fe.prototype.plant=Oo,fe.prototype.reverse=Uf,fe.prototype.toJSON=fe.prototype.valueOf=fe.prototype.value=jf,fe.prototype.first=fe.prototype.head,ds&&(fe.prototype[ds]=eh),fe},Hi=Id();xr?((xr.exports=Hi)._=Hi,Vt._=Hi):Rt._=Hi}).call(lodash)}(lodash$1,lodash$1.exports)),lodash$1.exports}var moduleLoader={},xmlhttprequestTs_umd$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var xmlhttprequestTs_umd=xmlhttprequestTs_umd$1.exports,hasRequiredXmlhttprequestTs_umd;function requireXmlhttprequestTs_umd(){return hasRequiredXmlhttprequestTs_umd||(hasRequiredXmlhttprequestTs_umd=1,function(e,n){(function(i,a){a(n,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(xmlhttprequestTs_umd,function(i,a,w,g,y,b,d,f){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var c=function(){function s(){this.UNSENT=s.UNSENT,this.OPENED=s.OPENED,this.HEADERS_RECEIVED=s.HEADERS_RECEIVED,this.LOADING=s.LOADING,this.DONE=s.DONE,this.disableHeaderCheck=!1,this.readyState=s.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return s.prototype.open=function(o,u,h,m,v){if(h===void 0&&(h=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod(o))throw new Error("SecurityError: Request method not allowed");this.settings={method:o,url:u,async:typeof h!="boolean"?!0:h,user:m,password:v},this.setState(this.OPENED)},s.prototype.setDisableHeaderCheck=function(o){this.disableHeaderCheck=o},s.prototype.setRequestHeader=function(o,u){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader(o)){console.warn('Refused to set unsafe header "'+o+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");o=this.headersLowerCase[o.toLowerCase()]||o,this.headersLowerCase[o.toLowerCase()]=o,this.headers[o]=this.headers[o]?this.headers[o]+", "+u:u},s.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var o="";if(this.response){for(var u in this.response.headers)if(u!=="set-cookie"&&u!=="set-cookie2"){var h=this.response.headers[u];typeof h=="string"?o+=u+": "+h+`\r
`:Array.isArray(h)?o+=u+": "+h.join(", ")+`\r
`:o+=u+`:\r
`}}return o.substr(0,o.length-2)},s.prototype.getResponseHeader=function(o){if(typeof o=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[o.toLowerCase()]&&!this.errorFlag){var u=this.response.headers[o.toLowerCase()];if(typeof u=="string")return u;if(Array.isArray(u))return u.join(", ")}return null},s.prototype.getRequestHeader=function(o){if(typeof o=="string"&&this.headersLowerCase[o.toLowerCase()])return this.headers[this.headersLowerCase[o.toLowerCase()]]},s.prototype.send=function(o){var u=this,h=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var m=!1,v=!1,T=y.parse(this.settings.url),x;switch(T.protocol){case"https:":m=!0;case"http:":x=T.hostname;break;case"file:":v=!0;break;case void 0:case null:case"":x="localhost";break;default:throw new Error("Protocol not supported.")}if(v){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)a.readFile(unescape(T.pathname||"/"),"utf8",function(K,Q){K?h.handleError(K):(h.status=200,h.responseText=Q,h.setState(h.DONE))});else try{this.responseText=a.readFileSync(unescape(T.pathname||"/"),"utf8"),this.status=200,this.setState(h.DONE)}catch(K){this.handleError(K)}return}var R=T.port||(m?443:80),k=T.pathname+(T.search?T.search:"");for(var C in this.defaultHeaders)this.headersLowerCase[C.toLowerCase()]||(this.headers[C]=this.defaultHeaders[C]);if(x&&(this.headers.Host=x),T.host&&T.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),m&&R===443||R===80||(this.headers.Host+=":"+T.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var S=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+S.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?o=null:o?(this.headers["Content-Length"]=""+(Buffer.isBuffer(o)?o.length:Buffer.byteLength(o)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var N={host:x,port:R,path:k,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){u.readyState!==u.DONE&&h.handleTimeout(new Error("request timed out after "+u.timeout+"ms"))},this.timeout));var L=m?g.request:w.request;this.sendFlag=!0,h.dispatchEvent("readystatechange");var A=function(K){h.handleError(K)},$=0,O=function(K){if(h.response=K,h.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h.response.headers.location&&(h.response.statusCode===301||h.response.statusCode===302||h.response.statusCode===303||h.response.statusCode===307)){if($++,$>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");h.settings.url=h.response.headers.location;var Q=y.parse(h.settings.url);x=Q.hostname,x&&(h.headers.Host=x);var X={hostname:Q.hostname,port:Q.port,path:Q.path,method:h.response.statusCode===303?"GET":h.settings.method,headers:h.headers,withCredentials:h.withCredentials};m=T.protocol==="https:",L=m?g.request:w.request,h.request=L(X,O).on("error",A),h.request.end();return}h.response.setEncoding("utf8"),h.setState(h.HEADERS_RECEIVED),h.status=h.response.statusCode||0,h.response.on("data",function(te){te&&(h.responseText+=te),h.sendFlag&&h.setState(h.LOADING)}),h.response.on("end",function(){h.sendFlag&&(h.setState(h.DONE),h.sendFlag=!1)}),h.response.on("error",function(te){h.handleError(te)})};h.request=L(N,O).on("error",A),o&&h.request.write(o),h.request.end(),h.dispatchEvent("loadstart")}else{var B=new Date().getTime(),z=b.tmpdir()+d.sep+"ts-xmlhttprequest-content-"+process.pid,F=b.tmpdir()+d.sep+"ts-xmlhttprequest-sync-"+process.pid;a.writeFileSync(F,"","utf8");var V="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(m?"s":"")+".request;let options = "+JSON.stringify(N)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+z+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+F+"');});response.on('error', function(error) {fs.writeFileSync('"+z+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+F+"');});}).on('error', function(error) {fs.writeFileSync('"+z+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+F+"');});"+(o?"req.write('"+JSON.stringify(o).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";h.dispatchEvent("loadstart"),this.setState(h.LOADING);var U=f.spawn(process.argv[0],["-e",V]);for(U.on("exit",function(K,Q){try{a.unlinkSync(F)}catch{}try{a.unlinkSync(z)}catch{}});a.existsSync(F);)if(this.timeout!==0&&new Date().getTime()>=B+this.timeout)return U.stdin.end(),U.kill(),h.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));U.stdin.end(),U.kill();var q=JSON.parse(a.readFileSync(z,"utf8"));a.unlinkSync(z),q.err?h.handleError(q.err):(h.response=q.data,h.status=q.data.statusCode,h.responseText=q.data.text,h.setState(h.DONE))}},s.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},s.prototype.addEventListener=function(o,u){o in this.listeners||(this.listeners[o]=[]),this.listeners[o].push(u)},s.prototype.removeEventListener=function(o,u){o in this.listeners&&(this.listeners[o]=this.listeners[o].filter(function(h){return h!==u}))},s.prototype.dispatchEvent=function(o,u){var h="on"+o;if(typeof this[h]=="function"&&this[h](u),o in this.listeners)for(var m=0,v=this.listeners[o].length;m<v;m++)this.listeners[o][m].call(this,u)},s.prototype.setState=function(o){(o===this.LOADING||this.readyState!==o)&&(this.readyState=o,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},s.prototype.handleTimeout=function(o){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=o.toString(),this.responseText=o.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",o),this.setState(this.DONE)},s.prototype.handleError=function(o){this.status=0,this.statusText=o.toString(),this.responseText=o.stack||"",this.errorFlag=!0,this.dispatchEvent("error",o),this.setState(this.DONE)},s.prototype.isAllowedHttpHeader=function(o){return(this.disableHeaderCheck||o&&this.forbiddenRequestHeaders.indexOf(o.toLowerCase())===-1)===!0},s.prototype.isAllowedHttpMethod=function(o){return(o&&this.forbiddenRequestMethods.indexOf(o)===-1)===!0},s.UNSENT=0,s.OPENED=1,s.HEADERS_RECEIVED=2,s.LOADING=3,s.DONE=4,s}();i.XMLHttpRequest=c,Object.defineProperty(i,"__esModule",{value:!0})})}(xmlhttprequestTs_umd$1,xmlhttprequestTs_umd$1.exports)),xmlhttprequestTs_umd$1.exports}var moduleErrors={},hasRequiredModuleErrors;function requireModuleErrors(){if(hasRequiredModuleErrors)return moduleErrors;hasRequiredModuleErrors=1,Object.defineProperty(moduleErrors,"__esModule",{value:!0}),moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const e=requireRuntimeSourceError();class n extends e.RuntimeSourceError{constructor(g){super(g)}explain(){return n.message}elaborate(){return n.elaboration}}moduleErrors.ModuleConnectionError=n,n.message="Unable to get modules.",n.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class i extends e.RuntimeSourceError{constructor(g,y){super(y),this.moduleName=g}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=i;class a extends e.RuntimeSourceError{constructor(g,y){super(y),this.moduleName=g}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}return moduleErrors.ModuleInternalError=a,moduleErrors}var hasRequiredModuleLoader;function requireModuleLoader(){return hasRequiredModuleLoader||(hasRequiredModuleLoader=1,function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=requireLodash(),xmlhttprequest_ts_1=requireXmlhttprequestTs_umd(),moduleErrors_1=requireModuleErrors(),newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(e){exports.MODULES_STATIC_URL=e}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(e){const n=(0,exports.newHttpRequest)();try{typeof window>"u"&&(n.timeout=1e4),n.open("GET",e,!1),n.send(null)}catch(i){if(!(i instanceof DOMException))throw i}if(n.status!==200&&n.status!==304)throw new moduleErrors_1.ModuleConnectionError;return n.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const e=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(e)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(e,n)=>memoizedGetModuleFileInternal({name:e,type:n});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:e,type:n}){return httpGet(`${exports.MODULES_STATIC_URL}/${n}s/${e}.js${n==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(e,n){try{const i=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(i).includes(e))throw new moduleErrors_1.ModuleNotFoundError(e,n);const w=getModuleFile({name:e,type:"json"});return JSON.parse(w)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs}(moduleLoader)),moduleLoader}var inspector={},hasRequiredInspector;function requireInspector(){if(hasRequiredInspector)return inspector;hasRequiredInspector=1,Object.defineProperty(inspector,"__esModule",{value:!0}),inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const e=(d,f,c)=>{d.debugger.state.it=f,d.debugger.state.scheduler=c};inspector.saveState=e;const n=d=>{a=d};inspector.setBreakpointAtLine=n;const i=d=>(d.runtime.break=!0,{status:"suspended",scheduler:d.debugger.state.scheduler,it:d.debugger.state.it,context:d});inspector.manualToggleDebugger=i;let a=[],w=!0,g=-1;const y=(d,f)=>{if(f.loc){const c=f.loc.start.line-1;!w&&c!==g&&(w=!0),d.runtime.debuggerOn&&a[c]!==void 0&&w&&(w=!1,g=c,d.runtime.break=!0)}};inspector.checkEditorBreakpoints=y;const b=()=>a.length>0;return inspector.areBreakpointsSet=b,inspector}var operators={},timeoutErrors={},formatters={},hasRequiredFormatters;function requireFormatters(){if(hasRequiredFormatters)return formatters;hasRequiredFormatters=1,Object.defineProperty(formatters,"__esModule",{value:!0}),formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function e(w,g){return typeof w=="string"?w:g.reduce((y,b,d)=>y+b+w[d+1],w[0])}function n(w,...g){return e(w,g).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=n;function i(w,...g){const y=e(w,g),b=y.match(/^[^\S\n]*(?=\S)/gm),d=b&&Math.min(...b.map(f=>f.length));return d?y.replace(new RegExp(`^.{${d}}`,"gm"),"").trim():y.trim()}formatters.stripIndent=i;function a(w,g=15,y="..."){if(w.length<g)return w;const b=Math.ceil(g-y.length/2);return w.slice(0,b)+" ... "+w.slice(b)}return formatters.simplify=a,formatters}var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const e=requireConstants(),n=requireTypes(),i=requireFormatters(),a=requireStringify(),w=requireRuntimeSourceError();function g(f){const c=f/1e3,s=c*e.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,i.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${c} to ${s} seconds.
      This page may be unresponsive for up to ${s} seconds if you do so.`}class y extends w.RuntimeSourceError{}timeoutErrors.TimeoutError=y;class b extends y{constructor(c,s){super(c),this.maxExecTime=s,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR}explain(){return(0,i.stripIndent)`${"Potential infinite loop detected"}.
    ${g(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=b;class d extends y{constructor(c,s,o){super(c),this.calls=s,this.maxExecTime=o,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const c=this.calls.map(([s,o])=>`${s}(${o.map(u=>(0,a.stringify)(u)).join(", ")})`);return(0,i.stripIndent)`${"Potential infinite recursion detected"}: ${c.join(" ... ")}.
      ${g(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=d,timeoutErrors}var makeWrapper={},hasRequiredMakeWrapper;function requireMakeWrapper(){if(hasRequiredMakeWrapper)return makeWrapper;hasRequiredMakeWrapper=1,Object.defineProperty(makeWrapper,"__esModule",{value:!0}),makeWrapper.makeWrapper=void 0;function e(n,i){for(const a in n)n.hasOwnProperty(a)&&Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a));for(const a of["length","name"])n.hasOwnProperty(a)&&Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))}return makeWrapper.makeWrapper=e,makeWrapper}var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getProp=e.setProp=e.wrap=e.callIteratively=e.evaluateBinaryExpression=e.binaryOp=e.evaluateUnaryExpression=e.unaryOp=e.boolOrErr=e.callIfFuncAndRightArgs=e.makeLazyFunction=e.wrapLazyCallee=e.delayIt=e.forceIt=e.throwIfTimeout=void 0;const n=requireCreateContext(),i=requireErrors(),a=requireRuntimeSourceError(),w=requireTimeoutErrors(),g=requireAstCreator(),y=requireAstCreator(),b=requireMakeWrapper(),d=requireRttc();function f(L,A,$,O,B){if($-A>L.maxExecTime)throw new w.PotentialInfiniteLoopError(y.locationDummyNode(O,B),L.maxExecTime)}e.throwIfTimeout=f;function c(L){if(L!=null&&L.isMemoized!==void 0){if(L.isMemoized)return L.memoizedValue;const A=c(L.f());return L.isMemoized=!0,L.memoizedValue=A,A}else return L}e.forceIt=c;function s(L){return{isMemoized:!1,value:void 0,f:L}}e.delayIt=s;function o(L){if(L=c(L),typeof L=="function"){const A=(...$)=>L(...$.map(c));return(0,b.makeWrapper)(L,A),A[Symbol.toStringTag]=()=>L.toString(),A.toString=()=>L.toString(),A}else if(L instanceof n.LazyBuiltIn)if(L.evaluateArgs){const A=(...$)=>L.func(...$.map(c));return(0,b.makeWrapper)(L.func,A),A[Symbol.toStringTag]=()=>L.toString(),A.toString=()=>L.toString(),A}else return L;return L}e.wrapLazyCallee=o;function u(L){return new n.LazyBuiltIn(L,!1)}e.makeLazyFunction=u;function h(L,A,$,...O){const B=y.callExpression(y.locationDummyNode(A,$),O,{start:{line:A,column:$},end:{line:A,column:$}});if(typeof L=="function"){const z=L;L.transformedFunction!==void 0&&(L=L.transformedFunction);const F=L.length,V=O.length,U=L.minArgsNeeded!==void 0;if(U?L.minArgsNeeded>V:F!==V)throw new i.InvalidNumberOfArguments(B,U?L.minArgsNeeded:F,V,U);try{const q=O.map(c);return z(...q)}catch(q){throw q instanceof a.RuntimeSourceError||q instanceof i.ExceptionError?q:new i.ExceptionError(q,B.loc)}}else if(L instanceof n.LazyBuiltIn)try{return L.evaluateArgs&&(O=O.map(c)),L.func(...O)}catch(z){throw z instanceof a.RuntimeSourceError||z instanceof i.ExceptionError?z:new i.ExceptionError(z,B.loc)}else throw new i.CallingNonFunctionValue(L,B)}e.callIfFuncAndRightArgs=h;function m(L,A,$){L=c(L);const O=d.checkIfStatement(y.locationDummyNode(A,$),L);if(O===void 0)return L;throw O}e.boolOrErr=m;function v(L,A,$,O){A=c(A);const B=d.checkUnaryExpression(y.locationDummyNode($,O),L,A);if(B===void 0)return T(L,A);throw B}e.unaryOp=v;function T(L,A){return L==="!"?!A:L==="-"?-A:+A}e.evaluateUnaryExpression=T;function x(L,A,$,O,B,z){$=c($),O=c(O);const F=d.checkBinaryExpression(y.locationDummyNode(B,z),L,A,$,O);if(F===void 0)return R(L,$,O);throw F}e.binaryOp=x;function R(L,A,$){switch(L){case"+":return A+$;case"-":return A-$;case"*":return A*$;case"/":return A/$;case"%":return A%$;case"===":return A===$;case"!==":return A!==$;case"<=":return A<=$;case"<":return A<$;case">":return A>$;case">=":return A>=$;default:return}}e.evaluateBinaryExpression=R;const k=(L,A,...$)=>{let O=-1,B=-1;const z=Date.now(),F=[];for(;;){const V=(0,g.locationDummyNode)(O,B);if(L=c(L),typeof L=="function"){L.transformedFunction!==void 0&&(L=L.transformedFunction);const q=L.length,K=$.length,Q=L.minArgsNeeded!==void 0;if(Q?L.minArgsNeeded>K:q!==K)throw new i.InvalidNumberOfArguments((0,g.callExpression)(V,$,{start:{line:O,column:B},end:{line:O,column:B}}),Q?L.minArgsNeeded:q,K,Q)}else if(L instanceof n.LazyBuiltIn)L.evaluateArgs&&($=$.map(c)),L=L.func;else throw new i.CallingNonFunctionValue(L,V);let U;try{if(U=L(...$),Date.now()-z>A.maxExecTime)throw new w.PotentialInfiniteRecursionError(V,F,A.maxExecTime)}catch(q){throw q instanceof a.RuntimeSourceError||q instanceof i.ExceptionError?q:new i.ExceptionError(q,V.loc)}if(U==null)return U;if(U.isTail===!0)L=U.function,$=U.arguments,O=U.line,B=U.column,F.push([U.functionName,$]);else return U.isTail===!1?U.value:U}};e.callIteratively=k;const C=(L,A,$,O)=>{$&&(L.minArgsNeeded=L.length);const B=(...z)=>(0,e.callIteratively)(L,O,...z);return(0,b.makeWrapper)(L,B),B.transformedFunction=L,B[Symbol.toStringTag]=()=>A,B.toString=()=>A,B};e.wrap=C;const S=(L,A,$,O,B)=>{const z=(0,g.locationDummyNode)(O,B),F=d.checkMemberAccess(z,L,A);if(F===void 0)return L[A]=$;throw F};e.setProp=S;const N=(L,A,$,O)=>{const B=(0,g.locationDummyNode)($,O),z=d.checkMemberAccess(B,L,A);if(z===void 0){if(L[A]!==void 0&&!L.hasOwnProperty(A))throw new i.GetInheritedPropertyError(B,L,A);return L[A]}else throw z};e.getProp=N}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.apply=e.evaluate=e.evaluators=e.pushEnvironment=e.createBlockEnvironment=e.actualValue=void 0;const n=requireLodash(),i=requireConstants(),a=requireCreateContext(),w=requireErrors(),g=requireRuntimeSourceError(),y=requireModuleLoader(),b=requireInspector(),d=requireTypes(),f=requireAstCreator(),c=requireOperators(),s=requireRttc(),o=requireClosure();class u{}class h{}class m{constructor(ve){this.value=ve}}class v{constructor(ve,he,Le){this.callee=ve,this.args=he,this.node=Le}}class T{constructor(ve,he){this.exp=ve,this.env=he,this.isMemoized=!1,this.value=null}}const x=(me,ve)=>new T(me,ve);function*R(me,ve){if(me instanceof T){if(me.isMemoized)return me.value;(0,e.pushEnvironment)(ve,me.env);const he=yield*k(me.exp,ve);return K(ve),me.value=he,me.isMemoized=!0,he}else return me}function*k(me,ve){const he=yield*Re(me,ve);return yield*R(he,ve)}e.actualValue=k;const C=(me,ve,he)=>{const Le={name:me.functionName,tail:me.environment,head:{},id:(0,n.uniqueId)()};return he&&(Le.callExpression=Object.assign(Object.assign({},he),{arguments:ve.map(f.primitive)})),me.node.params.forEach((Qe,De)=>{Qe.type==="RestElement"?Le.head[Qe.argument.name]=ve.slice(De):Le.head[Qe.name]=ve[De]}),Le},S=(me,ve="blockEnvironment",he={})=>({name:ve,tail:U(me),head:he,id:(0,n.uniqueId)()});e.createBlockEnvironment=S;const N=(me,ve)=>{throw me.errors.push(ve),me.runtime.environments=me.runtime.environments.slice(-me.numberOfOuterEnvironments),ve},L=Symbol("Used to implement hoisting");function A(me,ve,he){const Le=U(me);if(Le.head.hasOwnProperty(ve)){const Qe=Object.getOwnPropertyDescriptors(Le.head);return N(me,new w.VariableRedeclaration(he,ve,Qe[ve].writable))}return Le.head[ve]=L,Le}function $(me,ve){for(const he of ve.declarations)A(me,he.id.name,ve)}function O(me,ve){for(const he of ve.specifiers)A(me,he.local.name,ve)}function B(me,ve){for(const he of ve.body)switch(he.type){case"VariableDeclaration":$(me,he);break;case"FunctionDeclaration":A(me,he.id.name,he);break}}function z(me,ve,he,Le=!1){const Qe=U(me);return Qe.head[ve]!==L?N(me,new w.VariableRedeclaration(me.runtime.nodes[0],ve,!Le)):(Object.defineProperty(Qe.head,ve,{value:he,writable:!Le,enumerable:!0}),Qe)}function*F(me,ve){(0,b.checkEditorBreakpoints)(me,ve),me.runtime.nodes.unshift(ve),yield me}function*V(me){me.runtime.break=!1,me.runtime.nodes.shift(),yield me}const U=me=>me.runtime.environments[0],q=(me,ve)=>{me.runtime.environments[0]=ve,me.runtime.environmentTree.insert(ve)},K=me=>me.runtime.environments.shift(),Q=(me,ve)=>{me.runtime.environments.unshift(ve),me.runtime.environmentTree.insert(ve)};e.pushEnvironment=Q;const X=(me,ve)=>{let he=U(me);for(;he;){if(he.head.hasOwnProperty(ve))return he.head[ve]===L?N(me,new w.UnassignedVariable(ve,me.runtime.nodes[0])):he.head[ve];he=he.tail}return N(me,new w.UndefinedVariable(ve,me.runtime.nodes[0]))},te=(me,ve,he)=>{let Le=U(me);for(;Le;)if(Le.head.hasOwnProperty(ve)){if(Le.head[ve]===L)break;if(Object.getOwnPropertyDescriptors(Le.head)[ve].writable){Le.head[ve]=he;return}return N(me,new w.ConstAssignment(me.runtime.nodes[0],ve))}else Le=Le.tail;return N(me,new w.UndefinedVariable(ve,me.runtime.nodes[0]))},se=(me,ve,he,Le)=>{var Qe;if(ve instanceof o.default){const De=ve.node.params,xt=((Qe=De[De.length-1])===null||Qe===void 0?void 0:Qe.type)==="RestElement";if(xt?De.length-1>he.length:De.length!==he.length)return N(me,new w.InvalidNumberOfArguments(Le,xt?De.length-1:De.length,he.length,xt))}else{const De=ve.minArgsNeeded!=null;if(De?ve.minArgsNeeded>he.length:ve.length!==he.length)return N(me,new w.InvalidNumberOfArguments(Le,De?ve.minArgsNeeded:ve.length,he.length,De))}};function*J(me,ve){const he=[];for(const Le of ve.arguments)me.variant===d.Variant.LAZY?he.push(x(Le,U(me))):Le.type==="SpreadElement"?he.push(...yield*k(Le.argument,me)):he.push(yield*k(Le,me));return he}function le(me){return me.operator==="&&"?(0,f.conditionalExpression)(me.left,me.right,(0,f.literal)(!1),me.loc):(0,f.conditionalExpression)(me.left,(0,f.literal)(!0),me.right,me.loc)}function*ce(me,ve){const he=yield*k(me.test,ve),Le=s.checkIfStatement(me,he,ve.chapter);return Le?N(ve,Le):he?me.consequent:me.alternate}function*ue(me,ve){B(me,ve);let he;for(const Le of ve.body)if(he=yield*Re(Le,me),he instanceof m||he instanceof v||he instanceof u||he instanceof h)break;return he}e.evaluators={Literal:function*(me,ve){return me.value},TemplateLiteral:function*(me){return me.quasis[0].value.cooked},ThisExpression:function*(me,ve){return U(ve).thisContext},ArrayExpression:function*(me,ve){const he=[];for(const Le of me.elements)he.push(yield*Re(Le,ve));return he},DebuggerStatement:function*(me,ve){ve.runtime.break=!0,yield},FunctionExpression:function*(me,ve){return new o.default(me,U(ve),ve)},ArrowFunctionExpression:function*(me,ve){return o.default.makeFromArrowFunction(me,U(ve),ve)},Identifier:function*(me,ve){return X(ve,me.name)},CallExpression:function*(me,ve){const he=yield*k(me.callee,ve),Le=yield*J(ve,me);let Qe;return me.callee.type==="MemberExpression"&&(Qe=yield*k(me.callee.object,ve)),yield*ke(ve,he,Le,me,Qe)},NewExpression:function*(me,ve){const he=yield*Re(me.callee,ve),Le=[];for(const De of me.arguments)Le.push(yield*Re(De,ve));const Qe={};return he instanceof o.default?(Qe.__proto__=he.fun.prototype,he.fun.apply(Qe,Le)):(Qe.__proto__=he.prototype,he.apply(Qe,Le)),Qe},UnaryExpression:function*(me,ve){const he=yield*k(me.argument,ve),Le=s.checkUnaryExpression(me,me.operator,he,ve.chapter);return Le?N(ve,Le):(0,c.evaluateUnaryExpression)(me.operator,he)},BinaryExpression:function*(me,ve){const he=yield*k(me.left,ve),Le=yield*k(me.right,ve),Qe=s.checkBinaryExpression(me,me.operator,ve.chapter,he,Le);return Qe?N(ve,Qe):(0,c.evaluateBinaryExpression)(me.operator,he,Le)},ConditionalExpression:function*(me,ve){return yield*this.IfStatement(me,ve)},LogicalExpression:function*(me,ve){return yield*this.ConditionalExpression(le(me),ve)},VariableDeclaration:function*(me,ve){const he=me.declarations[0],Le=me.kind==="const",Qe=he.id,De=yield*Re(he.init,ve);z(ve,Qe.name,De,Le)},ContinueStatement:function*(me,ve){return new h},BreakStatement:function*(me,ve){return new u},ForStatement:function*(me,ve){const he=(0,e.createBlockEnvironment)(ve,"forLoopEnvironment");(0,e.pushEnvironment)(ve,he);const Le=me.init,Qe=me.test,De=me.update;Le.type==="VariableDeclaration"&&$(ve,Le),yield*k(Le,ve);let xt;for(;yield*k(Qe,ve);){const Mt=(0,e.createBlockEnvironment)(ve,"forBlockEnvironment");(0,e.pushEnvironment)(ve,Mt);for(const $t in he.head)he.head.hasOwnProperty($t)&&(A(ve,$t,me),z(ve,$t,he.head[$t],!0));if(xt=yield*k(me.body,ve),K(ve),xt instanceof h&&(xt=void 0),xt instanceof u){xt=void 0;break}if(xt instanceof m||xt instanceof v)break;yield*k(De,ve)}return K(ve),xt},MemberExpression:function*(me,ve){let he=yield*k(me.object,ve);he instanceof o.default&&(he=he.fun);let Le;me.computed?Le=yield*k(me.property,ve):Le=me.property.name;const Qe=s.checkMemberAccess(me,he,Le);if(Qe)return N(ve,Qe);if(he!=null&&typeof he[Le]<"u"&&!he.hasOwnProperty(Le))return N(ve,new w.GetInheritedPropertyError(me,he,Le));try{return he[Le]}catch{return N(ve,new w.GetPropertyError(me,he,Le))}},AssignmentExpression:function*(me,ve){if(me.left.type==="MemberExpression"){const Qe=me.left,De=yield*k(Qe.object,ve);let xt;Qe.computed?xt=yield*k(Qe.property,ve):xt=Qe.property.name;const Mt=s.checkMemberAccess(me,De,xt);if(Mt)return N(ve,Mt);const $t=yield*Re(me.right,ve);try{De[xt]=$t}catch{return N(ve,new w.SetPropertyError(me,De,xt))}return $t}const he=me.left,Le=yield*Re(me.right,ve);return te(ve,he.name,Le),Le},FunctionDeclaration:function*(me,ve){const he=me.id,Le=new o.default(me,U(ve),ve);z(ve,he.name,Le,!0)},IfStatement:function*(me,ve){const he=yield*ce(me,ve);if(he!==null)return yield*Re(he,ve)},ExpressionStatement:function*(me,ve){return yield*Re(me.expression,ve)},ReturnStatement:function*(me,ve){let he=me.argument;for(;he.type==="LogicalExpression"||he.type==="ConditionalExpression";)he.type==="LogicalExpression"&&(he=le(he)),he=yield*ce(he,ve);if(he.type==="CallExpression"&&ve.variant!==d.Variant.LAZY){const Le=yield*k(he.callee,ve),Qe=yield*J(ve,he);return new v(Le,Qe,he)}else return new m(yield*Re(he,ve))},WhileStatement:function*(me,ve){let he;for(;(yield*k(me.test,ve))&&!(he instanceof m)&&!(he instanceof u)&&!(he instanceof v);)he=yield*k(me.body,ve);if(!(he instanceof u))return he},ObjectExpression:function*(me,ve){const he={};for(const Le of me.properties){const Qe=Le;let De;Qe.key.type==="Identifier"?De=Qe.key.name:De=yield*Re(Qe.key,ve),he[De]=yield*Re(Qe.value,ve)}return he},BlockStatement:function*(me,ve){const he=(0,e.createBlockEnvironment)(ve,"blockEnvironment");(0,e.pushEnvironment)(ve,he);const Le=yield*ue(ve,me);return K(ve),Le},ImportDeclaration:function*(me,ve){try{const he=me.source.value,Le=me.specifiers.map(De=>{if(De.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${De.type}.`);return{imported:De.imported.name,local:De.local.name}});he in ve.moduleContexts||(ve.moduleContexts[he]={state:null,tabs:(0,y.loadModuleTabs)(he,me)});const Qe=(0,y.loadModuleBundle)(he,ve,me);O(ve,me);for(const De of Le)z(ve,De.local,Qe[De.imported],!0);return}catch(he){return N(ve,he)}},Program:function*(me,ve){ve.numberOfOuterEnvironments+=1;const he=(0,e.createBlockEnvironment)(ve,"programEnvironment");return(0,e.pushEnvironment)(ve,he),yield*R(yield*ue(ve,me),ve)}};function Ie(me){return(0,n.isEmpty)(me.head)}function Te(me){if(Ie(me)){const ve=me.tail;return ve===null?me:Te(ve)}else return me}function*Re(me,ve){yield*F(ve,me);const he=yield*e.evaluators[me.type](me,ve);return yield*V(ve),he instanceof o.default&&Object.defineProperty(Te(U(ve)).head,(0,n.uniqueId)(),{value:he,writable:!1,enumerable:!0}),he}e.evaluate=Re;function*ke(me,ve,he,Le,Qe){let De,xt=0;for(;!(De instanceof m);)if(ve instanceof o.default){se(me,ve,he,Le);const Mt=C(ve,he,Le);De instanceof v?q(me,Mt):((0,e.pushEnvironment)(me,Mt),xt++);const $t=(0,e.createBlockEnvironment)(me,"functionBodyEnvironment");$t.thisContext=Qe,(0,e.pushEnvironment)(me,$t),De=yield*ue(me,ve.node.body),K(me),De instanceof v?(ve=De.callee,Le=De.node,he=De.args):De instanceof m||(De=new m(void 0))}else if(ve instanceof a.LazyBuiltIn)try{let Mt=he;if(ve.evaluateArgs){Mt=[];for(const $t of he)Mt.push(yield*R($t,me))}De=ve.func.apply(Qe,Mt);break}catch(Mt){me.runtime.environments=me.runtime.environments.slice(-me.numberOfOuterEnvironments);const $t=Le?Le.loc:i.UNKNOWN_LOCATION;if(!(Mt instanceof g.RuntimeSourceError||Mt instanceof w.ExceptionError))return N(me,new w.ExceptionError(Mt,$t));throw De=void 0,Mt}else if(typeof ve=="function"){se(me,ve,he,Le);try{const Mt=[];for(const $t of he)Mt.push(yield*R($t,me));De=ve.apply(Qe,Mt);break}catch(Mt){me.runtime.environments=me.runtime.environments.slice(-me.numberOfOuterEnvironments);const $t=Le?Le.loc:i.UNKNOWN_LOCATION;if(!(Mt instanceof g.RuntimeSourceError||Mt instanceof w.ExceptionError))return N(me,new w.ExceptionError(Mt,$t));throw De=void 0,Mt}}else return N(me,new w.CallingNonFunctionValue(ve,Le));De instanceof m&&(De=De.value);for(let Mt=1;Mt<=xt;Mt++)K(me);return De}e.apply=ke}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const e=requireAstring(),n=requireAstCreator(),i=requireInterpreter(),a=(y,b,d)=>{function f(){const c=Array.prototype.slice.call(arguments),s=(0,i.apply)(b,y,c,(0,n.callExpression)((0,n.identifier)(d),c),this);let o=s.next();for(;!o.done;)o=s.next();return o.value}return Object.defineProperty(f,"name",{value:d}),Object.setPrototypeOf(f,()=>{}),Object.defineProperty(f,"Inherits",{value:c=>{f.prototype=Object.create(c.prototype),f.prototype.constructor=f}}),f.toString=()=>(0,e.generate)(y.originalNode),f.call=(c,...s)=>f.apply(c,s),f};class w extends Function{constructor(b){return super(),Object.setPrototypeOf(b,new.target.prototype)}}class g extends w{constructor(b,d,f){super(function(...s){return c.apply(this,s)}),this.node=b,this.environment=d,this.originalNode=b,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(s=>s.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const c=a(this,f,this.functionName);this.fun=c}static makeFromArrowFunction(b,d,f){function c(u){return u.type!=="BlockStatement"}const s=c(b.body)?[(0,n.returnStatement)(b.body,b.body.loc)]:b.body,o=new g((0,n.blockArrowFunction)(b.params,s,b.loc),d,f);return o.originalNode=b,o}toString(){return(0,e.generate)(this.originalNode)}}return closure.default=g,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify;hasRequiredStringify=1,Object.defineProperty(stringify,"__esModule",{value:!0}),stringify.lineTreeToString=stringify.stringDagToSingleLine=stringify.stringDagToLineTree=stringify.valueToStringDag=stringify.typeToString=stringify.stringify=void 0;const e=requireConstants(),n=requireClosure(),i=requireOperators();function a(s){return typeof s.replPrefix=="string"&&typeof s.replSuffix=="string"&&typeof s.replArrayContents=="function"}const w=(s,o=2,u=80)=>{if(s=(0,i.forceIt)(s),typeof o=="string")throw"stringify with arbitrary indent string not supported";let h=o;return o>10&&(h=10),c(d(b(s),h,u))};stringify.stringify=w;function g(s){return y(s)}stringify.typeToString=g;function y(s,o={_next:0}){function u(h){return y(h,o)}switch(s.kind){case"primitive":return s.name;case"variable":return s.constraint&&s.constraint!=="none"?s.constraint:(s.name in o||(o[s.name]="T"+o._next++),o[s.name]);case"list":return`List<${u(s.elementType)}>`;case"array":return`Array<${u(s.elementType)}>`;case"pair":const h=u(s.headType);return s.tailType.kind==="list"&&h===u(s.tailType.elementType)?`List<${h}>`:`[${u(s.headType)}, ${u(s.tailType)}]`;case"function":let m=s.parameterTypes.map(u).join(", ");return(s.parameterTypes.length!==1||s.parameterTypes[0].kind==="function")&&(m=`(${m})`),`${m} -> ${u(s.returnType)}`;default:return"Unable to infer type"}}function b(s){const o=new Map,u=new Map;function h(R){const k=u.get(R);if(k!==void 0)return[k,!1];o.set(R,o.size);const C=R,[S,N]=x(C[0]),[L,A]=x(C[1]),$=N||A;o.delete(R);const O={type:"pair",head:S,tail:L,length:S.length+L.length+4};return $||u.set(R,O),[O,$]}function m(R,k,C,S){const N=u.get(R);if(N!==void 0)return[N,!1];o.set(R,o.size);const L=k.map(x);let A=C.length+S.length+Math.max(0,L.length-1)*2,$=!1;for(let B=0;B<L.length;B++)L[B]==null&&(L[B]=x(void 0)),A+=L[B][0].length,$||($=L[B][1]);o.delete(R);const O={type:"arraylike",elems:L.map(B=>B[0]),prefix:C,suffix:S,length:A};return $||u.set(R,O),[O,$]}function v(R){const k=u.get(R);if(k!==void 0)return[k,!1];o.set(R,o.size);const C=Object.entries(R),S=C.map(O=>x(O[1]));let N=2+Math.max(0,C.length-1)*2+C.length*2,L=!1;const A=[];for(let O=0;O<S.length;O++)N+=C[O][0].length,N+=S[O].length,L||(L=S[O][1]),A.push({type:"kvpair",key:C[O][0],value:S[O][0],length:S[O][0].length+C[O][0].length});o.delete(R);const $={type:"arraylike",elems:A,prefix:"{",suffix:"}",length:N};return L||u.set(R,$),[$,L]}function T(R){const k=R.split(`
`);return k.length===1?[{type:"terminal",str:k[0],length:k[0].length},!1]:[{type:"multiline",lines:k,length:1/0},!1]}function x(R){if(R===null)return[{type:"terminal",str:"null",length:4},!1];if(R===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if(o.has(R))return[{type:"terminal",str:"...<circular>",length:13},!0];if(R instanceof n.default)return T(R.toString());if(typeof R=="string"){const k=JSON.stringify(R);return[{type:"terminal",str:k,length:k.length},!1]}else return typeof R!="object"?T(R.toString()):o.size>e.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof R.toReplString=="function"?T(R.toReplString()):Array.isArray(R)?R.length===2?h(R):m(R,R,"[","]"):a(R)?m(R,R.replArrayContents(),R.replPrefix,R.replSuffix):Object.getPrototypeOf(R)===Object.prototype?v(R):T(R.toString())}return x(s)[0]}stringify.valueToStringDag=b;function d(s,o,u){const m="["+" ".repeat(Math.max(0,o-1)),v=new Map;function T(x){const R=v.get(x);if(R!==void 0)return R;let k;if(x.type==="terminal")k={type:"line",line:x};else if(x.type==="multiline")k={type:"block",prefixFirst:"",prefixRest:"",block:x.lines.map(C=>({type:"line",line:{type:"terminal",str:C,length:C.length}})),suffixRest:"",suffixLast:""};else if(x.type==="pair"){const C=T(x.head),S=T(x.tail);x.length-2>u||C.type!=="line"||S.type!=="line"?k={type:"block",prefixFirst:m,prefixRest:"",block:[C,S],suffixRest:",",suffixLast:"]"}:k={type:"line",line:x}}else if(x.type==="arraylike"){const C=x.elems.map(T);x.length-x.prefix.length-x.suffix.length>u||C.some(S=>S.type!=="line")?k={type:"block",prefixFirst:x.prefix+" ".repeat(Math.max(0,o-x.prefix.length)),prefixRest:" ".repeat(Math.max(x.prefix.length,o)),block:C,suffixRest:",",suffixLast:x.suffix}:k={type:"line",line:x}}else if(x.type==="kvpair"){const C=T(x.value);x.length>u||C.type!=="line"?k={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(x.key),length:0}},C],suffixRest:":",suffixLast:""}:k={type:"line",line:x}}else throw"up";return v.set(x,k),k}return T(s)}stringify.stringDagToLineTree=d;function f(s){function o(u,h){if(u.type==="multiline")throw"Tried to format multiline string as single line string";if(u.type==="terminal")h.push(u.str);else if(u.type==="pair")h.push("["),o(u.head,h),h.push(", "),o(u.tail,h),h.push("]");else if(u.type==="kvpair")h.push(JSON.stringify(u.key)),h.push(": "),o(u.value,h);else if(u.type==="arraylike"){h.push(u.prefix),u.elems.length>0&&o(u.elems[0],h);for(let m=1;m<u.elems.length;m++)h.push(", "),o(u.elems[m],h);h.push(u.suffix)}return h}return o(s,[]).join("")}stringify.stringDagToSingleLine=f;function c(s){let o="";const u=new Map,h=new Map;function m(v,T){const x=h.get(v);if(x!==void 0){const C=x.get(T.length);if(C!==void 0){o+=o.substring(C[0],C[1]);return}}const R=o.length;if(v.type==="line")u.has(v.line)||u.set(v.line,f(v.line)),o+=u.get(v.line);else if(v.type==="block"){o+=v.prefixFirst;const C=T+" ".repeat(v.prefixFirst.length),S=T+v.prefixRest;m(v.block[0],C);for(let N=1;N<v.block.length;N++)o+=v.suffixRest,o+=S,m(v.block[N],S);o+=v.suffixLast}const k=o.length;if(x===void 0){const C=new Map;C.set(T.length,[R,k]),h.set(v,C)}else x.set(T.length,[R,k])}return m(s,`
`),o}return stringify.lineTreeToString=c,stringify}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const e=requireAstring(),n=requireTypes(),i=requireStringify(),a=requireRuntimeSourceError();class w extends a.RuntimeSourceError{constructor(T){super(T)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=w;class g{constructor(T,x){this.error=T,this.location=x,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=g;class y extends a.RuntimeSourceError{constructor(T,x){super(T),this.calls=x,this.customGenerator=Object.assign(Object.assign({},e.baseGenerator),{CallExpression(R,k){k.write((0,e.generate)(R.callee)),k.write("(");const C=R.arguments.map(S=>(0,i.stringify)(S.value));k.write(C.join(", ")),k.write(")")}})}explain(){const T=x=>(0,e.generate)(x,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(x=>T(x)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=y,y.MAX_CALLS_TO_SHOW=3;class b extends a.RuntimeSourceError{constructor(T,x){super(x),this.callee=T,this.node=x}explain(){return`Calling non-function value ${(0,i.stringify)(this.callee)}.`}elaborate(){const T=this.callee,x=(0,i.stringify)(T);let R="";R=this.node.arguments.map(e.generate).join(", ");const C=`Because ${x} is not a function, you cannot run ${x}(${R}).`,S=`If you were planning to perform multiplication by ${x}, you need to use the * operator.`;return Number.isFinite(T)?`${C} ${S}`:C}}errors.CallingNonFunctionValue=b;class d extends a.RuntimeSourceError{constructor(T,x){super(x),this.name=T}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=d;class f extends a.RuntimeSourceError{constructor(T,x){super(x),this.name=T}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=f;class c extends a.RuntimeSourceError{constructor(T,x,R,k=!1){super(T),this.expected=x,this.got=R,this.hasVarArgs=k,this.calleeStr=(0,e.generate)(T.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const T=this.calleeStr,x=this.expected===1?"":"s";return`Try calling function ${T} again, but with ${this.expected} argument${x} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=c;class s extends a.RuntimeSourceError{constructor(T,x,R){super(T),this.node=T,this.name=x,this.writable=R}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const T=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let x="";return this.node.type==="FunctionDeclaration"?x="("+this.node.params.map(e.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(x=(0,e.generate)(this.node.declarations[0].init)),`${T} As such, you can just do

	${this.name} = ${x};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=s;class o extends a.RuntimeSourceError{constructor(T,x){super(T),this.name=x}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=o;class u extends a.RuntimeSourceError{constructor(T,x,R){super(T),this.obj=x,this.prop=R}explain(){return`Cannot read property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=u;class h extends a.RuntimeSourceError{constructor(T,x,R){super(T),this.obj=x,this.prop=R,this.type=n.ErrorType.RUNTIME,this.severity=n.ErrorSeverity.ERROR,this.location=T.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=h;class m extends a.RuntimeSourceError{constructor(T,x,R){super(T),this.obj=x,this.prop=R}explain(){return`Cannot assign property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=m,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const e=requireErrors(),n=requireInspector();class i{run(b,d){return new Promise((f,c)=>{d.runtime.isRunning=!0;let s=b.next();try{for(;!s.done;)s=b.next(),d.runtime.break&&((0,n.saveState)(d,b,this),s.done=!0)}catch{f({status:"error"})}finally{d.runtime.isRunning=!1}d.runtime.break?f({status:"suspended",it:b,scheduler:this,context:d}):f({status:"finished",context:d,value:s.value})})}}schedulers.AsyncScheduler=i;class a{run(b,d){return new Promise((f,c)=>{try{const s=b.next();s.done?f({status:"finished",context:d,value:s.value}):f({status:"suspended-non-det",it:b,scheduler:this,context:d,value:s.value})}catch(s){g(s,d),f({status:"error"})}finally{d.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=a;class w{constructor(b){this.steps=b}run(b,d){return new Promise((f,c)=>{d.runtime.isRunning=!0;let s=!1,o=b.next();const u=setInterval(()=>{let h=0;try{for(;!o.done&&h<this.steps;)h++,o=b.next(),s=d.runtime.break&&d.runtime.debuggerOn,s&&(o.done=!0);(0,n.saveState)(d,b,this)}catch(m){g(m,d),d.runtime.isRunning=!1,clearInterval(u),f({status:"error"})}o.done&&(d.runtime.isRunning=!1,clearInterval(u),f(s?{status:"suspended",it:b,scheduler:this,context:d}:{status:"finished",context:d,value:o.value}))})})}}schedulers.PreemptiveScheduler=w;function g(y,b){if(/Maximum call stack/.test(y.toString())){const d=b.runtime.environments,f=[];let c=0;for(let s=0;c<e.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&s<d.length;s++)d[s].callExpression&&(f.unshift(d[s].callExpression),c++);b.errors.push(new e.MaximumStackLimitExceeded(b.runtime.nodes[0],f))}}return schedulers}var lazyList_prelude={},hasRequiredLazyList_prelude;function requireLazyList_prelude(){return hasRequiredLazyList_prelude||(hasRequiredLazyList_prelude=1,Object.defineProperty(lazyList_prelude,"__esModule",{value:!0}),lazyList_prelude.lazyListPrelude=void 0,lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`),lazyList_prelude}var list={},hasRequiredList;function requireList(){if(hasRequiredList)return list;hasRequiredList=1,Object.defineProperty(list,"__esModule",{value:!0}),list.rawDisplayList=list.set_tail=list.set_head=list.vector_to_list=list.list_to_vector=list.is_list=list.list=list.is_null=list.tail=list.head=list.is_pair=list.pair=void 0;const e=requireStringify();function n(h){return Array.isArray===void 0?h instanceof Array:Array.isArray(h)}function i(h,m){return[h,m]}list.pair=i;function a(h){return n(h)&&h.length===2}list.is_pair=a;function w(h){if(a(h))return h[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,e.stringify)(h))}list.head=w;function g(h){if(a(h))return h[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,e.stringify)(h))}list.tail=g;function y(h){return h===null}list.is_null=y;function b(...h){let m=null;for(let v=h.length-1;v>=0;v-=1)m=i(h[v],m);return m}list.list=b;function d(h){for(;a(h);)h=g(h);return y(h)}list.is_list=d;function f(h){const m=[];for(;!y(h);)m.push(w(h)),h=g(h);return m}list.list_to_vector=f;function c(h){return b(...h)}list.vector_to_list=c;function s(h,m){if(a(h)){h[0]=m;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,e.stringify)(h))}list.set_head=s;function o(h,m){if(a(h)){h[1]=m;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,e.stringify)(h))}list.set_tail=o;function u(h,m,v){const T=new Set,x=new Map;class R{constructor(L){this.replPrefix="list(",this.replSuffix=")",this.listNode=L}replArrayContents(){const L=[];let A=this.listNode;for(;A!==null;)L.push(w(A)),A=g(A);return L}}function k(N){return x.get(N)||N}const C=[];let S=0;for(C.push(m);S<C.length;){const N=C[S];S++,!T.has(N)&&(T.add(N),a(N)&&C.push(w(N),g(N)))}for(;C.length>0;){const N=C.pop();if(!a(N))continue;const L=w(N),A=g(N),$=k(A),O=y($)||$ instanceof R?new R(i(L,A)):i(L,A);x.set(N,O)}for(const N of x.values())if(a(N))s(N,k(w(N))),o(N,k(g(N)));else if(N instanceof R){s(N.listNode,k(w(N.listNode)));let L=k(g(N.listNode));L instanceof R&&(L=L.listNode),o(N.listNode,L)}return h(k(m),v),m}return list.rawDisplayList=u,list}var list_prelude={},hasRequiredList_prelude;function requireList_prelude(){return hasRequiredList_prelude||(hasRequiredList_prelude=1,Object.defineProperty(list_prelude,"__esModule",{value:!0}),list_prelude.listPrelude=void 0,list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`),list_prelude}var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const e=requireClosure(),n=requireStringify();function i(R,k,C){return console.log((k===void 0?"":k+" ")+R.toString()),R}misc.rawDisplay=i;function a(R,...k){const C=(k[0]===void 0?"":k[0]+" ")+(0,n.stringify)(R);throw new Error(C)}misc.error_message=a;function w(R,k,C,S){return(...N)=>{const L=x(),A=k(...N),$=x()-L;return S("Duration: "+Math.round($)+"ms","",C),A}}misc.timed=w;function g(R){return typeof R=="number"}misc.is_number=g;function y(R){return typeof R>"u"}misc.is_undefined=y;function b(R){return typeof R=="string"}misc.is_string=b;function d(R){return typeof R=="boolean"}misc.is_boolean=d;function f(R){return typeof R=="object"||c(R)}misc.is_object=f;function c(R){return typeof R=="function"}misc.is_function=c;function s(R){return g(R)&&isNaN(R)}misc.is_NaN=s;function o(R,k){return R.hasOwnProperty(k)}misc.has_own_property=o;function u(R){return R instanceof Array}misc.is_array=u;function h(R){return R.length}misc.array_length=h;function m(R,k){if(typeof R=="string"&&typeof k=="number"&&Number.isInteger(k)&&2<=k&&k<=36)return parseInt(R,k);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=m;function v(R,k){if(typeof R!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof k!="number"||!Number.isInteger(k)||k<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return R[k]}misc.char_at=v;function T(R){var k;if(R instanceof e.default){const C=R.node.params;return((k=C[C.length-1])===null||k===void 0?void 0:k.type)==="RestElement"?C.length-1:C.length}else{if(typeof R=="function")return R.length;throw new Error("arity expects a function as argument")}}misc.arity=T;function x(){return new Date().getTime()}return misc.get_time=x,misc}var nonDet_prelude={},hasRequiredNonDet_prelude;function requireNonDet_prelude(){return hasRequiredNonDet_prelude||(hasRequiredNonDet_prelude=1,Object.defineProperty(nonDet_prelude,"__esModule",{value:!0}),nonDet_prelude.nonDetPrelude=void 0,nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`),nonDet_prelude}var parser$1={},parser={},acornLoose$1={exports:{}},acornLoose=acornLoose$1.exports,hasRequiredAcornLoose;function requireAcornLoose(){return hasRequiredAcornLoose||(hasRequiredAcornLoose=1,function(e,n){(function(i,a){a(n,requireAcorn())})(acornLoose,function(i,a){var w="✖";function g(u){return u.name===w}function y(){}var b=function(h,m){if(m===void 0&&(m={}),this.toks=this.constructor.BaseParser.tokenizer(h,m),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:a.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=y,this.tok.validateRegExpPattern=y,this.options.locations){var v=this.toks.curPosition();this.tok.loc=new a.SourceLocation(this.toks,v,v)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};b.prototype.startNode=function(){return new a.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},b.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},b.prototype.startNodeAt=function(h){return this.options.locations?new a.Node(this.toks,h[0],h[1]):new a.Node(this.toks,h)},b.prototype.finishNode=function(h,m){return h.type=m,h.end=this.last.end,this.options.locations&&(h.loc.end=this.last.loc.end),this.options.ranges&&(h.range[1]=this.last.end),h},b.prototype.dummyNode=function(h){var m=this.startNode();return m.type=h,m.end=m.start,this.options.locations&&(m.loc.end=m.loc.start),this.options.ranges&&(m.range[1]=m.start),this.last={type:a.tokTypes.name,start:m.start,end:m.start,loc:m.loc},m},b.prototype.dummyIdent=function(){var h=this.dummyNode("Identifier");return h.name=w,h},b.prototype.dummyString=function(){var h=this.dummyNode("Literal");return h.value=h.raw=w,h},b.prototype.eat=function(h){return this.tok.type===h?(this.next(),!0):!1},b.prototype.isContextual=function(h){return this.tok.type===a.tokTypes.name&&this.tok.value===h},b.prototype.eatContextual=function(h){return this.tok.value===h&&this.eat(a.tokTypes.name)},b.prototype.canInsertSemicolon=function(){return this.tok.type===a.tokTypes.eof||this.tok.type===a.tokTypes.braceR||a.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},b.prototype.semicolon=function(){return this.eat(a.tokTypes.semi)},b.prototype.expect=function(h){if(this.eat(h))return!0;for(var m=1;m<=2;m++)if(this.lookAhead(m).type===h){for(var v=0;v<m;v++)this.next();return!0}},b.prototype.pushCx=function(){this.context.push(this.curIndent)},b.prototype.popCx=function(){this.curIndent=this.context.pop()},b.prototype.lineEnd=function(h){for(;h<this.input.length&&!a.isNewLine(this.input.charCodeAt(h));)++h;return h},b.prototype.indentationAfter=function(h){for(var m=0;;++h){var v=this.input.charCodeAt(h);if(v===32)++m;else if(v===9)m+=this.options.tabSize;else return m}},b.prototype.closes=function(h,m,v,T){return this.tok.type===h||this.tok.type===a.tokTypes.eof?!0:v!==this.curLineStart&&this.curIndent<m&&this.tokenStartsLine()&&(!T||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<m)},b.prototype.tokenStartsLine=function(){for(var h=this.tok.start-1;h>=this.curLineStart;--h){var m=this.input.charCodeAt(h);if(m!==9&&m!==32)return!1}return!0},b.prototype.extend=function(h,m){this[h]=m(this[h])},b.prototype.parse=function(){return this.next(),this.parseTopLevel()},b.extend=function(){for(var h=[],m=arguments.length;m--;)h[m]=arguments[m];for(var v=this,T=0;T<h.length;T++)v=h[T](v);return v},b.parse=function(h,m){return new this(h,m).parse()},b.BaseParser=a.Parser;var d=b.prototype;function f(u){return u<14&&u>8||u===32||u===160||a.isNewLine(u)}d.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},d.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===a.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=a.tokTypes.ellipsis),new a.Token(this.toks)}catch(x){if(!(x instanceof SyntaxError))throw x;var u=x.message,h=x.raisedAt,m=!0;if(/unterminated/i.test(u))if(h=this.lineEnd(x.pos+1),/string/.test(u))m={start:x.pos,end:h,type:a.tokTypes.string,value:this.input.slice(x.pos+1,h)};else if(/regular expr/i.test(u)){var v=this.input.slice(x.pos,h);try{v=new RegExp(v)}catch{}m={start:x.pos,end:h,type:a.tokTypes.regexp,value:v}}else/template/.test(u)?m={start:x.pos,end:h,type:a.tokTypes.template,value:this.input.slice(x.pos,h)}:m=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(u))for(;h<this.input.length&&!f(this.input.charCodeAt(h));)++h;else if(/character escape|expected hexadecimal/i.test(u))for(;h<this.input.length;){var T=this.input.charCodeAt(h++);if(T===34||T===39||a.isNewLine(T))break}else if(/unexpected character/i.test(u))h++,m=!1;else if(/regular expression/i.test(u))m=!0;else throw x;if(this.resetTo(h),m===!0&&(m={start:h,end:h,type:a.tokTypes.name,value:w}),m)return this.options.locations&&(m.loc=new a.SourceLocation(this.toks,a.getLineInfo(this.input,m.start),a.getLineInfo(this.input,m.end))),m}},d.resetTo=function(u){this.toks.pos=u,this.toks.containsEsc=!1;var h=this.input.charAt(u-1);if(this.toks.exprAllowed=!h||/[[{(,;:?/*=+\-~!|&%^<>]/.test(h)||/[enwfd]/.test(h)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(u-10,u)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=a.lineBreakG.lastIndex=0;for(var m;(m=a.lineBreakG.exec(this.input))&&m.index<u;)++this.toks.curLine,this.toks.lineStart=m.index+m[0].length}},d.lookAhead=function(u){for(;u>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[u-1]};var c=b.prototype;c.parseTopLevel=function(){var u=this.startNodeAt(this.options.locations?[0,a.getLineInfo(this.input,0)]:0);for(u.body=[];this.tok.type!==a.tokTypes.eof;)u.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(u.body),this.last=this.tok,u.sourceType=this.options.sourceType,this.finishNode(u,"Program")},c.parseStatement=function(){var u=this.tok.type,h=this.startNode(),m;switch(this.toks.isLet()&&(u=a.tokTypes._var,m="let"),u){case a.tokTypes._break:case a.tokTypes._continue:this.next();var v=u===a.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?h.label=null:(h.label=this.tok.type===a.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(h,v?"BreakStatement":"ContinueStatement");case a.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(h,"DebuggerStatement");case a.tokTypes._do:return this.next(),h.body=this.parseStatement(),h.test=this.eat(a.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(h,"DoWhileStatement");case a.tokTypes._for:this.next();var T=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(a.tokTypes.parenL),this.tok.type===a.tokTypes.semi)return this.parseFor(h,null);var x=this.toks.isLet();if(x||this.tok.type===a.tokTypes._var||this.tok.type===a.tokTypes._const){var R=this.parseVar(this.startNode(),!0,x?"let":this.tok.value);return R.declarations.length===1&&(this.tok.type===a.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(h.await=T),this.parseForIn(h,R)):this.parseFor(h,R)}var k=this.parseExpression(!0);return this.tok.type===a.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(h.await=T),this.parseForIn(h,this.toAssignable(k))):this.parseFor(h,k);case a.tokTypes._function:return this.next(),this.parseFunction(h,!0);case a.tokTypes._if:return this.next(),h.test=this.parseParenExpression(),h.consequent=this.parseStatement(),h.alternate=this.eat(a.tokTypes._else)?this.parseStatement():null,this.finishNode(h,"IfStatement");case a.tokTypes._return:return this.next(),this.eat(a.tokTypes.semi)||this.canInsertSemicolon()?h.argument=null:(h.argument=this.parseExpression(),this.semicolon()),this.finishNode(h,"ReturnStatement");case a.tokTypes._switch:var C=this.curIndent,S=this.curLineStart;this.next(),h.discriminant=this.parseParenExpression(),h.cases=[],this.pushCx(),this.expect(a.tokTypes.braceL);for(var N;!this.closes(a.tokTypes.braceR,C,S,!0);)if(this.tok.type===a.tokTypes._case||this.tok.type===a.tokTypes._default){var L=this.tok.type===a.tokTypes._case;N&&this.finishNode(N,"SwitchCase"),h.cases.push(N=this.startNode()),N.consequent=[],this.next(),L?N.test=this.parseExpression():N.test=null,this.expect(a.tokTypes.colon)}else N||(h.cases.push(N=this.startNode()),N.consequent=[],N.test=null),N.consequent.push(this.parseStatement());return N&&this.finishNode(N,"SwitchCase"),this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(h,"SwitchStatement");case a.tokTypes._throw:return this.next(),h.argument=this.parseExpression(),this.semicolon(),this.finishNode(h,"ThrowStatement");case a.tokTypes._try:if(this.next(),h.block=this.parseBlock(),h.handler=null,this.tok.type===a.tokTypes._catch){var A=this.startNode();this.next(),this.eat(a.tokTypes.parenL)?(A.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(a.tokTypes.parenR)):A.param=null,A.body=this.parseBlock(),h.handler=this.finishNode(A,"CatchClause")}return h.finalizer=this.eat(a.tokTypes._finally)?this.parseBlock():null,!h.handler&&!h.finalizer?h.block:this.finishNode(h,"TryStatement");case a.tokTypes._var:case a.tokTypes._const:return this.parseVar(h,!1,m||this.tok.value);case a.tokTypes._while:return this.next(),h.test=this.parseParenExpression(),h.body=this.parseStatement(),this.finishNode(h,"WhileStatement");case a.tokTypes._with:return this.next(),h.object=this.parseParenExpression(),h.body=this.parseStatement(),this.finishNode(h,"WithStatement");case a.tokTypes.braceL:return this.parseBlock();case a.tokTypes.semi:return this.next(),this.finishNode(h,"EmptyStatement");case a.tokTypes._class:return this.parseClass(!0);case a.tokTypes._import:if(this.options.ecmaVersion>10){var $=this.lookAhead(1).type;if($===a.tokTypes.parenL||$===a.tokTypes.dot)return h.expression=this.parseExpression(),this.semicolon(),this.finishNode(h,"ExpressionStatement")}return this.parseImport();case a.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(h,!0,!0);var O=this.parseExpression();return g(O)?(this.next(),this.tok.type===a.tokTypes.eof?this.finishNode(h,"EmptyStatement"):this.parseStatement()):u===a.tokTypes.name&&O.type==="Identifier"&&this.eat(a.tokTypes.colon)?(h.body=this.parseStatement(),h.label=O,this.finishNode(h,"LabeledStatement")):(h.expression=O,this.semicolon(),this.finishNode(h,"ExpressionStatement"))}},c.parseBlock=function(){var u=this.startNode();this.pushCx(),this.expect(a.tokTypes.braceL);var h=this.curIndent,m=this.curLineStart;for(u.body=[];!this.closes(a.tokTypes.braceR,h,m,!0);)u.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(u,"BlockStatement")},c.parseFor=function(u,h){return u.init=h,u.test=u.update=null,this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.semi&&(u.test=this.parseExpression()),this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.parenR&&(u.update=this.parseExpression()),this.popCx(),this.expect(a.tokTypes.parenR),u.body=this.parseStatement(),this.finishNode(u,"ForStatement")},c.parseForIn=function(u,h){var m=this.tok.type===a.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),u.left=h,u.right=this.parseExpression(),this.popCx(),this.expect(a.tokTypes.parenR),u.body=this.parseStatement(),this.finishNode(u,m)},c.parseVar=function(u,h,m){u.kind=m,this.next(),u.declarations=[];do{var v=this.startNode();v.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),v.init=this.eat(a.tokTypes.eq)?this.parseMaybeAssign(h):null,u.declarations.push(this.finishNode(v,"VariableDeclarator"))}while(this.eat(a.tokTypes.comma));if(!u.declarations.length){var T=this.startNode();T.id=this.dummyIdent(),u.declarations.push(this.finishNode(T,"VariableDeclarator"))}return h||this.semicolon(),this.finishNode(u,"VariableDeclaration")},c.parseClass=function(u){var h=this.startNode();this.next(),this.tok.type===a.tokTypes.name?h.id=this.parseIdent():u===!0?h.id=this.dummyIdent():h.id=null,h.superClass=this.eat(a.tokTypes._extends)?this.parseExpression():null,h.body=this.startNode(),h.body.body=[],this.pushCx();var m=this.curIndent+1,v=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<m&&(m=this.curIndent,v=this.curLineStart);!this.closes(a.tokTypes.braceR,m,v);){var T=this.parseClassElement();T&&h.body.body.push(T)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(h.body,"ClassBody"),this.finishNode(h,u?"ClassDeclaration":"ClassExpression")},c.parseClassElement=function(){if(this.eat(a.tokTypes.semi))return null;var u=this.options,h=u.ecmaVersion,m=u.locations,v=this.curIndent,T=this.curLineStart,x=this.startNode(),R="",k=!1,C=!1,S="method",N=!1;if(this.eatContextual("static")){if(h>=13&&this.eat(a.tokTypes.braceL))return this.parseClassStaticBlock(x),x;this.isClassElementNameStart()||this.toks.type===a.tokTypes.star?N=!0:R="static"}if(x.static=N,!R&&h>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===a.tokTypes.star)&&!this.canInsertSemicolon()?C=!0:R="async"),!R){k=this.eat(a.tokTypes.star);var L=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?S=L:R=L)}if(R)x.computed=!1,x.key=this.startNodeAt(m?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),x.key.name=R,this.finishNode(x.key,"Identifier");else if(this.parseClassElementName(x),g(x.key))return g(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma),null;if(h<13||this.toks.type===a.tokTypes.parenL||S!=="method"||k||C){var A=!x.computed&&!x.static&&!k&&!C&&S==="method"&&(x.key.type==="Identifier"&&x.key.name==="constructor"||x.key.type==="Literal"&&x.key.value==="constructor");x.kind=A?"constructor":S,x.value=this.parseMethod(k,C),this.finishNode(x,"MethodDefinition")}else{if(this.eat(a.tokTypes.eq))if(this.curLineStart!==T&&this.curIndent<=v&&this.tokenStartsLine())x.value=null;else{var $=this.inAsync,O=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,x.value=this.parseMaybeAssign(),this.inAsync=$,this.inGenerator=O}else x.value=null;this.semicolon(),this.finishNode(x,"PropertyDefinition")}return x},c.parseClassStaticBlock=function(u){var h=this.curIndent,m=this.curLineStart;for(u.body=[],this.pushCx();!this.closes(a.tokTypes.braceR,h,m,!0);)u.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(u,"StaticBlock")},c.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},c.parseClassElementName=function(u){this.toks.type===a.tokTypes.privateId?(u.computed=!1,u.key=this.parsePrivateIdent()):this.parsePropertyName(u)},c.parseFunction=function(u,h,m){var v=this.inAsync,T=this.inGenerator,x=this.inFunction;return this.initFunction(u),this.options.ecmaVersion>=6&&(u.generator=this.eat(a.tokTypes.star)),this.options.ecmaVersion>=8&&(u.async=!!m),this.tok.type===a.tokTypes.name?u.id=this.parseIdent():h===!0&&(u.id=this.dummyIdent()),this.inAsync=u.async,this.inGenerator=u.generator,this.inFunction=!0,u.params=this.parseFunctionParams(),u.body=this.parseBlock(),this.toks.adaptDirectivePrologue(u.body.body),this.inAsync=v,this.inGenerator=T,this.inFunction=x,this.finishNode(u,h?"FunctionDeclaration":"FunctionExpression")},c.parseExport=function(){var u=this.startNode();if(this.next(),this.eat(a.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?u.exported=this.parseExprAtom():u.exported=null),u.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(u,"ExportAllDeclaration");if(this.eat(a.tokTypes._default)){var h;if(this.tok.type===a.tokTypes._function||(h=this.toks.isAsyncFunction())){var m=this.startNode();this.next(),h&&this.next(),u.declaration=this.parseFunction(m,"nullableID",h)}else this.tok.type===a.tokTypes._class?u.declaration=this.parseClass("nullableID"):(u.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(u,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(u.declaration=this.parseStatement(),u.specifiers=[],u.source=null):(u.declaration=null,u.specifiers=this.parseExportSpecifierList(),u.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(u,"ExportNamedDeclaration")},c.parseImport=function(){var u=this.startNode();if(this.next(),this.tok.type===a.tokTypes.string)u.specifiers=[],u.source=this.parseExprAtom();else{var h;this.tok.type===a.tokTypes.name&&this.tok.value!=="from"&&(h=this.startNode(),h.local=this.parseIdent(),this.finishNode(h,"ImportDefaultSpecifier"),this.eat(a.tokTypes.comma)),u.specifiers=this.parseImportSpecifiers(),u.source=this.eatContextual("from")&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.dummyString(),h&&u.specifiers.unshift(h)}return this.semicolon(),this.finishNode(u,"ImportDeclaration")},c.parseImportSpecifiers=function(){var u=[];if(this.tok.type===a.tokTypes.star){var h=this.startNode();this.next(),h.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),u.push(this.finishNode(h,"ImportNamespaceSpecifier"))}else{var m=this.curIndent,v=this.curLineStart,T=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>T&&(T=this.curLineStart);!this.closes(a.tokTypes.braceR,m+(this.curLineStart<=T?1:0),v);){var x=this.startNode();if(this.eat(a.tokTypes.star))x.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(x,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(x.imported=this.parseModuleExportName(),g(x.imported)))break;x.local=this.eatContextual("as")?this.parseModuleExportName():x.imported,this.finishNode(x,"ImportSpecifier")}u.push(x),this.eat(a.tokTypes.comma)}this.eat(a.tokTypes.braceR),this.popCx()}return u},c.parseExportSpecifierList=function(){var u=[],h=this.curIndent,m=this.curLineStart,v=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>v&&(v=this.curLineStart);!this.closes(a.tokTypes.braceR,h+(this.curLineStart<=v?1:0),m)&&!this.isContextual("from");){var T=this.startNode();if(T.local=this.parseModuleExportName(),g(T.local))break;T.exported=this.eatContextual("as")?this.parseModuleExportName():T.local,this.finishNode(T,"ExportSpecifier"),u.push(T),this.eat(a.tokTypes.comma)}return this.eat(a.tokTypes.braceR),this.popCx(),u},c.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent()};var s=b.prototype;s.checkLVal=function(u){if(!u)return u;switch(u.type){case"Identifier":case"MemberExpression":return u;case"ParenthesizedExpression":return u.expression=this.checkLVal(u.expression),u;default:return this.dummyIdent()}},s.parseExpression=function(u){var h=this.storeCurrentPos(),m=this.parseMaybeAssign(u);if(this.tok.type===a.tokTypes.comma){var v=this.startNodeAt(h);for(v.expressions=[m];this.eat(a.tokTypes.comma);)v.expressions.push(this.parseMaybeAssign(u));return this.finishNode(v,"SequenceExpression")}return m},s.parseParenExpression=function(){this.pushCx(),this.expect(a.tokTypes.parenL);var u=this.parseExpression();return this.popCx(),this.expect(a.tokTypes.parenR),u},s.parseMaybeAssign=function(u){if(this.inGenerator&&this.toks.isContextual("yield")){var h=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==a.tokTypes.star&&!this.tok.type.startsExpr?(h.delegate=!1,h.argument=null):(h.delegate=this.eat(a.tokTypes.star),h.argument=this.parseMaybeAssign()),this.finishNode(h,"YieldExpression")}var m=this.storeCurrentPos(),v=this.parseMaybeConditional(u);if(this.tok.type.isAssign){var T=this.startNodeAt(m);return T.operator=this.tok.value,T.left=this.tok.type===a.tokTypes.eq?this.toAssignable(v):this.checkLVal(v),this.next(),T.right=this.parseMaybeAssign(u),this.finishNode(T,"AssignmentExpression")}return v},s.parseMaybeConditional=function(u){var h=this.storeCurrentPos(),m=this.parseExprOps(u);if(this.eat(a.tokTypes.question)){var v=this.startNodeAt(h);return v.test=m,v.consequent=this.parseMaybeAssign(),v.alternate=this.expect(a.tokTypes.colon)?this.parseMaybeAssign(u):this.dummyIdent(),this.finishNode(v,"ConditionalExpression")}return m},s.parseExprOps=function(u){var h=this.storeCurrentPos(),m=this.curIndent,v=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),h,-1,u,m,v)},s.parseExprOp=function(u,h,m,v,T,x){if(this.curLineStart!==x&&this.curIndent<T&&this.tokenStartsLine())return u;var R=this.tok.type.binop;if(R!=null&&(!v||this.tok.type!==a.tokTypes._in)&&R>m){var k=this.startNodeAt(h);if(k.left=u,k.operator=this.tok.value,this.next(),this.curLineStart!==x&&this.curIndent<T&&this.tokenStartsLine())k.right=this.dummyIdent();else{var C=this.storeCurrentPos();k.right=this.parseExprOp(this.parseMaybeUnary(!1),C,R,v,T,x)}return this.finishNode(k,/&&|\|\||\?\?/.test(k.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(k,h,m,v,T,x)}return u},s.parseMaybeUnary=function(u){var h=this.storeCurrentPos(),m;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))m=this.parseAwait(),u=!0;else if(this.tok.type.prefix){var v=this.startNode(),T=this.tok.type===a.tokTypes.incDec;T||(u=!0),v.operator=this.tok.value,v.prefix=!0,this.next(),v.argument=this.parseMaybeUnary(!0),T&&(v.argument=this.checkLVal(v.argument)),m=this.finishNode(v,T?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===a.tokTypes.ellipsis){var x=this.startNode();this.next(),x.argument=this.parseMaybeUnary(u),m=this.finishNode(x,"SpreadElement")}else if(!u&&this.tok.type===a.tokTypes.privateId)m=this.parsePrivateIdent();else for(m=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var R=this.startNodeAt(h);R.operator=this.tok.value,R.prefix=!1,R.argument=this.checkLVal(m),this.next(),m=this.finishNode(R,"UpdateExpression")}if(!u&&this.eat(a.tokTypes.starstar)){var k=this.startNodeAt(h);return k.operator="**",k.left=m,k.right=this.parseMaybeUnary(!1),this.finishNode(k,"BinaryExpression")}return m},s.parseExprSubscripts=function(){var u=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),u,!1,this.curIndent,this.curLineStart)},s.parseSubscripts=function(u,h,m,v,T){for(var x=this.options.ecmaVersion>=11,R=!1;;){if(this.curLineStart!==T&&this.curIndent<=v&&this.tokenStartsLine())if(this.tok.type===a.tokTypes.dot&&this.curIndent===v)--v;else break;var k=u.type==="Identifier"&&u.name==="async"&&!this.canInsertSemicolon(),C=x&&this.eat(a.tokTypes.questionDot);if(C&&(R=!0),C&&this.tok.type!==a.tokTypes.parenL&&this.tok.type!==a.tokTypes.bracketL&&this.tok.type!==a.tokTypes.backQuote||this.eat(a.tokTypes.dot)){var S=this.startNodeAt(h);S.object=u,this.curLineStart!==T&&this.curIndent<=v&&this.tokenStartsLine()?S.property=this.dummyIdent():S.property=this.parsePropertyAccessor()||this.dummyIdent(),S.computed=!1,x&&(S.optional=C),u=this.finishNode(S,"MemberExpression")}else if(this.tok.type===a.tokTypes.bracketL){this.pushCx(),this.next();var N=this.startNodeAt(h);N.object=u,N.property=this.parseExpression(),N.computed=!0,x&&(N.optional=C),this.popCx(),this.expect(a.tokTypes.bracketR),u=this.finishNode(N,"MemberExpression")}else if(!m&&this.tok.type===a.tokTypes.parenL){var L=this.parseExprList(a.tokTypes.parenR);if(k&&this.eat(a.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(h),L,!0);var A=this.startNodeAt(h);A.callee=u,A.arguments=L,x&&(A.optional=C),u=this.finishNode(A,"CallExpression")}else if(this.tok.type===a.tokTypes.backQuote){var $=this.startNodeAt(h);$.tag=u,$.quasi=this.parseTemplate(),u=this.finishNode($,"TaggedTemplateExpression")}else break}if(R){var O=this.startNodeAt(h);O.expression=u,u=this.finishNode(O,"ChainExpression")}return u},s.parseExprAtom=function(){var u;switch(this.tok.type){case a.tokTypes._this:case a.tokTypes._super:var h=this.tok.type===a.tokTypes._this?"ThisExpression":"Super";return u=this.startNode(),this.next(),this.finishNode(u,h);case a.tokTypes.name:var m=this.storeCurrentPos(),v=this.parseIdent(),T=!1;if(v.name==="async"&&!this.canInsertSemicolon()){if(this.eat(a.tokTypes._function))return this.toks.overrideContext(a.tokContexts.f_expr),this.parseFunction(this.startNodeAt(m),!1,!0);this.tok.type===a.tokTypes.name&&(v=this.parseIdent(),T=!0)}return this.eat(a.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(m),[v],T):v;case a.tokTypes.regexp:u=this.startNode();var x=this.tok.value;return u.regex={pattern:x.pattern,flags:x.flags},u.value=x.value,u.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(u,"Literal");case a.tokTypes.num:case a.tokTypes.string:return u=this.startNode(),u.value=this.tok.value,u.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===a.tokTypes.num&&u.raw.charCodeAt(u.raw.length-1)===110&&(u.bigint=u.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(u,"Literal");case a.tokTypes._null:case a.tokTypes._true:case a.tokTypes._false:return u=this.startNode(),u.value=this.tok.type===a.tokTypes._null?null:this.tok.type===a.tokTypes._true,u.raw=this.tok.type.keyword,this.next(),this.finishNode(u,"Literal");case a.tokTypes.parenL:var R=this.storeCurrentPos();this.next();var k=this.parseExpression();if(this.expect(a.tokTypes.parenR),this.eat(a.tokTypes.arrow)){var C=k.expressions||[k];return C.length&&g(C[C.length-1])&&C.pop(),this.parseArrowExpression(this.startNodeAt(R),C)}if(this.options.preserveParens){var S=this.startNodeAt(R);S.expression=k,k=this.finishNode(S,"ParenthesizedExpression")}return k;case a.tokTypes.bracketL:return u=this.startNode(),u.elements=this.parseExprList(a.tokTypes.bracketR,!0),this.finishNode(u,"ArrayExpression");case a.tokTypes.braceL:return this.toks.overrideContext(a.tokContexts.b_expr),this.parseObj();case a.tokTypes._class:return this.parseClass(!1);case a.tokTypes._function:return u=this.startNode(),this.next(),this.parseFunction(u,!1);case a.tokTypes._new:return this.parseNew();case a.tokTypes.backQuote:return this.parseTemplate();case a.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},s.parseExprImport=function(){var u=this.startNode(),h=this.parseIdent(!0);switch(this.tok.type){case a.tokTypes.parenL:return this.parseDynamicImport(u);case a.tokTypes.dot:return u.meta=h,this.parseImportMeta(u);default:return u.name="import",this.finishNode(u,"Identifier")}},s.parseDynamicImport=function(u){return u.source=this.parseExprList(a.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(u,"ImportExpression")},s.parseImportMeta=function(u){return this.next(),u.property=this.parseIdent(!0),this.finishNode(u,"MetaProperty")},s.parseNew=function(){var u=this.startNode(),h=this.curIndent,m=this.curLineStart,v=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(a.tokTypes.dot))return u.meta=v,u.property=this.parseIdent(!0),this.finishNode(u,"MetaProperty");var T=this.storeCurrentPos();return u.callee=this.parseSubscripts(this.parseExprAtom(),T,!0,h,m),this.tok.type===a.tokTypes.parenL?u.arguments=this.parseExprList(a.tokTypes.parenR):u.arguments=[],this.finishNode(u,"NewExpression")},s.parseTemplateElement=function(){var u=this.startNode();return this.tok.type===a.tokTypes.invalidTemplate?u.value={raw:this.tok.value,cooked:null}:u.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),u.tail=this.tok.type===a.tokTypes.backQuote,this.finishNode(u,"TemplateElement")},s.parseTemplate=function(){var u=this.startNode();this.next(),u.expressions=[];var h=this.parseTemplateElement();for(u.quasis=[h];!h.tail;)this.next(),u.expressions.push(this.parseExpression()),this.expect(a.tokTypes.braceR)?h=this.parseTemplateElement():(h=this.startNode(),h.value={cooked:"",raw:""},h.tail=!0,this.finishNode(h,"TemplateElement")),u.quasis.push(h);return this.expect(a.tokTypes.backQuote),this.finishNode(u,"TemplateLiteral")},s.parseObj=function(){var u=this.startNode();u.properties=[],this.pushCx();var h=this.curIndent+1,m=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<h&&(h=this.curIndent,m=this.curLineStart);!this.closes(a.tokTypes.braceR,h,m);){var v=this.startNode(),T=void 0,x=void 0,R=void 0;if(this.options.ecmaVersion>=9&&this.eat(a.tokTypes.ellipsis)){v.argument=this.parseMaybeAssign(),u.properties.push(this.finishNode(v,"SpreadElement")),this.eat(a.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(R=this.storeCurrentPos(),v.method=!1,v.shorthand=!1,T=this.eat(a.tokTypes.star)),this.parsePropertyName(v),this.toks.isAsyncProp(v)?(x=!0,T=this.options.ecmaVersion>=9&&this.eat(a.tokTypes.star),this.parsePropertyName(v)):x=!1,g(v.key)){g(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma);continue}if(this.eat(a.tokTypes.colon))v.kind="init",v.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===a.tokTypes.parenL||this.tok.type===a.tokTypes.braceL))v.kind="init",v.method=!0,v.value=this.parseMethod(T,x);else if(this.options.ecmaVersion>=5&&v.key.type==="Identifier"&&!v.computed&&(v.key.name==="get"||v.key.name==="set")&&this.tok.type!==a.tokTypes.comma&&this.tok.type!==a.tokTypes.braceR&&this.tok.type!==a.tokTypes.eq)v.kind=v.key.name,this.parsePropertyName(v),v.value=this.parseMethod(!1);else{if(v.kind="init",this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.eq)){var k=this.startNodeAt(R);k.operator="=",k.left=v.key,k.right=this.parseMaybeAssign(),v.value=this.finishNode(k,"AssignmentExpression")}else v.value=v.key;else v.value=this.dummyIdent();v.shorthand=!0}u.properties.push(this.finishNode(v,"Property")),this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(u,"ObjectExpression")},s.parsePropertyName=function(u){if(this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.bracketL)){u.computed=!0,u.key=this.parseExpression(),this.expect(a.tokTypes.bracketR);return}else u.computed=!1;var h=this.tok.type===a.tokTypes.num||this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent();u.key=h||this.dummyIdent()},s.parsePropertyAccessor=function(){if(this.tok.type===a.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===a.tokTypes.privateId)return this.parsePrivateIdent()},s.parseIdent=function(){var u=this.tok.type===a.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!u)return this.dummyIdent();this.tok.type.keyword&&(this.toks.type=a.tokTypes.name);var h=this.startNode();return this.next(),h.name=u,this.finishNode(h,"Identifier")},s.parsePrivateIdent=function(){var u=this.startNode();return u.name=this.tok.value,this.next(),this.finishNode(u,"PrivateIdentifier")},s.initFunction=function(u){u.id=null,u.params=[],this.options.ecmaVersion>=6&&(u.generator=!1,u.expression=!1),this.options.ecmaVersion>=8&&(u.async=!1)},s.toAssignable=function(u,h){if(!(!u||u.type==="Identifier"||u.type==="MemberExpression"&&!h))if(u.type==="ParenthesizedExpression")this.toAssignable(u.expression,h);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(u.type==="ObjectExpression"){u.type="ObjectPattern";for(var m=0,v=u.properties;m<v.length;m+=1){var T=v[m];this.toAssignable(T,h)}}else if(u.type==="ArrayExpression")u.type="ArrayPattern",this.toAssignableList(u.elements,h);else if(u.type==="Property")this.toAssignable(u.value,h);else if(u.type==="SpreadElement")u.type="RestElement",this.toAssignable(u.argument,h);else if(u.type==="AssignmentExpression")u.type="AssignmentPattern",delete u.operator;else return this.dummyIdent()}return u},s.toAssignableList=function(u,h){for(var m=0,v=u;m<v.length;m+=1){var T=v[m];this.toAssignable(T,h)}return u},s.parseFunctionParams=function(u){return u=this.parseExprList(a.tokTypes.parenR),this.toAssignableList(u,!0)},s.parseMethod=function(u,h){var m=this.startNode(),v=this.inAsync,T=this.inGenerator,x=this.inFunction;return this.initFunction(m),this.options.ecmaVersion>=6&&(m.generator=!!u),this.options.ecmaVersion>=8&&(m.async=!!h),this.inAsync=m.async,this.inGenerator=m.generator,this.inFunction=!0,m.params=this.parseFunctionParams(),m.body=this.parseBlock(),this.toks.adaptDirectivePrologue(m.body.body),this.inAsync=v,this.inGenerator=T,this.inFunction=x,this.finishNode(m,"FunctionExpression")},s.parseArrowExpression=function(u,h,m){var v=this.inAsync,T=this.inGenerator,x=this.inFunction;return this.initFunction(u),this.options.ecmaVersion>=8&&(u.async=!!m),this.inAsync=u.async,this.inGenerator=!1,this.inFunction=!0,u.params=this.toAssignableList(h,!0),u.expression=this.tok.type!==a.tokTypes.braceL,u.expression?u.body=this.parseMaybeAssign():(u.body=this.parseBlock(),this.toks.adaptDirectivePrologue(u.body.body)),this.inAsync=v,this.inGenerator=T,this.inFunction=x,this.finishNode(u,"ArrowFunctionExpression")},s.parseExprList=function(u,h){this.pushCx();var m=this.curIndent,v=this.curLineStart,T=[];for(this.next();!this.closes(u,m+1,v);){if(this.eat(a.tokTypes.comma)){T.push(h?null:this.dummyIdent());continue}var x=this.parseMaybeAssign();if(g(x)){if(this.closes(u,m,v))break;this.next()}else T.push(x);this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(u)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),T},s.parseAwait=function(){var u=this.startNode();return this.next(),u.argument=this.parseMaybeUnary(),this.finishNode(u,"AwaitExpression")},a.defaultOptions.tabSize=4;function o(u,h){return b.parse(u,h)}i.LooseParser=b,i.isDummy=g,i.parse=o})}(acornLoose$1,acornLoose$1.exports)),acornLoose$1.exports}var validator={},validityErrors={},hasRequiredValidityErrors;function requireValidityErrors(){if(hasRequiredValidityErrors)return validityErrors;hasRequiredValidityErrors=1,Object.defineProperty(validityErrors,"__esModule",{value:!0}),validityErrors.NoAssignmentToForVariable=void 0;const e=requireTypes();class n{constructor(a){this.node=a,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}return validityErrors.NoAssignmentToForVariable=n,validityErrors}var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const e=requireErrors(),n=requireValidityErrors(),i=requireAstCreator(),a=requireWalkers();class w{constructor(b){this.isConstant=b,this.accessedBeforeDeclaration=!1}}function g(y,b){const d=new Map,f=new Map;function c(h){const m=new Map;for(const v of h.body)v.type==="VariableDeclaration"?m.set((0,i.getVariableDecarationName)(v),new w(v.kind==="const")):v.type==="FunctionDeclaration"&&m.set(v.id.name,new w(!0));f.set(h,!1),d.set(h,m)}function s(h){d.set(h,new Map(h.params.map(m=>[m.name,new w(!1)]))),f.set(h,!1)}(0,a.ancestor)(y,{Program:c,BlockStatement:c,FunctionDeclaration:s,ArrowFunctionExpression:s,ForStatement(h,m){const v=h.init;v.type==="VariableDeclaration"&&(d.set(h,new Map([[(0,i.getVariableDecarationName)(v),new w(v.kind==="const")]])),f.set(h,!1))}});function o(h,m){const v=h.name,T=m[m.length-2];for(let x=m.length-1;x>=0;x--){const R=m[x],k=d.get(R);if(k!=null&&k.has(v)){k.get(v).accessedBeforeDeclaration=!0,T.type==="AssignmentExpression"&&T.left===h&&(k.get(v).isConstant&&b.errors.push(new e.ConstAssignment(T,v)),R.type==="ForStatement"&&R.init!==T&&R.update!==T&&b.errors.push(new n.NoAssignmentToForVariable(T)));break}}}const u=Object.assign(Object.assign({},a.base),{VariableDeclarator(h,m,v){h.init&&v(h.init,m,"Expression")}});return(0,a.ancestor)(y,{VariableDeclaration(h,m){const v=m[m.length-2],T=(0,i.getVariableDecarationName)(h),x=d.get(v).get(T).accessedBeforeDeclaration;h.typability=x?"Untypable":"NotYetTyped"},Identifier:o,FunctionDeclaration(h,m){const v=m[m.length-2];h.typability=f.get(v)?"Untypable":"NotYetTyped"},Pattern(h,m){h.type==="Identifier"?o(h,m):h.type==="MemberExpression"&&h.object.type==="Identifier"&&o(h.object,m)},CallExpression(h,m){for(let v=m.length-1;v>=0;v--){const T=m[v];if(f.has(T)){f.set(T,!0);break}}}},u),y}return validator.validateAndAnnotate=g,validator}var rules={},bracesAroundFor={},hasRequiredBracesAroundFor;function requireBracesAroundFor(){if(hasRequiredBracesAroundFor)return bracesAroundFor;hasRequiredBracesAroundFor=1,Object.defineProperty(bracesAroundFor,"__esModule",{value:!0}),bracesAroundFor.BracesAroundForError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const g=(0,e.generate)(this.node.init),y=(0,e.generate)(this.node.test),b=(0,e.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${g} ${y}; ${b}) {
		//code goes here
	}`}`}}bracesAroundFor.BracesAroundForError=i;const a={name:"braces-around-for",checkers:{ForStatement(w,g){return w.body.type!=="BlockStatement"?[new i(w)]:[]}}};return bracesAroundFor.default=a,bracesAroundFor}var bracesAroundIfElse={},hasRequiredBracesAroundIfElse;function requireBracesAroundIfElse(){if(hasRequiredBracesAroundIfElse)return bracesAroundIfElse;hasRequiredBracesAroundIfElse=1,Object.defineProperty(bracesAroundIfElse,"__esModule",{value:!0}),bracesAroundIfElse.BracesAroundIfElseError=void 0;const e=requireAstring(),n=requireTypes(),i=requireFormatters();class a{constructor(y,b){this.node=y,this.branch=b,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let y,b,d;return this.branch==="consequent"?(y="if",b=`if (${(0,e.generate)(this.node.test)})`,d=this.node.consequent):(y=b="else",d=this.node.alternate),(0,i.stripIndent)`
      ${y} block need to be enclosed with a pair of curly braces.

      ${b} {
        ${(0,e.generate)(d)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse.BracesAroundIfElseError=a;const w={name:"braces-around-if-else",checkers:{IfStatement(g,y){const b=[];if(g.consequent&&g.consequent.type!=="BlockStatement"&&b.push(new a(g,"consequent")),g.alternate){const d=g.alternate.type!=="BlockStatement",f=g.alternate.type!=="IfStatement";d&&f&&b.push(new a(g,"alternate"))}return b}}};return bracesAroundIfElse.default=w,bracesAroundIfElse}var bracesAroundWhile={},hasRequiredBracesAroundWhile;function requireBracesAroundWhile(){if(hasRequiredBracesAroundWhile)return bracesAroundWhile;hasRequiredBracesAroundWhile=1,Object.defineProperty(bracesAroundWhile,"__esModule",{value:!0}),bracesAroundWhile.BracesAroundWhileError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,e.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile.BracesAroundWhileError=i;const a={name:"braces-around-while",checkers:{WhileStatement(w,g){return w.body.type!=="BlockStatement"?[new i(w)]:[]}}};return bracesAroundWhile.default=a,bracesAroundWhile}var forStatementMustHaveAllParts={},hasRequiredForStatementMustHaveAllParts;function requireForStatementMustHaveAllParts(){if(hasRequiredForStatementMustHaveAllParts)return forStatementMustHaveAllParts;hasRequiredForStatementMustHaveAllParts=1,Object.defineProperty(forStatementMustHaveAllParts,"__esModule",{value:!0}),forStatementMustHaveAllParts.ForStatmentMustHaveAllParts=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g,y){this.node=g,this.missingParts=y,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,n.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts.ForStatmentMustHaveAllParts=i;const a={name:"for-statement-must-have-all-parts",checkers:{ForStatement(w){const g=["init","test","update"].filter(y=>w[y]===null);return g.length>0?[new i(w,g)]:[]}}};return forStatementMustHaveAllParts.default=a,forStatementMustHaveAllParts}var noDeclareMutable={},hasRequiredNoDeclareMutable;function requireNoDeclareMutable(){if(hasRequiredNoDeclareMutable)return noDeclareMutable;hasRequiredNoDeclareMutable=1,Object.defineProperty(noDeclareMutable,"__esModule",{value:!0}),noDeclareMutable.NoDeclareMutableError=void 0;const e=requireAstring(),n=requireTypes(),i=["let","var"];class a{constructor(y){this.node=y,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const y=this.node.declarations[0].id.name,b=(0,e.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${y} = ${b};`}}noDeclareMutable.NoDeclareMutableError=a;const w={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(g,y){return i.includes(g.kind)?[new a(g)]:[]}}};return noDeclareMutable.default=w,noDeclareMutable}var noDotAbbreviation={},hasRequiredNoDotAbbreviation;function requireNoDotAbbreviation(){if(hasRequiredNoDotAbbreviation)return noDotAbbreviation;hasRequiredNoDotAbbreviation=1,Object.defineProperty(noDotAbbreviation,"__esModule",{value:!0}),noDotAbbreviation.NoDotAbbreviationError=void 0;const e=requireTypes();class n{constructor(w){this.node=w,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation.NoDotAbbreviationError=n;const i={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(a,w){return a.computed?[]:[new n(a)]}}};return noDotAbbreviation.default=i,noDotAbbreviation}var noEval={},hasRequiredNoEval;function requireNoEval(){if(hasRequiredNoEval)return noEval;hasRequiredNoEval=1,Object.defineProperty(noEval,"__esModule",{value:!0}),noEval.NoEval=void 0;const e=requireTypes();class n{constructor(w){this.node=w,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval.NoEval=n;const i={name:"no-eval",checkers:{Identifier(a,w){return a.name==="eval"?[new n(a)]:[]}}};return noEval.default=i,noEval}var noHolesInArrays={},hasRequiredNoHolesInArrays;function requireNoHolesInArrays(){if(hasRequiredNoHolesInArrays)return noHolesInArrays;hasRequiredNoHolesInArrays=1,Object.defineProperty(noHolesInArrays,"__esModule",{value:!0}),noHolesInArrays.NoHolesInArrays=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,n.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays.NoHolesInArrays=i;const a={name:"no-holes-in-arrays",checkers:{ArrayExpression(w){return w.elements.some(g=>g===null)?[new i(w)]:[]}}};return noHolesInArrays.default=a,noHolesInArrays}var noIfWithoutElse={},hasRequiredNoIfWithoutElse;function requireNoIfWithoutElse(){if(hasRequiredNoIfWithoutElse)return noIfWithoutElse;hasRequiredNoIfWithoutElse=1,Object.defineProperty(noIfWithoutElse,"__esModule",{value:!0}),noIfWithoutElse.NoIfWithoutElseError=void 0;const e=requireAstring(),n=requireTypes(),i=requireFormatters();class a{constructor(y){this.node=y,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,i.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,e.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse.NoIfWithoutElseError=a;const w={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(g,y){return g.alternate?[]:[new a(g)]}}};return noIfWithoutElse.default=w,noIfWithoutElse}var noImplicitDeclareUndefined={},hasRequiredNoImplicitDeclareUndefined;function requireNoImplicitDeclareUndefined(){if(hasRequiredNoImplicitDeclareUndefined)return noImplicitDeclareUndefined;hasRequiredNoImplicitDeclareUndefined=1,Object.defineProperty(noImplicitDeclareUndefined,"__esModule",{value:!0}),noImplicitDeclareUndefined.NoImplicitDeclareUndefinedError=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,n.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined.NoImplicitDeclareUndefinedError=i;const a={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(w,g){const y=[];for(const b of w.declarations)b.init||y.push(new i(b.id));return y}}};return noImplicitDeclareUndefined.default=a,noImplicitDeclareUndefined}var noImplicitReturnUndefined={},hasRequiredNoImplicitReturnUndefined;function requireNoImplicitReturnUndefined(){if(hasRequiredNoImplicitReturnUndefined)return noImplicitReturnUndefined;hasRequiredNoImplicitReturnUndefined=1,Object.defineProperty(noImplicitReturnUndefined,"__esModule",{value:!0}),noImplicitReturnUndefined.NoImplicitReturnUndefinedError=void 0;const e=requireTypes(),n=requireFormatters();class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,n.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined.NoImplicitReturnUndefinedError=i;const a={name:"no-implicit-return-undefined",checkers:{ReturnStatement(w,g){return w.argument?[]:[new i(w)]}}};return noImplicitReturnUndefined.default=a,noImplicitReturnUndefined}var noNull={},hasRequiredNoNull;function requireNoNull(){if(hasRequiredNoNull)return noNull;hasRequiredNoNull=1,Object.defineProperty(noNull,"__esModule",{value:!0}),noNull.NoNullError=void 0;const e=requireTypes();class n{constructor(w){this.node=w,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source §1 specs."}}noNull.NoNullError=n;const i={name:"no-null",disableOn:2,checkers:{Literal(a,w){return a.value===null?[new n(a)]:[]}}};return noNull.default=i,noNull}var noSpreadInArray={},hasRequiredNoSpreadInArray;function requireNoSpreadInArray(){if(hasRequiredNoSpreadInArray)return noSpreadInArray;hasRequiredNoSpreadInArray=1,Object.defineProperty(noSpreadInArray,"__esModule",{value:!0}),noSpreadInArray.NoSpreadInArray=void 0;const e=requireTypes();class n{constructor(w){this.node=w,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray.NoSpreadInArray=n;const i={name:"no-assignment-expression",checkers:{SpreadElement(a,w){return w[w.length-2].type==="CallExpression"?[]:[new n(a)]}}};return noSpreadInArray.default=i,noSpreadInArray}var noTemplateExpression={},hasRequiredNoTemplateExpression;function requireNoTemplateExpression(){if(hasRequiredNoTemplateExpression)return noTemplateExpression;hasRequiredNoTemplateExpression=1,Object.defineProperty(noTemplateExpression,"__esModule",{value:!0}),noTemplateExpression.NoTemplateExpressionError=void 0;const e=requireTypes();class n{constructor(w){this.node=w,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression.NoTemplateExpressionError=n;const i={name:"no-template-expression",checkers:{TemplateLiteral(a,w){return a.expressions.length>0?[new n(a)]:[]}}};return noTemplateExpression.default=i,noTemplateExpression}var noUnspecifiedLiteral={},hasRequiredNoUnspecifiedLiteral;function requireNoUnspecifiedLiteral(){if(hasRequiredNoUnspecifiedLiteral)return noUnspecifiedLiteral;hasRequiredNoUnspecifiedLiteral=1,Object.defineProperty(noUnspecifiedLiteral,"__esModule",{value:!0}),noUnspecifiedLiteral.NoUnspecifiedLiteral=void 0;const e=requireTypes(),n=["boolean","string","number"];class i{constructor(g){this.node=g,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral.NoUnspecifiedLiteral=i;const a={name:"no-unspecified-literal",checkers:{Literal(w,g){return w.value!==null&&!n.includes(typeof w.value)?[new i(w)]:[]}}};return noUnspecifiedLiteral.default=a,noUnspecifiedLiteral}var noUnspecifiedOperator={},hasRequiredNoUnspecifiedOperator;function requireNoUnspecifiedOperator(){if(hasRequiredNoUnspecifiedOperator)return noUnspecifiedOperator;hasRequiredNoUnspecifiedOperator=1,Object.defineProperty(noUnspecifiedOperator,"__esModule",{value:!0}),noUnspecifiedOperator.NoUnspecifiedOperatorError=void 0;const e=requireTypes();class n{constructor(w){this.node=w,this.type=e.ErrorType.SYNTAX,this.severity=e.ErrorSeverity.ERROR,this.unspecifiedOperator=w.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator.NoUnspecifiedOperatorError=n;const i={name:"no-unspecified-operator",checkers:{BinaryExpression(a,w){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(a.operator)?[]:[new n(a)]},UnaryExpression(a){return["-","!"].includes(a.operator)?[]:[new n(a)]}}};return noUnspecifiedOperator.default=i,noUnspecifiedOperator}var noUpdateAssignment={},hasRequiredNoUpdateAssignment;function requireNoUpdateAssignment(){if(hasRequiredNoUpdateAssignment)return noUpdateAssignment;hasRequiredNoUpdateAssignment=1,Object.defineProperty(noUpdateAssignment,"__esModule",{value:!0}),noUpdateAssignment.NoUpdateAssignment=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const g=(0,e.generate)(this.node.left),y=(0,e.generate)(this.node.right),b=this.node.operator.slice(0,-1);return b==="+"||b==="-"||b==="/"||b==="*"?`
	${g} = ${g} ${b} ${y};`:""}}noUpdateAssignment.NoUpdateAssignment=i;const a={name:"no-update-assignment",checkers:{AssignmentExpression(w,g){return w.operator!=="="?[new i(w)]:[]}}};return noUpdateAssignment.default=a,noUpdateAssignment}var noVar={},hasRequiredNoVar;function requireNoVar(){if(hasRequiredNoVar)return noVar;hasRequiredNoVar=1,Object.defineProperty(noVar,"__esModule",{value:!0}),noVar.NoVarError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const g=this.node.declarations[0].id.name,y=(0,e.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${g} = ${y};`}}noVar.NoVarError=i;const a={name:"no-var",checkers:{VariableDeclaration(w,g){return w.kind==="var"?[new i(w)]:[]}}};return noVar.default=a,noVar}var singleVariableDeclaration={},hasRequiredSingleVariableDeclaration;function requireSingleVariableDeclaration(){if(hasRequiredSingleVariableDeclaration)return singleVariableDeclaration;hasRequiredSingleVariableDeclaration=1,Object.defineProperty(singleVariableDeclaration,"__esModule",{value:!0}),singleVariableDeclaration.MultipleDeclarationsError=void 0;const e=requireAstring(),n=requireTypes();class i{constructor(g){this.node=g,this.type=n.ErrorType.SYNTAX,this.severity=n.ErrorSeverity.ERROR,this.fixs=g.declarations.map(y=>({type:"VariableDeclaration",kind:"let",loc:y.loc,declarations:[y]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(y=>"	"+(0,e.generate)(y)).join(`
`)+`
`}}singleVariableDeclaration.MultipleDeclarationsError=i;const a={name:"single-variable-declaration",checkers:{VariableDeclaration(w,g){return w.declarations.length>1?[new i(w)]:[]}}};return singleVariableDeclaration.default=a,singleVariableDeclaration}var hasRequiredRules;function requireRules(){if(hasRequiredRules)return rules;hasRequiredRules=1,Object.defineProperty(rules,"__esModule",{value:!0});const e=requireBracesAroundFor(),n=requireBracesAroundIfElse(),i=requireBracesAroundWhile(),a=requireForStatementMustHaveAllParts(),w=requireNoDeclareMutable(),g=requireNoDotAbbreviation(),y=requireNoEval(),b=requireNoHolesInArrays(),d=requireNoIfWithoutElse(),f=requireNoImplicitDeclareUndefined(),c=requireNoImplicitReturnUndefined(),s=requireNoNull(),o=requireNoSpreadInArray(),u=requireNoTemplateExpression(),h=requireNoUnspecifiedLiteral(),m=requireNoUnspecifiedOperator(),v=requireNoUpdateAssignment(),T=requireNoVar(),x=requireSingleVariableDeclaration(),R=[e.default,n.default,i.default,a.default,w.default,g.default,d.default,f.default,c.default,s.default,h.default,m.default,v.default,T.default,x.default,y.default,b.default,u.default,o.default];return rules.default=R,rules}var syntaxBlacklist={},hasRequiredSyntaxBlacklist;function requireSyntaxBlacklist(){return hasRequiredSyntaxBlacklist||(hasRequiredSyntaxBlacklist=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.libraryParserLanguage=void 0,e.libraryParserLanguage=100;const n={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:e.libraryParserLanguage,NewExpression:e.libraryParserLanguage,TryStatement:e.libraryParserLanguage,CatchClause:e.libraryParserLanguage,ThrowStatement:e.libraryParserLanguage,ThisExpression:e.libraryParserLanguage,Super:e.libraryParserLanguage,ClassDeclaration:e.libraryParserLanguage,ClassExpression:e.libraryParserLanguage,Class:e.libraryParserLanguage,ClassBody:e.libraryParserLanguage,MethodDefinition:e.libraryParserLanguage,FunctionExpression:e.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};e.default=n}(syntaxBlacklist)),syntaxBlacklist}var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.typedParse=e.looseParse=e.parseWithComments=e.createAcornParserOptions=e.tokenize=e.parse=e.parseAt=e.TrailingCommaError=e.MissingSemicolonError=e.FatalSyntaxError=e.DisallowedConstructError=void 0;const n=requireAcorn(),i=requireAcornLoose(),a=requireConstants(),w=requireTypes(),g=requireFormatters(),y=requireWalkers(),b=requireValidator(),d=requireRules(),f=requireSyntaxBlacklist();class c{constructor(A){this.node=A,this.type=w.ErrorType.SYNTAX,this.severity=w.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,g.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(A){switch(A){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return A.split(/(?=[A-Z])/).map((O,B)=>B===0?O:O.toLowerCase()).join(" ")+"s"}}}e.DisallowedConstructError=c;class s{constructor(A,$){this.location=A,this.message=$,this.type=w.ErrorType.SYNTAX,this.severity=w.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}e.FatalSyntaxError=s;class o{constructor(A){this.location=A,this.type=w.ErrorType.SYNTAX,this.severity=w.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}e.MissingSemicolonError=o;class u{constructor(A){this.location=A}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}e.TrailingCommaError=u;function h(L,A){let $;try{$=(0,n.parseExpressionAt)(L,A,a.ACORN_PARSE_OPTIONS)}catch{return}return $}e.parseAt=h;function m(L,A){let $;try{$=(0,n.parse)(L,(0,e.createAcornParserOptions)(A)),(0,y.ancestor)($,N,void 0,A)}catch(B){if(B instanceof SyntaxError){const z=B.loc,F={start:{line:z.line,column:z.column},end:{line:z.line,column:z.column+1}};A.errors.push(new s(F,B.toString()))}else throw B}const O=A.errors.find(B=>B.severity===w.ErrorSeverity.ERROR);if($&&!O)return $}e.parse=m;function v(L,A){return[...(0,n.tokenizer)(L,(0,e.createAcornParserOptions)(A))]}e.tokenize=v;const T=L=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(A,$){L.errors.push(new o({end:{line:$.line,column:$.column+1},start:$}))},onTrailingComma(A,$){L.errors.push(new u({end:{line:$.line,column:$.column+1},start:$}))}});e.createAcornParserOptions=T;function x(L){let A=[];const $={sourceType:"module",ecmaVersion:6,locations:!0,onComment:A};let O;try{O=(0,n.parse)(L,$)}catch{A=[],O=(0,i.parse)(L,$)}return[O,A]}e.parseWithComments=x;function R(L,A){return(0,i.parse)(L,(0,e.createAcornParserOptions)(A))}e.looseParse=R;function k(L,A){const $=R(L,A);return $===void 0?null:(0,b.validateAndAnnotate)($,A)}e.typedParse=k;function C(L,A){const $=new Map,O=new Set;return Object.entries(L).map(z=>{const F=z[0];$.set(F,(V,U,q)=>{O.has(V)||(O.add(V),U.chapter<L[V.type]&&U.errors.push(new c(V)))})}),A.forEach(z=>{const F=z.checkers;Object.entries(F).forEach(U=>{const q=U[0],K=U[1],Q=$.get(q),X=(te,se,J)=>{if(typeof z.disableOn<"u"&&se.chapter>=z.disableOn)return;K(te,J).forEach(ce=>se.errors.push(ce))};$.set(q,(te,se,J)=>{Q(te,se,J),X(te,se,J)})})}),S($)}const S=L=>Array.from(L).reduce((A,[$,O])=>Object.assign(A,{[$]:O}),{}),N=C(f.default,d.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const e=requireParser$1(),n=requireSyntaxBlacklist(),i=requireFormatters(),a=requireList();class w extends Error{constructor(h){super(h),this.name="ParseError"}}function g(){console.error((0,i.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function y(u){return u.length===1?c(u[0]):(0,a.vector_to_list)(["sequence",(0,a.vector_to_list)(u.map(c))])}function b(u){return d(u)?(0,a.vector_to_list)(["block",y(u)]):y(u)}function d(u){return u.reduce((h,m)=>h||m.type==="VariableDeclaration"||m.type==="FunctionDeclaration",!1)}const f=new Map([["Program",u=>(u=u,y(u.body))],["BlockStatement",u=>b(u.body)],["ExpressionStatement",u=>c(u.expression)],["IfStatement",u=>(0,a.vector_to_list)(["conditional_statement",c(u.test),c(u.consequent),u.alternate===null?y([]):c(u.alternate)])],["FunctionDeclaration",u=>(0,a.vector_to_list)(["function_declaration",c(u.id),(0,a.vector_to_list)(u.params.map(c)),b(u.body.body)])],["VariableDeclaration",u=>{if(u.kind==="let")return(0,a.vector_to_list)(["variable_declaration",c(u.declarations[0].id),c(u.declarations[0].init)]);if(u.kind==="const")return(0,a.vector_to_list)(["constant_declaration",c(u.declarations[0].id),c(u.declarations[0].init)]);throw g(),new w("Invalid declaration kind")}],["ReturnStatement",u=>(0,a.vector_to_list)(["return_statement",c(u.argument)])],["CallExpression",u=>(0,a.vector_to_list)(["application",c(u.callee),(0,a.vector_to_list)(u.arguments.map(c))])],["UnaryExpression",u=>(0,a.vector_to_list)(["unary_operator_combination",u.operator==="-"?"-unary":u.operator,c(u.argument)])],["BinaryExpression",u=>(0,a.vector_to_list)(["binary_operator_combination",u.operator,c(u.left),c(u.right)])],["LogicalExpression",u=>(0,a.vector_to_list)(["logical_composition",u.operator,c(u.left),c(u.right)])],["ConditionalExpression",u=>(0,a.vector_to_list)(["conditional_expression",c(u.test),c(u.consequent),c(u.alternate)])],["ArrowFunctionExpression",u=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(u.params.map(c)),u.body.type==="BlockStatement"?b(u.body.body):(0,a.vector_to_list)(["return_statement",c(u.body)])])],["Identifier",u=>(0,a.vector_to_list)(["name",u.name])],["Literal",u=>(0,a.vector_to_list)(["literal",u.value])],["ArrayExpression",u=>(0,a.vector_to_list)(["array_expression",(0,a.vector_to_list)(u.elements.map(c))])],["AssignmentExpression",u=>{if(u.left.type==="Identifier")return(0,a.vector_to_list)(["assignment",c(u.left),c(u.right)]);if(u.left.type==="MemberExpression")return(0,a.vector_to_list)(["object_assignment",c(u.left),c(u.right)]);throw g(),new w("Invalid assignment")}],["ForStatement",u=>(0,a.vector_to_list)(["for_loop",c(u.init),c(u.test),c(u.update),c(u.body)])],["WhileStatement",u=>(0,a.vector_to_list)(["while_loop",c(u.test),c(u.body)])],["BreakStatement",u=>(0,a.vector_to_list)(["break_statement"])],["ContinueStatement",u=>(0,a.vector_to_list)(["continue_statement"])],["ObjectExpression",u=>(0,a.vector_to_list)(["object_expression",(0,a.vector_to_list)(u.properties.map(c))])],["MemberExpression",u=>(0,a.vector_to_list)(["object_access",c(u.object),!u.computed&&u.property.type==="Identifier"?(0,a.vector_to_list)(["property",u.property.name]):c(u.property)])],["Property",u=>(0,a.vector_to_list)(["key_value_pair",u.key.type==="Identifier"?(0,a.vector_to_list)(["property",u.key.name]):c(u.key),c(u.value)])],["ImportDeclaration",u=>(0,a.vector_to_list)(["import_declaration",(0,a.vector_to_list)(u.specifiers.map(c)),u.source.value])],["ImportSpecifier",u=>(0,a.vector_to_list)(["name",u.imported.name])],["ClassDeclaration",u=>(0,a.vector_to_list)(["class_declaration",(0,a.vector_to_list)(["name",u.id===null?null:u.id.name,u.superClass===null||u.superClass===void 0?null:c(u.superClass),u.body.body.map(c)])])],["NewExpression",u=>(0,a.vector_to_list)(["new_expression",c(u.callee),(0,a.vector_to_list)(u.arguments.map(c))])],["MethodDefinition",u=>(0,a.vector_to_list)(["method_definition",u.kind,u.static,c(u.key),c(u.value)])],["FunctionExpression",u=>(0,a.vector_to_list)(["lambda_expression",(0,a.vector_to_list)(u.params.map(c)),b(u.body.body)])],["ThisExpression",u=>(0,a.vector_to_list)(["this_expression"])],["Super",u=>(0,a.vector_to_list)(["super_expression"])],["TryStatement",u=>(0,a.vector_to_list)(["try_statement",c(u.block),u.handler===null||u.handler===void 0?null:(0,a.vector_to_list)(["name",u.handler.param.name]),u.handler===null||u.handler===void 0?null:c(u.handler.body)])],["ThrowStatement",u=>(0,a.vector_to_list)(["throw_statement",c(u.argument)])],["SpreadElement",u=>(0,a.vector_to_list)(["spread_element",c(u.argument)])],["RestElement",u=>(0,a.vector_to_list)(["rest_element",c(u.argument)])]]);function c(u){if(f.has(u.type)){const m=f.get(u.type)(u);return m!=null&&typeof m=="object"&&m.tag!==void 0&&(m.loc=u.loc),m}else throw g(),new w("Cannot transform unknown type: "+u.type)}function s(u,h){h.chapter=n.libraryParserLanguage;const m=(0,e.parse)(u,h);if(h.errors.length>0)throw new w(h.errors[0].explain());if(m!==void 0)return c(m);throw g(),new w("Invalid parse")}parser$1.parse=s;function o(u,h){const m=(0,e.tokenize)(u,h).map(v=>u.substring(v.start,v.end));return(0,a.vector_to_list)(m)}return parser$1.tokenize=o,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const e=requireList();function n(w){let g;if((0,e.is_pair)(w))g=w[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+w);if(typeof g=="function")return g();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+g)}stream.stream_tail=n;function i(...w){return a((0,e.list)(...w))}stream.stream=i;function a(w){return(0,e.is_null)(w)?null:(0,e.pair)((0,e.head)(w),()=>a((0,e.tail)(w)))}return stream.list_to_stream=a,stream}var stream_prelude={},hasRequiredStream_prelude;function requireStream_prelude(){return hasRequiredStream_prelude||(hasRequiredStream_prelude=1,Object.defineProperty(stream_prelude,"__esModule",{value:!0}),stream_prelude.streamPrelude=void 0,stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`),stream_prelude}var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const e=requireAstring(),n=requireTypes(),i=requireFormatters(),a=requireStringify();class w{constructor(k,C){this.node=k,this.receivedType=C,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,a.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=w;class g{constructor(k,C,S){this.node=k,this.arrayType=C,this.receivedType=S,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`Expected array type: ${(0,a.typeToString)(this.arrayType)}
    but got: ${(0,a.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=g;class y{constructor(k){this.node=k,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[k]=d(this.node);return`Reassignment of constant ${k}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=y;class b{constructor(k,C,S){this.node=k,this.expectedType=C,this.receivedType=S,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[k,C]=d(this.node);return(0,i.stripIndent)`
    Expected assignment of ${k}:
      ${C}
    to get a value of type:
      ${(0,a.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=b;function d(R){const k=R.left,C=(0,i.simplify)((0,e.generate)(R.right));return[k.name,C]}class f{constructor(k){this.node=k,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${c(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=f;function c(R){var k;return["VariableDeclaration","FunctionDeclaration"].includes(R.type)?R.type==="VariableDeclaration"?R.declarations[0].id.name:(k=R.id)===null||k===void 0?void 0:k.name:R.type==="Identifier"?R.name:JSON.stringify(R)}class s{constructor(k,C,S){this.node=k,this.numExpectedArgs=C,this.numReceived=S,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=s;class o{constructor(k,C,S,N){this.node=k,this.args=C,this.expectedTypes=S,this.receivedTypes=N,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const k=this.args.map(N=>(0,i.simplify)((0,e.generate)(N)));if("operator"in this.node){const N=this.node.operator;return this.expectedTypes.length===2?(0,i.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${k[0]} ${N} ${k[1]}
        The binary operator (${N}) expected two operands with types:
          ${(0,a.typeToString)(this.expectedTypes[0])} ${N} ${(0,a.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,a.typeToString)(this.receivedTypes[0])} ${N} ${(0,a.typeToString)(this.receivedTypes[1])}
        `:(0,i.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${N} ${k[0]}
        The unary operator (${N}) expected its operand to be of type:
          ${(0,a.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,a.typeToString)(this.receivedTypes[0])}
        `}const C=(0,i.simplify)((0,e.generate)(this.node));function S(N){switch(N.length){case 1:return`an argument of type:
      ${(0,a.typeToString)(N[0])}`;default:return`${N.length} arguments of types:
      ${N.map(a.typeToString).join(", ")}`}}return(0,i.stripIndent)`
    A type mismatch was detected in the function call:
      ${C}
    The function expected ${S(this.expectedTypes)}
    but instead received ${S(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=o;function u(R){let k=(0,i.simplify)((0,e.generate)(R.test)),C;switch(R.type){case"IfStatement":{k=`if (${k}) { ... } else { ... }`,C="if statement";break}case"ConditionalExpression":{k=`${k} ? ... : ...`,C="conditional expression";break}case"WhileStatement":{k=`while (${k}) { ... }`,C="while statement";break}case"ForStatement":k=`for (...; ${k}; ...) { ... }`,C="for statement"}return{exprString:k,kind:C}}class h{constructor(k,C){this.node=k,this.receivedType=C,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:k,kind:C}=u(this.node);return(0,i.stripIndent)`
    Expected the test part of the ${C}:
      ${k}
    to have type boolean, but instead it is type:
      ${(0,a.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=h;class m{constructor(k,C){this.node=k,this.name=C,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=m;class v{constructor(k,C,S){this.node=k,this.consequentType=C,this.alternateType=S,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:k,kind:C}=u(this.node);return(0,i.stripIndent)`
    The two branches of the ${C}:
      ${k}
    produce different types!
    The true branch has type:
      ${(0,a.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,a.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=v;class T{constructor(k,C){this.node=k,this.callerType=C,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`
    In
      ${(0,i.simplify)((0,e.generate)(this.node))}
    expected
      ${(0,i.simplify)((0,e.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,a.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=T;class x{constructor(k,C,S,N){this.node=k,this.argVarName=C,this.preUnifyType=S,this.predicateType=N,this.type=n.ErrorType.TYPE,this.severity=n.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const k=(0,e.generate)(this.node);return(0,i.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${k}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,a.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,a.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=x,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const e=requireTypes(),n=requireStringify();class i{constructor(d,f){this.node=d,this.message=f,this.type=e.ErrorType.TYPE,this.severity=e.ErrorSeverity.WARNING,d.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=i;class a extends Error{constructor(d){super(),this.message=d}}internalTypeErrors.InternalTypeError=a;class w extends a{constructor(d,f){super(`Failed to unify LHS: ${(0,n.typeToString)(d)}, RHS: ${(0,n.typeToString)(f)}`),this.LHS=d,this.RHS=f}}internalTypeErrors.UnifyError=w;class g extends a{constructor(d,f){super(`Expected ${d} args, got ${f}`),this.numExpectedArgs=d,this.numReceived=f}}internalTypeErrors.InternalDifferentNumberArgumentsError=g;class y extends a{constructor(d){super("contains a cyclic reference to itself"),this.name=d}}return internalTypeErrors.InternalCyclicReferenceError=y,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const e=requireTypeErrors(),n=requireParser$1(),i=requireStringify(),a=requireInternalTypeErrors(),w="-_1";let g=0;function y(pe,ye){if(pe!==null){if(ye&&pe.typability!=="Untypable")try{pe.inferredType=k(pe.inferredType,ye),pe.typability="Typed"}catch(Me){c(Me)&&!(Me instanceof a.InternalCyclicReferenceError)&&u(new a.TypeError(pe,Me))}else pe.inferredType=ue(g),g++;switch(pe.type){case"Program":{pe.body.forEach(Me=>{y(Me,ye)});break}case"UnaryExpression":{y(pe.argument,ye);break}case"LogicalExpression":case"BinaryExpression":{y(pe.left,ye),y(pe.right,ye);break}case"ExpressionStatement":{y(pe.expression,ye);break}case"BlockStatement":{pe.body.forEach(Me=>{y(Me,ye)});break}case"WhileStatement":{y(pe.test,ye),y(pe.body,ye);break}case"ForStatement":{y(pe.init,ye),y(pe.test,ye),y(pe.update,ye),y(pe.body,ye);break}case"ConditionalExpression":case"IfStatement":{y(pe.test,ye),y(pe.consequent,ye),pe.alternate&&y(pe.alternate,ye);break}case"CallExpression":{y(pe.callee,ye),pe.arguments.forEach(Me=>{y(Me,ye)});break}case"ReturnStatement":{const Me=pe.argument;y(Me,ye);break}case"VariableDeclaration":{const Me=pe.declarations[0].init;y(Me,ye);break}case"ArrowFunctionExpression":{pe.params.forEach(Me=>{y(Me,ye)}),y(pe.body,ye);break}case"FunctionDeclaration":{const Me=pe;if(ye)try{Me.functionInferredType=k(Me.functionInferredType,ye)}catch(st){st instanceof a.InternalCyclicReferenceError?u(new e.CyclicReferenceError(pe)):c(st)&&u(new a.TypeError(pe,st))}else Me.functionInferredType=ue(g);g++,Me.params.forEach(st=>{y(st,ye)}),y(Me.body,ye);break}case"AssignmentExpression":y(pe.left,ye),y(pe.right,ye);break;case"ArrayExpression":pe.elements.forEach(Me=>y(Me,ye));break;case"MemberExpression":y(pe.object,ye),y(pe.property,ye);break;default:return}}}function b(pe){return pe.kind==="pair"}function d(pe){return pe.kind==="list"}function f(pe){return d(pe)?pe.elementType:null}function c(pe){return pe instanceof a.InternalTypeError}let s=!1,o=[];function u(pe){pe instanceof e.UndefinedIdentifierError&&s||(s=!0,o.push(pe))}function h(pe,ye){function Me(st){g=0,s=!1,o=[];const lt=ye.typeEnvironment;if(ye.chapter>=3&&lt.length===3){const we=lt[2].typeMap;for(const[Ue,ht]of Je)we.set(Ue,ht)}const Xe=[];y(st);try{J(st,lt,Xe,!0)}catch(we){c(we)?u(new a.TypeError(st,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+we.message)):u(new a.TypeError(st,`Uncaught error during typechecking, report this to the adminstrators!
`+we.message))}return y(st,Xe),[st,o]}for(const st of ye.unTypecheckedCode)Me((0,n.typedParse)(st,ye));return ye.unTypecheckedCode=[],Me(pe)}typeChecker.typeCheck=h;function m(pe){const ye=g;return g++,Object.assign(Object.assign({},pe),{name:`T${ye}`})}function v(pe,ye){switch(pe.kind){case"primitive":return pe;case"list":return{kind:"list",elementType:v(pe.elementType,ye)};case"array":return{kind:"array",elementType:v(pe.elementType,ye)};case"pair":return{kind:"pair",headType:v(pe.headType,ye),tailType:v(pe.tailType,ye)};case"variable":return ye[pe.name];case"function":return Object.assign(Object.assign({},pe),{parameterTypes:pe.parameterTypes.map(Me=>v(Me,ye)),returnType:v(pe.returnType,ye)})}}function T(pe,ye){const Me=[...pe];return ye.forEach(st=>{Me.findIndex(lt=>lt.name===st.name)===-1&&Me.push(st)}),Me}function x(pe){switch(pe.kind){case"primitive":return[];case"list":return x(pe.elementType);case"array":return x(pe.elementType);case"pair":return T(x(pe.headType),x(pe.tailType));case"variable":return[pe];case"function":return T(pe.parameterTypes.reduce((ye,Me)=>T(ye,x(Me)),[]),x(pe.returnType))}}function R(pe){const ye=pe.polyType,Me=x(ye),st={};return Me.forEach(lt=>{st[lt.name]=m(lt)}),v(ye,st)}function k(pe,ye){switch(pe.kind){case"primitive":return pe;case"pair":{const Me=k(pe.headType,ye),st=k(pe.tailType,ye);return st.kind==="list"&&Me===f(st)?Re(Me):Te(Me,st)}case"list":return{kind:"list",elementType:k(pe.elementType,ye)};case"array":return{kind:"array",elementType:k(pe.elementType,ye)};case"variable":{for(const Me of ye){const st=Me[0],lt=Me[1];if(st.name===pe.name){if(C(lt,st.name)){if(b(lt)&&st===lt.tailType)return{kind:"list",elementType:lt.headType};if(st.kind==="variable"&&st===f(lt))return{kind:"list",elementType:st};throw new a.InternalCyclicReferenceError(pe.name)}return k(Me[1],ye)}}return pe}case"function":return Object.assign(Object.assign({},pe),{parameterTypes:pe.parameterTypes.map(Me=>k(Me,ye)),returnType:k(pe.returnType,ye)})}}function C(pe,ye){switch(pe.kind){case"primitive":return!1;case"pair":return C(pe.headType,ye)||C(pe.tailType,ye);case"array":case"list":return C(pe.elementType,ye);case"variable":return pe.name===ye;case"function":return pe.parameterTypes.some(st=>C(st,ye))||C(pe.returnType,ye)}}function S(pe,ye,Me){for(const st of ye)if(st[0].name===pe.name)return $(ye,[Me,st[1]]);return Me.kind==="variable"&&pe.constraint==="addable"&&Me.constraint==="none"&&(Me.constraint=pe.constraint),pe!==Me&&ye.push([pe,Me]),ye}function N(pe,ye){return pe.constraint==="addable"&&ye.kind!=="variable"&&!(ye.kind==="primitive"&&(ye.name==="string"||ye.name==="number"))}function L(pe){return{kind:"function",parameterTypes:[m(ue("T"))],returnType:ve}}function A(){return De(m(ue("T")),ve)}function $(pe,[ye,Me]){if(ye.kind==="primitive"&&Me.kind==="primitive"&&ye.name===Me.name)return pe;if(ye.kind!=="variable"&&Me.kind==="variable")return $(pe,[Me,ye]);if(ye.kind==="variable"){if(Me=k(Me,pe),(Me.kind==="primitive"||Me.kind==="variable")&&ye.name===Me.name)return pe;if(Me.kind==="pair"&&ye===Me.tailType)$(pe,[ye,Re(Me.headType)]);else if(Me.kind==="pair"&&Me.tailType.kind==="list"){const st=$(pe,[Me.headType,f(Me.tailType)]);return $(st,[ye,Re(Me.headType)])}else if(C(Me,ye.name))throw new a.InternalCyclicReferenceError(ye.name);if(N(ye,Me))throw new a.UnifyError(ye,Me);return S(ye,pe,k(Me,pe))}else if(ye.kind==="function"&&Me.kind==="function"){if(ye.parameterTypes.length!==Me.parameterTypes.length)throw new a.InternalDifferentNumberArgumentsError(Me.parameterTypes.length,ye.parameterTypes.length);let st=pe;for(let lt=0;lt<ye.parameterTypes.length;lt++)st=$(st,[ye.parameterTypes[lt],Me.parameterTypes[lt]]);return st=$(st,[ye.returnType,Me.returnType]),st}else if(ye.kind==="pair"&&Me.kind==="pair"){const st=$(pe,[ye.headType,Me.headType]);return $(st,[ye.tailType,Me.tailType])}else{if(ye.kind==="list"&&Me.kind==="list")return $(pe,[ye.elementType,Me.elementType]);if(ye.kind==="list"&&Me.kind==="pair")return $(pe,[Me,Te(ye.elementType,ye)]);if(Me.kind==="list"&&ye.kind==="pair")return $(pe,[ye,Te(Me.elementType,Me)]);if(ye.kind==="array"&&Me.kind==="array")return $(pe,[ye.elementType,Me.elementType])}throw new a.UnifyError(ye,Me)}function O(pe,ye,Me,st,lt,Xe){se(lt);for(const we of ye)X(we.argVarName,m(ue("PredicatedT")),lt);for(const we of ye){const Ue=K(we.argVarName,lt),ht=k(Ue,Xe),tt=we.ifTrueType.kind==="forall"?R(we.ifTrueType):we.ifTrueType;try{Xe=$(Xe,[Ue,tt])}catch(At){At instanceof a.UnifyError&&u(new e.InconsistentPredicateTestError(we.node,we.argVarName,ht,tt))}}return Xe=J(Me,lt,Xe,st),lt.pop(),Xe}function B(pe,ye,Me,st,lt,Xe,we){if(we=O(pe,ye,Me,lt,Xe,we),st!==void 0)try{we=J(st,Xe,we,lt)}catch(Ue){Ue instanceof a.UnifyError&&u(new e.ConsequentAlternateMismatchError(pe,Ue.RHS,Ue.LHS))}return we}function z(pe){switch(pe.type){case"IfStatement":return z(pe.consequent)||z(pe.alternate);case"BlockStatement":return pe.body.some(ye=>z(ye));case"ForStatement":case"WhileStatement":return z(pe.body);case"ReturnStatement":return!0;default:return!1}}function F(pe){switch(pe.type){case"ExpressionStatement":return!0;case"IfStatement":return F(pe.consequent)||F(pe.alternate);case"BlockStatement":return pe.body.some(ye=>F(ye));case"ForStatement":case"WhileStatement":return F(pe.body);default:return!1}}function V(pe,ye,Me=[]){if(pe.type==="LogicalExpression"&&pe.operator==="&&")return Me=V(pe.left,ye,Me),V(pe.right,ye,Me);if(pe.type==="UnaryExpression"&&pe.operator==="!")return U(pe.argument,ye,Me);if(pe.type==="CallExpression"&&pe.callee.type==="Identifier"&&pe.arguments.length===1&&pe.arguments[0].type==="Identifier"){const st=K(pe.callee.name,ye);if(st!==void 0&&st.kind==="predicate")return Me.push({node:pe,ifTrueType:st.ifTrueType,argVarName:pe.arguments[0].name}),Me}return Me}function U(pe,ye,Me=[]){return pe.type==="LogicalExpression"&&pe.operator==="||"?(Me=U(pe.left,ye,Me),U(pe.right,ye,Me)):pe.type==="UnaryExpression"&&pe.operator==="!"?V(pe.argument,ye,Me):Me}function q(pe,ye){const Me=pe.body.length-1;if(ye){for(let st=Me;st>=0;st--)if(F(pe.body[st]))return st;return Me}else return pe.body.findIndex((st,lt)=>lt===Me||z(st))}function K(pe,ye){for(let Me=ye.length-1;Me>=0;Me--)if(ye[Me].typeMap.has(pe))return ye[Me].typeMap.get(pe)}function Q(pe,ye){for(let Me=ye.length-1;Me>=0;Me--)if(ye[Me].declKindMap.has(pe))return ye[Me].declKindMap.get(pe)}function X(pe,ye,Me){Me[Me.length-1].typeMap.set(pe,ye)}function te(pe,ye,Me){Me[Me.length-1].declKindMap.set(pe,ye)}function se(pe){pe.push({typeMap:new Map,declKindMap:new Map})}function J(pe,ye,Me,st=!1){try{return le(pe,ye,Me,st)}catch(lt){if(lt instanceof a.InternalCyclicReferenceError)return u(new e.CyclicReferenceError(pe)),Me;throw lt}}function le(pe,ye,Me,st=!1){const lt=pe.inferredType;switch(pe.type){case"UnaryExpression":{const Xe=pe.operator==="-"?w:pe.operator,we=K(Xe,ye),Ue=pe.argument,ht=Ue.inferredType,tt=[];let At=J(Ue,ye,Me);tt.push(k(Ue.inferredType,At));try{At=$(At,[De(ht,lt),we])}catch(vt){if(vt instanceof a.UnifyError){const St=we.parameterTypes;return u(new e.InvalidArgumentTypesError(pe,[Ue],St,tt)),At}}return At}case"LogicalExpression":{const Xe=pe.left,we=Xe.inferredType,Ue=pe.right,ht=Ue.inferredType;let tt=Me;tt=$(Me,[lt,ve]),tt=J(Xe,ye,tt);const At=k(Xe.inferredType,tt);let vt;if(pe.operator==="&&"){const St=V(pe.left,ye);St.length>0&&(tt=O(pe,St,pe.right,st,ye,tt),vt=k(Ue.inferredType,tt))}else if(pe.operator==="||"){const St=U(pe.left,ye);St.length>0&&(tt=O(pe,St,pe.right,st,ye,tt),vt=k(Ue.inferredType,tt))}vt===void 0&&(tt=J(Ue,ye,tt),vt=k(Ue.inferredType,tt));try{tt=$(Me,[we,ve]),tt=$(Me,[ht,ve])}catch(St){St instanceof a.UnifyError&&u(new e.InvalidArgumentTypesError(pe,[Xe,Ue],[ve,ve],[At,vt]))}return tt}case"BinaryExpression":{const Xe=K(pe.operator,ye),we=Xe.kind==="forall"?R(Xe):Xe.kind==="predicate"?L():Xe,Ue=pe.left,ht=Ue.inferredType,tt=pe.right,At=tt.inferredType,vt=[Ue,tt];let St=Me;const Ot=[];vt.forEach(nt=>{St=J(nt,ye,St),Ot.push(k(nt.inferredType,St))});try{St=$(Me,[De(ht,At,lt),we])}catch(nt){if(nt instanceof a.UnifyError){const jt=we.parameterTypes;u(new e.InvalidArgumentTypesError(pe,vt,jt,Ot))}}return St}case"ExpressionStatement":return J(pe.expression,ye,$(Me,[lt,Qe]));case"ReturnStatement":{const Xe=pe.argument;return J(Xe,ye,$(Me,[lt,Xe.inferredType]))}case"WhileStatement":{const Xe=pe.test,we=Xe.inferredType,Ue=pe.body,ht=Ue.inferredType;let tt=$(Me,[lt,ht]);try{tt=J(Xe,ye,tt),tt=$(tt,[we,ve])}catch(At){At instanceof a.UnifyError&&u(new e.InvalidTestConditionError(pe,At.RHS))}return J(Ue,ye,tt,st)}case"ForStatement":{const Xe=pe.init,we=pe.test,Ue=we.inferredType,ht=pe.body,tt=ht.inferredType,At=pe.update;let vt=$(Me,[lt,tt]);if(se(ye),Xe.type==="VariableDeclaration"&&Xe.kind!=="var"&&Xe.declarations[0].id.type==="Identifier"){const Ot=Xe.declarations[0].id.name;X(Ot,Xe.declarations[0].init.inferredType,ye),te(Ot,Xe.kind,ye),vt=J(Xe,ye,vt),X(Ot,ke(k(Xe.declarations[0].init.inferredType,vt)),ye)}else vt=J(Xe,ye,vt);try{vt=J(we,ye,vt),vt=$(vt,[Ue,ve])}catch(Ot){Ot instanceof a.UnifyError&&u(new e.InvalidTestConditionError(pe,Ot.RHS))}vt=J(At,ye,vt);const St=J(ht,ye,vt,st);return ye.pop(),St}case"Program":case"BlockStatement":{se(ye);for(const nt of pe.body)if(nt.type==="ImportDeclaration")for(const jt of nt.specifiers)jt.type==="ImportSpecifier"&&jt.local.type==="Identifier"&&(X(jt.local.name,ke(ue("T1")),ye),te(jt.local.name,"const",ye));const Xe=pe.body.length-1,we=q(pe,st);let Ue=-1,ht=!1,tt=Xe;const At=[];for(;tt>=0;){const nt=pe.body[tt];(nt.type==="FunctionDeclaration"||nt.type==="VariableDeclaration")&&(ht||(ht=!0,Ue=tt),At.push(nt)),tt--}At.forEach(nt=>{if(nt.type==="FunctionDeclaration"&&nt.id!==null){const jt=nt.id.name;X(jt,nt.functionInferredType,ye),te(jt,"const",ye)}else if(nt.type==="VariableDeclaration"&&nt.kind!=="var"&&nt.declarations[0].id.type==="Identifier"){const jt=nt.declarations[0].id.name;X(jt,nt.declarations[0].init.inferredType,ye),te(jt,nt.kind,ye)}});const vt=pe.body[we],St=st&&vt.type==="ExpressionStatement"?vt.expression.inferredType:vt.inferredType;let Ot=$(Me,[lt,St]);for(let nt=0;nt<=Ue;nt++)nt===we?Ot=J(pe.body[nt],ye,Ot,st):Ot=J(pe.body[nt],ye,Ot);At.forEach(nt=>{nt.type==="FunctionDeclaration"&&nt.id!==null?X(nt.id.name,ke(k(nt.functionInferredType,Ot)),ye):nt.type==="VariableDeclaration"&&nt.declarations[0].id.type==="Identifier"&&X(nt.declarations[0].id.name,ke(k(nt.declarations[0].init.inferredType,Ot)),ye)});for(let nt=Ue+1;nt<=Xe;nt++){const jt=pe.body[nt];nt===we?Ot=J(jt,ye,Ot,st):Ot=J(jt,ye,Ot)}return pe.type==="BlockStatement"&&ye.pop(),Ot}case"Literal":{const Xe=pe.value,we=typeof Xe;if(Xe===null)return $(Me,[lt,Re(ue(g++))]);if(we==="number")return $(Me,[lt,he]);if(we==="boolean")return $(Me,[lt,ve]);if(we==="string")return $(Me,[lt,Le]);throw Error("Unexpected literal type")}case"Identifier":{const Xe=pe.name,we=K(Xe,ye);return we!==void 0?we.kind==="forall"?$(Me,[lt,R(we)]):we.kind==="predicate"?$(Me,[lt,A()]):$(Me,[lt,we]):(u(new e.UndefinedIdentifierError(pe,Xe)),Me)}case"ConditionalExpression":case"IfStatement":{const Xe=pe.test,we=Xe.inferredType,Ue=pe.consequent,ht=Ue.inferredType,tt=pe.alternate,At=tt.inferredType;let vt=Me;try{vt=J(Xe,ye,vt),vt=$(vt,[we,ve])}catch(nt){nt instanceof a.UnifyError&&u(new e.InvalidTestConditionError(pe,nt.RHS))}const St=V(Xe,ye),Ot=U(Xe,ye);if(St.length>0)vt=B(pe,St,Ue,tt,st,ye,vt);else if(Ot.length>0)vt=B(pe,Ot,tt,Ue,st,ye,vt);else{vt=J(Ue,ye,vt,st);try{vt=J(tt,ye,vt,st)}catch(nt){nt instanceof a.UnifyError&&u(new e.ConsequentAlternateMismatchError(pe,nt.RHS,nt.LHS))}}try{vt=$(vt,[lt,ht]),vt=$(vt,[lt,At])}catch(nt){nt instanceof a.UnifyError&&u(new e.ConsequentAlternateMismatchError(pe,nt.RHS,nt.LHS))}return vt}case"ArrowFunctionExpression":{se(ye);const Xe=pe.params,we=Xe.map(At=>At.inferredType),Ue=pe.body;we.push(Ue.inferredType);const ht=$(Me,[lt,De(...we)]);Xe.forEach(At=>{X(At.name,At.inferredType,ye)});const tt=J(Ue,ye,ht);return ye.pop(),tt}case"VariableDeclaration":{const Xe=pe.declarations[0].init;return J(Xe,ye,$(Me,[lt,Qe]))}case"FunctionDeclaration":{const Xe=pe;let we=$(Me,[lt,Qe]);se(ye);const Ue=Xe.functionInferredType,ht=pe.params,tt=ht.map(St=>St.inferredType),At=pe.body;tt.push(At.inferredType),we=$(we,[Ue,De(...tt)]),ht.forEach(St=>{X(St.name,St.inferredType,ye)});const vt=J(At,ye,we);return ye.pop(),vt}case"CallExpression":{const Xe=pe.callee,we=Xe.inferredType,Ue=pe.arguments,ht=Ue.map(St=>St.inferredType);ht.push(lt);let tt=Me;tt=J(Xe,ye,tt);const At=k(Xe.inferredType,tt),vt=[];Ue.forEach(St=>{tt=J(St,ye,tt),vt.push(k(St.inferredType,tt))});try{tt=$(Me,[De(...ht),we])}catch(St){if(St instanceof a.UnifyError)if(At.kind==="function"){const Ot=At.parameterTypes;u(new e.InvalidArgumentTypesError(pe,Ue,Ot,vt))}else u(new e.CallingNonFunctionType(pe,At));else St instanceof a.InternalDifferentNumberArgumentsError&&u(new e.DifferentNumberArgumentsError(pe,St.numExpectedArgs,St.numReceived))}return tt}case"AssignmentExpression":{const Xe=pe.left,we=pe.right,Ue=we.inferredType,ht=Xe.inferredType;let tt=$(Me,[lt,Ue]);if(tt=J(we,ye,tt),Xe.type==="Identifier"&&Q(Xe.name,ye)==="const")return u(new e.ReassignConstError(pe)),tt;tt=J(Xe,ye,tt);try{return $(tt,[Ue,ht])}catch(At){At instanceof a.UnifyError&&(Xe.type==="Identifier"?u(new e.DifferentAssignmentError(pe,k(ht,tt),k(Ue,tt))):u(new e.ArrayAssignmentError(pe,me(k(ht,tt)),me(k(Ue,tt)))))}return tt}case"ArrayExpression":{let Xe=Me;const we=pe.elements;we.forEach(ht=>{Xe=J(ht,ye,Xe)});const Ue=ue(g++);return Xe=$(Xe,[lt,me(Ue)]),we.forEach(ht=>{try{Xe=$(Xe,[Ue,ht.inferredType])}catch(tt){tt instanceof a.UnifyError&&u(new e.ArrayAssignmentError(pe,k(pe.inferredType,Xe),me(k(ht.inferredType,Xe))))}}),Xe}case"MemberExpression":{const we=pe.object.name,Ue=pe.property,ht=Ue.inferredType;let tt=J(Ue,ye,Me);const At=K(we,ye);if(At.kind==="predicate")throw At.ifTrueType.kind==="forall"?new a.InternalTypeError(`Expected ${we} to be an array, got ${(0,i.typeToString)(R(At.ifTrueType))}`):new a.InternalTypeError(`Expected ${we} to be an array, got ${(0,i.typeToString)(At.ifTrueType)}`);if(At.kind==="forall")throw new a.InternalTypeError(`Expected ${we} to be an array, got ${(0,i.typeToString)(R(At))}`);const vt=k(At,tt);if(vt.kind!=="array")throw new a.InternalTypeError(`Expected ${we} to be an array, got ${(0,i.typeToString)(vt)}`);const St=vt.elementType;try{tt=$(Me,[ht,he])}catch(Ot){Ot instanceof a.UnifyError&&u(new e.InvalidArrayIndexType(pe,k(ht,tt)))}return $(tt,[lt,St])}default:return $(Me,[lt,Qe])}}function ce(pe){return{kind:"primitive",name:pe}}function ue(pe){return{kind:"variable",name:`T${pe}`,constraint:"none"}}typeChecker.tVar=ue;function Ie(pe){return{kind:"variable",name:`${pe}`,constraint:"addable"}}function Te(pe,ye){return{kind:"pair",headType:pe,tailType:ye}}function Re(pe){return{kind:"list",elementType:pe}}function ke(pe){return{kind:"forall",polyType:pe}}typeChecker.tForAll=ke;function me(pe){return{kind:"array",elementType:pe}}const ve=ce("boolean"),he=ce("number"),Le=ce("string"),Qe=ce("undefined");function De(...pe){const ye=pe.slice(0,-1),Me=pe.slice(-1)[0];return{kind:"function",parameterTypes:ye,returnType:Me}}function xt(pe){return{kind:"predicate",ifTrueType:pe}}const Mt=[["Infinity",he],["NaN",he],["undefined",Qe],["math_E",he],["math_LN2",he],["math_LN10",he],["math_LOG2E",he],["math_LOG10E",he],["math_PI",he],["math_SQRT1_2",he],["math_SQRT2",he],["is_boolean",xt(ve)],["is_number",xt(he)],["is_string",xt(Le)],["is_undefined",xt(Qe)],["is_function",xt(ke(De(ue("T"),ue("U"))))],["math_abs",De(he,he)],["math_acos",De(he,he)],["math_acosh",De(he,he)],["math_asin",De(he,he)],["math_asinh",De(he,he)],["math_atan",De(he,he)],["math_atan2",De(he,he,he)],["math_atanh",De(he,he)],["math_cbrt",De(he,he)],["math_ceil",De(he,he)],["math_clz32",De(he,he)],["math_cos",De(he,he)],["math_cosh",De(he,he)],["math_exp",De(he,he)],["math_expm1",De(he,he)],["math_floor",De(he,he)],["math_fround",De(he,he)],["math_hypot",ke(ue("T"))],["math_imul",De(he,he,he)],["math_log",De(he,he)],["math_log1p",De(he,he)],["math_log2",De(he,he)],["math_log10",De(he,he)],["math_max",ke(ue("T"))],["math_min",ke(ue("T"))],["math_pow",De(he,he,he)],["math_random",De(he)],["math_round",De(he,he)],["math_sign",De(he,he)],["math_sin",De(he,he)],["math_sinh",De(he,he)],["math_sqrt",De(he,he)],["math_tan",De(he,he)],["math_tanh",De(he,he)],["math_trunc",De(he,he)],["parse_int",De(Le,he,he)],["prompt",De(Le,Le)],["get_time",De(he)],["stringify",ke(De(ue("T"),Le))],["display",ke(ue("T"))],["error",ke(ue("T"))]],$t=ue("headType"),tr=ue("tailType"),br=[["pair",ke(De($t,tr,Te($t,tr)))],["head",ke(De(Te($t,tr),$t))],["tail",ke(De(Te($t,tr),tr))],["is_pair",xt(ke(Te($t,tr)))],["is_null",xt(ke(Re(ue("T"))))],["is_list",xt(ke(Re(ue("T"))))]],dr=[["set_head",ke(De(Te($t,tr),$t,Qe))],["set_tail",ke(De(Te($t,tr),tr,Qe))]],Ne=[["is_array",xt(ke(me(ue("T"))))],["array_length",ke(De(me(ue("T")),he))]],He=[["list",ke(ue("T1"))]],_t=[[w,De(he,he)],["!",De(ve,ve)],["&&",ke(De(ve,ue("T"),ue("T")))],["||",ke(De(ve,ue("T"),ue("T")))],["<",ke(De(Ie("A"),Ie("A"),ve))],["<=",ke(De(Ie("A"),Ie("A"),ve))],[">",ke(De(Ie("A"),Ie("A"),ve))],[">=",ke(De(Ie("A"),Ie("A"),ve))],["+",ke(De(Ie("A"),Ie("A"),Ie("A")))],["%",De(he,he,he)],["-",De(he,he,he)],["*",De(he,he,he)],["/",De(he,he,he)]],Ve=[["===",ke(De(Ie("A"),Ie("A"),ve))],["!==",ke(De(Ie("A"),Ie("A"),ve))]],ft=[["===",ke(De(ue("T1"),ue("T2"),ve))],["!==",ke(De(ue("T1"),ue("T2"),ve))]],Je=[["is_stream",ke(De(ue("T1"),ve))],["list_to_stream",ke(De(Re(ue("T1")),ue("T2")))],["stream_to_list",ke(De(ue("T1"),Re(ue("T2"))))],["stream_length",ke(De(ue("T1"),he))],["stream_map",ke(De(ue("T1"),ue("T2")))],["build_stream",ke(De(he,De(he,ue("T1")),ue("T2")))],["stream_for_each",ke(De(De(ue("T1"),ue("T2")),ve))],["stream_reverse",ke(De(ue("T1"),ue("T1")))],["stream_append",ke(De(ue("T1"),ue("T1"),ue("T1")))],["stream_member",ke(De(ue("T1"),ue("T2"),ue("T2")))],["stream_remove",ke(De(ue("T1"),ue("T2"),ue("T2")))],["stream_remove_all",ke(De(ue("T1"),ue("T2"),ue("T2")))],["stream_filter",ke(De(De(ue("T1"),ve),ue("T2"),ue("T2")))],["enum_stream",ke(De(he,he,ue("T1")))],["integers_from",ke(De(he,ue("T1")))],["eval_stream",ke(De(ue("T1"),he,Re(ue("T2"))))],["stream_ref",ke(De(ue("T1"),he,ue("T2")))]];function Pt(pe){const ye=[...Mt,..._t];return pe>=2&&ye.push(...br,...He),pe>=3?ye.push(...ft,...dr,...Ne):ye.push(...Ve),[{typeMap:new Map(ye),declKindMap:new Map(ye.map(Me=>[Me[0],"const"]))}]}return typeChecker.createTypeEnvironment=Pt,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importBuiltins=e.importExternalSymbols=e.defineBuiltin=e.defineSymbol=e.ensureGlobalEnvironmentExist=e.createEmptyContext=e.createGlobalEnvironment=e.EnvTreeNode=e.EnvTree=e.LazyBuiltIn=void 0;const n=requireConstants(),i=requireLib(),a=requireSchedulers(),w=requireLazyList_prelude(),g=requireList(),y=requireList(),b=requireList_prelude(),d=requireMisc(),f=requireNonDet_prelude(),c=requireParser(),s=requireStream(),o=requireStream_prelude(),u=requireTypeChecker(),h=requireTypes(),m=requireMakeWrapper(),v=requireOperators(),T=requireStringify();class x{constructor(Q,X){this.func=Q,this.evaluateArgs=X}}e.LazyBuiltIn=x;class R{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Q){const X=Q.tail;if(X===null)this._root===null&&(this._root=new k(Q,null),this.map.set(Q,this._root));else{const te=this.map.get(X);if(te){const se=new k(Q,te);te.addChild(se),this.map.set(Q,se)}}}getTreeNode(Q){return this.map.get(Q)}}e.EnvTree=R;class k{constructor(Q,X){this.environment=Q,this.parent=X,this._children=[]}get children(){return this._children}resetChildren(Q){this.clearChildren(),this.addChildren(Q),Q.forEach(X=>X.parent=this)}clearChildren(){this._children=[]}addChildren(Q){this._children.push(...Q)}addChild(Q){return this._children.push(Q),Q}}e.EnvTreeNode=k;const C=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new R,environments:[],value:void 0,nodes:[]}),S=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new a.AsyncScheduler}}),N=()=>({tail:null,name:"global",head:{},id:"-1"});e.createGlobalEnvironment=N;const L=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(v)),gpu:new Map(Object.entries(i)),maxExecTime:n.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),A=(K,Q=h.Variant.DEFAULT,X,te)=>({chapter:K,externalSymbols:X,errors:[],externalContext:te,runtime:C(),numberOfOuterEnvironments:1,prelude:null,debugger:S(),nativeStorage:L(),executionMethod:"auto",variant:Q,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,u.createTypeEnvironment)(K),previousCode:[]});e.createEmptyContext=A;const $=K=>{if(K.runtime||(K.runtime=C()),K.runtime.environments||(K.runtime.environments=[]),K.runtime.environmentTree||(K.runtime.environmentTree=new R),K.runtime.environments.length===0){const Q=(0,e.createGlobalEnvironment)();K.runtime.environments.push(Q),K.runtime.environmentTree.insert(Q)}};e.ensureGlobalEnvironmentExist=$;const O=(K,Q,X)=>{const te=K.runtime.environments[0];Object.defineProperty(te.head,Q,{value:X,writable:!1,enumerable:!0}),K.nativeStorage.builtins.set(Q,X);const se=K.typeEnvironment[0];se.declKindMap.has(Q)||(se.typeMap.set(Q,(0,u.tForAll)((0,u.tVar)("T1"))),se.declKindMap.set(Q,"const"))};e.defineSymbol=O;function B(K,Q,X,te=void 0){if(typeof X=="function"){const se=Q.split("(")[0].trim(),J=`function ${Q} {
	[implementation hidden]
}`;X.toString=()=>J,X.minArgsNeeded=te,(0,e.defineSymbol)(K,se,X)}else if(X instanceof x){const se=(...ce)=>X.func(...ce),J=Q.split("(")[0].trim(),le=`function ${Q} {
	[implementation hidden]
}`;se.toString=()=>le,(0,m.makeWrapper)(X.func,se),(0,e.defineSymbol)(K,J,new x(se,X.evaluateArgs))}else(0,e.defineSymbol)(K,Q,X)}e.defineBuiltin=B;const z=(K,Q)=>{(0,e.ensureGlobalEnvironmentExist)(K),Q.forEach(X=>{(0,e.defineSymbol)(K,X,n.GLOBAL[X])})};e.importExternalSymbols=z;const F=(K,Q)=>{(0,e.ensureGlobalEnvironmentExist)(K);const X=(ue,...Ie)=>Q.rawDisplay(ue,Ie[0],K.externalContext),te=(ue,...Ie)=>{if(Ie.length===1&&Ie[0]!==void 0&&typeof Ie[0]!="string")throw new TypeError("display expects the second argument to be a string");return X((0,T.stringify)(ue),Ie[0]),ue},se=(ue,...Ie)=>{if(Ie.length===1&&Ie[0]!==void 0&&typeof Ie[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return g.rawDisplayList(te,ue,Ie[0])},J=ue=>{const Ie=Date.now(),Te=Q.prompt(ue,"",K.externalContext);return K.nativeStorage.maxExecTime+=Date.now()-Ie,Te},le=ue=>{const Ie=Date.now();Q.alert(ue,"",K.externalContext),K.nativeStorage.maxExecTime+=Date.now()-Ie},ce=(...ue)=>(Q.visualiseList(ue,K.externalContext),ue[0]);if(K.chapter>=1){B(K,"get_time()",d.get_time),B(K,"display(val, prepend = undefined)",te,1),B(K,"raw_display(str, prepend = undefined)",X,1),B(K,"stringify(val, indent = 2, maxLineLength = 80)",T.stringify,1),B(K,"error(str, prepend = undefined)",d.error_message,1),B(K,"prompt(str)",J),B(K,"is_number(val)",d.is_number),B(K,"is_string(val)",d.is_string),B(K,"is_function(val)",d.is_function),B(K,"is_boolean(val)",d.is_boolean),B(K,"is_undefined(val)",d.is_undefined),B(K,"parse_int(str, radix)",d.parse_int),B(K,"char_at(str, index)",d.char_at),B(K,"arity(f)",d.arity),B(K,"undefined",void 0),B(K,"NaN",NaN),B(K,"Infinity",1/0);const ue=Object.getOwnPropertyNames(Math),Ie=[..."abcdefghijklmnopqrstuvwxyz"];for(const Te of ue){const Re=Math[Te];if(typeof Re=="function"){let ke,me;Te==="max"||Te==="min"?(ke="...values",me=0):ke=Ie.slice(0,Re.length).join(", "),B(K,`math_${Te}(${ke})`,Re,me)}else B(K,`math_${Te}`,Re)}}K.chapter>=2&&(K.variant===h.Variant.LAZY?(B(K,"pair(left, right)",new x(g.pair,!1)),B(K,"list(...values)",new x(g.list,!1),0),B(K,"is_pair(val)",new x(g.is_pair,!0)),B(K,"head(xs)",new x(g.head,!0)),B(K,"tail(xs)",new x(g.tail,!0)),B(K,"is_null(val)",new x(g.is_null,!0)),B(K,"draw_data(...xs)",new x(ce,!0),1),B(K,"is_list(val)",new x(g.is_list,!0))):(B(K,"pair(left, right)",g.pair),B(K,"is_pair(val)",g.is_pair),B(K,"head(xs)",g.head),B(K,"tail(xs)",g.tail),B(K,"is_null(val)",g.is_null),B(K,"list(...values)",g.list,0),B(K,"draw_data(...xs)",ce,1),B(K,"display_list(val, prepend = undefined)",se,0),B(K,"is_list(val)",g.is_list))),K.chapter>=3&&(B(K,"set_head(xs, val)",g.set_head),B(K,"set_tail(xs, val)",g.set_tail),B(K,"array_length(arr)",d.array_length),B(K,"is_array(val)",d.is_array),B(K,"stream_tail(stream)",s.stream_tail),B(K,"stream(...values)",s.stream,0)),K.chapter>=4&&(B(K,"parse(program_string)",ue=>c.parse(ue,q(K.chapter))),B(K,"tokenize(program_string)",ue=>c.tokenize(ue,q(K.chapter))),B(K,"apply_in_underlying_javascript(fun, args)",(ue,Ie)=>ue.apply(ue,(0,y.list_to_vector)(Ie))),K.variant===h.Variant.GPU&&(B(K,"__clearKernelCache()",i.__clearKernelCache),B(K,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",i.__createKernelSource))),K.chapter===h.Chapter.LIBRARY_PARSER&&(B(K,"is_object(val)",d.is_object),B(K,"is_NaN(val)",d.is_NaN),B(K,"has_own_property(obj, prop)",d.has_own_property),B(K,"alert(val)",le),B(K,"timed(fun)",ue=>d.timed(K,ue,K.externalContext,Q.rawDisplay))),K.variant===h.Variant.LAZY&&(B(K,"wrapLazyCallee(f)",new x(v.wrapLazyCallee,!0)),B(K,"makeLazyFunction(f)",new x(v.makeLazyFunction,!0)),B(K,"forceIt(val)",new x(v.forceIt,!0)),B(K,"delayIt(xs)",new x(v.delayIt,!0)))};e.importBuiltins=F;function V(K){let Q="";K.chapter>=2&&(Q+=K.variant===h.Variant.LAZY?w.lazyListPrelude:b.listPrelude),K.chapter>=3&&(Q+=o.streamPrelude),K.variant===h.Variant.NON_DET&&(Q+=f.nonDetPrelude),Q!==""&&(K.prelude=Q)}const U={rawDisplay:d.rawDisplay,prompt:d.rawDisplay,alert:d.rawDisplay,visualiseList:K=>{throw new Error("List visualizer is not enabled")}},q=(K=h.Chapter.SOURCE_1,Q=h.Variant.DEFAULT,X=[],te,se=U)=>{if(K===h.Chapter.FULL_JS)return Object.assign(Object.assign({},q(h.Chapter.SOURCE_4,Q,X,te,se)),{chapter:h.Chapter.FULL_JS});const J=(0,e.createEmptyContext)(K,Q,X,te);return(0,e.importBuiltins)(J,se),V(J),(0,e.importExternalSymbols)(J,X),J};e.default=q}(createContext)),createContext}var hasRequiredSicp;function requireSicp(){if(hasRequiredSicp)return sicp;hasRequiredSicp=1,Object.defineProperty(sicp,"__esModule",{value:!0});const n=requireCreateContext().default(4).nativeStorage.builtins;n.get("get_time"),n.get("display"),n.get("raw_display");const i=n.get("stringify");n.get("error"),n.get("prompt");const a=n.get("is_number"),w=n.get("is_string"),g=n.get("is_function"),y=n.get("is_boolean"),b=n.get("is_undefined");n.get("parse_int"),n.get("char_at");const d=n.get("arity");n.get("math_abs"),n.get("math_acos"),n.get("math_acosh"),n.get("math_asin"),n.get("math_asinh"),n.get("math_atan"),n.get("math_atanh"),n.get("math_atan2"),n.get("math_ceil"),n.get("math_cbrt"),n.get("math_expm1"),n.get("math_clz32"),n.get("math_cos"),n.get("math_cosh"),n.get("math_exp"),n.get("math_floor"),n.get("math_fround"),n.get("math_hypot"),n.get("math_imul"),n.get("math_log"),n.get("math_log1p"),n.get("math_log2"),n.get("math_log10"),n.get("math_max"),n.get("math_min"),n.get("math_pow"),n.get("math_random"),n.get("math_round"),n.get("math_sign"),n.get("math_sin"),n.get("math_sinh"),n.get("math_sqrt"),n.get("math_tan"),n.get("math_tanh"),n.get("math_trunc"),n.get("math_E"),n.get("math_LN10"),n.get("math_LN2"),n.get("math_LOG10E"),n.get("math_LOG2E"),n.get("math_PI"),n.get("math_SQRT1_2"),n.get("math_SQRT2");const f=n.get("pair"),c=n.get("is_pair"),s=n.get("head"),o=n.get("tail"),u=n.get("is_null"),h=n.get("list");n.get("draw_data"),n.get("display_list"),n.get("is_list"),n.get("set_head"),n.get("set_tail"),n.get("array_length"),n.get("is_array");const m=n.get("stream_tail");n.get("stream"),n.get("parse"),n.get("tokenize"),n.get("apply_in_underlying_javascript");function v(Ne,He){return c(Ne)?c(He)&&v(s(Ne),s(He))&&v(o(Ne),o(He)):u(Ne)?u(He):a(Ne)?a(He)&&Ne===He:y(Ne)?y(He)&&(Ne&&He||!Ne&&!He):w(Ne)?w(He)&&Ne===He:b(Ne)?b(He):g(Ne)?g(He)&&Ne===He:!1}function T(Ne,He){return u(Ne)?He:T(o(Ne),He+1)}function x(Ne){return T(Ne,0)}function R(Ne,He,_t){return u(He)?O(_t):R(Ne,o(He),f(Ne(s(He)),_t))}function k(Ne,He){return R(Ne,He,null)}function C(Ne,He,_t){return Ne<0?_t:C(Ne-1,He,f(He(Ne),_t))}function S(Ne,He){return C(He-1,Ne,null)}function N(Ne,He){return u(He)?!0:(Ne(s(He)),N(Ne,o(He)))}function L(Ne,He){return u(Ne)?He("null"):c(Ne)?L(s(Ne),_t=>L(o(Ne),Ve=>He("["+_t+","+Ve+"]"))):He(i(Ne))}function A(Ne){return L(Ne,He=>He)}function $(Ne,He){return u(Ne)?He:$(o(Ne),f(s(Ne),He))}function O(Ne){return $(Ne,null)}function B(Ne,He,_t){return u(Ne)?_t(He):B(o(Ne),He,Ve=>_t(f(s(Ne),Ve)))}function z(Ne,He){return B(Ne,He,_t=>_t)}function F(Ne,He){return u(He)?null:Ne===s(He)?He:F(Ne,o(He))}function V(Ne,He,_t){const Ve=z,ft=O;return u(He)?Ve(ft(_t),He):Ne===s(He)?Ve(ft(_t),o(He)):V(Ne,o(He),f(s(He),_t))}function U(Ne,He){return V(Ne,He,null)}function q(Ne,He,_t){const Ve=z,ft=O;return u(He)?Ve(ft(_t),He):Ne===s(He)?q(Ne,o(He),_t):q(Ne,o(He),f(s(He),_t))}function K(Ne,He){return q(Ne,He,null)}function Q(Ne,He,_t){return u(He)?O(_t):Ne(s(He))?Q(Ne,o(He),f(s(He),_t)):Q(Ne,o(He),_t)}function X(Ne,He){return Q(Ne,He,null)}function te(Ne,He,_t){const Ve=O;return Ne>He?Ve(_t):te(Ne+1,He,f(Ne,_t))}function se(Ne,He){return te(Ne,He,null)}function J(Ne,He){return He===0?s(Ne):J(o(Ne),He-1)}function le(Ne,He,_t,Ve){return u(_t)?Ve(He):le(Ne,He,o(_t),ft=>Ve(Ne(s(_t),ft)))}function ce(Ne,He,_t){return le(Ne,He,_t,Ve=>Ve)}function ue(Ne){return u(Ne)||c(Ne)&&g(o(Ne))&&d(o(Ne))===0&&ue(m(Ne))}function Ie(Ne){return u(Ne)?null:f(s(Ne),()=>Ie(o(Ne)))}function Te(Ne){return u(Ne)?null:f(s(Ne),Te(m(Ne)))}function Re(Ne){return u(Ne)?0:1+Re(m(Ne))}function ke(Ne,He){return u(He)?null:f(Ne(s(He)),()=>ke(Ne,m(He)))}function me(Ne,He){function _t(Ve){return Ve>=He?null:f(Ne(Ve),()=>_t(Ve+1))}return _t(0)}function ve(Ne,He){return u(He)?!0:(Ne(s(He)),ve(Ne,m(He)))}function he(Ne){function He(_t,Ve){return u(_t)?Ve:He(m(_t),f(s(_t),()=>Ve))}return He(Ne,null)}function Le(Ne,He){return u(Ne)?He:f(s(Ne),()=>Le(m(Ne),He))}function Qe(Ne,He){return u(He)?null:s(He)===Ne?He:Qe(Ne,m(He))}function De(Ne,He){return u(He)?null:Ne===s(He)?m(He):f(s(He),()=>De(Ne,m(He)))}function xt(Ne,He){return u(He)?null:Ne===s(He)?xt(Ne,m(He)):f(s(He),()=>xt(Ne,m(He)))}function Mt(Ne,He){return u(He)?null:Ne(s(He))?f(s(He),()=>Mt(Ne,m(He))):Mt(Ne,m(He))}function $t(Ne,He){return Ne>He?null:f(Ne,()=>$t(Ne+1,He))}function tr(Ne){return f(Ne,()=>tr(Ne+1))}function br(Ne,He){function _t(Ve,ft){return ft===1?h(s(Ve)):f(s(Ve),_t(m(Ve),ft-1))}return He===0?null:_t(Ne,He)}function dr(Ne,He){return He===0?s(Ne):dr(m(Ne),He-1)}return sicp.equal=v,sicp.$length=T,sicp.length=x,sicp.$map=R,sicp.map=k,sicp.$build_list=C,sicp.build_list=S,sicp.for_each=N,sicp.$list_to_string=L,sicp.list_to_string=A,sicp.$reverse=$,sicp.reverse=O,sicp.$append=B,sicp.append=z,sicp.member=F,sicp.$remove=V,sicp.remove=U,sicp.$remove_all=q,sicp.remove_all=K,sicp.$filter=Q,sicp.filter=X,sicp.$enum_list=te,sicp.enum_list=se,sicp.list_ref=J,sicp.$accumulate=le,sicp.accumulate=ce,sicp.is_stream=ue,sicp.list_to_stream=Ie,sicp.stream_to_list=Te,sicp.stream_length=Re,sicp.stream_map=ke,sicp.build_stream=me,sicp.stream_for_each=ve,sicp.stream_reverse=he,sicp.stream_append=Le,sicp.stream_member=Qe,sicp.stream_remove=De,sicp.stream_remove_all=xt,sicp.stream_filter=Mt,sicp.enum_stream=$t,sicp.integers_from=tr,sicp.eval_stream=br,sicp.stream_ref=dr,sicp.get_time=n.get("get_time"),sicp.display=n.get("display"),sicp.raw_display=n.get("raw_display"),sicp.stringify=n.get("stringify"),sicp.error=n.get("error"),sicp.prompt=n.get("prompt"),sicp.is_number=n.get("is_number"),sicp.is_string=n.get("is_string"),sicp.is_function=n.get("is_function"),sicp.is_boolean=n.get("is_boolean"),sicp.is_undefined=n.get("is_undefined"),sicp.parse_int=n.get("parse_int"),sicp.char_at=n.get("char_at"),sicp.arity=n.get("arity"),sicp.math_abs=n.get("math_abs"),sicp.math_acos=n.get("math_acos"),sicp.math_acosh=n.get("math_acosh"),sicp.math_asin=n.get("math_asin"),sicp.math_asinh=n.get("math_asinh"),sicp.math_atan=n.get("math_atan"),sicp.math_atanh=n.get("math_atanh"),sicp.math_atan2=n.get("math_atan2"),sicp.math_ceil=n.get("math_ceil"),sicp.math_cbrt=n.get("math_cbrt"),sicp.math_expm1=n.get("math_expm1"),sicp.math_clz32=n.get("math_clz32"),sicp.math_cos=n.get("math_cos"),sicp.math_cosh=n.get("math_cosh"),sicp.math_exp=n.get("math_exp"),sicp.math_floor=n.get("math_floor"),sicp.math_fround=n.get("math_fround"),sicp.math_hypot=n.get("math_hypot"),sicp.math_imul=n.get("math_imul"),sicp.math_log=n.get("math_log"),sicp.math_log1p=n.get("math_log1p"),sicp.math_log2=n.get("math_log2"),sicp.math_log10=n.get("math_log10"),sicp.math_max=n.get("math_max"),sicp.math_min=n.get("math_min"),sicp.math_pow=n.get("math_pow"),sicp.math_random=n.get("math_random"),sicp.math_round=n.get("math_round"),sicp.math_sign=n.get("math_sign"),sicp.math_sin=n.get("math_sin"),sicp.math_sinh=n.get("math_sinh"),sicp.math_sqrt=n.get("math_sqrt"),sicp.math_tan=n.get("math_tan"),sicp.math_tanh=n.get("math_tanh"),sicp.math_trunc=n.get("math_trunc"),sicp.math_E=n.get("math_E"),sicp.math_LN10=n.get("math_LN10"),sicp.math_LN2=n.get("math_LN2"),sicp.math_LOG10E=n.get("math_LOG10E"),sicp.math_LOG2E=n.get("math_LOG2E"),sicp.math_PI=n.get("math_PI"),sicp.math_SQRT1_2=n.get("math_SQRT1_2"),sicp.math_SQRT2=n.get("math_SQRT2"),sicp.pair=n.get("pair"),sicp.is_pair=n.get("is_pair"),sicp.head=n.get("head"),sicp.tail=n.get("tail"),sicp.is_null=n.get("is_null"),sicp.list=n.get("list"),sicp.draw_data=n.get("draw_data"),sicp.display_list=n.get("display_list"),sicp.is_list=n.get("is_list"),sicp.set_head=n.get("set_head"),sicp.set_tail=n.get("set_tail"),sicp.array_length=n.get("array_length"),sicp.is_array=n.get("is_array"),sicp.stream_tail=n.get("stream_tail"),sicp.stream=n.get("stream"),sicp.parse=n.get("parse"),sicp.tokenize=n.get("tokenize"),sicp.apply_in_underlying_javascript=n.get("apply_in_underlying_javascript"),sicp}var sicpExports=requireSicp();function list_to_array(e){return sicpExports.is_null(e)?[]:[sicpExports.head(e)].concat(list_to_array(sicpExports.tail(e)))}function parameters(e){return sicpExports.map(n=>sicpExports.head(n)==="rest_element"?{tag:"rest",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(n))))}:sicpExports.head(sicpExports.tail(n)),e)}function objectify(e){switch(sicpExports.head(e)){case"literal":return{tag:"lit",val:sicpExports.head(sicpExports.tail(e))};case"name":return{tag:"nam",sym:sicpExports.head(sicpExports.tail(e))};case"application":return{tag:"app",fun:objectify(sicpExports.head(sicpExports.tail(e))),args:list_to_array(sicpExports.map(objectify,sicpExports.head(sicpExports.tail(sicpExports.tail(e)))))};case"logical_composition":return{tag:"log",sym:sicpExports.head(sicpExports.tail(e)),frst:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),scnd:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"binary_operator_combination":return{tag:"binop",sym:sicpExports.head(sicpExports.tail(e)),frst:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),scnd:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"object_access":return{tag:"arr_acc",arr:objectify(sicpExports.head(sicpExports.tail(e))),ind:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e))))),ind:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(sicpExports.map(objectify,sicpExports.head(sicpExports.tail(e))))};case"unary_operator_combination":return{tag:"unop",sym:sicpExports.head(sicpExports.tail(e)),frst:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(sicpExports.head(sicpExports.tail(e)))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"sequence":return{tag:"seq",stmts:list_to_array(sicpExports.map(objectify,sicpExports.head(sicpExports.tail(e))))};case"block":return{tag:"blk",body:objectify(sicpExports.head(sicpExports.tail(e)))};case"variable_declaration":return{tag:"let",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"constant_declaration":return{tag:"const",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"assignment":return{tag:"assmt",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),expr:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(sicpExports.head(sicpExports.tail(e))),cons:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),alt:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"while_loop":return{tag:"while",pred:objectify(sicpExports.head(sicpExports.tail(e))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))};case"for_loop":return{tag:"for",init:objectify(sicpExports.head(sicpExports.tail(e))),pred:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),upd:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e))))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(sicpExports.tail(e))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(sicpExports.head(sicpExports.tail(e))),cons:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(e)))),alt:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"function_declaration":return{tag:"fun",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e)))),prms:list_to_array(parameters(sicpExports.head(sicpExports.tail(sicpExports.tail(e))))),body:objectify(sicpExports.head(sicpExports.tail(sicpExports.tail(sicpExports.tail(e)))))};case"return_statement":return{tag:"ret",expr:objectify(sicpExports.head(sicpExports.tail(e)))};case"import_declaration":return{tag:"import",syms:sicpExports.map(n=>sicpExports.head(sicpExports.tail(n)),sicpExports.head(sicpExports.tail(e))),from:sicpExports.head(sicpExports.tail(sicpExports.tail(e)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:sicpExports.head(sicpExports.tail(sicpExports.head(sicpExports.tail(e))))};case"property":return{tag:"prop",sym:sicpExports.head(sicpExports.tail(e))};default:throw sicpExports.error(e,"unknown syntax:")}}function parse_into_json(e){const n=objectify(sicpExports.parse(e));return JSON.stringify(n)}function parseIntoJsonChunks(e){const n=objectify(sicpExports.parse(e));return convertToJsonChunks(n)}function convertToJsonChunks(e,n=1500){if(JSON.stringify(e).length<=n)return[JSON.stringify(e)];switch(e.tag){case"app":case"arr_acc":case"arr_assmt":case"arr_lit":case"assmt":case"binop":case"blk":case"break":case"cond_expr":case"cond_stmt":case"const":case"cont":case"for":case"fun":case"import":case"lam":case"let":case"lit":case"log":case"nam":case"prop":case"ret":return[JSON.stringify(e)];case"seq":const i=[];let a=0;for(const y of e.stmts){if(a+=JSON.stringify(y).length,a>n&&i.length>1)break;i.push(y)}const w=e.stmts.slice(i.length);return i.push({tag:"pause_for_input"}),[JSON.stringify({tag:"seq",stmts:i})].concat(convertToJsonChunks({tag:"seq",stmts:w}));case"spread":case"this":case"unop":case"while":case"pause_for_input":return[JSON.stringify(e)]}}const readUntilPrompt=async(e,n=0,i=()=>{})=>{const a=e.readable.getReader(),w=n&&setTimeout(()=>{throw a.releaseLock(),e.close(),new Error("Timed Out.")},n);let g="";for(;;){const{value:y,done:b}=await a.read(),d=new TextDecoder().decode(y);g+=d;const f=g.split(`
`);for(const c of f.slice(0,f.length))i(c);if(g=f[f.length-1],g.substring(0,4)==">>> "||b)return n&&clearTimeout(w),i(g),a.releaseLock(),b}},writeLines=async(e,...n)=>{const i=e.writable.getWriter();for(const a of n){const w=new TextEncoder().encode(a+`
`),g=100;for(let y=0;y<w.length;y+=g){const b=w.slice(y,y+g);await i.write(b),await sleep(10)}}i.releaseLock()},processRawOutput=e=>{let n=e.trim();const i=[">>>",">OK",">"];for(const w of i)n.startsWith(w)&&(n=n.substring(w.length).trim());const a="raw REPL; CTRL-B to exit";if(n.startsWith(a)&&(n=n.substring(a.length).trim()),!!n)return n},runProgram=async(e,n)=>{console.log("Sending program chunk..."),await writeLines(e,RAW_MODE_ENTER,n,RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(e,0,i=>{const a=processRawOutput(i);a&&console.log(a)}),console.log("Sending chunk complete...")},sleep=e=>new Promise(n=>setTimeout(n,e)),cleanProgram=e=>e.replaceAll(/(^#|\s#) ?.*$/gm,"").replaceAll(/\n\n\n+/gm,`

`),getInterpreterLib=async()=>(await __vitePreload(async()=>{const{default:e}=await import("./index-Bg2lWxxV.js");return{default:e}},[])).default,getSourceThreePrelude=async()=>(await __vitePreload(async()=>{const{sourceThreePrelude:e}=await import("./index-C9Zpxbc1.js");return{sourceThreePrelude:e}},[])).sourceThreePrelude,{setCurrentLanguage,setEditorValue,resetEditorValues}=WorkspaceActions,EditorPage=()=>{const[e,n]=reactExports.useState(""),i=useTypedDispatch(),a=useTypedSelector(m=>m.workspace.currentLanguage),w=reactExports.useCallback(m=>i(setCurrentLanguage(m)),[i]),g=useTypedSelector(m=>m.workspace.editorValue[a]),y=reactExports.useCallback(m=>i(setEditorValue(m)),[i]),[b,d]=reactExports.useState(!1),[f,c]=reactExports.useState(),[s,o]=reactExports.useState();reactExports.useEffect(()=>{f||b&&getSourceThreePrelude().then(c)},[b]),reactExports.useEffect(()=>{s||a===Languages.SOURCE_THREE_INTERPRETER&&getInterpreterLib().then(o)},[a]);const u=async()=>{if(a===Languages.SOURCE_THREE_INTERPRETER)try{parse_into_json(g),n("")}catch(v){n("[ERROR] "+v);return}const m=await navigator.serial.requestPort();switch(await m.open({baudRate:BAUD_RATE_SPIKE_PRIME}),await writeLines(m,KEYBOARD_INTERRUPT),await readUntilPrompt(m,2e3),a){case Languages.PYTHON:await runProgram(m,cleanProgram(g));break;case Languages.SOURCE_THREE_INTERPRETER:if(!s)throw new Error("Interpreter not loaded");if(await runProgram(m,cleanProgram(s.prefix)),await runProgram(m,cleanProgram(s.prefix2)),await runProgram(m,cleanProgram(s.spikeMicrocode)),b){if(!f)throw new Error("Preludes not loaded");for(const x of f){console.log("Sending prelude chunk");const R=parse_into_json(x);await writeLines(m,RAW_MODE_ENTER,"json_prelude = '''\\",...R.match(/.{1,1000}/g).map(k=>k+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(m,0,k=>{const C=processRawOutput(k);C&&console.log(C)}),console.log("Sending prelude chunk complete"),await runProgram(m,cleanProgram(s.evaluatePrelude))}}console.log("Sending JSON program");const v=parseIntoJsonChunks(g),T=v[0];await writeLines(m,RAW_MODE_ENTER,"json_string = '''\\",...T.match(/.{1,500}/g).map(x=>x+"\\"),"'''",RAW_MODE_COMPILE,RAW_MODE_EXIT),await readUntilPrompt(m,0,x=>{const R=processRawOutput(x);R&&console.log(R)}),console.log("Sending JSON program complete"),await writeLines(m,RAW_MODE_ENTER,cleanProgram(s.suffix),RAW_MODE_COMPILE,...v.slice(1).flatMap(x=>[x,RAW_MODE_COMPILE]),RAW_MODE_EXIT),await readUntilPrompt(m,0,x=>{const R=processRawOutput(x);R&&console.log(R)});break}await writeLines(m,END_OF_TRANSMISSION),m.close()},h=()=>{try{n(parse_into_json(g))}catch(m){n("[ERROR] "+m)}};return reactExports.useEffect(()=>{const m=queryString.parse(location.hash),v=lzStringExports.decompressFromEncodedURIComponent(m.prgrm);v&&(w(Languages.SOURCE_THREE_INTERPRETER),y(v))},[]),reactExports.useEffect(()=>{resetEditorValues(a),n("")},[a,y]),jsxRuntimeExports.jsx(Box,{className:"App",children:jsxRuntimeExports.jsxs(SimpleGrid,{columns:{sm:1,lg:3},spacingX:{sm:0,lg:8},spacingY:8,children:[jsxRuntimeExports.jsx(GridItem,{colSpan:2,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Heading,{children:"SEKER: Source–SPIKE Prime Runner"}),jsxRuntimeExports.jsx(UserGuide,{}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsxs(Text,{fontStyle:"italic",color:"orange.500",children:["Note: Support for ",Languages.SOURCE_THREE_INTERPRETER," Programs is in beta!"]}),e&&jsxRuntimeExports.jsx(JsonDisplay,{jsonProgram:e}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",children:"Select language mode:"}),jsxRuntimeExports.jsx(LanguageSelector,{}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Checkbox,{isChecked:b,onChange:()=>d(m=>!m),children:"Prelude"}),jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ButtonGroup,{size:"sm",children:[jsxRuntimeExports.jsx(Button,{onClick:u,children:"Run on Device"}),a===Languages.SOURCE_THREE_INTERPRETER&&jsxRuntimeExports.jsx(Button,{onClick:h,children:"Parse into JSON"})]})]}),jsxRuntimeExports.jsx(Box,{borderRadius:6,overflow:"clip",children:jsxRuntimeExports.jsx(Editor,{name:"editor",onChange:y,value:g,wrapEnabled:!0})})]})}),jsxRuntimeExports.jsx(GridItem,{children:jsxRuntimeExports.jsx(SampleProgramSidebar,{})})]})})},rootReducer=combineReducers({workspace}),store=configureStore({reducer:rootReducer}),App=()=>jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(EditorPage,{})}),config={initialColorMode:"system",useSystemColorMode:!0},theme=extendTheme({config,fonts:{heading:"Inter, Avenir, Helvetica, Arial, sans-serif",body:"Inter, Avenir, Helvetica, Arial, sans-serif"}});ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React.StrictMode,{children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(App,{})})]}));
