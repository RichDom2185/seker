(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const ft of document.querySelectorAll('link[rel="modulepreload"]'))d(ft);new MutationObserver(ft=>{for(const $ of ft)if($.type==="childList")for(const it of $.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&d(it)}).observe(document,{childList:!0,subtree:!0});function i(ft){const $={};return ft.integrity&&($.integrity=ft.integrity),ft.referrerpolicy&&($.referrerPolicy=ft.referrerpolicy),ft.crossorigin==="use-credentials"?$.credentials="include":ft.crossorigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function d(ft){if(ft.ep)return;ft.ep=!0;const $=i(ft);fetch(ft.href,$)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){var s=e.default;if(typeof s=="function"){var i=function(){return s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(d){var ft=Object.getOwnPropertyDescriptor(e,d);Object.defineProperty(i,d,ft.get?ft:{enumerable:!0,get:function(){return e[d]}})}),i}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var d,ft={},$=null,it=null;if(s!=null)for(d in s.ref!==void 0&&(it=s.ref),s.key!==void 0&&($=""+s.key),s)J.call(s,d)&&!L$1.hasOwnProperty(d)&&(ft[d]=s[d]);var nt=arguments.length-2;if(nt===1)ft.children=i;else if(1<nt){for(var _=Array(nt),b=0;b<nt;b++)_[b]=arguments[b+2];ft.children=_}if(e&&e.defaultProps)for(d in nt=e.defaultProps,nt)ft[d]===void 0&&(ft[d]=nt[d]);return{$$typeof:l$1,type:e,key:$,ref:it,props:ft,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):s.toString(36)}function R$1(e,s,i,d,ft){var $=typeof e;($==="undefined"||$==="boolean")&&(e=null);var it=!1;if(e===null)it=!0;else switch($){case"string":case"number":it=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:it=!0}}if(it)return it=e,ft=ft(it),e=d===""?"."+Q$1(it,0):d,I$1(ft)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(ft,s,i,"",function(b){return b})):ft!=null&&(O$1(ft)&&(ft=N$1(ft,i+(!ft.key||it&&it.key===ft.key?"":(""+ft.key).replace(P$1,"$&/")+"/")+e)),s.push(ft)),1;if(it=0,d=d===""?".":d+":",I$1(e))for(var nt=0;nt<e.length;nt++){$=e[nt];var _=d+Q$1($,nt);it+=R$1($,s,i,_,ft)}else if(_=A$1(e),typeof _=="function")for(e=_.call(e),nt=0;!($=e.next()).done;)$=$.value,_=d+Q$1($,nt++),it+=R$1($,s,i,_,ft);else if($==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return it}function S$1(e,s,i){if(e==null)return e;var d=[],ft=0;return R$1(e,d,"","",function($){return s.call(i,$,ft++)}),d}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var d=C$1({},e.props),ft=e.key,$=e.ref,it=e._owner;if(s!=null){if(s.ref!==void 0&&($=s.ref,it=K$1.current),s.key!==void 0&&(ft=""+s.key),e.type&&e.type.defaultProps)var nt=e.type.defaultProps;for(_ in s)J.call(s,_)&&!L$1.hasOwnProperty(_)&&(d[_]=s[_]===void 0&&nt!==void 0?nt[_]:s[_])}var _=arguments.length-2;if(_===1)d.children=i;else if(1<_){nt=Array(_);for(var b=0;b<_;b++)nt[b]=arguments[b+2];d.children=nt}return{$$typeof:l$1,type:e.type,key:ft,ref:$,props:d,_owner:it}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(e){e.exports=react_production_min})(react);const React$3=getDefaultExportFromCjs(react.exports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Ct,Rt){var zt=Ct.length;Ct.push(Rt);e:for(;0<zt;){var Xt=zt-1>>>1,Pt=Ct[Xt];if(0<ft(Pt,Rt))Ct[Xt]=Rt,Ct[zt]=Pt,zt=Xt;else break e}}function i(Ct){return Ct.length===0?null:Ct[0]}function d(Ct){if(Ct.length===0)return null;var Rt=Ct[0],zt=Ct.pop();if(zt!==Rt){Ct[0]=zt;e:for(var Xt=0,Pt=Ct.length,Mt=Pt>>>1;Xt<Mt;){var jt=2*(Xt+1)-1,Zt=Ct[jt],Yt=jt+1,fn=Ct[Yt];if(0>ft(Zt,zt))Yt<Pt&&0>ft(fn,Zt)?(Ct[Xt]=fn,Ct[Yt]=zt,Xt=Yt):(Ct[Xt]=Zt,Ct[jt]=zt,Xt=jt);else if(Yt<Pt&&0>ft(fn,zt))Ct[Xt]=fn,Ct[Yt]=zt,Xt=Yt;else break e}}return Rt}function ft(Ct,Rt){var zt=Ct.sortIndex-Rt.sortIndex;return zt!==0?zt:Ct.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;e.unstable_now=function(){return $.now()}}else{var it=Date,nt=it.now();e.unstable_now=function(){return it.now()-nt}}var _=[],b=[],c=1,a=null,o=3,h=!1,g=!1,tt=!1,at=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ut(Ct){for(var Rt=i(b);Rt!==null;){if(Rt.callback===null)d(b);else if(Rt.startTime<=Ct)d(b),Rt.sortIndex=Rt.expirationTime,s(_,Rt);else break;Rt=i(b)}}function ct(Ct){if(tt=!1,ut(Ct),!g)if(i(_)!==null)g=!0,kt(rt);else{var Rt=i(b);Rt!==null&&Vt(ct,Rt.startTime-Ct)}}function rt(Ct,Rt){g=!1,tt&&(tt=!1,ht(ot),ot=-1),h=!0;var zt=o;try{for(ut(Rt),a=i(_);a!==null&&(!(a.expirationTime>Rt)||Ct&&!mt());){var Xt=a.callback;if(typeof Xt=="function"){a.callback=null,o=a.priorityLevel;var Pt=Xt(a.expirationTime<=Rt);Rt=e.unstable_now(),typeof Pt=="function"?a.callback=Pt:a===i(_)&&d(_),ut(Rt)}else d(_);a=i(_)}if(a!==null)var Mt=!0;else{var jt=i(b);jt!==null&&Vt(ct,jt.startTime-Rt),Mt=!1}return Mt}finally{a=null,o=zt,h=!1}}var st=!1,vt=null,ot=-1,et=5,lt=-1;function mt(){return!(e.unstable_now()-lt<et)}function xt(){if(vt!==null){var Ct=e.unstable_now();lt=Ct;var Rt=!0;try{Rt=vt(!0,Ct)}finally{Rt?wt():(st=!1,vt=null)}}else st=!1}var wt;if(typeof _e=="function")wt=function(){_e(xt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Tt=St.port2;St.port1.onmessage=xt,wt=function(){Tt.postMessage(null)}}else wt=function(){at(xt,0)};function kt(Ct){vt=Ct,st||(st=!0,wt())}function Vt(Ct,Rt){ot=at(function(){Ct(e.unstable_now())},Rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ct){Ct.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,kt(rt))},e.unstable_forceFrameRate=function(Ct){0>Ct||125<Ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<Ct?Math.floor(1e3/Ct):5},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_getFirstCallbackNode=function(){return i(_)},e.unstable_next=function(Ct){switch(o){case 1:case 2:case 3:var Rt=3;break;default:Rt=o}var zt=o;o=Rt;try{return Ct()}finally{o=zt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ct,Rt){switch(Ct){case 1:case 2:case 3:case 4:case 5:break;default:Ct=3}var zt=o;o=Ct;try{return Rt()}finally{o=zt}},e.unstable_scheduleCallback=function(Ct,Rt,zt){var Xt=e.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?Xt+zt:Xt):zt=Xt,Ct){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=zt+Pt,Ct={id:c++,callback:Rt,priorityLevel:Ct,startTime:zt,expirationTime:Pt,sortIndex:-1},zt>Xt?(Ct.sortIndex=zt,s(b,Ct),i(_)===null&&Ct===i(b)&&(tt?(ht(ot),ot=-1):tt=!0,Vt(ct,zt-Xt))):(Ct.sortIndex=Pt,s(_,Ct),g||h||(g=!0,kt(rt))),Ct},e.unstable_shouldYield=mt,e.unstable_wrapCallback=function(Ct){var Rt=o;return function(){var zt=o;o=Rt;try{return Ct.apply(this,arguments)}finally{o=zt}}}})(scheduler_production_min);(function(e){e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$1(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,d){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,d){if(s===null||typeof s>"u"||pa(e,s,i,d))return!0;if(d)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,d,ft,$,it){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=ft,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=$,this.removeEmptyString=it}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,d){var ft=z.hasOwnProperty(s)?z[s]:null;(ft!==null?ft.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,ft,d)&&(i=null),d||ft===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):ft.mustUseProperty?e[ft.propertyName]=i===null?ft.type===3?!1:"":i:(s=ft.attributeName,d=ft.attributeNamespace,i===null?e.removeAttribute(s):(ft=ft.type,i=ft===3||ft===4&&i===!0?"":""+i,d?e.setAttributeNS(d,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var d=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){d=b}e.call(s.prototype)}else{try{throw Error()}catch(b){d=b}e()}}catch(b){if(b&&d&&typeof b.stack=="string"){for(var ft=b.stack.split(`
`),$=d.stack.split(`
`),it=ft.length-1,nt=$.length-1;1<=it&&0<=nt&&ft[it]!==$[nt];)nt--;for(;1<=it&&0<=nt;it--,nt--)if(ft[it]!==$[nt]){if(it!==1||nt!==1)do if(it--,nt--,0>nt||ft[it]!==$[nt]){var _=`
`+ft[it].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=it&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),d=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var ft=i.get,$=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return ft.call(this)},set:function(it){d=""+it,$.call(this,it)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return d},setValue:function(it){d=""+it},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),d="";return e&&(d=Ta(e)?e.checked?"true":"false":e.value),e=d,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i!=null?i:e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:d,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),d=s.type;if(i!=null)d==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,d){if(e=e.options,s){s={};for(var ft=0;ft<i.length;ft++)s["$"+i[ft]]=!0;for(i=0;i<e.length;i++)ft=s.hasOwnProperty("$"+e[i].value),e[i].selected!==ft&&(e[i].selected=ft),ft&&d&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,ft=0;ft<e.length;ft++){if(e[ft].value===i){e[ft].selected=!0,d&&(e[ft].defaultSelected=!0);return}s!==null||e[ft].disabled||(s=e[ft])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p$1(92));if(eb(i)){if(1<i.length)throw Error(p$1(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),d=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),d!=null&&(e.defaultValue=""+d)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,d,ft){MSApp.execUnsafeLocalFunction(function(){return e(s,i,d,ft)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var d=i.indexOf("--")===0,ft=rb(i,s[i],d);i==="float"&&(i="cssFloat"),d?e.setProperty(i,ft):e[i]=ft}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$1(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var d=Db(i);if(d===null)return null;i=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p$1(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,d,ft,$,it,nt,_){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(c){this.onError(c)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,d,ft,$,it,nt,_){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,d,ft,$,it,nt,_){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$1(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p$1(188));return s!==e?null:e}for(var i=e,d=s;;){var ft=i.return;if(ft===null)break;var $=ft.alternate;if($===null){if(d=ft.return,d!==null){i=d;continue}break}if(ft.child===$.child){for($=ft.child;$;){if($===i)return Xb(ft),e;if($===d)return Xb(ft),s;$=$.sibling}throw Error(p$1(188))}if(i.return!==d.return)i=ft,d=$;else{for(var it=!1,nt=ft.child;nt;){if(nt===i){it=!0,i=ft,d=$;break}if(nt===d){it=!0,d=ft,i=$;break}nt=nt.sibling}if(!it){for(nt=$.child;nt;){if(nt===i){it=!0,i=$,d=ft;break}if(nt===d){it=!0,d=$,i=ft;break}nt=nt.sibling}if(!it)throw Error(p$1(189))}}if(i.alternate!==d)throw Error(p$1(190))}if(i.tag!==3)throw Error(p$1(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var d=0,ft=e.suspendedLanes,$=e.pingedLanes,it=i&268435455;if(it!==0){var nt=it&~ft;nt!==0?d=tc(nt):($&=it,$!==0&&(d=tc($)))}else it=i&~ft,it!==0?d=tc(it):$!==0&&(d=tc($));if(d===0)return 0;if(s!==0&&s!==d&&(s&ft)===0&&(ft=d&-d,$=s&-s,ft>=$||ft===16&&($&4194240)!==0))return s;if((d&4)!==0&&(d|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=d;0<s;)i=31-oc(s),ft=1<<i,d|=e[i],s&=~ft;return d}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,d=e.pingedLanes,ft=e.expirationTimes,$=e.pendingLanes;0<$;){var it=31-oc($),nt=1<<it,_=ft[it];_===-1?((nt&i)===0||(nt&d)!==0)&&(ft[it]=vc(nt,s)):_<=s&&(e.expiredLanes|=nt),$&=~nt}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<i;){var ft=31-oc(i),$=1<<ft;s[ft]=0,d[ft]=-1,e[ft]=-1,i&=~$}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var d=31-oc(i),ft=1<<d;ft&s|e[d]&s&&(e[d]|=s),i&=~ft}}var C=0;function Dc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,d,ft,$){return e===null||e.nativeEvent!==$?(e={blockedOn:s,domEventName:i,eventSystemFlags:d,nativeEvent:$,targetContainers:[ft]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=d,s=e.targetContainers,ft!==null&&s.indexOf(ft)===-1&&s.push(ft),e)}function Uc(e,s,i,d,ft){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,d,ft),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,d,ft),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,d,ft),!0;case"pointerover":var $=ft.pointerId;return Oc.set($,Tc(Oc.get($)||null,e,s,i,d,ft)),!0;case"gotpointercapture":return $=ft.pointerId,Pc.set($,Tc(Pc.get($)||null,e,s,i,d,ft)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var d=new i.constructor(i.type,i);wb=d,i.target.dispatchEvent(d),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(ft){return ad(ft,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var d=Kc[i];d.blockedOn===e&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)d=Qc[i],d.blockedOn===e&&(d.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,d){var ft=C,$=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,d)}finally{C=ft,cd.transition=$}}function gd(e,s,i,d){var ft=C,$=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,d)}finally{C=ft,cd.transition=$}}function fd(e,s,i,d){if(dd){var ft=Yc(e,s,i,d);if(ft===null)hd(e,s,d,id,i),Sc(e,d);else if(Uc(ft,e,s,i,d))d.stopPropagation();else if(Sc(e,d),s&4&&-1<Rc.indexOf(e)){for(;ft!==null;){var $=Cb(ft);if($!==null&&Ec($),$=Yc(e,s,i,d),$===null&&hd(e,s,d,id,i),$===ft)break;ft=$}ft!==null&&d.stopPropagation()}else hd(e,s,d,null,i)}}var id=null;function Yc(e,s,i,d){if(id=null,e=xb(d),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,d,ft="value"in kd?kd.value:kd.textContent,$=ft.length;for(e=0;e<i&&s[e]===ft[e];e++);var it=i-e;for(d=1;d<=it&&s[i-d]===ft[$-d];d++);return md=ft.slice(e,1<d?1-d:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,d,ft,$,it){this._reactName=i,this._targetInst=ft,this.type=d,this.nativeEvent=$,this.target=it,this.currentTarget=null;for(var nt in e)e.hasOwnProperty(nt)&&(i=e[nt],this[nt]=i?i($):$[nt]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,d){Eb(d),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,d),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),d=Object.keys(s);if(i.length!==d.length)return!1;for(d=0;d<i.length;d++){var ft=i[d];if(!ja.call(s,ft)||!He(e[ft],s[ft]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var d;i;){if(i.nodeType===3){if(d=e+i.textContent.length,e<=s&&d>=s)return{node:i,offset:s-e};e=d}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,d=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(d!==null&&Ne(i)){if(s=d.start,e=d.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var ft=i.textContent.length,$=Math.min(d.start,ft);d=d.end===void 0?$:Math.min(d.end,ft),!e.extend&&$>d&&(ft=d,d=$,$=ft),ft=Ke(i,$);var it=Ke(i,d);ft&&it&&(e.rangeCount!==1||e.anchorNode!==ft.node||e.anchorOffset!==ft.offset||e.focusNode!==it.node||e.focusOffset!==it.offset)&&(s=s.createRange(),s.setStart(ft.node,ft.offset),e.removeAllRanges(),$>d?(e.addRange(s),e.extend(it.node,it.offset)):(s.setEnd(it.node,it.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var d=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:d}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var d=e.type||"unknown-event";e.currentTarget=i,Ub(d,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var d=e[i],ft=d.event;d=d.listeners;e:{var $=void 0;if(s)for(var it=d.length-1;0<=it;it--){var nt=d[it],_=nt.instance,b=nt.currentTarget;if(nt=nt.listener,_!==$&&ft.isPropagationStopped())break e;nf(ft,nt,b),$=_}else for(it=0;it<d.length;it++){if(nt=d[it],_=nt.instance,b=nt.currentTarget,nt=nt.listener,_!==$&&ft.isPropagationStopped())break e;nf(ft,nt,b),$=_}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var d=e+"__bubble";i.has(d)||(pf(s,e,2,!1),i.add(d))}function qf(e,s,i){var d=0;s&&(d|=4),pf(i,e,d,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,d){switch(jd(s)){case 1:var ft=ed;break;case 4:ft=gd;break;default:ft=fd}i=ft.bind(null,s,i,e),ft=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(ft=!0),d?ft!==void 0?e.addEventListener(s,i,{capture:!0,passive:ft}):e.addEventListener(s,i,!0):ft!==void 0?e.addEventListener(s,i,{passive:ft}):e.addEventListener(s,i,!1)}function hd(e,s,i,d,ft){var $=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var it=d.tag;if(it===3||it===4){var nt=d.stateNode.containerInfo;if(nt===ft||nt.nodeType===8&&nt.parentNode===ft)break;if(it===4)for(it=d.return;it!==null;){var _=it.tag;if((_===3||_===4)&&(_=it.stateNode.containerInfo,_===ft||_.nodeType===8&&_.parentNode===ft))return;it=it.return}for(;nt!==null;){if(it=Wc(nt),it===null)return;if(_=it.tag,_===5||_===6){d=$=it;continue e}nt=nt.parentNode}}d=d.return}Jb(function(){var b=$,c=xb(i),a=[];e:{var o=df.get(e);if(o!==void 0){var h=td,g=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":h=Rd;break;case"focusin":g="focus",h=Fd;break;case"focusout":g="blur",h=Fd;break;case"beforeblur":case"afterblur":h=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Vd;break;case $e:case af:case bf:h=Hd;break;case cf:h=Xd;break;case"scroll":h=vd;break;case"wheel":h=Zd;break;case"copy":case"cut":case"paste":h=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Td}var tt=(s&4)!==0,at=!tt&&e==="scroll",ht=tt?o!==null?o+"Capture":null:o;tt=[];for(var _e=b,ut;_e!==null;){ut=_e;var ct=ut.stateNode;if(ut.tag===5&&ct!==null&&(ut=ct,ht!==null&&(ct=Kb(_e,ht),ct!=null&&tt.push(tf(_e,ct,ut)))),at)break;_e=_e.return}0<tt.length&&(o=new h(o,g,null,i,c),a.push({event:o,listeners:tt}))}}if((s&7)===0){e:{if(o=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",o&&i!==wb&&(g=i.relatedTarget||i.fromElement)&&(Wc(g)||g[uf]))break e;if((h||o)&&(o=c.window===c?c:(o=c.ownerDocument)?o.defaultView||o.parentWindow:window,h?(g=i.relatedTarget||i.toElement,h=b,g=g?Wc(g):null,g!==null&&(at=Vb(g),g!==at||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=b),h!==g)){if(tt=Bd,ct="onMouseLeave",ht="onMouseEnter",_e="mouse",(e==="pointerout"||e==="pointerover")&&(tt=Td,ct="onPointerLeave",ht="onPointerEnter",_e="pointer"),at=h==null?o:ue(h),ut=g==null?o:ue(g),o=new tt(ct,_e+"leave",h,i,c),o.target=at,o.relatedTarget=ut,ct=null,Wc(c)===b&&(tt=new tt(ht,_e+"enter",g,i,c),tt.target=ut,tt.relatedTarget=at,ct=tt),at=ct,h&&g)t:{for(tt=h,ht=g,_e=0,ut=tt;ut;ut=vf(ut))_e++;for(ut=0,ct=ht;ct;ct=vf(ct))ut++;for(;0<_e-ut;)tt=vf(tt),_e--;for(;0<ut-_e;)ht=vf(ht),ut--;for(;_e--;){if(tt===ht||ht!==null&&tt===ht.alternate)break t;tt=vf(tt),ht=vf(ht)}tt=null}else tt=null;h!==null&&wf(a,o,h,tt,!1),g!==null&&at!==null&&wf(a,at,g,tt,!0)}}e:{if(o=b?ue(b):window,h=o.nodeName&&o.nodeName.toLowerCase(),h==="select"||h==="input"&&o.type==="file")var rt=ve;else if(me(o))if(we)rt=Fe;else{rt=De;var st=Ce}else(h=o.nodeName)&&h.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")&&(rt=Ee);if(rt&&(rt=rt(e,b))){ne(a,rt,i,c);break e}st&&st(e,o,b),e==="focusout"&&(st=o._wrapperState)&&st.controlled&&o.type==="number"&&cb(o,"number",o.value)}switch(st=b?ue(b):window,e){case"focusin":(me(st)||st.contentEditable==="true")&&(Qe=st,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(a,i,c);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(a,i,c)}var vt;if(ae)e:{switch(e){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ie?ge(e,i)&&(ot="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ot="onCompositionStart");ot&&(de&&i.locale!=="ko"&&(ie||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ie&&(vt=nd()):(kd=c,ld="value"in kd?kd.value:kd.textContent,ie=!0)),st=oe(b,ot),0<st.length&&(ot=new Ld(ot,e,null,i,c),a.push({event:ot,listeners:st}),vt?ot.data=vt:(vt=he(i),vt!==null&&(ot.data=vt)))),(vt=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&(c=new Ld("onBeforeInput","beforeinput",null,i,c),a.push({event:c,listeners:b}),c.data=vt))}se(a,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",d=[];e!==null;){var ft=e,$=ft.stateNode;ft.tag===5&&$!==null&&(ft=$,$=Kb(e,i),$!=null&&d.unshift(tf(e,$,ft)),$=Kb(e,s),$!=null&&d.push(tf(e,$,ft))),e=e.return}return d}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,d,ft){for(var $=s._reactName,it=[];i!==null&&i!==d;){var nt=i,_=nt.alternate,b=nt.stateNode;if(_!==null&&_===d)break;nt.tag===5&&b!==null&&(nt=b,ft?(_=Kb(i,$),_!=null&&it.unshift(tf(i,_,nt))):ft||(_=Kb(i,$),_!=null&&it.push(tf(i,_,nt)))),i=i.return}it.length!==0&&e.push({event:s,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,d=0;do{var ft=i.nextSibling;if(e.removeChild(i),ft&&ft.nodeType===8)if(i=ft.data,i==="/$"){if(d===0){e.removeChild(ft),bd(s);return}d--}else i!=="$"&&i!=="$?"&&i!=="$!"||d++;i=ft}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var ft={},$;for($ in i)ft[$]=s[$];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=ft),ft}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p$1(168));G(H,s),G(Wf,i)}function bg(e,s,i){var d=e.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return i;d=d.getChildContext();for(var ft in d)if(!(ft in s))throw Error(p$1(108,Ra(e)||"Unknown",ft));return A({},i,d)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var d=e.stateNode;if(!d)throw Error(p$1(169));i?(e=bg(e,s,Xf),d.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var d=i[e];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(ft){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),ft}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var d=rg;e=sg;var ft=32-oc(d)-1;d&=~(1<<ft),i+=1;var $=32-oc(s)+ft;if(30<$){var it=ft-ft%5;$=(d&(1<<it)-1).toString(32),d>>=it,ft-=it,rg=1<<32-oc(s)+ft|i<<ft|d,sg=$+e}else rg=1<<$|i<<ft|d,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p$1(418));s=Lf(i.nextSibling);var d=xg;s&&Cg(e,s)?Ag(d,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var s=Mg.current;E(Mg),e._currentValue=s}function Sg(e,s,i){for(;e!==null;){var d=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),e===i)break;e=e.return}}function Tg(e,s){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&s)!==0&&(Ug=!0),e.firstContext=null)}function Vg(e){var s=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return s}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,s,i,d){var ft=s.interleaved;return ft===null?(i.next=i,Xg(s)):(i.next=ft.next,ft.next=i),s.interleaved=i,Zg(e,d)}function Zg(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(e,s,i){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(K&2)!==0){var ft=d.pending;return ft===null?s.next=s:(s.next=ft.next,ft.next=s),d.pending=s,Zg(e,i)}return ft=d.interleaved,ft===null?(s.next=s,Xg(d)):(s.next=ft.next,ft.next=s),d.interleaved=s,Zg(e,i)}function eh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var d=s.lanes;d&=e.pendingLanes,i|=d,s.lanes=i,Cc(e,i)}}function fh(e,s){var i=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,i===d)){var ft=null,$=null;if(i=i.firstBaseUpdate,i!==null){do{var it={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};$===null?ft=$=it:$=$.next=it,i=i.next}while(i!==null);$===null?ft=$=s:$=$.next=s}else ft=$=s;i={baseState:d.baseState,firstBaseUpdate:ft,lastBaseUpdate:$,shared:d.shared,effects:d.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function gh(e,s,i,d){var ft=e.updateQueue;$g=!1;var $=ft.firstBaseUpdate,it=ft.lastBaseUpdate,nt=ft.shared.pending;if(nt!==null){ft.shared.pending=null;var _=nt,b=_.next;_.next=null,it===null?$=b:it.next=b,it=_;var c=e.alternate;c!==null&&(c=c.updateQueue,nt=c.lastBaseUpdate,nt!==it&&(nt===null?c.firstBaseUpdate=b:nt.next=b,c.lastBaseUpdate=_))}if($!==null){var a=ft.baseState;it=0,c=b=_=null,nt=$;do{var o=nt.lane,h=nt.eventTime;if((d&o)===o){c!==null&&(c=c.next={eventTime:h,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var g=e,tt=nt;switch(o=s,h=i,tt.tag){case 1:if(g=tt.payload,typeof g=="function"){a=g.call(h,a,o);break e}a=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=tt.payload,o=typeof g=="function"?g.call(h,a,o):g,o==null)break e;a=A({},a,o);break e;case 2:$g=!0}}nt.callback!==null&&nt.lane!==0&&(e.flags|=64,o=ft.effects,o===null?ft.effects=[nt]:o.push(nt))}else h={eventTime:h,lane:o,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},c===null?(b=c=h,_=a):c=c.next=h,it|=o;if(nt=nt.next,nt===null){if(nt=ft.shared.pending,nt===null)break;o=nt,nt=o.next,o.next=null,ft.lastBaseUpdate=o,ft.shared.pending=null}}while(1);if(c===null&&(_=a),ft.baseState=_,ft.firstBaseUpdate=b,ft.lastBaseUpdate=c,s=ft.shared.interleaved,s!==null){ft=s;do it|=ft.lane,ft=ft.next;while(ft!==s)}else $===null&&(ft.shared.lanes=0);hh|=it,e.lanes=it,e.memoizedState=a}}function ih(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var d=e[s],ft=d.callback;if(ft!==null){if(d.callback=null,d=i,typeof ft!="function")throw Error(p$1(191,ft));ft.call(d)}}}var jh=new aa.Component().refs;function kh(e,s,i,d){s=e.memoizedState,i=i(d,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var d=L(),ft=lh(e),$=ch(d,ft);$.payload=s,i!=null&&($.callback=i),s=dh(e,$,ft),s!==null&&(mh(s,e,ft,d),eh(s,e,ft))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var d=L(),ft=lh(e),$=ch(d,ft);$.tag=1,$.payload=s,i!=null&&($.callback=i),s=dh(e,$,ft),s!==null&&(mh(s,e,ft,d),eh(s,e,ft))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=L(),d=lh(e),ft=ch(i,d);ft.tag=2,s!=null&&(ft.callback=s),s=dh(e,ft,d),s!==null&&(mh(s,e,d,i),eh(s,e,d))}};function oh(e,s,i,d,ft,$,it){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,$,it):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,d)||!Ie(ft,$):!0}function ph(e,s,i){var d=!1,ft=Vf,$=s.contextType;return typeof $=="object"&&$!==null?$=Vg($):(ft=Zf(s)?Xf:H.current,d=s.contextTypes,$=(d=d!=null)?Yf(e,ft):Vf),s=new s(i,$),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,e.stateNode=s,s._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=ft,e.__reactInternalMemoizedMaskedChildContext=$),s}function qh(e,s,i,d){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,d),s.state!==e&&nh.enqueueReplaceState(s,s.state,null)}function rh(e,s,i,d){var ft=e.stateNode;ft.props=i,ft.state=e.memoizedState,ft.refs=jh,ah(e);var $=s.contextType;typeof $=="object"&&$!==null?ft.context=Vg($):($=Zf(s)?Xf:H.current,ft.context=Yf(e,$)),ft.state=e.memoizedState,$=s.getDerivedStateFromProps,typeof $=="function"&&(kh(e,s,$,i),ft.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof ft.getSnapshotBeforeUpdate=="function"||typeof ft.UNSAFE_componentWillMount!="function"&&typeof ft.componentWillMount!="function"||(s=ft.state,typeof ft.componentWillMount=="function"&&ft.componentWillMount(),typeof ft.UNSAFE_componentWillMount=="function"&&ft.UNSAFE_componentWillMount(),s!==ft.state&&nh.enqueueReplaceState(ft,ft.state,null),gh(e,i,ft,d),ft.state=e.memoizedState),typeof ft.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p$1(309));var d=i.stateNode}if(!d)throw Error(p$1(147,e));var ft=d,$=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===$?s.ref:(s=function(it){var nt=ft.refs;nt===jh&&(nt=ft.refs={}),it===null?delete nt[$]:nt[$]=it},s._stringRef=$,s)}if(typeof e!="string")throw Error(p$1(284));if(!i._owner)throw Error(p$1(290,e))}return e}function th(e,s){throw e=Object.prototype.toString.call(s),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function uh(e){var s=e._init;return s(e._payload)}function vh(e){function s(ht,_e){if(e){var ut=ht.deletions;ut===null?(ht.deletions=[_e],ht.flags|=16):ut.push(_e)}}function i(ht,_e){if(!e)return null;for(;_e!==null;)s(ht,_e),_e=_e.sibling;return null}function d(ht,_e){for(ht=new Map;_e!==null;)_e.key!==null?ht.set(_e.key,_e):ht.set(_e.index,_e),_e=_e.sibling;return ht}function ft(ht,_e){return ht=wh(ht,_e),ht.index=0,ht.sibling=null,ht}function $(ht,_e,ut){return ht.index=ut,e?(ut=ht.alternate,ut!==null?(ut=ut.index,ut<_e?(ht.flags|=2,_e):ut):(ht.flags|=2,_e)):(ht.flags|=1048576,_e)}function it(ht){return e&&ht.alternate===null&&(ht.flags|=2),ht}function nt(ht,_e,ut,ct){return _e===null||_e.tag!==6?(_e=xh(ut,ht.mode,ct),_e.return=ht,_e):(_e=ft(_e,ut),_e.return=ht,_e)}function _(ht,_e,ut,ct){var rt=ut.type;return rt===ya?c(ht,_e,ut.props.children,ct,ut.key):_e!==null&&(_e.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===_e.type)?(ct=ft(_e,ut.props),ct.ref=sh(ht,_e,ut),ct.return=ht,ct):(ct=yh(ut.type,ut.key,ut.props,null,ht.mode,ct),ct.ref=sh(ht,_e,ut),ct.return=ht,ct)}function b(ht,_e,ut,ct){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==ut.containerInfo||_e.stateNode.implementation!==ut.implementation?(_e=zh(ut,ht.mode,ct),_e.return=ht,_e):(_e=ft(_e,ut.children||[]),_e.return=ht,_e)}function c(ht,_e,ut,ct,rt){return _e===null||_e.tag!==7?(_e=Ah(ut,ht.mode,ct,rt),_e.return=ht,_e):(_e=ft(_e,ut),_e.return=ht,_e)}function a(ht,_e,ut){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=xh(""+_e,ht.mode,ut),_e.return=ht,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case va:return ut=yh(_e.type,_e.key,_e.props,null,ht.mode,ut),ut.ref=sh(ht,null,_e),ut.return=ht,ut;case wa:return _e=zh(_e,ht.mode,ut),_e.return=ht,_e;case Ha:var ct=_e._init;return a(ht,ct(_e._payload),ut)}if(eb(_e)||Ka(_e))return _e=Ah(_e,ht.mode,ut,null),_e.return=ht,_e;th(ht,_e)}return null}function o(ht,_e,ut,ct){var rt=_e!==null?_e.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number")return rt!==null?null:nt(ht,_e,""+ut,ct);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return ut.key===rt?_(ht,_e,ut,ct):null;case wa:return ut.key===rt?b(ht,_e,ut,ct):null;case Ha:return rt=ut._init,o(ht,_e,rt(ut._payload),ct)}if(eb(ut)||Ka(ut))return rt!==null?null:c(ht,_e,ut,ct,null);th(ht,ut)}return null}function h(ht,_e,ut,ct,rt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ht=ht.get(ut)||null,nt(_e,ht,""+ct,rt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return ht=ht.get(ct.key===null?ut:ct.key)||null,_(_e,ht,ct,rt);case wa:return ht=ht.get(ct.key===null?ut:ct.key)||null,b(_e,ht,ct,rt);case Ha:var st=ct._init;return h(ht,_e,ut,st(ct._payload),rt)}if(eb(ct)||Ka(ct))return ht=ht.get(ut)||null,c(_e,ht,ct,rt,null);th(_e,ct)}return null}function g(ht,_e,ut,ct){for(var rt=null,st=null,vt=_e,ot=_e=0,et=null;vt!==null&&ot<ut.length;ot++){vt.index>ot?(et=vt,vt=null):et=vt.sibling;var lt=o(ht,vt,ut[ot],ct);if(lt===null){vt===null&&(vt=et);break}e&&vt&&lt.alternate===null&&s(ht,vt),_e=$(lt,_e,ot),st===null?rt=lt:st.sibling=lt,st=lt,vt=et}if(ot===ut.length)return i(ht,vt),I&&tg(ht,ot),rt;if(vt===null){for(;ot<ut.length;ot++)vt=a(ht,ut[ot],ct),vt!==null&&(_e=$(vt,_e,ot),st===null?rt=vt:st.sibling=vt,st=vt);return I&&tg(ht,ot),rt}for(vt=d(ht,vt);ot<ut.length;ot++)et=h(vt,ht,ot,ut[ot],ct),et!==null&&(e&&et.alternate!==null&&vt.delete(et.key===null?ot:et.key),_e=$(et,_e,ot),st===null?rt=et:st.sibling=et,st=et);return e&&vt.forEach(function(mt){return s(ht,mt)}),I&&tg(ht,ot),rt}function tt(ht,_e,ut,ct){var rt=Ka(ut);if(typeof rt!="function")throw Error(p$1(150));if(ut=rt.call(ut),ut==null)throw Error(p$1(151));for(var st=rt=null,vt=_e,ot=_e=0,et=null,lt=ut.next();vt!==null&&!lt.done;ot++,lt=ut.next()){vt.index>ot?(et=vt,vt=null):et=vt.sibling;var mt=o(ht,vt,lt.value,ct);if(mt===null){vt===null&&(vt=et);break}e&&vt&&mt.alternate===null&&s(ht,vt),_e=$(mt,_e,ot),st===null?rt=mt:st.sibling=mt,st=mt,vt=et}if(lt.done)return i(ht,vt),I&&tg(ht,ot),rt;if(vt===null){for(;!lt.done;ot++,lt=ut.next())lt=a(ht,lt.value,ct),lt!==null&&(_e=$(lt,_e,ot),st===null?rt=lt:st.sibling=lt,st=lt);return I&&tg(ht,ot),rt}for(vt=d(ht,vt);!lt.done;ot++,lt=ut.next())lt=h(vt,ht,ot,lt.value,ct),lt!==null&&(e&&lt.alternate!==null&&vt.delete(lt.key===null?ot:lt.key),_e=$(lt,_e,ot),st===null?rt=lt:st.sibling=lt,st=lt);return e&&vt.forEach(function(xt){return s(ht,xt)}),I&&tg(ht,ot),rt}function at(ht,_e,ut,ct){if(typeof ut=="object"&&ut!==null&&ut.type===ya&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:e:{for(var rt=ut.key,st=_e;st!==null;){if(st.key===rt){if(rt=ut.type,rt===ya){if(st.tag===7){i(ht,st.sibling),_e=ft(st,ut.props.children),_e.return=ht,ht=_e;break e}}else if(st.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===st.type){i(ht,st.sibling),_e=ft(st,ut.props),_e.ref=sh(ht,st,ut),_e.return=ht,ht=_e;break e}i(ht,st);break}else s(ht,st);st=st.sibling}ut.type===ya?(_e=Ah(ut.props.children,ht.mode,ct,ut.key),_e.return=ht,ht=_e):(ct=yh(ut.type,ut.key,ut.props,null,ht.mode,ct),ct.ref=sh(ht,_e,ut),ct.return=ht,ht=ct)}return it(ht);case wa:e:{for(st=ut.key;_e!==null;){if(_e.key===st)if(_e.tag===4&&_e.stateNode.containerInfo===ut.containerInfo&&_e.stateNode.implementation===ut.implementation){i(ht,_e.sibling),_e=ft(_e,ut.children||[]),_e.return=ht,ht=_e;break e}else{i(ht,_e);break}else s(ht,_e);_e=_e.sibling}_e=zh(ut,ht.mode,ct),_e.return=ht,ht=_e}return it(ht);case Ha:return st=ut._init,at(ht,_e,st(ut._payload),ct)}if(eb(ut))return g(ht,_e,ut,ct);if(Ka(ut))return tt(ht,_e,ut,ct);th(ht,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"?(ut=""+ut,_e!==null&&_e.tag===6?(i(ht,_e.sibling),_e=ft(_e,ut),_e.return=ht,ht=_e):(i(ht,_e),_e=xh(ut,ht.mode,ct),_e.return=ht,ht=_e),it(ht)):i(ht,_e)}return at}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p$1(174));return e}function Ih(e,s){switch(G(Gh,s),G(Fh,e),G(Eh,Dh),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var s=Hh(Eh.current),i=lb(s,e.type);s!==i&&(G(Fh,e),G(Eh,i))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Xh(e,s,i,d,ft,$){if(Rh=$,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=i(d,ft),Th){$=0;do{if(Th=!1,Uh=0,25<=$)throw Error(p$1(301));$+=1,P=O=null,s.updateQueue=null,Ph.current=$h,e=i(d,ft)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p$1(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=e;else{if(e===null)throw Error(p$1(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,s){return typeof s=="function"?s(e):s}function fi(e){var s=di(),i=s.queue;if(i===null)throw Error(p$1(311));i.lastRenderedReducer=e;var d=O,ft=d.baseQueue,$=i.pending;if($!==null){if(ft!==null){var it=ft.next;ft.next=$.next,$.next=it}d.baseQueue=ft=$,i.pending=null}if(ft!==null){$=ft.next,d=d.baseState;var nt=it=null,_=null,b=$;do{var c=b.lane;if((Rh&c)===c)_!==null&&(_=_.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),d=b.hasEagerState?b.eagerState:e(d,b.action);else{var a={lane:c,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};_===null?(nt=_=a,it=d):_=_.next=a,N.lanes|=c,hh|=c}b=b.next}while(b!==null&&b!==$);_===null?it=d:_.next=nt,He(d,s.memoizedState)||(Ug=!0),s.memoizedState=d,s.baseState=it,s.baseQueue=_,i.lastRenderedState=d}if(e=i.interleaved,e!==null){ft=e;do $=ft.lane,N.lanes|=$,hh|=$,ft=ft.next;while(ft!==e)}else ft===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function gi(e){var s=di(),i=s.queue;if(i===null)throw Error(p$1(311));i.lastRenderedReducer=e;var d=i.dispatch,ft=i.pending,$=s.memoizedState;if(ft!==null){i.pending=null;var it=ft=ft.next;do $=e($,it.action),it=it.next;while(it!==ft);He($,s.memoizedState)||(Ug=!0),s.memoizedState=$,s.baseQueue===null&&(s.baseState=$),i.lastRenderedState=$}return[$,d]}function hi(){}function ii(e,s){var i=N,d=di(),ft=s(),$=!He(d.memoizedState,ft);if($&&(d.memoizedState=ft,Ug=!0),d=d.queue,ji(ki.bind(null,i,d,e),[e]),d.getSnapshot!==s||$||P!==null&&P.memoizedState.tag&1){if(i.flags|=2048,li(9,mi.bind(null,i,d,ft,s),void 0,null),R===null)throw Error(p$1(349));(Rh&30)!==0||ni(i,s,ft)}return ft}function ni(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function mi(e,s,i,d){s.value=i,s.getSnapshot=d,oi(s)&&pi(e)}function ki(e,s,i){return i(function(){oi(s)&&pi(e)})}function oi(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function pi(e){var s=Zg(e,1);s!==null&&mh(s,e,1,-1)}function qi(e){var s=ci();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},s.queue=e,e=e.dispatch=ri.bind(null,N,e),[s.memoizedState,e]}function li(e,s,i,d){return e={tag:e,create:s,destroy:i,deps:d,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(d=i.next,i.next=e,e.next=d,s.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,s,i,d){var ft=ci();N.flags|=e,ft.memoizedState=li(1|s,i,void 0,d===void 0?null:d)}function ui(e,s,i,d){var ft=di();d=d===void 0?null:d;var $=void 0;if(O!==null){var it=O.memoizedState;if($=it.destroy,d!==null&&Wh(d,it.deps)){ft.memoizedState=li(s,i,$,d);return}}N.flags|=e,ft.memoizedState=li(1|s,i,$,d)}function vi(e,s){return ti(8390656,8,e,s)}function ji(e,s){return ui(2048,8,e,s)}function wi(e,s){return ui(4,2,e,s)}function xi(e,s){return ui(4,4,e,s)}function yi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function zi(e,s,i){return i=i!=null?i.concat([e]):null,ui(4,4,yi.bind(null,s,e),i)}function Ai(){}function Bi(e,s){var i=di();s=s===void 0?null:s;var d=i.memoizedState;return d!==null&&s!==null&&Wh(s,d[1])?d[0]:(i.memoizedState=[e,s],e)}function Ci(e,s){var i=di();s=s===void 0?null:s;var d=i.memoizedState;return d!==null&&s!==null&&Wh(s,d[1])?d[0]:(e=e(),i.memoizedState=[e,s],e)}function Di(e,s,i){return(Rh&21)===0?(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=i):(He(i,s)||(i=yc(),N.lanes|=i,hh|=i,e.baseState=!0),s)}function Ei(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var d=Qh.transition;Qh.transition={};try{e(!1),s()}finally{C=i,Qh.transition=d}}function Fi(){return di().memoizedState}function Gi(e,s,i){var d=lh(e);if(i={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(s,i);else if(i=Yg(e,s,i,d),i!==null){var ft=L();mh(i,e,d,ft),Ji(i,s,d)}}function ri(e,s,i){var d=lh(e),ft={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(s,ft);else{var $=e.alternate;if(e.lanes===0&&($===null||$.lanes===0)&&($=s.lastRenderedReducer,$!==null))try{var it=s.lastRenderedState,nt=$(it,i);if(ft.hasEagerState=!0,ft.eagerState=nt,He(nt,it)){var _=s.interleaved;_===null?(ft.next=ft,Xg(s)):(ft.next=_.next,_.next=ft),s.interleaved=ft;return}}catch{}finally{}i=Yg(e,s,ft,d),i!==null&&(ft=L(),mh(i,e,d,ft),Ji(i,s,d))}}function Hi(e){var s=e.alternate;return e===N||s!==null&&s===N}function Ii(e,s){Th=Sh=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Ji(e,s,i){if((i&4194240)!==0){var d=s.lanes;d&=e.pendingLanes,i|=d,s.lanes=i,Cc(e,i)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,s){return ci().memoizedState=[e,s===void 0?null:s],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ti(4194308,4,yi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ti(4194308,4,e,s)},useInsertionEffect:function(e,s){return ti(4,2,e,s)},useMemo:function(e,s){var i=ci();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var d=ci();return s=i!==void 0?i(s):s,d.memoizedState=d.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},d.queue=e,e=e.dispatch=Gi.bind(null,N,e),[d.memoizedState,e]},useRef:function(e){var s=ci();return e={current:e},s.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),s=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var d=N,ft=ci();if(I){if(i===void 0)throw Error(p$1(407));i=i()}else{if(i=s(),R===null)throw Error(p$1(349));(Rh&30)!==0||ni(d,s,i)}ft.memoizedState=i;var $={value:i,getSnapshot:s};return ft.queue=$,vi(ki.bind(null,d,$,e),[e]),d.flags|=2048,li(9,mi.bind(null,d,$,i,s),void 0,null),i},useId:function(){var e=ci(),s=R.identifierPrefix;if(I){var i=sg,d=rg;i=(d&~(1<<32-oc(d)-1)).toString(32)+i,s=":"+s+"R"+i,i=Uh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Vh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var s=di();return Di(s,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],s=di().memoizedState;return[e,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var s=di();return O===null?s.memoizedState=e:Di(s,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],s=di().memoizedState;return[e,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,s){try{var i="",d=s;do i+=Pa(d),d=d.return;while(d);var ft=i}catch($){ft=`
Error generating stack: `+$.message+`
`+$.stack}return{value:e,source:s,stack:ft,digest:null}}function Li(e,s,i){return{value:e,source:null,stack:i!=null?i:null,digest:s!=null?s:null}}function Mi(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,s,i){i=ch(-1,i),i.tag=3,i.payload={element:null};var d=s.value;return i.callback=function(){Pi||(Pi=!0,Qi=d),Mi(e,s)},i}function Ri(e,s,i){i=ch(-1,i),i.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var ft=s.value;i.payload=function(){return d(ft)},i.callback=function(){Mi(e,s)}}var $=e.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(i.callback=function(){Mi(e,s),typeof d!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=s.stack;this.componentDidCatch(s.value,{componentStack:it!==null?it:""})}),i}function Ti(e,s,i){var d=e.pingCache;if(d===null){d=e.pingCache=new Ni;var ft=new Set;d.set(s,ft)}else ft=d.get(s),ft===void 0&&(ft=new Set,d.set(s,ft));ft.has(i)||(ft.add(i),e=Ui.bind(null,e,s,i),s.then(e,e))}function Vi(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Wi(e,s,i,d,ft){return(e.mode&1)===0?(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=ch(-1,1),s.tag=2,dh(i,s,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=ft,e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,s,i,d){s.child=e===null?Ch(s,null,i,d):Bh(s,e.child,i,d)}function Zi(e,s,i,d,ft){i=i.render;var $=s.ref;return Tg(s,ft),d=Xh(e,s,i,d,$,ft),i=bi(),e!==null&&!Ug?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~ft,$i(e,s,ft)):(I&&i&&vg(s),s.flags|=1,Yi(e,s,d,ft),s.child)}function aj(e,s,i,d,ft){if(e===null){var $=i.type;return typeof $=="function"&&!bj($)&&$.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=$,cj(e,s,$,d,ft)):(e=yh(i.type,null,d,s,s.mode,ft),e.ref=s.ref,e.return=s,s.child=e)}if($=e.child,(e.lanes&ft)===0){var it=$.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(it,d)&&e.ref===s.ref)return $i(e,s,ft)}return s.flags|=1,e=wh($,d),e.ref=s.ref,e.return=s,s.child=e}function cj(e,s,i,d,ft){if(e!==null){var $=e.memoizedProps;if(Ie($,d)&&e.ref===s.ref)if(Ug=!1,s.pendingProps=d=$,(e.lanes&ft)!==0)(e.flags&131072)!==0&&(Ug=!0);else return s.lanes=e.lanes,$i(e,s,ft)}return dj(e,s,i,d,ft)}function ej(e,s,i){var d=s.pendingProps,ft=d.children,$=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=i;else{if((i&1073741824)===0)return e=$!==null?$.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=$!==null?$.baseLanes:i,G(fj,gj),gj|=d}else $!==null?(d=$.baseLanes|i,s.memoizedState=null):d=i,G(fj,gj),gj|=d;return Yi(e,s,ft,i),s.child}function hj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function dj(e,s,i,d,ft){var $=Zf(i)?Xf:H.current;return $=Yf(s,$),Tg(s,ft),i=Xh(e,s,i,d,$,ft),d=bi(),e!==null&&!Ug?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~ft,$i(e,s,ft)):(I&&d&&vg(s),s.flags|=1,Yi(e,s,i,ft),s.child)}function ij(e,s,i,d,ft){if(Zf(i)){var $=!0;cg(s)}else $=!1;if(Tg(s,ft),s.stateNode===null)jj(e,s),ph(s,i,d),rh(s,i,d,ft),d=!0;else if(e===null){var it=s.stateNode,nt=s.memoizedProps;it.props=nt;var _=it.context,b=i.contextType;typeof b=="object"&&b!==null?b=Vg(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var c=i.getDerivedStateFromProps,a=typeof c=="function"||typeof it.getSnapshotBeforeUpdate=="function";a||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(nt!==d||_!==b)&&qh(s,it,d,b),$g=!1;var o=s.memoizedState;it.state=o,gh(s,d,it,ft),_=s.memoizedState,nt!==d||o!==_||Wf.current||$g?(typeof c=="function"&&(kh(s,i,c,d),_=s.memoizedState),(nt=$g||oh(s,i,nt,d,o,_,b))?(a||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(s.flags|=4194308)):(typeof it.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=_),it.props=d,it.state=_,it.context=b,d=nt):(typeof it.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{it=s.stateNode,bh(e,s),nt=s.memoizedProps,b=s.type===s.elementType?nt:Lg(s.type,nt),it.props=b,a=s.pendingProps,o=it.context,_=i.contextType,typeof _=="object"&&_!==null?_=Vg(_):(_=Zf(i)?Xf:H.current,_=Yf(s,_));var h=i.getDerivedStateFromProps;(c=typeof h=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(nt!==a||o!==_)&&qh(s,it,d,_),$g=!1,o=s.memoizedState,it.state=o,gh(s,d,it,ft);var g=s.memoizedState;nt!==a||o!==g||Wf.current||$g?(typeof h=="function"&&(kh(s,i,h,d),g=s.memoizedState),(b=$g||oh(s,i,b,d,o,g,_)||!1)?(c||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(d,g,_),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(d,g,_)),typeof it.componentDidUpdate=="function"&&(s.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof it.componentDidUpdate!="function"||nt===e.memoizedProps&&o===e.memoizedState||(s.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||nt===e.memoizedProps&&o===e.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=g),it.props=d,it.state=g,it.context=_,d=b):(typeof it.componentDidUpdate!="function"||nt===e.memoizedProps&&o===e.memoizedState||(s.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||nt===e.memoizedProps&&o===e.memoizedState||(s.flags|=1024),d=!1)}return kj(e,s,i,d,$,ft)}function kj(e,s,i,d,ft,$){hj(e,s);var it=(s.flags&128)!==0;if(!d&&!it)return ft&&dg(s,i,!1),$i(e,s,$);d=s.stateNode,Xi.current=s;var nt=it&&typeof i.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,e!==null&&it?(s.child=Bh(s,e.child,null,$),s.child=Bh(s,null,nt,$)):Yi(e,s,nt,$),s.memoizedState=d.state,ft&&dg(s,i,!0),s.child}function lj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),Ih(e,s.containerInfo)}function mj(e,s,i,d,ft){return Ig(),Jg(ft),s.flags|=256,Yi(e,s,i,d),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,s,i){var d=s.pendingProps,ft=M.current,$=!1,it=(s.flags&128)!==0,nt;if((nt=it)||(nt=e!==null&&e.memoizedState===null?!1:(ft&2)!==0),nt?($=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(ft|=1),G(M,ft&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((s.mode&1)===0?s.lanes=1:e.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(it=d.children,e=d.fallback,$?(d=s.mode,$=s.child,it={mode:"hidden",children:it},(d&1)===0&&$!==null?($.childLanes=0,$.pendingProps=it):$=qj(it,d,0,null),e=Ah(e,d,i,null),$.return=s,e.return=s,$.sibling=e,s.child=$,s.child.memoizedState=oj(i),s.memoizedState=nj,e):rj(s,it));if(ft=e.memoizedState,ft!==null&&(nt=ft.dehydrated,nt!==null))return sj(e,s,it,d,nt,ft,i);if($){$=d.fallback,it=s.mode,ft=e.child,nt=ft.sibling;var _={mode:"hidden",children:d.children};return(it&1)===0&&s.child!==ft?(d=s.child,d.childLanes=0,d.pendingProps=_,s.deletions=null):(d=wh(ft,_),d.subtreeFlags=ft.subtreeFlags&14680064),nt!==null?$=wh(nt,$):($=Ah($,it,i,null),$.flags|=2),$.return=s,d.return=s,d.sibling=$,s.child=d,d=$,$=s.child,it=e.child.memoizedState,it=it===null?oj(i):{baseLanes:it.baseLanes|i,cachePool:null,transitions:it.transitions},$.memoizedState=it,$.childLanes=e.childLanes&~i,s.memoizedState=nj,d}return $=e.child,e=$.sibling,d=wh($,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=i),d.return=s,d.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=d,s.memoizedState=null,d}function rj(e,s){return s=qj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function tj(e,s,i,d){return d!==null&&Jg(d),Bh(s,e.child,null,i),e=rj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function sj(e,s,i,d,ft,$,it){if(i)return s.flags&256?(s.flags&=-257,d=Li(Error(p$1(422))),tj(e,s,it,d)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):($=d.fallback,ft=s.mode,d=qj({mode:"visible",children:d.children},ft,0,null),$=Ah($,ft,it,null),$.flags|=2,d.return=s,$.return=s,d.sibling=$,s.child=d,(s.mode&1)!==0&&Bh(s,e.child,null,it),s.child.memoizedState=oj(it),s.memoizedState=nj,$);if((s.mode&1)===0)return tj(e,s,it,null);if(ft.data==="$!"){if(d=ft.nextSibling&&ft.nextSibling.dataset,d)var nt=d.dgst;return d=nt,$=Error(p$1(419)),d=Li($,d,void 0),tj(e,s,it,d)}if(nt=(it&e.childLanes)!==0,Ug||nt){if(d=R,d!==null){switch(it&-it){case 4:ft=2;break;case 16:ft=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ft=32;break;case 536870912:ft=268435456;break;default:ft=0}ft=(ft&(d.suspendedLanes|it))!==0?0:ft,ft!==0&&ft!==$.retryLane&&($.retryLane=ft,Zg(e,ft),mh(d,e,ft,-1))}return uj(),d=Li(Error(p$1(421))),tj(e,s,it,d)}return ft.data==="$?"?(s.flags|=128,s.child=e.child,s=vj.bind(null,e),ft._reactRetry=s,null):(e=$.treeContext,yg=Lf(ft.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=rj(s,d.children),s.flags|=4096,s)}function wj(e,s,i){e.lanes|=s;var d=e.alternate;d!==null&&(d.lanes|=s),Sg(e.return,s,i)}function xj(e,s,i,d,ft){var $=e.memoizedState;$===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:i,tailMode:ft}:($.isBackwards=s,$.rendering=null,$.renderingStartTime=0,$.last=d,$.tail=i,$.tailMode=ft)}function yj(e,s,i){var d=s.pendingProps,ft=d.revealOrder,$=d.tail;if(Yi(e,s,d.children,i),d=M.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,i,s);else if(e.tag===19)wj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(G(M,d),(s.mode&1)===0)s.memoizedState=null;else switch(ft){case"forwards":for(i=s.child,ft=null;i!==null;)e=i.alternate,e!==null&&Mh(e)===null&&(ft=i),i=i.sibling;i=ft,i===null?(ft=s.child,s.child=null):(ft=i.sibling,i.sibling=null),xj(s,!1,ft,i,$);break;case"backwards":for(i=null,ft=s.child,s.child=null;ft!==null;){if(e=ft.alternate,e!==null&&Mh(e)===null){s.child=ft;break}e=ft.sibling,ft.sibling=i,i=ft,ft=e}xj(s,!0,i,null,$);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(e,s){(s.mode&1)===0&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function $i(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),hh|=s.lanes,(i&s.childLanes)===0)return null;if(e!==null&&s.child!==e.child)throw Error(p$1(153));if(s.child!==null){for(e=s.child,i=wh(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=wh(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function zj(e,s,i){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,ft=s.memoizedProps.value;G(Mg,d._currentValue),d._currentValue=ft;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?pj(e,s,i):(G(M,M.current&1),e=$i(e,s,i),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(d=(i&s.childLanes)!==0,(e.flags&128)!==0){if(d)return yj(e,s,i);s.flags|=128}if(ft=s.memoizedState,ft!==null&&(ft.rendering=null,ft.tail=null,ft.lastEffect=null),G(M,M.current),d)break;return null;case 22:case 23:return s.lanes=0,ej(e,s,i)}return $i(e,s,i)}var Aj,Bj,Cj,Dj;Aj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Bj=function(){};Cj=function(e,s,i,d){var ft=e.memoizedProps;if(ft!==d){e=s.stateNode,Hh(Eh.current);var $=null;switch(i){case"input":ft=Ya(e,ft),d=Ya(e,d),$=[];break;case"select":ft=A({},ft,{value:void 0}),d=A({},d,{value:void 0}),$=[];break;case"textarea":ft=gb(e,ft),d=gb(e,d),$=[];break;default:typeof ft.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Bf)}ub(i,d);var it;i=null;for(b in ft)if(!d.hasOwnProperty(b)&&ft.hasOwnProperty(b)&&ft[b]!=null)if(b==="style"){var nt=ft[b];for(it in nt)nt.hasOwnProperty(it)&&(i||(i={}),i[it]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?$||($=[]):($=$||[]).push(b,null));for(b in d){var _=d[b];if(nt=ft!=null?ft[b]:void 0,d.hasOwnProperty(b)&&_!==nt&&(_!=null||nt!=null))if(b==="style")if(nt){for(it in nt)!nt.hasOwnProperty(it)||_&&_.hasOwnProperty(it)||(i||(i={}),i[it]="");for(it in _)_.hasOwnProperty(it)&&nt[it]!==_[it]&&(i||(i={}),i[it]=_[it])}else i||($||($=[]),$.push(b,i)),i=_;else b==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,nt=nt?nt.__html:void 0,_!=null&&nt!==_&&($=$||[]).push(b,_)):b==="children"?typeof _!="string"&&typeof _!="number"||($=$||[]).push(b,""+_):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(_!=null&&b==="onScroll"&&D("scroll",e),$||nt===_||($=[])):($=$||[]).push(b,_))}i&&($=$||[]).push("style",i);var b=$;(s.updateQueue=b)&&(s.flags|=4)}};Dj=function(e,s,i,d){i!==d&&(s.flags|=4)};function Ej(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,d=0;if(s)for(var ft=e.child;ft!==null;)i|=ft.lanes|ft.childLanes,d|=ft.subtreeFlags&14680064,d|=ft.flags&14680064,ft.return=e,ft=ft.sibling;else for(ft=e.child;ft!==null;)i|=ft.lanes|ft.childLanes,d|=ft.subtreeFlags,d|=ft.flags,ft.return=e,ft=ft.sibling;return e.subtreeFlags|=d,e.childLanes=i,s}function Fj(e,s,i){var d=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return d=s.stateNode,Jh(),E(Wf),E(H),Oh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,s),S(s),null;case 5:Lh(s);var ft=Hh(Gh.current);if(i=s.type,e!==null&&s.stateNode!=null)Cj(e,s,i,d,ft),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(p$1(166));return S(s),null}if(e=Hh(Eh.current),Gg(s)){d=s.stateNode,i=s.type;var $=s.memoizedProps;switch(d[Of]=s,d[Pf]=$,e=(s.mode&1)!==0,i){case"dialog":D("cancel",d),D("close",d);break;case"iframe":case"object":case"embed":D("load",d);break;case"video":case"audio":for(ft=0;ft<lf.length;ft++)D(lf[ft],d);break;case"source":D("error",d);break;case"img":case"image":case"link":D("error",d),D("load",d);break;case"details":D("toggle",d);break;case"input":Za(d,$),D("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!$.multiple},D("invalid",d);break;case"textarea":hb(d,$),D("invalid",d)}ub(i,$),ft=null;for(var it in $)if($.hasOwnProperty(it)){var nt=$[it];it==="children"?typeof nt=="string"?d.textContent!==nt&&($.suppressHydrationWarning!==!0&&Af(d.textContent,nt,e),ft=["children",nt]):typeof nt=="number"&&d.textContent!==""+nt&&($.suppressHydrationWarning!==!0&&Af(d.textContent,nt,e),ft=["children",""+nt]):ea.hasOwnProperty(it)&&nt!=null&&it==="onScroll"&&D("scroll",d)}switch(i){case"input":Va(d),db(d,$,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(d.onclick=Bf)}d=ft,s.updateQueue=d,d!==null&&(s.flags|=4)}else{it=ft.nodeType===9?ft:ft.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=it.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=it.createElement(i,{is:d.is}):(e=it.createElement(i),i==="select"&&(it=e,d.multiple?it.multiple=!0:d.size&&(it.size=d.size))):e=it.createElementNS(e,i),e[Of]=s,e[Pf]=d,Aj(e,s,!1,!1),s.stateNode=e;e:{switch(it=vb(i,d),i){case"dialog":D("cancel",e),D("close",e),ft=d;break;case"iframe":case"object":case"embed":D("load",e),ft=d;break;case"video":case"audio":for(ft=0;ft<lf.length;ft++)D(lf[ft],e);ft=d;break;case"source":D("error",e),ft=d;break;case"img":case"image":case"link":D("error",e),D("load",e),ft=d;break;case"details":D("toggle",e),ft=d;break;case"input":Za(e,d),ft=Ya(e,d),D("invalid",e);break;case"option":ft=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},ft=A({},d,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,d),ft=gb(e,d),D("invalid",e);break;default:ft=d}ub(i,ft),nt=ft;for($ in nt)if(nt.hasOwnProperty($)){var _=nt[$];$==="style"?sb(e,_):$==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&nb(e,_)):$==="children"?typeof _=="string"?(i!=="textarea"||_!=="")&&ob(e,_):typeof _=="number"&&ob(e,""+_):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?_!=null&&$==="onScroll"&&D("scroll",e):_!=null&&ta(e,$,_,it))}switch(i){case"input":Va(e),db(e,d,!1);break;case"textarea":Va(e),jb(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Sa(d.value));break;case"select":e.multiple=!!d.multiple,$=d.value,$!=null?fb(e,!!d.multiple,$,!1):d.defaultValue!=null&&fb(e,!!d.multiple,d.defaultValue,!0);break;default:typeof ft.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Dj(e,s,e.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(p$1(166));if(i=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(d=s.stateNode,i=s.memoizedProps,d[Of]=s,($=d.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(d.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,i,(e.mode&1)!==0)}$&&(s.flags|=4)}else d=(i.nodeType===9?i:i.ownerDocument).createTextNode(d),d[Of]=s,s.stateNode=d}return S(s),null;case 13:if(E(M),d=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hg(),Ig(),s.flags|=98560,$=!1;else if($=Gg(s),d!==null&&d.dehydrated!==null){if(e===null){if(!$)throw Error(p$1(318));if($=s.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$1(317));$[Of]=s}else Ig(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;S(s),$=!1}else zg!==null&&(Gj(zg),zg=null),$=!0;if(!$)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(e===null||(M.current&1)!==0?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),$=s.memoizedState,$===null)return S(s),null;if(d=(s.flags&128)!==0,it=$.rendering,it===null)if(d)Ej($,!1);else{if(T!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(it=Mh(e),it!==null){for(s.flags|=128,Ej($,!1),d=it.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=i,i=s.child;i!==null;)$=i,e=d,$.flags&=14680066,it=$.alternate,it===null?($.childLanes=0,$.lanes=e,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=it.childLanes,$.lanes=it.lanes,$.child=it.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=it.memoizedProps,$.memoizedState=it.memoizedState,$.updateQueue=it.updateQueue,$.type=it.type,e=it.dependencies,$.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(M,M.current&1|2),s.child}e=e.sibling}$.tail!==null&&B()>Hj&&(s.flags|=128,d=!0,Ej($,!1),s.lanes=4194304)}else{if(!d)if(e=Mh(it),e!==null){if(s.flags|=128,d=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Ej($,!0),$.tail===null&&$.tailMode==="hidden"&&!it.alternate&&!I)return S(s),null}else 2*B()-$.renderingStartTime>Hj&&i!==1073741824&&(s.flags|=128,d=!0,Ej($,!1),s.lanes=4194304);$.isBackwards?(it.sibling=s.child,s.child=it):(i=$.last,i!==null?i.sibling=it:s.child=it,$.last=it)}return $.tail!==null?(s=$.tail,$.rendering=s,$.tail=s.sibling,$.renderingStartTime=B(),s.sibling=null,i=M.current,G(M,d?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Ij(),d=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(gj&1073741824)!==0&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Jj(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(d){W(e,s,d)}else i.current=null}function Nj(e,s,i){try{i()}catch(d){W(e,s,d)}}var Oj=!1;function Pj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var d=i.getSelection&&i.getSelection();if(d&&d.rangeCount!==0){i=d.anchorNode;var ft=d.anchorOffset,$=d.focusNode;d=d.focusOffset;try{i.nodeType,$.nodeType}catch{i=null;break e}var it=0,nt=-1,_=-1,b=0,c=0,a=e,o=null;t:for(;;){for(var h;a!==i||ft!==0&&a.nodeType!==3||(nt=it+ft),a!==$||d!==0&&a.nodeType!==3||(_=it+d),a.nodeType===3&&(it+=a.nodeValue.length),(h=a.firstChild)!==null;)o=a,a=h;for(;;){if(a===e)break t;if(o===i&&++b===ft&&(nt=it),o===$&&++c===d&&(_=it),(h=a.nextSibling)!==null)break;a=o,o=a.parentNode}a=h}i=nt===-1||_===-1?null:{start:nt,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var g=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var tt=g.memoizedProps,at=g.memoizedState,ht=s.stateNode,_e=ht.getSnapshotBeforeUpdate(s.elementType===s.type?tt:Lg(s.type,tt),at);ht.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var ut=s.stateNode.containerInfo;ut.nodeType===1?ut.textContent="":ut.nodeType===9&&ut.documentElement&&ut.removeChild(ut.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ct){W(s,s.return,ct)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return g=Oj,Oj=!1,g}function Qj(e,s,i){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var ft=d=d.next;do{if((ft.tag&e)===e){var $=ft.destroy;ft.destroy=void 0,$!==void 0&&Nj(s,i,$)}ft=ft.next}while(ft!==d)}}function Rj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var d=i.create;i.destroy=d()}i=i.next}while(i!==s)}}function Sj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Tj(e){var s=e.alternate;s!==null&&(e.alternate=null,Tj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,s,i){var d=e.tag;if(d===5||d===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(d!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}function Xj(e,s,i){var d=e.tag;if(d===5||d===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Xj(e,s,i),e=e.sibling;e!==null;)Xj(e,s,i),e=e.sibling}var X=null,Yj=!1;function Zj(e,s,i){for(i=i.child;i!==null;)ak(e,s,i),i=i.sibling}function ak(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Mj(i,s);case 6:var d=X,ft=Yj;X=null,Zj(e,s,i),X=d,Yj=ft,X!==null&&(Yj?(e=X,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X.removeChild(i.stateNode));break;case 18:X!==null&&(Yj?(e=X,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X,i.stateNode));break;case 4:d=X,ft=Yj,X=i.stateNode.containerInfo,Yj=!0,Zj(e,s,i),X=d,Yj=ft;break;case 0:case 11:case 14:case 15:if(!U&&(d=i.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){ft=d=d.next;do{var $=ft,it=$.destroy;$=$.tag,it!==void 0&&(($&2)!==0||($&4)!==0)&&Nj(i,s,it),ft=ft.next}while(ft!==d)}Zj(e,s,i);break;case 1:if(!U&&(Mj(i,s),d=i.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=i.memoizedProps,d.state=i.memoizedState,d.componentWillUnmount()}catch(nt){W(i,s,nt)}Zj(e,s,i);break;case 21:Zj(e,s,i);break;case 22:i.mode&1?(U=(d=U)||i.memoizedState!==null,Zj(e,s,i),U=d):Zj(e,s,i);break;default:Zj(e,s,i)}}function bk(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Lj),s.forEach(function(d){var ft=ck.bind(null,e,d);i.has(d)||(i.add(d),d.then(ft,ft))})}}function dk(e,s){var i=s.deletions;if(i!==null)for(var d=0;d<i.length;d++){var ft=i[d];try{var $=e,it=s,nt=it;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Yj=!1;break e;case 3:X=nt.stateNode.containerInfo,Yj=!0;break e;case 4:X=nt.stateNode.containerInfo,Yj=!0;break e}nt=nt.return}if(X===null)throw Error(p$1(160));ak($,it,ft),X=null,Yj=!1;var _=ft.alternate;_!==null&&(_.return=null),ft.return=null}catch(b){W(ft,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,e),s=s.sibling}function ek(e,s){var i=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(s,e),fk(e),d&4){try{Qj(3,e,e.return),Rj(3,e)}catch(tt){W(e,e.return,tt)}try{Qj(5,e,e.return)}catch(tt){W(e,e.return,tt)}}break;case 1:dk(s,e),fk(e),d&512&&i!==null&&Mj(i,i.return);break;case 5:if(dk(s,e),fk(e),d&512&&i!==null&&Mj(i,i.return),e.flags&32){var ft=e.stateNode;try{ob(ft,"")}catch(tt){W(e,e.return,tt)}}if(d&4&&(ft=e.stateNode,ft!=null)){var $=e.memoizedProps,it=i!==null?i.memoizedProps:$,nt=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{nt==="input"&&$.type==="radio"&&$.name!=null&&ab(ft,$),vb(nt,it);var b=vb(nt,$);for(it=0;it<_.length;it+=2){var c=_[it],a=_[it+1];c==="style"?sb(ft,a):c==="dangerouslySetInnerHTML"?nb(ft,a):c==="children"?ob(ft,a):ta(ft,c,a,b)}switch(nt){case"input":bb(ft,$);break;case"textarea":ib(ft,$);break;case"select":var o=ft._wrapperState.wasMultiple;ft._wrapperState.wasMultiple=!!$.multiple;var h=$.value;h!=null?fb(ft,!!$.multiple,h,!1):o!==!!$.multiple&&($.defaultValue!=null?fb(ft,!!$.multiple,$.defaultValue,!0):fb(ft,!!$.multiple,$.multiple?[]:"",!1))}ft[Pf]=$}catch(tt){W(e,e.return,tt)}}break;case 6:if(dk(s,e),fk(e),d&4){if(e.stateNode===null)throw Error(p$1(162));ft=e.stateNode,$=e.memoizedProps;try{ft.nodeValue=$}catch(tt){W(e,e.return,tt)}}break;case 3:if(dk(s,e),fk(e),d&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(tt){W(e,e.return,tt)}break;case 4:dk(s,e),fk(e);break;case 13:dk(s,e),fk(e),ft=e.child,ft.flags&8192&&($=ft.memoizedState!==null,ft.stateNode.isHidden=$,!$||ft.alternate!==null&&ft.alternate.memoizedState!==null||(gk=B())),d&4&&bk(e);break;case 22:if(c=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||c,dk(s,e),U=b):dk(s,e),fk(e),d&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!c&&(e.mode&1)!==0)for(V=e,c=e.child;c!==null;){for(a=V=c;V!==null;){switch(o=V,h=o.child,o.tag){case 0:case 11:case 14:case 15:Qj(4,o,o.return);break;case 1:Mj(o,o.return);var g=o.stateNode;if(typeof g.componentWillUnmount=="function"){d=o,i=o.return;try{s=d,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(tt){W(d,i,tt)}}break;case 5:Mj(o,o.return);break;case 22:if(o.memoizedState!==null){hk(a);continue}}h!==null?(h.return=o,V=h):hk(a)}c=c.sibling}e:for(c=null,a=e;;){if(a.tag===5){if(c===null){c=a;try{ft=a.stateNode,b?($=ft.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(nt=a.stateNode,_=a.memoizedProps.style,it=_!=null&&_.hasOwnProperty("display")?_.display:null,nt.style.display=rb("display",it))}catch(tt){W(e,e.return,tt)}}}else if(a.tag===6){if(c===null)try{a.stateNode.nodeValue=b?"":a.memoizedProps}catch(tt){W(e,e.return,tt)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:dk(s,e),fk(e),d&4&&bk(e);break;case 21:break;default:dk(s,e),fk(e)}}function fk(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Uj(i)){var d=i;break e}i=i.return}throw Error(p$1(160))}switch(d.tag){case 5:var ft=d.stateNode;d.flags&32&&(ob(ft,""),d.flags&=-33);var $=Vj(e);Xj(e,$,ft);break;case 3:case 4:var it=d.stateNode.containerInfo,nt=Vj(e);Wj(e,nt,it);break;default:throw Error(p$1(161))}}catch(_){W(e,e.return,_)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function ik(e,s,i){V=e,jk(e)}function jk(e,s,i){for(var d=(e.mode&1)!==0;V!==null;){var ft=V,$=ft.child;if(ft.tag===22&&d){var it=ft.memoizedState!==null||Kj;if(!it){var nt=ft.alternate,_=nt!==null&&nt.memoizedState!==null||U;nt=Kj;var b=U;if(Kj=it,(U=_)&&!b)for(V=ft;V!==null;)it=V,_=it.child,it.tag===22&&it.memoizedState!==null?kk(ft):_!==null?(_.return=it,V=_):kk(ft);for(;$!==null;)V=$,jk($),$=$.sibling;V=ft,Kj=nt,U=b}lk(e)}else(ft.subtreeFlags&8772)!==0&&$!==null?($.return=ft,V=$):lk(e)}}function lk(e){for(;V!==null;){var s=V;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!U)if(i===null)d.componentDidMount();else{var ft=s.elementType===s.type?i.memoizedProps:Lg(s.type,i.memoizedProps);d.componentDidUpdate(ft,i.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var $=s.updateQueue;$!==null&&ih(s,$,d);break;case 3:var it=s.updateQueue;if(it!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}ih(s,it,i)}break;case 5:var nt=s.stateNode;if(i===null&&s.flags&4){i=nt;var _=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&i.focus();break;case"img":_.src&&(i.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var c=b.memoizedState;if(c!==null){var a=c.dehydrated;a!==null&&bd(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||s.flags&512&&Sj(s)}catch(o){W(s,s.return,o)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function hk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function kk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Rj(4,s)}catch(_){W(s,i,_)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var ft=s.return;try{d.componentDidMount()}catch(_){W(s,ft,_)}}var $=s.return;try{Sj(s)}catch(_){W(s,$,_)}break;case 5:var it=s.return;try{Sj(s)}catch(_){W(s,it,_)}}}catch(_){W(s,s.return,_)}if(s===e){V=null;break}var nt=s.sibling;if(nt!==null){nt.return=s.return,V=nt;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return(K&6)!==0?B():Bk!==-1?Bk:Bk=B()}function lh(e){return(e.mode&1)===0?1:(K&2)!==0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e)}function mh(e,s,i,d){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(e,i,d),((K&2)===0||e!==R)&&(e===R&&((K&2)===0&&(rk|=i),T===4&&Dk(e,Z)),Ek(e,d),i===1&&K===0&&(s.mode&1)===0&&(Hj=B()+500,fg&&jg()))}function Ek(e,s){var i=e.callbackNode;wc(e,s);var d=uc(e,e===R?Z:0);if(d===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=d&-d,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){(K&6)===0&&jg()}),i=null;else{switch(Dc(d)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Gk(i,Hk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Hk(e,s){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p$1(327));var i=e.callbackNode;if(Ik()&&e.callbackNode!==i)return null;var d=uc(e,e===R?Z:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||s)s=Jk(e,d);else{s=d;var ft=K;K|=2;var $=Kk();(R!==e||Z!==s)&&(vk=null,Hj=B()+500,Lk(e,s));do try{Mk();break}catch(nt){Nk(e,nt)}while(1);Qg(),nk.current=$,K=ft,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(ft=xc(e),ft!==0&&(d=ft,s=Ok(e,ft))),s===1)throw i=qk,Lk(e,0),Dk(e,d),Ek(e,B()),i;if(s===6)Dk(e,d);else{if(ft=e.current.alternate,(d&30)===0&&!Pk(ft)&&(s=Jk(e,d),s===2&&($=xc(e),$!==0&&(d=$,s=Ok(e,$))),s===1))throw i=qk,Lk(e,0),Dk(e,d),Ek(e,B()),i;switch(e.finishedWork=ft,e.finishedLanes=d,s){case 0:case 1:throw Error(p$1(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,d),(d&130023424)===d&&(s=gk+500-B(),10<s)){if(uc(e,0)!==0)break;if(ft=e.suspendedLanes,(ft&d)!==d){L(),e.pingedLanes|=e.suspendedLanes&ft;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),s);break}Qk(e,uk,vk);break;case 4:if(Dk(e,d),(d&4194240)===d)break;for(s=e.eventTimes,ft=-1;0<d;){var it=31-oc(d);$=1<<it,it=s[it],it>ft&&(ft=it),d&=~$}if(d=ft,d=B()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*mk(d/1960))-d,10<d){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),d);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(e,B()),e.callbackNode===i?Hk.bind(null,e):null}function Ok(e,s){var i=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,s).flags|=256),e=Jk(e,s),e!==2&&(s=uk,uk=i,s!==null&&Gj(s)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var d=0;d<i.length;d++){var ft=i[d],$=ft.getSnapshot;ft=ft.value;try{if(!He($(),ft))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(e,s){for(s&=~sk,s&=~rk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),d=1<<i;e[i]=-1,s&=~d}}function Fk(e){if((K&6)!==0)throw Error(p$1(327));Ik();var s=uc(e,0);if((s&1)===0)return Ek(e,B()),null;var i=Jk(e,s);if(e.tag!==0&&i===2){var d=xc(e);d!==0&&(s=d,i=Ok(e,d))}if(i===1)throw i=qk,Lk(e,0),Dk(e,s),Ek(e,B()),i;if(i===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var s=K;K|=1;var i=pk.transition,d=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=d,pk.transition=i,K=s,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var d=i;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}i=i.return}if(R=e,Y=e=wh(e.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(i=Wg[s],d=i.interleaved,d!==null){i.interleaved=null;var ft=d.next,$=i.pending;if($!==null){var it=$.next;$.next=ft,d.next=it}i.pending=d}Wg=null}return e}function Nk(e,s){do{var i=Y;try{if(Qg(),Ph.current=ai,Sh){for(var d=N.memoizedState;d!==null;){var ft=d.queue;ft!==null&&(ft.pending=null),d=d.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,i===null||i.return===null){T=1,qk=s,Y=null;break}e:{var $=e,it=i.return,nt=i,_=s;if(s=Z,nt.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var b=_,c=nt,a=c.tag;if((c.mode&1)===0&&(a===0||a===11||a===15)){var o=c.alternate;o?(c.updateQueue=o.updateQueue,c.memoizedState=o.memoizedState,c.lanes=o.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Vi(it);if(h!==null){h.flags&=-257,Wi(h,it,nt,$,s),h.mode&1&&Ti($,b,s),s=h,_=b;var g=s.updateQueue;if(g===null){var tt=new Set;tt.add(_),s.updateQueue=tt}else g.add(_);break e}else{if((s&1)===0){Ti($,b,s),uj();break e}_=Error(p$1(426))}}else if(I&&nt.mode&1){var at=Vi(it);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Wi(at,it,nt,$,s),Jg(Ki(_,nt));break e}}$=_=Ki(_,nt),T!==4&&(T=2),tk===null?tk=[$]:tk.push($),$=it;do{switch($.tag){case 3:$.flags|=65536,s&=-s,$.lanes|=s;var ht=Oi($,_,s);fh($,ht);break e;case 1:nt=_;var _e=$.type,ut=$.stateNode;if(($.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||ut!==null&&typeof ut.componentDidCatch=="function"&&(Si===null||!Si.has(ut)))){$.flags|=65536,s&=-s,$.lanes|=s;var ct=Ri($,nt,s);fh($,ct);break e}}$=$.return}while($!==null)}Tk(i)}catch(rt){s=rt,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R,Z)}function Jk(e,s){var i=K;K|=2;var d=Kk();(R!==e||Z!==s)&&(vk=null,Lk(e,s));do try{Uk();break}catch(ft){Nk(e,ft)}while(1);if(Qg(),K=i,nk.current=d,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var s=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,s===null?Tk(e):Y=s,ok.current=null}function Tk(e){var s=e;do{var i=s.alternate;if(e=s.return,(s.flags&32768)===0){if(i=Fj(i,s,gj),i!==null){Y=i;return}}else{if(i=Jj(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Qk(e,s,i){var d=C,ft=pk.transition;try{pk.transition=null,C=1,Xk(e,s,i,d)}finally{pk.transition=ft,C=d}return null}function Xk(e,s,i,d){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p$1(327));i=e.finishedWork;var ft=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var $=i.lanes|i.childLanes;if(Bc(e,$),e===R&&(Y=R=null,Z=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),$=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||$){$=pk.transition,pk.transition=null;var it=C;C=1;var nt=K;K|=4,ok.current=null,Pj(e,i),ek(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,ik(i),dc(),K=nt,C=it,pk.transition=$}else e.current=i;if(wk&&(wk=!1,xk=e,yk=ft),$=e.pendingLanes,$===0&&(Si=null),mc(i.stateNode),Ek(e,B()),s!==null)for(d=e.onRecoverableError,i=0;i<s.length;i++)ft=s[i],d(ft.value,{componentStack:ft.stack,digest:ft.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return(yk&1)!==0&&e.tag!==0&&Ik(),$=e.pendingLanes,($&1)!==0?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),s=pk.transition,i=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var d=!1;else{if(e=xk,xk=null,yk=0,(K&6)!==0)throw Error(p$1(331));var ft=K;for(K|=4,V=e.current;V!==null;){var $=V,it=$.child;if((V.flags&16)!==0){var nt=$.deletions;if(nt!==null){for(var _=0;_<nt.length;_++){var b=nt[_];for(V=b;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:Qj(8,c,$)}var a=c.child;if(a!==null)a.return=c,V=a;else for(;V!==null;){c=V;var o=c.sibling,h=c.return;if(Tj(c),c===b){V=null;break}if(o!==null){o.return=h,V=o;break}V=h}}}var g=$.alternate;if(g!==null){var tt=g.child;if(tt!==null){g.child=null;do{var at=tt.sibling;tt.sibling=null,tt=at}while(tt!==null)}}V=$}}if(($.subtreeFlags&2064)!==0&&it!==null)it.return=$,V=it;else e:for(;V!==null;){if($=V,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Qj(9,$,$.return)}var ht=$.sibling;if(ht!==null){ht.return=$.return,V=ht;break e}V=$.return}}var _e=e.current;for(V=_e;V!==null;){it=V;var ut=it.child;if((it.subtreeFlags&2064)!==0&&ut!==null)ut.return=it,V=ut;else e:for(it=_e;V!==null;){if(nt=V,(nt.flags&2048)!==0)try{switch(nt.tag){case 0:case 11:case 15:Rj(9,nt)}}catch(rt){W(nt,nt.return,rt)}if(nt===it){V=null;break e}var ct=nt.sibling;if(ct!==null){ct.return=nt.return,V=ct;break e}V=nt.return}}if(K=ft,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}d=!0}return d}finally{C=i,pk.transition=s}}return!1}function Yk(e,s,i){s=Ki(i,s),s=Oi(e,s,1),e=dh(e,s,1),s=L(),e!==null&&(Ac(e,1,s),Ek(e,s))}function W(e,s,i){if(e.tag===3)Yk(e,e,i);else for(;s!==null;){if(s.tag===3){Yk(s,e,i);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d))){e=Ki(i,e),e=Ri(s,e,1),s=dh(s,e,1),e=L(),s!==null&&(Ac(s,1,e),Ek(s,e));break}}s=s.return}}function Ui(e,s,i){var d=e.pingCache;d!==null&&d.delete(s),s=L(),e.pingedLanes|=e.suspendedLanes&i,R===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=i),Ek(e,s)}function Zk(e,s){s===0&&((e.mode&1)===0?s=1:(s=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var i=L();e=Zg(e,s),e!==null&&(Ac(e,s,i),Ek(e,i))}function vj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Zk(e,i)}function ck(e,s){var i=0;switch(e.tag){case 13:var d=e.stateNode,ft=e.memoizedState;ft!==null&&(i=ft.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(p$1(314))}d!==null&&d.delete(s),Zk(e,i)}var Wk;Wk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if((e.lanes&i)===0&&(s.flags&128)===0)return Ug=!1,zj(e,s,i);Ug=(e.flags&131072)!==0}else Ug=!1,I&&(s.flags&1048576)!==0&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;jj(e,s),e=s.pendingProps;var ft=Yf(s,H.current);Tg(s,i),ft=Xh(null,s,d,e,ft,i);var $=bi();return s.flags|=1,typeof ft=="object"&&ft!==null&&typeof ft.render=="function"&&ft.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(d)?($=!0,cg(s)):$=!1,s.memoizedState=ft.state!==null&&ft.state!==void 0?ft.state:null,ah(s),ft.updater=nh,s.stateNode=ft,ft._reactInternals=s,rh(s,d,e,i),s=kj(null,s,d,!0,$,i)):(s.tag=0,I&&$&&vg(s),Yi(null,s,ft,i),s=s.child),s;case 16:d=s.elementType;e:{switch(jj(e,s),e=s.pendingProps,ft=d._init,d=ft(d._payload),s.type=d,ft=s.tag=$k(d),e=Lg(d,e),ft){case 0:s=dj(null,s,d,e,i);break e;case 1:s=ij(null,s,d,e,i);break e;case 11:s=Zi(null,s,d,e,i);break e;case 14:s=aj(null,s,d,Lg(d.type,e),i);break e}throw Error(p$1(306,d,""))}return s;case 0:return d=s.type,ft=s.pendingProps,ft=s.elementType===d?ft:Lg(d,ft),dj(e,s,d,ft,i);case 1:return d=s.type,ft=s.pendingProps,ft=s.elementType===d?ft:Lg(d,ft),ij(e,s,d,ft,i);case 3:e:{if(lj(s),e===null)throw Error(p$1(387));d=s.pendingProps,$=s.memoizedState,ft=$.element,bh(e,s),gh(s,d,null,i);var it=s.memoizedState;if(d=it.element,$.isDehydrated)if($={element:d,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},s.updateQueue.baseState=$,s.memoizedState=$,s.flags&256){ft=Ki(Error(p$1(423)),s),s=mj(e,s,d,i,ft);break e}else if(d!==ft){ft=Ki(Error(p$1(424)),s),s=mj(e,s,d,i,ft);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Ch(s,null,d,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),d===ft){s=$i(e,s,i);break e}Yi(e,s,d,i)}s=s.child}return s;case 5:return Kh(s),e===null&&Eg(s),d=s.type,ft=s.pendingProps,$=e!==null?e.memoizedProps:null,it=ft.children,Ef(d,ft)?it=null:$!==null&&Ef(d,$)&&(s.flags|=32),hj(e,s),Yi(e,s,it,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return pj(e,s,i);case 4:return Ih(s,s.stateNode.containerInfo),d=s.pendingProps,e===null?s.child=Bh(s,null,d,i):Yi(e,s,d,i),s.child;case 11:return d=s.type,ft=s.pendingProps,ft=s.elementType===d?ft:Lg(d,ft),Zi(e,s,d,ft,i);case 7:return Yi(e,s,s.pendingProps,i),s.child;case 8:return Yi(e,s,s.pendingProps.children,i),s.child;case 12:return Yi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(d=s.type._context,ft=s.pendingProps,$=s.memoizedProps,it=ft.value,G(Mg,d._currentValue),d._currentValue=it,$!==null)if(He($.value,it)){if($.children===ft.children&&!Wf.current){s=$i(e,s,i);break e}}else for($=s.child,$!==null&&($.return=s);$!==null;){var nt=$.dependencies;if(nt!==null){it=$.child;for(var _=nt.firstContext;_!==null;){if(_.context===d){if($.tag===1){_=ch(-1,i&-i),_.tag=2;var b=$.updateQueue;if(b!==null){b=b.shared;var c=b.pending;c===null?_.next=_:(_.next=c.next,c.next=_),b.pending=_}}$.lanes|=i,_=$.alternate,_!==null&&(_.lanes|=i),Sg($.return,i,s),nt.lanes|=i;break}_=_.next}}else if($.tag===10)it=$.type===s.type?null:$.child;else if($.tag===18){if(it=$.return,it===null)throw Error(p$1(341));it.lanes|=i,nt=it.alternate,nt!==null&&(nt.lanes|=i),Sg(it,i,s),it=$.sibling}else it=$.child;if(it!==null)it.return=$;else for(it=$;it!==null;){if(it===s){it=null;break}if($=it.sibling,$!==null){$.return=it.return,it=$;break}it=it.return}$=it}Yi(e,s,ft.children,i),s=s.child}return s;case 9:return ft=s.type,d=s.pendingProps.children,Tg(s,i),ft=Vg(ft),d=d(ft),s.flags|=1,Yi(e,s,d,i),s.child;case 14:return d=s.type,ft=Lg(d,s.pendingProps),ft=Lg(d.type,ft),aj(e,s,d,ft,i);case 15:return cj(e,s,s.type,s.pendingProps,i);case 17:return d=s.type,ft=s.pendingProps,ft=s.elementType===d?ft:Lg(d,ft),jj(e,s),s.tag=1,Zf(d)?(e=!0,cg(s)):e=!1,Tg(s,i),ph(s,d,ft),rh(s,d,ft,i),kj(null,s,d,!0,e,i);case 19:return yj(e,s,i);case 22:return ej(e,s,i)}throw Error(p$1(156,s.tag))};function Gk(e,s){return ac(e,s)}function al(e,s,i,d){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,d){return new al(e,s,i,d)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function yh(e,s,i,d,ft,$){var it=2;if(d=e,typeof e=="function")bj(e)&&(it=1);else if(typeof e=="string")it=5;else e:switch(e){case ya:return Ah(i.children,ft,$,s);case za:it=8,ft|=8;break;case Aa:return e=Bg(12,i,s,ft|2),e.elementType=Aa,e.lanes=$,e;case Ea:return e=Bg(13,i,s,ft),e.elementType=Ea,e.lanes=$,e;case Fa:return e=Bg(19,i,s,ft),e.elementType=Fa,e.lanes=$,e;case Ia:return qj(i,ft,$,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,d=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return s=Bg(it,i,s,ft),s.elementType=e,s.type=d,s.lanes=$,s}function Ah(e,s,i,d){return e=Bg(7,e,d,s),e.lanes=i,e}function qj(e,s,i,d){return e=Bg(22,e,d,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function xh(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function zh(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function bl(e,s,i,d,ft){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=ft,this.mutableSourceEagerHydrationData=null}function cl(e,s,i,d,ft,$,it,nt,_){return e=new bl(e,s,i,nt,_),s===1?(s=1,$===!0&&(s|=8)):s=0,$=Bg(3,null,null,s),e.current=$,$.stateNode=e,$.memoizedState={element:d,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah($),e}function dl(e,s,i){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:e,containerInfo:s,implementation:i}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$1(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function fl(e,s,i,d,ft,$,it,nt,_){return e=cl(i,d,!0,e,ft,$,it,nt,_),e.context=el(null),i=e.current,d=L(),ft=lh(i),$=ch(d,ft),$.callback=s!=null?s:null,dh(i,$,ft),e.current.lanes=ft,Ac(e,ft,d),Ek(e,d),e}function gl(e,s,i,d){var ft=s.current,$=L(),it=lh(ft);return i=el(i),s.context===null?s.context=i:s.pendingContext=i,s=ch($,it),s.payload={element:e},d=d===void 0?null:d,d!==null&&(s.callback=d),e=dh(ft,s,it),e!==null&&(mh(e,ft,it,$),eh(e,ft,it)),it}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function jl(e,s){il(e,s),(e=e.alternate)&&il(e,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p$1(409));gl(e,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Sk(function(){gl(null,e,null,null)}),s[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,s,i,d,ft){if(ft){if(typeof d=="function"){var $=d;d=function(){var b=hl(it);$.call(b)}}var it=fl(s,d,e,0,null,!1,!1,"",ql);return e._reactRootContainer=it,e[uf]=it.current,sf(e.nodeType===8?e.parentNode:e),Sk(),it}for(;ft=e.lastChild;)e.removeChild(ft);if(typeof d=="function"){var nt=d;d=function(){var b=hl(_);nt.call(b)}}var _=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=_,e[uf]=_.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(s,_,i,d)}),_}function sl(e,s,i,d,ft){var $=i._reactRootContainer;if($){var it=$;if(typeof ft=="function"){var nt=ft;ft=function(){var _=hl(it);nt.call(_)}}gl(s,it,e,ft)}else it=rl(i,s,e,ft,d);return hl(it)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Ek(s,B()),(K&6)===0&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var d=Zg(e,1);if(d!==null){var ft=L();mh(d,e,1,ft)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var s=Zg(e,134217728);if(s!==null){var i=L();mh(s,e,134217728,i)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var s=lh(e),i=Zg(e,s);if(i!==null){var d=L();mh(i,e,s,d)}jl(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var d=i[s];if(d!==e&&d.form===e.form){var ft=Db(d);if(!ft)throw Error(p$1(90));Wa(d),bb(d,ft)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p$1(200));return dl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!ol(e))throw Error(p$1(299));var i=!1,d="",ft=ll;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(ft=s.onRecoverableError)),s=cl(e,1,!1,null,null,i,!1,d,ft),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ml(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!pl(s))throw Error(p$1(200));return sl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!ol(e))throw Error(p$1(405));var d=i!=null&&i.hydratedSources||null,ft=!1,$="",it=ll;if(i!=null&&(i.unstable_strictMode===!0&&(ft=!0),i.identifierPrefix!==void 0&&($=i.identifierPrefix),i.onRecoverableError!==void 0&&(it=i.onRecoverableError)),s=fl(s,null,e,1,i!=null?i:null,ft,!1,$,it),e[uf]=s.current,sf(e),d)for(e=0;e<d.length;e++)i=d[e],ft=i._getVersion,ft=ft(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,ft]:s.mutableSourceEagerHydrationData.push(i,ft);return new nl(s)};reactDom_production_min.render=function(e,s,i){if(!pl(s))throw Error(p$1(200));return sl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p$1(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,d){if(!pl(i))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return sl(e,s,i,!1,d)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(e){function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}s(),e.exports=reactDom_production_min})(reactDom);var m$1=reactDom.exports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var lzString={exports:{}};(function(e){var s=function(){var i=String.fromCharCode,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",$={};function it(_,b){if(!$[_]){$[_]={};for(var c=0;c<_.length;c++)$[_][_.charAt(c)]=c}return $[_][b]}var nt={compressToBase64:function(_){if(_==null)return"";var b=nt._compress(_,6,function(c){return d.charAt(c)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(_){return _==null?"":_==""?null:nt._decompress(_.length,32,function(b){return it(d,_.charAt(b))})},compressToUTF16:function(_){return _==null?"":nt._compress(_,15,function(b){return i(b+32)})+" "},decompressFromUTF16:function(_){return _==null?"":_==""?null:nt._decompress(_.length,16384,function(b){return _.charCodeAt(b)-32})},compressToUint8Array:function(_){for(var b=nt.compress(_),c=new Uint8Array(b.length*2),a=0,o=b.length;a<o;a++){var h=b.charCodeAt(a);c[a*2]=h>>>8,c[a*2+1]=h%256}return c},decompressFromUint8Array:function(_){if(_==null)return nt.decompress(_);for(var b=new Array(_.length/2),c=0,a=b.length;c<a;c++)b[c]=_[c*2]*256+_[c*2+1];var o=[];return b.forEach(function(h){o.push(i(h))}),nt.decompress(o.join(""))},compressToEncodedURIComponent:function(_){return _==null?"":nt._compress(_,6,function(b){return ft.charAt(b)})},decompressFromEncodedURIComponent:function(_){return _==null?"":_==""?null:(_=_.replace(/ /g,"+"),nt._decompress(_.length,32,function(b){return it(ft,_.charAt(b))}))},compress:function(_){return nt._compress(_,16,function(b){return i(b)})},_compress:function(_,b,c){if(_==null)return"";var a,o,h={},g={},tt="",at="",ht="",_e=2,ut=3,ct=2,rt=[],st=0,vt=0,ot;for(ot=0;ot<_.length;ot+=1)if(tt=_.charAt(ot),Object.prototype.hasOwnProperty.call(h,tt)||(h[tt]=ut++,g[tt]=!0),at=ht+tt,Object.prototype.hasOwnProperty.call(h,at))ht=at;else{if(Object.prototype.hasOwnProperty.call(g,ht)){if(ht.charCodeAt(0)<256){for(a=0;a<ct;a++)st=st<<1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++;for(o=ht.charCodeAt(0),a=0;a<8;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1}else{for(o=1,a=0;a<ct;a++)st=st<<1|o,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=0;for(o=ht.charCodeAt(0),a=0;a<16;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1}_e--,_e==0&&(_e=Math.pow(2,ct),ct++),delete g[ht]}else for(o=h[ht],a=0;a<ct;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1;_e--,_e==0&&(_e=Math.pow(2,ct),ct++),h[at]=ut++,ht=String(tt)}if(ht!==""){if(Object.prototype.hasOwnProperty.call(g,ht)){if(ht.charCodeAt(0)<256){for(a=0;a<ct;a++)st=st<<1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++;for(o=ht.charCodeAt(0),a=0;a<8;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1}else{for(o=1,a=0;a<ct;a++)st=st<<1|o,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=0;for(o=ht.charCodeAt(0),a=0;a<16;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1}_e--,_e==0&&(_e=Math.pow(2,ct),ct++),delete g[ht]}else for(o=h[ht],a=0;a<ct;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1;_e--,_e==0&&(_e=Math.pow(2,ct),ct++)}for(o=2,a=0;a<ct;a++)st=st<<1|o&1,vt==b-1?(vt=0,rt.push(c(st)),st=0):vt++,o=o>>1;for(;;)if(st=st<<1,vt==b-1){rt.push(c(st));break}else vt++;return rt.join("")},decompress:function(_){return _==null?"":_==""?null:nt._decompress(_.length,32768,function(b){return _.charCodeAt(b)})},_decompress:function(_,b,c){var a=[],o=4,h=4,g=3,tt="",at=[],ht,_e,ut,ct,rt,st,vt,ot={val:c(0),position:b,index:1};for(ht=0;ht<3;ht+=1)a[ht]=ht;for(ut=0,rt=Math.pow(2,2),st=1;st!=rt;)ct=ot.val&ot.position,ot.position>>=1,ot.position==0&&(ot.position=b,ot.val=c(ot.index++)),ut|=(ct>0?1:0)*st,st<<=1;switch(ut){case 0:for(ut=0,rt=Math.pow(2,8),st=1;st!=rt;)ct=ot.val&ot.position,ot.position>>=1,ot.position==0&&(ot.position=b,ot.val=c(ot.index++)),ut|=(ct>0?1:0)*st,st<<=1;vt=i(ut);break;case 1:for(ut=0,rt=Math.pow(2,16),st=1;st!=rt;)ct=ot.val&ot.position,ot.position>>=1,ot.position==0&&(ot.position=b,ot.val=c(ot.index++)),ut|=(ct>0?1:0)*st,st<<=1;vt=i(ut);break;case 2:return""}for(a[3]=vt,_e=vt,at.push(vt);;){if(ot.index>_)return"";for(ut=0,rt=Math.pow(2,g),st=1;st!=rt;)ct=ot.val&ot.position,ot.position>>=1,ot.position==0&&(ot.position=b,ot.val=c(ot.index++)),ut|=(ct>0?1:0)*st,st<<=1;switch(vt=ut){case 0:for(ut=0,rt=Math.pow(2,8),st=1;st!=rt;)ct=ot.val&ot.position,ot.position>>=1,ot.position==0&&(ot.position=b,ot.val=c(ot.index++)),ut|=(ct>0?1:0)*st,st<<=1;a[h++]=i(ut),vt=h-1,o--;break;case 1:for(ut=0,rt=Math.pow(2,16),st=1;st!=rt;)ct=ot.val&ot.position,ot.position>>=1,ot.position==0&&(ot.position=b,ot.val=c(ot.index++)),ut|=(ct>0?1:0)*st,st<<=1;a[h++]=i(ut),vt=h-1,o--;break;case 2:return at.join("")}if(o==0&&(o=Math.pow(2,g),g++),a[vt])tt=a[vt];else if(vt===h)tt=_e+_e.charAt(0);else return null;at.push(tt),a[h++]=_e+tt.charAt(0),o--,_e=tt,o==0&&(o=Math.pow(2,g),g++)}}};return nt}();e!=null&&(e.exports=s)})(lzString);var queryString={},strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,s){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;s=s||1;var i=e.slice(0,s),d=e.slice(s);return Array.prototype.concat.call([],decodeComponents(i),decodeComponents(d))}function decode(e){try{return decodeURIComponent(e)}catch{for(var s=e.match(singleMatcher)||[],i=1;i<s.length;i++)e=decodeComponents(s,i).join(""),s=e.match(singleMatcher)||[];return e}}function customDecodeURIComponent(e){for(var s={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},i=multiMatcher.exec(e);i;){try{s[i[0]]=decodeURIComponent(i[0])}catch{var d=decode(i[0]);d!==i[0]&&(s[i[0]]=d)}i=multiMatcher.exec(e)}s["%C2"]="\uFFFD";for(var ft=Object.keys(s),$=0;$<ft.length;$++){var it=ft[$];e=e.replace(new RegExp(it,"g"),s[it])}return e}var decodeUriComponent=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return customDecodeURIComponent(e)}},splitOnFirst=(e,s)=>{if(!(typeof e=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(s==="")return[e];const i=e.indexOf(s);return i===-1?[e]:[e.slice(0,i),e.slice(i+s.length)]},filterObj=function(e,s){for(var i={},d=Object.keys(e),ft=Array.isArray(s),$=0;$<d.length;$++){var it=d[$],nt=e[it];(ft?s.indexOf(it)!==-1:s(it,nt,e))&&(i[it]=nt)}return i};(function(e){const s=strictUriEncode,i=decodeUriComponent,d=splitOnFirst,ft=filterObj,$=_e=>_e==null,it=Symbol("encodeFragmentIdentifier");function nt(_e){switch(_e.arrayFormat){case"index":return ut=>(ct,rt)=>{const st=ct.length;return rt===void 0||_e.skipNull&&rt===null||_e.skipEmptyString&&rt===""?ct:rt===null?[...ct,[c(ut,_e),"[",st,"]"].join("")]:[...ct,[c(ut,_e),"[",c(st,_e),"]=",c(rt,_e)].join("")]};case"bracket":return ut=>(ct,rt)=>rt===void 0||_e.skipNull&&rt===null||_e.skipEmptyString&&rt===""?ct:rt===null?[...ct,[c(ut,_e),"[]"].join("")]:[...ct,[c(ut,_e),"[]=",c(rt,_e)].join("")];case"colon-list-separator":return ut=>(ct,rt)=>rt===void 0||_e.skipNull&&rt===null||_e.skipEmptyString&&rt===""?ct:rt===null?[...ct,[c(ut,_e),":list="].join("")]:[...ct,[c(ut,_e),":list=",c(rt,_e)].join("")];case"comma":case"separator":case"bracket-separator":{const ut=_e.arrayFormat==="bracket-separator"?"[]=":"=";return ct=>(rt,st)=>st===void 0||_e.skipNull&&st===null||_e.skipEmptyString&&st===""?rt:(st=st===null?"":st,rt.length===0?[[c(ct,_e),ut,c(st,_e)].join("")]:[[rt,c(st,_e)].join(_e.arrayFormatSeparator)])}default:return ut=>(ct,rt)=>rt===void 0||_e.skipNull&&rt===null||_e.skipEmptyString&&rt===""?ct:rt===null?[...ct,c(ut,_e)]:[...ct,[c(ut,_e),"=",c(rt,_e)].join("")]}}function _(_e){let ut;switch(_e.arrayFormat){case"index":return(ct,rt,st)=>{if(ut=/\[(\d*)\]$/.exec(ct),ct=ct.replace(/\[\d*\]$/,""),!ut){st[ct]=rt;return}st[ct]===void 0&&(st[ct]={}),st[ct][ut[1]]=rt};case"bracket":return(ct,rt,st)=>{if(ut=/(\[\])$/.exec(ct),ct=ct.replace(/\[\]$/,""),!ut){st[ct]=rt;return}if(st[ct]===void 0){st[ct]=[rt];return}st[ct]=[].concat(st[ct],rt)};case"colon-list-separator":return(ct,rt,st)=>{if(ut=/(:list)$/.exec(ct),ct=ct.replace(/:list$/,""),!ut){st[ct]=rt;return}if(st[ct]===void 0){st[ct]=[rt];return}st[ct]=[].concat(st[ct],rt)};case"comma":case"separator":return(ct,rt,st)=>{const vt=typeof rt=="string"&&rt.includes(_e.arrayFormatSeparator),ot=typeof rt=="string"&&!vt&&a(rt,_e).includes(_e.arrayFormatSeparator);rt=ot?a(rt,_e):rt;const et=vt||ot?rt.split(_e.arrayFormatSeparator).map(lt=>a(lt,_e)):rt===null?rt:a(rt,_e);st[ct]=et};case"bracket-separator":return(ct,rt,st)=>{const vt=/(\[\])$/.test(ct);if(ct=ct.replace(/\[\]$/,""),!vt){st[ct]=rt&&a(rt,_e);return}const ot=rt===null?[]:rt.split(_e.arrayFormatSeparator).map(et=>a(et,_e));if(st[ct]===void 0){st[ct]=ot;return}st[ct]=[].concat(st[ct],ot)};default:return(ct,rt,st)=>{if(st[ct]===void 0){st[ct]=rt;return}st[ct]=[].concat(st[ct],rt)}}}function b(_e){if(typeof _e!="string"||_e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(_e,ut){return ut.encode?ut.strict?s(_e):encodeURIComponent(_e):_e}function a(_e,ut){return ut.decode?i(_e):_e}function o(_e){return Array.isArray(_e)?_e.sort():typeof _e=="object"?o(Object.keys(_e)).sort((ut,ct)=>Number(ut)-Number(ct)).map(ut=>_e[ut]):_e}function h(_e){const ut=_e.indexOf("#");return ut!==-1&&(_e=_e.slice(0,ut)),_e}function g(_e){let ut="";const ct=_e.indexOf("#");return ct!==-1&&(ut=_e.slice(ct)),ut}function tt(_e){_e=h(_e);const ut=_e.indexOf("?");return ut===-1?"":_e.slice(ut+1)}function at(_e,ut){return ut.parseNumbers&&!Number.isNaN(Number(_e))&&typeof _e=="string"&&_e.trim()!==""?_e=Number(_e):ut.parseBooleans&&_e!==null&&(_e.toLowerCase()==="true"||_e.toLowerCase()==="false")&&(_e=_e.toLowerCase()==="true"),_e}function ht(_e,ut){ut=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ut),b(ut.arrayFormatSeparator);const ct=_(ut),rt=Object.create(null);if(typeof _e!="string"||(_e=_e.trim().replace(/^[?#&]/,""),!_e))return rt;for(const st of _e.split("&")){if(st==="")continue;let[vt,ot]=d(ut.decode?st.replace(/\+/g," "):st,"=");ot=ot===void 0?null:["comma","separator","bracket-separator"].includes(ut.arrayFormat)?ot:a(ot,ut),ct(a(vt,ut),ot,rt)}for(const st of Object.keys(rt)){const vt=rt[st];if(typeof vt=="object"&&vt!==null)for(const ot of Object.keys(vt))vt[ot]=at(vt[ot],ut);else rt[st]=at(vt,ut)}return ut.sort===!1?rt:(ut.sort===!0?Object.keys(rt).sort():Object.keys(rt).sort(ut.sort)).reduce((st,vt)=>{const ot=rt[vt];return Boolean(ot)&&typeof ot=="object"&&!Array.isArray(ot)?st[vt]=o(ot):st[vt]=ot,st},Object.create(null))}e.extract=tt,e.parse=ht,e.stringify=(_e,ut)=>{if(!_e)return"";ut=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ut),b(ut.arrayFormatSeparator);const ct=ot=>ut.skipNull&&$(_e[ot])||ut.skipEmptyString&&_e[ot]==="",rt=nt(ut),st={};for(const ot of Object.keys(_e))ct(ot)||(st[ot]=_e[ot]);const vt=Object.keys(st);return ut.sort!==!1&&vt.sort(ut.sort),vt.map(ot=>{const et=_e[ot];return et===void 0?"":et===null?c(ot,ut):Array.isArray(et)?et.length===0&&ut.arrayFormat==="bracket-separator"?c(ot,ut)+"[]":et.reduce(rt(ot),[]).join("&"):c(ot,ut)+"="+c(et,ut)}).filter(ot=>ot.length>0).join("&")},e.parseUrl=(_e,ut)=>{ut=Object.assign({decode:!0},ut);const[ct,rt]=d(_e,"#");return Object.assign({url:ct.split("?")[0]||"",query:ht(tt(_e),ut)},ut&&ut.parseFragmentIdentifier&&rt?{fragmentIdentifier:a(rt,ut)}:{})},e.stringifyUrl=(_e,ut)=>{ut=Object.assign({encode:!0,strict:!0,[it]:!0},ut);const ct=h(_e.url).split("?")[0]||"",rt=e.extract(_e.url),st=e.parse(rt,{sort:!1}),vt=Object.assign(st,_e.query);let ot=e.stringify(vt,ut);ot&&(ot=`?${ot}`);let et=g(_e.url);return _e.fragmentIdentifier&&(et=`#${ut[it]?c(_e.fragmentIdentifier,ut):_e.fragmentIdentifier}`),`${ct}${ot}${et}`},e.pick=(_e,ut,ct)=>{ct=Object.assign({parseFragmentIdentifier:!0,[it]:!1},ct);const{url:rt,query:st,fragmentIdentifier:vt}=e.parseUrl(_e,ct);return e.stringifyUrl({url:rt,query:ft(st,ut),fragmentIdentifier:vt},ct)},e.exclude=(_e,ut,ct)=>{const rt=Array.isArray(ut)?st=>!ut.includes(st):(st,vt)=>!ut(st,vt);return e.pick(_e,rt,ct)}})(queryString);var lib$1={},ace$4={},jsxRuntime$1={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var d,ft={},$=null,it=null;i!==void 0&&($=""+i),s.key!==void 0&&($=""+s.key),s.ref!==void 0&&(it=s.ref);for(d in s)m.call(s,d)&&!p.hasOwnProperty(d)&&(ft[d]=s[d]);if(e&&e.defaultProps)for(d in s=e.defaultProps,s)ft[d]===void 0&&(ft[d]=s[d]);return{$$typeof:k,type:e,key:$,ref:it,props:ft,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(e){e.exports=reactJsxRuntime_production_min})(jsxRuntime$1);const Fragment=jsxRuntime$1.exports.Fragment,jsx=jsxRuntime$1.exports.jsx,jsxs=jsxRuntime$1.exports.jsxs,jsxRuntime=Object.freeze(Object.defineProperty({__proto__:null,Fragment,jsx,jsxs},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(jsxRuntime);var ace$3={exports:{}};(function(e,s){(function(){var i="ace",d=function(){return this}();!d&&typeof window<"u"&&(d=window);var ft=function(c,a,o){if(typeof c!="string"){ft.original?ft.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(o=a),ft.modules[c]||(ft.payloads[c]=o,ft.modules[c]=null)};ft.modules={},ft.payloads={};var $=function(c,a,o){if(typeof a=="string"){var h=_(c,a);if(h!=null)return o&&o(),h}else if(Object.prototype.toString.call(a)==="[object Array]"){for(var g=[],tt=0,at=a.length;tt<at;++tt){var ht=_(c,a[tt]);if(ht==null&&it.original)return;g.push(ht)}return o&&o.apply(null,g)||!0}},it=function(c,a){var o=$("",c,a);return o==null&&it.original?it.original.apply(this,arguments):o},nt=function(c,a){if(a.indexOf("!")!==-1){var o=a.split("!");return nt(c,o[0])+"!"+nt(c,o[1])}if(a.charAt(0)=="."){var h=c.split("/").slice(0,-1).join("/");for(a=h+"/"+a;a.indexOf(".")!==-1&&g!=a;){var g=a;a=a.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return a},_=function(c,a){a=nt(c,a);var o=ft.modules[a];if(!o){if(o=ft.payloads[a],typeof o=="function"){var h={},g={id:a,uri:"",exports:h,packaged:!0},tt=function(ht,_e){return $(a,ht,_e)},at=o(tt,h,g);h=at||g.exports,ft.modules[a]=h,delete ft.payloads[a]}o=ft.modules[a]=h||o}return o};function b(c){var a=d;c&&(d[c]||(d[c]={}),a=d[c]),(!a.define||!a.define.packaged)&&(ft.original=a.define,a.define=ft,a.define.packaged=!0),(!a.require||!a.require.packaged)&&(it.original=a.require,a.require=it,a.require.packaged=!0)}b(i)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(i,d,ft){function $(it,nt,_){Object.defineProperty(it,nt,{value:_,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||$(String.prototype,"startsWith",function(it,nt){return nt=nt||0,this.lastIndexOf(it,nt)===nt}),String.prototype.endsWith||$(String.prototype,"endsWith",function(it,nt){var _=this;(nt===void 0||nt>_.length)&&(nt=_.length),nt-=it.length;var b=_.indexOf(it,nt);return b!==-1&&b===nt}),String.prototype.repeat||$(String.prototype,"repeat",function(it){for(var nt="",_=this;it>0;)it&1&&(nt+=_),(it>>=1)&&(_+=_);return nt}),String.prototype.includes||$(String.prototype,"includes",function(it,nt){return this.indexOf(it,nt)!=-1}),Object.assign||(Object.assign=function(it){if(it==null)throw new TypeError("Cannot convert undefined or null to object");for(var nt=Object(it),_=1;_<arguments.length;_++){var b=arguments[_];b!=null&&Object.keys(b).forEach(function(c){nt[c]=b[c]})}return nt}),Object.values||(Object.values=function(it){return Object.keys(it).map(function(nt){return it[nt]})}),Array.prototype.find||$(Array.prototype,"find",function(it){for(var nt=this.length,_=arguments[1],b=0;b<nt;b++){var c=this[b];if(it.call(_,c,b,this))return c}}),Array.prototype.findIndex||$(Array.prototype,"findIndex",function(it){for(var nt=this.length,_=arguments[1],b=0;b<nt;b++){var c=this[b];if(it.call(_,c,b,this))return b}}),Array.prototype.includes||$(Array.prototype,"includes",function(it,nt){return this.indexOf(it,nt)!=-1}),Array.prototype.fill||$(Array.prototype,"fill",function(it){for(var nt=this,_=nt.length>>>0,b=arguments[1],c=b>>0,a=c<0?Math.max(_+c,0):Math.min(c,_),o=arguments[2],h=o===void 0?_:o>>0,g=h<0?Math.max(_+h,0):Math.min(h,_);a<g;)nt[a]=it,a++;return nt}),Array.of||$(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(i,d,ft){i("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(i,d,ft){d.last=function(nt){return nt[nt.length-1]},d.stringReverse=function(nt){return nt.split("").reverse().join("")},d.stringRepeat=function(nt,_){for(var b="";_>0;)_&1&&(b+=nt),(_>>=1)&&(nt+=nt);return b};var $=/^\s\s*/,it=/\s\s*$/;d.stringTrimLeft=function(nt){return nt.replace($,"")},d.stringTrimRight=function(nt){return nt.replace(it,"")},d.copyObject=function(nt){var _={};for(var b in nt)_[b]=nt[b];return _},d.copyArray=function(nt){for(var _=[],b=0,c=nt.length;b<c;b++)nt[b]&&typeof nt[b]=="object"?_[b]=this.copyObject(nt[b]):_[b]=nt[b];return _},d.deepCopy=function nt(_){if(typeof _!="object"||!_)return _;var b;if(Array.isArray(_)){b=[];for(var c=0;c<_.length;c++)b[c]=nt(_[c]);return b}if(Object.prototype.toString.call(_)!=="[object Object]")return _;b={};for(var c in _)b[c]=nt(_[c]);return b},d.arrayToMap=function(nt){for(var _={},b=0;b<nt.length;b++)_[nt[b]]=1;return _},d.createMap=function(nt){var _=Object.create(null);for(var b in nt)_[b]=nt[b];return _},d.arrayRemove=function(nt,_){for(var b=0;b<=nt.length;b++)_===nt[b]&&nt.splice(b,1)},d.escapeRegExp=function(nt){return nt.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},d.escapeHTML=function(nt){return(""+nt).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},d.getMatchOffsets=function(nt,_){var b=[];return nt.replace(_,function(c){b.push({offset:arguments[arguments.length-2],length:c.length})}),b},d.deferredCall=function(nt){var _=null,b=function(){_=null,nt()},c=function(a){return c.cancel(),_=setTimeout(b,a||0),c};return c.schedule=c,c.call=function(){return this.cancel(),nt(),c},c.cancel=function(){return clearTimeout(_),_=null,c},c.isPending=function(){return _},c},d.delayedCall=function(nt,_){var b=null,c=function(){b=null,nt()},a=function(o){b==null&&(b=setTimeout(c,o||_))};return a.delay=function(o){b&&clearTimeout(b),b=setTimeout(c,o||_)},a.schedule=a,a.call=function(){this.cancel(),nt()},a.cancel=function(){b&&clearTimeout(b),b=null},a.isPending=function(){return b},a}}),ace.define("ace/lib/oop",["require","exports","module"],function(i,d,ft){d.inherits=function($,it){$.super_=it,$.prototype=Object.create(it.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}})},d.mixin=function($,it){for(var nt in it)$[nt]=it[nt];return $},d.implement=function($,it){d.mixin($,it)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(i,d,ft){d.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},d.getOS=function(){return d.isMac?d.OS.MAC:d.isLinux?d.OS.LINUX:d.OS.WINDOWS};var $=typeof navigator=="object"?navigator:{},it=(/mac|win|linux/i.exec($.platform)||["other"])[0].toLowerCase(),nt=$.userAgent||"",_=$.appName||"";d.isWin=it=="win",d.isMac=it=="mac",d.isLinux=it=="linux",d.isIE=_=="Microsoft Internet Explorer"||_.indexOf("MSAppHost")>=0?parseFloat((nt.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((nt.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),d.isOldIE=d.isIE&&d.isIE<9,d.isGecko=d.isMozilla=nt.match(/ Gecko\/\d+/),d.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",d.isWebKit=parseFloat(nt.split("WebKit/")[1])||void 0,d.isChrome=parseFloat(nt.split(" Chrome/")[1])||void 0,d.isEdge=parseFloat(nt.split(" Edge/")[1])||void 0,d.isAIR=nt.indexOf("AdobeAIR")>=0,d.isAndroid=nt.indexOf("Android")>=0,d.isChromeOS=nt.indexOf(" CrOS ")>=0,d.isIOS=/iPad|iPhone|iPod/.test(nt)&&!window.MSStream,d.isIOS&&(d.isMac=!0),d.isMobile=d.isIOS||d.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(i,d,ft){var $=i("./useragent"),it="http://www.w3.org/1999/xhtml";d.buildDom=function o(h,g,tt){if(typeof h=="string"&&h){var at=document.createTextNode(h);return g&&g.appendChild(at),at}if(!Array.isArray(h))return h&&h.appendChild&&g&&g.appendChild(h),h;if(typeof h[0]!="string"||!h[0]){for(var ht=[],_e=0;_e<h.length;_e++){var ut=o(h[_e],g,tt);ut&&ht.push(ut)}return ht}var ct=document.createElement(h[0]),rt=h[1],st=1;rt&&typeof rt=="object"&&!Array.isArray(rt)&&(st=2);for(var _e=st;_e<h.length;_e++)o(h[_e],ct,tt);return st==2&&Object.keys(rt).forEach(function(vt){var ot=rt[vt];vt==="class"?ct.className=Array.isArray(ot)?ot.join(" "):ot:typeof ot=="function"||vt=="value"||vt[0]=="$"?ct[vt]=ot:vt==="ref"?tt&&(tt[ot]=ct):vt==="style"?typeof ot=="string"&&(ct.style.cssText=ot):ot!=null&&ct.setAttribute(vt,ot)}),g&&g.appendChild(ct),ct},d.getDocumentHead=function(o){return o||(o=document),o.head||o.getElementsByTagName("head")[0]||o.documentElement},d.createElement=function(o,h){return document.createElementNS?document.createElementNS(h||it,o):document.createElement(o)},d.removeChildren=function(o){o.innerHTML=""},d.createTextNode=function(o,h){var g=h?h.ownerDocument:document;return g.createTextNode(o)},d.createFragment=function(o){var h=o?o.ownerDocument:document;return h.createDocumentFragment()},d.hasCssClass=function(o,h){var g=(o.className+"").split(/\s+/g);return g.indexOf(h)!==-1},d.addCssClass=function(o,h){d.hasCssClass(o,h)||(o.className+=" "+h)},d.removeCssClass=function(o,h){for(var g=o.className.split(/\s+/g);;){var tt=g.indexOf(h);if(tt==-1)break;g.splice(tt,1)}o.className=g.join(" ")},d.toggleCssClass=function(o,h){for(var g=o.className.split(/\s+/g),tt=!0;;){var at=g.indexOf(h);if(at==-1)break;tt=!1,g.splice(at,1)}return tt&&g.push(h),o.className=g.join(" "),tt},d.setCssClass=function(o,h,g){g?d.addCssClass(o,h):d.removeCssClass(o,h)},d.hasCssString=function(o,h){var g=0,tt;if(h=h||document,tt=h.querySelectorAll("style")){for(;g<tt.length;)if(tt[g++].id===o)return!0}},d.removeElementById=function(o,h){h=h||document,h.getElementById(o)&&h.getElementById(o).remove()};var nt,_=[];d.useStrictCSP=function(o){nt=o,o==!1?b():_||(_=[])};function b(){var o=_;_=null,o&&o.forEach(function(h){c(h[0],h[1])})}function c(o,h,g){if(!(typeof document>"u")){if(_){if(g)b();else if(g===!1)return _.push([o,h])}if(!nt){var tt=g;!g||!g.getRootNode?tt=document:(tt=g.getRootNode(),(!tt||tt==g)&&(tt=document));var at=tt.ownerDocument||tt;if(h&&d.hasCssString(h,tt))return null;h&&(o+=`
/*# sourceURL=ace/css/`+h+" */");var ht=d.createElement("style");ht.appendChild(at.createTextNode(o)),h&&(ht.id=h),tt==at&&(tt=d.getDocumentHead(at)),tt.insertBefore(ht,tt.firstChild)}}}if(d.importCssString=c,d.importCssStylsheet=function(o,h){d.buildDom(["link",{rel:"stylesheet",href:o}],d.getDocumentHead(h))},d.scrollbarWidth=function(o){var h=d.createElement("ace_inner");h.style.width="100%",h.style.minWidth="0px",h.style.height="200px",h.style.display="block";var g=d.createElement("ace_outer"),tt=g.style;tt.position="absolute",tt.left="-10000px",tt.overflow="hidden",tt.width="200px",tt.minWidth="0px",tt.height="150px",tt.display="block",g.appendChild(h);var at=o&&o.documentElement||document&&document.documentElement;if(!at)return 0;at.appendChild(g);var ht=h.offsetWidth;tt.overflow="scroll";var _e=h.offsetWidth;return ht===_e&&(_e=g.clientWidth),at.removeChild(g),ht-_e},d.computedStyle=function(o,h){return window.getComputedStyle(o,"")||{}},d.setStyle=function(o,h,g){o[h]!==g&&(o[h]=g)},d.HAS_CSS_ANIMATION=!1,d.HAS_CSS_TRANSFORMS=!1,d.HI_DPI=$.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,$.isChromeOS&&(d.HI_DPI=!1),typeof document<"u"){var a=document.createElement("div");d.HI_DPI&&a.style.transform!==void 0&&(d.HAS_CSS_TRANSFORMS=!0),!$.isEdge&&typeof a.style.animationName<"u"&&(d.HAS_CSS_ANIMATION=!0),a=null}d.HAS_CSS_TRANSFORMS?d.translate=function(o,h,g){o.style.transform="translate("+Math.round(h)+"px, "+Math.round(g)+"px)"}:d.translate=function(o,h,g){o.style.top=Math.round(g)+"px",o.style.left=Math.round(h)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(i,d,ft){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var $=i("./dom");d.get=function(it,nt){var _=new XMLHttpRequest;_.open("GET",it,!0),_.onreadystatechange=function(){_.readyState===4&&nt(_.responseText)},_.send(null)},d.loadScript=function(it,nt){var _=$.getDocumentHead(),b=document.createElement("script");b.src=it,_.appendChild(b),b.onload=b.onreadystatechange=function(c,a){(a||!b.readyState||b.readyState=="loaded"||b.readyState=="complete")&&(b=b.onload=b.onreadystatechange=null,a||nt())}},d.qualifyURL=function(it){var nt=document.createElement("a");return nt.href=it,nt.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(i,d,ft){var $={},it=function(){this.propagationStopped=!0},nt=function(){this.defaultPrevented=!0};$._emit=$._dispatchEvent=function(_,b){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[_]||[],a=this._defaultHandlers[_];if(!(!c.length&&!a)){(typeof b!="object"||!b)&&(b={}),b.type||(b.type=_),b.stopPropagation||(b.stopPropagation=it),b.preventDefault||(b.preventDefault=nt),c=c.slice();for(var o=0;o<c.length&&(c[o](b,this),!b.propagationStopped);o++);if(a&&!b.defaultPrevented)return a(b,this)}},$._signal=function(_,b){var c=(this._eventRegistry||{})[_];if(!!c){c=c.slice();for(var a=0;a<c.length;a++)c[a](b,this)}},$.once=function(_,b){var c=this;if(this.on(_,function a(){c.off(_,a),b.apply(null,arguments)}),!b)return new Promise(function(a){b=a})},$.setDefaultHandler=function(_,b){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[_]){var a=c[_],o=c._disabled_[_];o||(c._disabled_[_]=o=[]),o.push(a);var h=o.indexOf(b);h!=-1&&o.splice(h,1)}c[_]=b},$.removeDefaultHandler=function(_,b){var c=this._defaultHandlers;if(!!c){var a=c._disabled_[_];if(c[_]==b)a&&this.setDefaultHandler(_,a.pop());else if(a){var o=a.indexOf(b);o!=-1&&a.splice(o,1)}}},$.on=$.addEventListener=function(_,b,c){this._eventRegistry=this._eventRegistry||{};var a=this._eventRegistry[_];return a||(a=this._eventRegistry[_]=[]),a.indexOf(b)==-1&&a[c?"unshift":"push"](b),b},$.off=$.removeListener=$.removeEventListener=function(_,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[_];if(!!c){var a=c.indexOf(b);a!==-1&&c.splice(a,1)}},$.removeAllListeners=function(_){_||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[_]=void 0),this._defaultHandlers&&(this._defaultHandlers[_]=void 0)},d.EventEmitter=$}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,d,ft){var $=i("./oop"),it=i("./event_emitter").EventEmitter,nt={setOptions:function(a){Object.keys(a).forEach(function(o){this.setOption(o,a[o])},this)},getOptions:function(a){var o={};if(a)Array.isArray(a)||(o=a,a=Object.keys(o));else{var h=this.$options;a=Object.keys(h).filter(function(g){return!h[g].hidden})}return a.forEach(function(g){o[g]=this.getOption(g)},this),o},setOption:function(a,o){if(this["$"+a]!==o){var h=this.$options[a];if(!h)return _('misspelled option "'+a+'"');if(h.forwardTo)return this[h.forwardTo]&&this[h.forwardTo].setOption(a,o);h.handlesSet||(this["$"+a]=o),h&&h.set&&h.set.call(this,o)}},getOption:function(a){var o=this.$options[a];return o?o.forwardTo?this[o.forwardTo]&&this[o.forwardTo].getOption(a):o&&o.get?o.get.call(this):this["$"+a]:_('misspelled option "'+a+'"')}};function _(a){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function b(a,o){var h=new Error(a);h.data=o,typeof console=="object"&&console.error&&console.error(h),setTimeout(function(){throw h})}var c=function(){this.$defaultOptions={}};(function(){$.implement(this,it),this.defineOptions=function(a,o,h){return a.$options||(this.$defaultOptions[o]=a.$options={}),Object.keys(h).forEach(function(g){var tt=h[g];typeof tt=="string"&&(tt={forwardTo:tt}),tt.name||(tt.name=g),a.$options[tt.name]=tt,"initialValue"in tt&&(a["$"+tt.name]=tt.initialValue)}),$.implement(a,nt),this},this.resetOptions=function(a){Object.keys(a.$options).forEach(function(o){var h=a.$options[o];"value"in h&&a.setOption(o,h.value)})},this.setDefaultValue=function(a,o,h){if(!a){for(a in this.$defaultOptions)if(this.$defaultOptions[a][o])break;if(!this.$defaultOptions[a][o])return!1}var g=this.$defaultOptions[a]||(this.$defaultOptions[a]={});g[o]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,o,h):g[o].value=h)},this.setDefaultValues=function(a,o){Object.keys(o).forEach(function(h){this.setDefaultValue(a,h,o[h])},this)},this.warn=_,this.reportError=b}).call(c.prototype),d.AppConfig=c}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(i,d,ft){ft.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(i,d,ft){d.isDark=!1,d.cssClass="ace-tm",d.cssText=i("./textmate.css"),d.$id="ace/theme/textmate";var $=i("../lib/dom");$.importCssString(d.cssText,d.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(i,d,ft){var $=i("./lib/lang");i("./lib/oop");var it=i("./lib/net"),nt=i("./lib/dom"),_=i("./lib/app_config").AppConfig;ft.exports=d=new _;var b={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};d.get=function(o){if(!b.hasOwnProperty(o))throw new Error("Unknown config key: "+o);return b[o]},d.set=function(o,h){if(b.hasOwnProperty(o))b[o]=h;else if(this.setDefaultValue("",o,h)==!1)throw new Error("Unknown config key: "+o);o=="useStrictCSP"&&nt.useStrictCSP(h)},d.all=function(){return $.copyObject(b)},d.$modes={},d.moduleUrl=function(o,h){if(b.$moduleUrls[o])return b.$moduleUrls[o];var g=o.split("/");h=h||g[g.length-2]||"";var tt=h=="snippets"?"/":"-",at=g[g.length-1];if(h=="worker"&&tt=="-"){var ht=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");at=at.replace(ht,"")}(!at||at==h)&&g.length>1&&(at=g[g.length-2]);var _e=b[h+"Path"];return _e==null?_e=b.basePath:tt=="/"&&(h=tt=""),_e&&_e.slice(-1)!="/"&&(_e+="/"),_e+h+tt+at+this.get("suffix")},d.setModuleUrl=function(o,h){return b.$moduleUrls[o]=h};var c=function(o,h){return o=="ace/theme/textmate"?h(null,i("./theme/textmate")):console.error("loader is not configured")};d.setLoader=function(o){c=o},d.$loading={},d.loadModule=function(o,h){var g,tt;Array.isArray(o)&&(tt=o[0],o=o[1]);try{g=i(o)}catch{}if(g&&!d.$loading[o])return h&&h(g);if(d.$loading[o]||(d.$loading[o]=[]),d.$loading[o].push(h),!(d.$loading[o].length>1)){var at=function(){c(o,function(ht,_e){d._emit("load.module",{name:o,module:_e});var ut=d.$loading[o];d.$loading[o]=null,ut.forEach(function(ct){ct&&ct(_e)})})};if(!d.get("packaged"))return at();it.loadScript(d.moduleUrl(o,tt),at),a()}};var a=function(){!b.basePath&&!b.workerPath&&!b.modePath&&!b.themePath&&!Object.keys(b.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),a=function(){})};d.version="1.13.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(i,d,ft){i("./lib/fixoldbrowsers");var $=i("./config");$.setLoader(function(b,c){i([b],function(a){c(null,a)})});var it=function(){return this||typeof window<"u"&&window}();ft.exports=function(b){$.init=nt,b.require=i},nt(!0);function nt(b){if(!(!it||!it.document)){$.set("packaged",b||i.packaged||ft.packaged||it.define&&(void 0).packaged);for(var c={},a="",o=document.currentScript||document._currentScript,h=o&&o.ownerDocument||document,g=h.getElementsByTagName("script"),tt=0;tt<g.length;tt++){var at=g[tt],ht=at.src||at.getAttribute("src");if(!!ht){for(var _e=at.attributes,ut=0,ct=_e.length;ut<ct;ut++){var rt=_e[ut];rt.name.indexOf("data-ace-")===0&&(c[_(rt.name.replace(/^data-ace-/,""))]=rt.value)}var st=ht.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);st&&(a=st[1])}}a&&(c.base=c.base||a,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var vt in c)typeof c[vt]<"u"&&$.set(vt,c[vt])}}function _(b){return b.replace(/-(.)/g,function(c,a){return a.toUpperCase()})}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(i,d,ft){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var $=i("./oop"),it=function(){var nt={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};nt.PRINTABLE_KEYS[173]="-";var _,b;for(b in nt.FUNCTION_KEYS)_=nt.FUNCTION_KEYS[b].toLowerCase(),nt[_]=parseInt(b,10);for(b in nt.PRINTABLE_KEYS)_=nt.PRINTABLE_KEYS[b].toLowerCase(),nt[_]=parseInt(b,10);return $.mixin(nt,nt.MODIFIER_KEYS),$.mixin(nt,nt.PRINTABLE_KEYS),$.mixin(nt,nt.FUNCTION_KEYS),nt.enter=nt.return,nt.escape=nt.esc,nt.del=nt.delete,function(){for(var c=["cmd","ctrl","alt","shift"],a=Math.pow(2,c.length);a--;)nt.KEY_MODS[a]=c.filter(function(o){return a&nt.KEY_MODS[o]}).join("-")+"-"}(),nt.KEY_MODS[0]="",nt.KEY_MODS[-1]="input-",nt}();$.mixin(d,it),d.keyCodeToString=function(nt){var _=it[nt];return typeof _!="string"&&(_=String.fromCharCode(nt)),_.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,d,ft){var $=i("./keys"),it=i("./useragent"),nt=null,_=0,b;function c(){b=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){b={passive:!1}}})}catch{}}function a(){return b==null&&c(),b}function o(ut,ct,rt){this.elem=ut,this.type=ct,this.callback=rt}o.prototype.destroy=function(){g(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=d.addListener=function(ut,ct,rt,st){ut.addEventListener(ct,rt,a()),st&&st.$toDestroy.push(new o(ut,ct,rt))},g=d.removeListener=function(ut,ct,rt){ut.removeEventListener(ct,rt,a())};d.stopEvent=function(ut){return d.stopPropagation(ut),d.preventDefault(ut),!1},d.stopPropagation=function(ut){ut.stopPropagation&&ut.stopPropagation()},d.preventDefault=function(ut){ut.preventDefault&&ut.preventDefault()},d.getButton=function(ut){return ut.type=="dblclick"?0:ut.type=="contextmenu"||it.isMac&&ut.ctrlKey&&!ut.altKey&&!ut.shiftKey?2:ut.button},d.capture=function(ut,ct,rt){var st=ut&&ut.ownerDocument||document;function vt(ot){ct&&ct(ot),rt&&rt(ot),g(st,"mousemove",ct),g(st,"mouseup",vt),g(st,"dragstart",vt)}return h(st,"mousemove",ct),h(st,"mouseup",vt),h(st,"dragstart",vt),vt},d.addMouseWheelListener=function(ut,ct,rt){h(ut,"wheel",function(st){var vt=.15,ot=st.deltaX||0,et=st.deltaY||0;switch(st.deltaMode){case st.DOM_DELTA_PIXEL:st.wheelX=ot*vt,st.wheelY=et*vt;break;case st.DOM_DELTA_LINE:var lt=15;st.wheelX=ot*lt,st.wheelY=et*lt;break;case st.DOM_DELTA_PAGE:var mt=150;st.wheelX=ot*mt,st.wheelY=et*mt;break}ct(st)},rt)},d.addMultiMouseDownListener=function(ut,ct,rt,st,vt){var ot=0,et,lt,mt,xt={2:"dblclick",3:"tripleclick",4:"quadclick"};function wt(St){if(d.getButton(St)!==0?ot=0:St.detail>1?(ot++,ot>4&&(ot=1)):ot=1,it.isIE){var Tt=Math.abs(St.clientX-et)>5||Math.abs(St.clientY-lt)>5;(!mt||Tt)&&(ot=1),mt&&clearTimeout(mt),mt=setTimeout(function(){mt=null},ct[ot-1]||600),ot==1&&(et=St.clientX,lt=St.clientY)}if(St._clicks=ot,rt[st]("mousedown",St),ot>4)ot=0;else if(ot>1)return rt[st](xt[ot],St)}Array.isArray(ut)||(ut=[ut]),ut.forEach(function(St){h(St,"mousedown",wt,vt)})};var tt=function(ut){return 0|(ut.ctrlKey?1:0)|(ut.altKey?2:0)|(ut.shiftKey?4:0)|(ut.metaKey?8:0)};d.getModifierString=function(ut){return $.KEY_MODS[tt(ut)]};function at(ut,ct,rt){var st=tt(ct);if(!it.isMac&&nt){if(ct.getModifierState&&(ct.getModifierState("OS")||ct.getModifierState("Win"))&&(st|=8),nt.altGr)if((3&st)!=3)nt.altGr=0;else return;if(rt===18||rt===17){var vt="location"in ct?ct.location:ct.keyLocation;if(rt===17&&vt===1)nt[rt]==1&&(_=ct.timeStamp);else if(rt===18&&st===3&&vt===2){var ot=ct.timeStamp-_;ot<50&&(nt.altGr=!0)}}}if(rt in $.MODIFIER_KEYS&&(rt=-1),!st&&rt===13){var vt="location"in ct?ct.location:ct.keyLocation;if(vt===3&&(ut(ct,st,-rt),ct.defaultPrevented))return}if(it.isChromeOS&&st&8){if(ut(ct,st,rt),ct.defaultPrevented)return;st&=-9}return!st&&!(rt in $.FUNCTION_KEYS)&&!(rt in $.PRINTABLE_KEYS)?!1:ut(ct,st,rt)}d.addCommandKeyListener=function(ut,ct,rt){if(it.isOldGecko||it.isOpera&&!("KeyboardEvent"in window)){var st=null;h(ut,"keydown",function(ot){st=ot.keyCode},rt),h(ut,"keypress",function(ot){return at(ct,ot,st)},rt)}else{var vt=null;h(ut,"keydown",function(ot){nt[ot.keyCode]=(nt[ot.keyCode]||0)+1;var et=at(ct,ot,ot.keyCode);return vt=ot.defaultPrevented,et},rt),h(ut,"keypress",function(ot){vt&&(ot.ctrlKey||ot.altKey||ot.shiftKey||ot.metaKey)&&(d.stopEvent(ot),vt=null)},rt),h(ut,"keyup",function(ot){nt[ot.keyCode]=null},rt),nt||(ht(),h(window,"focus",ht))}};function ht(){nt=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!it.isOldIE){var _e=1;d.nextTick=function(ut,ct){ct=ct||window;var rt="zero-timeout-message-"+_e++,st=function(vt){vt.data==rt&&(d.stopPropagation(vt),g(ct,"message",st),ut())};h(ct,"message",st),ct.postMessage(rt,"*")}}d.$idleBlocked=!1,d.onIdle=function(ut,ct){return setTimeout(function rt(){d.$idleBlocked?setTimeout(rt,100):ut()},ct)},d.$idleBlockId=null,d.blockIdle=function(ut){d.$idleBlockId&&clearTimeout(d.$idleBlockId),d.$idleBlocked=!0,d.$idleBlockId=setTimeout(function(){d.$idleBlocked=!1},ut||100)},d.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),d.nextFrame?d.nextFrame=d.nextFrame.bind(window):d.nextFrame=function(ut){setTimeout(ut,17)}}),ace.define("ace/range",["require","exports","module"],function(i,d,ft){var $=function(nt,_){return nt.row-_.row||nt.column-_.column},it=function(nt,_,b,c){this.start={row:nt,column:_},this.end={row:b,column:c}};(function(){this.isEqual=function(nt){return this.start.row===nt.start.row&&this.end.row===nt.end.row&&this.start.column===nt.start.column&&this.end.column===nt.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(nt,_){return this.compare(nt,_)==0},this.compareRange=function(nt){var _,b=nt.end,c=nt.start;return _=this.compare(b.row,b.column),_==1?(_=this.compare(c.row,c.column),_==1?2:_==0?1:0):_==-1?-2:(_=this.compare(c.row,c.column),_==-1?-1:_==1?42:0)},this.comparePoint=function(nt){return this.compare(nt.row,nt.column)},this.containsRange=function(nt){return this.comparePoint(nt.start)==0&&this.comparePoint(nt.end)==0},this.intersects=function(nt){var _=this.compareRange(nt);return _==-1||_==0||_==1},this.isEnd=function(nt,_){return this.end.row==nt&&this.end.column==_},this.isStart=function(nt,_){return this.start.row==nt&&this.start.column==_},this.setStart=function(nt,_){typeof nt=="object"?(this.start.column=nt.column,this.start.row=nt.row):(this.start.row=nt,this.start.column=_)},this.setEnd=function(nt,_){typeof nt=="object"?(this.end.column=nt.column,this.end.row=nt.row):(this.end.row=nt,this.end.column=_)},this.inside=function(nt,_){return this.compare(nt,_)==0?!(this.isEnd(nt,_)||this.isStart(nt,_)):!1},this.insideStart=function(nt,_){return this.compare(nt,_)==0?!this.isEnd(nt,_):!1},this.insideEnd=function(nt,_){return this.compare(nt,_)==0?!this.isStart(nt,_):!1},this.compare=function(nt,_){return!this.isMultiLine()&&nt===this.start.row?_<this.start.column?-1:_>this.end.column?1:0:nt<this.start.row?-1:nt>this.end.row?1:this.start.row===nt?_>=this.start.column?0:-1:this.end.row===nt?_<=this.end.column?0:1:0},this.compareStart=function(nt,_){return this.start.row==nt&&this.start.column==_?-1:this.compare(nt,_)},this.compareEnd=function(nt,_){return this.end.row==nt&&this.end.column==_?1:this.compare(nt,_)},this.compareInside=function(nt,_){return this.end.row==nt&&this.end.column==_?1:this.start.row==nt&&this.start.column==_?-1:this.compare(nt,_)},this.clipRows=function(nt,_){if(this.end.row>_)var b={row:_+1,column:0};else if(this.end.row<nt)var b={row:nt,column:0};if(this.start.row>_)var c={row:_+1,column:0};else if(this.start.row<nt)var c={row:nt,column:0};return it.fromPoints(c||this.start,b||this.end)},this.extend=function(nt,_){var b=this.compare(nt,_);if(b==0)return this;if(b==-1)var c={row:nt,column:_};else var a={row:nt,column:_};return it.fromPoints(c||this.start,a||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return it.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new it(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new it(this.start.row,0,this.end.row,0)},this.toScreenRange=function(nt){var _=nt.documentToScreenPosition(this.start),b=nt.documentToScreenPosition(this.end);return new it(_.row,_.column,b.row,b.column)},this.moveBy=function(nt,_){this.start.row+=nt,this.start.column+=_,this.end.row+=nt,this.end.column+=_}}).call(it.prototype),it.fromPoints=function(nt,_){return new it(nt.row,nt.column,_.row,_.column)},it.comparePoints=$,it.comparePoints=function(nt,_){return nt.row-_.row||nt.column-_.column},d.Range=it}),ace.define("ace/clipboard",["require","exports","module"],function(i,d,ft){var $;ft.exports={lineMode:!1,pasteCancelled:function(){return $&&$>Date.now()-50?!0:$=!1},cancel:function(){$=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(i,d,ft){var $=i("../lib/event"),it=i("../lib/useragent"),nt=i("../lib/dom"),_=i("../lib/lang"),b=i("../clipboard"),c=it.isChrome<18,a=it.isIE,o=it.isChrome>63,h=400,g=i("../lib/keys"),tt=g.KEY_MODS,at=it.isIOS,ht=at?/\s/:/\n/,_e=it.isMobile,ut=function(ct,rt){var st=nt.createElement("textarea");st.className="ace_text-input",st.setAttribute("wrap","off"),st.setAttribute("autocorrect","off"),st.setAttribute("autocapitalize","off"),st.setAttribute("spellcheck",!1),st.style.opacity="0",ct.insertBefore(st,ct.firstChild);var vt=!1,ot=!1,et=!1,lt=!1,mt="";_e||(st.style.fontSize="1px");var xt=!1,wt=!1,St="",Tt=0,kt=0,Vt=0;try{var Ct=document.activeElement===st}catch{}$.addListener(st,"blur",function(gn){wt||(rt.onBlur(gn),Ct=!1)},rt),$.addListener(st,"focus",function(gn){if(!wt){if(Ct=!0,it.isEdge)try{if(!document.hasFocus())return}catch{}rt.onFocus(gn),it.isEdge?setTimeout(Rt):Rt()}},rt),this.$focusScroll=!1,this.focus=function(){if(mt||o||this.$focusScroll=="browser")return st.focus({preventScroll:!0});var gn=st.style.top;st.style.position="fixed",st.style.top="0px";try{var Fn=st.getBoundingClientRect().top!=0}catch{return}var Ln=[];if(Fn)for(var tr=st.parentElement;tr&&tr.nodeType==1;)Ln.push(tr),tr.setAttribute("ace_nocontext",!0),!tr.parentElement&&tr.getRootNode?tr=tr.getRootNode().host:tr=tr.parentElement;st.focus({preventScroll:!0}),Fn&&Ln.forEach(function(On){On.removeAttribute("ace_nocontext")}),setTimeout(function(){st.style.position="",st.style.top=="0px"&&(st.style.top=gn)},0)},this.blur=function(){st.blur()},this.isFocused=function(){return Ct},rt.on("beforeEndOperation",function(){var gn=rt.curOp,Fn=gn&&gn.command&&gn.command.name;if(Fn!="insertstring"){var Ln=Fn&&(gn.docChanged||gn.selectionChanged);et&&Ln&&(St=st.value="",Nt()),Rt()}});var Rt=at?function(gn){if(!(!Ct||vt&&!gn||lt)){gn||(gn="");var Fn=`
 ab`+gn+`cde fg
`;Fn!=st.value&&(st.value=St=Fn);var Ln=4,tr=4+(gn.length||(rt.selection.isEmpty()?0:1));(Tt!=Ln||kt!=tr)&&st.setSelectionRange(Ln,tr),Tt=Ln,kt=tr}}:function(){if(!(et||lt)&&!(!Ct&&!Mt)){et=!0;var gn=0,Fn=0,Ln="";if(rt.session){var tr=rt.selection,On=tr.getRange(),hr=tr.cursor.row;if(gn=On.start.column,Fn=On.end.column,Ln=rt.session.getLine(hr),On.start.row!=hr){var Yn=rt.session.getLine(hr-1);gn=On.start.row<hr-1?0:gn,Fn+=Yn.length+1,Ln=Yn+`
`+Ln}else if(On.end.row!=hr){var In=rt.session.getLine(hr+1);Fn=On.end.row>hr+1?In.length:Fn,Fn+=Ln.length+1,Ln=Ln+`
`+In}else _e&&hr>0&&(Ln=`
`+Ln,Fn+=1,gn+=1);Ln.length>h&&(gn<h&&Fn<h?Ln=Ln.slice(0,h):(Ln=`
`,gn==Fn?gn=Fn=0:(gn=0,Fn=1)))}var ar=Ln+`

`;if(ar!=St&&(st.value=St=ar,Tt=kt=ar.length),Mt&&(Tt=st.selectionStart,kt=st.selectionEnd),kt!=Fn||Tt!=gn||st.selectionEnd!=kt)try{st.setSelectionRange(gn,Fn),Tt=gn,kt=Fn}catch{}et=!1}};this.resetSelection=Rt,Ct&&rt.onFocus();var zt=function(gn){return gn.selectionStart===0&&gn.selectionEnd>=St.length&&gn.value===St&&St&&gn.selectionEnd!==kt},Xt=function(gn){et||(vt?vt=!1:zt(st)?(rt.selectAll(),Rt()):_e&&st.selectionStart!=Tt&&Rt())},Pt=null;this.setInputHandler=function(gn){Pt=gn},this.getInputHandler=function(){return Pt};var Mt=!1,jt=function(gn,Fn){if(Mt&&(Mt=!1),ot)return Rt(),gn&&rt.onPaste(gn),ot=!1,"";for(var Ln=st.selectionStart,tr=st.selectionEnd,On=Tt,hr=St.length-kt,Yn=gn,In=gn.length-Ln,ar=gn.length-tr,Dt=0;On>0&&St[Dt]==gn[Dt];)Dt++,On--;for(Yn=Yn.slice(Dt),Dt=1;hr>0&&St.length-Dt>Tt-1&&St[St.length-Dt]==gn[gn.length-Dt];)Dt++,hr--;In-=Dt-1,ar-=Dt-1;var qt=Yn.length-Dt+1;if(qt<0&&(On=-qt,qt=0),Yn=Yn.slice(0,qt),!Fn&&!Yn&&!In&&!On&&!hr&&!ar)return"";lt=!0;var en=!1;return it.isAndroid&&Yn==". "&&(Yn="  ",en=!0),Yn&&!On&&!hr&&!In&&!ar||xt?rt.onTextInput(Yn):rt.onTextInput(Yn,{extendLeft:On,extendRight:hr,restoreStart:In,restoreEnd:ar}),lt=!1,St=gn,Tt=Ln,kt=tr,Vt=ar,en?`
`:Yn},Zt=function(gn){if(et)return Wt();if(gn&&gn.inputType){if(gn.inputType=="historyUndo")return rt.execCommand("undo");if(gn.inputType=="historyRedo")return rt.execCommand("redo")}var Fn=st.value,Ln=jt(Fn,!0);(Fn.length>h+100||ht.test(Ln)||_e&&Tt<1&&Tt==kt)&&Rt()},Yt=function(gn,Fn,Ln){var tr=gn.clipboardData||window.clipboardData;if(!(!tr||c)){var On=a||Ln?"Text":"text/plain";try{return Fn?tr.setData(On,Fn)!==!1:tr.getData(On)}catch(hr){if(!Ln)return Yt(hr,Fn,!0)}}},fn=function(gn,Fn){var Ln=rt.getCopyText();if(!Ln)return $.preventDefault(gn);Yt(gn,Ln)?(at&&(Rt(Ln),vt=Ln,setTimeout(function(){vt=!1},10)),Fn?rt.onCut():rt.onCopy(),$.preventDefault(gn)):(vt=!0,st.value=Ln,st.select(),setTimeout(function(){vt=!1,Rt(),Fn?rt.onCut():rt.onCopy()}))},an=function(gn){fn(gn,!0)},dn=function(gn){fn(gn,!1)},cn=function(gn){var Fn=Yt(gn);b.pasteCancelled()||(typeof Fn=="string"?(Fn&&rt.onPaste(Fn,gn),it.isIE&&setTimeout(Rt),$.preventDefault(gn)):(st.value="",ot=!0))};$.addCommandKeyListener(st,rt.onCommandKey.bind(rt),rt),$.addListener(st,"select",Xt,rt),$.addListener(st,"input",Zt,rt),$.addListener(st,"cut",an,rt),$.addListener(st,"copy",dn,rt),$.addListener(st,"paste",cn,rt),(!("oncut"in st)||!("oncopy"in st)||!("onpaste"in st))&&$.addListener(ct,"keydown",function(gn){if(!(it.isMac&&!gn.metaKey||!gn.ctrlKey))switch(gn.keyCode){case 67:dn(gn);break;case 86:cn(gn);break;case 88:an(gn);break}},rt);var Ut=function(gn){if(!(et||!rt.onCompositionStart||rt.$readOnly)&&(et={},!xt)){gn.data&&(et.useTextareaForIME=!1),setTimeout(Wt,0),rt._signal("compositionStart"),rt.on("mousedown",ln);var Fn=rt.getSelectionRange();Fn.end.row=Fn.start.row,Fn.end.column=Fn.start.column,et.markerRange=Fn,et.selectionStart=Tt,rt.onCompositionStart(et),et.useTextareaForIME?(St=st.value="",Tt=0,kt=0):(st.msGetInputContext&&(et.context=st.msGetInputContext()),st.getInputContext&&(et.context=st.getInputContext()))}},Wt=function(){if(!(!et||!rt.onCompositionUpdate||rt.$readOnly)){if(xt)return ln();if(et.useTextareaForIME)rt.onCompositionUpdate(st.value);else{var gn=st.value;jt(gn),et.markerRange&&(et.context&&(et.markerRange.start.column=et.selectionStart=et.context.compositionStartOffset),et.markerRange.end.column=et.markerRange.start.column+kt-et.selectionStart+Vt)}}},Nt=function(gn){!rt.onCompositionEnd||rt.$readOnly||(et=!1,rt.onCompositionEnd(),rt.off("mousedown",ln),gn&&Zt())};function ln(){wt=!0,st.blur(),st.focus(),wt=!1}var yn=_.delayedCall(Wt,50).schedule.bind(null,null);function rn(gn){gn.keyCode==27&&st.value.length<st.selectionStart&&(et||(St=st.value),Tt=kt=-1,Rt()),yn()}$.addListener(st,"compositionstart",Ut,rt),$.addListener(st,"compositionupdate",Wt,rt),$.addListener(st,"keyup",rn,rt),$.addListener(st,"keydown",yn,rt),$.addListener(st,"compositionend",Nt,rt),this.getElement=function(){return st},this.setCommandMode=function(gn){xt=gn,st.readOnly=!1},this.setReadOnly=function(gn){xt||(st.readOnly=gn)},this.setCopyWithEmptySelection=function(gn){},this.onContextMenu=function(gn){Mt=!0,Rt(),rt._emit("nativecontextmenu",{target:rt,domEvent:gn}),this.moveToMouse(gn,!0)},this.moveToMouse=function(gn,Fn){mt||(mt=st.style.cssText),st.style.cssText=(Fn?"z-index:100000;":"")+(it.isIE?"opacity:0.1;":"")+"text-indent: -"+(Tt+kt)*rt.renderer.characterWidth*.5+"px;";var Ln=rt.container.getBoundingClientRect(),tr=nt.computedStyle(rt.container),On=Ln.top+(parseInt(tr.borderTopWidth)||0),hr=Ln.left+(parseInt(Ln.borderLeftWidth)||0),Yn=Ln.bottom-On-st.clientHeight-2,In=function(ar){nt.translate(st,ar.clientX-hr-2,Math.min(ar.clientY-On-2,Yn))};In(gn),gn.type=="mousedown"&&(rt.renderer.$isMousePressed=!0,clearTimeout(Un),it.isWin&&$.capture(rt.container,In,Qn))},this.onContextMenuClose=Qn;var Un;function Qn(){clearTimeout(Un),Un=setTimeout(function(){mt&&(st.style.cssText=mt,mt=""),rt.renderer.$isMousePressed=!1,rt.renderer.$keepTextAreaAtCursor&&rt.renderer.$moveTextAreaToCursor()},0)}var Zn=function(gn){rt.textInput.onContextMenu(gn),Qn()};$.addListener(st,"mouseup",Zn,rt),$.addListener(st,"mousedown",function(gn){gn.preventDefault(),Qn()},rt),$.addListener(rt.renderer.scroller,"contextmenu",Zn,rt),$.addListener(st,"contextmenu",Zn,rt),at&&Sr(ct,rt,st);function Sr(gn,Fn,Ln){var tr=null,On=!1;Ln.addEventListener("keydown",function(Yn){tr&&clearTimeout(tr),On=!0},!0),Ln.addEventListener("keyup",function(Yn){tr=setTimeout(function(){On=!1},100)},!0);var hr=function(Yn){if(document.activeElement===Ln&&!(On||et||Fn.$mouseHandler.isMousePressed)&&!vt){var In=Ln.selectionStart,ar=Ln.selectionEnd,Dt=null,qt=0;if(In==0?Dt=g.up:In==1?Dt=g.home:ar>kt&&St[ar]==`
`?Dt=g.end:In<Tt&&St[In-1]==" "?(Dt=g.left,qt=tt.option):In<Tt||In==Tt&&kt!=Tt&&In==ar?Dt=g.left:ar>kt&&St.slice(0,ar).split(`
`).length>2?Dt=g.down:ar>kt&&St[ar-1]==" "?(Dt=g.right,qt=tt.option):(ar>kt||ar==kt&&kt!=Tt&&In==ar)&&(Dt=g.right),In!==ar&&(qt|=tt.shift),Dt){var en=Fn.onCommandKey({},qt,Dt);if(!en&&Fn.commands){Dt=g.keyCodeToString(Dt);var Cn=Fn.commands.findKeyCommand(qt,Dt);Cn&&Fn.execCommand(Cn)}Tt=In,kt=ar,Rt("")}}};document.addEventListener("selectionchange",hr),Fn.on("destroy",function(){document.removeEventListener("selectionchange",hr)})}this.destroy=function(){st.parentElement&&st.parentElement.removeChild(st)}};d.TextInput=ut,d.$setUserAgentForTests=function(ct,rt){_e=ct,at=rt}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(i,d,ft){var $=i("../lib/useragent"),it=0,nt=550;function _(a){a.$clickSelection=null;var o=a.editor;o.setDefaultHandler("mousedown",this.onMouseDown.bind(a)),o.setDefaultHandler("dblclick",this.onDoubleClick.bind(a)),o.setDefaultHandler("tripleclick",this.onTripleClick.bind(a)),o.setDefaultHandler("quadclick",this.onQuadClick.bind(a)),o.setDefaultHandler("mousewheel",this.onMouseWheel.bind(a));var h=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];h.forEach(function(g){a[g]=this[g]},this),a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange"),a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange")}(function(){this.onMouseDown=function(a){var o=a.inSelection(),h=a.getDocumentPosition();this.mousedownEvent=a;var g=this.editor,tt=a.getButton();if(tt!==0){var at=g.getSelectionRange(),ht=at.isEmpty();(ht||tt==1)&&g.selection.moveToPosition(h),tt==2&&(g.textInput.onContextMenu(a.domEvent),$.isMozilla||a.preventDefault());return}if(this.mousedownEvent.time=Date.now(),o&&!g.isFocused()&&(g.focus(),this.$focusTimeout&&!this.$clickSelection&&!g.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(a);return}return this.captureMouse(a),this.startSelect(h,a.domEvent._clicks>1),a.preventDefault()},this.startSelect=function(a,o){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var h=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?h.selection.selectToPosition(a):o||h.selection.moveToPosition(a),o||this.select(),h.renderer.scroller.setCapture&&h.renderer.scroller.setCapture(),h.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var a,o=this.editor,h=o.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var g=this.$clickSelection.comparePoint(h);if(g==-1)a=this.$clickSelection.end;else if(g==1)a=this.$clickSelection.start;else{var tt=c(this.$clickSelection,h);h=tt.cursor,a=tt.anchor}o.selection.setSelectionAnchor(a.row,a.column)}o.selection.selectToPosition(h),o.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(a){var o,h=this.editor,g=h.renderer.screenToTextCoordinates(this.x,this.y),tt=h.selection[a](g.row,g.column);if(this.$clickSelection){var at=this.$clickSelection.comparePoint(tt.start),ht=this.$clickSelection.comparePoint(tt.end);if(at==-1&&ht<=0)o=this.$clickSelection.end,(tt.end.row!=g.row||tt.end.column!=g.column)&&(g=tt.start);else if(ht==1&&at>=0)o=this.$clickSelection.start,(tt.start.row!=g.row||tt.start.column!=g.column)&&(g=tt.end);else if(at==-1&&ht==1)g=tt.end,o=tt.start;else{var _e=c(this.$clickSelection,g);g=_e.cursor,o=_e.anchor}h.selection.setSelectionAnchor(o.row,o.column)}h.selection.selectToPosition(g),h.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var a=b(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),o=Date.now();(a>it||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(a){var o=a.getDocumentPosition(),h=this.editor,g=h.session,tt=g.getBracketRange(o);tt?(tt.isEmpty()&&(tt.start.column--,tt.end.column++),this.setState("select")):(tt=h.selection.getWordRange(o.row,o.column),this.setState("selectByWords")),this.$clickSelection=tt,this.select()},this.onTripleClick=function(a){var o=a.getDocumentPosition(),h=this.editor;this.setState("selectByLines");var g=h.getSelectionRange();g.isMultiLine()&&g.contains(o.row,o.column)?(this.$clickSelection=h.selection.getLineRange(g.start.row),this.$clickSelection.end=h.selection.getLineRange(g.end.row).end):this.$clickSelection=h.selection.getLineRange(o.row),this.select()},this.onQuadClick=function(a){var o=this.editor;o.selectAll(),this.$clickSelection=o.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(a){if(!a.getAccelKey()){a.getShiftKey()&&a.wheelY&&!a.wheelX&&(a.wheelX=a.wheelY,a.wheelY=0);var o=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var h=this.$lastScroll,g=a.domEvent.timeStamp,tt=g-h.t,at=tt?a.wheelX/tt:h.vx,ht=tt?a.wheelY/tt:h.vy;tt<nt&&(at=(at+h.vx)/2,ht=(ht+h.vy)/2);var _e=Math.abs(at/ht),ut=!1;if(_e>=1&&o.renderer.isScrollableBy(a.wheelX*a.speed,0)&&(ut=!0),_e<=1&&o.renderer.isScrollableBy(0,a.wheelY*a.speed)&&(ut=!0),ut)h.allowed=g;else if(g-h.allowed<nt){var ct=Math.abs(at)<=1.5*Math.abs(h.vx)&&Math.abs(ht)<=1.5*Math.abs(h.vy);ct?(ut=!0,h.allowed=g):h.allowed=0}if(h.t=g,h.vx=at,h.vy=ht,ut)return o.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()}}}).call(_.prototype),d.DefaultHandlers=_;function b(a,o,h,g){return Math.sqrt(Math.pow(h-a,2)+Math.pow(g-o,2))}function c(a,o){if(a.start.row==a.end.row)var h=2*o.column-a.start.column-a.end.column;else if(a.start.row==a.end.row-1&&!a.start.column&&!a.end.column)var h=o.column-4;else var h=2*o.row-a.start.row-a.end.row;return h<0?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(i,d,ft){i("./lib/oop");var $=i("./lib/dom"),it="ace_tooltip";function nt(_){this.isOpen=!1,this.$element=null,this.$parentNode=_}(function(){this.$init=function(){return this.$element=$.createElement("div"),this.$element.className=it,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(_){this.getElement().textContent=_},this.setHtml=function(_){this.getElement().innerHTML=_},this.setPosition=function(_,b){this.getElement().style.left=_+"px",this.getElement().style.top=b+"px"},this.setClassName=function(_){$.addCssClass(this.getElement(),_)},this.show=function(_,b,c){_!=null&&this.setText(_),b!=null&&c!=null&&this.setPosition(b,c),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=it,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(nt.prototype),d.Tooltip=nt}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(i,d,ft){var $=i("../lib/dom"),it=i("../lib/oop"),nt=i("../lib/event"),_=i("../tooltip").Tooltip;function b(a){var o=a.editor,h=o.renderer.$gutterLayer,g=new c(o.container);a.editor.setDefaultHandler("guttermousedown",function(rt){if(!(!o.isFocused()||rt.getButton()!=0)){var st=h.getRegion(rt);if(st!="foldWidgets"){var vt=rt.getDocumentPosition().row,ot=o.session.selection;if(rt.getShiftKey())ot.selectTo(vt,0);else{if(rt.domEvent.detail==2)return o.selectAll(),rt.preventDefault();a.$clickSelection=o.selection.getLineRange(vt)}return a.setState("selectByLines"),a.captureMouse(rt),rt.preventDefault()}}});var tt,at,ht;function _e(){var rt=at.getDocumentPosition().row,st=h.$annotations[rt];if(!st)return ut();var vt=o.session.getLength();if(rt==vt){var ot=o.renderer.pixelToScreenCoordinates(0,at.y).row,et=at.$pos;if(ot>o.session.documentToScreenRow(et.row,et.column))return ut()}if(ht!=st){ht=st.text.join("<br/>"),g.setHtml(ht);var lt=st.className;if(lt&&g.setClassName(lt.trim()),g.show(),o._signal("showGutterTooltip",g),o.on("mousewheel",ut),a.$tooltipFollowsMouse)ct(at);else{var mt=at.domEvent.target,xt=mt.getBoundingClientRect(),wt=g.getElement().style;wt.left=xt.right+"px",wt.top=xt.bottom+"px"}}}function ut(){tt&&(tt=clearTimeout(tt)),ht&&(g.hide(),ht=null,o._signal("hideGutterTooltip",g),o.off("mousewheel",ut))}function ct(rt){g.setPosition(rt.x,rt.y)}a.editor.setDefaultHandler("guttermousemove",function(rt){var st=rt.domEvent.target||rt.domEvent.srcElement;if($.hasCssClass(st,"ace_fold-widget"))return ut();ht&&a.$tooltipFollowsMouse&&ct(rt),at=rt,!tt&&(tt=setTimeout(function(){tt=null,at&&!a.isMousePressed?_e():ut()},50))}),nt.addListener(o.renderer.$gutter,"mouseout",function(rt){at=null,!(!ht||tt)&&(tt=setTimeout(function(){tt=null,ut()},50))},o),o.on("changeSession",ut)}function c(a){_.call(this,a)}it.inherits(c,_),function(){this.setPosition=function(a,o){var h=window.innerWidth||document.documentElement.clientWidth,g=window.innerHeight||document.documentElement.clientHeight,tt=this.getWidth(),at=this.getHeight();a+=15,o+=15,a+tt>h&&(a-=a+tt-h),o+at>g&&(o-=20+at),_.prototype.setPosition.call(this,a,o)}}.call(c.prototype),d.GutterHandler=b}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,d,ft){var $=i("../lib/event"),it=i("../lib/useragent"),nt=d.MouseEvent=function(_,b){this.domEvent=_,this.editor=b,this.x=this.clientX=_.clientX,this.y=this.clientY=_.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){$.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){$.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var _=this.editor,b=_.getSelectionRange();if(b.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=b.contains(c.row,c.column)}return this.$inSelection},this.getButton=function(){return $.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=it.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(nt.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(i,d,ft){var $=i("../lib/dom"),it=i("../lib/event"),nt=i("../lib/useragent"),_=200,b=200,c=5;function a(h){var g=h.editor,tt=$.createElement("div");tt.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",tt.textContent="\xA0";var at=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];at.forEach(function(Mt){h[Mt]=this[Mt]},this),g.on("mousedown",this.onMouseDown.bind(h));var ht=g.container,_e,ut,ct,rt,st,vt,ot=0,et,lt,mt,xt,wt;this.onDragStart=function(Mt){if(this.cancelDrag||!ht.draggable){var jt=this;return setTimeout(function(){jt.startSelect(),jt.captureMouse(Mt)},0),Mt.preventDefault()}st=g.getSelectionRange();var Zt=Mt.dataTransfer;Zt.effectAllowed=g.getReadOnly()?"copy":"copyMove",g.container.appendChild(tt),Zt.setDragImage&&Zt.setDragImage(tt,0,0),setTimeout(function(){g.container.removeChild(tt)}),Zt.clearData(),Zt.setData("Text",g.session.getTextRange()),lt=!0,this.setState("drag")},this.onDragEnd=function(Mt){if(ht.draggable=!1,lt=!1,this.setState(null),!g.getReadOnly()){var jt=Mt.dataTransfer.dropEffect;!et&&jt=="move"&&g.session.remove(g.getSelectionRange()),g.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Mt){if(!(g.getReadOnly()||!Xt(Mt.dataTransfer)))return ut=Mt.clientX,ct=Mt.clientY,_e||Vt(),ot++,Mt.dataTransfer.dropEffect=et=Pt(Mt),it.preventDefault(Mt)},this.onDragOver=function(Mt){if(!(g.getReadOnly()||!Xt(Mt.dataTransfer)))return ut=Mt.clientX,ct=Mt.clientY,_e||(Vt(),ot++),Rt!==null&&(Rt=null),Mt.dataTransfer.dropEffect=et=Pt(Mt),it.preventDefault(Mt)},this.onDragLeave=function(Mt){if(ot--,ot<=0&&_e)return Ct(),et=null,it.preventDefault(Mt)},this.onDrop=function(Mt){if(!!vt){var jt=Mt.dataTransfer;if(lt)switch(et){case"move":st.contains(vt.row,vt.column)?st={start:vt,end:vt}:st=g.moveText(st,vt);break;case"copy":st=g.moveText(st,vt,!0);break}else{var Zt=jt.getData("Text");st={start:vt,end:g.session.insert(vt,Zt)},g.focus(),et=null}return Ct(),it.preventDefault(Mt)}},it.addListener(ht,"dragstart",this.onDragStart.bind(h),g),it.addListener(ht,"dragend",this.onDragEnd.bind(h),g),it.addListener(ht,"dragenter",this.onDragEnter.bind(h),g),it.addListener(ht,"dragover",this.onDragOver.bind(h),g),it.addListener(ht,"dragleave",this.onDragLeave.bind(h),g),it.addListener(ht,"drop",this.onDrop.bind(h),g);function St(Mt,jt){var Zt=Date.now(),Yt=!jt||Mt.row!=jt.row,fn=!jt||Mt.column!=jt.column;if(!xt||Yt||fn)g.moveCursorToPosition(Mt),xt=Zt,wt={x:ut,y:ct};else{var an=o(wt.x,wt.y,ut,ct);an>c?xt=null:Zt-xt>=b&&(g.renderer.scrollCursorIntoView(),xt=null)}}function Tt(Mt,jt){var Zt=Date.now(),Yt=g.renderer.layerConfig.lineHeight,fn=g.renderer.layerConfig.characterWidth,an=g.renderer.scroller.getBoundingClientRect(),dn={x:{left:ut-an.left,right:an.right-ut},y:{top:ct-an.top,bottom:an.bottom-ct}},cn=Math.min(dn.x.left,dn.x.right),Ut=Math.min(dn.y.top,dn.y.bottom),Wt={row:Mt.row,column:Mt.column};cn/fn<=2&&(Wt.column+=dn.x.left<dn.x.right?-3:2),Ut/Yt<=1&&(Wt.row+=dn.y.top<dn.y.bottom?-1:1);var Nt=Mt.row!=Wt.row,ln=Mt.column!=Wt.column,yn=!jt||Mt.row!=jt.row;Nt||ln&&!yn?mt?Zt-mt>=_&&g.renderer.scrollCursorIntoView(Wt):mt=Zt:mt=null}function kt(){var Mt=vt;vt=g.renderer.screenToTextCoordinates(ut,ct),St(vt,Mt),Tt(vt,Mt)}function Vt(){st=g.selection.toOrientedRange(),_e=g.session.addMarker(st,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(rt),kt(),rt=setInterval(kt,20),ot=0,it.addListener(document,"mousemove",zt)}function Ct(){clearInterval(rt),g.session.removeMarker(_e),_e=null,g.selection.fromOrientedRange(st),g.isFocused()&&!lt&&g.$resetCursorStyle(),st=null,vt=null,ot=0,mt=null,xt=null,it.removeListener(document,"mousemove",zt)}var Rt=null;function zt(){Rt==null&&(Rt=setTimeout(function(){Rt!=null&&_e&&Ct()},20))}function Xt(Mt){var jt=Mt.types;return!jt||Array.prototype.some.call(jt,function(Zt){return Zt=="text/plain"||Zt=="Text"})}function Pt(Mt){var jt=["copy","copymove","all","uninitialized"],Zt=["move","copymove","linkmove","all","uninitialized"],Yt=nt.isMac?Mt.altKey:Mt.ctrlKey,fn="uninitialized";try{fn=Mt.dataTransfer.effectAllowed.toLowerCase()}catch{}var an="none";return Yt&&jt.indexOf(fn)>=0?an="copy":Zt.indexOf(fn)>=0?an="move":jt.indexOf(fn)>=0&&(an="copy"),an}}(function(){this.dragWait=function(){var h=Date.now()-this.mousedownEvent.time;h>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var h=this.editor.container;h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(h){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var h=this.editor,g=h.container;g.draggable=!0,h.renderer.$cursorLayer.setBlinking(!1),h.setStyle("ace_dragging");var tt=nt.isWin?"default":"move";h.renderer.setCursorStyle(tt),this.setState("dragReady")},this.onMouseDrag=function(h){var g=this.editor.container;if(nt.isIE&&this.state=="dragReady"){var tt=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);tt>3&&g.dragDrop()}if(this.state==="dragWait"){var tt=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);tt>0&&(g.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(h){if(!!this.$dragEnabled){this.mousedownEvent=h;var g=this.editor,tt=h.inSelection(),at=h.getButton(),ht=h.domEvent.detail||1;if(ht===1&&at===0&&tt){if(h.editor.inMultiSelectMode&&(h.getAccelKey()||h.getShiftKey()))return;this.mousedownEvent.time=Date.now();var _e=h.domEvent.target||h.domEvent.srcElement;if("unselectable"in _e&&(_e.unselectable="on"),g.getDragDelay()){if(nt.isWebKit){this.cancelDrag=!0;var ut=g.container;ut.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(h,this.onMouseDrag.bind(this)),h.defaultPrevented=!0}}}}).call(a.prototype);function o(h,g,tt,at){return Math.sqrt(Math.pow(tt-h,2)+Math.pow(at-g,2))}d.DragdropHandler=a}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(i,d,ft){var $=i("./mouse_event").MouseEvent,it=i("../lib/event"),nt=i("../lib/dom");d.addTouchListeners=function(_,b){var c="scroll",a,o,h,g,tt,at,ht=0,_e,ut=0,ct=0,rt=0,st,vt;function ot(){var St=window.navigator&&window.navigator.clipboard,Tt=!1,kt=function(){var Ct=b.getCopyText(),Rt=b.session.getUndoManager().hasUndo();vt.replaceChild(nt.buildDom(Tt?["span",!Ct&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Ct&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Ct&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],St&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Rt&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),vt.firstChild)},Vt=function(Ct){var Rt=Ct.target.getAttribute("action");if(Rt=="more"||!Tt)return Tt=!Tt,kt();Rt=="paste"?St.readText().then(function(zt){b.execCommand(Rt,zt)}):Rt&&((Rt=="cut"||Rt=="copy")&&(St?St.writeText(b.getCopyText()):document.execCommand("copy")),b.execCommand(Rt)),vt.firstChild.style.display="none",Tt=!1,Rt!="openCommandPallete"&&b.focus()};vt=nt.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Ct){c="menu",Ct.stopPropagation(),Ct.preventDefault(),b.textInput.focus()},ontouchend:function(Ct){Ct.stopPropagation(),Ct.preventDefault(),Vt(Ct)},onclick:Vt},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],b.container)}function et(){vt||ot();var St=b.selection.cursor,Tt=b.renderer.textToScreenCoordinates(St.row,St.column),kt=b.renderer.textToScreenCoordinates(0,0).pageX,Vt=b.renderer.scrollLeft,Ct=b.container.getBoundingClientRect();vt.style.top=Tt.pageY-Ct.top-3+"px",Tt.pageX-Ct.left<Ct.width-70?(vt.style.left="",vt.style.right="10px"):(vt.style.right="",vt.style.left=kt+Vt-Ct.left+"px"),vt.style.display="",vt.firstChild.style.display="none",b.on("input",lt)}function lt(St){vt&&(vt.style.display="none"),b.off("input",lt)}function mt(){tt=null,clearTimeout(tt);var St=b.selection.getRange(),Tt=St.contains(_e.row,_e.column);(St.isEmpty()||!Tt)&&(b.selection.moveToPosition(_e),b.selection.selectWord()),c="wait",et()}function xt(){tt=null,clearTimeout(tt),b.selection.moveToPosition(_e);var St=ut>=2?b.selection.getLineRange(_e.row):b.session.getBracketRange(_e);St&&!St.isEmpty()?b.selection.setRange(St):b.selection.selectWord(),c="wait"}it.addListener(_,"contextmenu",function(St){if(!!st){var Tt=b.textInput.getElement();Tt.focus()}},b),it.addListener(_,"touchstart",function(St){var Tt=St.touches;if(tt||Tt.length>1){clearTimeout(tt),tt=null,h=-1,c="zoom";return}st=b.$mouseHandler.isMousePressed=!0;var kt=b.renderer.layerConfig.lineHeight,Vt=b.renderer.layerConfig.lineHeight,Ct=St.timeStamp;g=Ct;var Rt=Tt[0],zt=Rt.clientX,Xt=Rt.clientY;Math.abs(a-zt)+Math.abs(o-Xt)>kt&&(h=-1),a=St.clientX=zt,o=St.clientY=Xt,ct=rt=0;var Pt=new $(St,b);if(_e=Pt.getDocumentPosition(),Ct-h<500&&Tt.length==1&&!ht)ut++,St.preventDefault(),St.button=0,xt();else{ut=0;var Mt=b.selection.cursor,jt=b.selection.isEmpty()?Mt:b.selection.anchor,Zt=b.renderer.$cursorLayer.getPixelPosition(Mt,!0),Yt=b.renderer.$cursorLayer.getPixelPosition(jt,!0),fn=b.renderer.scroller.getBoundingClientRect(),an=b.renderer.layerConfig.offset,dn=b.renderer.scrollLeft,cn=function(Nt,ln){return Nt=Nt/Vt,ln=ln/kt-.75,Nt*Nt+ln*ln};if(St.clientX<fn.left){c="zoom";return}var Ut=cn(St.clientX-fn.left-Zt.left+dn,St.clientY-fn.top-Zt.top+an),Wt=cn(St.clientX-fn.left-Yt.left+dn,St.clientY-fn.top-Yt.top+an);Ut<3.5&&Wt<3.5&&(c=Ut>Wt?"cursor":"anchor"),Wt<3.5?c="anchor":Ut<3.5?c="cursor":c="scroll",tt=setTimeout(mt,450)}h=Ct},b),it.addListener(_,"touchend",function(St){st=b.$mouseHandler.isMousePressed=!1,at&&clearInterval(at),c=="zoom"?(c="",ht=0):tt?(b.selection.moveToPosition(_e),ht=0,et()):c=="scroll"?(wt(),lt()):et(),clearTimeout(tt),tt=null},b),it.addListener(_,"touchmove",function(St){tt&&(clearTimeout(tt),tt=null);var Tt=St.touches;if(!(Tt.length>1||c=="zoom")){var kt=Tt[0],Vt=a-kt.clientX,Ct=o-kt.clientY;if(c=="wait")if(Vt*Vt+Ct*Ct>4)c="cursor";else return St.preventDefault();a=kt.clientX,o=kt.clientY,St.clientX=kt.clientX,St.clientY=kt.clientY;var Rt=St.timeStamp,zt=Rt-g;if(g=Rt,c=="scroll"){var Xt=new $(St,b);Xt.speed=1,Xt.wheelX=Vt,Xt.wheelY=Ct,10*Math.abs(Vt)<Math.abs(Ct)&&(Vt=0),10*Math.abs(Ct)<Math.abs(Vt)&&(Ct=0),zt!=0&&(ct=Vt/zt,rt=Ct/zt),b._emit("mousewheel",Xt),Xt.propagationStopped||(ct=rt=0)}else{var Pt=new $(St,b),Mt=Pt.getDocumentPosition();c=="cursor"?b.selection.moveCursorToPosition(Mt):c=="anchor"&&b.selection.setSelectionAnchor(Mt.row,Mt.column),b.renderer.scrollCursorIntoView(Mt),St.preventDefault()}}},b);function wt(){ht+=60,at=setInterval(function(){ht--<=0&&(clearInterval(at),at=null),Math.abs(ct)<.01&&(ct=0),Math.abs(rt)<.01&&(rt=0),ht<20&&(ct=.9*ct),ht<20&&(rt=.9*rt);var St=b.session.getScrollTop();b.renderer.scrollBy(10*ct,10*rt),St==b.session.getScrollTop()&&(ht=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(i,d,ft){var $=i("../lib/event"),it=i("../lib/useragent"),nt=i("./default_handlers").DefaultHandlers,_=i("./default_gutter_handler").GutterHandler,b=i("./mouse_event").MouseEvent,c=i("./dragdrop_handler").DragdropHandler,a=i("./touch_handler").addTouchListeners,o=i("../config"),h=function(g){var tt=this;this.editor=g,new nt(this),new _(this),new c(this);var at=function(ut){var ct=!document.hasFocus||!document.hasFocus()||!g.isFocused()&&document.activeElement==(g.textInput&&g.textInput.getElement());ct&&window.focus(),g.focus(),setTimeout(function(){g.isFocused()||g.focus()})},ht=g.renderer.getMouseEventTarget();$.addListener(ht,"click",this.onMouseEvent.bind(this,"click"),g),$.addListener(ht,"mousemove",this.onMouseMove.bind(this,"mousemove"),g),$.addMultiMouseDownListener([ht,g.renderer.scrollBarV&&g.renderer.scrollBarV.inner,g.renderer.scrollBarH&&g.renderer.scrollBarH.inner,g.textInput&&g.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",g),$.addMouseWheelListener(g.container,this.onMouseWheel.bind(this,"mousewheel"),g),a(g.container,g);var _e=g.renderer.$gutter;$.addListener(_e,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),g),$.addListener(_e,"click",this.onMouseEvent.bind(this,"gutterclick"),g),$.addListener(_e,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),g),$.addListener(_e,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),g),$.addListener(ht,"mousedown",at,g),$.addListener(_e,"mousedown",at,g),it.isIE&&g.renderer.scrollBarV&&($.addListener(g.renderer.scrollBarV.element,"mousedown",at,g),$.addListener(g.renderer.scrollBarH.element,"mousedown",at,g)),g.on("mousemove",function(ut){if(!(tt.state||tt.$dragDelay||!tt.$dragEnabled)){var ct=g.renderer.screenToTextCoordinates(ut.x,ut.y),rt=g.session.selection.getRange(),st=g.renderer;!rt.isEmpty()&&rt.insideStart(ct.row,ct.column)?st.setCursorStyle("default"):st.setCursorStyle("")}},g)};(function(){this.onMouseEvent=function(g,tt){!this.editor.session||this.editor._emit(g,new b(tt,this.editor))},this.onMouseMove=function(g,tt){var at=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!at||!at.length||this.editor._emit(g,new b(tt,this.editor))},this.onMouseWheel=function(g,tt){var at=new b(tt,this.editor);at.speed=this.$scrollSpeed*2,at.wheelX=tt.wheelX,at.wheelY=tt.wheelY,this.editor._emit(g,at)},this.setState=function(g){this.state=g},this.captureMouse=function(g,tt){this.x=g.x,this.y=g.y,this.isMousePressed=!0;var at=this.editor,ht=this.editor.renderer;ht.$isMousePressed=!0;var _e=this,ut=function(ot){if(!!ot){if(it.isWebKit&&!ot.which&&_e.releaseMouse)return _e.releaseMouse();_e.x=ot.clientX,_e.y=ot.clientY,tt&&tt(ot),_e.mouseEvent=new b(ot,_e.editor),_e.$mouseMoved=!0}},ct=function(ot){at.off("beforeEndOperation",st),clearInterval(vt),at.session&&rt(),_e[_e.state+"End"]&&_e[_e.state+"End"](ot),_e.state="",_e.isMousePressed=ht.$isMousePressed=!1,ht.$keepTextAreaAtCursor&&ht.$moveTextAreaToCursor(),_e.$onCaptureMouseMove=_e.releaseMouse=null,ot&&_e.onMouseEvent("mouseup",ot),at.endOperation()},rt=function(){_e[_e.state]&&_e[_e.state](),_e.$mouseMoved=!1};if(it.isOldIE&&g.domEvent.type=="dblclick")return setTimeout(function(){ct(g)});var st=function(ot){!_e.releaseMouse||at.curOp.command.name&&at.curOp.selectionChanged&&(_e[_e.state+"End"]&&_e[_e.state+"End"](),_e.state="",_e.releaseMouse())};at.on("beforeEndOperation",st),at.startOperation({command:{name:"mouse"}}),_e.$onCaptureMouseMove=ut,_e.releaseMouse=$.capture(this.editor.container,ut,ct);var vt=setInterval(rt,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var g=function(tt){tt&&tt.domEvent&&tt.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",g),tt&&tt.domEvent&&$.stopEvent(tt.domEvent))}.bind(this);setTimeout(g,10),this.editor.on("nativecontextmenu",g)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),o.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:it.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),d.MouseHandler=h}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(i,d,ft){var $=i("../lib/dom");function it(nt){nt.on("click",function(_){var b=_.getDocumentPosition(),c=nt.session,a=c.getFoldAt(b.row,b.column,1);a&&(_.getAccelKey()?c.removeFold(a):c.expandFold(a),_.stop());var o=_.domEvent&&_.domEvent.target;o&&$.hasCssClass(o,"ace_inline_button")&&$.hasCssClass(o,"ace_toggle_wrap")&&(c.setOption("wrap",!c.getUseWrapMode()),nt.renderer.scrollCursorIntoView())}),nt.on("gutterclick",function(_){var b=nt.renderer.$gutterLayer.getRegion(_);if(b=="foldWidgets"){var c=_.getDocumentPosition().row,a=nt.session;a.foldWidgets&&a.foldWidgets[c]&&nt.session.onFoldWidgetClick(c,_),nt.isFocused()||nt.focus(),_.stop()}}),nt.on("gutterdblclick",function(_){var b=nt.renderer.$gutterLayer.getRegion(_);if(b=="foldWidgets"){var c=_.getDocumentPosition().row,a=nt.session,o=a.getParentFoldRangeData(c,!0),h=o.range||o.firstRange;if(h){c=h.start.row;var g=a.getFoldAt(c,a.getLine(c).length,1);g?a.removeFold(g):(a.addFold("...",h),nt.renderer.scrollCursorIntoView({row:h.start.row,column:0}))}_.stop()}})}d.FoldHandler=it}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(i,d,ft){var $=i("../lib/keys"),it=i("../lib/event"),nt=function(_){this.$editor=_,this.$data={editor:_},this.$handlers=[],this.setDefaultHandler(_.commands)};(function(){this.setDefaultHandler=function(_){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=_,this.addKeyboardHandler(_,0)},this.setKeyboardHandler=function(_){var b=this.$handlers;if(b[b.length-1]!=_){for(;b[b.length-1]&&b[b.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(b[b.length-1]);this.addKeyboardHandler(_,1)}},this.addKeyboardHandler=function(_,b){if(!!_){typeof _=="function"&&!_.handleKeyboard&&(_.handleKeyboard=_);var c=this.$handlers.indexOf(_);c!=-1&&this.$handlers.splice(c,1),b==null?this.$handlers.push(_):this.$handlers.splice(b,0,_),c==-1&&_.attach&&_.attach(this.$editor)}},this.removeKeyboardHandler=function(_){var b=this.$handlers.indexOf(_);return b==-1?!1:(this.$handlers.splice(b,1),_.detach&&_.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var _=this.$data,b=_.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(b,_)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(_,b,c,a){for(var o,h=!1,g=this.$editor.commands,tt=this.$handlers.length;tt--&&(o=this.$handlers[tt].handleKeyboard(this.$data,_,b,c,a),!(!(!o||!o.command)&&(o.command=="null"?h=!0:h=g.exec(o.command,this.$editor,o.args,a),h&&a&&_!=-1&&o.passEvent!=!0&&o.command.passEvent!=!0&&it.stopEvent(a),h))););return!h&&_==-1&&(o={command:"insertstring"},h=g.exec("insertstring",this.$editor,b)),h&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),h},this.onCommandKey=function(_,b,c){var a=$.keyCodeToString(c);return this.$callKeyboardHandlers(b,a,c,_)},this.onTextInput=function(_){return this.$callKeyboardHandlers(-1,_)}}).call(nt.prototype),d.KeyBinding=nt}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(i,d,ft){var $=0,it=0,nt=!1,_=!1,b=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],o=0,h=1,g=0,tt=1,at=2,ht=3,_e=4,ut=5,ct=6,rt=7,st=8,vt=9,ot=10,et=11,lt=12,mt=13,xt=14,wt=15,St=16,Tt=17,kt=18,Vt=[kt,kt,kt,kt,kt,kt,kt,kt,kt,ct,ut,ct,st,ut,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,ut,ut,ut,ct,st,_e,_e,et,et,et,_e,_e,_e,_e,_e,ot,vt,ot,vt,vt,at,at,at,at,at,at,at,at,at,at,vt,_e,_e,_e,_e,_e,_e,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,_e,_e,_e,_e,_e,_e,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,_e,_e,_e,_e,kt,kt,kt,kt,kt,kt,ut,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,kt,vt,_e,et,et,et,et,_e,_e,_e,_e,g,_e,_e,kt,_e,_e,et,et,at,at,_e,g,_e,_e,_e,at,g,_e,_e,_e,_e,_e],Ct=[st,st,st,st,st,st,st,st,st,st,st,kt,kt,kt,g,tt,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,st,ut,mt,xt,wt,St,Tt,vt,et,et,et,et,et,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,vt,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,_e,st];function Rt(Mt,jt,Zt,Yt){var fn=$?a:c,an=null,dn=null,cn=null,Ut=0,Wt=null,Nt=null,ln=-1,yn=null,rn=null,Un=[];if(!Yt)for(yn=0,Yt=[];yn<Zt;yn++)Yt[yn]=Pt(Mt[yn]);for(it=$,nt=!1,_=!1,b=!1,rn=0;rn<Zt;rn++){if(an=Ut,Un[rn]=dn=Xt(Mt,Yt,Un,rn),Ut=fn[an][dn],Wt=Ut&240,Ut&=15,jt[rn]=cn=fn[Ut][5],Wt>0)if(Wt==16){for(yn=ln;yn<rn;yn++)jt[yn]=1;ln=-1}else ln=-1;if(Nt=fn[Ut][6],Nt)ln==-1&&(ln=rn);else if(ln>-1){for(yn=ln;yn<rn;yn++)jt[yn]=cn;ln=-1}Yt[rn]==ut&&(jt[rn]=0),it|=cn}if(b){for(yn=0;yn<Zt;yn++)if(Yt[yn]==ct){jt[yn]=$;for(var Qn=yn-1;Qn>=0&&Yt[Qn]==st;Qn--)jt[Qn]=$}}}function zt(Mt,jt,Zt){if(!(it<Mt)){if(Mt==1&&$==h&&!_){Zt.reverse();return}for(var Yt=Zt.length,fn=0,an,dn,cn,Ut;fn<Yt;){if(jt[fn]>=Mt){for(an=fn+1;an<Yt&&jt[an]>=Mt;)an++;for(dn=fn,cn=an-1;dn<cn;dn++,cn--)Ut=Zt[dn],Zt[dn]=Zt[cn],Zt[cn]=Ut;fn=an}fn++}}}function Xt(Mt,jt,Zt,Yt){var fn=jt[Yt],an,dn,cn,Ut;switch(fn){case g:case tt:nt=!1;case _e:case ht:return fn;case at:return nt?ht:at;case rt:return nt=!0,tt;case st:return _e;case vt:return Yt<1||Yt+1>=jt.length||(an=Zt[Yt-1])!=at&&an!=ht||(dn=jt[Yt+1])!=at&&dn!=ht?_e:(nt&&(dn=ht),dn==an?dn:_e);case ot:return an=Yt>0?Zt[Yt-1]:ut,an==at&&Yt+1<jt.length&&jt[Yt+1]==at?at:_e;case et:if(Yt>0&&Zt[Yt-1]==at)return at;if(nt)return _e;for(Ut=Yt+1,cn=jt.length;Ut<cn&&jt[Ut]==et;)Ut++;return Ut<cn&&jt[Ut]==at?at:_e;case lt:for(cn=jt.length,Ut=Yt+1;Ut<cn&&jt[Ut]==lt;)Ut++;if(Ut<cn){var Wt=Mt[Yt],Nt=Wt>=1425&&Wt<=2303||Wt==64286;if(an=jt[Ut],Nt&&(an==tt||an==rt))return tt}return Yt<1||(an=jt[Yt-1])==ut?_e:Zt[Yt-1];case ut:return nt=!1,_=!0,$;case ct:return b=!0,_e;case mt:case xt:case St:case Tt:case wt:nt=!1;case kt:return _e}}function Pt(Mt){var jt=Mt.charCodeAt(0),Zt=jt>>8;return Zt==0?jt>191?g:Vt[jt]:Zt==5?/[\u0591-\u05f4]/.test(Mt)?tt:g:Zt==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Mt)?lt:/[\u0660-\u0669\u066b-\u066c]/.test(Mt)?ht:jt==1642?et:/[\u06f0-\u06f9]/.test(Mt)?at:rt:Zt==32&&jt<=8287?Ct[jt&255]:Zt==254&&jt>=65136?rt:_e}d.L=g,d.R=tt,d.EN=at,d.ON_R=3,d.AN=4,d.R_H=5,d.B=6,d.RLE=7,d.DOT="\xB7",d.doBidiReorder=function(Mt,jt,Zt){if(Mt.length<2)return{};var Yt=Mt.split(""),fn=new Array(Yt.length),an=new Array(Yt.length),dn=[];$=Zt?h:o,Rt(Yt,dn,Yt.length,jt);for(var cn=0;cn<fn.length;fn[cn]=cn,cn++);zt(2,dn,fn),zt(1,dn,fn);for(var cn=0;cn<fn.length-1;cn++)jt[cn]===ht?dn[cn]=d.AN:dn[cn]===tt&&(jt[cn]>rt&&jt[cn]<mt||jt[cn]===_e||jt[cn]===kt)?dn[cn]=d.ON_R:cn>0&&Yt[cn-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(Yt[cn])&&(dn[cn-1]=dn[cn]=d.R_H,cn++);Yt[Yt.length-1]===d.DOT&&(dn[Yt.length-1]=d.B),Yt[0]==="\u202B"&&(dn[0]=d.RLE);for(var cn=0;cn<fn.length;cn++)an[cn]=dn[fn[cn]];return{logicalFromVisual:fn,bidiLevels:an}},d.hasBidiCharacters=function(Mt,jt){for(var Zt=!1,Yt=0;Yt<Mt.length;Yt++)jt[Yt]=Pt(Mt.charAt(Yt)),!Zt&&(jt[Yt]==tt||jt[Yt]==rt||jt[Yt]==ht)&&(Zt=!0);return Zt},d.getVisualFromLogicalIdx=function(Mt,jt){for(var Zt=0;Zt<jt.logicalFromVisual.length;Zt++)if(jt.logicalFromVisual[Zt]==Mt)return Zt;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(i,d,ft){var $=i("./lib/bidiutil"),it=i("./lib/lang"),nt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,_=function(b){this.session=b,this.bidiMap={},this.currentRow=null,this.bidiUtil=$,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=nt.test(b.getValue())};(function(){this.isBidiRow=function(b,c,a){return this.seenBidi?(b!==this.currentRow&&(this.currentRow=b,this.updateRowLine(c,a),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(b){this.seenBidi?this.currentRow=null:b.action=="insert"&&nt.test(b.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var b=0,c=this.session.$screenRowCache;if(c.length){var a=this.session.$getRowCacheIndex(c,this.currentRow);a>=0&&(b=this.session.$docRowCache[a])}return b},this.getSplitIndex=function(){var b=0,c=this.session.$screenRowCache;if(c.length)for(var a,o=this.session.$getRowCacheIndex(c,this.currentRow);this.currentRow-b>0&&(a=this.session.$getRowCacheIndex(c,this.currentRow-b-1),a===o);)o=a,b++;else b=this.currentRow;return b},this.updateRowLine=function(b,c){b===void 0&&(b=this.getDocumentRow());var a=b===this.session.getLength()-1,o=a?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(b),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var h=this.session.$wrapData[b];h&&(c===void 0&&(c=this.getSplitIndex()),c>0&&h.length?(this.wrapIndent=h.indent,this.wrapOffset=this.wrapIndent*this.charWidths[$.L],this.line=c<h.length?this.line.substring(h[c-1],h[c]):this.line.substring(h[h.length-1])):this.line=this.line.substring(0,h[c]),c==h.length&&(this.line+=this.showInvisibles?o:$.DOT))}else this.line+=this.showInvisibles?o:$.DOT;var g=this.session,tt=0,at;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ht,_e){return ht==="	"||g.isFullWidth(ht.charCodeAt(0))?(at=ht==="	"?g.getScreenTabSize(_e+tt):2,tt+=at-1,it.stringRepeat($.DOT,at)):ht}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==$.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var b=[];$.hasBidiCharacters(this.line,b)||this.isRtlDir?this.bidiMap=$.doBidiReorder(this.line,b,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(b){if(this.characterWidth!==b.$characterSize.width){this.fontMetrics=b;var c=this.characterWidth=b.$characterSize.width,a=b.$measureCharWidth("\u05D4");this.charWidths[$.L]=this.charWidths[$.EN]=this.charWidths[$.ON_R]=c,this.charWidths[$.R]=this.charWidths[$.AN]=a,this.charWidths[$.R_H]=a*.45,this.charWidths[$.B]=this.charWidths[$.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(b){this.showInvisibles=b,this.currentRow=null},this.setEolChar=function(b){this.EOL=b},this.setContentWidth=function(b){this.contentWidth=b},this.isRtlLine=function(b){return this.$isRtl?!0:b!=null?this.session.getLine(b).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(b,c){for(var a=b.getCursorPosition(),o=b.selection.getSelectionAnchor().row;o<=a.row;o++)!c&&b.session.getLine(o).charAt(0)===b.session.$bidiHandler.RLE?b.session.doc.removeInLine(o,0,1):c&&b.session.getLine(o).charAt(0)!==b.session.$bidiHandler.RLE&&b.session.doc.insert({column:0,row:o},b.session.$bidiHandler.RLE)},this.getPosLeft=function(b){b-=this.wrapIndent;var c=this.line.charAt(0)===this.RLE?1:0,a=b>c?this.session.getOverwrite()?b:b-1:c,o=$.getVisualFromLogicalIdx(a,this.bidiMap),h=this.bidiMap.bidiLevels,g=0;!this.session.getOverwrite()&&b<=c&&h[o]%2!==0&&o++;for(var tt=0;tt<o;tt++)g+=this.charWidths[h[tt]];return!this.session.getOverwrite()&&b>c&&h[o]%2===0&&(g+=this.charWidths[h[o]]),this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(g+=this.rtlLineOffset),g},this.getSelections=function(b,c){var a=this.bidiMap,o=a.bidiLevels,h,g=[],tt=0,at=Math.min(b,c)-this.wrapIndent,ht=Math.max(b,c)-this.wrapIndent,_e=!1,ut=!1,ct=0;this.wrapIndent&&(tt+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var rt,st=0;st<o.length;st++)rt=a.logicalFromVisual[st],h=o[st],_e=rt>=at&&rt<ht,_e&&!ut?ct=tt:!_e&&ut&&g.push({left:ct,width:tt-ct}),tt+=this.charWidths[h],ut=_e;if(_e&&st===o.length&&g.push({left:ct,width:tt-ct}),this.isRtlDir)for(var vt=0;vt<g.length;vt++)g[vt].left+=this.rtlLineOffset;return g},this.offsetToCol=function(a){this.isRtlDir&&(a-=this.rtlLineOffset);var c=0,a=Math.max(a,0),o=0,h=0,g=this.bidiMap.bidiLevels,tt=this.charWidths[g[h]];for(this.wrapIndent&&(a-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);a>o+tt/2;){if(o+=tt,h===g.length-1){tt=0;break}tt=this.charWidths[g[++h]]}return h>0&&g[h-1]%2!==0&&g[h]%2===0?(a<o&&h--,c=this.bidiMap.logicalFromVisual[h]):h>0&&g[h-1]%2===0&&g[h]%2!==0?c=1+(a>o?this.bidiMap.logicalFromVisual[h]:this.bidiMap.logicalFromVisual[h-1]):this.isRtlDir&&h===g.length-1&&tt===0&&g[h-1]%2===0||!this.isRtlDir&&h===0&&g[h]%2!==0?c=1+this.bidiMap.logicalFromVisual[h]:(h>0&&g[h-1]%2!==0&&tt!==0&&h--,c=this.bidiMap.logicalFromVisual[h]),c===0&&this.isRtlDir&&c++,c+this.wrapIndent}}).call(_.prototype),d.BidiHandler=_}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/lang"),nt=i("./lib/event_emitter").EventEmitter,_=i("./range").Range,b=function(c){this.session=c,this.doc=c.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var a=this;this.cursor.on("change",function(o){a.$cursorChanged=!0,a.$silent||a._emit("changeCursor"),!a.$isEmpty&&!a.$silent&&a._emit("changeSelection"),!a.$keepDesiredColumnOnChange&&o.old.column!=o.value.column&&(a.$desiredColumn=null)}),this.anchor.on("change",function(){a.$anchorChanged=!0,!a.$isEmpty&&!a.$silent&&a._emit("changeSelection")})};(function(){$.implement(this,nt),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(c,a){this.$isEmpty=!1,this.anchor.setPosition(c,a)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var c=this.anchor,a=this.lead;return c.row>a.row||c.row==a.row&&c.column>a.column},this.getRange=function(){var c=this.anchor,a=this.lead;return this.$isEmpty?_.fromPoints(a,a):this.isBackwards()?_.fromPoints(a,c):_.fromPoints(c,a)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(c,a){var o=a?c.end:c.start,h=a?c.start:c.end;this.$setSelection(o.row,o.column,h.row,h.column)},this.$setSelection=function(c,a,o,h){if(!this.$silent){var g=this.$isEmpty,tt=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(c,a),this.cursor.setPosition(o,h),this.$isEmpty=!_.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||g!=this.$isEmpty||tt)&&this._emit("changeSelection")}},this.$moveSelection=function(c){var a=this.lead;this.$isEmpty&&this.setSelectionAnchor(a.row,a.column),c.call(this)},this.selectTo=function(c,a){this.$moveSelection(function(){this.moveCursorTo(c,a)})},this.selectToPosition=function(c){this.$moveSelection(function(){this.moveCursorToPosition(c)})},this.moveTo=function(c,a){this.clearSelection(),this.moveCursorTo(c,a)},this.moveToPosition=function(c){this.clearSelection(),this.moveCursorToPosition(c)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(c,a){if(typeof a>"u"){var o=c||this.lead;c=o.row,a=o.column}return this.session.getWordRange(c,a)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var c=this.getCursor(),a=this.session.getAWordRange(c.row,c.column);this.setSelectionRange(a)},this.getLineRange=function(c,a){var o=typeof c=="number"?c:this.lead.row,h,g=this.session.getFoldLine(o);return g?(o=g.start.row,h=g.end.row):h=o,a===!0?new _(o,0,h,this.session.getLine(h).length):new _(o,0,h+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(c,a,o){var h=c.column,g=c.column+a;return o<0&&(h=c.column-a,g=c.column),this.session.isTabStop(c)&&this.doc.getLine(c.row).slice(h,g).split(" ").length-1==a},this.moveCursorLeft=function(){var c=this.lead.getPosition(),a;if(a=this.session.getFoldAt(c.row,c.column,-1))this.moveCursorTo(a.start.row,a.start.column);else if(c.column===0)c.row>0&&this.moveCursorTo(c.row-1,this.doc.getLine(c.row-1).length);else{var o=this.session.getTabSize();this.wouldMoveIntoSoftTab(c,o,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-o):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var c=this.lead.getPosition(),a;if(a=this.session.getFoldAt(c.row,c.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var o=this.session.getTabSize(),c=this.lead;this.wouldMoveIntoSoftTab(c,o,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,o):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var c=this.lead.row,a=this.lead.column,o=this.session.documentToScreenRow(c,a),h=this.session.screenToDocumentPosition(o,0),g=this.session.getDisplayLine(c,null,h.row,h.column),tt=g.match(/^\s*/);tt[0].length!=a&&!this.session.$useEmacsStyleLineStart&&(h.column+=tt[0].length),this.moveCursorToPosition(h)},this.moveCursorLineEnd=function(){var c=this.lead,a=this.session.getDocumentLastRowColumnPosition(c.row,c.column);if(this.lead.column==a.column){var o=this.session.getLine(a.row);if(a.column==o.length){var h=o.search(/\s+$/);h>0&&(a.column=h)}}this.moveCursorTo(a.row,a.column)},this.moveCursorFileEnd=function(){var c=this.doc.getLength()-1,a=this.doc.getLine(c).length;this.moveCursorTo(c,a)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var c=this.lead.row,a=this.lead.column,o=this.doc.getLine(c),h=o.substring(a);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var g=this.session.getFoldAt(c,a,1);if(g){this.moveCursorTo(g.end.row,g.end.column);return}if(this.session.nonTokenRe.exec(h)&&(a+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,h=o.substring(a)),a>=o.length){this.moveCursorTo(c,o.length),this.moveCursorRight(),c<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(h)&&(a+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,a)},this.moveCursorLongWordLeft=function(){var c=this.lead.row,a=this.lead.column,o;if(o=this.session.getFoldAt(c,a,-1)){this.moveCursorTo(o.start.row,o.start.column);return}var h=this.session.getFoldStringAt(c,a,-1);h==null&&(h=this.doc.getLine(c).substring(0,a));var g=it.stringReverse(h);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(g)&&(a-=this.session.nonTokenRe.lastIndex,g=g.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),a<=0){this.moveCursorTo(c,0),this.moveCursorLeft(),c>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(g)&&(a-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,a)},this.$shortWordEndIndex=function(c){var a=0,o,h=/\s/,g=this.session.tokenRe;if(g.lastIndex=0,this.session.tokenRe.exec(c))a=this.session.tokenRe.lastIndex;else{for(;(o=c[a])&&h.test(o);)a++;if(a<1){for(g.lastIndex=0;(o=c[a])&&!g.test(o);)if(g.lastIndex=0,a++,h.test(o))if(a>2){a--;break}else{for(;(o=c[a])&&h.test(o);)a++;if(a>2)break}}}return g.lastIndex=0,a},this.moveCursorShortWordRight=function(){var c=this.lead.row,a=this.lead.column,o=this.doc.getLine(c),h=o.substring(a),g=this.session.getFoldAt(c,a,1);if(g)return this.moveCursorTo(g.end.row,g.end.column);if(a==o.length){var tt=this.doc.getLength();do c++,h=this.doc.getLine(c);while(c<tt&&/^\s*$/.test(h));/^\s+/.test(h)||(h=""),a=0}var at=this.$shortWordEndIndex(h);this.moveCursorTo(c,a+at)},this.moveCursorShortWordLeft=function(){var c=this.lead.row,a=this.lead.column,o;if(o=this.session.getFoldAt(c,a,-1))return this.moveCursorTo(o.start.row,o.start.column);var h=this.session.getLine(c).substring(0,a);if(a===0){do c--,h=this.doc.getLine(c);while(c>0&&/^\s*$/.test(h));a=h.length,/\s+$/.test(h)||(h="")}var g=it.stringReverse(h),tt=this.$shortWordEndIndex(g);return this.moveCursorTo(c,a-tt)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(c,a){var o=this.session.documentToScreenPosition(this.lead.row,this.lead.column),h;if(a===0&&(c!==0&&(this.session.$bidiHandler.isBidiRow(o.row,this.lead.row)?(h=this.session.$bidiHandler.getPosLeft(o.column),o.column=Math.round(h/this.session.$bidiHandler.charWidths[0])):h=o.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?o.column=this.$desiredColumn:this.$desiredColumn=o.column),c!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var g=this.session.lineWidgets[this.lead.row];c<0?c-=g.rowsAbove||0:c>0&&(c+=g.rowCount-(g.rowsAbove||0))}var tt=this.session.screenToDocumentPosition(o.row+c,o.column,h);c!==0&&a===0&&tt.row===this.lead.row&&(tt.column,this.lead.column),this.moveCursorTo(tt.row,tt.column+a,a===0)},this.moveCursorToPosition=function(c){this.moveCursorTo(c.row,c.column)},this.moveCursorTo=function(c,a,o){var h=this.session.getFoldAt(c,a,1);h&&(c=h.start.row,a=h.start.column),this.$keepDesiredColumnOnChange=!0;var g=this.session.getLine(c);/[\uDC00-\uDFFF]/.test(g.charAt(a))&&g.charAt(a-1)&&(this.lead.row==c&&this.lead.column==a+1?a=a-1:a=a+1),this.lead.setPosition(c,a),this.$keepDesiredColumnOnChange=!1,o||(this.$desiredColumn=null)},this.moveCursorToScreen=function(c,a,o){var h=this.session.screenToDocumentPosition(c,a);this.moveCursorTo(h.row,h.column,o)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(c){this.setSelectionRange(c,c.cursor==c.start),this.$desiredColumn=c.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(c){var a=this.getRange();return c?(c.start.column=a.start.column,c.start.row=a.start.row,c.end.column=a.end.column,c.end.row=a.end.row):c=a,c.cursor=this.isBackwards()?c.start:c.end,c.desiredColumn=this.$desiredColumn,c},this.getRangeOfMovements=function(c){var a=this.getCursor();try{c(this);var o=this.getCursor();return _.fromPoints(a,o)}catch{return _.fromPoints(a,a)}finally{this.moveCursorToPosition(a)}},this.toJSON=function(){if(this.rangeCount)var c=this.ranges.map(function(a){var o=a.clone();return o.isBackwards=a.cursor==a.start,o});else{var c=this.getRange();c.isBackwards=this.isBackwards()}return c},this.fromJSON=function(c){if(c.start==null)if(this.rangeList&&c.length>1){this.toSingleRange(c[0]);for(var a=c.length;a--;){var o=_.fromPoints(c[a].start,c[a].end);c[a].isBackwards&&(o.cursor=o.start),this.addRange(o,!0)}return}else c=c[0];this.rangeList&&this.toSingleRange(c),this.setSelectionRange(c,c.isBackwards)},this.isEqual=function(c){if((c.length||this.rangeCount)&&c.length!=this.rangeCount)return!1;if(!c.length||!this.ranges)return this.getRange().isEqual(c);for(var a=this.ranges.length;a--;)if(!this.ranges[a].isEqual(c[a]))return!1;return!0}}).call(b.prototype),d.Selection=b}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(i,d,ft){var $=i("./config"),it=2e3,nt=function(_){this.states=_,this.regExps={},this.matchMappings={};for(var b in this.states){for(var c=this.states[b],a=[],o=0,h=this.matchMappings[b]={defaultToken:"text"},g="g",tt=[],at=0;at<c.length;at++){var ht=c[at];if(ht.defaultToken&&(h.defaultToken=ht.defaultToken),ht.caseInsensitive&&g.indexOf("i")===-1&&(g+="i"),ht.unicode&&g.indexOf("u")===-1&&(g+="u"),ht.regex!=null){ht.regex instanceof RegExp&&(ht.regex=ht.regex.toString().slice(1,-1));var _e=ht.regex,ut=new RegExp("(?:("+_e+")|(.))").exec("a").length-2;Array.isArray(ht.token)?ht.token.length==1||ut==1?ht.token=ht.token[0]:ut-1!=ht.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:ht,groupCount:ut-1}),ht.token=ht.token[0]):(ht.tokenArray=ht.token,ht.token=null,ht.onMatch=this.$arrayTokens):typeof ht.token=="function"&&!ht.onMatch&&(ut>1?ht.onMatch=this.$applyToken:ht.onMatch=ht.token),ut>1&&(/\\\d/.test(ht.regex)?_e=ht.regex.replace(/\\([0-9]+)/g,function(ct,rt){return"\\"+(parseInt(rt,10)+o+1)}):(ut=1,_e=this.removeCapturingGroups(ht.regex)),!ht.splitRegex&&typeof ht.token!="string"&&tt.push(ht)),h[o]=at,o+=ut,a.push(_e),ht.onMatch||(ht.onMatch=null)}}a.length||(h[0]=0,a.push("$")),tt.forEach(function(ct){ct.splitRegex=this.createSplitterRegexp(ct.regex,g)},this),this.regExps[b]=new RegExp("("+a.join(")|(")+")|($)",g)}};(function(){this.$setMaxTokenCount=function(_){it=_|0},this.$applyToken=function(_){var b=this.splitRegex.exec(_).slice(1),c=this.token.apply(this,b);if(typeof c=="string")return[{type:c,value:_}];for(var a=[],o=0,h=c.length;o<h;o++)b[o]&&(a[a.length]={type:c[o],value:b[o]});return a},this.$arrayTokens=function(_){if(!_)return[];var b=this.splitRegex.exec(_);if(!b)return"text";for(var c=[],a=this.tokenArray,o=0,h=a.length;o<h;o++)b[o+1]&&(c[c.length]={type:a[o],value:b[o+1]});return c},this.removeCapturingGroups=function(_){var b=_.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(c,a){return a?"(?:":c});return b},this.createSplitterRegexp=function(_,b){if(_.indexOf("(?=")!=-1){var c=0,a=!1,o={};_.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(h,g,tt,at,ht,_e){return a?a=ht!="]":ht?a=!0:at?(c==o.stack&&(o.end=_e+1,o.stack=-1),c--):tt&&(c++,tt.length!=1&&(o.stack=c,o.start=_e)),h}),o.end!=null&&/^\)*$/.test(_.substr(o.end))&&(_=_.substring(0,o.start)+_.substr(o.end))}return _.charAt(0)!="^"&&(_="^"+_),_.charAt(_.length-1)!="$"&&(_+="$"),new RegExp(_,(b||"").replace("g",""))},this.getLineTokens=function(_,b){if(b&&typeof b!="string"){var c=b.slice(0);b=c[0],b==="#tmp"&&(c.shift(),b=c.shift())}else var c=[];var a=b||"start",o=this.states[a];o||(a="start",o=this.states[a]);var h=this.matchMappings[a],g=this.regExps[a];g.lastIndex=0;for(var tt,at=[],ht=0,_e=0,ut={type:null,value:""};tt=g.exec(_);){var ct=h.defaultToken,rt=null,st=tt[0],vt=g.lastIndex;if(vt-st.length>ht){var ot=_.substring(ht,vt-st.length);ut.type==ct?ut.value+=ot:(ut.type&&at.push(ut),ut={type:ct,value:ot})}for(var et=0;et<tt.length-2;et++)if(tt[et+1]!==void 0){rt=o[h[et]],rt.onMatch?ct=rt.onMatch(st,a,c,_):ct=rt.token,rt.next&&(typeof rt.next=="string"?a=rt.next:a=rt.next(a,c),o=this.states[a],o||(this.reportError("state doesn't exist",a),a="start",o=this.states[a]),h=this.matchMappings[a],ht=vt,g=this.regExps[a],g.lastIndex=vt),rt.consumeLineEnd&&(ht=vt);break}if(st){if(typeof ct=="string")(!rt||rt.merge!==!1)&&ut.type===ct?ut.value+=st:(ut.type&&at.push(ut),ut={type:ct,value:st});else if(ct){ut.type&&at.push(ut),ut={type:null,value:""};for(var et=0;et<ct.length;et++)at.push(ct[et])}}if(ht==_.length)break;if(ht=vt,_e++>it){for(_e>2*_.length&&this.reportError("infinite loop with in ace tokenizer",{startState:b,line:_});ht<_.length;)ut.type&&at.push(ut),ut={value:_.substring(ht,ht+=500),type:"overflow"};a="start",c=[];break}}return ut.type&&at.push(ut),c.length>1&&c[0]!==a&&c.unshift("#tmp",a),{tokens:at,state:c.length?c:a}},this.reportError=$.reportError}).call(nt.prototype),d.Tokenizer=nt}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(i,d,ft){var $=i("../lib/lang"),it=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(b,c){if(!c){for(var a in b)this.$rules[a]=b[a];return}for(var a in b){for(var o=b[a],h=0;h<o.length;h++){var g=o[h];(g.next||g.onMatch)&&(typeof g.next=="string"&&g.next.indexOf(c)!==0&&(g.next=c+g.next),g.nextState&&g.nextState.indexOf(c)!==0&&(g.nextState=c+g.nextState))}this.$rules[c+a]=o}},this.getRules=function(){return this.$rules},this.embedRules=function(b,c,a,o,h){var g=typeof b=="function"?new b().getRules():b;if(o)for(var tt=0;tt<o.length;tt++)o[tt]=c+o[tt];else{o=[];for(var at in g)o.push(c+at)}if(this.addRules(g,c),a)for(var ht=Array.prototype[h?"push":"unshift"],tt=0;tt<o.length;tt++)ht.apply(this.$rules[o[tt]],$.deepCopy(a));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var nt=function(b,c){return(b!="start"||c.length)&&c.unshift(this.nextState,b),this.nextState},_=function(b,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var b=0,c=this.$rules;function a(o){var h=c[o];h.processed=!0;for(var g=0;g<h.length;g++){var tt=h[g],at=null;Array.isArray(tt)&&(at=tt,tt={}),!tt.regex&&tt.start&&(tt.regex=tt.start,tt.next||(tt.next=[]),tt.next.push({defaultToken:tt.token},{token:tt.token+".end",regex:tt.end||tt.start,next:"pop"}),tt.token=tt.token+".start",tt.push=!0);var ht=tt.next||tt.push;if(ht&&Array.isArray(ht)){var _e=tt.stateName;_e||(_e=tt.token,typeof _e!="string"&&(_e=_e[0]||""),c[_e]&&(_e+=b++)),c[_e]=ht,tt.next=_e,a(_e)}else ht=="pop"&&(tt.next=_);if(tt.push&&(tt.nextState=tt.next||tt.push,tt.next=nt,delete tt.push),tt.rules)for(var ut in tt.rules)c[ut]?c[ut].push&&c[ut].push.apply(c[ut],tt.rules[ut]):c[ut]=tt.rules[ut];var ct=typeof tt=="string"?tt:tt.include;if(ct&&(Array.isArray(ct)?at=ct.map(function(st){return c[st]}):at=c[ct]),at){var rt=[g,1].concat(at);tt.noEscape&&(rt=rt.filter(function(st){return!st.next})),h.splice.apply(h,rt),g--}tt.keywordMap&&(tt.token=this.createKeywordMapper(tt.keywordMap,tt.defaultToken||"text",tt.caseInsensitive),delete tt.defaultToken)}}Object.keys(c).forEach(a,this)},this.createKeywordMapper=function(b,c,a,o){var h=Object.create(null);return this.$keywordList=[],Object.keys(b).forEach(function(g){for(var tt=b[g],at=tt.split(o||"|"),ht=at.length;ht--;){var _e=at[ht];this.$keywordList.push(_e),a&&(_e=_e.toLowerCase()),h[_e]=g}},this),b=null,a?function(g){return h[g.toLowerCase()]||c}:function(g){return h[g]||c}},this.getKeywords=function(){return this.$keywords}}).call(it.prototype),d.TextHighlightRules=it}),ace.define("ace/mode/behaviour",["require","exports","module"],function(i,d,ft){var $=function(){this.$behaviours={}};(function(){this.add=function(it,nt,_){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[it]:this.$behaviours[it]={}}this.$behaviours[it][nt]=_},this.addBehaviours=function(it){for(var nt in it)for(var _ in it[nt])this.add(nt,_,it[nt][_])},this.remove=function(it){this.$behaviours&&this.$behaviours[it]&&delete this.$behaviours[it]},this.inherit=function(it,nt){if(typeof it=="function")var _=new it().getBehaviours(nt);else var _=it.getBehaviours(nt);this.addBehaviours(_)},this.getBehaviours=function(it){if(it){for(var nt={},_=0;_<it.length;_++)this.$behaviours[it[_]]&&(nt[it[_]]=this.$behaviours[it[_]]);return nt}else return this.$behaviours}}).call($.prototype),d.Behaviour=$}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(i,d,ft){var $=i("./range").Range,it=function(nt,_,b){this.$session=nt,this.$row=_,this.$rowTokens=nt.getTokens(_);var c=nt.getTokenAt(_,b);this.$tokenIndex=c?c.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var nt;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,nt||(nt=this.$session.getLength()),this.$row>=nt)return this.$row=nt-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var nt=this.$rowTokens,_=this.$tokenIndex,b=nt[_].start;if(b!==void 0)return b;for(b=0;_>0;)_-=1,b+=nt[_].value.length;return b},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var nt=this.$rowTokens[this.$tokenIndex],_=this.getCurrentTokenColumn();return new $(this.$row,_,this.$row,_+nt.value.length)}}).call(it.prototype),d.TokenIterator=it}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(i,d,ft){var $=i("../../lib/oop"),it=i("../behaviour").Behaviour,nt=i("../../token_iterator").TokenIterator,_=i("../../lib/lang"),b=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],a,o={},h={'"':'"',"'":"'"},g=function(ht){var _e=-1;if(ht.multiSelect&&(_e=ht.selection.index,o.rangeCount!=ht.multiSelect.rangeCount&&(o={rangeCount:ht.multiSelect.rangeCount})),o[_e])return a=o[_e];a=o[_e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},tt=function(ht,_e,ut,ct){var rt=ht.end.row-ht.start.row;return{text:ut+_e+ct,selection:[0,ht.start.column+1,rt,ht.end.column+(rt?0:1)]}},at=function(ht){this.add("braces","insertion",function(_e,ut,ct,rt,st){var vt=ct.getCursorPosition(),ot=rt.doc.getLine(vt.row);if(st=="{"){g(ct);var et=ct.getSelectionRange(),lt=rt.doc.getTextRange(et);if(lt!==""&&lt!=="{"&&ct.getWrapBehavioursEnabled())return tt(et,lt,"{","}");if(at.isSaneInsertion(ct,rt))return/[\]\}\)]/.test(ot[vt.column])||ct.inMultiSelectMode||ht&&ht.braces?(at.recordAutoInsert(ct,rt,"}"),{text:"{}",selection:[1,1]}):(at.recordMaybeInsert(ct,rt,"{"),{text:"{",selection:[1,1]})}else if(st=="}"){g(ct);var mt=ot.substring(vt.column,vt.column+1);if(mt=="}"){var xt=rt.$findOpeningBracket("}",{column:vt.column+1,row:vt.row});if(xt!==null&&at.isAutoInsertedClosing(vt,ot,st))return at.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(st==`
`||st==`\r
`){g(ct);var wt="";at.isMaybeInsertedClosing(vt,ot)&&(wt=_.stringRepeat("}",a.maybeInsertedBrackets),at.clearMaybeInsertedClosing());var mt=ot.substring(vt.column,vt.column+1);if(mt==="}"){var St=rt.findMatchingBracket({row:vt.row,column:vt.column+1},"}");if(!St)return null;var Tt=this.$getIndent(rt.getLine(St.row))}else if(wt)var Tt=this.$getIndent(ot);else{at.clearMaybeInsertedClosing();return}var kt=Tt+rt.getTabString();return{text:`
`+kt+`
`+Tt+wt,selection:[1,kt.length,1,kt.length]}}else at.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(_e,ut,ct,rt,st){var vt=rt.doc.getTextRange(st);if(!st.isMultiLine()&&vt=="{"){g(ct);var ot=rt.doc.getLine(st.start.row),et=ot.substring(st.end.column,st.end.column+1);if(et=="}")return st.end.column++,st;a.maybeInsertedBrackets--}}),this.add("parens","insertion",function(_e,ut,ct,rt,st){if(st=="("){g(ct);var vt=ct.getSelectionRange(),ot=rt.doc.getTextRange(vt);if(ot!==""&&ct.getWrapBehavioursEnabled())return tt(vt,ot,"(",")");if(at.isSaneInsertion(ct,rt))return at.recordAutoInsert(ct,rt,")"),{text:"()",selection:[1,1]}}else if(st==")"){g(ct);var et=ct.getCursorPosition(),lt=rt.doc.getLine(et.row),mt=lt.substring(et.column,et.column+1);if(mt==")"){var xt=rt.$findOpeningBracket(")",{column:et.column+1,row:et.row});if(xt!==null&&at.isAutoInsertedClosing(et,lt,st))return at.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(_e,ut,ct,rt,st){var vt=rt.doc.getTextRange(st);if(!st.isMultiLine()&&vt=="("){g(ct);var ot=rt.doc.getLine(st.start.row),et=ot.substring(st.start.column+1,st.start.column+2);if(et==")")return st.end.column++,st}}),this.add("brackets","insertion",function(_e,ut,ct,rt,st){if(st=="["){g(ct);var vt=ct.getSelectionRange(),ot=rt.doc.getTextRange(vt);if(ot!==""&&ct.getWrapBehavioursEnabled())return tt(vt,ot,"[","]");if(at.isSaneInsertion(ct,rt))return at.recordAutoInsert(ct,rt,"]"),{text:"[]",selection:[1,1]}}else if(st=="]"){g(ct);var et=ct.getCursorPosition(),lt=rt.doc.getLine(et.row),mt=lt.substring(et.column,et.column+1);if(mt=="]"){var xt=rt.$findOpeningBracket("]",{column:et.column+1,row:et.row});if(xt!==null&&at.isAutoInsertedClosing(et,lt,st))return at.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(_e,ut,ct,rt,st){var vt=rt.doc.getTextRange(st);if(!st.isMultiLine()&&vt=="["){g(ct);var ot=rt.doc.getLine(st.start.row),et=ot.substring(st.start.column+1,st.start.column+2);if(et=="]")return st.end.column++,st}}),this.add("string_dquotes","insertion",function(_e,ut,ct,rt,st){var vt=rt.$mode.$quotes||h;if(st.length==1&&vt[st]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(st)!=-1)return;g(ct);var ot=st,et=ct.getSelectionRange(),lt=rt.doc.getTextRange(et);if(lt!==""&&(lt.length!=1||!vt[lt])&&ct.getWrapBehavioursEnabled())return tt(et,lt,ot,ot);if(!lt){var mt=ct.getCursorPosition(),xt=rt.doc.getLine(mt.row),wt=xt.substring(mt.column-1,mt.column),St=xt.substring(mt.column,mt.column+1),Tt=rt.getTokenAt(mt.row,mt.column),kt=rt.getTokenAt(mt.row,mt.column+1);if(wt=="\\"&&Tt&&/escape/.test(Tt.type))return null;var Vt=Tt&&/string|escape/.test(Tt.type),Ct=!kt||/string|escape/.test(kt.type),Rt;if(St==ot)Rt=Vt!==Ct,Rt&&/string\.end/.test(kt.type)&&(Rt=!1);else{if(Vt&&!Ct||Vt&&Ct)return null;var zt=rt.$mode.tokenRe;zt.lastIndex=0;var Xt=zt.test(wt);zt.lastIndex=0;var Pt=zt.test(wt);if(Xt||Pt||St&&!/[\s;,.})\]\\]/.test(St))return null;var Mt=xt[mt.column-2];if(wt==ot&&(Mt==ot||zt.test(Mt)))return null;Rt=!0}return{text:Rt?ot+ot:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(_e,ut,ct,rt,st){var vt=rt.$mode.$quotes||h,ot=rt.doc.getTextRange(st);if(!st.isMultiLine()&&vt.hasOwnProperty(ot)){g(ct);var et=rt.doc.getLine(st.start.row),lt=et.substring(st.start.column+1,st.start.column+2);if(lt==ot)return st.end.column++,st}})};at.isSaneInsertion=function(ht,_e){var ut=ht.getCursorPosition(),ct=new nt(_e,ut.row,ut.column);if(!this.$matchTokenType(ct.getCurrentToken()||"text",b)){if(/[)}\]]/.test(ht.session.getLine(ut.row)[ut.column]))return!0;var rt=new nt(_e,ut.row,ut.column+1);if(!this.$matchTokenType(rt.getCurrentToken()||"text",b))return!1}return ct.stepForward(),ct.getCurrentTokenRow()!==ut.row||this.$matchTokenType(ct.getCurrentToken()||"text",c)},at.$matchTokenType=function(ht,_e){return _e.indexOf(ht.type||ht)>-1},at.recordAutoInsert=function(ht,_e,ut){var ct=ht.getCursorPosition(),rt=_e.doc.getLine(ct.row);this.isAutoInsertedClosing(ct,rt,a.autoInsertedLineEnd[0])||(a.autoInsertedBrackets=0),a.autoInsertedRow=ct.row,a.autoInsertedLineEnd=ut+rt.substr(ct.column),a.autoInsertedBrackets++},at.recordMaybeInsert=function(ht,_e,ut){var ct=ht.getCursorPosition(),rt=_e.doc.getLine(ct.row);this.isMaybeInsertedClosing(ct,rt)||(a.maybeInsertedBrackets=0),a.maybeInsertedRow=ct.row,a.maybeInsertedLineStart=rt.substr(0,ct.column)+ut,a.maybeInsertedLineEnd=rt.substr(ct.column),a.maybeInsertedBrackets++},at.isAutoInsertedClosing=function(ht,_e,ut){return a.autoInsertedBrackets>0&&ht.row===a.autoInsertedRow&&ut===a.autoInsertedLineEnd[0]&&_e.substr(ht.column)===a.autoInsertedLineEnd},at.isMaybeInsertedClosing=function(ht,_e){return a.maybeInsertedBrackets>0&&ht.row===a.maybeInsertedRow&&_e.substr(ht.column)===a.maybeInsertedLineEnd&&_e.substr(0,ht.column)==a.maybeInsertedLineStart},at.popAutoInsertedClosing=function(){a.autoInsertedLineEnd=a.autoInsertedLineEnd.substr(1),a.autoInsertedBrackets--},at.clearMaybeInsertedClosing=function(){a&&(a.maybeInsertedBrackets=0,a.maybeInsertedRow=-1)},$.inherits(at,it),d.CstyleBehaviour=at}),ace.define("ace/unicode",["require","exports","module"],function(i,d,ft){for(var $=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],it=0,nt=[],_=0;_<$.length;_+=2)nt.push(it+=$[_]),$[_+1]&&nt.push(45,it+=$[_+1]);d.wordChars=String.fromCharCode.apply(null,nt)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(i,d,ft){var $=i("../config"),it=i("../tokenizer").Tokenizer,nt=i("./text_highlight_rules").TextHighlightRules,_=i("./behaviour/cstyle").CstyleBehaviour,b=i("../unicode"),c=i("../lib/lang"),a=i("../token_iterator").TokenIterator,o=i("../range").Range,h=function(){this.HighlightRules=nt};(function(){this.$defaultBehaviour=new _,this.tokenRe=new RegExp("^["+b.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+b.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new it(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(g,tt,at,ht){var _e=tt.doc,ut=!0,ct=!0,rt=1/0,st=tt.getTabSize(),vt=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var lt=this.lineCommentStart.map(c.escapeRegExp).join("|"),ot=this.lineCommentStart[0];else var lt=c.escapeRegExp(this.lineCommentStart),ot=this.lineCommentStart;lt=new RegExp("^(\\s*)(?:"+lt+") ?"),vt=tt.getUseSoftTabs();var wt=function(Pt,Mt){var jt=Pt.match(lt);if(!!jt){var Zt=jt[1].length,Yt=jt[0].length;!kt(Pt,Zt,Yt)&&jt[0][Yt-1]==" "&&Yt--,_e.removeInLine(Mt,Zt,Yt)}},Tt=ot+" ",xt=function(Pt,Mt){(!ut||/\S/.test(Pt))&&(kt(Pt,rt,rt)?_e.insertInLine({row:Mt,column:rt},Tt):_e.insertInLine({row:Mt,column:rt},ot))},St=function(Pt,Mt){return lt.test(Pt)},kt=function(Pt,Mt,jt){for(var Zt=0;Mt--&&Pt.charAt(Mt)==" ";)Zt++;if(Zt%st!=0)return!1;for(var Zt=0;Pt.charAt(jt++)==" ";)Zt++;return st>2?Zt%st!=st-1:Zt%st==0}}else{if(!this.blockComment)return!1;var ot=this.blockComment.start,et=this.blockComment.end,lt=new RegExp("^(\\s*)(?:"+c.escapeRegExp(ot)+")"),mt=new RegExp("(?:"+c.escapeRegExp(et)+")\\s*$"),xt=function(Rt,zt){St(Rt,zt)||(!ut||/\S/.test(Rt))&&(_e.insertInLine({row:zt,column:Rt.length},et),_e.insertInLine({row:zt,column:rt},ot))},wt=function(Rt,zt){var Xt;(Xt=Rt.match(mt))&&_e.removeInLine(zt,Rt.length-Xt[0].length,Rt.length),(Xt=Rt.match(lt))&&_e.removeInLine(zt,Xt[1].length,Xt[0].length)},St=function(Rt,zt){if(lt.test(Rt))return!0;for(var Xt=tt.getTokens(zt),Pt=0;Pt<Xt.length;Pt++)if(Xt[Pt].type==="comment")return!0}}function Vt(Rt){for(var zt=at;zt<=ht;zt++)Rt(_e.getLine(zt),zt)}var Ct=1/0;Vt(function(Rt,zt){var Xt=Rt.search(/\S/);Xt!==-1?(Xt<rt&&(rt=Xt),ct&&!St(Rt,zt)&&(ct=!1)):Ct>Rt.length&&(Ct=Rt.length)}),rt==1/0&&(rt=Ct,ut=!1,ct=!1),vt&&rt%st!=0&&(rt=Math.floor(rt/st)*st),Vt(ct?wt:xt)},this.toggleBlockComment=function(g,tt,at,ht){var _e=this.blockComment;if(!!_e){!_e.start&&_e[0]&&(_e=_e[0]);var ut=new a(tt,ht.row,ht.column),ct=ut.getCurrentToken();tt.selection;var rt=tt.selection.toOrientedRange(),st,vt;if(ct&&/comment/.test(ct.type)){for(var ot,et;ct&&/comment/.test(ct.type);){var lt=ct.value.indexOf(_e.start);if(lt!=-1){var mt=ut.getCurrentTokenRow(),xt=ut.getCurrentTokenColumn()+lt;ot=new o(mt,xt,mt,xt+_e.start.length);break}ct=ut.stepBackward()}for(var ut=new a(tt,ht.row,ht.column),ct=ut.getCurrentToken();ct&&/comment/.test(ct.type);){var lt=ct.value.indexOf(_e.end);if(lt!=-1){var mt=ut.getCurrentTokenRow(),xt=ut.getCurrentTokenColumn()+lt;et=new o(mt,xt,mt,xt+_e.end.length);break}ct=ut.stepForward()}et&&tt.remove(et),ot&&(tt.remove(ot),st=ot.start.row,vt=-_e.start.length)}else vt=_e.start.length,st=at.start.row,tt.insert(at.end,_e.end),tt.insert(at.start,_e.start);rt.start.row==st&&(rt.start.column+=vt),rt.end.row==st&&(rt.end.column+=vt),tt.selection.fromOrientedRange(rt)}},this.getNextLineIndent=function(g,tt,at){return this.$getIndent(tt)},this.checkOutdent=function(g,tt,at){return!1},this.autoOutdent=function(g,tt,at){},this.$getIndent=function(g){return g.match(/^\s*/)[0]},this.createWorker=function(g){return null},this.createModeDelegates=function(g){this.$embeds=[],this.$modes={};for(var tt in g)if(g[tt]){var at=g[tt],ht=at.prototype.$id,_e=$.$modes[ht];_e||($.$modes[ht]=_e=new at),$.$modes[tt]||($.$modes[tt]=_e),this.$embeds.push(tt),this.$modes[tt]=_e}for(var ut=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],tt=0;tt<ut.length;tt++)(function(rt){var st=ut[tt],vt=rt[st];rt[ut[tt]]=function(){return this.$delegator(st,arguments,vt)}})(this)},this.$delegator=function(g,tt,at){var ht=tt[0]||"start";if(typeof ht!="string"){if(Array.isArray(ht[2])){var _e=ht[2][ht[2].length-1],ut=this.$modes[_e];if(ut)return ut[g].apply(ut,[ht[1]].concat([].slice.call(tt,1)))}ht=ht[0]||"start"}for(var ct=0;ct<this.$embeds.length;ct++)if(!!this.$modes[this.$embeds[ct]]){var rt=ht.split(this.$embeds[ct]);if(!rt[0]&&rt[1]){tt[0]=rt[1];var ut=this.$modes[this.$embeds[ct]];return ut[g].apply(ut,tt)}}var st=at.apply(this,tt);return at?st:void 0},this.transformAction=function(g,tt,at,ht,_e){if(this.$behaviour){var ut=this.$behaviour.getBehaviours();for(var ct in ut)if(ut[ct][tt]){var rt=ut[ct][tt].apply(this,arguments);if(rt)return rt}}},this.getKeywords=function(g){if(!this.completionKeywords){var tt=this.$tokenizer.rules,at=[];for(var ht in tt)for(var _e=tt[ht],ut=0,ct=_e.length;ut<ct;ut++)if(typeof _e[ut].token=="string")/keyword|support|storage/.test(_e[ut].token)&&at.push(_e[ut].regex);else if(typeof _e[ut].token=="object"){for(var rt=0,st=_e[ut].token.length;rt<st;rt++)if(/keyword|support|storage/.test(_e[ut].token[rt])){var ht=_e[ut].regex.match(/\(.+?\)/g)[rt];at.push(ht.substr(1,ht.length-2))}}this.completionKeywords=at}return g?at.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(g,tt,at,ht){var _e=this.$keywordList||this.$createKeywordList();return _e.map(function(ut){return{name:ut,value:ut,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(h.prototype),d.Mode=h}),ace.define("ace/apply_delta",["require","exports","module"],function(i,d,ft){d.applyDelta=function($,it,nt){var _=it.start.row,b=it.start.column,c=$[_]||"";switch(it.action){case"insert":var a=it.lines;if(a.length===1)$[_]=c.substring(0,b)+it.lines[0]+c.substring(b);else{var o=[_,1].concat(it.lines);$.splice.apply($,o),$[_]=c.substring(0,b)+$[_],$[_+it.lines.length-1]+=c.substring(b)}break;case"remove":var h=it.end.column,g=it.end.row;_===g?$[_]=c.substring(0,b)+c.substring(h):$.splice(_,g-_+1,c.substring(0,b)+$[g].substring(h));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/event_emitter").EventEmitter,nt=d.Anchor=function(_,b,c){this.$onChange=this.onChange.bind(this),this.attach(_),typeof c>"u"?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){$.implement(this,it),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(c){if(!(c.start.row==c.end.row&&c.start.row!=this.row)&&!(c.start.row>this.row)){var a=b(c,{row:this.row,column:this.column},this.$insertRight);this.setPosition(a.row,a.column,!0)}};function _(c,a,o){var h=o?c.column<=a.column:c.column<a.column;return c.row<a.row||c.row==a.row&&h}function b(c,a,o){var h=c.action=="insert",g=(h?1:-1)*(c.end.row-c.start.row),tt=(h?1:-1)*(c.end.column-c.start.column),at=c.start,ht=h?at:c.end;return _(a,at,o)?{row:a.row,column:a.column}:_(ht,a,!o)?{row:a.row+g,column:a.column+(a.row==ht.row?tt:0)}:{row:at.row,column:at.column}}this.setPosition=function(c,a,o){var h;if(o?h={row:c,column:a}:h=this.$clipPositionToDocument(c,a),!(this.row==h.row&&this.column==h.column)){var g={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:g,value:h})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(c){this.document=c||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(c,a){var o={};return c>=this.document.getLength()?(o.row=Math.max(0,this.document.getLength()-1),o.column=this.document.getLine(o.row).length):c<0?(o.row=0,o.column=0):(o.row=c,o.column=Math.min(this.document.getLine(o.row).length,Math.max(0,a))),a<0&&(o.column=0),o}}).call(nt.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(i,d,ft){var $=i("./lib/oop"),it=i("./apply_delta").applyDelta,nt=i("./lib/event_emitter").EventEmitter,_=i("./range").Range,b=i("./anchor").Anchor,c=function(a){this.$lines=[""],a.length===0?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)};(function(){$.implement(this,nt),this.setValue=function(a){var o=this.getLength()-1;this.remove(new _(0,0,o,this.getLine(o).length)),this.insert({row:0,column:0},a||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(a,o){return new b(this,a,o)},"aaa".split(/a/).length===0?this.$split=function(a){return a.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(a){return a.split(/\r\n|\r|\n/)},this.$detectNewLine=function(a){var o=a.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=o?o[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(a){return a==`\r
`||a=="\r"||a==`
`},this.getLine=function(a){return this.$lines[a]||""},this.getLines=function(a,o){return this.$lines.slice(a,o+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(a){return this.getLinesForRange(a).join(this.getNewLineCharacter())},this.getLinesForRange=function(a){var o;if(a.start.row===a.end.row)o=[this.getLine(a.start.row).substring(a.start.column,a.end.column)];else{o=this.getLines(a.start.row,a.end.row),o[0]=(o[0]||"").substring(a.start.column);var h=o.length-1;a.end.row-a.start.row==h&&(o[h]=o[h].substring(0,a.end.column))}return o},this.insertLines=function(a,o){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(a,o)},this.removeLines=function(a,o){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(a,o)},this.insertNewLine=function(a){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(a,["",""])},this.insert=function(a,o){return this.getLength()<=1&&this.$detectNewLine(o),this.insertMergedLines(a,this.$split(o))},this.insertInLine=function(a,o){var h=this.clippedPos(a.row,a.column),g=this.pos(a.row,a.column+o.length);return this.applyDelta({start:h,end:g,action:"insert",lines:[o]},!0),this.clonePos(g)},this.clippedPos=function(a,o){var h=this.getLength();a===void 0?a=h:a<0?a=0:a>=h&&(a=h-1,o=void 0);var g=this.getLine(a);return o==null&&(o=g.length),o=Math.min(Math.max(o,0),g.length),{row:a,column:o}},this.clonePos=function(a){return{row:a.row,column:a.column}},this.pos=function(a,o){return{row:a,column:o}},this.$clipPosition=function(a){var o=this.getLength();return a.row>=o?(a.row=Math.max(0,o-1),a.column=this.getLine(o-1).length):(a.row=Math.max(0,a.row),a.column=Math.min(Math.max(a.column,0),this.getLine(a.row).length)),a},this.insertFullLines=function(a,o){a=Math.min(Math.max(a,0),this.getLength());var h=0;a<this.getLength()?(o=o.concat([""]),h=0):(o=[""].concat(o),a--,h=this.$lines[a].length),this.insertMergedLines({row:a,column:h},o)},this.insertMergedLines=function(a,o){var h=this.clippedPos(a.row,a.column),g={row:h.row+o.length-1,column:(o.length==1?h.column:0)+o[o.length-1].length};return this.applyDelta({start:h,end:g,action:"insert",lines:o}),this.clonePos(g)},this.remove=function(a){var o=this.clippedPos(a.start.row,a.start.column),h=this.clippedPos(a.end.row,a.end.column);return this.applyDelta({start:o,end:h,action:"remove",lines:this.getLinesForRange({start:o,end:h})}),this.clonePos(o)},this.removeInLine=function(a,o,h){var g=this.clippedPos(a,o),tt=this.clippedPos(a,h);return this.applyDelta({start:g,end:tt,action:"remove",lines:this.getLinesForRange({start:g,end:tt})},!0),this.clonePos(g)},this.removeFullLines=function(a,o){a=Math.min(Math.max(0,a),this.getLength()-1),o=Math.min(Math.max(0,o),this.getLength()-1);var h=o==this.getLength()-1&&a>0,g=o<this.getLength()-1,tt=h?a-1:a,at=h?this.getLine(tt).length:0,ht=g?o+1:o,_e=g?0:this.getLine(ht).length,ut=new _(tt,at,ht,_e),ct=this.$lines.slice(a,o+1);return this.applyDelta({start:ut.start,end:ut.end,action:"remove",lines:this.getLinesForRange(ut)}),ct},this.removeNewLine=function(a){a<this.getLength()-1&&a>=0&&this.applyDelta({start:this.pos(a,this.getLine(a).length),end:this.pos(a+1,0),action:"remove",lines:["",""]})},this.replace=function(a,o){if(a instanceof _||(a=_.fromPoints(a.start,a.end)),o.length===0&&a.isEmpty())return a.start;if(o==this.getTextRange(a))return a.end;this.remove(a);var h;return o?h=this.insert(a.start,o):h=a.start,h},this.applyDeltas=function(a){for(var o=0;o<a.length;o++)this.applyDelta(a[o])},this.revertDeltas=function(a){for(var o=a.length-1;o>=0;o--)this.revertDelta(a[o])},this.applyDelta=function(a,o){var h=a.action=="insert";(h?a.lines.length<=1&&!a.lines[0]:!_.comparePoints(a.start,a.end))||(h&&a.lines.length>2e4?this.$splitAndapplyLargeDelta(a,2e4):(it(this.$lines,a,o),this._signal("change",a)))},this.$safeApplyDelta=function(a){var o=this.$lines.length;(a.action=="remove"&&a.start.row<o&&a.end.row<o||a.action=="insert"&&a.start.row<=o)&&this.applyDelta(a)},this.$splitAndapplyLargeDelta=function(a,o){for(var h=a.lines,g=h.length-o+1,tt=a.start.row,at=a.start.column,ht=0,_e=0;ht<g;ht=_e){_e+=o-1;var ut=h.slice(ht,_e);ut.push(""),this.applyDelta({start:this.pos(tt+ht,at),end:this.pos(tt+_e,at=0),action:a.action,lines:ut},!0)}a.lines=h.slice(ht),a.start.row=tt+ht,a.start.column=at,this.applyDelta(a,!0)},this.revertDelta=function(a){this.$safeApplyDelta({start:this.clonePos(a.start),end:this.clonePos(a.end),action:a.action=="insert"?"remove":"insert",lines:a.lines.slice()})},this.indexToPosition=function(a,o){for(var h=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,tt=o||0,at=h.length;tt<at;tt++)if(a-=h[tt].length+g,a<0)return{row:tt,column:a+h[tt].length+g};return{row:at-1,column:a+h[at-1].length+g}},this.positionToIndex=function(a,o){for(var h=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,tt=0,at=Math.min(a.row,h.length),ht=o||0;ht<at;++ht)tt+=h[ht].length+g;return tt+a.column}}).call(c.prototype),d.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/event_emitter").EventEmitter,nt=function(_,b){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=_;var c=this;this.$worker=function(){if(!!c.running){for(var a=new Date,o=c.currentLine,h=-1,g=c.doc,tt=o;c.lines[o];)o++;var at=g.getLength(),ht=0;for(c.running=!1;o<at;){c.$tokenizeRow(o),h=o;do o++;while(c.lines[o]);if(ht++,ht%5===0&&new Date-a>20){c.running=setTimeout(c.$worker,20);break}}c.currentLine=o,h==-1&&(h=o),tt<=h&&c.fireUpdateEvent(tt,h)}}};(function(){$.implement(this,it),this.setTokenizer=function(_){this.tokenizer=_,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(_){this.doc=_,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(_,b){var c={first:_,last:b};this._signal("update",{data:c})},this.start=function(_){this.currentLine=Math.min(_||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(_){var b=_.start.row,c=_.end.row-b;if(c===0)this.lines[b]=null;else if(_.action=="remove")this.lines.splice(b,c+1,null),this.states.splice(b,c+1,null);else{var a=Array(c+1);a.unshift(b,1),this.lines.splice.apply(this.lines,a),this.states.splice.apply(this.states,a)}this.currentLine=Math.min(b,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(_){return this.lines[_]||this.$tokenizeRow(_)},this.getState=function(_){return this.currentLine==_&&this.$tokenizeRow(_),this.states[_]||"start"},this.$tokenizeRow=function(_){var b=this.doc.getLine(_),c=this.states[_-1],a=this.tokenizer.getLineTokens(b,c,_);return this.states[_]+""!=a.state+""?(this.states[_]=a.state,this.lines[_+1]=null,this.currentLine>_+1&&(this.currentLine=_+1)):this.currentLine==_&&(this.currentLine=_+1),this.lines[_]=a.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(nt.prototype),d.BackgroundTokenizer=nt}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(i,d,ft){var $=i("./lib/lang");i("./lib/oop");var it=i("./range").Range,nt=function(_,b,c){this.setRegexp(_),this.clazz=b,this.type=c||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(_){this.regExp+""!=_+""&&(this.regExp=_,this.cache=[])},this.update=function(_,b,c,a){if(!!this.regExp)for(var o=a.firstRow,h=a.lastRow,g={},tt=o;tt<=h;tt++){var at=this.cache[tt];at==null&&(at=$.getMatchOffsets(c.getLine(tt),this.regExp),at.length>this.MAX_RANGES&&(at=at.slice(0,this.MAX_RANGES)),at=at.map(function(ct){return new it(tt,ct.offset,tt,ct.offset+ct.length)}),this.cache[tt]=at.length?at:"");for(var ht=at.length;ht--;){var _e=at[ht].toScreenRange(c),ut=_e.toString();g[ut]||(g[ut]=!0,b.drawSingleLineMarker(_,_e,this.clazz,a))}}}}).call(nt.prototype),d.SearchHighlight=nt}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(i,d,ft){var $=i("../range").Range;function it(nt,_){this.foldData=nt,Array.isArray(_)?this.folds=_:_=this.folds=[_];var b=_[_.length-1];this.range=new $(_[0].start.row,_[0].start.column,b.end.row,b.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(c){c.setFoldLine(this)},this)}(function(){this.shiftRow=function(nt){this.start.row+=nt,this.end.row+=nt,this.folds.forEach(function(_){_.start.row+=nt,_.end.row+=nt})},this.addFold=function(nt){if(nt.sameRow){if(nt.start.row<this.startRow||nt.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(nt),this.folds.sort(function(_,b){return-_.range.compareEnd(b.start.row,b.start.column)}),this.range.compareEnd(nt.start.row,nt.start.column)>0?(this.end.row=nt.end.row,this.end.column=nt.end.column):this.range.compareStart(nt.end.row,nt.end.column)<0&&(this.start.row=nt.start.row,this.start.column=nt.start.column)}else if(nt.start.row==this.end.row)this.folds.push(nt),this.end.row=nt.end.row,this.end.column=nt.end.column;else if(nt.end.row==this.start.row)this.folds.unshift(nt),this.start.row=nt.start.row,this.start.column=nt.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");nt.foldLine=this},this.containsRow=function(nt){return nt>=this.start.row&&nt<=this.end.row},this.walk=function(nt,_,b){var c=0,a=this.folds,o,h,g,tt=!0;_==null&&(_=this.end.row,b=this.end.column);for(var at=0;at<a.length;at++){if(o=a[at],h=o.range.compareStart(_,b),h==-1){nt(null,_,b,c,tt);return}if(g=nt(null,o.start.row,o.start.column,c,tt),g=!g&&nt(o.placeholder,o.start.row,o.start.column,c),g||h===0)return;tt=!o.sameRow,c=o.end.column}nt(null,_,b,c,tt)},this.getNextFoldTo=function(nt,_){for(var b,c,a=0;a<this.folds.length;a++){if(b=this.folds[a],c=b.range.compareEnd(nt,_),c==-1)return{fold:b,kind:"after"};if(c===0)return{fold:b,kind:"inside"}}return null},this.addRemoveChars=function(nt,_,b){var c=this.getNextFoldTo(nt,_),a,o;if(c){if(a=c.fold,c.kind=="inside"&&a.start.column!=_&&a.start.row!=nt)window.console&&window.console.log(nt,_,a);else if(a.start.row==nt){o=this.folds;var h=o.indexOf(a);for(h===0&&(this.start.column+=b),h;h<o.length;h++){if(a=o[h],a.start.column+=b,!a.sameRow)return;a.end.column+=b}this.end.column+=b}}},this.split=function(nt,_){var b=this.getNextFoldTo(nt,_);if(!b||b.kind=="inside")return null;var c=b.fold,a=this.folds,o=this.foldData,h=a.indexOf(c),g=a[h-1];this.end.row=g.end.row,this.end.column=g.end.column,a=a.splice(h,a.length-h);var tt=new it(o,a);return o.splice(o.indexOf(this)+1,0,tt),tt},this.merge=function(nt){for(var _=nt.folds,b=0;b<_.length;b++)this.addFold(_[b]);var c=this.foldData;c.splice(c.indexOf(nt),1)},this.toString=function(){var nt=[this.range.toString()+": ["];return this.folds.forEach(function(_){nt.push("  "+_.toString())}),nt.push("]"),nt.join(`
`)},this.idxToPosition=function(nt){for(var _=0,b=0;b<this.folds.length;b++){var c=this.folds[b];if(nt-=c.start.column-_,nt<0)return{row:c.start.row,column:c.start.column+nt};if(nt-=c.placeholder.length,nt<0)return c.start;_=c.end.column}return{row:this.end.row,column:this.end.column+nt}}}).call(it.prototype),d.FoldLine=it}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(i,d,ft){var $=i("./range").Range,it=$.comparePoints,nt=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=it,this.pointIndex=function(_,b,c){for(var a=this.ranges,o=c||0;o<a.length;o++){var h=a[o],g=it(_,h.end);if(!(g>0)){var tt=it(_,h.start);return g===0?b&&tt!==0?-o-2:o:tt>0||tt===0&&!b?o:-o-1}}return-o-1},this.add=function(_){var b=!_.isEmpty(),c=this.pointIndex(_.start,b);c<0&&(c=-c-1);var a=this.pointIndex(_.end,b,c);return a<0?a=-a-1:a++,this.ranges.splice(c,a-c,_)},this.addList=function(_){for(var b=[],c=_.length;c--;)b.push.apply(b,this.add(_[c]));return b},this.substractPoint=function(_){var b=this.pointIndex(_);if(b>=0)return this.ranges.splice(b,1)},this.merge=function(){var _=[],b=this.ranges;b=b.sort(function(g,tt){return it(g.start,tt.start)});for(var c=b[0],a,o=1;o<b.length;o++){a=c,c=b[o];var h=it(a.end,c.start);h<0||h==0&&!a.isEmpty()&&!c.isEmpty()||(it(a.end,c.end)<0&&(a.end.row=c.end.row,a.end.column=c.end.column),b.splice(o,1),_.push(c),c=a,o--)}return this.ranges=b,_},this.contains=function(_,b){return this.pointIndex({row:_,column:b})>=0},this.containsPoint=function(_){return this.pointIndex(_)>=0},this.rangeAtPoint=function(_){var b=this.pointIndex(_);if(b>=0)return this.ranges[b]},this.clipRows=function(_,b){var c=this.ranges;if(c[0].start.row>b||c[c.length-1].start.row<_)return[];var a=this.pointIndex({row:_,column:0});a<0&&(a=-a-1);var o=this.pointIndex({row:b,column:0},a);o<0&&(o=-o-1);for(var h=[],g=a;g<o;g++)h.push(c[g]);return h},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(_){this.session&&this.detach(),this.session=_,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(_){for(var b=_.start,c=_.end,a=b.row,o=c.row,h=this.ranges,g=0,tt=h.length;g<tt;g++){var at=h[g];if(at.end.row>=a)break}if(_.action=="insert")for(var ht=o-a,_e=-b.column+c.column;g<tt;g++){var at=h[g];if(at.start.row>a)break;if(at.start.row==a&&at.start.column>=b.column&&(at.start.column==b.column&&this.$bias<=0||(at.start.column+=_e,at.start.row+=ht)),at.end.row==a&&at.end.column>=b.column){if(at.end.column==b.column&&this.$bias<0)continue;at.end.column==b.column&&_e>0&&g<tt-1&&at.end.column>at.start.column&&at.end.column==h[g+1].start.column&&(at.end.column-=_e),at.end.column+=_e,at.end.row+=ht}}else for(var ht=a-o,_e=b.column-c.column;g<tt;g++){var at=h[g];if(at.start.row>o)break;at.end.row<o&&(a<at.end.row||a==at.end.row&&b.column<at.end.column)?(at.end.row=a,at.end.column=b.column):at.end.row==o?at.end.column<=c.column?(ht||at.end.column>b.column)&&(at.end.column=b.column,at.end.row=b.row):(at.end.column+=_e,at.end.row+=ht):at.end.row>o&&(at.end.row+=ht),at.start.row<o&&(a<at.start.row||a==at.start.row&&b.column<at.start.column)?(at.start.row=a,at.start.column=b.column):at.start.row==o?at.start.column<=c.column?(ht||at.start.column>b.column)&&(at.start.column=b.column,at.start.row=b.row):(at.start.column+=_e,at.start.row+=ht):at.start.row>o&&(at.start.row+=ht)}if(ht!=0&&g<tt)for(;g<tt;g++){var at=h[g];at.start.row+=ht,at.end.row+=ht}}}).call(nt.prototype),d.RangeList=nt}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(i,d,ft){var $=i("../range_list").RangeList,it=i("../lib/oop"),nt=d.Fold=function(o,h){this.foldLine=null,this.placeholder=h,this.range=o,this.start=o.start,this.end=o.end,this.sameRow=o.start.row==o.end.row,this.subFolds=this.ranges=[]};it.inherits(nt,$),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(o){this.foldLine=o,this.subFolds.forEach(function(h){h.setFoldLine(o)})},this.clone=function(){var o=this.range.clone(),h=new nt(o,this.placeholder);return this.subFolds.forEach(function(g){h.subFolds.push(g.clone())}),h.collapseChildren=this.collapseChildren,h},this.addSubFold=function(o){if(!this.range.isEqual(o)){b(o,this.start);for(var ht=o.start.row,_e=o.start.column,h=0,g=-1;h<this.subFolds.length&&(g=this.subFolds[h].range.compare(ht,_e),g==1);h++);var tt=this.subFolds[h],at=0;if(g==0){if(tt.range.containsRange(o))return tt.addSubFold(o);at=1}for(var ht=o.range.end.row,_e=o.range.end.column,ut=h,g=-1;ut<this.subFolds.length&&(g=this.subFolds[ut].range.compare(ht,_e),g==1);ut++);g==0&&ut++;for(var ct=this.subFolds.splice(h,ut-h,o),rt=g==0?ct.length-1:ct.length,st=at;st<rt;st++)o.addSubFold(ct[st]);return o.setFoldLine(this.foldLine),o}},this.restoreRange=function(o){return a(o,this.start)}}.call(nt.prototype);function _(o,h){o.row-=h.row,o.row==0&&(o.column-=h.column)}function b(o,h){_(o.start,h),_(o.end,h)}function c(o,h){o.row==0&&(o.column+=h.column),o.row+=h.row}function a(o,h){c(o.start,h),c(o.end,h)}}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(i,d,ft){var $=i("../range").Range,it=i("./fold_line").FoldLine,nt=i("./fold").Fold,_=i("../token_iterator").TokenIterator;function b(){this.getFoldAt=function(c,a,o){var h=this.getFoldLine(c);if(!h)return null;for(var g=h.folds,tt=0;tt<g.length;tt++){var at=g[tt].range;if(at.contains(c,a)){if(o==1&&at.isEnd(c,a)&&!at.isEmpty())continue;if(o==-1&&at.isStart(c,a)&&!at.isEmpty())continue;return g[tt]}}},this.getFoldsInRange=function(c){var a=c.start,o=c.end,h=this.$foldData,g=[];a.column+=1,o.column-=1;for(var tt=0;tt<h.length;tt++){var at=h[tt].range.compareRange(c);if(at!=2){if(at==-2)break;for(var ht=h[tt].folds,_e=0;_e<ht.length;_e++){var ut=ht[_e];if(at=ut.range.compareRange(c),at==-2)break;if(at==2)continue;if(at==42)break;g.push(ut)}}}return a.column-=1,o.column+=1,g},this.getFoldsInRangeList=function(c){if(Array.isArray(c)){var a=[];c.forEach(function(o){a=a.concat(this.getFoldsInRange(o))},this)}else var a=this.getFoldsInRange(c);return a},this.getAllFolds=function(){for(var c=[],a=this.$foldData,o=0;o<a.length;o++)for(var h=0;h<a[o].folds.length;h++)c.push(a[o].folds[h]);return c},this.getFoldStringAt=function(c,a,o,h){if(h=h||this.getFoldLine(c),!h)return null;for(var g={end:{column:0}},tt,at,ht=0;ht<h.folds.length;ht++){at=h.folds[ht];var _e=at.range.compareEnd(c,a);if(_e==-1){tt=this.getLine(at.start.row).substring(g.end.column,at.start.column);break}else if(_e===0)return null;g=at}return tt||(tt=this.getLine(at.start.row).substring(g.end.column)),o==-1?tt.substring(0,a-g.end.column):o==1?tt.substring(a-g.end.column):tt},this.getFoldLine=function(c,a){var o=this.$foldData,h=0;for(a&&(h=o.indexOf(a)),h==-1&&(h=0),h;h<o.length;h++){var g=o[h];if(g.start.row<=c&&g.end.row>=c)return g;if(g.end.row>c)return null}return null},this.getNextFoldLine=function(c,a){var o=this.$foldData,h=0;for(a&&(h=o.indexOf(a)),h==-1&&(h=0),h;h<o.length;h++){var g=o[h];if(g.end.row>=c)return g}return null},this.getFoldedRowCount=function(c,a){for(var o=this.$foldData,h=a-c+1,g=0;g<o.length;g++){var tt=o[g],at=tt.end.row,ht=tt.start.row;if(at>=a){ht<a&&(ht>=c?h-=a-ht:h=0);break}else at>=c&&(ht>=c?h-=at-ht:h-=at-c+1)}return h},this.$addFoldLine=function(c){return this.$foldData.push(c),this.$foldData.sort(function(a,o){return a.start.row-o.start.row}),c},this.addFold=function(c,a){var o=this.$foldData,h=!1,g;c instanceof nt?g=c:(g=new nt(a,c),g.collapseChildren=a.collapseChildren),this.$clipRangeToDocument(g.range);var tt=g.start.row,at=g.start.column,ht=g.end.row,_e=g.end.column,ut=this.getFoldAt(tt,at,1),ct=this.getFoldAt(ht,_e,-1);if(ut&&ct==ut)return ut.addSubFold(g);ut&&!ut.range.isStart(tt,at)&&this.removeFold(ut),ct&&!ct.range.isEnd(ht,_e)&&this.removeFold(ct);var rt=this.getFoldsInRange(g.range);rt.length>0&&(this.removeFolds(rt),g.collapseChildren||rt.forEach(function(et){g.addSubFold(et)}));for(var st=0;st<o.length;st++){var vt=o[st];if(ht==vt.start.row){vt.addFold(g),h=!0;break}else if(tt==vt.end.row){if(vt.addFold(g),h=!0,!g.sameRow){var ot=o[st+1];if(ot&&ot.start.row==ht){vt.merge(ot);break}}break}else if(ht<=vt.start.row)break}return h||(vt=this.$addFoldLine(new it(this.$foldData,g))),this.$useWrapMode?this.$updateWrapData(vt.start.row,vt.start.row):this.$updateRowLengthCache(vt.start.row,vt.start.row),this.$modified=!0,this._signal("changeFold",{data:g,action:"add"}),g},this.addFolds=function(c){c.forEach(function(a){this.addFold(a)},this)},this.removeFold=function(c){var a=c.foldLine,o=a.start.row,h=a.end.row,g=this.$foldData,tt=a.folds;if(tt.length==1)g.splice(g.indexOf(a),1);else if(a.range.isEnd(c.end.row,c.end.column))tt.pop(),a.end.row=tt[tt.length-1].end.row,a.end.column=tt[tt.length-1].end.column;else if(a.range.isStart(c.start.row,c.start.column))tt.shift(),a.start.row=tt[0].start.row,a.start.column=tt[0].start.column;else if(c.sameRow)tt.splice(tt.indexOf(c),1);else{var at=a.split(c.start.row,c.start.column);tt=at.folds,tt.shift(),at.start.row=tt[0].start.row,at.start.column=tt[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(o,h):this.$updateRowLengthCache(o,h)),this.$modified=!0,this._signal("changeFold",{data:c,action:"remove"})},this.removeFolds=function(c){for(var a=[],o=0;o<c.length;o++)a.push(c[o]);a.forEach(function(h){this.removeFold(h)},this),this.$modified=!0},this.expandFold=function(c){this.removeFold(c),c.subFolds.forEach(function(a){c.restoreRange(a),this.addFold(a)},this),c.collapseChildren>0&&this.foldAll(c.start.row+1,c.end.row,c.collapseChildren-1),c.subFolds=[]},this.expandFolds=function(c){c.forEach(function(a){this.expandFold(a)},this)},this.unfold=function(c,a){var o,h;if(c==null)o=new $(0,0,this.getLength(),0),a==null&&(a=!0);else if(typeof c=="number")o=new $(c,0,c,this.getLine(c).length);else if("row"in c)o=$.fromPoints(c,c);else{if(Array.isArray(c))return h=[],c.forEach(function(tt){h=h.concat(this.unfold(tt))},this),h;o=c}h=this.getFoldsInRangeList(o);for(var g=h;h.length==1&&$.comparePoints(h[0].start,o.start)<0&&$.comparePoints(h[0].end,o.end)>0;)this.expandFolds(h),h=this.getFoldsInRangeList(o);if(a!=!1?this.removeFolds(h):this.expandFolds(h),g.length)return g},this.isRowFolded=function(c,a){return!!this.getFoldLine(c,a)},this.getRowFoldEnd=function(c,a){var o=this.getFoldLine(c,a);return o?o.end.row:c},this.getRowFoldStart=function(c,a){var o=this.getFoldLine(c,a);return o?o.start.row:c},this.getFoldDisplayLine=function(c,a,o,h,g){h==null&&(h=c.start.row),g==null&&(g=0),a==null&&(a=c.end.row),o==null&&(o=this.getLine(a).length);var tt=this.doc,at="";return c.walk(function(ht,_e,ut,ct){if(!(_e<h)){if(_e==h){if(ut<g)return;ct=Math.max(g,ct)}ht!=null?at+=ht:at+=tt.getLine(_e).substring(ct,ut)}},a,o),at},this.getDisplayLine=function(c,a,o,h){var g=this.getFoldLine(c);if(g)return this.getFoldDisplayLine(g,c,a,o,h);var tt;return tt=this.doc.getLine(c),tt.substring(h||0,a||tt.length)},this.$cloneFoldData=function(){var c=[];return c=this.$foldData.map(function(a){var o=a.folds.map(function(h){return h.clone()});return new it(c,o)}),c},this.toggleFold=function(c){var a=this.selection,o=a.getRange(),h,g;if(o.isEmpty()){var tt=o.start;if(h=this.getFoldAt(tt.row,tt.column),h){this.expandFold(h);return}else(g=this.findMatchingBracket(tt))?o.comparePoint(g)==1?o.end=g:(o.start=g,o.start.column++,o.end.column--):(g=this.findMatchingBracket({row:tt.row,column:tt.column+1}))?(o.comparePoint(g)==1?o.end=g:o.start=g,o.start.column++):o=this.getCommentFoldRange(tt.row,tt.column)||o}else{var at=this.getFoldsInRange(o);if(c&&at.length){this.expandFolds(at);return}else at.length==1&&(h=at[0])}if(h||(h=this.getFoldAt(o.start.row,o.start.column)),h&&h.range.toString()==o.toString()){this.expandFold(h);return}var ht="...";if(!o.isMultiLine()){if(ht=this.getTextRange(o),ht.length<4)return;ht=ht.trim().substring(0,2)+".."}this.addFold(ht,o)},this.getCommentFoldRange=function(c,a,o){var h=new _(this,c,a),g=h.getCurrentToken(),tt=g&&g.type;if(g&&/^comment|string/.test(tt)){tt=tt.match(/comment|string/)[0],tt=="comment"&&(tt+="|doc-start");var at=new RegExp(tt),ht=new $;if(o!=1){do g=h.stepBackward();while(g&&at.test(g.type)&&!/^comment.end/.test(g.type));g=h.stepForward()}if(ht.start.row=h.getCurrentTokenRow(),ht.start.column=h.getCurrentTokenColumn()+(/^comment.start/.test(g.type)?g.value.length:2),h=new _(this,c,a),o!=-1){var _e=-1;do if(g=h.stepForward(),_e==-1){var ut=this.getState(h.$row);at.test(ut)||(_e=h.$row)}else if(h.$row>_e)break;while(g&&at.test(g.type)&&!/^comment.start/.test(g.type));g=h.stepBackward()}else g=h.getCurrentToken();return ht.end.row=h.getCurrentTokenRow(),ht.end.column=h.getCurrentTokenColumn(),/^comment.end/.test(g.type)||(ht.end.column+=g.value.length-2),ht}},this.foldAll=function(c,a,o,h){o==null&&(o=1e5);var g=this.foldWidgets;if(!!g){a=a||this.getLength(),c=c||0;for(var tt=c;tt<a;tt++)if(g[tt]==null&&(g[tt]=this.getFoldWidget(tt)),g[tt]=="start"&&!(h&&!h(tt))){var at=this.getFoldWidgetRange(tt);at&&at.isMultiLine()&&at.end.row<=a&&at.start.row>=c&&(tt=at.end.row,at.collapseChildren=o,this.addFold("...",at))}}},this.foldToLevel=function(c){for(this.foldAll();c-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var c=this;this.foldAll(null,null,null,function(a){for(var o=c.getTokens(a),h=0;h<o.length;h++){var g=o[h];if(!(g.type=="text"&&/^\s+$/.test(g.value)))return!!/comment/.test(g.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(c){if(!this.$foldStyles[c])throw new Error("invalid fold style: "+c+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=c){this.$foldStyle=c,c=="manual"&&this.unfold();var a=this.$foldMode;this.$setFolding(null),this.$setFolding(a)}},this.$setFolding=function(c){if(this.$foldMode!=c){if(this.$foldMode=c,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!c||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=c.getFoldWidget.bind(c,this,this.$foldStyle),this.getFoldWidgetRange=c.getFoldWidgetRange.bind(c,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(c,a){var o=this.foldWidgets;if(!o||a&&o[c])return{};for(var h=c-1,g;h>=0;){var tt=o[h];if(tt==null&&(tt=o[h]=this.getFoldWidget(h)),tt=="start"){var at=this.getFoldWidgetRange(h);if(g||(g=at),at&&at.end.row>=c)break}h--}return{range:h!==-1&&at,firstRange:g}},this.onFoldWidgetClick=function(c,a){a=a.domEvent;var o={children:a.shiftKey,all:a.ctrlKey||a.metaKey,siblings:a.altKey},h=this.$toggleFoldWidget(c,o);if(!h){var g=a.target||a.srcElement;g&&/ace_fold-widget/.test(g.className)&&(g.className+=" ace_invalid")}},this.$toggleFoldWidget=function(c,a){if(!!this.getFoldWidget){var o=this.getFoldWidget(c),h=this.getLine(c),g=o==="end"?-1:1,tt=this.getFoldAt(c,g===-1?0:h.length,g);if(tt)return a.children||a.all?this.removeFold(tt):this.expandFold(tt),tt;var at=this.getFoldWidgetRange(c,!0);if(at&&!at.isMultiLine()&&(tt=this.getFoldAt(at.start.row,at.start.column,1),tt&&at.isEqual(tt.range)))return this.removeFold(tt),tt;if(a.siblings){var ht=this.getParentFoldRangeData(c);if(ht.range)var _e=ht.range.start.row+1,ut=ht.range.end.row;this.foldAll(_e,ut,a.all?1e4:0)}else a.children?(ut=at?at.end.row:this.getLength(),this.foldAll(c+1,ut,a.all?1e4:0)):at&&(a.all&&(at.collapseChildren=1e4),this.addFold("...",at));return at}},this.toggleFoldWidget=function(c){var a=this.selection.getCursor().row;a=this.getRowFoldStart(a);var o=this.$toggleFoldWidget(a,{});if(!o){var h=this.getParentFoldRangeData(a,!0);if(o=h.range||h.firstRange,o){a=o.start.row;var g=this.getFoldAt(a,this.getLine(a).length,1);g?this.removeFold(g):this.addFold("...",o)}}},this.updateFoldWidgets=function(c){var a=c.start.row,o=c.end.row-a;if(o===0)this.foldWidgets[a]=null;else if(c.action=="remove")this.foldWidgets.splice(a,o+1,null);else{var h=Array(o+1);h.unshift(a,1),this.foldWidgets.splice.apply(this.foldWidgets,h)}},this.tokenizerUpdateFoldWidgets=function(c){var a=c.data;a.first!=a.last&&this.foldWidgets.length>a.first&&this.foldWidgets.splice(a.first,this.foldWidgets.length)}}d.Folding=b}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(i,d,ft){var $=i("../token_iterator").TokenIterator,it=i("../range").Range;function nt(){this.findMatchingBracket=function(_,b){if(_.column==0)return null;var c=b||this.getLine(_.row).charAt(_.column-1);if(c=="")return null;var a=c.match(/([\(\[\{])|([\)\]\}])/);return a?a[1]?this.$findClosingBracket(a[1],_):this.$findOpeningBracket(a[2],_):null},this.getBracketRange=function(_){var b=this.getLine(_.row),c=!0,a,o=b.charAt(_.column-1),h=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(h||(o=b.charAt(_.column),_={row:_.row,column:_.column+1},h=o&&o.match(/([\(\[\{])|([\)\]\}])/),c=!1),!h)return null;if(h[1]){var g=this.$findClosingBracket(h[1],_);if(!g)return null;a=it.fromPoints(_,g),c||(a.end.column++,a.start.column--),a.cursor=a.end}else{var g=this.$findOpeningBracket(h[2],_);if(!g)return null;a=it.fromPoints(g,_),c||(a.start.column++,a.end.column--),a.cursor=a.start}return a},this.getMatchingBracketRanges=function(_,b){var c=this.getLine(_.row),a=/([\(\[\{])|([\)\]\}])/,o=!b&&c.charAt(_.column-1),h=o&&o.match(a);if(h||(o=(b===void 0||b)&&c.charAt(_.column),_={row:_.row,column:_.column+1},h=o&&o.match(a)),!h)return null;var g=new it(_.row,_.column-1,_.row,_.column),tt=h[1]?this.$findClosingBracket(h[1],_):this.$findOpeningBracket(h[2],_);if(!tt)return[g];var at=new it(tt.row,tt.column,tt.row,tt.column+1);return[g,at]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(_,b,c){var a=this.$brackets[_],o=1,h=new $(this,b.row,b.column),g=h.getCurrentToken();if(g||(g=h.stepForward()),!!g){c||(c=new RegExp("(\\.?"+g.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var tt=b.column-h.getCurrentTokenColumn()-2,at=g.value;;){for(;tt>=0;){var ht=at.charAt(tt);if(ht==a){if(o-=1,o==0)return{row:h.getCurrentTokenRow(),column:tt+h.getCurrentTokenColumn()}}else ht==_&&(o+=1);tt-=1}do g=h.stepBackward();while(g&&!c.test(g.type));if(g==null)break;at=g.value,tt=at.length-1}return null}},this.$findClosingBracket=function(_,b,c){var a=this.$brackets[_],o=1,h=new $(this,b.row,b.column),g=h.getCurrentToken();if(g||(g=h.stepForward()),!!g){c||(c=new RegExp("(\\.?"+g.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var tt=b.column-h.getCurrentTokenColumn();;){for(var at=g.value,ht=at.length;tt<ht;){var _e=at.charAt(tt);if(_e==a){if(o-=1,o==0)return{row:h.getCurrentTokenRow(),column:tt+h.getCurrentTokenColumn()}}else _e==_&&(o+=1);tt+=1}do g=h.stepForward();while(g&&!c.test(g.type));if(g==null)break;tt=0}return null}},this.getMatchingTags=function(_){var b=new $(this,_.row,_.column),c=this.$findTagName(b);if(!!c){var a=b.stepBackward();return a.value==="<"?this.$findClosingTag(b,c):this.$findOpeningTag(b,c)}},this.$findTagName=function(_){var b=_.getCurrentToken(),c=!1,a=!1;if(b&&b.type.indexOf("tag-name")===-1)do a?b=_.stepBackward():b=_.stepForward(),b&&(b.value==="/>"?a=!0:b.type.indexOf("tag-name")!==-1&&(c=!0));while(b&&!c);return b},this.$findClosingTag=function(_,b){var c,a=b.value,o=b.value,h=0,g=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);b=_.stepForward();var tt=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+b.value.length),at=!1;do if(c=b,b=_.stepForward(),b){if(b.value===">"&&!at){var ht=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);at=!0}if(b.type.indexOf("tag-name")!==-1){if(a=b.value,o===a){if(c.value==="<")h++;else if(c.value==="</"&&(h--,h<0)){_.stepBackward();var _e=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+2);b=_.stepForward();var ut=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+b.value.length);if(b=_.stepForward(),b&&b.value===">")var ct=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);else return}}}else if(o===a&&b.value==="/>"&&(h--,h<0))var _e=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+2),ut=_e,ct=ut,ht=new it(tt.end.row,tt.end.column,tt.end.row,tt.end.column+1)}while(b&&h>=0);if(g&&ht&&_e&&ct&&tt&&ut)return{openTag:new it(g.start.row,g.start.column,ht.end.row,ht.end.column),closeTag:new it(_e.start.row,_e.start.column,ct.end.row,ct.end.column),openTagName:tt,closeTagName:ut}},this.$findOpeningTag=function(_,b){var c=_.getCurrentToken(),a=b.value,o=0,h=_.getCurrentTokenRow(),g=_.getCurrentTokenColumn(),tt=g+2,at=new it(h,g,h,tt);_.stepForward();var ht=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+b.value.length);if(b=_.stepForward(),!(!b||b.value!==">")){var _e=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);_.stepBackward(),_.stepBackward();do if(b=c,h=_.getCurrentTokenRow(),g=_.getCurrentTokenColumn(),tt=g+b.value.length,c=_.stepBackward(),b){if(b.type.indexOf("tag-name")!==-1){if(a===b.value)if(c.value==="<"){if(o++,o>0){var ut=new it(h,g,h,tt),ct=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);do b=_.stepForward();while(b&&b.value!==">");var rt=new it(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1)}}else c.value==="</"&&o--}else if(b.value==="/>"){for(var st=0,vt=c;vt;){if(vt.type.indexOf("tag-name")!==-1&&vt.value===a){o--;break}else if(vt.value==="<")break;vt=_.stepBackward(),st++}for(var ot=0;ot<st;ot++)_.stepForward()}}while(c&&o<=0);if(ct&&rt&&at&&_e&&ut&&ht)return{openTag:new it(ct.start.row,ct.start.column,rt.end.row,rt.end.column),closeTag:new it(at.start.row,at.start.column,_e.end.row,_e.end.column),openTagName:ut,closeTagName:ht}}}}d.BracketMatch=nt}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/lang"),nt=i("./bidihandler").BidiHandler,_=i("./config"),b=i("./lib/event_emitter").EventEmitter,c=i("./selection").Selection,a=i("./mode/text").Mode,o=i("./range").Range,h=i("./document").Document,g=i("./background_tokenizer").BackgroundTokenizer,tt=i("./search_highlight").SearchHighlight,at=function(ht,_e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++at.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new g(new a().getTokenizer(),this);var ut=this;this.bgTokenizer.on("update",function(ct){ut._signal("tokenizerUpdate",ct)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof ht!="object"||!ht.getLine)&&(ht=new h(ht)),this.setDocument(ht),this.selection=new c(this),this.$bidiHandler=new nt(this),_.resetOptions(this),this.setMode(_e),_._signal("session",this),this.destroyed=!1};at.$uid=0,function(){$.implement(this,b),this.setDocument=function(lt){this.doc&&this.doc.off("change",this.$onChange),this.doc=lt,lt.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(lt){if(!lt){this.$docRowCache=[],this.$screenRowCache=[];return}var mt=this.$docRowCache.length,xt=this.$getRowCacheIndex(this.$docRowCache,lt)+1;mt>xt&&(this.$docRowCache.splice(xt,mt),this.$screenRowCache.splice(xt,mt))},this.$getRowCacheIndex=function(lt,mt){for(var xt=0,wt=lt.length-1;xt<=wt;){var St=xt+wt>>1,Tt=lt[St];if(mt>Tt)xt=St+1;else if(mt<Tt)wt=St-1;else return St}return xt-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(lt){var mt=lt.data;this.$resetRowCache(mt.start.row)},this.onChange=function(lt){this.$modified=!0,this.$bidiHandler.onChange(lt),this.$resetRowCache(lt.start.row);var mt=this.$updateInternalDataOnChange(lt);!this.$fromUndo&&this.$undoManager&&(mt&&mt.length&&(this.$undoManager.add({action:"removeFolds",folds:mt},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(lt,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(lt),this._signal("change",lt)},this.setValue=function(lt){this.doc.setValue(lt),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(lt){return this.bgTokenizer.getState(lt)},this.getTokens=function(lt){return this.bgTokenizer.getTokens(lt)},this.getTokenAt=function(lt,mt){var xt=this.bgTokenizer.getTokens(lt),wt,St=0;if(mt==null){var Tt=xt.length-1;St=this.getLine(lt).length}else for(var Tt=0;Tt<xt.length&&(St+=xt[Tt].value.length,!(St>=mt));Tt++);return wt=xt[Tt],wt?(wt.index=Tt,wt.start=St-wt.value.length,wt):null},this.setUndoManager=function(lt){if(this.$undoManager=lt,this.$informUndoManager&&this.$informUndoManager.cancel(),lt){var mt=this;lt.addSession(this),this.$syncInformUndoManager=function(){mt.$informUndoManager.cancel(),mt.mergeUndoDeltas=!1},this.$informUndoManager=it.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?it.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(lt){this.setOption("useSoftTabs",lt)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(lt){this.setOption("tabSize",lt)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(lt){return this.$useSoftTabs&&lt.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(lt){this.setOption("navigateWithinSoftTabs",lt)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(lt){this.setOption("overwrite",lt)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(lt,mt){this.$decorations[lt]||(this.$decorations[lt]=""),this.$decorations[lt]+=" "+mt,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(lt,mt){this.$decorations[lt]=(this.$decorations[lt]||"").replace(" "+mt,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(lt){this.$breakpoints=[];for(var mt=0;mt<lt.length;mt++)this.$breakpoints[lt[mt]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(lt,mt){mt===void 0&&(mt="ace_breakpoint"),mt?this.$breakpoints[lt]=mt:delete this.$breakpoints[lt],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(lt){delete this.$breakpoints[lt],this._signal("changeBreakpoint",{})},this.addMarker=function(lt,mt,xt,wt){var St=this.$markerId++,Tt={range:lt,type:xt||"line",renderer:typeof xt=="function"?xt:null,clazz:mt,inFront:!!wt,id:St};return wt?(this.$frontMarkers[St]=Tt,this._signal("changeFrontMarker")):(this.$backMarkers[St]=Tt,this._signal("changeBackMarker")),St},this.addDynamicMarker=function(lt,mt){if(!!lt.update){var xt=this.$markerId++;return lt.id=xt,lt.inFront=!!mt,mt?(this.$frontMarkers[xt]=lt,this._signal("changeFrontMarker")):(this.$backMarkers[xt]=lt,this._signal("changeBackMarker")),lt}},this.removeMarker=function(lt){var mt=this.$frontMarkers[lt]||this.$backMarkers[lt];if(!!mt){var xt=mt.inFront?this.$frontMarkers:this.$backMarkers;delete xt[lt],this._signal(mt.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(lt){return lt?this.$frontMarkers:this.$backMarkers},this.highlight=function(lt){if(!this.$searchHighlight){var mt=new tt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(mt)}this.$searchHighlight.setRegexp(lt)},this.highlightLines=function(lt,mt,xt,wt){typeof mt!="number"&&(xt=mt,mt=lt),xt||(xt="ace_step");var St=new o(lt,0,mt,1/0);return St.id=this.addMarker(St,xt,"fullLine",wt),St},this.setAnnotations=function(lt){this.$annotations=lt,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(lt){var mt=lt.match(/^.*?(\r?\n)/m);mt?this.$autoNewLine=mt[1]:this.$autoNewLine=`
`},this.getWordRange=function(lt,mt){var xt=this.getLine(lt),wt=!1;if(mt>0&&(wt=!!xt.charAt(mt-1).match(this.tokenRe)),wt||(wt=!!xt.charAt(mt).match(this.tokenRe)),wt)var St=this.tokenRe;else if(/^\s+$/.test(xt.slice(mt-1,mt+1)))var St=/\s/;else var St=this.nonTokenRe;var Tt=mt;if(Tt>0){do Tt--;while(Tt>=0&&xt.charAt(Tt).match(St));Tt++}for(var kt=mt;kt<xt.length&&xt.charAt(kt).match(St);)kt++;return new o(lt,Tt,lt,kt)},this.getAWordRange=function(lt,mt){for(var xt=this.getWordRange(lt,mt),wt=this.getLine(xt.end.row);wt.charAt(xt.end.column).match(/[ \t]/);)xt.end.column+=1;return xt},this.setNewLineMode=function(lt){this.doc.setNewLineMode(lt)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(lt){this.setOption("useWorker",lt)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(lt){var mt=lt.data;this.bgTokenizer.start(mt.first),this._signal("tokenizerUpdate",lt)},this.$modes=_.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(lt,mt){if(lt&&typeof lt=="object"){if(lt.getTokenizer)return this.$onChangeMode(lt);var xt=lt,wt=xt.path}else wt=lt||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[wt]&&!xt){this.$onChangeMode(this.$modes[wt]),mt&&mt();return}this.$modeId=wt,_.loadModule(["mode",wt],function(St){if(this.$modeId!==wt)return mt&&mt();this.$modes[wt]&&!xt?this.$onChangeMode(this.$modes[wt]):St&&St.Mode&&(St=new St.Mode(xt),xt||(this.$modes[wt]=St,St.$id=wt),this.$onChangeMode(St)),mt&&mt()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(lt,mt){if(mt||(this.$modeId=lt.$id),this.$mode!==lt){var xt=this.$mode;this.$mode=lt,this.$stopWorker(),this.$useWorker&&this.$startWorker();var wt=lt.getTokenizer();if(wt.on!==void 0){var St=this.onReloadTokenizer.bind(this);wt.on("update",St)}this.bgTokenizer.setTokenizer(wt),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=lt.tokenRe,this.nonTokenRe=lt.nonTokenRe,mt||(lt.attachToSession&&lt.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(lt.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:xt,mode:lt}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(lt){_.warn("Could not load worker",lt),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(lt){this.$scrollTop===lt||isNaN(lt)||(this.$scrollTop=lt,this._signal("changeScrollTop",lt))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(lt){this.$scrollLeft===lt||isNaN(lt)||(this.$scrollLeft=lt,this._signal("changeScrollLeft",lt))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var lt=0;return this.lineWidgets.forEach(function(mt){mt&&mt.screenWidth>lt&&(lt=mt.screenWidth)}),this.lineWidgetWidth=lt},this.$computeWidth=function(lt){if(this.$modified||lt){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var mt=this.doc.getAllLines(),xt=this.$rowLengthCache,wt=0,St=0,Tt=this.$foldData[St],kt=Tt?Tt.start.row:1/0,Vt=mt.length,Ct=0;Ct<Vt;Ct++){if(Ct>kt){if(Ct=Tt.end.row+1,Ct>=Vt)break;Tt=this.$foldData[St++],kt=Tt?Tt.start.row:1/0}xt[Ct]==null&&(xt[Ct]=this.$getStringScreenWidth(mt[Ct])[0]),xt[Ct]>wt&&(wt=xt[Ct])}this.screenWidth=wt}},this.getLine=function(lt){return this.doc.getLine(lt)},this.getLines=function(lt,mt){return this.doc.getLines(lt,mt)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(lt){return this.doc.getTextRange(lt||this.selection.getRange())},this.insert=function(lt,mt){return this.doc.insert(lt,mt)},this.remove=function(lt){return this.doc.remove(lt)},this.removeFullLines=function(lt,mt){return this.doc.removeFullLines(lt,mt)},this.undoChanges=function(lt,mt){if(!!lt.length){this.$fromUndo=!0;for(var xt=lt.length-1;xt!=-1;xt--){var wt=lt[xt];wt.action=="insert"||wt.action=="remove"?this.doc.revertDelta(wt):wt.folds&&this.addFolds(wt.folds)}!mt&&this.$undoSelect&&(lt.selectionBefore?this.selection.fromJSON(lt.selectionBefore):this.selection.setRange(this.$getUndoSelection(lt,!0))),this.$fromUndo=!1}},this.redoChanges=function(lt,mt){if(!!lt.length){this.$fromUndo=!0;for(var xt=0;xt<lt.length;xt++){var wt=lt[xt];(wt.action=="insert"||wt.action=="remove")&&this.doc.$safeApplyDelta(wt)}!mt&&this.$undoSelect&&(lt.selectionAfter?this.selection.fromJSON(lt.selectionAfter):this.selection.setRange(this.$getUndoSelection(lt,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(lt){this.$undoSelect=lt},this.$getUndoSelection=function(lt,mt){function xt(Vt){return mt?Vt.action!=="insert":Vt.action==="insert"}for(var wt,St,Tt=0;Tt<lt.length;Tt++){var kt=lt[Tt];if(!!kt.start){if(!wt){xt(kt)?wt=o.fromPoints(kt.start,kt.end):wt=o.fromPoints(kt.start,kt.start);continue}xt(kt)?(St=kt.start,wt.compare(St.row,St.column)==-1&&wt.setStart(St),St=kt.end,wt.compare(St.row,St.column)==1&&wt.setEnd(St)):(St=kt.start,wt.compare(St.row,St.column)==-1&&(wt=o.fromPoints(kt.start,kt.start)))}}return wt},this.replace=function(lt,mt){return this.doc.replace(lt,mt)},this.moveText=function(lt,mt,xt){var wt=this.getTextRange(lt),St=this.getFoldsInRange(lt),Tt=o.fromPoints(mt,mt);if(!xt){this.remove(lt);var kt=lt.start.row-lt.end.row,Vt=kt?-lt.end.column:lt.start.column-lt.end.column;Vt&&(Tt.start.row==lt.end.row&&Tt.start.column>lt.end.column&&(Tt.start.column+=Vt),Tt.end.row==lt.end.row&&Tt.end.column>lt.end.column&&(Tt.end.column+=Vt)),kt&&Tt.start.row>=lt.end.row&&(Tt.start.row+=kt,Tt.end.row+=kt)}if(Tt.end=this.insert(Tt.start,wt),St.length){var Ct=lt.start,Rt=Tt.start,kt=Rt.row-Ct.row,Vt=Rt.column-Ct.column;this.addFolds(St.map(function(Pt){return Pt=Pt.clone(),Pt.start.row==Ct.row&&(Pt.start.column+=Vt),Pt.end.row==Ct.row&&(Pt.end.column+=Vt),Pt.start.row+=kt,Pt.end.row+=kt,Pt}))}return Tt},this.indentRows=function(lt,mt,xt){xt=xt.replace(/\t/g,this.getTabString());for(var wt=lt;wt<=mt;wt++)this.doc.insertInLine({row:wt,column:0},xt)},this.outdentRows=function(lt){for(var mt=lt.collapseRows(),xt=new o(0,0,0,0),wt=this.getTabSize(),St=mt.start.row;St<=mt.end.row;++St){var Tt=this.getLine(St);xt.start.row=St,xt.end.row=St;for(var kt=0;kt<wt&&Tt.charAt(kt)==" ";++kt);kt<wt&&Tt.charAt(kt)=="	"?(xt.start.column=kt,xt.end.column=kt+1):(xt.start.column=0,xt.end.column=kt),this.remove(xt)}},this.$moveLines=function(lt,mt,xt){if(lt=this.getRowFoldStart(lt),mt=this.getRowFoldEnd(mt),xt<0){var wt=this.getRowFoldStart(lt+xt);if(wt<0)return 0;var St=wt-lt}else if(xt>0){var wt=this.getRowFoldEnd(mt+xt);if(wt>this.doc.getLength()-1)return 0;var St=wt-mt}else{lt=this.$clipRowToDocument(lt),mt=this.$clipRowToDocument(mt);var St=mt-lt+1}var Tt=new o(lt,0,mt,Number.MAX_VALUE),kt=this.getFoldsInRange(Tt).map(function(Ct){return Ct=Ct.clone(),Ct.start.row+=St,Ct.end.row+=St,Ct}),Vt=xt==0?this.doc.getLines(lt,mt):this.doc.removeFullLines(lt,mt);return this.doc.insertFullLines(lt+St,Vt),kt.length&&this.addFolds(kt),St},this.moveLinesUp=function(lt,mt){return this.$moveLines(lt,mt,-1)},this.moveLinesDown=function(lt,mt){return this.$moveLines(lt,mt,1)},this.duplicateLines=function(lt,mt){return this.$moveLines(lt,mt,0)},this.$clipRowToDocument=function(lt){return Math.max(0,Math.min(lt,this.doc.getLength()-1))},this.$clipColumnToRow=function(lt,mt){return mt<0?0:Math.min(this.doc.getLine(lt).length,mt)},this.$clipPositionToDocument=function(lt,mt){if(mt=Math.max(0,mt),lt<0)lt=0,mt=0;else{var xt=this.doc.getLength();lt>=xt?(lt=xt-1,mt=this.doc.getLine(xt-1).length):mt=Math.min(this.doc.getLine(lt).length,mt)}return{row:lt,column:mt}},this.$clipRangeToDocument=function(lt){lt.start.row<0?(lt.start.row=0,lt.start.column=0):lt.start.column=this.$clipColumnToRow(lt.start.row,lt.start.column);var mt=this.doc.getLength()-1;return lt.end.row>mt?(lt.end.row=mt,lt.end.column=this.doc.getLine(mt).length):lt.end.column=this.$clipColumnToRow(lt.end.row,lt.end.column),lt},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(lt){if(lt!=this.$useWrapMode){if(this.$useWrapMode=lt,this.$modified=!0,this.$resetRowCache(0),lt){var mt=this.getLength();this.$wrapData=Array(mt),this.$updateWrapData(0,mt-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(lt,mt){(this.$wrapLimitRange.min!==lt||this.$wrapLimitRange.max!==mt)&&(this.$wrapLimitRange={min:lt,max:mt},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(lt,mt){var xt=this.$wrapLimitRange;xt.max<0&&(xt={min:mt,max:mt});var wt=this.$constrainWrapLimit(lt,xt.min,xt.max);return wt!=this.$wrapLimit&&wt>1?(this.$wrapLimit=wt,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(lt,mt,xt){return mt&&(lt=Math.max(mt,lt)),xt&&(lt=Math.min(xt,lt)),lt},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(lt){this.setWrapLimitRange(lt,lt)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(lt){var mt=this.$useWrapMode,xt=lt.action,wt=lt.start,St=lt.end,Tt=wt.row,kt=St.row,Vt=kt-Tt,Ct=null;if(this.$updating=!0,Vt!=0)if(xt==="remove"){this[mt?"$wrapData":"$rowLengthCache"].splice(Tt,Vt);var Rt=this.$foldData;Ct=this.getFoldsInRange(lt),this.removeFolds(Ct);var zt=this.getFoldLine(St.row),Xt=0;if(zt){zt.addRemoveChars(St.row,St.column,wt.column-St.column),zt.shiftRow(-Vt);var Pt=this.getFoldLine(Tt);Pt&&Pt!==zt&&(Pt.merge(zt),zt=Pt),Xt=Rt.indexOf(zt)+1}for(Xt;Xt<Rt.length;Xt++){var zt=Rt[Xt];zt.start.row>=St.row&&zt.shiftRow(-Vt)}kt=Tt}else{var Mt=Array(Vt);Mt.unshift(Tt,0);var jt=mt?this.$wrapData:this.$rowLengthCache;jt.splice.apply(jt,Mt);var Rt=this.$foldData,zt=this.getFoldLine(Tt),Xt=0;if(zt){var Zt=zt.range.compareInside(wt.row,wt.column);Zt==0?(zt=zt.split(wt.row,wt.column),zt&&(zt.shiftRow(Vt),zt.addRemoveChars(kt,0,St.column-wt.column))):Zt==-1&&(zt.addRemoveChars(Tt,0,St.column-wt.column),zt.shiftRow(Vt)),Xt=Rt.indexOf(zt)+1}for(Xt;Xt<Rt.length;Xt++){var zt=Rt[Xt];zt.start.row>=Tt&&zt.shiftRow(Vt)}}else{Vt=Math.abs(lt.start.column-lt.end.column),xt==="remove"&&(Ct=this.getFoldsInRange(lt),this.removeFolds(Ct),Vt=-Vt);var zt=this.getFoldLine(Tt);zt&&zt.addRemoveChars(Tt,wt.column,Vt)}return mt&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,mt?this.$updateWrapData(Tt,kt):this.$updateRowLengthCache(Tt,kt),Ct},this.$updateRowLengthCache=function(lt,mt,xt){this.$rowLengthCache[lt]=null,this.$rowLengthCache[mt]=null},this.$updateWrapData=function(lt,mt){var xt=this.doc.getAllLines(),wt=this.getTabSize(),St=this.$wrapData,Tt=this.$wrapLimit,kt,Vt,Ct=lt;for(mt=Math.min(mt,xt.length-1);Ct<=mt;)Vt=this.getFoldLine(Ct,Vt),Vt?(kt=[],Vt.walk(function(Rt,zt,Xt,Pt){var Mt;if(Rt!=null){Mt=this.$getDisplayTokens(Rt,kt.length),Mt[0]=ut;for(var jt=1;jt<Mt.length;jt++)Mt[jt]=ct}else Mt=this.$getDisplayTokens(xt[zt].substring(Pt,Xt),kt.length);kt=kt.concat(Mt)}.bind(this),Vt.end.row,xt[Vt.end.row].length+1),St[Vt.start.row]=this.$computeWrapSplits(kt,Tt,wt),Ct=Vt.end.row+1):(kt=this.$getDisplayTokens(xt[Ct]),St[Ct]=this.$computeWrapSplits(kt,Tt,wt),Ct++)};var ht=1,_e=2,ut=3,ct=4,rt=9,st=10,vt=11,ot=12;this.$computeWrapSplits=function(lt,mt,xt){if(lt.length==0)return[];var wt=[],St=lt.length,Tt=0,kt=0,Vt=this.$wrapAsCode,Ct=this.$indentedSoftWrap,Rt=mt<=Math.max(2*xt,8)||Ct===!1?0:Math.floor(mt/2);function zt(){var Zt=0;if(Rt===0)return Zt;if(Ct)for(var Yt=0;Yt<lt.length;Yt++){var fn=lt[Yt];if(fn==st)Zt+=1;else if(fn==vt)Zt+=xt;else{if(fn==ot)continue;break}}return Vt&&Ct!==!1&&(Zt+=xt),Math.min(Zt,Rt)}function Xt(Zt){for(var Yt=Zt-Tt,fn=Tt;fn<Zt;fn++){var an=lt[fn];(an===12||an===2)&&(Yt-=1)}wt.length||(Pt=zt(),wt.indent=Pt),kt+=Yt,wt.push(kt),Tt=Zt}for(var Pt=0;St-Tt>mt-Pt;){var Mt=Tt+mt-Pt;if(lt[Mt-1]>=st&&lt[Mt]>=st){Xt(Mt);continue}if(lt[Mt]==ut||lt[Mt]==ct){for(Mt;Mt!=Tt-1&&lt[Mt]!=ut;Mt--);if(Mt>Tt){Xt(Mt);continue}for(Mt=Tt+mt,Mt;Mt<lt.length&&lt[Mt]==ct;Mt++);if(Mt==lt.length)break;Xt(Mt);continue}for(var jt=Math.max(Mt-(mt-(mt>>2)),Tt-1);Mt>jt&&lt[Mt]<ut;)Mt--;if(Vt){for(;Mt>jt&&lt[Mt]<ut;)Mt--;for(;Mt>jt&&lt[Mt]==rt;)Mt--}else for(;Mt>jt&&lt[Mt]<st;)Mt--;if(Mt>jt){Xt(++Mt);continue}Mt=Tt+mt,lt[Mt]==_e&&Mt--,Xt(Mt-Pt)}return wt},this.$getDisplayTokens=function(lt,mt){var xt=[],wt;mt=mt||0;for(var St=0;St<lt.length;St++){var Tt=lt.charCodeAt(St);if(Tt==9){wt=this.getScreenTabSize(xt.length+mt),xt.push(vt);for(var kt=1;kt<wt;kt++)xt.push(ot)}else Tt==32?xt.push(st):Tt>39&&Tt<48||Tt>57&&Tt<64?xt.push(rt):Tt>=4352&&et(Tt)?xt.push(ht,_e):xt.push(ht)}return xt},this.$getStringScreenWidth=function(lt,mt,xt){if(mt==0)return[0,0];mt==null&&(mt=1/0),xt=xt||0;var wt,St;for(St=0;St<lt.length&&(wt=lt.charCodeAt(St),wt==9?xt+=this.getScreenTabSize(xt):wt>=4352&&et(wt)?xt+=2:xt+=1,!(xt>mt));St++);return[xt,St]},this.lineWidgets=null,this.getRowLength=function(lt){var mt=1;return this.lineWidgets&&(mt+=this.lineWidgets[lt]&&this.lineWidgets[lt].rowCount||0),!this.$useWrapMode||!this.$wrapData[lt]?mt:this.$wrapData[lt].length+mt},this.getRowLineCount=function(lt){return!this.$useWrapMode||!this.$wrapData[lt]?1:this.$wrapData[lt].length+1},this.getRowWrapIndent=function(lt){if(this.$useWrapMode){var mt=this.screenToDocumentPosition(lt,Number.MAX_VALUE),xt=this.$wrapData[mt.row];return xt.length&&xt[0]<mt.column?xt.indent:0}else return 0},this.getScreenLastRowColumn=function(lt){var mt=this.screenToDocumentPosition(lt,Number.MAX_VALUE);return this.documentToScreenColumn(mt.row,mt.column)},this.getDocumentLastRowColumn=function(lt,mt){var xt=this.documentToScreenRow(lt,mt);return this.getScreenLastRowColumn(xt)},this.getDocumentLastRowColumnPosition=function(lt,mt){var xt=this.documentToScreenRow(lt,mt);return this.screenToDocumentPosition(xt,Number.MAX_VALUE/10)},this.getRowSplitData=function(lt){if(this.$useWrapMode)return this.$wrapData[lt]},this.getScreenTabSize=function(lt){return this.$tabSize-(lt%this.$tabSize|0)},this.screenToDocumentRow=function(lt,mt){return this.screenToDocumentPosition(lt,mt).row},this.screenToDocumentColumn=function(lt,mt){return this.screenToDocumentPosition(lt,mt).column},this.screenToDocumentPosition=function(lt,mt,xt){if(lt<0)return{row:0,column:0};var wt,St=0,Tt=0,kt,Vt=0,Ct=0,Rt=this.$screenRowCache,zt=this.$getRowCacheIndex(Rt,lt),Xt=Rt.length;if(Xt&&zt>=0)var Vt=Rt[zt],St=this.$docRowCache[zt],Pt=lt>Rt[Xt-1];else var Pt=!Xt;for(var Mt=this.getLength()-1,jt=this.getNextFoldLine(St),Zt=jt?jt.start.row:1/0;Vt<=lt&&(Ct=this.getRowLength(St),!(Vt+Ct>lt||St>=Mt));)Vt+=Ct,St++,St>Zt&&(St=jt.end.row+1,jt=this.getNextFoldLine(St,jt),Zt=jt?jt.start.row:1/0),Pt&&(this.$docRowCache.push(St),this.$screenRowCache.push(Vt));if(jt&&jt.start.row<=St)wt=this.getFoldDisplayLine(jt),St=jt.start.row;else{if(Vt+Ct<=lt||St>Mt)return{row:Mt,column:this.getLine(Mt).length};wt=this.getLine(St),jt=null}var Yt=0,fn=Math.floor(lt-Vt);if(this.$useWrapMode){var an=this.$wrapData[St];an&&(kt=an[fn],fn>0&&an.length&&(Yt=an.indent,Tt=an[fn-1]||an[an.length-1],wt=wt.substring(Tt)))}return xt!==void 0&&this.$bidiHandler.isBidiRow(Vt+fn,St,fn)&&(mt=this.$bidiHandler.offsetToCol(xt)),Tt+=this.$getStringScreenWidth(wt,mt-Yt)[1],this.$useWrapMode&&Tt>=kt&&(Tt=kt-1),jt?jt.idxToPosition(Tt):{row:St,column:Tt}},this.documentToScreenPosition=function(lt,mt){if(typeof mt>"u")var xt=this.$clipPositionToDocument(lt.row,lt.column);else xt=this.$clipPositionToDocument(lt,mt);lt=xt.row,mt=xt.column;var wt=0,St=null,Tt=null;Tt=this.getFoldAt(lt,mt,1),Tt&&(lt=Tt.start.row,mt=Tt.start.column);var kt,Vt=0,Ct=this.$docRowCache,Rt=this.$getRowCacheIndex(Ct,lt),zt=Ct.length;if(zt&&Rt>=0)var Vt=Ct[Rt],wt=this.$screenRowCache[Rt],Xt=lt>Ct[zt-1];else var Xt=!zt;for(var Pt=this.getNextFoldLine(Vt),Mt=Pt?Pt.start.row:1/0;Vt<lt;){if(Vt>=Mt){if(kt=Pt.end.row+1,kt>lt)break;Pt=this.getNextFoldLine(kt,Pt),Mt=Pt?Pt.start.row:1/0}else kt=Vt+1;wt+=this.getRowLength(Vt),Vt=kt,Xt&&(this.$docRowCache.push(Vt),this.$screenRowCache.push(wt))}var jt="";Pt&&Vt>=Mt?(jt=this.getFoldDisplayLine(Pt,lt,mt),St=Pt.start.row):(jt=this.getLine(lt).substring(0,mt),St=lt);var Zt=0;if(this.$useWrapMode){var Yt=this.$wrapData[St];if(Yt){for(var fn=0;jt.length>=Yt[fn];)wt++,fn++;jt=jt.substring(Yt[fn-1]||0,jt.length),Zt=fn>0?Yt.indent:0}}return this.lineWidgets&&this.lineWidgets[Vt]&&this.lineWidgets[Vt].rowsAbove&&(wt+=this.lineWidgets[Vt].rowsAbove),{row:wt,column:Zt+this.$getStringScreenWidth(jt)[0]}},this.documentToScreenColumn=function(lt,mt){return this.documentToScreenPosition(lt,mt).column},this.documentToScreenRow=function(lt,mt){return this.documentToScreenPosition(lt,mt).row},this.getScreenLength=function(){var lt=0,mt=null;if(this.$useWrapMode)for(var St=this.$wrapData.length,Tt=0,wt=0,mt=this.$foldData[wt++],kt=mt?mt.start.row:1/0;Tt<St;){var Vt=this.$wrapData[Tt];lt+=Vt?Vt.length+1:1,Tt++,Tt>kt&&(Tt=mt.end.row+1,mt=this.$foldData[wt++],kt=mt?mt.start.row:1/0)}else{lt=this.getLength();for(var xt=this.$foldData,wt=0;wt<xt.length;wt++)mt=xt[wt],lt-=mt.end.row-mt.start.row}return this.lineWidgets&&(lt+=this.$getWidgetScreenLength()),lt},this.$setFontMetrics=function(lt){!this.$enableVarChar||(this.$getStringScreenWidth=function(mt,xt,wt){if(xt===0)return[0,0];xt||(xt=1/0),wt=wt||0;var St,Tt;for(Tt=0;Tt<mt.length&&(St=mt.charAt(Tt),St==="	"?wt+=this.getScreenTabSize(wt):wt+=lt.getCharacterWidth(St),!(wt>xt));Tt++);return[wt,Tt]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=et;function et(lt){return lt<4352?!1:lt>=4352&&lt<=4447||lt>=4515&&lt<=4519||lt>=4602&&lt<=4607||lt>=9001&&lt<=9002||lt>=11904&&lt<=11929||lt>=11931&&lt<=12019||lt>=12032&&lt<=12245||lt>=12272&&lt<=12283||lt>=12288&&lt<=12350||lt>=12353&&lt<=12438||lt>=12441&&lt<=12543||lt>=12549&&lt<=12589||lt>=12593&&lt<=12686||lt>=12688&&lt<=12730||lt>=12736&&lt<=12771||lt>=12784&&lt<=12830||lt>=12832&&lt<=12871||lt>=12880&&lt<=13054||lt>=13056&&lt<=19903||lt>=19968&&lt<=42124||lt>=42128&&lt<=42182||lt>=43360&&lt<=43388||lt>=44032&&lt<=55203||lt>=55216&&lt<=55238||lt>=55243&&lt<=55291||lt>=63744&&lt<=64255||lt>=65040&&lt<=65049||lt>=65072&&lt<=65106||lt>=65108&&lt<=65126||lt>=65128&&lt<=65131||lt>=65281&&lt<=65376||lt>=65504&&lt<=65510}}.call(at.prototype),i("./edit_session/folding").Folding.call(at.prototype),i("./edit_session/bracket_match").BracketMatch.call(at.prototype),_.defineOptions(at.prototype,"session",{wrap:{set:function(ht){if(!ht||ht=="off"?ht=!1:ht=="free"?ht=!0:ht=="printMargin"?ht=-1:typeof ht=="string"&&(ht=parseInt(ht,10)||!1),this.$wrap!=ht)if(this.$wrap=ht,!ht)this.setUseWrapMode(!1);else{var _e=typeof ht=="number"?ht:null;this.setWrapLimitRange(_e,_e),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(ht){ht=ht=="auto"?this.$mode.type!="text":ht!="text",ht!=this.$wrapAsCode&&(this.$wrapAsCode=ht,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(ht){this.$useWorker=ht,this.$stopWorker(),ht&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(ht){ht=parseInt(ht),ht>0&&this.$tabSize!==ht&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=ht,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(ht){this.setFoldStyle(ht)},handlesSet:!0},overwrite:{set:function(ht){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(ht){this.doc.setNewLineMode(ht)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(ht){this.setMode(ht)},get:function(){return this.$modeId},handlesSet:!0}}),d.EditSession=at}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(i,d,ft){var $=i("./lib/lang"),it=i("./lib/oop"),nt=i("./range").Range,_=function(){this.$options={}};(function(){this.set=function(c){return it.mixin(this.$options,c),this},this.getOptions=function(){return $.copyObject(this.$options)},this.setOptions=function(c){this.$options=c},this.find=function(c){var a=this.$options,o=this.$matchIterator(c,a);if(!o)return!1;var h=null;return o.forEach(function(g,tt,at,ht){return h=new nt(g,tt,at,ht),tt==ht&&a.start&&a.start.start&&a.skipCurrent!=!1&&h.isEqual(a.start)?(h=null,!1):!0}),h},this.findAll=function(c){var a=this.$options;if(!a.needle)return[];this.$assembleRegExp(a);var o=a.range,h=o?c.getLines(o.start.row,o.end.row):c.doc.getAllLines(),g=[],tt=a.re;if(a.$isMultiLine){var at=tt.length,ht=h.length-at,_e;e:for(var ut=tt.offset||0;ut<=ht;ut++){for(var ct=0;ct<at;ct++)if(h[ut+ct].search(tt[ct])==-1)continue e;var rt=h[ut],st=h[ut+at-1],vt=rt.length-rt.match(tt[0])[0].length,ot=st.match(tt[at-1])[0].length;_e&&_e.end.row===ut&&_e.end.column>vt||(g.push(_e=new nt(ut,vt,ut+at-1,ot)),at>2&&(ut=ut+at-2))}}else for(var et=0;et<h.length;et++)for(var lt=$.getMatchOffsets(h[et],tt),ct=0;ct<lt.length;ct++){var mt=lt[ct];g.push(new nt(et,mt.offset,et,mt.offset+mt.length))}if(o){for(var xt=o.start.column,wt=o.end.column,et=0,ct=g.length-1;et<ct&&g[et].start.column<xt&&g[et].start.row==0;)et++;for(var St=o.end.row-o.start.row;et<ct&&g[ct].end.column>wt&&g[ct].end.row==St;)ct--;for(g=g.slice(et,ct+1),et=0,ct=g.length;et<ct;et++)g[et].start.row+=o.start.row,g[et].end.row+=o.start.row}return g},this.replace=function(c,a){var o=this.$options,h=this.$assembleRegExp(o);if(o.$isMultiLine)return a;if(!!h){var g=h.exec(c);if(!g||g[0].length!=c.length)return null;if(a=c.replace(h,a),o.preserveCase){a=a.split("");for(var tt=Math.min(c.length,c.length);tt--;){var at=c[tt];at&&at.toLowerCase()!=at?a[tt]=a[tt].toUpperCase():a[tt]=a[tt].toLowerCase()}a=a.join("")}return a}},this.$assembleRegExp=function(c,a){if(c.needle instanceof RegExp)return c.re=c.needle;var o=c.needle;if(!c.needle)return c.re=!1;c.regExp||(o=$.escapeRegExp(o)),c.wholeWord&&(o=b(o,c));var h=c.caseSensitive?"gm":"gmi";if(c.$isMultiLine=!a&&/[\n\r]/.test(o),c.$isMultiLine)return c.re=this.$assembleMultilineRegExp(o,h);try{var g=new RegExp(o,h)}catch{g=!1}return c.re=g},this.$assembleMultilineRegExp=function(c,a){for(var o=c.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),h=[],g=0;g<o.length;g++)try{h.push(new RegExp(o[g],a))}catch{return!1}return h},this.$matchIterator=function(c,a){var o=this.$assembleRegExp(a);if(!o)return!1;var h=a.backwards==!0,g=a.skipCurrent!=!1,tt=a.range,at=a.start;at||(at=tt?tt[h?"end":"start"]:c.selection.getRange()),at.start&&(at=at[g!=h?"end":"start"]);var ht=tt?tt.start.row:0,_e=tt?tt.end.row:c.getLength()-1;if(h)var ut=function(st){var vt=at.row;if(!rt(vt,at.column,st)){for(vt--;vt>=ht;vt--)if(rt(vt,Number.MAX_VALUE,st))return;if(a.wrap!=!1){for(vt=_e,ht=at.row;vt>=ht;vt--)if(rt(vt,Number.MAX_VALUE,st))return}}};else var ut=function(vt){var ot=at.row;if(!rt(ot,at.column,vt)){for(ot=ot+1;ot<=_e;ot++)if(rt(ot,0,vt))return;if(a.wrap!=!1){for(ot=ht,_e=at.row;ot<=_e;ot++)if(rt(ot,0,vt))return}}};if(a.$isMultiLine)var ct=o.length,rt=function(st,vt,ot){var et=h?st-ct+1:st;if(!(et<0||et+ct>c.getLength())){var lt=c.getLine(et),mt=lt.search(o[0]);if(!(!h&&mt<vt||mt===-1)){for(var xt=1;xt<ct;xt++)if(lt=c.getLine(et+xt),lt.search(o[xt])==-1)return;var wt=lt.match(o[ct-1])[0].length;if(!(h&&wt>vt)&&ot(et,mt,et+ct-1,wt))return!0}}};else if(h)var rt=function(vt,ot,et){var lt=c.getLine(vt),mt=[],xt,wt=0;for(o.lastIndex=0;xt=o.exec(lt);){var St=xt[0].length;if(wt=xt.index,!St){if(wt>=lt.length)break;o.lastIndex=wt+=1}if(xt.index+St>ot)break;mt.push(xt.index,St)}for(var Tt=mt.length-1;Tt>=0;Tt-=2){var kt=mt[Tt-1],St=mt[Tt];if(et(vt,kt,vt,kt+St))return!0}};else var rt=function(vt,ot,et){var lt=c.getLine(vt),mt,xt;for(o.lastIndex=ot;xt=o.exec(lt);){var wt=xt[0].length;if(mt=xt.index,et(vt,mt,vt,mt+wt))return!0;if(!wt&&(o.lastIndex=mt+=1,mt>=lt.length))return!1}};return{forEach:ut}}}).call(_.prototype);function b(c,a){function o(h){return/\w/.test(h)||a.regExp?"\\b":""}return o(c[0])+c+o(c[c.length-1])}d.Search=_}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,d,ft){var $=i("../lib/keys"),it=i("../lib/useragent"),nt=$.KEY_MODS;function _(c,a){this.platform=a||(it.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(c),this.$singleCommand=!0}function b(c,a){_.call(this,c,a),this.$singleCommand=!1}b.prototype=_.prototype,function(){this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a),this.commands[a.name]=a,a.bindKey&&this._buildKeyHash(a)},this.removeCommand=function(a,o){var h=a&&(typeof a=="string"?a:a.name);a=this.commands[h],o||delete this.commands[h];var g=this.commandKeyBinding;for(var tt in g){var at=g[tt];if(at==a)delete g[tt];else if(Array.isArray(at)){var ht=at.indexOf(a);ht!=-1&&(at.splice(ht,1),at.length==1&&(g[tt]=at[0]))}}},this.bindKey=function(a,o,h){if(typeof a=="object"&&a&&(h==null&&(h=a.position),a=a[this.platform]),!!a){if(typeof o=="function")return this.addCommand({exec:o,bindKey:a,name:o.name||a});a.split("|").forEach(function(g){var tt="";if(g.indexOf(" ")!=-1){var at=g.split(/\s+/);g=at.pop(),at.forEach(function(ut){var ct=this.parseKeys(ut),rt=nt[ct.hashId]+ct.key;tt+=(tt?" ":"")+rt,this._addCommandToBinding(tt,"chainKeys")},this),tt+=" "}var ht=this.parseKeys(g),_e=nt[ht.hashId]+ht.key;this._addCommandToBinding(tt+_e,o,h)},this)}};function c(a){return typeof a=="object"&&a.bindKey&&a.bindKey.position||(a.isDefault?-100:0)}this._addCommandToBinding=function(a,o,h){var g=this.commandKeyBinding,tt;if(!o)delete g[a];else if(!g[a]||this.$singleCommand)g[a]=o;else{Array.isArray(g[a])?(tt=g[a].indexOf(o))!=-1&&g[a].splice(tt,1):g[a]=[g[a]],typeof h!="number"&&(h=c(o));var at=g[a];for(tt=0;tt<at.length;tt++){var ht=at[tt],_e=c(ht);if(_e>h)break}at.splice(tt,0,o)}},this.addCommands=function(a){a&&Object.keys(a).forEach(function(o){var h=a[o];if(!!h){if(typeof h=="string")return this.bindKey(h,o);typeof h=="function"&&(h={exec:h}),typeof h=="object"&&(h.name||(h.name=o),this.addCommand(h))}},this)},this.removeCommands=function(a){Object.keys(a).forEach(function(o){this.removeCommand(a[o])},this)},this.bindKeys=function(a){Object.keys(a).forEach(function(o){this.bindKey(o,a[o])},this)},this._buildKeyHash=function(a){this.bindKey(a.bindKey,a)},this.parseKeys=function(a){var o=a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(_e){return _e}),h=o.pop(),g=$[h];if($.FUNCTION_KEYS[g])h=$.FUNCTION_KEYS[g].toLowerCase();else if(o.length){if(o.length==1&&o[0]=="shift")return{key:h.toUpperCase(),hashId:-1}}else return{key:h,hashId:-1};for(var tt=0,at=o.length;at--;){var ht=$.KEY_MODS[o[at]];if(ht==null)return typeof console<"u"&&console.error("invalid modifier "+o[at]+" in "+a),!1;tt|=ht}return{key:h,hashId:tt}},this.findKeyCommand=function(o,h){var g=nt[o]+h;return this.commandKeyBinding[g]},this.handleKeyboard=function(a,o,h,g){if(!(g<0)){var tt=nt[o]+h,at=this.commandKeyBinding[tt];return a.$keyChain&&(a.$keyChain+=" "+tt,at=this.commandKeyBinding[a.$keyChain]||at),at&&(at=="chainKeys"||at[at.length-1]=="chainKeys")?(a.$keyChain=a.$keyChain||tt,{command:"null"}):(a.$keyChain&&((!o||o==4)&&h.length==1?a.$keyChain=a.$keyChain.slice(0,-tt.length-1):(o==-1||g>0)&&(a.$keyChain="")),{command:at})}},this.getStatusText=function(a,o){return o.$keyChain||""}}.call(_.prototype),d.HashHandler=_,d.MultiHashHandler=b}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(i,d,ft){var $=i("../lib/oop"),it=i("../keyboard/hash_handler").MultiHashHandler,nt=i("../lib/event_emitter").EventEmitter,_=function(b,c){it.call(this,c,b),this.byName=this.commands,this.setDefaultHandler("exec",function(a){return a.args?a.command.exec(a.editor,a.args,a.event,!1):a.command.exec(a.editor,{},a.event,!0)})};$.inherits(_,it),function(){$.implement(this,nt),this.exec=function(b,c,a){if(Array.isArray(b)){for(var o=b.length;o--;)if(this.exec(b[o],c,a))return!0;return!1}if(typeof b=="string"&&(b=this.commands[b]),!b||c&&c.$readOnly&&!b.readOnly||this.$checkCommandState!=!1&&b.isAvailable&&!b.isAvailable(c))return!1;var h={editor:c,command:b,args:a};return h.returnValue=this._emit("exec",h),this._signal("afterExec",h),h.returnValue!==!1},this.toggleRecording=function(b){if(!this.$inReplay)return b&&b._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(c){this.macro.push([c.command,c.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(b){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(b);try{this.$inReplay=!0,this.macro.forEach(function(c){typeof c=="string"?this.exec(c,b):this.exec(c[0],b,c[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(b){return b.map(function(c){return typeof c[0]!="string"&&(c[0]=c[0].name),c[1]||(c=c[0]),c})}}.call(_.prototype),d.CommandManager=_}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(i,d,ft){var $=i("../lib/lang"),it=i("../config"),nt=i("../range").Range;function _(c,a){return{win:c,mac:a}}d.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:_("Ctrl-,","Command-,"),exec:function(c){it.loadModule("ace/ext/settings_menu",function(a){a.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:_("Alt-E","F4"),exec:function(c){it.loadModule("./ext/error_marker",function(a){a.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:_("Alt-Shift-E","Shift-F4"),exec:function(c){it.loadModule("./ext/error_marker",function(a){a.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:_("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:_(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:_("Ctrl-L","Command-L"),exec:function(c,a){typeof a=="number"&&!isNaN(a)&&c.gotoLine(a),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:_("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:_("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:_("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:_("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:_(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:_(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:_("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:_("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:_("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:_("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:_("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:_("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:_("Ctrl-F","Command-F"),exec:function(c){it.loadModule("ace/ext/searchbox",function(a){a.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:_("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:_("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:_("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:_("Up","Up|Ctrl-P"),exec:function(c,a){c.navigateUp(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:_("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:_("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:_("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:_("Down","Down|Ctrl-N"),exec:function(c,a){c.navigateDown(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:_("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:_("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:_("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:_("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:_("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:_("Left","Left|Ctrl-B"),exec:function(c,a){c.navigateLeft(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:_("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:_("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:_("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:_("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:_("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:_("Right","Right|Ctrl-F"),exec:function(c,a){c.navigateRight(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:_(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:_("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:_(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:_("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:_("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:_("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:_("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:_("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:_("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:_("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:_(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var a=c.$copyWithEmptySelection&&c.selection.isEmpty(),o=a?c.selection.getLineRange():c.selection.getRange();c._emit("cut",o),o.isEmpty()||c.session.remove(o),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,a){c.$handlePaste(a)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:_("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:_("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:_("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:_("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:_("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:_("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:_("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:_("Ctrl-H","Command-Option-F"),exec:function(c){it.loadModule("ace/ext/searchbox",function(a){a.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:_("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:_("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:_("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:_("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:_("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:_("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:_("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:_("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:_("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:_("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:_("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:_("Ctrl-Shift-Backspace",null),exec:function(c){var a=c.selection.getRange();a.start.column=0,c.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:_("Ctrl-Shift-Delete",null),exec:function(c){var a=c.selection.getRange();a.end.column=Number.MAX_VALUE,c.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:_("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:_("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:_("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:_("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:_("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:_("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,a){c.insert(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,a){c.insert($.stringRepeat(a.text||"",a.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:_(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:_("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:_("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:_("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:_(null,null),exec:function(c){c.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:_("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var a=c.selection.getRange();a.start.column=a.end.column=0,a.end.row++,c.selection.setRange(a,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:_("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:_(null,null),exec:function(c){for(var a=c.selection.isBackwards(),o=a?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),h=a?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),g=c.session.doc.getLine(o.row).length,tt=c.session.doc.getTextRange(c.selection.getRange()),at=tt.replace(/\n\s*/," ").length,ht=c.session.doc.getLine(o.row),_e=o.row+1;_e<=h.row+1;_e++){var ut=$.stringTrimLeft($.stringTrimRight(c.session.doc.getLine(_e)));ut.length!==0&&(ut=" "+ut),ht+=ut}h.row+1<c.session.doc.getLength()-1&&(ht+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new nt(o.row,0,h.row+2,0),ht),at>0?(c.selection.moveCursorTo(o.row,o.column),c.selection.selectTo(o.row,o.column+at)):(g=c.session.doc.getLine(o.row).length>g?g+1:g,c.selection.moveCursorTo(o.row,g))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:_(null,null),exec:function(c){var a=c.session.doc.getLength()-1,o=c.session.doc.getLine(a).length,h=c.selection.rangeList.ranges,g=[];h.length<1&&(h=[c.selection.getRange()]);for(var tt=0;tt<h.length;tt++)tt==h.length-1&&(h[tt].end.row===a&&h[tt].end.column===o||g.push(new nt(h[tt].end.row,h[tt].end.column,a,o))),tt===0?h[tt].start.row===0&&h[tt].start.column===0||g.push(new nt(0,0,h[tt].start.row,h[tt].start.column)):g.push(new nt(h[tt-1].end.row,h[tt-1].end.column,h[tt].start.row,h[tt].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var tt=0;tt<g.length;tt++)c.selection.addRange(g[tt],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var a=c.getCursorPosition();c.selection.moveTo(a.row-1,Number.MAX_VALUE),c.insert(`
`),a.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:_("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:_(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var b=1;b<9;b++)d.commands.push({name:"foldToLevel"+b,description:"Fold To Level "+b,level:b,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(i,d,ft){var $=this&&this.__values||function(et){var lt=typeof Symbol=="function"&&Symbol.iterator,mt=lt&&et[lt],xt=0;if(mt)return mt.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&xt>=et.length&&(et=void 0),{value:et&&et[xt++],done:!et}}};throw new TypeError(lt?"Object is not iterable.":"Symbol.iterator is not defined.")},it=i("./lib/oop"),nt=i("./lib/dom"),_=i("./lib/lang"),b=i("./lib/useragent"),c=i("./keyboard/textinput").TextInput,a=i("./mouse/mouse_handler").MouseHandler,o=i("./mouse/fold_handler").FoldHandler,h=i("./keyboard/keybinding").KeyBinding,g=i("./edit_session").EditSession,tt=i("./search").Search,at=i("./range").Range,ht=i("./lib/event_emitter").EventEmitter,_e=i("./commands/command_manager").CommandManager,ut=i("./commands/default_commands").commands,ct=i("./config"),rt=i("./token_iterator").TokenIterator,st=i("./clipboard"),vt=function(et,lt,mt){this.$toDestroy=[];var xt=et.getContainerElement();this.container=xt,this.renderer=et,this.id="editor"+ ++vt.$uid,this.commands=new _e(b.isMac?"mac":"win",ut),typeof document=="object"&&(this.textInput=new c(et.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new o(this)),this.keyBinding=new h(this),this.$search=new tt().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=_.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(wt,St){St._$emitInputEvent.schedule(31)}),this.setSession(lt||mt&&mt.session||new g("")),ct.resetOptions(this),mt&&this.setOptions(mt),ct._signal("editor",this)};vt.$uid=0,function(){it.implement(this,ht),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=_.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(et){if(this.curOp){if(!et||this.curOp.command)return;this.prevOp=this.curOp}et||(this.previousCommand=null,et={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:et.command||{},args:et.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(et){if(this.curOp&&this.session){if(et&&et.returnValue===!1||!this.session)return this.curOp=null;if(et==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var lt=this.curOp.command,mt=lt&&lt.scrollIntoView;if(mt){switch(mt){case"center-animate":mt="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var xt=this.selection.getRange(),wt=this.renderer.layerConfig;(xt.start.row>=wt.lastRow||xt.end.row<=wt.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}mt=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var St=this.selection.toJSON();this.curOp.selectionAfter=St,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(St),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(et){if(!!this.$mergeUndoDeltas){var lt=this.prevOp,mt=this.$mergeableCommands,xt=lt.command&&et.command.name==lt.command.name;if(et.command.name=="insertstring"){var wt=et.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),xt=xt&&this.mergeNextCommand&&(!/\s/.test(wt)||/\s/.test(lt.args)),this.mergeNextCommand=!0}else xt=xt&&mt.indexOf(et.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(xt=!1),xt?this.session.mergeUndoDeltas=!0:mt.indexOf(et.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(et,lt){if(et&&typeof et=="string"&&et!="ace"){this.$keybindingId=et;var mt=this;ct.loadModule(["keybinding",et],function(xt){mt.$keybindingId==et&&mt.keyBinding.setKeyboardHandler(xt&&xt.handler),lt&&lt()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(et),lt&&lt()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(et){if(this.session!=et){this.curOp&&this.endOperation(),this.curOp={};var lt=this.session;if(lt){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var mt=this.session.getSelection();mt.off("changeCursor",this.$onCursorChange),mt.off("changeSelection",this.$onSelectionChange)}this.session=et,et?(this.$onDocumentChange=this.onDocumentChange.bind(this),et.on("change",this.$onDocumentChange),this.renderer.setSession(et),this.$onChangeMode=this.onChangeMode.bind(this),et.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),et.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),et.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),et.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),et.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),et.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=et.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(et)),this._signal("changeSession",{session:et,oldSession:lt}),this.curOp=null,lt&&lt._signal("changeEditor",{oldEditor:this}),et&&et._signal("changeEditor",{editor:this}),et&&!et.destroyed&&et.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(et,lt){return this.session.doc.setValue(et),lt?lt==1?this.navigateFileEnd():lt==-1&&this.navigateFileStart():this.selectAll(),et},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(et){this.renderer.onResize(et)},this.setTheme=function(et,lt){this.renderer.setTheme(et,lt)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(et){this.renderer.setStyle(et)},this.unsetStyle=function(et){this.renderer.unsetStyle(et)},this.getFontSize=function(){return this.getOption("fontSize")||nt.computedStyle(this.container).fontSize},this.setFontSize=function(et){this.setOption("fontSize",et)},this.$highlightBrackets=function(){if(!this.$highlightPending){var et=this;this.$highlightPending=!0,setTimeout(function(){et.$highlightPending=!1;var lt=et.session;if(!(!lt||lt.destroyed)){lt.$bracketHighlight&&(lt.$bracketHighlight.markerIds.forEach(function(Rt){lt.removeMarker(Rt)}),lt.$bracketHighlight=null);var mt=et.getCursorPosition(),xt=et.getKeyboardHandler(),wt=xt&&xt.$getDirectionForHighlight&&xt.$getDirectionForHighlight(et),St=lt.getMatchingBracketRanges(mt,wt);if(!St){var Tt=new rt(lt,mt.row,mt.column),kt=Tt.getCurrentToken();if(kt&&/\b(?:tag-open|tag-name)/.test(kt.type)){var Vt=lt.getMatchingTags(mt);Vt&&(St=[Vt.openTagName,Vt.closeTagName])}}if(!St&&lt.$mode.getMatching&&(St=lt.$mode.getMatching(et.session)),!St){et.getHighlightIndentGuides()&&et.renderer.$textLayer.$highlightIndentGuide();return}var Ct="ace_bracket";Array.isArray(St)?St.length==1&&(Ct="ace_error_bracket"):St=[St],St.length==2&&(at.comparePoints(St[0].end,St[1].start)==0?St=[at.fromPoints(St[0].start,St[1].end)]:at.comparePoints(St[0].start,St[1].end)==0&&(St=[at.fromPoints(St[1].start,St[0].end)])),lt.$bracketHighlight={ranges:St,markerIds:St.map(function(Rt){return lt.addMarker(Rt,Ct,"text")})},et.getHighlightIndentGuides()&&et.renderer.$textLayer.$highlightIndentGuide()}},50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(et){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",et))},this.onBlur=function(et){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",et))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(et){var lt=this.session.$useWrapMode,mt=et.start.row==et.end.row?et.end.row:1/0;this.renderer.updateLines(et.start.row,mt,lt),this._signal("change",et),this.$cursorChange()},this.onTokenizerUpdate=function(et){var lt=et.data;this.renderer.updateLines(lt.first,lt.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var et=this.getSession(),lt;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(lt=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(lt=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(lt=!1)),et.$highlightLineMarker&&!lt)et.removeMarker(et.$highlightLineMarker.id),et.$highlightLineMarker=null;else if(!et.$highlightLineMarker&&lt){var mt=new at(lt.row,lt.column,lt.row,1/0);mt.id=et.addMarker(mt,"ace_active-line","screenLine"),et.$highlightLineMarker=mt}else lt&&(et.$highlightLineMarker.start.row=lt.row,et.$highlightLineMarker.end.row=lt.row,et.$highlightLineMarker.start.column=lt.column,et._signal("changeBackMarker"))},this.onSelectionChange=function(et){var lt=this.session;if(lt.$selectionMarker&&lt.removeMarker(lt.$selectionMarker),lt.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var mt=this.selection.getRange(),xt=this.getSelectionStyle();lt.$selectionMarker=lt.addMarker(mt,"ace_selection",xt)}var wt=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(wt),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var et=this.session,lt=this.getSelectionRange();if(!(lt.isEmpty()||lt.isMultiLine())){var mt=lt.start.column,xt=lt.end.column,wt=et.getLine(lt.start.row),St=wt.substring(mt,xt);if(!(St.length>5e3||!/[\w\d]/.test(St))){var Tt=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:St}),kt=wt.substring(mt-1,xt+1);if(!!Tt.test(kt))return Tt}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(et){this.renderer.updateText(),this._emit("changeMode",et)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var et=this.getSelectedText(),lt=this.session.doc.getNewLineCharacter(),mt=!1;if(!et&&this.$copyWithEmptySelection){mt=!0;for(var xt=this.selection.getAllRanges(),wt=0;wt<xt.length;wt++){var St=xt[wt];wt&&xt[wt-1].start.row==St.start.row||(et+=this.session.getLine(St.start.row)+lt)}}var Tt={text:et};return this._signal("copy",Tt),st.lineMode=mt?Tt.text:!1,Tt.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(et,lt){var mt={text:et,event:lt};this.commands.exec("paste",this,mt)},this.$handlePaste=function(et){typeof et=="string"&&(et={text:et}),this._signal("paste",et);var lt=et.text,mt=lt===st.lineMode,xt=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)mt?xt.insert({row:this.selection.lead.row,column:0},lt):this.insert(lt);else if(mt)this.selection.rangeList.ranges.forEach(function(Ct){xt.insert({row:Ct.start.row,column:0},lt)});else{var wt=lt.split(/\r\n|\r|\n/),St=this.selection.rangeList.ranges,Tt=wt.length==2&&(!wt[0]||!wt[1]);if(wt.length!=St.length||Tt)return this.commands.exec("insertstring",this,lt);for(var kt=St.length;kt--;){var Vt=St[kt];Vt.isEmpty()||xt.remove(Vt),xt.insert(Vt.start,wt[kt])}}},this.execCommand=function(et,lt){return this.commands.exec(et,this,lt)},this.insert=function(et,lt){var mt=this.session,xt=mt.getMode(),wt=this.getCursorPosition();if(this.getBehavioursEnabled()&&!lt){var St=xt.transformAction(mt.getState(wt.row),"insertion",this,mt,et);St&&(et!==St.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),et=St.text)}if(et=="	"&&(et=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&et.indexOf(`
`)==-1){var Tt=new at.fromPoints(wt,wt);Tt.end.column+=et.length,this.session.remove(Tt)}}else{var Tt=this.getSelectionRange();wt=this.session.remove(Tt),this.clearSelection()}if(et==`
`||et==`\r
`){var Rt=mt.getLine(wt.row);if(wt.column>Rt.search(/\S|$/)){var kt=Rt.substr(wt.column).search(/\S|$/);mt.doc.removeInLine(wt.row,wt.column,wt.column+kt)}}this.clearSelection();var Vt=wt.column,Ct=mt.getState(wt.row),Rt=mt.getLine(wt.row),zt=xt.checkOutdent(Ct,Rt,et);if(mt.insert(wt,et),St&&St.selection&&(St.selection.length==2?this.selection.setSelectionRange(new at(wt.row,Vt+St.selection[0],wt.row,Vt+St.selection[1])):this.selection.setSelectionRange(new at(wt.row+St.selection[0],St.selection[1],wt.row+St.selection[2],St.selection[3]))),this.$enableAutoIndent){if(mt.getDocument().isNewLine(et)){var Xt=xt.getNextLineIndent(Ct,Rt.slice(0,wt.column),mt.getTabString());mt.insert({row:wt.row+1,column:0},Xt)}zt&&xt.autoOutdent(Ct,mt,wt.row)}},this.autoIndent=function(){var et=this.session,lt=et.getMode(),mt,xt;if(this.selection.isEmpty())mt=0,xt=et.doc.getLength()-1;else{var wt=this.getSelectionRange();mt=wt.start.row,xt=wt.end.row}for(var St="",Tt="",kt="",Vt,Ct,Rt,zt=et.getTabString(),Xt=mt;Xt<=xt;Xt++)Xt>0&&(St=et.getState(Xt-1),Tt=et.getLine(Xt-1),kt=lt.getNextLineIndent(St,Tt,zt)),Vt=et.getLine(Xt),Ct=lt.$getIndent(Vt),kt!==Ct&&(Ct.length>0&&(Rt=new at(Xt,0,Xt,Ct.length),et.remove(Rt)),kt.length>0&&et.insert({row:Xt,column:0},kt)),lt.autoOutdent(St,et,Xt)},this.onTextInput=function(et,lt){if(!lt)return this.keyBinding.onTextInput(et);this.startOperation({command:{name:"insertstring"}});var mt=this.applyComposition.bind(this,et,lt);this.selection.rangeCount?this.forEachSelection(mt):mt(),this.endOperation()},this.applyComposition=function(et,lt){if(lt.extendLeft||lt.extendRight){var mt=this.selection.getRange();mt.start.column-=lt.extendLeft,mt.end.column+=lt.extendRight,mt.start.column<0&&(mt.start.row--,mt.start.column+=this.session.getLine(mt.start.row).length+1),this.selection.setRange(mt),!et&&!mt.isEmpty()&&this.remove()}if((et||!this.selection.isEmpty())&&this.insert(et,!0),lt.restoreStart||lt.restoreEnd){var mt=this.selection.getRange();mt.start.column-=lt.restoreStart,mt.end.column-=lt.restoreEnd,this.selection.setRange(mt)}},this.onCommandKey=function(et,lt,mt){return this.keyBinding.onCommandKey(et,lt,mt)},this.setOverwrite=function(et){this.session.setOverwrite(et)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(et){this.setOption("scrollSpeed",et)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(et){this.setOption("dragDelay",et)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(et){this.setOption("selectionStyle",et)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(et){this.setOption("highlightActiveLine",et)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(et){this.setOption("highlightGutterLine",et)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(et){this.setOption("highlightSelectedWord",et)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(et){this.renderer.setAnimatedScroll(et)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(et){this.renderer.setShowInvisibles(et)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(et){this.renderer.setDisplayIndentGuides(et)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(et){this.renderer.setHighlightIndentGuides(et)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(et){this.renderer.setShowPrintMargin(et)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(et){this.renderer.setPrintMarginColumn(et)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(et){this.setOption("readOnly",et)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(et){this.setOption("behavioursEnabled",et)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(et){this.setOption("wrapBehavioursEnabled",et)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(et){this.setOption("showFoldWidgets",et)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(et){this.setOption("fadeFoldWidgets",et)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(et){this.selection.isEmpty()&&(et=="left"?this.selection.selectLeft():this.selection.selectRight());var lt=this.getSelectionRange();if(this.getBehavioursEnabled()){var mt=this.session,xt=mt.getState(lt.start.row),wt=mt.getMode().transformAction(xt,"deletion",this,mt,lt);if(lt.end.column===0){var St=mt.getTextRange(lt);if(St[St.length-1]==`
`){var Tt=mt.getLine(lt.end.row);/^\s+$/.test(Tt)&&(lt.end.column=Tt.length)}}wt&&(lt=wt)}this.session.remove(lt),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var et=this.getSelectionRange();et.start.column==et.end.column&&et.start.row==et.end.row&&(et.end.column=0,et.end.row++),this.session.remove(et),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var et=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(et)},this.transposeLetters=function(){if(!!this.selection.isEmpty()){var et=this.getCursorPosition(),lt=et.column;if(lt!==0){var mt=this.session.getLine(et.row),xt,wt;lt<mt.length?(xt=mt.charAt(lt)+mt.charAt(lt-1),wt=new at(et.row,lt-1,et.row,lt+1)):(xt=mt.charAt(lt-1)+mt.charAt(lt-2),wt=new at(et.row,lt-2,et.row,lt)),this.session.replace(wt,xt),this.session.selection.moveToPosition(wt.end)}}},this.toLowerCase=function(){var et=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var lt=this.getSelectionRange(),mt=this.session.getTextRange(lt);this.session.replace(lt,mt.toLowerCase()),this.selection.setSelectionRange(et)},this.toUpperCase=function(){var et=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var lt=this.getSelectionRange(),mt=this.session.getTextRange(lt);this.session.replace(lt,mt.toUpperCase()),this.selection.setSelectionRange(et)},this.indent=function(){var et=this.session,lt=this.getSelectionRange();if(lt.start.row<lt.end.row){var mt=this.$getSelectedRows();et.indentRows(mt.first,mt.last,"	");return}else if(lt.start.column<lt.end.column){var xt=et.getTextRange(lt);if(!/^\s+$/.test(xt)){var mt=this.$getSelectedRows();et.indentRows(mt.first,mt.last,"	");return}}var wt=et.getLine(lt.start.row),St=lt.start,Tt=et.getTabSize(),kt=et.documentToScreenColumn(St.row,St.column);if(this.session.getUseSoftTabs())var Vt=Tt-kt%Tt,Ct=_.stringRepeat(" ",Vt);else{for(var Vt=kt%Tt;wt[lt.start.column-1]==" "&&Vt;)lt.start.column--,Vt--;this.selection.setSelectionRange(lt),Ct="	"}return this.insert(Ct)},this.blockIndent=function(){var et=this.$getSelectedRows();this.session.indentRows(et.first,et.last,"	")},this.blockOutdent=function(){var et=this.session.getSelection();this.session.outdentRows(et.getRange())},this.sortLines=function(){for(var et=this.$getSelectedRows(),lt=this.session,mt=[],xt=et.first;xt<=et.last;xt++)mt.push(lt.getLine(xt));mt.sort(function(Tt,kt){return Tt.toLowerCase()<kt.toLowerCase()?-1:Tt.toLowerCase()>kt.toLowerCase()?1:0});for(var wt=new at(0,0,0,0),xt=et.first;xt<=et.last;xt++){var St=lt.getLine(xt);wt.start.row=xt,wt.end.row=xt,wt.end.column=St.length,lt.replace(wt,mt[xt-et.first])}},this.toggleCommentLines=function(){var et=this.session.getState(this.getCursorPosition().row),lt=this.$getSelectedRows();this.session.getMode().toggleCommentLines(et,this.session,lt.first,lt.last)},this.toggleBlockComment=function(){var et=this.getCursorPosition(),lt=this.session.getState(et.row),mt=this.getSelectionRange();this.session.getMode().toggleBlockComment(lt,this.session,mt,et)},this.getNumberAt=function(et,lt){var mt=/[\-]?[0-9]+(?:\.[0-9]+)?/g;mt.lastIndex=0;for(var xt=this.session.getLine(et);mt.lastIndex<lt;){var wt=mt.exec(xt);if(wt.index<=lt&&wt.index+wt[0].length>=lt){var St={value:wt[0],start:wt.index,end:wt.index+wt[0].length};return St}}return null},this.modifyNumber=function(et){var lt=this.selection.getCursor().row,mt=this.selection.getCursor().column,xt=new at(lt,mt-1,lt,mt),wt=this.session.getTextRange(xt);if(!isNaN(parseFloat(wt))&&isFinite(wt)){var St=this.getNumberAt(lt,mt);if(St){var Tt=St.value.indexOf(".")>=0?St.start+St.value.indexOf(".")+1:St.end,kt=St.start+St.value.length-Tt,Vt=parseFloat(St.value);Vt*=Math.pow(10,kt),Tt!==St.end&&mt<Tt?et*=Math.pow(10,St.end-mt-1):et*=Math.pow(10,St.end-mt),Vt+=et,Vt/=Math.pow(10,kt);var Ct=Vt.toFixed(kt),Rt=new at(lt,St.start,lt,St.end);this.session.replace(Rt,Ct),this.moveCursorTo(lt,Math.max(St.start+1,mt+Ct.length-St.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var et=this.selection.getCursor().row,lt=this.selection.getCursor().column;this.selection.selectWord();var mt=this.getSelectedText(),xt=this.selection.getWordRange().start.column,wt=mt.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),St=lt-xt-1;St<0&&(St=0);var Tt=0,kt=0,Vt=this;mt.match(/[A-Za-z0-9_]+/)&&wt.forEach(function(Yt,fn){kt=Tt+Yt.length,St>=Tt&&St<=kt&&(mt=Yt,Vt.selection.clearSelection(),Vt.moveCursorTo(et,Tt+xt),Vt.selection.selectTo(et,kt+xt)),Tt=kt});for(var Ct=this.$toggleWordPairs,Rt,zt=0;zt<Ct.length;zt++)for(var Xt=Ct[zt],Pt=0;Pt<=1;Pt++){var Mt=+!Pt,jt=mt.match(new RegExp("^\\s?_?("+_.escapeRegExp(Xt[Pt])+")\\s?$","i"));if(jt){var Zt=mt.match(new RegExp("([_]|^|\\s)("+_.escapeRegExp(jt[1])+")($|\\s)","g"));Zt&&(Rt=mt.replace(new RegExp(_.escapeRegExp(Xt[Pt]),"i"),function(Yt){var fn=Xt[Mt];return Yt.toUpperCase()==Yt?fn=fn.toUpperCase():Yt.charAt(0).toUpperCase()==Yt.charAt(0)&&(fn=fn.substr(0,0)+Xt[Mt].charAt(0).toUpperCase()+fn.substr(1)),fn}),this.insert(Rt),Rt="")}}},this.findLinkAt=function(et,lt){var mt,xt,wt=this.session.getLine(et),St=wt.split(/((?:https?|ftp):\/\/[\S]+)/),Tt=lt;Tt<0&&(Tt=0);var kt=0,Vt=0,Ct;try{for(var Rt=$(St),zt=Rt.next();!zt.done;zt=Rt.next()){var Xt=zt.value;if(Vt=kt+Xt.length,Tt>=kt&&Tt<=Vt&&Xt.match(/((?:https?|ftp):\/\/[\S]+)/)){Ct=Xt.replace(/[\s:.,'";}\]]+$/,"");break}kt=Vt}}catch(Pt){mt={error:Pt}}finally{try{zt&&!zt.done&&(xt=Rt.return)&&xt.call(Rt)}finally{if(mt)throw mt.error}}return Ct},this.openLink=function(){var et=this.selection.getCursor(),lt=this.findLinkAt(et.row,et.column);return lt&&window.open(lt,"_blank"),lt!=null},this.removeLines=function(){var et=this.$getSelectedRows();this.session.removeFullLines(et.first,et.last),this.clearSelection()},this.duplicateSelection=function(){var et=this.selection,lt=this.session,mt=et.getRange(),xt=et.isBackwards();if(mt.isEmpty()){var wt=mt.start.row;lt.duplicateLines(wt,wt)}else{var St=xt?mt.start:mt.end,Tt=lt.insert(St,lt.getTextRange(mt),!1);mt.start=St,mt.end=Tt,et.setSelectionRange(mt,xt)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(et,lt,mt){return this.session.moveText(et,lt,mt)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(et,lt){var mt,xt,wt=this.selection;if(!wt.inMultiSelectMode||this.inVirtualSelectionMode){var St=wt.toOrientedRange();mt=this.$getSelectedRows(St),xt=this.session.$moveLines(mt.first,mt.last,lt?0:et),lt&&et==-1&&(xt=0),St.moveBy(xt,0),wt.fromOrientedRange(St)}else{var Tt=wt.rangeList.ranges;wt.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var kt=0,Vt=0,Ct=Tt.length,Rt=0;Rt<Ct;Rt++){var zt=Rt;Tt[Rt].moveBy(kt,0),mt=this.$getSelectedRows(Tt[Rt]);for(var Xt=mt.first,Pt=mt.last;++Rt<Ct;){Vt&&Tt[Rt].moveBy(Vt,0);var Mt=this.$getSelectedRows(Tt[Rt]);if(lt&&Mt.first!=Pt)break;if(!lt&&Mt.first>Pt+1)break;Pt=Mt.last}for(Rt--,kt=this.session.$moveLines(Xt,Pt,lt?0:et),lt&&et==-1&&(zt=Rt+1);zt<=Rt;)Tt[zt].moveBy(kt,0),zt++;lt||(kt=0),Vt+=kt}wt.fromOrientedRange(wt.ranges[0]),wt.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(et){return et=(et||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(et.start.row),last:this.session.getRowFoldEnd(et.end.row)}},this.onCompositionStart=function(et){this.renderer.showComposition(et)},this.onCompositionUpdate=function(et){this.renderer.setCompositionText(et)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(et){return et>=this.getFirstVisibleRow()&&et<=this.getLastVisibleRow()},this.isRowFullyVisible=function(et){return et>=this.renderer.getFirstFullyVisibleRow()&&et<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(et,lt){var mt=this.renderer,xt=this.renderer.layerConfig,wt=et*Math.floor(xt.height/xt.lineHeight);lt===!0?this.selection.$moveSelection(function(){this.moveCursorBy(wt,0)}):lt===!1&&(this.selection.moveCursorBy(wt,0),this.selection.clearSelection());var St=mt.scrollTop;mt.scrollBy(0,wt*xt.lineHeight),lt!=null&&mt.scrollCursorIntoView(null,.5),mt.animateScrolling(St)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(et){this.renderer.scrollToRow(et)},this.scrollToLine=function(et,lt,mt,xt){this.renderer.scrollToLine(et,lt,mt,xt)},this.centerSelection=function(){var et=this.getSelectionRange(),lt={row:Math.floor(et.start.row+(et.end.row-et.start.row)/2),column:Math.floor(et.start.column+(et.end.column-et.start.column)/2)};this.renderer.alignCursor(lt,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(et,lt){this.selection.moveCursorTo(et,lt)},this.moveCursorToPosition=function(et){this.selection.moveCursorToPosition(et)},this.jumpToMatching=function(et,lt){var mt=this.getCursorPosition(),xt=new rt(this.session,mt.row,mt.column),wt=xt.getCurrentToken(),St=0;wt&&wt.type.indexOf("tag-name")!==-1&&(wt=xt.stepBackward());var Tt=wt||xt.stepForward();if(!!Tt){var kt,Vt=!1,Ct={},Rt=mt.column-Tt.start,zt,Xt={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Tt.value.match(/[{}()\[\]]/g)){for(;Rt<Tt.value.length&&!Vt;Rt++)if(!!Xt[Tt.value[Rt]])switch(zt=Xt[Tt.value[Rt]]+"."+Tt.type.replace("rparen","lparen"),isNaN(Ct[zt])&&(Ct[zt]=0),Tt.value[Rt]){case"(":case"[":case"{":Ct[zt]++;break;case")":case"]":case"}":Ct[zt]--,Ct[zt]===-1&&(kt="bracket",Vt=!0);break}}else Tt.type.indexOf("tag-name")!==-1&&(isNaN(Ct[Tt.value])&&(Ct[Tt.value]=0),wt.value==="<"&&St>1?Ct[Tt.value]++:wt.value==="</"&&Ct[Tt.value]--,Ct[Tt.value]===-1&&(kt="tag",Vt=!0));Vt||(wt=Tt,St++,Tt=xt.stepForward(),Rt=0)}while(Tt&&!Vt);if(!!kt){var Pt,Mt;if(kt==="bracket")Pt=this.session.getBracketRange(mt),Pt||(Pt=new at(xt.getCurrentTokenRow(),xt.getCurrentTokenColumn()+Rt-1,xt.getCurrentTokenRow(),xt.getCurrentTokenColumn()+Rt-1),Mt=Pt.start,(lt||Mt.row===mt.row&&Math.abs(Mt.column-mt.column)<2)&&(Pt=this.session.getBracketRange(Mt)));else if(kt==="tag"){if(!Tt||Tt.type.indexOf("tag-name")===-1)return;if(Pt=new at(xt.getCurrentTokenRow(),xt.getCurrentTokenColumn()-2,xt.getCurrentTokenRow(),xt.getCurrentTokenColumn()-2),Pt.compare(mt.row,mt.column)===0){var jt=this.session.getMatchingTags(mt);jt&&(jt.openTag.contains(mt.row,mt.column)?(Pt=jt.closeTag,Mt=Pt.start):(Pt=jt.openTag,jt.closeTag.start.row===mt.row&&jt.closeTag.start.column===mt.column?Mt=Pt.end:Mt=Pt.start))}Mt=Mt||Pt.start}Mt=Pt&&Pt.cursor||Mt,Mt&&(et?Pt&&lt?this.selection.setRange(Pt):Pt&&Pt.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Mt.row,Mt.column):this.selection.moveTo(Mt.row,Mt.column))}}},this.gotoLine=function(et,lt,mt){this.selection.clearSelection(),this.session.unfold({row:et-1,column:lt||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(et-1,lt||0),this.isRowFullyVisible(et-1)||this.scrollToLine(et-1,!0,mt)},this.navigateTo=function(et,lt){this.selection.moveTo(et,lt)},this.navigateUp=function(et){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var lt=this.selection.anchor.getPosition();return this.moveCursorToPosition(lt)}this.selection.clearSelection(),this.selection.moveCursorBy(-et||-1,0)},this.navigateDown=function(et){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var lt=this.selection.anchor.getPosition();return this.moveCursorToPosition(lt)}this.selection.clearSelection(),this.selection.moveCursorBy(et||1,0)},this.navigateLeft=function(et){if(this.selection.isEmpty())for(et=et||1;et--;)this.selection.moveCursorLeft();else{var lt=this.getSelectionRange().start;this.moveCursorToPosition(lt)}this.clearSelection()},this.navigateRight=function(et){if(this.selection.isEmpty())for(et=et||1;et--;)this.selection.moveCursorRight();else{var lt=this.getSelectionRange().end;this.moveCursorToPosition(lt)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(et,lt){lt&&this.$search.set(lt);var mt=this.$search.find(this.session),xt=0;return mt&&(this.$tryReplace(mt,et)&&(xt=1),this.selection.setSelectionRange(mt),this.renderer.scrollSelectionIntoView(mt.start,mt.end)),xt},this.replaceAll=function(et,lt){lt&&this.$search.set(lt);var mt=this.$search.findAll(this.session),xt=0;if(!mt.length)return xt;var wt=this.getSelectionRange();this.selection.moveTo(0,0);for(var St=mt.length-1;St>=0;--St)this.$tryReplace(mt[St],et)&&xt++;return this.selection.setSelectionRange(wt),xt},this.$tryReplace=function(et,lt){var mt=this.session.getTextRange(et);return lt=this.$search.replace(mt,lt),lt!==null?(et.end=this.session.replace(et,lt),et):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(et,lt,mt){lt||(lt={}),typeof et=="string"||et instanceof RegExp?lt.needle=et:typeof et=="object"&&it.mixin(lt,et);var xt=this.selection.getRange();lt.needle==null&&(et=this.session.getTextRange(xt)||this.$search.$options.needle,et||(xt=this.session.getWordRange(xt.start.row,xt.start.column),et=this.session.getTextRange(xt)),this.$search.set({needle:et})),this.$search.set(lt),lt.start||this.$search.set({start:xt});var wt=this.$search.find(this.session);if(lt.preventScroll)return wt;if(wt)return this.revealRange(wt,mt),wt;lt.backwards?xt.start=xt.end:xt.end=xt.start,this.selection.setRange(xt)},this.findNext=function(et,lt){this.find({skipCurrent:!0,backwards:!1},et,lt)},this.findPrevious=function(et,lt){this.find(et,{skipCurrent:!0,backwards:!0},lt)},this.revealRange=function(et,lt){this.session.unfold(et),this.selection.setSelectionRange(et);var mt=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(et.start,et.end,.5),lt!==!1&&this.renderer.animateScrolling(mt)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(et){et.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(et){if(!!et){var lt,mt=this,xt=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var wt=this.$scrollAnchor;wt.style.cssText="position:absolute",this.container.insertBefore(wt,this.container.firstChild);var St=this.on("changeSelection",function(){xt=!0}),Tt=this.renderer.on("beforeRender",function(){xt&&(lt=mt.renderer.container.getBoundingClientRect())}),kt=this.renderer.on("afterRender",function(){if(xt&&lt&&(mt.isFocused()||mt.searchBox&&mt.searchBox.isFocused())){var Vt=mt.renderer,Ct=Vt.$cursorLayer.$pixelPos,Rt=Vt.layerConfig,zt=Ct.top-Rt.offset;Ct.top>=0&&zt+lt.top<0?xt=!0:Ct.top<Rt.height&&Ct.top+lt.top+Rt.lineHeight>window.innerHeight?xt=!1:xt=null,xt!=null&&(wt.style.top=zt+"px",wt.style.left=Ct.left+"px",wt.style.height=Rt.lineHeight+"px",wt.scrollIntoView(xt)),xt=lt=null}});this.setAutoScrollEditorIntoView=function(Vt){Vt||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",St),this.renderer.off("afterRender",kt),this.renderer.off("beforeRender",Tt))}}},this.$resetCursorStyle=function(){var et=this.$cursorStyle||"ace",lt=this.renderer.$cursorLayer;!lt||(lt.setSmoothBlinking(/smooth/.test(et)),lt.isBlinking=!this.$readOnly&&et!="wide",nt.setCssClass(lt.element,"ace_slim-cursors",/slim/.test(et)))},this.prompt=function(et,lt,mt){var xt=this;ct.loadModule("./ext/prompt",function(wt){wt.prompt(xt,et,lt,mt)})}}.call(vt.prototype),ct.defineOptions(vt.prototype,"editor",{selectionStyle:{set:function(et){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:et})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(et){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(et){this.textInput.setReadOnly(et),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(et){this.textInput.setCopyWithEmptySelection(et)},initialValue:!1},cursorStyle:{set:function(et){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(et){this.setAutoScrollEditorIntoView(et)}},keyboardHandler:{set:function(et){this.setKeyboardHandler(et)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(et){this.session.setValue(et)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(et){this.setSession(et)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(et){this.renderer.$gutterLayer.setShowLineNumbers(et),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),et&&this.$relativeLineNumbers?ot.attach(this):ot.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(et){this.$showLineNumbers&&et?ot.attach(this):ot.detach(this)}},placeholder:{set:function(et){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var lt=this.session&&(this.renderer.$composition||this.getValue());if(lt&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),nt.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!lt&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),nt.addCssClass(this.container,"ace_hasPlaceholder");var mt=nt.createElement("div");mt.className="ace_placeholder",mt.textContent=this.$placeholder||"",this.renderer.placeholderNode=mt,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!lt&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var ot={getText:function(et,lt){return(Math.abs(et.selection.lead.row-lt)||lt+1+(lt<9?"\xB7":""))+""},getWidth:function(et,lt,mt){return Math.max(lt.toString().length,(mt.lastRow+1).toString().length,2)*mt.characterWidth},update:function(et,lt){lt.renderer.$loop.schedule(lt.renderer.CHANGE_GUTTER)},attach:function(et){et.renderer.$gutterLayer.$renderer=this,et.on("changeSelection",this.update),this.update(null,et)},detach:function(et){et.renderer.$gutterLayer.$renderer==this&&(et.renderer.$gutterLayer.$renderer=null),et.off("changeSelection",this.update),this.update(null,et)}};d.Editor=vt}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(i,d,ft){var $=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(rt){this.$session=rt},this.add=function(rt,st,vt){if(!this.$fromUndo&&rt!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),st===!1||!this.lastDeltas){this.lastDeltas=[];var ot=this.$undoStack.length;ot>this.$undoDepth-1&&this.$undoStack.splice(0,ot-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),rt.id=this.$rev=++this.$maxRev}(rt.action=="remove"||rt.action=="insert")&&(this.$lastDelta=rt),this.lastDeltas.push(rt)}},this.addSelection=function(rt,st){this.selections.push({value:rt,rev:st||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(rt,st){st==null&&(st=this.$rev+1);for(var vt=this.$undoStack,ot=vt.length;ot--;){var et=vt[ot][0];if(et.id<=rt)break;et.id<st&&(et.ignore=!0)}this.lastDeltas=null},this.getSelection=function(rt,st){for(var vt=this.selections,ot=vt.length;ot--;){var et=vt[ot];if(et.rev<rt)return st&&(et=vt[ot+1]),et}},this.getRevision=function(){return this.$rev},this.getDeltas=function(rt,st){st==null&&(st=this.$rev+1);for(var vt=this.$undoStack,ot=null,et=0,lt=vt.length;lt--;){var mt=vt[lt][0];if(mt.id<st&&!ot&&(ot=lt+1),mt.id<=rt){et=lt+1;break}}return vt.slice(et,ot)},this.getChangedRanges=function(rt,st){st==null&&(st=this.$rev+1)},this.getChangedLines=function(rt,st){st==null&&(st=this.$rev+1)},this.undo=function(rt,st){this.lastDeltas=null;var vt=this.$undoStack;if(!!it(vt,vt.length)){rt||(rt=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var ot=vt.pop(),et=null;return ot&&(et=rt.undoChanges(ot,st),this.$redoStack.push(ot),this.$syncRev()),this.$fromUndo=!1,et}},this.redo=function(rt,st){if(this.lastDeltas=null,rt||(rt=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var vt=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);ct(this.$redoStack,vt),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(lt){lt[0].id=++this.$maxRev},this)}var ot=this.$redoStack.pop(),et=null;return ot&&(et=rt.redoChanges(ot,st),this.$undoStack.push(ot),this.$syncRev()),this.$fromUndo=!1,et},this.$syncRev=function(){var rt=this.$undoStack,st=rt[rt.length-1],vt=st&&st[0].id||0;this.$redoStackBaseRev=vt,this.$rev=vt},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(rt){rt==null&&(rt=this.$rev),this.mark=rt},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(rt){return rt?a(rt):a(this.$undoStack)+`
---
`+a(this.$redoStack)}}).call($.prototype);function it(rt,st){for(var vt=st;vt--;){var ot=rt[vt];if(ot&&!ot[0].ignore){for(;vt<st-1;){var et=g(rt[vt],rt[vt+1]);rt[vt]=et[0],rt[vt+1]=et[1],vt++}return!0}}}var nt=i("./range").Range,_=nt.comparePoints;nt.comparePoints;function b(rt){return{row:rt.row,column:rt.column}}function c(rt){return{start:b(rt.start),end:b(rt.end),action:rt.action,lines:rt.lines.slice()}}function a(rt){if(rt=rt||this,Array.isArray(rt))return rt.map(a).join(`
`);var st="";return rt.action?(st=rt.action=="insert"?"+":"-",st+="["+rt.lines+"]"):rt.value&&(Array.isArray(rt.value)?st=rt.value.map(o).join(`
`):st=o(rt.value)),rt.start&&(st+=o(rt)),(rt.id||rt.rev)&&(st+="	("+(rt.id||rt.rev)+")"),st}function o(rt){return rt.start.row+":"+rt.start.column+"=>"+rt.end.row+":"+rt.end.column}function h(rt,st){var vt=rt.action=="insert",ot=st.action=="insert";if(vt&&ot)if(_(st.start,rt.end)>=0)at(st,rt,-1);else if(_(st.start,rt.start)<=0)at(rt,st,1);else return null;else if(vt&&!ot)if(_(st.start,rt.end)>=0)at(st,rt,-1);else if(_(st.end,rt.start)<=0)at(rt,st,-1);else return null;else if(!vt&&ot)if(_(st.start,rt.start)>=0)at(st,rt,1);else if(_(st.start,rt.start)<=0)at(rt,st,1);else return null;else if(!vt&&!ot)if(_(st.start,rt.start)>=0)at(st,rt,1);else if(_(st.end,rt.start)<=0)at(rt,st,-1);else return null;return[st,rt]}function g(rt,st){for(var vt=rt.length;vt--;)for(var ot=0;ot<st.length;ot++)if(!h(rt[vt],st[ot])){for(;vt<rt.length;){for(;ot--;)h(st[ot],rt[vt]);ot=st.length,vt++}return[rt,st]}return rt.selectionBefore=st.selectionBefore=rt.selectionAfter=st.selectionAfter=null,[st,rt]}function tt(rt,st){var vt=rt.action=="insert",ot=st.action=="insert";if(vt&&ot)_(rt.start,st.start)<0?at(st,rt,1):at(rt,st,1);else if(vt&&!ot)_(rt.start,st.end)>=0?at(rt,st,-1):(_(rt.start,st.start)<=0||at(rt,nt.fromPoints(st.start,rt.start),-1),at(st,rt,1));else if(!vt&&ot)_(st.start,rt.end)>=0?at(st,rt,-1):(_(st.start,rt.start)<=0||at(st,nt.fromPoints(rt.start,st.start),-1),at(rt,st,1));else if(!vt&&!ot)if(_(st.start,rt.end)>=0)at(st,rt,-1);else if(_(st.end,rt.start)<=0)at(rt,st,-1);else{var et,lt;return _(rt.start,st.start)<0&&(et=rt,rt=_e(rt,st.start)),_(rt.end,st.end)>0&&(lt=_e(rt,st.end)),ht(st.end,rt.start,rt.end,-1),lt&&!et&&(rt.lines=lt.lines,rt.start=lt.start,rt.end=lt.end,lt=rt),[st,et,lt].filter(Boolean)}return[st,rt]}function at(rt,st,vt){ht(rt.start,st.start,st.end,vt),ht(rt.end,st.start,st.end,vt)}function ht(rt,st,vt,ot){rt.row==(ot==1?st:vt).row&&(rt.column+=ot*(vt.column-st.column)),rt.row+=ot*(vt.row-st.row)}function _e(rt,st){var vt=rt.lines,ot=rt.end;rt.end=b(st);var et=rt.end.row-rt.start.row,lt=vt.splice(et,vt.length),mt=et?st.column:st.column-rt.start.column;vt.push(lt[0].substring(0,mt)),lt[0]=lt[0].substr(mt);var xt={start:b(st),end:ot,lines:lt,action:rt.action};return xt}function ut(rt,st){st=c(st);for(var vt=rt.length;vt--;){for(var ot=rt[vt],et=0;et<ot.length;et++){var lt=ot[et],mt=tt(lt,st);st=mt[0],mt.length!=2&&(mt[2]?(ot.splice(et+1,1,mt[1],mt[2]),et++):mt[1]||(ot.splice(et,1),et--))}ot.length||rt.splice(vt,1)}return rt}function ct(rt,st){for(var vt=0;vt<st.length;vt++)for(var ot=st[vt],et=0;et<ot.length;et++)ut(rt,ot[et])}d.UndoManager=$}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(i,d,ft){var $=i("../lib/dom"),it=function(nt,_){this.element=nt,this.canvasHeight=_||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(nt){$.translate(this.element,0,-(nt.firstRowScreen*nt.lineHeight%this.canvasHeight)-nt.offset*this.$offsetCoefficient)},this.pageChanged=function(nt,_){return Math.floor(nt.firstRowScreen*nt.lineHeight/this.canvasHeight)!==Math.floor(_.firstRowScreen*_.lineHeight/this.canvasHeight)},this.computeLineTop=function(nt,_,b){var c=_.firstRowScreen*_.lineHeight,a=Math.floor(c/this.canvasHeight),o=b.documentToScreenRow(nt,0)*_.lineHeight;return o-a*this.canvasHeight},this.computeLineHeight=function(nt,_,b){return _.lineHeight*b.getRowLineCount(nt)},this.getLength=function(){return this.cells.length},this.get=function(nt){return this.cells[nt]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(nt){if(Array.isArray(nt)){this.cells.push.apply(this.cells,nt);for(var _=$.createFragment(this.element),b=0;b<nt.length;b++)_.appendChild(nt[b].element);this.element.appendChild(_)}else this.cells.push(nt),this.element.appendChild(nt.element)},this.unshift=function(nt){if(Array.isArray(nt)){this.cells.unshift.apply(this.cells,nt);for(var _=$.createFragment(this.element),b=0;b<nt.length;b++)_.appendChild(nt[b].element);this.element.firstChild?this.element.insertBefore(_,this.element.firstChild):this.element.appendChild(_)}else this.cells.unshift(nt),this.element.insertAdjacentElement("afterbegin",nt.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(nt){!nt||(nt.element.remove(),this.cellCache.push(nt))},this.createCell=function(nt,_,b,c){var a=this.cellCache.pop();if(!a){var o=$.createElement("div");c&&c(o),this.element.appendChild(o),a={element:o,text:"",row:nt}}return a.row=nt,a}}).call(it.prototype),d.Lines=it}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(i,d,ft){var $=i("../lib/dom"),it=i("../lib/oop"),nt=i("../lib/lang"),_=i("../lib/event_emitter").EventEmitter,b=i("./lines").Lines,c=function(o){this.element=$.createElement("div"),this.element.className="ace_layer ace_gutter-layer",o.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new b(this.element),this.$lines.$offsetCoefficient=1};(function(){it.implement(this,_),this.setSession=function(o){this.session&&this.session.off("change",this.$updateAnnotations),this.session=o,o&&o.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(o,h){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(o,h)},this.removeGutterDecoration=function(o,h){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(o,h)},this.setAnnotations=function(o){this.$annotations=[];for(var h=0;h<o.length;h++){var g=o[h],tt=g.row,at=this.$annotations[tt];at||(at=this.$annotations[tt]={text:[]});var ht=g.text;ht=ht?nt.escapeHTML(ht):g.html||"",at.text.indexOf(ht)===-1&&at.text.push(ht);var _e=g.type,ut=g.className;ut?at.className=ut:_e=="error"?at.className=" ace_error":_e=="warning"&&at.className!=" ace_error"?at.className=" ace_warning":_e=="info"&&!at.className&&(at.className=" ace_info")}},this.$updateAnnotations=function(o){if(!!this.$annotations.length){var h=o.start.row,g=o.end.row-h;if(g!==0)if(o.action=="remove")this.$annotations.splice(h,g+1,null);else{var tt=new Array(g+1);tt.unshift(h,1),this.$annotations.splice.apply(this.$annotations,tt)}}},this.update=function(o){this.config=o;var h=this.session,g=o.firstRow,tt=Math.min(o.lastRow+o.gutterOffset,h.getLength()-1);this.oldLastRow=tt,this.config=o,this.$lines.moveContainer(o),this.$updateCursorRow();for(var at=h.getNextFoldLine(g),ht=at?at.start.row:1/0,_e=null,ut=-1,ct=g;;){if(ct>ht&&(ct=at.end.row+1,at=h.getNextFoldLine(ct,at),ht=at?at.start.row:1/0),ct>tt){for(;this.$lines.getLength()>ut+1;)this.$lines.pop();break}_e=this.$lines.get(++ut),_e?_e.row=ct:(_e=this.$lines.createCell(ct,o,this.session,a),this.$lines.push(_e)),this.$renderCell(_e,o,at,ct),ct++}this._signal("afterRender"),this.$updateGutterWidth(o)},this.$updateGutterWidth=function(o){var h=this.session,g=h.gutterRenderer||this.$renderer,tt=h.$firstLineNumber,at=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||h.$useWrapMode)&&(at=h.getLength()+tt-1);var ht=g?g.getWidth(h,at,o):at.toString().length*o.characterWidth,_e=this.$padding||this.$computePadding();ht+=_e.left+_e.right,ht!==this.gutterWidth&&!isNaN(ht)&&(this.gutterWidth=ht,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",ht))},this.$updateCursorRow=function(){if(!!this.$highlightGutterLine){var o=this.session.selection.getCursor();this.$cursorRow!==o.row&&(this.$cursorRow=o.row)}},this.updateLineHighlight=function(){if(!!this.$highlightGutterLine){var o=this.session.selection.cursor.row;if(this.$cursorRow=o,!(this.$cursorCell&&this.$cursorCell.row==o)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var h=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<h.length;g++){var tt=h[g];if(tt.row>=this.$cursorRow){if(tt.row>this.$cursorRow){var at=this.session.getFoldLine(this.$cursorRow);if(g>0&&at&&at.start.row==h[g-1].row)tt=h[g-1];else break}tt.element.className="ace_gutter-active-line "+tt.element.className,this.$cursorCell=tt;break}}}}},this.scrollLines=function(o){var h=this.config;if(this.config=o,this.$updateCursorRow(),this.$lines.pageChanged(h,o))return this.update(o);this.$lines.moveContainer(o);var g=Math.min(o.lastRow+o.gutterOffset,this.session.getLength()-1),tt=this.oldLastRow;if(this.oldLastRow=g,!h||tt<o.firstRow)return this.update(o);if(g<h.firstRow)return this.update(o);if(h.firstRow<o.firstRow)for(var at=this.session.getFoldedRowCount(h.firstRow,o.firstRow-1);at>0;at--)this.$lines.shift();if(tt>g)for(var at=this.session.getFoldedRowCount(g+1,tt);at>0;at--)this.$lines.pop();o.firstRow<h.firstRow&&this.$lines.unshift(this.$renderLines(o,o.firstRow,h.firstRow-1)),g>tt&&this.$lines.push(this.$renderLines(o,tt+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(o)},this.$renderLines=function(o,h,g){for(var tt=[],at=h,ht=this.session.getNextFoldLine(at),_e=ht?ht.start.row:1/0;at>_e&&(at=ht.end.row+1,ht=this.session.getNextFoldLine(at,ht),_e=ht?ht.start.row:1/0),!(at>g);){var ut=this.$lines.createCell(at,o,this.session,a);this.$renderCell(ut,o,ht,at),tt.push(ut),at++}return tt},this.$renderCell=function(o,h,g,tt){var at=o.element,ht=this.session,_e=at.childNodes[0],ut=at.childNodes[1],ct=ht.$firstLineNumber,rt=ht.$breakpoints,st=ht.$decorations,vt=ht.gutterRenderer||this.$renderer,ot=this.$showFoldWidgets&&ht.foldWidgets,et=g?g.start.row:Number.MAX_VALUE,lt="ace_gutter-cell ";if(this.$highlightGutterLine&&(tt==this.$cursorRow||g&&tt<this.$cursorRow&&tt>=et&&this.$cursorRow<=g.end.row)&&(lt+="ace_gutter-active-line ",this.$cursorCell!=o&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=o)),rt[tt]&&(lt+=rt[tt]),st[tt]&&(lt+=st[tt]),this.$annotations[tt]&&(lt+=this.$annotations[tt].className),at.className!=lt&&(at.className=lt),ot){var mt=ot[tt];mt==null&&(mt=ot[tt]=ht.getFoldWidget(tt))}if(mt){var lt="ace_fold-widget ace_"+mt;mt=="start"&&tt==et&&tt<g.end.row?lt+=" ace_closed":lt+=" ace_open",ut.className!=lt&&(ut.className=lt);var xt=h.lineHeight+"px";$.setStyle(ut.style,"height",xt),$.setStyle(ut.style,"display","inline-block")}else ut&&$.setStyle(ut.style,"display","none");var wt=(vt?vt.getText(ht,tt):tt+ct).toString();return wt!==_e.data&&(_e.data=wt),$.setStyle(o.element.style,"height",this.$lines.computeLineHeight(tt,h,ht)+"px"),$.setStyle(o.element.style,"top",this.$lines.computeLineTop(tt,h,ht)+"px"),o.text=wt,o},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(o){this.$highlightGutterLine=o},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(o){this.$renderer=!o&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(o){o?$.addCssClass(this.element,"ace_folding-enabled"):$.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=o,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var o=$.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(o.borderLeftWidth)||0)+(parseInt(o.paddingLeft)||0)+1,this.$padding.right=(parseInt(o.borderRightWidth)||0)+(parseInt(o.paddingRight)||0),this.$padding},this.getRegion=function(o){var h=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(o.x<h.left+g.left)return"markers";if(this.$showFoldWidgets&&o.x>g.right-h.right)return"foldWidgets"}}).call(c.prototype);function a(o){var h=document.createTextNode("");o.appendChild(h);var g=$.createElement("span");return o.appendChild(g),o}d.Gutter=c}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(i,d,ft){var $=i("../range").Range,it=i("../lib/dom"),nt=function(_){this.element=it.createElement("div"),this.element.className="ace_layer ace_marker-layer",_.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(b){this.$padding=b},this.setSession=function(b){this.session=b},this.setMarkers=function(b){this.markers=b},this.elt=function(b,c){var a=this.i!=-1&&this.element.childNodes[this.i];a?this.i++:(a=document.createElement("div"),this.element.appendChild(a),this.i=-1),a.style.cssText=c,a.className=b},this.update=function(b){if(!!b){this.config=b,this.i=0;var c;for(var a in this.markers){var o=this.markers[a];if(!o.range){o.update(c,this,this.session,b);continue}var h=o.range.clipRows(b.firstRow,b.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),o.renderer){var g=this.$getTop(h.start.row,b),tt=this.$padding+h.start.column*b.characterWidth;o.renderer(c,h,tt,g,b)}else o.type=="fullLine"?this.drawFullLineMarker(c,h,o.clazz,b):o.type=="screenLine"?this.drawScreenLineMarker(c,h,o.clazz,b):h.isMultiLine()?o.type=="text"?this.drawTextMarker(c,h,o.clazz,b):this.drawMultiLineMarker(c,h,o.clazz,b):this.drawSingleLineMarker(c,h,o.clazz+" ace_start ace_br15",b)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(b,c){return(b-c.firstRowScreen)*c.lineHeight};function _(b,c,a,o){return(b?1:0)|(c?2:0)|(a?4:0)|(o?8:0)}this.drawTextMarker=function(b,c,a,o,h){for(var g=this.session,tt=c.start.row,at=c.end.row,ht=tt,_e=0,ut=0,ct=g.getScreenLastRowColumn(ht),rt=new $(ht,c.start.column,ht,ut);ht<=at;ht++)rt.start.row=rt.end.row=ht,rt.start.column=ht==tt?c.start.column:g.getRowWrapIndent(ht),rt.end.column=ct,_e=ut,ut=ct,ct=ht+1<at?g.getScreenLastRowColumn(ht+1):ht==at?0:c.end.column,this.drawSingleLineMarker(b,rt,a+(ht==tt?" ace_start":"")+" ace_br"+_(ht==tt||ht==tt+1&&c.start.column,_e<ut,ut>ct,ht==at),o,ht==at?0:1,h)},this.drawMultiLineMarker=function(b,c,a,o,h){var g=this.$padding,tt=o.lineHeight,at=this.$getTop(c.start.row,o),ht=g+c.start.column*o.characterWidth;if(h=h||"",this.session.$bidiHandler.isBidiRow(c.start.row)){var _e=c.clone();_e.end.row=_e.start.row,_e.end.column=this.session.getLine(_e.start.row).length,this.drawBidiSingleLineMarker(b,_e,a+" ace_br1 ace_start",o,null,h)}else this.elt(a+" ace_br1 ace_start","height:"+tt+"px;right:0;top:"+at+"px;left:"+ht+"px;"+(h||""));if(this.session.$bidiHandler.isBidiRow(c.end.row)){var _e=c.clone();_e.start.row=_e.end.row,_e.start.column=0,this.drawBidiSingleLineMarker(b,_e,a+" ace_br12",o,null,h)}else{at=this.$getTop(c.end.row,o);var ut=c.end.column*o.characterWidth;this.elt(a+" ace_br12","height:"+tt+"px;width:"+ut+"px;top:"+at+"px;left:"+g+"px;"+(h||""))}if(tt=(c.end.row-c.start.row-1)*o.lineHeight,!(tt<=0)){at=this.$getTop(c.start.row+1,o);var ct=(c.start.column?1:0)|(c.end.column?0:8);this.elt(a+(ct?" ace_br"+ct:""),"height:"+tt+"px;right:0;top:"+at+"px;left:"+g+"px;"+(h||""))}},this.drawSingleLineMarker=function(b,c,a,o,h,g){if(this.session.$bidiHandler.isBidiRow(c.start.row))return this.drawBidiSingleLineMarker(b,c,a,o,h,g);var tt=o.lineHeight,at=(c.end.column+(h||0)-c.start.column)*o.characterWidth,ht=this.$getTop(c.start.row,o),_e=this.$padding+c.start.column*o.characterWidth;this.elt(a,"height:"+tt+"px;width:"+at+"px;top:"+ht+"px;left:"+_e+"px;"+(g||""))},this.drawBidiSingleLineMarker=function(b,c,a,o,h,g){var tt=o.lineHeight,at=this.$getTop(c.start.row,o),ht=this.$padding,_e=this.session.$bidiHandler.getSelections(c.start.column,c.end.column);_e.forEach(function(ut){this.elt(a,"height:"+tt+"px;width:"+(ut.width+(h||0))+"px;top:"+at+"px;left:"+(ht+ut.left)+"px;"+(g||""))},this)},this.drawFullLineMarker=function(b,c,a,o,h){var g=this.$getTop(c.start.row,o),tt=o.lineHeight;c.start.row!=c.end.row&&(tt+=this.$getTop(c.end.row,o)-g),this.elt(a,"height:"+tt+"px;top:"+g+"px;left:0;right:0;"+(h||""))},this.drawScreenLineMarker=function(b,c,a,o,h){var g=this.$getTop(c.start.row,o),tt=o.lineHeight;this.elt(a,"height:"+tt+"px;top:"+g+"px;left:0;right:0;"+(h||""))}}).call(nt.prototype),d.Marker=nt}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(i,d,ft){var $=i("../lib/oop"),it=i("../lib/dom"),nt=i("../lib/lang"),_=i("./lines").Lines,b=i("../lib/event_emitter").EventEmitter,c=function(a){this.dom=it,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",a.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new _(this.element)};(function(){$.implement(this,b),this.EOF_CHAR="\xB6",this.EOL_CHAR_LF="\xAC",this.EOL_CHAR_CRLF="\xA4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xB7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var a=this.session.doc,o=a.getNewLineCharacter()==`
`&&a.getNewLineMode()!="windows",h=o?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=h)return this.EOL_CHAR=h,!0},this.setPadding=function(a){this.$padding=a,this.element.style.margin="0 "+a+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(a){this.$fontMetrics=a,this.$fontMetrics.on("changeCharacterSize",function(o){this._signal("changeCharacterSize",o)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(a){this.session=a,a&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(a){return this.showInvisibles==a?!1:(this.showInvisibles=a,typeof a=="string"?(this.showSpaces=/tab/i.test(a),this.showTabs=/space/i.test(a),this.showEOL=/eol/i.test(a)):this.showSpaces=this.showTabs=this.showEOL=a,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(a){return this.displayIndentGuides==a?!1:(this.displayIndentGuides=a,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(a){return this.$highlightIndentGuides===a?!1:(this.$highlightIndentGuides=a,a)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var a=this.session.getTabSize();this.tabSize=a;for(var o=this.$tabStrings=[0],h=1;h<a+1;h++)if(this.showTabs){var g=this.dom.createElement("span");g.className="ace_invisible ace_invisible_tab",g.textContent=nt.stringRepeat(this.TAB_CHAR,h),o.push(g)}else o.push(this.dom.createTextNode(nt.stringRepeat(" ",h),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var tt="ace_indent-guide",at=this.showSpaces?" ace_invisible ace_invisible_space":"",ht=this.showSpaces?nt.stringRepeat(this.SPACE_CHAR,this.tabSize):nt.stringRepeat(" ",this.tabSize),_e=this.showTabs?" ace_invisible ace_invisible_tab":"",ut=this.showTabs?nt.stringRepeat(this.TAB_CHAR,this.tabSize):ht,g=this.dom.createElement("span");g.className=tt+at,g.textContent=ht,this.$tabStrings[" "]=g;var g=this.dom.createElement("span");g.className=tt+_e,g.textContent=ut,this.$tabStrings["	"]=g}},this.updateLines=function(a,o,h){if(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)return this.update(a);this.config=a;for(var g=Math.max(o,a.firstRow),tt=Math.min(h,a.lastRow),at=this.element.childNodes,ht=0,ut=a.firstRow;ut<g;ut++){var ct=this.session.getFoldLine(ut);if(ct)if(ct.containsRow(g)){g=ct.start.row;break}else ut=ct.end.row;ht++}for(var _e=!1,ut=g,ct=this.session.getNextFoldLine(ut),rt=ct?ct.start.row:1/0;ut>rt&&(ut=ct.end.row+1,ct=this.session.getNextFoldLine(ut,ct),rt=ct?ct.start.row:1/0),!(ut>tt);){var st=at[ht++];if(st){this.dom.removeChildren(st),this.$renderLine(st,ut,ut==rt?ct:!1),_e&&(st.style.top=this.$lines.computeLineTop(ut,a,this.session)+"px");var vt=a.lineHeight*this.session.getRowLength(ut)+"px";st.style.height!=vt&&(_e=!0,st.style.height=vt)}ut++}if(_e)for(;ht<this.$lines.cells.length;){var ot=this.$lines.cells[ht++];ot.element.style.top=this.$lines.computeLineTop(ot.row,a,this.session)+"px"}},this.scrollLines=function(a){var o=this.config;if(this.config=a,this.$lines.pageChanged(o,a))return this.update(a);this.$lines.moveContainer(a);var h=a.lastRow,g=o?o.lastRow:-1;if(!o||g<a.firstRow)return this.update(a);if(h<o.firstRow)return this.update(a);if(!o||o.lastRow<a.firstRow)return this.update(a);if(a.lastRow<o.firstRow)return this.update(a);if(o.firstRow<a.firstRow)for(var tt=this.session.getFoldedRowCount(o.firstRow,a.firstRow-1);tt>0;tt--)this.$lines.shift();if(o.lastRow>a.lastRow)for(var tt=this.session.getFoldedRowCount(a.lastRow+1,o.lastRow);tt>0;tt--)this.$lines.pop();a.firstRow<o.firstRow&&this.$lines.unshift(this.$renderLinesFragment(a,a.firstRow,o.firstRow-1)),a.lastRow>o.lastRow&&this.$lines.push(this.$renderLinesFragment(a,o.lastRow+1,a.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(a,o,h){for(var g=[],tt=o,at=this.session.getNextFoldLine(tt),ht=at?at.start.row:1/0;tt>ht&&(tt=at.end.row+1,at=this.session.getNextFoldLine(tt,at),ht=at?at.start.row:1/0),!(tt>h);){var _e=this.$lines.createCell(tt,a,this.session),ut=_e.element;this.dom.removeChildren(ut),it.setStyle(ut.style,"height",this.$lines.computeLineHeight(tt,a,this.session)+"px"),it.setStyle(ut.style,"top",this.$lines.computeLineTop(tt,a,this.session)+"px"),this.$renderLine(ut,tt,tt==ht?at:!1),this.$useLineGroups()?ut.className="ace_line_group":ut.className="ace_line",g.push(_e),tt++}return g},this.update=function(a){this.$lines.moveContainer(a),this.config=a;for(var o=a.firstRow,h=a.lastRow,g=this.$lines;g.getLength();)g.pop();g.push(this.$renderLinesFragment(a,o,h))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(a,o,h,g){for(var tt,at=0;at<g.length;at+=this.MAX_CHUNK_LENGTH){var ht=g.substring(at,at+this.MAX_CHUNK_LENGTH),_e={type:h.type,value:ht};tt=this.$renderToken(a,o+at,_e,ht)}return tt},this.$renderToken=function(a,o,h,g){for(var tt=this,at=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,ht=this.dom.createFragment(this.element),_e,ut=0;_e=at.exec(g);){var ct=_e[1],rt=_e[2],st=_e[3],vt=_e[4],ot=_e[5];if(!(!tt.showSpaces&&rt)){var et=ut!=_e.index?g.slice(ut,_e.index):"";if(ut=_e.index+_e[0].length,et&&ht.appendChild(this.dom.createTextNode(et,this.element)),ct){var lt=tt.session.getScreenTabSize(o+_e.index);ht.appendChild(tt.$tabStrings[lt].cloneNode(!0)),o+=lt-1}else if(rt)if(tt.showSpaces){var mt=this.dom.createElement("span");mt.className="ace_invisible ace_invisible_space",mt.textContent=nt.stringRepeat(tt.SPACE_CHAR,rt.length),ht.appendChild(mt)}else ht.appendChild(this.com.createTextNode(rt,this.element));else if(st){var mt=this.dom.createElement("span");mt.className="ace_invisible ace_invisible_space ace_invalid",mt.textContent=nt.stringRepeat(tt.SPACE_CHAR,st.length),ht.appendChild(mt)}else if(vt){o+=1;var mt=this.dom.createElement("span");mt.style.width=tt.config.characterWidth*2+"px",mt.className=tt.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",mt.textContent=tt.showSpaces?tt.SPACE_CHAR:vt,ht.appendChild(mt)}else if(ot){o+=1;var mt=this.dom.createElement("span");mt.style.width=tt.config.characterWidth*2+"px",mt.className="ace_cjk",mt.textContent=ot,ht.appendChild(mt)}}}ht.appendChild(this.dom.createTextNode(ut?g.slice(ut):g,this.element));var mt=this.dom.createElement("span");if(!this.$textToken[h.type]){var xt="ace_"+h.type.replace(/\./g," ace_");h.type=="fold"&&(mt.style.width=h.value.length*this.config.characterWidth+"px"),mt.className=xt}return mt.appendChild(ht),a.appendChild(mt),o+g.length},this.renderIndentGuide=function(a,o,h){var g=o.search(this.$indentGuideRe);if(g<=0||g>=h)return o;if(o[0]==" "){g-=g%this.tabSize;for(var tt=g/this.tabSize,at=0;at<tt;at++)a.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),o.substr(g)}else if(o[0]=="	"){for(var at=0;at<g;at++)a.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),o.substr(g)}return this.$highlightIndentGuide(),o},this.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var a=this.session.doc.$lines;if(!!a){var o=this.session.selection.getCursor(),h=/^\s*/.exec(this.session.doc.getLine(o.row))[0].length,g=Math.floor(h/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:g,start:o.row};var tt=this.session.$bracketHighlight;if(tt){for(var at=this.session.$bracketHighlight.ranges,ht=0;ht<at.length;ht++)if(o.row!==at[ht].start.row){this.$highlightIndentGuideMarker.end=at[ht].start.row,o.row>at[ht].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&a[o.row]!==""&&o.column===a[o.row].length){this.$highlightIndentGuideMarker.dir=1;for(var ht=o.row+1;ht<a.length;ht++){var _e=a[ht],ut=/^\s*/.exec(_e)[0].length;if(_e!==""&&(this.$highlightIndentGuideMarker.end=ht,ut<=h))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var a=this.$lines.cells,o=0;o<a.length;o++){var h=a[o],g=h.element.childNodes;if(g.length>0){for(var tt=0;tt<g.length;tt++)if(g[tt].classList&&g[tt].classList.contains("ace_indent-guide-active")){g[tt].classList.remove("ace_indent-guide-active");break}}}},this.$setIndentGuideActive=function(a,o){var h=this.session.doc.getLine(a.row);if(h!==""){var g=a.element.childNodes;if(g){var tt=g[o-1];tt&&tt.classList&&tt.classList.contains("ace_indent-guide")&&tt.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(!!this.$lines){var a=this.$lines.cells;this.$clearActiveIndentGuide();var o=this.$highlightIndentGuideMarker.indentLevel;if(o!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var h=0;h<a.length;h++){var g=a[h];if(this.$highlightIndentGuideMarker.end&&g.row>=this.$highlightIndentGuideMarker.start+1){if(g.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(g,o)}}else for(var h=a.length-1;h>=0;h--){var g=a[h];if(this.$highlightIndentGuideMarker.end&&g.row<this.$highlightIndentGuideMarker.start){if(g.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(g,o)}}}},this.$createLineElement=function(a){var o=this.dom.createElement("div");return o.className="ace_line",o.style.height=this.config.lineHeight+"px",o},this.$renderWrappedLine=function(a,o,h){var g=0,tt=0,at=h[0],ht=0,_e=this.$createLineElement();a.appendChild(_e);for(var ut=0;ut<o.length;ut++){var ct=o[ut],rt=ct.value;if(ut==0&&this.displayIndentGuides){if(g=rt.length,rt=this.renderIndentGuide(_e,rt,at),!rt)continue;g-=rt.length}if(g+rt.length<at)ht=this.$renderTokenInChunks(_e,ht,ct,rt),g+=rt.length;else{for(;g+rt.length>=at;)ht=this.$renderTokenInChunks(_e,ht,ct,rt.substring(0,at-g)),rt=rt.substring(at-g),g=at,_e=this.$createLineElement(),a.appendChild(_e),_e.appendChild(this.dom.createTextNode(nt.stringRepeat("\xA0",h.indent),this.element)),tt++,ht=0,at=h[tt]||Number.MAX_VALUE;rt.length!=0&&(g+=rt.length,ht=this.$renderTokenInChunks(_e,ht,ct,rt))}}h[h.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(_e,ht,null,"",!0)},this.$renderSimpleLine=function(a,o){for(var h=0,g=0;g<o.length;g++){var tt=o[g],at=tt.value;if(!(g==0&&this.displayIndentGuides&&(at=this.renderIndentGuide(a,at),!at))){if(h+at.length>this.MAX_LINE_LENGTH){this.$renderOverflowMessage(a,h,tt,at);return}h=this.$renderTokenInChunks(a,h,tt,at)}}},this.$renderOverflowMessage=function(a,o,h,g,tt){h&&this.$renderTokenInChunks(a,o,h,g.slice(0,this.MAX_LINE_LENGTH-o));var at=this.dom.createElement("span");at.className="ace_inline_button ace_keyword ace_toggle_wrap",at.textContent=tt?"<hide>":"<click to see more...>",a.appendChild(at)},this.$renderLine=function(a,o,h){if(!h&&h!=!1&&(h=this.session.getFoldLine(o)),h)var g=this.$getFoldLineTokens(o,h);else var g=this.session.getTokens(o);var tt=a;if(g.length){var at=this.session.getRowSplitData(o);if(at&&at.length){this.$renderWrappedLine(a,g,at);var tt=a.lastChild}else{var tt=a;this.$useLineGroups()&&(tt=this.$createLineElement(),a.appendChild(tt)),this.$renderSimpleLine(tt,g)}}else this.$useLineGroups()&&(tt=this.$createLineElement(),a.appendChild(tt));if(this.showEOL&&tt){h&&(o=h.end.row);var ht=this.dom.createElement("span");ht.className="ace_invisible ace_invisible_eol",ht.textContent=o==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,tt.appendChild(ht)}},this.$getFoldLineTokens=function(a,o){var h=this.session,g=[];function tt(ht,_e,ut){for(var ct=0,rt=0;rt+ht[ct].value.length<_e;)if(rt+=ht[ct].value.length,ct++,ct==ht.length)return;if(rt!=_e){var st=ht[ct].value.substring(_e-rt);st.length>ut-_e&&(st=st.substring(0,ut-_e)),g.push({type:ht[ct].type,value:st}),rt=_e+st.length,ct+=1}for(;rt<ut&&ct<ht.length;){var st=ht[ct].value;st.length+rt>ut?g.push({type:ht[ct].type,value:st.substring(0,ut-rt)}):g.push(ht[ct]),rt+=st.length,ct+=1}}var at=h.getTokens(a);return o.walk(function(ht,_e,ut,ct,rt){ht!=null?g.push({type:"fold",value:ht}):(rt&&(at=h.getTokens(_e)),at.length&&tt(at,ct,ut))},o.end.row,this.session.getLine(o.end.row).length),g},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(c.prototype),d.Text=c}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(i,d,ft){var $=i("../lib/dom"),it=function(nt){this.element=$.createElement("div"),this.element.className="ace_layer ace_cursor-layer",nt.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),$.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(nt){for(var _=this.cursors,b=_.length;b--;)$.setStyle(_[b].style,"opacity",nt?"":"0")},this.$startCssAnimation=function(){for(var nt=this.cursors,_=nt.length;_--;)nt[_].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&$.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,$.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(nt){this.$padding=nt},this.setSession=function(nt){this.session=nt},this.setBlinking=function(nt){nt!=this.isBlinking&&(this.isBlinking=nt,this.restartTimer())},this.setBlinkInterval=function(nt){nt!=this.blinkInterval&&(this.blinkInterval=nt,this.restartTimer())},this.setSmoothBlinking=function(nt){nt!=this.smoothBlinking&&(this.smoothBlinking=nt,$.setCssClass(this.element,"ace_smooth-blinking",nt),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var nt=$.createElement("div");return nt.className="ace_cursor",this.element.appendChild(nt),this.cursors.push(nt),nt},this.removeCursor=function(){if(this.cursors.length>1){var nt=this.cursors.pop();return nt.parentNode.removeChild(nt),nt}},this.hideCursor=function(){this.isVisible=!1,$.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,$.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var nt=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,$.removeCssClass(this.element,"ace_smooth-blinking")),nt(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&$.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),$.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var _=function(){this.timeoutId=setTimeout(function(){nt(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){nt(!0),_()},this.blinkInterval),_()}},this.getPixelPosition=function(nt,_){if(!this.config||!this.session)return{left:0,top:0};nt||(nt=this.session.selection.getCursor());var b=this.session.documentToScreenPosition(nt),c=this.$padding+(this.session.$bidiHandler.isBidiRow(b.row,nt.row)?this.session.$bidiHandler.getPosLeft(b.column):b.column*this.config.characterWidth),a=(b.row-(_?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:c,top:a}},this.isCursorInView=function(nt,_){return nt.top>=0&&nt.top<_.maxHeight},this.update=function(nt){this.config=nt;var _=this.session.$selectionMarkers,b=0,c=0;(_===void 0||_.length===0)&&(_=[{cursor:null}]);for(var b=0,a=_.length;b<a;b++){var o=this.getPixelPosition(_[b].cursor,!0);if(!((o.top>nt.height+nt.offset||o.top<0)&&b>1)){var h=this.cursors[c++]||this.addCursor(),g=h.style;this.drawCursor?this.drawCursor(h,o,nt,_[b],this.session):this.isCursorInView(o,nt)?($.setStyle(g,"display","block"),$.translate(h,o.left,o.top),$.setStyle(g,"width",Math.round(nt.characterWidth)+"px"),$.setStyle(g,"height",nt.lineHeight+"px")):$.setStyle(g,"display","none")}}for(;this.cursors.length>c;)this.removeCursor();var tt=this.session.getOverwrite();this.$setOverwrite(tt),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(nt){nt!=this.overwrite&&(this.overwrite=nt,nt?$.addCssClass(this.element,"ace_overwrite-cursors"):$.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(it.prototype),d.Cursor=it}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/dom"),nt=i("./lib/event"),_=i("./lib/event_emitter").EventEmitter,b=32768,c=function(h){this.element=it.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=it.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,nt.addListener(this.element,"scroll",this.onScroll.bind(this)),nt.addListener(this.element,"mousedown",nt.preventDefault)};(function(){$.implement(this,_),this.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1}}).call(c.prototype);var a=function(h,g){c.call(this,h),this.scrollTop=0,this.scrollHeight=0,g.$scrollbarWidth=this.width=it.scrollbarWidth(h.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};$.inherits(a,c),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(h){this.element.style.height=h+"px"},this.setInnerHeight=this.setScrollHeight=function(h){this.scrollHeight=h,h>b?(this.coeff=b/h,h=b):this.coeff!=1&&(this.coeff=1),this.inner.style.height=h+"px"},this.setScrollTop=function(h){this.scrollTop!=h&&(this.skipEvent=!0,this.scrollTop=h,this.element.scrollTop=h*this.coeff)}}.call(a.prototype);var o=function(h,g){c.call(this,h),this.scrollLeft=0,this.height=g.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};$.inherits(o,c),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(h){this.element.style.width=h+"px"},this.setInnerWidth=function(h){this.inner.style.width=h+"px"},this.setScrollWidth=function(h){this.inner.style.width=h+"px"},this.setScrollLeft=function(h){this.scrollLeft!=h&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=h)}}.call(o.prototype),d.ScrollBar=a,d.ScrollBarV=a,d.ScrollBarH=o,d.VScrollBar=a,d.HScrollBar=o}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/dom"),nt=i("./lib/event"),_=i("./lib/event_emitter").EventEmitter;it.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var b=function(o){this.element=it.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=it.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,o.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,nt.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){$.implement(this,_),this.setVisible=function(o){this.element.style.display=o?"":"none",this.isVisible=o,this.coeff=1}}).call(b.prototype);var c=function(o,h){b.call(this,o),this.scrollTop=0,this.scrollHeight=0,this.parent=o,this.width=this.VScrollWidth,this.renderer=h,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};$.inherits(c,b),function(){this.classSuffix="-v",$.implement(this,_),this.onMouseDown=function(o,h){if(o==="mousedown"&&!(nt.getButton(h)!==0||h.detail===2)){if(h.target===this.inner){var g=this,tt=h.clientY,at=function(vt){tt=vt.clientY},ht=function(){clearInterval(rt)},_e=h.clientY,ut=this.thumbTop,ct=function(){if(tt!==void 0){var vt=g.scrollTopFromThumbTop(ut+tt-_e);vt!==g.scrollTop&&g._emit("scroll",{data:vt})}};nt.capture(this.inner,at,ht);var rt=setInterval(ct,20);return nt.preventDefault(h)}var st=h.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(st)}),nt.preventDefault(h)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(o){var h=o*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return h=h>>0,h<0?h=0:h>this.pageHeight-this.viewHeight&&(h=this.pageHeight-this.viewHeight),h},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(o){this.height=Math.max(0,o),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(o,h){this.pageHeight===o&&!h||(this.pageHeight=o,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(o){this.scrollTop=o,o<0&&(o=0),this.thumbTop=o*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(c.prototype);var a=function(o,h){b.call(this,o),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=h};$.inherits(a,b),function(){this.classSuffix="-h",$.implement(this,_),this.onMouseDown=function(o,h){if(o==="mousedown"&&!(nt.getButton(h)!==0||h.detail===2)){if(h.target===this.inner){var g=this,tt=h.clientX,at=function(vt){tt=vt.clientX},ht=function(){clearInterval(rt)},_e=h.clientX,ut=this.thumbLeft,ct=function(){if(tt!==void 0){var vt=g.scrollLeftFromThumbLeft(ut+tt-_e);vt!==g.scrollLeft&&g._emit("scroll",{data:vt})}};nt.capture(this.inner,at,ht);var rt=setInterval(ct,20);return nt.preventDefault(h)}var st=h.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(st)}),nt.preventDefault(h)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(o){var h=o*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return h=h>>0,h<0?h=0:h>this.pageWidth-this.viewWidth&&(h=this.pageWidth-this.viewWidth),h},this.setWidth=function(o){this.width=Math.max(0,o),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(o,h){this.pageWidth===o&&!h||(this.pageWidth=o,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(o){this.scrollLeft=o,o<0&&(o=0),this.thumbLeft=o*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(a.prototype),d.ScrollBar=c,d.ScrollBarV=c,d.ScrollBarH=a,d.VScrollBar=c,d.HScrollBar=a}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(i,d,ft){var $=i("./lib/event"),it=function(nt,_){this.onRender=nt,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=_||window;var b=this;this._flush=function(c){b.pending=!1;var a=b.changes;if(a&&($.blockIdle(100),b.changes=0,b.onRender(a)),b.changes){if(b.$recursionLimit--<0)return;b.schedule()}else b.$recursionLimit=2}};(function(){this.schedule=function(nt){this.changes=this.changes|nt,this.changes&&!this.pending&&($.nextFrame(this._flush),this.pending=!0)},this.clear=function(nt){var _=this.changes;return this.changes=0,_}}).call(it.prototype),d.RenderLoop=it}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(i,d,ft){var $=i("../lib/oop"),it=i("../lib/dom"),nt=i("../lib/lang"),_=i("../lib/event"),b=i("../lib/useragent"),c=i("../lib/event_emitter").EventEmitter,a=250,o=typeof ResizeObserver=="function",h=200,g=d.FontMetrics=function(tt,at){this.charCount=at||a,this.el=it.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=it.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=it.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),tt.appendChild(this.el),this.$measureNode.textContent=nt.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},o?this.$addObserver():this.checkForSizeChanges()};(function(){$.implement(this,c),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(tt,at){tt.width=tt.height="auto",tt.left=tt.top="0px",tt.visibility="hidden",tt.position="absolute",tt.whiteSpace="pre",b.isIE<8?tt["font-family"]="inherit":tt.font="inherit",tt.overflow=at?"hidden":"visible"},this.checkForSizeChanges=function(tt){if(tt===void 0&&(tt=this.$measureSizes()),tt&&(this.$characterSize.width!==tt.width||this.$characterSize.height!==tt.height)){this.$measureNode.style.fontWeight="bold";var at=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=tt,this.charSizes=Object.create(null),this.allowBoldFonts=at&&at.width===tt.width&&at.height===tt.height,this._emit("changeCharacterSize",{data:tt})}},this.$addObserver=function(){var tt=this;this.$observer=new window.ResizeObserver(function(at){tt.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var tt=this;return this.$pollSizeChangesTimer=_.onIdle(function at(){tt.checkForSizeChanges(),_.onIdle(at,500)},500)},this.setPolling=function(tt){tt?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(tt){tt=tt||this.$measureNode;var at=tt.getBoundingClientRect(),ht={height:at.height,width:at.width/this.charCount};return ht.width===0||ht.height===0?null:ht},this.$measureCharWidth=function(tt){this.$main.textContent=nt.stringRepeat(tt,this.charCount);var at=this.$main.getBoundingClientRect();return at.width/this.charCount},this.getCharacterWidth=function(tt){var at=this.charSizes[tt];return at===void 0&&(at=this.charSizes[tt]=this.$measureCharWidth(tt)/this.$characterSize.width),at},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function tt(at){return!at||!at.parentElement?1:(window.getComputedStyle(at).zoom||1)*tt(at.parentElement)},this.$initTransformMeasureNodes=function(){var tt=function(at,ht){return["div",{style:"position: absolute;top:"+at+"px;left:"+ht+"px;"}]};this.els=it.buildDom([tt(0,0),tt(h,0),tt(0,h),tt(h,h)],this.el)},this.transformCoordinates=function(tt,at){if(tt){var ht=this.$getZoom(this.el);tt=rt(1/ht,tt)}function _e(Rt,zt,Xt){var Pt=Rt[1]*zt[0]-Rt[0]*zt[1];return[(-zt[1]*Xt[0]+zt[0]*Xt[1])/Pt,(+Rt[1]*Xt[0]-Rt[0]*Xt[1])/Pt]}function ut(Rt,zt){return[Rt[0]-zt[0],Rt[1]-zt[1]]}function ct(Rt,zt){return[Rt[0]+zt[0],Rt[1]+zt[1]]}function rt(Rt,zt){return[Rt*zt[0],Rt*zt[1]]}this.els||this.$initTransformMeasureNodes();function st(Rt){var zt=Rt.getBoundingClientRect();return[zt.left,zt.top]}var vt=st(this.els[0]),ot=st(this.els[1]),et=st(this.els[2]),lt=st(this.els[3]),mt=_e(ut(lt,ot),ut(lt,et),ut(ct(ot,et),ct(lt,vt))),xt=rt(1+mt[0],ut(ot,vt)),wt=rt(1+mt[1],ut(et,vt));if(at){var St=at,Tt=mt[0]*St[0]/h+mt[1]*St[1]/h+1,kt=ct(rt(St[0],xt),rt(St[1],wt));return ct(rt(1/Tt/h,kt),vt)}var Vt=ut(tt,vt),Ct=_e(ut(xt,rt(mt[0],Vt)),ut(wt,rt(mt[1],Vt)),Vt);return rt(h,Ct)}}).call(g.prototype)}),ace.define("ace/css/editor.css",["require","exports","module"],function(i,d,ft){ft.exports=`/*
styles = []
for (var i = 1; i < 16; i++) {
    styles.push(".ace_br" + i + "{" + (
        ["top-left", "top-right", "bottom-right", "bottom-left"]
    ).map(function(x, j) {
        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" 
    }).filter(Boolean).join(" ") + "}")
}
styles.join("\\n")
*/
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left {
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
}

.ace_gutter-cell {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell.ace_error {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-position: 2px center;
}

.ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
    will-change: transform;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #FFF;
    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_folding-enabled > .ace_gutter-cell {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(i,d,ft){var $=i("../lib/dom"),it=i("../lib/oop"),nt=i("../lib/event_emitter").EventEmitter,_=function(b,c){this.canvas=$.createElement("canvas"),this.renderer=c,this.pixelRatio=1,this.maxHeight=c.layerConfig.maxHeight,this.lineHeight=c.layerConfig.lineHeight,this.canvasHeight=b.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=b.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top=0+"px",this.canvas.style.right=0+"px",this.canvas.style.zIndex=7+"px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},b.element.appendChild(this.canvas)};(function(){it.implement(this,nt),this.$updateDecorators=function(b){var c=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(b){this.maxHeight=b.maxHeight,this.lineHeight=b.lineHeight,this.canvasHeight=b.height;var a=(b.lastRow+1)*this.lineHeight;a<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var o=this.canvas.getContext("2d");function h(lt,mt){return lt.priority<mt.priority?-1:lt.priority>mt.priority?1:0}var g=this.renderer.session.$annotations;if(o.clearRect(0,0,this.canvas.width,this.canvas.height),g){var tt={info:1,warning:2,error:3};g.forEach(function(lt){lt.priority=tt[lt.type]||null}),g=g.sort(h);for(var at=this.renderer.session.$foldData,ht=0;ht<g.length;ht++){var _e=g[ht].row,ut=this.compensateFoldRows(_e,at),ct=Math.round((_e-ut)*this.lineHeight*this.heightRatio),rt=Math.round((_e-ut)*this.lineHeight*this.heightRatio),st=Math.round(((_e-ut)*this.lineHeight+this.lineHeight)*this.heightRatio),vt=st-rt;if(vt<this.minDecorationHeight){var ot=(rt+st)/2|0;ot<this.halfMinDecorationHeight?ot=this.halfMinDecorationHeight:ot+this.halfMinDecorationHeight>this.canvasHeight&&(ot=this.canvasHeight-this.halfMinDecorationHeight),rt=Math.round(ot-this.halfMinDecorationHeight),st=Math.round(ot+this.halfMinDecorationHeight)}o.fillStyle=c[g[ht].type]||null,o.fillRect(0,ct,this.canvasWidth,st-rt)}}var et=this.renderer.session.selection.getCursor();if(et){var ut=this.compensateFoldRows(et.row,at),ct=Math.round((et.row-ut)*this.lineHeight*this.heightRatio);o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(0,ct,this.canvasWidth,2)}},this.compensateFoldRows=function(b,c){var a=0;if(c&&c.length>0)for(var o=0;o<c.length;o++)b>c[o].start.row&&b<c[o].end.row?a+=b-c[o].start.row:b>=c[o].end.row&&(a+=c[o].end.row-c[o].start.row);return a}}).call(_.prototype),d.Decorator=_}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(i,d,ft){var $=i("./lib/oop"),it=i("./lib/dom"),nt=i("./config"),_=i("./layer/gutter").Gutter,b=i("./layer/marker").Marker,c=i("./layer/text").Text,a=i("./layer/cursor").Cursor,o=i("./scrollbar").HScrollBar,h=i("./scrollbar").VScrollBar,g=i("./scrollbar_custom").HScrollBar,tt=i("./scrollbar_custom").VScrollBar,at=i("./renderloop").RenderLoop,ht=i("./layer/font_metrics").FontMetrics,_e=i("./lib/event_emitter").EventEmitter,ut=i("./css/editor.css"),ct=i("./layer/decorators").Decorator,rt=i("./lib/useragent"),st=rt.isIE;it.importCssString(ut,"ace_editor.css",!1);var vt=function(ot,et){var lt=this;this.container=ot||it.createElement("div"),it.addCssClass(this.container,"ace_editor"),it.HI_DPI&&it.addCssClass(this.container,"ace_hidpi"),this.setTheme(et),nt.get("useStrictCSP")==null&&nt.set("useStrictCSP",!1),this.$gutter=it.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=it.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=it.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new _(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new b(this.content);var mt=this.$textLayer=new c(this.content);this.canvas=mt.element,this.$markerFront=new b(this.content),this.$cursorLayer=new a(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new o(this.container,this),this.scrollBarV.on("scroll",function(xt){lt.$scrollAnimation||lt.session.setScrollTop(xt.data-lt.scrollMargin.top)}),this.scrollBarH.on("scroll",function(xt){lt.$scrollAnimation||lt.session.setScrollLeft(xt.data-lt.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new ht(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(xt){lt.updateCharacterSize(),lt.onResize(!0,lt.gutterWidth,lt.$size.width,lt.$size.height),lt._signal("changeCharacterSize",xt)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!rt.isIOS,this.$loop=new at(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),nt.resetOptions(this),nt._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,$.implement(this,_e),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),it.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(ot){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=ot,ot&&this.scrollMargin.top&&ot.getScrollTop()<=0&&ot.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(ot),this.$markerBack.setSession(ot),this.$markerFront.setSession(ot),this.$gutterLayer.setSession(ot),this.$textLayer.setSession(ot),ot&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(ot,et,lt){if(et===void 0&&(et=1/0),this.$changedLines?(this.$changedLines.firstRow>ot&&(this.$changedLines.firstRow=ot),this.$changedLines.lastRow<et&&(this.$changedLines.lastRow=et)):this.$changedLines={firstRow:ot,lastRow:et},this.$changedLines.lastRow<this.layerConfig.firstRow)if(lt)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(ot){ot?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(ot,et,lt,mt){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=ot?1:0;var xt=this.container;mt||(mt=xt.clientHeight||xt.scrollHeight),lt||(lt=xt.clientWidth||xt.scrollWidth);var wt=this.$updateCachedSize(ot,et,lt,mt);if(!this.$size.scrollerHeight||!lt&&!mt)return this.resizing=0;ot&&(this.$gutterLayer.$padding=null),ot?this.$renderChanges(wt|this.$changes,!0):this.$loop.schedule(wt|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(ot,et,lt,mt){mt-=this.$extraHeight||0;var xt=0,wt=this.$size,St={width:wt.width,height:wt.height,scrollerHeight:wt.scrollerHeight,scrollerWidth:wt.scrollerWidth};if(mt&&(ot||wt.height!=mt)&&(wt.height=mt,xt|=this.CHANGE_SIZE,wt.scrollerHeight=wt.height,this.$horizScroll&&(wt.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(wt.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",xt=xt|this.CHANGE_SCROLL),lt&&(ot||wt.width!=lt)){xt|=this.CHANGE_SIZE,wt.width=lt,et==null&&(et=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=et,it.setStyle(this.scrollBarH.element.style,"left",et+"px"),it.setStyle(this.scroller.style,"left",et+this.margin.left+"px"),wt.scrollerWidth=Math.max(0,lt-et-this.scrollBarV.getWidth()-this.margin.h),it.setStyle(this.$gutter.style,"left",this.margin.left+"px");var Tt=this.scrollBarV.getWidth()+"px";it.setStyle(this.scrollBarH.element.style,"right",Tt),it.setStyle(this.scroller.style,"right",Tt),it.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(wt.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||ot)&&(xt|=this.CHANGE_FULL)}return wt.$dirty=!lt||!mt,xt&&this._signal("resize",St),xt},this.onGutterResize=function(ot){var et=this.$showGutter?ot:0;et!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,et,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var ot=this.$size.scrollerWidth-this.$padding*2,et=Math.floor(ot/this.characterWidth);return this.session.adjustWrapLimit(et,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(ot){this.setOption("animatedScroll",ot)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(ot){this.setOption("showInvisibles",ot),this.session.$bidiHandler.setShowInvisibles(ot)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(ot){this.setOption("displayIndentGuides",ot)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(ot){this.setOption("highlightIndentGuides",ot)},this.setShowPrintMargin=function(ot){this.setOption("showPrintMargin",ot)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(ot){this.setOption("printMarginColumn",ot)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(ot){return this.setOption("showGutter",ot)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(ot){this.setOption("fadeFoldWidgets",ot)},this.setHighlightGutterLine=function(ot){this.setOption("highlightGutterLine",ot)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var ot=it.createElement("div");ot.className="ace_layer ace_print-margin-layer",this.$printMarginEl=it.createElement("div"),this.$printMarginEl.className="ace_print-margin",ot.appendChild(this.$printMarginEl),this.content.insertBefore(ot,this.content.firstChild)}var et=this.$printMarginEl.style;et.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",et.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var ot=this.textarea.style,et=this.$composition;if(!this.$keepTextAreaAtCursor&&!et){it.translate(this.textarea,-100,0);return}var lt=this.$cursorLayer.$pixelPos;if(!!lt){et&&et.markerRange&&(lt=this.$cursorLayer.getPixelPosition(et.markerRange.start,!0));var mt=this.layerConfig,xt=lt.top,wt=lt.left;xt-=mt.offset;var St=et&&et.useTextareaForIME?this.lineHeight:st?0:1;if(xt<0||xt>mt.height-St){it.translate(this.textarea,0,0);return}var Tt=1,kt=this.$size.height-St;if(!et)xt+=this.lineHeight;else if(et.useTextareaForIME){var Vt=this.textarea.value;Tt=this.characterWidth*this.session.$getStringScreenWidth(Vt)[0]}else xt+=this.lineHeight+2;wt-=this.scrollLeft,wt>this.$size.scrollerWidth-Tt&&(wt=this.$size.scrollerWidth-Tt),wt+=this.gutterWidth+this.margin.left,it.setStyle(ot,"height",St+"px"),it.setStyle(ot,"width",Tt+"px"),it.translate(this.textarea,Math.min(wt,this.$size.scrollerWidth-Tt),Math.min(xt,kt))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var ot=this.layerConfig,et=ot.lastRow,lt=this.session.documentToScreenRow(et,0)*ot.lineHeight;return lt-this.session.getScrollTop()>ot.height-ot.lineHeight?et-1:et},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(ot){this.$padding=ot,this.$textLayer.setPadding(ot),this.$cursorLayer.setPadding(ot),this.$markerFront.setPadding(ot),this.$markerBack.setPadding(ot),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(ot,et,lt,mt){var xt=this.scrollMargin;xt.top=ot|0,xt.bottom=et|0,xt.right=mt|0,xt.left=lt|0,xt.v=xt.top+xt.bottom,xt.h=xt.left+xt.right,xt.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-xt.top),this.updateFull()},this.setMargin=function(ot,et,lt,mt){var xt=this.margin;xt.top=ot|0,xt.bottom=et|0,xt.right=mt|0,xt.left=lt|0,xt.v=xt.top+xt.bottom,xt.h=xt.left+xt.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(ot){this.setOption("hScrollBarAlwaysVisible",ot)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(ot){this.setOption("vScrollBarAlwaysVisible",ot)},this.$updateScrollBarV=function(){var ot=this.layerConfig.maxHeight,et=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(ot-=(et-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>ot-et&&(ot=this.scrollTop+et,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(ot+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(ot,et){if(this.$changes&&(ot|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!ot&&!et){this.$changes|=ot;return}if(this.$size.$dirty)return this.$changes|=ot,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",ot),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var lt=this.layerConfig;if(ot&this.CHANGE_FULL||ot&this.CHANGE_SIZE||ot&this.CHANGE_TEXT||ot&this.CHANGE_LINES||ot&this.CHANGE_SCROLL||ot&this.CHANGE_H_SCROLL){if(ot|=this.$computeLayerConfig()|this.$loop.clear(),lt.firstRow!=this.layerConfig.firstRow&&lt.firstRowScreen==this.layerConfig.firstRowScreen){var mt=this.scrollTop+(lt.firstRow-this.layerConfig.firstRow)*this.lineHeight;mt>0&&(this.scrollTop=mt,ot=ot|this.CHANGE_SCROLL,ot|=this.$computeLayerConfig()|this.$loop.clear())}lt=this.layerConfig,this.$updateScrollBarV(),ot&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),it.translate(this.content,-this.scrollLeft,-lt.offset);var xt=lt.width+2*this.$padding+"px",wt=lt.minHeight+"px";it.setStyle(this.content.style,"width",xt),it.setStyle(this.content.style,"height",wt)}if(ot&this.CHANGE_H_SCROLL&&(it.translate(this.content,-this.scrollLeft,-lt.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),ot&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(lt),this.$showGutter&&this.$gutterLayer.update(lt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(lt),this.$markerBack.update(lt),this.$markerFront.update(lt),this.$cursorLayer.update(lt),this.$moveTextAreaToCursor(),this._signal("afterRender",ot);return}if(ot&this.CHANGE_SCROLL){this.$changedLines=null,ot&this.CHANGE_TEXT||ot&this.CHANGE_LINES?this.$textLayer.update(lt):this.$textLayer.scrollLines(lt),this.$showGutter&&(ot&this.CHANGE_GUTTER||ot&this.CHANGE_LINES?this.$gutterLayer.update(lt):this.$gutterLayer.scrollLines(lt)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(lt),this.$markerBack.update(lt),this.$markerFront.update(lt),this.$cursorLayer.update(lt),this.$moveTextAreaToCursor(),this._signal("afterRender",ot);return}ot&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(lt),this.$showGutter&&this.$gutterLayer.update(lt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(lt)):ot&this.CHANGE_LINES?((this.$updateLines()||ot&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(lt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(lt)):ot&this.CHANGE_TEXT||ot&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(lt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(lt)):ot&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(lt),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(lt)),ot&this.CHANGE_CURSOR&&(this.$cursorLayer.update(lt),this.$moveTextAreaToCursor()),ot&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(lt),ot&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(lt),this._signal("afterRender",ot)},this.$autosize=function(){var ot=this.session.getScreenLength()*this.lineHeight,et=this.$maxLines*this.lineHeight,lt=Math.min(et,Math.max((this.$minLines||1)*this.lineHeight,ot))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(lt+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&lt>this.$maxPixelHeight&&(lt=this.$maxPixelHeight);var mt=lt<=2*this.lineHeight,xt=!mt&&ot>et;if(lt!=this.desiredHeight||this.$size.height!=this.desiredHeight||xt!=this.$vScroll){xt!=this.$vScroll&&(this.$vScroll=xt,this.scrollBarV.setVisible(xt));var wt=this.container.clientWidth;this.container.style.height=lt+"px",this.$updateCachedSize(!0,this.$gutterWidth,wt,lt),this.desiredHeight=lt,this._signal("autosize")}},this.$computeLayerConfig=function(){var ot=this.session,et=this.$size,lt=et.height<=2*this.lineHeight,mt=this.session.getScreenLength(),xt=mt*this.lineHeight,wt=this.$getLongestLine(),St=!lt&&(this.$hScrollBarAlwaysVisible||et.scrollerWidth-wt-2*this.$padding<0),Tt=this.$horizScroll!==St;Tt&&(this.$horizScroll=St,this.scrollBarH.setVisible(St));var kt=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Vt=et.scrollerHeight+this.lineHeight,Ct=!this.$maxLines&&this.$scrollPastEnd?(et.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;xt+=Ct;var Rt=this.scrollMargin;this.session.setScrollTop(Math.max(-Rt.top,Math.min(this.scrollTop,xt-et.scrollerHeight+Rt.bottom))),this.session.setScrollLeft(Math.max(-Rt.left,Math.min(this.scrollLeft,wt+2*this.$padding-et.scrollerWidth+Rt.right)));var zt=!lt&&(this.$vScrollBarAlwaysVisible||et.scrollerHeight-xt+Ct<0||this.scrollTop>Rt.top),Xt=kt!==zt;Xt&&(this.$vScroll=zt,this.scrollBarV.setVisible(zt));var Pt=this.scrollTop%this.lineHeight,Mt=Math.ceil(Vt/this.lineHeight)-1,jt=Math.max(0,Math.round((this.scrollTop-Pt)/this.lineHeight)),Zt=jt+Mt,Yt,fn,an=this.lineHeight;jt=ot.screenToDocumentRow(jt,0);var dn=ot.getFoldLine(jt);dn&&(jt=dn.start.row),Yt=ot.documentToScreenRow(jt,0),fn=ot.getRowLength(jt)*an,Zt=Math.min(ot.screenToDocumentRow(Zt,0),ot.getLength()-1),Vt=et.scrollerHeight+ot.getRowLength(Zt)*an+fn,Pt=this.scrollTop-Yt*an;var cn=0;return(this.layerConfig.width!=wt||Tt)&&(cn=this.CHANGE_H_SCROLL),(Tt||Xt)&&(cn|=this.$updateCachedSize(!0,this.gutterWidth,et.width,et.height),this._signal("scrollbarVisibilityChanged"),Xt&&(wt=this.$getLongestLine())),this.layerConfig={width:wt,padding:this.$padding,firstRow:jt,firstRowScreen:Yt,lastRow:Zt,lineHeight:an,characterWidth:this.characterWidth,minHeight:Vt,maxHeight:xt,offset:Pt,gutterOffset:an?Math.max(0,Math.ceil((Pt+et.height-et.scrollerHeight)/an)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(wt-this.$padding),cn},this.$updateLines=function(){if(!!this.$changedLines){var ot=this.$changedLines.firstRow,et=this.$changedLines.lastRow;this.$changedLines=null;var lt=this.layerConfig;if(!(ot>lt.lastRow+1)&&!(et<lt.firstRow)){if(et===1/0){this.$showGutter&&this.$gutterLayer.update(lt),this.$textLayer.update(lt);return}return this.$textLayer.updateLines(lt,ot,et),!0}}},this.$getLongestLine=function(){var ot=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(ot+=1),this.$textLayer&&ot>this.$textLayer.MAX_LINE_LENGTH&&(ot=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(ot*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(ot,et){this.$gutterLayer.addGutterDecoration(ot,et)},this.removeGutterDecoration=function(ot,et){this.$gutterLayer.removeGutterDecoration(ot,et)},this.updateBreakpoints=function(ot){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(ot){this.$gutterLayer.setAnnotations(ot),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(ot,et,lt){this.scrollCursorIntoView(ot,lt),this.scrollCursorIntoView(et,lt)},this.scrollCursorIntoView=function(ot,et,lt){if(this.$size.scrollerHeight!==0){var mt=this.$cursorLayer.getPixelPosition(ot),xt=mt.left,wt=mt.top,St=lt&&lt.top||0,Tt=lt&&lt.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var kt=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;kt+St>wt?(et&&kt+St>wt+this.lineHeight&&(wt-=et*this.$size.scrollerHeight),wt===0&&(wt=-this.scrollMargin.top),this.session.setScrollTop(wt)):kt+this.$size.scrollerHeight-Tt<wt+this.lineHeight&&(et&&kt+this.$size.scrollerHeight-Tt<wt-this.lineHeight&&(wt+=et*this.$size.scrollerHeight),this.session.setScrollTop(wt+this.lineHeight+Tt-this.$size.scrollerHeight));var Vt=this.scrollLeft,Ct=2*this.layerConfig.characterWidth;xt-Ct<Vt?(xt-=Ct,xt<this.$padding+Ct&&(xt=-this.scrollMargin.left),this.session.setScrollLeft(xt)):(xt+=Ct,Vt+this.$size.scrollerWidth<xt+this.characterWidth?this.session.setScrollLeft(Math.round(xt+this.characterWidth-this.$size.scrollerWidth)):Vt<=this.$padding&&xt-Vt<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(ot){this.session.setScrollTop(ot*this.lineHeight)},this.alignCursor=function(ot,et){typeof ot=="number"&&(ot={row:ot,column:0});var lt=this.$cursorLayer.getPixelPosition(ot),mt=this.$size.scrollerHeight-this.lineHeight,xt=lt.top-mt*(et||0);return this.session.setScrollTop(xt),xt},this.STEPS=8,this.$calcSteps=function(ot,et){var lt=0,mt=this.STEPS,xt=[],wt=function(St,Tt,kt){return kt*(Math.pow(St-1,3)+1)+Tt};for(lt=0;lt<mt;++lt)xt.push(wt(lt/this.STEPS,ot,et-ot));return xt},this.scrollToLine=function(ot,et,lt,mt){var xt=this.$cursorLayer.getPixelPosition({row:ot,column:0}),wt=xt.top;et&&(wt-=this.$size.scrollerHeight/2);var St=this.scrollTop;this.session.setScrollTop(wt),lt!==!1&&this.animateScrolling(St,mt)},this.animateScrolling=function(ot,et){var lt=this.scrollTop;if(!this.$animatedScroll)return;var mt=this;if(ot==lt)return;if(this.$scrollAnimation){var xt=this.$scrollAnimation.steps;if(xt.length&&(ot=xt[0],ot==lt))return}var wt=mt.$calcSteps(ot,lt);this.$scrollAnimation={from:ot,to:lt,steps:wt},clearInterval(this.$timer),mt.session.setScrollTop(wt.shift()),mt.session.$scrollTop=lt;function St(){mt.$timer=clearInterval(mt.$timer),mt.$scrollAnimation=null,mt.$stopAnimation=!1,et&&et()}this.$timer=setInterval(function(){if(mt.$stopAnimation){St();return}if(!mt.session)return clearInterval(mt.$timer);wt.length?(mt.session.setScrollTop(wt.shift()),mt.session.$scrollTop=lt):lt!=null?(mt.session.$scrollTop=-1,mt.session.setScrollTop(lt),lt=null):St()},10)},this.scrollToY=function(ot){this.scrollTop!==ot&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=ot)},this.scrollToX=function(ot){this.scrollLeft!==ot&&(this.scrollLeft=ot),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(ot,et){this.session.setScrollTop(et),this.session.setScrollLeft(ot)},this.scrollBy=function(ot,et){et&&this.session.setScrollTop(this.session.getScrollTop()+et),ot&&this.session.setScrollLeft(this.session.getScrollLeft()+ot)},this.isScrollableBy=function(ot,et){if(et<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||et>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||ot<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||ot>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(ot,et){var lt;if(this.$hasCssTransforms){lt={top:0,left:0};var mt=this.$fontMetrics.transformCoordinates([ot,et]);ot=mt[1]-this.gutterWidth-this.margin.left,et=mt[0]}else lt=this.scroller.getBoundingClientRect();var xt=ot+this.scrollLeft-lt.left-this.$padding,wt=xt/this.characterWidth,St=Math.floor((et+this.scrollTop-lt.top)/this.lineHeight),Tt=this.$blockCursor?Math.floor(wt):Math.round(wt);return{row:St,column:Tt,side:wt-Tt>0?1:-1,offsetX:xt}},this.screenToTextCoordinates=function(ot,et){var lt;if(this.$hasCssTransforms){lt={top:0,left:0};var mt=this.$fontMetrics.transformCoordinates([ot,et]);ot=mt[1]-this.gutterWidth-this.margin.left,et=mt[0]}else lt=this.scroller.getBoundingClientRect();var xt=ot+this.scrollLeft-lt.left-this.$padding,wt=xt/this.characterWidth,St=this.$blockCursor?Math.floor(wt):Math.round(wt),Tt=Math.floor((et+this.scrollTop-lt.top)/this.lineHeight);return this.session.screenToDocumentPosition(Tt,Math.max(St,0),xt)},this.textToScreenCoordinates=function(ot,et){var lt=this.scroller.getBoundingClientRect(),mt=this.session.documentToScreenPosition(ot,et),xt=this.$padding+(this.session.$bidiHandler.isBidiRow(mt.row,ot)?this.session.$bidiHandler.getPosLeft(mt.column):Math.round(mt.column*this.characterWidth)),wt=mt.row*this.lineHeight;return{pageX:lt.left+xt-this.scrollLeft,pageY:lt.top+wt-this.scrollTop}},this.visualizeFocus=function(){it.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){it.removeCssClass(this.container,"ace_focus")},this.showComposition=function(ot){this.$composition=ot,ot.cssText||(ot.cssText=this.textarea.style.cssText),ot.useTextareaForIME==null&&(ot.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(it.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):ot.markerId=this.session.addMarker(ot.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(ot){var et=this.session.selection.cursor;this.addToken(ot,"composition_placeholder",et.row,et.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!!this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),it.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var ot=this.session.selection.cursor;this.removeExtraToken(ot.row,ot.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(ot,et,lt,mt){var xt=this.session;xt.bgTokenizer.lines[lt]=null;var wt={type:et,value:ot},St=xt.getTokens(lt);if(mt==null)St.push(wt);else for(var Tt=0,kt=0;kt<St.length;kt++){var Vt=St[kt];if(Tt+=Vt.value.length,mt<=Tt){var Ct=Vt.value.length-(Tt-mt),Rt=Vt.value.slice(0,Ct),zt=Vt.value.slice(Ct);St.splice(kt,1,{type:Vt.type,value:Rt},wt,{type:Vt.type,value:zt});break}}this.updateLines(lt,lt)},this.removeExtraToken=function(ot,et){this.updateLines(ot,ot)},this.setTheme=function(ot,et){var lt=this;if(this.$themeId=ot,lt._dispatchEvent("themeChange",{theme:ot}),!ot||typeof ot=="string"){var mt=ot||this.$options.theme.initialValue;nt.loadModule(["theme",mt],xt)}else xt(ot);function xt(wt){if(lt.$themeId!=ot)return et&&et();if(!wt||!wt.cssClass)throw new Error("couldn't load module "+ot+" or it didn't call define");wt.$id&&(lt.$themeId=wt.$id),it.importCssString(wt.cssText,wt.cssClass,lt.container),lt.theme&&it.removeCssClass(lt.container,lt.theme.cssClass);var St="padding"in wt?wt.padding:"padding"in(lt.theme||{})?4:lt.$padding;lt.$padding&&St!=lt.$padding&&lt.setPadding(St),lt.$theme=wt.cssClass,lt.theme=wt,it.addCssClass(lt.container,wt.cssClass),it.setCssClass(lt.container,"ace_dark",wt.isDark),lt.$size&&(lt.$size.width=0,lt.$updateSizeAsync()),lt._dispatchEvent("themeLoaded",{theme:wt}),et&&et()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(ot,et){it.setCssClass(this.container,ot,et!==!1)},this.unsetStyle=function(ot){it.removeCssClass(this.container,ot)},this.setCursorStyle=function(ot){it.setStyle(this.scroller.style,"cursor",ot)},this.setMouseCursor=function(ot){it.setStyle(this.scroller.style,"cursor",ot)},this.attachToShadowRoot=function(){it.importCssString(ut,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(ot){var et=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,ot===!0?(this.scrollBarV=new tt(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(lt){et.$scrollAnimation||et.session.setScrollTop(lt.data-et.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(lt){et.$scrollAnimation||et.session.setScrollLeft(lt.data-et.scrollMargin.left)}),this.$scrollDecorator=new ct(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new o(this.container,this),this.scrollBarV.addEventListener("scroll",function(lt){et.$scrollAnimation||et.session.setScrollTop(lt.data-et.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(lt){et.$scrollAnimation||et.session.setScrollLeft(lt.data-et.scrollMargin.left)}))}}).call(vt.prototype),nt.defineOptions(vt.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(ot){this.$textLayer.setShowInvisibles(ot)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(ot){typeof ot=="number"&&(this.$printMarginColumn=ot),this.$showPrintMargin=!!ot,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(ot){this.$gutter.style.display=ot?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(ot){it.setCssClass(this.$gutter,"ace_fade-fold-widgets",ot)},initialValue:!1},showFoldWidgets:{set:function(ot){this.$gutterLayer.setShowFoldWidgets(ot),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(ot){this.$textLayer.setDisplayIndentGuides(ot)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(ot){this.$textLayer.setHighlightIndentGuides(ot)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(ot){this.$gutterLayer.setHighlightGutterLine(ot),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(ot){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(ot){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(ot){typeof ot=="number"&&(ot=ot+"px"),this.container.style.fontSize=ot,this.updateFontSize()},initialValue:12},fontFamily:{set:function(ot){this.container.style.fontFamily=ot,this.updateFontSize()}},maxLines:{set:function(ot){this.updateFull()}},minLines:{set:function(ot){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(ot){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(ot){ot=+ot||0,this.$scrollPastEnd!=ot&&(this.$scrollPastEnd=ot,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(ot){this.$gutterLayer.$fixedWidth=!!ot,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(ot){this.$updateCustomScrollbar(ot)},initialValue:!1},theme:{set:function(ot){this.setTheme(ot)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!rt.isMobile&&!rt.isIE}}),d.VirtualRenderer=vt}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(i,d,ft){var $=i("../lib/oop"),it=i("../lib/net"),nt=i("../lib/event_emitter").EventEmitter,_=i("../config");function b(h){var g="importScripts('"+it.qualifyURL(h)+"');";try{return new Blob([g],{type:"application/javascript"})}catch{var tt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,at=new tt;return at.append(g),at.getBlob("application/javascript")}}function c(h){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(_.get("loadWorkerFromBlob")){var g=b(h),tt=window.URL||window.webkitURL,at=tt.createObjectURL(g);return new Worker(at)}return new Worker(h)}var a=function(h){h.postMessage||(h=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=h,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){$.implement(this,nt),this.$createWorkerFromOldConfig=function(h,g,tt,at,ht){if(i.nameToUrl&&!i.toUrl&&(i.toUrl=i.nameToUrl),_.get("packaged")||!i.toUrl)at=at||_.moduleUrl(g,"worker");else{var _e=this.$normalizePath;at=at||_e(i.toUrl("ace/worker/worker.js",null,"_"));var ut={};h.forEach(function(ct){ut[ct]=_e(i.toUrl(ct,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(at),ht&&this.send("importScripts",ht),this.$worker.postMessage({init:!0,tlns:ut,module:g,classname:tt}),this.$worker},this.onMessage=function(h){var g=h.data;switch(g.type){case"event":this._signal(g.name,{data:g.data});break;case"call":var tt=this.callbacks[g.id];tt&&(tt(g.data),delete this.callbacks[g.id]);break;case"error":this.reportError(g.data);break;case"log":window.console&&console.log&&console.log.apply(console,g.data);break}},this.reportError=function(h){window.console&&console.error&&console.error(h)},this.$normalizePath=function(h){return it.qualifyURL(h)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(h,g){this.$worker.postMessage({command:h,args:g})},this.call=function(h,g,tt){if(tt){var at=this.callbackId++;this.callbacks[at]=tt,g.push(at)}this.send(h,g)},this.emit=function(h,g){try{g.data&&g.data.err&&(g.data.err={message:g.data.err.message,stack:g.data.err.stack,code:g.data.err.code}),this.$worker&&this.$worker.postMessage({event:h,data:{data:g.data}})}catch(tt){console.error(tt.stack)}},this.attachToDocument=function(h){this.$doc&&this.terminate(),this.$doc=h,this.call("setValue",[h.getValue()]),h.on("change",this.changeListener,!0)},this.changeListener=function(h){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),h.action=="insert"?this.deltaQueue.push(h.start,h.lines):this.deltaQueue.push(h.start,h.end)},this.$sendDeltaQueue=function(){var h=this.deltaQueue;!h||(this.deltaQueue=null,h.length>50&&h.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:h}))}}).call(a.prototype);var o=function(h,g,tt){var at=null,ht=!1,_e=Object.create(nt),ut=[],ct=new a({messageBuffer:ut,terminate:function(){},postMessage:function(st){ut.push(st),at&&(ht?setTimeout(rt):rt())}});ct.setEmitSync=function(st){ht=st};var rt=function(){var st=ut.shift();st.command?at[st.command].apply(at,st.args):st.event&&_e._signal(st.event,st.data)};return _e.postMessage=function(st){ct.onMessage({data:st})},_e.callback=function(st,vt){this.postMessage({type:"call",id:vt,data:st})},_e.emit=function(st,vt){this.postMessage({type:"event",name:st,data:vt})},_.loadModule(["worker",g],function(st){for(at=new st[tt](_e);ut.length;)rt()}),ct};d.UIWorkerClient=o,d.WorkerClient=a,d.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(i,d,ft){var $=i("./range").Range,it=i("./lib/event_emitter").EventEmitter,nt=i("./lib/oop"),_=function(b,c,a,o,h,g){var tt=this;this.length=c,this.session=b,this.doc=b.getDocument(),this.mainClass=h,this.othersClass=g,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=o,this.$onCursorChange=function(){setTimeout(function(){tt.onCursorChange()})},this.$pos=a;var at=b.getUndoManager().$undoStack||b.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=at.length,this.setup(),b.selection.on("changeCursor",this.$onCursorChange)};(function(){nt.implement(this,it),this.setup=function(){var b=this,c=this.doc,a=this.session;this.selectionBefore=a.selection.toJSON(),a.selection.inMultiSelectMode&&a.selection.toSingleRange(),this.pos=c.createAnchor(this.$pos.row,this.$pos.column);var o=this.pos;o.$insertRight=!0,o.detach(),o.markerId=a.addMarker(new $(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(h){var g=c.createAnchor(h.row,h.column);g.$insertRight=!0,g.detach(),b.others.push(g)}),a.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var b=this.session,c=this;this.othersActive=!0,this.others.forEach(function(a){a.markerId=b.addMarker(new $(a.row,a.column,a.row,a.column+c.length),c.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(!!this.othersActive){this.othersActive=!1;for(var b=0;b<this.others.length;b++)this.session.removeMarker(this.others[b].markerId)}},this.onUpdate=function(b){if(this.$updating)return this.updateAnchors(b);var c=b;if(c.start.row===c.end.row&&c.start.row===this.pos.row){this.$updating=!0;var a=b.action==="insert"?c.end.column-c.start.column:c.start.column-c.end.column,o=c.start.column>=this.pos.column&&c.start.column<=this.pos.column+this.length+1,h=c.start.column-this.pos.column;if(this.updateAnchors(b),o&&(this.length+=a),o&&!this.session.$fromUndo){if(b.action==="insert")for(var g=this.others.length-1;g>=0;g--){var tt=this.others[g],at={row:tt.row,column:tt.column+h};this.doc.insertMergedLines(at,b.lines)}else if(b.action==="remove")for(var g=this.others.length-1;g>=0;g--){var tt=this.others[g],at={row:tt.row,column:tt.column+h};this.doc.remove(new $(at.row,at.column,at.row,at.column-a))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(b){this.pos.onChange(b);for(var c=this.others.length;c--;)this.others[c].onChange(b);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var b=this,c=this.session,a=function(h,g){c.removeMarker(h.markerId),h.markerId=c.addMarker(new $(h.row,h.column,h.row,h.column+b.length),g,null,!1)};a(this.pos,this.mainClass);for(var o=this.others.length;o--;)a(this.others[o],this.othersClass)}},this.onCursorChange=function(b){if(!(this.$updating||!this.session)){var c=this.session.selection.getCursor();c.row===this.pos.row&&c.column>=this.pos.column&&c.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",b)):(this.hideOtherMarkers(),this._emit("cursorLeave",b))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var b=this.session.getUndoManager(),c=(b.$undoStack||b.$undostack).length-this.$undoStackDepth,a=0;a<c;a++)b.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(_.prototype),d.PlaceHolder=_}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,d,ft){var $=i("../lib/event"),it=i("../lib/useragent");function nt(b,c){return b.row==c.row&&b.column==c.column}function _(b){var c=b.domEvent,a=c.altKey,o=c.shiftKey,h=c.ctrlKey,g=b.getAccelKey(),tt=b.getButton();if(h&&it.isMac&&(tt=c.button),b.editor.inMultiSelectMode&&tt==2){b.editor.textInput.onContextMenu(b.domEvent);return}if(!h&&!a&&!g){tt===0&&b.editor.inMultiSelectMode&&b.editor.exitMultiSelectMode();return}if(tt===0){var at=b.editor,ht=at.selection,_e=at.inMultiSelectMode,ut=b.getDocumentPosition(),ct=ht.getCursor(),rt=b.inSelection()||ht.isEmpty()&&nt(ut,ct),st=b.x,vt=b.y,ot=function(Xt){st=Xt.clientX,vt=Xt.clientY},et=at.session,lt=at.renderer.pixelToScreenCoordinates(st,vt),mt=lt,xt;if(at.$mouseHandler.$enableJumpToDef)h&&a||g&&a?xt=o?"block":"add":a&&at.$blockSelectEnabled&&(xt="block");else if(g&&!a){if(xt="add",!_e&&o)return}else a&&at.$blockSelectEnabled&&(xt="block");if(xt&&it.isMac&&c.ctrlKey&&at.$mouseHandler.cancelContextMenu(),xt=="add"){if(!_e&&rt)return;if(!_e){var wt=ht.toOrientedRange();at.addSelectionMarker(wt)}var St=ht.rangeList.rangeAtPoint(ut);at.inVirtualSelectionMode=!0,o&&(St=null,wt=ht.ranges[0]||wt,at.removeSelectionMarker(wt)),at.once("mouseup",function(){var Xt=ht.toOrientedRange();St&&Xt.isEmpty()&&nt(St.cursor,Xt.cursor)?ht.substractPoint(Xt.cursor):(o?ht.substractPoint(wt.cursor):wt&&(at.removeSelectionMarker(wt),ht.addRange(wt)),ht.addRange(Xt)),at.inVirtualSelectionMode=!1})}else if(xt=="block"){b.stop(),at.inVirtualSelectionMode=!0;var Tt,kt=[],Vt=function(){var Xt=at.renderer.pixelToScreenCoordinates(st,vt),Pt=et.screenToDocumentPosition(Xt.row,Xt.column,Xt.offsetX);nt(mt,Xt)&&nt(Pt,ht.lead)||(mt=Xt,at.selection.moveToPosition(Pt),at.renderer.scrollCursorIntoView(),at.removeSelectionMarkers(kt),kt=ht.rectangularRangeBlock(mt,lt),at.$mouseHandler.$clickSelection&&kt.length==1&&kt[0].isEmpty()&&(kt[0]=at.$mouseHandler.$clickSelection.clone()),kt.forEach(at.addSelectionMarker,at),at.updateSelectionMarkers())};_e&&!g?ht.toSingleRange():!_e&&g&&(Tt=ht.toOrientedRange(),at.addSelectionMarker(Tt)),o?lt=et.documentToScreenPosition(ht.lead):ht.moveToPosition(ut),mt={row:-1,column:-1};var Ct=function(Xt){Vt(),clearInterval(zt),at.removeSelectionMarkers(kt),kt.length||(kt=[ht.toOrientedRange()]),Tt&&(at.removeSelectionMarker(Tt),ht.toSingleRange(Tt));for(var Pt=0;Pt<kt.length;Pt++)ht.addRange(kt[Pt]);at.inVirtualSelectionMode=!1,at.$mouseHandler.$clickSelection=null},Rt=Vt;$.capture(at.container,ot,Ct);var zt=setInterval(function(){Rt()},20);return b.preventDefault()}}}d.onMouseDown=_}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(i,d,ft){d.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(it){it.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(it){it.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(it){it.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(it){it.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(it){it.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(it){it.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(it){it.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(it){it.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(it){it.multiSelect.rangeCount>1?it.multiSelect.joinSelections():it.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(it){it.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(it){it.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(it){it.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],d.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(it){it.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(it){return it&&it.inMultiSelectMode}}];var $=i("../keyboard/hash_handler").HashHandler;d.keyboardHandler=new $(d.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(i,d,ft){var $=i("./range_list").RangeList,it=i("./range").Range,nt=i("./selection").Selection,_=i("./mouse/multi_select_handler").onMouseDown,b=i("./lib/event"),c=i("./lib/lang"),a=i("./commands/multi_select_commands");d.commands=a.defaultCommands.concat(a.multiSelectCommands);var o=i("./search").Search,h=new o;function g(ct,rt,st){return h.$options.wrap=!0,h.$options.needle=rt,h.$options.backwards=st==-1,h.find(ct)}var tt=i("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(tt.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(ct,rt){if(!!ct){if(!this.inMultiSelectMode&&this.rangeCount===0){var st=this.toOrientedRange();if(this.rangeList.add(st),this.rangeList.add(ct),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),rt||this.fromOrientedRange(ct);this.rangeList.removeAll(),this.rangeList.add(st),this.$onAddRange(st)}ct.cursor||(ct.cursor=ct.end);var vt=this.rangeList.add(ct);return this.$onAddRange(ct),vt.length&&this.$onRemoveRange(vt),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),rt||this.fromOrientedRange(ct)}},this.toSingleRange=function(ct){ct=ct||this.ranges[0];var rt=this.rangeList.removeAll();rt.length&&this.$onRemoveRange(rt),ct&&this.fromOrientedRange(ct)},this.substractPoint=function(ct){var rt=this.rangeList.substractPoint(ct);if(rt)return this.$onRemoveRange(rt),rt[0]},this.mergeOverlappingRanges=function(){var ct=this.rangeList.merge();ct.length&&this.$onRemoveRange(ct)},this.$onAddRange=function(ct){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(ct),this._signal("addRange",{range:ct})},this.$onRemoveRange=function(ct){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var rt=this.rangeList.ranges.pop();ct.push(rt),this.rangeCount=0}for(var st=ct.length;st--;){var vt=this.ranges.indexOf(ct[st]);this.ranges.splice(vt,1)}this._signal("removeRange",{ranges:ct}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),rt=rt||this.ranges[0],rt&&!rt.isEqual(this.getRange())&&this.fromOrientedRange(rt)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new $,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var ct=this.ranges.length?this.ranges:[this.getRange()],rt=[],st=0;st<ct.length;st++){var vt=ct[st],ot=vt.start.row,et=vt.end.row;if(ot===et)rt.push(vt.clone());else{for(rt.push(new it(ot,vt.start.column,ot,this.session.getLine(ot).length));++ot<et;)rt.push(this.getLineRange(ot,!0));rt.push(new it(et,0,et,vt.end.column))}st==0&&!this.isBackwards()&&(rt=rt.reverse())}this.toSingleRange();for(var st=rt.length;st--;)this.addRange(rt[st])},this.joinSelections=function(){var ct=this.rangeList.ranges,rt=ct[ct.length-1],st=it.fromPoints(ct[0].start,rt.end);this.toSingleRange(),this.setSelectionRange(st,rt.cursor==rt.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var ct=this.rangeList.ranges,rt=ct[ct.length-1],st=it.fromPoints(ct[0].start,rt.end);this.toSingleRange(),this.setSelectionRange(st,rt.cursor==rt.start)}else{var vt=this.session.documentToScreenPosition(this.cursor),ot=this.session.documentToScreenPosition(this.anchor),et=this.rectangularRangeBlock(vt,ot);et.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(ct,rt,st){var vt=[],ot=ct.column<rt.column;if(ot)var et=ct.column,lt=rt.column,mt=ct.offsetX,xt=rt.offsetX;else var et=rt.column,lt=ct.column,mt=rt.offsetX,xt=ct.offsetX;var wt=ct.row<rt.row;if(wt)var St=ct.row,Tt=rt.row;else var St=rt.row,Tt=ct.row;et<0&&(et=0),St<0&&(St=0),St==Tt&&(st=!0);for(var kt,Vt=St;Vt<=Tt;Vt++){var Ct=it.fromPoints(this.session.screenToDocumentPosition(Vt,et,mt),this.session.screenToDocumentPosition(Vt,lt,xt));if(Ct.isEmpty()){if(kt&&ht(Ct.end,kt))break;kt=Ct.end}Ct.cursor=ot?Ct.start:Ct.end,vt.push(Ct)}if(wt&&vt.reverse(),!st){for(var Rt=vt.length-1;vt[Rt].isEmpty()&&Rt>0;)Rt--;if(Rt>0)for(var zt=0;vt[zt].isEmpty();)zt++;for(var Xt=Rt;Xt>=zt;Xt--)vt[Xt].isEmpty()&&vt.splice(Xt,1)}return vt}}.call(nt.prototype);var at=i("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(ct){ct.cursor||(ct.cursor=ct.end);var rt=this.getSelectionStyle();return ct.marker=this.session.addMarker(ct,"ace_selection",rt),this.session.$selectionMarkers.push(ct),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,ct},this.removeSelectionMarker=function(ct){if(!!ct.marker){this.session.removeMarker(ct.marker);var rt=this.session.$selectionMarkers.indexOf(ct);rt!=-1&&this.session.$selectionMarkers.splice(rt,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(ct){for(var rt=this.session.$selectionMarkers,st=ct.length;st--;){var vt=ct[st];if(!!vt.marker){this.session.removeMarker(vt.marker);var ot=rt.indexOf(vt);ot!=-1&&rt.splice(ot,1)}}this.session.selectionMarkerCount=rt.length},this.$onAddRange=function(ct){this.addSelectionMarker(ct.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(ct){this.removeSelectionMarkers(ct.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(ct){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(ct){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(ct){var rt=ct.command,st=ct.editor;if(!!st.multiSelect){if(rt.multiSelectAction)rt.multiSelectAction=="forEach"?vt=st.forEachSelection(rt,ct.args):rt.multiSelectAction=="forEachLine"?vt=st.forEachSelection(rt,ct.args,!0):rt.multiSelectAction=="single"?(st.exitMultiSelectMode(),vt=rt.exec(st,ct.args||{})):vt=rt.multiSelectAction(st,ct.args||{});else{var vt=rt.exec(st,ct.args||{});st.multiSelect.addRange(st.multiSelect.toOrientedRange()),st.multiSelect.mergeOverlappingRanges()}return vt}},this.forEachSelection=function(ct,rt,st){if(!this.inVirtualSelectionMode){var vt=st&&st.keepOrder,ot=st==!0||st&&st.$byLines,et=this.session,lt=this.selection,mt=lt.rangeList,xt=(vt?lt:mt).ranges,wt;if(!xt.length)return ct.exec?ct.exec(this,rt||{}):ct(this,rt||{});var St=lt._eventRegistry;lt._eventRegistry={};var Tt=new nt(et);this.inVirtualSelectionMode=!0;for(var kt=xt.length;kt--;){if(ot)for(;kt>0&&xt[kt].start.row==xt[kt-1].end.row;)kt--;Tt.fromOrientedRange(xt[kt]),Tt.index=kt,this.selection=et.selection=Tt;var Vt=ct.exec?ct.exec(this,rt||{}):ct(this,rt||{});!wt&&Vt!==void 0&&(wt=Vt),Tt.toOrientedRange(xt[kt])}Tt.detach(),this.selection=et.selection=lt,this.inVirtualSelectionMode=!1,lt._eventRegistry=St,lt.mergeOverlappingRanges(),lt.ranges[0]&&lt.fromOrientedRange(lt.ranges[0]);var Ct=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Ct&&Ct.from==Ct.to&&this.renderer.animateScrolling(Ct.from),wt}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var ct="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var rt=this.multiSelect.rangeList.ranges,st=[],vt=0;vt<rt.length;vt++)st.push(this.session.getTextRange(rt[vt]));var ot=this.session.getDocument().getNewLineCharacter();ct=st.join(ot),ct.length==(st.length-1)*ot.length&&(ct="")}else this.selection.isEmpty()||(ct=this.session.getTextRange(this.getSelectionRange()));return ct},this.$checkMultiselectChange=function(ct,rt){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var st=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&rt==this.multiSelect.anchor)return;var vt=rt==this.multiSelect.anchor?st.cursor==st.start?st.end:st.start:st.cursor;vt.row!=rt.row||this.session.$clipPositionToDocument(vt.row,vt.column).column!=rt.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(ct,rt,st){if(rt=rt||{},rt.needle=ct||rt.needle,rt.needle==null){var vt=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();rt.needle=this.session.getTextRange(vt)}this.$search.set(rt);var ot=this.$search.findAll(this.session);if(!ot.length)return 0;var et=this.multiSelect;st||et.toSingleRange(ot[0]);for(var lt=ot.length;lt--;)et.addRange(ot[lt],!0);return vt&&et.rangeList.rangeAtPoint(vt.start)&&et.addRange(vt,!0),ot.length},this.selectMoreLines=function(ct,rt){var st=this.selection.toOrientedRange(),vt=st.cursor==st.end,ot=this.session.documentToScreenPosition(st.cursor);this.selection.$desiredColumn&&(ot.column=this.selection.$desiredColumn);var et=this.session.screenToDocumentPosition(ot.row+ct,ot.column);if(st.isEmpty())var mt=et;else var lt=this.session.documentToScreenPosition(vt?st.end:st.start),mt=this.session.screenToDocumentPosition(lt.row+ct,lt.column);if(vt){var xt=it.fromPoints(et,mt);xt.cursor=xt.start}else{var xt=it.fromPoints(mt,et);xt.cursor=xt.end}if(xt.desiredColumn=ot.column,!this.selection.inMultiSelectMode)this.selection.addRange(st);else if(rt)var wt=st.cursor;this.selection.addRange(xt),wt&&this.selection.substractPoint(wt)},this.transposeSelections=function(ct){for(var rt=this.session,st=rt.multiSelect,vt=st.ranges,ot=vt.length;ot--;){var et=vt[ot];if(et.isEmpty()){var lt=rt.getWordRange(et.start.row,et.start.column);et.start.row=lt.start.row,et.start.column=lt.start.column,et.end.row=lt.end.row,et.end.column=lt.end.column}}st.mergeOverlappingRanges();for(var mt=[],ot=vt.length;ot--;){var et=vt[ot];mt.unshift(rt.getTextRange(et))}ct<0?mt.unshift(mt.pop()):mt.push(mt.shift());for(var ot=vt.length;ot--;){var et=vt[ot],lt=et.clone();rt.replace(et,mt[ot]),et.start.row=lt.start.row,et.start.column=lt.start.column}st.fromOrientedRange(st.ranges[0])},this.selectMore=function(ct,rt,st){var vt=this.session,ot=vt.multiSelect,et=ot.toOrientedRange();if(!(et.isEmpty()&&(et=vt.getWordRange(et.start.row,et.start.column),et.cursor=ct==-1?et.start:et.end,this.multiSelect.addRange(et),st))){var lt=vt.getTextRange(et),mt=g(vt,lt,ct);mt&&(mt.cursor=ct==-1?mt.start:mt.end,this.session.unfold(mt),this.multiSelect.addRange(mt),this.renderer.scrollCursorIntoView(null,.5)),rt&&this.multiSelect.substractPoint(et.cursor)}},this.alignCursors=function(){var ct=this.session,rt=ct.multiSelect,st=rt.ranges,vt=-1,ot=st.filter(function(Rt){if(Rt.cursor.row==vt)return!0;vt=Rt.cursor.row});if(!st.length||ot.length==st.length-1){var et=this.selection.getRange(),lt=et.start.row,mt=et.end.row,xt=lt==mt;if(xt){var wt=this.session.getLength(),St;do St=this.session.getLine(mt);while(/[=:]/.test(St)&&++mt<wt);do St=this.session.getLine(lt);while(/[=:]/.test(St)&&--lt>0);lt<0&&(lt=0),mt>=wt&&(mt=wt-1)}var Tt=this.session.removeFullLines(lt,mt);Tt=this.$reAlignText(Tt,xt),this.session.insert({row:lt,column:0},Tt.join(`
`)+`
`),xt||(et.start.column=0,et.end.column=Tt[Tt.length-1].length),this.selection.setRange(et)}else{ot.forEach(function(Rt){rt.substractPoint(Rt.cursor)});var kt=0,Vt=1/0,Ct=st.map(function(Rt){var zt=Rt.cursor,Xt=ct.getLine(zt.row),Pt=Xt.substr(zt.column).search(/\S/g);return Pt==-1&&(Pt=0),zt.column>kt&&(kt=zt.column),Pt<Vt&&(Vt=Pt),Pt});st.forEach(function(Rt,zt){var Xt=Rt.cursor,Pt=kt-Xt.column,Mt=Ct[zt]-Vt;Pt>Mt?ct.insert(Xt,c.stringRepeat(" ",Pt-Mt)):ct.remove(new it(Xt.row,Xt.column,Xt.row,Xt.column-Pt+Mt)),Rt.start.column=Rt.end.column=kt,Rt.start.row=Rt.end.row=Xt.row,Rt.cursor=Rt.end}),rt.fromOrientedRange(st[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(ct,rt){var st=!0,vt=!0,ot,et,lt;return ct.map(function(Tt){var kt=Tt.match(/(\s*)(.*?)(\s*)([=:].*)/);return kt?ot==null?(ot=kt[1].length,et=kt[2].length,lt=kt[3].length,kt):(ot+et+lt!=kt[1].length+kt[2].length+kt[3].length&&(vt=!1),ot!=kt[1].length&&(st=!1),ot>kt[1].length&&(ot=kt[1].length),et<kt[2].length&&(et=kt[2].length),lt>kt[3].length&&(lt=kt[3].length),kt):[Tt]}).map(rt?xt:st?vt?wt:xt:St);function mt(Tt){return c.stringRepeat(" ",Tt)}function xt(Tt){return Tt[2]?mt(ot)+Tt[2]+mt(et-Tt[2].length+lt)+Tt[4].replace(/^([=:])\s+/,"$1 "):Tt[0]}function wt(Tt){return Tt[2]?mt(ot+et-Tt[2].length)+Tt[2]+mt(lt)+Tt[4].replace(/^([=:])\s+/,"$1 "):Tt[0]}function St(Tt){return Tt[2]?mt(ot)+Tt[2]+mt(lt)+Tt[4].replace(/^([=:])\s+/,"$1 "):Tt[0]}}}).call(at.prototype);function ht(ct,rt){return ct.row==rt.row&&ct.column==rt.column}d.onSessionChange=function(ct){var rt=ct.session;rt&&!rt.multiSelect&&(rt.$selectionMarkers=[],rt.selection.$initRangeList(),rt.multiSelect=rt.selection),this.multiSelect=rt&&rt.multiSelect;var st=ct.oldSession;st&&(st.multiSelect.off("addRange",this.$onAddRange),st.multiSelect.off("removeRange",this.$onRemoveRange),st.multiSelect.off("multiSelect",this.$onMultiSelect),st.multiSelect.off("singleSelect",this.$onSingleSelect),st.multiSelect.lead.off("change",this.$checkMultiselectChange),st.multiSelect.anchor.off("change",this.$checkMultiselectChange)),rt&&(rt.multiSelect.on("addRange",this.$onAddRange),rt.multiSelect.on("removeRange",this.$onRemoveRange),rt.multiSelect.on("multiSelect",this.$onMultiSelect),rt.multiSelect.on("singleSelect",this.$onSingleSelect),rt.multiSelect.lead.on("change",this.$checkMultiselectChange),rt.multiSelect.anchor.on("change",this.$checkMultiselectChange)),rt&&this.inMultiSelectMode!=rt.selection.inMultiSelectMode&&(rt.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function _e(ct){ct.$multiselectOnSessionChange||(ct.$onAddRange=ct.$onAddRange.bind(ct),ct.$onRemoveRange=ct.$onRemoveRange.bind(ct),ct.$onMultiSelect=ct.$onMultiSelect.bind(ct),ct.$onSingleSelect=ct.$onSingleSelect.bind(ct),ct.$multiselectOnSessionChange=d.onSessionChange.bind(ct),ct.$checkMultiselectChange=ct.$checkMultiselectChange.bind(ct),ct.$multiselectOnSessionChange(ct),ct.on("changeSession",ct.$multiselectOnSessionChange),ct.on("mousedown",_),ct.commands.addCommands(a.defaultCommands),ut(ct))}function ut(ct){if(!ct.textInput)return;var rt=ct.textInput.getElement(),st=!1;b.addListener(rt,"keydown",function(ot){var et=ot.keyCode==18&&!(ot.ctrlKey||ot.shiftKey||ot.metaKey);ct.$blockSelectEnabled&&et?st||(ct.renderer.setMouseCursor("crosshair"),st=!0):st&&vt()},ct),b.addListener(rt,"keyup",vt,ct),b.addListener(rt,"blur",vt,ct);function vt(ot){st&&(ct.renderer.setMouseCursor(""),st=!1)}}d.MultiSelect=_e,i("./config").defineOptions(at.prototype,"editor",{enableMultiselect:{set:function(ct){_e(this),ct?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",_)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",_))},value:!0},enableBlockSelect:{set:function(ct){this.$blockSelectEnabled=ct},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(i,d,ft){var $=i("../../range").Range,it=d.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(nt,_,b){var c=nt.getLine(b);return this.foldingStartMarker.test(c)?"start":_=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(nt,_,b){return null},this.indentationBlock=function(nt,_,b){var c=/\S/,a=nt.getLine(_),o=a.search(c);if(o!=-1){for(var h=b||a.length,g=nt.getLength(),tt=_,at=_;++_<g;){var ht=nt.getLine(_).search(c);if(ht!=-1){if(ht<=o){var _e=nt.getTokenAt(_,0);if(!_e||_e.type!=="string")break}at=_}}if(at>tt){var ut=nt.getLine(at).length;return new $(tt,h,at,ut)}}},this.openingBracketBlock=function(nt,_,b,c,a){var o={row:b,column:c+1},h=nt.$findClosingBracket(_,o,a);if(!!h){var g=nt.foldWidgets[h.row];return g==null&&(g=nt.getFoldWidget(h.row)),g=="start"&&h.row>o.row&&(h.row--,h.column=nt.getLine(h.row).length),$.fromPoints(o,h)}},this.closingBracketBlock=function(nt,_,b,c,a){var o={row:b,column:c},h=nt.$findOpeningBracket(_,o);if(!!h)return h.column++,o.column--,$.fromPoints(h,o)}}).call(it.prototype)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(i,d,ft){var $=i("./lib/dom");function it(nt){this.session=nt,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(nt){var _;return this.lineWidgets?_=this.lineWidgets[nt]&&this.lineWidgets[nt].rowCount||0:_=0,!this.$useWrapMode||!this.$wrapData[nt]?1+_:this.$wrapData[nt].length+1+_},this.$getWidgetScreenLength=function(){var nt=0;return this.lineWidgets.forEach(function(_){_&&_.rowCount&&!_.hidden&&(nt+=_.rowCount)}),nt},this.$onChangeEditor=function(nt){this.attach(nt.editor)},this.attach=function(nt){nt&&nt.widgetManager&&nt.widgetManager!=this&&nt.widgetManager.detach(),this.editor!=nt&&(this.detach(),this.editor=nt,nt&&(nt.widgetManager=this,nt.renderer.on("beforeRender",this.measureWidgets),nt.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(nt){var _=this.editor;if(!!_){this.editor=null,_.widgetManager=null,_.renderer.off("beforeRender",this.measureWidgets),_.renderer.off("afterRender",this.renderWidgets);var b=this.session.lineWidgets;b&&b.forEach(function(c){c&&c.el&&c.el.parentNode&&(c._inDocument=!1,c.el.parentNode.removeChild(c.el))})}},this.updateOnFold=function(nt,_){var b=_.lineWidgets;if(!(!b||!nt.action)){for(var c=nt.data,a=c.start.row,o=c.end.row,h=nt.action=="add",g=a+1;g<o;g++)b[g]&&(b[g].hidden=h);b[o]&&(h?b[a]?b[o].hidden=h:b[a]=b[o]:(b[a]==b[o]&&(b[a]=void 0),b[o].hidden=h))}},this.updateOnChange=function(nt){var _=this.session.lineWidgets;if(!!_){var b=nt.start.row,c=nt.end.row-b;if(c!==0)if(nt.action=="remove"){var a=_.splice(b+1,c);!_[b]&&a[a.length-1]&&(_[b]=a.pop()),a.forEach(function(h){h&&this.removeLineWidget(h)},this),this.$updateRows()}else{var o=new Array(c);_[b]&&_[b].column!=null&&nt.start.column>_[b].column&&b++,o.unshift(b,0),_.splice.apply(_,o),this.$updateRows()}}},this.$updateRows=function(){var nt=this.session.lineWidgets;if(!!nt){var _=!0;nt.forEach(function(b,c){if(b)for(_=!1,b.row=c;b.$oldWidget;)b.$oldWidget.row=c,b=b.$oldWidget}),_&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(nt){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var _=this.session.lineWidgets[nt.row];return _&&(nt.$oldWidget=_,_.el&&_.el.parentNode&&(_.el.parentNode.removeChild(_.el),_._inDocument=!1)),this.session.lineWidgets[nt.row]=nt,nt},this.addLineWidget=function(nt){if(this.$registerLineWidget(nt),nt.session=this.session,!this.editor)return nt;var _=this.editor.renderer;nt.html&&!nt.el&&(nt.el=$.createElement("div"),nt.el.innerHTML=nt.html),nt.el&&($.addCssClass(nt.el,"ace_lineWidgetContainer"),nt.el.style.position="absolute",nt.el.style.zIndex=5,_.container.appendChild(nt.el),nt._inDocument=!0,nt.coverGutter||(nt.el.style.zIndex=3),nt.pixelHeight==null&&(nt.pixelHeight=nt.el.offsetHeight)),nt.rowCount==null&&(nt.rowCount=nt.pixelHeight/_.layerConfig.lineHeight);var b=this.session.getFoldAt(nt.row,0);if(nt.$fold=b,b){var c=this.session.lineWidgets;nt.row==b.end.row&&!c[b.start.row]?c[b.start.row]=nt:nt.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:nt.row}}}),this.$updateRows(),this.renderWidgets(null,_),this.onWidgetChanged(nt),nt},this.removeLineWidget=function(nt){if(nt._inDocument=!1,nt.session=null,nt.el&&nt.el.parentNode&&nt.el.parentNode.removeChild(nt.el),nt.editor&&nt.editor.destroy)try{nt.editor.destroy()}catch{}if(this.session.lineWidgets){var _=this.session.lineWidgets[nt.row];if(_==nt)this.session.lineWidgets[nt.row]=nt.$oldWidget,nt.$oldWidget&&this.onWidgetChanged(nt.$oldWidget);else for(;_;){if(_.$oldWidget==nt){_.$oldWidget=nt.$oldWidget;break}_=_.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:nt.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(nt){for(var _=this.session.lineWidgets,b=_&&_[nt],c=[];b;)c.push(b),b=b.$oldWidget;return c},this.onWidgetChanged=function(nt){this.session._changedWidgets.push(nt),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(nt,_){var b=this.session._changedWidgets,c=_.layerConfig;if(!(!b||!b.length)){for(var a=1/0,o=0;o<b.length;o++){var h=b[o];if(!(!h||!h.el)&&h.session==this.session){if(!h._inDocument){if(this.session.lineWidgets[h.row]!=h)continue;h._inDocument=!0,_.container.appendChild(h.el)}h.h=h.el.offsetHeight,h.fixedWidth||(h.w=h.el.offsetWidth,h.screenWidth=Math.ceil(h.w/c.characterWidth));var g=h.h/c.lineHeight;h.coverLine&&(g-=this.session.getRowLineCount(h.row),g<0&&(g=0)),h.rowCount!=g&&(h.rowCount=g,h.row<a&&(a=h.row))}}a!=1/0&&(this.session._emit("changeFold",{data:{start:{row:a}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(nt,_){var b=_.layerConfig,c=this.session.lineWidgets;if(!!c){for(var a=Math.min(this.firstRow,b.firstRow),o=Math.max(this.lastRow,b.lastRow,c.length);a>0&&!c[a];)a--;this.firstRow=b.firstRow,this.lastRow=b.lastRow,_.$cursorLayer.config=b;for(var h=a;h<=o;h++){var g=c[h];if(!(!g||!g.el)){if(g.hidden){g.el.style.top=-100-(g.pixelHeight||0)+"px";continue}g._inDocument||(g._inDocument=!0,_.container.appendChild(g.el));var tt=_.$cursorLayer.getPixelPosition({row:h,column:0},!0).top;g.coverLine||(tt+=b.lineHeight*this.session.getRowLineCount(g.row)),g.el.style.top=tt-b.offset+"px";var at=g.coverGutter?0:_.gutterWidth;g.fixedWidth||(at-=_.scrollLeft),g.el.style.left=at+"px",g.fullWidth&&g.screenWidth&&(g.el.style.minWidth=b.width+2*b.padding+"px"),g.fixedWidth?g.el.style.right=_.scrollBar.getWidth()+"px":g.el.style.right=""}}}}}).call(it.prototype),d.LineWidgets=it}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(i,d,ft){var $=i("../line_widgets").LineWidgets,it=i("../lib/dom"),nt=i("../range").Range;function _(c,a,o){for(var h=0,g=c.length-1;h<=g;){var tt=h+g>>1,at=o(a,c[tt]);if(at>0)h=tt+1;else if(at<0)g=tt-1;else return tt}return-(h+1)}function b(c,a,o){var h=c.getAnnotations().sort(nt.comparePoints);if(!!h.length){var g=_(h,{row:a,column:-1},nt.comparePoints);g<0&&(g=-g-1),g>=h.length?g=o>0?0:h.length-1:g===0&&o<0&&(g=h.length-1);var tt=h[g];if(!(!tt||!o)){if(tt.row===a){do tt=h[g+=o];while(tt&&tt.row===a);if(!tt)return h.slice()}var at=[];a=tt.row;do at[o<0?"unshift":"push"](tt),tt=h[g+=o];while(tt&&tt.row==a);return at.length&&at}}}d.showErrorMarker=function(c,a){var o=c.session;o.widgetManager||(o.widgetManager=new $(o),o.widgetManager.attach(c));var h=c.getCursorPosition(),g=h.row,tt=o.widgetManager.getWidgetsAtRow(g).filter(function(ot){return ot.type=="errorMarker"})[0];tt?tt.destroy():g-=a;var at=b(o,g,a),ht;if(at){var _e=at[0];h.column=(_e.pos&&typeof _e.column!="number"?_e.pos.sc:_e.column)||0,h.row=_e.row,ht=c.renderer.$gutterLayer.$annotations[h.row]}else{if(tt)return;ht={text:["Looks good!"],className:"ace_ok"}}c.session.unfold(h.row),c.selection.moveToPosition(h);var ut={row:h.row,fixedWidth:!0,coverGutter:!0,el:it.createElement("div"),type:"errorMarker"},ct=ut.el.appendChild(it.createElement("div")),rt=ut.el.appendChild(it.createElement("div"));rt.className="error_widget_arrow "+ht.className;var st=c.renderer.$cursorLayer.getPixelPosition(h).left;rt.style.left=st+c.renderer.gutterWidth-5+"px",ut.el.className="error_widget_wrapper",ct.className="error_widget "+ht.className,ct.innerHTML=ht.text.join("<br>"),ct.appendChild(it.createElement("div"));var vt=function(ot,et,lt){if(et===0&&(lt==="esc"||lt==="return"))return ut.destroy(),{command:"null"}};ut.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(vt),o.widgetManager.removeLineWidget(ut),c.off("changeSelection",ut.destroy),c.off("changeSession",ut.destroy),c.off("mouseup",ut.destroy),c.off("change",ut.destroy))},c.keyBinding.addKeyboardHandler(vt),c.on("changeSelection",ut.destroy),c.on("changeSession",ut.destroy),c.on("mouseup",ut.destroy),c.on("change",ut.destroy),c.session.widgetManager.addLineWidget(ut),ut.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:ut.el.offsetHeight})},it.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(i,d,ft){i("./loader_build")(d);var $=i("./lib/dom"),it=i("./lib/event"),nt=i("./range").Range,_=i("./editor").Editor,b=i("./edit_session").EditSession,c=i("./undomanager").UndoManager,a=i("./virtual_renderer").VirtualRenderer;i("./worker/worker_client"),i("./keyboard/hash_handler"),i("./placeholder"),i("./multi_select"),i("./mode/folding/fold_mode"),i("./theme/textmate"),i("./ext/error_marker"),d.config=i("./config"),d.edit=function(o,h){if(typeof o=="string"){var g=o;if(o=document.getElementById(g),!o)throw new Error("ace.edit can't find div #"+g)}if(o&&o.env&&o.env.editor instanceof _)return o.env.editor;var tt="";if(o&&/input|textarea/i.test(o.tagName)){var at=o;tt=at.value,o=$.createElement("pre"),at.parentNode.replaceChild(o,at)}else o&&(tt=o.textContent,o.innerHTML="");var ht=d.createEditSession(tt),_e=new _(new a(o),ht,h),ut={document:ht,editor:_e,onResize:_e.resize.bind(_e,null)};return at&&(ut.textarea=at),it.addListener(window,"resize",ut.onResize),_e.on("destroy",function(){it.removeListener(window,"resize",ut.onResize),ut.editor.container.env=null}),_e.container.env=_e.env=ut,_e},d.createEditSession=function(o,h){var g=new b(o,h);return g.setUndoManager(new c),g},d.Range=nt,d.Editor=_,d.EditSession=b,d.UndoManager=c,d.VirtualRenderer=a,d.version=d.config.version}),function(){ace.require(["ace/ace"],function(i){i&&(i.config.init(!0),i.define=ace.define),window.ace||(window.ace=i);for(var d in i)i.hasOwnProperty(d)&&(window.ace[d]=i[d]);window.ace.default=window.ace,e&&(e.exports=window.ace)})}()})(ace$3);var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(d,ft,$,it,nt,_){if(_!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function s(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var lodash_isequal={exports:{}};(function(e,s){var i=200,d="__lodash_hash_undefined__",ft=1,$=2,it=9007199254740991,nt="[object Arguments]",_="[object Array]",b="[object AsyncFunction]",c="[object Boolean]",a="[object Date]",o="[object Error]",h="[object Function]",g="[object GeneratorFunction]",tt="[object Map]",at="[object Number]",ht="[object Null]",_e="[object Object]",ut="[object Promise]",ct="[object Proxy]",rt="[object RegExp]",st="[object Set]",vt="[object String]",ot="[object Symbol]",et="[object Undefined]",lt="[object WeakMap]",mt="[object ArrayBuffer]",xt="[object DataView]",wt="[object Float32Array]",St="[object Float64Array]",Tt="[object Int8Array]",kt="[object Int16Array]",Vt="[object Int32Array]",Ct="[object Uint8Array]",Rt="[object Uint8ClampedArray]",zt="[object Uint16Array]",Xt="[object Uint32Array]",Pt=/[\\^$.*+?()[\]{}|]/g,Mt=/^\[object .+?Constructor\]$/,jt=/^(?:0|[1-9]\d*)$/,Zt={};Zt[wt]=Zt[St]=Zt[Tt]=Zt[kt]=Zt[Vt]=Zt[Ct]=Zt[Rt]=Zt[zt]=Zt[Xt]=!0,Zt[nt]=Zt[_]=Zt[mt]=Zt[c]=Zt[xt]=Zt[a]=Zt[o]=Zt[h]=Zt[tt]=Zt[at]=Zt[_e]=Zt[rt]=Zt[st]=Zt[vt]=Zt[lt]=!1;var Yt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,fn=typeof self=="object"&&self&&self.Object===Object&&self,an=Yt||fn||Function("return this")(),dn=s&&!s.nodeType&&s,cn=dn&&!0&&e&&!e.nodeType&&e,Ut=cn&&cn.exports===dn,Wt=Ut&&Yt.process,Nt=function(){try{return Wt&&Wt.binding&&Wt.binding("util")}catch{}}(),ln=Nt&&Nt.isTypedArray;function yn(Ht,nn){for(var _n=-1,Bn=Ht==null?0:Ht.length,Tr=0,or=[];++_n<Bn;){var Ar=Ht[_n];nn(Ar,_n,Ht)&&(or[Tr++]=Ar)}return or}function rn(Ht,nn){for(var _n=-1,Bn=nn.length,Tr=Ht.length;++_n<Bn;)Ht[Tr+_n]=nn[_n];return Ht}function Un(Ht,nn){for(var _n=-1,Bn=Ht==null?0:Ht.length;++_n<Bn;)if(nn(Ht[_n],_n,Ht))return!0;return!1}function Qn(Ht,nn){for(var _n=-1,Bn=Array(Ht);++_n<Ht;)Bn[_n]=nn(_n);return Bn}function Zn(Ht){return function(nn){return Ht(nn)}}function Sr(Ht,nn){return Ht.has(nn)}function gn(Ht,nn){return Ht==null?void 0:Ht[nn]}function Fn(Ht){var nn=-1,_n=Array(Ht.size);return Ht.forEach(function(Bn,Tr){_n[++nn]=[Tr,Bn]}),_n}function Ln(Ht,nn){return function(_n){return Ht(nn(_n))}}function tr(Ht){var nn=-1,_n=Array(Ht.size);return Ht.forEach(function(Bn){_n[++nn]=Bn}),_n}var On=Array.prototype,hr=Function.prototype,Yn=Object.prototype,In=an["__core-js_shared__"],ar=hr.toString,Dt=Yn.hasOwnProperty,qt=function(){var Ht=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||"");return Ht?"Symbol(src)_1."+Ht:""}(),en=Yn.toString,Cn=RegExp("^"+ar.call(Dt).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pn=Ut?an.Buffer:void 0,En=an.Symbol,xn=an.Uint8Array,Vn=Yn.propertyIsEnumerable,qn=On.splice,Sn=En?En.toStringTag:void 0,Wn=Object.getOwnPropertySymbols,An=Pn?Pn.isBuffer:void 0,Xn=Ln(Object.keys,Object),Mn=on(an,"DataView"),Dn=on(an,"Map"),ir=on(an,"Promise"),es=on(an,"Set"),Wr=on(an,"WeakMap"),xs=on(Object,"create"),$s=Qr(Mn),Ls=Qr(Dn),Rs=Qr(ir),Ys=Qr(es),Is=Qr(Wr),qs=En?En.prototype:void 0,zs=qs?qs.valueOf:void 0;function ss(Ht){var nn=-1,_n=Ht==null?0:Ht.length;for(this.clear();++nn<_n;){var Bn=Ht[nn];this.set(Bn[0],Bn[1])}}function Qs(){this.__data__=xs?xs(null):{},this.size=0}function Gn(Ht){var nn=this.has(Ht)&&delete this.__data__[Ht];return this.size-=nn?1:0,nn}function Xr(Ht){var nn=this.__data__;if(xs){var _n=nn[Ht];return _n===d?void 0:_n}return Dt.call(nn,Ht)?nn[Ht]:void 0}function Ms(Ht){var nn=this.__data__;return xs?nn[Ht]!==void 0:Dt.call(nn,Ht)}function Zs(Ht,nn){var _n=this.__data__;return this.size+=this.has(Ht)?0:1,_n[Ht]=xs&&nn===void 0?d:nn,this}ss.prototype.clear=Qs,ss.prototype.delete=Gn,ss.prototype.get=Xr,ss.prototype.has=Ms,ss.prototype.set=Zs;function Kr(Ht){var nn=-1,_n=Ht==null?0:Ht.length;for(this.clear();++nn<_n;){var Bn=Ht[nn];this.set(Bn[0],Bn[1])}}function xo(){this.__data__=[],this.size=0}function ao(Ht){var nn=this.__data__,_n=Ft(nn,Ht);if(_n<0)return!1;var Bn=nn.length-1;return _n==Bn?nn.pop():qn.call(nn,_n,1),--this.size,!0}function oo(Ht){var nn=this.__data__,_n=Ft(nn,Ht);return _n<0?void 0:nn[_n][1]}function bo(Ht){return Ft(this.__data__,Ht)>-1}function Us(Ht,nn){var _n=this.__data__,Bn=Ft(_n,Ht);return Bn<0?(++this.size,_n.push([Ht,nn])):_n[Bn][1]=nn,this}Kr.prototype.clear=xo,Kr.prototype.delete=ao,Kr.prototype.get=oo,Kr.prototype.has=bo,Kr.prototype.set=Us;function as(Ht){var nn=-1,_n=Ht==null?0:Ht.length;for(this.clear();++nn<_n;){var Bn=Ht[nn];this.set(Bn[0],Bn[1])}}function fs(){this.size=0,this.__data__={hash:new ss,map:new(Dn||Kr),string:new ss}}function Hn(Ht){var nn=Kt(this,Ht).delete(Ht);return this.size-=nn?1:0,nn}function Br(Ht){return Kt(this,Ht).get(Ht)}function Js(Ht){return Kt(this,Ht).has(Ht)}function Ws(Ht,nn){var _n=Kt(this,Ht),Bn=_n.size;return _n.set(Ht,nn),this.size+=_n.size==Bn?0:1,this}as.prototype.clear=fs,as.prototype.delete=Hn,as.prototype.get=Br,as.prototype.has=Js,as.prototype.set=Ws;function rr(Ht){var nn=-1,_n=Ht==null?0:Ht.length;for(this.__data__=new as;++nn<_n;)this.add(Ht[nn])}function Ds(Ht){return this.__data__.set(Ht,d),this}function na(Ht){return this.__data__.has(Ht)}rr.prototype.add=rr.prototype.push=Ds,rr.prototype.has=na;function Yr(Ht){var nn=this.__data__=new Kr(Ht);this.size=nn.size}function lo(){this.__data__=new Kr,this.size=0}function wo(Ht){var nn=this.__data__,_n=nn.delete(Ht);return this.size=nn.size,_n}function Gs(Ht){return this.__data__.get(Ht)}function gt(Ht){return this.__data__.has(Ht)}function _t(Ht,nn){var _n=this.__data__;if(_n instanceof Kr){var Bn=_n.__data__;if(!Dn||Bn.length<i-1)return Bn.push([Ht,nn]),this.size=++_n.size,this;_n=this.__data__=new as(Bn)}return _n.set(Ht,nn),this.size=_n.size,this}Yr.prototype.clear=lo,Yr.prototype.delete=wo,Yr.prototype.get=Gs,Yr.prototype.has=gt,Yr.prototype.set=_t;function $t(Ht,nn){var _n=ps(Ht),Bn=!_n&&Os(Ht),Tr=!_n&&!Bn&&Ko(Ht),or=!_n&&!Bn&&!Tr&&Il(Ht),Ar=_n||Bn||Tr||or,Fr=Ar?Qn(Ht.length,String):[],vr=Fr.length;for(var kr in Ht)(nn||Dt.call(Ht,kr))&&!(Ar&&(kr=="length"||Tr&&(kr=="offset"||kr=="parent")||or&&(kr=="buffer"||kr=="byteLength"||kr=="byteOffset")||nr(kr,vr)))&&Fr.push(kr);return Fr}function Ft(Ht,nn){for(var _n=Ht.length;_n--;)if(xa(Ht[_n][0],nn))return _n;return-1}function Gt(Ht,nn,_n){var Bn=nn(Ht);return ps(Ht)?Bn:rn(Bn,_n(Ht))}function un(Ht){return Ht==null?Ht===void 0?et:ht:Sn&&Sn in Object(Ht)?hn(Ht):ga(Ht)}function mn(Ht){return _o(Ht)&&un(Ht)==nt}function Rn(Ht,nn,_n,Bn,Tr){return Ht===nn?!0:Ht==null||nn==null||!_o(Ht)&&!_o(nn)?Ht!==Ht&&nn!==nn:jn(Ht,nn,_n,Bn,Rn,Tr)}function jn(Ht,nn,_n,Bn,Tr,or){var Ar=ps(Ht),Fr=ps(nn),vr=Ar?_:$n(Ht),kr=Fr?_:$n(nn);vr=vr==nt?_e:vr,kr=kr==nt?_e:kr;var Or=vr==_e,os=kr==_e,Vr=vr==kr;if(Vr&&Ko(Ht)){if(!Ko(nn))return!1;Ar=!0,Or=!1}if(Vr&&!Or)return or||(or=new Yr),Ar||Il(Ht)?dt(Ht,nn,_n,Bn,Tr,or):bt(Ht,nn,vr,_n,Bn,Tr,or);if(!(_n&ft)){var $r=Or&&Dt.call(Ht,"__wrapped__"),ts=os&&Dt.call(nn,"__wrapped__");if($r||ts){var Ps=$r?Ht.value():Ht,ws=ts?nn.value():nn;return or||(or=new Yr),Tr(Ps,ws,_n,Bn,or)}}return Vr?(or||(or=new Yr),At(Ht,nn,_n,Bn,Tr,or)):!1}function gr(Ht){if(!Rl(Ht)||Dr(Ht))return!1;var nn=Io(Ht)?Cn:Mt;return nn.test(Qr(Ht))}function Mr(Ht){return _o(Ht)&&Ll(Ht.length)&&!!Zt[un(Ht)]}function qr(Ht){if(!bs(Ht))return Xn(Ht);var nn=[];for(var _n in Object(Ht))Dt.call(Ht,_n)&&_n!="constructor"&&nn.push(_n);return nn}function dt(Ht,nn,_n,Bn,Tr,or){var Ar=_n&ft,Fr=Ht.length,vr=nn.length;if(Fr!=vr&&!(Ar&&vr>Fr))return!1;var kr=or.get(Ht);if(kr&&or.get(nn))return kr==nn;var Or=-1,os=!0,Vr=_n&$?new rr:void 0;for(or.set(Ht,nn),or.set(nn,Ht);++Or<Fr;){var $r=Ht[Or],ts=nn[Or];if(Bn)var Ps=Ar?Bn(ts,$r,Or,nn,Ht,or):Bn($r,ts,Or,Ht,nn,or);if(Ps!==void 0){if(Ps)continue;os=!1;break}if(Vr){if(!Un(nn,function(ws,Hs){if(!Sr(Vr,Hs)&&($r===ws||Tr($r,ws,_n,Bn,or)))return Vr.push(Hs)})){os=!1;break}}else if(!($r===ts||Tr($r,ts,_n,Bn,or))){os=!1;break}}return or.delete(Ht),or.delete(nn),os}function bt(Ht,nn,_n,Bn,Tr,or,Ar){switch(_n){case xt:if(Ht.byteLength!=nn.byteLength||Ht.byteOffset!=nn.byteOffset)return!1;Ht=Ht.buffer,nn=nn.buffer;case mt:return!(Ht.byteLength!=nn.byteLength||!or(new xn(Ht),new xn(nn)));case c:case a:case at:return xa(+Ht,+nn);case o:return Ht.name==nn.name&&Ht.message==nn.message;case rt:case vt:return Ht==nn+"";case tt:var Fr=Fn;case st:var vr=Bn&ft;if(Fr||(Fr=tr),Ht.size!=nn.size&&!vr)return!1;var kr=Ar.get(Ht);if(kr)return kr==nn;Bn|=$,Ar.set(Ht,nn);var Or=dt(Fr(Ht),Fr(nn),Bn,Tr,or,Ar);return Ar.delete(Ht),Or;case ot:if(zs)return zs.call(Ht)==zs.call(nn)}return!1}function At(Ht,nn,_n,Bn,Tr,or){var Ar=_n&ft,Fr=It(Ht),vr=Fr.length,kr=It(nn),Or=kr.length;if(vr!=Or&&!Ar)return!1;for(var os=vr;os--;){var Vr=Fr[os];if(!(Ar?Vr in nn:Dt.call(nn,Vr)))return!1}var $r=or.get(Ht);if($r&&or.get(nn))return $r==nn;var ts=!0;or.set(Ht,nn),or.set(nn,Ht);for(var Ps=Ar;++os<vr;){Vr=Fr[os];var ws=Ht[Vr],Hs=nn[Vr];if(Bn)var jo=Ar?Bn(Hs,ws,Vr,nn,Ht,or):Bn(ws,Hs,Vr,Ht,nn,or);if(!(jo===void 0?ws===Hs||Tr(ws,Hs,_n,Bn,or):jo)){ts=!1;break}Ps||(Ps=Vr=="constructor")}if(ts&&!Ps){var So=Ht.constructor,Gr=nn.constructor;So!=Gr&&"constructor"in Ht&&"constructor"in nn&&!(typeof So=="function"&&So instanceof So&&typeof Gr=="function"&&Gr instanceof Gr)&&(ts=!1)}return or.delete(Ht),or.delete(nn),ts}function It(Ht){return Gt(Ht,_u,kn)}function Kt(Ht,nn){var _n=Ht.__data__;return ur(nn)?_n[typeof nn=="string"?"string":"hash"]:_n.map}function on(Ht,nn){var _n=gn(Ht,nn);return gr(_n)?_n:void 0}function hn(Ht){var nn=Dt.call(Ht,Sn),_n=Ht[Sn];try{Ht[Sn]=void 0;var Bn=!0}catch{}var Tr=en.call(Ht);return Bn&&(nn?Ht[Sn]=_n:delete Ht[Sn]),Tr}var kn=Wn?function(Ht){return Ht==null?[]:(Ht=Object(Ht),yn(Wn(Ht),function(nn){return Vn.call(Ht,nn)}))}:Er,$n=un;(Mn&&$n(new Mn(new ArrayBuffer(1)))!=xt||Dn&&$n(new Dn)!=tt||ir&&$n(ir.resolve())!=ut||es&&$n(new es)!=st||Wr&&$n(new Wr)!=lt)&&($n=function(Ht){var nn=un(Ht),_n=nn==_e?Ht.constructor:void 0,Bn=_n?Qr(_n):"";if(Bn)switch(Bn){case $s:return xt;case Ls:return tt;case Rs:return ut;case Ys:return st;case Is:return lt}return nn});function nr(Ht,nn){return nn=nn==null?it:nn,!!nn&&(typeof Ht=="number"||jt.test(Ht))&&Ht>-1&&Ht%1==0&&Ht<nn}function ur(Ht){var nn=typeof Ht;return nn=="string"||nn=="number"||nn=="symbol"||nn=="boolean"?Ht!=="__proto__":Ht===null}function Dr(Ht){return!!qt&&qt in Ht}function bs(Ht){var nn=Ht&&Ht.constructor,_n=typeof nn=="function"&&nn.prototype||Yn;return Ht===_n}function ga(Ht){return en.call(Ht)}function Qr(Ht){if(Ht!=null){try{return ar.call(Ht)}catch{}try{return Ht+""}catch{}}return""}function xa(Ht,nn){return Ht===nn||Ht!==Ht&&nn!==nn}var Os=mn(function(){return arguments}())?mn:function(Ht){return _o(Ht)&&Dt.call(Ht,"callee")&&!Vn.call(Ht,"callee")},ps=Array.isArray;function bu(Ht){return Ht!=null&&Ll(Ht.length)&&!Io(Ht)}var Ko=An||_r;function wu(Ht,nn){return Rn(Ht,nn)}function Io(Ht){if(!Rl(Ht))return!1;var nn=un(Ht);return nn==h||nn==g||nn==b||nn==ct}function Ll(Ht){return typeof Ht=="number"&&Ht>-1&&Ht%1==0&&Ht<=it}function Rl(Ht){var nn=typeof Ht;return Ht!=null&&(nn=="object"||nn=="function")}function _o(Ht){return Ht!=null&&typeof Ht=="object"}var Il=ln?Zn(ln):Mr;function _u(Ht){return bu(Ht)?$t(Ht):qr(Ht)}function Er(){return[]}function _r(){return!1}e.exports=wu})(lodash_isequal,lodash_isequal.exports);var editorOptions$1={};Object.defineProperty(editorOptions$1,"__esModule",{value:!0});editorOptions$1.getAceInstance=editorOptions$1.debounce=editorOptions$1.editorEvents=editorOptions$1.editorOptions=void 0;var editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];editorOptions$1.editorOptions=editorOptions;var editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];editorOptions$1.editorEvents=editorEvents;var getAceInstance=function(){var e;return typeof window>"u"?(commonjsGlobal.window={},e=ace$3.exports,delete commonjsGlobal.window):window.ace?(e=window.ace,e.acequire=window.ace.require||window.ace.acequire):e=ace$3.exports,e};editorOptions$1.getAceInstance=getAceInstance;var debounce=function(e,s){var i=null;return function(){var d=this,ft=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(d,ft)},s)}};editorOptions$1.debounce=debounce;var _jsx$1=require$$0.jsx,__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(s,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,ft){d.__proto__=ft}||function(d,ft){for(var $ in ft)Object.prototype.hasOwnProperty.call(ft,$)&&(d[$]=ft[$])},e(s,i)};return function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function d(){this.constructor=s}s.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var s,i=1,d=arguments.length;i<d;i++){s=arguments[i];for(var ft in s)Object.prototype.hasOwnProperty.call(s,ft)&&(e[ft]=s[ft])}return e},__assign$1.apply(this,arguments)};Object.defineProperty(ace$4,"__esModule",{value:!0});var ace_builds_1$1=ace$3.exports,PropTypes$2=propTypes.exports,React$2=react.exports,isEqual$1=lodash_isequal.exports,editorOptions_1$1=editorOptions$1,ace$2=(0,editorOptions_1$1.getAceInstance)(),ReactAce=function(e){__extends$2(s,e);function s(i){var d=e.call(this,i)||this;return editorOptions_1$1.editorEvents.forEach(function(ft){d[ft]=d[ft].bind(d)}),d.debounce=editorOptions_1$1.debounce,d}return s.prototype.isInShadow=function(i){for(var d=i&&i.parentNode;d;){if(d.toString()==="[object ShadowRoot]")return!0;d=d.parentNode}return!1},s.prototype.componentDidMount=function(){var i=this,d=this.props,ft=d.className,$=d.onBeforeLoad,it=d.onValidate,nt=d.mode,_=d.focus,b=d.theme,c=d.fontSize,a=d.value,o=d.defaultValue,h=d.showGutter,g=d.wrapEnabled,tt=d.showPrintMargin,at=d.scrollMargin,ht=at===void 0?[0,0,0,0]:at,_e=d.keyboardHandler,ut=d.onLoad,ct=d.commands,rt=d.annotations,st=d.markers,vt=d.placeholder;this.editor=ace$2.edit(this.refEditor),$&&$(ace$2);for(var ot=Object.keys(this.props.editorProps),et=0;et<ot.length;et++)this.editor[ot[et]]=this.props.editorProps[ot[et]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(ht[0],ht[1],ht[2],ht[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof nt=="string"?"ace/mode/".concat(nt):nt),b&&b!==""&&this.editor.setTheme("ace/theme/".concat(b)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),this.editor.getSession().setValue(o||a||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(h),this.editor.getSession().setUseWrapMode(g),this.editor.setShowPrintMargin(tt),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),vt&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),it&&this.editor.getSession().on("changeAnnotation",function(){var mt=i.editor.getSession().getAnnotations();i.props.onValidate(mt)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(rt||[]),st&&st.length>0&&this.handleMarkers(st);var lt=this.editor.$options;editorOptions_1$1.editorOptions.forEach(function(mt){lt.hasOwnProperty(mt)?i.editor.setOption(mt,i.props[mt]):i.props[mt]&&console.warn("ReactAce: editor option ".concat(mt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(ct)&&ct.forEach(function(mt){typeof mt.exec=="string"?i.editor.commands.bindKey(mt.bindKey,mt.exec):i.editor.commands.addCommand(mt)}),_e&&this.editor.setKeyboardHandler("ace/keyboard/"+_e),ft&&(this.refEditor.className+=" "+ft),ut&&ut(this.editor),this.editor.resize(),_&&this.editor.focus()},s.prototype.componentDidUpdate=function(i){for(var d=i,ft=this.props,$=0;$<editorOptions_1$1.editorOptions.length;$++){var it=editorOptions_1$1.editorOptions[$];ft[it]!==d[it]&&this.editor.setOption(it,ft[it])}if(ft.className!==d.className){var nt=this.refEditor.className,_=nt.trim().split(" "),b=d.className.trim().split(" ");b.forEach(function(o){var h=_.indexOf(o);_.splice(h,1)}),this.refEditor.className=" "+ft.className+" "+_.join(" ")}var c=this.editor&&ft.value!=null&&this.editor.getValue()!==ft.value;if(c){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(ft.value,ft.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}ft.placeholder!==d.placeholder&&this.updatePlaceholder(),ft.mode!==d.mode&&this.editor.getSession().setMode(typeof ft.mode=="string"?"ace/mode/".concat(ft.mode):ft.mode),ft.theme!==d.theme&&this.editor.setTheme("ace/theme/"+ft.theme),ft.keyboardHandler!==d.keyboardHandler&&(ft.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+ft.keyboardHandler):this.editor.setKeyboardHandler(null)),ft.fontSize!==d.fontSize&&this.editor.setFontSize(typeof ft.fontSize=="number"?"".concat(ft.fontSize,"px"):ft.fontSize),ft.wrapEnabled!==d.wrapEnabled&&this.editor.getSession().setUseWrapMode(ft.wrapEnabled),ft.showPrintMargin!==d.showPrintMargin&&this.editor.setShowPrintMargin(ft.showPrintMargin),ft.showGutter!==d.showGutter&&this.editor.renderer.setShowGutter(ft.showGutter),isEqual$1(ft.setOptions,d.setOptions)||this.handleOptions(ft),(c||!isEqual$1(ft.annotations,d.annotations))&&this.editor.getSession().setAnnotations(ft.annotations||[]),!isEqual$1(ft.markers,d.markers)&&Array.isArray(ft.markers)&&this.handleMarkers(ft.markers),isEqual$1(ft.scrollMargin,d.scrollMargin)||this.handleScrollMargins(ft.scrollMargin),(i.height!==this.props.height||i.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!i.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(i){i===void 0&&(i=[0,0,0,0]),this.editor.renderer.setScrollMargin(i[0],i[1],i[2],i[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(i){if(this.props.onChange&&!this.silent){var d=this.editor.getValue();this.props.onChange(d,i)}},s.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var d=this.editor.getSelection();this.props.onSelectionChange(d,i)}},s.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var d=this.editor.getSelection();this.props.onCursorChange(d,i)}},s.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i,this.editor)},s.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i,this.editor)},s.prototype.onCopy=function(i){var d=i.text;this.props.onCopy&&this.props.onCopy(d)},s.prototype.onPaste=function(i){var d=i.text;this.props.onPaste&&this.props.onPaste(d)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(i){for(var d=Object.keys(i.setOptions),ft=0;ft<d.length;ft++)this.editor.setOption(d[ft],i.setOptions[d[ft]])},s.prototype.handleMarkers=function(i){var d=this,ft=this.editor.getSession().getMarkers(!0);for(var $ in ft)ft.hasOwnProperty($)&&this.editor.getSession().removeMarker(ft[$].id);ft=this.editor.getSession().getMarkers(!1);for(var $ in ft)ft.hasOwnProperty($)&&ft[$].clazz!=="ace_active-line"&&ft[$].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(ft[$].id);i.forEach(function(it){var nt=it.startRow,_=it.startCol,b=it.endRow,c=it.endCol,a=it.className,o=it.type,h=it.inFront,g=h===void 0?!1:h,tt=new ace_builds_1$1.Range(nt,_,b,c);d.editor.getSession().addMarker(tt,a,o,g)})},s.prototype.updatePlaceholder=function(){var i=this.editor,d=this.props.placeholder,ft=!i.session.getValue().length,$=i.renderer.placeholderNode;!ft&&$?(i.renderer.scroller.removeChild(i.renderer.placeholderNode),i.renderer.placeholderNode=null):ft&&!$?($=i.renderer.placeholderNode=document.createElement("div"),$.textContent=d||"",$.className="ace_comment ace_placeholder",$.style.padding="0 9px",$.style.position="absolute",$.style.zIndex="3",i.renderer.scroller.appendChild($)):ft&&$&&($.textContent=d)},s.prototype.updateRef=function(i){this.refEditor=i},s.prototype.render=function(){var i=this.props,d=i.name,ft=i.width,$=i.height,it=i.style,nt=__assign$1({width:ft,height:$},it);return _jsx$1("div",{ref:this.updateRef,id:d,style:nt})},s.propTypes={mode:PropTypes$2.oneOfType([PropTypes$2.string,PropTypes$2.object]),focus:PropTypes$2.bool,theme:PropTypes$2.string,name:PropTypes$2.string,className:PropTypes$2.string,height:PropTypes$2.string,width:PropTypes$2.string,fontSize:PropTypes$2.oneOfType([PropTypes$2.number,PropTypes$2.string]),showGutter:PropTypes$2.bool,onChange:PropTypes$2.func,onCopy:PropTypes$2.func,onPaste:PropTypes$2.func,onFocus:PropTypes$2.func,onInput:PropTypes$2.func,onBlur:PropTypes$2.func,onScroll:PropTypes$2.func,value:PropTypes$2.string,defaultValue:PropTypes$2.string,onLoad:PropTypes$2.func,onSelectionChange:PropTypes$2.func,onCursorChange:PropTypes$2.func,onBeforeLoad:PropTypes$2.func,onValidate:PropTypes$2.func,minLines:PropTypes$2.number,maxLines:PropTypes$2.number,readOnly:PropTypes$2.bool,highlightActiveLine:PropTypes$2.bool,tabSize:PropTypes$2.number,showPrintMargin:PropTypes$2.bool,cursorStart:PropTypes$2.number,debounceChangePeriod:PropTypes$2.number,editorProps:PropTypes$2.object,setOptions:PropTypes$2.object,style:PropTypes$2.object,scrollMargin:PropTypes$2.array,annotations:PropTypes$2.array,markers:PropTypes$2.array,keyboardHandler:PropTypes$2.string,wrapEnabled:PropTypes$2.bool,enableSnippets:PropTypes$2.bool,enableBasicAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),enableLiveAutocompletion:PropTypes$2.oneOfType([PropTypes$2.bool,PropTypes$2.array]),navigateToFileEnd:PropTypes$2.bool,commands:PropTypes$2.array,placeholder:PropTypes$2.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(React$2.Component);ace$4.default=ReactAce;var diff={},split={},extSplit={exports:{}};(function(e,s){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(i,d,ft){var $=i("./lib/oop");i("./lib/lang");var it=i("./lib/event_emitter").EventEmitter,nt=i("./editor").Editor,_=i("./virtual_renderer").VirtualRenderer,b=i("./edit_session").EditSession,c=function(a,o,h){this.BELOW=1,this.BESIDE=0,this.$container=a,this.$theme=o,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(h||1),this.$cEditor=this.$editors[0],this.on("focus",function(g){this.$cEditor=g}.bind(this))};(function(){$.implement(this,it),this.$createEditor=function(){var a=document.createElement("div");a.className=this.$editorCSS,a.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(a);var o=new nt(new _(a,this.$theme));return o.on("focus",function(){this._emit("focus",o)}.bind(this)),this.$editors.push(o),o.setFontSize(this.$fontSize),o},this.setSplits=function(a){var o;if(a<1)throw"The number of splits have to be > 0!";if(a!=this.$splits){if(a>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<a;)o=this.$editors[this.$splits],this.$container.appendChild(o.container),o.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<a;)this.$createEditor(),this.$splits++}else for(;this.$splits>a;)o=this.$editors[this.$splits-1],this.$container.removeChild(o.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(a){return this.$editors[a]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(a){this.$editors.forEach(function(o){o.setTheme(a)})},this.setKeyboardHandler=function(a){this.$editors.forEach(function(o){o.setKeyboardHandler(a)})},this.forEach=function(a,o){this.$editors.forEach(a,o)},this.$fontSize="",this.setFontSize=function(a){this.$fontSize=a,this.forEach(function(o){o.setFontSize(a)})},this.$cloneSession=function(a){var o=new b(a.getDocument(),a.getMode()),h=a.getUndoManager();return o.setUndoManager(h),o.setTabSize(a.getTabSize()),o.setUseSoftTabs(a.getUseSoftTabs()),o.setOverwrite(a.getOverwrite()),o.setBreakpoints(a.getBreakpoints()),o.setUseWrapMode(a.getUseWrapMode()),o.setUseWorker(a.getUseWorker()),o.setWrapLimitRange(a.$wrapLimitRange.min,a.$wrapLimitRange.max),o.$foldData=a.$cloneFoldData(),o},this.setSession=function(a,o){var h;o==null?h=this.$cEditor:h=this.$editors[o];var g=this.$editors.some(function(tt){return tt.session===a});return g&&(a=this.$cloneSession(a)),h.setSession(a),a},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(a){this.$orientation!=a&&(this.$orientation=a,this.resize())},this.resize=function(){var a=this.$container.clientWidth,o=this.$container.clientHeight,h;if(this.$orientation==this.BESIDE)for(var g=a/this.$splits,tt=0;tt<this.$splits;tt++)h=this.$editors[tt],h.container.style.width=g+"px",h.container.style.top="0px",h.container.style.left=tt*g+"px",h.container.style.height=o+"px",h.resize();else for(var at=o/this.$splits,tt=0;tt<this.$splits;tt++)h=this.$editors[tt],h.container.style.width=a+"px",h.container.style.top=tt*at+"px",h.container.style.left="0px",h.container.style.height=at+"px",h.resize()}}).call(c.prototype),d.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(i,d,ft){ft.exports=i("../split")}),function(){ace.require(["ace/ext/split"],function(i){e&&(e.exports=i)})}()})(extSplit);var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(e,s){return e==null?void 0:e[s]}function isHostObject(e){var s=!1;if(e!=null&&typeof e.toString!="function")try{s=!!(e+"")}catch{}return s}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(e){var s=-1,i=e?e.length:0;for(this.clear();++s<i;){var d=e[s];this.set(d[0],d[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(e){return this.has(e)&&delete this.__data__[e]}function hashGet(e){var s=this.__data__;if(nativeCreate){var i=s[e];return i===HASH_UNDEFINED?void 0:i}return hasOwnProperty.call(s,e)?s[e]:void 0}function hashHas(e){var s=this.__data__;return nativeCreate?s[e]!==void 0:hasOwnProperty.call(s,e)}function hashSet(e,s){var i=this.__data__;return i[e]=nativeCreate&&s===void 0?HASH_UNDEFINED:s,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(e){var s=-1,i=e?e.length:0;for(this.clear();++s<i;){var d=e[s];this.set(d[0],d[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(e){var s=this.__data__,i=assocIndexOf(s,e);if(i<0)return!1;var d=s.length-1;return i==d?s.pop():splice.call(s,i,1),!0}function listCacheGet(e){var s=this.__data__,i=assocIndexOf(s,e);return i<0?void 0:s[i][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,s){var i=this.__data__,d=assocIndexOf(i,e);return d<0?i.push([e,s]):i[d][1]=s,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(e){var s=-1,i=e?e.length:0;for(this.clear();++s<i;){var d=e[s];this.set(d[0],d[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(e){return getMapData(this,e).delete(e)}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,s){return getMapData(this,e).set(e,s),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(e,s){for(var i=e.length;i--;)if(eq(e[i][0],s))return i;return-1}function baseGet(e,s){s=isKey(s,e)?[s]:castPath(s);for(var i=0,d=s.length;e!=null&&i<d;)e=e[toKey(s[i++])];return i&&i==d?e:void 0}function baseIsNative(e){if(!isObject$1(e)||isMasked(e))return!1;var s=isFunction(e)||isHostObject(e)?reIsNative:reIsHostCtor;return s.test(toSource(e))}function baseToString(e){if(typeof e=="string")return e;if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var s=e+"";return s=="0"&&1/e==-INFINITY?"-0":s}function castPath(e){return isArray$1(e)?e:stringToPath(e)}function getMapData(e,s){var i=e.__data__;return isKeyable(s)?i[typeof s=="string"?"string":"hash"]:i.map}function getNative(e,s){var i=getValue(e,s);return baseIsNative(i)?i:void 0}function isKey(e,s){if(isArray$1(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||isSymbol(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||s!=null&&e in Object(s)}function isKeyable(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var stringToPath=memoize(function(e){e=toString(e);var s=[];return reLeadingDot.test(e)&&s.push(""),e.replace(rePropName,function(i,d,ft,$){s.push(ft?$.replace(reEscapeChar,"$1"):d||i)}),s});function toKey(e){if(typeof e=="string"||isSymbol(e))return e;var s=e+"";return s=="0"&&1/e==-INFINITY?"-0":s}function toSource(e){if(e!=null){try{return funcToString.call(e)}catch{}try{return e+""}catch{}}return""}function memoize(e,s){if(typeof e!="function"||s&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var i=function(){var d=arguments,ft=s?s.apply(this,d):d[0],$=i.cache;if($.has(ft))return $.get(ft);var it=e.apply(this,d);return i.cache=$.set(ft,it),it};return i.cache=new(memoize.Cache||MapCache),i}memoize.Cache=MapCache;function eq(e,s){return e===s||e!==e&&s!==s}var isArray$1=Array.isArray;function isFunction(e){var s=isObject$1(e)?objectToString.call(e):"";return s==funcTag||s==genTag}function isObject$1(e){var s=typeof e;return!!e&&(s=="object"||s=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toString(e){return e==null?"":baseToString(e)}function get$1(e,s,i){var d=e==null?void 0:baseGet(e,s);return d===void 0?i:d}var lodash_get=get$1,_jsx=require$$0.jsx,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(s,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,ft){d.__proto__=ft}||function(d,ft){for(var $ in ft)Object.prototype.hasOwnProperty.call(ft,$)&&(d[$]=ft[$])},e(s,i)};return function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function d(){this.constructor=s}s.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var s,i=1,d=arguments.length;i<d;i++){s=arguments[i];for(var ft in s)Object.prototype.hasOwnProperty.call(s,ft)&&(e[ft]=s[ft])}return e},__assign.apply(this,arguments)};Object.defineProperty(split,"__esModule",{value:!0});var editorOptions_1=editorOptions$1,ace$1=(0,editorOptions_1.getAceInstance)(),ace_builds_1=ace$3.exports,ext_split_1=extSplit.exports,PropTypes$1=propTypes.exports,React$1=react.exports,isEqual=lodash_isequal.exports,get=lodash_get,SplitComponent=function(e){__extends$1(s,e);function s(i){var d=e.call(this,i)||this;return editorOptions_1.editorEvents.forEach(function(ft){d[ft]=d[ft].bind(d)}),d.debounce=editorOptions_1.debounce,d}return s.prototype.isInShadow=function(i){for(var d=i&&i.parentNode;d;){if(d.toString()==="[object ShadowRoot]")return!0;d=d.parentNode}return!1},s.prototype.componentDidMount=function(){var i=this,d=this.props,ft=d.className,$=d.onBeforeLoad,it=d.mode,nt=d.focus,_=d.theme,b=d.fontSize,c=d.value,a=d.defaultValue,o=d.cursorStart,h=d.showGutter,g=d.wrapEnabled,tt=d.showPrintMargin,at=d.scrollMargin,ht=at===void 0?[0,0,0,0]:at,_e=d.keyboardHandler,ut=d.onLoad,ct=d.commands,rt=d.annotations,st=d.markers,vt=d.splits;this.editor=ace$1.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(_)),$&&$(ace$1);var ot=Object.keys(this.props.editorProps),et=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(_),vt);this.editor.env.split=et,this.splitEditor=et.getEditor(0),this.split=et,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var lt=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),et.forEach(function(xt,wt){for(var St=0;St<ot.length;St++)xt[ot[St]]=i.props.editorProps[ot[St]];var Tt=get(a,wt),kt=get(c,wt,"");xt.session.setUndoManager(new ace$1.UndoManager),xt.setTheme("ace/theme/".concat(_)),xt.renderer.setScrollMargin(ht[0],ht[1],ht[2],ht[3]),xt.getSession().setMode("ace/mode/".concat(it)),xt.setFontSize(b),xt.renderer.setShowGutter(h),xt.getSession().setUseWrapMode(g),xt.setShowPrintMargin(tt),xt.on("focus",i.onFocus),xt.on("blur",i.onBlur),xt.on("input",i.onInput),xt.on("copy",i.onCopy),xt.on("paste",i.onPaste),xt.on("change",i.onChange),xt.getSession().selection.on("changeSelection",i.onSelectionChange),xt.getSession().selection.on("changeCursor",i.onCursorChange),xt.session.on("changeScrollTop",i.onScroll),xt.setValue(Tt===void 0?kt:Tt,o);var Vt=get(rt,wt,[]),Ct=get(st,wt,[]);xt.getSession().setAnnotations(Vt),Ct&&Ct.length>0&&i.handleMarkers(Ct,xt);for(var St=0;St<editorOptions_1.editorOptions.length;St++){var Rt=editorOptions_1.editorOptions[St];lt.hasOwnProperty(Rt)?xt.setOption(Rt,i.props[Rt]):i.props[Rt]&&console.warn("ReaceAce: editor option ".concat(Rt," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}i.handleOptions(i.props,xt),Array.isArray(ct)&&ct.forEach(function(zt){typeof zt.exec=="string"?xt.commands.bindKey(zt.bindKey,zt.exec):xt.commands.addCommand(zt)}),_e&&xt.setKeyboardHandler("ace/keyboard/"+_e)}),ft&&(this.refEditor.className+=" "+ft),nt&&this.splitEditor.focus();var mt=this.editor.env.split;mt.setOrientation(this.props.orientation==="below"?mt.BELOW:mt.BESIDE),mt.resize(!0),ut&&ut(mt)},s.prototype.componentDidUpdate=function(i){var d=this,ft=i,$=this.props,it=this.editor.env.split;if($.splits!==ft.splits&&it.setSplits($.splits),$.orientation!==ft.orientation&&it.setOrientation($.orientation==="below"?it.BELOW:it.BESIDE),it.forEach(function(c,a){$.mode!==ft.mode&&c.getSession().setMode("ace/mode/"+$.mode),$.keyboardHandler!==ft.keyboardHandler&&($.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+$.keyboardHandler):c.setKeyboardHandler(null)),$.fontSize!==ft.fontSize&&c.setFontSize($.fontSize),$.wrapEnabled!==ft.wrapEnabled&&c.getSession().setUseWrapMode($.wrapEnabled),$.showPrintMargin!==ft.showPrintMargin&&c.setShowPrintMargin($.showPrintMargin),$.showGutter!==ft.showGutter&&c.renderer.setShowGutter($.showGutter);for(var o=0;o<editorOptions_1.editorOptions.length;o++){var h=editorOptions_1.editorOptions[o];$[h]!==ft[h]&&c.setOption(h,$[h])}isEqual($.setOptions,ft.setOptions)||d.handleOptions($,c);var g=get($.value,a,"");if(c.getValue()!==g){d.silent=!0;var tt=c.session.selection.toJSON();c.setValue(g,$.cursorStart),c.session.selection.fromJSON(tt),d.silent=!1}var at=get($.annotations,a,[]),ht=get(ft.annotations,a,[]);isEqual(at,ht)||c.getSession().setAnnotations(at);var _e=get($.markers,a,[]),ut=get(ft.markers,a,[]);!isEqual(_e,ut)&&Array.isArray(_e)&&d.handleMarkers(_e,c)}),$.className!==ft.className){var nt=this.refEditor.className,_=nt.trim().split(" "),b=ft.className.trim().split(" ");b.forEach(function(c){var a=_.indexOf(c);_.splice(a,1)}),this.refEditor.className=" "+$.className+" "+_.join(" ")}$.theme!==ft.theme&&it.setTheme("ace/theme/"+$.theme),$.focus&&!ft.focus&&this.splitEditor.focus(),($.height!==this.props.height||$.width!==this.props.width)&&this.editor.resize()},s.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},s.prototype.onChange=function(i){if(this.props.onChange&&!this.silent){var d=[];this.editor.env.split.forEach(function(ft){d.push(ft.getValue())}),this.props.onChange(d,i)}},s.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var d=[];this.editor.env.split.forEach(function(ft){d.push(ft.getSelection())}),this.props.onSelectionChange(d,i)}},s.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var d=[];this.editor.env.split.forEach(function(ft){d.push(ft.getSelection())}),this.props.onCursorChange(d,i)}},s.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i)},s.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i)},s.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i)},s.prototype.onCopy=function(i){this.props.onCopy&&this.props.onCopy(i)},s.prototype.onPaste=function(i){this.props.onPaste&&this.props.onPaste(i)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(i,d){for(var ft=Object.keys(i.setOptions),$=0;$<ft.length;$++)d.setOption(ft[$],i.setOptions[ft[$]])},s.prototype.handleMarkers=function(i,d){var ft=d.getSession().getMarkers(!0);for(var $ in ft)ft.hasOwnProperty($)&&d.getSession().removeMarker(ft[$].id);ft=d.getSession().getMarkers(!1);for(var $ in ft)ft.hasOwnProperty($)&&d.getSession().removeMarker(ft[$].id);i.forEach(function(it){var nt=it.startRow,_=it.startCol,b=it.endRow,c=it.endCol,a=it.className,o=it.type,h=it.inFront,g=h===void 0?!1:h,tt=new ace_builds_1.Range(nt,_,b,c);d.getSession().addMarker(tt,a,o,g)})},s.prototype.updateRef=function(i){this.refEditor=i},s.prototype.render=function(){var i=this.props,d=i.name,ft=i.width,$=i.height,it=i.style,nt=__assign({width:ft,height:$},it);return _jsx("div",{ref:this.updateRef,id:d,style:nt})},s.propTypes={className:PropTypes$1.string,debounceChangePeriod:PropTypes$1.number,defaultValue:PropTypes$1.arrayOf(PropTypes$1.string),focus:PropTypes$1.bool,fontSize:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),height:PropTypes$1.string,mode:PropTypes$1.string,name:PropTypes$1.string,onBlur:PropTypes$1.func,onChange:PropTypes$1.func,onCopy:PropTypes$1.func,onFocus:PropTypes$1.func,onInput:PropTypes$1.func,onLoad:PropTypes$1.func,onPaste:PropTypes$1.func,onScroll:PropTypes$1.func,orientation:PropTypes$1.string,showGutter:PropTypes$1.bool,splits:PropTypes$1.number,theme:PropTypes$1.string,value:PropTypes$1.arrayOf(PropTypes$1.string),width:PropTypes$1.string,onSelectionChange:PropTypes$1.func,onCursorChange:PropTypes$1.func,onBeforeLoad:PropTypes$1.func,minLines:PropTypes$1.number,maxLines:PropTypes$1.number,readOnly:PropTypes$1.bool,highlightActiveLine:PropTypes$1.bool,tabSize:PropTypes$1.number,showPrintMargin:PropTypes$1.bool,cursorStart:PropTypes$1.number,editorProps:PropTypes$1.object,setOptions:PropTypes$1.object,style:PropTypes$1.object,scrollMargin:PropTypes$1.array,annotations:PropTypes$1.array,markers:PropTypes$1.array,keyboardHandler:PropTypes$1.string,wrapEnabled:PropTypes$1.bool,enableBasicAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),enableLiveAutocompletion:PropTypes$1.oneOfType([PropTypes$1.bool,PropTypes$1.array]),commands:PropTypes$1.array},s.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},s}(React$1.Component);split.default=SplitComponent;var diffMatchPatch={exports:{}};(function(e){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},i=-1,d=1,ft=0;s.Diff=function($,it){return[$,it]},s.prototype.diff_main=function($,it,nt,_){typeof _>"u"&&(this.Diff_Timeout<=0?_=Number.MAX_VALUE:_=new Date().getTime()+this.Diff_Timeout*1e3);var b=_;if($==null||it==null)throw new Error("Null input. (diff_main)");if($==it)return $?[new s.Diff(ft,$)]:[];typeof nt>"u"&&(nt=!0);var c=nt,a=this.diff_commonPrefix($,it),o=$.substring(0,a);$=$.substring(a),it=it.substring(a),a=this.diff_commonSuffix($,it);var h=$.substring($.length-a);$=$.substring(0,$.length-a),it=it.substring(0,it.length-a);var g=this.diff_compute_($,it,c,b);return o&&g.unshift(new s.Diff(ft,o)),h&&g.push(new s.Diff(ft,h)),this.diff_cleanupMerge(g),g},s.prototype.diff_compute_=function($,it,nt,_){var b;if(!$)return[new s.Diff(d,it)];if(!it)return[new s.Diff(i,$)];var c=$.length>it.length?$:it,a=$.length>it.length?it:$,o=c.indexOf(a);if(o!=-1)return b=[new s.Diff(d,c.substring(0,o)),new s.Diff(ft,a),new s.Diff(d,c.substring(o+a.length))],$.length>it.length&&(b[0][0]=b[2][0]=i),b;if(a.length==1)return[new s.Diff(i,$),new s.Diff(d,it)];var h=this.diff_halfMatch_($,it);if(h){var g=h[0],tt=h[1],at=h[2],ht=h[3],_e=h[4],ut=this.diff_main(g,at,nt,_),ct=this.diff_main(tt,ht,nt,_);return ut.concat([new s.Diff(ft,_e)],ct)}return nt&&$.length>100&&it.length>100?this.diff_lineMode_($,it,_):this.diff_bisect_($,it,_)},s.prototype.diff_lineMode_=function($,it,nt){var _=this.diff_linesToChars_($,it);$=_.chars1,it=_.chars2;var b=_.lineArray,c=this.diff_main($,it,!1,nt);this.diff_charsToLines_(c,b),this.diff_cleanupSemantic(c),c.push(new s.Diff(ft,""));for(var a=0,o=0,h=0,g="",tt="";a<c.length;){switch(c[a][0]){case d:h++,tt+=c[a][1];break;case i:o++,g+=c[a][1];break;case ft:if(o>=1&&h>=1){c.splice(a-o-h,o+h),a=a-o-h;for(var at=this.diff_main(g,tt,!1,nt),ht=at.length-1;ht>=0;ht--)c.splice(a,0,at[ht]);a=a+at.length}h=0,o=0,g="",tt="";break}a++}return c.pop(),c},s.prototype.diff_bisect_=function($,it,nt){for(var _=$.length,b=it.length,c=Math.ceil((_+b)/2),a=c,o=2*c,h=new Array(o),g=new Array(o),tt=0;tt<o;tt++)h[tt]=-1,g[tt]=-1;h[a+1]=0,g[a+1]=0;for(var at=_-b,ht=at%2!=0,_e=0,ut=0,ct=0,rt=0,st=0;st<c&&!(new Date().getTime()>nt);st++){for(var vt=-st+_e;vt<=st-ut;vt+=2){var ot=a+vt,et;vt==-st||vt!=st&&h[ot-1]<h[ot+1]?et=h[ot+1]:et=h[ot-1]+1;for(var lt=et-vt;et<_&&lt<b&&$.charAt(et)==it.charAt(lt);)et++,lt++;if(h[ot]=et,et>_)ut+=2;else if(lt>b)_e+=2;else if(ht){var mt=a+at-vt;if(mt>=0&&mt<o&&g[mt]!=-1){var xt=_-g[mt];if(et>=xt)return this.diff_bisectSplit_($,it,et,lt,nt)}}}for(var wt=-st+ct;wt<=st-rt;wt+=2){var mt=a+wt,xt;wt==-st||wt!=st&&g[mt-1]<g[mt+1]?xt=g[mt+1]:xt=g[mt-1]+1;for(var St=xt-wt;xt<_&&St<b&&$.charAt(_-xt-1)==it.charAt(b-St-1);)xt++,St++;if(g[mt]=xt,xt>_)rt+=2;else if(St>b)ct+=2;else if(!ht){var ot=a+at-wt;if(ot>=0&&ot<o&&h[ot]!=-1){var et=h[ot],lt=a+et-ot;if(xt=_-xt,et>=xt)return this.diff_bisectSplit_($,it,et,lt,nt)}}}}return[new s.Diff(i,$),new s.Diff(d,it)]},s.prototype.diff_bisectSplit_=function($,it,nt,_,b){var c=$.substring(0,nt),a=it.substring(0,_),o=$.substring(nt),h=it.substring(_),g=this.diff_main(c,a,!1,b),tt=this.diff_main(o,h,!1,b);return g.concat(tt)},s.prototype.diff_linesToChars_=function($,it){var nt=[],_={};nt[0]="";function b(h){for(var g="",tt=0,at=-1,ht=nt.length;at<h.length-1;){at=h.indexOf(`
`,tt),at==-1&&(at=h.length-1);var _e=h.substring(tt,at+1);(_.hasOwnProperty?_.hasOwnProperty(_e):_[_e]!==void 0)?g+=String.fromCharCode(_[_e]):(ht==c&&(_e=h.substring(tt),at=h.length),g+=String.fromCharCode(ht),_[_e]=ht,nt[ht++]=_e),tt=at+1}return g}var c=4e4,a=b($);c=65535;var o=b(it);return{chars1:a,chars2:o,lineArray:nt}},s.prototype.diff_charsToLines_=function($,it){for(var nt=0;nt<$.length;nt++){for(var _=$[nt][1],b=[],c=0;c<_.length;c++)b[c]=it[_.charCodeAt(c)];$[nt][1]=b.join("")}},s.prototype.diff_commonPrefix=function($,it){if(!$||!it||$.charAt(0)!=it.charAt(0))return 0;for(var nt=0,_=Math.min($.length,it.length),b=_,c=0;nt<b;)$.substring(c,b)==it.substring(c,b)?(nt=b,c=nt):_=b,b=Math.floor((_-nt)/2+nt);return b},s.prototype.diff_commonSuffix=function($,it){if(!$||!it||$.charAt($.length-1)!=it.charAt(it.length-1))return 0;for(var nt=0,_=Math.min($.length,it.length),b=_,c=0;nt<b;)$.substring($.length-b,$.length-c)==it.substring(it.length-b,it.length-c)?(nt=b,c=nt):_=b,b=Math.floor((_-nt)/2+nt);return b},s.prototype.diff_commonOverlap_=function($,it){var nt=$.length,_=it.length;if(nt==0||_==0)return 0;nt>_?$=$.substring(nt-_):nt<_&&(it=it.substring(0,nt));var b=Math.min(nt,_);if($==it)return b;for(var c=0,a=1;;){var o=$.substring(b-a),h=it.indexOf(o);if(h==-1)return c;a+=h,(h==0||$.substring(b-a)==it.substring(0,a))&&(c=a,a++)}},s.prototype.diff_halfMatch_=function($,it){if(this.Diff_Timeout<=0)return null;var nt=$.length>it.length?$:it,_=$.length>it.length?it:$;if(nt.length<4||_.length*2<nt.length)return null;var b=this;function c(ut,ct,rt){for(var st=ut.substring(rt,rt+Math.floor(ut.length/4)),vt=-1,ot="",et,lt,mt,xt;(vt=ct.indexOf(st,vt+1))!=-1;){var wt=b.diff_commonPrefix(ut.substring(rt),ct.substring(vt)),St=b.diff_commonSuffix(ut.substring(0,rt),ct.substring(0,vt));ot.length<St+wt&&(ot=ct.substring(vt-St,vt)+ct.substring(vt,vt+wt),et=ut.substring(0,rt-St),lt=ut.substring(rt+wt),mt=ct.substring(0,vt-St),xt=ct.substring(vt+wt))}return ot.length*2>=ut.length?[et,lt,mt,xt,ot]:null}var a=c(nt,_,Math.ceil(nt.length/4)),o=c(nt,_,Math.ceil(nt.length/2)),h;if(!a&&!o)return null;o?a?h=a[4].length>o[4].length?a:o:h=o:h=a;var g,tt,at,ht;$.length>it.length?(g=h[0],tt=h[1],at=h[2],ht=h[3]):(at=h[0],ht=h[1],g=h[2],tt=h[3]);var _e=h[4];return[g,tt,at,ht,_e]},s.prototype.diff_cleanupSemantic=function($){for(var it=!1,nt=[],_=0,b=null,c=0,a=0,o=0,h=0,g=0;c<$.length;)$[c][0]==ft?(nt[_++]=c,a=h,o=g,h=0,g=0,b=$[c][1]):($[c][0]==d?h+=$[c][1].length:g+=$[c][1].length,b&&b.length<=Math.max(a,o)&&b.length<=Math.max(h,g)&&($.splice(nt[_-1],0,new s.Diff(i,b)),$[nt[_-1]+1][0]=d,_--,_--,c=_>0?nt[_-1]:-1,a=0,o=0,h=0,g=0,b=null,it=!0)),c++;for(it&&this.diff_cleanupMerge($),this.diff_cleanupSemanticLossless($),c=1;c<$.length;){if($[c-1][0]==i&&$[c][0]==d){var tt=$[c-1][1],at=$[c][1],ht=this.diff_commonOverlap_(tt,at),_e=this.diff_commonOverlap_(at,tt);ht>=_e?(ht>=tt.length/2||ht>=at.length/2)&&($.splice(c,0,new s.Diff(ft,at.substring(0,ht))),$[c-1][1]=tt.substring(0,tt.length-ht),$[c+1][1]=at.substring(ht),c++):(_e>=tt.length/2||_e>=at.length/2)&&($.splice(c,0,new s.Diff(ft,tt.substring(0,_e))),$[c-1][0]=d,$[c-1][1]=at.substring(0,at.length-_e),$[c+1][0]=i,$[c+1][1]=tt.substring(_e),c++),c++}c++}},s.prototype.diff_cleanupSemanticLossless=function($){function it(_e,ut){if(!_e||!ut)return 6;var ct=_e.charAt(_e.length-1),rt=ut.charAt(0),st=ct.match(s.nonAlphaNumericRegex_),vt=rt.match(s.nonAlphaNumericRegex_),ot=st&&ct.match(s.whitespaceRegex_),et=vt&&rt.match(s.whitespaceRegex_),lt=ot&&ct.match(s.linebreakRegex_),mt=et&&rt.match(s.linebreakRegex_),xt=lt&&_e.match(s.blanklineEndRegex_),wt=mt&&ut.match(s.blanklineStartRegex_);return xt||wt?5:lt||mt?4:st&&!ot&&et?3:ot||et?2:st||vt?1:0}for(var nt=1;nt<$.length-1;){if($[nt-1][0]==ft&&$[nt+1][0]==ft){var _=$[nt-1][1],b=$[nt][1],c=$[nt+1][1],a=this.diff_commonSuffix(_,b);if(a){var o=b.substring(b.length-a);_=_.substring(0,_.length-a),b=o+b.substring(0,b.length-a),c=o+c}for(var h=_,g=b,tt=c,at=it(_,b)+it(b,c);b.charAt(0)===c.charAt(0);){_+=b.charAt(0),b=b.substring(1)+c.charAt(0),c=c.substring(1);var ht=it(_,b)+it(b,c);ht>=at&&(at=ht,h=_,g=b,tt=c)}$[nt-1][1]!=h&&(h?$[nt-1][1]=h:($.splice(nt-1,1),nt--),$[nt][1]=g,tt?$[nt+1][1]=tt:($.splice(nt+1,1),nt--))}nt++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function($){for(var it=!1,nt=[],_=0,b=null,c=0,a=!1,o=!1,h=!1,g=!1;c<$.length;)$[c][0]==ft?($[c][1].length<this.Diff_EditCost&&(h||g)?(nt[_++]=c,a=h,o=g,b=$[c][1]):(_=0,b=null),h=g=!1):($[c][0]==i?g=!0:h=!0,b&&(a&&o&&h&&g||b.length<this.Diff_EditCost/2&&a+o+h+g==3)&&($.splice(nt[_-1],0,new s.Diff(i,b)),$[nt[_-1]+1][0]=d,_--,b=null,a&&o?(h=g=!0,_=0):(_--,c=_>0?nt[_-1]:-1,h=g=!1),it=!0)),c++;it&&this.diff_cleanupMerge($)},s.prototype.diff_cleanupMerge=function($){$.push(new s.Diff(ft,""));for(var it=0,nt=0,_=0,b="",c="",a;it<$.length;)switch($[it][0]){case d:_++,c+=$[it][1],it++;break;case i:nt++,b+=$[it][1],it++;break;case ft:nt+_>1?(nt!==0&&_!==0&&(a=this.diff_commonPrefix(c,b),a!==0&&(it-nt-_>0&&$[it-nt-_-1][0]==ft?$[it-nt-_-1][1]+=c.substring(0,a):($.splice(0,0,new s.Diff(ft,c.substring(0,a))),it++),c=c.substring(a),b=b.substring(a)),a=this.diff_commonSuffix(c,b),a!==0&&($[it][1]=c.substring(c.length-a)+$[it][1],c=c.substring(0,c.length-a),b=b.substring(0,b.length-a))),it-=nt+_,$.splice(it,nt+_),b.length&&($.splice(it,0,new s.Diff(i,b)),it++),c.length&&($.splice(it,0,new s.Diff(d,c)),it++),it++):it!==0&&$[it-1][0]==ft?($[it-1][1]+=$[it][1],$.splice(it,1)):it++,_=0,nt=0,b="",c="";break}$[$.length-1][1]===""&&$.pop();var o=!1;for(it=1;it<$.length-1;)$[it-1][0]==ft&&$[it+1][0]==ft&&($[it][1].substring($[it][1].length-$[it-1][1].length)==$[it-1][1]?($[it][1]=$[it-1][1]+$[it][1].substring(0,$[it][1].length-$[it-1][1].length),$[it+1][1]=$[it-1][1]+$[it+1][1],$.splice(it-1,1),o=!0):$[it][1].substring(0,$[it+1][1].length)==$[it+1][1]&&($[it-1][1]+=$[it+1][1],$[it][1]=$[it][1].substring($[it+1][1].length)+$[it+1][1],$.splice(it+1,1),o=!0)),it++;o&&this.diff_cleanupMerge($)},s.prototype.diff_xIndex=function($,it){var nt=0,_=0,b=0,c=0,a;for(a=0;a<$.length&&($[a][0]!==d&&(nt+=$[a][1].length),$[a][0]!==i&&(_+=$[a][1].length),!(nt>it));a++)b=nt,c=_;return $.length!=a&&$[a][0]===i?c:c+(it-b)},s.prototype.diff_prettyHtml=function($){for(var it=[],nt=/&/g,_=/</g,b=/>/g,c=/\n/g,a=0;a<$.length;a++){var o=$[a][0],h=$[a][1],g=h.replace(nt,"&amp;").replace(_,"&lt;").replace(b,"&gt;").replace(c,"&para;<br>");switch(o){case d:it[a]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case i:it[a]='<del style="background:#ffe6e6;">'+g+"</del>";break;case ft:it[a]="<span>"+g+"</span>";break}}return it.join("")},s.prototype.diff_text1=function($){for(var it=[],nt=0;nt<$.length;nt++)$[nt][0]!==d&&(it[nt]=$[nt][1]);return it.join("")},s.prototype.diff_text2=function($){for(var it=[],nt=0;nt<$.length;nt++)$[nt][0]!==i&&(it[nt]=$[nt][1]);return it.join("")},s.prototype.diff_levenshtein=function($){for(var it=0,nt=0,_=0,b=0;b<$.length;b++){var c=$[b][0],a=$[b][1];switch(c){case d:nt+=a.length;break;case i:_+=a.length;break;case ft:it+=Math.max(nt,_),nt=0,_=0;break}}return it+=Math.max(nt,_),it},s.prototype.diff_toDelta=function($){for(var it=[],nt=0;nt<$.length;nt++)switch($[nt][0]){case d:it[nt]="+"+encodeURI($[nt][1]);break;case i:it[nt]="-"+$[nt][1].length;break;case ft:it[nt]="="+$[nt][1].length;break}return it.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function($,it){for(var nt=[],_=0,b=0,c=it.split(/\t/g),a=0;a<c.length;a++){var o=c[a].substring(1);switch(c[a].charAt(0)){case"+":try{nt[_++]=new s.Diff(d,decodeURI(o))}catch{throw new Error("Illegal escape in diff_fromDelta: "+o)}break;case"-":case"=":var h=parseInt(o,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+o);var g=$.substring(b,b+=h);c[a].charAt(0)=="="?nt[_++]=new s.Diff(ft,g):nt[_++]=new s.Diff(i,g);break;default:if(c[a])throw new Error("Invalid diff operation in diff_fromDelta: "+c[a])}}if(b!=$.length)throw new Error("Delta length ("+b+") does not equal source text length ("+$.length+").");return nt},s.prototype.match_main=function($,it,nt){if($==null||it==null||nt==null)throw new Error("Null input. (match_main)");return nt=Math.max(0,Math.min(nt,$.length)),$==it?0:$.length?$.substring(nt,nt+it.length)==it?nt:this.match_bitap_($,it,nt):-1},s.prototype.match_bitap_=function($,it,nt){if(it.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var _=this.match_alphabet_(it),b=this;function c(et,lt){var mt=et/it.length,xt=Math.abs(nt-lt);return b.Match_Distance?mt+xt/b.Match_Distance:xt?1:mt}var a=this.Match_Threshold,o=$.indexOf(it,nt);o!=-1&&(a=Math.min(c(0,o),a),o=$.lastIndexOf(it,nt+it.length),o!=-1&&(a=Math.min(c(0,o),a)));var h=1<<it.length-1;o=-1;for(var g,tt,at=it.length+$.length,ht,_e=0;_e<it.length;_e++){for(g=0,tt=at;g<tt;)c(_e,nt+tt)<=a?g=tt:at=tt,tt=Math.floor((at-g)/2+g);at=tt;var ut=Math.max(1,nt-tt+1),ct=Math.min(nt+tt,$.length)+it.length,rt=Array(ct+2);rt[ct+1]=(1<<_e)-1;for(var st=ct;st>=ut;st--){var vt=_[$.charAt(st-1)];if(_e===0?rt[st]=(rt[st+1]<<1|1)&vt:rt[st]=(rt[st+1]<<1|1)&vt|((ht[st+1]|ht[st])<<1|1)|ht[st+1],rt[st]&h){var ot=c(_e,st-1);if(ot<=a)if(a=ot,o=st-1,o>nt)ut=Math.max(1,2*nt-o);else break}}if(c(_e+1,nt)>a)break;ht=rt}return o},s.prototype.match_alphabet_=function($){for(var it={},nt=0;nt<$.length;nt++)it[$.charAt(nt)]=0;for(var nt=0;nt<$.length;nt++)it[$.charAt(nt)]|=1<<$.length-nt-1;return it},s.prototype.patch_addContext_=function($,it){if(it.length!=0){if($.start2===null)throw Error("patch not initialized");for(var nt=it.substring($.start2,$.start2+$.length1),_=0;it.indexOf(nt)!=it.lastIndexOf(nt)&&nt.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)_+=this.Patch_Margin,nt=it.substring($.start2-_,$.start2+$.length1+_);_+=this.Patch_Margin;var b=it.substring($.start2-_,$.start2);b&&$.diffs.unshift(new s.Diff(ft,b));var c=it.substring($.start2+$.length1,$.start2+$.length1+_);c&&$.diffs.push(new s.Diff(ft,c)),$.start1-=b.length,$.start2-=b.length,$.length1+=b.length+c.length,$.length2+=b.length+c.length}},s.prototype.patch_make=function($,it,nt){var _,b;if(typeof $=="string"&&typeof it=="string"&&typeof nt>"u")_=$,b=this.diff_main(_,it,!0),b.length>2&&(this.diff_cleanupSemantic(b),this.diff_cleanupEfficiency(b));else if($&&typeof $=="object"&&typeof it>"u"&&typeof nt>"u")b=$,_=this.diff_text1(b);else if(typeof $=="string"&&it&&typeof it=="object"&&typeof nt>"u")_=$,b=it;else if(typeof $=="string"&&typeof it=="string"&&nt&&typeof nt=="object")_=$,b=nt;else throw new Error("Unknown call format to patch_make.");if(b.length===0)return[];for(var c=[],a=new s.patch_obj,o=0,h=0,g=0,tt=_,at=_,ht=0;ht<b.length;ht++){var _e=b[ht][0],ut=b[ht][1];switch(!o&&_e!==ft&&(a.start1=h,a.start2=g),_e){case d:a.diffs[o++]=b[ht],a.length2+=ut.length,at=at.substring(0,g)+ut+at.substring(g);break;case i:a.length1+=ut.length,a.diffs[o++]=b[ht],at=at.substring(0,g)+at.substring(g+ut.length);break;case ft:ut.length<=2*this.Patch_Margin&&o&&b.length!=ht+1?(a.diffs[o++]=b[ht],a.length1+=ut.length,a.length2+=ut.length):ut.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(a,tt),c.push(a),a=new s.patch_obj,o=0,tt=at,h=g);break}_e!==d&&(h+=ut.length),_e!==i&&(g+=ut.length)}return o&&(this.patch_addContext_(a,tt),c.push(a)),c},s.prototype.patch_deepCopy=function($){for(var it=[],nt=0;nt<$.length;nt++){var _=$[nt],b=new s.patch_obj;b.diffs=[];for(var c=0;c<_.diffs.length;c++)b.diffs[c]=new s.Diff(_.diffs[c][0],_.diffs[c][1]);b.start1=_.start1,b.start2=_.start2,b.length1=_.length1,b.length2=_.length2,it[nt]=b}return it},s.prototype.patch_apply=function($,it){if($.length==0)return[it,[]];$=this.patch_deepCopy($);var nt=this.patch_addPadding($);it=nt+it+nt,this.patch_splitMax($);for(var _=0,b=[],c=0;c<$.length;c++){var a=$[c].start2+_,o=this.diff_text1($[c].diffs),h,g=-1;if(o.length>this.Match_MaxBits?(h=this.match_main(it,o.substring(0,this.Match_MaxBits),a),h!=-1&&(g=this.match_main(it,o.substring(o.length-this.Match_MaxBits),a+o.length-this.Match_MaxBits),(g==-1||h>=g)&&(h=-1))):h=this.match_main(it,o,a),h==-1)b[c]=!1,_-=$[c].length2-$[c].length1;else{b[c]=!0,_=h-a;var tt;if(g==-1?tt=it.substring(h,h+o.length):tt=it.substring(h,g+this.Match_MaxBits),o==tt)it=it.substring(0,h)+this.diff_text2($[c].diffs)+it.substring(h+o.length);else{var at=this.diff_main(o,tt,!1);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(at)/o.length>this.Patch_DeleteThreshold)b[c]=!1;else{this.diff_cleanupSemanticLossless(at);for(var ht=0,_e,ut=0;ut<$[c].diffs.length;ut++){var ct=$[c].diffs[ut];ct[0]!==ft&&(_e=this.diff_xIndex(at,ht)),ct[0]===d?it=it.substring(0,h+_e)+ct[1]+it.substring(h+_e):ct[0]===i&&(it=it.substring(0,h+_e)+it.substring(h+this.diff_xIndex(at,ht+ct[1].length))),ct[0]!==i&&(ht+=ct[1].length)}}}}}return it=it.substring(nt.length,it.length-nt.length),[it,b]},s.prototype.patch_addPadding=function($){for(var it=this.Patch_Margin,nt="",_=1;_<=it;_++)nt+=String.fromCharCode(_);for(var _=0;_<$.length;_++)$[_].start1+=it,$[_].start2+=it;var b=$[0],c=b.diffs;if(c.length==0||c[0][0]!=ft)c.unshift(new s.Diff(ft,nt)),b.start1-=it,b.start2-=it,b.length1+=it,b.length2+=it;else if(it>c[0][1].length){var a=it-c[0][1].length;c[0][1]=nt.substring(c[0][1].length)+c[0][1],b.start1-=a,b.start2-=a,b.length1+=a,b.length2+=a}if(b=$[$.length-1],c=b.diffs,c.length==0||c[c.length-1][0]!=ft)c.push(new s.Diff(ft,nt)),b.length1+=it,b.length2+=it;else if(it>c[c.length-1][1].length){var a=it-c[c.length-1][1].length;c[c.length-1][1]+=nt.substring(0,a),b.length1+=a,b.length2+=a}return nt},s.prototype.patch_splitMax=function($){for(var it=this.Match_MaxBits,nt=0;nt<$.length;nt++)if(!($[nt].length1<=it)){var _=$[nt];$.splice(nt--,1);for(var b=_.start1,c=_.start2,a="";_.diffs.length!==0;){var o=new s.patch_obj,h=!0;for(o.start1=b-a.length,o.start2=c-a.length,a!==""&&(o.length1=o.length2=a.length,o.diffs.push(new s.Diff(ft,a)));_.diffs.length!==0&&o.length1<it-this.Patch_Margin;){var g=_.diffs[0][0],tt=_.diffs[0][1];g===d?(o.length2+=tt.length,c+=tt.length,o.diffs.push(_.diffs.shift()),h=!1):g===i&&o.diffs.length==1&&o.diffs[0][0]==ft&&tt.length>2*it?(o.length1+=tt.length,b+=tt.length,h=!1,o.diffs.push(new s.Diff(g,tt)),_.diffs.shift()):(tt=tt.substring(0,it-o.length1-this.Patch_Margin),o.length1+=tt.length,b+=tt.length,g===ft?(o.length2+=tt.length,c+=tt.length):h=!1,o.diffs.push(new s.Diff(g,tt)),tt==_.diffs[0][1]?_.diffs.shift():_.diffs[0][1]=_.diffs[0][1].substring(tt.length))}a=this.diff_text2(o.diffs),a=a.substring(a.length-this.Patch_Margin);var at=this.diff_text1(_.diffs).substring(0,this.Patch_Margin);at!==""&&(o.length1+=at.length,o.length2+=at.length,o.diffs.length!==0&&o.diffs[o.diffs.length-1][0]===ft?o.diffs[o.diffs.length-1][1]+=at:o.diffs.push(new s.Diff(ft,at))),h||$.splice(++nt,0,o)}}},s.prototype.patch_toText=function($){for(var it=[],nt=0;nt<$.length;nt++)it[nt]=$[nt];return it.join("")},s.prototype.patch_fromText=function($){var it=[];if(!$)return it;for(var nt=$.split(`
`),_=0,b=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;_<nt.length;){var c=nt[_].match(b);if(!c)throw new Error("Invalid patch string: "+nt[_]);var a=new s.patch_obj;for(it.push(a),a.start1=parseInt(c[1],10),c[2]===""?(a.start1--,a.length1=1):c[2]=="0"?a.length1=0:(a.start1--,a.length1=parseInt(c[2],10)),a.start2=parseInt(c[3],10),c[4]===""?(a.start2--,a.length2=1):c[4]=="0"?a.length2=0:(a.start2--,a.length2=parseInt(c[4],10)),_++;_<nt.length;){var o=nt[_].charAt(0);try{var h=decodeURI(nt[_].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+h)}if(o=="-")a.diffs.push(new s.Diff(i,h));else if(o=="+")a.diffs.push(new s.Diff(d,h));else if(o==" ")a.diffs.push(new s.Diff(ft,h));else{if(o=="@")break;if(o!=="")throw new Error('Invalid patch mode "'+o+'" in: '+h)}_++}}return it},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var $,it;this.length1===0?$=this.start1+",0":this.length1==1?$=this.start1+1:$=this.start1+1+","+this.length1,this.length2===0?it=this.start2+",0":this.length2==1?it=this.start2+1:it=this.start2+1+","+this.length2;for(var nt=["@@ -"+$+" +"+it+` @@
`],_,b=0;b<this.diffs.length;b++){switch(this.diffs[b][0]){case d:_="+";break;case i:_="-";break;case ft:_=" ";break}nt[b+1]=_+encodeURI(this.diffs[b][1])+`
`}return nt.join("").replace(/%20/g," ")},e.exports=s,e.exports.diff_match_patch=s,e.exports.DIFF_DELETE=i,e.exports.DIFF_INSERT=d,e.exports.DIFF_EQUAL=ft})(diffMatchPatch);var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(s,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,ft){d.__proto__=ft}||function(d,ft){for(var $ in ft)Object.prototype.hasOwnProperty.call(ft,$)&&(d[$]=ft[$])},e(s,i)};return function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function d(){this.constructor=s}s.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}}();Object.defineProperty(diff,"__esModule",{value:!0});var PropTypes=propTypes.exports,React=react.exports,split_1$1=split,DiffMatchPatch=diffMatchPatch.exports,DiffComponent=function(e){__extends(s,e);function s(i){var d=e.call(this,i)||this;return d.state={value:d.props.value},d.onChange=d.onChange.bind(d),d.diff=d.diff.bind(d),d}return s.prototype.componentDidUpdate=function(){var i=this.props.value;i!==this.state.value&&this.setState({value:i})},s.prototype.onChange=function(i){this.setState({value:i}),this.props.onChange&&this.props.onChange(i)},s.prototype.diff=function(){var i=new DiffMatchPatch,d=this.state.value[0],ft=this.state.value[1];if(d.length===0&&ft.length===0)return[];var $=i.diff_main(d,ft);i.diff_cleanupSemantic($);var it=this.generateDiffedLines($),nt=this.setCodeMarkers(it);return nt},s.prototype.generateDiffedLines=function(i){var d={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},ft={left:[],right:[]},$={left:1,right:1};return i.forEach(function(it){var nt=it[0],_=it[1],b=_.split(`
`).length-1;if(_.length!==0){var c=_[0],a=_[_.length-1],o=0;switch(nt){case d.DIFF_EQUAL:$.left+=b,$.right+=b;break;case d.DIFF_DELETE:c===`
`&&($.left++,b--),o=b,o===0&&ft.right.push({startLine:$.right,endLine:$.right}),a===`
`&&(o-=1),ft.left.push({startLine:$.left,endLine:$.left+o}),$.left+=b;break;case d.DIFF_INSERT:c===`
`&&($.right++,b--),o=b,o===0&&ft.left.push({startLine:$.left,endLine:$.left}),a===`
`&&(o-=1),ft.right.push({startLine:$.right,endLine:$.right+o}),$.right+=b;break;default:throw new Error("Diff type was not defined.")}}}),ft},s.prototype.setCodeMarkers=function(i){i===void 0&&(i={left:[],right:[]});for(var d=[],ft={left:[],right:[]},$=0;$<i.left.length;$++){var it={startRow:i.left[$].startLine-1,endRow:i.left[$].endLine,type:"text",className:"codeMarker"};ft.left.push(it)}for(var $=0;$<i.right.length;$++){var it={startRow:i.right[$].startLine-1,endRow:i.right[$].endLine,type:"text",className:"codeMarker"};ft.right.push(it)}return d[0]=ft.left,d[1]=ft.right,d},s.prototype.render=function(){var i=this.diff();return React.createElement(split_1$1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:i})},s.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},s.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},s}(React.Component);diff.default=DiffComponent;Object.defineProperty(lib$1,"__esModule",{value:!0});lib$1.diff=lib$1.split=void 0;var ace_1=ace$4,diff_1=diff;lib$1.diff=diff_1.default;var split_1=split;lib$1.split=split_1.default;var _default=lib$1.default=ace_1.default;const App$1="",BAUD_RATE_SPIKE_PRIME=115200,KEYBOARD_INTERRUPT="",END_OF_TRANSMISSION="",PROGRAM_PLACEHOLDER="// Write your Source \xA73 program here!",readUntilPrompt=async(e,s=1e3,i=!1)=>{const d=e.readable.getReader(),ft=setTimeout(()=>{throw d.releaseLock(),e.close(),new Error("Timed Out.")},s);let $="";for(;;){const{value:it,done:nt}=await d.read(),_=new TextDecoder().decode(it);i&&console.log(_),$+=_;const b=$.split(`
`);if($=b[b.length-1],$.substring(0,4)==">>> "||nt)return clearTimeout(ft),d.releaseLock(),nt}},writeLine=async(e,s)=>{const i=e.writable.getWriter(),d=new TextEncoder().encode(s+`\r
`);await i.write(d),i.releaseLock()},runProgram=async(e,s)=>{for(const i of s.split(`
`))await writeLine(e,i)};var extLanguage_tools={exports:{}};(function(e,s){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(i,d,ft){var $=i("./lib/dom"),it=i("./lib/oop"),nt=i("./lib/event_emitter").EventEmitter,_=i("./lib/lang"),b=i("./range").Range,c=i("./range_list").RangeList,a=i("./keyboard/hash_handler").HashHandler,o=i("./tokenizer").Tokenizer,h=i("./clipboard"),g={CURRENT_WORD:function(rt){return rt.session.getTextRange(rt.session.getWordRange())},SELECTION:function(rt,st,vt){var ot=rt.session.getTextRange();return vt?ot.replace(/\n\r?([ \t]*\S)/g,`
`+vt+"$1"):ot},CURRENT_LINE:function(rt){return rt.session.getLine(rt.getCursorPosition().row)},PREV_LINE:function(rt){return rt.session.getLine(rt.getCursorPosition().row-1)},LINE_INDEX:function(rt){return rt.getCursorPosition().row},LINE_NUMBER:function(rt){return rt.getCursorPosition().row+1},SOFT_TABS:function(rt){return rt.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(rt){return rt.session.getTabSize()},CLIPBOARD:function(rt){return h.getText&&h.getText()},FILENAME:function(rt){return/[^/\\]*$/.exec(this.FILEPATH(rt))[0]},FILENAME_BASE:function(rt){return/[^/\\]*$/.exec(this.FILEPATH(rt))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(rt){return this.FILEPATH(rt).replace(/[^/\\]*$/,"")},FILEPATH:function(rt){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(rt){var st=rt.session.$mode||{};return st.blockComment&&st.blockComment.start||""},BLOCK_COMMENT_END:function(rt){var st=rt.session.$mode||{};return st.blockComment&&st.blockComment.end||""},LINE_COMMENT:function(rt){var st=rt.session.$mode||{};return st.lineCommentStart||""},CURRENT_YEAR:tt.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:tt.bind(null,{year:"2-digit"}),CURRENT_MONTH:tt.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:tt.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:tt.bind(null,{month:"short"}),CURRENT_DATE:tt.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:tt.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:tt.bind(null,{weekday:"short"}),CURRENT_HOUR:tt.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:tt.bind(null,{minute:"2-digit"}),CURRENT_SECOND:tt.bind(null,{second:"2-digit"})};g.SELECTED_TEXT=g.SELECTION;function tt(rt){var st=new Date().toLocaleString("en-us",rt);return st.length==1?"0"+st:st}var at=function(){this.snippetMap={},this.snippetNameMap={}};(function(){it.implement(this,nt),this.getTokenizer=function(){return at.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function rt(ot){return ot=ot.substr(1),/^\d+$/.test(ot)?[{tabstopId:parseInt(ot,10)}]:[{text:ot}]}function st(ot){return"(?:[^\\\\"+ot+"]|\\\\.)"}var vt={regex:"/("+st("/")+"+)/",onMatch:function(ot,et,lt){var mt=lt[0];return mt.fmtString=!0,mt.guard=ot.slice(1,-1),mt.flag="",""},next:"formatString"};return at.$tokenizer=new o({start:[{regex:/\\./,onMatch:function(ot,et,lt){var mt=ot[1];return(mt=="}"&&lt.length||"`$\\".indexOf(mt)!=-1)&&(ot=mt),[ot]}},{regex:/}/,onMatch:function(ot,et,lt){return[lt.length?lt.shift():ot]}},{regex:/\$(?:\d+|\w+)/,onMatch:rt},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(ot,et,lt){var mt=rt(ot.substr(1));return lt.unshift(mt[0]),mt},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+st("\\|")+"*\\|",onMatch:function(ot,et,lt){var mt=ot.slice(1,-1).replace(/\\[,|\\]|,/g,function(xt){return xt.length==2?xt[1]:"\0"}).split("\0").map(function(xt){return{value:xt}});return lt[0].choices=mt,[mt[0]]},next:"start"},vt,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(ot,et,lt){return lt.length&&lt[0].expectElse?(lt[0].expectElse=!1,lt[0].ifEnd={elseEnd:lt[0]},[lt[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(ot,et,lt){var mt=ot[1];return mt=="}"&&lt.length||"`$\\".indexOf(mt)!=-1?ot=mt:mt=="n"?ot=`
`:mt=="t"?ot="	":"ulULE".indexOf(mt)!=-1&&(ot={changeCase:mt,local:mt>"a"}),[ot]}},{regex:"/\\w*}",onMatch:function(ot,et,lt){var mt=lt.shift();return mt&&(mt.flag=ot.slice(1,-1)),this.next=mt&&mt.tabstopId?"start":"",[mt||ot]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(ot,et,lt){return[{text:ot.slice(1)}]}},{regex:/\${\w+/,onMatch:function(ot,et,lt){var mt={text:ot.slice(2)};return lt.unshift(mt),[mt]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(ot,et,lt){var mt=lt.shift();return this.next=mt&&mt.tabstopId?"start":"",[mt||ot]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(ot,et,lt){var mt=lt[0];return mt.formatFunction=ot.slice(2,-1),[lt.shift()]},next:"formatString"},vt,{regex:/:[\?\-+]?/,onMatch:function(ot,et,lt){ot[1]=="+"&&(lt[0].ifEnd=lt[0]),ot[1]=="?"&&(lt[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),at.$tokenizer},this.tokenizeTmSnippet=function(rt,st){return this.getTokenizer().getLineTokens(rt,st).tokens.map(function(vt){return vt.value||vt})},this.getVariableValue=function(rt,st,vt){if(/^\d+$/.test(st))return(this.variables.__||{})[st]||"";if(/^[A-Z]\d+$/.test(st))return(this.variables[st[0]+"__"]||{})[st.substr(1)]||"";if(st=st.replace(/^TM_/,""),!this.variables.hasOwnProperty(st))return"";var ot=this.variables[st];return typeof ot=="function"&&(ot=this.variables[st](rt,st,vt)),ot==null?"":ot},this.variables=g,this.tmStrFormat=function(rt,st,vt){if(!st.fmt)return rt;var ot=st.flag||"",et=st.guard;et=new RegExp(et,ot.replace(/[^gim]/g,""));var lt=typeof st.fmt=="string"?this.tokenizeTmSnippet(st.fmt,"formatString"):st.fmt,mt=this,xt=rt.replace(et,function(){var wt=mt.variables.__;mt.variables.__=[].slice.call(arguments);for(var St=mt.resolveVariables(lt,vt),Tt="E",kt=0;kt<St.length;kt++){var Vt=St[kt];if(typeof Vt=="object")if(St[kt]="",Vt.changeCase&&Vt.local){var Ct=St[kt+1];Ct&&typeof Ct=="string"&&(Vt.changeCase=="u"?St[kt]=Ct[0].toUpperCase():St[kt]=Ct[0].toLowerCase(),St[kt+1]=Ct.substr(1))}else Vt.changeCase&&(Tt=Vt.changeCase);else Tt=="U"?St[kt]=Vt.toUpperCase():Tt=="L"&&(St[kt]=Vt.toLowerCase())}return mt.variables.__=wt,St.join("")});return xt},this.tmFormatFunction=function(rt,st,vt){return st.formatFunction=="upcase"?rt.toUpperCase():st.formatFunction=="downcase"?rt.toLowerCase():rt},this.resolveVariables=function(rt,st){for(var vt=[],ot="",et=!0,lt=0;lt<rt.length;lt++){var mt=rt[lt];if(typeof mt=="string"){vt.push(mt),mt==`
`?(et=!0,ot=""):et&&(ot=/^\t*/.exec(mt)[0],et=/\S/.test(mt));continue}if(!!mt){if(et=!1,mt.fmtString){var xt=rt.indexOf(mt,lt+1);xt==-1&&(xt=rt.length),mt.fmt=rt.slice(lt+1,xt),lt=xt}if(mt.text){var wt=this.getVariableValue(st,mt.text,ot)+"";mt.fmtString&&(wt=this.tmStrFormat(wt,mt,st)),mt.formatFunction&&(wt=this.tmFormatFunction(wt,mt,st)),wt&&!mt.ifEnd?(vt.push(wt),St(mt)):!wt&&mt.ifEnd&&St(mt.ifEnd)}else mt.elseEnd?St(mt.elseEnd):(mt.tabstopId!=null||mt.changeCase!=null)&&vt.push(mt)}}function St(Tt){var kt=rt.indexOf(Tt,lt+1);kt!=-1&&(lt=kt)}return vt},this.insertSnippetForSelection=function(rt,st){var vt=rt.getCursorPosition(),ot=rt.session.getLine(vt.row),et=rt.session.getTabString(),lt=ot.match(/^\s*/)[0];vt.column<lt.length&&(lt=lt.slice(0,vt.column)),st=st.replace(/\r/g,"");var mt=this.tokenizeTmSnippet(st);mt=this.resolveVariables(mt,rt),mt=mt.map(function(an){return an==`
`?an+lt:typeof an=="string"?an.replace(/\t/g,et):an});var xt=[];mt.forEach(function(an,dn){if(typeof an=="object"){var cn=an.tabstopId,Ut=xt[cn];if(Ut||(Ut=xt[cn]=[],Ut.index=cn,Ut.value="",Ut.parents={}),Ut.indexOf(an)===-1){an.choices&&!Ut.choices&&(Ut.choices=an.choices),Ut.push(an);var Wt=mt.indexOf(an,dn+1);if(Wt!==-1){var Nt=mt.slice(dn+1,Wt),ln=Nt.some(function(yn){return typeof yn=="object"});ln&&!Ut.value?Ut.value=Nt:Nt.length&&(!Ut.value||typeof Ut.value!="string")&&(Ut.value=Nt.join(""))}}}}),xt.forEach(function(an){an.length=0});var wt={};function St(an){for(var dn=[],cn=0;cn<an.length;cn++){var Ut=an[cn];if(typeof Ut=="object"){if(wt[Ut.tabstopId])continue;var Wt=an.lastIndexOf(Ut,cn-1);Ut=dn[Wt]||{tabstopId:Ut.tabstopId}}dn[cn]=Ut}return dn}for(var Tt=0;Tt<mt.length;Tt++){var kt=mt[Tt];if(typeof kt=="object"){var Vt=kt.tabstopId,Ct=xt[Vt],Rt=mt.indexOf(kt,Tt+1);if(wt[Vt]){wt[Vt]===kt&&(delete wt[Vt],Object.keys(wt).forEach(function(an){Ct.parents[an]=!0}));continue}wt[Vt]=kt;var zt=Ct.value;typeof zt!="string"?zt=St(zt):kt.fmt&&(zt=this.tmStrFormat(zt,kt,rt)),mt.splice.apply(mt,[Tt+1,Math.max(0,Rt-Tt)].concat(zt,kt)),Ct.indexOf(kt)===-1&&Ct.push(kt)}}var Xt=0,Pt=0,Mt="";mt.forEach(function(an){if(typeof an=="string"){var dn=an.split(`
`);dn.length>1?(Pt=dn[dn.length-1].length,Xt+=dn.length-1):Pt+=an.length,Mt+=an}else an&&(an.start?an.end={row:Xt,column:Pt}:an.start={row:Xt,column:Pt})});var jt=rt.getSelectionRange(),Zt=rt.session.replace(jt,Mt),Yt=new ht(rt),fn=rt.inVirtualSelectionMode&&rt.selection.index;Yt.addTabstops(xt,jt.start,Zt,fn)},this.insertSnippet=function(rt,st){var vt=this;if(rt.inVirtualSelectionMode)return vt.insertSnippetForSelection(rt,st);rt.forEachSelection(function(){vt.insertSnippetForSelection(rt,st)},null,{keepOrder:!0}),rt.tabstopManager&&rt.tabstopManager.tabNext()},this.$getScope=function(rt){var st=rt.session.$mode.$id||"";if(st=st.split("/").pop(),st==="html"||st==="php"){st==="php"&&!rt.session.$mode.inlinePhp&&(st="html");var vt=rt.getCursorPosition(),ot=rt.session.getState(vt.row);typeof ot=="object"&&(ot=ot[0]),ot.substring&&(ot.substring(0,3)=="js-"?st="javascript":ot.substring(0,4)=="css-"?st="css":ot.substring(0,4)=="php-"&&(st="php"))}return st},this.getActiveScopes=function(rt){var st=this.$getScope(rt),vt=[st],ot=this.snippetMap;return ot[st]&&ot[st].includeScopes&&vt.push.apply(vt,ot[st].includeScopes),vt.push("_"),vt},this.expandWithTab=function(rt,st){var vt=this,ot=rt.forEachSelection(function(){return vt.expandSnippetForSelection(rt,st)},null,{keepOrder:!0});return ot&&rt.tabstopManager&&rt.tabstopManager.tabNext(),ot},this.expandSnippetForSelection=function(rt,st){var vt=rt.getCursorPosition(),ot=rt.session.getLine(vt.row),et=ot.substring(0,vt.column),lt=ot.substr(vt.column),mt=this.snippetMap,xt;return this.getActiveScopes(rt).some(function(wt){var St=mt[wt];return St&&(xt=this.findMatchingSnippet(St,et,lt)),!!xt},this),xt?(st&&st.dryRun||(rt.session.doc.removeInLine(vt.row,vt.column-xt.replaceBefore.length,vt.column+xt.replaceAfter.length),this.variables.M__=xt.matchBefore,this.variables.T__=xt.matchAfter,this.insertSnippetForSelection(rt,xt.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(rt,st,vt){for(var ot=rt.length;ot--;){var et=rt[ot];if(!(et.startRe&&!et.startRe.test(st))&&!(et.endRe&&!et.endRe.test(vt))&&!(!et.startRe&&!et.endRe))return et.matchBefore=et.startRe?et.startRe.exec(st):[""],et.matchAfter=et.endRe?et.endRe.exec(vt):[""],et.replaceBefore=et.triggerRe?et.triggerRe.exec(st)[0]:"",et.replaceAfter=et.endTriggerRe?et.endTriggerRe.exec(vt)[0]:"",et}},this.snippetMap={},this.snippetNameMap={},this.register=function(rt,st){var vt=this.snippetMap,ot=this.snippetNameMap,et=this;rt||(rt=[]);function lt(wt){return wt&&!/^\^?\(.*\)\$?$|^\\b$/.test(wt)&&(wt="(?:"+wt+")"),wt||""}function mt(wt,St,Tt){return wt=lt(wt),St=lt(St),Tt?(wt=St+wt,wt&&wt[wt.length-1]!="$"&&(wt=wt+"$")):(wt=wt+St,wt&&wt[0]!="^"&&(wt="^"+wt)),new RegExp(wt)}function xt(wt){wt.scope||(wt.scope=st||"_"),st=wt.scope,vt[st]||(vt[st]=[],ot[st]={});var St=ot[st];if(wt.name){var Tt=St[wt.name];Tt&&et.unregister(Tt),St[wt.name]=wt}vt[st].push(wt),wt.prefix&&(wt.tabTrigger=wt.prefix),!wt.content&&wt.body&&(wt.content=Array.isArray(wt.body)?wt.body.join(`
`):wt.body),wt.tabTrigger&&!wt.trigger&&(!wt.guard&&/^\w/.test(wt.tabTrigger)&&(wt.guard="\\b"),wt.trigger=_.escapeRegExp(wt.tabTrigger)),!(!wt.trigger&&!wt.guard&&!wt.endTrigger&&!wt.endGuard)&&(wt.startRe=mt(wt.trigger,wt.guard,!0),wt.triggerRe=new RegExp(wt.trigger),wt.endRe=mt(wt.endTrigger,wt.endGuard,!0),wt.endTriggerRe=new RegExp(wt.endTrigger))}Array.isArray(rt)?rt.forEach(xt):Object.keys(rt).forEach(function(wt){xt(rt[wt])}),this._signal("registerSnippets",{scope:st})},this.unregister=function(rt,st){var vt=this.snippetMap,ot=this.snippetNameMap;function et(lt){var mt=ot[lt.scope||st];if(mt&&mt[lt.name]){delete mt[lt.name];var xt=vt[lt.scope||st],wt=xt&&xt.indexOf(lt);wt>=0&&xt.splice(wt,1)}}rt.content?et(rt):Array.isArray(rt)&&rt.forEach(et)},this.parseSnippetFile=function(rt){rt=rt.replace(/\r/g,"");for(var st=[],vt={},ot=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,et;et=ot.exec(rt);){if(et[1])try{vt=JSON.parse(et[1]),st.push(vt)}catch{}if(et[4])vt.content=et[4].replace(/^\t/gm,""),st.push(vt),vt={};else{var lt=et[2],mt=et[3];if(lt=="regex"){var xt=/\/((?:[^\/\\]|\\.)*)|$/g;vt.guard=xt.exec(mt)[1],vt.trigger=xt.exec(mt)[1],vt.endTrigger=xt.exec(mt)[1],vt.endGuard=xt.exec(mt)[1]}else lt=="snippet"?(vt.tabTrigger=mt.match(/^\S*/)[0],vt.name||(vt.name=mt)):lt&&(vt[lt]=mt)}}return st},this.getSnippetByName=function(rt,st){var vt=this.snippetNameMap,ot;return this.getActiveScopes(st).some(function(et){var lt=vt[et];return lt&&(ot=lt[rt]),!!ot},this),ot}}).call(at.prototype);var ht=function(rt){if(rt.tabstopManager)return rt.tabstopManager;rt.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=_.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(rt)};(function(){this.attach=function(rt){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=rt,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(rt){for(var st=rt.action[0]=="r",vt=this.selectedTabstop||{},ot=vt.parents||{},et=(this.tabstops||[]).slice(),lt=0;lt<et.length;lt++){var mt=et[lt],xt=mt==vt||ot[mt.index];if(mt.rangeList.$bias=xt?0:1,rt.action=="remove"&&mt!==vt){var wt=mt.parents&&mt.parents[vt.index],St=mt.rangeList.pointIndex(rt.start,wt);St=St<0?-St-1:St+1;var Tt=mt.rangeList.pointIndex(rt.end,wt);Tt=Tt<0?-Tt-1:Tt-1;for(var kt=mt.rangeList.ranges.slice(St,Tt),Vt=0;Vt<kt.length;Vt++)this.removeRange(kt[Vt])}mt.rangeList.$onChange(rt)}var Ct=this.editor.session;!this.$inChange&&st&&Ct.getLength()==1&&!Ct.getValue()&&this.detach()},this.updateLinkedFields=function(){var rt=this.selectedTabstop;if(!(!rt||!rt.hasLinkedRanges||!rt.firstNonLinked)){this.$inChange=!0;for(var st=this.editor.session,vt=st.getTextRange(rt.firstNonLinked),ot=0;ot<rt.length;ot++){var et=rt[ot];if(!!et.linked){var lt=et.original,mt=d.snippetManager.tmStrFormat(vt,lt,this.editor);st.replace(et,mt)}}this.$inChange=!1}},this.onAfterExec=function(rt){rt.command&&!rt.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(!!this.editor){for(var rt=this.editor.selection.lead,st=this.editor.selection.anchor,vt=this.editor.selection.isEmpty(),ot=0;ot<this.ranges.length;ot++)if(!this.ranges[ot].linked){var et=this.ranges[ot].contains(rt.row,rt.column),lt=vt||this.ranges[ot].contains(st.row,st.column);if(et&&lt)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(rt){var st=this.tabstops.length,vt=this.index+(rt||1);vt=Math.min(Math.max(vt,1),st),vt==st&&(vt=0),this.selectTabstop(vt),vt===0&&this.detach()},this.selectTabstop=function(rt){this.$openTabstops=null;var st=this.tabstops[this.index];if(st&&this.addTabstopMarkers(st),this.index=rt,st=this.tabstops[this.index],!(!st||!st.length)){this.selectedTabstop=st;var vt=st.firstNonLinked||st;if(st.choices&&(vt.cursor=vt.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(vt);else{var ot=this.editor.multiSelect;ot.toSingleRange(vt);for(var et=0;et<st.length;et++)st.hasLinkedRanges&&st[et].linked||ot.addRange(st[et].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(rt,st,vt){var ot=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!rt[0]){var et=b.fromPoints(vt,vt);ut(et.start,st),ut(et.end,st),rt[0]=[et],rt[0].index=0}var lt=this.index,mt=[lt+1,0],xt=this.ranges;rt.forEach(function(wt,St){for(var Tt=this.$openTabstops[St]||wt,kt=0;kt<wt.length;kt++){var Vt=wt[kt],Ct=b.fromPoints(Vt.start,Vt.end||Vt.start);_e(Ct.start,st),_e(Ct.end,st),Ct.original=Vt,Ct.tabstop=Tt,xt.push(Ct),Tt!=wt?Tt.unshift(Ct):Tt[kt]=Ct,Vt.fmtString||Tt.firstNonLinked&&ot?(Ct.linked=!0,Tt.hasLinkedRanges=!0):Tt.firstNonLinked||(Tt.firstNonLinked=Ct)}Tt.firstNonLinked||(Tt.hasLinkedRanges=!1),Tt===wt&&(mt.push(Tt),this.$openTabstops[St]=Tt),this.addTabstopMarkers(Tt),Tt.rangeList=Tt.rangeList||new c,Tt.rangeList.$bias=0,Tt.rangeList.addList(Tt)},this),mt.length>2&&(this.tabstops.length&&mt.push(mt.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,mt))},this.addTabstopMarkers=function(rt){var st=this.editor.session;rt.forEach(function(vt){vt.markerId||(vt.markerId=st.addMarker(vt,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(rt){var st=this.editor.session;rt.forEach(function(vt){st.removeMarker(vt.markerId),vt.markerId=null})},this.removeRange=function(rt){var st=rt.tabstop.indexOf(rt);st!=-1&&rt.tabstop.splice(st,1),st=this.ranges.indexOf(rt),st!=-1&&this.ranges.splice(st,1),st=rt.tabstop.rangeList.ranges.indexOf(rt),st!=-1&&rt.tabstop.splice(st,1),this.editor.session.removeMarker(rt.markerId),rt.tabstop.length||(st=this.tabstops.indexOf(rt.tabstop),st!=-1&&this.tabstops.splice(st,1),this.tabstops.length||this.detach())},this.keyboardHandler=new a,this.keyboardHandler.bindKeys({Tab:function(rt){d.snippetManager&&d.snippetManager.expandWithTab(rt)||(rt.tabstopManager.tabNext(1),rt.renderer.scrollCursorIntoView())},"Shift-Tab":function(rt){rt.tabstopManager.tabNext(-1),rt.renderer.scrollCursorIntoView()},Esc:function(rt){rt.tabstopManager.detach()}})}).call(ht.prototype);var _e=function(rt,st){rt.row==0&&(rt.column+=st.column),rt.row+=st.row},ut=function(rt,st){rt.row==st.row&&(rt.column-=st.column),rt.row-=st.row};$.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),d.snippetManager=new at;var ct=i("./editor").Editor;(function(){this.insertSnippet=function(rt,st){return d.snippetManager.insertSnippet(this,rt,st)},this.expandSnippet=function(rt){return d.snippetManager.expandWithTab(this,rt)}}).call(ct.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(i,d,ft){var $=i("../virtual_renderer").VirtualRenderer,it=i("../editor").Editor,nt=i("../range").Range,_=i("../lib/event"),b=i("../lib/lang"),c=i("../lib/dom"),a=function(h){var g=new $(h);g.$maxLines=4;var tt=new it(g);return tt.setHighlightActiveLine(!1),tt.setShowPrintMargin(!1),tt.renderer.setShowGutter(!1),tt.renderer.setHighlightGutterLine(!1),tt.$mouseHandler.$focusTimeout=0,tt.$highlightTagPending=!0,tt},o=function(h){var g=c.createElement("div"),tt=new a(g);h&&h.appendChild(g),g.style.display="none",tt.renderer.content.style.cursor="default",tt.renderer.setStyle("ace_autocomplete"),tt.setOption("displayIndentGuides",!1),tt.setOption("dragDelay",150);var at=function(){};tt.focus=at,tt.$isFocused=!0,tt.renderer.$cursorLayer.restartTimer=at,tt.renderer.$cursorLayer.element.style.opacity=0,tt.renderer.$maxLines=8,tt.renderer.$keepTextAreaAtCursor=!1,tt.setHighlightActiveLine(!1),tt.session.highlight(""),tt.session.$searchHighlight.clazz="ace_highlight-marker",tt.on("mousedown",function(vt){var ot=vt.getDocumentPosition();tt.selection.moveToPosition(ot),ut.start.row=ut.end.row=ot.row,vt.stop()});var ht,_e=new nt(-1,0,-1,1/0),ut=new nt(-1,0,-1,1/0);ut.id=tt.session.addMarker(ut,"ace_active-line","fullLine"),tt.setSelectOnHover=function(vt){vt?_e.id&&(tt.session.removeMarker(_e.id),_e.id=null):_e.id=tt.session.addMarker(_e,"ace_line-hover","fullLine")},tt.setSelectOnHover(!1),tt.on("mousemove",function(vt){if(!ht){ht=vt;return}if(!(ht.x==vt.x&&ht.y==vt.y)){ht=vt,ht.scrollTop=tt.renderer.scrollTop;var ot=ht.getDocumentPosition().row;_e.start.row!=ot&&(_e.id||tt.setRow(ot),rt(ot))}}),tt.renderer.on("beforeRender",function(){if(ht&&_e.start.row!=-1){ht.$pos=null;var vt=ht.getDocumentPosition().row;_e.id||tt.setRow(vt),rt(vt,!0)}}),tt.renderer.on("afterRender",function(){var vt=tt.getRow(),ot=tt.renderer.$textLayer,et=ot.element.childNodes[vt-ot.config.firstRow];et!==ot.selectedNode&&ot.selectedNode&&c.removeCssClass(ot.selectedNode,"ace_selected"),ot.selectedNode=et,et&&c.addCssClass(et,"ace_selected")});var ct=function(){rt(-1)},rt=function(vt,ot){vt!==_e.start.row&&(_e.start.row=_e.end.row=vt,ot||tt.session._emit("changeBackMarker"),tt._emit("changeHoverMarker"))};tt.getHoveredRow=function(){return _e.start.row},_.addListener(tt.container,"mouseout",ct),tt.on("hide",ct),tt.on("changeSelection",ct),tt.session.doc.getLength=function(){return tt.data.length},tt.session.doc.getLine=function(vt){var ot=tt.data[vt];return typeof ot=="string"?ot:ot&&ot.value||""};var st=tt.session.bgTokenizer;return st.$tokenizeRow=function(vt){var ot=tt.data[vt],et=[];if(!ot)return et;typeof ot=="string"&&(ot={value:ot});var lt=ot.caption||ot.value||ot.name;function mt(Rt,zt){Rt&&et.push({type:(ot.className||"")+(zt||""),value:Rt})}for(var xt=lt.toLowerCase(),wt=(tt.filterText||"").toLowerCase(),St=0,Tt=0,kt=0;kt<=wt.length;kt++)if(kt!=Tt&&(ot.matchMask&1<<kt||kt==wt.length)){var Vt=wt.slice(Tt,kt);Tt=kt;var Ct=xt.indexOf(Vt,St);if(Ct==-1)continue;mt(lt.slice(St,Ct),""),St=Ct+Vt.length,mt(lt.slice(Ct,St),"completion-highlight")}return mt(lt.slice(St,lt.length),""),ot.meta&&et.push({type:"completion-meta",value:ot.meta}),ot.message&&et.push({type:"completion-message",value:ot.message}),et},st.$updateOnChange=at,st.start=at,tt.session.$computeWidth=function(){return this.screenWidth=0},tt.isOpen=!1,tt.isTopdown=!1,tt.autoSelect=!0,tt.filterText="",tt.data=[],tt.setData=function(vt,ot){tt.filterText=ot||"",tt.setValue(b.stringRepeat(`
`,vt.length),-1),tt.data=vt||[],tt.setRow(0)},tt.getData=function(vt){return tt.data[vt]},tt.getRow=function(){return ut.start.row},tt.setRow=function(vt){vt=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,vt)),ut.start.row!=vt&&(tt.selection.clearSelection(),ut.start.row=ut.end.row=vt||0,tt.session._emit("changeBackMarker"),tt.moveCursorTo(vt||0,0),tt.isOpen&&tt._signal("select"))},tt.on("changeSelection",function(){tt.isOpen&&tt.setRow(tt.selection.lead.row),tt.renderer.scrollCursorIntoView()}),tt.hide=function(){this.container.style.display="none",this._signal("hide"),tt.isOpen=!1},tt.show=function(vt,ot,et){var lt=this.container,mt=window.innerHeight,xt=window.innerWidth,wt=this.renderer,St=wt.$maxLines*ot*1.4,Tt=vt.top+this.$borderSize,kt=Tt>mt/2&&!et;kt&&Tt+ot+St>mt?(wt.$maxPixelHeight=Tt-2*this.$borderSize,lt.style.top="",lt.style.bottom=mt-Tt+"px",tt.isTopdown=!1):(Tt+=ot,wt.$maxPixelHeight=mt-Tt-.2*ot,lt.style.top=Tt+"px",lt.style.bottom="",tt.isTopdown=!0),lt.style.display="";var Vt=vt.left;Vt+lt.offsetWidth>xt&&(Vt=xt-lt.offsetWidth),lt.style.left=Vt+"px",this._signal("show"),ht=null,tt.isOpen=!0},tt.goTo=function(vt){var ot=this.getRow(),et=this.session.getLength()-1;switch(vt){case"up":ot=ot<=0?et:ot-1;break;case"down":ot=ot>=et?-1:ot+1;break;case"start":ot=0;break;case"end":ot=et;break}this.setRow(ot)},tt.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},tt.$imageSize=0,tt.$borderSize=1,tt};c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin: 0.9em;
}
.ace_completion-message {
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}`,"autocompletion.css",!1),d.AcePopup=o,d.$singleLineEditor=a}),ace.define("ace/autocomplete/util",["require","exports","module"],function(i,d,ft){d.parForEach=function(it,nt,_){var b=0,c=it.length;c===0&&_();for(var a=0;a<c;a++)nt(it[a],function(o,h){b++,b===c&&_(o,h)})};var $=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;d.retrievePrecedingIdentifier=function(it,nt,_){_=_||$;for(var b=[],c=nt-1;c>=0&&_.test(it[c]);c--)b.push(it[c]);return b.reverse().join("")},d.retrieveFollowingIdentifier=function(it,nt,_){_=_||$;for(var b=[],c=nt;c<it.length&&_.test(it[c]);c++)b.push(it[c]);return b},d.getCompletionPrefix=function(it){var nt=it.getCursorPosition(),_=it.session.getLine(nt.row),b;return it.completers.forEach(function(c){c.identifierRegexps&&c.identifierRegexps.forEach(function(a){!b&&a&&(b=this.retrievePrecedingIdentifier(_,nt.column,a))}.bind(this))}.bind(this)),b||this.retrievePrecedingIdentifier(_,nt.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(i,d,ft){var $=i("./keyboard/hash_handler").HashHandler,it=i("./autocomplete/popup").AcePopup,nt=i("./autocomplete/util"),_=i("./lib/lang"),b=i("./lib/dom"),c=i("./snippets").snippetManager,a=i("./config"),o=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new $,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=_.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=_.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new it(document.body||document.documentElement),this.popup.on("click",function(g){this.insertMatch(),g.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(g,tt,at){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),g.keyBinding.addKeyboardHandler(this.keyboardHandler);var ht=g.renderer;if(this.popup.setRow(this.autoSelect?0:-1),at)at&&!tt&&this.detach();else{this.popup.setTheme(g.getTheme()),this.popup.setFontSize(g.getFontSize());var _e=ht.layerConfig.lineHeight,ut=ht.$cursorLayer.getPixelPosition(this.base,!0);ut.left-=this.popup.getTextLeftOffset();var ct=g.container.getBoundingClientRect();ut.top+=ct.top-ht.layerConfig.offset,ut.left+=ct.left-g.renderer.scrollLeft,ut.left+=ht.gutterWidth,this.popup.show(ut,_e)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(g){var tt=this.editor.selection.lead;(tt.row!=this.base.row||tt.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(g){var tt=document.activeElement,at=this.editor.textInput.getElement(),ht=g.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(g.relatedTarget),_e=this.popup&&this.popup.container;tt!=at&&tt.parentNode!=_e&&!ht&&tt!=this.tooltipNode&&g.relatedTarget!=at&&this.detach()},this.mousedownListener=function(g){this.detach()},this.mousewheelListener=function(g){this.detach()},this.goTo=function(g){this.popup.goTo(g)},this.insertMatch=function(g,tt){if(g||(g=this.popup.getData(this.popup.getRow())),!g)return!1;var at=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),g.completer&&g.completer.insertMatch)g.completer.insertMatch(this.editor,g);else{if(!at)return!1;if(at.filterText)for(var ht=this.editor.selection.getAllRanges(),_e=0,ut;ut=ht[_e];_e++)ut.start.column-=at.filterText.length,this.editor.session.remove(ut);g.snippet?c.insertSnippet(this.editor,g.snippet):this.editor.execCommand("insertstring",g.value||g)}this.completions==at&&this.detach(),this.editor.endOperation()},this.commands={Up:function(g){g.completer.goTo("up")},Down:function(g){g.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(g){g.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(g){g.completer.goTo("end")},Esc:function(g){g.completer.detach()},Return:function(g){return g.completer.insertMatch()},"Shift-Return":function(g){g.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(g){var tt=g.completer.insertMatch();if(!tt&&!g.tabstopManager)g.completer.goTo("down");else return tt},PageUp:function(g){g.completer.popup.gotoPageUp()},PageDown:function(g){g.completer.popup.gotoPageDown()}},this.gatherCompletions=function(g,tt){var at=g.getSession(),ht=g.getCursorPosition(),_e=nt.getCompletionPrefix(g);this.base=at.doc.createAnchor(ht.row,ht.column-_e.length),this.base.$insertRight=!0;var ut=[],ct=g.completers.length;return g.completers.forEach(function(rt,st){rt.getCompletions(g,at,ht,_e,function(vt,ot){!vt&&ot&&(ut=ut.concat(ot)),tt(null,{prefix:nt.getCompletionPrefix(g),matches:ut,finished:--ct===0})})}),!0},this.showPopup=function(g,tt){this.editor&&this.detach(),this.activated=!0,this.editor=g,g.completer!=this&&(g.completer&&g.completer.detach(),g.completer=this),g.on("changeSelection",this.changeListener),g.on("blur",this.blurListener),g.on("mousedown",this.mousedownListener),g.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,tt)},this.updateCompletions=function(g,tt){if(g&&this.base&&this.completions){var at=this.editor.getCursorPosition(),ht=this.editor.session.getTextRange({start:this.base,end:at});if(ht==this.completions.filterText)return;if(this.completions.setFilter(ht),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==ht&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,ht,g);return}if(tt&&tt.matches){var at=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(at.row,at.column),this.base.$insertRight=!0,this.completions=new h(tt.matches),this.openPopup(this.editor,"",g)}var _e=this.gatherCompletionsId,ut=function(ot){if(!!ot.finished)return this.detach()}.bind(this),ct=function(ot){var et=ot.prefix,lt=ot.matches;this.completions=new h(lt),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(et);var mt=this.completions.filtered;if(!mt.length||mt.length==1&&mt[0].value==et&&!mt[0].snippet)return ut(ot);if(this.autoInsert&&mt.length==1&&ot.finished)return this.insertMatch(mt[0]);this.openPopup(this.editor,et,g)}.bind(this),rt=!0,st=null;if(this.gatherCompletions(this.editor,function(ot,et){var lt=et.prefix,mt=et&&et.matches;if(!mt||!mt.length)return ut(et);if(!(lt.indexOf(et.prefix)!==0||_e!=this.gatherCompletionsId)){if(rt){st=et;return}ct(et)}}.bind(this)),rt=!1,st){var vt=st;st=null,ct(vt)}},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var g=this.popup,tt=g.data,at=tt&&(tt[g.getHoveredRow()]||tt[g.getRow()]),ht=null;if(!at||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();if(this.editor.completers.some(function(_e){return _e.getDocTooltip&&(ht=_e.getDocTooltip(at)),ht}),!ht&&typeof at!="string"&&(ht=at),typeof ht=="string"&&(ht={docText:ht}),!ht||!(ht.docHTML||ht.docText))return this.hideDocTooltip();this.showDocTooltip(ht)},this.showDocTooltip=function(g){this.tooltipNode||(this.tooltipNode=b.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var tt=this.tooltipNode;g.docHTML?tt.innerHTML=g.docHTML:g.docText&&(tt.textContent=g.docText),tt.parentNode||document.body.appendChild(tt);var at=this.popup,ht=at.container.getBoundingClientRect();tt.style.top=at.container.style.top,tt.style.bottom=at.container.style.bottom,tt.style.display="block",window.innerWidth-ht.right<320?ht.left<320?at.isTopdown?(tt.style.top=ht.bottom+"px",tt.style.left=ht.left+"px",tt.style.right="",tt.style.bottom=""):(tt.style.top=at.container.offsetTop-tt.offsetHeight+"px",tt.style.left=ht.left+"px",tt.style.right="",tt.style.bottom=""):(tt.style.right=window.innerWidth-ht.left+"px",tt.style.left=""):(tt.style.left=ht.right+1+"px",tt.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var g=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==g&&this.editor.focus(),this.tooltipNode=null,g.parentNode&&g.parentNode.removeChild(g)}},this.onTooltipClick=function(g){for(var tt=g.target;tt&&tt!=this.tooltipNode;){if(tt.nodeName=="A"&&tt.href){tt.rel="noreferrer",tt.target="_blank";break}tt=tt.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var g=this.popup.container;g&&g.parentNode&&g.parentNode.removeChild(g)}this.editor&&this.editor.completer==this&&this.editor.completer==null,this.popup=null}}).call(o.prototype),o.for=function(g){return g.completer||(a.get("sharedPopups")?(o.$shared||(o.$sharedInstance=new o),g.completer=o.$sharedInstance):(g.completer=new o,g.once("destroy",function(tt,at){at.completer.destroy()}))),g.completer},o.startCommand={name:"startAutocomplete",exec:function(g,tt){var at=o.for(g);at.autoInsert=!1,at.autoSelect=!0,at.showPopup(g,tt),at.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(g,tt){this.all=g,this.filtered=g,this.filterText=tt||"",this.exactMatch=!1};(function(){this.setFilter=function(g){if(g.length>this.filterText&&g.lastIndexOf(this.filterText,0)===0)var tt=this.filtered;else var tt=this.all;this.filterText=g,tt=this.filterCompletions(tt,this.filterText),tt=tt.sort(function(ht,_e){return _e.exactMatch-ht.exactMatch||_e.$score-ht.$score||(ht.caption||ht.value).localeCompare(_e.caption||_e.value)});var at=null;tt=tt.filter(function(ht){var _e=ht.snippet||ht.caption||ht.value;return _e===at?!1:(at=_e,!0)}),this.filtered=tt},this.filterCompletions=function(g,tt){var at=[],ht=tt.toUpperCase(),_e=tt.toLowerCase();e:for(var ut=0,ct;ct=g[ut];ut++){var rt=ct.caption||ct.value||ct.snippet;if(!!rt){var st=-1,vt=0,ot=0,et,lt;if(this.exactMatch){if(tt!==rt.substr(0,tt.length))continue e}else{var mt=rt.toLowerCase().indexOf(_e);if(mt>-1)ot=mt;else for(var xt=0;xt<tt.length;xt++){var wt=rt.indexOf(_e[xt],st+1),St=rt.indexOf(ht[xt],st+1);if(et=wt>=0&&(St<0||wt<St)?wt:St,et<0)continue e;lt=et-st-1,lt>0&&(st===-1&&(ot+=10),ot+=lt,vt=vt|1<<xt),st=et}}ct.matchMask=vt,ct.exactMatch=ot?0:1,ct.$score=(ct.score||0)-ot,at.push(ct)}}return at}}).call(h.prototype),d.Autocomplete=o,d.FilteredList=h}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(i,d,ft){var $=i("../range").Range,it=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function nt(b,c){var a=b.getTextRange($.fromPoints({row:0,column:0},c));return a.split(it).length-1}function _(b,c){var a=nt(b,c),o=b.getValue().split(it),h=Object.create(null),g=o[a];return o.forEach(function(tt,at){if(!(!tt||tt===g)){var ht=Math.abs(a-at),_e=o.length-ht;h[tt]?h[tt]=Math.max(_e,h[tt]):h[tt]=_e}}),h}d.getCompletions=function(b,c,a,o,h){var g=_(c,a),tt=Object.keys(g);h(null,tt.map(function(at){return{caption:at,value:at,score:g[at],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(i,d,ft){var $=i("../snippets").snippetManager,it=i("../autocomplete").Autocomplete,nt=i("../config"),_=i("../lib/lang"),b=i("../autocomplete/util"),c=i("../autocomplete/text_completer"),a={getCompletions:function(rt,st,vt,ot,et){if(st.$mode.completer)return st.$mode.completer.getCompletions(rt,st,vt,ot,et);var lt=rt.session.getState(vt.row),mt=st.$mode.getCompletions(lt,st,vt,ot);et(null,mt)}},o=function(rt){var st={};return rt.replace(/\${(\d+)(:(.*?))?}/g,function(vt,ot,et,lt){return st[ot]=lt||""}).replace(/\$(\d+?)/g,function(vt,ot){return st[ot]})},h={getCompletions:function(rt,st,vt,ot,et){var lt=[],mt=st.getTokenAt(vt.row,vt.column);mt&&mt.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?lt.push("html-tag"):lt=$.getActiveScopes(rt);var xt=$.snippetMap,wt=[];lt.forEach(function(St){for(var Tt=xt[St]||[],kt=Tt.length;kt--;){var Vt=Tt[kt],Ct=Vt.name||Vt.tabTrigger;!Ct||wt.push({caption:Ct,snippet:Vt.content,meta:Vt.tabTrigger&&!Vt.name?Vt.tabTrigger+"\u21E5 ":"snippet",type:"snippet"})}},this),et(null,wt)},getDocTooltip:function(rt){rt.type=="snippet"&&!rt.docHTML&&(rt.docHTML=["<b>",_.escapeHTML(rt.caption),"</b>","<hr></hr>",_.escapeHTML(o(rt.snippet))].join(""))}},g=[h,c,a];d.setCompleters=function(rt){g.length=0,rt&&g.push.apply(g,rt)},d.addCompleter=function(rt){g.push(rt)},d.textCompleter=c,d.keyWordCompleter=a,d.snippetCompleter=h;var tt={name:"expandSnippet",exec:function(rt){return $.expandWithTab(rt)},bindKey:"Tab"},at=function(rt,st){ht(st.session.$mode)},ht=function(rt){typeof rt=="string"&&(rt=nt.$modes[rt]),rt&&($.files||($.files={}),_e(rt.$id,rt.snippetFileId),rt.modes&&rt.modes.forEach(ht))},_e=function(rt,st){!st||!rt||$.files[rt]||($.files[rt]={},nt.loadModule(st,function(vt){!vt||($.files[rt]=vt,!vt.snippets&&vt.snippetText&&(vt.snippets=$.parseSnippetFile(vt.snippetText)),$.register(vt.snippets||[],vt.scope),vt.includeScopes&&($.snippetMap[vt.scope].includeScopes=vt.includeScopes,vt.includeScopes.forEach(function(ot){ht("ace/mode/"+ot)})))}))},ut=function(rt){var st=rt.editor,vt=st.completer&&st.completer.activated;if(rt.command.name==="backspace")vt&&!b.getCompletionPrefix(st)&&st.completer.detach();else if(rt.command.name==="insertstring"){var ot=b.getCompletionPrefix(st);if(ot&&!vt){var et=it.for(st);et.autoInsert=!1,et.showPopup(st)}}},ct=i("../editor").Editor;i("../config").defineOptions(ct.prototype,"editor",{enableBasicAutocompletion:{set:function(rt){rt?(this.completers||(this.completers=Array.isArray(rt)?rt:g),this.commands.addCommand(it.startCommand)):this.commands.removeCommand(it.startCommand)},value:!1},enableLiveAutocompletion:{set:function(rt){rt?(this.completers||(this.completers=Array.isArray(rt)?rt:g),this.commands.on("afterExec",ut)):this.commands.removeListener("afterExec",ut)},value:!1},enableSnippets:{set:function(rt){rt?(this.commands.addCommand(tt),this.on("changeMode",at),at(null,this)):(this.commands.removeCommand(tt),this.off("changeMode",at))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(i){e&&(e.exports=i)})}()})(extLanguage_tools);var modeJavascript={exports:{}};(function(e,s){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,d,ft){var $=i("../lib/oop"),it=i("./text_highlight_rules").TextHighlightRules,nt=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},nt.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};$.inherits(nt,it),nt.getTagRule=function(_){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},nt.getStartRule=function(_){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:_}},nt.getEndRule=function(_){return{token:"comment.doc",regex:"\\*\\/",next:_}},d.DocCommentHighlightRules=nt}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(i,d,ft){var $=i("../lib/oop"),it=i("./doc_comment_highlight_rules").DocCommentHighlightRules,nt=i("./text_highlight_rules").TextHighlightRules,_="[a-zA-Z\\$_\xA1-\uFFFF][a-zA-Z\\d\\$_\xA1-\uFFFF]*",b=function(o){var h=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),g="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",tt="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[it.getStartRule("doc-start"),a("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+_+")(\\.)(prototype)(\\.)("+_+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+_+")(\\.)("+_+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+_+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+_+")(\\.)("+_+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+_+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+_+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+g+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:h,regex:_},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+_+")(\\.)("+_+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:_},{regex:"",token:"empty",next:"no_regex"}],start:[it.getStartRule("doc-start"),a("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[a("function_arguments"),{token:"variable.parameter",regex:_},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:tt},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:tt},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!o||!o.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(at,ht,_e){if(this.next=at=="{"?this.nextState:"",at=="{"&&_e.length)_e.unshift("start",ht);else if(at=="}"&&_e.length&&(_e.shift(),this.next=_e.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return at=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:tt},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+_+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!o||o.jsx!=!1)&&c.call(this)),this.embedRules(it,"doc-",[it.getEndRule("no_regex")]),this.normalizeRules()};$.inherits(b,nt);function c(){var o=_.replace("\\d","\\d\\-"),h={onMatch:function(tt,at,ht){var _e=tt.charAt(1)=="/"?2:1;return _e==1?(at!=this.nextState?ht.unshift(this.next,this.nextState,0):ht.unshift(this.next),ht[2]++):_e==2&&at==this.nextState&&(ht[1]--,(!ht[1]||ht[1]<0)&&(ht.shift(),ht.shift())),[{type:"meta.tag.punctuation."+(_e==1?"":"end-")+"tag-open.xml",value:tt.slice(0,_e)},{type:"meta.tag.tag-name.xml",value:tt.substr(_e)}]},regex:"</?"+o,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(h);var g={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[g,h,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(tt,at,ht){return at==ht[0]&&ht.shift(),tt.length==2&&(ht[0]==this.nextState&&ht[1]--,(!ht[1]||ht[1]<0)&&ht.splice(0,2)),this.next=ht[0]||"start",[{type:this.token,value:tt}]},nextState:"jsx"},g,a("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:o},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},h],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function a(o){return[{token:"comment",regex:/\/\*/,next:[it.getTagRule(),{token:"comment",regex:"\\*\\/",next:o||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[it.getTagRule(),{token:"comment",regex:"$|^",next:o||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}d.JavaScriptHighlightRules=b}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(i,d,ft){var $=i("../range").Range,it=function(){};(function(){this.checkOutdent=function(nt,_){return/^\s+$/.test(nt)?/^\s*\}/.test(_):!1},this.autoOutdent=function(nt,_){var b=nt.getLine(_),c=b.match(/^(\s*\})/);if(!c)return 0;var a=c[1].length,o=nt.findMatchingBracket({row:_,column:a});if(!o||o.row==_)return 0;var h=this.$getIndent(nt.getLine(o.row));nt.replace(new $(_,0,_,a-1),h)},this.$getIndent=function(nt){return nt.match(/^\s*/)[0]}}).call(it.prototype),d.MatchingBraceOutdent=it}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(i,d,ft){var $=i("../../lib/oop"),it=i("../../range").Range,nt=i("./fold_mode").FoldMode,_=d.FoldMode=function(b){b&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+b.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+b.end)))};$.inherits(_,nt),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(b,c,a){var o=b.getLine(a);if(this.singleLineBlockCommentRe.test(o)&&!this.startRegionRe.test(o)&&!this.tripleStarBlockCommentRe.test(o))return"";var h=this._getFoldWidgetBase(b,c,a);return!h&&this.startRegionRe.test(o)?"start":h},this.getFoldWidgetRange=function(b,c,a,o){var h=b.getLine(a);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(b,h,a);var at=h.match(this.foldingStartMarker);if(at){var g=at.index;if(at[1])return this.openingBracketBlock(b,at[1],a,g);var tt=b.getCommentFoldRange(a,g+at[0].length,1);return tt&&!tt.isMultiLine()&&(o?tt=this.getSectionRange(b,a):c!="all"&&(tt=null)),tt}if(c!=="markbegin"){var at=h.match(this.foldingStopMarker);if(at){var g=at.index+at[0].length;return at[1]?this.closingBracketBlock(b,at[1],a,g):b.getCommentFoldRange(a,g,-1)}}},this.getSectionRange=function(b,c){var a=b.getLine(c),o=a.search(/\S/),h=c,g=a.length;c=c+1;for(var tt=c,at=b.getLength();++c<at;){a=b.getLine(c);var ht=a.search(/\S/);if(ht!==-1){if(o>ht)break;var _e=this.getFoldWidgetRange(b,"all",c);if(_e){if(_e.start.row<=h)break;if(_e.isMultiLine())c=_e.end.row;else if(o==ht)break}tt=c}}return new it(h,g,tt,b.getLine(tt).length)},this.getCommentRegionBlock=function(b,c,a){for(var o=c.search(/\s*$/),h=b.getLength(),g=a,tt=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,at=1;++a<h;){c=b.getLine(a);var ht=tt.exec(c);if(!!ht&&(ht[1]?at--:at++,!at))break}var _e=a;if(_e>g)return new it(g,o,_e,c.length)}}.call(_.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(i,d,ft){var $=i("../lib/oop"),it=i("./text").Mode,nt=i("./javascript_highlight_rules").JavaScriptHighlightRules,_=i("./matching_brace_outdent").MatchingBraceOutdent,b=i("../worker/worker_client").WorkerClient,c=i("./behaviour/cstyle").CstyleBehaviour,a=i("./folding/cstyle").FoldMode,o=function(){this.HighlightRules=nt,this.$outdent=new _,this.$behaviour=new c,this.foldingRules=new a};$.inherits(o,it),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(h,g,tt){var at=this.$getIndent(g),ht=this.getTokenizer().getLineTokens(g,h),_e=ht.tokens,ut=ht.state;if(_e.length&&_e[_e.length-1].type=="comment")return at;if(h=="start"||h=="no_regex"){var ct=g.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);ct&&(at+=tt)}else if(h=="doc-start"){if(ut=="start"||ut=="no_regex")return"";var ct=g.match(/^\s*(\/?)\*/);ct&&(ct[1]&&(at+=" "),at+="* ")}return at},this.checkOutdent=function(h,g,tt){return this.$outdent.checkOutdent(g,tt)},this.autoOutdent=function(h,g,tt){this.$outdent.autoOutdent(g,tt)},this.createWorker=function(h){var g=new b(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return g.attachToDocument(h.getDocument()),g.on("annotate",function(tt){h.setAnnotations(tt.data)}),g.on("terminate",function(){h.clearAnnotations()}),g},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(o.prototype),d.Mode=o}),function(){ace.require(["ace/mode/javascript"],function(i){e&&(e.exports=i)})}()})(modeJavascript);var modePython={exports:{}};(function(e,s){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,d,ft){var $=i("../lib/oop"),it=i("./text_highlight_rules").TextHighlightRules,nt=function(){var _="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",b="True|False|None|NotImplemented|Ellipsis|__debug__",c="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",a=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":c,"variable.language":"self|cls","constant.language":b,keyword:_},"identifier"),o="[uU]?",h="[rR]",g="[fF]",tt="(?:[rR][fF]|[fF][rR])",at="(?:(?:[1-9]\\d*)|(?:0))",ht="(?:0[oO]?[0-7]+)",_e="(?:0[xX][\\dA-Fa-f]+)",ut="(?:0[bB][01]+)",ct="(?:"+at+"|"+ht+"|"+_e+"|"+ut+")",rt="(?:[eE][+-]?\\d+)",st="(?:\\.\\d+)",vt="(?:\\d+)",ot="(?:(?:"+vt+"?"+st+")|(?:"+vt+"\\.))",et="(?:(?:"+ot+"|"+vt+")"+rt+")",lt="(?:"+et+"|"+ot+")",mt=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:o+'"{3}',next:"qqstring3"},{token:"string",regex:o+'"(?=.)',next:"qqstring"},{token:"string",regex:o+"'{3}",next:"qstring3"},{token:"string",regex:o+"'(?=.)",next:"qstring"},{token:"string",regex:h+'"{3}',next:"rawqqstring3"},{token:"string",regex:h+'"(?=.)',next:"rawqqstring"},{token:"string",regex:h+"'{3}",next:"rawqstring3"},{token:"string",regex:h+"'(?=.)",next:"rawqstring"},{token:"string",regex:g+'"{3}',next:"fqqstring3"},{token:"string",regex:g+'"(?=.)',next:"fqqstring"},{token:"string",regex:g+"'{3}",next:"fqstring3"},{token:"string",regex:g+"'(?=.)",next:"fqstring"},{token:"string",regex:tt+'"{3}',next:"rfqqstring3"},{token:"string",regex:tt+'"(?=.)',next:"rfqqstring"},{token:"string",regex:tt+"'{3}",next:"rfqstring3"},{token:"string",regex:tt+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:mt},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:mt},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:mt},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:mt},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:mt},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:mt},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:mt},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:mt},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+lt+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:lt},{token:"constant.numeric",regex:ct+"[lL]\\b"},{token:"constant.numeric",regex:ct+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:a,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};$.inherits(nt,it),d.PythonHighlightRules=nt}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(i,d,ft){var $=i("../../lib/oop"),it=i("./fold_mode").FoldMode,nt=d.FoldMode=function(_){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+_+")(?:\\s*)(?:#.*)?$")};$.inherits(nt,it),function(){this.getFoldWidgetRange=function(_,b,c){var a=_.getLine(c),o=a.match(this.foldingStartMarker);if(o)return o[1]?this.openingBracketBlock(_,o[1],c,o.index):o[2]?this.indentationBlock(_,c,o.index+o[2].length):this.indentationBlock(_,c)}}.call(nt.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(i,d,ft){var $=i("../lib/oop"),it=i("./text").Mode,nt=i("./python_highlight_rules").PythonHighlightRules,_=i("./folding/pythonic").FoldMode,b=i("../range").Range,c=function(){this.HighlightRules=nt,this.foldingRules=new _("\\:"),this.$behaviour=this.$defaultBehaviour};$.inherits(c,it),function(){this.lineCommentStart="#",this.getNextLineIndent=function(o,h,g){var tt=this.$getIndent(h),at=this.getTokenizer().getLineTokens(h,o),ht=at.tokens;if(ht.length&&ht[ht.length-1].type=="comment")return tt;if(o=="start"){var _e=h.match(/^.*[\{\(\[:]\s*$/);_e&&(tt+=g)}return tt};var a={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(o,h,g){if(g!==`\r
`&&g!=="\r"&&g!==`
`)return!1;var tt=this.getTokenizer().getLineTokens(h.trim(),o).tokens;if(!tt)return!1;do var at=tt.pop();while(at&&(at.type=="comment"||at.type=="text"&&at.value.match(/^\s+$/)));return at?at.type=="keyword"&&a[at.value]:!1},this.autoOutdent=function(o,h,g){g+=1;var tt=this.$getIndent(h.getLine(g)),at=h.getTabString();tt.slice(-at.length)==at&&h.remove(new b(g,tt.length-at.length,g,tt.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}.call(c.prototype),d.Mode=c}),function(){ace.require(["ace/mode/python"],function(i){e&&(e.exports=i)})}()})(modePython);function theme(e,s,i){s.isDark=!0,s.cssClass="ace-source",s.cssText=".ace-source .ace_gutter {                        background: #011e3a;                        color: rgb(128,145,160)                        }                        .ace-source .ace_print-margin {                        width: 1px;                        background: #555555                        }                        .ace-source {                        background-color: #002240;                        color: #FFFFFF                        }                        .ace-source .ace_cursor {                        color: #FFFFFF                        }                        .ace-source .ace_marker-layer .ace_selection {                        background: rgba(179, 101, 57, 0.75)                        }                        .ace-source.ace_multiselect .ace_selection.ace_start {                        box-shadow: 0 0 3px 0px #002240;                        }                        .ace-source .ace_marker-layer .ace_step {                        background: rgb(127, 111, 19)                        }                        .ace-source .ace_marker-layer .ace_bracket {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-start {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-unmatched {                        margin: -1px 0 0 -1px;                        border: 1px solid #900                        }                        .ace-source .ace_marker-layer .ace_active-line {                        background: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_gutter-active-line {                        background-color: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_marker-layer .ace_selected-word {                        border: 1px solid rgba(179, 101, 57, 0.75)                        }                        .ace-source .ace_invisible {                        color: rgba(255, 255, 255, 0.15)                        }                        .ace-source .ace_keyword,                        .ace-source .ace_meta {                        color: #FF9D00                        }                        .ace-source .ace_constant,                        .ace-source .ace_constant.ace_character,                        .ace-source .ace_constant.ace_other,                        .ace-source .ace_string,                        .ace-source .ace_string.ace_regexp {                        color: #FF628C                        }                        .ace-source .ace_constant.ace_character.ace_escape {                        color: #FFFFFF                        }                        .ace-source .ace_invalid {                        color: #F8F8F8;                        background-color: #800F00                        }                        .ace-source .ace_support {                        color: #80FFBB                        }                        .ace-source .ace_support.ace_constant {                        color: #EB939A                        }                        .ace-source .ace_fold {                        background-color: #FF9D00;                        border-color: #FFFFFF                        }                        .ace-source .ace_support.ace_function {                        color: #FFFFFF                        }                        .ace-source .ace_builtinconsts {                        color: #FFFFFF                        }                        .ace-source .ace_storage {                        color: #FFEE80                        }                        .ace-source .ace_entity {                        color: #FFDD00                        }                        .ace-source .ace_comment {                        font-style: italic;                        color: #0088FF                        }                        .ace-source .ace_heading,                        .ace-source .ace_markup.ace_heading {                        color: #C8E4FD;                        background-color: #001221                        }                        .ace-source .ace_list,                        .ace-source .ace_markup.ace_list {                        background-color: #130D26                        }                        .ace-source .ace_variable {                        color: #CCCCCC                        }                        .ace-source .ace_variable.ace_language {                        color: #FF80E1                        }                        .ace-source .ace_meta.ace_tag {                        color: #9EFFFF                        }                        .ace-source .ace_indent-guide {                        background: url(data:image/png;base64,                        iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbY                        nAAAAEklEQVQImWNgYGBgYHCLSvkPAAP3AgSDTRd4AAAAAElFTkSuQmCC) right repeat-y                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete {                        background-color: #2c3e50;                        border-color: #555555;                        color: white;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_completion-highlight {                        color: #FF9D00;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_active-line {                        border-color: #555555;                        background-color: #495a6b;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_line-hover {                        border-color: #555555;                        background-color: #6b839a;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content.ace_text-layer .ace_rightAlignedText {                        color: #ced9e0;                        }                        .ace_tooltip.ace_doc-tooltip {                        width: 400px;                        max-height: 40vh;                        white-space: normal;                        overflow: auto;                        background-color: #495a6b;                        color: white;                        border-color:#555555;                        }                        .ace_tooltip.ace_doc-tooltip h4 {                        color: white;                        margin: 0 0 1em;                        }                        .ace_tooltip.ace_doc-tooltip a {                        color: #48aff0;                        }                        ",e("../lib/dom").importCssString(s.cssText,s.cssClass)}ace.define("ace/theme/source",["require","exports","module","ace/lib/dom"],theme);var sicp={},createContext={},constants={},types={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Variant=e.Chapter=e.ErrorSeverity=e.ErrorType=void 0,function(s){s.SYNTAX="Syntax",s.TYPE="Type",s.RUNTIME="Runtime"}(e.ErrorType||(e.ErrorType={})),function(s){s.WARNING="Warning",s.ERROR="Error"}(e.ErrorSeverity||(e.ErrorSeverity={})),function(s){s[s.SOURCE_1=1]="SOURCE_1",s[s.SOURCE_2=2]="SOURCE_2",s[s.SOURCE_3=3]="SOURCE_3",s[s.SOURCE_4=4]="SOURCE_4",s[s.FULL_JS=-1]="FULL_JS",s[s.HTML=-2]="HTML",s[s.LIBRARY_PARSER=100]="LIBRARY_PARSER"}(e.Chapter||(e.Chapter={})),function(s){s.DEFAULT="default",s.NATIVE="native",s.WASM="wasm",s.LAZY="lazy",s.NON_DET="non-det",s.CONCURRENT="concurrent",s.GPU="gpu"}(e.Variant||(e.Variant={}))})(types);Object.defineProperty(constants,"__esModule",{value:!0});constants.ACORN_PARSE_OPTIONS=constants.sourceLanguages=constants.JSSLANG_PROPERTIES=constants.UNKNOWN_LOCATION=constants.MAX_LIST_DISPLAY_LENGTH=constants.MODULE_CONTEXTS_ID=constants.MODULE_PARAMS_ID=constants.NATIVE_STORAGE_ID=constants.GLOBAL=constants.TRY_AGAIN=constants.CUT=void 0;const types_1$m=types;constants.CUT="cut";constants.TRY_AGAIN="retry";constants.GLOBAL=typeof window>"u"?commonjsGlobal:window;constants.NATIVE_STORAGE_ID="nativeStorage";constants.MODULE_PARAMS_ID="moduleParams";constants.MODULE_CONTEXTS_ID="moduleContexts";constants.MAX_LIST_DISPLAY_LENGTH=100;constants.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}};constants.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10};constants.sourceLanguages=[{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.WASM},{chapter:types_1$m.Chapter.SOURCE_1,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_2,variant:types_1$m.Variant.LAZY},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.CONCURRENT},{chapter:types_1$m.Chapter.SOURCE_3,variant:types_1$m.Variant.NON_DET},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.DEFAULT},{chapter:types_1$m.Chapter.SOURCE_4,variant:types_1$m.Variant.GPU}];constants.ACORN_PARSE_OPTIONS={ecmaVersion:2015};var lib={},acorn={exports:{}};(function(e,s){(function(i,d){d(s)})(commonjsGlobal,function(i){var d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],ft=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],$="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",it="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",nt={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},_="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",b={5:_,"5module":_+" export import",6:_+" const class extends export import super"},c=/^in(stanceof)?$/,a=new RegExp("["+it+"]"),o=new RegExp("["+it+$+"]");function h(dt,bt){for(var At=65536,It=0;It<bt.length;It+=2){if(At+=bt[It],At>dt)return!1;if(At+=bt[It+1],At>=dt)return!0}}function g(dt,bt){return dt<65?dt===36:dt<91?!0:dt<97?dt===95:dt<123?!0:dt<=65535?dt>=170&&a.test(String.fromCharCode(dt)):bt===!1?!1:h(dt,ft)}function tt(dt,bt){return dt<48?dt===36:dt<58?!0:dt<65?!1:dt<91?!0:dt<97?dt===95:dt<123?!0:dt<=65535?dt>=170&&o.test(String.fromCharCode(dt)):bt===!1?!1:h(dt,ft)||h(dt,d)}var at=function(bt,At){At===void 0&&(At={}),this.label=bt,this.keyword=At.keyword,this.beforeExpr=!!At.beforeExpr,this.startsExpr=!!At.startsExpr,this.isLoop=!!At.isLoop,this.isAssign=!!At.isAssign,this.prefix=!!At.prefix,this.postfix=!!At.postfix,this.binop=At.binop||null,this.updateContext=null};function ht(dt,bt){return new at(dt,{beforeExpr:!0,binop:bt})}var _e={beforeExpr:!0},ut={startsExpr:!0},ct={};function rt(dt,bt){return bt===void 0&&(bt={}),bt.keyword=dt,ct[dt]=new at(dt,bt)}var st={num:new at("num",ut),regexp:new at("regexp",ut),string:new at("string",ut),name:new at("name",ut),privateId:new at("privateId",ut),eof:new at("eof"),bracketL:new at("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new at("]"),braceL:new at("{",{beforeExpr:!0,startsExpr:!0}),braceR:new at("}"),parenL:new at("(",{beforeExpr:!0,startsExpr:!0}),parenR:new at(")"),comma:new at(",",_e),semi:new at(";",_e),colon:new at(":",_e),dot:new at("."),question:new at("?",_e),questionDot:new at("?."),arrow:new at("=>",_e),template:new at("template"),invalidTemplate:new at("invalidTemplate"),ellipsis:new at("...",_e),backQuote:new at("`",ut),dollarBraceL:new at("${",{beforeExpr:!0,startsExpr:!0}),eq:new at("=",{beforeExpr:!0,isAssign:!0}),assign:new at("_=",{beforeExpr:!0,isAssign:!0}),incDec:new at("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new at("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ht("||",1),logicalAND:ht("&&",2),bitwiseOR:ht("|",3),bitwiseXOR:ht("^",4),bitwiseAND:ht("&",5),equality:ht("==/!=/===/!==",6),relational:ht("</>/<=/>=",7),bitShift:ht("<</>>/>>>",8),plusMin:new at("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ht("%",10),star:ht("*",10),slash:ht("/",10),starstar:new at("**",{beforeExpr:!0}),coalesce:ht("??",1),_break:rt("break"),_case:rt("case",_e),_catch:rt("catch"),_continue:rt("continue"),_debugger:rt("debugger"),_default:rt("default",_e),_do:rt("do",{isLoop:!0,beforeExpr:!0}),_else:rt("else",_e),_finally:rt("finally"),_for:rt("for",{isLoop:!0}),_function:rt("function",ut),_if:rt("if"),_return:rt("return",_e),_switch:rt("switch"),_throw:rt("throw",_e),_try:rt("try"),_var:rt("var"),_const:rt("const"),_while:rt("while",{isLoop:!0}),_with:rt("with"),_new:rt("new",{beforeExpr:!0,startsExpr:!0}),_this:rt("this",ut),_super:rt("super",ut),_class:rt("class",ut),_extends:rt("extends",_e),_export:rt("export"),_import:rt("import",ut),_null:rt("null",ut),_true:rt("true",ut),_false:rt("false",ut),_in:rt("in",{beforeExpr:!0,binop:7}),_instanceof:rt("instanceof",{beforeExpr:!0,binop:7}),_typeof:rt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:rt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:rt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},vt=/\r\n?|\n|\u2028|\u2029/,ot=new RegExp(vt.source,"g");function et(dt){return dt===10||dt===13||dt===8232||dt===8233}function lt(dt,bt,At){At===void 0&&(At=dt.length);for(var It=bt;It<At;It++){var Kt=dt.charCodeAt(It);if(et(Kt))return It<At-1&&Kt===13&&dt.charCodeAt(It+1)===10?It+2:It+1}return-1}var mt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,xt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,wt=Object.prototype,St=wt.hasOwnProperty,Tt=wt.toString,kt=Object.hasOwn||function(dt,bt){return St.call(dt,bt)},Vt=Array.isArray||function(dt){return Tt.call(dt)==="[object Array]"};function Ct(dt){return new RegExp("^(?:"+dt.replace(/ /g,"|")+")$")}function Rt(dt){return dt<=65535?String.fromCharCode(dt):(dt-=65536,String.fromCharCode((dt>>10)+55296,(dt&1023)+56320))}var zt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Xt=function(bt,At){this.line=bt,this.column=At};Xt.prototype.offset=function(bt){return new Xt(this.line,this.column+bt)};var Pt=function(bt,At,It){this.start=At,this.end=It,bt.sourceFile!==null&&(this.source=bt.sourceFile)};function Mt(dt,bt){for(var At=1,It=0;;){var Kt=lt(dt,It,bt);if(Kt<0)return new Xt(At,bt-It);++At,It=Kt}}var jt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Zt=!1;function Yt(dt){var bt={};for(var At in jt)bt[At]=dt&&kt(dt,At)?dt[At]:jt[At];if(bt.ecmaVersion==="latest"?bt.ecmaVersion=1e8:bt.ecmaVersion==null?(!Zt&&typeof console=="object"&&console.warn&&(Zt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),bt.ecmaVersion=11):bt.ecmaVersion>=2015&&(bt.ecmaVersion-=2009),bt.allowReserved==null&&(bt.allowReserved=bt.ecmaVersion<5),dt.allowHashBang==null&&(bt.allowHashBang=bt.ecmaVersion>=14),Vt(bt.onToken)){var It=bt.onToken;bt.onToken=function(Kt){return It.push(Kt)}}return Vt(bt.onComment)&&(bt.onComment=fn(bt,bt.onComment)),bt}function fn(dt,bt){return function(At,It,Kt,on,hn,kn){var $n={type:At?"Block":"Line",value:It,start:Kt,end:on};dt.locations&&($n.loc=new Pt(this,hn,kn)),dt.ranges&&($n.range=[Kt,on]),bt.push($n)}}var an=1,dn=2,cn=4,Ut=8,Wt=16,Nt=32,ln=64,yn=128,rn=256,Un=an|dn|rn;function Qn(dt,bt){return dn|(dt?cn:0)|(bt?Ut:0)}var Zn=0,Sr=1,gn=2,Fn=3,Ln=4,tr=5,On=function(bt,At,It){this.options=bt=Yt(bt),this.sourceFile=bt.sourceFile,this.keywords=Ct(b[bt.ecmaVersion>=6?6:bt.sourceType==="module"?"5module":5]);var Kt="";bt.allowReserved!==!0&&(Kt=nt[bt.ecmaVersion>=6?6:bt.ecmaVersion===5?5:3],bt.sourceType==="module"&&(Kt+=" await")),this.reservedWords=Ct(Kt);var on=(Kt?Kt+" ":"")+nt.strict;this.reservedWordsStrict=Ct(on),this.reservedWordsStrictBind=Ct(on+" "+nt.strictBind),this.input=String(At),this.containsEsc=!1,It?(this.pos=It,this.lineStart=this.input.lastIndexOf(`
`,It-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(vt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=st.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=bt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&bt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(an),this.regexpState=null,this.privateNameStack=[]},hr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};On.prototype.parse=function(){var bt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(bt)},hr.inFunction.get=function(){return(this.currentVarScope().flags&dn)>0},hr.inGenerator.get=function(){return(this.currentVarScope().flags&Ut)>0&&!this.currentVarScope().inClassFieldInit},hr.inAsync.get=function(){return(this.currentVarScope().flags&cn)>0&&!this.currentVarScope().inClassFieldInit},hr.canAwait.get=function(){for(var dt=this.scopeStack.length-1;dt>=0;dt--){var bt=this.scopeStack[dt];if(bt.inClassFieldInit||bt.flags&rn)return!1;if(bt.flags&dn)return(bt.flags&cn)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},hr.allowSuper.get=function(){var dt=this.currentThisScope(),bt=dt.flags,At=dt.inClassFieldInit;return(bt&ln)>0||At||this.options.allowSuperOutsideMethod},hr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&yn)>0},hr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},hr.allowNewDotTarget.get=function(){var dt=this.currentThisScope(),bt=dt.flags,At=dt.inClassFieldInit;return(bt&(dn|rn))>0||At},hr.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&rn)>0},On.extend=function(){for(var bt=[],At=arguments.length;At--;)bt[At]=arguments[At];for(var It=this,Kt=0;Kt<bt.length;Kt++)It=bt[Kt](It);return It},On.parse=function(bt,At){return new this(At,bt).parse()},On.parseExpressionAt=function(bt,At,It){var Kt=new this(It,bt,At);return Kt.nextToken(),Kt.parseExpression()},On.tokenizer=function(bt,At){return new this(At,bt)},Object.defineProperties(On.prototype,hr);var Yn=On.prototype,In=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Yn.strictDirective=function(dt){if(this.options.ecmaVersion<5)return!1;for(;;){xt.lastIndex=dt,dt+=xt.exec(this.input)[0].length;var bt=In.exec(this.input.slice(dt));if(!bt)return!1;if((bt[1]||bt[2])==="use strict"){xt.lastIndex=dt+bt[0].length;var At=xt.exec(this.input),It=At.index+At[0].length,Kt=this.input.charAt(It);return Kt===";"||Kt==="}"||vt.test(At[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Kt)||Kt==="!"&&this.input.charAt(It+1)==="=")}dt+=bt[0].length,xt.lastIndex=dt,dt+=xt.exec(this.input)[0].length,this.input[dt]===";"&&dt++}},Yn.eat=function(dt){return this.type===dt?(this.next(),!0):!1},Yn.isContextual=function(dt){return this.type===st.name&&this.value===dt&&!this.containsEsc},Yn.eatContextual=function(dt){return this.isContextual(dt)?(this.next(),!0):!1},Yn.expectContextual=function(dt){this.eatContextual(dt)||this.unexpected()},Yn.canInsertSemicolon=function(){return this.type===st.eof||this.type===st.braceR||vt.test(this.input.slice(this.lastTokEnd,this.start))},Yn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Yn.semicolon=function(){!this.eat(st.semi)&&!this.insertSemicolon()&&this.unexpected()},Yn.afterTrailingComma=function(dt,bt){if(this.type===dt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),bt||this.next(),!0},Yn.expect=function(dt){this.eat(dt)||this.unexpected()},Yn.unexpected=function(dt){this.raise(dt!=null?dt:this.start,"Unexpected token")};var ar=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Yn.checkPatternErrors=function(dt,bt){if(!!dt){dt.trailingComma>-1&&this.raiseRecoverable(dt.trailingComma,"Comma is not permitted after the rest element");var At=bt?dt.parenthesizedAssign:dt.parenthesizedBind;At>-1&&this.raiseRecoverable(At,bt?"Assigning to rvalue":"Parenthesized pattern")}},Yn.checkExpressionErrors=function(dt,bt){if(!dt)return!1;var At=dt.shorthandAssign,It=dt.doubleProto;if(!bt)return At>=0||It>=0;At>=0&&this.raise(At,"Shorthand property assignments are valid only in destructuring patterns"),It>=0&&this.raiseRecoverable(It,"Redefinition of __proto__ property")},Yn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Yn.isSimpleAssignTarget=function(dt){return dt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(dt.expression):dt.type==="Identifier"||dt.type==="MemberExpression"};var Dt=On.prototype;Dt.parseTopLevel=function(dt){var bt=Object.create(null);for(dt.body||(dt.body=[]);this.type!==st.eof;){var At=this.parseStatement(null,!0,bt);dt.body.push(At)}if(this.inModule)for(var It=0,Kt=Object.keys(this.undefinedExports);It<Kt.length;It+=1){var on=Kt[It];this.raiseRecoverable(this.undefinedExports[on].start,"Export '"+on+"' is not defined")}return this.adaptDirectivePrologue(dt.body),this.next(),dt.sourceType=this.options.sourceType,this.finishNode(dt,"Program")};var qt={kind:"loop"},en={kind:"switch"};Dt.isLet=function(dt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;xt.lastIndex=this.pos;var bt=xt.exec(this.input),At=this.pos+bt[0].length,It=this.input.charCodeAt(At);if(It===91||It===92||It>55295&&It<56320)return!0;if(dt)return!1;if(It===123)return!0;if(g(It,!0)){for(var Kt=At+1;tt(It=this.input.charCodeAt(Kt),!0);)++Kt;if(It===92||It>55295&&It<56320)return!0;var on=this.input.slice(At,Kt);if(!c.test(on))return!0}return!1},Dt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;xt.lastIndex=this.pos;var dt=xt.exec(this.input),bt=this.pos+dt[0].length,At;return!vt.test(this.input.slice(this.pos,bt))&&this.input.slice(bt,bt+8)==="function"&&(bt+8===this.input.length||!(tt(At=this.input.charCodeAt(bt+8))||At>55295&&At<56320))},Dt.parseStatement=function(dt,bt,At){var It=this.type,Kt=this.startNode(),on;switch(this.isLet(dt)&&(It=st._var,on="let"),It){case st._break:case st._continue:return this.parseBreakContinueStatement(Kt,It.keyword);case st._debugger:return this.parseDebuggerStatement(Kt);case st._do:return this.parseDoStatement(Kt);case st._for:return this.parseForStatement(Kt);case st._function:return dt&&(this.strict||dt!=="if"&&dt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Kt,!1,!dt);case st._class:return dt&&this.unexpected(),this.parseClass(Kt,!0);case st._if:return this.parseIfStatement(Kt);case st._return:return this.parseReturnStatement(Kt);case st._switch:return this.parseSwitchStatement(Kt);case st._throw:return this.parseThrowStatement(Kt);case st._try:return this.parseTryStatement(Kt);case st._const:case st._var:return on=on||this.value,dt&&on!=="var"&&this.unexpected(),this.parseVarStatement(Kt,on);case st._while:return this.parseWhileStatement(Kt);case st._with:return this.parseWithStatement(Kt);case st.braceL:return this.parseBlock(!0,Kt);case st.semi:return this.parseEmptyStatement(Kt);case st._export:case st._import:if(this.options.ecmaVersion>10&&It===st._import){xt.lastIndex=this.pos;var hn=xt.exec(this.input),kn=this.pos+hn[0].length,$n=this.input.charCodeAt(kn);if($n===40||$n===46)return this.parseExpressionStatement(Kt,this.parseExpression())}return this.options.allowImportExportEverywhere||(bt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),It===st._import?this.parseImport(Kt):this.parseExport(Kt,At);default:if(this.isAsyncFunction())return dt&&this.unexpected(),this.next(),this.parseFunctionStatement(Kt,!0,!dt);var nr=this.value,ur=this.parseExpression();return It===st.name&&ur.type==="Identifier"&&this.eat(st.colon)?this.parseLabeledStatement(Kt,nr,ur,dt):this.parseExpressionStatement(Kt,ur)}},Dt.parseBreakContinueStatement=function(dt,bt){var At=bt==="break";this.next(),this.eat(st.semi)||this.insertSemicolon()?dt.label=null:this.type!==st.name?this.unexpected():(dt.label=this.parseIdent(),this.semicolon());for(var It=0;It<this.labels.length;++It){var Kt=this.labels[It];if((dt.label==null||Kt.name===dt.label.name)&&(Kt.kind!=null&&(At||Kt.kind==="loop")||dt.label&&At))break}return It===this.labels.length&&this.raise(dt.start,"Unsyntactic "+bt),this.finishNode(dt,At?"BreakStatement":"ContinueStatement")},Dt.parseDebuggerStatement=function(dt){return this.next(),this.semicolon(),this.finishNode(dt,"DebuggerStatement")},Dt.parseDoStatement=function(dt){return this.next(),this.labels.push(qt),dt.body=this.parseStatement("do"),this.labels.pop(),this.expect(st._while),dt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(st.semi):this.semicolon(),this.finishNode(dt,"DoWhileStatement")},Dt.parseForStatement=function(dt){this.next();var bt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(qt),this.enterScope(0),this.expect(st.parenL),this.type===st.semi)return bt>-1&&this.unexpected(bt),this.parseFor(dt,null);var At=this.isLet();if(this.type===st._var||this.type===st._const||At){var It=this.startNode(),Kt=At?"let":this.value;return this.next(),this.parseVar(It,!0,Kt),this.finishNode(It,"VariableDeclaration"),(this.type===st._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&It.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===st._in?bt>-1&&this.unexpected(bt):dt.await=bt>-1),this.parseForIn(dt,It)):(bt>-1&&this.unexpected(bt),this.parseFor(dt,It))}var on=this.isContextual("let"),hn=!1,kn=new ar,$n=this.parseExpression(bt>-1?"await":!0,kn);return this.type===st._in||(hn=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===st._in?bt>-1&&this.unexpected(bt):dt.await=bt>-1),on&&hn&&this.raise($n.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable($n,!1,kn),this.checkLValPattern($n),this.parseForIn(dt,$n)):(this.checkExpressionErrors(kn,!0),bt>-1&&this.unexpected(bt),this.parseFor(dt,$n))},Dt.parseFunctionStatement=function(dt,bt,At){return this.next(),this.parseFunction(dt,Pn|(At?0:En),!1,bt)},Dt.parseIfStatement=function(dt){return this.next(),dt.test=this.parseParenExpression(),dt.consequent=this.parseStatement("if"),dt.alternate=this.eat(st._else)?this.parseStatement("if"):null,this.finishNode(dt,"IfStatement")},Dt.parseReturnStatement=function(dt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(st.semi)||this.insertSemicolon()?dt.argument=null:(dt.argument=this.parseExpression(),this.semicolon()),this.finishNode(dt,"ReturnStatement")},Dt.parseSwitchStatement=function(dt){this.next(),dt.discriminant=this.parseParenExpression(),dt.cases=[],this.expect(st.braceL),this.labels.push(en),this.enterScope(0);for(var bt,At=!1;this.type!==st.braceR;)if(this.type===st._case||this.type===st._default){var It=this.type===st._case;bt&&this.finishNode(bt,"SwitchCase"),dt.cases.push(bt=this.startNode()),bt.consequent=[],this.next(),It?bt.test=this.parseExpression():(At&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),At=!0,bt.test=null),this.expect(st.colon)}else bt||this.unexpected(),bt.consequent.push(this.parseStatement(null));return this.exitScope(),bt&&this.finishNode(bt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(dt,"SwitchStatement")},Dt.parseThrowStatement=function(dt){return this.next(),vt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),dt.argument=this.parseExpression(),this.semicolon(),this.finishNode(dt,"ThrowStatement")};var Cn=[];Dt.parseTryStatement=function(dt){if(this.next(),dt.block=this.parseBlock(),dt.handler=null,this.type===st._catch){var bt=this.startNode();if(this.next(),this.eat(st.parenL)){bt.param=this.parseBindingAtom();var At=bt.param.type==="Identifier";this.enterScope(At?Nt:0),this.checkLValPattern(bt.param,At?Ln:gn),this.expect(st.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),bt.param=null,this.enterScope(0);bt.body=this.parseBlock(!1),this.exitScope(),dt.handler=this.finishNode(bt,"CatchClause")}return dt.finalizer=this.eat(st._finally)?this.parseBlock():null,!dt.handler&&!dt.finalizer&&this.raise(dt.start,"Missing catch or finally clause"),this.finishNode(dt,"TryStatement")},Dt.parseVarStatement=function(dt,bt){return this.next(),this.parseVar(dt,!1,bt),this.semicolon(),this.finishNode(dt,"VariableDeclaration")},Dt.parseWhileStatement=function(dt){return this.next(),dt.test=this.parseParenExpression(),this.labels.push(qt),dt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(dt,"WhileStatement")},Dt.parseWithStatement=function(dt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),dt.object=this.parseParenExpression(),dt.body=this.parseStatement("with"),this.finishNode(dt,"WithStatement")},Dt.parseEmptyStatement=function(dt){return this.next(),this.finishNode(dt,"EmptyStatement")},Dt.parseLabeledStatement=function(dt,bt,At,It){for(var Kt=0,on=this.labels;Kt<on.length;Kt+=1){var hn=on[Kt];hn.name===bt&&this.raise(At.start,"Label '"+bt+"' is already declared")}for(var kn=this.type.isLoop?"loop":this.type===st._switch?"switch":null,$n=this.labels.length-1;$n>=0;$n--){var nr=this.labels[$n];if(nr.statementStart===dt.start)nr.statementStart=this.start,nr.kind=kn;else break}return this.labels.push({name:bt,kind:kn,statementStart:this.start}),dt.body=this.parseStatement(It?It.indexOf("label")===-1?It+"label":It:"label"),this.labels.pop(),dt.label=At,this.finishNode(dt,"LabeledStatement")},Dt.parseExpressionStatement=function(dt,bt){return dt.expression=bt,this.semicolon(),this.finishNode(dt,"ExpressionStatement")},Dt.parseBlock=function(dt,bt,At){for(dt===void 0&&(dt=!0),bt===void 0&&(bt=this.startNode()),bt.body=[],this.expect(st.braceL),dt&&this.enterScope(0);this.type!==st.braceR;){var It=this.parseStatement(null);bt.body.push(It)}return At&&(this.strict=!1),this.next(),dt&&this.exitScope(),this.finishNode(bt,"BlockStatement")},Dt.parseFor=function(dt,bt){return dt.init=bt,this.expect(st.semi),dt.test=this.type===st.semi?null:this.parseExpression(),this.expect(st.semi),dt.update=this.type===st.parenR?null:this.parseExpression(),this.expect(st.parenR),dt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(dt,"ForStatement")},Dt.parseForIn=function(dt,bt){var At=this.type===st._in;return this.next(),bt.type==="VariableDeclaration"&&bt.declarations[0].init!=null&&(!At||this.options.ecmaVersion<8||this.strict||bt.kind!=="var"||bt.declarations[0].id.type!=="Identifier")&&this.raise(bt.start,(At?"for-in":"for-of")+" loop variable declaration may not have an initializer"),dt.left=bt,dt.right=At?this.parseExpression():this.parseMaybeAssign(),this.expect(st.parenR),dt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(dt,At?"ForInStatement":"ForOfStatement")},Dt.parseVar=function(dt,bt,At){for(dt.declarations=[],dt.kind=At;;){var It=this.startNode();if(this.parseVarId(It,At),this.eat(st.eq)?It.init=this.parseMaybeAssign(bt):At==="const"&&!(this.type===st._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():It.id.type!=="Identifier"&&!(bt&&(this.type===st._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):It.init=null,dt.declarations.push(this.finishNode(It,"VariableDeclarator")),!this.eat(st.comma))break}return dt},Dt.parseVarId=function(dt,bt){dt.id=this.parseBindingAtom(),this.checkLValPattern(dt.id,bt==="var"?Sr:gn,!1)};var Pn=1,En=2,xn=4;Dt.parseFunction=function(dt,bt,At,It,Kt){this.initFunction(dt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!It)&&(this.type===st.star&&bt&En&&this.unexpected(),dt.generator=this.eat(st.star)),this.options.ecmaVersion>=8&&(dt.async=!!It),bt&Pn&&(dt.id=bt&xn&&this.type!==st.name?null:this.parseIdent(),dt.id&&!(bt&En)&&this.checkLValSimple(dt.id,this.strict||dt.generator||dt.async?this.treatFunctionsAsVar?Sr:gn:Fn));var on=this.yieldPos,hn=this.awaitPos,kn=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Qn(dt.async,dt.generator)),bt&Pn||(dt.id=this.type===st.name?this.parseIdent():null),this.parseFunctionParams(dt),this.parseFunctionBody(dt,At,!1,Kt),this.yieldPos=on,this.awaitPos=hn,this.awaitIdentPos=kn,this.finishNode(dt,bt&Pn?"FunctionDeclaration":"FunctionExpression")},Dt.parseFunctionParams=function(dt){this.expect(st.parenL),dt.params=this.parseBindingList(st.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Dt.parseClass=function(dt,bt){this.next();var At=this.strict;this.strict=!0,this.parseClassId(dt,bt),this.parseClassSuper(dt);var It=this.enterClassBody(),Kt=this.startNode(),on=!1;for(Kt.body=[],this.expect(st.braceL);this.type!==st.braceR;){var hn=this.parseClassElement(dt.superClass!==null);hn&&(Kt.body.push(hn),hn.type==="MethodDefinition"&&hn.kind==="constructor"?(on&&this.raise(hn.start,"Duplicate constructor in the same class"),on=!0):hn.key&&hn.key.type==="PrivateIdentifier"&&Vn(It,hn)&&this.raiseRecoverable(hn.key.start,"Identifier '#"+hn.key.name+"' has already been declared"))}return this.strict=At,this.next(),dt.body=this.finishNode(Kt,"ClassBody"),this.exitClassBody(),this.finishNode(dt,bt?"ClassDeclaration":"ClassExpression")},Dt.parseClassElement=function(dt){if(this.eat(st.semi))return null;var bt=this.options.ecmaVersion,At=this.startNode(),It="",Kt=!1,on=!1,hn="method",kn=!1;if(this.eatContextual("static")){if(bt>=13&&this.eat(st.braceL))return this.parseClassStaticBlock(At),At;this.isClassElementNameStart()||this.type===st.star?kn=!0:It="static"}if(At.static=kn,!It&&bt>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===st.star)&&!this.canInsertSemicolon()?on=!0:It="async"),!It&&(bt>=9||!on)&&this.eat(st.star)&&(Kt=!0),!It&&!on&&!Kt){var $n=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?hn=$n:It=$n)}if(It?(At.computed=!1,At.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),At.key.name=It,this.finishNode(At.key,"Identifier")):this.parseClassElementName(At),bt<13||this.type===st.parenL||hn!=="method"||Kt||on){var nr=!At.static&&qn(At,"constructor"),ur=nr&&dt;nr&&hn!=="method"&&this.raise(At.key.start,"Constructor can't have get/set modifier"),At.kind=nr?"constructor":hn,this.parseClassMethod(At,Kt,on,ur)}else this.parseClassField(At);return At},Dt.isClassElementNameStart=function(){return this.type===st.name||this.type===st.privateId||this.type===st.num||this.type===st.string||this.type===st.bracketL||this.type.keyword},Dt.parseClassElementName=function(dt){this.type===st.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),dt.computed=!1,dt.key=this.parsePrivateIdent()):this.parsePropertyName(dt)},Dt.parseClassMethod=function(dt,bt,At,It){var Kt=dt.key;dt.kind==="constructor"?(bt&&this.raise(Kt.start,"Constructor can't be a generator"),At&&this.raise(Kt.start,"Constructor can't be an async method")):dt.static&&qn(dt,"prototype")&&this.raise(Kt.start,"Classes may not have a static property named prototype");var on=dt.value=this.parseMethod(bt,At,It);return dt.kind==="get"&&on.params.length!==0&&this.raiseRecoverable(on.start,"getter should have no params"),dt.kind==="set"&&on.params.length!==1&&this.raiseRecoverable(on.start,"setter should have exactly one param"),dt.kind==="set"&&on.params[0].type==="RestElement"&&this.raiseRecoverable(on.params[0].start,"Setter cannot use rest params"),this.finishNode(dt,"MethodDefinition")},Dt.parseClassField=function(dt){if(qn(dt,"constructor")?this.raise(dt.key.start,"Classes can't have a field named 'constructor'"):dt.static&&qn(dt,"prototype")&&this.raise(dt.key.start,"Classes can't have a static field named 'prototype'"),this.eat(st.eq)){var bt=this.currentThisScope(),At=bt.inClassFieldInit;bt.inClassFieldInit=!0,dt.value=this.parseMaybeAssign(),bt.inClassFieldInit=At}else dt.value=null;return this.semicolon(),this.finishNode(dt,"PropertyDefinition")},Dt.parseClassStaticBlock=function(dt){dt.body=[];var bt=this.labels;for(this.labels=[],this.enterScope(rn|ln);this.type!==st.braceR;){var At=this.parseStatement(null);dt.body.push(At)}return this.next(),this.exitScope(),this.labels=bt,this.finishNode(dt,"StaticBlock")},Dt.parseClassId=function(dt,bt){this.type===st.name?(dt.id=this.parseIdent(),bt&&this.checkLValSimple(dt.id,gn,!1)):(bt===!0&&this.unexpected(),dt.id=null)},Dt.parseClassSuper=function(dt){dt.superClass=this.eat(st._extends)?this.parseExprSubscripts(!1):null},Dt.enterClassBody=function(){var dt={declared:Object.create(null),used:[]};return this.privateNameStack.push(dt),dt.declared},Dt.exitClassBody=function(){for(var dt=this.privateNameStack.pop(),bt=dt.declared,At=dt.used,It=this.privateNameStack.length,Kt=It===0?null:this.privateNameStack[It-1],on=0;on<At.length;++on){var hn=At[on];kt(bt,hn.name)||(Kt?Kt.used.push(hn):this.raiseRecoverable(hn.start,"Private field '#"+hn.name+"' must be declared in an enclosing class"))}};function Vn(dt,bt){var At=bt.key.name,It=dt[At],Kt="true";return bt.type==="MethodDefinition"&&(bt.kind==="get"||bt.kind==="set")&&(Kt=(bt.static?"s":"i")+bt.kind),It==="iget"&&Kt==="iset"||It==="iset"&&Kt==="iget"||It==="sget"&&Kt==="sset"||It==="sset"&&Kt==="sget"?(dt[At]="true",!1):It?!0:(dt[At]=Kt,!1)}function qn(dt,bt){var At=dt.computed,It=dt.key;return!At&&(It.type==="Identifier"&&It.name===bt||It.type==="Literal"&&It.value===bt)}Dt.parseExport=function(dt,bt){if(this.next(),this.eat(st.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(dt.exported=this.parseModuleExportName(),this.checkExport(bt,dt.exported,this.lastTokStart)):dt.exported=null),this.expectContextual("from"),this.type!==st.string&&this.unexpected(),dt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(dt,"ExportAllDeclaration");if(this.eat(st._default)){this.checkExport(bt,"default",this.lastTokStart);var At;if(this.type===st._function||(At=this.isAsyncFunction())){var It=this.startNode();this.next(),At&&this.next(),dt.declaration=this.parseFunction(It,Pn|xn,!1,At)}else if(this.type===st._class){var Kt=this.startNode();dt.declaration=this.parseClass(Kt,"nullableID")}else dt.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(dt,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())dt.declaration=this.parseStatement(null),dt.declaration.type==="VariableDeclaration"?this.checkVariableExport(bt,dt.declaration.declarations):this.checkExport(bt,dt.declaration.id,dt.declaration.id.start),dt.specifiers=[],dt.source=null;else{if(dt.declaration=null,dt.specifiers=this.parseExportSpecifiers(bt),this.eatContextual("from"))this.type!==st.string&&this.unexpected(),dt.source=this.parseExprAtom();else{for(var on=0,hn=dt.specifiers;on<hn.length;on+=1){var kn=hn[on];this.checkUnreserved(kn.local),this.checkLocalExport(kn.local),kn.local.type==="Literal"&&this.raise(kn.local.start,"A string literal cannot be used as an exported binding without `from`.")}dt.source=null}this.semicolon()}return this.finishNode(dt,"ExportNamedDeclaration")},Dt.checkExport=function(dt,bt,At){!dt||(typeof bt!="string"&&(bt=bt.type==="Identifier"?bt.name:bt.value),kt(dt,bt)&&this.raiseRecoverable(At,"Duplicate export '"+bt+"'"),dt[bt]=!0)},Dt.checkPatternExport=function(dt,bt){var At=bt.type;if(At==="Identifier")this.checkExport(dt,bt,bt.start);else if(At==="ObjectPattern")for(var It=0,Kt=bt.properties;It<Kt.length;It+=1){var on=Kt[It];this.checkPatternExport(dt,on)}else if(At==="ArrayPattern")for(var hn=0,kn=bt.elements;hn<kn.length;hn+=1){var $n=kn[hn];$n&&this.checkPatternExport(dt,$n)}else At==="Property"?this.checkPatternExport(dt,bt.value):At==="AssignmentPattern"?this.checkPatternExport(dt,bt.left):At==="RestElement"?this.checkPatternExport(dt,bt.argument):At==="ParenthesizedExpression"&&this.checkPatternExport(dt,bt.expression)},Dt.checkVariableExport=function(dt,bt){if(!!dt)for(var At=0,It=bt;At<It.length;At+=1){var Kt=It[At];this.checkPatternExport(dt,Kt.id)}},Dt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Dt.parseExportSpecifiers=function(dt){var bt=[],At=!0;for(this.expect(st.braceL);!this.eat(st.braceR);){if(At)At=!1;else if(this.expect(st.comma),this.afterTrailingComma(st.braceR))break;var It=this.startNode();It.local=this.parseModuleExportName(),It.exported=this.eatContextual("as")?this.parseModuleExportName():It.local,this.checkExport(dt,It.exported,It.exported.start),bt.push(this.finishNode(It,"ExportSpecifier"))}return bt},Dt.parseImport=function(dt){return this.next(),this.type===st.string?(dt.specifiers=Cn,dt.source=this.parseExprAtom()):(dt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),dt.source=this.type===st.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(dt,"ImportDeclaration")},Dt.parseImportSpecifiers=function(){var dt=[],bt=!0;if(this.type===st.name){var At=this.startNode();if(At.local=this.parseIdent(),this.checkLValSimple(At.local,gn),dt.push(this.finishNode(At,"ImportDefaultSpecifier")),!this.eat(st.comma))return dt}if(this.type===st.star){var It=this.startNode();return this.next(),this.expectContextual("as"),It.local=this.parseIdent(),this.checkLValSimple(It.local,gn),dt.push(this.finishNode(It,"ImportNamespaceSpecifier")),dt}for(this.expect(st.braceL);!this.eat(st.braceR);){if(bt)bt=!1;else if(this.expect(st.comma),this.afterTrailingComma(st.braceR))break;var Kt=this.startNode();Kt.imported=this.parseModuleExportName(),this.eatContextual("as")?Kt.local=this.parseIdent():(this.checkUnreserved(Kt.imported),Kt.local=Kt.imported),this.checkLValSimple(Kt.local,gn),dt.push(this.finishNode(Kt,"ImportSpecifier"))}return dt},Dt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===st.string){var dt=this.parseLiteral(this.value);return zt.test(dt.value)&&this.raise(dt.start,"An export name cannot include a lone surrogate."),dt}return this.parseIdent(!0)},Dt.adaptDirectivePrologue=function(dt){for(var bt=0;bt<dt.length&&this.isDirectiveCandidate(dt[bt]);++bt)dt[bt].directive=dt[bt].expression.raw.slice(1,-1)},Dt.isDirectiveCandidate=function(dt){return this.options.ecmaVersion>=5&&dt.type==="ExpressionStatement"&&dt.expression.type==="Literal"&&typeof dt.expression.value=="string"&&(this.input[dt.start]==='"'||this.input[dt.start]==="'")};var Sn=On.prototype;Sn.toAssignable=function(dt,bt,At){if(this.options.ecmaVersion>=6&&dt)switch(dt.type){case"Identifier":this.inAsync&&dt.name==="await"&&this.raise(dt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":dt.type="ObjectPattern",At&&this.checkPatternErrors(At,!0);for(var It=0,Kt=dt.properties;It<Kt.length;It+=1){var on=Kt[It];this.toAssignable(on,bt),on.type==="RestElement"&&(on.argument.type==="ArrayPattern"||on.argument.type==="ObjectPattern")&&this.raise(on.argument.start,"Unexpected token")}break;case"Property":dt.kind!=="init"&&this.raise(dt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(dt.value,bt);break;case"ArrayExpression":dt.type="ArrayPattern",At&&this.checkPatternErrors(At,!0),this.toAssignableList(dt.elements,bt);break;case"SpreadElement":dt.type="RestElement",this.toAssignable(dt.argument,bt),dt.argument.type==="AssignmentPattern"&&this.raise(dt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":dt.operator!=="="&&this.raise(dt.left.end,"Only '=' operator can be used for specifying default value."),dt.type="AssignmentPattern",delete dt.operator,this.toAssignable(dt.left,bt);break;case"ParenthesizedExpression":this.toAssignable(dt.expression,bt,At);break;case"ChainExpression":this.raiseRecoverable(dt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!bt)break;default:this.raise(dt.start,"Assigning to rvalue")}else At&&this.checkPatternErrors(At,!0);return dt},Sn.toAssignableList=function(dt,bt){for(var At=dt.length,It=0;It<At;It++){var Kt=dt[It];Kt&&this.toAssignable(Kt,bt)}if(At){var on=dt[At-1];this.options.ecmaVersion===6&&bt&&on&&on.type==="RestElement"&&on.argument.type!=="Identifier"&&this.unexpected(on.argument.start)}return dt},Sn.parseSpread=function(dt){var bt=this.startNode();return this.next(),bt.argument=this.parseMaybeAssign(!1,dt),this.finishNode(bt,"SpreadElement")},Sn.parseRestBinding=function(){var dt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==st.name&&this.unexpected(),dt.argument=this.parseBindingAtom(),this.finishNode(dt,"RestElement")},Sn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case st.bracketL:var dt=this.startNode();return this.next(),dt.elements=this.parseBindingList(st.bracketR,!0,!0),this.finishNode(dt,"ArrayPattern");case st.braceL:return this.parseObj(!0)}return this.parseIdent()},Sn.parseBindingList=function(dt,bt,At){for(var It=[],Kt=!0;!this.eat(dt);)if(Kt?Kt=!1:this.expect(st.comma),bt&&this.type===st.comma)It.push(null);else{if(At&&this.afterTrailingComma(dt))break;if(this.type===st.ellipsis){var on=this.parseRestBinding();this.parseBindingListItem(on),It.push(on),this.type===st.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(dt);break}else{var hn=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(hn),It.push(hn)}}return It},Sn.parseBindingListItem=function(dt){return dt},Sn.parseMaybeDefault=function(dt,bt,At){if(At=At||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(st.eq))return At;var It=this.startNodeAt(dt,bt);return It.left=At,It.right=this.parseMaybeAssign(),this.finishNode(It,"AssignmentPattern")},Sn.checkLValSimple=function(dt,bt,At){bt===void 0&&(bt=Zn);var It=bt!==Zn;switch(dt.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(dt.name)&&this.raiseRecoverable(dt.start,(It?"Binding ":"Assigning to ")+dt.name+" in strict mode"),It&&(bt===gn&&dt.name==="let"&&this.raiseRecoverable(dt.start,"let is disallowed as a lexically bound name"),At&&(kt(At,dt.name)&&this.raiseRecoverable(dt.start,"Argument name clash"),At[dt.name]=!0),bt!==tr&&this.declareName(dt.name,bt,dt.start));break;case"ChainExpression":this.raiseRecoverable(dt.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":It&&this.raiseRecoverable(dt.start,"Binding member expression");break;case"ParenthesizedExpression":return It&&this.raiseRecoverable(dt.start,"Binding parenthesized expression"),this.checkLValSimple(dt.expression,bt,At);default:this.raise(dt.start,(It?"Binding":"Assigning to")+" rvalue")}},Sn.checkLValPattern=function(dt,bt,At){switch(bt===void 0&&(bt=Zn),dt.type){case"ObjectPattern":for(var It=0,Kt=dt.properties;It<Kt.length;It+=1){var on=Kt[It];this.checkLValInnerPattern(on,bt,At)}break;case"ArrayPattern":for(var hn=0,kn=dt.elements;hn<kn.length;hn+=1){var $n=kn[hn];$n&&this.checkLValInnerPattern($n,bt,At)}break;default:this.checkLValSimple(dt,bt,At)}},Sn.checkLValInnerPattern=function(dt,bt,At){switch(bt===void 0&&(bt=Zn),dt.type){case"Property":this.checkLValInnerPattern(dt.value,bt,At);break;case"AssignmentPattern":this.checkLValPattern(dt.left,bt,At);break;case"RestElement":this.checkLValPattern(dt.argument,bt,At);break;default:this.checkLValPattern(dt,bt,At)}};var Wn=function(bt,At,It,Kt,on){this.token=bt,this.isExpr=!!At,this.preserveSpace=!!It,this.override=Kt,this.generator=!!on},An={b_stat:new Wn("{",!1),b_expr:new Wn("{",!0),b_tmpl:new Wn("${",!1),p_stat:new Wn("(",!1),p_expr:new Wn("(",!0),q_tmpl:new Wn("`",!0,!0,function(dt){return dt.tryReadTemplateToken()}),f_stat:new Wn("function",!1),f_expr:new Wn("function",!0),f_expr_gen:new Wn("function",!0,!1,null,!0),f_gen:new Wn("function",!1,!1,null,!0)},Xn=On.prototype;Xn.initialContext=function(){return[An.b_stat]},Xn.curContext=function(){return this.context[this.context.length-1]},Xn.braceIsBlock=function(dt){var bt=this.curContext();return bt===An.f_expr||bt===An.f_stat?!0:dt===st.colon&&(bt===An.b_stat||bt===An.b_expr)?!bt.isExpr:dt===st._return||dt===st.name&&this.exprAllowed?vt.test(this.input.slice(this.lastTokEnd,this.start)):dt===st._else||dt===st.semi||dt===st.eof||dt===st.parenR||dt===st.arrow?!0:dt===st.braceL?bt===An.b_stat:dt===st._var||dt===st._const||dt===st.name?!1:!this.exprAllowed},Xn.inGeneratorContext=function(){for(var dt=this.context.length-1;dt>=1;dt--){var bt=this.context[dt];if(bt.token==="function")return bt.generator}return!1},Xn.updateContext=function(dt){var bt,At=this.type;At.keyword&&dt===st.dot?this.exprAllowed=!1:(bt=At.updateContext)?bt.call(this,dt):this.exprAllowed=At.beforeExpr},Xn.overrideContext=function(dt){this.curContext()!==dt&&(this.context[this.context.length-1]=dt)},st.parenR.updateContext=st.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var dt=this.context.pop();dt===An.b_stat&&this.curContext().token==="function"&&(dt=this.context.pop()),this.exprAllowed=!dt.isExpr},st.braceL.updateContext=function(dt){this.context.push(this.braceIsBlock(dt)?An.b_stat:An.b_expr),this.exprAllowed=!0},st.dollarBraceL.updateContext=function(){this.context.push(An.b_tmpl),this.exprAllowed=!0},st.parenL.updateContext=function(dt){var bt=dt===st._if||dt===st._for||dt===st._with||dt===st._while;this.context.push(bt?An.p_stat:An.p_expr),this.exprAllowed=!0},st.incDec.updateContext=function(){},st._function.updateContext=st._class.updateContext=function(dt){dt.beforeExpr&&dt!==st._else&&!(dt===st.semi&&this.curContext()!==An.p_stat)&&!(dt===st._return&&vt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((dt===st.colon||dt===st.braceL)&&this.curContext()===An.b_stat)?this.context.push(An.f_expr):this.context.push(An.f_stat),this.exprAllowed=!1},st.backQuote.updateContext=function(){this.curContext()===An.q_tmpl?this.context.pop():this.context.push(An.q_tmpl),this.exprAllowed=!1},st.star.updateContext=function(dt){if(dt===st._function){var bt=this.context.length-1;this.context[bt]===An.f_expr?this.context[bt]=An.f_expr_gen:this.context[bt]=An.f_gen}this.exprAllowed=!0},st.name.updateContext=function(dt){var bt=!1;this.options.ecmaVersion>=6&&dt!==st.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(bt=!0),this.exprAllowed=bt};var Mn=On.prototype;Mn.checkPropClash=function(dt,bt,At){if(!(this.options.ecmaVersion>=9&&dt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(dt.computed||dt.method||dt.shorthand))){var It=dt.key,Kt;switch(It.type){case"Identifier":Kt=It.name;break;case"Literal":Kt=String(It.value);break;default:return}var on=dt.kind;if(this.options.ecmaVersion>=6){Kt==="__proto__"&&on==="init"&&(bt.proto&&(At?At.doubleProto<0&&(At.doubleProto=It.start):this.raiseRecoverable(It.start,"Redefinition of __proto__ property")),bt.proto=!0);return}Kt="$"+Kt;var hn=bt[Kt];if(hn){var kn;on==="init"?kn=this.strict&&hn.init||hn.get||hn.set:kn=hn.init||hn[on],kn&&this.raiseRecoverable(It.start,"Redefinition of property")}else hn=bt[Kt]={init:!1,get:!1,set:!1};hn[on]=!0}},Mn.parseExpression=function(dt,bt){var At=this.start,It=this.startLoc,Kt=this.parseMaybeAssign(dt,bt);if(this.type===st.comma){var on=this.startNodeAt(At,It);for(on.expressions=[Kt];this.eat(st.comma);)on.expressions.push(this.parseMaybeAssign(dt,bt));return this.finishNode(on,"SequenceExpression")}return Kt},Mn.parseMaybeAssign=function(dt,bt,At){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(dt);this.exprAllowed=!1}var It=!1,Kt=-1,on=-1,hn=-1;bt?(Kt=bt.parenthesizedAssign,on=bt.trailingComma,hn=bt.doubleProto,bt.parenthesizedAssign=bt.trailingComma=-1):(bt=new ar,It=!0);var kn=this.start,$n=this.startLoc;(this.type===st.parenL||this.type===st.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=dt==="await");var nr=this.parseMaybeConditional(dt,bt);if(At&&(nr=At.call(this,nr,kn,$n)),this.type.isAssign){var ur=this.startNodeAt(kn,$n);return ur.operator=this.value,this.type===st.eq&&(nr=this.toAssignable(nr,!1,bt)),It||(bt.parenthesizedAssign=bt.trailingComma=bt.doubleProto=-1),bt.shorthandAssign>=nr.start&&(bt.shorthandAssign=-1),this.type===st.eq?this.checkLValPattern(nr):this.checkLValSimple(nr),ur.left=nr,this.next(),ur.right=this.parseMaybeAssign(dt),hn>-1&&(bt.doubleProto=hn),this.finishNode(ur,"AssignmentExpression")}else It&&this.checkExpressionErrors(bt,!0);return Kt>-1&&(bt.parenthesizedAssign=Kt),on>-1&&(bt.trailingComma=on),nr},Mn.parseMaybeConditional=function(dt,bt){var At=this.start,It=this.startLoc,Kt=this.parseExprOps(dt,bt);if(this.checkExpressionErrors(bt))return Kt;if(this.eat(st.question)){var on=this.startNodeAt(At,It);return on.test=Kt,on.consequent=this.parseMaybeAssign(),this.expect(st.colon),on.alternate=this.parseMaybeAssign(dt),this.finishNode(on,"ConditionalExpression")}return Kt},Mn.parseExprOps=function(dt,bt){var At=this.start,It=this.startLoc,Kt=this.parseMaybeUnary(bt,!1,!1,dt);return this.checkExpressionErrors(bt)||Kt.start===At&&Kt.type==="ArrowFunctionExpression"?Kt:this.parseExprOp(Kt,At,It,-1,dt)},Mn.parseExprOp=function(dt,bt,At,It,Kt){var on=this.type.binop;if(on!=null&&(!Kt||this.type!==st._in)&&on>It){var hn=this.type===st.logicalOR||this.type===st.logicalAND,kn=this.type===st.coalesce;kn&&(on=st.logicalAND.binop);var $n=this.value;this.next();var nr=this.start,ur=this.startLoc,Dr=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Kt),nr,ur,on,Kt),bs=this.buildBinary(bt,At,dt,Dr,$n,hn||kn);return(hn&&this.type===st.coalesce||kn&&(this.type===st.logicalOR||this.type===st.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(bs,bt,At,It,Kt)}return dt},Mn.buildBinary=function(dt,bt,At,It,Kt,on){It.type==="PrivateIdentifier"&&this.raise(It.start,"Private identifier can only be left side of binary expression");var hn=this.startNodeAt(dt,bt);return hn.left=At,hn.operator=Kt,hn.right=It,this.finishNode(hn,on?"LogicalExpression":"BinaryExpression")},Mn.parseMaybeUnary=function(dt,bt,At,It){var Kt=this.start,on=this.startLoc,hn;if(this.isContextual("await")&&this.canAwait)hn=this.parseAwait(It),bt=!0;else if(this.type.prefix){var kn=this.startNode(),$n=this.type===st.incDec;kn.operator=this.value,kn.prefix=!0,this.next(),kn.argument=this.parseMaybeUnary(null,!0,$n,It),this.checkExpressionErrors(dt,!0),$n?this.checkLValSimple(kn.argument):this.strict&&kn.operator==="delete"&&kn.argument.type==="Identifier"?this.raiseRecoverable(kn.start,"Deleting local variable in strict mode"):kn.operator==="delete"&&Dn(kn.argument)?this.raiseRecoverable(kn.start,"Private fields can not be deleted"):bt=!0,hn=this.finishNode(kn,$n?"UpdateExpression":"UnaryExpression")}else if(!bt&&this.type===st.privateId)(It||this.privateNameStack.length===0)&&this.unexpected(),hn=this.parsePrivateIdent(),this.type!==st._in&&this.unexpected();else{if(hn=this.parseExprSubscripts(dt,It),this.checkExpressionErrors(dt))return hn;for(;this.type.postfix&&!this.canInsertSemicolon();){var nr=this.startNodeAt(Kt,on);nr.operator=this.value,nr.prefix=!1,nr.argument=hn,this.checkLValSimple(hn),this.next(),hn=this.finishNode(nr,"UpdateExpression")}}if(!At&&this.eat(st.starstar))if(bt)this.unexpected(this.lastTokStart);else return this.buildBinary(Kt,on,hn,this.parseMaybeUnary(null,!1,!1,It),"**",!1);else return hn};function Dn(dt){return dt.type==="MemberExpression"&&dt.property.type==="PrivateIdentifier"||dt.type==="ChainExpression"&&Dn(dt.expression)}Mn.parseExprSubscripts=function(dt,bt){var At=this.start,It=this.startLoc,Kt=this.parseExprAtom(dt,bt);if(Kt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Kt;var on=this.parseSubscripts(Kt,At,It,!1,bt);return dt&&on.type==="MemberExpression"&&(dt.parenthesizedAssign>=on.start&&(dt.parenthesizedAssign=-1),dt.parenthesizedBind>=on.start&&(dt.parenthesizedBind=-1),dt.trailingComma>=on.start&&(dt.trailingComma=-1)),on},Mn.parseSubscripts=function(dt,bt,At,It,Kt){for(var on=this.options.ecmaVersion>=8&&dt.type==="Identifier"&&dt.name==="async"&&this.lastTokEnd===dt.end&&!this.canInsertSemicolon()&&dt.end-dt.start===5&&this.potentialArrowAt===dt.start,hn=!1;;){var kn=this.parseSubscript(dt,bt,At,It,on,hn,Kt);if(kn.optional&&(hn=!0),kn===dt||kn.type==="ArrowFunctionExpression"){if(hn){var $n=this.startNodeAt(bt,At);$n.expression=kn,kn=this.finishNode($n,"ChainExpression")}return kn}dt=kn}},Mn.parseSubscript=function(dt,bt,At,It,Kt,on,hn){var kn=this.options.ecmaVersion>=11,$n=kn&&this.eat(st.questionDot);It&&$n&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var nr=this.eat(st.bracketL);if(nr||$n&&this.type!==st.parenL&&this.type!==st.backQuote||this.eat(st.dot)){var ur=this.startNodeAt(bt,At);ur.object=dt,nr?(ur.property=this.parseExpression(),this.expect(st.bracketR)):this.type===st.privateId&&dt.type!=="Super"?ur.property=this.parsePrivateIdent():ur.property=this.parseIdent(this.options.allowReserved!=="never"),ur.computed=!!nr,kn&&(ur.optional=$n),dt=this.finishNode(ur,"MemberExpression")}else if(!It&&this.eat(st.parenL)){var Dr=new ar,bs=this.yieldPos,ga=this.awaitPos,Qr=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var xa=this.parseExprList(st.parenR,this.options.ecmaVersion>=8,!1,Dr);if(Kt&&!$n&&!this.canInsertSemicolon()&&this.eat(st.arrow))return this.checkPatternErrors(Dr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=bs,this.awaitPos=ga,this.awaitIdentPos=Qr,this.parseArrowExpression(this.startNodeAt(bt,At),xa,!0,hn);this.checkExpressionErrors(Dr,!0),this.yieldPos=bs||this.yieldPos,this.awaitPos=ga||this.awaitPos,this.awaitIdentPos=Qr||this.awaitIdentPos;var Os=this.startNodeAt(bt,At);Os.callee=dt,Os.arguments=xa,kn&&(Os.optional=$n),dt=this.finishNode(Os,"CallExpression")}else if(this.type===st.backQuote){($n||on)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var ps=this.startNodeAt(bt,At);ps.tag=dt,ps.quasi=this.parseTemplate({isTagged:!0}),dt=this.finishNode(ps,"TaggedTemplateExpression")}return dt},Mn.parseExprAtom=function(dt,bt){this.type===st.slash&&this.readRegexp();var At,It=this.potentialArrowAt===this.start;switch(this.type){case st._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),At=this.startNode(),this.next(),this.type===st.parenL&&!this.allowDirectSuper&&this.raise(At.start,"super() call outside constructor of a subclass"),this.type!==st.dot&&this.type!==st.bracketL&&this.type!==st.parenL&&this.unexpected(),this.finishNode(At,"Super");case st._this:return At=this.startNode(),this.next(),this.finishNode(At,"ThisExpression");case st.name:var Kt=this.start,on=this.startLoc,hn=this.containsEsc,kn=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!hn&&kn.name==="async"&&!this.canInsertSemicolon()&&this.eat(st._function))return this.overrideContext(An.f_expr),this.parseFunction(this.startNodeAt(Kt,on),0,!1,!0,bt);if(It&&!this.canInsertSemicolon()){if(this.eat(st.arrow))return this.parseArrowExpression(this.startNodeAt(Kt,on),[kn],!1,bt);if(this.options.ecmaVersion>=8&&kn.name==="async"&&this.type===st.name&&!hn&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return kn=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(st.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Kt,on),[kn],!0,bt)}return kn;case st.regexp:var $n=this.value;return At=this.parseLiteral($n.value),At.regex={pattern:$n.pattern,flags:$n.flags},At;case st.num:case st.string:return this.parseLiteral(this.value);case st._null:case st._true:case st._false:return At=this.startNode(),At.value=this.type===st._null?null:this.type===st._true,At.raw=this.type.keyword,this.next(),this.finishNode(At,"Literal");case st.parenL:var nr=this.start,ur=this.parseParenAndDistinguishExpression(It,bt);return dt&&(dt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(ur)&&(dt.parenthesizedAssign=nr),dt.parenthesizedBind<0&&(dt.parenthesizedBind=nr)),ur;case st.bracketL:return At=this.startNode(),this.next(),At.elements=this.parseExprList(st.bracketR,!0,!0,dt),this.finishNode(At,"ArrayExpression");case st.braceL:return this.overrideContext(An.b_expr),this.parseObj(!1,dt);case st._function:return At=this.startNode(),this.next(),this.parseFunction(At,0);case st._class:return this.parseClass(this.startNode(),!1);case st._new:return this.parseNew();case st.backQuote:return this.parseTemplate();case st._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Mn.parseExprImport=function(){var dt=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var bt=this.parseIdent(!0);switch(this.type){case st.parenL:return this.parseDynamicImport(dt);case st.dot:return dt.meta=bt,this.parseImportMeta(dt);default:this.unexpected()}},Mn.parseDynamicImport=function(dt){if(this.next(),dt.source=this.parseMaybeAssign(),!this.eat(st.parenR)){var bt=this.start;this.eat(st.comma)&&this.eat(st.parenR)?this.raiseRecoverable(bt,"Trailing comma is not allowed in import()"):this.unexpected(bt)}return this.finishNode(dt,"ImportExpression")},Mn.parseImportMeta=function(dt){this.next();var bt=this.containsEsc;return dt.property=this.parseIdent(!0),dt.property.name!=="meta"&&this.raiseRecoverable(dt.property.start,"The only valid meta property for import is 'import.meta'"),bt&&this.raiseRecoverable(dt.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(dt.start,"Cannot use 'import.meta' outside a module"),this.finishNode(dt,"MetaProperty")},Mn.parseLiteral=function(dt){var bt=this.startNode();return bt.value=dt,bt.raw=this.input.slice(this.start,this.end),bt.raw.charCodeAt(bt.raw.length-1)===110&&(bt.bigint=bt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(bt,"Literal")},Mn.parseParenExpression=function(){this.expect(st.parenL);var dt=this.parseExpression();return this.expect(st.parenR),dt},Mn.parseParenAndDistinguishExpression=function(dt,bt){var At=this.start,It=this.startLoc,Kt,on=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var hn=this.start,kn=this.startLoc,$n=[],nr=!0,ur=!1,Dr=new ar,bs=this.yieldPos,ga=this.awaitPos,Qr;for(this.yieldPos=0,this.awaitPos=0;this.type!==st.parenR;)if(nr?nr=!1:this.expect(st.comma),on&&this.afterTrailingComma(st.parenR,!0)){ur=!0;break}else if(this.type===st.ellipsis){Qr=this.start,$n.push(this.parseParenItem(this.parseRestBinding())),this.type===st.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else $n.push(this.parseMaybeAssign(!1,Dr,this.parseParenItem));var xa=this.lastTokEnd,Os=this.lastTokEndLoc;if(this.expect(st.parenR),dt&&!this.canInsertSemicolon()&&this.eat(st.arrow))return this.checkPatternErrors(Dr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=bs,this.awaitPos=ga,this.parseParenArrowList(At,It,$n,bt);(!$n.length||ur)&&this.unexpected(this.lastTokStart),Qr&&this.unexpected(Qr),this.checkExpressionErrors(Dr,!0),this.yieldPos=bs||this.yieldPos,this.awaitPos=ga||this.awaitPos,$n.length>1?(Kt=this.startNodeAt(hn,kn),Kt.expressions=$n,this.finishNodeAt(Kt,"SequenceExpression",xa,Os)):Kt=$n[0]}else Kt=this.parseParenExpression();if(this.options.preserveParens){var ps=this.startNodeAt(At,It);return ps.expression=Kt,this.finishNode(ps,"ParenthesizedExpression")}else return Kt},Mn.parseParenItem=function(dt){return dt},Mn.parseParenArrowList=function(dt,bt,At,It){return this.parseArrowExpression(this.startNodeAt(dt,bt),At,!1,It)};var ir=[];Mn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var dt=this.startNode(),bt=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(st.dot)){dt.meta=bt;var At=this.containsEsc;return dt.property=this.parseIdent(!0),dt.property.name!=="target"&&this.raiseRecoverable(dt.property.start,"The only valid meta property for new is 'new.target'"),At&&this.raiseRecoverable(dt.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(dt.start,"'new.target' can only be used in functions and class static block"),this.finishNode(dt,"MetaProperty")}var It=this.start,Kt=this.startLoc,on=this.type===st._import;return dt.callee=this.parseSubscripts(this.parseExprAtom(),It,Kt,!0,!1),on&&dt.callee.type==="ImportExpression"&&this.raise(It,"Cannot use new with import()"),this.eat(st.parenL)?dt.arguments=this.parseExprList(st.parenR,this.options.ecmaVersion>=8,!1):dt.arguments=ir,this.finishNode(dt,"NewExpression")},Mn.parseTemplateElement=function(dt){var bt=dt.isTagged,At=this.startNode();return this.type===st.invalidTemplate?(bt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),At.value={raw:this.value,cooked:null}):At.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),At.tail=this.type===st.backQuote,this.finishNode(At,"TemplateElement")},Mn.parseTemplate=function(dt){dt===void 0&&(dt={});var bt=dt.isTagged;bt===void 0&&(bt=!1);var At=this.startNode();this.next(),At.expressions=[];var It=this.parseTemplateElement({isTagged:bt});for(At.quasis=[It];!It.tail;)this.type===st.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(st.dollarBraceL),At.expressions.push(this.parseExpression()),this.expect(st.braceR),At.quasis.push(It=this.parseTemplateElement({isTagged:bt}));return this.next(),this.finishNode(At,"TemplateLiteral")},Mn.isAsyncProp=function(dt){return!dt.computed&&dt.key.type==="Identifier"&&dt.key.name==="async"&&(this.type===st.name||this.type===st.num||this.type===st.string||this.type===st.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===st.star)&&!vt.test(this.input.slice(this.lastTokEnd,this.start))},Mn.parseObj=function(dt,bt){var At=this.startNode(),It=!0,Kt={};for(At.properties=[],this.next();!this.eat(st.braceR);){if(It)It=!1;else if(this.expect(st.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(st.braceR))break;var on=this.parseProperty(dt,bt);dt||this.checkPropClash(on,Kt,bt),At.properties.push(on)}return this.finishNode(At,dt?"ObjectPattern":"ObjectExpression")},Mn.parseProperty=function(dt,bt){var At=this.startNode(),It,Kt,on,hn;if(this.options.ecmaVersion>=9&&this.eat(st.ellipsis))return dt?(At.argument=this.parseIdent(!1),this.type===st.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(At,"RestElement")):(At.argument=this.parseMaybeAssign(!1,bt),this.type===st.comma&&bt&&bt.trailingComma<0&&(bt.trailingComma=this.start),this.finishNode(At,"SpreadElement"));this.options.ecmaVersion>=6&&(At.method=!1,At.shorthand=!1,(dt||bt)&&(on=this.start,hn=this.startLoc),dt||(It=this.eat(st.star)));var kn=this.containsEsc;return this.parsePropertyName(At),!dt&&!kn&&this.options.ecmaVersion>=8&&!It&&this.isAsyncProp(At)?(Kt=!0,It=this.options.ecmaVersion>=9&&this.eat(st.star),this.parsePropertyName(At,bt)):Kt=!1,this.parsePropertyValue(At,dt,It,Kt,on,hn,bt,kn),this.finishNode(At,"Property")},Mn.parsePropertyValue=function(dt,bt,At,It,Kt,on,hn,kn){if((At||It)&&this.type===st.colon&&this.unexpected(),this.eat(st.colon))dt.value=bt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,hn),dt.kind="init";else if(this.options.ecmaVersion>=6&&this.type===st.parenL)bt&&this.unexpected(),dt.kind="init",dt.method=!0,dt.value=this.parseMethod(At,It);else if(!bt&&!kn&&this.options.ecmaVersion>=5&&!dt.computed&&dt.key.type==="Identifier"&&(dt.key.name==="get"||dt.key.name==="set")&&this.type!==st.comma&&this.type!==st.braceR&&this.type!==st.eq){(At||It)&&this.unexpected(),dt.kind=dt.key.name,this.parsePropertyName(dt),dt.value=this.parseMethod(!1);var $n=dt.kind==="get"?0:1;if(dt.value.params.length!==$n){var nr=dt.value.start;dt.kind==="get"?this.raiseRecoverable(nr,"getter should have no params"):this.raiseRecoverable(nr,"setter should have exactly one param")}else dt.kind==="set"&&dt.value.params[0].type==="RestElement"&&this.raiseRecoverable(dt.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!dt.computed&&dt.key.type==="Identifier"?((At||It)&&this.unexpected(),this.checkUnreserved(dt.key),dt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Kt),dt.kind="init",bt?dt.value=this.parseMaybeDefault(Kt,on,this.copyNode(dt.key)):this.type===st.eq&&hn?(hn.shorthandAssign<0&&(hn.shorthandAssign=this.start),dt.value=this.parseMaybeDefault(Kt,on,this.copyNode(dt.key))):dt.value=this.copyNode(dt.key),dt.shorthand=!0):this.unexpected()},Mn.parsePropertyName=function(dt){if(this.options.ecmaVersion>=6){if(this.eat(st.bracketL))return dt.computed=!0,dt.key=this.parseMaybeAssign(),this.expect(st.bracketR),dt.key;dt.computed=!1}return dt.key=this.type===st.num||this.type===st.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Mn.initFunction=function(dt){dt.id=null,this.options.ecmaVersion>=6&&(dt.generator=dt.expression=!1),this.options.ecmaVersion>=8&&(dt.async=!1)},Mn.parseMethod=function(dt,bt,At){var It=this.startNode(),Kt=this.yieldPos,on=this.awaitPos,hn=this.awaitIdentPos;return this.initFunction(It),this.options.ecmaVersion>=6&&(It.generator=dt),this.options.ecmaVersion>=8&&(It.async=!!bt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Qn(bt,It.generator)|ln|(At?yn:0)),this.expect(st.parenL),It.params=this.parseBindingList(st.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(It,!1,!0,!1),this.yieldPos=Kt,this.awaitPos=on,this.awaitIdentPos=hn,this.finishNode(It,"FunctionExpression")},Mn.parseArrowExpression=function(dt,bt,At,It){var Kt=this.yieldPos,on=this.awaitPos,hn=this.awaitIdentPos;return this.enterScope(Qn(At,!1)|Wt),this.initFunction(dt),this.options.ecmaVersion>=8&&(dt.async=!!At),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,dt.params=this.toAssignableList(bt,!0),this.parseFunctionBody(dt,!0,!1,It),this.yieldPos=Kt,this.awaitPos=on,this.awaitIdentPos=hn,this.finishNode(dt,"ArrowFunctionExpression")},Mn.parseFunctionBody=function(dt,bt,At,It){var Kt=bt&&this.type!==st.braceL,on=this.strict,hn=!1;if(Kt)dt.body=this.parseMaybeAssign(It),dt.expression=!0,this.checkParams(dt,!1);else{var kn=this.options.ecmaVersion>=7&&!this.isSimpleParamList(dt.params);(!on||kn)&&(hn=this.strictDirective(this.end),hn&&kn&&this.raiseRecoverable(dt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var $n=this.labels;this.labels=[],hn&&(this.strict=!0),this.checkParams(dt,!on&&!hn&&!bt&&!At&&this.isSimpleParamList(dt.params)),this.strict&&dt.id&&this.checkLValSimple(dt.id,tr),dt.body=this.parseBlock(!1,void 0,hn&&!on),dt.expression=!1,this.adaptDirectivePrologue(dt.body.body),this.labels=$n}this.exitScope()},Mn.isSimpleParamList=function(dt){for(var bt=0,At=dt;bt<At.length;bt+=1){var It=At[bt];if(It.type!=="Identifier")return!1}return!0},Mn.checkParams=function(dt,bt){for(var At=Object.create(null),It=0,Kt=dt.params;It<Kt.length;It+=1){var on=Kt[It];this.checkLValInnerPattern(on,Sr,bt?null:At)}},Mn.parseExprList=function(dt,bt,At,It){for(var Kt=[],on=!0;!this.eat(dt);){if(on)on=!1;else if(this.expect(st.comma),bt&&this.afterTrailingComma(dt))break;var hn=void 0;At&&this.type===st.comma?hn=null:this.type===st.ellipsis?(hn=this.parseSpread(It),It&&this.type===st.comma&&It.trailingComma<0&&(It.trailingComma=this.start)):hn=this.parseMaybeAssign(!1,It),Kt.push(hn)}return Kt},Mn.checkUnreserved=function(dt){var bt=dt.start,At=dt.end,It=dt.name;if(this.inGenerator&&It==="yield"&&this.raiseRecoverable(bt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&It==="await"&&this.raiseRecoverable(bt,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&It==="arguments"&&this.raiseRecoverable(bt,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(It==="arguments"||It==="await")&&this.raise(bt,"Cannot use "+It+" in class static initialization block"),this.keywords.test(It)&&this.raise(bt,"Unexpected keyword '"+It+"'"),!(this.options.ecmaVersion<6&&this.input.slice(bt,At).indexOf("\\")!==-1)){var Kt=this.strict?this.reservedWordsStrict:this.reservedWords;Kt.test(It)&&(!this.inAsync&&It==="await"&&this.raiseRecoverable(bt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(bt,"The keyword '"+It+"' is reserved"))}},Mn.parseIdent=function(dt,bt){var At=this.startNode();return this.type===st.name?At.name=this.value:this.type.keyword?(At.name=this.type.keyword,(At.name==="class"||At.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!dt),this.finishNode(At,"Identifier"),dt||(this.checkUnreserved(At),At.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=At.start)),At},Mn.parsePrivateIdent=function(){var dt=this.startNode();return this.type===st.privateId?dt.name=this.value:this.unexpected(),this.next(),this.finishNode(dt,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(dt.start,"Private field '#"+dt.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(dt),dt},Mn.parseYield=function(dt){this.yieldPos||(this.yieldPos=this.start);var bt=this.startNode();return this.next(),this.type===st.semi||this.canInsertSemicolon()||this.type!==st.star&&!this.type.startsExpr?(bt.delegate=!1,bt.argument=null):(bt.delegate=this.eat(st.star),bt.argument=this.parseMaybeAssign(dt)),this.finishNode(bt,"YieldExpression")},Mn.parseAwait=function(dt){this.awaitPos||(this.awaitPos=this.start);var bt=this.startNode();return this.next(),bt.argument=this.parseMaybeUnary(null,!0,!1,dt),this.finishNode(bt,"AwaitExpression")};var es=On.prototype;es.raise=function(dt,bt){var At=Mt(this.input,dt);bt+=" ("+At.line+":"+At.column+")";var It=new SyntaxError(bt);throw It.pos=dt,It.loc=At,It.raisedAt=this.pos,It},es.raiseRecoverable=es.raise,es.curPosition=function(){if(this.options.locations)return new Xt(this.curLine,this.pos-this.lineStart)};var Wr=On.prototype,xs=function(bt){this.flags=bt,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Wr.enterScope=function(dt){this.scopeStack.push(new xs(dt))},Wr.exitScope=function(){this.scopeStack.pop()},Wr.treatFunctionsAsVarInScope=function(dt){return dt.flags&dn||!this.inModule&&dt.flags&an},Wr.declareName=function(dt,bt,At){var It=!1;if(bt===gn){var Kt=this.currentScope();It=Kt.lexical.indexOf(dt)>-1||Kt.functions.indexOf(dt)>-1||Kt.var.indexOf(dt)>-1,Kt.lexical.push(dt),this.inModule&&Kt.flags&an&&delete this.undefinedExports[dt]}else if(bt===Ln){var on=this.currentScope();on.lexical.push(dt)}else if(bt===Fn){var hn=this.currentScope();this.treatFunctionsAsVar?It=hn.lexical.indexOf(dt)>-1:It=hn.lexical.indexOf(dt)>-1||hn.var.indexOf(dt)>-1,hn.functions.push(dt)}else for(var kn=this.scopeStack.length-1;kn>=0;--kn){var $n=this.scopeStack[kn];if($n.lexical.indexOf(dt)>-1&&!($n.flags&Nt&&$n.lexical[0]===dt)||!this.treatFunctionsAsVarInScope($n)&&$n.functions.indexOf(dt)>-1){It=!0;break}if($n.var.push(dt),this.inModule&&$n.flags&an&&delete this.undefinedExports[dt],$n.flags&Un)break}It&&this.raiseRecoverable(At,"Identifier '"+dt+"' has already been declared")},Wr.checkLocalExport=function(dt){this.scopeStack[0].lexical.indexOf(dt.name)===-1&&this.scopeStack[0].var.indexOf(dt.name)===-1&&(this.undefinedExports[dt.name]=dt)},Wr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Wr.currentVarScope=function(){for(var dt=this.scopeStack.length-1;;dt--){var bt=this.scopeStack[dt];if(bt.flags&Un)return bt}},Wr.currentThisScope=function(){for(var dt=this.scopeStack.length-1;;dt--){var bt=this.scopeStack[dt];if(bt.flags&Un&&!(bt.flags&Wt))return bt}};var $s=function(bt,At,It){this.type="",this.start=At,this.end=0,bt.options.locations&&(this.loc=new Pt(bt,It)),bt.options.directSourceFile&&(this.sourceFile=bt.options.directSourceFile),bt.options.ranges&&(this.range=[At,0])},Ls=On.prototype;Ls.startNode=function(){return new $s(this,this.start,this.startLoc)},Ls.startNodeAt=function(dt,bt){return new $s(this,dt,bt)};function Rs(dt,bt,At,It){return dt.type=bt,dt.end=At,this.options.locations&&(dt.loc.end=It),this.options.ranges&&(dt.range[1]=At),dt}Ls.finishNode=function(dt,bt){return Rs.call(this,dt,bt,this.lastTokEnd,this.lastTokEndLoc)},Ls.finishNodeAt=function(dt,bt,At,It){return Rs.call(this,dt,bt,At,It)},Ls.copyNode=function(dt){var bt=new $s(this,dt.start,this.startLoc);for(var At in dt)bt[At]=dt[At];return bt};var Ys="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Is=Ys+" Extended_Pictographic",qs=Is,zs=qs+" EBase EComp EMod EPres ExtPict",ss=zs,Qs={9:Ys,10:Is,11:qs,12:zs,13:ss},Gn="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Xr="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ms=Xr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Zs=Ms+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Kr=Zs+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",xo=Kr+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ao={9:Xr,10:Ms,11:Zs,12:Kr,13:xo},oo={};function bo(dt){var bt=oo[dt]={binary:Ct(Qs[dt]+" "+Gn),nonBinary:{General_Category:Ct(Gn),Script:Ct(ao[dt])}};bt.nonBinary.Script_Extensions=bt.nonBinary.Script,bt.nonBinary.gc=bt.nonBinary.General_Category,bt.nonBinary.sc=bt.nonBinary.Script,bt.nonBinary.scx=bt.nonBinary.Script_Extensions}for(var Us=0,as=[9,10,11,12,13];Us<as.length;Us+=1){var fs=as[Us];bo(fs)}var Hn=On.prototype,Br=function(bt){this.parser=bt,this.validFlags="gim"+(bt.options.ecmaVersion>=6?"uy":"")+(bt.options.ecmaVersion>=9?"s":"")+(bt.options.ecmaVersion>=13?"d":""),this.unicodeProperties=oo[bt.options.ecmaVersion>=13?13:bt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Br.prototype.reset=function(bt,At,It){var Kt=It.indexOf("u")!==-1;this.start=bt|0,this.source=At+"",this.flags=It,this.switchU=Kt&&this.parser.options.ecmaVersion>=6,this.switchN=Kt&&this.parser.options.ecmaVersion>=9},Br.prototype.raise=function(bt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+bt)},Br.prototype.at=function(bt,At){At===void 0&&(At=!1);var It=this.source,Kt=It.length;if(bt>=Kt)return-1;var on=It.charCodeAt(bt);if(!(At||this.switchU)||on<=55295||on>=57344||bt+1>=Kt)return on;var hn=It.charCodeAt(bt+1);return hn>=56320&&hn<=57343?(on<<10)+hn-56613888:on},Br.prototype.nextIndex=function(bt,At){At===void 0&&(At=!1);var It=this.source,Kt=It.length;if(bt>=Kt)return Kt;var on=It.charCodeAt(bt),hn;return!(At||this.switchU)||on<=55295||on>=57344||bt+1>=Kt||(hn=It.charCodeAt(bt+1))<56320||hn>57343?bt+1:bt+2},Br.prototype.current=function(bt){return bt===void 0&&(bt=!1),this.at(this.pos,bt)},Br.prototype.lookahead=function(bt){return bt===void 0&&(bt=!1),this.at(this.nextIndex(this.pos,bt),bt)},Br.prototype.advance=function(bt){bt===void 0&&(bt=!1),this.pos=this.nextIndex(this.pos,bt)},Br.prototype.eat=function(bt,At){return At===void 0&&(At=!1),this.current(At)===bt?(this.advance(At),!0):!1},Hn.validateRegExpFlags=function(dt){for(var bt=dt.validFlags,At=dt.flags,It=0;It<At.length;It++){var Kt=At.charAt(It);bt.indexOf(Kt)===-1&&this.raise(dt.start,"Invalid regular expression flag"),At.indexOf(Kt,It+1)>-1&&this.raise(dt.start,"Duplicate regular expression flag")}},Hn.validateRegExpPattern=function(dt){this.regexp_pattern(dt),!dt.switchN&&this.options.ecmaVersion>=9&&dt.groupNames.length>0&&(dt.switchN=!0,this.regexp_pattern(dt))},Hn.regexp_pattern=function(dt){dt.pos=0,dt.lastIntValue=0,dt.lastStringValue="",dt.lastAssertionIsQuantifiable=!1,dt.numCapturingParens=0,dt.maxBackReference=0,dt.groupNames.length=0,dt.backReferenceNames.length=0,this.regexp_disjunction(dt),dt.pos!==dt.source.length&&(dt.eat(41)&&dt.raise("Unmatched ')'"),(dt.eat(93)||dt.eat(125))&&dt.raise("Lone quantifier brackets")),dt.maxBackReference>dt.numCapturingParens&&dt.raise("Invalid escape");for(var bt=0,At=dt.backReferenceNames;bt<At.length;bt+=1){var It=At[bt];dt.groupNames.indexOf(It)===-1&&dt.raise("Invalid named capture referenced")}},Hn.regexp_disjunction=function(dt){for(this.regexp_alternative(dt);dt.eat(124);)this.regexp_alternative(dt);this.regexp_eatQuantifier(dt,!0)&&dt.raise("Nothing to repeat"),dt.eat(123)&&dt.raise("Lone quantifier brackets")},Hn.regexp_alternative=function(dt){for(;dt.pos<dt.source.length&&this.regexp_eatTerm(dt););},Hn.regexp_eatTerm=function(dt){return this.regexp_eatAssertion(dt)?(dt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(dt)&&dt.switchU&&dt.raise("Invalid quantifier"),!0):(dt.switchU?this.regexp_eatAtom(dt):this.regexp_eatExtendedAtom(dt))?(this.regexp_eatQuantifier(dt),!0):!1},Hn.regexp_eatAssertion=function(dt){var bt=dt.pos;if(dt.lastAssertionIsQuantifiable=!1,dt.eat(94)||dt.eat(36))return!0;if(dt.eat(92)){if(dt.eat(66)||dt.eat(98))return!0;dt.pos=bt}if(dt.eat(40)&&dt.eat(63)){var At=!1;if(this.options.ecmaVersion>=9&&(At=dt.eat(60)),dt.eat(61)||dt.eat(33))return this.regexp_disjunction(dt),dt.eat(41)||dt.raise("Unterminated group"),dt.lastAssertionIsQuantifiable=!At,!0}return dt.pos=bt,!1},Hn.regexp_eatQuantifier=function(dt,bt){return bt===void 0&&(bt=!1),this.regexp_eatQuantifierPrefix(dt,bt)?(dt.eat(63),!0):!1},Hn.regexp_eatQuantifierPrefix=function(dt,bt){return dt.eat(42)||dt.eat(43)||dt.eat(63)||this.regexp_eatBracedQuantifier(dt,bt)},Hn.regexp_eatBracedQuantifier=function(dt,bt){var At=dt.pos;if(dt.eat(123)){var It=0,Kt=-1;if(this.regexp_eatDecimalDigits(dt)&&(It=dt.lastIntValue,dt.eat(44)&&this.regexp_eatDecimalDigits(dt)&&(Kt=dt.lastIntValue),dt.eat(125)))return Kt!==-1&&Kt<It&&!bt&&dt.raise("numbers out of order in {} quantifier"),!0;dt.switchU&&!bt&&dt.raise("Incomplete quantifier"),dt.pos=At}return!1},Hn.regexp_eatAtom=function(dt){return this.regexp_eatPatternCharacters(dt)||dt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(dt)||this.regexp_eatCharacterClass(dt)||this.regexp_eatUncapturingGroup(dt)||this.regexp_eatCapturingGroup(dt)},Hn.regexp_eatReverseSolidusAtomEscape=function(dt){var bt=dt.pos;if(dt.eat(92)){if(this.regexp_eatAtomEscape(dt))return!0;dt.pos=bt}return!1},Hn.regexp_eatUncapturingGroup=function(dt){var bt=dt.pos;if(dt.eat(40)){if(dt.eat(63)&&dt.eat(58)){if(this.regexp_disjunction(dt),dt.eat(41))return!0;dt.raise("Unterminated group")}dt.pos=bt}return!1},Hn.regexp_eatCapturingGroup=function(dt){if(dt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(dt):dt.current()===63&&dt.raise("Invalid group"),this.regexp_disjunction(dt),dt.eat(41))return dt.numCapturingParens+=1,!0;dt.raise("Unterminated group")}return!1},Hn.regexp_eatExtendedAtom=function(dt){return dt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(dt)||this.regexp_eatCharacterClass(dt)||this.regexp_eatUncapturingGroup(dt)||this.regexp_eatCapturingGroup(dt)||this.regexp_eatInvalidBracedQuantifier(dt)||this.regexp_eatExtendedPatternCharacter(dt)},Hn.regexp_eatInvalidBracedQuantifier=function(dt){return this.regexp_eatBracedQuantifier(dt,!0)&&dt.raise("Nothing to repeat"),!1},Hn.regexp_eatSyntaxCharacter=function(dt){var bt=dt.current();return Js(bt)?(dt.lastIntValue=bt,dt.advance(),!0):!1};function Js(dt){return dt===36||dt>=40&&dt<=43||dt===46||dt===63||dt>=91&&dt<=94||dt>=123&&dt<=125}Hn.regexp_eatPatternCharacters=function(dt){for(var bt=dt.pos,At=0;(At=dt.current())!==-1&&!Js(At);)dt.advance();return dt.pos!==bt},Hn.regexp_eatExtendedPatternCharacter=function(dt){var bt=dt.current();return bt!==-1&&bt!==36&&!(bt>=40&&bt<=43)&&bt!==46&&bt!==63&&bt!==91&&bt!==94&&bt!==124?(dt.advance(),!0):!1},Hn.regexp_groupSpecifier=function(dt){if(dt.eat(63)){if(this.regexp_eatGroupName(dt)){dt.groupNames.indexOf(dt.lastStringValue)!==-1&&dt.raise("Duplicate capture group name"),dt.groupNames.push(dt.lastStringValue);return}dt.raise("Invalid group")}},Hn.regexp_eatGroupName=function(dt){if(dt.lastStringValue="",dt.eat(60)){if(this.regexp_eatRegExpIdentifierName(dt)&&dt.eat(62))return!0;dt.raise("Invalid capture group name")}return!1},Hn.regexp_eatRegExpIdentifierName=function(dt){if(dt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(dt)){for(dt.lastStringValue+=Rt(dt.lastIntValue);this.regexp_eatRegExpIdentifierPart(dt);)dt.lastStringValue+=Rt(dt.lastIntValue);return!0}return!1},Hn.regexp_eatRegExpIdentifierStart=function(dt){var bt=dt.pos,At=this.options.ecmaVersion>=11,It=dt.current(At);return dt.advance(At),It===92&&this.regexp_eatRegExpUnicodeEscapeSequence(dt,At)&&(It=dt.lastIntValue),Ws(It)?(dt.lastIntValue=It,!0):(dt.pos=bt,!1)};function Ws(dt){return g(dt,!0)||dt===36||dt===95}Hn.regexp_eatRegExpIdentifierPart=function(dt){var bt=dt.pos,At=this.options.ecmaVersion>=11,It=dt.current(At);return dt.advance(At),It===92&&this.regexp_eatRegExpUnicodeEscapeSequence(dt,At)&&(It=dt.lastIntValue),rr(It)?(dt.lastIntValue=It,!0):(dt.pos=bt,!1)};function rr(dt){return tt(dt,!0)||dt===36||dt===95||dt===8204||dt===8205}Hn.regexp_eatAtomEscape=function(dt){return this.regexp_eatBackReference(dt)||this.regexp_eatCharacterClassEscape(dt)||this.regexp_eatCharacterEscape(dt)||dt.switchN&&this.regexp_eatKGroupName(dt)?!0:(dt.switchU&&(dt.current()===99&&dt.raise("Invalid unicode escape"),dt.raise("Invalid escape")),!1)},Hn.regexp_eatBackReference=function(dt){var bt=dt.pos;if(this.regexp_eatDecimalEscape(dt)){var At=dt.lastIntValue;if(dt.switchU)return At>dt.maxBackReference&&(dt.maxBackReference=At),!0;if(At<=dt.numCapturingParens)return!0;dt.pos=bt}return!1},Hn.regexp_eatKGroupName=function(dt){if(dt.eat(107)){if(this.regexp_eatGroupName(dt))return dt.backReferenceNames.push(dt.lastStringValue),!0;dt.raise("Invalid named reference")}return!1},Hn.regexp_eatCharacterEscape=function(dt){return this.regexp_eatControlEscape(dt)||this.regexp_eatCControlLetter(dt)||this.regexp_eatZero(dt)||this.regexp_eatHexEscapeSequence(dt)||this.regexp_eatRegExpUnicodeEscapeSequence(dt,!1)||!dt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(dt)||this.regexp_eatIdentityEscape(dt)},Hn.regexp_eatCControlLetter=function(dt){var bt=dt.pos;if(dt.eat(99)){if(this.regexp_eatControlLetter(dt))return!0;dt.pos=bt}return!1},Hn.regexp_eatZero=function(dt){return dt.current()===48&&!Gs(dt.lookahead())?(dt.lastIntValue=0,dt.advance(),!0):!1},Hn.regexp_eatControlEscape=function(dt){var bt=dt.current();return bt===116?(dt.lastIntValue=9,dt.advance(),!0):bt===110?(dt.lastIntValue=10,dt.advance(),!0):bt===118?(dt.lastIntValue=11,dt.advance(),!0):bt===102?(dt.lastIntValue=12,dt.advance(),!0):bt===114?(dt.lastIntValue=13,dt.advance(),!0):!1},Hn.regexp_eatControlLetter=function(dt){var bt=dt.current();return Ds(bt)?(dt.lastIntValue=bt%32,dt.advance(),!0):!1};function Ds(dt){return dt>=65&&dt<=90||dt>=97&&dt<=122}Hn.regexp_eatRegExpUnicodeEscapeSequence=function(dt,bt){bt===void 0&&(bt=!1);var At=dt.pos,It=bt||dt.switchU;if(dt.eat(117)){if(this.regexp_eatFixedHexDigits(dt,4)){var Kt=dt.lastIntValue;if(It&&Kt>=55296&&Kt<=56319){var on=dt.pos;if(dt.eat(92)&&dt.eat(117)&&this.regexp_eatFixedHexDigits(dt,4)){var hn=dt.lastIntValue;if(hn>=56320&&hn<=57343)return dt.lastIntValue=(Kt-55296)*1024+(hn-56320)+65536,!0}dt.pos=on,dt.lastIntValue=Kt}return!0}if(It&&dt.eat(123)&&this.regexp_eatHexDigits(dt)&&dt.eat(125)&&na(dt.lastIntValue))return!0;It&&dt.raise("Invalid unicode escape"),dt.pos=At}return!1};function na(dt){return dt>=0&&dt<=1114111}Hn.regexp_eatIdentityEscape=function(dt){if(dt.switchU)return this.regexp_eatSyntaxCharacter(dt)?!0:dt.eat(47)?(dt.lastIntValue=47,!0):!1;var bt=dt.current();return bt!==99&&(!dt.switchN||bt!==107)?(dt.lastIntValue=bt,dt.advance(),!0):!1},Hn.regexp_eatDecimalEscape=function(dt){dt.lastIntValue=0;var bt=dt.current();if(bt>=49&&bt<=57){do dt.lastIntValue=10*dt.lastIntValue+(bt-48),dt.advance();while((bt=dt.current())>=48&&bt<=57);return!0}return!1},Hn.regexp_eatCharacterClassEscape=function(dt){var bt=dt.current();if(Yr(bt))return dt.lastIntValue=-1,dt.advance(),!0;if(dt.switchU&&this.options.ecmaVersion>=9&&(bt===80||bt===112)){if(dt.lastIntValue=-1,dt.advance(),dt.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(dt)&&dt.eat(125))return!0;dt.raise("Invalid property name")}return!1};function Yr(dt){return dt===100||dt===68||dt===115||dt===83||dt===119||dt===87}Hn.regexp_eatUnicodePropertyValueExpression=function(dt){var bt=dt.pos;if(this.regexp_eatUnicodePropertyName(dt)&&dt.eat(61)){var At=dt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(dt)){var It=dt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(dt,At,It),!0}}if(dt.pos=bt,this.regexp_eatLoneUnicodePropertyNameOrValue(dt)){var Kt=dt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(dt,Kt),!0}return!1},Hn.regexp_validateUnicodePropertyNameAndValue=function(dt,bt,At){kt(dt.unicodeProperties.nonBinary,bt)||dt.raise("Invalid property name"),dt.unicodeProperties.nonBinary[bt].test(At)||dt.raise("Invalid property value")},Hn.regexp_validateUnicodePropertyNameOrValue=function(dt,bt){dt.unicodeProperties.binary.test(bt)||dt.raise("Invalid property name")},Hn.regexp_eatUnicodePropertyName=function(dt){var bt=0;for(dt.lastStringValue="";lo(bt=dt.current());)dt.lastStringValue+=Rt(bt),dt.advance();return dt.lastStringValue!==""};function lo(dt){return Ds(dt)||dt===95}Hn.regexp_eatUnicodePropertyValue=function(dt){var bt=0;for(dt.lastStringValue="";wo(bt=dt.current());)dt.lastStringValue+=Rt(bt),dt.advance();return dt.lastStringValue!==""};function wo(dt){return lo(dt)||Gs(dt)}Hn.regexp_eatLoneUnicodePropertyNameOrValue=function(dt){return this.regexp_eatUnicodePropertyValue(dt)},Hn.regexp_eatCharacterClass=function(dt){if(dt.eat(91)){if(dt.eat(94),this.regexp_classRanges(dt),dt.eat(93))return!0;dt.raise("Unterminated character class")}return!1},Hn.regexp_classRanges=function(dt){for(;this.regexp_eatClassAtom(dt);){var bt=dt.lastIntValue;if(dt.eat(45)&&this.regexp_eatClassAtom(dt)){var At=dt.lastIntValue;dt.switchU&&(bt===-1||At===-1)&&dt.raise("Invalid character class"),bt!==-1&&At!==-1&&bt>At&&dt.raise("Range out of order in character class")}}},Hn.regexp_eatClassAtom=function(dt){var bt=dt.pos;if(dt.eat(92)){if(this.regexp_eatClassEscape(dt))return!0;if(dt.switchU){var At=dt.current();(At===99||$t(At))&&dt.raise("Invalid class escape"),dt.raise("Invalid escape")}dt.pos=bt}var It=dt.current();return It!==93?(dt.lastIntValue=It,dt.advance(),!0):!1},Hn.regexp_eatClassEscape=function(dt){var bt=dt.pos;if(dt.eat(98))return dt.lastIntValue=8,!0;if(dt.switchU&&dt.eat(45))return dt.lastIntValue=45,!0;if(!dt.switchU&&dt.eat(99)){if(this.regexp_eatClassControlLetter(dt))return!0;dt.pos=bt}return this.regexp_eatCharacterClassEscape(dt)||this.regexp_eatCharacterEscape(dt)},Hn.regexp_eatClassControlLetter=function(dt){var bt=dt.current();return Gs(bt)||bt===95?(dt.lastIntValue=bt%32,dt.advance(),!0):!1},Hn.regexp_eatHexEscapeSequence=function(dt){var bt=dt.pos;if(dt.eat(120)){if(this.regexp_eatFixedHexDigits(dt,2))return!0;dt.switchU&&dt.raise("Invalid escape"),dt.pos=bt}return!1},Hn.regexp_eatDecimalDigits=function(dt){var bt=dt.pos,At=0;for(dt.lastIntValue=0;Gs(At=dt.current());)dt.lastIntValue=10*dt.lastIntValue+(At-48),dt.advance();return dt.pos!==bt};function Gs(dt){return dt>=48&&dt<=57}Hn.regexp_eatHexDigits=function(dt){var bt=dt.pos,At=0;for(dt.lastIntValue=0;gt(At=dt.current());)dt.lastIntValue=16*dt.lastIntValue+_t(At),dt.advance();return dt.pos!==bt};function gt(dt){return dt>=48&&dt<=57||dt>=65&&dt<=70||dt>=97&&dt<=102}function _t(dt){return dt>=65&&dt<=70?10+(dt-65):dt>=97&&dt<=102?10+(dt-97):dt-48}Hn.regexp_eatLegacyOctalEscapeSequence=function(dt){if(this.regexp_eatOctalDigit(dt)){var bt=dt.lastIntValue;if(this.regexp_eatOctalDigit(dt)){var At=dt.lastIntValue;bt<=3&&this.regexp_eatOctalDigit(dt)?dt.lastIntValue=bt*64+At*8+dt.lastIntValue:dt.lastIntValue=bt*8+At}else dt.lastIntValue=bt;return!0}return!1},Hn.regexp_eatOctalDigit=function(dt){var bt=dt.current();return $t(bt)?(dt.lastIntValue=bt-48,dt.advance(),!0):(dt.lastIntValue=0,!1)};function $t(dt){return dt>=48&&dt<=55}Hn.regexp_eatFixedHexDigits=function(dt,bt){var At=dt.pos;dt.lastIntValue=0;for(var It=0;It<bt;++It){var Kt=dt.current();if(!gt(Kt))return dt.pos=At,!1;dt.lastIntValue=16*dt.lastIntValue+_t(Kt),dt.advance()}return!0};var Ft=function(bt){this.type=bt.type,this.value=bt.value,this.start=bt.start,this.end=bt.end,bt.options.locations&&(this.loc=new Pt(bt,bt.startLoc,bt.endLoc)),bt.options.ranges&&(this.range=[bt.start,bt.end])},Gt=On.prototype;Gt.next=function(dt){!dt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ft(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Gt.getToken=function(){return this.next(),new Ft(this)},typeof Symbol<"u"&&(Gt[Symbol.iterator]=function(){var dt=this;return{next:function(){var bt=dt.getToken();return{done:bt.type===st.eof,value:bt}}}}),Gt.nextToken=function(){var dt=this.curContext();if((!dt||!dt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(st.eof);if(dt.override)return dt.override(this);this.readToken(this.fullCharCodeAtPos())},Gt.readToken=function(dt){return g(dt,this.options.ecmaVersion>=6)||dt===92?this.readWord():this.getTokenFromCode(dt)},Gt.fullCharCodeAtPos=function(){var dt=this.input.charCodeAt(this.pos);if(dt<=55295||dt>=56320)return dt;var bt=this.input.charCodeAt(this.pos+1);return bt<=56319||bt>=57344?dt:(dt<<10)+bt-56613888},Gt.skipBlockComment=function(){var dt=this.options.onComment&&this.curPosition(),bt=this.pos,At=this.input.indexOf("*/",this.pos+=2);if(At===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=At+2,this.options.locations)for(var It=void 0,Kt=bt;(It=lt(this.input,Kt,this.pos))>-1;)++this.curLine,Kt=this.lineStart=It;this.options.onComment&&this.options.onComment(!0,this.input.slice(bt+2,At),bt,this.pos,dt,this.curPosition())},Gt.skipLineComment=function(dt){for(var bt=this.pos,At=this.options.onComment&&this.curPosition(),It=this.input.charCodeAt(this.pos+=dt);this.pos<this.input.length&&!et(It);)It=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(bt+dt,this.pos),bt,this.pos,At,this.curPosition())},Gt.skipSpace=function(){e:for(;this.pos<this.input.length;){var dt=this.input.charCodeAt(this.pos);switch(dt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(dt>8&&dt<14||dt>=5760&&mt.test(String.fromCharCode(dt)))++this.pos;else break e}}},Gt.finishToken=function(dt,bt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var At=this.type;this.type=dt,this.value=bt,this.updateContext(At)},Gt.readToken_dot=function(){var dt=this.input.charCodeAt(this.pos+1);if(dt>=48&&dt<=57)return this.readNumber(!0);var bt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&dt===46&&bt===46?(this.pos+=3,this.finishToken(st.ellipsis)):(++this.pos,this.finishToken(st.dot))},Gt.readToken_slash=function(){var dt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):dt===61?this.finishOp(st.assign,2):this.finishOp(st.slash,1)},Gt.readToken_mult_modulo_exp=function(dt){var bt=this.input.charCodeAt(this.pos+1),At=1,It=dt===42?st.star:st.modulo;return this.options.ecmaVersion>=7&&dt===42&&bt===42&&(++At,It=st.starstar,bt=this.input.charCodeAt(this.pos+2)),bt===61?this.finishOp(st.assign,At+1):this.finishOp(It,At)},Gt.readToken_pipe_amp=function(dt){var bt=this.input.charCodeAt(this.pos+1);if(bt===dt){if(this.options.ecmaVersion>=12){var At=this.input.charCodeAt(this.pos+2);if(At===61)return this.finishOp(st.assign,3)}return this.finishOp(dt===124?st.logicalOR:st.logicalAND,2)}return bt===61?this.finishOp(st.assign,2):this.finishOp(dt===124?st.bitwiseOR:st.bitwiseAND,1)},Gt.readToken_caret=function(){var dt=this.input.charCodeAt(this.pos+1);return dt===61?this.finishOp(st.assign,2):this.finishOp(st.bitwiseXOR,1)},Gt.readToken_plus_min=function(dt){var bt=this.input.charCodeAt(this.pos+1);return bt===dt?bt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||vt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(st.incDec,2):bt===61?this.finishOp(st.assign,2):this.finishOp(st.plusMin,1)},Gt.readToken_lt_gt=function(dt){var bt=this.input.charCodeAt(this.pos+1),At=1;return bt===dt?(At=dt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+At)===61?this.finishOp(st.assign,At+1):this.finishOp(st.bitShift,At)):bt===33&&dt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(bt===61&&(At=2),this.finishOp(st.relational,At))},Gt.readToken_eq_excl=function(dt){var bt=this.input.charCodeAt(this.pos+1);return bt===61?this.finishOp(st.equality,this.input.charCodeAt(this.pos+2)===61?3:2):dt===61&&bt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(st.arrow)):this.finishOp(dt===61?st.eq:st.prefix,1)},Gt.readToken_question=function(){var dt=this.options.ecmaVersion;if(dt>=11){var bt=this.input.charCodeAt(this.pos+1);if(bt===46){var At=this.input.charCodeAt(this.pos+2);if(At<48||At>57)return this.finishOp(st.questionDot,2)}if(bt===63){if(dt>=12){var It=this.input.charCodeAt(this.pos+2);if(It===61)return this.finishOp(st.assign,3)}return this.finishOp(st.coalesce,2)}}return this.finishOp(st.question,1)},Gt.readToken_numberSign=function(){var dt=this.options.ecmaVersion,bt=35;if(dt>=13&&(++this.pos,bt=this.fullCharCodeAtPos(),g(bt,!0)||bt===92))return this.finishToken(st.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Rt(bt)+"'")},Gt.getTokenFromCode=function(dt){switch(dt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(st.parenL);case 41:return++this.pos,this.finishToken(st.parenR);case 59:return++this.pos,this.finishToken(st.semi);case 44:return++this.pos,this.finishToken(st.comma);case 91:return++this.pos,this.finishToken(st.bracketL);case 93:return++this.pos,this.finishToken(st.bracketR);case 123:return++this.pos,this.finishToken(st.braceL);case 125:return++this.pos,this.finishToken(st.braceR);case 58:return++this.pos,this.finishToken(st.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(st.backQuote);case 48:var bt=this.input.charCodeAt(this.pos+1);if(bt===120||bt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(bt===111||bt===79)return this.readRadixNumber(8);if(bt===98||bt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(dt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(dt);case 124:case 38:return this.readToken_pipe_amp(dt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(dt);case 60:case 62:return this.readToken_lt_gt(dt);case 61:case 33:return this.readToken_eq_excl(dt);case 63:return this.readToken_question();case 126:return this.finishOp(st.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Rt(dt)+"'")},Gt.finishOp=function(dt,bt){var At=this.input.slice(this.pos,this.pos+bt);return this.pos+=bt,this.finishToken(dt,At)},Gt.readRegexp=function(){for(var dt,bt,At=this.pos;;){this.pos>=this.input.length&&this.raise(At,"Unterminated regular expression");var It=this.input.charAt(this.pos);if(vt.test(It)&&this.raise(At,"Unterminated regular expression"),dt)dt=!1;else{if(It==="[")bt=!0;else if(It==="]"&&bt)bt=!1;else if(It==="/"&&!bt)break;dt=It==="\\"}++this.pos}var Kt=this.input.slice(At,this.pos);++this.pos;var on=this.pos,hn=this.readWord1();this.containsEsc&&this.unexpected(on);var kn=this.regexpState||(this.regexpState=new Br(this));kn.reset(At,Kt,hn),this.validateRegExpFlags(kn),this.validateRegExpPattern(kn);var $n=null;try{$n=new RegExp(Kt,hn)}catch{}return this.finishToken(st.regexp,{pattern:Kt,flags:hn,value:$n})},Gt.readInt=function(dt,bt,At){for(var It=this.options.ecmaVersion>=12&&bt===void 0,Kt=At&&this.input.charCodeAt(this.pos)===48,on=this.pos,hn=0,kn=0,$n=0,nr=bt==null?1/0:bt;$n<nr;++$n,++this.pos){var ur=this.input.charCodeAt(this.pos),Dr=void 0;if(It&&ur===95){Kt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),kn===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),$n===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),kn=ur;continue}if(ur>=97?Dr=ur-97+10:ur>=65?Dr=ur-65+10:ur>=48&&ur<=57?Dr=ur-48:Dr=1/0,Dr>=dt)break;kn=ur,hn=hn*dt+Dr}return It&&kn===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===on||bt!=null&&this.pos-on!==bt?null:hn};function un(dt,bt){return bt?parseInt(dt,8):parseFloat(dt.replace(/_/g,""))}function mn(dt){return typeof BigInt!="function"?null:BigInt(dt.replace(/_/g,""))}Gt.readRadixNumber=function(dt){var bt=this.pos;this.pos+=2;var At=this.readInt(dt);return At==null&&this.raise(this.start+2,"Expected number in radix "+dt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(At=mn(this.input.slice(bt,this.pos)),++this.pos):g(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(st.num,At)},Gt.readNumber=function(dt){var bt=this.pos;!dt&&this.readInt(10,void 0,!0)===null&&this.raise(bt,"Invalid number");var At=this.pos-bt>=2&&this.input.charCodeAt(bt)===48;At&&this.strict&&this.raise(bt,"Invalid number");var It=this.input.charCodeAt(this.pos);if(!At&&!dt&&this.options.ecmaVersion>=11&&It===110){var Kt=mn(this.input.slice(bt,this.pos));return++this.pos,g(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(st.num,Kt)}At&&/[89]/.test(this.input.slice(bt,this.pos))&&(At=!1),It===46&&!At&&(++this.pos,this.readInt(10),It=this.input.charCodeAt(this.pos)),(It===69||It===101)&&!At&&(It=this.input.charCodeAt(++this.pos),(It===43||It===45)&&++this.pos,this.readInt(10)===null&&this.raise(bt,"Invalid number")),g(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var on=un(this.input.slice(bt,this.pos),At);return this.finishToken(st.num,on)},Gt.readCodePoint=function(){var dt=this.input.charCodeAt(this.pos),bt;if(dt===123){this.options.ecmaVersion<6&&this.unexpected();var At=++this.pos;bt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,bt>1114111&&this.invalidStringToken(At,"Code point out of bounds")}else bt=this.readHexChar(4);return bt},Gt.readString=function(dt){for(var bt="",At=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var It=this.input.charCodeAt(this.pos);if(It===dt)break;It===92?(bt+=this.input.slice(At,this.pos),bt+=this.readEscapedChar(!1),At=this.pos):It===8232||It===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(et(It)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return bt+=this.input.slice(At,this.pos++),this.finishToken(st.string,bt)};var Rn={};Gt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(dt){if(dt===Rn)this.readInvalidTemplateToken();else throw dt}this.inTemplateElement=!1},Gt.invalidStringToken=function(dt,bt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Rn;this.raise(dt,bt)},Gt.readTmplToken=function(){for(var dt="",bt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var At=this.input.charCodeAt(this.pos);if(At===96||At===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===st.template||this.type===st.invalidTemplate)?At===36?(this.pos+=2,this.finishToken(st.dollarBraceL)):(++this.pos,this.finishToken(st.backQuote)):(dt+=this.input.slice(bt,this.pos),this.finishToken(st.template,dt));if(At===92)dt+=this.input.slice(bt,this.pos),dt+=this.readEscapedChar(!0),bt=this.pos;else if(et(At)){switch(dt+=this.input.slice(bt,this.pos),++this.pos,At){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:dt+=`
`;break;default:dt+=String.fromCharCode(At);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),bt=this.pos}else++this.pos}},Gt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(st.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Gt.readEscapedChar=function(dt){var bt=this.input.charCodeAt(++this.pos);switch(++this.pos,bt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Rt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),dt){var At=this.pos-1;return this.invalidStringToken(At,"Invalid escape sequence in template string"),null}default:if(bt>=48&&bt<=55){var It=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Kt=parseInt(It,8);return Kt>255&&(It=It.slice(0,-1),Kt=parseInt(It,8)),this.pos+=It.length-1,bt=this.input.charCodeAt(this.pos),(It!=="0"||bt===56||bt===57)&&(this.strict||dt)&&this.invalidStringToken(this.pos-1-It.length,dt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Kt)}return et(bt)?"":String.fromCharCode(bt)}},Gt.readHexChar=function(dt){var bt=this.pos,At=this.readInt(16,dt);return At===null&&this.invalidStringToken(bt,"Bad character escape sequence"),At},Gt.readWord1=function(){this.containsEsc=!1;for(var dt="",bt=!0,At=this.pos,It=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Kt=this.fullCharCodeAtPos();if(tt(Kt,It))this.pos+=Kt<=65535?1:2;else if(Kt===92){this.containsEsc=!0,dt+=this.input.slice(At,this.pos);var on=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var hn=this.readCodePoint();(bt?g:tt)(hn,It)||this.invalidStringToken(on,"Invalid Unicode escape"),dt+=Rt(hn),At=this.pos}else break;bt=!1}return dt+this.input.slice(At,this.pos)},Gt.readWord=function(){var dt=this.readWord1(),bt=st.name;return this.keywords.test(dt)&&(bt=ct[dt]),this.finishToken(bt,dt)};var jn="8.8.1";On.acorn={Parser:On,version:jn,defaultOptions:jt,Position:Xt,SourceLocation:Pt,getLineInfo:Mt,Node:$s,TokenType:at,tokTypes:st,keywordTypes:ct,TokContext:Wn,tokContexts:An,isIdentifierChar:tt,isIdentifierStart:g,Token:Ft,isNewLine:et,lineBreak:vt,lineBreakG:ot,nonASCIIwhitespace:mt};function gr(dt,bt){return On.parse(dt,bt)}function Mr(dt,bt,At){return On.parseExpressionAt(dt,bt,At)}function qr(dt,bt){return On.tokenizer(dt,bt)}i.Node=$s,i.Parser=On,i.Position=Xt,i.SourceLocation=Pt,i.TokContext=Wn,i.Token=Ft,i.TokenType=at,i.defaultOptions=jt,i.getLineInfo=Mt,i.isIdentifierChar=tt,i.isIdentifierStart=g,i.isNewLine=et,i.keywordTypes=ct,i.lineBreak=vt,i.lineBreakG=ot,i.nonASCIIwhitespace=mt,i.parse=gr,i.parseExpressionAt=Mr,i.tokContexts=An,i.tokTypes=st,i.tokenizer=qr,i.version=jn,Object.defineProperty(i,"__esModule",{value:!0})})})(acorn,acorn.exports);var astring={};Object.defineProperty(astring,"__esModule",{value:!0});astring.generate=generate;astring.baseGenerator=astring.GENERATOR=astring.EXPRESSIONS_PRECEDENCE=astring.NEEDS_PARENTHESES=void 0;function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var i=0;i<s.length;i++){var d=s[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}function _createClass(e,s,i){return s&&_defineProperties(e.prototype,s),i&&_defineProperties(e,i),e}var stringify$2=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var OPERATOR_PRECEDENCE={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17;astring.NEEDS_PARENTHESES=NEEDS_PARENTHESES;var EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};astring.EXPRESSIONS_PRECEDENCE=EXPRESSIONS_PRECEDENCE;function formatSequence(e,s){var i=e.generator;if(e.write("("),s!=null&&s.length>0){i[s[0].type](s[0],e);for(var d=s.length,ft=1;ft<d;ft++){var $=s[ft];e.write(", "),i[$.type]($,e)}}e.write(")")}function expressionNeedsParenthesis(e,s,i,d){var ft=e.expressionsPrecedence[s.type];if(ft===NEEDS_PARENTHESES)return!0;var $=e.expressionsPrecedence[i.type];return ft!==$?!d&&ft===15&&$===14&&i.operator==="**"||ft<$:ft!==13&&ft!==14?!1:s.operator==="**"&&i.operator==="**"?!d:d?OPERATOR_PRECEDENCE[s.operator]<=OPERATOR_PRECEDENCE[i.operator]:OPERATOR_PRECEDENCE[s.operator]<OPERATOR_PRECEDENCE[i.operator]}function formatExpression(e,s,i,d){var ft=e.generator;expressionNeedsParenthesis(e,s,i,d)?(e.write("("),ft[s.type](s,e),e.write(")")):ft[s.type](s,e)}function reindent(e,s,i,d){var ft=s.split(`
`),$=ft.length-1;if(e.write(ft[0].trim()),$>0){e.write(d);for(var it=1;it<$;it++)e.write(i+ft[it].trim()+d);e.write(i+ft[$].trim())}}function formatComments(e,s,i,d){for(var ft=s.length,$=0;$<ft;$++){var it=s[$];e.write(i),it.type[0]==="L"?e.write("// "+it.value.trim()+`
`,it):(e.write("/*"),reindent(e,it.value,i,d),e.write("*/"+d))}}function hasCallExpression(e){for(var s=e;s!=null;){var i=s,d=i.type;if(d[0]==="C"&&d[1]==="a")return!0;if(d[0]==="M"&&d[1]==="e"&&d[2]==="m")s=s.object;else return!1}}function formatVariableDeclaration(e,s){var i=e.generator,d=s.declarations;e.write(s.kind+" ");var ft=d.length;if(ft>0){i.VariableDeclarator(d[0],e);for(var $=1;$<ft;$++)e.write(", "),i.VariableDeclarator(d[$],e)}}var ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement,GENERATOR={Program:function(s,i){var d=i.indent.repeat(i.indentLevel),ft=i.lineEnd,$=i.writeComments;$&&s.comments!=null&&formatComments(i,s.comments,d,ft);for(var it=s.body,nt=it.length,_=0;_<nt;_++){var b=it[_];$&&b.comments!=null&&formatComments(i,b.comments,d,ft),i.write(d),this[b.type](b,i),i.write(ft)}$&&s.trailingComments!=null&&formatComments(i,s.trailingComments,d,ft)},BlockStatement:BlockStatement=function(s,i){var d=i.indent.repeat(i.indentLevel++),ft=i.lineEnd,$=i.writeComments,it=d+i.indent;i.write("{");var nt=s.body;if(nt!=null&&nt.length>0){i.write(ft),$&&s.comments!=null&&formatComments(i,s.comments,it,ft);for(var _=nt.length,b=0;b<_;b++){var c=nt[b];$&&c.comments!=null&&formatComments(i,c.comments,it,ft),i.write(it),this[c.type](c,i),i.write(ft)}i.write(d)}else $&&s.comments!=null&&(i.write(ft),formatComments(i,s.comments,it,ft),i.write(d));$&&s.trailingComments!=null&&formatComments(i,s.trailingComments,it,ft),i.write("}"),i.indentLevel--},ClassBody:BlockStatement,StaticBlock:function(s,i){i.write("static "),this.BlockStatement(s,i)},EmptyStatement:function(s,i){i.write(";")},ExpressionStatement:function(s,i){var d=i.expressionsPrecedence[s.expression.type];d===NEEDS_PARENTHESES||d===3&&s.expression.left.type[0]==="O"?(i.write("("),this[s.expression.type](s.expression,i),i.write(")")):this[s.expression.type](s.expression,i),i.write(";")},IfStatement:function(s,i){i.write("if ("),this[s.test.type](s.test,i),i.write(") "),this[s.consequent.type](s.consequent,i),s.alternate!=null&&(i.write(" else "),this[s.alternate.type](s.alternate,i))},LabeledStatement:function(s,i){this[s.label.type](s.label,i),i.write(": "),this[s.body.type](s.body,i)},BreakStatement:function(s,i){i.write("break"),s.label!=null&&(i.write(" "),this[s.label.type](s.label,i)),i.write(";")},ContinueStatement:function(s,i){i.write("continue"),s.label!=null&&(i.write(" "),this[s.label.type](s.label,i)),i.write(";")},WithStatement:function(s,i){i.write("with ("),this[s.object.type](s.object,i),i.write(") "),this[s.body.type](s.body,i)},SwitchStatement:function(s,i){var d=i.indent.repeat(i.indentLevel++),ft=i.lineEnd,$=i.writeComments;i.indentLevel++;var it=d+i.indent,nt=it+i.indent;i.write("switch ("),this[s.discriminant.type](s.discriminant,i),i.write(") {"+ft);for(var _=s.cases,b=_.length,c=0;c<b;c++){var a=_[c];$&&a.comments!=null&&formatComments(i,a.comments,it,ft),a.test?(i.write(it+"case "),this[a.test.type](a.test,i),i.write(":"+ft)):i.write(it+"default:"+ft);for(var o=a.consequent,h=o.length,g=0;g<h;g++){var tt=o[g];$&&tt.comments!=null&&formatComments(i,tt.comments,nt,ft),i.write(nt),this[tt.type](tt,i),i.write(ft)}}i.indentLevel-=2,i.write(d+"}")},ReturnStatement:function(s,i){i.write("return"),s.argument&&(i.write(" "),this[s.argument.type](s.argument,i)),i.write(";")},ThrowStatement:function(s,i){i.write("throw "),this[s.argument.type](s.argument,i),i.write(";")},TryStatement:function(s,i){if(i.write("try "),this[s.block.type](s.block,i),s.handler){var d=s.handler;d.param==null?i.write(" catch "):(i.write(" catch ("),this[d.param.type](d.param,i),i.write(") ")),this[d.body.type](d.body,i)}s.finalizer&&(i.write(" finally "),this[s.finalizer.type](s.finalizer,i))},WhileStatement:function(s,i){i.write("while ("),this[s.test.type](s.test,i),i.write(") "),this[s.body.type](s.body,i)},DoWhileStatement:function(s,i){i.write("do "),this[s.body.type](s.body,i),i.write(" while ("),this[s.test.type](s.test,i),i.write(");")},ForStatement:function(s,i){if(i.write("for ("),s.init!=null){var d=s.init;d.type[0]==="V"?formatVariableDeclaration(i,d):this[d.type](d,i)}i.write("; "),s.test&&this[s.test.type](s.test,i),i.write("; "),s.update&&this[s.update.type](s.update,i),i.write(") "),this[s.body.type](s.body,i)},ForInStatement:ForInStatement=function(s,i){i.write("for ".concat(s.await?"await ":"","("));var d=s.left;d.type[0]==="V"?formatVariableDeclaration(i,d):this[d.type](d,i),i.write(s.type[3]==="I"?" in ":" of "),this[s.right.type](s.right,i),i.write(") "),this[s.body.type](s.body,i)},ForOfStatement:ForInStatement,DebuggerStatement:function(s,i){i.write("debugger;",s)},FunctionDeclaration:FunctionDeclaration=function(s,i){i.write((s.async?"async ":"")+(s.generator?"function* ":"function ")+(s.id?s.id.name:""),s),formatSequence(i,s.params),i.write(" "),this[s.body.type](s.body,i)},FunctionExpression:FunctionDeclaration,VariableDeclaration:function(s,i){formatVariableDeclaration(i,s),i.write(";")},VariableDeclarator:function(s,i){this[s.id.type](s.id,i),s.init!=null&&(i.write(" = "),this[s.init.type](s.init,i))},ClassDeclaration:function(s,i){if(i.write("class "+(s.id?"".concat(s.id.name," "):""),s),s.superClass){i.write("extends ");var d=s.superClass,ft=d.type,$=i.expressionsPrecedence[ft];(ft[0]!=="C"||ft[1]!=="l"||ft[5]!=="E")&&($===NEEDS_PARENTHESES||$<i.expressionsPrecedence.ClassExpression)?(i.write("("),this[s.superClass.type](d,i),i.write(")")):this[d.type](d,i),i.write(" ")}this.ClassBody(s.body,i)},ImportDeclaration:function(s,i){i.write("import ");var d=s.specifiers,ft=d.length,$=0;if(ft>0){for(;$<ft;){$>0&&i.write(", ");var it=d[$],nt=it.type[6];if(nt==="D")i.write(it.local.name,it),$++;else if(nt==="N")i.write("* as "+it.local.name,it),$++;else break}if($<ft){for(i.write("{");;){var _=d[$],b=_.imported.name;if(i.write(b,_),b!==_.local.name&&i.write(" as "+_.local.name),++$<ft)i.write(", ");else break}i.write("}")}i.write(" from ")}this.Literal(s.source,i),i.write(";")},ImportExpression:function(s,i){i.write("import("),this[s.source.type](s.source,i),i.write(")")},ExportDefaultDeclaration:function(s,i){i.write("export default "),this[s.declaration.type](s.declaration,i),i.expressionsPrecedence[s.declaration.type]!=null&&s.declaration.type[0]!=="F"&&i.write(";")},ExportNamedDeclaration:function(s,i){if(i.write("export "),s.declaration)this[s.declaration.type](s.declaration,i);else{i.write("{");var d=s.specifiers,ft=d.length;if(ft>0)for(var $=0;;){var it=d[$],nt=it.local.name;if(i.write(nt,it),nt!==it.exported.name&&i.write(" as "+it.exported.name),++$<ft)i.write(", ");else break}i.write("}"),s.source&&(i.write(" from "),this.Literal(s.source,i)),i.write(";")}},ExportAllDeclaration:function(s,i){s.exported!=null?i.write("export * as "+s.exported.name+" from "):i.write("export * from "),this.Literal(s.source,i),i.write(";")},MethodDefinition:function(s,i){s.static&&i.write("static ");var d=s.kind[0];(d==="g"||d==="s")&&i.write(s.kind+" "),s.value.async&&i.write("async "),s.value.generator&&i.write("*"),s.computed?(i.write("["),this[s.key.type](s.key,i),i.write("]")):this[s.key.type](s.key,i),formatSequence(i,s.value.params),i.write(" "),this[s.value.body.type](s.value.body,i)},ClassExpression:function(s,i){this.ClassDeclaration(s,i)},ArrowFunctionExpression:function(s,i){i.write(s.async?"async ":"",s);var d=s.params;d!=null&&(d.length===1&&d[0].type[0]==="I"?i.write(d[0].name,d[0]):formatSequence(i,s.params)),i.write(" => "),s.body.type[0]==="O"?(i.write("("),this.ObjectExpression(s.body,i),i.write(")")):this[s.body.type](s.body,i)},ThisExpression:function(s,i){i.write("this",s)},Super:function(s,i){i.write("super",s)},RestElement:RestElement=function(s,i){i.write("..."),this[s.argument.type](s.argument,i)},SpreadElement:RestElement,YieldExpression:function(s,i){i.write(s.delegate?"yield*":"yield"),s.argument&&(i.write(" "),this[s.argument.type](s.argument,i))},AwaitExpression:function(s,i){i.write("await ",s),formatExpression(i,s.argument,s)},TemplateLiteral:function(s,i){var d=s.quasis,ft=s.expressions;i.write("`");for(var $=ft.length,it=0;it<$;it++){var nt=ft[it],_=d[it];i.write(_.value.raw,_),i.write("${"),this[nt.type](nt,i),i.write("}")}var b=d[d.length-1];i.write(b.value.raw,b),i.write("`")},TemplateElement:function(s,i){i.write(s.value.raw,s)},TaggedTemplateExpression:function(s,i){formatExpression(i,s.tag,s),this[s.quasi.type](s.quasi,i)},ArrayExpression:ArrayExpression=function(s,i){if(i.write("["),s.elements.length>0)for(var d=s.elements,ft=d.length,$=0;;){var it=d[$];if(it!=null&&this[it.type](it,i),++$<ft)i.write(", ");else{it==null&&i.write(", ");break}}i.write("]")},ArrayPattern:ArrayExpression,ObjectExpression:function(s,i){var d=i.indent.repeat(i.indentLevel++),ft=i.lineEnd,$=i.writeComments,it=d+i.indent;if(i.write("{"),s.properties.length>0){i.write(ft),$&&s.comments!=null&&formatComments(i,s.comments,it,ft);for(var nt=","+ft,_=s.properties,b=_.length,c=0;;){var a=_[c];if($&&a.comments!=null&&formatComments(i,a.comments,it,ft),i.write(it),this[a.type](a,i),++c<b)i.write(nt);else break}i.write(ft),$&&s.trailingComments!=null&&formatComments(i,s.trailingComments,it,ft),i.write(d+"}")}else $?s.comments!=null?(i.write(ft),formatComments(i,s.comments,it,ft),s.trailingComments!=null&&formatComments(i,s.trailingComments,it,ft),i.write(d+"}")):s.trailingComments!=null?(i.write(ft),formatComments(i,s.trailingComments,it,ft),i.write(d+"}")):i.write("}"):i.write("}");i.indentLevel--},Property:function(s,i){s.method||s.kind[0]!=="i"?this.MethodDefinition(s,i):(s.shorthand||(s.computed?(i.write("["),this[s.key.type](s.key,i),i.write("]")):this[s.key.type](s.key,i),i.write(": ")),this[s.value.type](s.value,i))},PropertyDefinition:function(s,i){s.static&&i.write("static "),this[s.key.type](s.key,i),s.value!=null&&(i.write(" = "),this[s.value.type](s.value,i))},ObjectPattern:function(s,i){if(i.write("{"),s.properties.length>0)for(var d=s.properties,ft=d.length,$=0;this[d[$].type](d[$],i),++$<ft;)i.write(", ");i.write("}")},SequenceExpression:function(s,i){formatSequence(i,s.expressions)},UnaryExpression:function(s,i){if(s.prefix){var d=s.operator,ft=s.argument,$=s.argument.type;i.write(d);var it=expressionNeedsParenthesis(i,ft,s);!it&&(d.length>1||$[0]==="U"&&($[1]==="n"||$[1]==="p")&&ft.prefix&&ft.operator[0]===d&&(d==="+"||d==="-"))&&i.write(" "),it?(i.write(d.length>1?" (":"("),this[$](ft,i),i.write(")")):this[$](ft,i)}else this[s.argument.type](s.argument,i),i.write(s.operator)},UpdateExpression:function(s,i){s.prefix?(i.write(s.operator),this[s.argument.type](s.argument,i)):(this[s.argument.type](s.argument,i),i.write(s.operator))},AssignmentExpression:function(s,i){this[s.left.type](s.left,i),i.write(" "+s.operator+" "),this[s.right.type](s.right,i)},AssignmentPattern:function(s,i){this[s.left.type](s.left,i),i.write(" = "),this[s.right.type](s.right,i)},BinaryExpression:BinaryExpression=function(s,i){var d=s.operator==="in";d&&i.write("("),formatExpression(i,s.left,s,!1),i.write(" "+s.operator+" "),formatExpression(i,s.right,s,!0),d&&i.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression:function(s,i){var d=s.test,ft=i.expressionsPrecedence[d.type];ft===NEEDS_PARENTHESES||ft<=i.expressionsPrecedence.ConditionalExpression?(i.write("("),this[d.type](d,i),i.write(")")):this[d.type](d,i),i.write(" ? "),this[s.consequent.type](s.consequent,i),i.write(" : "),this[s.alternate.type](s.alternate,i)},NewExpression:function(s,i){i.write("new ");var d=i.expressionsPrecedence[s.callee.type];d===NEEDS_PARENTHESES||d<i.expressionsPrecedence.CallExpression||hasCallExpression(s.callee)?(i.write("("),this[s.callee.type](s.callee,i),i.write(")")):this[s.callee.type](s.callee,i),formatSequence(i,s.arguments)},CallExpression:function(s,i){var d=i.expressionsPrecedence[s.callee.type];d===NEEDS_PARENTHESES||d<i.expressionsPrecedence.CallExpression?(i.write("("),this[s.callee.type](s.callee,i),i.write(")")):this[s.callee.type](s.callee,i),s.optional&&i.write("?."),formatSequence(i,s.arguments)},ChainExpression:function(s,i){this[s.expression.type](s.expression,i)},MemberExpression:function(s,i){var d=i.expressionsPrecedence[s.object.type];d===NEEDS_PARENTHESES||d<i.expressionsPrecedence.MemberExpression?(i.write("("),this[s.object.type](s.object,i),i.write(")")):this[s.object.type](s.object,i),s.computed?(s.optional&&i.write("?."),i.write("["),this[s.property.type](s.property,i),i.write("]")):(s.optional?i.write("?."):i.write("."),this[s.property.type](s.property,i))},MetaProperty:function(s,i){i.write(s.meta.name+"."+s.property.name,s)},Identifier:function(s,i){i.write(s.name,s)},PrivateIdentifier:function(s,i){i.write("#".concat(s.name),s)},Literal:function(s,i){s.raw!=null?i.write(s.raw,s):s.regex!=null?this.RegExpLiteral(s,i):s.bigint!=null?i.write(s.bigint+"n",s):i.write(stringify$2(s.value),s)},RegExpLiteral:function(s,i){var d=s.regex;i.write("/".concat(d.pattern,"/").concat(d.flags),s)}};astring.GENERATOR=GENERATOR;var EMPTY_OBJECT={},baseGenerator=GENERATOR;astring.baseGenerator=baseGenerator;var State=function(){function e(s){_classCallCheck(this,e);var i=s==null?EMPTY_OBJECT:s;this.output="",i.output!=null?(this.output=i.output,this.write=this.writeToStream):this.output="",this.generator=i.generator!=null?i.generator:GENERATOR,this.expressionsPrecedence=i.expressionsPrecedence!=null?i.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=i.indent!=null?i.indent:"  ",this.lineEnd=i.lineEnd!=null?i.lineEnd:`
`,this.indentLevel=i.startingIndentLevel!=null?i.startingIndentLevel:0,this.writeComments=i.comments?i.comments:!1,i.sourceMap!=null&&(this.write=i.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=i.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:i.sourceMap.file||i.sourceMap._file})}return _createClass(e,[{key:"write",value:function(i){this.output+=i}},{key:"writeToStream",value:function(i){this.output.write(i)}},{key:"writeAndMap",value:function(i,d){this.output+=i,this.map(i,d)}},{key:"writeToStreamAndMap",value:function(i,d){this.output.write(i),this.map(i,d)}},{key:"map",value:function(i,d){if(d!=null){var ft=d.type;if(ft[0]==="L"&&ft[2]==="n"){this.column=0,this.line++;return}if(d.loc!=null){var $=this.mapping;$.original=d.loc.start,$.name=d.name,this.sourceMap.addMapping($)}if(ft[0]==="T"&&ft[8]==="E"||ft[0]==="L"&&ft[1]==="i"&&typeof d.value=="string"){for(var it=i.length,nt=this.column,_=this.line,b=0;b<it;b++)i[b]===`
`?(nt=0,_++):nt++;this.column=nt,this.line=_;return}}var c=i.length,a=this.lineEnd;c>0&&(this.lineEndSize>0&&(a.length===1?i[c-1]===a:i.endsWith(a))?(this.line+=this.lineEndSize,this.column=0):this.column+=c)}},{key:"toString",value:function(){return this.output}}]),e}();function generate(e,s){var i=new State(s);return i.generator[e.type](e,i),i.output}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gpuBrowser={exports:{}};/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(e,s){(function(i){e.exports=i()})(function(){return function(){function i(d,ft,$){function it(b,c){if(!ft[b]){if(!d[b]){var a=typeof commonjsRequire=="function"&&commonjsRequire;if(!c&&a)return a(b,!0);if(nt)return nt(b,!0);var o=new Error("Cannot find module '"+b+"'");throw o.code="MODULE_NOT_FOUND",o}var h=ft[b]={exports:{}};d[b][0].call(h.exports,function(g){var tt=d[b][1][g];return it(tt||g)},h,h.exports,i,d,ft,$)}return ft[b].exports}for(var nt=typeof commonjsRequire=="function"&&commonjsRequire,_=0;_<$.length;_++)it($[_]);return it}return i}()({1:[function(i,d,ft){(function($,it){typeof ft=="object"&&typeof d<"u"?it(ft):($=$||self,it($.acorn={}))})(this,function($){var it={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},nt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",_={5:nt,"5module":nt+" export import",6:nt+" const class extends export import super"},b=/^in(stanceof)?$/,c="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",a="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",o=new RegExp("["+c+"]"),h=new RegExp("["+c+a+"]");c=a=null;var g=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],tt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function at(gt,_t){for(var $t=65536,Ft=0;Ft<_t.length;Ft+=2){if($t+=_t[Ft],$t>gt)return!1;if($t+=_t[Ft+1],$t>=gt)return!0}}function ht(gt,_t){return gt<65?gt===36:gt<91?!0:gt<97?gt===95:gt<123?!0:gt<=65535?gt>=170&&o.test(String.fromCharCode(gt)):_t===!1?!1:at(gt,g)}function _e(gt,_t){return gt<48?gt===36:gt<58?!0:gt<65?!1:gt<91?!0:gt<97?gt===95:gt<123?!0:gt<=65535?gt>=170&&h.test(String.fromCharCode(gt)):_t===!1?!1:at(gt,g)||at(gt,tt)}var ut=function(_t,$t){$t===void 0&&($t={}),this.label=_t,this.keyword=$t.keyword,this.beforeExpr=!!$t.beforeExpr,this.startsExpr=!!$t.startsExpr,this.isLoop=!!$t.isLoop,this.isAssign=!!$t.isAssign,this.prefix=!!$t.prefix,this.postfix=!!$t.postfix,this.binop=$t.binop||null,this.updateContext=null};function ct(gt,_t){return new ut(gt,{beforeExpr:!0,binop:_t})}var rt={beforeExpr:!0},st={startsExpr:!0},vt={};function ot(gt,_t){return _t===void 0&&(_t={}),_t.keyword=gt,vt[gt]=new ut(gt,_t)}var et={num:new ut("num",st),regexp:new ut("regexp",st),string:new ut("string",st),name:new ut("name",st),eof:new ut("eof"),bracketL:new ut("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ut("]"),braceL:new ut("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ut("}"),parenL:new ut("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ut(")"),comma:new ut(",",rt),semi:new ut(";",rt),colon:new ut(":",rt),dot:new ut("."),question:new ut("?",rt),arrow:new ut("=>",rt),template:new ut("template"),invalidTemplate:new ut("invalidTemplate"),ellipsis:new ut("...",rt),backQuote:new ut("`",st),dollarBraceL:new ut("${",{beforeExpr:!0,startsExpr:!0}),eq:new ut("=",{beforeExpr:!0,isAssign:!0}),assign:new ut("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ut("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ut("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ct("||",1),logicalAND:ct("&&",2),bitwiseOR:ct("|",3),bitwiseXOR:ct("^",4),bitwiseAND:ct("&",5),equality:ct("==/!=/===/!==",6),relational:ct("</>/<=/>=",7),bitShift:ct("<</>>/>>>",8),plusMin:new ut("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ct("%",10),star:ct("*",10),slash:ct("/",10),starstar:new ut("**",{beforeExpr:!0}),_break:ot("break"),_case:ot("case",rt),_catch:ot("catch"),_continue:ot("continue"),_debugger:ot("debugger"),_default:ot("default",rt),_do:ot("do",{isLoop:!0,beforeExpr:!0}),_else:ot("else",rt),_finally:ot("finally"),_for:ot("for",{isLoop:!0}),_function:ot("function",st),_if:ot("if"),_return:ot("return",rt),_switch:ot("switch"),_throw:ot("throw",rt),_try:ot("try"),_var:ot("var"),_const:ot("const"),_while:ot("while",{isLoop:!0}),_with:ot("with"),_new:ot("new",{beforeExpr:!0,startsExpr:!0}),_this:ot("this",st),_super:ot("super",st),_class:ot("class",st),_extends:ot("extends",rt),_export:ot("export"),_import:ot("import",st),_null:ot("null",st),_true:ot("true",st),_false:ot("false",st),_in:ot("in",{beforeExpr:!0,binop:7}),_instanceof:ot("instanceof",{beforeExpr:!0,binop:7}),_typeof:ot("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ot("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ot("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lt=/\r\n?|\n|\u2028|\u2029/,mt=new RegExp(lt.source,"g");function xt(gt,_t){return gt===10||gt===13||!_t&&(gt===8232||gt===8233)}var wt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,St=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Tt=Object.prototype,kt=Tt.hasOwnProperty,Vt=Tt.toString;function Ct(gt,_t){return kt.call(gt,_t)}var Rt=Array.isArray||function(gt){return Vt.call(gt)==="[object Array]"};function zt(gt){return new RegExp("^(?:"+gt.replace(/ /g,"|")+")$")}var Xt=function(_t,$t){this.line=_t,this.column=$t};Xt.prototype.offset=function(_t){return new Xt(this.line,this.column+_t)};var Pt=function(_t,$t,Ft){this.start=$t,this.end=Ft,_t.sourceFile!==null&&(this.source=_t.sourceFile)};function Mt(gt,_t){for(var $t=1,Ft=0;;){mt.lastIndex=Ft;var Gt=mt.exec(gt);if(Gt&&Gt.index<_t)++$t,Ft=Gt.index+Gt[0].length;else return new Xt($t,_t-Ft)}}var jt={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Zt(gt){var _t={};for(var $t in jt)_t[$t]=gt&&Ct(gt,$t)?gt[$t]:jt[$t];if(_t.ecmaVersion>=2015&&(_t.ecmaVersion-=2009),_t.allowReserved==null&&(_t.allowReserved=_t.ecmaVersion<5),Rt(_t.onToken)){var Ft=_t.onToken;_t.onToken=function(Gt){return Ft.push(Gt)}}return Rt(_t.onComment)&&(_t.onComment=Yt(_t,_t.onComment)),_t}function Yt(gt,_t){return function($t,Ft,Gt,un,mn,Rn){var jn={type:$t?"Block":"Line",value:Ft,start:Gt,end:un};gt.locations&&(jn.loc=new Pt(this,mn,Rn)),gt.ranges&&(jn.range=[Gt,un]),_t.push(jn)}}var fn=1,an=2,dn=fn|an,cn=4,Ut=8,Wt=16,Nt=32,ln=64,yn=128;function rn(gt,_t){return an|(gt?cn:0)|(_t?Ut:0)}var Un=0,Qn=1,Zn=2,Sr=3,gn=4,Fn=5,Ln=function(_t,$t,Ft){this.options=_t=Zt(_t),this.sourceFile=_t.sourceFile,this.keywords=zt(_[_t.ecmaVersion>=6?6:_t.sourceType==="module"?"5module":5]);var Gt="";if(_t.allowReserved!==!0){for(var un=_t.ecmaVersion;!(Gt=it[un]);un--);_t.sourceType==="module"&&(Gt+=" await")}this.reservedWords=zt(Gt);var mn=(Gt?Gt+" ":"")+it.strict;this.reservedWordsStrict=zt(mn),this.reservedWordsStrictBind=zt(mn+" "+it.strictBind),this.input=String($t),this.containsEsc=!1,Ft?(this.pos=Ft,this.lineStart=this.input.lastIndexOf(`
`,Ft-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=et.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=_t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&_t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(fn),this.regexpState=null},tr={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Ln.prototype.parse=function(){var _t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(_t)},tr.inFunction.get=function(){return(this.currentVarScope().flags&an)>0},tr.inGenerator.get=function(){return(this.currentVarScope().flags&Ut)>0},tr.inAsync.get=function(){return(this.currentVarScope().flags&cn)>0},tr.allowSuper.get=function(){return(this.currentThisScope().flags&ln)>0},tr.allowDirectSuper.get=function(){return(this.currentThisScope().flags&yn)>0},tr.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Ln.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&an)>0},Ln.extend=function(){for(var _t=[],$t=arguments.length;$t--;)_t[$t]=arguments[$t];for(var Ft=this,Gt=0;Gt<_t.length;Gt++)Ft=_t[Gt](Ft);return Ft},Ln.parse=function(_t,$t){return new this($t,_t).parse()},Ln.parseExpressionAt=function(_t,$t,Ft){var Gt=new this(Ft,_t,$t);return Gt.nextToken(),Gt.parseExpression()},Ln.tokenizer=function(_t,$t){return new this($t,_t)},Object.defineProperties(Ln.prototype,tr);var On=Ln.prototype,hr=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;On.strictDirective=function(gt){for(;;){St.lastIndex=gt,gt+=St.exec(this.input)[0].length;var _t=hr.exec(this.input.slice(gt));if(!_t)return!1;if((_t[1]||_t[2])==="use strict")return!0;gt+=_t[0].length,St.lastIndex=gt,gt+=St.exec(this.input)[0].length,this.input[gt]===";"&&gt++}},On.eat=function(gt){return this.type===gt?(this.next(),!0):!1},On.isContextual=function(gt){return this.type===et.name&&this.value===gt&&!this.containsEsc},On.eatContextual=function(gt){return this.isContextual(gt)?(this.next(),!0):!1},On.expectContextual=function(gt){this.eatContextual(gt)||this.unexpected()},On.canInsertSemicolon=function(){return this.type===et.eof||this.type===et.braceR||lt.test(this.input.slice(this.lastTokEnd,this.start))},On.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},On.semicolon=function(){!this.eat(et.semi)&&!this.insertSemicolon()&&this.unexpected()},On.afterTrailingComma=function(gt,_t){if(this.type===gt)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),_t||this.next(),!0},On.expect=function(gt){this.eat(gt)||this.unexpected()},On.unexpected=function(gt){this.raise(gt!=null?gt:this.start,"Unexpected token")};function Yn(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}On.checkPatternErrors=function(gt,_t){if(!!gt){gt.trailingComma>-1&&this.raiseRecoverable(gt.trailingComma,"Comma is not permitted after the rest element");var $t=_t?gt.parenthesizedAssign:gt.parenthesizedBind;$t>-1&&this.raiseRecoverable($t,"Parenthesized pattern")}},On.checkExpressionErrors=function(gt,_t){if(!gt)return!1;var $t=gt.shorthandAssign,Ft=gt.doubleProto;if(!_t)return $t>=0||Ft>=0;$t>=0&&this.raise($t,"Shorthand property assignments are valid only in destructuring patterns"),Ft>=0&&this.raiseRecoverable(Ft,"Redefinition of __proto__ property")},On.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},On.isSimpleAssignTarget=function(gt){return gt.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(gt.expression):gt.type==="Identifier"||gt.type==="MemberExpression"};var In=Ln.prototype;In.parseTopLevel=function(gt){var _t={};for(gt.body||(gt.body=[]);this.type!==et.eof;){var $t=this.parseStatement(null,!0,_t);gt.body.push($t)}if(this.inModule)for(var Ft=0,Gt=Object.keys(this.undefinedExports);Ft<Gt.length;Ft+=1){var un=Gt[Ft];this.raiseRecoverable(this.undefinedExports[un].start,"Export '"+un+"' is not defined")}return this.adaptDirectivePrologue(gt.body),this.next(),gt.sourceType=this.options.sourceType,this.finishNode(gt,"Program")};var ar={kind:"loop"},Dt={kind:"switch"};In.isLet=function(gt){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;St.lastIndex=this.pos;var _t=St.exec(this.input),$t=this.pos+_t[0].length,Ft=this.input.charCodeAt($t);if(Ft===91)return!0;if(gt)return!1;if(Ft===123)return!0;if(ht(Ft,!0)){for(var Gt=$t+1;_e(this.input.charCodeAt(Gt),!0);)++Gt;var un=this.input.slice($t,Gt);if(!b.test(un))return!0}return!1},In.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;St.lastIndex=this.pos;var gt=St.exec(this.input),_t=this.pos+gt[0].length;return!lt.test(this.input.slice(this.pos,_t))&&this.input.slice(_t,_t+8)==="function"&&(_t+8===this.input.length||!_e(this.input.charAt(_t+8)))},In.parseStatement=function(gt,_t,$t){var Ft=this.type,Gt=this.startNode(),un;switch(this.isLet(gt)&&(Ft=et._var,un="let"),Ft){case et._break:case et._continue:return this.parseBreakContinueStatement(Gt,Ft.keyword);case et._debugger:return this.parseDebuggerStatement(Gt);case et._do:return this.parseDoStatement(Gt);case et._for:return this.parseForStatement(Gt);case et._function:return gt&&(this.strict||gt!=="if"&&gt!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Gt,!1,!gt);case et._class:return gt&&this.unexpected(),this.parseClass(Gt,!0);case et._if:return this.parseIfStatement(Gt);case et._return:return this.parseReturnStatement(Gt);case et._switch:return this.parseSwitchStatement(Gt);case et._throw:return this.parseThrowStatement(Gt);case et._try:return this.parseTryStatement(Gt);case et._const:case et._var:return un=un||this.value,gt&&un!=="var"&&this.unexpected(),this.parseVarStatement(Gt,un);case et._while:return this.parseWhileStatement(Gt);case et._with:return this.parseWithStatement(Gt);case et.braceL:return this.parseBlock(!0,Gt);case et.semi:return this.parseEmptyStatement(Gt);case et._export:case et._import:if(this.options.ecmaVersion>10&&Ft===et._import){St.lastIndex=this.pos;var mn=St.exec(this.input),Rn=this.pos+mn[0].length,jn=this.input.charCodeAt(Rn);if(jn===40)return this.parseExpressionStatement(Gt,this.parseExpression())}return this.options.allowImportExportEverywhere||(_t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Ft===et._import?this.parseImport(Gt):this.parseExport(Gt,$t);default:if(this.isAsyncFunction())return gt&&this.unexpected(),this.next(),this.parseFunctionStatement(Gt,!0,!gt);var gr=this.value,Mr=this.parseExpression();return Ft===et.name&&Mr.type==="Identifier"&&this.eat(et.colon)?this.parseLabeledStatement(Gt,gr,Mr,gt):this.parseExpressionStatement(Gt,Mr)}},In.parseBreakContinueStatement=function(gt,_t){var $t=_t==="break";this.next(),this.eat(et.semi)||this.insertSemicolon()?gt.label=null:this.type!==et.name?this.unexpected():(gt.label=this.parseIdent(),this.semicolon());for(var Ft=0;Ft<this.labels.length;++Ft){var Gt=this.labels[Ft];if((gt.label==null||Gt.name===gt.label.name)&&(Gt.kind!=null&&($t||Gt.kind==="loop")||gt.label&&$t))break}return Ft===this.labels.length&&this.raise(gt.start,"Unsyntactic "+_t),this.finishNode(gt,$t?"BreakStatement":"ContinueStatement")},In.parseDebuggerStatement=function(gt){return this.next(),this.semicolon(),this.finishNode(gt,"DebuggerStatement")},In.parseDoStatement=function(gt){return this.next(),this.labels.push(ar),gt.body=this.parseStatement("do"),this.labels.pop(),this.expect(et._while),gt.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(et.semi):this.semicolon(),this.finishNode(gt,"DoWhileStatement")},In.parseForStatement=function(gt){this.next();var _t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ar),this.enterScope(0),this.expect(et.parenL),this.type===et.semi)return _t>-1&&this.unexpected(_t),this.parseFor(gt,null);var $t=this.isLet();if(this.type===et._var||this.type===et._const||$t){var Ft=this.startNode(),Gt=$t?"let":this.value;return this.next(),this.parseVar(Ft,!0,Gt),this.finishNode(Ft,"VariableDeclaration"),(this.type===et._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Ft.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===et._in?_t>-1&&this.unexpected(_t):gt.await=_t>-1),this.parseForIn(gt,Ft)):(_t>-1&&this.unexpected(_t),this.parseFor(gt,Ft))}var un=new Yn,mn=this.parseExpression(!0,un);return this.type===et._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===et._in?_t>-1&&this.unexpected(_t):gt.await=_t>-1),this.toAssignable(mn,!1,un),this.checkLVal(mn),this.parseForIn(gt,mn)):(this.checkExpressionErrors(un,!0),_t>-1&&this.unexpected(_t),this.parseFor(gt,mn))},In.parseFunctionStatement=function(gt,_t,$t){return this.next(),this.parseFunction(gt,en|($t?0:Cn),!1,_t)},In.parseIfStatement=function(gt){return this.next(),gt.test=this.parseParenExpression(),gt.consequent=this.parseStatement("if"),gt.alternate=this.eat(et._else)?this.parseStatement("if"):null,this.finishNode(gt,"IfStatement")},In.parseReturnStatement=function(gt){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(et.semi)||this.insertSemicolon()?gt.argument=null:(gt.argument=this.parseExpression(),this.semicolon()),this.finishNode(gt,"ReturnStatement")},In.parseSwitchStatement=function(gt){this.next(),gt.discriminant=this.parseParenExpression(),gt.cases=[],this.expect(et.braceL),this.labels.push(Dt),this.enterScope(0);for(var _t,$t=!1;this.type!==et.braceR;)if(this.type===et._case||this.type===et._default){var Ft=this.type===et._case;_t&&this.finishNode(_t,"SwitchCase"),gt.cases.push(_t=this.startNode()),_t.consequent=[],this.next(),Ft?_t.test=this.parseExpression():($t&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),$t=!0,_t.test=null),this.expect(et.colon)}else _t||this.unexpected(),_t.consequent.push(this.parseStatement(null));return this.exitScope(),_t&&this.finishNode(_t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(gt,"SwitchStatement")},In.parseThrowStatement=function(gt){return this.next(),lt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),gt.argument=this.parseExpression(),this.semicolon(),this.finishNode(gt,"ThrowStatement")};var qt=[];In.parseTryStatement=function(gt){if(this.next(),gt.block=this.parseBlock(),gt.handler=null,this.type===et._catch){var _t=this.startNode();if(this.next(),this.eat(et.parenL)){_t.param=this.parseBindingAtom();var $t=_t.param.type==="Identifier";this.enterScope($t?Nt:0),this.checkLVal(_t.param,$t?gn:Zn),this.expect(et.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),_t.param=null,this.enterScope(0);_t.body=this.parseBlock(!1),this.exitScope(),gt.handler=this.finishNode(_t,"CatchClause")}return gt.finalizer=this.eat(et._finally)?this.parseBlock():null,!gt.handler&&!gt.finalizer&&this.raise(gt.start,"Missing catch or finally clause"),this.finishNode(gt,"TryStatement")},In.parseVarStatement=function(gt,_t){return this.next(),this.parseVar(gt,!1,_t),this.semicolon(),this.finishNode(gt,"VariableDeclaration")},In.parseWhileStatement=function(gt){return this.next(),gt.test=this.parseParenExpression(),this.labels.push(ar),gt.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(gt,"WhileStatement")},In.parseWithStatement=function(gt){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),gt.object=this.parseParenExpression(),gt.body=this.parseStatement("with"),this.finishNode(gt,"WithStatement")},In.parseEmptyStatement=function(gt){return this.next(),this.finishNode(gt,"EmptyStatement")},In.parseLabeledStatement=function(gt,_t,$t,Ft){for(var Gt=0,un=this.labels;Gt<un.length;Gt+=1){var mn=un[Gt];mn.name===_t&&this.raise($t.start,"Label '"+_t+"' is already declared")}for(var Rn=this.type.isLoop?"loop":this.type===et._switch?"switch":null,jn=this.labels.length-1;jn>=0;jn--){var gr=this.labels[jn];if(gr.statementStart===gt.start)gr.statementStart=this.start,gr.kind=Rn;else break}return this.labels.push({name:_t,kind:Rn,statementStart:this.start}),gt.body=this.parseStatement(Ft?Ft.indexOf("label")===-1?Ft+"label":Ft:"label"),this.labels.pop(),gt.label=$t,this.finishNode(gt,"LabeledStatement")},In.parseExpressionStatement=function(gt,_t){return gt.expression=_t,this.semicolon(),this.finishNode(gt,"ExpressionStatement")},In.parseBlock=function(gt,_t){for(gt===void 0&&(gt=!0),_t===void 0&&(_t=this.startNode()),_t.body=[],this.expect(et.braceL),gt&&this.enterScope(0);!this.eat(et.braceR);){var $t=this.parseStatement(null);_t.body.push($t)}return gt&&this.exitScope(),this.finishNode(_t,"BlockStatement")},In.parseFor=function(gt,_t){return gt.init=_t,this.expect(et.semi),gt.test=this.type===et.semi?null:this.parseExpression(),this.expect(et.semi),gt.update=this.type===et.parenR?null:this.parseExpression(),this.expect(et.parenR),gt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(gt,"ForStatement")},In.parseForIn=function(gt,_t){var $t=this.type===et._in;return this.next(),_t.type==="VariableDeclaration"&&_t.declarations[0].init!=null&&(!$t||this.options.ecmaVersion<8||this.strict||_t.kind!=="var"||_t.declarations[0].id.type!=="Identifier")?this.raise(_t.start,($t?"for-in":"for-of")+" loop variable declaration may not have an initializer"):_t.type==="AssignmentPattern"&&this.raise(_t.start,"Invalid left-hand side in for-loop"),gt.left=_t,gt.right=$t?this.parseExpression():this.parseMaybeAssign(),this.expect(et.parenR),gt.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(gt,$t?"ForInStatement":"ForOfStatement")},In.parseVar=function(gt,_t,$t){for(gt.declarations=[],gt.kind=$t;;){var Ft=this.startNode();if(this.parseVarId(Ft,$t),this.eat(et.eq)?Ft.init=this.parseMaybeAssign(_t):$t==="const"&&!(this.type===et._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Ft.id.type!=="Identifier"&&!(_t&&(this.type===et._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Ft.init=null,gt.declarations.push(this.finishNode(Ft,"VariableDeclarator")),!this.eat(et.comma))break}return gt},In.parseVarId=function(gt,_t){gt.id=this.parseBindingAtom(),this.checkLVal(gt.id,_t==="var"?Qn:Zn,!1)};var en=1,Cn=2,Pn=4;In.parseFunction=function(gt,_t,$t,Ft){this.initFunction(gt),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Ft)&&(this.type===et.star&&_t&Cn&&this.unexpected(),gt.generator=this.eat(et.star)),this.options.ecmaVersion>=8&&(gt.async=!!Ft),_t&en&&(gt.id=_t&Pn&&this.type!==et.name?null:this.parseIdent(),gt.id&&!(_t&Cn)&&this.checkLVal(gt.id,this.strict||gt.generator||gt.async?this.treatFunctionsAsVar?Qn:Zn:Sr));var Gt=this.yieldPos,un=this.awaitPos,mn=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(rn(gt.async,gt.generator)),_t&en||(gt.id=this.type===et.name?this.parseIdent():null),this.parseFunctionParams(gt),this.parseFunctionBody(gt,$t,!1),this.yieldPos=Gt,this.awaitPos=un,this.awaitIdentPos=mn,this.finishNode(gt,_t&en?"FunctionDeclaration":"FunctionExpression")},In.parseFunctionParams=function(gt){this.expect(et.parenL),gt.params=this.parseBindingList(et.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},In.parseClass=function(gt,_t){this.next();var $t=this.strict;this.strict=!0,this.parseClassId(gt,_t),this.parseClassSuper(gt);var Ft=this.startNode(),Gt=!1;for(Ft.body=[],this.expect(et.braceL);!this.eat(et.braceR);){var un=this.parseClassElement(gt.superClass!==null);un&&(Ft.body.push(un),un.type==="MethodDefinition"&&un.kind==="constructor"&&(Gt&&this.raise(un.start,"Duplicate constructor in the same class"),Gt=!0))}return gt.body=this.finishNode(Ft,"ClassBody"),this.strict=$t,this.finishNode(gt,_t?"ClassDeclaration":"ClassExpression")},In.parseClassElement=function(gt){var _t=this;if(this.eat(et.semi))return null;var $t=this.startNode(),Ft=function(jn,gr){gr===void 0&&(gr=!1);var Mr=_t.start,qr=_t.startLoc;return _t.eatContextual(jn)?_t.type!==et.parenL&&(!gr||!_t.canInsertSemicolon())?!0:($t.key&&_t.unexpected(),$t.computed=!1,$t.key=_t.startNodeAt(Mr,qr),$t.key.name=jn,_t.finishNode($t.key,"Identifier"),!1):!1};$t.kind="method",$t.static=Ft("static");var Gt=this.eat(et.star),un=!1;Gt||(this.options.ecmaVersion>=8&&Ft("async",!0)?(un=!0,Gt=this.options.ecmaVersion>=9&&this.eat(et.star)):Ft("get")?$t.kind="get":Ft("set")&&($t.kind="set")),$t.key||this.parsePropertyName($t);var mn=$t.key,Rn=!1;return!$t.computed&&!$t.static&&(mn.type==="Identifier"&&mn.name==="constructor"||mn.type==="Literal"&&mn.value==="constructor")?($t.kind!=="method"&&this.raise(mn.start,"Constructor can't have get/set modifier"),Gt&&this.raise(mn.start,"Constructor can't be a generator"),un&&this.raise(mn.start,"Constructor can't be an async method"),$t.kind="constructor",Rn=gt):$t.static&&mn.type==="Identifier"&&mn.name==="prototype"&&this.raise(mn.start,"Classes may not have a static property named prototype"),this.parseClassMethod($t,Gt,un,Rn),$t.kind==="get"&&$t.value.params.length!==0&&this.raiseRecoverable($t.value.start,"getter should have no params"),$t.kind==="set"&&$t.value.params.length!==1&&this.raiseRecoverable($t.value.start,"setter should have exactly one param"),$t.kind==="set"&&$t.value.params[0].type==="RestElement"&&this.raiseRecoverable($t.value.params[0].start,"Setter cannot use rest params"),$t},In.parseClassMethod=function(gt,_t,$t,Ft){return gt.value=this.parseMethod(_t,$t,Ft),this.finishNode(gt,"MethodDefinition")},In.parseClassId=function(gt,_t){this.type===et.name?(gt.id=this.parseIdent(),_t&&this.checkLVal(gt.id,Zn,!1)):(_t===!0&&this.unexpected(),gt.id=null)},In.parseClassSuper=function(gt){gt.superClass=this.eat(et._extends)?this.parseExprSubscripts():null},In.parseExport=function(gt,_t){if(this.next(),this.eat(et.star))return this.expectContextual("from"),this.type!==et.string&&this.unexpected(),gt.source=this.parseExprAtom(),this.semicolon(),this.finishNode(gt,"ExportAllDeclaration");if(this.eat(et._default)){this.checkExport(_t,"default",this.lastTokStart);var $t;if(this.type===et._function||($t=this.isAsyncFunction())){var Ft=this.startNode();this.next(),$t&&this.next(),gt.declaration=this.parseFunction(Ft,en|Pn,!1,$t)}else if(this.type===et._class){var Gt=this.startNode();gt.declaration=this.parseClass(Gt,"nullableID")}else gt.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(gt,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())gt.declaration=this.parseStatement(null),gt.declaration.type==="VariableDeclaration"?this.checkVariableExport(_t,gt.declaration.declarations):this.checkExport(_t,gt.declaration.id.name,gt.declaration.id.start),gt.specifiers=[],gt.source=null;else{if(gt.declaration=null,gt.specifiers=this.parseExportSpecifiers(_t),this.eatContextual("from"))this.type!==et.string&&this.unexpected(),gt.source=this.parseExprAtom();else{for(var un=0,mn=gt.specifiers;un<mn.length;un+=1){var Rn=mn[un];this.checkUnreserved(Rn.local),this.checkLocalExport(Rn.local)}gt.source=null}this.semicolon()}return this.finishNode(gt,"ExportNamedDeclaration")},In.checkExport=function(gt,_t,$t){!gt||(Ct(gt,_t)&&this.raiseRecoverable($t,"Duplicate export '"+_t+"'"),gt[_t]=!0)},In.checkPatternExport=function(gt,_t){var $t=_t.type;if($t==="Identifier")this.checkExport(gt,_t.name,_t.start);else if($t==="ObjectPattern")for(var Ft=0,Gt=_t.properties;Ft<Gt.length;Ft+=1){var un=Gt[Ft];this.checkPatternExport(gt,un)}else if($t==="ArrayPattern")for(var mn=0,Rn=_t.elements;mn<Rn.length;mn+=1){var jn=Rn[mn];jn&&this.checkPatternExport(gt,jn)}else $t==="Property"?this.checkPatternExport(gt,_t.value):$t==="AssignmentPattern"?this.checkPatternExport(gt,_t.left):$t==="RestElement"?this.checkPatternExport(gt,_t.argument):$t==="ParenthesizedExpression"&&this.checkPatternExport(gt,_t.expression)},In.checkVariableExport=function(gt,_t){if(!!gt)for(var $t=0,Ft=_t;$t<Ft.length;$t+=1){var Gt=Ft[$t];this.checkPatternExport(gt,Gt.id)}},In.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},In.parseExportSpecifiers=function(gt){var _t=[],$t=!0;for(this.expect(et.braceL);!this.eat(et.braceR);){if($t)$t=!1;else if(this.expect(et.comma),this.afterTrailingComma(et.braceR))break;var Ft=this.startNode();Ft.local=this.parseIdent(!0),Ft.exported=this.eatContextual("as")?this.parseIdent(!0):Ft.local,this.checkExport(gt,Ft.exported.name,Ft.exported.start),_t.push(this.finishNode(Ft,"ExportSpecifier"))}return _t},In.parseImport=function(gt){return this.next(),this.type===et.string?(gt.specifiers=qt,gt.source=this.parseExprAtom()):(gt.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),gt.source=this.type===et.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(gt,"ImportDeclaration")},In.parseImportSpecifiers=function(){var gt=[],_t=!0;if(this.type===et.name){var $t=this.startNode();if($t.local=this.parseIdent(),this.checkLVal($t.local,Zn),gt.push(this.finishNode($t,"ImportDefaultSpecifier")),!this.eat(et.comma))return gt}if(this.type===et.star){var Ft=this.startNode();return this.next(),this.expectContextual("as"),Ft.local=this.parseIdent(),this.checkLVal(Ft.local,Zn),gt.push(this.finishNode(Ft,"ImportNamespaceSpecifier")),gt}for(this.expect(et.braceL);!this.eat(et.braceR);){if(_t)_t=!1;else if(this.expect(et.comma),this.afterTrailingComma(et.braceR))break;var Gt=this.startNode();Gt.imported=this.parseIdent(!0),this.eatContextual("as")?Gt.local=this.parseIdent():(this.checkUnreserved(Gt.imported),Gt.local=Gt.imported),this.checkLVal(Gt.local,Zn),gt.push(this.finishNode(Gt,"ImportSpecifier"))}return gt},In.adaptDirectivePrologue=function(gt){for(var _t=0;_t<gt.length&&this.isDirectiveCandidate(gt[_t]);++_t)gt[_t].directive=gt[_t].expression.raw.slice(1,-1)},In.isDirectiveCandidate=function(gt){return gt.type==="ExpressionStatement"&&gt.expression.type==="Literal"&&typeof gt.expression.value=="string"&&(this.input[gt.start]==='"'||this.input[gt.start]==="'")};var En=Ln.prototype;En.toAssignable=function(gt,_t,$t){if(this.options.ecmaVersion>=6&&gt)switch(gt.type){case"Identifier":this.inAsync&&gt.name==="await"&&this.raise(gt.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":gt.type="ObjectPattern",$t&&this.checkPatternErrors($t,!0);for(var Ft=0,Gt=gt.properties;Ft<Gt.length;Ft+=1){var un=Gt[Ft];this.toAssignable(un,_t),un.type==="RestElement"&&(un.argument.type==="ArrayPattern"||un.argument.type==="ObjectPattern")&&this.raise(un.argument.start,"Unexpected token")}break;case"Property":gt.kind!=="init"&&this.raise(gt.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(gt.value,_t);break;case"ArrayExpression":gt.type="ArrayPattern",$t&&this.checkPatternErrors($t,!0),this.toAssignableList(gt.elements,_t);break;case"SpreadElement":gt.type="RestElement",this.toAssignable(gt.argument,_t),gt.argument.type==="AssignmentPattern"&&this.raise(gt.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":gt.operator!=="="&&this.raise(gt.left.end,"Only '=' operator can be used for specifying default value."),gt.type="AssignmentPattern",delete gt.operator,this.toAssignable(gt.left,_t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(gt.expression,_t,$t);break;case"MemberExpression":if(!_t)break;default:this.raise(gt.start,"Assigning to rvalue")}else $t&&this.checkPatternErrors($t,!0);return gt},En.toAssignableList=function(gt,_t){for(var $t=gt.length,Ft=0;Ft<$t;Ft++){var Gt=gt[Ft];Gt&&this.toAssignable(Gt,_t)}if($t){var un=gt[$t-1];this.options.ecmaVersion===6&&_t&&un&&un.type==="RestElement"&&un.argument.type!=="Identifier"&&this.unexpected(un.argument.start)}return gt},En.parseSpread=function(gt){var _t=this.startNode();return this.next(),_t.argument=this.parseMaybeAssign(!1,gt),this.finishNode(_t,"SpreadElement")},En.parseRestBinding=function(){var gt=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==et.name&&this.unexpected(),gt.argument=this.parseBindingAtom(),this.finishNode(gt,"RestElement")},En.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case et.bracketL:var gt=this.startNode();return this.next(),gt.elements=this.parseBindingList(et.bracketR,!0,!0),this.finishNode(gt,"ArrayPattern");case et.braceL:return this.parseObj(!0)}return this.parseIdent()},En.parseBindingList=function(gt,_t,$t){for(var Ft=[],Gt=!0;!this.eat(gt);)if(Gt?Gt=!1:this.expect(et.comma),_t&&this.type===et.comma)Ft.push(null);else{if($t&&this.afterTrailingComma(gt))break;if(this.type===et.ellipsis){var un=this.parseRestBinding();this.parseBindingListItem(un),Ft.push(un),this.type===et.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(gt);break}else{var mn=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(mn),Ft.push(mn)}}return Ft},En.parseBindingListItem=function(gt){return gt},En.parseMaybeDefault=function(gt,_t,$t){if($t=$t||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(et.eq))return $t;var Ft=this.startNodeAt(gt,_t);return Ft.left=$t,Ft.right=this.parseMaybeAssign(),this.finishNode(Ft,"AssignmentPattern")},En.checkLVal=function(gt,_t,$t){switch(_t===void 0&&(_t=Un),gt.type){case"Identifier":_t===Zn&&gt.name==="let"&&this.raiseRecoverable(gt.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(gt.name)&&this.raiseRecoverable(gt.start,(_t?"Binding ":"Assigning to ")+gt.name+" in strict mode"),$t&&(Ct($t,gt.name)&&this.raiseRecoverable(gt.start,"Argument name clash"),$t[gt.name]=!0),_t!==Un&&_t!==Fn&&this.declareName(gt.name,_t,gt.start);break;case"MemberExpression":_t&&this.raiseRecoverable(gt.start,"Binding member expression");break;case"ObjectPattern":for(var Ft=0,Gt=gt.properties;Ft<Gt.length;Ft+=1){var un=Gt[Ft];this.checkLVal(un,_t,$t)}break;case"Property":this.checkLVal(gt.value,_t,$t);break;case"ArrayPattern":for(var mn=0,Rn=gt.elements;mn<Rn.length;mn+=1){var jn=Rn[mn];jn&&this.checkLVal(jn,_t,$t)}break;case"AssignmentPattern":this.checkLVal(gt.left,_t,$t);break;case"RestElement":this.checkLVal(gt.argument,_t,$t);break;case"ParenthesizedExpression":this.checkLVal(gt.expression,_t,$t);break;default:this.raise(gt.start,(_t?"Binding":"Assigning to")+" rvalue")}};var xn=Ln.prototype;xn.checkPropClash=function(gt,_t,$t){if(!(this.options.ecmaVersion>=9&&gt.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(gt.computed||gt.method||gt.shorthand))){var Ft=gt.key,Gt;switch(Ft.type){case"Identifier":Gt=Ft.name;break;case"Literal":Gt=String(Ft.value);break;default:return}var un=gt.kind;if(this.options.ecmaVersion>=6){Gt==="__proto__"&&un==="init"&&(_t.proto&&($t?$t.doubleProto<0&&($t.doubleProto=Ft.start):this.raiseRecoverable(Ft.start,"Redefinition of __proto__ property")),_t.proto=!0);return}Gt="$"+Gt;var mn=_t[Gt];if(mn){var Rn;un==="init"?Rn=this.strict&&mn.init||mn.get||mn.set:Rn=mn.init||mn[un],Rn&&this.raiseRecoverable(Ft.start,"Redefinition of property")}else mn=_t[Gt]={init:!1,get:!1,set:!1};mn[un]=!0}},xn.parseExpression=function(gt,_t){var $t=this.start,Ft=this.startLoc,Gt=this.parseMaybeAssign(gt,_t);if(this.type===et.comma){var un=this.startNodeAt($t,Ft);for(un.expressions=[Gt];this.eat(et.comma);)un.expressions.push(this.parseMaybeAssign(gt,_t));return this.finishNode(un,"SequenceExpression")}return Gt},xn.parseMaybeAssign=function(gt,_t,$t){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(gt);this.exprAllowed=!1}var Ft=!1,Gt=-1,un=-1;_t?(Gt=_t.parenthesizedAssign,un=_t.trailingComma,_t.parenthesizedAssign=_t.trailingComma=-1):(_t=new Yn,Ft=!0);var mn=this.start,Rn=this.startLoc;(this.type===et.parenL||this.type===et.name)&&(this.potentialArrowAt=this.start);var jn=this.parseMaybeConditional(gt,_t);if($t&&(jn=$t.call(this,jn,mn,Rn)),this.type.isAssign){var gr=this.startNodeAt(mn,Rn);return gr.operator=this.value,gr.left=this.type===et.eq?this.toAssignable(jn,!1,_t):jn,Ft||(_t.parenthesizedAssign=_t.trailingComma=_t.doubleProto=-1),_t.shorthandAssign>=gr.left.start&&(_t.shorthandAssign=-1),this.checkLVal(jn),this.next(),gr.right=this.parseMaybeAssign(gt),this.finishNode(gr,"AssignmentExpression")}else Ft&&this.checkExpressionErrors(_t,!0);return Gt>-1&&(_t.parenthesizedAssign=Gt),un>-1&&(_t.trailingComma=un),jn},xn.parseMaybeConditional=function(gt,_t){var $t=this.start,Ft=this.startLoc,Gt=this.parseExprOps(gt,_t);if(this.checkExpressionErrors(_t))return Gt;if(this.eat(et.question)){var un=this.startNodeAt($t,Ft);return un.test=Gt,un.consequent=this.parseMaybeAssign(),this.expect(et.colon),un.alternate=this.parseMaybeAssign(gt),this.finishNode(un,"ConditionalExpression")}return Gt},xn.parseExprOps=function(gt,_t){var $t=this.start,Ft=this.startLoc,Gt=this.parseMaybeUnary(_t,!1);return this.checkExpressionErrors(_t)||Gt.start===$t&&Gt.type==="ArrowFunctionExpression"?Gt:this.parseExprOp(Gt,$t,Ft,-1,gt)},xn.parseExprOp=function(gt,_t,$t,Ft,Gt){var un=this.type.binop;if(un!=null&&(!Gt||this.type!==et._in)&&un>Ft){var mn=this.type===et.logicalOR||this.type===et.logicalAND,Rn=this.value;this.next();var jn=this.start,gr=this.startLoc,Mr=this.parseExprOp(this.parseMaybeUnary(null,!1),jn,gr,un,Gt),qr=this.buildBinary(_t,$t,gt,Mr,Rn,mn);return this.parseExprOp(qr,_t,$t,Ft,Gt)}return gt},xn.buildBinary=function(gt,_t,$t,Ft,Gt,un){var mn=this.startNodeAt(gt,_t);return mn.left=$t,mn.operator=Gt,mn.right=Ft,this.finishNode(mn,un?"LogicalExpression":"BinaryExpression")},xn.parseMaybeUnary=function(gt,_t){var $t=this.start,Ft=this.startLoc,Gt;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))Gt=this.parseAwait(),_t=!0;else if(this.type.prefix){var un=this.startNode(),mn=this.type===et.incDec;un.operator=this.value,un.prefix=!0,this.next(),un.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(gt,!0),mn?this.checkLVal(un.argument):this.strict&&un.operator==="delete"&&un.argument.type==="Identifier"?this.raiseRecoverable(un.start,"Deleting local variable in strict mode"):_t=!0,Gt=this.finishNode(un,mn?"UpdateExpression":"UnaryExpression")}else{if(Gt=this.parseExprSubscripts(gt),this.checkExpressionErrors(gt))return Gt;for(;this.type.postfix&&!this.canInsertSemicolon();){var Rn=this.startNodeAt($t,Ft);Rn.operator=this.value,Rn.prefix=!1,Rn.argument=Gt,this.checkLVal(Gt),this.next(),Gt=this.finishNode(Rn,"UpdateExpression")}}return!_t&&this.eat(et.starstar)?this.buildBinary($t,Ft,Gt,this.parseMaybeUnary(null,!1),"**",!1):Gt},xn.parseExprSubscripts=function(gt){var _t=this.start,$t=this.startLoc,Ft=this.parseExprAtom(gt);if(Ft.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Ft;var Gt=this.parseSubscripts(Ft,_t,$t);return gt&&Gt.type==="MemberExpression"&&(gt.parenthesizedAssign>=Gt.start&&(gt.parenthesizedAssign=-1),gt.parenthesizedBind>=Gt.start&&(gt.parenthesizedBind=-1)),Gt},xn.parseSubscripts=function(gt,_t,$t,Ft){for(var Gt=this.options.ecmaVersion>=8&&gt.type==="Identifier"&&gt.name==="async"&&this.lastTokEnd===gt.end&&!this.canInsertSemicolon()&&this.input.slice(gt.start,gt.end)==="async";;){var un=this.parseSubscript(gt,_t,$t,Ft,Gt);if(un===gt||un.type==="ArrowFunctionExpression")return un;gt=un}},xn.parseSubscript=function(gt,_t,$t,Ft,Gt){var un=this.eat(et.bracketL);if(un||this.eat(et.dot)){var mn=this.startNodeAt(_t,$t);mn.object=gt,mn.property=un?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),mn.computed=!!un,un&&this.expect(et.bracketR),gt=this.finishNode(mn,"MemberExpression")}else if(!Ft&&this.eat(et.parenL)){var Rn=new Yn,jn=this.yieldPos,gr=this.awaitPos,Mr=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var qr=this.parseExprList(et.parenR,this.options.ecmaVersion>=8,!1,Rn);if(Gt&&!this.canInsertSemicolon()&&this.eat(et.arrow))return this.checkPatternErrors(Rn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=jn,this.awaitPos=gr,this.awaitIdentPos=Mr,this.parseArrowExpression(this.startNodeAt(_t,$t),qr,!0);this.checkExpressionErrors(Rn,!0),this.yieldPos=jn||this.yieldPos,this.awaitPos=gr||this.awaitPos,this.awaitIdentPos=Mr||this.awaitIdentPos;var dt=this.startNodeAt(_t,$t);dt.callee=gt,dt.arguments=qr,gt=this.finishNode(dt,"CallExpression")}else if(this.type===et.backQuote){var bt=this.startNodeAt(_t,$t);bt.tag=gt,bt.quasi=this.parseTemplate({isTagged:!0}),gt=this.finishNode(bt,"TaggedTemplateExpression")}return gt},xn.parseExprAtom=function(gt){this.type===et.slash&&this.readRegexp();var _t,$t=this.potentialArrowAt===this.start;switch(this.type){case et._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),_t=this.startNode(),this.next(),this.type===et.parenL&&!this.allowDirectSuper&&this.raise(_t.start,"super() call outside constructor of a subclass"),this.type!==et.dot&&this.type!==et.bracketL&&this.type!==et.parenL&&this.unexpected(),this.finishNode(_t,"Super");case et._this:return _t=this.startNode(),this.next(),this.finishNode(_t,"ThisExpression");case et.name:var Ft=this.start,Gt=this.startLoc,un=this.containsEsc,mn=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!un&&mn.name==="async"&&!this.canInsertSemicolon()&&this.eat(et._function))return this.parseFunction(this.startNodeAt(Ft,Gt),0,!1,!0);if($t&&!this.canInsertSemicolon()){if(this.eat(et.arrow))return this.parseArrowExpression(this.startNodeAt(Ft,Gt),[mn],!1);if(this.options.ecmaVersion>=8&&mn.name==="async"&&this.type===et.name&&!un)return mn=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(et.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Ft,Gt),[mn],!0)}return mn;case et.regexp:var Rn=this.value;return _t=this.parseLiteral(Rn.value),_t.regex={pattern:Rn.pattern,flags:Rn.flags},_t;case et.num:case et.string:return this.parseLiteral(this.value);case et._null:case et._true:case et._false:return _t=this.startNode(),_t.value=this.type===et._null?null:this.type===et._true,_t.raw=this.type.keyword,this.next(),this.finishNode(_t,"Literal");case et.parenL:var jn=this.start,gr=this.parseParenAndDistinguishExpression($t);return gt&&(gt.parenthesizedAssign<0&&!this.isSimpleAssignTarget(gr)&&(gt.parenthesizedAssign=jn),gt.parenthesizedBind<0&&(gt.parenthesizedBind=jn)),gr;case et.bracketL:return _t=this.startNode(),this.next(),_t.elements=this.parseExprList(et.bracketR,!0,!0,gt),this.finishNode(_t,"ArrayExpression");case et.braceL:return this.parseObj(!1,gt);case et._function:return _t=this.startNode(),this.next(),this.parseFunction(_t,0);case et._class:return this.parseClass(this.startNode(),!1);case et._new:return this.parseNew();case et.backQuote:return this.parseTemplate();case et._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},xn.parseExprImport=function(){var gt=this.startNode();switch(this.next(),this.type){case et.parenL:return this.parseDynamicImport(gt);default:this.unexpected()}},xn.parseDynamicImport=function(gt){if(this.next(),gt.source=this.parseMaybeAssign(),!this.eat(et.parenR)){var _t=this.start;this.eat(et.comma)&&this.eat(et.parenR)?this.raiseRecoverable(_t,"Trailing comma is not allowed in import()"):this.unexpected(_t)}return this.finishNode(gt,"ImportExpression")},xn.parseLiteral=function(gt){var _t=this.startNode();return _t.value=gt,_t.raw=this.input.slice(this.start,this.end),_t.raw.charCodeAt(_t.raw.length-1)===110&&(_t.bigint=_t.raw.slice(0,-1)),this.next(),this.finishNode(_t,"Literal")},xn.parseParenExpression=function(){this.expect(et.parenL);var gt=this.parseExpression();return this.expect(et.parenR),gt},xn.parseParenAndDistinguishExpression=function(gt){var _t=this.start,$t=this.startLoc,Ft,Gt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var un=this.start,mn=this.startLoc,Rn=[],jn=!0,gr=!1,Mr=new Yn,qr=this.yieldPos,dt=this.awaitPos,bt;for(this.yieldPos=0,this.awaitPos=0;this.type!==et.parenR;)if(jn?jn=!1:this.expect(et.comma),Gt&&this.afterTrailingComma(et.parenR,!0)){gr=!0;break}else if(this.type===et.ellipsis){bt=this.start,Rn.push(this.parseParenItem(this.parseRestBinding())),this.type===et.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Rn.push(this.parseMaybeAssign(!1,Mr,this.parseParenItem));var At=this.start,It=this.startLoc;if(this.expect(et.parenR),gt&&!this.canInsertSemicolon()&&this.eat(et.arrow))return this.checkPatternErrors(Mr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=qr,this.awaitPos=dt,this.parseParenArrowList(_t,$t,Rn);(!Rn.length||gr)&&this.unexpected(this.lastTokStart),bt&&this.unexpected(bt),this.checkExpressionErrors(Mr,!0),this.yieldPos=qr||this.yieldPos,this.awaitPos=dt||this.awaitPos,Rn.length>1?(Ft=this.startNodeAt(un,mn),Ft.expressions=Rn,this.finishNodeAt(Ft,"SequenceExpression",At,It)):Ft=Rn[0]}else Ft=this.parseParenExpression();if(this.options.preserveParens){var Kt=this.startNodeAt(_t,$t);return Kt.expression=Ft,this.finishNode(Kt,"ParenthesizedExpression")}else return Ft},xn.parseParenItem=function(gt){return gt},xn.parseParenArrowList=function(gt,_t,$t){return this.parseArrowExpression(this.startNodeAt(gt,_t),$t)};var Vn=[];xn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var gt=this.startNode(),_t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(et.dot)){gt.meta=_t;var $t=this.containsEsc;return gt.property=this.parseIdent(!0),(gt.property.name!=="target"||$t)&&this.raiseRecoverable(gt.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(gt.start,"new.target can only be used in functions"),this.finishNode(gt,"MetaProperty")}var Ft=this.start,Gt=this.startLoc,un=this.type===et._import;return gt.callee=this.parseSubscripts(this.parseExprAtom(),Ft,Gt,!0),un&&gt.callee.type==="ImportExpression"&&this.raise(Ft,"Cannot use new with import()"),this.eat(et.parenL)?gt.arguments=this.parseExprList(et.parenR,this.options.ecmaVersion>=8,!1):gt.arguments=Vn,this.finishNode(gt,"NewExpression")},xn.parseTemplateElement=function(gt){var _t=gt.isTagged,$t=this.startNode();return this.type===et.invalidTemplate?(_t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),$t.value={raw:this.value,cooked:null}):$t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),$t.tail=this.type===et.backQuote,this.finishNode($t,"TemplateElement")},xn.parseTemplate=function(gt){gt===void 0&&(gt={});var _t=gt.isTagged;_t===void 0&&(_t=!1);var $t=this.startNode();this.next(),$t.expressions=[];var Ft=this.parseTemplateElement({isTagged:_t});for($t.quasis=[Ft];!Ft.tail;)this.type===et.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(et.dollarBraceL),$t.expressions.push(this.parseExpression()),this.expect(et.braceR),$t.quasis.push(Ft=this.parseTemplateElement({isTagged:_t}));return this.next(),this.finishNode($t,"TemplateLiteral")},xn.isAsyncProp=function(gt){return!gt.computed&&gt.key.type==="Identifier"&&gt.key.name==="async"&&(this.type===et.name||this.type===et.num||this.type===et.string||this.type===et.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===et.star)&&!lt.test(this.input.slice(this.lastTokEnd,this.start))},xn.parseObj=function(gt,_t){var $t=this.startNode(),Ft=!0,Gt={};for($t.properties=[],this.next();!this.eat(et.braceR);){if(Ft)Ft=!1;else if(this.expect(et.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(et.braceR))break;var un=this.parseProperty(gt,_t);gt||this.checkPropClash(un,Gt,_t),$t.properties.push(un)}return this.finishNode($t,gt?"ObjectPattern":"ObjectExpression")},xn.parseProperty=function(gt,_t){var $t=this.startNode(),Ft,Gt,un,mn;if(this.options.ecmaVersion>=9&&this.eat(et.ellipsis))return gt?($t.argument=this.parseIdent(!1),this.type===et.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode($t,"RestElement")):(this.type===et.parenL&&_t&&(_t.parenthesizedAssign<0&&(_t.parenthesizedAssign=this.start),_t.parenthesizedBind<0&&(_t.parenthesizedBind=this.start)),$t.argument=this.parseMaybeAssign(!1,_t),this.type===et.comma&&_t&&_t.trailingComma<0&&(_t.trailingComma=this.start),this.finishNode($t,"SpreadElement"));this.options.ecmaVersion>=6&&($t.method=!1,$t.shorthand=!1,(gt||_t)&&(un=this.start,mn=this.startLoc),gt||(Ft=this.eat(et.star)));var Rn=this.containsEsc;return this.parsePropertyName($t),!gt&&!Rn&&this.options.ecmaVersion>=8&&!Ft&&this.isAsyncProp($t)?(Gt=!0,Ft=this.options.ecmaVersion>=9&&this.eat(et.star),this.parsePropertyName($t,_t)):Gt=!1,this.parsePropertyValue($t,gt,Ft,Gt,un,mn,_t,Rn),this.finishNode($t,"Property")},xn.parsePropertyValue=function(gt,_t,$t,Ft,Gt,un,mn,Rn){if(($t||Ft)&&this.type===et.colon&&this.unexpected(),this.eat(et.colon))gt.value=_t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,mn),gt.kind="init";else if(this.options.ecmaVersion>=6&&this.type===et.parenL)_t&&this.unexpected(),gt.kind="init",gt.method=!0,gt.value=this.parseMethod($t,Ft);else if(!_t&&!Rn&&this.options.ecmaVersion>=5&&!gt.computed&&gt.key.type==="Identifier"&&(gt.key.name==="get"||gt.key.name==="set")&&this.type!==et.comma&&this.type!==et.braceR){($t||Ft)&&this.unexpected(),gt.kind=gt.key.name,this.parsePropertyName(gt),gt.value=this.parseMethod(!1);var jn=gt.kind==="get"?0:1;if(gt.value.params.length!==jn){var gr=gt.value.start;gt.kind==="get"?this.raiseRecoverable(gr,"getter should have no params"):this.raiseRecoverable(gr,"setter should have exactly one param")}else gt.kind==="set"&&gt.value.params[0].type==="RestElement"&&this.raiseRecoverable(gt.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!gt.computed&&gt.key.type==="Identifier"?(($t||Ft)&&this.unexpected(),this.checkUnreserved(gt.key),gt.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Gt),gt.kind="init",_t?gt.value=this.parseMaybeDefault(Gt,un,gt.key):this.type===et.eq&&mn?(mn.shorthandAssign<0&&(mn.shorthandAssign=this.start),gt.value=this.parseMaybeDefault(Gt,un,gt.key)):gt.value=gt.key,gt.shorthand=!0):this.unexpected()},xn.parsePropertyName=function(gt){if(this.options.ecmaVersion>=6){if(this.eat(et.bracketL))return gt.computed=!0,gt.key=this.parseMaybeAssign(),this.expect(et.bracketR),gt.key;gt.computed=!1}return gt.key=this.type===et.num||this.type===et.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},xn.initFunction=function(gt){gt.id=null,this.options.ecmaVersion>=6&&(gt.generator=gt.expression=!1),this.options.ecmaVersion>=8&&(gt.async=!1)},xn.parseMethod=function(gt,_t,$t){var Ft=this.startNode(),Gt=this.yieldPos,un=this.awaitPos,mn=this.awaitIdentPos;return this.initFunction(Ft),this.options.ecmaVersion>=6&&(Ft.generator=gt),this.options.ecmaVersion>=8&&(Ft.async=!!_t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(rn(_t,Ft.generator)|ln|($t?yn:0)),this.expect(et.parenL),Ft.params=this.parseBindingList(et.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Ft,!1,!0),this.yieldPos=Gt,this.awaitPos=un,this.awaitIdentPos=mn,this.finishNode(Ft,"FunctionExpression")},xn.parseArrowExpression=function(gt,_t,$t){var Ft=this.yieldPos,Gt=this.awaitPos,un=this.awaitIdentPos;return this.enterScope(rn($t,!1)|Wt),this.initFunction(gt),this.options.ecmaVersion>=8&&(gt.async=!!$t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,gt.params=this.toAssignableList(_t,!0),this.parseFunctionBody(gt,!0,!1),this.yieldPos=Ft,this.awaitPos=Gt,this.awaitIdentPos=un,this.finishNode(gt,"ArrowFunctionExpression")},xn.parseFunctionBody=function(gt,_t,$t){var Ft=_t&&this.type!==et.braceL,Gt=this.strict,un=!1;if(Ft)gt.body=this.parseMaybeAssign(),gt.expression=!0,this.checkParams(gt,!1);else{var mn=this.options.ecmaVersion>=7&&!this.isSimpleParamList(gt.params);(!Gt||mn)&&(un=this.strictDirective(this.end),un&&mn&&this.raiseRecoverable(gt.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Rn=this.labels;this.labels=[],un&&(this.strict=!0),this.checkParams(gt,!Gt&&!un&&!_t&&!$t&&this.isSimpleParamList(gt.params)),gt.body=this.parseBlock(!1),gt.expression=!1,this.adaptDirectivePrologue(gt.body.body),this.labels=Rn}this.exitScope(),this.strict&&gt.id&&this.checkLVal(gt.id,Fn),this.strict=Gt},xn.isSimpleParamList=function(gt){for(var _t=0,$t=gt;_t<$t.length;_t+=1){var Ft=$t[_t];if(Ft.type!=="Identifier")return!1}return!0},xn.checkParams=function(gt,_t){for(var $t={},Ft=0,Gt=gt.params;Ft<Gt.length;Ft+=1){var un=Gt[Ft];this.checkLVal(un,Qn,_t?null:$t)}},xn.parseExprList=function(gt,_t,$t,Ft){for(var Gt=[],un=!0;!this.eat(gt);){if(un)un=!1;else if(this.expect(et.comma),_t&&this.afterTrailingComma(gt))break;var mn=void 0;$t&&this.type===et.comma?mn=null:this.type===et.ellipsis?(mn=this.parseSpread(Ft),Ft&&this.type===et.comma&&Ft.trailingComma<0&&(Ft.trailingComma=this.start)):mn=this.parseMaybeAssign(!1,Ft),Gt.push(mn)}return Gt},xn.checkUnreserved=function(gt){var _t=gt.start,$t=gt.end,Ft=gt.name;if(this.inGenerator&&Ft==="yield"&&this.raiseRecoverable(_t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Ft==="await"&&this.raiseRecoverable(_t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Ft)&&this.raise(_t,"Unexpected keyword '"+Ft+"'"),!(this.options.ecmaVersion<6&&this.input.slice(_t,$t).indexOf("\\")!==-1)){var Gt=this.strict?this.reservedWordsStrict:this.reservedWords;Gt.test(Ft)&&(!this.inAsync&&Ft==="await"&&this.raiseRecoverable(_t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(_t,"The keyword '"+Ft+"' is reserved"))}},xn.parseIdent=function(gt,_t){var $t=this.startNode();return this.type===et.name?$t.name=this.value:this.type.keyword?($t.name=this.type.keyword,($t.name==="class"||$t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!gt),this.finishNode($t,"Identifier"),gt||(this.checkUnreserved($t),$t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=$t.start)),$t},xn.parseYield=function(gt){this.yieldPos||(this.yieldPos=this.start);var _t=this.startNode();return this.next(),this.type===et.semi||this.canInsertSemicolon()||this.type!==et.star&&!this.type.startsExpr?(_t.delegate=!1,_t.argument=null):(_t.delegate=this.eat(et.star),_t.argument=this.parseMaybeAssign(gt)),this.finishNode(_t,"YieldExpression")},xn.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var gt=this.startNode();return this.next(),gt.argument=this.parseMaybeUnary(null,!1),this.finishNode(gt,"AwaitExpression")};var qn=Ln.prototype;qn.raise=function(gt,_t){var $t=Mt(this.input,gt);_t+=" ("+$t.line+":"+$t.column+")";var Ft=new SyntaxError(_t);throw Ft.pos=gt,Ft.loc=$t,Ft.raisedAt=this.pos,Ft},qn.raiseRecoverable=qn.raise,qn.curPosition=function(){if(this.options.locations)return new Xt(this.curLine,this.pos-this.lineStart)};var Sn=Ln.prototype,Wn=function(_t){this.flags=_t,this.var=[],this.lexical=[],this.functions=[]};Sn.enterScope=function(gt){this.scopeStack.push(new Wn(gt))},Sn.exitScope=function(){this.scopeStack.pop()},Sn.treatFunctionsAsVarInScope=function(gt){return gt.flags&an||!this.inModule&&gt.flags&fn},Sn.declareName=function(gt,_t,$t){var Ft=!1;if(_t===Zn){var Gt=this.currentScope();Ft=Gt.lexical.indexOf(gt)>-1||Gt.functions.indexOf(gt)>-1||Gt.var.indexOf(gt)>-1,Gt.lexical.push(gt),this.inModule&&Gt.flags&fn&&delete this.undefinedExports[gt]}else if(_t===gn){var un=this.currentScope();un.lexical.push(gt)}else if(_t===Sr){var mn=this.currentScope();this.treatFunctionsAsVar?Ft=mn.lexical.indexOf(gt)>-1:Ft=mn.lexical.indexOf(gt)>-1||mn.var.indexOf(gt)>-1,mn.functions.push(gt)}else for(var Rn=this.scopeStack.length-1;Rn>=0;--Rn){var jn=this.scopeStack[Rn];if(jn.lexical.indexOf(gt)>-1&&!(jn.flags&Nt&&jn.lexical[0]===gt)||!this.treatFunctionsAsVarInScope(jn)&&jn.functions.indexOf(gt)>-1){Ft=!0;break}if(jn.var.push(gt),this.inModule&&jn.flags&fn&&delete this.undefinedExports[gt],jn.flags&dn)break}Ft&&this.raiseRecoverable($t,"Identifier '"+gt+"' has already been declared")},Sn.checkLocalExport=function(gt){this.scopeStack[0].lexical.indexOf(gt.name)===-1&&this.scopeStack[0].var.indexOf(gt.name)===-1&&(this.undefinedExports[gt.name]=gt)},Sn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Sn.currentVarScope=function(){for(var gt=this.scopeStack.length-1;;gt--){var _t=this.scopeStack[gt];if(_t.flags&dn)return _t}},Sn.currentThisScope=function(){for(var gt=this.scopeStack.length-1;;gt--){var _t=this.scopeStack[gt];if(_t.flags&dn&&!(_t.flags&Wt))return _t}};var An=function(_t,$t,Ft){this.type="",this.start=$t,this.end=0,_t.options.locations&&(this.loc=new Pt(_t,Ft)),_t.options.directSourceFile&&(this.sourceFile=_t.options.directSourceFile),_t.options.ranges&&(this.range=[$t,0])},Xn=Ln.prototype;Xn.startNode=function(){return new An(this,this.start,this.startLoc)},Xn.startNodeAt=function(gt,_t){return new An(this,gt,_t)};function Mn(gt,_t,$t,Ft){return gt.type=_t,gt.end=$t,this.options.locations&&(gt.loc.end=Ft),this.options.ranges&&(gt.range[1]=$t),gt}Xn.finishNode=function(gt,_t){return Mn.call(this,gt,_t,this.lastTokEnd,this.lastTokEndLoc)},Xn.finishNodeAt=function(gt,_t,$t,Ft){return Mn.call(this,gt,_t,$t,Ft)};var Dn=function(_t,$t,Ft,Gt,un){this.token=_t,this.isExpr=!!$t,this.preserveSpace=!!Ft,this.override=Gt,this.generator=!!un},ir={b_stat:new Dn("{",!1),b_expr:new Dn("{",!0),b_tmpl:new Dn("${",!1),p_stat:new Dn("(",!1),p_expr:new Dn("(",!0),q_tmpl:new Dn("`",!0,!0,function(gt){return gt.tryReadTemplateToken()}),f_stat:new Dn("function",!1),f_expr:new Dn("function",!0),f_expr_gen:new Dn("function",!0,!1,null,!0),f_gen:new Dn("function",!1,!1,null,!0)},es=Ln.prototype;es.initialContext=function(){return[ir.b_stat]},es.braceIsBlock=function(gt){var _t=this.curContext();return _t===ir.f_expr||_t===ir.f_stat?!0:gt===et.colon&&(_t===ir.b_stat||_t===ir.b_expr)?!_t.isExpr:gt===et._return||gt===et.name&&this.exprAllowed?lt.test(this.input.slice(this.lastTokEnd,this.start)):gt===et._else||gt===et.semi||gt===et.eof||gt===et.parenR||gt===et.arrow?!0:gt===et.braceL?_t===ir.b_stat:gt===et._var||gt===et._const||gt===et.name?!1:!this.exprAllowed},es.inGeneratorContext=function(){for(var gt=this.context.length-1;gt>=1;gt--){var _t=this.context[gt];if(_t.token==="function")return _t.generator}return!1},es.updateContext=function(gt){var _t,$t=this.type;$t.keyword&&gt===et.dot?this.exprAllowed=!1:(_t=$t.updateContext)?_t.call(this,gt):this.exprAllowed=$t.beforeExpr},et.parenR.updateContext=et.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var gt=this.context.pop();gt===ir.b_stat&&this.curContext().token==="function"&&(gt=this.context.pop()),this.exprAllowed=!gt.isExpr},et.braceL.updateContext=function(gt){this.context.push(this.braceIsBlock(gt)?ir.b_stat:ir.b_expr),this.exprAllowed=!0},et.dollarBraceL.updateContext=function(){this.context.push(ir.b_tmpl),this.exprAllowed=!0},et.parenL.updateContext=function(gt){var _t=gt===et._if||gt===et._for||gt===et._with||gt===et._while;this.context.push(_t?ir.p_stat:ir.p_expr),this.exprAllowed=!0},et.incDec.updateContext=function(){},et._function.updateContext=et._class.updateContext=function(gt){gt.beforeExpr&&gt!==et.semi&&gt!==et._else&&!(gt===et._return&&lt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((gt===et.colon||gt===et.braceL)&&this.curContext()===ir.b_stat)?this.context.push(ir.f_expr):this.context.push(ir.f_stat),this.exprAllowed=!1},et.backQuote.updateContext=function(){this.curContext()===ir.q_tmpl?this.context.pop():this.context.push(ir.q_tmpl),this.exprAllowed=!1},et.star.updateContext=function(gt){if(gt===et._function){var _t=this.context.length-1;this.context[_t]===ir.f_expr?this.context[_t]=ir.f_expr_gen:this.context[_t]=ir.f_gen}this.exprAllowed=!0},et.name.updateContext=function(gt){var _t=!1;this.options.ecmaVersion>=6&&gt!==et.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(_t=!0),this.exprAllowed=_t};var Wr="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",xs=Wr+" Extended_Pictographic",$s=xs,Ls={9:Wr,10:xs,11:$s},Rs="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ys="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Is=Ys+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",qs=Is+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",zs={9:Ys,10:Is,11:qs},ss={};function Qs(gt){var _t=ss[gt]={binary:zt(Ls[gt]+" "+Rs),nonBinary:{General_Category:zt(Rs),Script:zt(zs[gt])}};_t.nonBinary.Script_Extensions=_t.nonBinary.Script,_t.nonBinary.gc=_t.nonBinary.General_Category,_t.nonBinary.sc=_t.nonBinary.Script,_t.nonBinary.scx=_t.nonBinary.Script_Extensions}Qs(9),Qs(10),Qs(11);var Gn=Ln.prototype,Xr=function(_t){this.parser=_t,this.validFlags="gim"+(_t.options.ecmaVersion>=6?"uy":"")+(_t.options.ecmaVersion>=9?"s":""),this.unicodeProperties=ss[_t.options.ecmaVersion>=11?11:_t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Xr.prototype.reset=function(_t,$t,Ft){var Gt=Ft.indexOf("u")!==-1;this.start=_t|0,this.source=$t+"",this.flags=Ft,this.switchU=Gt&&this.parser.options.ecmaVersion>=6,this.switchN=Gt&&this.parser.options.ecmaVersion>=9},Xr.prototype.raise=function(_t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+_t)},Xr.prototype.at=function(_t){var $t=this.source,Ft=$t.length;if(_t>=Ft)return-1;var Gt=$t.charCodeAt(_t);if(!this.switchU||Gt<=55295||Gt>=57344||_t+1>=Ft)return Gt;var un=$t.charCodeAt(_t+1);return un>=56320&&un<=57343?(Gt<<10)+un-56613888:Gt},Xr.prototype.nextIndex=function(_t){var $t=this.source,Ft=$t.length;if(_t>=Ft)return Ft;var Gt=$t.charCodeAt(_t),un;return!this.switchU||Gt<=55295||Gt>=57344||_t+1>=Ft||(un=$t.charCodeAt(_t+1))<56320||un>57343?_t+1:_t+2},Xr.prototype.current=function(){return this.at(this.pos)},Xr.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Xr.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Xr.prototype.eat=function(_t){return this.current()===_t?(this.advance(),!0):!1};function Ms(gt){return gt<=65535?String.fromCharCode(gt):(gt-=65536,String.fromCharCode((gt>>10)+55296,(gt&1023)+56320))}Gn.validateRegExpFlags=function(gt){for(var _t=gt.validFlags,$t=gt.flags,Ft=0;Ft<$t.length;Ft++){var Gt=$t.charAt(Ft);_t.indexOf(Gt)===-1&&this.raise(gt.start,"Invalid regular expression flag"),$t.indexOf(Gt,Ft+1)>-1&&this.raise(gt.start,"Duplicate regular expression flag")}},Gn.validateRegExpPattern=function(gt){this.regexp_pattern(gt),!gt.switchN&&this.options.ecmaVersion>=9&&gt.groupNames.length>0&&(gt.switchN=!0,this.regexp_pattern(gt))},Gn.regexp_pattern=function(gt){gt.pos=0,gt.lastIntValue=0,gt.lastStringValue="",gt.lastAssertionIsQuantifiable=!1,gt.numCapturingParens=0,gt.maxBackReference=0,gt.groupNames.length=0,gt.backReferenceNames.length=0,this.regexp_disjunction(gt),gt.pos!==gt.source.length&&(gt.eat(41)&&gt.raise("Unmatched ')'"),(gt.eat(93)||gt.eat(125))&&gt.raise("Lone quantifier brackets")),gt.maxBackReference>gt.numCapturingParens&&gt.raise("Invalid escape");for(var _t=0,$t=gt.backReferenceNames;_t<$t.length;_t+=1){var Ft=$t[_t];gt.groupNames.indexOf(Ft)===-1&&gt.raise("Invalid named capture referenced")}},Gn.regexp_disjunction=function(gt){for(this.regexp_alternative(gt);gt.eat(124);)this.regexp_alternative(gt);this.regexp_eatQuantifier(gt,!0)&&gt.raise("Nothing to repeat"),gt.eat(123)&&gt.raise("Lone quantifier brackets")},Gn.regexp_alternative=function(gt){for(;gt.pos<gt.source.length&&this.regexp_eatTerm(gt););},Gn.regexp_eatTerm=function(gt){return this.regexp_eatAssertion(gt)?(gt.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(gt)&&gt.switchU&&gt.raise("Invalid quantifier"),!0):(gt.switchU?this.regexp_eatAtom(gt):this.regexp_eatExtendedAtom(gt))?(this.regexp_eatQuantifier(gt),!0):!1},Gn.regexp_eatAssertion=function(gt){var _t=gt.pos;if(gt.lastAssertionIsQuantifiable=!1,gt.eat(94)||gt.eat(36))return!0;if(gt.eat(92)){if(gt.eat(66)||gt.eat(98))return!0;gt.pos=_t}if(gt.eat(40)&&gt.eat(63)){var $t=!1;if(this.options.ecmaVersion>=9&&($t=gt.eat(60)),gt.eat(61)||gt.eat(33))return this.regexp_disjunction(gt),gt.eat(41)||gt.raise("Unterminated group"),gt.lastAssertionIsQuantifiable=!$t,!0}return gt.pos=_t,!1},Gn.regexp_eatQuantifier=function(gt,_t){return _t===void 0&&(_t=!1),this.regexp_eatQuantifierPrefix(gt,_t)?(gt.eat(63),!0):!1},Gn.regexp_eatQuantifierPrefix=function(gt,_t){return gt.eat(42)||gt.eat(43)||gt.eat(63)||this.regexp_eatBracedQuantifier(gt,_t)},Gn.regexp_eatBracedQuantifier=function(gt,_t){var $t=gt.pos;if(gt.eat(123)){var Ft=0,Gt=-1;if(this.regexp_eatDecimalDigits(gt)&&(Ft=gt.lastIntValue,gt.eat(44)&&this.regexp_eatDecimalDigits(gt)&&(Gt=gt.lastIntValue),gt.eat(125)))return Gt!==-1&&Gt<Ft&&!_t&&gt.raise("numbers out of order in {} quantifier"),!0;gt.switchU&&!_t&&gt.raise("Incomplete quantifier"),gt.pos=$t}return!1},Gn.regexp_eatAtom=function(gt){return this.regexp_eatPatternCharacters(gt)||gt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(gt)||this.regexp_eatCharacterClass(gt)||this.regexp_eatUncapturingGroup(gt)||this.regexp_eatCapturingGroup(gt)},Gn.regexp_eatReverseSolidusAtomEscape=function(gt){var _t=gt.pos;if(gt.eat(92)){if(this.regexp_eatAtomEscape(gt))return!0;gt.pos=_t}return!1},Gn.regexp_eatUncapturingGroup=function(gt){var _t=gt.pos;if(gt.eat(40)){if(gt.eat(63)&&gt.eat(58)){if(this.regexp_disjunction(gt),gt.eat(41))return!0;gt.raise("Unterminated group")}gt.pos=_t}return!1},Gn.regexp_eatCapturingGroup=function(gt){if(gt.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(gt):gt.current()===63&&gt.raise("Invalid group"),this.regexp_disjunction(gt),gt.eat(41))return gt.numCapturingParens+=1,!0;gt.raise("Unterminated group")}return!1},Gn.regexp_eatExtendedAtom=function(gt){return gt.eat(46)||this.regexp_eatReverseSolidusAtomEscape(gt)||this.regexp_eatCharacterClass(gt)||this.regexp_eatUncapturingGroup(gt)||this.regexp_eatCapturingGroup(gt)||this.regexp_eatInvalidBracedQuantifier(gt)||this.regexp_eatExtendedPatternCharacter(gt)},Gn.regexp_eatInvalidBracedQuantifier=function(gt){return this.regexp_eatBracedQuantifier(gt,!0)&&gt.raise("Nothing to repeat"),!1},Gn.regexp_eatSyntaxCharacter=function(gt){var _t=gt.current();return Zs(_t)?(gt.lastIntValue=_t,gt.advance(),!0):!1};function Zs(gt){return gt===36||gt>=40&&gt<=43||gt===46||gt===63||gt>=91&&gt<=94||gt>=123&&gt<=125}Gn.regexp_eatPatternCharacters=function(gt){for(var _t=gt.pos,$t=0;($t=gt.current())!==-1&&!Zs($t);)gt.advance();return gt.pos!==_t},Gn.regexp_eatExtendedPatternCharacter=function(gt){var _t=gt.current();return _t!==-1&&_t!==36&&!(_t>=40&&_t<=43)&&_t!==46&&_t!==63&&_t!==91&&_t!==94&&_t!==124?(gt.advance(),!0):!1},Gn.regexp_groupSpecifier=function(gt){if(gt.eat(63)){if(this.regexp_eatGroupName(gt)){gt.groupNames.indexOf(gt.lastStringValue)!==-1&&gt.raise("Duplicate capture group name"),gt.groupNames.push(gt.lastStringValue);return}gt.raise("Invalid group")}},Gn.regexp_eatGroupName=function(gt){if(gt.lastStringValue="",gt.eat(60)){if(this.regexp_eatRegExpIdentifierName(gt)&&gt.eat(62))return!0;gt.raise("Invalid capture group name")}return!1},Gn.regexp_eatRegExpIdentifierName=function(gt){if(gt.lastStringValue="",this.regexp_eatRegExpIdentifierStart(gt)){for(gt.lastStringValue+=Ms(gt.lastIntValue);this.regexp_eatRegExpIdentifierPart(gt);)gt.lastStringValue+=Ms(gt.lastIntValue);return!0}return!1},Gn.regexp_eatRegExpIdentifierStart=function(gt){var _t=gt.pos,$t=gt.current();return gt.advance(),$t===92&&this.regexp_eatRegExpUnicodeEscapeSequence(gt)&&($t=gt.lastIntValue),Kr($t)?(gt.lastIntValue=$t,!0):(gt.pos=_t,!1)};function Kr(gt){return ht(gt,!0)||gt===36||gt===95}Gn.regexp_eatRegExpIdentifierPart=function(gt){var _t=gt.pos,$t=gt.current();return gt.advance(),$t===92&&this.regexp_eatRegExpUnicodeEscapeSequence(gt)&&($t=gt.lastIntValue),xo($t)?(gt.lastIntValue=$t,!0):(gt.pos=_t,!1)};function xo(gt){return _e(gt,!0)||gt===36||gt===95||gt===8204||gt===8205}Gn.regexp_eatAtomEscape=function(gt){return this.regexp_eatBackReference(gt)||this.regexp_eatCharacterClassEscape(gt)||this.regexp_eatCharacterEscape(gt)||gt.switchN&&this.regexp_eatKGroupName(gt)?!0:(gt.switchU&&(gt.current()===99&&gt.raise("Invalid unicode escape"),gt.raise("Invalid escape")),!1)},Gn.regexp_eatBackReference=function(gt){var _t=gt.pos;if(this.regexp_eatDecimalEscape(gt)){var $t=gt.lastIntValue;if(gt.switchU)return $t>gt.maxBackReference&&(gt.maxBackReference=$t),!0;if($t<=gt.numCapturingParens)return!0;gt.pos=_t}return!1},Gn.regexp_eatKGroupName=function(gt){if(gt.eat(107)){if(this.regexp_eatGroupName(gt))return gt.backReferenceNames.push(gt.lastStringValue),!0;gt.raise("Invalid named reference")}return!1},Gn.regexp_eatCharacterEscape=function(gt){return this.regexp_eatControlEscape(gt)||this.regexp_eatCControlLetter(gt)||this.regexp_eatZero(gt)||this.regexp_eatHexEscapeSequence(gt)||this.regexp_eatRegExpUnicodeEscapeSequence(gt)||!gt.switchU&&this.regexp_eatLegacyOctalEscapeSequence(gt)||this.regexp_eatIdentityEscape(gt)},Gn.regexp_eatCControlLetter=function(gt){var _t=gt.pos;if(gt.eat(99)){if(this.regexp_eatControlLetter(gt))return!0;gt.pos=_t}return!1},Gn.regexp_eatZero=function(gt){return gt.current()===48&&!fs(gt.lookahead())?(gt.lastIntValue=0,gt.advance(),!0):!1},Gn.regexp_eatControlEscape=function(gt){var _t=gt.current();return _t===116?(gt.lastIntValue=9,gt.advance(),!0):_t===110?(gt.lastIntValue=10,gt.advance(),!0):_t===118?(gt.lastIntValue=11,gt.advance(),!0):_t===102?(gt.lastIntValue=12,gt.advance(),!0):_t===114?(gt.lastIntValue=13,gt.advance(),!0):!1},Gn.regexp_eatControlLetter=function(gt){var _t=gt.current();return ao(_t)?(gt.lastIntValue=_t%32,gt.advance(),!0):!1};function ao(gt){return gt>=65&&gt<=90||gt>=97&&gt<=122}Gn.regexp_eatRegExpUnicodeEscapeSequence=function(gt){var _t=gt.pos;if(gt.eat(117)){if(this.regexp_eatFixedHexDigits(gt,4)){var $t=gt.lastIntValue;if(gt.switchU&&$t>=55296&&$t<=56319){var Ft=gt.pos;if(gt.eat(92)&&gt.eat(117)&&this.regexp_eatFixedHexDigits(gt,4)){var Gt=gt.lastIntValue;if(Gt>=56320&&Gt<=57343)return gt.lastIntValue=($t-55296)*1024+(Gt-56320)+65536,!0}gt.pos=Ft,gt.lastIntValue=$t}return!0}if(gt.switchU&&gt.eat(123)&&this.regexp_eatHexDigits(gt)&&gt.eat(125)&&oo(gt.lastIntValue))return!0;gt.switchU&&gt.raise("Invalid unicode escape"),gt.pos=_t}return!1};function oo(gt){return gt>=0&&gt<=1114111}Gn.regexp_eatIdentityEscape=function(gt){if(gt.switchU)return this.regexp_eatSyntaxCharacter(gt)?!0:gt.eat(47)?(gt.lastIntValue=47,!0):!1;var _t=gt.current();return _t!==99&&(!gt.switchN||_t!==107)?(gt.lastIntValue=_t,gt.advance(),!0):!1},Gn.regexp_eatDecimalEscape=function(gt){gt.lastIntValue=0;var _t=gt.current();if(_t>=49&&_t<=57){do gt.lastIntValue=10*gt.lastIntValue+(_t-48),gt.advance();while((_t=gt.current())>=48&&_t<=57);return!0}return!1},Gn.regexp_eatCharacterClassEscape=function(gt){var _t=gt.current();if(bo(_t))return gt.lastIntValue=-1,gt.advance(),!0;if(gt.switchU&&this.options.ecmaVersion>=9&&(_t===80||_t===112)){if(gt.lastIntValue=-1,gt.advance(),gt.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(gt)&&gt.eat(125))return!0;gt.raise("Invalid property name")}return!1};function bo(gt){return gt===100||gt===68||gt===115||gt===83||gt===119||gt===87}Gn.regexp_eatUnicodePropertyValueExpression=function(gt){var _t=gt.pos;if(this.regexp_eatUnicodePropertyName(gt)&&gt.eat(61)){var $t=gt.lastStringValue;if(this.regexp_eatUnicodePropertyValue(gt)){var Ft=gt.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(gt,$t,Ft),!0}}if(gt.pos=_t,this.regexp_eatLoneUnicodePropertyNameOrValue(gt)){var Gt=gt.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(gt,Gt),!0}return!1},Gn.regexp_validateUnicodePropertyNameAndValue=function(gt,_t,$t){Ct(gt.unicodeProperties.nonBinary,_t)||gt.raise("Invalid property name"),gt.unicodeProperties.nonBinary[_t].test($t)||gt.raise("Invalid property value")},Gn.regexp_validateUnicodePropertyNameOrValue=function(gt,_t){gt.unicodeProperties.binary.test(_t)||gt.raise("Invalid property name")},Gn.regexp_eatUnicodePropertyName=function(gt){var _t=0;for(gt.lastStringValue="";Us(_t=gt.current());)gt.lastStringValue+=Ms(_t),gt.advance();return gt.lastStringValue!==""};function Us(gt){return ao(gt)||gt===95}Gn.regexp_eatUnicodePropertyValue=function(gt){var _t=0;for(gt.lastStringValue="";as(_t=gt.current());)gt.lastStringValue+=Ms(_t),gt.advance();return gt.lastStringValue!==""};function as(gt){return Us(gt)||fs(gt)}Gn.regexp_eatLoneUnicodePropertyNameOrValue=function(gt){return this.regexp_eatUnicodePropertyValue(gt)},Gn.regexp_eatCharacterClass=function(gt){if(gt.eat(91)){if(gt.eat(94),this.regexp_classRanges(gt),gt.eat(93))return!0;gt.raise("Unterminated character class")}return!1},Gn.regexp_classRanges=function(gt){for(;this.regexp_eatClassAtom(gt);){var _t=gt.lastIntValue;if(gt.eat(45)&&this.regexp_eatClassAtom(gt)){var $t=gt.lastIntValue;gt.switchU&&(_t===-1||$t===-1)&&gt.raise("Invalid character class"),_t!==-1&&$t!==-1&&_t>$t&&gt.raise("Range out of order in character class")}}},Gn.regexp_eatClassAtom=function(gt){var _t=gt.pos;if(gt.eat(92)){if(this.regexp_eatClassEscape(gt))return!0;if(gt.switchU){var $t=gt.current();($t===99||Js($t))&&gt.raise("Invalid class escape"),gt.raise("Invalid escape")}gt.pos=_t}var Ft=gt.current();return Ft!==93?(gt.lastIntValue=Ft,gt.advance(),!0):!1},Gn.regexp_eatClassEscape=function(gt){var _t=gt.pos;if(gt.eat(98))return gt.lastIntValue=8,!0;if(gt.switchU&&gt.eat(45))return gt.lastIntValue=45,!0;if(!gt.switchU&&gt.eat(99)){if(this.regexp_eatClassControlLetter(gt))return!0;gt.pos=_t}return this.regexp_eatCharacterClassEscape(gt)||this.regexp_eatCharacterEscape(gt)},Gn.regexp_eatClassControlLetter=function(gt){var _t=gt.current();return fs(_t)||_t===95?(gt.lastIntValue=_t%32,gt.advance(),!0):!1},Gn.regexp_eatHexEscapeSequence=function(gt){var _t=gt.pos;if(gt.eat(120)){if(this.regexp_eatFixedHexDigits(gt,2))return!0;gt.switchU&&gt.raise("Invalid escape"),gt.pos=_t}return!1},Gn.regexp_eatDecimalDigits=function(gt){var _t=gt.pos,$t=0;for(gt.lastIntValue=0;fs($t=gt.current());)gt.lastIntValue=10*gt.lastIntValue+($t-48),gt.advance();return gt.pos!==_t};function fs(gt){return gt>=48&&gt<=57}Gn.regexp_eatHexDigits=function(gt){var _t=gt.pos,$t=0;for(gt.lastIntValue=0;Hn($t=gt.current());)gt.lastIntValue=16*gt.lastIntValue+Br($t),gt.advance();return gt.pos!==_t};function Hn(gt){return gt>=48&&gt<=57||gt>=65&&gt<=70||gt>=97&&gt<=102}function Br(gt){return gt>=65&&gt<=70?10+(gt-65):gt>=97&&gt<=102?10+(gt-97):gt-48}Gn.regexp_eatLegacyOctalEscapeSequence=function(gt){if(this.regexp_eatOctalDigit(gt)){var _t=gt.lastIntValue;if(this.regexp_eatOctalDigit(gt)){var $t=gt.lastIntValue;_t<=3&&this.regexp_eatOctalDigit(gt)?gt.lastIntValue=_t*64+$t*8+gt.lastIntValue:gt.lastIntValue=_t*8+$t}else gt.lastIntValue=_t;return!0}return!1},Gn.regexp_eatOctalDigit=function(gt){var _t=gt.current();return Js(_t)?(gt.lastIntValue=_t-48,gt.advance(),!0):(gt.lastIntValue=0,!1)};function Js(gt){return gt>=48&&gt<=55}Gn.regexp_eatFixedHexDigits=function(gt,_t){var $t=gt.pos;gt.lastIntValue=0;for(var Ft=0;Ft<_t;++Ft){var Gt=gt.current();if(!Hn(Gt))return gt.pos=$t,!1;gt.lastIntValue=16*gt.lastIntValue+Br(Gt),gt.advance()}return!0};var Ws=function(_t){this.type=_t.type,this.value=_t.value,this.start=_t.start,this.end=_t.end,_t.options.locations&&(this.loc=new Pt(_t,_t.startLoc,_t.endLoc)),_t.options.ranges&&(this.range=[_t.start,_t.end])},rr=Ln.prototype;rr.next=function(gt){!gt&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ws(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},rr.getToken=function(){return this.next(),new Ws(this)},typeof Symbol<"u"&&(rr[Symbol.iterator]=function(){var gt=this;return{next:function(){var _t=gt.getToken();return{done:_t.type===et.eof,value:_t}}}}),rr.curContext=function(){return this.context[this.context.length-1]},rr.nextToken=function(){var gt=this.curContext();if((!gt||!gt.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(et.eof);if(gt.override)return gt.override(this);this.readToken(this.fullCharCodeAtPos())},rr.readToken=function(gt){return ht(gt,this.options.ecmaVersion>=6)||gt===92?this.readWord():this.getTokenFromCode(gt)},rr.fullCharCodeAtPos=function(){var gt=this.input.charCodeAt(this.pos);if(gt<=55295||gt>=57344)return gt;var _t=this.input.charCodeAt(this.pos+1);return(gt<<10)+_t-56613888},rr.skipBlockComment=function(){var gt=this.options.onComment&&this.curPosition(),_t=this.pos,$t=this.input.indexOf("*/",this.pos+=2);if($t===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=$t+2,this.options.locations){mt.lastIndex=_t;for(var Ft;(Ft=mt.exec(this.input))&&Ft.index<this.pos;)++this.curLine,this.lineStart=Ft.index+Ft[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(_t+2,$t),_t,this.pos,gt,this.curPosition())},rr.skipLineComment=function(gt){for(var _t=this.pos,$t=this.options.onComment&&this.curPosition(),Ft=this.input.charCodeAt(this.pos+=gt);this.pos<this.input.length&&!xt(Ft);)Ft=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(_t+gt,this.pos),_t,this.pos,$t,this.curPosition())},rr.skipSpace=function(){e:for(;this.pos<this.input.length;){var gt=this.input.charCodeAt(this.pos);switch(gt){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(gt>8&&gt<14||gt>=5760&&wt.test(String.fromCharCode(gt)))++this.pos;else break e}}},rr.finishToken=function(gt,_t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var $t=this.type;this.type=gt,this.value=_t,this.updateContext($t)},rr.readToken_dot=function(){var gt=this.input.charCodeAt(this.pos+1);if(gt>=48&&gt<=57)return this.readNumber(!0);var _t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&gt===46&&_t===46?(this.pos+=3,this.finishToken(et.ellipsis)):(++this.pos,this.finishToken(et.dot))},rr.readToken_slash=function(){var gt=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):gt===61?this.finishOp(et.assign,2):this.finishOp(et.slash,1)},rr.readToken_mult_modulo_exp=function(gt){var _t=this.input.charCodeAt(this.pos+1),$t=1,Ft=gt===42?et.star:et.modulo;return this.options.ecmaVersion>=7&&gt===42&&_t===42&&(++$t,Ft=et.starstar,_t=this.input.charCodeAt(this.pos+2)),_t===61?this.finishOp(et.assign,$t+1):this.finishOp(Ft,$t)},rr.readToken_pipe_amp=function(gt){var _t=this.input.charCodeAt(this.pos+1);return _t===gt?this.finishOp(gt===124?et.logicalOR:et.logicalAND,2):_t===61?this.finishOp(et.assign,2):this.finishOp(gt===124?et.bitwiseOR:et.bitwiseAND,1)},rr.readToken_caret=function(){var gt=this.input.charCodeAt(this.pos+1);return gt===61?this.finishOp(et.assign,2):this.finishOp(et.bitwiseXOR,1)},rr.readToken_plus_min=function(gt){var _t=this.input.charCodeAt(this.pos+1);return _t===gt?_t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(et.incDec,2):_t===61?this.finishOp(et.assign,2):this.finishOp(et.plusMin,1)},rr.readToken_lt_gt=function(gt){var _t=this.input.charCodeAt(this.pos+1),$t=1;return _t===gt?($t=gt===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+$t)===61?this.finishOp(et.assign,$t+1):this.finishOp(et.bitShift,$t)):_t===33&&gt===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(_t===61&&($t=2),this.finishOp(et.relational,$t))},rr.readToken_eq_excl=function(gt){var _t=this.input.charCodeAt(this.pos+1);return _t===61?this.finishOp(et.equality,this.input.charCodeAt(this.pos+2)===61?3:2):gt===61&&_t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(et.arrow)):this.finishOp(gt===61?et.eq:et.prefix,1)},rr.getTokenFromCode=function(gt){switch(gt){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(et.parenL);case 41:return++this.pos,this.finishToken(et.parenR);case 59:return++this.pos,this.finishToken(et.semi);case 44:return++this.pos,this.finishToken(et.comma);case 91:return++this.pos,this.finishToken(et.bracketL);case 93:return++this.pos,this.finishToken(et.bracketR);case 123:return++this.pos,this.finishToken(et.braceL);case 125:return++this.pos,this.finishToken(et.braceR);case 58:return++this.pos,this.finishToken(et.colon);case 63:return++this.pos,this.finishToken(et.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(et.backQuote);case 48:var _t=this.input.charCodeAt(this.pos+1);if(_t===120||_t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(_t===111||_t===79)return this.readRadixNumber(8);if(_t===98||_t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(gt);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(gt);case 124:case 38:return this.readToken_pipe_amp(gt);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(gt);case 60:case 62:return this.readToken_lt_gt(gt);case 61:case 33:return this.readToken_eq_excl(gt);case 126:return this.finishOp(et.prefix,1)}this.raise(this.pos,"Unexpected character '"+Ds(gt)+"'")},rr.finishOp=function(gt,_t){var $t=this.input.slice(this.pos,this.pos+_t);return this.pos+=_t,this.finishToken(gt,$t)},rr.readRegexp=function(){for(var gt,_t,$t=this.pos;;){this.pos>=this.input.length&&this.raise($t,"Unterminated regular expression");var Ft=this.input.charAt(this.pos);if(lt.test(Ft)&&this.raise($t,"Unterminated regular expression"),gt)gt=!1;else{if(Ft==="[")_t=!0;else if(Ft==="]"&&_t)_t=!1;else if(Ft==="/"&&!_t)break;gt=Ft==="\\"}++this.pos}var Gt=this.input.slice($t,this.pos);++this.pos;var un=this.pos,mn=this.readWord1();this.containsEsc&&this.unexpected(un);var Rn=this.regexpState||(this.regexpState=new Xr(this));Rn.reset($t,Gt,mn),this.validateRegExpFlags(Rn),this.validateRegExpPattern(Rn);var jn=null;try{jn=new RegExp(Gt,mn)}catch{}return this.finishToken(et.regexp,{pattern:Gt,flags:mn,value:jn})},rr.readInt=function(gt,_t){for(var $t=this.pos,Ft=0,Gt=0,un=_t==null?1/0:_t;Gt<un;++Gt){var mn=this.input.charCodeAt(this.pos),Rn=void 0;if(mn>=97?Rn=mn-97+10:mn>=65?Rn=mn-65+10:mn>=48&&mn<=57?Rn=mn-48:Rn=1/0,Rn>=gt)break;++this.pos,Ft=Ft*gt+Rn}return this.pos===$t||_t!=null&&this.pos-$t!==_t?null:Ft},rr.readRadixNumber=function(gt){var _t=this.pos;this.pos+=2;var $t=this.readInt(gt);return $t==null&&this.raise(this.start+2,"Expected number in radix "+gt),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?($t=typeof BigInt<"u"?BigInt(this.input.slice(_t,this.pos)):null,++this.pos):ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(et.num,$t)},rr.readNumber=function(gt){var _t=this.pos;!gt&&this.readInt(10)===null&&this.raise(_t,"Invalid number");var $t=this.pos-_t>=2&&this.input.charCodeAt(_t)===48;$t&&this.strict&&this.raise(_t,"Invalid number");var Ft=this.input.charCodeAt(this.pos);if(!$t&&!gt&&this.options.ecmaVersion>=11&&Ft===110){var Gt=this.input.slice(_t,this.pos),un=typeof BigInt<"u"?BigInt(Gt):null;return++this.pos,ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(et.num,un)}$t&&/[89]/.test(this.input.slice(_t,this.pos))&&($t=!1),Ft===46&&!$t&&(++this.pos,this.readInt(10),Ft=this.input.charCodeAt(this.pos)),(Ft===69||Ft===101)&&!$t&&(Ft=this.input.charCodeAt(++this.pos),(Ft===43||Ft===45)&&++this.pos,this.readInt(10)===null&&this.raise(_t,"Invalid number")),ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var mn=this.input.slice(_t,this.pos),Rn=$t?parseInt(mn,8):parseFloat(mn);return this.finishToken(et.num,Rn)},rr.readCodePoint=function(){var gt=this.input.charCodeAt(this.pos),_t;if(gt===123){this.options.ecmaVersion<6&&this.unexpected();var $t=++this.pos;_t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,_t>1114111&&this.invalidStringToken($t,"Code point out of bounds")}else _t=this.readHexChar(4);return _t};function Ds(gt){return gt<=65535?String.fromCharCode(gt):(gt-=65536,String.fromCharCode((gt>>10)+55296,(gt&1023)+56320))}rr.readString=function(gt){for(var _t="",$t=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Ft=this.input.charCodeAt(this.pos);if(Ft===gt)break;Ft===92?(_t+=this.input.slice($t,this.pos),_t+=this.readEscapedChar(!1),$t=this.pos):(xt(Ft,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return _t+=this.input.slice($t,this.pos++),this.finishToken(et.string,_t)};var na={};rr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(gt){if(gt===na)this.readInvalidTemplateToken();else throw gt}this.inTemplateElement=!1},rr.invalidStringToken=function(gt,_t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw na;this.raise(gt,_t)},rr.readTmplToken=function(){for(var gt="",_t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var $t=this.input.charCodeAt(this.pos);if($t===96||$t===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===et.template||this.type===et.invalidTemplate)?$t===36?(this.pos+=2,this.finishToken(et.dollarBraceL)):(++this.pos,this.finishToken(et.backQuote)):(gt+=this.input.slice(_t,this.pos),this.finishToken(et.template,gt));if($t===92)gt+=this.input.slice(_t,this.pos),gt+=this.readEscapedChar(!0),_t=this.pos;else if(xt($t)){switch(gt+=this.input.slice(_t,this.pos),++this.pos,$t){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:gt+=`
`;break;default:gt+=String.fromCharCode($t);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),_t=this.pos}else++this.pos}},rr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(et.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},rr.readEscapedChar=function(gt){var _t=this.input.charCodeAt(++this.pos);switch(++this.pos,_t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ds(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(gt){var $t=this.pos-1;return this.invalidStringToken($t,"Invalid escape sequence in template string"),null}default:if(_t>=48&&_t<=55){var Ft=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Gt=parseInt(Ft,8);return Gt>255&&(Ft=Ft.slice(0,-1),Gt=parseInt(Ft,8)),this.pos+=Ft.length-1,_t=this.input.charCodeAt(this.pos),(Ft!=="0"||_t===56||_t===57)&&(this.strict||gt)&&this.invalidStringToken(this.pos-1-Ft.length,gt?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Gt)}return xt(_t)?"":String.fromCharCode(_t)}},rr.readHexChar=function(gt){var _t=this.pos,$t=this.readInt(16,gt);return $t===null&&this.invalidStringToken(_t,"Bad character escape sequence"),$t},rr.readWord1=function(){this.containsEsc=!1;for(var gt="",_t=!0,$t=this.pos,Ft=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Gt=this.fullCharCodeAtPos();if(_e(Gt,Ft))this.pos+=Gt<=65535?1:2;else if(Gt===92){this.containsEsc=!0,gt+=this.input.slice($t,this.pos);var un=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var mn=this.readCodePoint();(_t?ht:_e)(mn,Ft)||this.invalidStringToken(un,"Invalid Unicode escape"),gt+=Ds(mn),$t=this.pos}else break;_t=!1}return gt+this.input.slice($t,this.pos)},rr.readWord=function(){var gt=this.readWord1(),_t=et.name;return this.keywords.test(gt)&&(_t=vt[gt]),this.finishToken(_t,gt)};var Yr="7.1.0";Ln.acorn={Parser:Ln,version:Yr,defaultOptions:jt,Position:Xt,SourceLocation:Pt,getLineInfo:Mt,Node:An,TokenType:ut,tokTypes:et,keywordTypes:vt,TokContext:Dn,tokContexts:ir,isIdentifierChar:_e,isIdentifierStart:ht,Token:Ws,isNewLine:xt,lineBreak:lt,lineBreakG:mt,nonASCIIwhitespace:wt};function lo(gt,_t){return Ln.parse(gt,_t)}function wo(gt,_t,$t){return Ln.parseExpressionAt(gt,_t,$t)}function Gs(gt,_t){return Ln.tokenizer(gt,_t)}$.Node=An,$.Parser=Ln,$.Position=Xt,$.SourceLocation=Pt,$.TokContext=Dn,$.Token=Ws,$.TokenType=ut,$.defaultOptions=jt,$.getLineInfo=Mt,$.isIdentifierChar=_e,$.isIdentifierStart=ht,$.isNewLine=xt,$.keywordTypes=vt,$.lineBreak=lt,$.lineBreakG=mt,$.nonASCIIwhitespace=wt,$.parse=lo,$.parseExpressionAt=wo,$.tokContexts=ir,$.tokTypes=et,$.tokenizer=Gs,$.version=Yr,Object.defineProperty($,"__esModule",{value:!0})})},{}],2:[function(i,d,ft){},{}],3:[function(i,d,ft){function $(c,a={}){const{contextName:o="gl",throwGetError:h,useTrackablePrimitives:g,readPixelsFile:tt,recording:at=[],variables:ht={},onReadPixels:_e,onUnrecognizedArgumentLookup:ut}=a,ct=new Proxy(c,{get:lt}),rt=[],st={};let vt=0,ot="",et;return ct;function lt(Mt,jt){switch(jt){case"addComment":return Ct;case"checkThrowError":return Rt;case"getReadPixelsVariableName":return et;case"insertVariable":return wt;case"reset":return xt;case"setIndent":return Tt;case"toString":return mt;case"getContextVariableName":return Pt}return typeof c[jt]=="function"?function(){switch(jt){case"getError":return h?at.push(`${ot}if (${o}.getError() !== ${o}.NONE) throw new Error('error');`):at.push(`${ot}${o}.getError();`),c.getError();case"getExtension":{const dn=`${o}Variables${rt.length}`;at.push(`${ot}const ${dn} = ${o}.getExtension('${arguments[0]}');`);const cn=c.getExtension(arguments[0]);if(cn&&typeof cn=="object"){const Ut=it(cn,{getEntity:St,useTrackablePrimitives:g,recording:at,contextName:dn,contextVariables:rt,variables:ht,indent:ot,onUnrecognizedArgumentLookup:ut});return rt.push(Ut),Ut}else rt.push(null);return cn}case"readPixels":const Yt=rt.indexOf(arguments[6]);let fn;if(Yt===-1){const dn=Xt(arguments[6]);dn?(fn=dn,at.push(`${ot}${dn}`)):(fn=`${o}Variable${rt.length}`,rt.push(arguments[6]),at.push(`${ot}const ${fn} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else fn=`${o}Variable${Yt}`;et=fn;const an=[arguments[0],arguments[1],arguments[2],arguments[3],St(arguments[4]),St(arguments[5]),fn];return at.push(`${ot}${o}.readPixels(${an.join(", ")});`),tt&&Vt(arguments[2],arguments[3]),_e&&_e(fn,an),c.readPixels.apply(c,arguments);case"drawBuffers":return at.push(`${ot}${o}.drawBuffers([${nt(arguments[0],{contextName:o,contextVariables:rt,getEntity:St,addVariable:kt,variables:ht,onUnrecognizedArgumentLookup:ut})}]);`),c.drawBuffers(arguments[0])}let Zt=c[jt].apply(c,arguments);switch(typeof Zt){case"undefined":at.push(`${ot}${zt(jt,arguments)};`);return;case"number":case"boolean":if(g&&rt.indexOf(b(Zt))===-1){at.push(`${ot}const ${o}Variable${rt.length} = ${zt(jt,arguments)};`),rt.push(Zt=b(Zt));break}default:Zt===null?at.push(`${zt(jt,arguments)};`):at.push(`${ot}const ${o}Variable${rt.length} = ${zt(jt,arguments)};`),rt.push(Zt)}return Zt}:(st[c[jt]]=jt,c[jt])}function mt(){return at.join(`
`)}function xt(){for(;at.length>0;)at.pop()}function wt(Mt,jt){ht[Mt]=jt}function St(Mt){const jt=st[Mt];return jt?o+"."+jt:Mt}function Tt(Mt){ot=" ".repeat(Mt)}function kt(Mt,jt){const Zt=`${o}Variable${rt.length}`;return at.push(`${ot}const ${Zt} = ${jt};`),rt.push(Mt),Zt}function Vt(Mt,jt){const Zt=`${o}Variable${rt.length}`,Yt=`imageDatum${vt}`;at.push(`${ot}let ${Yt} = ["P3\\n# ${tt}.ppm\\n", ${Mt}, ' ', ${jt}, "\\n255\\n"].join("");`),at.push(`${ot}for (let i = 0; i < ${Yt}.length; i += 4) {`),at.push(`${ot}  ${Yt} += ${Zt}[i] + ' ' + ${Zt}[i + 1] + ' ' + ${Zt}[i + 2] + ' ';`),at.push(`${ot}}`),at.push(`${ot}if (typeof require !== "undefined") {`),at.push(`${ot}  require('fs').writeFileSync('./${tt}.ppm', ${Yt});`),at.push(`${ot}}`),vt++}function Ct(Mt){at.push(`${ot}// ${Mt}`)}function Rt(){at.push(`${ot}(() => {
${ot}const error = ${o}.getError();
${ot}if (error !== ${o}.NONE) {
${ot}  const names = Object.getOwnPropertyNames(gl);
${ot}  for (let i = 0; i < names.length; i++) {
${ot}    const name = names[i];
${ot}    if (${o}[name] === error) {
${ot}      throw new Error('${o} threw ' + name);
${ot}    }
${ot}  }
${ot}}
${ot}})();`)}function zt(Mt,jt){return`${o}.${Mt}(${nt(jt,{contextName:o,contextVariables:rt,getEntity:St,addVariable:kt,variables:ht,onUnrecognizedArgumentLookup:ut})})`}function Xt(Mt){if(ht){for(const jt in ht)if(ht[jt]===Mt)return jt}return null}function Pt(Mt){const jt=rt.indexOf(Mt);return jt!==-1?`${o}Variable${jt}`:null}}function it(c,a){const o=new Proxy(c,{get:st}),h={},{contextName:g,contextVariables:tt,getEntity:at,useTrackablePrimitives:ht,recording:_e,variables:ut,indent:ct,onUnrecognizedArgumentLookup:rt}=a;return o;function st(lt,mt){return typeof lt[mt]=="function"?function(){switch(mt){case"drawBuffersWEBGL":return _e.push(`${ct}${g}.drawBuffersWEBGL([${nt(arguments[0],{contextName:g,contextVariables:tt,getEntity:vt,addVariable:et,variables:ut,onUnrecognizedArgumentLookup:rt})}]);`),c.drawBuffersWEBGL(arguments[0])}let xt=c[mt].apply(c,arguments);switch(typeof xt){case"undefined":_e.push(`${ct}${ot(mt,arguments)};`);return;case"number":case"boolean":ht&&tt.indexOf(b(xt))===-1?(_e.push(`${ct}const ${g}Variable${tt.length} = ${ot(mt,arguments)};`),tt.push(xt=b(xt))):(_e.push(`${ct}const ${g}Variable${tt.length} = ${ot(mt,arguments)};`),tt.push(xt));break;default:xt===null?_e.push(`${ot(mt,arguments)};`):_e.push(`${ct}const ${g}Variable${tt.length} = ${ot(mt,arguments)};`),tt.push(xt)}return xt}:(h[c[mt]]=mt,c[mt])}function vt(lt){return h.hasOwnProperty(lt)?`${g}.${h[lt]}`:at(lt)}function ot(lt,mt){return`${g}.${lt}(${nt(mt,{contextName:g,contextVariables:tt,getEntity:vt,addVariable:et,variables:ut,onUnrecognizedArgumentLookup:rt})})`}function et(lt,mt){const xt=`${g}Variable${tt.length}`;return tt.push(lt),_e.push(`${ct}const ${xt} = ${mt};`),xt}}function nt(c,a){const{variables:o,onUnrecognizedArgumentLookup:h}=a;return Array.from(c).map(tt=>{const at=g(tt);return at||_(tt,a)}).join(", ");function g(tt){if(o){for(const at in o)if(!!o.hasOwnProperty(at)&&o[at]===tt)return at}return h?h(tt):null}}function _(c,a){const{contextName:o,contextVariables:h,getEntity:g,addVariable:tt,onUnrecognizedArgumentLookup:at}=a;if(typeof c>"u")return"undefined";if(c===null)return"null";const ht=h.indexOf(c);if(ht>-1)return`${o}Variable${ht}`;switch(c.constructor.name){case"String":const _e=/\n/.test(c),ut=/'/.test(c),ct=/"/.test(c);return _e?"`"+c+"`":ut&&!ct?'"'+c+'"':"'"+c+"'";case"Number":return g(c);case"Boolean":return g(c);case"Array":return tt(c,`new ${c.constructor.name}([${Array.from(c).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return tt(c,`new ${c.constructor.name}(${JSON.stringify(Array.from(c))})`);default:if(at){const rt=at(c);if(rt)return rt}throw new Error(`unrecognized argument type ${c.constructor.name}`)}}function b(c){return new c.constructor(c)}typeof d<"u"&&(d.exports={glWiretap:$,glExtensionWiretap:it}),typeof window<"u"&&($.glExtensionWiretap=it,window.glWiretap=$)},{}],4:[function(i,d,ft){function $(tt){const at=new Array(tt.length);for(let ht=0;ht<tt.length;ht++){const _e=tt[ht];_e.toArray?at[ht]=_e.toArray():at[ht]=_e}return at}function it(){const tt=$(arguments),at=new Float32Array(this.output.x);for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=0,this.thread.z=0,at[ht]=this._fn.apply(this,tt);return at}function nt(){const tt=$(arguments),at=new Array(this.output.y);for(let ht=0;ht<this.output.y;ht++){const _e=new Float32Array(this.output.x);for(let ut=0;ut<this.output.x;ut++)this.thread.x=ut,this.thread.y=ht,this.thread.z=0,_e[ut]=this._fn.apply(this,tt);at[ht]=_e}return at}function _(){const tt=$(arguments);for(let at=0;at<this.output.y;at++)for(let ht=0;ht<this.output.x;ht++)this.thread.x=ht,this.thread.y=at,this.thread.z=0,this._fn.apply(this,tt)}function b(){const tt=$(arguments),at=new Array(this.output.z);for(let ht=0;ht<this.output.z;ht++){const _e=new Array(this.output.y);for(let ut=0;ut<this.output.y;ut++){const ct=new Float32Array(this.output.x);for(let rt=0;rt<this.output.x;rt++)this.thread.x=rt,this.thread.y=ut,this.thread.z=ht,ct[rt]=this._fn.apply(this,tt);_e[ut]=ct}at[ht]=_e}return at}function c(tt){tt.setOutput=_e=>{tt.output=o(_e),tt.graphical&&a(tt)},tt.toJSON=()=>{throw new Error("Not usable with gpuMock")},tt.setConstants=_e=>(tt.constants=_e,tt),tt.setGraphical=_e=>(tt.graphical=_e,tt),tt.setCanvas=_e=>(tt.canvas=_e,tt),tt.setContext=_e=>(tt.context=_e,tt),tt.destroy=()=>{},tt.validateSettings=()=>{},tt.graphical&&tt.output&&a(tt),tt.exec=function(){return new Promise((_e,ut)=>{try{_e(tt.apply(tt,arguments))}catch(ct){ut(ct)}})},tt.getPixels=_e=>{const{x:ut,y:ct}=tt.output;return _e?g(tt._imageData.data,ut,ct):tt._imageData.data.slice(0)},tt.color=function(_e,ut,ct,rt){typeof rt>"u"&&(rt=1),_e=Math.floor(_e*255),ut=Math.floor(ut*255),ct=Math.floor(ct*255),rt=Math.floor(rt*255);const st=tt.output.x,vt=tt.output.y,ot=tt.thread.x,et=vt-tt.thread.y-1,lt=ot+et*st;tt._colorData[lt*4+0]=_e,tt._colorData[lt*4+1]=ut,tt._colorData[lt*4+2]=ct,tt._colorData[lt*4+3]=rt};const at=()=>tt,ht=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let _e=0;_e<ht.length;_e++)tt[ht[_e]]=at;return tt}function a(tt){const{x:at,y:ht}=tt.output;if(tt.context&&tt.context.createImageData){const _e=new Uint8ClampedArray(at*ht*4);tt._imageData=tt.context.createImageData(at,ht),tt._colorData=_e}else{const _e=new Uint8ClampedArray(at*ht*4);tt._imageData={data:_e},tt._colorData=_e}}function o(tt){let at=null;if(tt.length)if(tt.length===3){const[ht,_e,ut]=tt;at={x:ht,y:_e,z:ut}}else if(tt.length===2){const[ht,_e]=tt;at={x:ht,y:_e}}else{const[ht]=tt;at={x:ht}}else at=tt;return at}function h(tt,at={}){const ht=at.output?o(at.output):null;function _e(){return _e.output.z?b.apply(_e,arguments):_e.output.y?_e.graphical?_.apply(_e,arguments):nt.apply(_e,arguments):it.apply(_e,arguments)}return _e._fn=tt,_e.constants=at.constants||null,_e.context=at.context||null,_e.canvas=at.canvas||null,_e.graphical=at.graphical||!1,_e._imageData=null,_e._colorData=null,_e.output=ht,_e.thread={x:0,y:0,z:0},c(_e)}function g(tt,at,ht){const _e=ht/2|0,ut=at*4,ct=new Uint8ClampedArray(at*4),rt=tt.slice(0);for(let st=0;st<_e;++st){const vt=st*ut,ot=(ht-st-1)*ut;ct.set(rt.subarray(vt,vt+ut)),rt.copyWithin(vt,ot,ot+ut),rt.set(ct,ot)}return rt}d.exports={gpuMock:h}},{}],5:[function(i,d,ft){const{utils:$}=i("./utils");function it(nt,_){const b=_.toString();return new Function(`return function ${nt} (${$.getArgumentNamesFromString(b).join(", ")}) {
  ${$.getFunctionBodyFromString(b)}
}`)()}d.exports={alias:it}},{"./utils":114}],6:[function(i,d,ft){const{FunctionNode:$}=i("../function-node");class it extends ${astFunction(_,b){if(!this.isRootKernel){b.push("function"),b.push(" "),b.push(this.name),b.push("(");for(let c=0;c<this.argumentNames.length;++c){const a=this.argumentNames[c];c>0&&b.push(", "),b.push("user_"),b.push(a)}b.push(`) {
`)}for(let c=0;c<_.body.body.length;++c)this.astGeneric(_.body.body[c],b),b.push(`
`);return this.isRootKernel||b.push(`}
`),b}astReturnStatement(_,b){const c=this.returnType||this.getType(_.argument);return this.returnType||(this.returnType=c),this.isRootKernel?(b.push(this.leadingReturnStatement),this.astGeneric(_.argument,b),b.push(`;
`),b.push(this.followingReturnStatement),b.push(`continue;
`)):this.isSubKernel?(b.push(`subKernelResult_${this.name} = `),this.astGeneric(_.argument,b),b.push(";"),b.push(`return subKernelResult_${this.name};`)):(b.push("return "),this.astGeneric(_.argument,b),b.push(";")),b}astLiteral(_,b){if(isNaN(_.value))throw this.astErrorOutput("Non-numeric literal not supported : "+_.value,_);return b.push(_.value),b}astBinaryExpression(_,b){return b.push("("),this.astGeneric(_.left,b),b.push(_.operator),this.astGeneric(_.right,b),b.push(")"),b}astIdentifierExpression(_,b){if(_.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",_);switch(_.name){case"Infinity":b.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(_.name)?b.push("constants_"+_.name):b.push("user_"+_.name)}return b}astForStatement(_,b){if(_.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",_);const c=[],a=[],o=[],h=[];let g=null;if(_.init){this.pushState("in-for-loop-init"),this.astGeneric(_.init,c);for(let tt=0;tt<c.length;tt++)c[tt].includes&&c[tt].includes(",")&&(g=!1);this.popState("in-for-loop-init")}else g=!1;if(_.test?this.astGeneric(_.test,a):g=!1,_.update?this.astGeneric(_.update,o):g=!1,_.body&&(this.pushState("loop-body"),this.astGeneric(_.body,h),this.popState("loop-body")),g===null&&(g=this.isSafe(_.init)&&this.isSafe(_.test)),g)b.push(`for (${c.join("")};${a.join("")};${o.join("")}){
`),b.push(h.join("")),b.push(`}
`);else{const tt=this.getInternalVariableName("safeI");c.length>0&&b.push(c.join(""),`;
`),b.push(`for (let ${tt}=0;${tt}<LOOP_MAX;${tt}++){
`),a.length>0&&b.push(`if (!${a.join("")}) break;
`),b.push(h.join("")),b.push(`
${o.join("")};`),b.push(`}
`)}return b}astWhileStatement(_,b){if(_.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",_);return b.push("for (let i = 0; i < LOOP_MAX; i++) {"),b.push("if ("),this.astGeneric(_.test,b),b.push(`) {
`),this.astGeneric(_.body,b),b.push(`} else {
`),b.push(`break;
`),b.push(`}
`),b.push(`}
`),b}astDoWhileStatement(_,b){if(_.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",_);return b.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(_.body,b),b.push("if (!"),this.astGeneric(_.test,b),b.push(`) {
`),b.push(`break;
`),b.push(`}
`),b.push(`}
`),b}astAssignmentExpression(_,b){const c=this.getDeclaration(_.left);if(c&&!c.assignable)throw this.astErrorOutput(`Variable ${_.left.name} is not assignable here`,_);return this.astGeneric(_.left,b),b.push(_.operator),this.astGeneric(_.right,b),b}astBlockStatement(_,b){if(this.isState("loop-body")){this.pushState("block-body");for(let c=0;c<_.body.length;c++)this.astGeneric(_.body[c],b);this.popState("block-body")}else{b.push(`{
`);for(let c=0;c<_.body.length;c++)this.astGeneric(_.body[c],b);b.push(`}
`)}return b}astVariableDeclaration(_,b){b.push(`${_.kind} `);const{declarations:c}=_;for(let a=0;a<c.length;a++){a>0&&b.push(",");const o=c[a],h=this.getDeclaration(o.id);h.valueType||(h.valueType=this.getType(o.init)),this.astGeneric(o,b)}return this.isState("in-for-loop-init")||b.push(";"),b}astIfStatement(_,b){return b.push("if ("),this.astGeneric(_.test,b),b.push(")"),_.consequent.type==="BlockStatement"?this.astGeneric(_.consequent,b):(b.push(` {
`),this.astGeneric(_.consequent,b),b.push(`
}
`)),_.alternate&&(b.push("else "),_.alternate.type==="BlockStatement"||_.alternate.type==="IfStatement"?this.astGeneric(_.alternate,b):(b.push(` {
`),this.astGeneric(_.alternate,b),b.push(`
}
`))),b}astSwitchStatement(_,b){const{discriminant:c,cases:a}=_;b.push("switch ("),this.astGeneric(c,b),b.push(`) {
`);for(let o=0;o<a.length;o++){if(a[o].test===null){b.push(`default:
`),this.astGeneric(a[o].consequent,b),a[o].consequent&&a[o].consequent.length>0&&b.push(`break;
`);continue}b.push("case "),this.astGeneric(a[o].test,b),b.push(`:
`),a[o].consequent&&a[o].consequent.length>0&&(this.astGeneric(a[o].consequent,b),b.push(`break;
`))}b.push(`
}`)}astThisExpression(_,b){return b.push("_this"),b}astMemberExpression(_,b){const{signature:c,type:a,property:o,xProperty:h,yProperty:g,zProperty:tt,name:at,origin:ht}=this.getMemberExpressionDetails(_);switch(c){case"this.thread.value":return b.push(`_this.thread.${at}`),b;case"this.output.value":switch(at){case"x":b.push("outputX");break;case"y":b.push("outputY");break;case"z":b.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",_)}return b;case"value":throw this.astErrorOutput("Unexpected expression",_);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(ht==="Math")return b.push(Math[at]),b;switch(o){case"r":return b.push(`user_${at}[0]`),b;case"g":return b.push(`user_${at}[1]`),b;case"b":return b.push(`user_${at}[2]`),b;case"a":return b.push(`user_${at}[3]`),b}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(_.object,b),b.push("["),this.astGeneric(_.property,b),b.push("]"),b;case"fn()[][]":return this.astGeneric(_.object.object,b),b.push("["),this.astGeneric(_.object.property,b),b.push("]"),b.push("["),this.astGeneric(_.property,b),b.push("]"),b;default:throw this.astErrorOutput("Unexpected expression",_)}if(!_.computed)switch(a){case"Number":case"Integer":case"Float":case"Boolean":return b.push(`${ht}_${at}`),b}const _e=`${ht}_${at}`;switch(a){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let ut,ct;if(ht==="constants"){const rt=this.constants[at];ct=this.constantTypes[at]==="Input",ut=ct?rt.size:null}else ct=this.isInput(at),ut=ct?this.argumentSizes[this.argumentNames.indexOf(at)]:null;b.push(`${_e}`),tt&&g?ct?(b.push("[("),this.astGeneric(tt,b),b.push(`*${this.dynamicArguments?"(outputY * outputX)":ut[1]*ut[0]})+(`),this.astGeneric(g,b),b.push(`*${this.dynamicArguments?"outputX":ut[0]})+`),this.astGeneric(h,b),b.push("]")):(b.push("["),this.astGeneric(tt,b),b.push("]"),b.push("["),this.astGeneric(g,b),b.push("]"),b.push("["),this.astGeneric(h,b),b.push("]")):g?ct?(b.push("[("),this.astGeneric(g,b),b.push(`*${this.dynamicArguments?"outputX":ut[0]})+`),this.astGeneric(h,b),b.push("]")):(b.push("["),this.astGeneric(g,b),b.push("]"),b.push("["),this.astGeneric(h,b),b.push("]")):typeof h<"u"&&(b.push("["),this.astGeneric(h,b),b.push("]"))}return b}astCallExpression(_,b){if(_.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",_);let c=this.astMemberExpressionUnroll(_.callee);this.calledFunctions.indexOf(c)<0&&this.calledFunctions.push(c),this.isAstMathFunction(_),this.onFunctionCall&&this.onFunctionCall(this.name,c,_.arguments),b.push(c),b.push("(");const a=this.lookupFunctionArgumentTypes(c)||[];for(let o=0;o<_.arguments.length;++o){const h=_.arguments[o];let g=this.getType(h);a[o]||this.triggerImplyArgumentType(c,o,g,this),o>0&&b.push(", "),this.astGeneric(h,b)}return b.push(")"),b}astArrayExpression(_,b){const c=this.getType(_),a=_.elements.length,o=[];for(let h=0;h<a;++h){const g=[];this.astGeneric(_.elements[h],g),o.push(g.join(""))}switch(c){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":b.push(`[${o.join(", ")}]`);break;default:b.push(`new Float32Array([${o.join(", ")}])`)}return b}astDebuggerStatement(_,b){return b.push("debugger;"),b}}d.exports={CPUFunctionNode:it}},{"../function-node":10}],7:[function(i,d,ft){const{utils:$}=i("../../utils");function it(_,b){const c=[];for(const a in b){if(!b.hasOwnProperty(a))continue;const o=b[a],h=_[a];switch(o){case"Number":case"Integer":case"Float":case"Boolean":c.push(`${a}:${h}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":c.push(`${a}:new ${h.constructor.name}(${JSON.stringify(Array.from(h))})`);break}}return`{ ${c.join()} }`}function nt(_,b){const c=[],a=[],o=[],h=!/^function/.test(_.color.toString());if(c.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(_.output))});`,`  const _constantTypes = ${JSON.stringify(_.constantTypes)};`,`  const _constants = ${it(_.constants,_.constantTypes)};`),a.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),_.graphical){c.push(`  const _imageData = context.createImageData(${_.output[0]}, ${_.output[1]});`),c.push(`  const _colorData = new Uint8ClampedArray(${_.output[0]} * ${_.output[1]} * 4);`);const at=$.flattenFunctionToString((h?"function ":"")+_.color.toString(),{thisLookup:_e=>{switch(_e){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(_[_e])},findDependency:(_e,ut)=>null}),ht=$.flattenFunctionToString((h?"function ":"")+_.getPixels.toString(),{thisLookup:_e=>{switch(_e){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(_[_e])},findDependency:()=>null});a.push("    _imageData,","    _colorData,",`    color: ${at},`),o.push(`  kernel.getPixels = ${ht};`)}const g=[],tt=Object.keys(_.constantTypes);for(let at=0;at<tt.length;at++)g.push(_.constantTypes[tt]);if(_.argumentTypes.indexOf("HTMLImageArray")!==-1||g.indexOf("HTMLImageArray")!==-1){const at=$.flattenFunctionToString((h?"function ":"")+_._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(ht,_e)=>ht==="this"?(h?"function ":"")+_[_e].toString():null,thisLookup:ht=>{switch(ht){case"canvas":return;case"context":return"context"}}});o.push(at),a.push("    _mediaTo2DArray,"),a.push("    _imageTo3DArray,")}else if(_.argumentTypes.indexOf("HTMLImage")!==-1||g.indexOf("HTMLImage")!==-1){const at=$.flattenFunctionToString((h?"function ":"")+_._mediaTo2DArray.toString(),{findDependency:(ht,_e)=>null,thisLookup:ht=>{switch(ht){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});o.push(at),a.push("    _mediaTo2DArray,")}return`function(settings) {
${c.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${_._kernelString}
  })
    .apply({ ${a.join(`
`)} });
  ${o.join(`
`)}
  return kernel;
}`}d.exports={cpuKernelString:nt}},{"../../utils":114}],8:[function(i,d,ft){const{Kernel:$}=i("../kernel"),{FunctionBuilder:it}=i("../function-builder"),{CPUFunctionNode:nt}=i("./function-node"),{utils:_}=i("../../utils"),{cpuKernelString:b}=i("./kernel-string");class c extends ${static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(o){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(o){return o}static getSignature(o,h){return"cpu"+(h.length>0?":"+h.join(","):"")}constructor(o,h){super(o,h),this.mergeSettings(o.settings||h),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(o){return[]}validateSettings(o){if(!this.output||this.output.length===0){if(o.length!==1)throw new Error("Auto output only supported for kernels with only one input");const h=_.getVariableType(o[0],this.strictIntegers);if(h==="Array")this.output=_.getDimensions(h);else if(h==="NumberTexture"||h==="ArrayTexture(4)")this.output=o[0].output;else throw new Error("Auto output not supported for input type: "+h)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const h=[];for(let g=0;g<this.subKernels.length;g++){const{name:tt}=this.subKernels[g];h.push(this.output.length>1?`resultX_${tt}[x] = subKernelResult_${tt};
`:`result_${tt}[x] = subKernelResult_${tt};
`)}this.followingReturnStatement=h.join("")}const o=it.fromKernel(this,nt);this.translatedSources=o.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=o.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:h,output:g}=this;if(!h)throw new Error("no canvas available for using graphical output");const tt=g[0],at=g[1]||1;h.width=tt,h.height=at,this._imageData=this.context.createImageData(tt,at),this._colorData=new Uint8ClampedArray(tt*at*4)}const o=this.getKernelString();this.kernelString=o,this.debug&&(console.log("Function output:"),console.log(o));try{this.run=new Function([],o).bind(this)()}catch(h){console.error("An error occurred compiling the javascript: ",h)}this.buildSignature(arguments),this.built=!0}color(o,h,g,tt){typeof tt>"u"&&(tt=1),o=Math.floor(o*255),h=Math.floor(h*255),g=Math.floor(g*255),tt=Math.floor(tt*255);const at=this.output[0],ht=this.output[1],_e=this.thread.x,ut=ht-this.thread.y-1,ct=_e+ut*at;this._colorData[ct*4+0]=o,this._colorData[ct*4+1]=h,this._colorData[ct*4+2]=g,this._colorData[ct*4+3]=tt}getKernelString(){if(this._kernelString!==null)return this._kernelString;let o=null,{translatedSources:h}=this;return h.length>1?h=h.filter(g=>/^function/.test(g)?g:(o=g,!1)):o=h.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(g=>"user_"+g).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody(o):this._resultKernelBody(o)}
    ${h.length>0?h.join(`
`):""}
  };`}toString(){return b(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const o=[];for(let h in this.constants)switch(this.constantTypes[h]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`    const constants_${h} = this._mediaTo2DArray(this.constants.${h});
`);break;case"HTMLImageArray":o.push(`    const constants_${h} = this._imageTo3DArray(this.constants.${h});
`);break;case"Input":o.push(`    const constants_${h} = this.constants.${h}.value;
`);break;default:o.push(`    const constants_${h} = this.constants.${h};
`)}return o.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const o=[];for(let g=0;g<this.argumentTypes.length;g++)this.argumentTypes[g]==="Array"&&o.push(this.argumentNames[g]);if(o.length===0)return"";const h=[];for(let g=0;g<o.length;g++){const tt=o[g],at=this._mapSubKernels(ht=>`user_${tt} === result_${ht.name}`).join(" || ");h.push(`user_${tt} === result${at?` || ${at}`:""}`)}return`if (${h.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const o=[];for(let h=0;h<this.argumentTypes.length;h++){const g=`user_${this.argumentNames[h]}`;switch(this.argumentTypes[h]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`    ${g} = this._mediaTo2DArray(${g});
`);break;case"HTMLImageArray":o.push(`    ${g} = this._imageTo3DArray(${g});
`);break;case"Input":o.push(`    ${g} = ${g}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":o.push(`
    if (${g}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${g});
      if (textureIndex !== -1) {
        ${g} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${g});
        ${g} = ${g}.toArray();
        _this.arrayCache.push(${g});
      }
    }`);break}}return o.join("")}_mediaTo2DArray(o){const h=this.canvas,g=o.width>0?o.width:o.videoWidth,tt=o.height>0?o.height:o.videoHeight;h.width<g&&(h.width=g),h.height<tt&&(h.height=tt);const at=this.context;let ht;o.constructor===ImageData?ht=o.data:(at.drawImage(o,0,0,g,tt),ht=at.getImageData(0,0,g,tt).data);const _e=new Array(tt);let ut=0;for(let ct=tt-1;ct>=0;ct--){const rt=_e[ct]=new Array(g);for(let st=0;st<g;st++){const vt=new Float32Array(4);vt[0]=ht[ut++]/255,vt[1]=ht[ut++]/255,vt[2]=ht[ut++]/255,vt[3]=ht[ut++]/255,rt[st]=vt}}return _e}getPixels(o){const[h,g]=this.output;return o?_.flipPixels(this._imageData.data,h,g):this._imageData.data.slice(0)}_imageTo3DArray(o){const h=new Array(o.length);for(let g=0;g<o.length;g++)h[g]=this._mediaTo2DArray(o[g]);return h}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(o){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(o):this._resultImmutableKernel1DLoop(o))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(o):this._resultImmutableKernel2DLoop(o))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(o):this._resultImmutableKernel3DLoop(o))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(o){switch(this.output.length){case 2:return this._graphicalKernel2DLoop(o)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(o){const h=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${h}(outputX);
    ${this._mapSubKernels(g=>`const result_${g.name} = new ${h}(outputX);
`).join("    ")}
    ${this._mapSubKernels(g=>`let subKernelResult_${g.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${o}
    }`}_mutableKernel1DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${o}(outputX);
    ${this._mapSubKernels(h=>`const result_${h.name} = new ${o}(outputX);
`).join("    ")}
    ${this._mapSubKernels(h=>`let subKernelResult_${h.name};
`).join("    ")}`}_resultMutableKernel1DLoop(o){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${o}
    }`}_resultImmutableKernel2DLoop(o){const h=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(g=>`const result_${g.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(g=>`let subKernelResult_${g.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${h}(outputX);
      ${this._mapSubKernels(g=>`const resultX_${g.name} = result_${g.name}[y] = new ${h}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_mutableKernel2DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(h=>`const result_${h.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(h=>`let subKernelResult_${h.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${o}(outputX);
      ${this._mapSubKernels(h=>`const resultX_${h.name} = result_${h.name}[y] = new ${o}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop(o){const h=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(g=>`const resultX_${g.name} = result_${g.name}[y] = new ${h}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_graphicalKernel2DLoop(o){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${o}
      }
    }`}_resultImmutableKernel3DLoop(o){const h=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(g=>`const result_${g.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(g=>`let subKernelResult_${g.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(g=>`const resultY_${g.name} = result_${g.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${h}(outputX);
        ${this._mapSubKernels(g=>`const resultX_${g.name} = resultY_${g.name}[y] = new ${h}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${o}
        }
      }
    }`}_mutableKernel3DResults(){const o=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(h=>`const result_${h.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(h=>`let subKernelResult_${h.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(h=>`const resultY_${h.name} = result_${h.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${o}(outputX);
        ${this._mapSubKernels(h=>`const resultX_${h.name} = resultY_${h.name}[y] = new ${o}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop(o){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${o}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map(o=>`${o.property}: result_${o.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels(o){return this.subKernels===null?[""]:this.subKernels.map(o)}destroy(o){o&&delete this.canvas}static destroyContext(o){}toJSON(){const o=super.toJSON();return o.functionNodes=it.fromKernel(this,nt).toJSON(),o}setOutput(o){super.setOutput(o);const[h,g]=this.output;this.graphical&&(this._imageData=this.context.createImageData(h,g),this._colorData=new Uint8ClampedArray(h*g*4))}prependString(o){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(o)}hasPrependString(o){return this._prependedString.indexOf(o)>-1}}d.exports={CPUKernel:c}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(i,d,ft){class ${static fromKernel(nt,_,b){const{kernelArguments:c,kernelConstants:a,argumentNames:o,argumentSizes:h,argumentBitRatios:g,constants:tt,constantBitRatios:at,debug:ht,loopMaxIterations:_e,nativeFunctions:ut,output:ct,optimizeFloatMemory:rt,precision:st,plugins:vt,source:ot,subKernels:et,functions:lt,leadingReturnStatement:mt,followingReturnStatement:xt,dynamicArguments:wt,dynamicOutput:St}=nt,Tt=new Array(c.length),kt={};for(let Nt=0;Nt<c.length;Nt++)Tt[Nt]=c[Nt].type;for(let Nt=0;Nt<a.length;Nt++){const ln=a[Nt];kt[ln.name]=ln.type}const Vt=(Nt,ln)=>Wt.needsArgumentType(Nt,ln),Ct=(Nt,ln,yn)=>{Wt.assignArgumentType(Nt,ln,yn)},Rt=(Nt,ln,yn)=>Wt.lookupReturnType(Nt,ln,yn),zt=Nt=>Wt.lookupFunctionArgumentTypes(Nt),Xt=(Nt,ln)=>Wt.lookupFunctionArgumentName(Nt,ln),Pt=(Nt,ln)=>Wt.lookupFunctionArgumentBitRatio(Nt,ln),Mt=(Nt,ln,yn,rn)=>{Wt.assignArgumentType(Nt,ln,yn,rn)},jt=(Nt,ln,yn,rn)=>{Wt.assignArgumentBitRatio(Nt,ln,yn,rn)},Zt=(Nt,ln,yn)=>{Wt.trackFunctionCall(Nt,ln,yn)},Yt=(Nt,ln)=>{const yn=[];for(let Un=0;Un<Nt.params.length;Un++)yn.push(Nt.params[Un].name);const rn=new _(ln,Object.assign({},fn,{returnType:null,ast:Nt,name:Nt.id.name,argumentNames:yn,lookupReturnType:Rt,lookupFunctionArgumentTypes:zt,lookupFunctionArgumentName:Xt,lookupFunctionArgumentBitRatio:Pt,needsArgumentType:Vt,assignArgumentType:Ct,triggerImplyArgumentType:Mt,triggerImplyArgumentBitRatio:jt,onFunctionCall:Zt}));rn.traceFunctionAST(Nt),Wt.addFunctionNode(rn)},fn=Object.assign({isRootKernel:!1,onNestedFunction:Yt,lookupReturnType:Rt,lookupFunctionArgumentTypes:zt,lookupFunctionArgumentName:Xt,lookupFunctionArgumentBitRatio:Pt,needsArgumentType:Vt,assignArgumentType:Ct,triggerImplyArgumentType:Mt,triggerImplyArgumentBitRatio:jt,onFunctionCall:Zt,optimizeFloatMemory:rt,precision:st,constants:tt,constantTypes:kt,constantBitRatios:at,debug:ht,loopMaxIterations:_e,output:ct,plugins:vt,dynamicArguments:wt,dynamicOutput:St},b||{}),an=Object.assign({},fn,{isRootKernel:!0,name:"kernel",argumentNames:o,argumentTypes:Tt,argumentSizes:h,argumentBitRatios:g,leadingReturnStatement:mt,followingReturnStatement:xt});if(typeof ot=="object"&&ot.functionNodes)return new $().fromJSON(ot.functionNodes,_);const dn=new _(ot,an);let cn=null;lt&&(cn=lt.map(Nt=>new _(Nt.source,{returnType:Nt.returnType,argumentTypes:Nt.argumentTypes,output:ct,plugins:vt,constants:tt,constantTypes:kt,constantBitRatios:at,optimizeFloatMemory:rt,precision:st,lookupReturnType:Rt,lookupFunctionArgumentTypes:zt,lookupFunctionArgumentName:Xt,lookupFunctionArgumentBitRatio:Pt,needsArgumentType:Vt,assignArgumentType:Ct,triggerImplyArgumentType:Mt,triggerImplyArgumentBitRatio:jt,onFunctionCall:Zt,onNestedFunction:Yt})));let Ut=null;et&&(Ut=et.map(Nt=>{const{name:ln,source:yn}=Nt;return new _(yn,Object.assign({},fn,{name:ln,isSubKernel:!0,isRootKernel:!1}))}));const Wt=new $({kernel:nt,rootNode:dn,functionNodes:cn,nativeFunctions:ut,subKernelNodes:Ut});return Wt}constructor(nt){if(nt=nt||{},this.kernel=nt.kernel,this.rootNode=nt.rootNode,this.functionNodes=nt.functionNodes||[],this.subKernelNodes=nt.subKernelNodes||[],this.nativeFunctions=nt.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let _=0;_<this.functionNodes.length;_++)this.functionMap[this.functionNodes[_].name]=this.functionNodes[_];if(this.subKernelNodes)for(let _=0;_<this.subKernelNodes.length;_++)this.functionMap[this.subKernelNodes[_].name]=this.subKernelNodes[_];if(this.nativeFunctions)for(let _=0;_<this.nativeFunctions.length;_++){const b=this.nativeFunctions[_];this.nativeFunctionNames.push(b.name)}}addFunctionNode(nt){if(!nt.name)throw new Error("functionNode.name needs set");this.functionMap[nt.name]=nt,nt.isRootKernel&&(this.rootNode=nt)}traceFunctionCalls(nt,_){if(nt=nt||"kernel",_=_||[],this.nativeFunctionNames.indexOf(nt)>-1){const c=_.indexOf(nt);if(c===-1)_.push(nt);else{const a=_.splice(c,1)[0];_.push(a)}return _}const b=this.functionMap[nt];if(b){const c=_.indexOf(nt);if(c===-1){_.push(nt),b.toString();for(let a=0;a<b.calledFunctions.length;++a)this.traceFunctionCalls(b.calledFunctions[a],_)}else{const a=_.splice(c,1)[0];_.push(a)}}return _}getPrototypeString(nt){return this.getPrototypes(nt).join(`
`)}getPrototypes(nt){return this.rootNode&&this.rootNode.toString(),nt?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(nt,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(nt){const _=[];for(let b=0;b<nt.length;++b)this.functionMap[nt[b]]&&_.push(this.functionMap[nt[b]].toString());return _.join(`
`)}getPrototypesFromFunctionNames(nt){const _=[];for(let b=0;b<nt.length;++b){const c=nt[b],a=this.nativeFunctionNames.indexOf(c);if(a>-1){_.push(this.nativeFunctions[a].source);continue}const o=this.functionMap[c];o&&_.push(o.toString())}return _}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(nt=>{const _=this.nativeFunctions.indexOf(nt);if(_>-1)return{name:nt,source:this.nativeFunctions[_].source};if(this.functionMap[nt])return this.functionMap[nt].toJSON();throw new Error(`function ${nt} not found`)})}fromJSON(nt,_){this.functionMap={};for(let b=0;b<nt.length;b++){const c=nt[b];this.functionMap[c.settings.name]=new _(c.ast,c.settings)}return this}getString(nt){return nt?this.getStringFromFunctionNames(this.traceFunctionCalls(nt).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(nt,_,b){if(_.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${_.type}`);if(this._isNativeFunction(nt))return this._lookupNativeFunctionReturnType(nt);if(this._isFunction(nt)){const c=this._getFunction(nt);if(c.returnType)return c.returnType;{for(let o=0;o<this.lookupChain.length;o++)if(this.lookupChain[o].ast===_){if(c.argumentTypes.length===0&&_.arguments.length>0){const h=_.arguments;for(let g=0;g<h.length;g++)this.lookupChain.push({name:b.name,ast:h[o],requestingNode:b}),c.argumentTypes[g]=b.getType(h[g]),this.lookupChain.pop();return c.returnType=c.getType(c.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:b.name,ast:_,requestingNode:b});const a=c.getType(c.getJsAST());return this.lookupChain.pop(),c.returnType=a}}return null}_getFunction(nt){return this._isFunction(nt),this.functionMap[nt]}_isFunction(nt){return Boolean(this.functionMap[nt])}_getNativeFunction(nt){for(let _=0;_<this.nativeFunctions.length;_++)if(this.nativeFunctions[_].name===nt)return this.nativeFunctions[_];return null}_isNativeFunction(nt){return Boolean(this._getNativeFunction(nt))}_lookupNativeFunctionReturnType(nt){let _=this._getNativeFunction(nt);if(_)return _.returnType;throw new Error(`Native function ${nt} not found`)}lookupFunctionArgumentTypes(nt){return this._isNativeFunction(nt)?this._getNativeFunction(nt).argumentTypes:this._isFunction(nt)?this._getFunction(nt).argumentTypes:null}lookupFunctionArgumentName(nt,_){return this._getFunction(nt).argumentNames[_]}lookupFunctionArgumentBitRatio(nt,_){if(!this._isFunction(nt))throw new Error("function not found");if(this.rootNode.name===nt){const o=this.rootNode.argumentNames.indexOf(_);if(o!==-1)return this.rootNode.argumentBitRatios[o]}const b=this._getFunction(nt),c=b.argumentNames.indexOf(_);if(c===-1)throw new Error("argument not found");const a=b.argumentBitRatios[c];if(typeof a!="number")throw new Error("argument bit ratio not found");return a}needsArgumentType(nt,_){return this._isFunction(nt)?!this._getFunction(nt).argumentTypes[_]:!1}assignArgumentType(nt,_,b,c){if(!this._isFunction(nt))return;const a=this._getFunction(nt);a.argumentTypes[_]||(a.argumentTypes[_]=b)}assignArgumentBitRatio(nt,_,b,c){const a=this._getFunction(nt);if(this._isNativeFunction(b))return null;const o=this._getFunction(b),h=a.argumentNames.indexOf(_);if(h===-1)throw new Error(`Argument ${_} not found in arguments from function ${nt}`);const g=a.argumentBitRatios[h];if(typeof g!="number")throw new Error(`Bit ratio for argument ${_} not found in function ${nt}`);o.argumentBitRatios||(o.argumentBitRatios=new Array(o.argumentNames.length));const tt=o.argumentBitRatios[h];if(typeof tt=="number"){if(tt!==g)throw new Error(`Incompatible bit ratio found at function ${nt} at argument ${_}`);return tt}return o.argumentBitRatios[h]=g,g}trackFunctionCall(nt,_,b){this.functionNodeDependencies[nt]||(this.functionNodeDependencies[nt]=new Set,this.functionCalls[nt]=[]),this.functionNodeDependencies[nt].add(_),this.functionCalls[nt].push(b)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(nt){const _=this.subKernelNodes[nt];let b=!1;for(let c=0;c<this.rootNode.functionCalls.length;c++)this.rootNode.functionCalls[c].ast.callee.name===_.name&&(b=!0);if(!b)throw new Error(`SubKernel ${_.name} never called by kernel`);return _.returnType||_.getType(_.getJsAST())}getReturnTypes(){const nt={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},_=this.traceFunctionCalls(this.rootNode.name);for(let b=0;b<_.length;b++){const c=_[b],a=this.functionMap[c];nt[c]=a.getType(a.ast)}return nt}}d.exports={FunctionBuilder:$}},{}],10:[function(i,d,ft){const $=i("acorn"),{utils:it}=i("../utils"),{FunctionTracer:nt}=i("./function-tracer");class _{constructor(a,o){if(!a&&!o.ast)throw new Error("source parameter is missing");if(o=o||{},this.source=a,this.ast=null,this.name=typeof a=="string"?o.isRootKernel?"kernel":o.name||it.getFunctionNameFromString(a):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?it.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,o)for(const h in o)!o.hasOwnProperty(h)||!this.hasOwnProperty(h)||(this[h]=o[h]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!it.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(a){return this.constants?this.constants.hasOwnProperty(a):!1}isInput(a){return this.argumentTypes[this.argumentNames.indexOf(a)]==="Input"}pushState(a){this.states.push(a)}popState(a){if(this.state!==a)throw new Error(`Cannot popState ${a} when in ${this.state}`);this.states.pop()}isState(a){return this.state===a}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(a){if(a.type==="Identifier")return a.name;if(a.type==="ThisExpression")return"this";if(a.type==="MemberExpression"&&a.object&&a.property)return a.object.hasOwnProperty("name")&&a.object.name!=="Math"?this.astMemberExpressionUnroll(a.property):this.astMemberExpressionUnroll(a.object)+"."+this.astMemberExpressionUnroll(a.property);if(a.hasOwnProperty("expressions")){const o=a.expressions[0];if(o.type==="Literal"&&o.value===0&&a.expressions.length===2)return this.astMemberExpressionUnroll(a.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",a)}getJsAST(a){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(a=a||$,a===null)throw new Error("Missing JS to AST parser");const o=Object.freeze(a.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),h=o.body[0].declarations[0].init;if(this.traceFunctionAST(h),!o)throw new Error("Failed to parse JS code");return this.ast=h}traceFunctionAST(a){const{contexts:o,declarations:h,functions:g,identifiers:tt,functionCalls:at}=new nt(a);this.contexts=o,this.identifiers=tt,this.functionCalls=at,this.functions=g;for(let ht=0;ht<h.length;ht++){const _e=h[ht],{ast:ut,inForLoopInit:ct,inForLoopTest:rt}=_e,{init:st}=ut,vt=this.getDependencies(st);let ot=null;if(ct&&rt)ot="Integer";else if(st){const et=this.getType(st);switch(et){case"Integer":case"Float":case"Number":st.type==="MemberExpression"?ot=et:ot="Number";break;case"LiteralInteger":ot="Number";break;default:ot=et}}_e.valueType=ot,_e.dependencies=vt,_e.isSafe=this.isSafeDependencies(vt)}for(let ht=0;ht<g.length;ht++)this.onNestedFunction(g[ht],this.source)}getDeclaration(a){for(let o=0;o<this.identifiers.length;o++){const h=this.identifiers[o];if(a===h.ast)return h.declaration}return null}getVariableType(a){if(a.type!=="Identifier")throw new Error(`ast of ${a.type} not "Identifier"`);let o=null;const h=this.argumentNames.indexOf(a.name);if(h===-1){const g=this.getDeclaration(a);if(g)return g.valueType}else{const g=this.argumentTypes[h];g&&(o=g)}if(!o&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return o}getLookupType(a){if(!b.hasOwnProperty(a))throw new Error(`unknown typeLookupMap ${a}`);return b[a]}getConstantType(a){if(this.constantTypes[a]){const o=this.constantTypes[a];return o==="Float"?"Number":o}throw new Error(`Type for constant "${a}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const a={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:a}}getType(a){if(Array.isArray(a))return this.getType(a[a.length-1]);switch(a.type){case"BlockStatement":return this.getType(a.body);case"ArrayExpression":switch(this.getType(a.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${a.elements.length})`}return`Array(${a.elements.length})`;case"Literal":const h=this.astKey(a);return this.literalTypes[h]?this.literalTypes[h]:Number.isInteger(a.value)?"LiteralInteger":a.value===!0||a.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(a.left);case"CallExpression":if(this.isAstMathFunction(a))return"Number";if(!a.callee||!a.callee.name){if(a.callee.type==="SequenceExpression"&&a.callee.expressions[a.callee.expressions.length-1].property.name){const _e=a.callee.expressions[a.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(_e,a.arguments),this.lookupReturnType(_e,a,this)}if(this.getVariableSignature(a.callee,!0)==="this.color")return null;if(a.callee.type==="MemberExpression"&&a.callee.object&&a.callee.property&&a.callee.property.name&&a.arguments){const _e=a.callee.property.name;return this.inferArgumentTypesIfNeeded(_e,a.arguments),this.lookupReturnType(_e,a,this)}throw this.astErrorOutput("Unknown call expression",a)}if(a.callee&&a.callee.name){const _e=a.callee.name;return this.inferArgumentTypesIfNeeded(_e,a.arguments),this.lookupReturnType(_e,a,this)}throw this.astErrorOutput(`Unhandled getType Type "${a.type}"`,a);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(a.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const g=this.getType(a.left);if(this.isState("skip-literal-correction"))return g;if(g==="LiteralInteger"){const _e=this.getType(a.right);return _e==="LiteralInteger"?a.left.value%1===0?"Integer":"Float":_e}return b[g]||g;case"UpdateExpression":return this.getType(a.argument);case"UnaryExpression":return a.operator==="~"?"Integer":this.getType(a.argument);case"VariableDeclaration":{const _e=a.declarations;let ut;for(let ct=0;ct<_e.length;ct++){const rt=_e[ct];ut=this.getType(rt)}if(!ut)throw this.astErrorOutput("Unable to find type for declaration",a);return ut}case"VariableDeclarator":const tt=this.getDeclaration(a.id);if(!tt)throw this.astErrorOutput("Unable to find declarator",a);if(!tt.valueType)throw this.astErrorOutput("Unable to find declarator valueType",a);return tt.valueType;case"Identifier":if(a.name==="Infinity")return"Number";if(this.isAstVariable(a)&&this.getVariableSignature(a)==="value")return this.getCheckVariableType(a);const at=this.findIdentifierOrigin(a);return at&&at.init?this.getType(at.init):null;case"ReturnStatement":return this.getType(a.argument);case"MemberExpression":if(this.isAstMathFunction(a)){switch(a.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(a)){switch(this.getVariableSignature(a)){case"value[]":return this.getLookupType(this.getCheckVariableType(a.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(a.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(a.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(a.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(a.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(a.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(a.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(a.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(a.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(a.object));case"value.value":if(this.isAstMathVariable(a))return"Number";switch(a.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(a.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",a)}throw this.astErrorOutput("Unhandled getType MemberExpression",a);case"ConditionalExpression":return this.getType(a.consequent);case"FunctionDeclaration":case"FunctionExpression":const ht=this.findLastReturn(a.body);return ht?this.getType(ht):null;case"IfStatement":return this.getType(a.consequent);case"SequenceExpression":return this.getType(a.expressions[a.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${a.type}"`,a)}}getCheckVariableType(a){const o=this.getVariableType(a);if(!o)throw this.astErrorOutput(`${a.type} is not defined`,a);return o}inferArgumentTypesIfNeeded(a,o){for(let h=0;h<o.length;h++){if(!this.needsArgumentType(a,h))continue;const g=this.getType(o[h]);if(!g)throw this.astErrorOutput(`Unable to infer argument ${h}`,o[h]);this.assignArgumentType(a,h,g)}}isAstMathVariable(a){const o=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return a.type==="MemberExpression"&&a.object&&a.object.type==="Identifier"&&a.object.name==="Math"&&a.property&&a.property.type==="Identifier"&&o.indexOf(a.property.name)>-1}isAstMathFunction(a){const o=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return a.type==="CallExpression"&&a.callee&&a.callee.type==="MemberExpression"&&a.callee.object&&a.callee.object.type==="Identifier"&&a.callee.object.name==="Math"&&a.callee.property&&a.callee.property.type==="Identifier"&&o.indexOf(a.callee.property.name)>-1}isAstVariable(a){return a.type==="Identifier"||a.type==="MemberExpression"}isSafe(a){return this.isSafeDependencies(this.getDependencies(a))}isSafeDependencies(a){return a&&a.every?a.every(o=>o.isSafe):!0}getDependencies(a,o,h){if(o||(o=[]),!a)return null;if(Array.isArray(a)){for(let g=0;g<a.length;g++)this.getDependencies(a[g],o,h);return o}switch(a.type){case"AssignmentExpression":return this.getDependencies(a.left,o,h),this.getDependencies(a.right,o,h),o;case"ConditionalExpression":return this.getDependencies(a.test,o,h),this.getDependencies(a.alternate,o,h),this.getDependencies(a.consequent,o,h),o;case"Literal":o.push({origin:"literal",value:a.value,isSafe:h===!0?!1:a.value>-1/0&&a.value<1/0&&!isNaN(a.value)});break;case"VariableDeclarator":return this.getDependencies(a.init,o,h);case"Identifier":const g=this.getDeclaration(a);if(g)o.push({name:a.name,origin:"declaration",isSafe:h?!1:this.isSafeDependencies(g.dependencies)});else if(this.argumentNames.indexOf(a.name)>-1)o.push({name:a.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${a.name}"`);break;case"FunctionDeclaration":return this.getDependencies(a.body.body[a.body.body.length-1],o,h);case"ReturnStatement":return this.getDependencies(a.argument,o);case"BinaryExpression":case"LogicalExpression":return h=a.operator==="/"||a.operator==="*",this.getDependencies(a.left,o,h),this.getDependencies(a.right,o,h),o;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(a.argument,o,h);case"VariableDeclaration":return this.getDependencies(a.declarations,o,h);case"ArrayExpression":return o.push({origin:"declaration",isSafe:!0}),o;case"CallExpression":return o.push({origin:"function",isSafe:!0}),o;case"MemberExpression":const tt=this.getMemberExpressionDetails(a);switch(tt.signature){case"value[]":this.getDependencies(a.object,o,h);break;case"value[][]":this.getDependencies(a.object.object,o,h);break;case"value[][][]":this.getDependencies(a.object.object.object,o,h);break;case"this.output.value":this.dynamicOutput&&o.push({name:tt.name,origin:"output",isSafe:!1});break}if(tt)return tt.property&&this.getDependencies(tt.property,o,h),tt.xProperty&&this.getDependencies(tt.xProperty,o,h),tt.yProperty&&this.getDependencies(tt.yProperty,o,h),tt.zProperty&&this.getDependencies(tt.zProperty,o,h),o;case"SequenceExpression":return this.getDependencies(a.expressions,o,h);default:throw this.astErrorOutput(`Unhandled type ${a.type} in getDependencies`,a)}return o}getVariableSignature(a,o){if(!this.isAstVariable(a))throw new Error(`ast of type "${a.type}" is not a variable signature`);if(a.type==="Identifier")return"value";const h=[];for(;a;)a.computed?h.push("[]"):a.type==="ThisExpression"?h.unshift("this"):a.property&&a.property.name?a.property.name==="x"||a.property.name==="y"||a.property.name==="z"?h.unshift(o?"."+a.property.name:".value"):a.property.name==="constants"||a.property.name==="thread"||a.property.name==="output"?h.unshift("."+a.property.name):h.unshift(o?"."+a.property.name:".value"):a.name?h.unshift(o?a.name:"value"):a.callee&&a.callee.name?h.unshift(o?a.callee.name+"()":"fn()"):a.elements?h.unshift("[]"):h.unshift("unknown"),a=a.object;const g=h.join("");return o||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(g)>-1?g:null}build(){return this.toString().length>0}astGeneric(a,o){if(a===null)throw this.astErrorOutput("NULL ast",a);if(Array.isArray(a)){for(let h=0;h<a.length;h++)this.astGeneric(a[h],o);return o}switch(a.type){case"FunctionDeclaration":return this.astFunctionDeclaration(a,o);case"FunctionExpression":return this.astFunctionExpression(a,o);case"ReturnStatement":return this.astReturnStatement(a,o);case"Literal":return this.astLiteral(a,o);case"BinaryExpression":return this.astBinaryExpression(a,o);case"Identifier":return this.astIdentifierExpression(a,o);case"AssignmentExpression":return this.astAssignmentExpression(a,o);case"ExpressionStatement":return this.astExpressionStatement(a,o);case"EmptyStatement":return this.astEmptyStatement(a,o);case"BlockStatement":return this.astBlockStatement(a,o);case"IfStatement":return this.astIfStatement(a,o);case"SwitchStatement":return this.astSwitchStatement(a,o);case"BreakStatement":return this.astBreakStatement(a,o);case"ContinueStatement":return this.astContinueStatement(a,o);case"ForStatement":return this.astForStatement(a,o);case"WhileStatement":return this.astWhileStatement(a,o);case"DoWhileStatement":return this.astDoWhileStatement(a,o);case"VariableDeclaration":return this.astVariableDeclaration(a,o);case"VariableDeclarator":return this.astVariableDeclarator(a,o);case"ThisExpression":return this.astThisExpression(a,o);case"SequenceExpression":return this.astSequenceExpression(a,o);case"UnaryExpression":return this.astUnaryExpression(a,o);case"UpdateExpression":return this.astUpdateExpression(a,o);case"LogicalExpression":return this.astLogicalExpression(a,o);case"MemberExpression":return this.astMemberExpression(a,o);case"CallExpression":return this.astCallExpression(a,o);case"ArrayExpression":return this.astArrayExpression(a,o);case"DebuggerStatement":return this.astDebuggerStatement(a,o);case"ConditionalExpression":return this.astConditionalExpression(a,o)}throw this.astErrorOutput("Unknown ast type : "+a.type,a)}astErrorOutput(a,o){if(typeof this.source!="string")return new Error(a);const h=it.getAstString(this.source,o),tt=this.source.substr(o.start).split(/\n/),at=tt.length>0?tt[tt.length-1]:0;return new Error(`${a} on line ${tt.length}, position ${at.length}:
 ${h}`)}astDebuggerStatement(a,o){return o}astConditionalExpression(a,o){if(a.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",a);return o.push("("),this.astGeneric(a.test,o),o.push("?"),this.astGeneric(a.consequent,o),o.push(":"),this.astGeneric(a.alternate,o),o.push(")"),o}astFunction(a,o){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(a,o){return this.isChildFunction(a)?o:this.astFunction(a,o)}astFunctionExpression(a,o){return this.isChildFunction(a)?o:this.astFunction(a,o)}isChildFunction(a){for(let o=0;o<this.functions.length;o++)if(this.functions[o]===a)return!0;return!1}astReturnStatement(a,o){return o}astLiteral(a,o){return this.literalTypes[this.astKey(a)]="Number",o}astBinaryExpression(a,o){return o}astIdentifierExpression(a,o){return o}astAssignmentExpression(a,o){return o}astExpressionStatement(a,o){return this.astGeneric(a.expression,o),o.push(";"),o}astEmptyStatement(a,o){return o}astBlockStatement(a,o){return o}astIfStatement(a,o){return o}astSwitchStatement(a,o){return o}astBreakStatement(a,o){return o.push("break;"),o}astContinueStatement(a,o){return o.push(`continue;
`),o}astForStatement(a,o){return o}astWhileStatement(a,o){return o}astDoWhileStatement(a,o){return o}astVariableDeclarator(a,o){return this.astGeneric(a.id,o),a.init!==null&&(o.push("="),this.astGeneric(a.init,o)),o}astThisExpression(a,o){return o}astSequenceExpression(a,o){const{expressions:h}=a,g=[];for(let tt=0;tt<h.length;tt++){const at=h[tt],ht=[];this.astGeneric(at,ht),g.push(ht.join(""))}return g.length>1?o.push("(",g.join(","),")"):o.push(g[0]),o}astUnaryExpression(a,o){return this.checkAndUpconvertBitwiseUnary(a,o)||(a.prefix?(o.push(a.operator),this.astGeneric(a.argument,o)):(this.astGeneric(a.argument,o),o.push(a.operator))),o}checkAndUpconvertBitwiseUnary(a,o){}astUpdateExpression(a,o){return a.prefix?(o.push(a.operator),this.astGeneric(a.argument,o)):(this.astGeneric(a.argument,o),o.push(a.operator)),o}astLogicalExpression(a,o){return o.push("("),this.astGeneric(a.left,o),o.push(a.operator),this.astGeneric(a.right,o),o.push(")"),o}astMemberExpression(a,o){return o}astCallExpression(a,o){return o}astArrayExpression(a,o){return o}getMemberExpressionDetails(a){if(a.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${a.type} not a MemberExpression`,a);let o=null,h=null;const g=this.getVariableSignature(a);switch(g){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:g,type:"Integer",name:a.property.name};case"value[]":if(typeof a.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.name,{name:o,origin:"user",signature:g,type:this.getVariableType(a.object),xProperty:a.property};case"value[][]":if(typeof a.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.object.name,{name:o,origin:"user",signature:g,type:this.getVariableType(a.object.object),yProperty:a.object.property,xProperty:a.property};case"value[][][]":if(typeof a.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.object.object.name,{name:o,origin:"user",signature:g,type:this.getVariableType(a.object.object.object),zProperty:a.object.object.property,yProperty:a.object.property,xProperty:a.property};case"value[][][][]":if(typeof a.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",a);return o=a.object.object.object.object.name,{name:o,origin:"user",signature:g,type:this.getVariableType(a.object.object.object.object),zProperty:a.object.object.property,yProperty:a.object.property,xProperty:a.property};case"value.value":if(typeof a.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(this.isAstMathVariable(a))return o=a.property.name,{name:o,origin:"Math",type:"Number",signature:g};switch(a.property.name){case"r":case"g":case"b":case"a":return o=a.object.name,{name:o,property:a.property.name,origin:"user",signature:g,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",a)}case"this.constants.value":if(typeof a.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.property.name,h=this.getConstantType(o),!h)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:h,origin:"constants",signature:g};case"this.constants.value[]":if(typeof a.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.object.property.name,h=this.getConstantType(o),!h)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:h,origin:"constants",signature:g,xProperty:a.property};case"this.constants.value[][]":{if(typeof a.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.object.object.property.name,h=this.getConstantType(o),!h)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:h,origin:"constants",signature:g,yProperty:a.object.property,xProperty:a.property}}case"this.constants.value[][][]":{if(typeof a.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",a);if(o=a.object.object.object.property.name,h=this.getConstantType(o),!h)throw this.astErrorOutput("Constant has no type",a);return{name:o,type:h,origin:"constants",signature:g,zProperty:a.object.object.property,yProperty:a.object.property,xProperty:a.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:g,property:a.property};default:throw this.astErrorOutput("Unexpected expression",a)}}findIdentifierOrigin(a){const o=[this.ast];for(;o.length>0;){const h=o[0];if(h.type==="VariableDeclarator"&&h.id&&h.id.name&&h.id.name===a.name)return h;if(o.shift(),h.argument)o.push(h.argument);else if(h.body)o.push(h.body);else if(h.declarations)o.push(h.declarations);else if(Array.isArray(h))for(let g=0;g<h.length;g++)o.push(h[g])}return null}findLastReturn(a){const o=[a||this.ast];for(;o.length>0;){const h=o.pop();if(h.type==="ReturnStatement")return h;if(h.type!=="FunctionDeclaration")if(h.argument)o.push(h.argument);else if(h.body)o.push(h.body);else if(h.declarations)o.push(h.declarations);else if(Array.isArray(h))for(let g=0;g<h.length;g++)o.push(h[g]);else h.consequent?o.push(h.consequent):h.cases&&o.push(h.cases)}return null}getInternalVariableName(a){return this._internalVariableNames.hasOwnProperty(a)||(this._internalVariableNames[a]=0),this._internalVariableNames[a]++,this._internalVariableNames[a]===1?a:a+this._internalVariableNames[a]}astKey(a,o=","){if(!a.start||!a.end)throw new Error("AST start and end needed");return`${a.start}${o}${a.end}`}}const b={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};d.exports={FunctionNode:_}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(i,d,ft){const{utils:$}=i("../utils");function it(b){return b.length>0?b[b.length-1]:null}const nt={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class _{constructor(c){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(c)}isState(c){return this.states[this.states.length-1]===c}hasState(c){return this.states.indexOf(c)>-1}pushState(c){this.states.push(c)}popState(c){if(this.isState(c))this.states.pop();else throw new Error(`Cannot pop the non-active state "${c}"`)}get currentFunctionContext(){return it(this.functionContexts)}get currentContext(){return it(this.runningContexts)}newFunctionContext(){const c={"@contextType":"function"};this.contexts.push(c),this.functionContexts.push(c)}newContext(c){const a=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(a),this.runningContexts.push(a),c();const{currentFunctionContext:o}=this;for(const h in o)!o.hasOwnProperty(h)||a.hasOwnProperty(h)||(a[h]=o[h]);return this.runningContexts.pop(),a}useFunctionContext(c){const a=it(this.functionContexts);this.runningContexts.push(a),c(),this.runningContexts.pop()}getIdentifiers(c){const a=this.trackedIdentifiers=[];return this.pushState(nt.trackIdentifiers),c(),this.trackedIdentifiers=null,this.popState(nt.trackIdentifiers),a}getDeclaration(c){const{currentContext:a,currentFunctionContext:o,runningContexts:h}=this,g=a[c]||o[c]||null;if(!g&&a===o&&h.length>0){const tt=h[h.length-2];if(tt[c])return tt[c]}return g}scan(c){if(!!c){if(Array.isArray(c)){for(let a=0;a<c.length;a++)this.scan(c[a]);return}switch(c.type){case"Program":this.useFunctionContext(()=>{this.scan(c.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(c.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan(c.left),this.scan(c.right);break;case"BinaryExpression":this.scan(c.left),this.scan(c.right);break;case"UpdateExpression":if(c.operator==="++"){const a=this.getDeclaration(c.argument.name);a&&(a.suggestedType="Integer")}this.scan(c.argument);break;case"UnaryExpression":this.scan(c.argument);break;case"VariableDeclaration":c.kind==="var"?this.useFunctionContext(()=>{c.declarations=$.normalizeDeclarations(c),this.scan(c.declarations)}):(c.declarations=$.normalizeDeclarations(c),this.scan(c.declarations));break;case"VariableDeclarator":{const{currentContext:a}=this,o=this.hasState(nt.inForLoopInit),h={ast:c,context:a,name:c.id.name,origin:"declaration",inForLoopInit:o,inForLoopTest:null,assignable:a===this.currentFunctionContext||!o&&!a.hasOwnProperty(c.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};a[c.id.name]||(a[c.id.name]=h),this.declarations.push(h),this.scan(c.id),this.scan(c.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan(c.body):this.functions.push(c);break;case"IfStatement":this.scan(c.test),this.scan(c.consequent),c.alternate&&this.scan(c.alternate);break;case"ForStatement":{let a;const o=this.newContext(()=>{this.pushState(nt.inForLoopInit),this.scan(c.init),this.popState(nt.inForLoopInit),a=this.getIdentifiers(()=>{this.scan(c.test)}),this.scan(c.update),this.newContext(()=>{this.scan(c.body)})});if(a)for(const h in o)h!=="@contextType"&&a.indexOf(h)>-1&&(o[h].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(c.body),this.scan(c.test)});break;case"Identifier":{this.isState(nt.trackIdentifiers)&&this.trackedIdentifiers.push(c.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(c.name),ast:c});break}case"ReturnStatement":this.returnStatements.push(c),this.scan(c.argument);break;case"MemberExpression":this.pushState(nt.memberExpression),this.scan(c.object),this.scan(c.property),this.popState(nt.memberExpression);break;case"ExpressionStatement":this.scan(c.expression);break;case"SequenceExpression":this.scan(c.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:c}),this.scan(c.arguments);break;case"ArrayExpression":this.scan(c.elements);break;case"ConditionalExpression":this.scan(c.test),this.scan(c.alternate),this.scan(c.consequent);break;case"SwitchStatement":this.scan(c.discriminant),this.scan(c.cases);break;case"SwitchCase":this.scan(c.test),this.scan(c.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${c.type}"`)}}}}d.exports={FunctionTracer:_}},{"../utils":114}],12:[function(i,d,ft){const{glWiretap:$}=i("gl-wiretap"),{utils:it}=i("../../utils");function nt(h){return h.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function _(h,g,tt,at,ht){tt.built||tt.build.apply(tt,g),g=g?Array.from(g).map(an=>{switch(typeof an){case"boolean":return new Boolean(an);case"number":return new Number(an);default:return an}}):null;const _e=[],ut=$(tt.context,{useTrackablePrimitives:!0,onReadPixels:an=>{if(Zt.subKernels){if(!ct)_e.push(`    const result = { result: ${b(an,Zt)} };`),ct=!0;else{const dn=Zt.subKernels[rt++].property;_e.push(`    result${isNaN(dn)?"."+dn:`[${dn}]`} = ${b(an,Zt)};`)}rt===Zt.subKernels.length&&_e.push("    return result;");return}an?_e.push(`    return ${b(an,Zt)};`):_e.push("    return null;")},onUnrecognizedArgumentLookup:an=>{const dn=o(an,Zt.kernelArguments,[],ut);if(dn)return dn;const cn=o(an,Zt.kernelConstants,xt?Object.keys(xt).map(Ut=>xt[Ut]):[],ut);return cn||null}});let ct=!1,rt=0;const{source:st,canvas:vt,output:ot,pipeline:et,graphical:lt,loopMaxIterations:mt,constants:xt,optimizeFloatMemory:wt,precision:St,fixIntegerDivisionAccuracy:Tt,functions:kt,nativeFunctions:Vt,subKernels:Ct,immutable:Rt,argumentTypes:zt,constantTypes:Xt,kernelArguments:Pt,kernelConstants:Mt,tactic:jt}=tt,Zt=new h(st,{canvas:vt,context:ut,checkContext:!1,output:ot,pipeline:et,graphical:lt,loopMaxIterations:mt,constants:xt,optimizeFloatMemory:wt,precision:St,fixIntegerDivisionAccuracy:Tt,functions:kt,nativeFunctions:Vt,subKernels:Ct,immutable:Rt,argumentTypes:zt,constantTypes:Xt,tactic:jt});let Yt=[];if(ut.setIndent(2),Zt.build.apply(Zt,g),Yt.push(ut.toString()),ut.reset(),Zt.kernelArguments.forEach((an,dn)=>{switch(an.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":ut.insertVariable(`uploadValue_${an.name}`,an.uploadValue);break;case"HTMLImageArray":for(let cn=0;cn<g[dn].length;cn++){const Ut=g[dn];ut.insertVariable(`uploadValue_${an.name}[${cn}]`,Ut[cn])}break;case"Input":ut.insertVariable(`uploadValue_${an.name}`,an.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":ut.insertVariable(`uploadValue_${an.name}`,g[dn].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${an.type}`)}}),Yt.push("/** start of injected functions **/"),Yt.push(`function ${nt(it.flattenTo)}`),Yt.push(`function ${nt(it.flatten2dArrayTo)}`),Yt.push(`function ${nt(it.flatten3dArrayTo)}`),Yt.push(`function ${nt(it.flatten4dArrayTo)}`),Yt.push(`function ${nt(it.isArray)}`),Zt.renderOutput!==Zt.renderTexture&&Zt.formatValues&&Yt.push(`  const renderOutput = function ${nt(Zt.formatValues)};`),Yt.push("/** end of injected functions **/"),Yt.push(`  const innerKernel = function (${Zt.kernelArguments.map(an=>an.varName).join(", ")}) {`),ut.setIndent(4),Zt.run.apply(Zt,g),Zt.renderKernels?Zt.renderKernels():Zt.renderOutput&&Zt.renderOutput(),Yt.push("    /** start setup uploads for kernel values **/"),Zt.kernelArguments.forEach(an=>{Yt.push("    "+an.getStringValueHandler().split(`
`).join(`
    `))}),Yt.push("    /** end setup uploads for kernel values **/"),Yt.push(ut.toString()),Zt.renderOutput===Zt.renderTexture){ut.reset();const an=ut.getContextVariableName(Zt.framebuffer);if(Zt.renderKernels){const dn=Zt.renderKernels(),cn=ut.getContextVariableName(Zt.texture.texture);Yt.push(`    return {
      result: {
        texture: ${cn},
        type: '${dn.result.type}',
        toArray: ${a(dn.result,cn,an)}
      },`);const{subKernels:Ut,mappedTextures:Wt}=Zt;for(let Nt=0;Nt<Ut.length;Nt++){const ln=Wt[Nt],yn=Ut[Nt],rn=dn[yn.property],Un=ut.getContextVariableName(ln.texture);Yt.push(`
      ${yn.property}: {
        texture: ${Un},
        type: '${rn.type}',
        toArray: ${a(rn,Un,an)}
      },`)}Yt.push("    };")}else{const dn=Zt.renderOutput(),cn=ut.getContextVariableName(Zt.texture.texture);Yt.push(`    return {
        texture: ${cn},
        type: '${dn.type}',
        toArray: ${a(dn,cn,an)}
      };`)}}Yt.push(`    ${ht?`
`+ht+"    ":""}`),Yt.push(_e.join(`
`)),Yt.push("  };"),Zt.graphical&&(Yt.push(c(Zt)),Yt.push("  innerKernel.getPixels = getPixels;")),Yt.push("  return innerKernel;");let fn=[];return Mt.forEach(an=>{fn.push(`${an.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${fn.join("")}
  ${at||""}
${Yt.join(`
`)}
}`}function b(h,g){const tt=g.precision==="single"?h:`new Float32Array(${h}.buffer)`;return g.output[2]?`renderOutput(${tt}, ${g.output[0]}, ${g.output[1]}, ${g.output[2]})`:g.output[1]?`renderOutput(${tt}, ${g.output[0]}, ${g.output[1]})`:`renderOutput(${tt}, ${g.output[0]})`}function c(h){const g=h.getPixels.toString(),tt=!/^function/.test(g);return it.flattenFunctionToString(`${tt?"function ":""}${g}`,{findDependency:(at,ht)=>at==="utils"?`const ${ht} = ${it[ht].toString()};`:null,thisLookup:at=>{if(at==="context")return null;if(h.hasOwnProperty(at))return JSON.stringify(h[at]);throw new Error(`unhandled thisLookup ${at}`)}})}function a(h,g,tt){const at=h.toArray.toString(),ht=!/^function/.test(at),_e=it.flattenFunctionToString(`${ht?"function ":""}${at}`,{findDependency:(ut,ct)=>{if(ut==="utils")return`const ${ct} = ${it[ct].toString()};`;if(ut==="this")return ct==="framebuffer"?"":`${ht?"function ":""}${h[ct].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(ut,ct)=>{if(ut==="texture")return g;if(ut==="context")return ct?null:"gl";if(h.hasOwnProperty(ut))return JSON.stringify(h[ut]);throw new Error(`unhandled thisLookup ${ut}`)}});return`() => {
  function framebuffer() { return ${tt}; };
  ${_e}
  return toArray();
  }`}function o(h,g,tt,at,ht){if(h===null||g===null)return null;switch(typeof h){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement)for(let _e=0;_e<g.length;_e++){const ut=g[_e];if(ut.type!=="HTMLImageArray"&&ut||ut.uploadValue!==h)continue;const ct=tt[_e].indexOf(h);if(ct===-1)continue;const rt=`uploadValue_${ut.name}[${ct}]`;return at.insertVariable(rt,h),rt}for(let _e=0;_e<g.length;_e++){const ut=g[_e];if(h!==ut.uploadValue)continue;const ct=`uploadValue_${ut.name}`;return at.insertVariable(ct,ut),ct}return null}d.exports={glKernelString:_}},{"../../utils":114,"gl-wiretap":3}],13:[function(i,d,ft){const{Kernel:$}=i("../kernel"),{utils:it}=i("../../utils"),{GLTextureArray2Float:nt}=i("./texture/array-2-float"),{GLTextureArray2Float2D:_}=i("./texture/array-2-float-2d"),{GLTextureArray2Float3D:b}=i("./texture/array-2-float-3d"),{GLTextureArray3Float:c}=i("./texture/array-3-float"),{GLTextureArray3Float2D:a}=i("./texture/array-3-float-2d"),{GLTextureArray3Float3D:o}=i("./texture/array-3-float-3d"),{GLTextureArray4Float:h}=i("./texture/array-4-float"),{GLTextureArray4Float2D:g}=i("./texture/array-4-float-2d"),{GLTextureArray4Float3D:tt}=i("./texture/array-4-float-3d"),{GLTextureFloat:at}=i("./texture/float"),{GLTextureFloat2D:ht}=i("./texture/float-2d"),{GLTextureFloat3D:_e}=i("./texture/float-3d"),{GLTextureMemoryOptimized:ut}=i("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:ct}=i("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:rt}=i("./texture/memory-optimized-3d"),{GLTextureUnsigned:st}=i("./texture/unsigned"),{GLTextureUnsigned2D:vt}=i("./texture/unsigned-2d"),{GLTextureUnsigned3D:ot}=i("./texture/unsigned-3d"),{GLTextureGraphical:et}=i("./texture/graphical");class lt extends ${static get mode(){return"gpu"}static getIsFloatRead(){const wt=`function kernelFunction() {
      return 1;
    }`,St=new this(wt,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});St.build(),St.run();const Tt=St.renderOutput();return St.destroy(!0),Tt[0]===1}static getIsIntegerDivisionAccurate(){function wt(Vt,Ct){return Vt[this.thread.x]/Ct[this.thread.x]}const St=new this(wt.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),Tt=[[6,6030401],[3,3991]];St.build.apply(St,Tt),St.run.apply(St,Tt);const kt=St.renderOutput();return St.destroy(!0),kt[0]===2&&kt[1]===1511}static getIsSpeedTacticSupported(){function wt(Vt){return Vt[this.thread.x]}const St=new this(wt.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),Tt=[[0,1,2,3]];St.build.apply(St,Tt),St.run.apply(St,Tt);const kt=St.renderOutput();return St.destroy(!0),Math.round(kt[0])===0&&Math.round(kt[1])===1&&Math.round(kt[2])===2&&Math.round(kt[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const wt=this.testContext,St=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:St,kernelMap:St,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:wt.getShaderPrecisionFormat(wt.FRAGMENT_SHADER,wt.LOW_INT),lowFloatPrecision:wt.getShaderPrecisionFormat(wt.FRAGMENT_SHADER,wt.LOW_FLOAT),mediumIntPrecision:wt.getShaderPrecisionFormat(wt.FRAGMENT_SHADER,wt.MEDIUM_INT),mediumFloatPrecision:wt.getShaderPrecisionFormat(wt.FRAGMENT_SHADER,wt.MEDIUM_FLOAT),highIntPrecision:wt.getShaderPrecisionFormat(wt.FRAGMENT_SHADER,wt.HIGH_INT),highFloatPrecision:wt.getShaderPrecisionFormat(wt.FRAGMENT_SHADER,wt.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(wt,St){return wt.getVariablePrecisionString()+(St.length>0?":"+St.join(","):"")}setFixIntegerDivisionAccuracy(wt){return this.fixIntegerDivisionAccuracy=wt,this}setPrecision(wt){return this.precision=wt,this}setFloatTextures(wt){return it.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=wt,this}static nativeFunctionArguments(wt){const St=[],Tt=[],kt=[],Vt=/^[a-zA-Z_]/,Ct=/[a-zA-Z_0-9]/;let Rt=0,zt=null,Xt=null;for(;Rt<wt.length;){const Pt=wt[Rt],Mt=wt[Rt+1],jt=kt.length>0?kt[kt.length-1]:null;if(jt==="FUNCTION_ARGUMENTS"&&Pt==="/"&&Mt==="*"){kt.push("MULTI_LINE_COMMENT"),Rt+=2;continue}else if(jt==="MULTI_LINE_COMMENT"&&Pt==="*"&&Mt==="/"){kt.pop(),Rt+=2;continue}else if(jt==="FUNCTION_ARGUMENTS"&&Pt==="/"&&Mt==="/"){kt.push("COMMENT"),Rt+=2;continue}else if(jt==="COMMENT"&&Pt===`
`){kt.pop(),Rt++;continue}else if(jt===null&&Pt==="("){kt.push("FUNCTION_ARGUMENTS"),Rt++;continue}else if(jt==="FUNCTION_ARGUMENTS"){if(Pt===")"){kt.pop();break}if(Pt==="f"&&Mt==="l"&&wt[Rt+2]==="o"&&wt[Rt+3]==="a"&&wt[Rt+4]==="t"&&wt[Rt+5]===" "){kt.push("DECLARE_VARIABLE"),Xt="float",zt="",Rt+=6;continue}else if(Pt==="i"&&Mt==="n"&&wt[Rt+2]==="t"&&wt[Rt+3]===" "){kt.push("DECLARE_VARIABLE"),Xt="int",zt="",Rt+=4;continue}else if(Pt==="v"&&Mt==="e"&&wt[Rt+2]==="c"&&wt[Rt+3]==="2"&&wt[Rt+4]===" "){kt.push("DECLARE_VARIABLE"),Xt="vec2",zt="",Rt+=5;continue}else if(Pt==="v"&&Mt==="e"&&wt[Rt+2]==="c"&&wt[Rt+3]==="3"&&wt[Rt+4]===" "){kt.push("DECLARE_VARIABLE"),Xt="vec3",zt="",Rt+=5;continue}else if(Pt==="v"&&Mt==="e"&&wt[Rt+2]==="c"&&wt[Rt+3]==="4"&&wt[Rt+4]===" "){kt.push("DECLARE_VARIABLE"),Xt="vec4",zt="",Rt+=5;continue}}else if(jt==="DECLARE_VARIABLE"){if(zt===""){if(Pt===" "){Rt++;continue}if(!Vt.test(Pt))throw new Error("variable name is not expected string")}zt+=Pt,Ct.test(Mt)||(kt.pop(),Tt.push(zt),St.push(mt[Xt]))}Rt++}if(kt.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:Tt,argumentTypes:St}}static nativeFunctionReturnType(wt){return mt[wt.match(/int|float|vec[2-4]/)[0]]}static combineKernels(wt,St){wt.apply(null,arguments);const{texSize:Tt,context:kt,threadDim:Vt}=St.texSize;let Ct;if(St.precision==="single"){const Rt=Tt[0],zt=Math.ceil(Tt[1]/4);Ct=new Float32Array(Rt*zt*4*4),kt.readPixels(0,0,Rt,zt*4,kt.RGBA,kt.FLOAT,Ct)}else{const Rt=new Uint8Array(Tt[0]*Tt[1]*4);kt.readPixels(0,0,Tt[0],Tt[1],kt.RGBA,kt.UNSIGNED_BYTE,Rt),Ct=new Float32Array(Rt.buffer)}if(Ct=Ct.subarray(0,Vt[0]*Vt[1]*Vt[2]),St.output.length===1)return Ct;if(St.output.length===2)return it.splitArray(Ct,St.output[0]);if(St.output.length===3)return it.splitArray(Ct,St.output[0]*St.output[1]).map(function(zt){return it.splitArray(zt,St.output[0])})}constructor(wt,St){super(wt,St),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:wt}=this.constructor;if(this.texSize[0]>wt.maxTextureSize||this.texSize[1]>wt.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${wt.maxTextureSize},${wt.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(wt){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=St=>St,this.TextureConstructor=et,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=ot,null):this.output[1]>0?(this.TextureConstructor=vt,null):(this.TextureConstructor=st,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(wt)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=ot,this.formatValues=it.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=vt,this.formatValues=it.erect2DPackedFloat,null):(this.TextureConstructor=st,this.formatValues=it.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(wt)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=rt,null):this.output[1]>0?(this.TextureConstructor=ct,null):(this.TextureConstructor=ut,null):this.output[2]>0?(this.TextureConstructor=_e,null):this.output[1]>0?(this.TextureConstructor=ht,null):(this.TextureConstructor=at,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=b,null):this.output[1]>0?(this.TextureConstructor=_,null):(this.TextureConstructor=nt,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,null):this.output[1]>0?(this.TextureConstructor=a,null):(this.TextureConstructor=c,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=tt,null):this.output[1]>0?(this.TextureConstructor=g,null):(this.TextureConstructor=h,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=rt,this.formatValues=it.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=ct,this.formatValues=it.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=ut,this.formatValues=it.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=b,this.formatValues=it.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=it.erect2DArray2,null):(this.TextureConstructor=nt,this.formatValues=it.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=it.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=it.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=it.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=tt,this.formatValues=it.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=g,this.formatValues=it.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=it.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=_e,this.formatValues=it.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=ht,this.formatValues=it.erect2DFloat,null):(this.TextureConstructor=at,this.formatValues=it.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=b,this.formatValues=it.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=_,this.formatValues=it.erect2DArray2,null):(this.TextureConstructor=nt,this.formatValues=it.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=it.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=it.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=it.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=tt,this.formatValues=it.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=g,this.formatValues=it.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=it.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return it.linesToString(this.getMainResultKernelNumberTexture())+it.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return it.linesToString(this.getMainResultKernelArray2Texture())+it.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return it.linesToString(this.getMainResultKernelArray3Texture())+it.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return it.linesToString(this.getMainResultKernelArray4Texture())+it.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:wt,context:St}=this,Tt=new Uint8Array(wt[0]*wt[1]*4);return St.readPixels(0,0,wt[0],wt[1],St.RGBA,St.UNSIGNED_BYTE,Tt),Tt}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:wt,context:St}=this,Tt=wt[0],kt=wt[1],Vt=new Float32Array(Tt*kt*4);return St.readPixels(0,0,Tt,kt,St.RGBA,St.FLOAT,Vt),Vt}getPixels(wt){const{context:St,output:Tt}=this,[kt,Vt]=Tt,Ct=new Uint8Array(kt*Vt*4);return St.readPixels(0,0,kt,Vt,St.RGBA,St.UNSIGNED_BYTE,Ct),new Uint8ClampedArray((wt?Ct:it.flipPixels(Ct,kt,Vt)).buffer)}renderKernelsToArrays(){const wt={result:this.renderOutput()};for(let St=0;St<this.subKernels.length;St++)wt[this.subKernels[St].property]=this.mappedTextures[St].toArray();return wt}renderKernelsToTextures(){const wt={result:this.renderOutput()};if(this.immutable)for(let St=0;St<this.subKernels.length;St++)wt[this.subKernels[St].property]=this.mappedTextures[St].clone();else for(let St=0;St<this.subKernels.length;St++)wt[this.subKernels[St].property]=this.mappedTextures[St];return wt}resetSwitchingKernels(){const wt=this.switchingKernels;return this.switchingKernels=null,wt}setOutput(wt){const St=this.toKernelOutput(wt);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const Tt=[St[0],St[1]||1,St[2]||1],kt=it.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},Tt),Vt=this.texSize;if(Vt){const Rt=this.getVariablePrecisionString(Vt,this.tactic),zt=this.getVariablePrecisionString(kt,this.tactic);if(Rt!==zt){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:zt,needed:wt});return}}this.output=St,this.threadDim=Tt,this.texSize=kt;const{context:Ct}=this;if(Ct.bindFramebuffer(Ct.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],Ct.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Rt=0;Rt<this.mappedTextures.length;Rt++)this.mappedTextures[Rt].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=St;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(wt){this.switchingKernels?this.switchingKernels.push(wt):this.switchingKernels=[wt]}getVariablePrecisionString(wt=this.texSize,St=this.tactic,Tt=!1){if(!St){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const kt=this.constructor.features[Tt?"lowIntPrecision":"lowFloatPrecision"],Vt=this.constructor.features[Tt?"mediumIntPrecision":"mediumFloatPrecision"],Ct=this.constructor.features[Tt?"highIntPrecision":"highFloatPrecision"],Rt=Math.log2(wt[0]*wt[1]);if(Rt<=kt.rangeMax)return"lowp";if(Rt<=Vt.rangeMax)return"mediump";if(Rt<=Ct.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(St){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${St}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(wt,St){if(!!this.immutable){if(this.texture.texture===St.texture){const{prevArg:Tt}=wt;Tt&&(Tt.texture._refs===1&&(this.texture.delete(),this.texture=Tt.clone(),this._textureSwitched=!0),Tt.delete()),wt.prevArg=St.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:Tt}=this;for(let kt=0;kt<Tt.length;kt++){const Vt=Tt[kt];if(Vt.texture===St.texture){const{prevArg:Ct}=wt;Ct&&(Ct.texture._refs===1&&(Vt.delete(),Tt[kt]=Ct.clone(),this._mappedTextureSwitched[kt]=!0),Ct.delete()),wt.prevArg=St.clone();return}}}}}onActivate(wt){if(this._textureSwitched=!0,this.texture=wt.texture,this.mappedTextures){for(let St=0;St<this.mappedTextures.length;St++)this._mappedTextureSwitched[St]=!0;this.mappedTextures=wt.mappedTextures}}initCanvas(){}}const mt={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};d.exports={GLKernel:lt}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(2)"}toArray(){return $.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureArray2Float2D:nt}},{"../../../utils":114,"./float":25}],15:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(2)"}toArray(){return $.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}d.exports={GLTextureArray2Float3D:nt}},{"../../../utils":114,"./float":25}],16:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(2)"}toArray(){return $.erectArray2(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureArray2Float:nt}},{"../../../utils":114,"./float":25}],17:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(3)"}toArray(){return $.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureArray3Float2D:nt}},{"../../../utils":114,"./float":25}],18:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(3)"}toArray(){return $.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}d.exports={GLTextureArray3Float3D:nt}},{"../../../utils":114,"./float":25}],19:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(3)"}toArray(){return $.erectArray3(this.renderValues(),this.output[0])}}d.exports={GLTextureArray3Float:nt}},{"../../../utils":114,"./float":25}],20:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(4)"}toArray(){return $.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureArray4Float2D:nt}},{"../../../utils":114,"./float":25}],21:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(4)"}toArray(){return $.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}d.exports={GLTextureArray4Float3D:nt}},{"../../../utils":114,"./float":25}],22:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(4)"}toArray(){return $.erectArray4(this.renderValues(),this.output[0])}}d.exports={GLTextureArray4Float:nt}},{"../../../utils":114,"./float":25}],23:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(1)"}toArray(){return $.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureFloat2D:nt}},{"../../../utils":114,"./float":25}],24:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="ArrayTexture(1)"}toArray(){return $.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}d.exports={GLTextureFloat3D:nt}},{"../../../utils":114,"./float":25}],25:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTexture:it}=i("./index");class nt extends it{get textureType(){return this.context.FLOAT}constructor(b){super(b),this.type="ArrayTexture(1)"}renderRawOutput(){const b=this.context,c=this.size;b.bindFramebuffer(b.FRAMEBUFFER,this.framebuffer()),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture,0);const a=new Float32Array(c[0]*c[1]*4);return b.readPixels(0,0,c[0],c[1],b.RGBA,b.FLOAT,a),a}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return $.erectFloat(this.renderValues(),this.output[0])}}d.exports={GLTextureFloat:nt}},{"../../../utils":114,"./index":27}],26:[function(i,d,ft){const{GLTextureUnsigned:$}=i("./unsigned");class it extends ${constructor(_){super(_),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}d.exports={GLTextureGraphical:it}},{"./unsigned":33}],27:[function(i,d,ft){const{Texture:$}=i("../../../texture");class it extends ${get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:b,size:c,texture:a,kernel:o}=this;o.debug&&console.warn("cloning internal texture"),b.bindFramebuffer(b.FRAMEBUFFER,this.framebuffer()),nt(b,a),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,a,0);const h=b.createTexture();nt(b,h),b.texImage2D(b.TEXTURE_2D,0,this.internalFormat,c[0],c[1],0,this.textureFormat,this.textureType,null),b.copyTexSubImage2D(b.TEXTURE_2D,0,0,0,0,0,c[0],c[1]),h._refs=1,this.texture=h}newTexture(){this.texture._refs--;const b=this.context,c=this.size;this.kernel.debug&&console.warn("new internal texture");const o=b.createTexture();nt(b,o),b.texImage2D(b.TEXTURE_2D,0,this.internalFormat,c[0],c[1],0,this.textureFormat,this.textureType,null),o._refs=1,this.texture=o}clear(){if(this.texture._refs){this.texture._refs--;const a=this.context,o=this.texture=a.createTexture();nt(a,o);const h=this.size;o._refs=1,a.texImage2D(a.TEXTURE_2D,0,this.internalFormat,h[0],h[1],0,this.textureFormat,this.textureType,null)}const{context:b,texture:c}=this;b.bindFramebuffer(b.FRAMEBUFFER,this.framebuffer()),b.bindTexture(b.TEXTURE_2D,c),nt(b,c),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,c,0),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function nt(_,b){_.activeTexture(_.TEXTURE15),_.bindTexture(_.TEXTURE_2D,b),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST)}d.exports={GLTexture:it}},{"../../../texture":113}],28:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="MemoryOptimizedNumberTexture"}toArray(){return $.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureMemoryOptimized2D:nt}},{"../../../utils":114,"./float":25}],29:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="MemoryOptimizedNumberTexture"}toArray(){return $.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}d.exports={GLTextureMemoryOptimized3D:nt}},{"../../../utils":114,"./float":25}],30:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureFloat:it}=i("./float");class nt extends it{constructor(b){super(b),this.type="MemoryOptimizedNumberTexture"}toArray(){return $.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}d.exports={GLTextureMemoryOptimized:nt}},{"../../../utils":114,"./float":25}],31:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureUnsigned:it}=i("./unsigned");class nt extends it{constructor(b){super(b),this.type="NumberTexture"}toArray(){return $.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}d.exports={GLTextureUnsigned2D:nt}},{"../../../utils":114,"./unsigned":33}],32:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTextureUnsigned:it}=i("./unsigned");class nt extends it{constructor(b){super(b),this.type="NumberTexture"}toArray(){return $.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}d.exports={GLTextureUnsigned3D:nt}},{"../../../utils":114,"./unsigned":33}],33:[function(i,d,ft){const{utils:$}=i("../../../utils"),{GLTexture:it}=i("./index");class nt extends it{get textureType(){return this.context.UNSIGNED_BYTE}constructor(b){super(b),this.type="NumberTexture"}renderRawOutput(){const{context:b}=this;b.bindFramebuffer(b.FRAMEBUFFER,this.framebuffer()),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture,0);const c=new Uint8Array(this.size[0]*this.size[1]*4);return b.readPixels(0,0,this.size[0],this.size[1],b.RGBA,b.UNSIGNED_BYTE,c),c}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return $.erectPackedFloat(this.renderValues(),this.output[0])}}d.exports={GLTextureUnsigned:nt}},{"../../../utils":114,"./index":27}],34:[function(i,d,ft){const $=i("gl"),{WebGLKernel:it}=i("../web-gl/kernel"),{glKernelString:nt}=i("../gl/kernel-string");let _=null,b=null,c=null,a=null,o=null;class h extends it{static get isSupported(){return _!==null||(this.setupFeatureChecks(),_=c!==null),_}static setupFeatureChecks(){if(b=null,a=null,typeof $=="function")try{if(c=$(2,2,{preserveDrawingBuffer:!0}),!c||!c.getExtension)return;a={STACKGL_resize_drawingbuffer:c.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:c.getExtension("STACKGL_destroy_context"),OES_texture_float:c.getExtension("OES_texture_float"),OES_texture_float_linear:c.getExtension("OES_texture_float_linear"),OES_element_index_uint:c.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:c.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:c.getExtension("WEBGL_color_buffer_float")},o=this.getFeatures()}catch(tt){console.warn(tt)}}static isContextMatch(tt){try{return tt.getParameter(tt.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return Boolean(a.OES_texture_float)}static getIsDrawBuffers(){return Boolean(a.WEBGL_draw_buffers)}static getChannelCount(){return a.WEBGL_draw_buffers?c.getParameter(a.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return c.getParameter(c.MAX_TEXTURE_SIZE)}static get testCanvas(){return b}static get testContext(){return c}static get features(){return o}initCanvas(){return{}}initContext(){return $(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(tt){const at=tt.getExtension("STACKGL_destroy_context");at&&at.destroy&&at.destroy()}toString(){const tt=`const gl = context || require('gl')(1, 1);
`,at=`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`;return nt(this.constructor,arguments,this,tt,at)}setOutput(tt){return super.setOutput(tt),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}d.exports={HeadlessGLKernel:h}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(i,d,ft){class ${constructor(nt,_){const{name:b,kernel:c,context:a,checkContext:o,onRequestContextHandle:h,onUpdateValueMismatch:g,origin:tt,strictIntegers:at,type:ht,tactic:_e}=_;if(!b)throw new Error("name not set");if(!ht)throw new Error("type not set");if(!tt)throw new Error("origin not set");if(tt!=="user"&&tt!=="constants")throw new Error(`origin must be "user" or "constants" value is "${tt}"`);if(!h)throw new Error("onRequestContextHandle is not set");this.name=b,this.origin=tt,this.tactic=_e,this.varName=tt==="constants"?`constants.${b}`:b,this.kernel=c,this.strictIntegers=at,this.type=nt.type||ht,this.size=nt.size||null,this.index=null,this.context=a,this.checkContext=o!=null?o:!0,this.contextHandle=null,this.onRequestContextHandle=h,this.onUpdateValueMismatch=g,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(nt){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}d.exports={KernelValue:$}},{}],36:[function(i,d,ft){const{utils:$}=i("../utils"),{Input:it}=i("../input");class nt{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(c){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(c){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(c,a){if(typeof c!="object"){if(typeof c!="string")throw new Error("source not a string");if(!$.isFunctionString(c))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof c=="string"?$.getArgumentNamesFromString(c):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=c,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(c){for(let a in c)if(!(!c.hasOwnProperty(a)||!this.hasOwnProperty(a))){switch(a){case"output":if(!Array.isArray(c.output)){this.setOutput(c.output);continue}break;case"functions":this.functions=[];for(let o=0;o<c.functions.length;o++)this.addFunction(c.functions[o]);continue;case"graphical":c[a]&&!c.hasOwnProperty("precision")&&(this.precision="unsigned"),this[a]=c[a];continue;case"nativeFunctions":if(!c.nativeFunctions)continue;this.nativeFunctions=[];for(let o=0;o<c.nativeFunctions.length;o++){const h=c.nativeFunctions[o],{name:g,source:tt}=h;this.addNativeFunction(g,tt,h)}continue}this[a]=c[a]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(c))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(c){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(c,a={}){if(c.name&&c.source&&c.argumentTypes&&"returnType"in c)this.functions.push(c);else if("settings"in c&&"source"in c)this.functions.push(this.functionToIGPUFunction(c.source,c.settings));else if(typeof c=="string"||typeof c=="function")this.functions.push(this.functionToIGPUFunction(c,a));else throw new Error("function not properly defined");return this}addNativeFunction(c,a,o={}){const{argumentTypes:h,argumentNames:g}=o.argumentTypes?_(o.argumentTypes):this.constructor.nativeFunctionArguments(a)||{};return this.nativeFunctions.push({name:c,source:a,settings:o,argumentTypes:h,argumentNames:g,returnType:o.returnType||this.constructor.nativeFunctionReturnType(a)}),this}setupArguments(c){if(this.kernelArguments=[],this.argumentTypes)for(let a=0;a<this.argumentTypes.length;a++)this.kernelArguments.push({type:this.argumentTypes[a]});else if(!this.argumentTypes){this.argumentTypes=[];for(let a=0;a<c.length;a++){const o=$.getVariableType(c[a],this.strictIntegers),h=o==="Integer"?"Number":o;this.argumentTypes.push(h),this.kernelArguments.push({type:h})}}this.argumentSizes=new Array(c.length),this.argumentBitRatios=new Int32Array(c.length);for(let a=0;a<c.length;a++){const o=c[a];this.argumentSizes[a]=o.constructor===it?o.size:null,this.argumentBitRatios[a]=this.getBitRatio(o)}if(this.argumentNames.length!==c.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let c=this.constantTypes===null;if(c&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let a in this.constants){if(c){const o=$.getVariableType(this.constants[a],this.strictIntegers);this.constantTypes[a]=o,this.kernelConstants.push({name:a,type:o})}else this.kernelConstants.push({name:a,type:this.constantTypes[a]});this.constantBitRatios[a]=this.getBitRatio(this.constants[a])}}setOptimizeFloatMemory(c){return this.optimizeFloatMemory=c,this}toKernelOutput(c){return c.hasOwnProperty("x")?c.hasOwnProperty("y")?c.hasOwnProperty("z")?[c.x,c.y,c.z]:[c.x,c.y]:[c.x]:c}setOutput(c){return this.output=this.toKernelOutput(c),this}setDebug(c){return this.debug=c,this}setGraphical(c){return this.graphical=c,this.precision="unsigned",this}setLoopMaxIterations(c){return this.loopMaxIterations=c,this}setConstants(c){return this.constants=c,this}setConstantTypes(c){return this.constantTypes=c,this}setFunctions(c){for(let a=0;a<c.length;a++)this.addFunction(c[a]);return this}setNativeFunctions(c){for(let a=0;a<c.length;a++){const o=c[a],{name:h,source:g}=o;this.addNativeFunction(h,g,o)}return this}setInjectedNative(c){return this.injectedNative=c,this}setPipeline(c){return this.pipeline=c,this}setPrecision(c){return this.precision=c,this}setDimensions(c){return $.warnDeprecated("method","setDimensions","setOutput"),this.output=c,this}setOutputToTexture(c){return $.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=c,this}setImmutable(c){return this.immutable=c,this}setCanvas(c){return this.canvas=c,this}setStrictIntegers(c){return this.strictIntegers=c,this}setDynamicOutput(c){return this.dynamicOutput=c,this}setHardcodeConstants(c){return $.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(c),this.setDynamicArguments(c),this}setDynamicArguments(c){return this.dynamicArguments=c,this}setUseLegacyEncoder(c){return this.useLegacyEncoder=c,this}setWarnVarUsage(c){return $.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return $.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return $.warnDeprecated("method","getWebGl"),this.context}setContext(c){return this.context=c,this}setArgumentTypes(c){if(Array.isArray(c))this.argumentTypes=c;else{this.argumentTypes=[];for(const a in c){if(!c.hasOwnProperty(a))continue;const o=this.argumentNames.indexOf(a);if(o===-1)throw new Error(`unable to find argument ${a}`);this.argumentTypes[o]=c[a]}}return this}setTactic(c){return this.tactic=c,this}requestFallback(c){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(c)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(c){if(this.subKernels===null&&(this.subKernels=[]),!c.source)throw new Error('subKernel missing "source" property');if(!c.property&&isNaN(c.property))throw new Error('subKernel missing "property" property');if(!c.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(c),this}destroy(c){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(c){if(this.precision==="single")return 4;if(Array.isArray(c[0]))return this.getBitRatio(c[0]);if(c.constructor===it)return this.getBitRatio(c.value);switch(c.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(c){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!$.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let c=0;c<this.output.length;c++)if(isNaN(this.output[c])||this.output[c]<1)throw new Error(`${this.constructor.name}.output[${c}] incorrectly defined as \`${this.output[c]}\`, needs to be numeric, and greater than 0`)}prependString(c){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(c){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(c=>c.name):null,returnType:this.returnType}}}buildSignature(c){const a=this.constructor;this.signature=a.getSignature(this,a.getArgumentTypes(this,c))}static getArgumentTypes(c,a){const o=new Array(a.length);for(let h=0;h<a.length;h++){const g=a[h],tt=c.argumentTypes[h];if(g.type)o[h]=g.type;else switch(tt){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":o[h]=$.getVariableType(g);break;default:o[h]=tt}}return o}static getSignature(c,a){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(c,a={}){if(typeof c!="string"&&typeof c!="function")throw new Error("source not a string or function");const o=typeof c=="string"?c:c.toString();let h=[];return Array.isArray(a.argumentTypes)?h=a.argumentTypes:typeof a.argumentTypes=="object"?h=$.getArgumentNamesFromString(o).map(g=>a.argumentTypes[g])||[]:h=a.argumentTypes||[],{name:$.getFunctionNameFromString(o)||null,source:o,argumentTypes:h,returnType:a.returnType||null}}onActivate(c){}}function _(b){const c=Object.keys(b),a=[];for(let o=0;o<c.length;o++){const h=c[o];a.push(b[h])}return{argumentTypes:a,argumentNames:c}}d.exports={Kernel:nt}},{"../input":110,"../utils":114}],37:[function(i,d,ft){const $=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;d.exports={fragmentShader:$}},{}],38:[function(i,d,ft){const{utils:$}=i("../../utils"),{FunctionNode:it}=i("../function-node");class nt extends it{constructor(a,o){super(a,o),o&&o.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=o.fixIntegerDivisionAccuracy)}astConditionalExpression(a,o){if(a.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",a);const h=this.getType(a.consequent),g=this.getType(a.alternate);return h===null&&g===null?(o.push("if ("),this.astGeneric(a.test,o),o.push(") {"),this.astGeneric(a.consequent,o),o.push(";"),o.push("} else {"),this.astGeneric(a.alternate,o),o.push(";"),o.push("}"),o):(o.push("("),this.astGeneric(a.test,o),o.push("?"),this.astGeneric(a.consequent,o),o.push(":"),this.astGeneric(a.alternate,o),o.push(")"),o)}astFunction(a,o){if(this.isRootKernel)o.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(a.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:h}=this;if(!h)o.push("void");else{const g=_[h];if(!g)throw new Error(`unknown type ${h}`);o.push(g)}}if(o.push(" "),o.push(this.name),o.push("("),!this.isRootKernel)for(let h=0;h<this.argumentNames.length;++h){const g=this.argumentNames[h];h>0&&o.push(", ");let tt=this.argumentTypes[this.argumentNames.indexOf(g)];if(!tt)throw this.astErrorOutput(`Unknown argument ${g} type`,a);tt==="LiteralInteger"&&(this.argumentTypes[h]=tt="Number");const at=_[tt];if(!at)throw this.astErrorOutput("Unexpected expression",a);const ht=$.sanitizeName(g);at==="sampler2D"||at==="sampler2DArray"?o.push(`${at} user_${ht},ivec2 user_${ht}Size,ivec3 user_${ht}Dim`):o.push(`${at} user_${ht}`)}o.push(`) {
`);for(let h=0;h<a.body.body.length;++h)this.astGeneric(a.body.body[h],o),o.push(`
`);return o.push(`}
`),o}astReturnStatement(a,o){if(!a.argument)throw this.astErrorOutput("Unexpected return statement",a);this.pushState("skip-literal-correction");const h=this.getType(a.argument);this.popState("skip-literal-correction");const g=[];switch(this.returnType||(h==="LiteralInteger"||h==="Integer"?this.returnType="Number":this.returnType=h),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(h){case"Integer":g.push("float("),this.astGeneric(a.argument,g),g.push(")");break;case"LiteralInteger":this.castLiteralToFloat(a.argument,g),this.getType(a)==="Integer"&&(g.unshift("float("),g.push(")"));break;default:this.astGeneric(a.argument,g)}break;case"Integer":switch(h){case"Float":case"Number":this.castValueToInteger(a.argument,g);break;case"LiteralInteger":this.castLiteralToInteger(a.argument,g);break;default:this.astGeneric(a.argument,g)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(a.argument,g);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,a)}return this.isRootKernel?(o.push(`kernelResult = ${g.join("")};`),o.push("return;")):this.isSubKernel?(o.push(`subKernelResult_${this.name} = ${g.join("")};`),o.push(`return subKernelResult_${this.name};`)):o.push(`return ${g.join("")};`),o}astLiteral(a,o){if(isNaN(a.value))throw this.astErrorOutput("Non-numeric literal not supported : "+a.value,a);const h=this.astKey(a);return Number.isInteger(a.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[h]="Integer",o.push(`${a.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[h]="Number",o.push(`${a.value}.0`)):(this.literalTypes[h]="Number",o.push(`${a.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[h]="Integer",o.push(Math.round(a.value))):(this.literalTypes[h]="Number",o.push(`${a.value}`)),o}astBinaryExpression(a,o){if(this.checkAndUpconvertOperator(a,o))return o;if(this.fixIntegerDivisionAccuracy&&a.operator==="/"){switch(o.push("divWithIntCheck("),this.pushState("building-float"),this.getType(a.left)){case"Integer":this.castValueToFloat(a.left,o);break;case"LiteralInteger":this.castLiteralToFloat(a.left,o);break;default:this.astGeneric(a.left,o)}switch(o.push(", "),this.getType(a.right)){case"Integer":this.castValueToFloat(a.right,o);break;case"LiteralInteger":this.castLiteralToFloat(a.right,o);break;default:this.astGeneric(a.right,o)}return this.popState("building-float"),o.push(")"),o}o.push("(");const h=this.getType(a.left)||"Number",g=this.getType(a.right)||"Number";if(!h||!g)throw this.astErrorOutput("Unhandled binary expression",a);const tt=h+" & "+g;switch(tt){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(a.left,o),o.push(b[a.operator]||a.operator),this.castLiteralToFloat(a.right,o),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((a.operator===">"||a.operator==="<"&&a.right.type==="Literal")&&!Number.isInteger(a.right.value)){this.pushState("building-float"),this.castValueToFloat(a.left,o),o.push(b[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.pushState("casting-to-integer"),a.right.type==="Literal"){const at=[];if(this.astGeneric(a.right,at),this.getType(a.right)==="Integer")o.push(at.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",a)}else o.push("int("),this.astGeneric(a.right,o),o.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.castLiteralToInteger(a.right,o),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.castValueToFloat(a.right,o),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.castLiteralToFloat(a.right,o),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(a.left,o),o.push(b[a.operator]||a.operator),this.castValueToInteger(a.right,o),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.pushState("casting-to-float"),this.astGeneric(a.right,o),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(a.left,o),o.push(b[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.astGeneric(a.right,o),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(a.left,o),o.push(b[a.operator]||a.operator),this.castValueToFloat(a.right,o),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${tt}`,a)}return o.push(")"),o}checkAndUpconvertOperator(a,o){const h=this.checkAndUpconvertBitwiseOperators(a,o);if(h)return h;const tt={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[a.operator];if(!tt)return null;switch(o.push(tt),o.push("("),this.getType(a.left)){case"Integer":this.castValueToFloat(a.left,o);break;case"LiteralInteger":this.castLiteralToFloat(a.left,o);break;default:this.astGeneric(a.left,o)}switch(o.push(","),this.getType(a.right)){case"Integer":this.castValueToFloat(a.right,o);break;case"LiteralInteger":this.castLiteralToFloat(a.right,o);break;default:this.astGeneric(a.right,o)}return o.push(")"),o}checkAndUpconvertBitwiseOperators(a,o){const g={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[a.operator];if(!g)return null;switch(o.push(g),o.push("("),this.getType(a.left)){case"Number":case"Float":this.castValueToInteger(a.left,o);break;case"LiteralInteger":this.castLiteralToInteger(a.left,o);break;default:this.astGeneric(a.left,o)}switch(o.push(","),this.getType(a.right)){case"Number":case"Float":this.castValueToInteger(a.right,o);break;case"LiteralInteger":this.castLiteralToInteger(a.right,o);break;default:this.astGeneric(a.right,o)}return o.push(")"),o}checkAndUpconvertBitwiseUnary(a,o){const g={"~":"bitwiseNot"}[a.operator];if(!g)return null;switch(o.push(g),o.push("("),this.getType(a.argument)){case"Number":case"Float":this.castValueToInteger(a.argument,o);break;case"LiteralInteger":this.castLiteralToInteger(a.argument,o);break;default:this.astGeneric(a.argument,o)}return o.push(")"),o}castLiteralToInteger(a,o){return this.pushState("casting-to-integer"),this.astGeneric(a,o),this.popState("casting-to-integer"),o}castLiteralToFloat(a,o){return this.pushState("casting-to-float"),this.astGeneric(a,o),this.popState("casting-to-float"),o}castValueToInteger(a,o){return this.pushState("casting-to-integer"),o.push("int("),this.astGeneric(a,o),o.push(")"),this.popState("casting-to-integer"),o}castValueToFloat(a,o){return this.pushState("casting-to-float"),o.push("float("),this.astGeneric(a,o),o.push(")"),this.popState("casting-to-float"),o}astIdentifierExpression(a,o){if(a.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",a);const h=this.getType(a),g=$.sanitizeName(a.name);return a.name==="Infinity"?o.push("3.402823466e+38"):h==="Boolean"?this.argumentNames.indexOf(g)>-1?o.push(`bool(user_${g})`):o.push(`user_${g}`):o.push(`user_${g}`),o}astForStatement(a,o){if(a.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",a);const h=[],g=[],tt=[],at=[];let ht=null;if(a.init){const{declarations:_e}=a.init;_e.length>1&&(ht=!1),this.astGeneric(a.init,h);for(let ut=0;ut<_e.length;ut++)_e[ut].init&&_e[ut].init.type!=="Literal"&&(ht=!1)}else ht=!1;if(a.test?this.astGeneric(a.test,g):ht=!1,a.update?this.astGeneric(a.update,tt):ht=!1,a.body&&(this.pushState("loop-body"),this.astGeneric(a.body,at),this.popState("loop-body")),ht===null&&(ht=this.isSafe(a.init)&&this.isSafe(a.test)),ht){const _e=h.join(""),ut=_e[_e.length-1]!==";";o.push(`for (${_e}${ut?";":""}${g.join("")};${tt.join("")}){
`),o.push(at.join("")),o.push(`}
`)}else{const _e=this.getInternalVariableName("safeI");h.length>0&&o.push(h.join(""),`
`),o.push(`for (int ${_e}=0;${_e}<LOOP_MAX;${_e}++){
`),g.length>0&&o.push(`if (!${g.join("")}) break;
`),o.push(at.join("")),o.push(`
${tt.join("")};`),o.push(`}
`)}return o}astWhileStatement(a,o){if(a.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",a);const h=this.getInternalVariableName("safeI");return o.push(`for (int ${h}=0;${h}<LOOP_MAX;${h}++){
`),o.push("if (!"),this.astGeneric(a.test,o),o.push(`) break;
`),this.astGeneric(a.body,o),o.push(`}
`),o}astDoWhileStatement(a,o){if(a.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",a);const h=this.getInternalVariableName("safeI");return o.push(`for (int ${h}=0;${h}<LOOP_MAX;${h}++){
`),this.astGeneric(a.body,o),o.push("if (!"),this.astGeneric(a.test,o),o.push(`) break;
`),o.push(`}
`),o}astAssignmentExpression(a,o){if(a.operator==="%=")this.astGeneric(a.left,o),o.push("="),o.push("mod("),this.astGeneric(a.left,o),o.push(","),this.astGeneric(a.right,o),o.push(")");else if(a.operator==="**=")this.astGeneric(a.left,o),o.push("="),o.push("pow("),this.astGeneric(a.left,o),o.push(","),this.astGeneric(a.right,o),o.push(")");else{const h=this.getType(a.left),g=this.getType(a.right);return this.astGeneric(a.left,o),o.push(a.operator),h!=="Integer"&&g==="Integer"?(o.push("float("),this.astGeneric(a.right,o),o.push(")")):this.astGeneric(a.right,o),o}}astBlockStatement(a,o){if(this.isState("loop-body")){this.pushState("block-body");for(let h=0;h<a.body.length;h++)this.astGeneric(a.body[h],o);this.popState("block-body")}else{o.push(`{
`);for(let h=0;h<a.body.length;h++)this.astGeneric(a.body[h],o);o.push(`}
`)}return o}astVariableDeclaration(a,o){const h=a.declarations;if(!h||!h[0]||!h[0].init)throw this.astErrorOutput("Unexpected expression",a);const g=[];let tt=null;const at=[];let ht=[];for(let _e=0;_e<h.length;_e++){const ut=h[_e],ct=ut.init,rt=this.getDeclaration(ut.id),st=this.getType(ut.init);let vt=st;vt==="LiteralInteger"&&(rt.suggestedType==="Integer"?vt="Integer":vt="Number");const ot=_[vt];if(!ot)throw this.astErrorOutput(`Markup type ${vt} not handled`,a);const et=[];if(st==="Integer"&&vt==="Integer"){if(rt.valueType="Number",_e===0||tt===null)et.push("float ");else if(vt!==tt)throw new Error("Unhandled declaration");tt=vt,et.push(`user_${$.sanitizeName(ut.id.name)}=`),et.push("float("),this.astGeneric(ct,et),et.push(")")}else rt.valueType=vt,_e===0||tt===null?et.push(`${ot} `):vt!==tt&&(at.push(ht.join(",")),ht=[],et.push(`${ot} `)),tt=vt,et.push(`user_${$.sanitizeName(ut.id.name)}=`),st==="Number"&&vt==="Integer"?ct.left&&ct.left.type==="Literal"?this.astGeneric(ct,et):(et.push("int("),this.astGeneric(ct,et),et.push(")")):st==="LiteralInteger"&&vt==="Integer"?this.castLiteralToInteger(ct,et):this.astGeneric(ct,et);ht.push(et.join(""))}return ht.length>0&&at.push(ht.join(",")),g.push(at.join(";")),o.push(g.join("")),o.push(";"),o}astIfStatement(a,o){return o.push("if ("),this.astGeneric(a.test,o),o.push(")"),a.consequent.type==="BlockStatement"?this.astGeneric(a.consequent,o):(o.push(` {
`),this.astGeneric(a.consequent,o),o.push(`
}
`)),a.alternate&&(o.push("else "),a.alternate.type==="BlockStatement"||a.alternate.type==="IfStatement"?this.astGeneric(a.alternate,o):(o.push(` {
`),this.astGeneric(a.alternate,o),o.push(`
}
`))),o}astSwitchStatement(a,o){if(a.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",a);const{discriminant:h,cases:g}=a,tt=this.getType(h),at=`switchDiscriminant${this.astKey(a,"_")}`;switch(tt){case"Float":case"Number":o.push(`float ${at} = `),this.astGeneric(h,o),o.push(`;
`);break;case"Integer":o.push(`int ${at} = `),this.astGeneric(h,o),o.push(`;
`);break}if(g.length===1&&!g[0].test)return this.astGeneric(g[0].consequent,o),o;let ht=!1,_e=[],ut=!1,ct=!1;for(let rt=0;rt<g.length;rt++){if(g[rt].test){if(rt===0||!ct?(ct=!0,o.push(`if (${at} == `)):ht?(o.push(`${at} == `),ht=!1):o.push(` else if (${at} == `),tt==="Integer")switch(this.getType(g[rt].test)){case"Number":case"Float":this.castValueToInteger(g[rt].test,o);break;case"LiteralInteger":this.castLiteralToInteger(g[rt].test,o);break}else if(tt==="Float")switch(this.getType(g[rt].test)){case"LiteralInteger":this.castLiteralToFloat(g[rt].test,o);break;case"Integer":this.castValueToFloat(g[rt].test,o);break}else throw new Error("unhanlded");if(!g[rt].consequent||g[rt].consequent.length===0){ht=!0,o.push(" || ");continue}o.push(`) {
`)}else if(g.length>rt+1){ut=!0,this.astGeneric(g[rt].consequent,_e);continue}else o.push(` else {
`);this.astGeneric(g[rt].consequent,o),o.push(`
}`)}return ut&&(o.push(" else {"),o.push(_e.join("")),o.push("}")),o}astThisExpression(a,o){return o.push("this"),o}astMemberExpression(a,o){const{property:h,name:g,signature:tt,origin:at,type:ht,xProperty:_e,yProperty:ut,zProperty:ct}=this.getMemberExpressionDetails(a);switch(tt){case"value.thread.value":case"this.thread.value":if(g!=="x"&&g!=="y"&&g!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",a);return o.push(`threadId.${g}`),o;case"this.output.value":if(this.dynamicOutput)switch(g){case"x":this.isState("casting-to-float")?o.push("float(uOutputDim.x)"):o.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?o.push("float(uOutputDim.y)"):o.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?o.push("float(uOutputDim.z)"):o.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",a)}else switch(g){case"x":this.isState("casting-to-integer")?o.push(this.output[0]):o.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?o.push(this.output[1]):o.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?o.push(this.output[2]):o.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",a)}return o;case"value":throw this.astErrorOutput("Unexpected expression",a);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(at==="Math")return o.push(Math[g]),o;const st=$.sanitizeName(g);switch(h){case"r":return o.push(`user_${st}.r`),o;case"g":return o.push(`user_${st}.g`),o;case"b":return o.push(`user_${st}.b`),o;case"a":return o.push(`user_${st}.a`),o}break;case"this.constants.value":if(typeof _e>"u")switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":return o.push(`constants_${$.sanitizeName(g)}`),o}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(a.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(h)),o.push("]"),o;case"fn()[][]":return this.astCallExpression(a.object.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(a.object.property)),o.push("]"),o.push("["),o.push(this.memberExpressionPropertyMarkup(a.property)),o.push("]"),o;case"[][]":return this.astArrayExpression(a.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(h)),o.push("]"),o;default:throw this.astErrorOutput("Unexpected expression",a)}if(a.computed===!1)switch(ht){case"Number":case"Integer":case"Float":case"Boolean":return o.push(`${at}_${$.sanitizeName(g)}`),o}const rt=`${at}_${$.sanitizeName(g)}`;switch(ht){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(a.object,o),o.push("["),o.push(this.memberExpressionPropertyMarkup(_e)),o.push("]");break;case"HTMLImageArray":o.push(`getImage3D(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"ArrayTexture(1)":o.push(`getFloatFromSampler2D(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":o.push(`getMemoryOptimizedVec2(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"ArrayTexture(2)":o.push(`getVec2FromSampler2D(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":o.push(`getMemoryOptimizedVec3(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"ArrayTexture(3)":o.push(`getVec3FromSampler2D(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":o.push(`getMemoryOptimizedVec4(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":o.push(`getVec4FromSampler2D(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")o.push(`getMemoryOptimized32(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");else{const st=at==="user"?this.lookupFunctionArgumentBitRatio(this.name,g):this.constantBitRatios[g];switch(st){case 1:o.push(`get8(${rt}, ${rt}Size, ${rt}Dim, `);break;case 2:o.push(`get16(${rt}, ${rt}Size, ${rt}Dim, `);break;case 4:case 0:o.push(`get32(${rt}, ${rt}Size, ${rt}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${st}`)}this.memberExpressionXYZ(_e,ut,ct,o),o.push(")")}break;case"MemoryOptimizedNumberTexture":o.push(`getMemoryOptimized32(${rt}, ${rt}Size, ${rt}Dim, `),this.memberExpressionXYZ(_e,ut,ct,o),o.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":o.push(`${rt}[${this.memberExpressionPropertyMarkup(ut)}]`),ut&&o.push(`[${this.memberExpressionPropertyMarkup(_e)}]`);break;default:throw new Error(`unhandled member expression "${ht}"`)}return o}astCallExpression(a,o){if(!a.callee)throw this.astErrorOutput("Unknown CallExpression",a);let h=null;const g=this.isAstMathFunction(a);if(g||a.callee.object&&a.callee.object.type==="ThisExpression"?h=a.callee.property.name:a.callee.type==="SequenceExpression"&&a.callee.expressions[0].type==="Literal"&&!isNaN(a.callee.expressions[0].raw)?h=a.callee.expressions[1].property.name:h=a.callee.name,!h)throw this.astErrorOutput("Unhandled function, couldn't find name",a);switch(h){case"pow":h="_pow";break;case"round":h="_round";break}if(this.calledFunctions.indexOf(h)<0&&this.calledFunctions.push(h),h==="random"&&this.plugins&&this.plugins.length>0)for(let tt=0;tt<this.plugins.length;tt++){const at=this.plugins[tt];if(at.functionMatch==="Math.random()"&&at.functionReplace)return o.push(at.functionReplace),o}if(this.onFunctionCall&&this.onFunctionCall(this.name,h,a.arguments),o.push(h),o.push("("),g)for(let tt=0;tt<a.arguments.length;++tt){const at=a.arguments[tt],ht=this.getType(at);switch(tt>0&&o.push(", "),ht){case"Integer":this.castValueToFloat(at,o);break;default:this.astGeneric(at,o);break}}else{const tt=this.lookupFunctionArgumentTypes(h)||[];for(let at=0;at<a.arguments.length;++at){const ht=a.arguments[at];let _e=tt[at];at>0&&o.push(", ");const ut=this.getType(ht);switch(_e||(this.triggerImplyArgumentType(h,at,ut,this),_e=ut),ut){case"Boolean":this.astGeneric(ht,o);continue;case"Number":case"Float":if(_e==="Integer"){o.push("int("),this.astGeneric(ht,o),o.push(")");continue}else if(_e==="Number"||_e==="Float"){this.astGeneric(ht,o);continue}else if(_e==="LiteralInteger"){this.castLiteralToFloat(ht,o);continue}break;case"Integer":if(_e==="Number"||_e==="Float"){o.push("float("),this.astGeneric(ht,o),o.push(")");continue}else if(_e==="Integer"){this.astGeneric(ht,o);continue}break;case"LiteralInteger":if(_e==="Integer"){this.castLiteralToInteger(ht,o);continue}else if(_e==="Number"||_e==="Float"){this.castLiteralToFloat(ht,o);continue}else if(_e==="LiteralInteger"){this.astGeneric(ht,o);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(_e===ut){if(ht.type==="Identifier")o.push(`user_${$.sanitizeName(ht.name)}`);else if(ht.type==="ArrayExpression"||ht.type==="MemberExpression"||ht.type==="CallExpression")this.astGeneric(ht,o);else throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,a);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(_e===ut){if(ht.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${ht.type}`,a);this.triggerImplyArgumentBitRatio(this.name,ht.name,h,at);const ct=$.sanitizeName(ht.name);o.push(`user_${ct},user_${ct}Size,user_${ct}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${ut} and ${_e} for argument named "${ht.name}"`,a)}}return o.push(")"),o}astArrayExpression(a,o){const h=this.getType(a),g=a.elements.length;switch(h){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":o.push(`mat${g}(`);break;default:o.push(`vec${g}(`)}for(let tt=0;tt<g;++tt){tt>0&&o.push(", ");const at=a.elements[tt];this.astGeneric(at,o)}return o.push(")"),o}memberExpressionXYZ(a,o,h,g){return h?g.push(this.memberExpressionPropertyMarkup(h),", "):g.push("0, "),o?g.push(this.memberExpressionPropertyMarkup(o),", "):g.push("0, "),g.push(this.memberExpressionPropertyMarkup(a)),g}memberExpressionPropertyMarkup(a){if(!a)throw new Error("Property not set");const o=this.getType(a),h=[];switch(o){case"Number":case"Float":this.castValueToInteger(a,h);break;case"LiteralInteger":this.castLiteralToInteger(a,h);break;default:this.astGeneric(a,h)}return h.join("")}}const _={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},b={"===":"==","!==":"!="};d.exports={WebGLFunctionNode:nt}},{"../../utils":114,"../function-node":10}],39:[function(i,d,ft){const{WebGLKernelValueBoolean:$}=i("./kernel-value/boolean"),{WebGLKernelValueFloat:it}=i("./kernel-value/float"),{WebGLKernelValueInteger:nt}=i("./kernel-value/integer"),{WebGLKernelValueHTMLImage:_}=i("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:b}=i("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:c}=i("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:a}=i("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:o}=i("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:h}=i("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:g}=i("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:tt}=i("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:at}=i("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:ht}=i("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:_e}=i("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:ut}=i("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:ct}=i("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:rt}=i("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:st}=i("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:vt}=i("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:ot}=i("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:et}=i("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:lt}=i("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:mt}=i("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:xt}=i("./kernel-value/array2"),{WebGLKernelValueArray3:wt}=i("./kernel-value/array3"),{WebGLKernelValueArray4:St}=i("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:Tt}=i("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:kt}=i("./kernel-value/dynamic-unsigned-array"),Vt={unsigned:{dynamic:{Boolean:$,Integer:nt,Float:it,Array:kt,"Array(2)":xt,"Array(3)":wt,"Array(4)":St,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:tt,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ht,HTMLCanvas:b,OffscreenCanvas:b,HTMLImage:b,ImageBitmap:b,ImageData:b,HTMLImageArray:!1,HTMLVideo:a},static:{Boolean:$,Float:it,Integer:nt,Array:Tt,"Array(2)":xt,"Array(3)":wt,"Array(4)":St,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:g,NumberTexture:_e,"ArrayTexture(1)":_e,"ArrayTexture(2)":_e,"ArrayTexture(3)":_e,"ArrayTexture(4)":_e,MemoryOptimizedNumberTexture:at,HTMLCanvas:_,OffscreenCanvas:_,HTMLImage:_,ImageBitmap:_,ImageData:_,HTMLImageArray:!1,HTMLVideo:c}},single:{dynamic:{Boolean:$,Integer:nt,Float:it,Array:rt,"Array(2)":xt,"Array(3)":wt,"Array(4)":St,"Array1D(2)":vt,"Array1D(3)":vt,"Array1D(4)":vt,"Array2D(2)":et,"Array2D(3)":et,"Array2D(4)":et,"Array3D(2)":mt,"Array3D(3)":mt,"Array3D(4)":mt,Input:h,NumberTexture:ut,"ArrayTexture(1)":ut,"ArrayTexture(2)":ut,"ArrayTexture(3)":ut,"ArrayTexture(4)":ut,MemoryOptimizedNumberTexture:ht,HTMLCanvas:b,OffscreenCanvas:b,HTMLImage:b,ImageBitmap:b,ImageData:b,HTMLImageArray:!1,HTMLVideo:a},static:{Boolean:$,Float:it,Integer:nt,Array:ct,"Array(2)":xt,"Array(3)":wt,"Array(4)":St,"Array1D(2)":st,"Array1D(3)":st,"Array1D(4)":st,"Array2D(2)":ot,"Array2D(3)":ot,"Array2D(4)":ot,"Array3D(2)":lt,"Array3D(3)":lt,"Array3D(4)":lt,Input:o,NumberTexture:_e,"ArrayTexture(1)":_e,"ArrayTexture(2)":_e,"ArrayTexture(3)":_e,"ArrayTexture(4)":_e,MemoryOptimizedNumberTexture:at,HTMLCanvas:_,OffscreenCanvas:_,HTMLImage:_,ImageBitmap:_,ImageData:_,HTMLImageArray:!1,HTMLVideo:c}}};function Ct(Rt,zt,Xt,Pt){if(!Rt)throw new Error("type missing");if(!zt)throw new Error("dynamic missing");if(!Xt)throw new Error("precision missing");Pt.type&&(Rt=Pt.type);const Mt=Vt[Xt][zt];if(Mt[Rt]===!1)return null;if(Mt[Rt]===void 0)throw new Error(`Could not find a KernelValue for ${Rt}`);return Mt[Rt]}d.exports={lookupKernelValueType:Ct,kernelValueMaps:Vt}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(i,d,ft){const{WebGLKernelValue:$}=i("./index"),{Input:it}=i("../../../input");class nt extends ${checkSize(b,c){if(!this.kernel.validate)return;const{maxTextureSize:a}=this.kernel.constructor.features;if(b>a||c>a)throw b>c?new Error(`Argument texture width of ${b} larger than maximum size of ${a} for your GPU`):b<c?new Error(`Argument texture height of ${c} larger than maximum size of ${a} for your GPU`):new Error(`Argument texture height and width of ${c} larger than maximum size of ${a} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:b}=this;b.activeTexture(this.contextHandle),b.bindTexture(b.TEXTURE_2D,this.texture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(b){if(Array.isArray(b[0]))return this.getBitRatio(b[0]);if(b.constructor===it)return this.getBitRatio(b.value);switch(b.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}d.exports={WebGLKernelArray:nt}},{"../../../input":110,"./index":59}],41:[function(i,d,ft){const{WebGLKernelValue:$}=i("./index");class it extends ${constructor(_,b){super(_,b),this.uploadValue=_}getSource(_){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${_[0]},${_[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=_)}}d.exports={WebGLKernelValueArray2:it}},{"./index":59}],42:[function(i,d,ft){const{WebGLKernelValue:$}=i("./index");class it extends ${constructor(_,b){super(_,b),this.uploadValue=_}getSource(_){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${_[0]},${_[1]},${_[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=_)}}d.exports={WebGLKernelValueArray3:it}},{"./index":59}],43:[function(i,d,ft){const{WebGLKernelValue:$}=i("./index");class it extends ${constructor(_,b){super(_,b),this.uploadValue=_}getSource(_){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${_[0]},${_[1]},${_[2]},${_[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=_)}}d.exports={WebGLKernelValueArray4:it}},{"./index":59}],44:[function(i,d,ft){i("../../../utils");const{WebGLKernelValue:$}=i("./index");class it extends ${constructor(_,b){super(_,b),this.uploadValue=_}getSource(_){return this.origin==="constants"?`const bool ${this.id} = ${_};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=_)}}d.exports={WebGLKernelValueBoolean:it}},{"../../../utils":114,"./index":59}],45:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueHTMLImage:it}=i("./html-image");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){const{width:c,height:a}=b;this.checkSize(c,a),this.dimensions=[c,a,1],this.textureSize=[c,a],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicHTMLImage:nt}},{"../../../utils":114,"./html-image":57}],46:[function(i,d,ft){const{WebGLKernelValueDynamicHTMLImage:$}=i("./dynamic-html-image");class it extends ${}d.exports={WebGLKernelValueDynamicHTMLVideo:it}},{"./dynamic-html-image":45}],47:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:it}=i("./memory-optimized-number-texture");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.dimensions=b.dimensions,this.checkSize(b.size[0],b.size[1]),this.textureSize=b.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:nt}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueNumberTexture:it}=i("./number-texture");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.dimensions=b.dimensions,this.checkSize(b.size[0],b.size[1]),this.textureSize=b.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicNumberTexture:nt}},{"../../../utils":114,"./number-texture":62}],49:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray:it}=i("./single-array");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.dimensions=$.getDimensions(b,!0),this.textureSize=$.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicSingleArray:nt}},{"../../../utils":114,"./single-array":63}],50:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray1DI:it}=i("./single-array1d-i");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.setShape(b),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicSingleArray1DI:nt}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray2DI:it}=i("./single-array2d-i");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.setShape(b),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicSingleArray2DI:nt}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray3DI:it}=i("./single-array3d-i");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.setShape(b),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicSingleArray3DI:nt}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleInput:it}=i("./single-input");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){let[c,a,o]=b.size;this.dimensions=new Int32Array([c||1,a||1,o||1]),this.textureSize=$.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicSingleInput:nt}},{"../../../utils":114,"./single-input":67}],54:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueUnsignedArray:it}=i("./unsigned-array");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){this.dimensions=$.getDimensions(b,!0),this.textureSize=$.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const c=this.getTransferArrayType(b);this.preUploadValue=new c(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicUnsignedArray:nt}},{"../../../utils":114,"./unsigned-array":68}],55:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueUnsignedInput:it}=i("./unsigned-input");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(b){let[c,a,o]=b.size;this.dimensions=new Int32Array([c||1,a||1,o||1]),this.textureSize=$.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const h=this.getTransferArrayType(b.value);this.preUploadValue=new h(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGLKernelValueDynamicUnsignedInput:nt}},{"../../../utils":114,"./unsigned-input":69}],56:[function(i,d,ft){i("../../../utils");const{WebGLKernelValue:$}=i("./index");class it extends ${constructor(_,b){super(_,b),this.uploadValue=_}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(_){return this.origin==="constants"?Number.isInteger(_)?`const float ${this.id} = ${_}.0;
`:`const float ${this.id} = ${_};
`:`uniform float ${this.id};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=_)}}d.exports={WebGLKernelValueFloat:it}},{"../../../utils":114,"./index":59}],57:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c);const{width:a,height:o}=b;this.checkSize(a,o),this.dimensions=[a,o,1],this.textureSize=[a,o],this.uploadValue=b}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue=b),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueHTMLImage:nt}},{"../../../utils":114,"./array":40}],58:[function(i,d,ft){const{WebGLKernelValueHTMLImage:$}=i("./html-image");class it extends ${}d.exports={WebGLKernelValueHTMLVideo:it}},{"./html-image":57}],59:[function(i,d,ft){const{utils:$}=i("../../../utils"),{KernelValue:it}=i("../../kernel-value");class nt extends it{constructor(b,c){super(b,c),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=b.constructor,this.onRequestTexture=c.onRequestTexture,this.onRequestIndex=c.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${$.sanitizeName(this.name)}`}setup(){}getTransferArrayType(b){if(Array.isArray(b[0]))return this.getTransferArrayType(b[0]);switch(b.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return b.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),b.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}d.exports={WebGLKernelValue:nt}},{"../../../utils":114,"../../kernel-value":35}],60:[function(i,d,ft){i("../../../utils");const{WebGLKernelValue:$}=i("./index");class it extends ${constructor(_,b){super(_,b),this.uploadValue=_}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(_){return this.origin==="constants"?`const int ${this.id} = ${parseInt(_)};
`:`uniform int ${this.id};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=_)}}d.exports={WebGLKernelValueInteger:it}},{"../../../utils":114,"./index":59}],61:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array"),nt="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class _ extends it{constructor(c,a){super(c,a);const[o,h]=c.size;this.checkSize(o,h),this.dimensions=c.dimensions,this.textureSize=c.size,this.uploadValue=c.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(c){if(c.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(c.constructor);return}if(this.checkContext&&c.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:a,context:o}=this;if(a.pipeline)if(a.immutable)a.updateTextureArgumentRefs(this,c);else{if(a.texture&&a.texture.texture===c.texture)throw new Error(nt);if(a.mappedTextures){const{mappedTextures:h}=a;for(let g=0;g<h.length;g++)if(h[g].texture===c.texture)throw new Error(nt)}}o.activeTexture(this.contextHandle),o.bindTexture(o.TEXTURE_2D,this.uploadValue=c.texture),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueMemoryOptimizedNumberTexture:_,sameError:nt}},{"../../../utils":114,"./array":40}],62:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array"),{sameError:nt}=i("./memory-optimized-number-texture");class _ extends it{constructor(c,a){super(c,a);const[o,h]=c.size;this.checkSize(o,h);const{size:g,dimensions:tt}=c;this.bitRatio=this.getBitRatio(c),this.dimensions=tt,this.textureSize=g,this.uploadValue=c.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(c){if(c.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(c.constructor);return}if(this.checkContext&&c.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:a,context:o}=this;if(a.pipeline)if(a.immutable)a.updateTextureArgumentRefs(this,c);else{if(a.texture&&a.texture.texture===c.texture)throw new Error(nt);if(a.mappedTextures){const{mappedTextures:h}=a;for(let g=0;g<h.length;g++)if(h[g].texture===c.texture)throw new Error(nt)}}o.activeTexture(this.contextHandle),o.bindTexture(o.TEXTURE_2D,this.uploadValue=c.texture),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueNumberTexture:_}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=4,this.dimensions=$.getDimensions(b,!0),this.textureSize=$.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return $.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueSingleArray:nt}},{"../../../utils":114,"./array":40}],64:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=4,this.setShape(b)}setShape(b){const c=$.getDimensions(b,!0);this.textureSize=$.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return $.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flatten2dArrayTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueSingleArray1DI:nt}},{"../../../utils":114,"./array":40}],65:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=4,this.setShape(b)}setShape(b){const c=$.getDimensions(b,!0);this.textureSize=$.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],c[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return $.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flatten3dArrayTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueSingleArray2DI:nt}},{"../../../utils":114,"./array":40}],66:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=4,this.setShape(b)}setShape(b){const c=$.getDimensions(b,!0);this.textureSize=$.getMemoryOptimizedFloatTextureSize(c,this.bitRatio),this.dimensions=new Int32Array([c[1],c[2],c[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return $.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flatten4dArrayTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueSingleArray3DI:nt}},{"../../../utils":114,"./array":40}],67:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=4;let[a,o,h]=b.size;this.dimensions=new Int32Array([a||1,o||1,h||1]),this.textureSize=$.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return $.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b.value,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueSingleInput:nt}},{"../../../utils":114,"./array":40}],68:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=this.getBitRatio(b),this.dimensions=$.getDimensions(b,!0),this.textureSize=$.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(b),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return $.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b,this.preUploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueUnsignedArray:nt}},{"../../../utils":114,"./array":40}],69:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("./array");class nt extends it{constructor(b,c){super(b,c),this.bitRatio=this.getBitRatio(b);const[a,o,h]=b.size;this.dimensions=new Int32Array([a||1,o||1,h||1]),this.textureSize=$.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(b.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return $.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:c}=this;$.flattenTo(b.value,this.preUploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGLKernelValueUnsignedInput:nt}},{"../../../utils":114,"./array":40}],70:[function(i,d,ft){const{GLKernel:$}=i("../gl/kernel"),{FunctionBuilder:it}=i("../function-builder"),{WebGLFunctionNode:nt}=i("./function-node"),{utils:_}=i("../../utils"),b=i("../../plugins/math-random-uniformly-distributed"),{fragmentShader:c}=i("./fragment-shader"),{vertexShader:a}=i("./vertex-shader"),{glKernelString:o}=i("../gl/kernel-string"),{lookupKernelValueType:h}=i("./kernel-value-maps");let g=null,tt=null,at=null,ht=null,_e=null;const ut=[b],ct=[],rt={};class st extends ${static get isSupported(){return g!==null||(this.setupFeatureChecks(),g=this.isContextMatch(at)),g}static setupFeatureChecks(){typeof document<"u"?tt=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(tt=new OffscreenCanvas(0,0)),tt&&(at=tt.getContext("webgl")||tt.getContext("experimental-webgl"),!(!at||!at.getExtension)&&(ht={OES_texture_float:at.getExtension("OES_texture_float"),OES_texture_float_linear:at.getExtension("OES_texture_float_linear"),OES_element_index_uint:at.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:at.getExtension("WEBGL_draw_buffers")},_e=this.getFeatures()))}static isContextMatch(ot){return typeof WebGLRenderingContext<"u"?ot instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return Boolean(ht.OES_texture_float)}static getIsDrawBuffers(){return Boolean(ht.WEBGL_draw_buffers)}static getChannelCount(){return ht.WEBGL_draw_buffers?at.getParameter(ht.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return at.getParameter(at.MAX_TEXTURE_SIZE)}static lookupKernelValueType(ot,et,lt,mt){return h(ot,et,lt,mt)}static get testCanvas(){return tt}static get testContext(){return at}static get features(){return _e}static get fragmentShader(){return c}static get vertexShader(){return a}constructor(ot,et){super(ot,et),this.program=null,this.pipeline=et.pipeline,this.endianness=_.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(ot.settings||et),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const ot=document.createElement("canvas");return ot.width=2,ot.height=2,ot}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const ot={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",ot)||this.canvas.getContext("experimental-webgl",ot)}initPlugins(ot){const et=[],{source:lt}=this;if(typeof lt=="string")for(let mt=0;mt<ut.length;mt++){const xt=ut[mt];lt.match(xt.functionMatch)&&et.push(xt)}else if(typeof lt=="object"&&ot.pluginNames)for(let mt=0;mt<ut.length;mt++){const xt=ut[mt];ot.pluginNames.some(St=>St===xt.name)&&et.push(xt)}return et}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(ot){if(!this.validate){this.texSize=_.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:et}=this.constructor;if(this.optimizeFloatMemory===!0&&!et.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!et.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&et.isTextureFloat&&(this.precision=et.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!et.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&et.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(ot.length!==1)throw new Error("Auto output only supported for kernels with only one input");const lt=_.getVariableType(ot[0],this.strictIntegers);switch(lt){case"Array":this.output=_.getDimensions(lt);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=ot[0].output;break;default:throw new Error("Auto output not supported for input type: "+lt)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=_.clone(this.output);return}else this.precision===null&&et.isTextureFloat&&(this.precision="single");this.texSize=_.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:ot,canvas:et}=this;if(this.maxTexSize===null){let lt=ct.indexOf(et);lt===-1&&(lt=ct.length,ct.push(et),rt[lt]=[ot[0],ot[1]]),this.maxTexSize=rt[lt]}this.maxTexSize[0]<ot[0]&&(this.maxTexSize[0]=ot[0]),this.maxTexSize[1]<ot[1]&&(this.maxTexSize[1]=ot[1])}setupArguments(ot){this.kernelArguments=[],this.argumentTextureCount=0;const et=this.argumentTypes===null;if(et&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],ot.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(ot.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:lt}=this;let mt=0;const xt=()=>this.createTexture(),wt=()=>this.constantTextureCount+mt++,St=kt=>{this.switchKernels({type:"argumentMismatch",needed:kt})},Tt=()=>lt.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let kt=0;kt<ot.length;kt++){const Vt=ot[kt],Ct=this.argumentNames[kt];let Rt;et?(Rt=_.getVariableType(Vt,this.strictIntegers),this.argumentTypes.push(Rt)):Rt=this.argumentTypes[kt];const zt=this.constructor.lookupKernelValueType(Rt,this.dynamicArguments?"dynamic":"static",this.precision,ot[kt]);if(zt===null)return this.requestFallback(ot);const Xt=new zt(Vt,{name:Ct,type:Rt,tactic:this.tactic,origin:"user",context:lt,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:xt,onRequestIndex:wt,onUpdateValueMismatch:St,onRequestContextHandle:Tt});this.kernelArguments.push(Xt),Xt.setup(),this.argumentSizes.push(Xt.textureSize),this.argumentBitRatios[kt]=Xt.bitRatio}}createTexture(){const ot=this.context.createTexture();return this.textureCache.push(ot),ot}setupConstants(ot){const{context:et}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let lt=this.constantTypes===null;lt&&(this.constantTypes={}),this.constantBitRatios={};let mt=0;for(const xt in this.constants){const wt=this.constants[xt];let St;lt?(St=_.getVariableType(wt,this.strictIntegers),this.constantTypes[xt]=St):St=this.constantTypes[xt];const Tt=this.constructor.lookupKernelValueType(St,"static",this.precision,wt);if(Tt===null)return this.requestFallback(ot);const kt=new Tt(wt,{name:xt,type:St,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>mt++,onRequestContextHandle:()=>et.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[xt]=kt.bitRatio,this.kernelConstants.push(kt),kt.setup(),kt.forceUploadEachRun&&this.forceUploadKernelConstants.push(kt)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const ot=this.pickRenderStrategy(arguments);if(ot)return ot;const{texSize:et,context:lt,canvas:mt}=this;lt.enable(lt.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(lt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),mt.width=this.maxTexSize[0],mt.height=this.maxTexSize[1]):(lt.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),mt.width=this.maxTexSize[0],mt.height=this.maxTexSize[1]);const xt=this.threadDim=Array.from(this.output);for(;xt.length<3;)xt.push(1);const wt=this.getVertexShader(arguments),St=lt.createShader(lt.VERTEX_SHADER);lt.shaderSource(St,wt),lt.compileShader(St),this.vertShader=St;const Tt=this.getFragmentShader(arguments),kt=lt.createShader(lt.FRAGMENT_SHADER);if(lt.shaderSource(kt,Tt),lt.compileShader(kt),this.fragShader=kt,this.debug&&(console.log("GLSL Shader Output:"),console.log(Tt)),!lt.getShaderParameter(St,lt.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+lt.getShaderInfoLog(St));if(!lt.getShaderParameter(kt,lt.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+lt.getShaderInfoLog(kt));const Vt=this.program=lt.createProgram();lt.attachShader(Vt,St),lt.attachShader(Vt,kt),lt.linkProgram(Vt),this.framebuffer=lt.createFramebuffer(),this.framebuffer.width=et[0],this.framebuffer.height=et[1],this.rawValueFramebuffers={};const Ct=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Rt=new Float32Array([0,0,1,0,0,1,1,1]),zt=Ct.byteLength;let Xt=this.buffer;Xt?lt.bindBuffer(lt.ARRAY_BUFFER,Xt):(Xt=this.buffer=lt.createBuffer(),lt.bindBuffer(lt.ARRAY_BUFFER,Xt),lt.bufferData(lt.ARRAY_BUFFER,Ct.byteLength+Rt.byteLength,lt.STATIC_DRAW)),lt.bufferSubData(lt.ARRAY_BUFFER,0,Ct),lt.bufferSubData(lt.ARRAY_BUFFER,zt,Rt);const Pt=lt.getAttribLocation(this.program,"aPos");lt.enableVertexAttribArray(Pt),lt.vertexAttribPointer(Pt,2,lt.FLOAT,!1,0,0);const Mt=lt.getAttribLocation(this.program,"aTexCoord");lt.enableVertexAttribArray(Mt),lt.vertexAttribPointer(Mt,2,lt.FLOAT,!1,0,zt),lt.bindFramebuffer(lt.FRAMEBUFFER,this.framebuffer);let jt=0;lt.useProgram(this.program);for(let Zt in this.constants)this.kernelConstants[jt++].updateValue(this.constants[Zt]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const ot=it.fromKernel(this,nt,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=ot.getPrototypeString("kernel"),this.setupReturnTypes(ot)}setupReturnTypes(ot){if(!this.graphical&&!this.returnType&&(this.returnType=ot.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let et=0;et<this.subKernels.length;et++){const lt=this.subKernels[et];lt.returnType||(lt.returnType=ot.getSubKernelResultType(et))}}run(){const{kernelArguments:ot,texSize:et,forceUploadKernelConstants:lt,context:mt}=this;mt.useProgram(this.program),mt.scissor(0,0,et[0],et[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",et)),this.setUniform2f("ratio",et[0]/this.maxTexSize[0],et[1]/this.maxTexSize[1]);for(let xt=0;xt<lt.length;xt++){const wt=lt[xt];if(wt.updateValue(this.constants[wt.name]),this.switchingKernels)return}for(let xt=0;xt<ot.length;xt++)if(ot[xt].updateValue(arguments[xt]),this.switchingKernels)return;if(this.plugins)for(let xt=0;xt<this.plugins.length;xt++){const wt=this.plugins[xt];wt.onBeforeRun&&wt.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return mt.bindRenderbuffer(mt.RENDERBUFFER,null),mt.bindFramebuffer(mt.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),mt.drawArrays(mt.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;mt.bindRenderbuffer(mt.RENDERBUFFER,null),mt.bindFramebuffer(mt.FRAMEBUFFER,null),mt.drawArrays(mt.TRIANGLE_STRIP,0,4);return}mt.bindFramebuffer(mt.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),mt.drawArrays(mt.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:ot}=this;switch(this.getInternalFormat()){case ot.RGBA:return ot.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const ot=this.context;ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const ot=this.context,et=this.texSize;if(this.texture){ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,this.texture.texture,0);return}const lt=this.createTexture();ot.activeTexture(ot.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),ot.bindTexture(ot.TEXTURE_2D,lt),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_WRAP_S,ot.CLAMP_TO_EDGE),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_WRAP_T,ot.CLAMP_TO_EDGE),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_MIN_FILTER,ot.NEAREST),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_MAG_FILTER,ot.NEAREST);const mt=this.getInternalFormat();this.precision==="single"?ot.texImage2D(ot.TEXTURE_2D,0,mt,et[0],et[1],0,ot.RGBA,ot.FLOAT,null):ot.texImage2D(ot.TEXTURE_2D,0,mt,et[0],et[1],0,mt,ot.UNSIGNED_BYTE,null),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,lt,0),this.texture=new this.TextureConstructor({texture:lt,size:et,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const ot=this.context;for(let et=0;et<this.mappedTextures.length;et++){const lt=this.mappedTextures[et];(lt.beforeMutate()||this._mappedTextureSwitched[et])&&(ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0+et+1,ot.TEXTURE_2D,lt.texture,0),this._mappedTextureSwitched[et]=!1)}}_setupSubOutputTextures(){const ot=this.context;if(this.mappedTextures){for(let lt=0;lt<this.subKernels.length;lt++)ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0+lt+1,ot.TEXTURE_2D,this.mappedTextures[lt].texture,0);return}const et=this.texSize;this.drawBuffersMap=[ot.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let lt=0;lt<this.subKernels.length;lt++){const mt=this.createTexture();this.drawBuffersMap.push(ot.COLOR_ATTACHMENT0+lt+1),ot.activeTexture(ot.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+lt),ot.bindTexture(ot.TEXTURE_2D,mt),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_WRAP_S,ot.CLAMP_TO_EDGE),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_WRAP_T,ot.CLAMP_TO_EDGE),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_MIN_FILTER,ot.NEAREST),ot.texParameteri(ot.TEXTURE_2D,ot.TEXTURE_MAG_FILTER,ot.NEAREST),this.precision==="single"?ot.texImage2D(ot.TEXTURE_2D,0,ot.RGBA,et[0],et[1],0,ot.RGBA,ot.FLOAT,null):ot.texImage2D(ot.TEXTURE_2D,0,ot.RGBA,et[0],et[1],0,ot.RGBA,ot.UNSIGNED_BYTE,null),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0+lt+1,ot.TEXTURE_2D,mt,0),this.mappedTextures.push(new this.TextureConstructor({texture:mt,size:et,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(ot,et){if(this.uniform1fCache.hasOwnProperty(ot)){const mt=this.uniform1fCache[ot];if(et===mt)return}this.uniform1fCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform1f(lt,et)}setUniform1i(ot,et){if(this.uniform1iCache.hasOwnProperty(ot)){const mt=this.uniform1iCache[ot];if(et===mt)return}this.uniform1iCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform1i(lt,et)}setUniform2f(ot,et,lt){if(this.uniform2fCache.hasOwnProperty(ot)){const xt=this.uniform2fCache[ot];if(et===xt[0]&&lt===xt[1])return}this.uniform2fCache[ot]=[et,lt];const mt=this.getUniformLocation(ot);this.context.uniform2f(mt,et,lt)}setUniform2fv(ot,et){if(this.uniform2fvCache.hasOwnProperty(ot)){const mt=this.uniform2fvCache[ot];if(et[0]===mt[0]&&et[1]===mt[1])return}this.uniform2fvCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform2fv(lt,et)}setUniform2iv(ot,et){if(this.uniform2ivCache.hasOwnProperty(ot)){const mt=this.uniform2ivCache[ot];if(et[0]===mt[0]&&et[1]===mt[1])return}this.uniform2ivCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform2iv(lt,et)}setUniform3fv(ot,et){if(this.uniform3fvCache.hasOwnProperty(ot)){const mt=this.uniform3fvCache[ot];if(et[0]===mt[0]&&et[1]===mt[1]&&et[2]===mt[2])return}this.uniform3fvCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform3fv(lt,et)}setUniform3iv(ot,et){if(this.uniform3ivCache.hasOwnProperty(ot)){const mt=this.uniform3ivCache[ot];if(et[0]===mt[0]&&et[1]===mt[1]&&et[2]===mt[2])return}this.uniform3ivCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform3iv(lt,et)}setUniform4fv(ot,et){if(this.uniform4fvCache.hasOwnProperty(ot)){const mt=this.uniform4fvCache[ot];if(et[0]===mt[0]&&et[1]===mt[1]&&et[2]===mt[2]&&et[3]===mt[3])return}this.uniform4fvCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform4fv(lt,et)}setUniform4iv(ot,et){if(this.uniform4ivCache.hasOwnProperty(ot)){const mt=this.uniform4ivCache[ot];if(et[0]===mt[0]&&et[1]===mt[1]&&et[2]===mt[2]&&et[3]===mt[3])return}this.uniform4ivCache[ot]=et;const lt=this.getUniformLocation(ot);this.context.uniform4iv(lt,et)}getUniformLocation(ot){return this.programUniformLocationCache.hasOwnProperty(ot)?this.programUniformLocationCache[ot]:this.programUniformLocationCache[ot]=this.context.getUniformLocation(this.program,ot)}_getFragShaderArtifactMap(ot){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(ot),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(ot){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(ot=>ot.source&&this.source.match(ot.functionMatch)?ot.source:"").join(`
`):`
`}_getConstantsString(){const ot=[],{threadDim:et,texSize:lt}=this;return this.dynamicOutput?ot.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):ot.push(`ivec3 uOutputDim = ivec3(${et[0]}, ${et[1]}, ${et[2]})`,`ivec2 uTexSize = ivec2(${lt[0]}, ${lt[1]})`),_.linesToString(ot)}_getTextureCoordinate(){const ot=this.subKernels;return ot===null||ot.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(ot){const et=[],{argumentNames:lt}=this;for(let mt=0;mt<lt.length;mt++)et.push(this.kernelArguments[mt].getSource(ot[mt]));return et.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const ot=[],{constants:et}=this;if(et){let lt=0;for(const mt in et)!this.constants.hasOwnProperty(mt)||ot.push(this.kernelConstants[lt++].getSource(this.constants[mt]))}return ot.join("")}getRawValueFramebuffer(ot,et){if(this.rawValueFramebuffers[ot]||(this.rawValueFramebuffers[ot]={}),!this.rawValueFramebuffers[ot][et]){const lt=this.context.createFramebuffer();lt.width=ot,lt.height=et,this.rawValueFramebuffers[ot][et]=lt}return this.rawValueFramebuffers[ot][et]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const ot=[this.getKernelResultDeclaration()],{subKernels:et}=this;if(et!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let lt=0;lt<et.length;lt++){const mt=et[lt];ot.push(mt.returnType==="Integer"?`int subKernelResult_${mt.name} = 0`:`float subKernelResult_${mt.name} = 0.0`)}break;case"Array(2)":for(let lt=0;lt<et.length;lt++)ot.push(`vec2 subKernelResult_${et[lt].name}`);break;case"Array(3)":for(let lt=0;lt<et.length;lt++)ot.push(`vec3 subKernelResult_${et[lt].name}`);break;case"Array(4)":for(let lt=0;lt<et.length;lt++)ot.push(`vec4 subKernelResult_${et[lt].name}`);break}return _.linesToString(ot)+this.translatedSource}getMainResultGraphical(){return _.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return _.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const ot=[];if(!this.subKernels)return"";for(let et=0;et<this.subKernels.length;et++)this.subKernels[et].returnType==="Integer"?ot.push(`  gl_FragData[${et+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[et].name}))`):ot.push(`  gl_FragData[${et+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[et].name})`);return _.linesToString(ot)}getMainResultMemoryOptimizedFloats(){const ot=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const et=["r","g","b","a"];for(let lt=0;lt<et.length;lt++){const mt=et[lt];this.getMainResultKernelMemoryOptimizedFloats(ot,mt),this.getMainResultSubKernelMemoryOptimizedFloats(ot,mt),lt+1<et.length&&ot.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return _.linesToString(ot)}getMainResultKernelMemoryOptimizedFloats(ot,et){ot.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${et} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(ot,et){if(!this.subKernels)return ot;for(let lt=0;lt<this.subKernels.length;lt++)this.subKernels[lt].returnType==="Integer"?ot.push(`  gl_FragData[${lt+1}].${et} = float(subKernelResult_${this.subKernels[lt].name})`):ot.push(`  gl_FragData[${lt+1}].${et} = subKernelResult_${this.subKernels[lt].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const ot=[];if(!this.subKernels)return ot;for(let et=0;et<this.subKernels.length;++et){const lt=this.subKernels[et];lt.returnType==="Integer"?ot.push(`  gl_FragData[${et+1}][0] = float(subKernelResult_${lt.name})`):ot.push(`  gl_FragData[${et+1}][0] = subKernelResult_${lt.name}`)}return ot}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const ot=[];if(!this.subKernels)return ot;for(let et=0;et<this.subKernels.length;++et)ot.push(`  gl_FragData[${et+1}][0] = subKernelResult_${this.subKernels[et].name}[0]`,`  gl_FragData[${et+1}][1] = subKernelResult_${this.subKernels[et].name}[1]`);return ot}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const ot=[];if(!this.subKernels)return ot;for(let et=0;et<this.subKernels.length;++et)ot.push(`  gl_FragData[${et+1}][0] = subKernelResult_${this.subKernels[et].name}[0]`,`  gl_FragData[${et+1}][1] = subKernelResult_${this.subKernels[et].name}[1]`,`  gl_FragData[${et+1}][2] = subKernelResult_${this.subKernels[et].name}[2]`);return ot}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const ot=[];if(!this.subKernels)return ot;switch(this.returnType){case"Number":case"Float":case"Integer":for(let et=0;et<this.subKernels.length;++et)this.subKernels[et].returnType==="Integer"?ot.push(`  gl_FragData[${et+1}] = float(subKernelResult_${this.subKernels[et].name})`):ot.push(`  gl_FragData[${et+1}] = subKernelResult_${this.subKernels[et].name}`);break;case"Array(2)":for(let et=0;et<this.subKernels.length;++et)ot.push(`  gl_FragData[${et+1}][0] = subKernelResult_${this.subKernels[et].name}[0]`,`  gl_FragData[${et+1}][1] = subKernelResult_${this.subKernels[et].name}[1]`);break;case"Array(3)":for(let et=0;et<this.subKernels.length;++et)ot.push(`  gl_FragData[${et+1}][0] = subKernelResult_${this.subKernels[et].name}[0]`,`  gl_FragData[${et+1}][1] = subKernelResult_${this.subKernels[et].name}[1]`,`  gl_FragData[${et+1}][2] = subKernelResult_${this.subKernels[et].name}[2]`);break;case"Array(4)":for(let et=0;et<this.subKernels.length;++et)ot.push(`  gl_FragData[${et+1}][0] = subKernelResult_${this.subKernels[et].name}[0]`,`  gl_FragData[${et+1}][1] = subKernelResult_${this.subKernels[et].name}[1]`,`  gl_FragData[${et+1}][2] = subKernelResult_${this.subKernels[et].name}[2]`,`  gl_FragData[${et+1}][3] = subKernelResult_${this.subKernels[et].name}[3]`);break}return ot}replaceArtifacts(ot,et){return ot.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(lt,mt)=>{if(et.hasOwnProperty(mt))return et[mt];throw`unhandled artifact ${mt}`})}getFragmentShader(ot){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(ot))}getVertexShader(ot){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(ot))}toString(){const ot=_.linesToString(["const gl = context"]);return o(this.constructor,arguments,this,ot)}destroy(ot){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const lt in this.rawValueFramebuffers){for(const mt in this.rawValueFramebuffers[lt])this.context.deleteFramebuffer(this.rawValueFramebuffers[lt][mt]),delete this.rawValueFramebuffers[lt][mt];delete this.rawValueFramebuffers[lt]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const lt=this.textureCache.indexOf(this.texture.texture);lt>-1&&this.textureCache.splice(lt,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let lt=0;lt<this.mappedTextures.length;lt++){const mt=this.mappedTextures[lt];mt.delete();const xt=this.textureCache.indexOf(mt.texture);xt>-1&&this.textureCache.splice(xt,1)}this.mappedTextures=null}if(this.kernelArguments)for(let lt=0;lt<this.kernelArguments.length;lt++)this.kernelArguments[lt].destroy();if(this.kernelConstants)for(let lt=0;lt<this.kernelConstants.length;lt++)this.kernelConstants[lt].destroy();for(;this.textureCache.length>0;){const lt=this.textureCache.pop();this.context.deleteTexture(lt)}if(ot){const lt=ct.indexOf(this.canvas);lt>=0&&(ct[lt]=null,rt[lt]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const et=this.gpu.kernels.indexOf(this);et!==-1&&this.gpu.kernels.splice(et,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(ot){const et=ot.getExtension("WEBGL_lose_context");et&&et.loseContext()}toJSON(){const ot=super.toJSON();return ot.functionNodes=it.fromKernel(this,nt).toJSON(),ot.settings.threadDim=this.threadDim,ot}}d.exports={WebGLKernel:st}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(i,d,ft){const $=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;d.exports={vertexShader:$}},{}],72:[function(i,d,ft){const $=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;d.exports={fragmentShader:$}},{}],73:[function(i,d,ft){const{utils:$}=i("../../utils"),{WebGLFunctionNode:it}=i("../web-gl/function-node");class nt extends it{astIdentifierExpression(b,c){if(b.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",b);const a=this.getType(b),o=$.sanitizeName(b.name);return b.name==="Infinity"?c.push("intBitsToFloat(2139095039)"):a==="Boolean"?this.argumentNames.indexOf(o)>-1?c.push(`bool(user_${o})`):c.push(`user_${o}`):c.push(`user_${o}`),c}}d.exports={WebGL2FunctionNode:nt}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(i,d,ft){const{WebGL2KernelValueBoolean:$}=i("./kernel-value/boolean"),{WebGL2KernelValueFloat:it}=i("./kernel-value/float"),{WebGL2KernelValueInteger:nt}=i("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:_}=i("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:b}=i("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:c}=i("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:a}=i("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:o}=i("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:h}=i("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:g}=i("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:tt}=i("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:at}=i("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:ht}=i("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:_e}=i("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:ut}=i("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:ct}=i("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:rt}=i("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:st}=i("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:vt}=i("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:ot}=i("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:et}=i("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:lt}=i("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:mt}=i("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:xt}=i("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:wt}=i("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:St}=i("./kernel-value/array2"),{WebGL2KernelValueArray3:Tt}=i("./kernel-value/array3"),{WebGL2KernelValueArray4:kt}=i("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:Vt}=i("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:Ct}=i("./kernel-value/dynamic-unsigned-array"),Rt={unsigned:{dynamic:{Boolean:$,Integer:nt,Float:it,Array:Ct,"Array(2)":St,"Array(3)":Tt,"Array(4)":kt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:ht,NumberTexture:rt,"ArrayTexture(1)":rt,"ArrayTexture(2)":rt,"ArrayTexture(3)":rt,"ArrayTexture(4)":rt,MemoryOptimizedNumberTexture:ut,HTMLCanvas:b,OffscreenCanvas:b,HTMLImage:b,ImageBitmap:b,ImageData:b,HTMLImageArray:a,HTMLVideo:h},static:{Boolean:$,Float:it,Integer:nt,Array:Vt,"Array(2)":St,"Array(3)":Tt,"Array(4)":kt,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:at,NumberTexture:ct,"ArrayTexture(1)":ct,"ArrayTexture(2)":ct,"ArrayTexture(3)":ct,"ArrayTexture(4)":ct,MemoryOptimizedNumberTexture:ut,HTMLCanvas:_,OffscreenCanvas:_,HTMLImage:_,ImageBitmap:_,ImageData:_,HTMLImageArray:c,HTMLVideo:o}},single:{dynamic:{Boolean:$,Integer:nt,Float:it,Array:vt,"Array(2)":St,"Array(3)":Tt,"Array(4)":kt,"Array1D(2)":et,"Array1D(3)":et,"Array1D(4)":et,"Array2D(2)":mt,"Array2D(3)":mt,"Array2D(4)":mt,"Array3D(2)":wt,"Array3D(3)":wt,"Array3D(4)":wt,Input:tt,NumberTexture:rt,"ArrayTexture(1)":rt,"ArrayTexture(2)":rt,"ArrayTexture(3)":rt,"ArrayTexture(4)":rt,MemoryOptimizedNumberTexture:ut,HTMLCanvas:b,OffscreenCanvas:b,HTMLImage:b,ImageBitmap:b,ImageData:b,HTMLImageArray:a,HTMLVideo:h},static:{Boolean:$,Float:it,Integer:nt,Array:st,"Array(2)":St,"Array(3)":Tt,"Array(4)":kt,"Array1D(2)":ot,"Array1D(3)":ot,"Array1D(4)":ot,"Array2D(2)":lt,"Array2D(3)":lt,"Array2D(4)":lt,"Array3D(2)":xt,"Array3D(3)":xt,"Array3D(4)":xt,Input:g,NumberTexture:ct,"ArrayTexture(1)":ct,"ArrayTexture(2)":ct,"ArrayTexture(3)":ct,"ArrayTexture(4)":ct,MemoryOptimizedNumberTexture:_e,HTMLCanvas:_,OffscreenCanvas:_,HTMLImage:_,ImageBitmap:_,ImageData:_,HTMLImageArray:c,HTMLVideo:o}}};function zt(Xt,Pt,Mt,jt){if(!Xt)throw new Error("type missing");if(!Pt)throw new Error("dynamic missing");if(!Mt)throw new Error("precision missing");jt.type&&(Xt=jt.type);const Zt=Rt[Mt][Pt];if(Zt[Xt]===!1)return null;if(Zt[Xt]===void 0)throw new Error(`Could not find a KernelValue for ${Xt}`);return Zt[Xt]}d.exports={kernelValueMaps:Rt,lookupKernelValueType:zt}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(i,d,ft){const{WebGLKernelValueArray2:$}=i("../../web-gl/kernel-value/array2");class it extends ${}d.exports={WebGL2KernelValueArray2:it}},{"../../web-gl/kernel-value/array2":41}],76:[function(i,d,ft){const{WebGLKernelValueArray3:$}=i("../../web-gl/kernel-value/array3");class it extends ${}d.exports={WebGL2KernelValueArray3:it}},{"../../web-gl/kernel-value/array3":42}],77:[function(i,d,ft){const{WebGLKernelValueArray4:$}=i("../../web-gl/kernel-value/array4");class it extends ${}d.exports={WebGL2KernelValueArray4:it}},{"../../web-gl/kernel-value/array4":43}],78:[function(i,d,ft){const{WebGLKernelValueBoolean:$}=i("../../web-gl/kernel-value/boolean");class it extends ${}d.exports={WebGL2KernelValueBoolean:it}},{"../../web-gl/kernel-value/boolean":44}],79:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGL2KernelValueHTMLImageArray:it}=i("./html-image-array");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2DArray ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}updateValue(b){const{width:c,height:a}=b[0];this.checkSize(c,a),this.dimensions=[c,a,b.length],this.textureSize=[c,a],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGL2KernelValueDynamicHTMLImageArray:nt}},{"../../../utils":114,"./html-image-array":92}],80:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueDynamicHTMLImage:it}=i("../../web-gl/kernel-value/dynamic-html-image");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}}d.exports={WebGL2KernelValueDynamicHTMLImage:nt}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(i,d,ft){i("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:$}=i("./dynamic-html-image");class it extends ${}d.exports={WebGL2KernelValueDynamicHTMLVideo:it}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:it}=i("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class nt extends it{getSource(){return $.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}d.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:nt}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueDynamicNumberTexture:it}=i("../../web-gl/kernel-value/dynamic-number-texture");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}}d.exports={WebGL2KernelValueDynamicNumberTexture:nt}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGL2KernelValueSingleArray:it}=i("../../web-gl2/kernel-value/single-array");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}updateValue(b){this.dimensions=$.getDimensions(b,!0),this.textureSize=$.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGL2KernelValueDynamicSingleArray:nt}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGL2KernelValueSingleArray1DI:it}=i("../../web-gl2/kernel-value/single-array1d-i");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}updateValue(b){this.setShape(b),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGL2KernelValueDynamicSingleArray1DI:nt}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGL2KernelValueSingleArray2DI:it}=i("../../web-gl2/kernel-value/single-array2d-i");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}updateValue(b){this.setShape(b),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGL2KernelValueDynamicSingleArray2DI:nt}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGL2KernelValueSingleArray3DI:it}=i("../../web-gl2/kernel-value/single-array3d-i");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}updateValue(b){this.setShape(b),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGL2KernelValueDynamicSingleArray3DI:nt}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGL2KernelValueSingleInput:it}=i("../../web-gl2/kernel-value/single-input");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}updateValue(b){let[c,a,o]=b.size;this.dimensions=new Int32Array([c||1,a||1,o||1]),this.textureSize=$.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(b)}}d.exports={WebGL2KernelValueDynamicSingleInput:nt}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:it}=i("../../web-gl/kernel-value/dynamic-unsigned-array");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}}d.exports={WebGL2KernelValueDynamicUnsignedArray:nt}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:it}=i("../../web-gl/kernel-value/dynamic-unsigned-input");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`uniform ${b} ivec2 ${this.sizeId}`,`uniform ${b} ivec3 ${this.dimensionsId}`])}}d.exports={WebGL2KernelValueDynamicUnsignedInput:nt}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(i,d,ft){i("../../../utils");const{WebGLKernelValueFloat:$}=i("../../web-gl/kernel-value/float");class it extends ${}d.exports={WebGL2KernelValueFloat:it}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelArray:it}=i("../../web-gl/kernel-value/array");class nt extends it{constructor(b,c){super(b,c),this.checkSize(b[0].width,b[0].height),this.dimensions=[b[0].width,b[0].height,b.length],this.textureSize=[b[0].width,b[0].height]}defineTexture(){const{context:b}=this;b.activeTexture(this.contextHandle),b.bindTexture(b.TEXTURE_2D_ARRAY,this.texture),b.texParameteri(b.TEXTURE_2D_ARRAY,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D_ARRAY,b.TEXTURE_MIN_FILTER,b.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2DArray ${this.id}`,`${b} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${b} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){const{context:c}=this;c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D_ARRAY,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage3D(c.TEXTURE_2D_ARRAY,0,c.RGBA,b[0].width,b[0].height,b.length,0,c.RGBA,c.UNSIGNED_BYTE,null);for(let a=0;a<b.length;a++)c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,a,b[a].width,b[a].height,1,c.RGBA,c.UNSIGNED_BYTE,this.uploadValue=b[a]);this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGL2KernelValueHTMLImageArray:nt}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueHTMLImage:it}=i("../../web-gl/kernel-value/html-image");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`${b} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${b} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}d.exports={WebGL2KernelValueHTMLImage:nt}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(i,d,ft){i("../../../utils");const{WebGL2KernelValueHTMLImage:$}=i("./html-image");class it extends ${}d.exports={WebGL2KernelValueHTMLVideo:it}},{"../../../utils":114,"./html-image":93}],95:[function(i,d,ft){const{WebGLKernelValueInteger:$}=i("../../web-gl/kernel-value/integer");class it extends ${getSource(_){const b=this.getVariablePrecisionString();return this.origin==="constants"?`const ${b} int ${this.id} = ${parseInt(_)};
`:`uniform ${b} int ${this.id};
`}updateValue(_){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=_)}}d.exports={WebGL2KernelValueInteger:it}},{"../../web-gl/kernel-value/integer":60}],96:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:it}=i("../../web-gl/kernel-value/memory-optimized-number-texture");class nt extends it{getSource(){const{id:b,sizeId:c,textureSize:a,dimensionsId:o,dimensions:h}=this,g=this.getVariablePrecisionString();return $.linesToString([`uniform sampler2D ${b}`,`${g} ivec2 ${c} = ivec2(${a[0]}, ${a[1]})`,`${g} ivec3 ${o} = ivec3(${h[0]}, ${h[1]}, ${h[2]})`])}}d.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:nt}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueNumberTexture:it}=i("../../web-gl/kernel-value/number-texture");class nt extends it{getSource(){const{id:b,sizeId:c,textureSize:a,dimensionsId:o,dimensions:h}=this,g=this.getVariablePrecisionString();return $.linesToString([`uniform ${g} sampler2D ${b}`,`${g} ivec2 ${c} = ivec2(${a[0]}, ${a[1]})`,`${g} ivec3 ${o} = ivec3(${h[0]}, ${h[1]}, ${h[2]})`])}}d.exports={WebGL2KernelValueNumberTexture:nt}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray:it}=i("../../web-gl/kernel-value/single-array");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`${b} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${b} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGL2KernelValueSingleArray:nt}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray1DI:it}=i("../../web-gl/kernel-value/single-array1d-i");class nt extends it{updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGL2KernelValueSingleArray1DI:nt}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray2DI:it}=i("../../web-gl/kernel-value/single-array2d-i");class nt extends it{updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGL2KernelValueSingleArray2DI:nt}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleArray3DI:it}=i("../../web-gl/kernel-value/single-array3d-i");class nt extends it{updateValue(b){if(b.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(b.constructor);return}const{context:c}=this;$.flattenTo(b,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGL2KernelValueSingleArray3DI:nt}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueSingleInput:it}=i("../../web-gl/kernel-value/single-input");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`${b} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${b} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(b){const{context:c}=this;$.flattenTo(b.value,this.uploadValue),c.activeTexture(this.contextHandle),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA32F,this.textureSize[0],this.textureSize[1],0,c.RGBA,c.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}d.exports={WebGL2KernelValueSingleInput:nt}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueUnsignedArray:it}=i("../../web-gl/kernel-value/unsigned-array");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`${b} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${b} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}d.exports={WebGL2KernelValueUnsignedArray:nt}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(i,d,ft){const{utils:$}=i("../../../utils"),{WebGLKernelValueUnsignedInput:it}=i("../../web-gl/kernel-value/unsigned-input");class nt extends it{getSource(){const b=this.getVariablePrecisionString();return $.linesToString([`uniform ${b} sampler2D ${this.id}`,`${b} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${b} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}d.exports={WebGL2KernelValueUnsignedInput:nt}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(i,d,ft){const{WebGLKernel:$}=i("../web-gl/kernel"),{WebGL2FunctionNode:it}=i("./function-node"),{FunctionBuilder:nt}=i("../function-builder"),{utils:_}=i("../../utils"),{fragmentShader:b}=i("./fragment-shader"),{vertexShader:c}=i("./vertex-shader"),{lookupKernelValueType:a}=i("./kernel-value-maps");let o=null,h=null,g=null,tt=null;class at extends ${static get isSupported(){return o!==null||(this.setupFeatureChecks(),o=this.isContextMatch(g)),o}static setupFeatureChecks(){typeof document<"u"?h=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(h=new OffscreenCanvas(0,0)),h&&(g=h.getContext("webgl2"),!(!g||!g.getExtension)&&(g.getExtension("EXT_color_buffer_float"),g.getExtension("OES_texture_float_linear"),tt=this.getFeatures()))}static isContextMatch(_e){return typeof WebGL2RenderingContext<"u"?_e instanceof WebGL2RenderingContext:!1}static getFeatures(){const _e=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.LOW_INT),lowFloatPrecision:_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.LOW_FLOAT),mediumIntPrecision:_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.MEDIUM_INT),mediumFloatPrecision:_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.MEDIUM_FLOAT),highIntPrecision:_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.HIGH_INT),highFloatPrecision:_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return g.getParameter(g.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return g.getParameter(g.MAX_TEXTURE_SIZE)}static lookupKernelValueType(_e,ut,ct,rt){return a(_e,ut,ct,rt)}static get testCanvas(){return h}static get testContext(){return g}static get features(){return tt}static get fragmentShader(){return b}static get vertexShader(){return c}initContext(){const _e={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",_e)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(_e){if(!this.validate){this.texSize=_.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:ut}=this.constructor;if(this.precision==="single"&&!ut.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=ut.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!ut.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&ut.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(_e.length!==1)throw new Error("Auto output only supported for kernels with only one input");const ct=_.getVariableType(_e[0],this.strictIntegers);switch(ct){case"Array":this.output=_.getDimensions(ct);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=_e[0].output;break;default:throw new Error("Auto output not supported for input type: "+ct)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=_.clone(this.output);return}else!this.graphical&&this.precision===null&&ut.isTextureFloat&&(this.precision="single");this.texSize=_.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const _e=nt.fromKernel(this,it,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=_e.getPrototypeString("kernel"),this.setupReturnTypes(_e)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:_e}=this;switch(this.getInternalFormat()){case _e.R32F:return _e.RED;case _e.RG32F:return _e.RG;case _e.RGBA32F:return _e.RGBA;case _e.RGBA:return _e.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:_e}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?_e.RGBA32F:_e.R32F;case"Array(2)":return _e.RG32F;case"Array(3)":case"Array(4)":return _e.RGBA32F;default:throw new Error("Unhandled return type")}return _e.RGBA32F}return _e.RGBA}_setupOutputTexture(){const _e=this.context;if(this.texture){_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,this.texture.texture,0);return}_e.bindFramebuffer(_e.FRAMEBUFFER,this.framebuffer);const ut=_e.createTexture(),ct=this.texSize;_e.activeTexture(_e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),_e.bindTexture(_e.TEXTURE_2D,ut),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_WRAP_S,_e.REPEAT),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_WRAP_T,_e.REPEAT),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_MIN_FILTER,_e.NEAREST),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_MAG_FILTER,_e.NEAREST);const rt=this.getInternalFormat();this.precision==="single"?_e.texStorage2D(_e.TEXTURE_2D,1,rt,ct[0],ct[1]):_e.texImage2D(_e.TEXTURE_2D,0,rt,ct[0],ct[1],0,rt,_e.UNSIGNED_BYTE,null),_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,ut,0),this.texture=new this.TextureConstructor({texture:ut,size:ct,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const _e=this.context;if(this.mappedTextures){for(let ct=0;ct<this.subKernels.length;ct++)_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0+ct+1,_e.TEXTURE_2D,this.mappedTextures[ct].texture,0);return}const ut=this.texSize;this.drawBuffersMap=[_e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let ct=0;ct<this.subKernels.length;ct++){const rt=this.createTexture();this.drawBuffersMap.push(_e.COLOR_ATTACHMENT0+ct+1),_e.activeTexture(_e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+ct),_e.bindTexture(_e.TEXTURE_2D,rt),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_WRAP_S,_e.CLAMP_TO_EDGE),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_WRAP_T,_e.CLAMP_TO_EDGE),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_MIN_FILTER,_e.NEAREST),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_MAG_FILTER,_e.NEAREST);const st=this.getInternalFormat();this.precision==="single"?_e.texStorage2D(_e.TEXTURE_2D,1,st,ut[0],ut[1]):_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,ut[0],ut[1],0,_e.RGBA,_e.UNSIGNED_BYTE,null),_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0+ct+1,_e.TEXTURE_2D,rt,0),this.mappedTextures.push(new this.TextureConstructor({texture:rt,size:ut,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const _e=this.subKernels,ut=this.getVariablePrecisionString(this.texSize,this.tactic);return _e===null||_e.length<1?`in ${ut} vec2 vTexCoord;
`:`out ${ut} vec2 vTexCoord;
`}_getMainArgumentsString(_e){const ut=[],ct=this.argumentNames;for(let rt=0;rt<ct.length;rt++)ut.push(this.kernelArguments[rt].getSource(_e[rt]));return ut.join("")}getKernelString(){const _e=[this.getKernelResultDeclaration()],ut=this.subKernels;if(ut!==null)switch(_e.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let ct=0;ct<ut.length;ct++){const rt=ut[ct];_e.push(rt.returnType==="Integer"?`int subKernelResult_${rt.name} = 0`:`float subKernelResult_${rt.name} = 0.0`,`layout(location = ${ct+1}) out vec4 data${ct+1}`)}break;case"Array(2)":for(let ct=0;ct<ut.length;ct++)_e.push(`vec2 subKernelResult_${ut[ct].name}`,`layout(location = ${ct+1}) out vec4 data${ct+1}`);break;case"Array(3)":for(let ct=0;ct<ut.length;ct++)_e.push(`vec3 subKernelResult_${ut[ct].name}`,`layout(location = ${ct+1}) out vec4 data${ct+1}`);break;case"Array(4)":for(let ct=0;ct<ut.length;ct++)_e.push(`vec4 subKernelResult_${ut[ct].name}`,`layout(location = ${ct+1}) out vec4 data${ct+1}`);break}else _e.push("out vec4 data0");return _.linesToString(_e)+this.translatedSource}getMainResultGraphical(){return _.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return _.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const _e=[];if(!this.subKernels)return"";for(let ut=0;ut<this.subKernels.length;ut++)this.subKernels[ut].returnType==="Integer"?_e.push(`  data${ut+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[ut].name}))`):_e.push(`  data${ut+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[ut].name})`);return _.linesToString(_e)}getMainResultKernelMemoryOptimizedFloats(_e,ut){_e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${ut} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(_e,ut){if(!this.subKernels)return _e;for(let ct=0;ct<this.subKernels.length;ct++){const rt=this.subKernels[ct];rt.returnType==="Integer"?_e.push(`  data${ct+1}.${ut} = float(subKernelResult_${rt.name})`):_e.push(`  data${ct+1}.${ut} = subKernelResult_${rt.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const _e=[];if(!this.subKernels)return _e;for(let ut=0;ut<this.subKernels.length;++ut){const ct=this.subKernels[ut];ct.returnType==="Integer"?_e.push(`  data${ut+1}[0] = float(subKernelResult_${ct.name})`):_e.push(`  data${ut+1}[0] = subKernelResult_${ct.name}`)}return _e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const _e=[];if(!this.subKernels)return _e;for(let ut=0;ut<this.subKernels.length;++ut){const ct=this.subKernels[ut];_e.push(`  data${ut+1}[0] = subKernelResult_${ct.name}[0]`,`  data${ut+1}[1] = subKernelResult_${ct.name}[1]`)}return _e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const _e=[];if(!this.subKernels)return _e;for(let ut=0;ut<this.subKernels.length;++ut){const ct=this.subKernels[ut];_e.push(`  data${ut+1}[0] = subKernelResult_${ct.name}[0]`,`  data${ut+1}[1] = subKernelResult_${ct.name}[1]`,`  data${ut+1}[2] = subKernelResult_${ct.name}[2]`)}return _e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const _e=[];if(!this.subKernels)return _e;for(let ut=0;ut<this.subKernels.length;++ut)_e.push(`  data${ut+1} = subKernelResult_${this.subKernels[ut].name}`);return _e}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const _e=super.toJSON();return _e.functionNodes=nt.fromKernel(this,it).toJSON(),_e.settings.threadDim=this.threadDim,_e}}d.exports={WebGL2Kernel:at}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(i,d,ft){const $=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;d.exports={vertexShader:$}},{}],107:[function(i,d,ft){const $=i("./index"),it=$.GPU;for(const _ in $)!$.hasOwnProperty(_)||_!=="GPU"&&(it[_]=$[_]);typeof window<"u"&&nt(window),typeof self<"u"&&nt(self);function nt(_){_.GPU||Object.defineProperty(_,"GPU",{get(){return it}})}d.exports=$},{"./index":109}],108:[function(i,d,ft){const{gpuMock:$}=i("gpu-mock.js"),{utils:it}=i("./utils");i("./backend/kernel");const{CPUKernel:nt}=i("./backend/cpu/kernel"),{HeadlessGLKernel:_}=i("./backend/headless-gl/kernel"),{WebGL2Kernel:b}=i("./backend/web-gl2/kernel"),{WebGLKernel:c}=i("./backend/web-gl/kernel"),{kernelRunShortcut:a}=i("./kernel-run-shortcut"),o=[_,b,c],h=["gpu","cpu"],g={headlessgl:_,webgl2:b,webgl:c};let tt=!0;class at{static disableValidation(){tt=!1}static enableValidation(){tt=!0}static get isGPUSupported(){return o.some(ut=>ut.isSupported)}static get isKernelMapSupported(){return o.some(ut=>ut.isSupported&&ut.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return c.isSupported}static get isWebGL2Supported(){return b.isSupported}static get isHeadlessGLSupported(){return _.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return b.isSupported}static get isSinglePrecisionSupported(){return o.some(ut=>ut.isSupported&&ut.features.isFloatRead&&ut.features.isTextureFloat)}constructor(ut){if(ut=ut||{},this.canvas=ut.canvas||null,this.context=ut.context||null,this.mode=ut.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),ut.functions)for(let ct=0;ct<ut.functions.length;ct++)this.addFunction(ut.functions[ct]);if(ut.nativeFunctions)for(const ct in ut.nativeFunctions){if(!ut.nativeFunctions.hasOwnProperty(ct))continue;const rt=ut.nativeFunctions[ct],{name:st,source:vt}=rt;this.addNativeFunction(st,vt,rt)}}}chooseKernel(){if(this.Kernel)return;let ut=null;if(this.context){for(let ct=0;ct<o.length;ct++){const rt=o[ct];if(rt.isContextMatch(this.context)){if(!rt.isSupported)throw new Error(`Kernel type ${rt.name} not supported`);ut=rt;break}}if(ut===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in g)(!tt||g[this.mode].isSupported)&&(ut=g[this.mode]);else if(this.mode==="gpu"){for(let ct=0;ct<o.length;ct++)if(o[ct].isSupported){ut=o[ct];break}}else this.mode==="cpu"&&(ut=nt);if(!ut)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let ct=0;ct<o.length;ct++)if(o[ct].isSupported){ut=o[ct];break}ut||(ut=nt)}this.mode||(this.mode=ut.mode),this.Kernel=ut}createKernel(ut,ct){if(typeof ut>"u")throw new Error("Missing source parameter");if(typeof ut!="object"&&!it.isFunction(ut)&&typeof ut!="string")throw new Error("source parameter not a function");const rt=this.kernels;if(this.mode==="dev"){const wt=$(ut,ht(ct));return rt.push(wt),wt}ut=typeof ut=="function"?ut.toString():ut;const st={},vt=ht(ct)||{};ct&&typeof ct.argumentTypes=="object"&&(vt.argumentTypes=Object.keys(ct.argumentTypes).map(wt=>ct.argumentTypes[wt]));function ot(wt){console.warn("Falling back to CPU");const St=new nt(ut,{argumentTypes:xt.argumentTypes,constantTypes:xt.constantTypes,graphical:xt.graphical,loopMaxIterations:xt.loopMaxIterations,constants:xt.constants,dynamicOutput:xt.dynamicOutput,dynamicArgument:xt.dynamicArguments,output:xt.output,precision:xt.precision,pipeline:xt.pipeline,immutable:xt.immutable,optimizeFloatMemory:xt.optimizeFloatMemory,fixIntegerDivisionAccuracy:xt.fixIntegerDivisionAccuracy,functions:xt.functions,nativeFunctions:xt.nativeFunctions,injectedNative:xt.injectedNative,subKernels:xt.subKernels,strictIntegers:xt.strictIntegers,debug:xt.debug});St.build.apply(St,wt);const Tt=St.run.apply(St,wt);return xt.replaceKernel(St),Tt}function et(wt,St,Tt){Tt.debug&&console.warn("Switching kernels");let kt=null;if(Tt.signature&&!st[Tt.signature]&&(st[Tt.signature]=Tt),Tt.dynamicOutput)for(let Pt=wt.length-1;Pt>=0;Pt--){const Mt=wt[Pt];Mt.type==="outputPrecisionMismatch"&&(kt=Mt.needed)}const Vt=Tt.constructor,Ct=Vt.getArgumentTypes(Tt,St),Rt=Vt.getSignature(Tt,Ct),zt=st[Rt];if(zt)return zt.onActivate(Tt),zt;const Xt=st[Rt]=new Vt(ut,{argumentTypes:Ct,constantTypes:Tt.constantTypes,graphical:Tt.graphical,loopMaxIterations:Tt.loopMaxIterations,constants:Tt.constants,dynamicOutput:Tt.dynamicOutput,dynamicArgument:Tt.dynamicArguments,context:Tt.context,canvas:Tt.canvas,output:kt||Tt.output,precision:Tt.precision,pipeline:Tt.pipeline,immutable:Tt.immutable,optimizeFloatMemory:Tt.optimizeFloatMemory,fixIntegerDivisionAccuracy:Tt.fixIntegerDivisionAccuracy,functions:Tt.functions,nativeFunctions:Tt.nativeFunctions,injectedNative:Tt.injectedNative,subKernels:Tt.subKernels,strictIntegers:Tt.strictIntegers,debug:Tt.debug,gpu:Tt.gpu,validate:tt,returnType:Tt.returnType,tactic:Tt.tactic,onRequestFallback:ot,onRequestSwitchKernel:et,texture:Tt.texture,mappedTextures:Tt.mappedTextures,drawBuffersMap:Tt.drawBuffersMap});return Xt.build.apply(Xt,St),xt.replaceKernel(Xt),rt.push(Xt),Xt}const lt=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:tt,onRequestFallback:ot,onRequestSwitchKernel:et},vt),mt=new this.Kernel(ut,lt),xt=a(mt);return this.canvas||(this.canvas=mt.canvas),this.context||(this.context=mt.context),rt.push(mt),xt}createKernelMap(){let ut,ct;const rt=typeof arguments[arguments.length-2];if(rt==="function"||rt==="string"?(ut=arguments[arguments.length-2],ct=arguments[arguments.length-1]):ut=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&h.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const st=ht(ct);if(ct&&typeof ct.argumentTypes=="object"&&(st.argumentTypes=Object.keys(ct.argumentTypes).map(vt=>ct.argumentTypes[vt])),Array.isArray(arguments[0])){st.subKernels=[];const vt=arguments[0];for(let ot=0;ot<vt.length;ot++){const et=vt[ot].toString(),lt=it.getFunctionNameFromString(et);st.subKernels.push({name:lt,source:et,property:ot})}}else{st.subKernels=[];const vt=arguments[0];for(let ot in vt){if(!vt.hasOwnProperty(ot))continue;const et=vt[ot].toString(),lt=it.getFunctionNameFromString(et);st.subKernels.push({name:lt||ot,source:et,property:ot})}}return this.createKernel(ut,st)}combineKernels(){const ut=arguments[0],ct=arguments[arguments.length-1];if(ut.kernel.constructor.mode==="cpu")return ct;const rt=arguments[0].canvas,st=arguments[0].context,vt=arguments.length-1;for(let ot=0;ot<vt;ot++)arguments[ot].setCanvas(rt).setContext(st).setPipeline(!0);return function(){const ot=ct.apply(this,arguments);return ot.toArray?ot.toArray():ot}}setFunctions(ut){return this.functions=ut,this}setNativeFunctions(ut){return this.nativeFunctions=ut,this}addFunction(ut,ct){return this.functions.push({source:ut,settings:ct}),this}addNativeFunction(ut,ct,rt){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:ut,source:ct},rt)),this}injectNative(ut){return this.injectedNative=ut,this}destroy(){return new Promise((ut,ct)=>{this.kernels||ut(),setTimeout(()=>{try{for(let st=0;st<this.kernels.length;st++)this.kernels[st].destroy(!0);let rt=this.kernels[0];rt&&(rt.kernel&&(rt=rt.kernel),rt.constructor.destroyContext&&rt.constructor.destroyContext(this.context))}catch(rt){ct(rt)}ut()},0)})}}function ht(_e){if(!_e)return{};const ut=Object.assign({},_e);return _e.hasOwnProperty("floatOutput")&&(it.warnDeprecated("setting","floatOutput","precision"),ut.precision=_e.floatOutput?"single":"unsigned"),_e.hasOwnProperty("outputToTexture")&&(it.warnDeprecated("setting","outputToTexture","pipeline"),ut.pipeline=Boolean(_e.outputToTexture)),_e.hasOwnProperty("outputImmutable")&&(it.warnDeprecated("setting","outputImmutable","immutable"),ut.immutable=Boolean(_e.outputImmutable)),_e.hasOwnProperty("floatTextures")&&(it.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),ut.optimizeFloatMemory=Boolean(_e.floatTextures)),ut}d.exports={GPU:at,kernelOrder:o,kernelTypes:h}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(i,d,ft){const{GPU:$}=i("./gpu"),{alias:it}=i("./alias"),{utils:nt}=i("./utils"),{Input:_,input:b}=i("./input"),{Texture:c}=i("./texture"),{FunctionBuilder:a}=i("./backend/function-builder"),{FunctionNode:o}=i("./backend/function-node"),{CPUFunctionNode:h}=i("./backend/cpu/function-node"),{CPUKernel:g}=i("./backend/cpu/kernel"),{HeadlessGLKernel:tt}=i("./backend/headless-gl/kernel"),{WebGLFunctionNode:at}=i("./backend/web-gl/function-node"),{WebGLKernel:ht}=i("./backend/web-gl/kernel"),{kernelValueMaps:_e}=i("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:ut}=i("./backend/web-gl2/function-node"),{WebGL2Kernel:ct}=i("./backend/web-gl2/kernel"),{kernelValueMaps:rt}=i("./backend/web-gl2/kernel-value-maps"),{GLKernel:st}=i("./backend/gl/kernel"),{Kernel:vt}=i("./backend/kernel"),{FunctionTracer:ot}=i("./backend/function-tracer"),et=i("./plugins/math-random-uniformly-distributed");d.exports={alias:it,CPUFunctionNode:h,CPUKernel:g,GPU:$,FunctionBuilder:a,FunctionNode:o,HeadlessGLKernel:tt,Input:_,input:b,Texture:c,utils:nt,WebGL2FunctionNode:ut,WebGL2Kernel:ct,webGL2KernelValueMaps:rt,WebGLFunctionNode:at,WebGLKernel:ht,webGLKernelValueMaps:_e,GLKernel:st,Kernel:vt,FunctionTracer:ot,plugins:{mathRandom:et}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(i,d,ft){class ${constructor(_,b){this.value=_,Array.isArray(b)?this.size=b:(this.size=new Int32Array(3),b.z?this.size=new Int32Array([b.x,b.y,b.z]):b.y?this.size=new Int32Array([b.x,b.y]):this.size=new Int32Array([b.x]));const[c,a,o]=this.size;if(o){if(this.value.length!==c*a*o)throw new Error(`Input size ${this.value.length} does not match ${c} * ${a} * ${o} = ${a*c*o}`)}else if(a){if(this.value.length!==c*a)throw new Error(`Input size ${this.value.length} does not match ${c} * ${a} = ${a*c}`)}else if(this.value.length!==c)throw new Error(`Input size ${this.value.length} does not match ${c}`)}toArray(){const{utils:_}=i("./utils"),[b,c,a]=this.size;return a?_.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),b,c,a):c?_.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),b,c):this.value}}function it(nt,_){return new $(nt,_)}d.exports={Input:$,input:it}},{"./utils":114}],111:[function(i,d,ft){const{utils:$}=i("./utils");function it(_){let b=function(){return _.build.apply(_,arguments),b=function(){let a=_.run.apply(_,arguments);if(_.switchingKernels){const o=_.resetSwitchingKernels(),h=_.onRequestSwitchKernel(o,arguments,_);c.kernel=_=h,a=h.run.apply(h,arguments)}return _.renderKernels?_.renderKernels():_.renderOutput?_.renderOutput():a},b.apply(_,arguments)};const c=function(){return b.apply(_,arguments)};return c.exec=function(){return new Promise((a,o)=>{try{a(b.apply(this,arguments))}catch(h){o(h)}})},c.replaceKernel=function(a){_=a,nt(_,c)},nt(_,c),c}function nt(_,b){if(b.kernel){b.kernel=_;return}const c=$.allPropertiesOf(_);for(let a=0;a<c.length;a++){const o=c[a];o[0]==="_"&&o[1]==="_"||(typeof _[o]=="function"?o.substring(0,3)==="add"||o.substring(0,3)==="set"?b[o]=function(){return b.kernel[o].apply(b.kernel,arguments),b}:b[o]=function(){return b.kernel[o].apply(b.kernel,arguments)}:(b.__defineGetter__(o,()=>b.kernel[o]),b.__defineSetter__(o,h=>{b.kernel[o]=h})))}b.kernel=_}d.exports={kernelRunShortcut:it}},{"./utils":114}],112:[function(i,d,ft){const a={name:"math-random-uniformly-distributed",onBeforeRun:o=>{o.setUniform1f("randomSeed1",Math.random()),o.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};d.exports=a},{}],113:[function(i,d,ft){class ${constructor(nt){const{texture:_,size:b,dimensions:c,output:a,context:o,type:h="NumberTexture",kernel:g,internalFormat:tt,textureFormat:at}=nt;if(!a)throw new Error('settings property "output" required.');if(!o)throw new Error('settings property "context" required.');if(!_)throw new Error('settings property "texture" required.');if(!g)throw new Error('settings property "kernel" required.');this.texture=_,_._refs?_._refs++:_._refs=1,this.size=b,this.dimensions=c,this.output=a,this.context=o,this.kernel=g,this.type=h,this._deleted=!1,this.internalFormat=tt,this.textureFormat=at}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}d.exports={Texture:$}},{}],114:[function(i,d,ft){const $=i("acorn"),{Input:it}=i("./input"),{Texture:nt}=i("./texture"),_=/function ([^(]*)/,b=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=/([^\s,]+)/g,a={systemEndianness(){return tt},getSystemEndianness(){const at=new ArrayBuffer(4),ht=new Uint32Array(at),_e=new Uint8Array(at);if(ht[0]=3735928559,_e[0]===239)return"LE";if(_e[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(at){return typeof at=="function"},isFunctionString(at){return typeof at=="string"?at.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(at){const ht=_.exec(at);return!ht||ht.length===0?null:ht[1].trim()},getFunctionBodyFromString(at){return at.substring(at.indexOf("{")+1,at.lastIndexOf("}"))},getArgumentNamesFromString(at){const ht=at.replace(b,"");let _e=ht.slice(ht.indexOf("(")+1,ht.indexOf(")")).match(c);return _e===null&&(_e=[]),_e},clone(at){if(at===null||typeof at!="object"||at.hasOwnProperty("isActiveClone"))return at;const ht=at.constructor();for(let _e in at)Object.prototype.hasOwnProperty.call(at,_e)&&(at.isActiveClone=null,ht[_e]=a.clone(at[_e]),delete at.isActiveClone);return ht},isArray(at){return!isNaN(at.length)},getVariableType(at,ht){if(a.isArray(at))return at.length>0&&at[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(at.constructor){case Boolean:return"Boolean";case Number:return ht&&Number.isInteger(at)?"Integer":"Float";case nt:return at.type;case it:return"Input"}if("nodeName"in at)switch(at.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(at.hasOwnProperty("type"))return at.type;if(typeof OffscreenCanvas<"u"&&at instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&at instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&at instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(at,ht){let[_e,ut,ct]=ht,rt=(_e||1)*(ut||1)*(ct||1);return at.optimizeFloatMemory&&at.precision==="single"&&(_e=rt=Math.ceil(rt/4)),ut>1&&_e*ut===rt?new Int32Array([_e,ut]):a.closestSquareDimensions(rt)},closestSquareDimensions(at){const ht=Math.sqrt(at);let _e=Math.ceil(ht),ut=Math.floor(ht);for(;_e*ut<at;)_e--,ut=Math.ceil(at/_e);return new Int32Array([ut,Math.ceil(at/ut)])},getMemoryOptimizedFloatTextureSize(at,ht){const ut=a.roundTo((at[0]||1)*(at[1]||1)*(at[2]||1)*(at[3]||1),4)/ht;return a.closestSquareDimensions(ut)},getMemoryOptimizedPackedTextureSize(at,ht){const[_e,ut,ct]=at,st=a.roundTo((_e||1)*(ut||1)*(ct||1),4)/(4/ht);return a.closestSquareDimensions(st)},roundTo(at,ht){return Math.floor((at+ht-1)/ht)*ht},getDimensions(at,ht){let _e;if(a.isArray(at)){const ut=[];let ct=at;for(;a.isArray(ct);)ut.push(ct.length),ct=ct[0];_e=ut.reverse()}else if(at instanceof nt)_e=at.output;else if(at instanceof it)_e=at.size;else throw new Error(`Unknown dimensions of ${at}`);if(ht)for(_e=Array.from(_e);_e.length<3;)_e.push(1);return new Int32Array(_e)},flatten2dArrayTo(at,ht){let _e=0;for(let ut=0;ut<at.length;ut++)ht.set(at[ut],_e),_e+=at[ut].length},flatten3dArrayTo(at,ht){let _e=0;for(let ut=0;ut<at.length;ut++)for(let ct=0;ct<at[ut].length;ct++)ht.set(at[ut][ct],_e),_e+=at[ut][ct].length},flatten4dArrayTo(at,ht){let _e=0;for(let ut=0;ut<at.length;ut++)for(let ct=0;ct<at[ut].length;ct++)for(let rt=0;rt<at[ut][ct].length;rt++)ht.set(at[ut][ct][rt],_e),_e+=at[ut][ct][rt].length},flattenTo(at,ht){a.isArray(at[0])?a.isArray(at[0][0])?a.isArray(at[0][0][0])?a.flatten4dArrayTo(at,ht):a.flatten3dArrayTo(at,ht):a.flatten2dArrayTo(at,ht):ht.set(at)},splitArray(at,ht){const _e=[];for(let ut=0;ut<at.length;ut+=ht)_e.push(new at.constructor(at.buffer,ut*4+at.byteOffset,ht));return _e},getAstString(at,ht){const _e=Array.isArray(at)?at:at.split(/\r?\n/g),ut=ht.loc.start,ct=ht.loc.end,rt=[];if(ut.line===ct.line)rt.push(_e[ut.line-1].substring(ut.column,ct.column));else{rt.push(_e[ut.line-1].slice(ut.column));for(let st=ut.line;st<ct.line;st++)rt.push(_e[st]);rt.push(_e[ct.line-1].slice(0,ct.column))}return rt.join(`
`)},allPropertiesOf(at){const ht=[];do ht.push.apply(ht,Object.getOwnPropertyNames(at));while(at=Object.getPrototypeOf(at));return ht},linesToString(at){return at.length>0?at.join(`;
`)+`;
`:`
`},warnDeprecated(at,ht,_e){console.warn(_e?`You are using a deprecated ${at} "${ht}". It has been replaced with "${_e}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${at} "${ht}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(at,ht,_e)=>{const ut=_e/2|0,ct=ht*4,rt=new Uint8ClampedArray(ht*4),st=at.slice(0);for(let vt=0;vt<ut;++vt){const ot=vt*ct,et=(_e-vt-1)*ct;rt.set(st.subarray(ot,ot+ct)),st.copyWithin(ot,et,et+ct),st.set(rt,et)}return st},erectPackedFloat:(at,ht)=>at.subarray(0,ht),erect2DPackedFloat:(at,ht,_e)=>{const ut=new Array(_e);for(let ct=0;ct<_e;ct++){const rt=ct*ht,st=rt+ht;ut[ct]=at.subarray(rt,st)}return ut},erect3DPackedFloat:(at,ht,_e,ut)=>{const ct=new Array(ut);for(let rt=0;rt<ut;rt++){const st=new Array(_e);for(let vt=0;vt<_e;vt++){const ot=rt*_e*ht+vt*ht,et=ot+ht;st[vt]=at.subarray(ot,et)}ct[rt]=st}return ct},erectMemoryOptimizedFloat:(at,ht)=>at.subarray(0,ht),erectMemoryOptimized2DFloat:(at,ht,_e)=>{const ut=new Array(_e);for(let ct=0;ct<_e;ct++){const rt=ct*ht;ut[ct]=at.subarray(rt,rt+ht)}return ut},erectMemoryOptimized3DFloat:(at,ht,_e,ut)=>{const ct=new Array(ut);for(let rt=0;rt<ut;rt++){const st=new Array(_e);for(let vt=0;vt<_e;vt++){const ot=rt*_e*ht+vt*ht;st[vt]=at.subarray(ot,ot+ht)}ct[rt]=st}return ct},erectFloat:(at,ht)=>{const _e=new Float32Array(ht);let ut=0;for(let ct=0;ct<ht;ct++)_e[ct]=at[ut],ut+=4;return _e},erect2DFloat:(at,ht,_e)=>{const ut=new Array(_e);let ct=0;for(let rt=0;rt<_e;rt++){const st=new Float32Array(ht);for(let vt=0;vt<ht;vt++)st[vt]=at[ct],ct+=4;ut[rt]=st}return ut},erect3DFloat:(at,ht,_e,ut)=>{const ct=new Array(ut);let rt=0;for(let st=0;st<ut;st++){const vt=new Array(_e);for(let ot=0;ot<_e;ot++){const et=new Float32Array(ht);for(let lt=0;lt<ht;lt++)et[lt]=at[rt],rt+=4;vt[ot]=et}ct[st]=vt}return ct},erectArray2:(at,ht)=>{const _e=new Array(ht),ut=ht*4;let ct=0;for(let rt=0;rt<ut;rt+=4)_e[ct++]=at.subarray(rt,rt+2);return _e},erect2DArray2:(at,ht,_e)=>{const ut=new Array(_e),ct=ht*4;for(let rt=0;rt<_e;rt++){const st=new Array(ht),vt=rt*ct;let ot=0;for(let et=0;et<ct;et+=4)st[ot++]=at.subarray(et+vt,et+vt+2);ut[rt]=st}return ut},erect3DArray2:(at,ht,_e,ut)=>{const ct=ht*4,rt=new Array(ut);for(let st=0;st<ut;st++){const vt=new Array(_e);for(let ot=0;ot<_e;ot++){const et=new Array(ht),lt=st*ct*_e+ot*ct;let mt=0;for(let xt=0;xt<ct;xt+=4)et[mt++]=at.subarray(xt+lt,xt+lt+2);vt[ot]=et}rt[st]=vt}return rt},erectArray3:(at,ht)=>{const _e=new Array(ht),ut=ht*4;let ct=0;for(let rt=0;rt<ut;rt+=4)_e[ct++]=at.subarray(rt,rt+3);return _e},erect2DArray3:(at,ht,_e)=>{const ut=ht*4,ct=new Array(_e);for(let rt=0;rt<_e;rt++){const st=new Array(ht),vt=rt*ut;let ot=0;for(let et=0;et<ut;et+=4)st[ot++]=at.subarray(et+vt,et+vt+3);ct[rt]=st}return ct},erect3DArray3:(at,ht,_e,ut)=>{const ct=ht*4,rt=new Array(ut);for(let st=0;st<ut;st++){const vt=new Array(_e);for(let ot=0;ot<_e;ot++){const et=new Array(ht),lt=st*ct*_e+ot*ct;let mt=0;for(let xt=0;xt<ct;xt+=4)et[mt++]=at.subarray(xt+lt,xt+lt+3);vt[ot]=et}rt[st]=vt}return rt},erectArray4:(at,ht)=>{const _e=new Array(at),ut=ht*4;let ct=0;for(let rt=0;rt<ut;rt+=4)_e[ct++]=at.subarray(rt,rt+4);return _e},erect2DArray4:(at,ht,_e)=>{const ut=ht*4,ct=new Array(_e);for(let rt=0;rt<_e;rt++){const st=new Array(ht),vt=rt*ut;let ot=0;for(let et=0;et<ut;et+=4)st[ot++]=at.subarray(et+vt,et+vt+4);ct[rt]=st}return ct},erect3DArray4:(at,ht,_e,ut)=>{const ct=ht*4,rt=new Array(ut);for(let st=0;st<ut;st++){const vt=new Array(_e);for(let ot=0;ot<_e;ot++){const et=new Array(ht),lt=st*ct*_e+ot*ct;let mt=0;for(let xt=0;xt<ct;xt+=4)et[mt++]=at.subarray(xt+lt,xt+lt+4);vt[ot]=et}rt[st]=vt}return rt},flattenFunctionToString:(at,ht)=>{const{findDependency:_e,thisLookup:ut,doNotDefine:ct}=ht;let rt=ht.flattened;rt||(rt=ht.flattened={});const st=$.parse(at),vt=[];let ot=0;function et(mt){if(Array.isArray(mt)){const xt=[];for(let wt=0;wt<mt.length;wt++)xt.push(et(mt[wt]));return xt.join("")}switch(mt.type){case"Program":return et(mt.body)+(mt.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${mt.id.name}(${mt.params.map(et).join(", ")}) ${et(mt.body)}`;case"BlockStatement":{const wt=[];ot+=2;for(let St=0;St<mt.body.length;St++){const Tt=et(mt.body[St]);Tt&&wt.push(" ".repeat(ot)+Tt,`;
`)}return ot-=2,`{
${wt.join("")}}`}case"VariableDeclaration":const xt=a.normalizeDeclarations(mt).map(et).filter(wt=>wt!==null);return xt.length<1?"":`${mt.kind} ${xt.join(",")}`;case"VariableDeclarator":return mt.init.object&&mt.init.object.type==="ThisExpression"?ut(mt.init.property.name,!0)?`${mt.id.name} = ${et(mt.init)}`:null:`${mt.id.name} = ${et(mt.init)}`;case"CallExpression":{if(mt.callee.property.name==="subarray")return`${et(mt.callee.object)}.${et(mt.callee.property)}(${mt.arguments.map(wt=>et(wt)).join(", ")})`;if(mt.callee.object.name==="gl"||mt.callee.object.name==="context")return`${et(mt.callee.object)}.${et(mt.callee.property)}(${mt.arguments.map(wt=>et(wt)).join(", ")})`;if(mt.callee.object.type==="ThisExpression")return vt.push(_e("this",mt.callee.property.name)),`${mt.callee.property.name}(${mt.arguments.map(wt=>et(wt)).join(", ")})`;if(mt.callee.object.name){const wt=_e(mt.callee.object.name,mt.callee.property.name);return wt===null?`${mt.callee.object.name}.${mt.callee.property.name}(${mt.arguments.map(St=>et(St)).join(", ")})`:(vt.push(wt),`${mt.callee.property.name}(${mt.arguments.map(St=>et(St)).join(", ")})`)}else{if(mt.callee.object.type==="MemberExpression")return`${et(mt.callee.object)}.${mt.callee.property.name}(${mt.arguments.map(wt=>et(wt)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${et(mt.argument)}`;case"BinaryExpression":return`(${et(mt.left)}${mt.operator}${et(mt.right)})`;case"UnaryExpression":return mt.prefix?`${mt.operator} ${et(mt.argument)}`:`${et(mt.argument)} ${mt.operator}`;case"ExpressionStatement":return`${et(mt.expression)}`;case"SequenceExpression":return`(${et(mt.expressions)})`;case"ArrowFunctionExpression":return`(${mt.params.map(et).join(", ")}) => ${et(mt.body)}`;case"Literal":return mt.raw;case"Identifier":return mt.name;case"MemberExpression":return mt.object.type==="ThisExpression"?ut(mt.property.name):mt.computed?`${et(mt.object)}[${et(mt.property)}]`:et(mt.object)+"."+et(mt.property);case"ThisExpression":return"this";case"NewExpression":return`new ${et(mt.callee)}(${mt.arguments.map(wt=>et(wt)).join(", ")})`;case"ForStatement":return`for (${et(mt.init)};${et(mt.test)};${et(mt.update)}) ${et(mt.body)}`;case"AssignmentExpression":return`${et(mt.left)}${mt.operator}${et(mt.right)}`;case"UpdateExpression":return`${et(mt.argument)}${mt.operator}`;case"IfStatement":return`if (${et(mt.test)}) ${et(mt.consequent)}`;case"ThrowStatement":return`throw ${et(mt.argument)}`;case"ObjectPattern":return mt.properties.map(et).join(", ");case"ArrayPattern":return mt.elements.map(et).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${et(mt.test)}?${et(mt.consequent)}:${et(mt.alternate)}`;case"Property":if(mt.kind==="init")return et(mt.key)}throw new Error(`unhandled ast.type of ${mt.type}`)}const lt=et(st);if(vt.length>0){const mt=[];for(let xt=0;xt<vt.length;xt++){const wt=vt[xt];rt[wt]||(rt[wt]=!0),wt&&mt.push(a.flattenFunctionToString(wt,ht)+`
`)}return mt.join("")+lt}return lt},normalizeDeclarations:at=>{if(at.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const ht=[];for(let _e=0;_e<at.declarations.length;_e++){const ut=at.declarations[_e];if(ut.id&&ut.id.type==="ObjectPattern"&&ut.id.properties){const{properties:ct}=ut.id;for(let rt=0;rt<ct.length;rt++){const st=ct[rt];if(st.value.type==="ObjectPattern"&&st.value.properties)for(let vt=0;vt<st.value.properties.length;vt++){const ot=st.value.properties[vt];if(ot.type==="Property")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:ot.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:ut.init,property:{type:"Identifier",name:st.key.name},computed:!1},property:{type:"Identifier",name:ot.key.name},computed:!1}});else throw new Error("unexpected state")}else if(st.value.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:st.value&&st.value.name?st.value.name:st.key.name},init:{type:"MemberExpression",object:ut.init,property:{type:"Identifier",name:st.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(ut.id&&ut.id.type==="ArrayPattern"&&ut.id.elements){const{elements:ct}=ut.id;for(let rt=0;rt<ct.length;rt++){const st=ct[rt];if(st.type==="Identifier")ht.push({type:"VariableDeclarator",id:{type:"Identifier",name:st.name},init:{type:"MemberExpression",object:ut.init,property:{type:"Literal",value:rt,raw:rt.toString(),start:st.start,end:st.end},computed:!0}});else throw new Error("unexpected state")}}else ht.push(ut)}return ht},splitHTMLImageToRGB:(at,ht)=>{const _e=at.createKernel(function(vt){return vt[this.thread.y][this.thread.x].r*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),ut=at.createKernel(function(vt){return vt[this.thread.y][this.thread.x].g*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),ct=at.createKernel(function(vt){return vt[this.thread.y][this.thread.x].b*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),rt=at.createKernel(function(vt){return vt[this.thread.y][this.thread.x].a*255},{output:[ht.width,ht.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),st=[_e(ht),ut(ht),ct(ht),rt(ht)];return st.rKernel=_e,st.gKernel=ut,st.bKernel=ct,st.aKernel=rt,st.gpu=at,st},splitRGBAToCanvases:(at,ht,_e,ut)=>{const ct=at.createKernel(function(ot){const et=ot[this.thread.y][this.thread.x];this.color(et.r/255,0,0,255)},{output:[_e,ut],graphical:!0,argumentTypes:{v:"Array2D(4)"}});ct(ht);const rt=at.createKernel(function(ot){const et=ot[this.thread.y][this.thread.x];this.color(0,et.g/255,0,255)},{output:[_e,ut],graphical:!0,argumentTypes:{v:"Array2D(4)"}});rt(ht);const st=at.createKernel(function(ot){const et=ot[this.thread.y][this.thread.x];this.color(0,0,et.b/255,255)},{output:[_e,ut],graphical:!0,argumentTypes:{v:"Array2D(4)"}});st(ht);const vt=at.createKernel(function(ot){const et=ot[this.thread.y][this.thread.x];this.color(255,255,255,et.a/255)},{output:[_e,ut],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return vt(ht),[ct.canvas,rt.canvas,st.canvas,vt.canvas]},getMinifySafeName:at=>{try{const ht=$.parse(`const value = ${at.toString()}`),{init:_e}=ht.body[0].declarations[0];return _e.body.name||_e.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(at){return o.test(at)&&(at=at.replace(o,"S_S")),h.test(at)?at=at.replace(h,"U_U"):g.test(at)&&(at=at.replace(g,"u_u")),at}},o=/\$/,h=/__/,g=/_/,tt=a.getSystemEndianness();d.exports={utils:a}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})})(gpuBrowser);var rttc={},runtimeSourceError={};Object.defineProperty(runtimeSourceError,"__esModule",{value:!0});runtimeSourceError.RuntimeSourceError=void 0;const constants_1$1=constants,types_1$l=types;class RuntimeSourceError{constructor(s){this.type=types_1$l.ErrorType.RUNTIME,this.severity=types_1$l.ErrorSeverity.ERROR,this.location=s?s.loc:constants_1$1.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}runtimeSourceError.RuntimeSourceError=RuntimeSourceError;Object.defineProperty(rttc,"__esModule",{value:!0});rttc.isIdentifier=rttc.checkMemberAccess=rttc.checkIfStatement=rttc.checkBinaryExpression=rttc.checkUnaryExpression=rttc.TypeError=void 0;const runtimeSourceError_1$1=runtimeSourceError,types_1$k=types,LHS=" on left hand side of operation",RHS=" on right hand side of operation";class TypeError$1 extends runtimeSourceError_1$1.RuntimeSourceError{constructor(s,i,d,ft,$=types_1$k.Chapter.SOURCE_4){super(s),this.side=i,this.expected=d,this.got=ft,this.chapter=$,this.type=types_1$k.ErrorType.RUNTIME,this.severity=types_1$k.ErrorSeverity.ERROR}explain(){const s=this.got==="array"?this.chapter<=2?"pair":"compound data":this.got;return`Expected ${this.expected}${this.side}, got ${s}.`}elaborate(){return this.explain()}}rttc.TypeError=TypeError$1;const typeOf=e=>e===null?"null":Array.isArray(e)?"array":typeof e,isNumber=e=>typeOf(e)==="number",isArrayIndex=e=>isNumber(e)&&e>>>0===e&&e<2**32-1,isString=e=>typeOf(e)==="string",isBool=e=>typeOf(e)==="boolean",isObject=e=>typeOf(e)==="object",isArray=e=>typeOf(e)==="array",checkUnaryExpression=(e,s,i,d=types_1$k.Chapter.SOURCE_4)=>(s==="+"||s==="-")&&!isNumber(i)?new TypeError$1(e,"","number",typeOf(i),d):s==="!"&&!isBool(i)?new TypeError$1(e,"","boolean",typeOf(i),d):void 0;rttc.checkUnaryExpression=checkUnaryExpression;const checkBinaryExpression=(e,s,i,d,ft)=>{switch(s){case"-":case"*":case"/":case"%":return isNumber(d)?isNumber(ft)?void 0:new TypeError$1(e,RHS,"number",typeOf(ft),i):new TypeError$1(e,LHS,"number",typeOf(d),i);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":return i>2&&(s==="==="||s==="!==")?void 0:isNumber(d)?isNumber(ft)?void 0:new TypeError$1(e,RHS,"number",typeOf(ft),i):isString(d)?isString(ft)?void 0:new TypeError$1(e,RHS,"string",typeOf(ft),i):new TypeError$1(e,LHS,"string or number",typeOf(d),i);default:return}};rttc.checkBinaryExpression=checkBinaryExpression;const checkIfStatement=(e,s,i=types_1$k.Chapter.SOURCE_4)=>isBool(s)?void 0:new TypeError$1(e," as condition","boolean",typeOf(s),i);rttc.checkIfStatement=checkIfStatement;const checkMemberAccess=(e,s,i)=>isObject(s)?isString(i)?void 0:new TypeError$1(e," as prop","string",typeOf(i)):isArray(s)?isArrayIndex(i)?void 0:isNumber(i)?new TypeError$1(e," as prop","array index","other number"):new TypeError$1(e," as prop","array index",typeOf(i)):new TypeError$1(e,"","object or array",typeOf(s));rttc.checkMemberAccess=checkMemberAccess;const isIdentifier=e=>e.name!==void 0;rttc.isIdentifier=isIdentifier;var transfomer={},astCreator={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.whileStatement=e.ifStatement=e.variableDeclarator=e.variableDeclaration=e.arrowFunctionExpression=e.blockExpression=e.functionDeclaration=e.functionDeclarationExpression=e.primitive=e.unaryExpression=e.binaryExpression=e.assignmentExpression=e.arrayExpression=e.conditionalExpression=e.mutateToConditionalExpression=e.logicalExpression=e.mutateToMemberExpression=e.mutateToReturnStatement=e.mutateToExpressionStatement=e.mutateToAssignmentExpression=e.mutateToCallExpression=e.objectExpression=e.property=e.returnStatement=e.program=e.blockStatement=e.functionExpression=e.blockArrowFunction=e.expressionStatement=e.callExpression=e.constantDeclaration=e.declaration=e.memberExpression=e.literal=e.identifier=e.locationDummyNode=e.getVariableDecarationName=void 0;const s=Pt=>Pt.declarations[0].id.name;e.getVariableDecarationName=s;const i=(Pt,Mt)=>(0,e.literal)("Dummy",{start:{line:Pt,column:Mt},end:{line:Pt,column:Mt}});e.locationDummyNode=i;const d=(Pt,Mt)=>({type:"Identifier",name:Pt,loc:Mt});e.identifier=d;const ft=(Pt,Mt)=>({type:"Literal",value:Pt,loc:Mt});e.literal=ft;const $=(Pt,Mt)=>({type:"MemberExpression",object:Pt,computed:typeof Mt=="number",optional:!1,property:typeof Mt=="number"?(0,e.literal)(Mt):(0,e.identifier)(Mt)});e.memberExpression=$;const it=(Pt,Mt,jt,Zt)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:(0,e.identifier)(Pt),init:jt}],kind:Mt,loc:Zt});e.declaration=it;const nt=(Pt,Mt,jt)=>(0,e.declaration)(Pt,"const",Mt,jt);e.constantDeclaration=nt;const _=(Pt,Mt,jt)=>({type:"CallExpression",callee:Pt,arguments:Mt,optional:!1,loc:jt});e.callExpression=_;const b=Pt=>({type:"ExpressionStatement",expression:Pt});e.expressionStatement=b;const c=(Pt,Mt,jt)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:Pt,body:Array.isArray(Mt)?(0,e.blockStatement)(Mt):Mt,loc:jt});e.blockArrowFunction=c;const a=(Pt,Mt,jt)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:Pt,body:Array.isArray(Mt)?(0,e.blockStatement)(Mt):Mt,loc:jt});e.functionExpression=a;const o=Pt=>({type:"BlockStatement",body:Pt});e.blockStatement=o;const h=Pt=>({type:"Program",sourceType:"module",body:Pt});e.program=h;const g=(Pt,Mt)=>({type:"ReturnStatement",argument:Pt,loc:Mt});e.returnStatement=g;const tt=(Pt,Mt)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:(0,e.identifier)(Pt),value:Mt,kind:"init"});e.property=tt;const at=Pt=>({type:"ObjectExpression",properties:Pt});e.objectExpression=at;const ht=(Pt,Mt,jt)=>{Pt.type="CallExpression",Pt=Pt,Pt.callee=Mt,Pt.arguments=jt};e.mutateToCallExpression=ht;const _e=(Pt,Mt,jt)=>{Pt.type="AssignmentExpression",Pt=Pt,Pt.operator="=",Pt.left=Mt,Pt.right=jt};e.mutateToAssignmentExpression=_e;const ut=(Pt,Mt)=>{Pt.type="ExpressionStatement",Pt=Pt,Pt.expression=Mt};e.mutateToExpressionStatement=ut;const ct=(Pt,Mt)=>{Pt.type="ReturnStatement",Pt=Pt,Pt.argument=Mt};e.mutateToReturnStatement=ct;const rt=(Pt,Mt,jt)=>{Pt.type="MemberExpression",Pt=Pt,Pt.object=Mt,Pt.property=jt,Pt.computed=!1};e.mutateToMemberExpression=rt;const st=(Pt,Mt,jt,Zt)=>({type:"LogicalExpression",operator:Pt,left:Mt,right:jt,loc:Zt});e.logicalExpression=st;const vt=(Pt,Mt,jt,Zt)=>{Pt.type="ConditionalExpression",Pt=Pt,Pt.test=Mt,Pt.consequent=jt,Pt.alternate=Zt};e.mutateToConditionalExpression=vt;const ot=(Pt,Mt,jt,Zt)=>({type:"ConditionalExpression",test:Pt,consequent:Mt,alternate:jt,loc:Zt});e.conditionalExpression=ot;const et=Pt=>({type:"ArrayExpression",elements:Pt});e.arrayExpression=et;const lt=(Pt,Mt)=>({type:"AssignmentExpression",operator:"=",left:Pt,right:Mt});e.assignmentExpression=lt;const mt=(Pt,Mt,jt,Zt)=>({type:"BinaryExpression",operator:Pt,left:Mt,right:jt,loc:Zt});e.binaryExpression=mt;const xt=(Pt,Mt,jt)=>({type:"UnaryExpression",operator:Pt,prefix:!0,argument:Mt,loc:jt});e.unaryExpression=xt;const wt=Pt=>Pt===void 0?(0,e.identifier)("undefined"):(0,e.literal)(Pt);e.primitive=wt;const St=(Pt,Mt,jt,Zt)=>({type:"FunctionExpression",id:Pt,params:Mt,body:jt,loc:Zt});e.functionDeclarationExpression=St;const Tt=(Pt,Mt,jt,Zt)=>({type:"FunctionDeclaration",id:Pt,params:Mt,body:jt,loc:Zt});e.functionDeclaration=Tt;const kt=(Pt,Mt)=>({type:"BlockExpression",body:Pt,loc:Mt});e.blockExpression=kt;const Vt=(Pt,Mt,jt)=>({type:"ArrowFunctionExpression",expression:Mt.type!=="BlockStatement",generator:!1,params:Pt,body:Mt,loc:jt});e.arrowFunctionExpression=Vt;const Ct=(Pt,Mt)=>({type:"VariableDeclaration",kind:"const",declarations:Pt,loc:Mt});e.variableDeclaration=Ct;const Rt=(Pt,Mt,jt)=>({type:"VariableDeclarator",id:Pt,init:Mt,loc:jt});e.variableDeclarator=Rt;const zt=(Pt,Mt,jt,Zt)=>({type:"IfStatement",test:Pt,consequent:Mt,alternate:jt,loc:Zt});e.ifStatement=zt;const Xt=(Pt,Mt,jt)=>({type:"WhileStatement",test:Mt,body:Pt,loc:jt});e.whileStatement=Xt})(astCreator);var walkers$1={},walk={exports:{}};(function(e,s){(function(i,d){d(s)})(commonjsGlobal,function(i){function d(_e,ut,ct,rt,st){ct||(ct=ht),function vt(ot,et,lt){var mt=lt||ot.type,xt=ut[mt];ct[mt](ot,et,vt),xt&&xt(ot,et)}(_e,rt,st)}function ft(_e,ut,ct,rt,st){var vt=[];ct||(ct=ht),function ot(et,lt,mt){var xt=mt||et.type,wt=ut[xt],St=et!==vt[vt.length-1];St&&vt.push(et),ct[xt](et,lt,ot),wt&&wt(et,lt||vt,vt),St&&vt.pop()}(_e,rt,st)}function $(_e,ut,ct,rt,st){var vt=ct?g(ct,rt||void 0):rt;(function ot(et,lt,mt){vt[mt||et.type](et,lt,ot)})(_e,ut,st)}function it(_e){return typeof _e=="string"?function(ut){return ut===_e}:_e||function(){return!0}}var nt=function(ut,ct){this.node=ut,this.state=ct};function _(_e,ut,ct,rt,st){ct||(ct=ht);var vt;(function ot(et,lt,mt){var xt=mt||et.type;ct[xt](et,lt,ot),vt!==et&&(ut(et,lt,xt),vt=et)})(_e,rt,st)}function b(_e,ut,ct,rt){ct||(ct=ht);var st=[],vt;(function ot(et,lt,mt){var xt=mt||et.type,wt=et!==st[st.length-1];wt&&st.push(et),ct[xt](et,lt,ot),vt!==et&&(ut(et,lt||st,st,xt),vt=et),wt&&st.pop()})(_e,rt)}function c(_e,ut,ct,rt,st,vt){st||(st=ht),rt=it(rt);try{(function ot(et,lt,mt){var xt=mt||et.type;if((ut==null||et.start<=ut)&&(ct==null||et.end>=ct)&&st[xt](et,lt,ot),(ut==null||et.start===ut)&&(ct==null||et.end===ct)&&rt(xt,et))throw new nt(et,lt)})(_e,vt)}catch(ot){if(ot instanceof nt)return ot;throw ot}}function a(_e,ut,ct,rt,st){ct=it(ct),rt||(rt=ht);try{(function vt(ot,et,lt){var mt=lt||ot.type;if(!(ot.start>ut||ot.end<ut)&&(rt[mt](ot,et,vt),ct(mt,ot)))throw new nt(ot,et)})(_e,st)}catch(vt){if(vt instanceof nt)return vt;throw vt}}function o(_e,ut,ct,rt,st){ct=it(ct),rt||(rt=ht);try{(function vt(ot,et,lt){if(!(ot.end<ut)){var mt=lt||ot.type;if(ot.start>=ut&&ct(mt,ot))throw new nt(ot,et);rt[mt](ot,et,vt)}})(_e,st)}catch(vt){if(vt instanceof nt)return vt;throw vt}}function h(_e,ut,ct,rt,st){ct=it(ct),rt||(rt=ht);var vt;return function ot(et,lt,mt){if(!(et.start>ut)){var xt=mt||et.type;et.end<=ut&&(!vt||vt.node.end<et.end)&&ct(xt,et)&&(vt=new nt(et,lt)),rt[xt](et,lt,ot)}}(_e,st),vt}function g(_e,ut){var ct=Object.create(ut||ht);for(var rt in _e)ct[rt]=_e[rt];return ct}function tt(_e,ut,ct){ct(_e,ut)}function at(_e,ut,ct){}var ht={};ht.Program=ht.BlockStatement=ht.StaticBlock=function(_e,ut,ct){for(var rt=0,st=_e.body;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut,"Statement")}},ht.Statement=tt,ht.EmptyStatement=at,ht.ExpressionStatement=ht.ParenthesizedExpression=ht.ChainExpression=function(_e,ut,ct){return ct(_e.expression,ut,"Expression")},ht.IfStatement=function(_e,ut,ct){ct(_e.test,ut,"Expression"),ct(_e.consequent,ut,"Statement"),_e.alternate&&ct(_e.alternate,ut,"Statement")},ht.LabeledStatement=function(_e,ut,ct){return ct(_e.body,ut,"Statement")},ht.BreakStatement=ht.ContinueStatement=at,ht.WithStatement=function(_e,ut,ct){ct(_e.object,ut,"Expression"),ct(_e.body,ut,"Statement")},ht.SwitchStatement=function(_e,ut,ct){ct(_e.discriminant,ut,"Expression");for(var rt=0,st=_e.cases;rt<st.length;rt+=1){var vt=st[rt];vt.test&&ct(vt.test,ut,"Expression");for(var ot=0,et=vt.consequent;ot<et.length;ot+=1){var lt=et[ot];ct(lt,ut,"Statement")}}},ht.SwitchCase=function(_e,ut,ct){_e.test&&ct(_e.test,ut,"Expression");for(var rt=0,st=_e.consequent;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut,"Statement")}},ht.ReturnStatement=ht.YieldExpression=ht.AwaitExpression=function(_e,ut,ct){_e.argument&&ct(_e.argument,ut,"Expression")},ht.ThrowStatement=ht.SpreadElement=function(_e,ut,ct){return ct(_e.argument,ut,"Expression")},ht.TryStatement=function(_e,ut,ct){ct(_e.block,ut,"Statement"),_e.handler&&ct(_e.handler,ut),_e.finalizer&&ct(_e.finalizer,ut,"Statement")},ht.CatchClause=function(_e,ut,ct){_e.param&&ct(_e.param,ut,"Pattern"),ct(_e.body,ut,"Statement")},ht.WhileStatement=ht.DoWhileStatement=function(_e,ut,ct){ct(_e.test,ut,"Expression"),ct(_e.body,ut,"Statement")},ht.ForStatement=function(_e,ut,ct){_e.init&&ct(_e.init,ut,"ForInit"),_e.test&&ct(_e.test,ut,"Expression"),_e.update&&ct(_e.update,ut,"Expression"),ct(_e.body,ut,"Statement")},ht.ForInStatement=ht.ForOfStatement=function(_e,ut,ct){ct(_e.left,ut,"ForInit"),ct(_e.right,ut,"Expression"),ct(_e.body,ut,"Statement")},ht.ForInit=function(_e,ut,ct){_e.type==="VariableDeclaration"?ct(_e,ut):ct(_e,ut,"Expression")},ht.DebuggerStatement=at,ht.FunctionDeclaration=function(_e,ut,ct){return ct(_e,ut,"Function")},ht.VariableDeclaration=function(_e,ut,ct){for(var rt=0,st=_e.declarations;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut)}},ht.VariableDeclarator=function(_e,ut,ct){ct(_e.id,ut,"Pattern"),_e.init&&ct(_e.init,ut,"Expression")},ht.Function=function(_e,ut,ct){_e.id&&ct(_e.id,ut,"Pattern");for(var rt=0,st=_e.params;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut,"Pattern")}ct(_e.body,ut,_e.expression?"Expression":"Statement")},ht.Pattern=function(_e,ut,ct){_e.type==="Identifier"?ct(_e,ut,"VariablePattern"):_e.type==="MemberExpression"?ct(_e,ut,"MemberPattern"):ct(_e,ut)},ht.VariablePattern=at,ht.MemberPattern=tt,ht.RestElement=function(_e,ut,ct){return ct(_e.argument,ut,"Pattern")},ht.ArrayPattern=function(_e,ut,ct){for(var rt=0,st=_e.elements;rt<st.length;rt+=1){var vt=st[rt];vt&&ct(vt,ut,"Pattern")}},ht.ObjectPattern=function(_e,ut,ct){for(var rt=0,st=_e.properties;rt<st.length;rt+=1){var vt=st[rt];vt.type==="Property"?(vt.computed&&ct(vt.key,ut,"Expression"),ct(vt.value,ut,"Pattern")):vt.type==="RestElement"&&ct(vt.argument,ut,"Pattern")}},ht.Expression=tt,ht.ThisExpression=ht.Super=ht.MetaProperty=at,ht.ArrayExpression=function(_e,ut,ct){for(var rt=0,st=_e.elements;rt<st.length;rt+=1){var vt=st[rt];vt&&ct(vt,ut,"Expression")}},ht.ObjectExpression=function(_e,ut,ct){for(var rt=0,st=_e.properties;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut)}},ht.FunctionExpression=ht.ArrowFunctionExpression=ht.FunctionDeclaration,ht.SequenceExpression=function(_e,ut,ct){for(var rt=0,st=_e.expressions;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut,"Expression")}},ht.TemplateLiteral=function(_e,ut,ct){for(var rt=0,st=_e.quasis;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut)}for(var ot=0,et=_e.expressions;ot<et.length;ot+=1){var lt=et[ot];ct(lt,ut,"Expression")}},ht.TemplateElement=at,ht.UnaryExpression=ht.UpdateExpression=function(_e,ut,ct){ct(_e.argument,ut,"Expression")},ht.BinaryExpression=ht.LogicalExpression=function(_e,ut,ct){ct(_e.left,ut,"Expression"),ct(_e.right,ut,"Expression")},ht.AssignmentExpression=ht.AssignmentPattern=function(_e,ut,ct){ct(_e.left,ut,"Pattern"),ct(_e.right,ut,"Expression")},ht.ConditionalExpression=function(_e,ut,ct){ct(_e.test,ut,"Expression"),ct(_e.consequent,ut,"Expression"),ct(_e.alternate,ut,"Expression")},ht.NewExpression=ht.CallExpression=function(_e,ut,ct){if(ct(_e.callee,ut,"Expression"),_e.arguments)for(var rt=0,st=_e.arguments;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut,"Expression")}},ht.MemberExpression=function(_e,ut,ct){ct(_e.object,ut,"Expression"),_e.computed&&ct(_e.property,ut,"Expression")},ht.ExportNamedDeclaration=ht.ExportDefaultDeclaration=function(_e,ut,ct){_e.declaration&&ct(_e.declaration,ut,_e.type==="ExportNamedDeclaration"||_e.declaration.id?"Statement":"Expression"),_e.source&&ct(_e.source,ut,"Expression")},ht.ExportAllDeclaration=function(_e,ut,ct){_e.exported&&ct(_e.exported,ut),ct(_e.source,ut,"Expression")},ht.ImportDeclaration=function(_e,ut,ct){for(var rt=0,st=_e.specifiers;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut)}ct(_e.source,ut,"Expression")},ht.ImportExpression=function(_e,ut,ct){ct(_e.source,ut,"Expression")},ht.ImportSpecifier=ht.ImportDefaultSpecifier=ht.ImportNamespaceSpecifier=ht.Identifier=ht.PrivateIdentifier=ht.Literal=at,ht.TaggedTemplateExpression=function(_e,ut,ct){ct(_e.tag,ut,"Expression"),ct(_e.quasi,ut,"Expression")},ht.ClassDeclaration=ht.ClassExpression=function(_e,ut,ct){return ct(_e,ut,"Class")},ht.Class=function(_e,ut,ct){_e.id&&ct(_e.id,ut,"Pattern"),_e.superClass&&ct(_e.superClass,ut,"Expression"),ct(_e.body,ut)},ht.ClassBody=function(_e,ut,ct){for(var rt=0,st=_e.body;rt<st.length;rt+=1){var vt=st[rt];ct(vt,ut)}},ht.MethodDefinition=ht.PropertyDefinition=ht.Property=function(_e,ut,ct){_e.computed&&ct(_e.key,ut,"Expression"),_e.value&&ct(_e.value,ut,"Expression")},i.ancestor=ft,i.base=ht,i.findNodeAfter=o,i.findNodeAround=a,i.findNodeAt=c,i.findNodeBefore=h,i.full=_,i.fullAncestor=b,i.make=g,i.recursive=$,i.simple=d,Object.defineProperty(i,"__esModule",{value:!0})})})(walk,walk.exports);Object.defineProperty(walkers$1,"__esModule",{value:!0});walkers$1.base=walkers$1.findNodeAfter=walkers$1.findNodeAround=walkers$1.findNodeAt=walkers$1.make=walkers$1.fullAncestor=walkers$1.full=walkers$1.recursive=walkers$1.ancestor=walkers$1.simple=void 0;const walkers=walk.exports;walkers$1.simple=walkers.simple;walkers$1.ancestor=walkers.ancestor;walkers$1.recursive=walkers.recursive;walkers$1.full=walkers.full;walkers$1.fullAncestor=walkers.fullAncestor;walkers$1.make=walkers.make;walkers$1.findNodeAt=walkers.findNodeAt;walkers$1.findNodeAround=walkers.findNodeAround;walkers$1.findNodeAfter=walkers.findNodeAfter;walkers$1.base=walkers.base;var bodyVerifier={};Object.defineProperty(bodyVerifier,"__esModule",{value:!0});const walkers_1$1=walkers$1;class GPUBodyVerifier{constructor(s,i,d){this.checkBody=ft=>{let $=!0;if((0,walkers_1$1.simple)(ft,{FunctionDeclaration(){$=!1},ArrowFunctionExpression(){$=!1},ReturnStatement(){$=!1},BreakStatement(){$=!1},ContinueStatement(){$=!1}}),!$)return;const it=new RegExp(/^math_[a-z]+$/);if((0,walkers_1$1.simple)(ft,{CallExpression(h){if(h.callee.type!=="Identifier"){$=!1;return}const g=h.callee.name;if(!it.test(g)){$=!1;return}}}),!$)return;const nt=new Set;(0,walkers_1$1.simple)(ft,{VariableDeclaration(h){h.declarations[0].id.type==="Identifier"&&nt.add(h.declarations[0].id.name)}}),this.localVar=nt;const _=[],b=this.getArrayName;if((0,walkers_1$1.simple)(ft,{AssignmentExpression(h){if(!(h.left.type==="Identifier"&&nt.has(h.left.name))){if(h.left.type==="MemberExpression"){const g=b(h.left);if(nt.has(g.name))return}_.push(h)}}}),_.length!==1||_[0].left.type!=="MemberExpression")return;const c=this.getPropertyAccess(_[0].left);if(c.length===0||c.length>this.counters.length)return;const a=this.getPropertyAccess,o=this.outputArray;if((0,walkers_1$1.simple)(ft,{MemberExpression(h){if(b(h).name!==o.name)return;const tt=a(h);JSON.stringify(tt)!==JSON.stringify(c)&&($=!1)}},(0,walkers_1$1.make)({MemberExpression:()=>{}})),!!$){for(let h=0;h<this.counters.length&&c[h]===this.counters[h];h++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=ft=>{let $=ft;for(;$.type==="MemberExpression";)$=$.object;return $},this.getPropertyAccess=ft=>{const $=[];let it=!0,nt=ft;for(;nt.type==="MemberExpression";){if(nt.property.type!=="Identifier"){it=!1;break}$.push(nt.property.name),nt=nt.object}return it?(this.outputArray=nt,$.reverse()):[]},this.program=s,this.node=i,this.counters=d,this.state=0,this.checkBody(i)}}bodyVerifier.default=GPUBodyVerifier;var loopVerifier={};Object.defineProperty(loopVerifier,"__esModule",{value:!0});class GPULoopVerifier{constructor(s){this.forLoopTransform=i=>{!i.init||!i.update||!i.test||(this.ok=this.hasCounter(i.init)&&this.hasCondition(i.test)&&this.hasUpdate(i.update))},this.hasCounter=i=>{if(!i||i.type!=="VariableDeclaration"||i.kind!=="let")return!1;const d=i.declarations;if(d.length>1)return!1;const ft=d[0];if(ft.id.type!=="Identifier"||!ft.init)return!1;this.counter=ft.id.name;const $=ft.init;return!(!$||$.type!=="Literal"||$.value!==0)},this.hasCondition=i=>{if(i.type!=="BinaryExpression"||!(i.operator==="<"||i.operator==="<="))return!1;const d=i.left;if(d.type!=="Identifier"||d.name!==this.counter)return!1;const ft=i.right;return ft.type==="Identifier"||ft.type==="Literal"?(this.end=ft,!0):!1},this.hasUpdate=i=>{if(i.type!=="AssignmentExpression"||i.operator!=="="||i.left.type!=="Identifier"||i.left.name!==this.counter||i.right.type!=="BinaryExpression")return!1;const d=i.right;if(d.operator!=="+")return!1;const ft=d.left.type==="Identifier"&&d.left.name===this.counter,$=d.right.type==="Identifier"&&d.right.name===this.counter,it=d.left.type==="Literal"&&d.left.value===1,nt=d.right.type==="Literal"&&d.right.value===1;return ft&&nt||$&&it},this.node=s,this.forLoopTransform(this.node)}}loopVerifier.default=GPULoopVerifier;Object.defineProperty(transfomer,"__esModule",{value:!0});transfomer.gpuRuntimeTranspile=void 0;const create=astCreator,walkers_1=walkers$1,bodyVerifier_1=bodyVerifier,loopVerifier_1=loopVerifier;let currentKernelId=0;class GPUTransformer{constructor(s,i){this.transform=()=>{const d=this.gpuTranspile,ft=[];return(0,walkers_1.simple)(this.program,{ForStatement($){const it=d($);it>0&&$.loc&&ft.push([$.loc.start.line,it])}},(0,walkers_1.make)({ForStatement:()=>{}})),ft},this.gpuTranspile=d=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(d),this.counters.length===0||new Set(this.counters).size!==this.counters.length)return 0;const ft=new bodyVerifier_1.default(this.program,this.innerBody,this.counters);if(ft.state===0)return 0;this.state=ft.state,this.outputArray=ft.outputArray,this.localVar=ft.localVar,this.getOuterVariables(),this.getTargetBody(d);const $=[];for(const a in this.outerVariables)if(this.outerVariables.hasOwnProperty(a)){const o=this.outerVariables[a];$.push([create.literal(a),JSON.parse(JSON.stringify(o))])}const it=ft.getArrayName,nt=this.localVar;(0,walkers_1.ancestor)(this.targetBody,{AssignmentExpression(a,o){if(a.left.type==="Identifier"||a.left.type!=="MemberExpression")return;const h=it(a.left);if(nt.has(h.name))return;const g=o.length;create.mutateToReturnStatement(o[g-2],a.right)}});const _=[];for(let a=0;a<this.state;a++)_.push(create.identifier(this.counters[a]));const b=create.blockArrowFunction(this.counters.map(a=>create.identifier(a)),this.targetBody),c=create.callExpression(this.globalIds.__createKernelSource,[create.arrayExpression(this.end),create.arrayExpression($.map(create.arrayExpression)),create.arrayExpression(Array.from(nt.values()).map(a=>create.literal(a))),this.outputArray,b,create.literal(currentKernelId++)],d.loc);return create.mutateToExpressionStatement(d,c),this.state},this.checkOuterLoops=d=>{let ft=d;for(;ft.type==="ForStatement";){const $=new loopVerifier_1.default(ft);if(!$.ok||(this.innerBody=ft.body,this.counters.push($.counter),this.end.push($.end),this.innerBody.type!=="BlockStatement")||this.innerBody.body.length>1||this.innerBody.body.length===0)break;ft=this.innerBody.body[0]}},this.program=s,this.globalIds={__createKernelSource:i}}getTargetBody(s){let i=this.state;for(this.targetBody=s;i>1;)this.targetBody=this.targetBody.body.body[0],i--;this.targetBody=this.targetBody.body}getOuterVariables(){const s=this.innerBody,i=this.localVar,d=this.counters,ft=this.outputArray.name,$={};(0,walkers_1.simple)(s,{Identifier(it){i.has(it.name)||d.includes(it.name)||it.name===ft||it.name.startsWith("math_")||($[it.name]=it)}}),this.outerVariables=$}}function gpuRuntimeTranspile(e,s){const i=e.params.map(nt=>nt.name),d=e.body;(0,walkers_1.simple)(d,{CallExpression(nt){if(nt.callee.type!=="Identifier")return;const b=nt.callee.name.split("_")[1],c=nt.arguments;create.mutateToCallExpression(nt,create.memberExpression(create.identifier("Math"),b),c)}});const ft=new Set([...i,"Math"]);(0,walkers_1.simple)(d,{Identifier(nt){ft.has(nt.name)||s.has(nt.name)||create.mutateToMemberExpression(nt,create.memberExpression(create.identifier("this"),"constants"),create.identifier(nt.name))}});let $=["x"];i.length===2&&($=["y","x"]),i.length===3&&($=["z","y","x"]);const it=i.slice();return(0,walkers_1.simple)(d,{Identifier(nt){let _=-1;for(let c=0;c<it.length;c=c+1)if(nt.name===it[c]){_=c;break}if(_===-1)return;const b=$[_];create.mutateToMemberExpression(nt,create.memberExpression(create.identifier("this"),"thread"),create.identifier(b))}}),d}transfomer.gpuRuntimeTranspile=gpuRuntimeTranspile;transfomer.default=GPUTransformer;Object.defineProperty(lib,"__esModule",{value:!0});lib.__createKernelSource=lib.__clearKernelCache=lib.__createKernel=void 0;const acorn_1=acorn.exports,astring_1$8=astring,gpu_js_1=gpuBrowser.exports,constants_1=constants,rttc_1=rttc,transfomer_1=transfomer,MAX_SIZE=200;function buildArray(e,s,i){for(let d=0;d<s[0];d++)i[d]=prettyOutput(e[d])}function build2DArray(e,s,i){for(let d=0;d<s[0];d++)for(let ft=0;ft<s[1];ft++)i[d][ft]=prettyOutput(e[d][ft])}function build3DArray(e,s,i){for(let d=0;d<s[0];d++)for(let ft=0;ft<s[1];ft++)for(let $=0;$<s[2];$++)i[d][ft][$]=prettyOutput(e[d][ft][$])}function prettyOutput(e){if(!(e instanceof Float32Array))return e;const s=e.map(i=>prettyOutput(i));return Array.from(s)}function checkArray(e){return Array.isArray(e)}function checkArray2D(e,s){for(let i=0;i<s[0];i=i+1)if(!Array.isArray(e[i]))return!1;return!0}function checkArray3D(e,s){for(let i=0;i<s[0];i=i+1){if(!Array.isArray(e[i]))return!1;for(let d=0;d<s[1];d=d+1)if(!Array.isArray(e[i][d]))return!1}return!0}function checkValidGPU(e,s){let i;if(s.length===1&&(i=e(0)),s.length===2&&(i=e(0,0)),s.length===3&&(i=e(0,0,0)),typeof i!="number")return!1;let d=1;for(const ft of s)d=d*ft;return d>MAX_SIZE}function manualRun(e,s,i){function d(){for(let it=0;it<s[0];it++)i[it]=e(it)}function ft(){for(let it=0;it<s[0];it=it+1)for(let nt=0;nt<s[1];nt=nt+1)i[it][nt]=e(it,nt)}function $(){for(let it=0;it<s[0];it=it+1)for(let nt=0;nt<s[1];nt=nt+1)for(let _=0;_<s[2];_=_+1)i[it][nt][_]=e(it,nt,_)}return s.length===1?d():s.length===2?ft():$()}function __createKernel(e,s,i,d,ft){const $=new gpu_js_1.GPU;let it=checkArray(d),nt="";if(it||(nt=typeof d),e.length>1&&(it=it&&checkArray2D(d,e),it||(nt="undefined")),e.length>2&&(it=it&&checkArray3D(d,e),it||(nt="undefined")),!it)throw new rttc_1.TypeError(d,"","object or array",nt);if(it=checkValidGPU(ft,e),!it){manualRun(ft,e,d);return}const _=[];for(let o=e.length-1;o>=0;o--)_.push(e[o]);const b={constants:{}};b.constants=s;const a=$.createKernel(i,b).setOutput(_)();e.length===1&&buildArray(a,e,d),e.length===2&&build2DArray(a,e,d),e.length===3&&build3DArray(a,e,d)}lib.__createKernel=__createKernel;function entriesToObject(e){const s={};return e.forEach(([i,d])=>s[i]=d),s}const kernels=new Map;function __clearKernelCache(){kernels.clear()}lib.__clearKernelCache=__clearKernelCache;function __createKernelSource(e,s,i,d,ft,$){const it=entriesToObject(s),nt=kernels.get($);if(nt!==void 0)return __createKernel(e,it,nt,d,ft);const _=ft.toString(),c=(0,acorn_1.parse)(_,constants_1.ACORN_PARSE_OPTIONS).body[0].expression,a=(0,transfomer_1.gpuRuntimeTranspile)(c,new Set(i)),o=new Function((0,astring_1$8.generate)(a));return kernels.set($,o),__createKernel(e,it,o,d,ft)}lib.__createKernelSource=__createKernelSource;var schedulers={},errors={},stringify$1={},closure={},interpreter={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,s){(function(){var i,d="4.17.21",ft=200,$="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",it="Expected a function",nt="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",b=500,c="__lodash_placeholder__",a=1,o=2,h=4,g=1,tt=2,at=1,ht=2,_e=4,ut=8,ct=16,rt=32,st=64,vt=128,ot=256,et=512,lt=30,mt="...",xt=800,wt=16,St=1,Tt=2,kt=3,Vt=1/0,Ct=9007199254740991,Rt=17976931348623157e292,zt=0/0,Xt=4294967295,Pt=Xt-1,Mt=Xt>>>1,jt=[["ary",vt],["bind",at],["bindKey",ht],["curry",ut],["curryRight",ct],["flip",et],["partial",rt],["partialRight",st],["rearg",ot]],Zt="[object Arguments]",Yt="[object Array]",fn="[object AsyncFunction]",an="[object Boolean]",dn="[object Date]",cn="[object DOMException]",Ut="[object Error]",Wt="[object Function]",Nt="[object GeneratorFunction]",ln="[object Map]",yn="[object Number]",rn="[object Null]",Un="[object Object]",Qn="[object Promise]",Zn="[object Proxy]",Sr="[object RegExp]",gn="[object Set]",Fn="[object String]",Ln="[object Symbol]",tr="[object Undefined]",On="[object WeakMap]",hr="[object WeakSet]",Yn="[object ArrayBuffer]",In="[object DataView]",ar="[object Float32Array]",Dt="[object Float64Array]",qt="[object Int8Array]",en="[object Int16Array]",Cn="[object Int32Array]",Pn="[object Uint8Array]",En="[object Uint8ClampedArray]",xn="[object Uint16Array]",Vn="[object Uint32Array]",qn=/\b__p \+= '';/g,Sn=/\b(__p \+=) '' \+/g,Wn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,An=/&(?:amp|lt|gt|quot|#39);/g,Xn=/[&<>"']/g,Mn=RegExp(An.source),Dn=RegExp(Xn.source),ir=/<%-([\s\S]+?)%>/g,es=/<%([\s\S]+?)%>/g,Wr=/<%=([\s\S]+?)%>/g,xs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$s=/^\w*$/,Ls=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rs=/[\\^$.*+?()[\]{}|]/g,Ys=RegExp(Rs.source),Is=/^\s+/,qs=/\s/,zs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ss=/\{\n\/\* \[wrapped with (.+)\] \*/,Qs=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xr=/[()=,{}\[\]\/\s]/,Ms=/\\(\\)?/g,Zs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kr=/\w*$/,xo=/^[-+]0x[0-9a-f]+$/i,ao=/^0b[01]+$/i,oo=/^\[object .+?Constructor\]$/,bo=/^0o[0-7]+$/i,Us=/^(?:0|[1-9]\d*)$/,as=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fs=/($^)/,Hn=/['\n\r\u2028\u2029\\]/g,Br="\\ud800-\\udfff",Js="\\u0300-\\u036f",Ws="\\ufe20-\\ufe2f",rr="\\u20d0-\\u20ff",Ds=Js+Ws+rr,na="\\u2700-\\u27bf",Yr="a-z\\xdf-\\xf6\\xf8-\\xff",lo="\\xac\\xb1\\xd7\\xf7",wo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gs="\\u2000-\\u206f",gt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_t="A-Z\\xc0-\\xd6\\xd8-\\xde",$t="\\ufe0e\\ufe0f",Ft=lo+wo+Gs+gt,Gt="['\u2019]",un="["+Br+"]",mn="["+Ft+"]",Rn="["+Ds+"]",jn="\\d+",gr="["+na+"]",Mr="["+Yr+"]",qr="[^"+Br+Ft+jn+na+Yr+_t+"]",dt="\\ud83c[\\udffb-\\udfff]",bt="(?:"+Rn+"|"+dt+")",At="[^"+Br+"]",It="(?:\\ud83c[\\udde6-\\uddff]){2}",Kt="[\\ud800-\\udbff][\\udc00-\\udfff]",on="["+_t+"]",hn="\\u200d",kn="(?:"+Mr+"|"+qr+")",$n="(?:"+on+"|"+qr+")",nr="(?:"+Gt+"(?:d|ll|m|re|s|t|ve))?",ur="(?:"+Gt+"(?:D|LL|M|RE|S|T|VE))?",Dr=bt+"?",bs="["+$t+"]?",ga="(?:"+hn+"(?:"+[At,It,Kt].join("|")+")"+bs+Dr+")*",Qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Os=bs+Dr+ga,ps="(?:"+[gr,It,Kt].join("|")+")"+Os,bu="(?:"+[At+Rn+"?",Rn,It,Kt,un].join("|")+")",Ko=RegExp(Gt,"g"),wu=RegExp(Rn,"g"),Io=RegExp(dt+"(?="+dt+")|"+bu+Os,"g"),Ll=RegExp([on+"?"+Mr+"+"+nr+"(?="+[mn,on,"$"].join("|")+")",$n+"+"+ur+"(?="+[mn,on+kn,"$"].join("|")+")",on+"?"+kn+"+"+nr,on+"+"+ur,xa,Qr,jn,ps].join("|"),"g"),Rl=RegExp("["+hn+Br+Ds+$t+"]"),_o=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Il=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_u=-1,Er={};Er[ar]=Er[Dt]=Er[qt]=Er[en]=Er[Cn]=Er[Pn]=Er[En]=Er[xn]=Er[Vn]=!0,Er[Zt]=Er[Yt]=Er[Yn]=Er[an]=Er[In]=Er[dn]=Er[Ut]=Er[Wt]=Er[ln]=Er[yn]=Er[Un]=Er[Sr]=Er[gn]=Er[Fn]=Er[On]=!1;var _r={};_r[Zt]=_r[Yt]=_r[Yn]=_r[In]=_r[an]=_r[dn]=_r[ar]=_r[Dt]=_r[qt]=_r[en]=_r[Cn]=_r[ln]=_r[yn]=_r[Un]=_r[Sr]=_r[gn]=_r[Fn]=_r[Ln]=_r[Pn]=_r[En]=_r[xn]=_r[Vn]=!0,_r[Ut]=_r[Wt]=_r[On]=!1;var Ht={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Bn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tr=parseFloat,or=parseInt,Ar=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Fr=typeof self=="object"&&self&&self.Object===Object&&self,vr=Ar||Fr||Function("return this")(),kr=s&&!s.nodeType&&s,Or=kr&&!0&&e&&!e.nodeType&&e,os=Or&&Or.exports===kr,Vr=os&&Ar.process,$r=function(){try{var tn=Or&&Or.require&&Or.require("util").types;return tn||Vr&&Vr.binding&&Vr.binding("util")}catch{}}(),ts=$r&&$r.isArrayBuffer,Ps=$r&&$r.isDate,ws=$r&&$r.isMap,Hs=$r&&$r.isRegExp,jo=$r&&$r.isSet,So=$r&&$r.isTypedArray;function Gr(tn,vn,pn){switch(pn.length){case 0:return tn.call(vn);case 1:return tn.call(vn,pn[0]);case 2:return tn.call(vn,pn[0],pn[1]);case 3:return tn.call(vn,pn[0],pn[1],pn[2])}return tn.apply(vn,pn)}function bv(tn,vn,pn,zn){for(var sr=-1,xr=tn==null?0:tn.length;++sr<xr;){var zr=tn[sr];vn(zn,zr,pn(zr),tn)}return zn}function _s(tn,vn){for(var pn=-1,zn=tn==null?0:tn.length;++pn<zn&&vn(tn[pn],pn,tn)!==!1;);return tn}function wv(tn,vn){for(var pn=tn==null?0:tn.length;pn--&&vn(tn[pn],pn,tn)!==!1;);return tn}function Sp(tn,vn){for(var pn=-1,zn=tn==null?0:tn.length;++pn<zn;)if(!vn(tn[pn],pn,tn))return!1;return!0}function uo(tn,vn){for(var pn=-1,zn=tn==null?0:tn.length,sr=0,xr=[];++pn<zn;){var zr=tn[pn];vn(zr,pn,tn)&&(xr[sr++]=zr)}return xr}function Ml(tn,vn){var pn=tn==null?0:tn.length;return!!pn&&Mo(tn,vn,0)>-1}function Su(tn,vn,pn){for(var zn=-1,sr=tn==null?0:tn.length;++zn<sr;)if(pn(vn,tn[zn]))return!0;return!1}function Lr(tn,vn){for(var pn=-1,zn=tn==null?0:tn.length,sr=Array(zn);++pn<zn;)sr[pn]=vn(tn[pn],pn,tn);return sr}function co(tn,vn){for(var pn=-1,zn=vn.length,sr=tn.length;++pn<zn;)tn[sr+pn]=vn[pn];return tn}function Eu(tn,vn,pn,zn){var sr=-1,xr=tn==null?0:tn.length;for(zn&&xr&&(pn=tn[++sr]);++sr<xr;)pn=vn(pn,tn[sr],sr,tn);return pn}function _v(tn,vn,pn,zn){var sr=tn==null?0:tn.length;for(zn&&sr&&(pn=tn[--sr]);sr--;)pn=vn(pn,tn[sr],sr,tn);return pn}function Tu(tn,vn){for(var pn=-1,zn=tn==null?0:tn.length;++pn<zn;)if(vn(tn[pn],pn,tn))return!0;return!1}var Sv=ku("length");function Ev(tn){return tn.split("")}function Tv(tn){return tn.match(Gn)||[]}function Ep(tn,vn,pn){var zn;return pn(tn,function(sr,xr,zr){if(vn(sr,xr,zr))return zn=xr,!1}),zn}function Dl(tn,vn,pn,zn){for(var sr=tn.length,xr=pn+(zn?1:-1);zn?xr--:++xr<sr;)if(vn(tn[xr],xr,tn))return xr;return-1}function Mo(tn,vn,pn){return vn===vn?Nv(tn,vn,pn):Dl(tn,Tp,pn)}function kv(tn,vn,pn,zn){for(var sr=pn-1,xr=tn.length;++sr<xr;)if(zn(tn[sr],vn))return sr;return-1}function Tp(tn){return tn!==tn}function kp(tn,vn){var pn=tn==null?0:tn.length;return pn?Au(tn,vn)/pn:zt}function ku(tn){return function(vn){return vn==null?i:vn[tn]}}function Cu(tn){return function(vn){return tn==null?i:tn[vn]}}function Cp(tn,vn,pn,zn,sr){return sr(tn,function(xr,zr,Cr){pn=zn?(zn=!1,xr):vn(pn,xr,zr,Cr)}),pn}function Cv(tn,vn){var pn=tn.length;for(tn.sort(vn);pn--;)tn[pn]=tn[pn].value;return tn}function Au(tn,vn){for(var pn,zn=-1,sr=tn.length;++zn<sr;){var xr=vn(tn[zn]);xr!==i&&(pn=pn===i?xr:pn+xr)}return pn}function $u(tn,vn){for(var pn=-1,zn=Array(tn);++pn<tn;)zn[pn]=vn(pn);return zn}function Av(tn,vn){return Lr(vn,function(pn){return[pn,tn[pn]]})}function Ap(tn){return tn&&tn.slice(0,Ip(tn)+1).replace(Is,"")}function ds(tn){return function(vn){return tn(vn)}}function Lu(tn,vn){return Lr(vn,function(pn){return tn[pn]})}function Xo(tn,vn){return tn.has(vn)}function $p(tn,vn){for(var pn=-1,zn=tn.length;++pn<zn&&Mo(vn,tn[pn],0)>-1;);return pn}function Lp(tn,vn){for(var pn=tn.length;pn--&&Mo(vn,tn[pn],0)>-1;);return pn}function $v(tn,vn){for(var pn=tn.length,zn=0;pn--;)tn[pn]===vn&&++zn;return zn}var Lv=Cu(Ht),Rv=Cu(nn);function Iv(tn){return"\\"+Bn[tn]}function Mv(tn,vn){return tn==null?i:tn[vn]}function Do(tn){return Rl.test(tn)}function Dv(tn){return _o.test(tn)}function Ov(tn){for(var vn,pn=[];!(vn=tn.next()).done;)pn.push(vn.value);return pn}function Ru(tn){var vn=-1,pn=Array(tn.size);return tn.forEach(function(zn,sr){pn[++vn]=[sr,zn]}),pn}function Rp(tn,vn){return function(pn){return tn(vn(pn))}}function ho(tn,vn){for(var pn=-1,zn=tn.length,sr=0,xr=[];++pn<zn;){var zr=tn[pn];(zr===vn||zr===c)&&(tn[pn]=c,xr[sr++]=pn)}return xr}function Ol(tn){var vn=-1,pn=Array(tn.size);return tn.forEach(function(zn){pn[++vn]=zn}),pn}function Pv(tn){var vn=-1,pn=Array(tn.size);return tn.forEach(function(zn){pn[++vn]=[zn,zn]}),pn}function Nv(tn,vn,pn){for(var zn=pn-1,sr=tn.length;++zn<sr;)if(tn[zn]===vn)return zn;return-1}function Fv(tn,vn,pn){for(var zn=pn+1;zn--;)if(tn[zn]===vn)return zn;return zn}function Oo(tn){return Do(tn)?Bv(tn):Sv(tn)}function Ns(tn){return Do(tn)?zv(tn):Ev(tn)}function Ip(tn){for(var vn=tn.length;vn--&&qs.test(tn.charAt(vn)););return vn}var Vv=Cu(_n);function Bv(tn){for(var vn=Io.lastIndex=0;Io.test(tn);)++vn;return vn}function zv(tn){return tn.match(Io)||[]}function Uv(tn){return tn.match(Ll)||[]}var Wv=function tn(vn){vn=vn==null?vr:Po.defaults(vr.Object(),vn,Po.pick(vr,Il));var pn=vn.Array,zn=vn.Date,sr=vn.Error,xr=vn.Function,zr=vn.Math,Cr=vn.Object,Iu=vn.RegExp,Gv=vn.String,Ss=vn.TypeError,Pl=pn.prototype,Hv=xr.prototype,No=Cr.prototype,Nl=vn["__core-js_shared__"],Fl=Hv.toString,wr=No.hasOwnProperty,Kv=0,Mp=function(){var j=/[^.]+$/.exec(Nl&&Nl.keys&&Nl.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),Vl=No.toString,jv=Fl.call(Cr),Xv=vr._,Yv=Iu("^"+Fl.call(wr).replace(Rs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bl=os?vn.Buffer:i,fo=vn.Symbol,zl=vn.Uint8Array,Dp=Bl?Bl.allocUnsafe:i,Ul=Rp(Cr.getPrototypeOf,Cr),Op=Cr.create,Pp=No.propertyIsEnumerable,Wl=Pl.splice,Np=fo?fo.isConcatSpreadable:i,Yo=fo?fo.iterator:i,Eo=fo?fo.toStringTag:i,Gl=function(){try{var j=$o(Cr,"defineProperty");return j({},"",{}),j}catch{}}(),qv=vn.clearTimeout!==vr.clearTimeout&&vn.clearTimeout,Qv=zn&&zn.now!==vr.Date.now&&zn.now,Zv=vn.setTimeout!==vr.setTimeout&&vn.setTimeout,Hl=zr.ceil,Kl=zr.floor,Mu=Cr.getOwnPropertySymbols,Jv=Bl?Bl.isBuffer:i,Fp=vn.isFinite,ey=Pl.join,ty=Rp(Cr.keys,Cr),Ur=zr.max,Zr=zr.min,ny=zn.now,iy=vn.parseInt,Vp=zr.random,ry=Pl.reverse,Du=$o(vn,"DataView"),qo=$o(vn,"Map"),Ou=$o(vn,"Promise"),Fo=$o(vn,"Set"),Qo=$o(vn,"WeakMap"),Zo=$o(Cr,"create"),Xl=Qo&&new Qo,Vo={},sy=Lo(Du),ay=Lo(qo),oy=Lo(Ou),ly=Lo(Fo),uy=Lo(Qo),Yl=fo?fo.prototype:i,Jo=Yl?Yl.valueOf:i,Bp=Yl?Yl.toString:i;function Ot(j){if(Ir(j)&&!lr(j)&&!(j instanceof mr)){if(j instanceof Es)return j;if(wr.call(j,"__wrapped__"))return Vm(j)}return new Es(j)}var Bo=function(){function j(){}return function(pt){if(!Rr(pt))return{};if(Op)return Op(pt);j.prototype=pt;var yt=new j;return j.prototype=i,yt}}();function Ql(){}function Es(j,pt){this.__wrapped__=j,this.__actions__=[],this.__chain__=!!pt,this.__index__=0,this.__values__=i}Ot.templateSettings={escape:ir,evaluate:es,interpolate:Wr,variable:"",imports:{_:Ot}},Ot.prototype=Ql.prototype,Ot.prototype.constructor=Ot,Es.prototype=Bo(Ql.prototype),Es.prototype.constructor=Es;function mr(j){this.__wrapped__=j,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xt,this.__views__=[]}function cy(){var j=new mr(this.__wrapped__);return j.__actions__=ls(this.__actions__),j.__dir__=this.__dir__,j.__filtered__=this.__filtered__,j.__iteratees__=ls(this.__iteratees__),j.__takeCount__=this.__takeCount__,j.__views__=ls(this.__views__),j}function hy(){if(this.__filtered__){var j=new mr(this);j.__dir__=-1,j.__filtered__=!0}else j=this.clone(),j.__dir__*=-1;return j}function fy(){var j=this.__wrapped__.value(),pt=this.__dir__,yt=lr(j),Et=pt<0,Lt=yt?j.length:0,Bt=E0(0,Lt,this.__views__),Qt=Bt.start,Jt=Bt.end,sn=Jt-Qt,bn=Et?Jt:Qt-1,wn=this.__iteratees__,Tn=wn.length,Nn=0,Kn=Zr(sn,this.__takeCount__);if(!yt||!Et&&Lt==sn&&Kn==sn)return lm(j,this.__actions__);var _i=[];e:for(;sn--&&Nn<Kn;){bn+=pt;for(var fr=-1,er=j[bn];++fr<Tn;){var dr=wn[fr],yr=dr.iteratee,vs=dr.type,rs=yr(er);if(vs==Tt)er=rs;else if(!rs){if(vs==St)continue e;break e}}_i[Nn++]=er}return _i}mr.prototype=Bo(Ql.prototype),mr.prototype.constructor=mr;function To(j){var pt=-1,yt=j==null?0:j.length;for(this.clear();++pt<yt;){var Et=j[pt];this.set(Et[0],Et[1])}}function py(){this.__data__=Zo?Zo(null):{},this.size=0}function dy(j){var pt=this.has(j)&&delete this.__data__[j];return this.size-=pt?1:0,pt}function gy(j){var pt=this.__data__;if(Zo){var yt=pt[j];return yt===_?i:yt}return wr.call(pt,j)?pt[j]:i}function my(j){var pt=this.__data__;return Zo?pt[j]!==i:wr.call(pt,j)}function vy(j,pt){var yt=this.__data__;return this.size+=this.has(j)?0:1,yt[j]=Zo&&pt===i?_:pt,this}To.prototype.clear=py,To.prototype.delete=dy,To.prototype.get=gy,To.prototype.has=my,To.prototype.set=vy;function ba(j){var pt=-1,yt=j==null?0:j.length;for(this.clear();++pt<yt;){var Et=j[pt];this.set(Et[0],Et[1])}}function yy(){this.__data__=[],this.size=0}function xy(j){var pt=this.__data__,yt=Zl(pt,j);if(yt<0)return!1;var Et=pt.length-1;return yt==Et?pt.pop():Wl.call(pt,yt,1),--this.size,!0}function by(j){var pt=this.__data__,yt=Zl(pt,j);return yt<0?i:pt[yt][1]}function wy(j){return Zl(this.__data__,j)>-1}function _y(j,pt){var yt=this.__data__,Et=Zl(yt,j);return Et<0?(++this.size,yt.push([j,pt])):yt[Et][1]=pt,this}ba.prototype.clear=yy,ba.prototype.delete=xy,ba.prototype.get=by,ba.prototype.has=wy,ba.prototype.set=_y;function _a(j){var pt=-1,yt=j==null?0:j.length;for(this.clear();++pt<yt;){var Et=j[pt];this.set(Et[0],Et[1])}}function Sy(){this.size=0,this.__data__={hash:new To,map:new(qo||ba),string:new To}}function Ey(j){var pt=cu(this,j).delete(j);return this.size-=pt?1:0,pt}function Ty(j){return cu(this,j).get(j)}function ky(j){return cu(this,j).has(j)}function Cy(j,pt){var yt=cu(this,j),Et=yt.size;return yt.set(j,pt),this.size+=yt.size==Et?0:1,this}_a.prototype.clear=Sy,_a.prototype.delete=Ey,_a.prototype.get=Ty,_a.prototype.has=ky,_a.prototype.set=Cy;function ko(j){var pt=-1,yt=j==null?0:j.length;for(this.__data__=new _a;++pt<yt;)this.add(j[pt])}function Ay(j){return this.__data__.set(j,_),this}function $y(j){return this.__data__.has(j)}ko.prototype.add=ko.prototype.push=Ay,ko.prototype.has=$y;function Fs(j){var pt=this.__data__=new ba(j);this.size=pt.size}function Ly(){this.__data__=new ba,this.size=0}function Ry(j){var pt=this.__data__,yt=pt.delete(j);return this.size=pt.size,yt}function Iy(j){return this.__data__.get(j)}function My(j){return this.__data__.has(j)}function Dy(j,pt){var yt=this.__data__;if(yt instanceof ba){var Et=yt.__data__;if(!qo||Et.length<ft-1)return Et.push([j,pt]),this.size=++yt.size,this;yt=this.__data__=new _a(Et)}return yt.set(j,pt),this.size=yt.size,this}Fs.prototype.clear=Ly,Fs.prototype.delete=Ry,Fs.prototype.get=Iy,Fs.prototype.has=My,Fs.prototype.set=Dy;function zp(j,pt){var yt=lr(j),Et=!yt&&Ro(j),Lt=!yt&&!Et&&yo(j),Bt=!yt&&!Et&&!Lt&&Go(j),Qt=yt||Et||Lt||Bt,Jt=Qt?$u(j.length,Gv):[],sn=Jt.length;for(var bn in j)(pt||wr.call(j,bn))&&!(Qt&&(bn=="length"||Lt&&(bn=="offset"||bn=="parent")||Bt&&(bn=="buffer"||bn=="byteLength"||bn=="byteOffset")||no(bn,sn)))&&Jt.push(bn);return Jt}function Up(j){var pt=j.length;return pt?j[Ku(0,pt-1)]:i}function Oy(j,pt){return hu(ls(j),Co(pt,0,j.length))}function Py(j){return hu(ls(j))}function Pu(j,pt,yt){(yt!==i&&!Vs(j[pt],yt)||yt===i&&!(pt in j))&&$a(j,pt,yt)}function yl(j,pt,yt){var Et=j[pt];(!(wr.call(j,pt)&&Vs(Et,yt))||yt===i&&!(pt in j))&&$a(j,pt,yt)}function Zl(j,pt){for(var yt=j.length;yt--;)if(Vs(j[yt][0],pt))return yt;return-1}function Ny(j,pt,yt,Et){return po(j,function(Lt,Bt,Qt){pt(Et,Lt,yt(Lt),Qt)}),Et}function Wp(j,pt){return j&&js(pt,Hr(pt),j)}function Fy(j,pt){return j&&js(pt,cs(pt),j)}function $a(j,pt,yt){pt=="__proto__"&&Gl?Gl(j,pt,{configurable:!0,enumerable:!0,value:yt,writable:!0}):j[pt]=yt}function Nu(j,pt){for(var yt=-1,Et=pt.length,Lt=pn(Et),Bt=j==null;++yt<Et;)Lt[yt]=Bt?i:dp(j,pt[yt]);return Lt}function Co(j,pt,yt){return j===j&&(yt!==i&&(j=j<=yt?j:yt),pt!==i&&(j=j>=pt?j:pt)),j}function Ts(j,pt,yt,Et,Lt,Bt){var Qt,Jt=pt&a,sn=pt&o,bn=pt&h;if(yt&&(Qt=Lt?yt(j,Et,Lt,Bt):yt(j)),Qt!==i)return Qt;if(!Rr(j))return j;var wn=lr(j);if(wn){if(Qt=k0(j),!Jt)return ls(j,Qt)}else{var Tn=Jr(j),Nn=Tn==Wt||Tn==Nt;if(yo(j))return hm(j,Jt);if(Tn==Un||Tn==Zt||Nn&&!Lt){if(Qt=sn||Nn?{}:Lm(j),!Jt)return sn?g0(j,Fy(Qt,j)):d0(j,Wp(Qt,j))}else{if(!_r[Tn])return Lt?j:{};Qt=C0(j,Tn,Jt)}}Bt||(Bt=new Fs);var Kn=Bt.get(j);if(Kn)return Kn;Bt.set(j,Qt),sv(j)?j.forEach(function(er){Qt.add(Ts(er,pt,yt,er,j,Bt))}):iv(j)&&j.forEach(function(er,dr){Qt.set(dr,Ts(er,pt,yt,dr,j,Bt))});var _i=bn?sn?ep:_f:sn?cs:Hr,fr=wn?i:_i(j);return _s(fr||j,function(er,dr){fr&&(dr=er,er=j[dr]),yl(Qt,dr,Ts(er,pt,yt,dr,j,Bt))}),Qt}function Vy(j){var pt=Hr(j);return function(yt){return Gp(yt,j,pt)}}function Gp(j,pt,yt){var Et=yt.length;if(j==null)return!Et;for(j=Cr(j);Et--;){var Lt=yt[Et],Bt=pt[Lt],Qt=j[Lt];if(Qt===i&&!(Lt in j)||!Bt(Qt))return!1}return!0}function Hp(j,pt,yt){if(typeof j!="function")throw new Ss(it);return Al(function(){j.apply(i,yt)},pt)}function xl(j,pt,yt,Et){var Lt=-1,Bt=Ml,Qt=!0,Jt=j.length,sn=[],bn=pt.length;if(!Jt)return sn;yt&&(pt=Lr(pt,ds(yt))),Et?(Bt=Su,Qt=!1):pt.length>=ft&&(Bt=Xo,Qt=!1,pt=new ko(pt));e:for(;++Lt<Jt;){var wn=j[Lt],Tn=yt==null?wn:yt(wn);if(wn=Et||wn!==0?wn:0,Qt&&Tn===Tn){for(var Nn=bn;Nn--;)if(pt[Nn]===Tn)continue e;sn.push(wn)}else Bt(pt,Tn,Et)||sn.push(wn)}return sn}var po=mm(Ks),Kp=mm(Vu,!0);function By(j,pt){var yt=!0;return po(j,function(Et,Lt,Bt){return yt=!!pt(Et,Lt,Bt),yt}),yt}function Jl(j,pt,yt){for(var Et=-1,Lt=j.length;++Et<Lt;){var Bt=j[Et],Qt=pt(Bt);if(Qt!=null&&(Jt===i?Qt===Qt&&!ms(Qt):yt(Qt,Jt)))var Jt=Qt,sn=Bt}return sn}function zy(j,pt,yt,Et){var Lt=j.length;for(yt=cr(yt),yt<0&&(yt=-yt>Lt?0:Lt+yt),Et=Et===i||Et>Lt?Lt:cr(Et),Et<0&&(Et+=Lt),Et=yt>Et?0:ov(Et);yt<Et;)j[yt++]=pt;return j}function jp(j,pt){var yt=[];return po(j,function(Et,Lt,Bt){pt(Et,Lt,Bt)&&yt.push(Et)}),yt}function jr(j,pt,yt,Et,Lt){var Bt=-1,Qt=j.length;for(yt||(yt=$0),Lt||(Lt=[]);++Bt<Qt;){var Jt=j[Bt];pt>0&&yt(Jt)?pt>1?jr(Jt,pt-1,yt,Et,Lt):co(Lt,Jt):Et||(Lt[Lt.length]=Jt)}return Lt}var Fu=vm(),Xp=vm(!0);function Ks(j,pt){return j&&Fu(j,pt,Hr)}function Vu(j,pt){return j&&Xp(j,pt,Hr)}function eu(j,pt){return uo(pt,function(yt){return io(j[yt])})}function Ao(j,pt){pt=mo(pt,j);for(var yt=0,Et=pt.length;j!=null&&yt<Et;)j=j[Xs(pt[yt++])];return yt&&yt==Et?j:i}function Yp(j,pt,yt){var Et=pt(j);return lr(j)?Et:co(Et,yt(j))}function ns(j){return j==null?j===i?tr:rn:Eo&&Eo in Cr(j)?S0(j):P0(j)}function Bu(j,pt){return j>pt}function Uy(j,pt){return j!=null&&wr.call(j,pt)}function Wy(j,pt){return j!=null&&pt in Cr(j)}function Gy(j,pt,yt){return j>=Zr(pt,yt)&&j<Ur(pt,yt)}function zu(j,pt,yt){for(var Et=yt?Su:Ml,Lt=j[0].length,Bt=j.length,Qt=Bt,Jt=pn(Bt),sn=1/0,bn=[];Qt--;){var wn=j[Qt];Qt&&pt&&(wn=Lr(wn,ds(pt))),sn=Zr(wn.length,sn),Jt[Qt]=!yt&&(pt||Lt>=120&&wn.length>=120)?new ko(Qt&&wn):i}wn=j[0];var Tn=-1,Nn=Jt[0];e:for(;++Tn<Lt&&bn.length<sn;){var Kn=wn[Tn],_i=pt?pt(Kn):Kn;if(Kn=yt||Kn!==0?Kn:0,!(Nn?Xo(Nn,_i):Et(bn,_i,yt))){for(Qt=Bt;--Qt;){var fr=Jt[Qt];if(!(fr?Xo(fr,_i):Et(j[Qt],_i,yt)))continue e}Nn&&Nn.push(_i),bn.push(Kn)}}return bn}function Hy(j,pt,yt,Et){return Ks(j,function(Lt,Bt,Qt){pt(Et,yt(Lt),Bt,Qt)}),Et}function _l(j,pt,yt){pt=mo(pt,j),j=Dm(j,pt);var Et=j==null?j:j[Xs(Cs(pt))];return Et==null?i:Gr(Et,j,yt)}function qp(j){return Ir(j)&&ns(j)==Zt}function Ky(j){return Ir(j)&&ns(j)==Yn}function jy(j){return Ir(j)&&ns(j)==dn}function Sl(j,pt,yt,Et,Lt){return j===pt?!0:j==null||pt==null||!Ir(j)&&!Ir(pt)?j!==j&&pt!==pt:Xy(j,pt,yt,Et,Sl,Lt)}function Xy(j,pt,yt,Et,Lt,Bt){var Qt=lr(j),Jt=lr(pt),sn=Qt?Yt:Jr(j),bn=Jt?Yt:Jr(pt);sn=sn==Zt?Un:sn,bn=bn==Zt?Un:bn;var wn=sn==Un,Tn=bn==Un,Nn=sn==bn;if(Nn&&yo(j)){if(!yo(pt))return!1;Qt=!0,wn=!1}if(Nn&&!wn)return Bt||(Bt=new Fs),Qt||Go(j)?Cm(j,pt,yt,Et,Lt,Bt):w0(j,pt,sn,yt,Et,Lt,Bt);if(!(yt&g)){var Kn=wn&&wr.call(j,"__wrapped__"),_i=Tn&&wr.call(pt,"__wrapped__");if(Kn||_i){var fr=Kn?j.value():j,er=_i?pt.value():pt;return Bt||(Bt=new Fs),Lt(fr,er,yt,Et,Bt)}}return Nn?(Bt||(Bt=new Fs),_0(j,pt,yt,Et,Lt,Bt)):!1}function Yy(j){return Ir(j)&&Jr(j)==ln}function Uu(j,pt,yt,Et){var Lt=yt.length,Bt=Lt,Qt=!Et;if(j==null)return!Bt;for(j=Cr(j);Lt--;){var Jt=yt[Lt];if(Qt&&Jt[2]?Jt[1]!==j[Jt[0]]:!(Jt[0]in j))return!1}for(;++Lt<Bt;){Jt=yt[Lt];var sn=Jt[0],bn=j[sn],wn=Jt[1];if(Qt&&Jt[2]){if(bn===i&&!(sn in j))return!1}else{var Tn=new Fs;if(Et)var Nn=Et(bn,wn,sn,j,pt,Tn);if(!(Nn===i?Sl(wn,bn,g|tt,Et,Tn):Nn))return!1}}return!0}function Qp(j){if(!Rr(j)||R0(j))return!1;var pt=io(j)?Yv:oo;return pt.test(Lo(j))}function qy(j){return Ir(j)&&ns(j)==Sr}function Qy(j){return Ir(j)&&Jr(j)==gn}function Zy(j){return Ir(j)&&vu(j.length)&&!!Er[ns(j)]}function Zp(j){return typeof j=="function"?j:j==null?hs:typeof j=="object"?lr(j)?_g(j[0],j[1]):_d(j):yv(j)}function Wu(j){if(!Cl(j))return ty(j);var pt=[];for(var yt in Cr(j))wr.call(j,yt)&&yt!="constructor"&&pt.push(yt);return pt}function Jy(j){if(!Rr(j))return O0(j);var pt=Cl(j),yt=[];for(var Et in j)Et=="constructor"&&(pt||!wr.call(j,Et))||yt.push(Et);return yt}function Gu(j,pt){return j<pt}function Jp(j,pt){var yt=-1,Et=us(j)?pn(j.length):[];return po(j,function(Lt,Bt,Qt){Et[++yt]=pt(Lt,Bt,Qt)}),Et}function _d(j){var pt=np(j);return pt.length==1&&pt[0][2]?Im(pt[0][0],pt[0][1]):function(yt){return yt===j||Uu(yt,j,pt)}}function _g(j,pt){return rp(j)&&Rm(pt)?Im(Xs(j),pt):function(yt){var Et=dp(yt,j);return Et===i&&Et===pt?gp(yt,j):Sl(pt,Et,g|tt)}}function tu(j,pt,yt,Et,Lt){j!==pt&&Fu(pt,function(Bt,Qt){if(Lt||(Lt=new Fs),Rr(Bt))e0(j,pt,Qt,yt,tu,Et,Lt);else{var Jt=Et?Et(ap(j,Qt),Bt,Qt+"",j,pt,Lt):i;Jt===i&&(Jt=Bt),Pu(j,Qt,Jt)}},cs)}function e0(j,pt,yt,Et,Lt,Bt,Qt){var Jt=ap(j,yt),sn=ap(pt,yt),bn=Qt.get(sn);if(bn){Pu(j,yt,bn);return}var wn=Bt?Bt(Jt,sn,yt+"",j,pt,Qt):i,Tn=wn===i;if(Tn){var Nn=lr(sn),Kn=!Nn&&yo(sn),_i=!Nn&&!Kn&&Go(sn);wn=sn,Nn||Kn||_i?lr(Jt)?wn=Jt:Pr(Jt)?wn=ls(Jt):Kn?(Tn=!1,wn=hm(sn,!0)):_i?(Tn=!1,wn=fm(sn,!0)):wn=[]:$l(sn)||Ro(sn)?(wn=Jt,Ro(Jt)?wn=lv(Jt):(!Rr(Jt)||io(Jt))&&(wn=Lm(sn))):Tn=!1}Tn&&(Qt.set(sn,wn),Lt(wn,sn,Et,Bt,Qt),Qt.delete(sn)),Pu(j,yt,wn)}function em(j,pt){var yt=j.length;if(!!yt)return pt+=pt<0?yt:0,no(pt,yt)?j[pt]:i}function tm(j,pt,yt){pt.length?pt=Lr(pt,function(Bt){return lr(Bt)?function(Qt){return Ao(Qt,Bt.length===1?Bt[0]:Bt)}:Bt}):pt=[hs];var Et=-1;pt=Lr(pt,ds(Jn()));var Lt=Jp(j,function(Bt,Qt,Jt){var sn=Lr(pt,function(bn){return bn(Bt)});return{criteria:sn,index:++Et,value:Bt}});return Cv(Lt,function(Bt,Qt){return p0(Bt,Qt,yt)})}function t0(j,pt){return nm(j,pt,function(yt,Et){return gp(j,Et)})}function nm(j,pt,yt){for(var Et=-1,Lt=pt.length,Bt={};++Et<Lt;){var Qt=pt[Et],Jt=Ao(j,Qt);yt(Jt,Qt)&&El(Bt,mo(Qt,j),Jt)}return Bt}function n0(j){return function(pt){return Ao(pt,j)}}function Hu(j,pt,yt,Et){var Lt=Et?kv:Mo,Bt=-1,Qt=pt.length,Jt=j;for(j===pt&&(pt=ls(pt)),yt&&(Jt=Lr(j,ds(yt)));++Bt<Qt;)for(var sn=0,bn=pt[Bt],wn=yt?yt(bn):bn;(sn=Lt(Jt,wn,sn,Et))>-1;)Jt!==j&&Wl.call(Jt,sn,1),Wl.call(j,sn,1);return j}function im(j,pt){for(var yt=j?pt.length:0,Et=yt-1;yt--;){var Lt=pt[yt];if(yt==Et||Lt!==Bt){var Bt=Lt;no(Lt)?Wl.call(j,Lt,1):Yu(j,Lt)}}return j}function Ku(j,pt){return j+Kl(Vp()*(pt-j+1))}function i0(j,pt,yt,Et){for(var Lt=-1,Bt=Ur(Hl((pt-j)/(yt||1)),0),Qt=pn(Bt);Bt--;)Qt[Et?Bt:++Lt]=j,j+=yt;return Qt}function ju(j,pt){var yt="";if(!j||pt<1||pt>Ct)return yt;do pt%2&&(yt+=j),pt=Kl(pt/2),pt&&(j+=j);while(pt);return yt}function pr(j,pt){return op(Mm(j,pt,hs),j+"")}function r0(j){return Up(Ho(j))}function s0(j,pt){var yt=Ho(j);return hu(yt,Co(pt,0,yt.length))}function El(j,pt,yt,Et){if(!Rr(j))return j;pt=mo(pt,j);for(var Lt=-1,Bt=pt.length,Qt=Bt-1,Jt=j;Jt!=null&&++Lt<Bt;){var sn=Xs(pt[Lt]),bn=yt;if(sn==="__proto__"||sn==="constructor"||sn==="prototype")return j;if(Lt!=Qt){var wn=Jt[sn];bn=Et?Et(wn,sn,Jt):i,bn===i&&(bn=Rr(wn)?wn:no(pt[Lt+1])?[]:{})}yl(Jt,sn,bn),Jt=Jt[sn]}return j}var rm=Xl?function(j,pt){return Xl.set(j,pt),j}:hs,a0=Gl?function(j,pt){return Gl(j,"toString",{configurable:!0,enumerable:!1,value:vp(pt),writable:!0})}:hs;function o0(j){return hu(Ho(j))}function ks(j,pt,yt){var Et=-1,Lt=j.length;pt<0&&(pt=-pt>Lt?0:Lt+pt),yt=yt>Lt?Lt:yt,yt<0&&(yt+=Lt),Lt=pt>yt?0:yt-pt>>>0,pt>>>=0;for(var Bt=pn(Lt);++Et<Lt;)Bt[Et]=j[Et+pt];return Bt}function l0(j,pt){var yt;return po(j,function(Et,Lt,Bt){return yt=pt(Et,Lt,Bt),!yt}),!!yt}function nu(j,pt,yt){var Et=0,Lt=j==null?Et:j.length;if(typeof pt=="number"&&pt===pt&&Lt<=Mt){for(;Et<Lt;){var Bt=Et+Lt>>>1,Qt=j[Bt];Qt!==null&&!ms(Qt)&&(yt?Qt<=pt:Qt<pt)?Et=Bt+1:Lt=Bt}return Lt}return Xu(j,pt,hs,yt)}function Xu(j,pt,yt,Et){var Lt=0,Bt=j==null?0:j.length;if(Bt===0)return 0;pt=yt(pt);for(var Qt=pt!==pt,Jt=pt===null,sn=ms(pt),bn=pt===i;Lt<Bt;){var wn=Kl((Lt+Bt)/2),Tn=yt(j[wn]),Nn=Tn!==i,Kn=Tn===null,_i=Tn===Tn,fr=ms(Tn);if(Qt)var er=Et||_i;else bn?er=_i&&(Et||Nn):Jt?er=_i&&Nn&&(Et||!Kn):sn?er=_i&&Nn&&!Kn&&(Et||!fr):Kn||fr?er=!1:er=Et?Tn<=pt:Tn<pt;er?Lt=wn+1:Bt=wn}return Zr(Bt,Pt)}function sm(j,pt){for(var yt=-1,Et=j.length,Lt=0,Bt=[];++yt<Et;){var Qt=j[yt],Jt=pt?pt(Qt):Qt;if(!yt||!Vs(Jt,sn)){var sn=Jt;Bt[Lt++]=Qt===0?0:Qt}}return Bt}function am(j){return typeof j=="number"?j:ms(j)?zt:+j}function gs(j){if(typeof j=="string")return j;if(lr(j))return Lr(j,gs)+"";if(ms(j))return Bp?Bp.call(j):"";var pt=j+"";return pt=="0"&&1/j==-Vt?"-0":pt}function go(j,pt,yt){var Et=-1,Lt=Ml,Bt=j.length,Qt=!0,Jt=[],sn=Jt;if(yt)Qt=!1,Lt=Su;else if(Bt>=ft){var bn=pt?null:x0(j);if(bn)return Ol(bn);Qt=!1,Lt=Xo,sn=new ko}else sn=pt?[]:Jt;e:for(;++Et<Bt;){var wn=j[Et],Tn=pt?pt(wn):wn;if(wn=yt||wn!==0?wn:0,Qt&&Tn===Tn){for(var Nn=sn.length;Nn--;)if(sn[Nn]===Tn)continue e;pt&&sn.push(Tn),Jt.push(wn)}else Lt(sn,Tn,yt)||(sn!==Jt&&sn.push(Tn),Jt.push(wn))}return Jt}function Yu(j,pt){return pt=mo(pt,j),j=Dm(j,pt),j==null||delete j[Xs(Cs(pt))]}function om(j,pt,yt,Et){return El(j,pt,yt(Ao(j,pt)),Et)}function iu(j,pt,yt,Et){for(var Lt=j.length,Bt=Et?Lt:-1;(Et?Bt--:++Bt<Lt)&&pt(j[Bt],Bt,j););return yt?ks(j,Et?0:Bt,Et?Bt+1:Lt):ks(j,Et?Bt+1:0,Et?Lt:Bt)}function lm(j,pt){var yt=j;return yt instanceof mr&&(yt=yt.value()),Eu(pt,function(Et,Lt){return Lt.func.apply(Lt.thisArg,co([Et],Lt.args))},yt)}function qu(j,pt,yt){var Et=j.length;if(Et<2)return Et?go(j[0]):[];for(var Lt=-1,Bt=pn(Et);++Lt<Et;)for(var Qt=j[Lt],Jt=-1;++Jt<Et;)Jt!=Lt&&(Bt[Lt]=xl(Bt[Lt]||Qt,j[Jt],pt,yt));return go(jr(Bt,1),pt,yt)}function um(j,pt,yt){for(var Et=-1,Lt=j.length,Bt=pt.length,Qt={};++Et<Lt;){var Jt=Et<Bt?pt[Et]:i;yt(Qt,j[Et],Jt)}return Qt}function Qu(j){return Pr(j)?j:[]}function Zu(j){return typeof j=="function"?j:hs}function mo(j,pt){return lr(j)?j:rp(j,pt)?[j]:Fm(br(j))}var u0=pr;function vo(j,pt,yt){var Et=j.length;return yt=yt===i?Et:yt,!pt&&yt>=Et?j:ks(j,pt,yt)}var cm=qv||function(j){return vr.clearTimeout(j)};function hm(j,pt){if(pt)return j.slice();var yt=j.length,Et=Dp?Dp(yt):new j.constructor(yt);return j.copy(Et),Et}function Ju(j){var pt=new j.constructor(j.byteLength);return new zl(pt).set(new zl(j)),pt}function c0(j,pt){var yt=pt?Ju(j.buffer):j.buffer;return new j.constructor(yt,j.byteOffset,j.byteLength)}function h0(j){var pt=new j.constructor(j.source,Kr.exec(j));return pt.lastIndex=j.lastIndex,pt}function f0(j){return Jo?Cr(Jo.call(j)):{}}function fm(j,pt){var yt=pt?Ju(j.buffer):j.buffer;return new j.constructor(yt,j.byteOffset,j.length)}function pm(j,pt){if(j!==pt){var yt=j!==i,Et=j===null,Lt=j===j,Bt=ms(j),Qt=pt!==i,Jt=pt===null,sn=pt===pt,bn=ms(pt);if(!Jt&&!bn&&!Bt&&j>pt||Bt&&Qt&&sn&&!Jt&&!bn||Et&&Qt&&sn||!yt&&sn||!Lt)return 1;if(!Et&&!Bt&&!bn&&j<pt||bn&&yt&&Lt&&!Et&&!Bt||Jt&&yt&&Lt||!Qt&&Lt||!sn)return-1}return 0}function p0(j,pt,yt){for(var Et=-1,Lt=j.criteria,Bt=pt.criteria,Qt=Lt.length,Jt=yt.length;++Et<Qt;){var sn=pm(Lt[Et],Bt[Et]);if(sn){if(Et>=Jt)return sn;var bn=yt[Et];return sn*(bn=="desc"?-1:1)}}return j.index-pt.index}function dm(j,pt,yt,Et){for(var Lt=-1,Bt=j.length,Qt=yt.length,Jt=-1,sn=pt.length,bn=Ur(Bt-Qt,0),wn=pn(sn+bn),Tn=!Et;++Jt<sn;)wn[Jt]=pt[Jt];for(;++Lt<Qt;)(Tn||Lt<Bt)&&(wn[yt[Lt]]=j[Lt]);for(;bn--;)wn[Jt++]=j[Lt++];return wn}function gm(j,pt,yt,Et){for(var Lt=-1,Bt=j.length,Qt=-1,Jt=yt.length,sn=-1,bn=pt.length,wn=Ur(Bt-Jt,0),Tn=pn(wn+bn),Nn=!Et;++Lt<wn;)Tn[Lt]=j[Lt];for(var Kn=Lt;++sn<bn;)Tn[Kn+sn]=pt[sn];for(;++Qt<Jt;)(Nn||Lt<Bt)&&(Tn[Kn+yt[Qt]]=j[Lt++]);return Tn}function ls(j,pt){var yt=-1,Et=j.length;for(pt||(pt=pn(Et));++yt<Et;)pt[yt]=j[yt];return pt}function js(j,pt,yt,Et){var Lt=!yt;yt||(yt={});for(var Bt=-1,Qt=pt.length;++Bt<Qt;){var Jt=pt[Bt],sn=Et?Et(yt[Jt],j[Jt],Jt,yt,j):i;sn===i&&(sn=j[Jt]),Lt?$a(yt,Jt,sn):yl(yt,Jt,sn)}return yt}function d0(j,pt){return js(j,ip(j),pt)}function g0(j,pt){return js(j,Am(j),pt)}function ru(j,pt){return function(yt,Et){var Lt=lr(yt)?bv:Ny,Bt=pt?pt():{};return Lt(yt,j,Jn(Et,2),Bt)}}function zo(j){return pr(function(pt,yt){var Et=-1,Lt=yt.length,Bt=Lt>1?yt[Lt-1]:i,Qt=Lt>2?yt[2]:i;for(Bt=j.length>3&&typeof Bt=="function"?(Lt--,Bt):i,Qt&&is(yt[0],yt[1],Qt)&&(Bt=Lt<3?i:Bt,Lt=1),pt=Cr(pt);++Et<Lt;){var Jt=yt[Et];Jt&&j(pt,Jt,Et,Bt)}return pt})}function mm(j,pt){return function(yt,Et){if(yt==null)return yt;if(!us(yt))return j(yt,Et);for(var Lt=yt.length,Bt=pt?Lt:-1,Qt=Cr(yt);(pt?Bt--:++Bt<Lt)&&Et(Qt[Bt],Bt,Qt)!==!1;);return yt}}function vm(j){return function(pt,yt,Et){for(var Lt=-1,Bt=Cr(pt),Qt=Et(pt),Jt=Qt.length;Jt--;){var sn=Qt[j?Jt:++Lt];if(yt(Bt[sn],sn,Bt)===!1)break}return pt}}function m0(j,pt,yt){var Et=pt&at,Lt=Tl(j);function Bt(){var Qt=this&&this!==vr&&this instanceof Bt?Lt:j;return Qt.apply(Et?yt:this,arguments)}return Bt}function ym(j){return function(pt){pt=br(pt);var yt=Do(pt)?Ns(pt):i,Et=yt?yt[0]:pt.charAt(0),Lt=yt?vo(yt,1).join(""):pt.slice(1);return Et[j]()+Lt}}function Uo(j){return function(pt){return Eu(mv(gv(pt).replace(Ko,"")),j,"")}}function Tl(j){return function(){var pt=arguments;switch(pt.length){case 0:return new j;case 1:return new j(pt[0]);case 2:return new j(pt[0],pt[1]);case 3:return new j(pt[0],pt[1],pt[2]);case 4:return new j(pt[0],pt[1],pt[2],pt[3]);case 5:return new j(pt[0],pt[1],pt[2],pt[3],pt[4]);case 6:return new j(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]);case 7:return new j(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6])}var yt=Bo(j.prototype),Et=j.apply(yt,pt);return Rr(Et)?Et:yt}}function v0(j,pt,yt){var Et=Tl(j);function Lt(){for(var Bt=arguments.length,Qt=pn(Bt),Jt=Bt,sn=Wo(Lt);Jt--;)Qt[Jt]=arguments[Jt];var bn=Bt<3&&Qt[0]!==sn&&Qt[Bt-1]!==sn?[]:ho(Qt,sn);if(Bt-=bn.length,Bt<yt)return Sm(j,pt,su,Lt.placeholder,i,Qt,bn,i,i,yt-Bt);var wn=this&&this!==vr&&this instanceof Lt?Et:j;return Gr(wn,this,Qt)}return Lt}function xm(j){return function(pt,yt,Et){var Lt=Cr(pt);if(!us(pt)){var Bt=Jn(yt,3);pt=Hr(pt),yt=function(Jt){return Bt(Lt[Jt],Jt,Lt)}}var Qt=j(pt,yt,Et);return Qt>-1?Lt[Bt?pt[Qt]:Qt]:i}}function bm(j){return to(function(pt){var yt=pt.length,Et=yt,Lt=Es.prototype.thru;for(j&&pt.reverse();Et--;){var Bt=pt[Et];if(typeof Bt!="function")throw new Ss(it);if(Lt&&!Qt&&uu(Bt)=="wrapper")var Qt=new Es([],!0)}for(Et=Qt?Et:yt;++Et<yt;){Bt=pt[Et];var Jt=uu(Bt),sn=Jt=="wrapper"?tp(Bt):i;sn&&sp(sn[0])&&sn[1]==(vt|ut|rt|ot)&&!sn[4].length&&sn[9]==1?Qt=Qt[uu(sn[0])].apply(Qt,sn[3]):Qt=Bt.length==1&&sp(Bt)?Qt[Jt]():Qt.thru(Bt)}return function(){var bn=arguments,wn=bn[0];if(Qt&&bn.length==1&&lr(wn))return Qt.plant(wn).value();for(var Tn=0,Nn=yt?pt[Tn].apply(this,bn):wn;++Tn<yt;)Nn=pt[Tn].call(this,Nn);return Nn}})}function su(j,pt,yt,Et,Lt,Bt,Qt,Jt,sn,bn){var wn=pt&vt,Tn=pt&at,Nn=pt&ht,Kn=pt&(ut|ct),_i=pt&et,fr=Nn?i:Tl(j);function er(){for(var dr=arguments.length,yr=pn(dr),vs=dr;vs--;)yr[vs]=arguments[vs];if(Kn)var rs=Wo(er),ys=$v(yr,rs);if(Et&&(yr=dm(yr,Et,Lt,Kn)),Bt&&(yr=gm(yr,Bt,Qt,Kn)),dr-=ys,Kn&&dr<bn){var Nr=ho(yr,rs);return Sm(j,pt,su,er.placeholder,yt,yr,Nr,Jt,sn,bn-dr)}var Bs=Tn?yt:this,so=Nn?Bs[j]:j;return dr=yr.length,Jt?yr=N0(yr,Jt):_i&&dr>1&&yr.reverse(),wn&&sn<dr&&(yr.length=sn),this&&this!==vr&&this instanceof er&&(so=fr||Tl(so)),so.apply(Bs,yr)}return er}function wm(j,pt){return function(yt,Et){return Hy(yt,j,pt(Et),{})}}function au(j,pt){return function(yt,Et){var Lt;if(yt===i&&Et===i)return pt;if(yt!==i&&(Lt=yt),Et!==i){if(Lt===i)return Et;typeof yt=="string"||typeof Et=="string"?(yt=gs(yt),Et=gs(Et)):(yt=am(yt),Et=am(Et)),Lt=j(yt,Et)}return Lt}}function _c(j){return to(function(pt){return pt=Lr(pt,ds(Jn())),pr(function(yt){var Et=this;return j(pt,function(Lt){return Gr(Lt,Et,yt)})})})}function ou(j,pt){pt=pt===i?" ":gs(pt);var yt=pt.length;if(yt<2)return yt?ju(pt,j):pt;var Et=ju(pt,Hl(j/Oo(pt)));return Do(pt)?vo(Ns(Et),0,j).join(""):Et.slice(0,j)}function y0(j,pt,yt,Et){var Lt=pt&at,Bt=Tl(j);function Qt(){for(var Jt=-1,sn=arguments.length,bn=-1,wn=Et.length,Tn=pn(wn+sn),Nn=this&&this!==vr&&this instanceof Qt?Bt:j;++bn<wn;)Tn[bn]=Et[bn];for(;sn--;)Tn[bn++]=arguments[++Jt];return Gr(Nn,Lt?yt:this,Tn)}return Qt}function _m(j){return function(pt,yt,Et){return Et&&typeof Et!="number"&&is(pt,yt,Et)&&(yt=Et=i),pt=ro(pt),yt===i?(yt=pt,pt=0):yt=ro(yt),Et=Et===i?pt<yt?1:-1:ro(Et),i0(pt,yt,Et,j)}}function lu(j){return function(pt,yt){return typeof pt=="string"&&typeof yt=="string"||(pt=As(pt),yt=As(yt)),j(pt,yt)}}function Sm(j,pt,yt,Et,Lt,Bt,Qt,Jt,sn,bn){var wn=pt&ut,Tn=wn?Qt:i,Nn=wn?i:Qt,Kn=wn?Bt:i,_i=wn?i:Bt;pt|=wn?rt:st,pt&=~(wn?st:rt),pt&_e||(pt&=~(at|ht));var fr=[j,pt,Lt,Kn,Tn,_i,Nn,Jt,sn,bn],er=yt.apply(i,fr);return sp(j)&&Om(er,fr),er.placeholder=Et,Pm(er,j,pt)}function _h(j){var pt=zr[j];return function(yt,Et){if(yt=As(yt),Et=Et==null?0:Zr(cr(Et),292),Et&&Fp(yt)){var Lt=(br(yt)+"e").split("e"),Bt=pt(Lt[0]+"e"+(+Lt[1]+Et));return Lt=(br(Bt)+"e").split("e"),+(Lt[0]+"e"+(+Lt[1]-Et))}return pt(yt)}}var x0=Fo&&1/Ol(new Fo([,-0]))[1]==Vt?function(j){return new Fo(j)}:bp;function Em(j){return function(pt){var yt=Jr(pt);return yt==ln?Ru(pt):yt==gn?Pv(pt):Av(pt,j(pt))}}function eo(j,pt,yt,Et,Lt,Bt,Qt,Jt){var sn=pt&ht;if(!sn&&typeof j!="function")throw new Ss(it);var bn=Et?Et.length:0;if(bn||(pt&=~(rt|st),Et=Lt=i),Qt=Qt===i?Qt:Ur(cr(Qt),0),Jt=Jt===i?Jt:cr(Jt),bn-=Lt?Lt.length:0,pt&st){var wn=Et,Tn=Lt;Et=Lt=i}var Nn=sn?i:tp(j),Kn=[j,pt,yt,Et,Lt,wn,Tn,Bt,Qt,Jt];if(Nn&&D0(Kn,Nn),j=Kn[0],pt=Kn[1],yt=Kn[2],Et=Kn[3],Lt=Kn[4],Jt=Kn[9]=Kn[9]===i?sn?0:j.length:Ur(Kn[9]-bn,0),!Jt&&pt&(ut|ct)&&(pt&=~(ut|ct)),!pt||pt==at)var _i=m0(j,pt,yt);else pt==ut||pt==ct?_i=v0(j,pt,Jt):(pt==rt||pt==(at|rt))&&!Lt.length?_i=y0(j,pt,yt,Et):_i=su.apply(i,Kn);var fr=Nn?rm:Om;return Pm(fr(_i,Kn),j,pt)}function Tm(j,pt,yt,Et){return j===i||Vs(j,No[yt])&&!wr.call(Et,yt)?pt:j}function km(j,pt,yt,Et,Lt,Bt){return Rr(j)&&Rr(pt)&&(Bt.set(pt,j),tu(j,pt,i,km,Bt),Bt.delete(pt)),j}function b0(j){return $l(j)?i:j}function Cm(j,pt,yt,Et,Lt,Bt){var Qt=yt&g,Jt=j.length,sn=pt.length;if(Jt!=sn&&!(Qt&&sn>Jt))return!1;var bn=Bt.get(j),wn=Bt.get(pt);if(bn&&wn)return bn==pt&&wn==j;var Tn=-1,Nn=!0,Kn=yt&tt?new ko:i;for(Bt.set(j,pt),Bt.set(pt,j);++Tn<Jt;){var _i=j[Tn],fr=pt[Tn];if(Et)var er=Qt?Et(fr,_i,Tn,pt,j,Bt):Et(_i,fr,Tn,j,pt,Bt);if(er!==i){if(er)continue;Nn=!1;break}if(Kn){if(!Tu(pt,function(dr,yr){if(!Xo(Kn,yr)&&(_i===dr||Lt(_i,dr,yt,Et,Bt)))return Kn.push(yr)})){Nn=!1;break}}else if(!(_i===fr||Lt(_i,fr,yt,Et,Bt))){Nn=!1;break}}return Bt.delete(j),Bt.delete(pt),Nn}function w0(j,pt,yt,Et,Lt,Bt,Qt){switch(yt){case In:if(j.byteLength!=pt.byteLength||j.byteOffset!=pt.byteOffset)return!1;j=j.buffer,pt=pt.buffer;case Yn:return!(j.byteLength!=pt.byteLength||!Bt(new zl(j),new zl(pt)));case an:case dn:case yn:return Vs(+j,+pt);case Ut:return j.name==pt.name&&j.message==pt.message;case Sr:case Fn:return j==pt+"";case ln:var Jt=Ru;case gn:var sn=Et&g;if(Jt||(Jt=Ol),j.size!=pt.size&&!sn)return!1;var bn=Qt.get(j);if(bn)return bn==pt;Et|=tt,Qt.set(j,pt);var wn=Cm(Jt(j),Jt(pt),Et,Lt,Bt,Qt);return Qt.delete(j),wn;case Ln:if(Jo)return Jo.call(j)==Jo.call(pt)}return!1}function _0(j,pt,yt,Et,Lt,Bt){var Qt=yt&g,Jt=_f(j),sn=Jt.length,bn=_f(pt),wn=bn.length;if(sn!=wn&&!Qt)return!1;for(var Tn=sn;Tn--;){var Nn=Jt[Tn];if(!(Qt?Nn in pt:wr.call(pt,Nn)))return!1}var Kn=Bt.get(j),_i=Bt.get(pt);if(Kn&&_i)return Kn==pt&&_i==j;var fr=!0;Bt.set(j,pt),Bt.set(pt,j);for(var er=Qt;++Tn<sn;){Nn=Jt[Tn];var dr=j[Nn],yr=pt[Nn];if(Et)var vs=Qt?Et(yr,dr,Nn,pt,j,Bt):Et(dr,yr,Nn,j,pt,Bt);if(!(vs===i?dr===yr||Lt(dr,yr,yt,Et,Bt):vs)){fr=!1;break}er||(er=Nn=="constructor")}if(fr&&!er){var rs=j.constructor,ys=pt.constructor;rs!=ys&&"constructor"in j&&"constructor"in pt&&!(typeof rs=="function"&&rs instanceof rs&&typeof ys=="function"&&ys instanceof ys)&&(fr=!1)}return Bt.delete(j),Bt.delete(pt),fr}function to(j){return op(Mm(j,i,Um),j+"")}function _f(j){return Yp(j,Hr,ip)}function ep(j){return Yp(j,cs,Am)}var tp=Xl?function(j){return Xl.get(j)}:bp;function uu(j){for(var pt=j.name+"",yt=Vo[pt],Et=wr.call(Vo,pt)?yt.length:0;Et--;){var Lt=yt[Et],Bt=Lt.func;if(Bt==null||Bt==j)return Lt.name}return pt}function Wo(j){var pt=wr.call(Ot,"placeholder")?Ot:j;return pt.placeholder}function Jn(){var j=Ot.iteratee||yp;return j=j===yp?Zp:j,arguments.length?j(arguments[0],arguments[1]):j}function cu(j,pt){var yt=j.__data__;return L0(pt)?yt[typeof pt=="string"?"string":"hash"]:yt.map}function np(j){for(var pt=Hr(j),yt=pt.length;yt--;){var Et=pt[yt],Lt=j[Et];pt[yt]=[Et,Lt,Rm(Lt)]}return pt}function $o(j,pt){var yt=Mv(j,pt);return Qp(yt)?yt:i}function S0(j){var pt=wr.call(j,Eo),yt=j[Eo];try{j[Eo]=i;var Et=!0}catch{}var Lt=Vl.call(j);return Et&&(pt?j[Eo]=yt:delete j[Eo]),Lt}var ip=Mu?function(j){return j==null?[]:(j=Cr(j),uo(Mu(j),function(pt){return Pp.call(j,pt)}))}:wp,Am=Mu?function(j){for(var pt=[];j;)co(pt,ip(j)),j=Ul(j);return pt}:wp,Jr=ns;(Du&&Jr(new Du(new ArrayBuffer(1)))!=In||qo&&Jr(new qo)!=ln||Ou&&Jr(Ou.resolve())!=Qn||Fo&&Jr(new Fo)!=gn||Qo&&Jr(new Qo)!=On)&&(Jr=function(j){var pt=ns(j),yt=pt==Un?j.constructor:i,Et=yt?Lo(yt):"";if(Et)switch(Et){case sy:return In;case ay:return ln;case oy:return Qn;case ly:return gn;case uy:return On}return pt});function E0(j,pt,yt){for(var Et=-1,Lt=yt.length;++Et<Lt;){var Bt=yt[Et],Qt=Bt.size;switch(Bt.type){case"drop":j+=Qt;break;case"dropRight":pt-=Qt;break;case"take":pt=Zr(pt,j+Qt);break;case"takeRight":j=Ur(j,pt-Qt);break}}return{start:j,end:pt}}function T0(j){var pt=j.match(ss);return pt?pt[1].split(Qs):[]}function $m(j,pt,yt){pt=mo(pt,j);for(var Et=-1,Lt=pt.length,Bt=!1;++Et<Lt;){var Qt=Xs(pt[Et]);if(!(Bt=j!=null&&yt(j,Qt)))break;j=j[Qt]}return Bt||++Et!=Lt?Bt:(Lt=j==null?0:j.length,!!Lt&&vu(Lt)&&no(Qt,Lt)&&(lr(j)||Ro(j)))}function k0(j){var pt=j.length,yt=new j.constructor(pt);return pt&&typeof j[0]=="string"&&wr.call(j,"index")&&(yt.index=j.index,yt.input=j.input),yt}function Lm(j){return typeof j.constructor=="function"&&!Cl(j)?Bo(Ul(j)):{}}function C0(j,pt,yt){var Et=j.constructor;switch(pt){case Yn:return Ju(j);case an:case dn:return new Et(+j);case In:return c0(j,yt);case ar:case Dt:case qt:case en:case Cn:case Pn:case En:case xn:case Vn:return fm(j,yt);case ln:return new Et;case yn:case Fn:return new Et(j);case Sr:return h0(j);case gn:return new Et;case Ln:return f0(j)}}function A0(j,pt){var yt=pt.length;if(!yt)return j;var Et=yt-1;return pt[Et]=(yt>1?"& ":"")+pt[Et],pt=pt.join(yt>2?", ":" "),j.replace(zs,`{
/* [wrapped with `+pt+`] */
`)}function $0(j){return lr(j)||Ro(j)||!!(Np&&j&&j[Np])}function no(j,pt){var yt=typeof j;return pt=pt==null?Ct:pt,!!pt&&(yt=="number"||yt!="symbol"&&Us.test(j))&&j>-1&&j%1==0&&j<pt}function is(j,pt,yt){if(!Rr(yt))return!1;var Et=typeof pt;return(Et=="number"?us(yt)&&no(pt,yt.length):Et=="string"&&pt in yt)?Vs(yt[pt],j):!1}function rp(j,pt){if(lr(j))return!1;var yt=typeof j;return yt=="number"||yt=="symbol"||yt=="boolean"||j==null||ms(j)?!0:$s.test(j)||!xs.test(j)||pt!=null&&j in Cr(pt)}function L0(j){var pt=typeof j;return pt=="string"||pt=="number"||pt=="symbol"||pt=="boolean"?j!=="__proto__":j===null}function sp(j){var pt=uu(j),yt=Ot[pt];if(typeof yt!="function"||!(pt in mr.prototype))return!1;if(j===yt)return!0;var Et=tp(yt);return!!Et&&j===Et[0]}function R0(j){return!!Mp&&Mp in j}var I0=Nl?io:_p;function Cl(j){var pt=j&&j.constructor,yt=typeof pt=="function"&&pt.prototype||No;return j===yt}function Rm(j){return j===j&&!Rr(j)}function Im(j,pt){return function(yt){return yt==null?!1:yt[j]===pt&&(pt!==i||j in Cr(yt))}}function M0(j){var pt=gu(j,function(Et){return yt.size===b&&yt.clear(),Et}),yt=pt.cache;return pt}function D0(j,pt){var yt=j[1],Et=pt[1],Lt=yt|Et,Bt=Lt<(at|ht|vt),Qt=Et==vt&&yt==ut||Et==vt&&yt==ot&&j[7].length<=pt[8]||Et==(vt|ot)&&pt[7].length<=pt[8]&&yt==ut;if(!(Bt||Qt))return j;Et&at&&(j[2]=pt[2],Lt|=yt&at?0:_e);var Jt=pt[3];if(Jt){var sn=j[3];j[3]=sn?dm(sn,Jt,pt[4]):Jt,j[4]=sn?ho(j[3],c):pt[4]}return Jt=pt[5],Jt&&(sn=j[5],j[5]=sn?gm(sn,Jt,pt[6]):Jt,j[6]=sn?ho(j[5],c):pt[6]),Jt=pt[7],Jt&&(j[7]=Jt),Et&vt&&(j[8]=j[8]==null?pt[8]:Zr(j[8],pt[8])),j[9]==null&&(j[9]=pt[9]),j[0]=pt[0],j[1]=Lt,j}function O0(j){var pt=[];if(j!=null)for(var yt in Cr(j))pt.push(yt);return pt}function P0(j){return Vl.call(j)}function Mm(j,pt,yt){return pt=Ur(pt===i?j.length-1:pt,0),function(){for(var Et=arguments,Lt=-1,Bt=Ur(Et.length-pt,0),Qt=pn(Bt);++Lt<Bt;)Qt[Lt]=Et[pt+Lt];Lt=-1;for(var Jt=pn(pt+1);++Lt<pt;)Jt[Lt]=Et[Lt];return Jt[pt]=yt(Qt),Gr(j,this,Jt)}}function Dm(j,pt){return pt.length<2?j:Ao(j,ks(pt,0,-1))}function N0(j,pt){for(var yt=j.length,Et=Zr(pt.length,yt),Lt=ls(j);Et--;){var Bt=pt[Et];j[Et]=no(Bt,yt)?Lt[Bt]:i}return j}function ap(j,pt){if(!(pt==="constructor"&&typeof j[pt]=="function")&&pt!="__proto__")return j[pt]}var Om=Nm(rm),Al=Zv||function(j,pt){return vr.setTimeout(j,pt)},op=Nm(a0);function Pm(j,pt,yt){var Et=pt+"";return op(j,A0(Et,F0(T0(Et),yt)))}function Nm(j){var pt=0,yt=0;return function(){var Et=ny(),Lt=wt-(Et-yt);if(yt=Et,Lt>0){if(++pt>=xt)return arguments[0]}else pt=0;return j.apply(i,arguments)}}function hu(j,pt){var yt=-1,Et=j.length,Lt=Et-1;for(pt=pt===i?Et:pt;++yt<pt;){var Bt=Ku(yt,Lt),Qt=j[Bt];j[Bt]=j[yt],j[yt]=Qt}return j.length=pt,j}var Fm=M0(function(j){var pt=[];return j.charCodeAt(0)===46&&pt.push(""),j.replace(Ls,function(yt,Et,Lt,Bt){pt.push(Lt?Bt.replace(Ms,"$1"):Et||yt)}),pt});function Xs(j){if(typeof j=="string"||ms(j))return j;var pt=j+"";return pt=="0"&&1/j==-Vt?"-0":pt}function Lo(j){if(j!=null){try{return Fl.call(j)}catch{}try{return j+""}catch{}}return""}function F0(j,pt){return _s(jt,function(yt){var Et="_."+yt[0];pt&yt[1]&&!Ml(j,Et)&&j.push(Et)}),j.sort()}function Vm(j){if(j instanceof mr)return j.clone();var pt=new Es(j.__wrapped__,j.__chain__);return pt.__actions__=ls(j.__actions__),pt.__index__=j.__index__,pt.__values__=j.__values__,pt}function V0(j,pt,yt){(yt?is(j,pt,yt):pt===i)?pt=1:pt=Ur(cr(pt),0);var Et=j==null?0:j.length;if(!Et||pt<1)return[];for(var Lt=0,Bt=0,Qt=pn(Hl(Et/pt));Lt<Et;)Qt[Bt++]=ks(j,Lt,Lt+=pt);return Qt}function B0(j){for(var pt=-1,yt=j==null?0:j.length,Et=0,Lt=[];++pt<yt;){var Bt=j[pt];Bt&&(Lt[Et++]=Bt)}return Lt}function z0(){var j=arguments.length;if(!j)return[];for(var pt=pn(j-1),yt=arguments[0],Et=j;Et--;)pt[Et-1]=arguments[Et];return co(lr(yt)?ls(yt):[yt],jr(pt,1))}var U0=pr(function(j,pt){return Pr(j)?xl(j,jr(pt,1,Pr,!0)):[]}),W0=pr(function(j,pt){var yt=Cs(pt);return Pr(yt)&&(yt=i),Pr(j)?xl(j,jr(pt,1,Pr,!0),Jn(yt,2)):[]}),G0=pr(function(j,pt){var yt=Cs(pt);return Pr(yt)&&(yt=i),Pr(j)?xl(j,jr(pt,1,Pr,!0),i,yt):[]});function H0(j,pt,yt){var Et=j==null?0:j.length;return Et?(pt=yt||pt===i?1:cr(pt),ks(j,pt<0?0:pt,Et)):[]}function K0(j,pt,yt){var Et=j==null?0:j.length;return Et?(pt=yt||pt===i?1:cr(pt),pt=Et-pt,ks(j,0,pt<0?0:pt)):[]}function j0(j,pt){return j&&j.length?iu(j,Jn(pt,3),!0,!0):[]}function X0(j,pt){return j&&j.length?iu(j,Jn(pt,3),!0):[]}function Y0(j,pt,yt,Et){var Lt=j==null?0:j.length;return Lt?(yt&&typeof yt!="number"&&is(j,pt,yt)&&(yt=0,Et=Lt),zy(j,pt,yt,Et)):[]}function Bm(j,pt,yt){var Et=j==null?0:j.length;if(!Et)return-1;var Lt=yt==null?0:cr(yt);return Lt<0&&(Lt=Ur(Et+Lt,0)),Dl(j,Jn(pt,3),Lt)}function zm(j,pt,yt){var Et=j==null?0:j.length;if(!Et)return-1;var Lt=Et-1;return yt!==i&&(Lt=cr(yt),Lt=yt<0?Ur(Et+Lt,0):Zr(Lt,Et-1)),Dl(j,Jn(pt,3),Lt,!0)}function Um(j){var pt=j==null?0:j.length;return pt?jr(j,1):[]}function q0(j){var pt=j==null?0:j.length;return pt?jr(j,Vt):[]}function Q0(j,pt){var yt=j==null?0:j.length;return yt?(pt=pt===i?1:cr(pt),jr(j,pt)):[]}function Z0(j){for(var pt=-1,yt=j==null?0:j.length,Et={};++pt<yt;){var Lt=j[pt];Et[Lt[0]]=Lt[1]}return Et}function Wm(j){return j&&j.length?j[0]:i}function J0(j,pt,yt){var Et=j==null?0:j.length;if(!Et)return-1;var Lt=yt==null?0:cr(yt);return Lt<0&&(Lt=Ur(Et+Lt,0)),Mo(j,pt,Lt)}function ex(j){var pt=j==null?0:j.length;return pt?ks(j,0,-1):[]}var tx=pr(function(j){var pt=Lr(j,Qu);return pt.length&&pt[0]===j[0]?zu(pt):[]}),nx=pr(function(j){var pt=Cs(j),yt=Lr(j,Qu);return pt===Cs(yt)?pt=i:yt.pop(),yt.length&&yt[0]===j[0]?zu(yt,Jn(pt,2)):[]}),ix=pr(function(j){var pt=Cs(j),yt=Lr(j,Qu);return pt=typeof pt=="function"?pt:i,pt&&yt.pop(),yt.length&&yt[0]===j[0]?zu(yt,i,pt):[]});function rx(j,pt){return j==null?"":ey.call(j,pt)}function Cs(j){var pt=j==null?0:j.length;return pt?j[pt-1]:i}function sx(j,pt,yt){var Et=j==null?0:j.length;if(!Et)return-1;var Lt=Et;return yt!==i&&(Lt=cr(yt),Lt=Lt<0?Ur(Et+Lt,0):Zr(Lt,Et-1)),pt===pt?Fv(j,pt,Lt):Dl(j,Tp,Lt,!0)}function ax(j,pt){return j&&j.length?em(j,cr(pt)):i}var ox=pr(Gm);function Gm(j,pt){return j&&j.length&&pt&&pt.length?Hu(j,pt):j}function lx(j,pt,yt){return j&&j.length&&pt&&pt.length?Hu(j,pt,Jn(yt,2)):j}function ux(j,pt,yt){return j&&j.length&&pt&&pt.length?Hu(j,pt,i,yt):j}var cx=to(function(j,pt){var yt=j==null?0:j.length,Et=Nu(j,pt);return im(j,Lr(pt,function(Lt){return no(Lt,yt)?+Lt:Lt}).sort(pm)),Et});function hx(j,pt){var yt=[];if(!(j&&j.length))return yt;var Et=-1,Lt=[],Bt=j.length;for(pt=Jn(pt,3);++Et<Bt;){var Qt=j[Et];pt(Qt,Et,j)&&(yt.push(Qt),Lt.push(Et))}return im(j,Lt),yt}function lp(j){return j==null?j:ry.call(j)}function fx(j,pt,yt){var Et=j==null?0:j.length;return Et?(yt&&typeof yt!="number"&&is(j,pt,yt)?(pt=0,yt=Et):(pt=pt==null?0:cr(pt),yt=yt===i?Et:cr(yt)),ks(j,pt,yt)):[]}function px(j,pt){return nu(j,pt)}function dx(j,pt,yt){return Xu(j,pt,Jn(yt,2))}function gx(j,pt){var yt=j==null?0:j.length;if(yt){var Et=nu(j,pt);if(Et<yt&&Vs(j[Et],pt))return Et}return-1}function mx(j,pt){return nu(j,pt,!0)}function vx(j,pt,yt){return Xu(j,pt,Jn(yt,2),!0)}function yx(j,pt){var yt=j==null?0:j.length;if(yt){var Et=nu(j,pt,!0)-1;if(Vs(j[Et],pt))return Et}return-1}function xx(j){return j&&j.length?sm(j):[]}function bx(j,pt){return j&&j.length?sm(j,Jn(pt,2)):[]}function wx(j){var pt=j==null?0:j.length;return pt?ks(j,1,pt):[]}function _x(j,pt,yt){return j&&j.length?(pt=yt||pt===i?1:cr(pt),ks(j,0,pt<0?0:pt)):[]}function Sx(j,pt,yt){var Et=j==null?0:j.length;return Et?(pt=yt||pt===i?1:cr(pt),pt=Et-pt,ks(j,pt<0?0:pt,Et)):[]}function Ex(j,pt){return j&&j.length?iu(j,Jn(pt,3),!1,!0):[]}function Tx(j,pt){return j&&j.length?iu(j,Jn(pt,3)):[]}var kx=pr(function(j){return go(jr(j,1,Pr,!0))}),Cx=pr(function(j){var pt=Cs(j);return Pr(pt)&&(pt=i),go(jr(j,1,Pr,!0),Jn(pt,2))}),Ax=pr(function(j){var pt=Cs(j);return pt=typeof pt=="function"?pt:i,go(jr(j,1,Pr,!0),i,pt)});function $x(j){return j&&j.length?go(j):[]}function Lx(j,pt){return j&&j.length?go(j,Jn(pt,2)):[]}function Rx(j,pt){return pt=typeof pt=="function"?pt:i,j&&j.length?go(j,i,pt):[]}function up(j){if(!(j&&j.length))return[];var pt=0;return j=uo(j,function(yt){if(Pr(yt))return pt=Ur(yt.length,pt),!0}),$u(pt,function(yt){return Lr(j,ku(yt))})}function Hm(j,pt){if(!(j&&j.length))return[];var yt=up(j);return pt==null?yt:Lr(yt,function(Et){return Gr(pt,i,Et)})}var Ix=pr(function(j,pt){return Pr(j)?xl(j,pt):[]}),Mx=pr(function(j){return qu(uo(j,Pr))}),Dx=pr(function(j){var pt=Cs(j);return Pr(pt)&&(pt=i),qu(uo(j,Pr),Jn(pt,2))}),Ox=pr(function(j){var pt=Cs(j);return pt=typeof pt=="function"?pt:i,qu(uo(j,Pr),i,pt)}),Px=pr(up);function Nx(j,pt){return um(j||[],pt||[],yl)}function Fx(j,pt){return um(j||[],pt||[],El)}var Vx=pr(function(j){var pt=j.length,yt=pt>1?j[pt-1]:i;return yt=typeof yt=="function"?(j.pop(),yt):i,Hm(j,yt)});function Km(j){var pt=Ot(j);return pt.__chain__=!0,pt}function Bx(j,pt){return pt(j),j}function fu(j,pt){return pt(j)}var zx=to(function(j){var pt=j.length,yt=pt?j[0]:0,Et=this.__wrapped__,Lt=function(Bt){return Nu(Bt,j)};return pt>1||this.__actions__.length||!(Et instanceof mr)||!no(yt)?this.thru(Lt):(Et=Et.slice(yt,+yt+(pt?1:0)),Et.__actions__.push({func:fu,args:[Lt],thisArg:i}),new Es(Et,this.__chain__).thru(function(Bt){return pt&&!Bt.length&&Bt.push(i),Bt}))});function Ux(){return Km(this)}function Wx(){return new Es(this.value(),this.__chain__)}function Gx(){this.__values__===i&&(this.__values__=av(this.value()));var j=this.__index__>=this.__values__.length,pt=j?i:this.__values__[this.__index__++];return{done:j,value:pt}}function Hx(){return this}function Kx(j){for(var pt,yt=this;yt instanceof Ql;){var Et=Vm(yt);Et.__index__=0,Et.__values__=i,pt?Lt.__wrapped__=Et:pt=Et;var Lt=Et;yt=yt.__wrapped__}return Lt.__wrapped__=j,pt}function jx(){var j=this.__wrapped__;if(j instanceof mr){var pt=j;return this.__actions__.length&&(pt=new mr(this)),pt=pt.reverse(),pt.__actions__.push({func:fu,args:[lp],thisArg:i}),new Es(pt,this.__chain__)}return this.thru(lp)}function Xx(){return lm(this.__wrapped__,this.__actions__)}var Yx=ru(function(j,pt,yt){wr.call(j,yt)?++j[yt]:$a(j,yt,1)});function qx(j,pt,yt){var Et=lr(j)?Sp:By;return yt&&is(j,pt,yt)&&(pt=i),Et(j,Jn(pt,3))}function Qx(j,pt){var yt=lr(j)?uo:jp;return yt(j,Jn(pt,3))}var Zx=xm(Bm),Jx=xm(zm);function e1(j,pt){return jr(pu(j,pt),1)}function t1(j,pt){return jr(pu(j,pt),Vt)}function n1(j,pt,yt){return yt=yt===i?1:cr(yt),jr(pu(j,pt),yt)}function jm(j,pt){var yt=lr(j)?_s:po;return yt(j,Jn(pt,3))}function Xm(j,pt){var yt=lr(j)?wv:Kp;return yt(j,Jn(pt,3))}var i1=ru(function(j,pt,yt){wr.call(j,yt)?j[yt].push(pt):$a(j,yt,[pt])});function r1(j,pt,yt,Et){j=us(j)?j:Ho(j),yt=yt&&!Et?cr(yt):0;var Lt=j.length;return yt<0&&(yt=Ur(Lt+yt,0)),yu(j)?yt<=Lt&&j.indexOf(pt,yt)>-1:!!Lt&&Mo(j,pt,yt)>-1}var s1=pr(function(j,pt,yt){var Et=-1,Lt=typeof pt=="function",Bt=us(j)?pn(j.length):[];return po(j,function(Qt){Bt[++Et]=Lt?Gr(pt,Qt,yt):_l(Qt,pt,yt)}),Bt}),a1=ru(function(j,pt,yt){$a(j,yt,pt)});function pu(j,pt){var yt=lr(j)?Lr:Jp;return yt(j,Jn(pt,3))}function o1(j,pt,yt,Et){return j==null?[]:(lr(pt)||(pt=pt==null?[]:[pt]),yt=Et?i:yt,lr(yt)||(yt=yt==null?[]:[yt]),tm(j,pt,yt))}var l1=ru(function(j,pt,yt){j[yt?0:1].push(pt)},function(){return[[],[]]});function u1(j,pt,yt){var Et=lr(j)?Eu:Cp,Lt=arguments.length<3;return Et(j,Jn(pt,4),yt,Lt,po)}function c1(j,pt,yt){var Et=lr(j)?_v:Cp,Lt=arguments.length<3;return Et(j,Jn(pt,4),yt,Lt,Kp)}function h1(j,pt){var yt=lr(j)?uo:jp;return yt(j,mu(Jn(pt,3)))}function f1(j){var pt=lr(j)?Up:r0;return pt(j)}function p1(j,pt,yt){(yt?is(j,pt,yt):pt===i)?pt=1:pt=cr(pt);var Et=lr(j)?Oy:s0;return Et(j,pt)}function d1(j){var pt=lr(j)?Py:o0;return pt(j)}function g1(j){if(j==null)return 0;if(us(j))return yu(j)?Oo(j):j.length;var pt=Jr(j);return pt==ln||pt==gn?j.size:Wu(j).length}function m1(j,pt,yt){var Et=lr(j)?Tu:l0;return yt&&is(j,pt,yt)&&(pt=i),Et(j,Jn(pt,3))}var v1=pr(function(j,pt){if(j==null)return[];var yt=pt.length;return yt>1&&is(j,pt[0],pt[1])?pt=[]:yt>2&&is(pt[0],pt[1],pt[2])&&(pt=[pt[0]]),tm(j,jr(pt,1),[])}),du=Qv||function(){return vr.Date.now()};function y1(j,pt){if(typeof pt!="function")throw new Ss(it);return j=cr(j),function(){if(--j<1)return pt.apply(this,arguments)}}function Ym(j,pt,yt){return pt=yt?i:pt,pt=j&&pt==null?j.length:pt,eo(j,vt,i,i,i,i,pt)}function qm(j,pt){var yt;if(typeof pt!="function")throw new Ss(it);return j=cr(j),function(){return--j>0&&(yt=pt.apply(this,arguments)),j<=1&&(pt=i),yt}}var cp=pr(function(j,pt,yt){var Et=at;if(yt.length){var Lt=ho(yt,Wo(cp));Et|=rt}return eo(j,Et,pt,yt,Lt)}),Qm=pr(function(j,pt,yt){var Et=at|ht;if(yt.length){var Lt=ho(yt,Wo(Qm));Et|=rt}return eo(pt,Et,j,yt,Lt)});function Zm(j,pt,yt){pt=yt?i:pt;var Et=eo(j,ut,i,i,i,i,i,pt);return Et.placeholder=Zm.placeholder,Et}function Jm(j,pt,yt){pt=yt?i:pt;var Et=eo(j,ct,i,i,i,i,i,pt);return Et.placeholder=Jm.placeholder,Et}function ev(j,pt,yt){var Et,Lt,Bt,Qt,Jt,sn,bn=0,wn=!1,Tn=!1,Nn=!0;if(typeof j!="function")throw new Ss(it);pt=As(pt)||0,Rr(yt)&&(wn=!!yt.leading,Tn="maxWait"in yt,Bt=Tn?Ur(As(yt.maxWait)||0,pt):Bt,Nn="trailing"in yt?!!yt.trailing:Nn);function Kn(Nr){var Bs=Et,so=Lt;return Et=Lt=i,bn=Nr,Qt=j.apply(so,Bs),Qt}function _i(Nr){return bn=Nr,Jt=Al(dr,pt),wn?Kn(Nr):Qt}function fr(Nr){var Bs=Nr-sn,so=Nr-bn,xv=pt-Bs;return Tn?Zr(xv,Bt-so):xv}function er(Nr){var Bs=Nr-sn,so=Nr-bn;return sn===i||Bs>=pt||Bs<0||Tn&&so>=Bt}function dr(){var Nr=du();if(er(Nr))return yr(Nr);Jt=Al(dr,fr(Nr))}function yr(Nr){return Jt=i,Nn&&Et?Kn(Nr):(Et=Lt=i,Qt)}function vs(){Jt!==i&&cm(Jt),bn=0,Et=sn=Lt=Jt=i}function rs(){return Jt===i?Qt:yr(du())}function ys(){var Nr=du(),Bs=er(Nr);if(Et=arguments,Lt=this,sn=Nr,Bs){if(Jt===i)return _i(sn);if(Tn)return cm(Jt),Jt=Al(dr,pt),Kn(sn)}return Jt===i&&(Jt=Al(dr,pt)),Qt}return ys.cancel=vs,ys.flush=rs,ys}var x1=pr(function(j,pt){return Hp(j,1,pt)}),b1=pr(function(j,pt,yt){return Hp(j,As(pt)||0,yt)});function w1(j){return eo(j,et)}function gu(j,pt){if(typeof j!="function"||pt!=null&&typeof pt!="function")throw new Ss(it);var yt=function(){var Et=arguments,Lt=pt?pt.apply(this,Et):Et[0],Bt=yt.cache;if(Bt.has(Lt))return Bt.get(Lt);var Qt=j.apply(this,Et);return yt.cache=Bt.set(Lt,Qt)||Bt,Qt};return yt.cache=new(gu.Cache||_a),yt}gu.Cache=_a;function mu(j){if(typeof j!="function")throw new Ss(it);return function(){var pt=arguments;switch(pt.length){case 0:return!j.call(this);case 1:return!j.call(this,pt[0]);case 2:return!j.call(this,pt[0],pt[1]);case 3:return!j.call(this,pt[0],pt[1],pt[2])}return!j.apply(this,pt)}}function _1(j){return qm(2,j)}var S1=u0(function(j,pt){pt=pt.length==1&&lr(pt[0])?Lr(pt[0],ds(Jn())):Lr(jr(pt,1),ds(Jn()));var yt=pt.length;return pr(function(Et){for(var Lt=-1,Bt=Zr(Et.length,yt);++Lt<Bt;)Et[Lt]=pt[Lt].call(this,Et[Lt]);return Gr(j,this,Et)})}),hp=pr(function(j,pt){var yt=ho(pt,Wo(hp));return eo(j,rt,i,pt,yt)}),tv=pr(function(j,pt){var yt=ho(pt,Wo(tv));return eo(j,st,i,pt,yt)}),E1=to(function(j,pt){return eo(j,ot,i,i,i,pt)});function T1(j,pt){if(typeof j!="function")throw new Ss(it);return pt=pt===i?pt:cr(pt),pr(j,pt)}function k1(j,pt){if(typeof j!="function")throw new Ss(it);return pt=pt==null?0:Ur(cr(pt),0),pr(function(yt){var Et=yt[pt],Lt=vo(yt,0,pt);return Et&&co(Lt,Et),Gr(j,this,Lt)})}function C1(j,pt,yt){var Et=!0,Lt=!0;if(typeof j!="function")throw new Ss(it);return Rr(yt)&&(Et="leading"in yt?!!yt.leading:Et,Lt="trailing"in yt?!!yt.trailing:Lt),ev(j,pt,{leading:Et,maxWait:pt,trailing:Lt})}function A1(j){return Ym(j,1)}function $1(j,pt){return hp(Zu(pt),j)}function L1(){if(!arguments.length)return[];var j=arguments[0];return lr(j)?j:[j]}function R1(j){return Ts(j,h)}function I1(j,pt){return pt=typeof pt=="function"?pt:i,Ts(j,h,pt)}function M1(j){return Ts(j,a|h)}function D1(j,pt){return pt=typeof pt=="function"?pt:i,Ts(j,a|h,pt)}function O1(j,pt){return pt==null||Gp(j,pt,Hr(pt))}function Vs(j,pt){return j===pt||j!==j&&pt!==pt}var P1=lu(Bu),N1=lu(function(j,pt){return j>=pt}),Ro=qp(function(){return arguments}())?qp:function(j){return Ir(j)&&wr.call(j,"callee")&&!Pp.call(j,"callee")},lr=pn.isArray,F1=ts?ds(ts):Ky;function us(j){return j!=null&&vu(j.length)&&!io(j)}function Pr(j){return Ir(j)&&us(j)}function V1(j){return j===!0||j===!1||Ir(j)&&ns(j)==an}var yo=Jv||_p,B1=Ps?ds(Ps):jy;function z1(j){return Ir(j)&&j.nodeType===1&&!$l(j)}function U1(j){if(j==null)return!0;if(us(j)&&(lr(j)||typeof j=="string"||typeof j.splice=="function"||yo(j)||Go(j)||Ro(j)))return!j.length;var pt=Jr(j);if(pt==ln||pt==gn)return!j.size;if(Cl(j))return!Wu(j).length;for(var yt in j)if(wr.call(j,yt))return!1;return!0}function W1(j,pt){return Sl(j,pt)}function G1(j,pt,yt){yt=typeof yt=="function"?yt:i;var Et=yt?yt(j,pt):i;return Et===i?Sl(j,pt,i,yt):!!Et}function fp(j){if(!Ir(j))return!1;var pt=ns(j);return pt==Ut||pt==cn||typeof j.message=="string"&&typeof j.name=="string"&&!$l(j)}function H1(j){return typeof j=="number"&&Fp(j)}function io(j){if(!Rr(j))return!1;var pt=ns(j);return pt==Wt||pt==Nt||pt==fn||pt==Zn}function nv(j){return typeof j=="number"&&j==cr(j)}function vu(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=Ct}function Rr(j){var pt=typeof j;return j!=null&&(pt=="object"||pt=="function")}function Ir(j){return j!=null&&typeof j=="object"}var iv=ws?ds(ws):Yy;function K1(j,pt){return j===pt||Uu(j,pt,np(pt))}function j1(j,pt,yt){return yt=typeof yt=="function"?yt:i,Uu(j,pt,np(pt),yt)}function X1(j){return rv(j)&&j!=+j}function Y1(j){if(I0(j))throw new sr($);return Qp(j)}function q1(j){return j===null}function Q1(j){return j==null}function rv(j){return typeof j=="number"||Ir(j)&&ns(j)==yn}function $l(j){if(!Ir(j)||ns(j)!=Un)return!1;var pt=Ul(j);if(pt===null)return!0;var yt=wr.call(pt,"constructor")&&pt.constructor;return typeof yt=="function"&&yt instanceof yt&&Fl.call(yt)==jv}var pp=Hs?ds(Hs):qy;function Z1(j){return nv(j)&&j>=-Ct&&j<=Ct}var sv=jo?ds(jo):Qy;function yu(j){return typeof j=="string"||!lr(j)&&Ir(j)&&ns(j)==Fn}function ms(j){return typeof j=="symbol"||Ir(j)&&ns(j)==Ln}var Go=So?ds(So):Zy;function J1(j){return j===i}function _b(j){return Ir(j)&&Jr(j)==On}function ew(j){return Ir(j)&&ns(j)==hr}var tw=lu(Gu),nw=lu(function(j,pt){return j<=pt});function av(j){if(!j)return[];if(us(j))return yu(j)?Ns(j):ls(j);if(Yo&&j[Yo])return Ov(j[Yo]());var pt=Jr(j),yt=pt==ln?Ru:pt==gn?Ol:Ho;return yt(j)}function ro(j){if(!j)return j===0?j:0;if(j=As(j),j===Vt||j===-Vt){var pt=j<0?-1:1;return pt*Rt}return j===j?j:0}function cr(j){var pt=ro(j),yt=pt%1;return pt===pt?yt?pt-yt:pt:0}function ov(j){return j?Co(cr(j),0,Xt):0}function As(j){if(typeof j=="number")return j;if(ms(j))return zt;if(Rr(j)){var pt=typeof j.valueOf=="function"?j.valueOf():j;j=Rr(pt)?pt+"":pt}if(typeof j!="string")return j===0?j:+j;j=Ap(j);var yt=ao.test(j);return yt||bo.test(j)?or(j.slice(2),yt?2:8):xo.test(j)?zt:+j}function lv(j){return js(j,cs(j))}function iw(j){return j?Co(cr(j),-Ct,Ct):j===0?j:0}function br(j){return j==null?"":gs(j)}var rw=zo(function(j,pt){if(Cl(pt)||us(pt)){js(pt,Hr(pt),j);return}for(var yt in pt)wr.call(pt,yt)&&yl(j,yt,pt[yt])}),uv=zo(function(j,pt){js(pt,cs(pt),j)}),xu=zo(function(j,pt,yt,Et){js(pt,cs(pt),j,Et)}),sw=zo(function(j,pt,yt,Et){js(pt,Hr(pt),j,Et)}),aw=to(Nu);function ow(j,pt){var yt=Bo(j);return pt==null?yt:Wp(yt,pt)}var lw=pr(function(j,pt){j=Cr(j);var yt=-1,Et=pt.length,Lt=Et>2?pt[2]:i;for(Lt&&is(pt[0],pt[1],Lt)&&(Et=1);++yt<Et;)for(var Bt=pt[yt],Qt=cs(Bt),Jt=-1,sn=Qt.length;++Jt<sn;){var bn=Qt[Jt],wn=j[bn];(wn===i||Vs(wn,No[bn])&&!wr.call(j,bn))&&(j[bn]=Bt[bn])}return j}),uw=pr(function(j){return j.push(i,km),Gr(cv,i,j)});function cw(j,pt){return Ep(j,Jn(pt,3),Ks)}function hw(j,pt){return Ep(j,Jn(pt,3),Vu)}function fw(j,pt){return j==null?j:Fu(j,Jn(pt,3),cs)}function pw(j,pt){return j==null?j:Xp(j,Jn(pt,3),cs)}function dw(j,pt){return j&&Ks(j,Jn(pt,3))}function gw(j,pt){return j&&Vu(j,Jn(pt,3))}function mw(j){return j==null?[]:eu(j,Hr(j))}function vw(j){return j==null?[]:eu(j,cs(j))}function dp(j,pt,yt){var Et=j==null?i:Ao(j,pt);return Et===i?yt:Et}function yw(j,pt){return j!=null&&$m(j,pt,Uy)}function gp(j,pt){return j!=null&&$m(j,pt,Wy)}var xw=wm(function(j,pt,yt){pt!=null&&typeof pt.toString!="function"&&(pt=Vl.call(pt)),j[pt]=yt},vp(hs)),bw=wm(function(j,pt,yt){pt!=null&&typeof pt.toString!="function"&&(pt=Vl.call(pt)),wr.call(j,pt)?j[pt].push(yt):j[pt]=[yt]},Jn),ww=pr(_l);function Hr(j){return us(j)?zp(j):Wu(j)}function cs(j){return us(j)?zp(j,!0):Jy(j)}function _w(j,pt){var yt={};return pt=Jn(pt,3),Ks(j,function(Et,Lt,Bt){$a(yt,pt(Et,Lt,Bt),Et)}),yt}function Sw(j,pt){var yt={};return pt=Jn(pt,3),Ks(j,function(Et,Lt,Bt){$a(yt,Lt,pt(Et,Lt,Bt))}),yt}var Ew=zo(function(j,pt,yt){tu(j,pt,yt)}),cv=zo(function(j,pt,yt,Et){tu(j,pt,yt,Et)}),Tw=to(function(j,pt){var yt={};if(j==null)return yt;var Et=!1;pt=Lr(pt,function(Bt){return Bt=mo(Bt,j),Et||(Et=Bt.length>1),Bt}),js(j,ep(j),yt),Et&&(yt=Ts(yt,a|o|h,b0));for(var Lt=pt.length;Lt--;)Yu(yt,pt[Lt]);return yt});function kw(j,pt){return hv(j,mu(Jn(pt)))}var Cw=to(function(j,pt){return j==null?{}:t0(j,pt)});function hv(j,pt){if(j==null)return{};var yt=Lr(ep(j),function(Et){return[Et]});return pt=Jn(pt),nm(j,yt,function(Et,Lt){return pt(Et,Lt[0])})}function Aw(j,pt,yt){pt=mo(pt,j);var Et=-1,Lt=pt.length;for(Lt||(Lt=1,j=i);++Et<Lt;){var Bt=j==null?i:j[Xs(pt[Et])];Bt===i&&(Et=Lt,Bt=yt),j=io(Bt)?Bt.call(j):Bt}return j}function $w(j,pt,yt){return j==null?j:El(j,pt,yt)}function Lw(j,pt,yt,Et){return Et=typeof Et=="function"?Et:i,j==null?j:El(j,pt,yt,Et)}var fv=Em(Hr),pv=Em(cs);function Rw(j,pt,yt){var Et=lr(j),Lt=Et||yo(j)||Go(j);if(pt=Jn(pt,4),yt==null){var Bt=j&&j.constructor;Lt?yt=Et?new Bt:[]:Rr(j)?yt=io(Bt)?Bo(Ul(j)):{}:yt={}}return(Lt?_s:Ks)(j,function(Qt,Jt,sn){return pt(yt,Qt,Jt,sn)}),yt}function Iw(j,pt){return j==null?!0:Yu(j,pt)}function Mw(j,pt,yt){return j==null?j:om(j,pt,Zu(yt))}function Dw(j,pt,yt,Et){return Et=typeof Et=="function"?Et:i,j==null?j:om(j,pt,Zu(yt),Et)}function Ho(j){return j==null?[]:Lu(j,Hr(j))}function Ow(j){return j==null?[]:Lu(j,cs(j))}function Pw(j,pt,yt){return yt===i&&(yt=pt,pt=i),yt!==i&&(yt=As(yt),yt=yt===yt?yt:0),pt!==i&&(pt=As(pt),pt=pt===pt?pt:0),Co(As(j),pt,yt)}function Nw(j,pt,yt){return pt=ro(pt),yt===i?(yt=pt,pt=0):yt=ro(yt),j=As(j),Gy(j,pt,yt)}function Fw(j,pt,yt){if(yt&&typeof yt!="boolean"&&is(j,pt,yt)&&(pt=yt=i),yt===i&&(typeof pt=="boolean"?(yt=pt,pt=i):typeof j=="boolean"&&(yt=j,j=i)),j===i&&pt===i?(j=0,pt=1):(j=ro(j),pt===i?(pt=j,j=0):pt=ro(pt)),j>pt){var Et=j;j=pt,pt=Et}if(yt||j%1||pt%1){var Lt=Vp();return Zr(j+Lt*(pt-j+Tr("1e-"+((Lt+"").length-1))),pt)}return Ku(j,pt)}var Vw=Uo(function(j,pt,yt){return pt=pt.toLowerCase(),j+(yt?dv(pt):pt)});function dv(j){return mp(br(j).toLowerCase())}function gv(j){return j=br(j),j&&j.replace(as,Lv).replace(wu,"")}function Bw(j,pt,yt){j=br(j),pt=gs(pt);var Et=j.length;yt=yt===i?Et:Co(cr(yt),0,Et);var Lt=yt;return yt-=pt.length,yt>=0&&j.slice(yt,Lt)==pt}function zw(j){return j=br(j),j&&Dn.test(j)?j.replace(Xn,Rv):j}function Uw(j){return j=br(j),j&&Ys.test(j)?j.replace(Rs,"\\$&"):j}var Ww=Uo(function(j,pt,yt){return j+(yt?"-":"")+pt.toLowerCase()}),Gw=Uo(function(j,pt,yt){return j+(yt?" ":"")+pt.toLowerCase()}),Hw=ym("toLowerCase");function Kw(j,pt,yt){j=br(j),pt=cr(pt);var Et=pt?Oo(j):0;if(!pt||Et>=pt)return j;var Lt=(pt-Et)/2;return ou(Kl(Lt),yt)+j+ou(Hl(Lt),yt)}function jw(j,pt,yt){j=br(j),pt=cr(pt);var Et=pt?Oo(j):0;return pt&&Et<pt?j+ou(pt-Et,yt):j}function Xw(j,pt,yt){j=br(j),pt=cr(pt);var Et=pt?Oo(j):0;return pt&&Et<pt?ou(pt-Et,yt)+j:j}function Yw(j,pt,yt){return yt||pt==null?pt=0:pt&&(pt=+pt),iy(br(j).replace(Is,""),pt||0)}function qw(j,pt,yt){return(yt?is(j,pt,yt):pt===i)?pt=1:pt=cr(pt),ju(br(j),pt)}function Qw(){var j=arguments,pt=br(j[0]);return j.length<3?pt:pt.replace(j[1],j[2])}var Zw=Uo(function(j,pt,yt){return j+(yt?"_":"")+pt.toLowerCase()});function Jw(j,pt,yt){return yt&&typeof yt!="number"&&is(j,pt,yt)&&(pt=yt=i),yt=yt===i?Xt:yt>>>0,yt?(j=br(j),j&&(typeof pt=="string"||pt!=null&&!pp(pt))&&(pt=gs(pt),!pt&&Do(j))?vo(Ns(j),0,yt):j.split(pt,yt)):[]}var e_=Uo(function(j,pt,yt){return j+(yt?" ":"")+mp(pt)});function t_(j,pt,yt){return j=br(j),yt=yt==null?0:Co(cr(yt),0,j.length),pt=gs(pt),j.slice(yt,yt+pt.length)==pt}function n_(j,pt,yt){var Et=Ot.templateSettings;yt&&is(j,pt,yt)&&(pt=i),j=br(j),pt=xu({},pt,Et,Tm);var Lt=xu({},pt.imports,Et.imports,Tm),Bt=Hr(Lt),Qt=Lu(Lt,Bt),Jt,sn,bn=0,wn=pt.interpolate||fs,Tn="__p += '",Nn=Iu((pt.escape||fs).source+"|"+wn.source+"|"+(wn===Wr?Zs:fs).source+"|"+(pt.evaluate||fs).source+"|$","g"),Kn="//# sourceURL="+(wr.call(pt,"sourceURL")?(pt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_u+"]")+`
`;j.replace(Nn,function(er,dr,yr,vs,rs,ys){return yr||(yr=vs),Tn+=j.slice(bn,ys).replace(Hn,Iv),dr&&(Jt=!0,Tn+=`' +
__e(`+dr+`) +
'`),rs&&(sn=!0,Tn+=`';
`+rs+`;
__p += '`),yr&&(Tn+=`' +
((__t = (`+yr+`)) == null ? '' : __t) +
'`),bn=ys+er.length,er}),Tn+=`';
`;var _i=wr.call(pt,"variable")&&pt.variable;if(!_i)Tn=`with (obj) {
`+Tn+`
}
`;else if(Xr.test(_i))throw new sr(nt);Tn=(sn?Tn.replace(qn,""):Tn).replace(Sn,"$1").replace(Wn,"$1;"),Tn="function("+(_i||"obj")+`) {
`+(_i?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Jt?", __e = _.escape":"")+(sn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Tn+`return __p
}`;var fr=vv(function(){return xr(Bt,Kn+"return "+Tn).apply(i,Qt)});if(fr.source=Tn,fp(fr))throw fr;return fr}function i_(j){return br(j).toLowerCase()}function r_(j){return br(j).toUpperCase()}function s_(j,pt,yt){if(j=br(j),j&&(yt||pt===i))return Ap(j);if(!j||!(pt=gs(pt)))return j;var Et=Ns(j),Lt=Ns(pt),Bt=$p(Et,Lt),Qt=Lp(Et,Lt)+1;return vo(Et,Bt,Qt).join("")}function a_(j,pt,yt){if(j=br(j),j&&(yt||pt===i))return j.slice(0,Ip(j)+1);if(!j||!(pt=gs(pt)))return j;var Et=Ns(j),Lt=Lp(Et,Ns(pt))+1;return vo(Et,0,Lt).join("")}function o_(j,pt,yt){if(j=br(j),j&&(yt||pt===i))return j.replace(Is,"");if(!j||!(pt=gs(pt)))return j;var Et=Ns(j),Lt=$p(Et,Ns(pt));return vo(Et,Lt).join("")}function l_(j,pt){var yt=lt,Et=mt;if(Rr(pt)){var Lt="separator"in pt?pt.separator:Lt;yt="length"in pt?cr(pt.length):yt,Et="omission"in pt?gs(pt.omission):Et}j=br(j);var Bt=j.length;if(Do(j)){var Qt=Ns(j);Bt=Qt.length}if(yt>=Bt)return j;var Jt=yt-Oo(Et);if(Jt<1)return Et;var sn=Qt?vo(Qt,0,Jt).join(""):j.slice(0,Jt);if(Lt===i)return sn+Et;if(Qt&&(Jt+=sn.length-Jt),pp(Lt)){if(j.slice(Jt).search(Lt)){var bn,wn=sn;for(Lt.global||(Lt=Iu(Lt.source,br(Kr.exec(Lt))+"g")),Lt.lastIndex=0;bn=Lt.exec(wn);)var Tn=bn.index;sn=sn.slice(0,Tn===i?Jt:Tn)}}else if(j.indexOf(gs(Lt),Jt)!=Jt){var Nn=sn.lastIndexOf(Lt);Nn>-1&&(sn=sn.slice(0,Nn))}return sn+Et}function u_(j){return j=br(j),j&&Mn.test(j)?j.replace(An,Vv):j}var c_=Uo(function(j,pt,yt){return j+(yt?" ":"")+pt.toUpperCase()}),mp=ym("toUpperCase");function mv(j,pt,yt){return j=br(j),pt=yt?i:pt,pt===i?Dv(j)?Uv(j):Tv(j):j.match(pt)||[]}var vv=pr(function(j,pt){try{return Gr(j,i,pt)}catch(yt){return fp(yt)?yt:new sr(yt)}}),h_=to(function(j,pt){return _s(pt,function(yt){yt=Xs(yt),$a(j,yt,cp(j[yt],j))}),j});function f_(j){var pt=j==null?0:j.length,yt=Jn();return j=pt?Lr(j,function(Et){if(typeof Et[1]!="function")throw new Ss(it);return[yt(Et[0]),Et[1]]}):[],pr(function(Et){for(var Lt=-1;++Lt<pt;){var Bt=j[Lt];if(Gr(Bt[0],this,Et))return Gr(Bt[1],this,Et)}})}function p_(j){return Vy(Ts(j,a))}function vp(j){return function(){return j}}function d_(j,pt){return j==null||j!==j?pt:j}var g_=bm(),m_=bm(!0);function hs(j){return j}function yp(j){return Zp(typeof j=="function"?j:Ts(j,a))}function v_(j){return _d(Ts(j,a))}function y_(j,pt){return _g(j,Ts(pt,a))}var x_=pr(function(j,pt){return function(yt){return _l(yt,j,pt)}}),b_=pr(function(j,pt){return function(yt){return _l(j,yt,pt)}});function xp(j,pt,yt){var Et=Hr(pt),Lt=eu(pt,Et);yt==null&&!(Rr(pt)&&(Lt.length||!Et.length))&&(yt=pt,pt=j,j=this,Lt=eu(pt,Hr(pt)));var Bt=!(Rr(yt)&&"chain"in yt)||!!yt.chain,Qt=io(j);return _s(Lt,function(Jt){var sn=pt[Jt];j[Jt]=sn,Qt&&(j.prototype[Jt]=function(){var bn=this.__chain__;if(Bt||bn){var wn=j(this.__wrapped__),Tn=wn.__actions__=ls(this.__actions__);return Tn.push({func:sn,args:arguments,thisArg:j}),wn.__chain__=bn,wn}return sn.apply(j,co([this.value()],arguments))})}),j}function w_(){return vr._===this&&(vr._=Xv),this}function bp(){}function __(j){return j=cr(j),pr(function(pt){return em(pt,j)})}var S_=_c(Lr),E_=_c(Sp),T_=_c(Tu);function yv(j){return rp(j)?ku(Xs(j)):n0(j)}function k_(j){return function(pt){return j==null?i:Ao(j,pt)}}var C_=_m(),A_=_m(!0);function wp(){return[]}function _p(){return!1}function $_(){return{}}function L_(){return""}function R_(){return!0}function I_(j,pt){if(j=cr(j),j<1||j>Ct)return[];var yt=Xt,Et=Zr(j,Xt);pt=Jn(pt),j-=Xt;for(var Lt=$u(Et,pt);++yt<j;)pt(yt);return Lt}function M_(j){return lr(j)?Lr(j,Xs):ms(j)?[j]:ls(Fm(br(j)))}function D_(j){var pt=++Kv;return br(j)+pt}var O_=au(function(j,pt){return j+pt},0),P_=_h("ceil"),N_=au(function(j,pt){return j/pt},1),F_=_h("floor");function V_(j){return j&&j.length?Jl(j,hs,Bu):i}function B_(j,pt){return j&&j.length?Jl(j,Jn(pt,2),Bu):i}function z_(j){return kp(j,hs)}function U_(j,pt){return kp(j,Jn(pt,2))}function W_(j){return j&&j.length?Jl(j,hs,Gu):i}function G_(j,pt){return j&&j.length?Jl(j,Jn(pt,2),Gu):i}var H_=au(function(j,pt){return j*pt},1),K_=_h("round"),j_=au(function(j,pt){return j-pt},0);function X_(j){return j&&j.length?Au(j,hs):0}function Y_(j,pt){return j&&j.length?Au(j,Jn(pt,2)):0}return Ot.after=y1,Ot.ary=Ym,Ot.assign=rw,Ot.assignIn=uv,Ot.assignInWith=xu,Ot.assignWith=sw,Ot.at=aw,Ot.before=qm,Ot.bind=cp,Ot.bindAll=h_,Ot.bindKey=Qm,Ot.castArray=L1,Ot.chain=Km,Ot.chunk=V0,Ot.compact=B0,Ot.concat=z0,Ot.cond=f_,Ot.conforms=p_,Ot.constant=vp,Ot.countBy=Yx,Ot.create=ow,Ot.curry=Zm,Ot.curryRight=Jm,Ot.debounce=ev,Ot.defaults=lw,Ot.defaultsDeep=uw,Ot.defer=x1,Ot.delay=b1,Ot.difference=U0,Ot.differenceBy=W0,Ot.differenceWith=G0,Ot.drop=H0,Ot.dropRight=K0,Ot.dropRightWhile=j0,Ot.dropWhile=X0,Ot.fill=Y0,Ot.filter=Qx,Ot.flatMap=e1,Ot.flatMapDeep=t1,Ot.flatMapDepth=n1,Ot.flatten=Um,Ot.flattenDeep=q0,Ot.flattenDepth=Q0,Ot.flip=w1,Ot.flow=g_,Ot.flowRight=m_,Ot.fromPairs=Z0,Ot.functions=mw,Ot.functionsIn=vw,Ot.groupBy=i1,Ot.initial=ex,Ot.intersection=tx,Ot.intersectionBy=nx,Ot.intersectionWith=ix,Ot.invert=xw,Ot.invertBy=bw,Ot.invokeMap=s1,Ot.iteratee=yp,Ot.keyBy=a1,Ot.keys=Hr,Ot.keysIn=cs,Ot.map=pu,Ot.mapKeys=_w,Ot.mapValues=Sw,Ot.matches=v_,Ot.matchesProperty=y_,Ot.memoize=gu,Ot.merge=Ew,Ot.mergeWith=cv,Ot.method=x_,Ot.methodOf=b_,Ot.mixin=xp,Ot.negate=mu,Ot.nthArg=__,Ot.omit=Tw,Ot.omitBy=kw,Ot.once=_1,Ot.orderBy=o1,Ot.over=S_,Ot.overArgs=S1,Ot.overEvery=E_,Ot.overSome=T_,Ot.partial=hp,Ot.partialRight=tv,Ot.partition=l1,Ot.pick=Cw,Ot.pickBy=hv,Ot.property=yv,Ot.propertyOf=k_,Ot.pull=ox,Ot.pullAll=Gm,Ot.pullAllBy=lx,Ot.pullAllWith=ux,Ot.pullAt=cx,Ot.range=C_,Ot.rangeRight=A_,Ot.rearg=E1,Ot.reject=h1,Ot.remove=hx,Ot.rest=T1,Ot.reverse=lp,Ot.sampleSize=p1,Ot.set=$w,Ot.setWith=Lw,Ot.shuffle=d1,Ot.slice=fx,Ot.sortBy=v1,Ot.sortedUniq=xx,Ot.sortedUniqBy=bx,Ot.split=Jw,Ot.spread=k1,Ot.tail=wx,Ot.take=_x,Ot.takeRight=Sx,Ot.takeRightWhile=Ex,Ot.takeWhile=Tx,Ot.tap=Bx,Ot.throttle=C1,Ot.thru=fu,Ot.toArray=av,Ot.toPairs=fv,Ot.toPairsIn=pv,Ot.toPath=M_,Ot.toPlainObject=lv,Ot.transform=Rw,Ot.unary=A1,Ot.union=kx,Ot.unionBy=Cx,Ot.unionWith=Ax,Ot.uniq=$x,Ot.uniqBy=Lx,Ot.uniqWith=Rx,Ot.unset=Iw,Ot.unzip=up,Ot.unzipWith=Hm,Ot.update=Mw,Ot.updateWith=Dw,Ot.values=Ho,Ot.valuesIn=Ow,Ot.without=Ix,Ot.words=mv,Ot.wrap=$1,Ot.xor=Mx,Ot.xorBy=Dx,Ot.xorWith=Ox,Ot.zip=Px,Ot.zipObject=Nx,Ot.zipObjectDeep=Fx,Ot.zipWith=Vx,Ot.entries=fv,Ot.entriesIn=pv,Ot.extend=uv,Ot.extendWith=xu,xp(Ot,Ot),Ot.add=O_,Ot.attempt=vv,Ot.camelCase=Vw,Ot.capitalize=dv,Ot.ceil=P_,Ot.clamp=Pw,Ot.clone=R1,Ot.cloneDeep=M1,Ot.cloneDeepWith=D1,Ot.cloneWith=I1,Ot.conformsTo=O1,Ot.deburr=gv,Ot.defaultTo=d_,Ot.divide=N_,Ot.endsWith=Bw,Ot.eq=Vs,Ot.escape=zw,Ot.escapeRegExp=Uw,Ot.every=qx,Ot.find=Zx,Ot.findIndex=Bm,Ot.findKey=cw,Ot.findLast=Jx,Ot.findLastIndex=zm,Ot.findLastKey=hw,Ot.floor=F_,Ot.forEach=jm,Ot.forEachRight=Xm,Ot.forIn=fw,Ot.forInRight=pw,Ot.forOwn=dw,Ot.forOwnRight=gw,Ot.get=dp,Ot.gt=P1,Ot.gte=N1,Ot.has=yw,Ot.hasIn=gp,Ot.head=Wm,Ot.identity=hs,Ot.includes=r1,Ot.indexOf=J0,Ot.inRange=Nw,Ot.invoke=ww,Ot.isArguments=Ro,Ot.isArray=lr,Ot.isArrayBuffer=F1,Ot.isArrayLike=us,Ot.isArrayLikeObject=Pr,Ot.isBoolean=V1,Ot.isBuffer=yo,Ot.isDate=B1,Ot.isElement=z1,Ot.isEmpty=U1,Ot.isEqual=W1,Ot.isEqualWith=G1,Ot.isError=fp,Ot.isFinite=H1,Ot.isFunction=io,Ot.isInteger=nv,Ot.isLength=vu,Ot.isMap=iv,Ot.isMatch=K1,Ot.isMatchWith=j1,Ot.isNaN=X1,Ot.isNative=Y1,Ot.isNil=Q1,Ot.isNull=q1,Ot.isNumber=rv,Ot.isObject=Rr,Ot.isObjectLike=Ir,Ot.isPlainObject=$l,Ot.isRegExp=pp,Ot.isSafeInteger=Z1,Ot.isSet=sv,Ot.isString=yu,Ot.isSymbol=ms,Ot.isTypedArray=Go,Ot.isUndefined=J1,Ot.isWeakMap=_b,Ot.isWeakSet=ew,Ot.join=rx,Ot.kebabCase=Ww,Ot.last=Cs,Ot.lastIndexOf=sx,Ot.lowerCase=Gw,Ot.lowerFirst=Hw,Ot.lt=tw,Ot.lte=nw,Ot.max=V_,Ot.maxBy=B_,Ot.mean=z_,Ot.meanBy=U_,Ot.min=W_,Ot.minBy=G_,Ot.stubArray=wp,Ot.stubFalse=_p,Ot.stubObject=$_,Ot.stubString=L_,Ot.stubTrue=R_,Ot.multiply=H_,Ot.nth=ax,Ot.noConflict=w_,Ot.noop=bp,Ot.now=du,Ot.pad=Kw,Ot.padEnd=jw,Ot.padStart=Xw,Ot.parseInt=Yw,Ot.random=Fw,Ot.reduce=u1,Ot.reduceRight=c1,Ot.repeat=qw,Ot.replace=Qw,Ot.result=Aw,Ot.round=K_,Ot.runInContext=tn,Ot.sample=f1,Ot.size=g1,Ot.snakeCase=Zw,Ot.some=m1,Ot.sortedIndex=px,Ot.sortedIndexBy=dx,Ot.sortedIndexOf=gx,Ot.sortedLastIndex=mx,Ot.sortedLastIndexBy=vx,Ot.sortedLastIndexOf=yx,Ot.startCase=e_,Ot.startsWith=t_,Ot.subtract=j_,Ot.sum=X_,Ot.sumBy=Y_,Ot.template=n_,Ot.times=I_,Ot.toFinite=ro,Ot.toInteger=cr,Ot.toLength=ov,Ot.toLower=i_,Ot.toNumber=As,Ot.toSafeInteger=iw,Ot.toString=br,Ot.toUpper=r_,Ot.trim=s_,Ot.trimEnd=a_,Ot.trimStart=o_,Ot.truncate=l_,Ot.unescape=u_,Ot.uniqueId=D_,Ot.upperCase=c_,Ot.upperFirst=mp,Ot.each=jm,Ot.eachRight=Xm,Ot.first=Wm,xp(Ot,function(){var j={};return Ks(Ot,function(pt,yt){wr.call(Ot.prototype,yt)||(j[yt]=pt)}),j}(),{chain:!1}),Ot.VERSION=d,_s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(j){Ot[j].placeholder=Ot}),_s(["drop","take"],function(j,pt){mr.prototype[j]=function(yt){yt=yt===i?1:Ur(cr(yt),0);var Et=this.__filtered__&&!pt?new mr(this):this.clone();return Et.__filtered__?Et.__takeCount__=Zr(yt,Et.__takeCount__):Et.__views__.push({size:Zr(yt,Xt),type:j+(Et.__dir__<0?"Right":"")}),Et},mr.prototype[j+"Right"]=function(yt){return this.reverse()[j](yt).reverse()}}),_s(["filter","map","takeWhile"],function(j,pt){var yt=pt+1,Et=yt==St||yt==kt;mr.prototype[j]=function(Lt){var Bt=this.clone();return Bt.__iteratees__.push({iteratee:Jn(Lt,3),type:yt}),Bt.__filtered__=Bt.__filtered__||Et,Bt}}),_s(["head","last"],function(j,pt){var yt="take"+(pt?"Right":"");mr.prototype[j]=function(){return this[yt](1).value()[0]}}),_s(["initial","tail"],function(j,pt){var yt="drop"+(pt?"":"Right");mr.prototype[j]=function(){return this.__filtered__?new mr(this):this[yt](1)}}),mr.prototype.compact=function(){return this.filter(hs)},mr.prototype.find=function(j){return this.filter(j).head()},mr.prototype.findLast=function(j){return this.reverse().find(j)},mr.prototype.invokeMap=pr(function(j,pt){return typeof j=="function"?new mr(this):this.map(function(yt){return _l(yt,j,pt)})}),mr.prototype.reject=function(j){return this.filter(mu(Jn(j)))},mr.prototype.slice=function(j,pt){j=cr(j);var yt=this;return yt.__filtered__&&(j>0||pt<0)?new mr(yt):(j<0?yt=yt.takeRight(-j):j&&(yt=yt.drop(j)),pt!==i&&(pt=cr(pt),yt=pt<0?yt.dropRight(-pt):yt.take(pt-j)),yt)},mr.prototype.takeRightWhile=function(j){return this.reverse().takeWhile(j).reverse()},mr.prototype.toArray=function(){return this.take(Xt)},Ks(mr.prototype,function(j,pt){var yt=/^(?:filter|find|map|reject)|While$/.test(pt),Et=/^(?:head|last)$/.test(pt),Lt=Ot[Et?"take"+(pt=="last"?"Right":""):pt],Bt=Et||/^find/.test(pt);!Lt||(Ot.prototype[pt]=function(){var Qt=this.__wrapped__,Jt=Et?[1]:arguments,sn=Qt instanceof mr,bn=Jt[0],wn=sn||lr(Qt),Tn=function(dr){var yr=Lt.apply(Ot,co([dr],Jt));return Et&&Nn?yr[0]:yr};wn&&yt&&typeof bn=="function"&&bn.length!=1&&(sn=wn=!1);var Nn=this.__chain__,Kn=!!this.__actions__.length,_i=Bt&&!Nn,fr=sn&&!Kn;if(!Bt&&wn){Qt=fr?Qt:new mr(this);var er=j.apply(Qt,Jt);return er.__actions__.push({func:fu,args:[Tn],thisArg:i}),new Es(er,Nn)}return _i&&fr?j.apply(this,Jt):(er=this.thru(Tn),_i?Et?er.value()[0]:er.value():er)})}),_s(["pop","push","shift","sort","splice","unshift"],function(j){var pt=Pl[j],yt=/^(?:push|sort|unshift)$/.test(j)?"tap":"thru",Et=/^(?:pop|shift)$/.test(j);Ot.prototype[j]=function(){var Lt=arguments;if(Et&&!this.__chain__){var Bt=this.value();return pt.apply(lr(Bt)?Bt:[],Lt)}return this[yt](function(Qt){return pt.apply(lr(Qt)?Qt:[],Lt)})}}),Ks(mr.prototype,function(j,pt){var yt=Ot[pt];if(yt){var Et=yt.name+"";wr.call(Vo,Et)||(Vo[Et]=[]),Vo[Et].push({name:pt,func:yt})}}),Vo[su(i,ht).name]=[{name:"wrapper",func:i}],mr.prototype.clone=cy,mr.prototype.reverse=hy,mr.prototype.value=fy,Ot.prototype.at=zx,Ot.prototype.chain=Ux,Ot.prototype.commit=Wx,Ot.prototype.next=Gx,Ot.prototype.plant=Kx,Ot.prototype.reverse=jx,Ot.prototype.toJSON=Ot.prototype.valueOf=Ot.prototype.value=Xx,Ot.prototype.first=Ot.prototype.head,Yo&&(Ot.prototype[Yo]=Hx),Ot},Po=Wv();Or?((Or.exports=Po)._=Po,kr._=Po):vr._=Po}).call(commonjsGlobal)})(lodash,lodash.exports);var moduleLoader={},xmlhttprequestTs_umd={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(e,s){(function(i,d){d(s,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6,require$$6)})(commonjsGlobal,function(i,d,ft,$,it,nt,_,b){/**
 * @license xmlhttprequest-ts
 * MIT license
 */var c=function(){function a(){this.UNSENT=a.UNSENT,this.OPENED=a.OPENED,this.HEADERS_RECEIVED=a.HEADERS_RECEIVED,this.LOADING=a.LOADING,this.DONE=a.DONE,this.disableHeaderCheck=!1,this.readyState=a.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return a.prototype.open=function(o,h,g,tt,at){if(g===void 0&&(g=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod(o))throw new Error("SecurityError: Request method not allowed");this.settings={method:o,url:h,async:typeof g!="boolean"?!0:g,user:tt,password:at},this.setState(this.OPENED)},a.prototype.setDisableHeaderCheck=function(o){this.disableHeaderCheck=o},a.prototype.setRequestHeader=function(o,h){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!this.isAllowedHttpHeader(o)){console.warn('Refused to set unsafe header "'+o+'"');return}if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");o=this.headersLowerCase[o.toLowerCase()]||o,this.headersLowerCase[o.toLowerCase()]=o,this.headers[o]=this.headers[o]?this.headers[o]+", "+h:h},a.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var o="";if(this.response){for(var h in this.response.headers)if(h!=="set-cookie"&&h!=="set-cookie2"){var g=this.response.headers[h];typeof g=="string"?o+=h+": "+g+`\r
`:Array.isArray(g)?o+=h+": "+g.join(", ")+`\r
`:o+=h+`:\r
`}}return o.substr(0,o.length-2)},a.prototype.getResponseHeader=function(o){if(typeof o=="string"&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[o.toLowerCase()]&&!this.errorFlag){var h=this.response.headers[o.toLowerCase()];if(typeof h=="string")return h;if(Array.isArray(h))return h.join(", ")}return null},a.prototype.getRequestHeader=function(o){if(typeof o=="string"&&this.headersLowerCase[o.toLowerCase()])return this.headers[this.headersLowerCase[o.toLowerCase()]]},a.prototype.send=function(o){var h=this,g=this;if(this.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var tt=!1,at=!1,ht=it.parse(this.settings.url),_e;switch(ht.protocol){case"https:":tt=!0;case"http:":_e=ht.hostname;break;case"file:":at=!0;break;case void 0:case null:case"":_e="localhost";break;default:throw new Error("Protocol not supported.")}if(at){if(this.settings.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)d.readFile(unescape(ht.pathname||"/"),"utf8",function(Ct,Rt){Ct?g.handleError(Ct):(g.status=200,g.responseText=Rt,g.setState(g.DONE))});else try{this.responseText=d.readFileSync(unescape(ht.pathname||"/"),"utf8"),this.status=200,this.setState(g.DONE)}catch(Ct){this.handleError(Ct)}return}var ut=ht.port||(tt?443:80),ct=ht.pathname+(ht.search?ht.search:"");for(var rt in this.defaultHeaders)this.headersLowerCase[rt.toLowerCase()]||(this.headers[rt]=this.defaultHeaders[rt]);if(_e&&(this.headers.Host=_e),ht.host&&ht.host[0]==="["&&(this.headers.Host="["+this.headers.Host+"]"),tt&&ut===443||ut===80||(this.headers.Host+=":"+ht.port),this.settings.user){typeof this.settings.password>"u"&&(this.settings.password="");var st=Buffer.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+st.toString("base64")}this.settings.method==="GET"||this.settings.method==="HEAD"?o=null:o?(this.headers["Content-Length"]=""+(Buffer.isBuffer(o)?o.length:Buffer.byteLength(o)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):this.settings.method==="POST"&&(this.headers["Content-Length"]="0");var vt={host:_e,port:ut,path:ct,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout(function(){h.readyState!==h.DONE&&g.handleTimeout(new Error("request timed out after "+h.timeout+"ms"))},this.timeout));var ot=tt?$.request:ft.request;this.sendFlag=!0,g.dispatchEvent("readystatechange");var et=function(Ct){g.handleError(Ct)},lt=0,mt=function(Ct){if(g.response=Ct,g.settings===void 0)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(g.response.headers.location&&(g.response.statusCode===301||g.response.statusCode===302||g.response.statusCode===303||g.response.statusCode===307)){if(lt++,lt>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");g.settings.url=g.response.headers.location;var Rt=it.parse(g.settings.url);_e=Rt.hostname,_e&&(g.headers.Host=_e);var zt={hostname:Rt.hostname,port:Rt.port,path:Rt.path,method:g.response.statusCode===303?"GET":g.settings.method,headers:g.headers,withCredentials:g.withCredentials};tt=ht.protocol==="https:",ot=tt?$.request:ft.request,g.request=ot(zt,mt).on("error",et),g.request.end();return}g.response.setEncoding("utf8"),g.setState(g.HEADERS_RECEIVED),g.status=g.response.statusCode||0,g.response.on("data",function(Xt){Xt&&(g.responseText+=Xt),g.sendFlag&&g.setState(g.LOADING)}),g.response.on("end",function(){g.sendFlag&&(g.setState(g.DONE),g.sendFlag=!1)}),g.response.on("error",function(Xt){g.handleError(Xt)})};g.request=ot(vt,mt).on("error",et),o&&g.request.write(o),g.request.end(),g.dispatchEvent("loadstart")}else{var xt=new Date().getTime(),wt=nt.tmpdir()+_.sep+"ts-xmlhttprequest-content-"+process.pid,St=nt.tmpdir()+_.sep+"ts-xmlhttprequest-sync-"+process.pid;d.writeFileSync(St,"","utf8");var Tt="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(tt?"s":"")+".request;let options = "+JSON.stringify(vt)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+wt+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+St+"');});response.on('error', function(error) {fs.writeFileSync('"+wt+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+St+"');});}).on('error', function(error) {fs.writeFileSync('"+wt+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+St+"');});"+(o?"req.write('"+JSON.stringify(o).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";g.dispatchEvent("loadstart"),this.setState(g.LOADING);var kt=b.spawn(process.argv[0],["-e",Tt]);for(kt.on("exit",function(Ct,Rt){try{d.unlinkSync(St)}catch{}try{d.unlinkSync(wt)}catch{}});d.existsSync(St);)if(this.timeout!==0&&new Date().getTime()>=xt+this.timeout)return kt.stdin.end(),kt.kill(),g.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));kt.stdin.end(),kt.kill();var Vt=JSON.parse(d.readFileSync(wt,"utf8"));d.unlinkSync(wt),Vt.err?g.handleError(Vt.err):(g.response=Vt.data,g.status=Vt.data.statusCode,g.responseText=Vt.data.text,g.setState(g.DONE))}},a.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||this.sendFlag)&&this.readyState!==this.DONE&&(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},a.prototype.addEventListener=function(o,h){o in this.listeners||(this.listeners[o]=[]),this.listeners[o].push(h)},a.prototype.removeEventListener=function(o,h){o in this.listeners&&(this.listeners[o]=this.listeners[o].filter(function(g){return g!==h}))},a.prototype.dispatchEvent=function(o,h){var g="on"+o;if(typeof this[g]=="function"&&this[g](h),o in this.listeners)for(var tt=0,at=this.listeners[o].length;tt<at;tt++)this.listeners[o][tt].call(this,h)},a.prototype.setState=function(o){(o===this.LOADING||this.readyState!==o)&&(this.readyState=o,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},a.prototype.handleTimeout=function(o){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=o.toString(),this.responseText=o.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",o),this.setState(this.DONE)},a.prototype.handleError=function(o){this.status=0,this.statusText=o.toString(),this.responseText=o.stack||"",this.errorFlag=!0,this.dispatchEvent("error",o),this.setState(this.DONE)},a.prototype.isAllowedHttpHeader=function(o){return(this.disableHeaderCheck||o&&this.forbiddenRequestHeaders.indexOf(o.toLowerCase())===-1)===!0},a.prototype.isAllowedHttpMethod=function(o){return(o&&this.forbiddenRequestMethods.indexOf(o)===-1)===!0},a.UNSENT=0,a.OPENED=1,a.HEADERS_RECEIVED=2,a.LOADING=3,a.DONE=4,a}();i.XMLHttpRequest=c,Object.defineProperty(i,"__esModule",{value:!0})})})(xmlhttprequestTs_umd,xmlhttprequestTs_umd.exports);var moduleErrors={};Object.defineProperty(moduleErrors,"__esModule",{value:!0});moduleErrors.ModuleInternalError=moduleErrors.ModuleNotFoundError=moduleErrors.ModuleConnectionError=void 0;const runtimeSourceError_1=runtimeSourceError;class ModuleConnectionError extends runtimeSourceError_1.RuntimeSourceError{constructor(s){super(s)}explain(){return ModuleConnectionError.message}elaborate(){return ModuleConnectionError.elaboration}}moduleErrors.ModuleConnectionError=ModuleConnectionError;ModuleConnectionError.message="Unable to get modules.";ModuleConnectionError.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";class ModuleNotFoundError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,i){super(i),this.moduleName=s}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return`
      You should check your import declarations, and ensure that all are valid modules.
    `}}moduleErrors.ModuleNotFoundError=ModuleNotFoundError;class ModuleInternalError extends runtimeSourceError_1.RuntimeSourceError{constructor(s,i){super(i),this.moduleName=s}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return`
      You may need to contact with the author for this module to fix this error.
    `}}moduleErrors.ModuleInternalError=ModuleInternalError;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadModuleDocs=exports.memoizedloadModuleDocs=exports.loadModuleTabs=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=lodash.exports,xmlhttprequest_ts_1=xmlhttprequestTs_umd.exports,moduleErrors_1=moduleErrors,newHttpRequest=()=>typeof window>"u"?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules";function setModulesStaticURL(e){exports.MODULES_STATIC_URL=e}exports.setModulesStaticURL=setModulesStaticURL;function httpGet(e){const s=(0,exports.newHttpRequest)();try{typeof window>"u"&&(s.timeout=1e4),s.open("GET",e,!1),s.send(null)}catch(i){if(!(i instanceof DOMException))throw i}if(s.status!==200&&s.status!==304)throw new moduleErrors_1.ModuleConnectionError;return s.responseText}exports.httpGet=httpGet,exports.memoizedGetModuleManifest=(0,lodash_1.memoize)(getModuleManifest);function getModuleManifest(){const e=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(e)}const memoizedGetModuleFileInternal=(0,lodash_1.memoize)(getModuleFile),memoizedGetModuleFile=(e,s)=>memoizedGetModuleFileInternal({name:e,type:s});exports.memoizedGetModuleFile=memoizedGetModuleFile;function getModuleFile({name:e,type:s}){return httpGet(`${exports.MODULES_STATIC_URL}/${s}s/${e}.js${s==="json"?"on":""}`)}function loadModuleBundle(path,context,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=(0,exports.memoizedGetModuleFile)(path,"bundle");try{const moduleBundle=eval(moduleText);return moduleBundle({context})}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}exports.loadModuleBundle=loadModuleBundle;function loadModuleTabs(path,node){const modules=(0,exports.memoizedGetModuleManifest)(),moduleList=Object.keys(modules);if(moduleList.includes(path)===!1)throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map(path=>{const rawTabFile=(0,exports.memoizedGetModuleFile)(path,"tab");try{return eval(rawTabFile)}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}})}exports.loadModuleTabs=loadModuleTabs,exports.memoizedloadModuleDocs=(0,lodash_1.memoize)(loadModuleDocs);function loadModuleDocs(e,s){try{const i=(0,exports.memoizedGetModuleManifest)();if(!Object.keys(i).includes(e))throw new moduleErrors_1.ModuleNotFoundError(e,s);const ft=getModuleFile({name:e,type:"json"});return JSON.parse(ft)}catch{return console.warn("Failed to load module documentation"),null}}exports.loadModuleDocs=loadModuleDocs})(moduleLoader);var inspector={};Object.defineProperty(inspector,"__esModule",{value:!0});inspector.areBreakpointsSet=inspector.checkEditorBreakpoints=inspector.manualToggleDebugger=inspector.setBreakpointAtLine=inspector.saveState=void 0;const saveState=(e,s,i)=>{e.debugger.state.it=s,e.debugger.state.scheduler=i};inspector.saveState=saveState;const setBreakpointAtLine=e=>{breakpoints=e};inspector.setBreakpointAtLine=setBreakpointAtLine;const manualToggleDebugger=e=>(e.runtime.break=!0,{status:"suspended",scheduler:e.debugger.state.scheduler,it:e.debugger.state.it,context:e});inspector.manualToggleDebugger=manualToggleDebugger;let breakpoints=[],moved=!0,prevStoppedLine=-1;const checkEditorBreakpoints=(e,s)=>{if(s.loc){const i=s.loc.start.line-1;!moved&&i!==prevStoppedLine&&(moved=!0),e.runtime.debuggerOn&&breakpoints[i]!==void 0&&moved&&(moved=!1,prevStoppedLine=i,e.runtime.break=!0)}};inspector.checkEditorBreakpoints=checkEditorBreakpoints;const areBreakpointsSet=()=>breakpoints.length>0;inspector.areBreakpointsSet=areBreakpointsSet;var operators={},timeoutErrors={},formatters={};Object.defineProperty(formatters,"__esModule",{value:!0});formatters.simplify=formatters.stripIndent=formatters.oneLine=void 0;function templateToString(e,s){return typeof e=="string"?e:s.reduce((i,d,ft)=>i+d+e[ft+1],e[0])}function oneLine(e,...s){return templateToString(e,s).replace(/(?:\n(?:\s*))+/g," ").trim()}formatters.oneLine=oneLine;function stripIndent(e,...s){const i=templateToString(e,s),d=i.match(/^[^\S\n]*(?=\S)/gm),ft=d&&Math.min(...d.map($=>$.length));return ft?i.replace(new RegExp(`^.{${ft}}`,"gm"),"").trim():i.trim()}formatters.stripIndent=stripIndent;function simplify(e,s=15,i="..."){if(e.length<s)return e;const d=Math.ceil(s-i.length/2);return e.slice(0,d)+" ... "+e.slice(d)}formatters.simplify=simplify;var hasRequiredTimeoutErrors;function requireTimeoutErrors(){if(hasRequiredTimeoutErrors)return timeoutErrors;hasRequiredTimeoutErrors=1,Object.defineProperty(timeoutErrors,"__esModule",{value:!0}),timeoutErrors.PotentialInfiniteRecursionError=timeoutErrors.PotentialInfiniteLoopError=timeoutErrors.TimeoutError=void 0;const e=constants,s=types,i=formatters,d=requireStringify(),ft=runtimeSourceError;function $(b){const c=b/1e3,a=c*e.JSSLANG_PROPERTIES.factorToIncreaseBy;return(0,i.stripIndent)`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${c} to ${a} seconds.
      This page may be unresponsive for up to ${a} seconds if you do so.`}class it extends ft.RuntimeSourceError{}timeoutErrors.TimeoutError=it;class nt extends it{constructor(c,a){super(c),this.maxExecTime=a,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return(0,i.stripIndent)`${"Potential infinite loop detected"}.
    ${$(this.maxExecTime)}`}elaborate(){return this.explain()}}timeoutErrors.PotentialInfiniteLoopError=nt;class _ extends it{constructor(c,a,o){super(c),this.calls=a,this.maxExecTime=o,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const c=this.calls.map(([a,o])=>`${a}(${o.map(h=>(0,d.stringify)(h)).join(", ")})`);return(0,i.stripIndent)`${"Potential infinite recursion detected"}: ${c.join(" ... ")}.
      ${$(this.maxExecTime)}`}elaborate(){return this.explain()}}return timeoutErrors.PotentialInfiniteRecursionError=_,timeoutErrors}var makeWrapper$1={};Object.defineProperty(makeWrapper$1,"__esModule",{value:!0});makeWrapper$1.makeWrapper=void 0;function makeWrapper(e,s){for(const i in e)e.hasOwnProperty(i)&&Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i));for(const i of["length","name"])e.hasOwnProperty(i)&&Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))}makeWrapper$1.makeWrapper=makeWrapper;var hasRequiredOperators;function requireOperators(){return hasRequiredOperators||(hasRequiredOperators=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getProp=e.setProp=e.wrap=e.callIteratively=e.evaluateBinaryExpression=e.binaryOp=e.evaluateUnaryExpression=e.unaryOp=e.boolOrErr=e.callIfFuncAndRightArgs=e.makeLazyFunction=e.wrapLazyCallee=e.delayIt=e.forceIt=e.throwIfTimeout=void 0;const s=requireCreateContext(),i=requireErrors(),d=runtimeSourceError,ft=requireTimeoutErrors(),$=astCreator,it=astCreator,nt=makeWrapper$1,_=rttc;function b(ot,et,lt,mt,xt){if(lt-et>ot.maxExecTime)throw new ft.PotentialInfiniteLoopError(it.locationDummyNode(mt,xt),ot.maxExecTime)}e.throwIfTimeout=b;function c(ot){if(ot!=null&&ot.isMemoized!==void 0){if(ot.isMemoized)return ot.memoizedValue;const et=c(ot.f());return ot.isMemoized=!0,ot.memoizedValue=et,et}else return ot}e.forceIt=c;function a(ot){return{isMemoized:!1,value:void 0,f:ot}}e.delayIt=a;function o(ot){if(ot=c(ot),typeof ot=="function"){const et=(...lt)=>ot(...lt.map(c));return(0,nt.makeWrapper)(ot,et),et[Symbol.toStringTag]=()=>ot.toString(),et.toString=()=>ot.toString(),et}else if(ot instanceof s.LazyBuiltIn)if(ot.evaluateArgs){const et=(...lt)=>ot.func(...lt.map(c));return(0,nt.makeWrapper)(ot.func,et),et[Symbol.toStringTag]=()=>ot.toString(),et.toString=()=>ot.toString(),et}else return ot;return ot}e.wrapLazyCallee=o;function h(ot){return new s.LazyBuiltIn(ot,!1)}e.makeLazyFunction=h;function g(ot,et,lt,...mt){const xt=it.callExpression(it.locationDummyNode(et,lt),mt,{start:{line:et,column:lt},end:{line:et,column:lt}});if(typeof ot=="function"){const wt=ot;ot.transformedFunction!==void 0&&(ot=ot.transformedFunction);const St=ot.length,Tt=mt.length,kt=ot.minArgsNeeded!==void 0;if(kt?ot.minArgsNeeded>Tt:St!==Tt)throw new i.InvalidNumberOfArguments(xt,kt?ot.minArgsNeeded:St,Tt,kt);try{const Vt=mt.map(c);return wt(...Vt)}catch(Vt){throw Vt instanceof d.RuntimeSourceError||Vt instanceof i.ExceptionError?Vt:new i.ExceptionError(Vt,xt.loc)}}else if(ot instanceof s.LazyBuiltIn)try{return ot.evaluateArgs&&(mt=mt.map(c)),ot.func(...mt)}catch(wt){throw wt instanceof d.RuntimeSourceError||wt instanceof i.ExceptionError?wt:new i.ExceptionError(wt,xt.loc)}else throw new i.CallingNonFunctionValue(ot,xt)}e.callIfFuncAndRightArgs=g;function tt(ot,et,lt){ot=c(ot);const mt=_.checkIfStatement(it.locationDummyNode(et,lt),ot);if(mt===void 0)return ot;throw mt}e.boolOrErr=tt;function at(ot,et,lt,mt){et=c(et);const xt=_.checkUnaryExpression(it.locationDummyNode(lt,mt),ot,et);if(xt===void 0)return ht(ot,et);throw xt}e.unaryOp=at;function ht(ot,et){return ot==="!"?!et:ot==="-"?-et:+et}e.evaluateUnaryExpression=ht;function _e(ot,et,lt,mt,xt,wt){lt=c(lt),mt=c(mt);const St=_.checkBinaryExpression(it.locationDummyNode(xt,wt),ot,et,lt,mt);if(St===void 0)return ut(ot,lt,mt);throw St}e.binaryOp=_e;function ut(ot,et,lt){switch(ot){case"+":return et+lt;case"-":return et-lt;case"*":return et*lt;case"/":return et/lt;case"%":return et%lt;case"===":return et===lt;case"!==":return et!==lt;case"<=":return et<=lt;case"<":return et<lt;case">":return et>lt;case">=":return et>=lt;default:return}}e.evaluateBinaryExpression=ut;const ct=(ot,et,...lt)=>{let mt=-1,xt=-1;const wt=Date.now(),St=[];for(;;){const Tt=(0,$.locationDummyNode)(mt,xt);if(ot=c(ot),typeof ot=="function"){ot.transformedFunction!==void 0&&(ot=ot.transformedFunction);const Vt=ot.length,Ct=lt.length,Rt=ot.minArgsNeeded!==void 0;if(Rt?ot.minArgsNeeded>Ct:Vt!==Ct)throw new i.InvalidNumberOfArguments((0,$.callExpression)(Tt,lt,{start:{line:mt,column:xt},end:{line:mt,column:xt}}),Rt?ot.minArgsNeeded:Vt,Ct,Rt)}else if(ot instanceof s.LazyBuiltIn)ot.evaluateArgs&&(lt=lt.map(c)),ot=ot.func;else throw new i.CallingNonFunctionValue(ot,Tt);let kt;try{if(kt=ot(...lt),Date.now()-wt>et.maxExecTime)throw new ft.PotentialInfiniteRecursionError(Tt,St,et.maxExecTime)}catch(Vt){throw Vt instanceof d.RuntimeSourceError||Vt instanceof i.ExceptionError?Vt:new i.ExceptionError(Vt,Tt.loc)}if(kt==null)return kt;if(kt.isTail===!0)ot=kt.function,lt=kt.arguments,mt=kt.line,xt=kt.column,St.push([kt.functionName,lt]);else return kt.isTail===!1?kt.value:kt}};e.callIteratively=ct;const rt=(ot,et,lt,mt)=>{lt&&(ot.minArgsNeeded=ot.length);const xt=(...wt)=>(0,e.callIteratively)(ot,mt,...wt);return(0,nt.makeWrapper)(ot,xt),xt.transformedFunction=ot,xt[Symbol.toStringTag]=()=>et,xt.toString=()=>et,xt};e.wrap=rt;const st=(ot,et,lt,mt,xt)=>{const wt=(0,$.locationDummyNode)(mt,xt),St=_.checkMemberAccess(wt,ot,et);if(St===void 0)return ot[et]=lt;throw St};e.setProp=st;const vt=(ot,et,lt,mt)=>{const xt=(0,$.locationDummyNode)(lt,mt),wt=_.checkMemberAccess(xt,ot,et);if(wt===void 0){if(ot[et]!==void 0&&!ot.hasOwnProperty(et))throw new i.GetInheritedPropertyError(xt,ot,et);return ot[et]}else throw wt};e.getProp=vt}(operators)),operators}var hasRequiredInterpreter;function requireInterpreter(){return hasRequiredInterpreter||(hasRequiredInterpreter=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.apply=e.evaluate=e.evaluators=e.pushEnvironment=e.createBlockEnvironment=e.actualValue=void 0;const s=lodash.exports,i=constants,d=requireCreateContext(),ft=requireErrors(),$=runtimeSourceError,it=moduleLoader,nt=inspector,_=types,b=astCreator,c=requireOperators(),a=rttc,o=requireClosure();class h{}class g{}class tt{constructor(Wt){this.value=Wt}}class at{constructor(Wt,Nt,ln){this.callee=Wt,this.args=Nt,this.node=ln}}class ht{constructor(Wt,Nt){this.exp=Wt,this.env=Nt,this.isMemoized=!1,this.value=null}}const _e=(Ut,Wt)=>new ht(Ut,Wt);function*ut(Ut,Wt){if(Ut instanceof ht){if(Ut.isMemoized)return Ut.value;(0,e.pushEnvironment)(Wt,Ut.env);const Nt=yield*ct(Ut.exp,Wt);return Ct(Wt),Ut.value=Nt,Ut.isMemoized=!0,Nt}else return Ut}function*ct(Ut,Wt){const Nt=yield*dn(Ut,Wt);return yield*ut(Nt,Wt)}e.actualValue=ct;const rt=(Ut,Wt,Nt)=>{const ln={name:Ut.functionName,tail:Ut.environment,head:{},id:(0,s.uniqueId)()};return Nt&&(ln.callExpression=Object.assign(Object.assign({},Nt),{arguments:Wt.map(b.primitive)})),Ut.node.params.forEach((yn,rn)=>{yn.type==="RestElement"?ln.head[yn.argument.name]=Wt.slice(rn):ln.head[yn.name]=Wt[rn]}),ln},st=(Ut,Wt="blockEnvironment",Nt={})=>({name:Wt,tail:kt(Ut),head:Nt,id:(0,s.uniqueId)()});e.createBlockEnvironment=st;const vt=(Ut,Wt)=>{throw Ut.errors.push(Wt),Ut.runtime.environments=Ut.runtime.environments.slice(-Ut.numberOfOuterEnvironments),Wt},ot=Symbol("Used to implement hoisting");function et(Ut,Wt,Nt){const ln=kt(Ut);if(ln.head.hasOwnProperty(Wt)){const yn=Object.getOwnPropertyDescriptors(ln.head);return vt(Ut,new ft.VariableRedeclaration(Nt,Wt,yn[Wt].writable))}return ln.head[Wt]=ot,ln}function lt(Ut,Wt){for(const Nt of Wt.declarations)et(Ut,Nt.id.name,Wt)}function mt(Ut,Wt){for(const Nt of Wt.specifiers)et(Ut,Nt.local.name,Wt)}function xt(Ut,Wt){for(const Nt of Wt.body)switch(Nt.type){case"VariableDeclaration":lt(Ut,Nt);break;case"FunctionDeclaration":et(Ut,Nt.id.name,Nt);break}}function wt(Ut,Wt,Nt,ln=!1){const yn=kt(Ut);return yn.head[Wt]!==ot?vt(Ut,new ft.VariableRedeclaration(Ut.runtime.nodes[0],Wt,!ln)):(Object.defineProperty(yn.head,Wt,{value:Nt,writable:!ln,enumerable:!0}),yn)}function*St(Ut,Wt){(0,nt.checkEditorBreakpoints)(Ut,Wt),Ut.runtime.nodes.unshift(Wt),yield Ut}function*Tt(Ut){Ut.runtime.break=!1,Ut.runtime.nodes.shift(),yield Ut}const kt=Ut=>Ut.runtime.environments[0],Vt=(Ut,Wt)=>{Ut.runtime.environments[0]=Wt,Ut.runtime.environmentTree.insert(Wt)},Ct=Ut=>Ut.runtime.environments.shift(),Rt=(Ut,Wt)=>{Ut.runtime.environments.unshift(Wt),Ut.runtime.environmentTree.insert(Wt)};e.pushEnvironment=Rt;const zt=(Ut,Wt)=>{let Nt=kt(Ut);for(;Nt;){if(Nt.head.hasOwnProperty(Wt))return Nt.head[Wt]===ot?vt(Ut,new ft.UnassignedVariable(Wt,Ut.runtime.nodes[0])):Nt.head[Wt];Nt=Nt.tail}return vt(Ut,new ft.UndefinedVariable(Wt,Ut.runtime.nodes[0]))},Xt=(Ut,Wt,Nt)=>{let ln=kt(Ut);for(;ln;)if(ln.head.hasOwnProperty(Wt)){if(ln.head[Wt]===ot)break;if(Object.getOwnPropertyDescriptors(ln.head)[Wt].writable){ln.head[Wt]=Nt;return}return vt(Ut,new ft.ConstAssignment(Ut.runtime.nodes[0],Wt))}else ln=ln.tail;return vt(Ut,new ft.UndefinedVariable(Wt,Ut.runtime.nodes[0]))},Pt=(Ut,Wt,Nt,ln)=>{var yn;if(Wt instanceof o.default){const rn=Wt.node.params,Un=((yn=rn[rn.length-1])===null||yn===void 0?void 0:yn.type)==="RestElement";if(Un?rn.length-1>Nt.length:rn.length!==Nt.length)return vt(Ut,new ft.InvalidNumberOfArguments(ln,Un?rn.length-1:rn.length,Nt.length,Un))}else{const rn=Wt.minArgsNeeded!=null;if(rn?Wt.minArgsNeeded>Nt.length:Wt.length!==Nt.length)return vt(Ut,new ft.InvalidNumberOfArguments(ln,rn?Wt.minArgsNeeded:Wt.length,Nt.length,rn))}};function*Mt(Ut,Wt){const Nt=[];for(const ln of Wt.arguments)Ut.variant===_.Variant.LAZY?Nt.push(_e(ln,kt(Ut))):ln.type==="SpreadElement"?Nt.push(...yield*ct(ln.argument,Ut)):Nt.push(yield*ct(ln,Ut));return Nt}function jt(Ut){return Ut.operator==="&&"?(0,b.conditionalExpression)(Ut.left,Ut.right,(0,b.literal)(!1),Ut.loc):(0,b.conditionalExpression)(Ut.left,(0,b.literal)(!0),Ut.right,Ut.loc)}function*Zt(Ut,Wt){const Nt=yield*ct(Ut.test,Wt),ln=a.checkIfStatement(Ut,Nt,Wt.chapter);return ln?vt(Wt,ln):Nt?Ut.consequent:Ut.alternate}function*Yt(Ut,Wt){xt(Ut,Wt);let Nt;for(const ln of Wt.body)if(Nt=yield*dn(ln,Ut),Nt instanceof tt||Nt instanceof at||Nt instanceof h||Nt instanceof g)break;return Nt}e.evaluators={Literal:function*(Ut,Wt){return Ut.value},TemplateLiteral:function*(Ut){return Ut.quasis[0].value.cooked},ThisExpression:function*(Ut,Wt){return kt(Wt).thisContext},ArrayExpression:function*(Ut,Wt){const Nt=[];for(const ln of Ut.elements)Nt.push(yield*dn(ln,Wt));return Nt},DebuggerStatement:function*(Ut,Wt){Wt.runtime.break=!0,yield},FunctionExpression:function*(Ut,Wt){return new o.default(Ut,kt(Wt),Wt)},ArrowFunctionExpression:function*(Ut,Wt){return o.default.makeFromArrowFunction(Ut,kt(Wt),Wt)},Identifier:function*(Ut,Wt){return zt(Wt,Ut.name)},CallExpression:function*(Ut,Wt){const Nt=yield*ct(Ut.callee,Wt),ln=yield*Mt(Wt,Ut);let yn;return Ut.callee.type==="MemberExpression"&&(yn=yield*ct(Ut.callee.object,Wt)),yield*cn(Wt,Nt,ln,Ut,yn)},NewExpression:function*(Ut,Wt){const Nt=yield*dn(Ut.callee,Wt),ln=[];for(const rn of Ut.arguments)ln.push(yield*dn(rn,Wt));const yn={};return Nt instanceof o.default?(yn.__proto__=Nt.fun.prototype,Nt.fun.apply(yn,ln)):(yn.__proto__=Nt.prototype,Nt.apply(yn,ln)),yn},UnaryExpression:function*(Ut,Wt){const Nt=yield*ct(Ut.argument,Wt),ln=a.checkUnaryExpression(Ut,Ut.operator,Nt,Wt.chapter);return ln?vt(Wt,ln):(0,c.evaluateUnaryExpression)(Ut.operator,Nt)},BinaryExpression:function*(Ut,Wt){const Nt=yield*ct(Ut.left,Wt),ln=yield*ct(Ut.right,Wt),yn=a.checkBinaryExpression(Ut,Ut.operator,Wt.chapter,Nt,ln);return yn?vt(Wt,yn):(0,c.evaluateBinaryExpression)(Ut.operator,Nt,ln)},ConditionalExpression:function*(Ut,Wt){return yield*this.IfStatement(Ut,Wt)},LogicalExpression:function*(Ut,Wt){return yield*this.ConditionalExpression(jt(Ut),Wt)},VariableDeclaration:function*(Ut,Wt){const Nt=Ut.declarations[0],ln=Ut.kind==="const",yn=Nt.id,rn=yield*dn(Nt.init,Wt);wt(Wt,yn.name,rn,ln)},ContinueStatement:function*(Ut,Wt){return new g},BreakStatement:function*(Ut,Wt){return new h},ForStatement:function*(Ut,Wt){const Nt=(0,e.createBlockEnvironment)(Wt,"forLoopEnvironment");(0,e.pushEnvironment)(Wt,Nt);const ln=Ut.init,yn=Ut.test,rn=Ut.update;ln.type==="VariableDeclaration"&&lt(Wt,ln),yield*ct(ln,Wt);let Un;for(;yield*ct(yn,Wt);){const Qn=(0,e.createBlockEnvironment)(Wt,"forBlockEnvironment");(0,e.pushEnvironment)(Wt,Qn);for(const Zn in Nt.head)Nt.head.hasOwnProperty(Zn)&&(et(Wt,Zn,Ut),wt(Wt,Zn,Nt.head[Zn],!0));if(Un=yield*ct(Ut.body,Wt),Ct(Wt),Un instanceof g&&(Un=void 0),Un instanceof h){Un=void 0;break}if(Un instanceof tt||Un instanceof at)break;yield*ct(rn,Wt)}return Ct(Wt),Un},MemberExpression:function*(Ut,Wt){let Nt=yield*ct(Ut.object,Wt);Nt instanceof o.default&&(Nt=Nt.fun);let ln;Ut.computed?ln=yield*ct(Ut.property,Wt):ln=Ut.property.name;const yn=a.checkMemberAccess(Ut,Nt,ln);if(yn)return vt(Wt,yn);if(Nt!=null&&typeof Nt[ln]<"u"&&!Nt.hasOwnProperty(ln))return vt(Wt,new ft.GetInheritedPropertyError(Ut,Nt,ln));try{return Nt[ln]}catch{return vt(Wt,new ft.GetPropertyError(Ut,Nt,ln))}},AssignmentExpression:function*(Ut,Wt){if(Ut.left.type==="MemberExpression"){const yn=Ut.left,rn=yield*ct(yn.object,Wt);let Un;yn.computed?Un=yield*ct(yn.property,Wt):Un=yn.property.name;const Qn=a.checkMemberAccess(Ut,rn,Un);if(Qn)return vt(Wt,Qn);const Zn=yield*dn(Ut.right,Wt);try{rn[Un]=Zn}catch{return vt(Wt,new ft.SetPropertyError(Ut,rn,Un))}return Zn}const Nt=Ut.left,ln=yield*dn(Ut.right,Wt);return Xt(Wt,Nt.name,ln),ln},FunctionDeclaration:function*(Ut,Wt){const Nt=Ut.id,ln=new o.default(Ut,kt(Wt),Wt);wt(Wt,Nt.name,ln,!0)},IfStatement:function*(Ut,Wt){const Nt=yield*Zt(Ut,Wt);if(Nt!==null)return yield*dn(Nt,Wt)},ExpressionStatement:function*(Ut,Wt){return yield*dn(Ut.expression,Wt)},ReturnStatement:function*(Ut,Wt){let Nt=Ut.argument;for(;Nt.type==="LogicalExpression"||Nt.type==="ConditionalExpression";)Nt.type==="LogicalExpression"&&(Nt=jt(Nt)),Nt=yield*Zt(Nt,Wt);if(Nt.type==="CallExpression"&&Wt.variant!==_.Variant.LAZY){const ln=yield*ct(Nt.callee,Wt),yn=yield*Mt(Wt,Nt);return new at(ln,yn,Nt)}else return new tt(yield*dn(Nt,Wt))},WhileStatement:function*(Ut,Wt){let Nt;for(;(yield*ct(Ut.test,Wt))&&!(Nt instanceof tt)&&!(Nt instanceof h)&&!(Nt instanceof at);)Nt=yield*ct(Ut.body,Wt);if(!(Nt instanceof h))return Nt},ObjectExpression:function*(Ut,Wt){const Nt={};for(const ln of Ut.properties){const yn=ln;let rn;yn.key.type==="Identifier"?rn=yn.key.name:rn=yield*dn(yn.key,Wt),Nt[rn]=yield*dn(yn.value,Wt)}return Nt},BlockStatement:function*(Ut,Wt){const Nt=(0,e.createBlockEnvironment)(Wt,"blockEnvironment");(0,e.pushEnvironment)(Wt,Nt);const ln=yield*Yt(Wt,Ut);return Ct(Wt),ln},ImportDeclaration:function*(Ut,Wt){try{const Nt=Ut.source.value,ln=Ut.specifiers.map(rn=>{if(rn.type!=="ImportSpecifier")throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${rn.type}.`);return{imported:rn.imported.name,local:rn.local.name}});Nt in Wt.moduleContexts||(Wt.moduleContexts[Nt]={state:null,tabs:(0,it.loadModuleTabs)(Nt,Ut)});const yn=(0,it.loadModuleBundle)(Nt,Wt,Ut);mt(Wt,Ut);for(const rn of ln)wt(Wt,rn.local,yn[rn.imported],!0);return}catch(Nt){return vt(Wt,Nt)}},Program:function*(Ut,Wt){Wt.numberOfOuterEnvironments+=1;const Nt=(0,e.createBlockEnvironment)(Wt,"programEnvironment");return(0,e.pushEnvironment)(Wt,Nt),yield*ut(yield*Yt(Wt,Ut),Wt)}};function fn(Ut){return(0,s.isEmpty)(Ut.head)}function an(Ut){if(fn(Ut)){const Wt=Ut.tail;return Wt===null?Ut:an(Wt)}else return Ut}function*dn(Ut,Wt){yield*St(Wt,Ut);const Nt=yield*e.evaluators[Ut.type](Ut,Wt);return yield*Tt(Wt),Nt instanceof o.default&&Object.defineProperty(an(kt(Wt)).head,(0,s.uniqueId)(),{value:Nt,writable:!1,enumerable:!0}),Nt}e.evaluate=dn;function*cn(Ut,Wt,Nt,ln,yn){let rn,Un=0;for(;!(rn instanceof tt);)if(Wt instanceof o.default){Pt(Ut,Wt,Nt,ln);const Qn=rt(Wt,Nt,ln);rn instanceof at?Vt(Ut,Qn):((0,e.pushEnvironment)(Ut,Qn),Un++);const Zn=(0,e.createBlockEnvironment)(Ut,"functionBodyEnvironment");Zn.thisContext=yn,(0,e.pushEnvironment)(Ut,Zn),rn=yield*Yt(Ut,Wt.node.body),Ct(Ut),rn instanceof at?(Wt=rn.callee,ln=rn.node,Nt=rn.args):rn instanceof tt||(rn=new tt(void 0))}else if(Wt instanceof d.LazyBuiltIn)try{let Qn=Nt;if(Wt.evaluateArgs){Qn=[];for(const Zn of Nt)Qn.push(yield*ut(Zn,Ut))}rn=Wt.func.apply(yn,Qn);break}catch(Qn){Ut.runtime.environments=Ut.runtime.environments.slice(-Ut.numberOfOuterEnvironments);const Zn=ln?ln.loc:i.UNKNOWN_LOCATION;if(!(Qn instanceof $.RuntimeSourceError||Qn instanceof ft.ExceptionError))return vt(Ut,new ft.ExceptionError(Qn,Zn));throw rn=void 0,Qn}else if(typeof Wt=="function"){Pt(Ut,Wt,Nt,ln);try{const Qn=[];for(const Zn of Nt)Qn.push(yield*ut(Zn,Ut));rn=Wt.apply(yn,Qn);break}catch(Qn){Ut.runtime.environments=Ut.runtime.environments.slice(-Ut.numberOfOuterEnvironments);const Zn=ln?ln.loc:i.UNKNOWN_LOCATION;if(!(Qn instanceof $.RuntimeSourceError||Qn instanceof ft.ExceptionError))return vt(Ut,new ft.ExceptionError(Qn,Zn));throw rn=void 0,Qn}}else return vt(Ut,new ft.CallingNonFunctionValue(Wt,ln));rn instanceof tt&&(rn=rn.value);for(let Qn=1;Qn<=Un;Qn++)Ct(Ut);return rn}e.apply=cn}(interpreter)),interpreter}var hasRequiredClosure;function requireClosure(){if(hasRequiredClosure)return closure;hasRequiredClosure=1,Object.defineProperty(closure,"__esModule",{value:!0});const e=astring,s=astCreator,i=requireInterpreter(),d=(it,nt,_)=>{function b(){const c=Array.prototype.slice.call(arguments),a=(0,i.apply)(nt,it,c,(0,s.callExpression)((0,s.identifier)(_),c),this);let o=a.next();for(;!o.done;)o=a.next();return o.value}return Object.defineProperty(b,"name",{value:_}),Object.setPrototypeOf(b,()=>{}),Object.defineProperty(b,"Inherits",{value:c=>{b.prototype=Object.create(c.prototype),b.prototype.constructor=b}}),b.toString=()=>(0,e.generate)(it.originalNode),b.call=(c,...a)=>b.apply(c,a),b};class ft extends Function{constructor(nt){return super(),Object.setPrototypeOf(nt,new.target.prototype)}}class $ extends ft{constructor(nt,_,b){super(function(...a){return c.apply(this,a)}),this.node=nt,this.environment=_,this.originalNode=nt,this.node.type==="FunctionDeclaration"&&this.node.id!==null?this.functionName=this.node.id.name:this.functionName=(this.node.params.length===1?"":"(")+this.node.params.map(a=>a.name).join(", ")+(this.node.params.length===1?"":")")+" => ...";const c=d(this,b,this.functionName);this.fun=c}static makeFromArrowFunction(nt,_,b){function c(h){return h.type!=="BlockStatement"}const a=c(nt.body)?[(0,s.returnStatement)(nt.body,nt.body.loc)]:nt.body,o=new $((0,s.blockArrowFunction)(nt.params,a,nt.loc),_,b);return o.originalNode=nt,o}toString(){return(0,e.generate)(this.originalNode)}}return closure.default=$,closure}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.lineTreeToString=stringify$1.stringDagToSingleLine=stringify$1.stringDagToLineTree=stringify$1.valueToStringDag=stringify$1.typeToString=stringify$1.stringify=void 0;const e=constants,s=requireClosure(),i=requireOperators();function d(a){return typeof a.replPrefix=="string"&&typeof a.replSuffix=="string"&&typeof a.replArrayContents=="function"}const ft=(a,o=2,h=80)=>{if(a=(0,i.forceIt)(a),typeof o=="string")throw"stringify with arbitrary indent string not supported";let g=o;return o>10&&(g=10),c(_(nt(a),g,h))};stringify$1.stringify=ft;function $(a){return it(a)}stringify$1.typeToString=$;function it(a,o={_next:0}){function h(g){return it(g,o)}switch(a.kind){case"primitive":return a.name;case"variable":return a.constraint&&a.constraint!=="none"?a.constraint:(a.name in o||(o[a.name]="T"+o._next++),o[a.name]);case"list":return`List<${h(a.elementType)}>`;case"array":return`Array<${h(a.elementType)}>`;case"pair":const g=h(a.headType);return a.tailType.kind==="list"&&g===h(a.tailType.elementType)?`List<${g}>`:`[${h(a.headType)}, ${h(a.tailType)}]`;case"function":let tt=a.parameterTypes.map(h).join(", ");return(a.parameterTypes.length!==1||a.parameterTypes[0].kind==="function")&&(tt=`(${tt})`),`${tt} -> ${h(a.returnType)}`;default:return"Unable to infer type"}}function nt(a){const o=new Map,h=new Map;function g(ut){const ct=h.get(ut);if(ct!==void 0)return[ct,!1];o.set(ut,o.size);const rt=ut,[st,vt]=_e(rt[0]),[ot,et]=_e(rt[1]),lt=vt||et;o.delete(ut);const mt={type:"pair",head:st,tail:ot,length:st.length+ot.length+4};return lt||h.set(ut,mt),[mt,lt]}function tt(ut,ct,rt,st){const vt=h.get(ut);if(vt!==void 0)return[vt,!1];o.set(ut,o.size);const ot=ct.map(_e);let et=rt.length+st.length+Math.max(0,ot.length-1)*2,lt=!1;for(let xt=0;xt<ot.length;xt++)ot[xt]==null&&(ot[xt]=_e(void 0)),et+=ot[xt][0].length,lt||(lt=ot[xt][1]);o.delete(ut);const mt={type:"arraylike",elems:ot.map(xt=>xt[0]),prefix:rt,suffix:st,length:et};return lt||h.set(ut,mt),[mt,lt]}function at(ut){const ct=h.get(ut);if(ct!==void 0)return[ct,!1];o.set(ut,o.size);const rt=Object.entries(ut),st=rt.map(mt=>_e(mt[1]));let vt=2+Math.max(0,rt.length-1)*2+rt.length*2,ot=!1;const et=[];for(let mt=0;mt<st.length;mt++)vt+=rt[mt][0].length,vt+=st[mt].length,ot||(ot=st[mt][1]),et.push({type:"kvpair",key:rt[mt][0],value:st[mt][0],length:st[mt][0].length+rt[mt][0].length});o.delete(ut);const lt={type:"arraylike",elems:et,prefix:"{",suffix:"}",length:vt};return ot||h.set(ut,lt),[lt,ot]}function ht(ut){const ct=ut.split(`
`);return ct.length===1?[{type:"terminal",str:ct[0],length:ct[0].length},!1]:[{type:"multiline",lines:ct,length:1/0},!1]}function _e(ut){if(ut===null)return[{type:"terminal",str:"null",length:4},!1];if(ut===void 0)return[{type:"terminal",str:"undefined",length:9},!1];if(o.has(ut))return[{type:"terminal",str:"...<circular>",length:13},!0];if(ut instanceof s.default)return ht(ut.toString());if(typeof ut=="string"){const ct=JSON.stringify(ut);return[{type:"terminal",str:ct,length:ct.length},!1]}else return typeof ut!="object"?ht(ut.toString()):o.size>e.MAX_LIST_DISPLAY_LENGTH?[{type:"terminal",str:"...<truncated>",length:14},!1]:typeof ut.toReplString=="function"?ht(ut.toReplString()):Array.isArray(ut)?ut.length===2?g(ut):tt(ut,ut,"[","]"):d(ut)?tt(ut,ut.replArrayContents(),ut.replPrefix,ut.replSuffix):Object.getPrototypeOf(ut)===Object.prototype?at(ut):ht(ut.toString())}return _e(a)[0]}stringify$1.valueToStringDag=nt;function _(a,o,h){const tt="["+" ".repeat(Math.max(0,o-1)),at=new Map;function ht(_e){const ut=at.get(_e);if(ut!==void 0)return ut;let ct;if(_e.type==="terminal")ct={type:"line",line:_e};else if(_e.type==="multiline")ct={type:"block",prefixFirst:"",prefixRest:"",block:_e.lines.map(rt=>({type:"line",line:{type:"terminal",str:rt,length:rt.length}})),suffixRest:"",suffixLast:""};else if(_e.type==="pair"){const rt=ht(_e.head),st=ht(_e.tail);_e.length-2>h||rt.type!=="line"||st.type!=="line"?ct={type:"block",prefixFirst:tt,prefixRest:"",block:[rt,st],suffixRest:",",suffixLast:"]"}:ct={type:"line",line:_e}}else if(_e.type==="arraylike"){const rt=_e.elems.map(ht);_e.length-_e.prefix.length-_e.suffix.length>h||rt.some(st=>st.type!=="line")?ct={type:"block",prefixFirst:_e.prefix+" ".repeat(Math.max(0,o-_e.prefix.length)),prefixRest:" ".repeat(Math.max(_e.prefix.length,o)),block:rt,suffixRest:",",suffixLast:_e.suffix}:ct={type:"line",line:_e}}else if(_e.type==="kvpair"){const rt=ht(_e.value);_e.length>h||rt.type!=="line"?ct={type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(_e.key),length:0}},rt],suffixRest:":",suffixLast:""}:ct={type:"line",line:_e}}else throw"up";return at.set(_e,ct),ct}return ht(a)}stringify$1.stringDagToLineTree=_;function b(a){function o(h,g){if(h.type==="multiline")throw"Tried to format multiline string as single line string";if(h.type==="terminal")g.push(h.str);else if(h.type==="pair")g.push("["),o(h.head,g),g.push(", "),o(h.tail,g),g.push("]");else if(h.type==="kvpair")g.push(JSON.stringify(h.key)),g.push(": "),o(h.value,g);else if(h.type==="arraylike"){g.push(h.prefix),h.elems.length>0&&o(h.elems[0],g);for(let tt=1;tt<h.elems.length;tt++)g.push(", "),o(h.elems[tt],g);g.push(h.suffix)}return g}return o(a,[]).join("")}stringify$1.stringDagToSingleLine=b;function c(a){let o="";const h=new Map,g=new Map;function tt(at,ht){const _e=g.get(at);if(_e!==void 0){const rt=_e.get(ht.length);if(rt!==void 0){o+=o.substring(rt[0],rt[1]);return}}const ut=o.length;if(at.type==="line")h.has(at.line)||h.set(at.line,b(at.line)),o+=h.get(at.line);else if(at.type==="block"){o+=at.prefixFirst;const rt=ht+" ".repeat(at.prefixFirst.length),st=ht+at.prefixRest;tt(at.block[0],rt);for(let vt=1;vt<at.block.length;vt++)o+=at.suffixRest,o+=st,tt(at.block[vt],st);o+=at.suffixLast}const ct=o.length;if(_e===void 0){const rt=new Map;rt.set(ht.length,[ut,ct]),g.set(at,rt)}else _e.set(ht.length,[ut,ct])}return tt(a,`
`),o}return stringify$1.lineTreeToString=c,stringify$1}var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.SetPropertyError=errors.GetInheritedPropertyError=errors.GetPropertyError=errors.ConstAssignment=errors.VariableRedeclaration=errors.InvalidNumberOfArguments=errors.UnassignedVariable=errors.UndefinedVariable=errors.CallingNonFunctionValue=errors.MaximumStackLimitExceeded=errors.ExceptionError=errors.InterruptedError=void 0;const e=astring,s=types,i=requireStringify(),d=runtimeSourceError;class ft extends d.RuntimeSourceError{constructor(ht){super(ht)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}}errors.InterruptedError=ft;class ${constructor(ht,_e){this.error=ht,this.location=_e,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}}errors.ExceptionError=$;class it extends d.RuntimeSourceError{constructor(ht,_e){super(ht),this.calls=_e,this.customGenerator=Object.assign(Object.assign({},e.baseGenerator),{CallExpression(ut,ct){ct.write((0,e.generate)(ut.callee)),ct.write("(");const rt=ut.arguments.map(st=>(0,i.stringify)(st.value));ct.write(rt.join(", ")),ct.write(")")}})}explain(){const ht=_e=>(0,e.generate)(_e,{generator:this.customGenerator});return`Maximum call stack size exceeded
  `+this.calls.map(_e=>ht(_e)+"..").join("  ")}elaborate(){return"TODO"}}errors.MaximumStackLimitExceeded=it,it.MAX_CALLS_TO_SHOW=3;class nt extends d.RuntimeSourceError{constructor(ht,_e){super(_e),this.callee=ht,this.node=_e}explain(){return`Calling non-function value ${(0,i.stringify)(this.callee)}.`}elaborate(){const ht=this.callee,_e=(0,i.stringify)(ht);let ut="";ut=this.node.arguments.map(e.generate).join(", ");const rt=`Because ${_e} is not a function, you cannot run ${_e}(${ut}).`,st=`If you were planning to perform multiplication by ${_e}, you need to use the * operator.`;return Number.isFinite(ht)?`${rt} ${st}`:rt}}errors.CallingNonFunctionValue=nt;class _ extends d.RuntimeSourceError{constructor(ht,_e){super(_e),this.name=ht}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}}errors.UndefinedVariable=_;class b extends d.RuntimeSourceError{constructor(ht,_e){super(_e),this.name=ht}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}}errors.UnassignedVariable=b;class c extends d.RuntimeSourceError{constructor(ht,_e,ut,ct=!1){super(ht),this.expected=_e,this.got=ut,this.hasVarArgs=ct,this.calleeStr=(0,e.generate)(ht.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){const ht=this.calleeStr,_e=this.expected===1?"":"s";return`Try calling function ${ht} again, but with ${this.expected} argument${_e} instead. Remember that arguments are separated by a ',' (comma).`}}errors.InvalidNumberOfArguments=c;class a extends d.RuntimeSourceError{constructor(ht,_e,ut){super(ht),this.node=ht,this.name=_e,this.writable=ut}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(this.writable===!0){const ht=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let _e="";return this.node.type==="FunctionDeclaration"?_e="("+this.node.params.map(e.generate).join(",")+") => {...":this.node.type==="VariableDeclaration"&&(_e=(0,e.generate)(this.node.declarations[0].init)),`${ht} As such, you can just do

	${this.name} = ${_e};
`}else return this.writable===!1?`You will need to declare another variable, as ${this.name} is read-only.`:""}}errors.VariableRedeclaration=a;class o extends d.RuntimeSourceError{constructor(ht,_e){super(ht),this.name=_e}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}}errors.ConstAssignment=o;class h extends d.RuntimeSourceError{constructor(ht,_e,ut){super(ht),this.obj=_e,this.prop=ut}explain(){return`Cannot read property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetPropertyError=h;class g extends d.RuntimeSourceError{constructor(ht,_e,ut){super(ht),this.obj=_e,this.prop=ut,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=ht.loc}explain(){return`Cannot read inherited property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}errors.GetInheritedPropertyError=g;class tt extends d.RuntimeSourceError{constructor(ht,_e,ut){super(ht),this.obj=_e,this.prop=ut}explain(){return`Cannot assign property ${this.prop} of ${(0,i.stringify)(this.obj)}.`}elaborate(){return"TODO"}}return errors.SetPropertyError=tt,errors}var hasRequiredSchedulers;function requireSchedulers(){if(hasRequiredSchedulers)return schedulers;hasRequiredSchedulers=1,Object.defineProperty(schedulers,"__esModule",{value:!0}),schedulers.PreemptiveScheduler=schedulers.NonDetScheduler=schedulers.AsyncScheduler=void 0;const e=requireErrors(),s=inspector;class i{run(nt,_){return new Promise((b,c)=>{_.runtime.isRunning=!0;let a=nt.next();try{for(;!a.done;)a=nt.next(),_.runtime.break&&((0,s.saveState)(_,nt,this),a.done=!0)}catch{b({status:"error"})}finally{_.runtime.isRunning=!1}_.runtime.break?b({status:"suspended",it:nt,scheduler:this,context:_}):b({status:"finished",context:_,value:a.value})})}}schedulers.AsyncScheduler=i;class d{run(nt,_){return new Promise((b,c)=>{try{const a=nt.next();a.done?b({status:"finished",context:_,value:a.value}):b({status:"suspended-non-det",it:nt,scheduler:this,context:_,value:a.value})}catch(a){$(a,_),b({status:"error"})}finally{_.runtime.isRunning=!1}})}}schedulers.NonDetScheduler=d;class ft{constructor(nt){this.steps=nt}run(nt,_){return new Promise((b,c)=>{_.runtime.isRunning=!0;let a=!1,o=nt.next();const h=setInterval(()=>{let g=0;try{for(;!o.done&&g<this.steps;)g++,o=nt.next(),a=_.runtime.break&&_.runtime.debuggerOn,a&&(o.done=!0);(0,s.saveState)(_,nt,this)}catch(tt){$(tt,_),_.runtime.isRunning=!1,clearInterval(h),b({status:"error"})}o.done&&(_.runtime.isRunning=!1,clearInterval(h),b(a?{status:"suspended",it:nt,scheduler:this,context:_}:{status:"finished",context:_,value:o.value}))})})}}schedulers.PreemptiveScheduler=ft;function $(it,nt){if(/Maximum call stack/.test(it.toString())){const _=nt.runtime.environments,b=[];let c=0;for(let a=0;c<e.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&a<_.length;a++)_[a].callExpression&&(b.unshift(_[a].callExpression),c++);nt.errors.push(new e.MaximumStackLimitExceeded(nt.runtime.nodes[0],b))}}return schedulers}var lazyList_prelude={};Object.defineProperty(lazyList_prelude,"__esModule",{value:!0});lazyList_prelude.lazyListPrelude=void 0;lazyList_prelude.lazyListPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
    return is_pair(xs)
        ? (is_pair(ys) &&
           equal(head(xs), head(ys)) &&
           equal(tail(xs), tail(ys)))
        : is_null(xs)
        ? is_null(ys)
        : is_number(xs)
        ? (is_number(ys) && xs === ys)
        : is_string(xs)
        ? (is_string(ys) && xs === ys)
        :  xs === ys;
}

// returns the length of a given argument list
// assumes that the argument is a list

function length(xs) {
  return is_null(xs) ? 0 : 1 + length(tail(xs));
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function map(f, xs) {
  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));
}

// build_list takes a nonnegative integer n as first argument,
// and a function fun as second argument.
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function build_list(fun, n) {
  function build(i, fun, already_built) {
    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));
  }
  return build(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function list_to_string(xs) {
    return is_null(xs)
        ? "null"
        : is_pair(xs)
            ? "[" + list_to_string(head(xs)) + "," +
                list_to_string(tail(xs)) + "]"
            : stringify(xs);
}

// reverse reverses the argument, assumed to be a list

function reverse(xs) {
  function rev(original, reversed) {
    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));
  }
  return rev(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function append(xs, ys) {
  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function remove(v, xs) {
  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));
}

// Similar to remove, but removes all instances of v
// instead of just the first

function remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
    ? remove_all(v, tail(xs))
    : pair(head(xs), remove_all(v, tail(xs)));
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function filter(pred, xs) {
  return is_null(xs)
    ? xs
    : pred(head(xs))
    ? pair(head(xs), filter(pred, tail(xs)))
    : filter(pred, tail(xs));
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function enum_list(start, end) {
  const newStart = start + 1;
  return start > end ? null : pair(start, enum_list(newStart, end));
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  const rest = tail(xs);
  return n === 0 ? head(xs) : list_ref(rest, n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function accumulate(f, initial, xs) {
  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));
}
`;var list$1={},hasRequiredList;function requireList(){if(hasRequiredList)return list$1;hasRequiredList=1,Object.defineProperty(list$1,"__esModule",{value:!0}),list$1.rawDisplayList=list$1.set_tail=list$1.set_head=list$1.vector_to_list=list$1.list_to_vector=list$1.is_list=list$1.list=list$1.is_null=list$1.tail=list$1.head=list$1.is_pair=list$1.pair=void 0;const e=requireStringify();function s(g){return Array.isArray===void 0?g instanceof Array:Array.isArray(g)}function i(g,tt){return[g,tt]}list$1.pair=i;function d(g){return s(g)&&g.length===2}list$1.is_pair=d;function ft(g){if(d(g))return g[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+(0,e.stringify)(g))}list$1.head=ft;function $(g){if(d(g))return g[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+(0,e.stringify)(g))}list$1.tail=$;function it(g){return g===null}list$1.is_null=it;function nt(...g){let tt=null;for(let at=g.length-1;at>=0;at-=1)tt=i(g[at],tt);return tt}list$1.list=nt;function _(g){for(;d(g);)g=$(g);return it(g)}list$1.is_list=_;function b(g){const tt=[];for(;!it(g);)tt.push(ft(g)),g=$(g);return tt}list$1.list_to_vector=b;function c(g){return nt(...g)}list$1.vector_to_list=c;function a(g,tt){if(d(g)){g[0]=tt;return}else throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+(0,e.stringify)(g))}list$1.set_head=a;function o(g,tt){if(d(g)){g[1]=tt;return}else throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+(0,e.stringify)(g))}list$1.set_tail=o;function h(g,tt,at){const ht=new Set,_e=new Map;class ut{constructor(ot){this.replPrefix="list(",this.replSuffix=")",this.listNode=ot}replArrayContents(){const ot=[];let et=this.listNode;for(;et!==null;)ot.push(ft(et)),et=$(et);return ot}}function ct(vt){return _e.get(vt)||vt}const rt=[];let st=0;for(rt.push(tt);st<rt.length;){const vt=rt[st];st++,!ht.has(vt)&&(ht.add(vt),d(vt)&&rt.push(ft(vt),$(vt)))}for(;rt.length>0;){const vt=rt.pop();if(!d(vt))continue;const ot=ft(vt),et=$(vt),lt=ct(et),mt=it(lt)||lt instanceof ut?new ut(i(ot,et)):i(ot,et);_e.set(vt,mt)}for(const vt of _e.values())if(d(vt))a(vt,ct(ft(vt))),o(vt,ct($(vt)));else if(vt instanceof ut){a(vt.listNode,ct(ft(vt.listNode)));let ot=ct($(vt.listNode));ot instanceof ut&&(ot=ot.listNode),o(vt.listNode,ot)}return g(ct(tt),at),tt}return list$1.rawDisplayList=h,list$1}var list_prelude={};Object.defineProperty(list_prelude,"__esModule",{value:!0});list_prelude.listPrelude=void 0;list_prelude.listPrelude=`

// equal computes the structural equality
// over its arguments

function equal(xs, ys) {
  return is_pair(xs)
  ? (is_pair(ys) &&
    equal(head(xs), head(ys)) &&
    equal(tail(xs), tail(ys)))
  : is_null(xs)
  ? is_null(ys)
  : is_number(xs)
  ? (is_number(ys) && xs === ys)
  : is_boolean(xs)
  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))
  : is_string(xs)
  ? (is_string(ys) && xs === ys)
  : is_undefined(xs)
  ? is_undefined(ys)
  : is_function(xs)
    // we know now that xs is a function,
    // but we use an if check anyway to make use of the type predicate
  ? (is_function(ys) && xs === ys)
  : false;
}


// returns the length of a given argument list
// assumes that the argument is a list

function $length(xs, acc) {
    return is_null(xs) ? acc : $length(tail(xs), acc + 1);
}
function length(xs) {
  return $length(xs, 0);
}

// map applies first arg f, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// f is applied element-by-element:
// map(f, list(1, 2)) results in list(f(1), f(2))

function $map(f, xs, acc) {
    return is_null(xs)
           ? reverse(acc)
           : $map(f, tail(xs), pair(f(head(xs)), acc));
}
function map(f, xs) {
    return $map(f, xs, null);
}

// build_list takes a a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_list returns a list of n elements, that results from
// applying fun to the numbers from 0 to n-1.

function $build_list(i, fun, already_built) {
    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));
}

function build_list(fun, n) {
  return $build_list(n - 1, fun, null);
}

// for_each applies first arg fun, assumed to be a unary function,
// to the elements of the second argument, assumed to be a list.
// fun is applied element-by-element:
// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).
// for_each returns true.

function for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return for_each(fun, tail(xs));
  }
}

// list_to_string returns a string that represents the argument list.
// It applies itself recursively on the elements of the given list.
// When it encounters a non-list, it applies to_string to it.

function $list_to_string(xs, cont) {
    return is_null(xs)
        ? cont("null")
        : is_pair(xs)
        ? $list_to_string(
              head(xs),
              x => $list_to_string(
                       tail(xs),
                       y => cont("[" + x + "," + y + "]")))
        : cont(stringify(xs));
}

function list_to_string(xs) {
    return $list_to_string(xs, x => x);
}

// reverse reverses the argument, assumed to be a list

function $reverse(original, reversed) {
    return is_null(original)
           ? reversed
           : $reverse(tail(original), pair(head(original), reversed));
}

function reverse(xs) {
    return $reverse(xs, null);
}

// append first argument, assumed to be a list, to the second argument.
// In the result null at the end of the first argument list
// is replaced by the second argument, regardless what the second
// argument consists of.

function $append(xs, ys, cont) {
    return is_null(xs)
           ? cont(ys)
           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));
}

function append(xs, ys) {
    return $append(xs, ys, xs => xs);
}

// member looks for a given first-argument element in the
// second argument, assumed to be a list. It returns the first
// postfix sublist that starts with the given element. It returns null if the
// element does not occur in the list

function member(v, xs) {
  return is_null(xs)
         ? null
	 : v === head(xs)
	 ? xs
	 : member(v, tail(xs));
}

// removes the first occurrence of a given first-argument element
// in second-argument, assmed to be a list. Returns the original
// list if there is no occurrence.

function $remove(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? app(rev(acc), tail(xs))
         : $remove(v, tail(xs), pair(head(xs), acc));
}

function remove(v, xs) {
    return $remove(v, xs, null);
}

// Similar to remove, but removes all instances of v
// instead of just the first

function $remove_all(v, xs, acc) {
  // Ensure that typechecking of append and reverse are done independently
  const app = append;
  const rev = reverse;
  return is_null(xs)
         ? app(rev(acc), xs)
         : v === head(xs)
         ? $remove_all(v, tail(xs), acc)
         : $remove_all(v, tail(xs), pair(head(xs), acc));
}

function remove_all(v, xs) {
    return $remove_all(v, xs, null);
}

// filter returns the sublist of elements of the second argument
// (assumed to be a list), for which the given predicate function
// returns true.

function $filter(pred, xs, acc) {
  return is_null(xs)
    ? reverse(acc)
    : pred(head(xs))
    ? $filter(pred, tail(xs), pair(head(xs), acc))
    : $filter(pred, tail(xs), acc);
}

function filter(pred, xs) {
    return $filter(pred, xs, null);
}

// enumerates numbers starting from start, assumed to be a number,
// using a step size of 1, until the number exceeds end, assumed
// to be a number

function $enum_list(start, end, acc) {
  // Ensure that typechecking of reverse are done independently
  const rev = reverse;
  return start > end
         ? rev(acc)
         : $enum_list(start + 1, end, pair(start, acc));
}

function enum_list(start, end) {
    return $enum_list(start, end, null);
}

// Returns the item in xs (assumed to be a list) at index n,
// assumed to be a nonnegative integer.
// Note: the first item is at position 0

function list_ref(xs, n) {
  return n === 0
         ? head(xs)
         : list_ref(tail(xs), n - 1);
}

// accumulate applies an operation op (assumed to be a binary function)
// to elements of sequence (assumed to be a list) in a right-to-left order.
// first apply op to the last element and initial, resulting in r1, then to
// the  second-last element and r1, resulting in r2, etc, and finally
// to the first element and r_n-1, where n is the length of the
// list.
// accumulate(op, zero, list(1, 2, 3)) results in
// op(1, op(2, op(3, zero)))

function $accumulate(f, initial, xs, cont) {
    return is_null(xs)
           ? cont(initial)
           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));
}

function accumulate(f, initial, xs) {
  return $accumulate(f, initial, xs, x => x);
}
`;var misc={},hasRequiredMisc;function requireMisc(){if(hasRequiredMisc)return misc;hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.get_time=misc.arity=misc.char_at=misc.parse_int=misc.array_length=misc.is_array=misc.has_own_property=misc.is_NaN=misc.is_function=misc.is_object=misc.is_boolean=misc.is_string=misc.is_undefined=misc.is_number=misc.timed=misc.error_message=misc.rawDisplay=void 0;const e=requireClosure(),s=requireStringify();function i(ut,ct,rt){return console.log((ct===void 0?"":ct+" ")+ut.toString()),ut}misc.rawDisplay=i;function d(ut,...ct){const rt=(ct[0]===void 0?"":ct[0]+" ")+(0,s.stringify)(ut);throw new Error(rt)}misc.error_message=d;function ft(ut,ct,rt,st){return(...vt)=>{const ot=_e(),et=ct(...vt),lt=_e()-ot;return st("Duration: "+Math.round(lt)+"ms","",rt),et}}misc.timed=ft;function $(ut){return typeof ut=="number"}misc.is_number=$;function it(ut){return typeof ut>"u"}misc.is_undefined=it;function nt(ut){return typeof ut=="string"}misc.is_string=nt;function _(ut){return typeof ut=="boolean"}misc.is_boolean=_;function b(ut){return typeof ut=="object"||c(ut)}misc.is_object=b;function c(ut){return typeof ut=="function"}misc.is_function=c;function a(ut){return $(ut)&&isNaN(ut)}misc.is_NaN=a;function o(ut,ct){return ut.hasOwnProperty(ct)}misc.has_own_property=o;function h(ut){return ut instanceof Array}misc.is_array=h;function g(ut){return ut.length}misc.array_length=g;function tt(ut,ct){if(typeof ut=="string"&&typeof ct=="number"&&Number.isInteger(ct)&&2<=ct&&ct<=36)return parseInt(ut,ct);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")}misc.parse_int=tt;function at(ut,ct){if(typeof ut!="string")throw new Error("char_at expects the first argument to be a string.");if(typeof ct!="number"||!Number.isInteger(ct)||ct<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return ut[ct]}misc.char_at=at;function ht(ut){var ct;if(ut instanceof e.default){const rt=ut.node.params;return((ct=rt[rt.length-1])===null||ct===void 0?void 0:ct.type)==="RestElement"?rt.length-1:rt.length}else{if(typeof ut=="function")return ut.length;throw new Error("arity expects a function as argument")}}misc.arity=ht;function _e(){return new Date().getTime()}return misc.get_time=_e,misc}var nonDet_prelude={};Object.defineProperty(nonDet_prelude,"__esModule",{value:!0});nonDet_prelude.nonDetPrelude=void 0;nonDet_prelude.nonDetPrelude=`
    function require(predicate) {
        return predicate ? "Satisfied require" : amb();
    }

    function an_element_of(items) {
        require(!is_null(items));
        return amb(head(items), an_element_of(tail(items)));
    }

    function an_integer_between(low, high) {
        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));
    }

    /* Material Conditional */
    /* if P, then Q */
    /* P --> Q */
    function implication(P, Q) {
        return !P || Q;
    }

    /* Material Biconditional */
    /* (if P, then Q) AND (if Q, then P) */
    /* P <--> Q */
    function bi_implication(P, Q) {
        return implication(P, Q) && implication(Q, P);
    }
`;var parser$1={},parser={},acornLoose={exports:{}};(function(e,s){(function(i,d){d(s,acorn.exports)})(commonjsGlobal,function(i,d){var ft="\u2716";function $(h){return h.name===ft}function it(){}var nt=function(g,tt){if(tt===void 0&&(tt={}),this.toks=this.constructor.BaseParser.tokenizer(g,tt),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:d.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=it,this.tok.validateRegExpPattern=it,this.options.locations){var at=this.toks.curPosition();this.tok.loc=new d.SourceLocation(this.toks,at,at)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};nt.prototype.startNode=function(){return new d.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},nt.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},nt.prototype.startNodeAt=function(g){return this.options.locations?new d.Node(this.toks,g[0],g[1]):new d.Node(this.toks,g)},nt.prototype.finishNode=function(g,tt){return g.type=tt,g.end=this.last.end,this.options.locations&&(g.loc.end=this.last.loc.end),this.options.ranges&&(g.range[1]=this.last.end),g},nt.prototype.dummyNode=function(g){var tt=this.startNode();return tt.type=g,tt.end=tt.start,this.options.locations&&(tt.loc.end=tt.loc.start),this.options.ranges&&(tt.range[1]=tt.start),this.last={type:d.tokTypes.name,start:tt.start,end:tt.start,loc:tt.loc},tt},nt.prototype.dummyIdent=function(){var g=this.dummyNode("Identifier");return g.name=ft,g},nt.prototype.dummyString=function(){var g=this.dummyNode("Literal");return g.value=g.raw=ft,g},nt.prototype.eat=function(g){return this.tok.type===g?(this.next(),!0):!1},nt.prototype.isContextual=function(g){return this.tok.type===d.tokTypes.name&&this.tok.value===g},nt.prototype.eatContextual=function(g){return this.tok.value===g&&this.eat(d.tokTypes.name)},nt.prototype.canInsertSemicolon=function(){return this.tok.type===d.tokTypes.eof||this.tok.type===d.tokTypes.braceR||d.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},nt.prototype.semicolon=function(){return this.eat(d.tokTypes.semi)},nt.prototype.expect=function(g){if(this.eat(g))return!0;for(var tt=1;tt<=2;tt++)if(this.lookAhead(tt).type===g){for(var at=0;at<tt;at++)this.next();return!0}},nt.prototype.pushCx=function(){this.context.push(this.curIndent)},nt.prototype.popCx=function(){this.curIndent=this.context.pop()},nt.prototype.lineEnd=function(g){for(;g<this.input.length&&!d.isNewLine(this.input.charCodeAt(g));)++g;return g},nt.prototype.indentationAfter=function(g){for(var tt=0;;++g){var at=this.input.charCodeAt(g);if(at===32)++tt;else if(at===9)tt+=this.options.tabSize;else return tt}},nt.prototype.closes=function(g,tt,at,ht){return this.tok.type===g||this.tok.type===d.tokTypes.eof?!0:at!==this.curLineStart&&this.curIndent<tt&&this.tokenStartsLine()&&(!ht||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<tt)},nt.prototype.tokenStartsLine=function(){for(var g=this.tok.start-1;g>=this.curLineStart;--g){var tt=this.input.charCodeAt(g);if(tt!==9&&tt!==32)return!1}return!0},nt.prototype.extend=function(g,tt){this[g]=tt(this[g])},nt.prototype.parse=function(){return this.next(),this.parseTopLevel()},nt.extend=function(){for(var g=[],tt=arguments.length;tt--;)g[tt]=arguments[tt];for(var at=this,ht=0;ht<g.length;ht++)at=g[ht](at);return at},nt.parse=function(g,tt){return new this(g,tt).parse()},nt.BaseParser=d.Parser;var _=nt.prototype;function b(h){return h<14&&h>8||h===32||h===160||d.isNewLine(h)}_.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},_.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===d.tokTypes.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=d.tokTypes.ellipsis),new d.Token(this.toks)}catch(_e){if(!(_e instanceof SyntaxError))throw _e;var h=_e.message,g=_e.raisedAt,tt=!0;if(/unterminated/i.test(h))if(g=this.lineEnd(_e.pos+1),/string/.test(h))tt={start:_e.pos,end:g,type:d.tokTypes.string,value:this.input.slice(_e.pos+1,g)};else if(/regular expr/i.test(h)){var at=this.input.slice(_e.pos,g);try{at=new RegExp(at)}catch{}tt={start:_e.pos,end:g,type:d.tokTypes.regexp,value:at}}else/template/.test(h)?tt={start:_e.pos,end:g,type:d.tokTypes.template,value:this.input.slice(_e.pos,g)}:tt=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(h))for(;g<this.input.length&&!b(this.input.charCodeAt(g));)++g;else if(/character escape|expected hexadecimal/i.test(h))for(;g<this.input.length;){var ht=this.input.charCodeAt(g++);if(ht===34||ht===39||d.isNewLine(ht))break}else if(/unexpected character/i.test(h))g++,tt=!1;else if(/regular expression/i.test(h))tt=!0;else throw _e;if(this.resetTo(g),tt===!0&&(tt={start:g,end:g,type:d.tokTypes.name,value:ft}),tt)return this.options.locations&&(tt.loc=new d.SourceLocation(this.toks,d.getLineInfo(this.input,tt.start),d.getLineInfo(this.input,tt.end))),tt}},_.resetTo=function(h){this.toks.pos=h;var g=this.input.charAt(h-1);if(this.toks.exprAllowed=!g||/[[{(,;:?/*=+\-~!|&%^<>]/.test(g)||/[enwfd]/.test(g)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(h-10,h)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=d.lineBreakG.lastIndex=0;for(var tt;(tt=d.lineBreakG.exec(this.input))&&tt.index<h;)++this.toks.curLine,this.toks.lineStart=tt.index+tt[0].length}},_.lookAhead=function(h){for(;h>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[h-1]};var c=nt.prototype;c.parseTopLevel=function(){var h=this.startNodeAt(this.options.locations?[0,d.getLineInfo(this.input,0)]:0);for(h.body=[];this.tok.type!==d.tokTypes.eof;)h.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(h.body),this.last=this.tok,h.sourceType=this.options.sourceType,this.finishNode(h,"Program")},c.parseStatement=function(){var h=this.tok.type,g=this.startNode(),tt;switch(this.toks.isLet()&&(h=d.tokTypes._var,tt="let"),h){case d.tokTypes._break:case d.tokTypes._continue:this.next();var at=h===d.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?g.label=null:(g.label=this.tok.type===d.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(g,at?"BreakStatement":"ContinueStatement");case d.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(g,"DebuggerStatement");case d.tokTypes._do:return this.next(),g.body=this.parseStatement(),g.test=this.eat(d.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(g,"DoWhileStatement");case d.tokTypes._for:this.next();var ht=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(d.tokTypes.parenL),this.tok.type===d.tokTypes.semi)return this.parseFor(g,null);var _e=this.toks.isLet();if(_e||this.tok.type===d.tokTypes._var||this.tok.type===d.tokTypes._const){var ut=this.parseVar(this.startNode(),!0,_e?"let":this.tok.value);return ut.declarations.length===1&&(this.tok.type===d.tokTypes._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==d.tokTypes._in&&(g.await=ht),this.parseForIn(g,ut)):this.parseFor(g,ut)}var ct=this.parseExpression(!0);return this.tok.type===d.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==d.tokTypes._in&&(g.await=ht),this.parseForIn(g,this.toAssignable(ct))):this.parseFor(g,ct);case d.tokTypes._function:return this.next(),this.parseFunction(g,!0);case d.tokTypes._if:return this.next(),g.test=this.parseParenExpression(),g.consequent=this.parseStatement(),g.alternate=this.eat(d.tokTypes._else)?this.parseStatement():null,this.finishNode(g,"IfStatement");case d.tokTypes._return:return this.next(),this.eat(d.tokTypes.semi)||this.canInsertSemicolon()?g.argument=null:(g.argument=this.parseExpression(),this.semicolon()),this.finishNode(g,"ReturnStatement");case d.tokTypes._switch:var rt=this.curIndent,st=this.curLineStart;this.next(),g.discriminant=this.parseParenExpression(),g.cases=[],this.pushCx(),this.expect(d.tokTypes.braceL);for(var vt;!this.closes(d.tokTypes.braceR,rt,st,!0);)if(this.tok.type===d.tokTypes._case||this.tok.type===d.tokTypes._default){var ot=this.tok.type===d.tokTypes._case;vt&&this.finishNode(vt,"SwitchCase"),g.cases.push(vt=this.startNode()),vt.consequent=[],this.next(),ot?vt.test=this.parseExpression():vt.test=null,this.expect(d.tokTypes.colon)}else vt||(g.cases.push(vt=this.startNode()),vt.consequent=[],vt.test=null),vt.consequent.push(this.parseStatement());return vt&&this.finishNode(vt,"SwitchCase"),this.popCx(),this.eat(d.tokTypes.braceR),this.finishNode(g,"SwitchStatement");case d.tokTypes._throw:return this.next(),g.argument=this.parseExpression(),this.semicolon(),this.finishNode(g,"ThrowStatement");case d.tokTypes._try:if(this.next(),g.block=this.parseBlock(),g.handler=null,this.tok.type===d.tokTypes._catch){var et=this.startNode();this.next(),this.eat(d.tokTypes.parenL)?(et.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(d.tokTypes.parenR)):et.param=null,et.body=this.parseBlock(),g.handler=this.finishNode(et,"CatchClause")}return g.finalizer=this.eat(d.tokTypes._finally)?this.parseBlock():null,!g.handler&&!g.finalizer?g.block:this.finishNode(g,"TryStatement");case d.tokTypes._var:case d.tokTypes._const:return this.parseVar(g,!1,tt||this.tok.value);case d.tokTypes._while:return this.next(),g.test=this.parseParenExpression(),g.body=this.parseStatement(),this.finishNode(g,"WhileStatement");case d.tokTypes._with:return this.next(),g.object=this.parseParenExpression(),g.body=this.parseStatement(),this.finishNode(g,"WithStatement");case d.tokTypes.braceL:return this.parseBlock();case d.tokTypes.semi:return this.next(),this.finishNode(g,"EmptyStatement");case d.tokTypes._class:return this.parseClass(!0);case d.tokTypes._import:if(this.options.ecmaVersion>10){var lt=this.lookAhead(1).type;if(lt===d.tokTypes.parenL||lt===d.tokTypes.dot)return g.expression=this.parseExpression(),this.semicolon(),this.finishNode(g,"ExpressionStatement")}return this.parseImport();case d.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(g,!0,!0);var mt=this.parseExpression();return $(mt)?(this.next(),this.tok.type===d.tokTypes.eof?this.finishNode(g,"EmptyStatement"):this.parseStatement()):h===d.tokTypes.name&&mt.type==="Identifier"&&this.eat(d.tokTypes.colon)?(g.body=this.parseStatement(),g.label=mt,this.finishNode(g,"LabeledStatement")):(g.expression=mt,this.semicolon(),this.finishNode(g,"ExpressionStatement"))}},c.parseBlock=function(){var h=this.startNode();this.pushCx(),this.expect(d.tokTypes.braceL);var g=this.curIndent,tt=this.curLineStart;for(h.body=[];!this.closes(d.tokTypes.braceR,g,tt,!0);)h.body.push(this.parseStatement());return this.popCx(),this.eat(d.tokTypes.braceR),this.finishNode(h,"BlockStatement")},c.parseFor=function(h,g){return h.init=g,h.test=h.update=null,this.eat(d.tokTypes.semi)&&this.tok.type!==d.tokTypes.semi&&(h.test=this.parseExpression()),this.eat(d.tokTypes.semi)&&this.tok.type!==d.tokTypes.parenR&&(h.update=this.parseExpression()),this.popCx(),this.expect(d.tokTypes.parenR),h.body=this.parseStatement(),this.finishNode(h,"ForStatement")},c.parseForIn=function(h,g){var tt=this.tok.type===d.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),h.left=g,h.right=this.parseExpression(),this.popCx(),this.expect(d.tokTypes.parenR),h.body=this.parseStatement(),this.finishNode(h,tt)},c.parseVar=function(h,g,tt){h.kind=tt,this.next(),h.declarations=[];do{var at=this.startNode();at.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),at.init=this.eat(d.tokTypes.eq)?this.parseMaybeAssign(g):null,h.declarations.push(this.finishNode(at,"VariableDeclarator"))}while(this.eat(d.tokTypes.comma));if(!h.declarations.length){var ht=this.startNode();ht.id=this.dummyIdent(),h.declarations.push(this.finishNode(ht,"VariableDeclarator"))}return g||this.semicolon(),this.finishNode(h,"VariableDeclaration")},c.parseClass=function(h){var g=this.startNode();this.next(),this.tok.type===d.tokTypes.name?g.id=this.parseIdent():h===!0?g.id=this.dummyIdent():g.id=null,g.superClass=this.eat(d.tokTypes._extends)?this.parseExpression():null,g.body=this.startNode(),g.body.body=[],this.pushCx();var tt=this.curIndent+1,at=this.curLineStart;for(this.eat(d.tokTypes.braceL),this.curIndent+1<tt&&(tt=this.curIndent,at=this.curLineStart);!this.closes(d.tokTypes.braceR,tt,at);){var ht=this.parseClassElement();ht&&g.body.body.push(ht)}return this.popCx(),this.eat(d.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(g.body,"ClassBody"),this.finishNode(g,h?"ClassDeclaration":"ClassExpression")},c.parseClassElement=function(){if(this.eat(d.tokTypes.semi))return null;var h=this.options,g=h.ecmaVersion,tt=h.locations,at=this.curIndent,ht=this.curLineStart,_e=this.startNode(),ut="",ct=!1,rt=!1,st="method",vt=!1;if(this.eatContextual("static")){if(g>=13&&this.eat(d.tokTypes.braceL))return this.parseClassStaticBlock(_e),_e;this.isClassElementNameStart()||this.toks.type===d.tokTypes.star?vt=!0:ut="static"}if(_e.static=vt,!ut&&g>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===d.tokTypes.star)&&!this.canInsertSemicolon()?rt=!0:ut="async"),!ut){ct=this.eat(d.tokTypes.star);var ot=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?st=ot:ut=ot)}if(ut)_e.computed=!1,_e.key=this.startNodeAt(tt?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),_e.key.name=ut,this.finishNode(_e.key,"Identifier");else if(this.parseClassElementName(_e),$(_e.key))return $(this.parseMaybeAssign())&&this.next(),this.eat(d.tokTypes.comma),null;if(g<13||this.toks.type===d.tokTypes.parenL||st!=="method"||ct||rt){var et=!_e.computed&&!_e.static&&!ct&&!rt&&st==="method"&&(_e.key.type==="Identifier"&&_e.key.name==="constructor"||_e.key.type==="Literal"&&_e.key.value==="constructor");_e.kind=et?"constructor":st,_e.value=this.parseMethod(ct,rt),this.finishNode(_e,"MethodDefinition")}else{if(this.eat(d.tokTypes.eq))if(this.curLineStart!==ht&&this.curIndent<=at&&this.tokenStartsLine())_e.value=null;else{var lt=this.inAsync,mt=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,_e.value=this.parseMaybeAssign(),this.inAsync=lt,this.inGenerator=mt}else _e.value=null;this.semicolon(),this.finishNode(_e,"PropertyDefinition")}return _e},c.parseClassStaticBlock=function(h){var g=this.curIndent,tt=this.curLineStart;for(h.body=[],this.pushCx();!this.closes(d.tokTypes.braceR,g,tt,!0);)h.body.push(this.parseStatement());return this.popCx(),this.eat(d.tokTypes.braceR),this.finishNode(h,"StaticBlock")},c.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},c.parseClassElementName=function(h){this.toks.type===d.tokTypes.privateId?(h.computed=!1,h.key=this.parsePrivateIdent()):this.parsePropertyName(h)},c.parseFunction=function(h,g,tt){var at=this.inAsync,ht=this.inGenerator,_e=this.inFunction;return this.initFunction(h),this.options.ecmaVersion>=6&&(h.generator=this.eat(d.tokTypes.star)),this.options.ecmaVersion>=8&&(h.async=!!tt),this.tok.type===d.tokTypes.name?h.id=this.parseIdent():g===!0&&(h.id=this.dummyIdent()),this.inAsync=h.async,this.inGenerator=h.generator,this.inFunction=!0,h.params=this.parseFunctionParams(),h.body=this.parseBlock(),this.toks.adaptDirectivePrologue(h.body.body),this.inAsync=at,this.inGenerator=ht,this.inFunction=_e,this.finishNode(h,g?"FunctionDeclaration":"FunctionExpression")},c.parseExport=function(){var h=this.startNode();if(this.next(),this.eat(d.tokTypes.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?h.exported=this.parseExprAtom():h.exported=null),h.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(h,"ExportAllDeclaration");if(this.eat(d.tokTypes._default)){var g;if(this.tok.type===d.tokTypes._function||(g=this.toks.isAsyncFunction())){var tt=this.startNode();this.next(),g&&this.next(),h.declaration=this.parseFunction(tt,"nullableID",g)}else this.tok.type===d.tokTypes._class?h.declaration=this.parseClass("nullableID"):(h.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(h,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(h.declaration=this.parseStatement(),h.specifiers=[],h.source=null):(h.declaration=null,h.specifiers=this.parseExportSpecifierList(),h.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(h,"ExportNamedDeclaration")},c.parseImport=function(){var h=this.startNode();if(this.next(),this.tok.type===d.tokTypes.string)h.specifiers=[],h.source=this.parseExprAtom();else{var g;this.tok.type===d.tokTypes.name&&this.tok.value!=="from"&&(g=this.startNode(),g.local=this.parseIdent(),this.finishNode(g,"ImportDefaultSpecifier"),this.eat(d.tokTypes.comma)),h.specifiers=this.parseImportSpecifiers(),h.source=this.eatContextual("from")&&this.tok.type===d.tokTypes.string?this.parseExprAtom():this.dummyString(),g&&h.specifiers.unshift(g)}return this.semicolon(),this.finishNode(h,"ImportDeclaration")},c.parseImportSpecifiers=function(){var h=[];if(this.tok.type===d.tokTypes.star){var g=this.startNode();this.next(),g.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),h.push(this.finishNode(g,"ImportNamespaceSpecifier"))}else{var tt=this.curIndent,at=this.curLineStart,ht=this.nextLineStart;for(this.pushCx(),this.eat(d.tokTypes.braceL),this.curLineStart>ht&&(ht=this.curLineStart);!this.closes(d.tokTypes.braceR,tt+(this.curLineStart<=ht?1:0),at);){var _e=this.startNode();if(this.eat(d.tokTypes.star))_e.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(_e,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(_e.imported=this.parseModuleExportName(),$(_e.imported)))break;_e.local=this.eatContextual("as")?this.parseModuleExportName():_e.imported,this.finishNode(_e,"ImportSpecifier")}h.push(_e),this.eat(d.tokTypes.comma)}this.eat(d.tokTypes.braceR),this.popCx()}return h},c.parseExportSpecifierList=function(){var h=[],g=this.curIndent,tt=this.curLineStart,at=this.nextLineStart;for(this.pushCx(),this.eat(d.tokTypes.braceL),this.curLineStart>at&&(at=this.curLineStart);!this.closes(d.tokTypes.braceR,g+(this.curLineStart<=at?1:0),tt)&&!this.isContextual("from");){var ht=this.startNode();if(ht.local=this.parseModuleExportName(),$(ht.local))break;ht.exported=this.eatContextual("as")?this.parseModuleExportName():ht.local,this.finishNode(ht,"ExportSpecifier"),h.push(ht),this.eat(d.tokTypes.comma)}return this.eat(d.tokTypes.braceR),this.popCx(),h},c.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===d.tokTypes.string?this.parseExprAtom():this.parseIdent()};var a=nt.prototype;a.checkLVal=function(h){if(!h)return h;switch(h.type){case"Identifier":case"MemberExpression":return h;case"ParenthesizedExpression":return h.expression=this.checkLVal(h.expression),h;default:return this.dummyIdent()}},a.parseExpression=function(h){var g=this.storeCurrentPos(),tt=this.parseMaybeAssign(h);if(this.tok.type===d.tokTypes.comma){var at=this.startNodeAt(g);for(at.expressions=[tt];this.eat(d.tokTypes.comma);)at.expressions.push(this.parseMaybeAssign(h));return this.finishNode(at,"SequenceExpression")}return tt},a.parseParenExpression=function(){this.pushCx(),this.expect(d.tokTypes.parenL);var h=this.parseExpression();return this.popCx(),this.expect(d.tokTypes.parenR),h},a.parseMaybeAssign=function(h){if(this.inGenerator&&this.toks.isContextual("yield")){var g=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==d.tokTypes.star&&!this.tok.type.startsExpr?(g.delegate=!1,g.argument=null):(g.delegate=this.eat(d.tokTypes.star),g.argument=this.parseMaybeAssign()),this.finishNode(g,"YieldExpression")}var tt=this.storeCurrentPos(),at=this.parseMaybeConditional(h);if(this.tok.type.isAssign){var ht=this.startNodeAt(tt);return ht.operator=this.tok.value,ht.left=this.tok.type===d.tokTypes.eq?this.toAssignable(at):this.checkLVal(at),this.next(),ht.right=this.parseMaybeAssign(h),this.finishNode(ht,"AssignmentExpression")}return at},a.parseMaybeConditional=function(h){var g=this.storeCurrentPos(),tt=this.parseExprOps(h);if(this.eat(d.tokTypes.question)){var at=this.startNodeAt(g);return at.test=tt,at.consequent=this.parseMaybeAssign(),at.alternate=this.expect(d.tokTypes.colon)?this.parseMaybeAssign(h):this.dummyIdent(),this.finishNode(at,"ConditionalExpression")}return tt},a.parseExprOps=function(h){var g=this.storeCurrentPos(),tt=this.curIndent,at=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),g,-1,h,tt,at)},a.parseExprOp=function(h,g,tt,at,ht,_e){if(this.curLineStart!==_e&&this.curIndent<ht&&this.tokenStartsLine())return h;var ut=this.tok.type.binop;if(ut!=null&&(!at||this.tok.type!==d.tokTypes._in)&&ut>tt){var ct=this.startNodeAt(g);if(ct.left=h,ct.operator=this.tok.value,this.next(),this.curLineStart!==_e&&this.curIndent<ht&&this.tokenStartsLine())ct.right=this.dummyIdent();else{var rt=this.storeCurrentPos();ct.right=this.parseExprOp(this.parseMaybeUnary(!1),rt,ut,at,ht,_e)}return this.finishNode(ct,/&&|\|\||\?\?/.test(ct.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(ct,g,tt,at,ht,_e)}return h},a.parseMaybeUnary=function(h){var g=this.storeCurrentPos(),tt;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))tt=this.parseAwait(),h=!0;else if(this.tok.type.prefix){var at=this.startNode(),ht=this.tok.type===d.tokTypes.incDec;ht||(h=!0),at.operator=this.tok.value,at.prefix=!0,this.next(),at.argument=this.parseMaybeUnary(!0),ht&&(at.argument=this.checkLVal(at.argument)),tt=this.finishNode(at,ht?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===d.tokTypes.ellipsis){var _e=this.startNode();this.next(),_e.argument=this.parseMaybeUnary(h),tt=this.finishNode(_e,"SpreadElement")}else if(!h&&this.tok.type===d.tokTypes.privateId)tt=this.parsePrivateIdent();else for(tt=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var ut=this.startNodeAt(g);ut.operator=this.tok.value,ut.prefix=!1,ut.argument=this.checkLVal(tt),this.next(),tt=this.finishNode(ut,"UpdateExpression")}if(!h&&this.eat(d.tokTypes.starstar)){var ct=this.startNodeAt(g);return ct.operator="**",ct.left=tt,ct.right=this.parseMaybeUnary(!1),this.finishNode(ct,"BinaryExpression")}return tt},a.parseExprSubscripts=function(){var h=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),h,!1,this.curIndent,this.curLineStart)},a.parseSubscripts=function(h,g,tt,at,ht){for(var _e=this.options.ecmaVersion>=11,ut=!1;;){if(this.curLineStart!==ht&&this.curIndent<=at&&this.tokenStartsLine())if(this.tok.type===d.tokTypes.dot&&this.curIndent===at)--at;else break;var ct=h.type==="Identifier"&&h.name==="async"&&!this.canInsertSemicolon(),rt=_e&&this.eat(d.tokTypes.questionDot);if(rt&&(ut=!0),rt&&this.tok.type!==d.tokTypes.parenL&&this.tok.type!==d.tokTypes.bracketL&&this.tok.type!==d.tokTypes.backQuote||this.eat(d.tokTypes.dot)){var st=this.startNodeAt(g);st.object=h,this.curLineStart!==ht&&this.curIndent<=at&&this.tokenStartsLine()?st.property=this.dummyIdent():st.property=this.parsePropertyAccessor()||this.dummyIdent(),st.computed=!1,_e&&(st.optional=rt),h=this.finishNode(st,"MemberExpression")}else if(this.tok.type===d.tokTypes.bracketL){this.pushCx(),this.next();var vt=this.startNodeAt(g);vt.object=h,vt.property=this.parseExpression(),vt.computed=!0,_e&&(vt.optional=rt),this.popCx(),this.expect(d.tokTypes.bracketR),h=this.finishNode(vt,"MemberExpression")}else if(!tt&&this.tok.type===d.tokTypes.parenL){var ot=this.parseExprList(d.tokTypes.parenR);if(ct&&this.eat(d.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(g),ot,!0);var et=this.startNodeAt(g);et.callee=h,et.arguments=ot,_e&&(et.optional=rt),h=this.finishNode(et,"CallExpression")}else if(this.tok.type===d.tokTypes.backQuote){var lt=this.startNodeAt(g);lt.tag=h,lt.quasi=this.parseTemplate(),h=this.finishNode(lt,"TaggedTemplateExpression")}else break}if(ut){var mt=this.startNodeAt(g);mt.expression=h,h=this.finishNode(mt,"ChainExpression")}return h},a.parseExprAtom=function(){var h;switch(this.tok.type){case d.tokTypes._this:case d.tokTypes._super:var g=this.tok.type===d.tokTypes._this?"ThisExpression":"Super";return h=this.startNode(),this.next(),this.finishNode(h,g);case d.tokTypes.name:var tt=this.storeCurrentPos(),at=this.parseIdent(),ht=!1;if(at.name==="async"&&!this.canInsertSemicolon()){if(this.eat(d.tokTypes._function))return this.toks.overrideContext(d.tokContexts.f_expr),this.parseFunction(this.startNodeAt(tt),!1,!0);this.tok.type===d.tokTypes.name&&(at=this.parseIdent(),ht=!0)}return this.eat(d.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(tt),[at],ht):at;case d.tokTypes.regexp:h=this.startNode();var _e=this.tok.value;return h.regex={pattern:_e.pattern,flags:_e.flags},h.value=_e.value,h.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(h,"Literal");case d.tokTypes.num:case d.tokTypes.string:return h=this.startNode(),h.value=this.tok.value,h.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===d.tokTypes.num&&h.raw.charCodeAt(h.raw.length-1)===110&&(h.bigint=h.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(h,"Literal");case d.tokTypes._null:case d.tokTypes._true:case d.tokTypes._false:return h=this.startNode(),h.value=this.tok.type===d.tokTypes._null?null:this.tok.type===d.tokTypes._true,h.raw=this.tok.type.keyword,this.next(),this.finishNode(h,"Literal");case d.tokTypes.parenL:var ut=this.storeCurrentPos();this.next();var ct=this.parseExpression();if(this.expect(d.tokTypes.parenR),this.eat(d.tokTypes.arrow)){var rt=ct.expressions||[ct];return rt.length&&$(rt[rt.length-1])&&rt.pop(),this.parseArrowExpression(this.startNodeAt(ut),rt)}if(this.options.preserveParens){var st=this.startNodeAt(ut);st.expression=ct,ct=this.finishNode(st,"ParenthesizedExpression")}return ct;case d.tokTypes.bracketL:return h=this.startNode(),h.elements=this.parseExprList(d.tokTypes.bracketR,!0),this.finishNode(h,"ArrayExpression");case d.tokTypes.braceL:return this.toks.overrideContext(d.tokContexts.b_expr),this.parseObj();case d.tokTypes._class:return this.parseClass(!1);case d.tokTypes._function:return h=this.startNode(),this.next(),this.parseFunction(h,!1);case d.tokTypes._new:return this.parseNew();case d.tokTypes.backQuote:return this.parseTemplate();case d.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},a.parseExprImport=function(){var h=this.startNode(),g=this.parseIdent(!0);switch(this.tok.type){case d.tokTypes.parenL:return this.parseDynamicImport(h);case d.tokTypes.dot:return h.meta=g,this.parseImportMeta(h);default:return h.name="import",this.finishNode(h,"Identifier")}},a.parseDynamicImport=function(h){return h.source=this.parseExprList(d.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(h,"ImportExpression")},a.parseImportMeta=function(h){return this.next(),h.property=this.parseIdent(!0),this.finishNode(h,"MetaProperty")},a.parseNew=function(){var h=this.startNode(),g=this.curIndent,tt=this.curLineStart,at=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(d.tokTypes.dot))return h.meta=at,h.property=this.parseIdent(!0),this.finishNode(h,"MetaProperty");var ht=this.storeCurrentPos();return h.callee=this.parseSubscripts(this.parseExprAtom(),ht,!0,g,tt),this.tok.type===d.tokTypes.parenL?h.arguments=this.parseExprList(d.tokTypes.parenR):h.arguments=[],this.finishNode(h,"NewExpression")},a.parseTemplateElement=function(){var h=this.startNode();return this.tok.type===d.tokTypes.invalidTemplate?h.value={raw:this.tok.value,cooked:null}:h.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),h.tail=this.tok.type===d.tokTypes.backQuote,this.finishNode(h,"TemplateElement")},a.parseTemplate=function(){var h=this.startNode();this.next(),h.expressions=[];var g=this.parseTemplateElement();for(h.quasis=[g];!g.tail;)this.next(),h.expressions.push(this.parseExpression()),this.expect(d.tokTypes.braceR)?g=this.parseTemplateElement():(g=this.startNode(),g.value={cooked:"",raw:""},g.tail=!0,this.finishNode(g,"TemplateElement")),h.quasis.push(g);return this.expect(d.tokTypes.backQuote),this.finishNode(h,"TemplateLiteral")},a.parseObj=function(){var h=this.startNode();h.properties=[],this.pushCx();var g=this.curIndent+1,tt=this.curLineStart;for(this.eat(d.tokTypes.braceL),this.curIndent+1<g&&(g=this.curIndent,tt=this.curLineStart);!this.closes(d.tokTypes.braceR,g,tt);){var at=this.startNode(),ht=void 0,_e=void 0,ut=void 0;if(this.options.ecmaVersion>=9&&this.eat(d.tokTypes.ellipsis)){at.argument=this.parseMaybeAssign(),h.properties.push(this.finishNode(at,"SpreadElement")),this.eat(d.tokTypes.comma);continue}if(this.options.ecmaVersion>=6&&(ut=this.storeCurrentPos(),at.method=!1,at.shorthand=!1,ht=this.eat(d.tokTypes.star)),this.parsePropertyName(at),this.toks.isAsyncProp(at)?(_e=!0,ht=this.options.ecmaVersion>=9&&this.eat(d.tokTypes.star),this.parsePropertyName(at)):_e=!1,$(at.key)){$(this.parseMaybeAssign())&&this.next(),this.eat(d.tokTypes.comma);continue}if(this.eat(d.tokTypes.colon))at.kind="init",at.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===d.tokTypes.parenL||this.tok.type===d.tokTypes.braceL))at.kind="init",at.method=!0,at.value=this.parseMethod(ht,_e);else if(this.options.ecmaVersion>=5&&at.key.type==="Identifier"&&!at.computed&&(at.key.name==="get"||at.key.name==="set")&&this.tok.type!==d.tokTypes.comma&&this.tok.type!==d.tokTypes.braceR&&this.tok.type!==d.tokTypes.eq)at.kind=at.key.name,this.parsePropertyName(at),at.value=this.parseMethod(!1);else{if(at.kind="init",this.options.ecmaVersion>=6)if(this.eat(d.tokTypes.eq)){var ct=this.startNodeAt(ut);ct.operator="=",ct.left=at.key,ct.right=this.parseMaybeAssign(),at.value=this.finishNode(ct,"AssignmentExpression")}else at.value=at.key;else at.value=this.dummyIdent();at.shorthand=!0}h.properties.push(this.finishNode(at,"Property")),this.eat(d.tokTypes.comma)}return this.popCx(),this.eat(d.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(h,"ObjectExpression")},a.parsePropertyName=function(h){if(this.options.ecmaVersion>=6)if(this.eat(d.tokTypes.bracketL)){h.computed=!0,h.key=this.parseExpression(),this.expect(d.tokTypes.bracketR);return}else h.computed=!1;var g=this.tok.type===d.tokTypes.num||this.tok.type===d.tokTypes.string?this.parseExprAtom():this.parseIdent();h.key=g||this.dummyIdent()},a.parsePropertyAccessor=function(){if(this.tok.type===d.tokTypes.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===d.tokTypes.privateId)return this.parsePrivateIdent()},a.parseIdent=function(){var h=this.tok.type===d.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!h)return this.dummyIdent();var g=this.startNode();return this.next(),g.name=h,this.finishNode(g,"Identifier")},a.parsePrivateIdent=function(){var h=this.startNode();return h.name=this.tok.value,this.next(),this.finishNode(h,"PrivateIdentifier")},a.initFunction=function(h){h.id=null,h.params=[],this.options.ecmaVersion>=6&&(h.generator=!1,h.expression=!1),this.options.ecmaVersion>=8&&(h.async=!1)},a.toAssignable=function(h,g){if(!(!h||h.type==="Identifier"||h.type==="MemberExpression"&&!g))if(h.type==="ParenthesizedExpression")this.toAssignable(h.expression,g);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(h.type==="ObjectExpression"){h.type="ObjectPattern";for(var tt=0,at=h.properties;tt<at.length;tt+=1){var ht=at[tt];this.toAssignable(ht,g)}}else if(h.type==="ArrayExpression")h.type="ArrayPattern",this.toAssignableList(h.elements,g);else if(h.type==="Property")this.toAssignable(h.value,g);else if(h.type==="SpreadElement")h.type="RestElement",this.toAssignable(h.argument,g);else if(h.type==="AssignmentExpression")h.type="AssignmentPattern",delete h.operator;else return this.dummyIdent()}return h},a.toAssignableList=function(h,g){for(var tt=0,at=h;tt<at.length;tt+=1){var ht=at[tt];this.toAssignable(ht,g)}return h},a.parseFunctionParams=function(h){return h=this.parseExprList(d.tokTypes.parenR),this.toAssignableList(h,!0)},a.parseMethod=function(h,g){var tt=this.startNode(),at=this.inAsync,ht=this.inGenerator,_e=this.inFunction;return this.initFunction(tt),this.options.ecmaVersion>=6&&(tt.generator=!!h),this.options.ecmaVersion>=8&&(tt.async=!!g),this.inAsync=tt.async,this.inGenerator=tt.generator,this.inFunction=!0,tt.params=this.parseFunctionParams(),tt.body=this.parseBlock(),this.toks.adaptDirectivePrologue(tt.body.body),this.inAsync=at,this.inGenerator=ht,this.inFunction=_e,this.finishNode(tt,"FunctionExpression")},a.parseArrowExpression=function(h,g,tt){var at=this.inAsync,ht=this.inGenerator,_e=this.inFunction;return this.initFunction(h),this.options.ecmaVersion>=8&&(h.async=!!tt),this.inAsync=h.async,this.inGenerator=!1,this.inFunction=!0,h.params=this.toAssignableList(g,!0),h.expression=this.tok.type!==d.tokTypes.braceL,h.expression?h.body=this.parseMaybeAssign():(h.body=this.parseBlock(),this.toks.adaptDirectivePrologue(h.body.body)),this.inAsync=at,this.inGenerator=ht,this.inFunction=_e,this.finishNode(h,"ArrowFunctionExpression")},a.parseExprList=function(h,g){this.pushCx();var tt=this.curIndent,at=this.curLineStart,ht=[];for(this.next();!this.closes(h,tt+1,at);){if(this.eat(d.tokTypes.comma)){ht.push(g?null:this.dummyIdent());continue}var _e=this.parseMaybeAssign();if($(_e)){if(this.closes(h,tt,at))break;this.next()}else ht.push(_e);this.eat(d.tokTypes.comma)}return this.popCx(),this.eat(h)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),ht},a.parseAwait=function(){var h=this.startNode();return this.next(),h.argument=this.parseMaybeUnary(),this.finishNode(h,"AwaitExpression")},d.defaultOptions.tabSize=4;function o(h,g){return nt.parse(h,g)}i.LooseParser=nt,i.isDummy=$,i.parse=o,Object.defineProperty(i,"__esModule",{value:!0})})})(acornLoose,acornLoose.exports);var validator={},validityErrors={};Object.defineProperty(validityErrors,"__esModule",{value:!0});validityErrors.NoAssignmentToForVariable=void 0;const types_1$j=types;class NoAssignmentToForVariable{constructor(s){this.node=s,this.type=types_1$j.ErrorType.SYNTAX,this.severity=types_1$j.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}validityErrors.NoAssignmentToForVariable=NoAssignmentToForVariable;var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1,Object.defineProperty(validator,"__esModule",{value:!0}),validator.validateAndAnnotate=void 0;const e=requireErrors(),s=validityErrors,i=astCreator,d=walkers$1;class ft{constructor(nt){this.isConstant=nt,this.accessedBeforeDeclaration=!1}}function $(it,nt){const _=new Map,b=new Map;function c(g){const tt=new Map;for(const at of g.body)at.type==="VariableDeclaration"?tt.set((0,i.getVariableDecarationName)(at),new ft(at.kind==="const")):at.type==="FunctionDeclaration"&&tt.set(at.id.name,new ft(!0));b.set(g,!1),_.set(g,tt)}function a(g){_.set(g,new Map(g.params.map(tt=>[tt.name,new ft(!1)]))),b.set(g,!1)}(0,d.ancestor)(it,{Program:c,BlockStatement:c,FunctionDeclaration:a,ArrowFunctionExpression:a,ForStatement(g,tt){const at=g.init;at.type==="VariableDeclaration"&&(_.set(g,new Map([[(0,i.getVariableDecarationName)(at),new ft(at.kind==="const")]])),b.set(g,!1))}});function o(g,tt){const at=g.name,ht=tt[tt.length-2];for(let _e=tt.length-1;_e>=0;_e--){const ut=tt[_e],ct=_.get(ut);if(ct!=null&&ct.has(at)){ct.get(at).accessedBeforeDeclaration=!0,ht.type==="AssignmentExpression"&&ht.left===g&&(ct.get(at).isConstant&&nt.errors.push(new e.ConstAssignment(ht,at)),ut.type==="ForStatement"&&ut.init!==ht&&ut.update!==ht&&nt.errors.push(new s.NoAssignmentToForVariable(ht)));break}}}const h=Object.assign(Object.assign({},d.base),{VariableDeclarator(g,tt,at){g.init&&at(g.init,tt,"Expression")}});return(0,d.ancestor)(it,{VariableDeclaration(g,tt){const at=tt[tt.length-2],ht=(0,i.getVariableDecarationName)(g),_e=_.get(at).get(ht).accessedBeforeDeclaration;g.typability=_e?"Untypable":"NotYetTyped"},Identifier:o,FunctionDeclaration(g,tt){const at=tt[tt.length-2];g.typability=b.get(at)?"Untypable":"NotYetTyped"},Pattern(g,tt){g.type==="Identifier"?o(g,tt):g.type==="MemberExpression"&&g.object.type==="Identifier"&&o(g.object,tt)},CallExpression(g,tt){for(let at=tt.length-1;at>=0;at--){const ht=tt[at];if(b.has(ht)){b.set(ht,!0);break}}}},h),it}return validator.validateAndAnnotate=$,validator}var rules$1={},bracesAroundFor$1={};Object.defineProperty(bracesAroundFor$1,"__esModule",{value:!0});bracesAroundFor$1.BracesAroundForError=void 0;const astring_1$7=astring,types_1$i=types;class BracesAroundForError{constructor(s){this.node=s,this.type=types_1$i.ErrorType.SYNTAX,this.severity=types_1$i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){const s=(0,astring_1$7.generate)(this.node.init),i=(0,astring_1$7.generate)(this.node.test),d=(0,astring_1$7.generate)(this.node.update);return`Remember to enclose your "for" block with braces:

 ${`	for (${s} ${i}; ${d}) {
		//code goes here
	}`}`}}bracesAroundFor$1.BracesAroundForError=BracesAroundForError;const bracesAroundFor={name:"braces-around-for",checkers:{ForStatement(e,s){return e.body.type!=="BlockStatement"?[new BracesAroundForError(e)]:[]}}};bracesAroundFor$1.default=bracesAroundFor;var bracesAroundIfElse$1={};Object.defineProperty(bracesAroundIfElse$1,"__esModule",{value:!0});bracesAroundIfElse$1.BracesAroundIfElseError=void 0;const astring_1$6=astring,types_1$h=types,formatters_1$5=formatters;class BracesAroundIfElseError{constructor(s,i){this.node=s,this.branch=i,this.type=types_1$h.ErrorType.SYNTAX,this.severity=types_1$h.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return this.branch==="consequent"?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let s,i,d;return this.branch==="consequent"?(s="if",i=`if (${(0,astring_1$6.generate)(this.node.test)})`,d=this.node.consequent):(s=i="else",d=this.node.alternate),(0,formatters_1$5.stripIndent)`
      ${s} block need to be enclosed with a pair of curly braces.

      ${i} {
        ${(0,astring_1$6.generate)(d)}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `}}bracesAroundIfElse$1.BracesAroundIfElseError=BracesAroundIfElseError;const bracesAroundIfElse={name:"braces-around-if-else",checkers:{IfStatement(e,s){const i=[];if(e.consequent&&e.consequent.type!=="BlockStatement"&&i.push(new BracesAroundIfElseError(e,"consequent")),e.alternate){const d=e.alternate.type!=="BlockStatement",ft=e.alternate.type!=="IfStatement";d&&ft&&i.push(new BracesAroundIfElseError(e,"alternate"))}return i}}};bracesAroundIfElse$1.default=bracesAroundIfElse;var bracesAroundWhile$1={};Object.defineProperty(bracesAroundWhile$1,"__esModule",{value:!0});bracesAroundWhile$1.BracesAroundWhileError=void 0;const astring_1$5=astring,types_1$g=types;class BracesAroundWhileError{constructor(s){this.node=s,this.type=types_1$g.ErrorType.SYNTAX,this.severity=types_1$g.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:

 ${`	while (${(0,astring_1$5.generate)(this.node.test)}) {
		//code goes here
	}`}`}}bracesAroundWhile$1.BracesAroundWhileError=BracesAroundWhileError;const bracesAroundWhile={name:"braces-around-while",checkers:{WhileStatement(e,s){return e.body.type!=="BlockStatement"?[new BracesAroundWhileError(e)]:[]}}};bracesAroundWhile$1.default=bracesAroundWhile;var forStatementMustHaveAllParts$1={};Object.defineProperty(forStatementMustHaveAllParts$1,"__esModule",{value:!0});forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=void 0;const types_1$f=types,formatters_1$4=formatters;class ForStatmentMustHaveAllParts{constructor(s,i){this.node=s,this.missingParts=i,this.type=types_1$f.ErrorType.SYNTAX,this.severity=types_1$f.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${this.missingParts.length===1?"":"s"} in for statement.`}elaborate(){return(0,formatters_1$4.stripIndent)`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `}}forStatementMustHaveAllParts$1.ForStatmentMustHaveAllParts=ForStatmentMustHaveAllParts;const forStatementMustHaveAllParts={name:"for-statement-must-have-all-parts",checkers:{ForStatement(e){const s=["init","test","update"].filter(i=>e[i]===null);return s.length>0?[new ForStatmentMustHaveAllParts(e,s)]:[]}}};forStatementMustHaveAllParts$1.default=forStatementMustHaveAllParts;var noDeclareMutable$1={};Object.defineProperty(noDeclareMutable$1,"__esModule",{value:!0});noDeclareMutable$1.NoDeclareMutableError=void 0;const astring_1$4=astring,types_1$e=types,mutableDeclarators=["let","var"];class NoDeclareMutableError{constructor(s){this.node=s,this.type=types_1$e.ErrorType.SYNTAX,this.severity=types_1$e.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){const s=this.node.declarations[0].id.name,i=(0,astring_1$4.generate)(this.node.declarations[0].init);return`Use keyword "const" instead, to declare a constant:

	const ${s} = ${i};`}}noDeclareMutable$1.NoDeclareMutableError=NoDeclareMutableError;const noDeclareMutable={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration(e,s){return mutableDeclarators.includes(e.kind)?[new NoDeclareMutableError(e)]:[]}}};noDeclareMutable$1.default=noDeclareMutable;var noDotAbbreviation$1={};Object.defineProperty(noDotAbbreviation$1,"__esModule",{value:!0});noDotAbbreviation$1.NoDotAbbreviationError=void 0;const types_1$d=types;class NoDotAbbreviationError{constructor(s){this.node=s,this.type=types_1$d.ErrorType.SYNTAX,this.severity=types_1$d.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}noDotAbbreviation$1.NoDotAbbreviationError=NoDotAbbreviationError;const noDotAbbreviation={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression(e,s){return e.computed?[]:[new NoDotAbbreviationError(e)]}}};noDotAbbreviation$1.default=noDotAbbreviation;var noEval$1={};Object.defineProperty(noEval$1,"__esModule",{value:!0});noEval$1.NoEval=void 0;const types_1$c=types;class NoEval{constructor(s){this.node=s,this.type=types_1$c.ErrorType.SYNTAX,this.severity=types_1$c.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}noEval$1.NoEval=NoEval;const noEval={name:"no-eval",checkers:{Identifier(e,s){return e.name==="eval"?[new NoEval(e)]:[]}}};noEval$1.default=noEval;var noHolesInArrays$1={};Object.defineProperty(noHolesInArrays$1,"__esModule",{value:!0});noHolesInArrays$1.NoHolesInArrays=void 0;const types_1$b=types,formatters_1$3=formatters;class NoHolesInArrays{constructor(s){this.node=s,this.type=types_1$b.ErrorType.SYNTAX,this.severity=types_1$b.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return(0,formatters_1$3.stripIndent)`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `}}noHolesInArrays$1.NoHolesInArrays=NoHolesInArrays;const noHolesInArrays={name:"no-holes-in-arrays",checkers:{ArrayExpression(e){return e.elements.some(s=>s===null)?[new NoHolesInArrays(e)]:[]}}};noHolesInArrays$1.default=noHolesInArrays;var noIfWithoutElse$1={};Object.defineProperty(noIfWithoutElse$1,"__esModule",{value:!0});noIfWithoutElse$1.NoIfWithoutElseError=void 0;const astring_1$3=astring,types_1$a=types,formatters_1$2=formatters;class NoIfWithoutElseError{constructor(s){this.node=s,this.type=types_1$a.ErrorType.SYNTAX,this.severity=types_1$a.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return(0,formatters_1$2.stripIndent)`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${(0,astring_1$3.generate)(this.node.test)} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `}}noIfWithoutElse$1.NoIfWithoutElseError=NoIfWithoutElseError;const noIfWithoutElse={name:"no-if-without-else",disableOn:3,checkers:{IfStatement(e,s){return e.alternate?[]:[new NoIfWithoutElseError(e)]}}};noIfWithoutElse$1.default=noIfWithoutElse;var noImplicitDeclareUndefined$1={};Object.defineProperty(noImplicitDeclareUndefined$1,"__esModule",{value:!0});noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=void 0;const types_1$9=types,formatters_1$1=formatters;class NoImplicitDeclareUndefinedError{constructor(s){this.node=s,this.type=types_1$9.ErrorType.SYNTAX,this.severity=types_1$9.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return(0,formatters_1$1.stripIndent)`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${this.node.name}, you can write:

        let ${this.node.name} = 20;

        ${this.node.name} + ${this.node.name}; // 40
    `}}noImplicitDeclareUndefined$1.NoImplicitDeclareUndefinedError=NoImplicitDeclareUndefinedError;const noImplicitDeclareUndefined={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(e,s){const i=[];for(const d of e.declarations)d.init||i.push(new NoImplicitDeclareUndefinedError(d.id));return i}}};noImplicitDeclareUndefined$1.default=noImplicitDeclareUndefined;var noImplicitReturnUndefined$1={};Object.defineProperty(noImplicitReturnUndefined$1,"__esModule",{value:!0});noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=void 0;const types_1$8=types,formatters_1=formatters;class NoImplicitReturnUndefinedError{constructor(s){this.node=s,this.type=types_1$8.ErrorType.SYNTAX,this.severity=types_1$8.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return(0,formatters_1.stripIndent)`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `}}noImplicitReturnUndefined$1.NoImplicitReturnUndefinedError=NoImplicitReturnUndefinedError;const noImplicitReturnUndefined={name:"no-implicit-return-undefined",checkers:{ReturnStatement(e,s){return e.argument?[]:[new NoImplicitReturnUndefinedError(e)]}}};noImplicitReturnUndefined$1.default=noImplicitReturnUndefined;var noNull$1={};Object.defineProperty(noNull$1,"__esModule",{value:!0});noNull$1.NoNullError=void 0;const types_1$7=types;class NoNullError{constructor(s){this.node=s,this.type=types_1$7.ErrorType.SYNTAX,this.severity=types_1$7.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source \xA71 specs."}}noNull$1.NoNullError=NoNullError;const noNull={name:"no-null",disableOn:2,checkers:{Literal(e,s){return e.value===null?[new NoNullError(e)]:[]}}};noNull$1.default=noNull;var noSpreadInArray$1={};Object.defineProperty(noSpreadInArray$1,"__esModule",{value:!0});noSpreadInArray$1.NoSpreadInArray=void 0;const types_1$6=types;class NoSpreadInArray{constructor(s){this.node=s,this.type=types_1$6.ErrorType.SYNTAX,this.severity=types_1$6.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}noSpreadInArray$1.NoSpreadInArray=NoSpreadInArray;const noSpreadInArray={name:"no-assignment-expression",checkers:{SpreadElement(e,s){return s[s.length-2].type==="CallExpression"?[]:[new NoSpreadInArray(e)]}}};noSpreadInArray$1.default=noSpreadInArray;var noTemplateExpression$1={};Object.defineProperty(noTemplateExpression$1,"__esModule",{value:!0});noTemplateExpression$1.NoTemplateExpressionError=void 0;const types_1$5=types;class NoTemplateExpressionError{constructor(s){this.node=s,this.type=types_1$5.ErrorType.SYNTAX,this.severity=types_1$5.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}noTemplateExpression$1.NoTemplateExpressionError=NoTemplateExpressionError;const noTemplateExpression={name:"no-template-expression",checkers:{TemplateLiteral(e,s){return e.expressions.length>0?[new NoTemplateExpressionError(e)]:[]}}};noTemplateExpression$1.default=noTemplateExpression;var noUnspecifiedLiteral$1={};Object.defineProperty(noUnspecifiedLiteral$1,"__esModule",{value:!0});noUnspecifiedLiteral$1.NoUnspecifiedLiteral=void 0;const types_1$4=types,specifiedLiterals=["boolean","string","number"];class NoUnspecifiedLiteral{constructor(s){this.node=s,this.type=types_1$4.ErrorType.SYNTAX,this.severity=types_1$4.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}noUnspecifiedLiteral$1.NoUnspecifiedLiteral=NoUnspecifiedLiteral;const noUnspecifiedLiteral={name:"no-unspecified-literal",checkers:{Literal(e,s){return e.value!==null&&!specifiedLiterals.includes(typeof e.value)?[new NoUnspecifiedLiteral(e)]:[]}}};noUnspecifiedLiteral$1.default=noUnspecifiedLiteral;var noUnspecifiedOperator$1={};Object.defineProperty(noUnspecifiedOperator$1,"__esModule",{value:!0});noUnspecifiedOperator$1.NoUnspecifiedOperatorError=void 0;const types_1$3=types;class NoUnspecifiedOperatorError{constructor(s){this.node=s,this.type=types_1$3.ErrorType.SYNTAX,this.severity=types_1$3.ErrorSeverity.ERROR,this.unspecifiedOperator=s.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}noUnspecifiedOperator$1.NoUnspecifiedOperatorError=NoUnspecifiedOperatorError;const noUnspecifiedOperator={name:"no-unspecified-operator",checkers:{BinaryExpression(e,s){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(e.operator)?[]:[new NoUnspecifiedOperatorError(e)]},UnaryExpression(e){return["-","!"].includes(e.operator)?[]:[new NoUnspecifiedOperatorError(e)]}}};noUnspecifiedOperator$1.default=noUnspecifiedOperator;var noUpdateAssignment$1={};Object.defineProperty(noUpdateAssignment$1,"__esModule",{value:!0});noUpdateAssignment$1.NoUpdateAssignment=void 0;const astring_1$2=astring,types_1$2=types;class NoUpdateAssignment{constructor(s){this.node=s,this.type=types_1$2.ErrorType.SYNTAX,this.severity=types_1$2.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const s=(0,astring_1$2.generate)(this.node.left),i=(0,astring_1$2.generate)(this.node.right),d=this.node.operator.slice(0,-1);return d==="+"||d==="-"||d==="/"||d==="*"?`
	${s} = ${s} ${d} ${i};`:""}}noUpdateAssignment$1.NoUpdateAssignment=NoUpdateAssignment;const noUpdateAssignment={name:"no-update-assignment",checkers:{AssignmentExpression(e,s){return e.operator!=="="?[new NoUpdateAssignment(e)]:[]}}};noUpdateAssignment$1.default=noUpdateAssignment;var noVar$1={};Object.defineProperty(noVar$1,"__esModule",{value:!0});noVar$1.NoVarError=void 0;const astring_1$1=astring,types_1$1=types;class NoVarError{constructor(s){this.node=s,this.type=types_1$1.ErrorType.SYNTAX,this.severity=types_1$1.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){const s=this.node.declarations[0].id.name,i=(0,astring_1$1.generate)(this.node.declarations[0].init);return`Use keyword "let" instead, to declare a variable:

	let ${s} = ${i};`}}noVar$1.NoVarError=NoVarError;const noVar={name:"no-var",checkers:{VariableDeclaration(e,s){return e.kind==="var"?[new NoVarError(e)]:[]}}};noVar$1.default=noVar;var singleVariableDeclaration$1={};Object.defineProperty(singleVariableDeclaration$1,"__esModule",{value:!0});singleVariableDeclaration$1.MultipleDeclarationsError=void 0;const astring_1=astring,types_1=types;class MultipleDeclarationsError{constructor(s){this.node=s,this.type=types_1.ErrorType.SYNTAX,this.severity=types_1.ErrorSeverity.ERROR,this.fixs=s.declarations.map(i=>({type:"VariableDeclaration",kind:"let",loc:i.loc,declarations:[i]}))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return`Split the variable declaration into multiple lines as follows

`+this.fixs.map(i=>"	"+(0,astring_1.generate)(i)).join(`
`)+`
`}}singleVariableDeclaration$1.MultipleDeclarationsError=MultipleDeclarationsError;const singleVariableDeclaration={name:"single-variable-declaration",checkers:{VariableDeclaration(e,s){return e.declarations.length>1?[new MultipleDeclarationsError(e)]:[]}}};singleVariableDeclaration$1.default=singleVariableDeclaration;Object.defineProperty(rules$1,"__esModule",{value:!0});const bracesAroundFor_1=bracesAroundFor$1,bracesAroundIfElse_1=bracesAroundIfElse$1,bracesAroundWhile_1=bracesAroundWhile$1,forStatementMustHaveAllParts_1=forStatementMustHaveAllParts$1,noDeclareMutable_1=noDeclareMutable$1,noDotAbbreviation_1=noDotAbbreviation$1,noEval_1=noEval$1,noHolesInArrays_1=noHolesInArrays$1,noIfWithoutElse_1=noIfWithoutElse$1,noImplicitDeclareUndefined_1=noImplicitDeclareUndefined$1,noImplicitReturnUndefined_1=noImplicitReturnUndefined$1,noNull_1=noNull$1,noSpreadInArray_1=noSpreadInArray$1,noTemplateExpression_1=noTemplateExpression$1,noUnspecifiedLiteral_1=noUnspecifiedLiteral$1,noUnspecifiedOperator_1=noUnspecifiedOperator$1,noUpdateAssignment_1=noUpdateAssignment$1,noVar_1=noVar$1,singleVariableDeclaration_1=singleVariableDeclaration$1,rules=[bracesAroundFor_1.default,bracesAroundIfElse_1.default,bracesAroundWhile_1.default,forStatementMustHaveAllParts_1.default,noDeclareMutable_1.default,noDotAbbreviation_1.default,noIfWithoutElse_1.default,noImplicitDeclareUndefined_1.default,noImplicitReturnUndefined_1.default,noNull_1.default,noUnspecifiedLiteral_1.default,noUnspecifiedOperator_1.default,noUpdateAssignment_1.default,noVar_1.default,singleVariableDeclaration_1.default,noEval_1.default,noHolesInArrays_1.default,noTemplateExpression_1.default,noSpreadInArray_1.default];rules$1.default=rules;var syntaxBlacklist={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.libraryParserLanguage=void 0,e.libraryParserLanguage=100;const s={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:e.libraryParserLanguage,NewExpression:e.libraryParserLanguage,TryStatement:e.libraryParserLanguage,CatchClause:e.libraryParserLanguage,ThrowStatement:e.libraryParserLanguage,ThisExpression:e.libraryParserLanguage,Super:e.libraryParserLanguage,ClassDeclaration:e.libraryParserLanguage,ClassExpression:e.libraryParserLanguage,Class:e.libraryParserLanguage,ClassBody:e.libraryParserLanguage,MethodDefinition:e.libraryParserLanguage,FunctionExpression:e.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0};e.default=s})(syntaxBlacklist);var hasRequiredParser$1;function requireParser$1(){return hasRequiredParser$1||(hasRequiredParser$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.typedParse=e.looseParse=e.parseWithComments=e.createAcornParserOptions=e.tokenize=e.parse=e.parseAt=e.TrailingCommaError=e.MissingSemicolonError=e.FatalSyntaxError=e.DisallowedConstructError=void 0;const s=acorn.exports,i=acornLoose.exports,d=constants,ft=types,$=formatters,it=walkers$1,nt=requireValidator(),_=rules$1,b=syntaxBlacklist;class c{constructor(et){this.node=et,this.type=ft.ErrorType.SYNTAX,this.severity=ft.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return(0,$.stripIndent)`
      You are trying to use ${this.nodeType}, which is not allowed (yet).
    `}formatNodeType(et){switch(et){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return et.split(/(?=[A-Z])/).map((mt,xt)=>xt===0?mt:mt.toLowerCase()).join(" ")+"s"}}}e.DisallowedConstructError=c;class a{constructor(et,lt){this.location=et,this.message=lt,this.type=ft.ErrorType.SYNTAX,this.severity=ft.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}e.FatalSyntaxError=a;class o{constructor(et){this.location=et,this.type=ft.ErrorType.SYNTAX,this.severity=ft.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}e.MissingSemicolonError=o;class h{constructor(et){this.location=et}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}e.TrailingCommaError=h;function g(ot,et){let lt;try{lt=(0,s.parseExpressionAt)(ot,et,d.ACORN_PARSE_OPTIONS)}catch{return}return lt}e.parseAt=g;function tt(ot,et){let lt;try{lt=(0,s.parse)(ot,(0,e.createAcornParserOptions)(et)),(0,it.ancestor)(lt,vt,void 0,et)}catch(xt){if(xt instanceof SyntaxError){const wt=xt.loc,St={start:{line:wt.line,column:wt.column},end:{line:wt.line,column:wt.column+1}};et.errors.push(new a(St,xt.toString()))}else throw xt}const mt=et.errors.find(xt=>xt.severity===ft.ErrorSeverity.ERROR);if(lt&&!mt)return lt}e.parse=tt;function at(ot,et){return[...(0,s.tokenizer)(ot,(0,e.createAcornParserOptions)(et))]}e.tokenize=at;const ht=ot=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(et,lt){ot.errors.push(new o({end:{line:lt.line,column:lt.column+1},start:lt}))},onTrailingComma(et,lt){ot.errors.push(new h({end:{line:lt.line,column:lt.column+1},start:lt}))}});e.createAcornParserOptions=ht;function _e(ot){let et=[];const lt={sourceType:"module",ecmaVersion:6,locations:!0,onComment:et};let mt;try{mt=(0,s.parse)(ot,lt)}catch{et=[],mt=(0,i.parse)(ot,lt)}return[mt,et]}e.parseWithComments=_e;function ut(ot,et){return(0,i.parse)(ot,(0,e.createAcornParserOptions)(et))}e.looseParse=ut;function ct(ot,et){const lt=ut(ot,et);return lt===void 0?null:(0,nt.validateAndAnnotate)(lt,et)}e.typedParse=ct;function rt(ot,et){const lt=new Map,mt=new Set;return Object.entries(ot).map(wt=>{const St=wt[0];lt.set(St,(Tt,kt,Vt)=>{mt.has(Tt)||(mt.add(Tt),kt.chapter<ot[Tt.type]&&kt.errors.push(new c(Tt)))})}),et.forEach(wt=>{const St=wt.checkers;Object.entries(St).forEach(kt=>{const Vt=kt[0],Ct=kt[1],Rt=lt.get(Vt),zt=(Xt,Pt,Mt)=>{if(typeof wt.disableOn<"u"&&Pt.chapter>=wt.disableOn)return;Ct(Xt,Mt).forEach(Zt=>Pt.errors.push(Zt))};lt.set(Vt,(Xt,Pt,Mt)=>{Rt(Xt,Pt,Mt),zt(Xt,Pt,Mt)})})}),st(lt)}const st=ot=>Array.from(ot).reduce((et,[lt,mt])=>Object.assign(et,{[lt]:mt}),{}),vt=rt(b.default,_.default)}(parser)),parser}var hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1,Object.defineProperty(parser$1,"__esModule",{value:!0}),parser$1.tokenize=parser$1.parse=void 0;const e=requireParser$1(),s=syntaxBlacklist,i=formatters,d=requireList();class ft extends Error{constructor(g){super(g),this.name="ParseError"}}function $(){console.error((0,i.oneLine)`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)}function it(h){return h.length===1?c(h[0]):(0,d.vector_to_list)(["sequence",(0,d.vector_to_list)(h.map(c))])}function nt(h){return _(h)?(0,d.vector_to_list)(["block",it(h)]):it(h)}function _(h){return h.reduce((g,tt)=>g||tt.type==="VariableDeclaration"||tt.type==="FunctionDeclaration",!1)}const b=new Map([["Program",h=>(h=h,it(h.body))],["BlockStatement",h=>nt(h.body)],["ExpressionStatement",h=>c(h.expression)],["IfStatement",h=>(0,d.vector_to_list)(["conditional_statement",c(h.test),c(h.consequent),h.alternate===null?it([]):c(h.alternate)])],["FunctionDeclaration",h=>(0,d.vector_to_list)(["function_declaration",c(h.id),(0,d.vector_to_list)(h.params.map(c)),nt(h.body.body)])],["VariableDeclaration",h=>{if(h.kind==="let")return(0,d.vector_to_list)(["variable_declaration",c(h.declarations[0].id),c(h.declarations[0].init)]);if(h.kind==="const")return(0,d.vector_to_list)(["constant_declaration",c(h.declarations[0].id),c(h.declarations[0].init)]);throw $(),new ft("Invalid declaration kind")}],["ReturnStatement",h=>(0,d.vector_to_list)(["return_statement",c(h.argument)])],["CallExpression",h=>(0,d.vector_to_list)(["application",c(h.callee),(0,d.vector_to_list)(h.arguments.map(c))])],["UnaryExpression",h=>(0,d.vector_to_list)(["unary_operator_combination",h.operator==="-"?"-unary":h.operator,c(h.argument)])],["BinaryExpression",h=>(0,d.vector_to_list)(["binary_operator_combination",h.operator,c(h.left),c(h.right)])],["LogicalExpression",h=>(0,d.vector_to_list)(["logical_composition",h.operator,c(h.left),c(h.right)])],["ConditionalExpression",h=>(0,d.vector_to_list)(["conditional_expression",c(h.test),c(h.consequent),c(h.alternate)])],["ArrowFunctionExpression",h=>(0,d.vector_to_list)(["lambda_expression",(0,d.vector_to_list)(h.params.map(c)),h.body.type==="BlockStatement"?nt(h.body.body):(0,d.vector_to_list)(["return_statement",c(h.body)])])],["Identifier",h=>(0,d.vector_to_list)(["name",h.name])],["Literal",h=>(0,d.vector_to_list)(["literal",h.value])],["ArrayExpression",h=>(0,d.vector_to_list)(["array_expression",(0,d.vector_to_list)(h.elements.map(c))])],["AssignmentExpression",h=>{if(h.left.type==="Identifier")return(0,d.vector_to_list)(["assignment",c(h.left),c(h.right)]);if(h.left.type==="MemberExpression")return(0,d.vector_to_list)(["object_assignment",c(h.left),c(h.right)]);throw $(),new ft("Invalid assignment")}],["ForStatement",h=>(0,d.vector_to_list)(["for_loop",c(h.init),c(h.test),c(h.update),c(h.body)])],["WhileStatement",h=>(0,d.vector_to_list)(["while_loop",c(h.test),c(h.body)])],["BreakStatement",h=>(0,d.vector_to_list)(["break_statement"])],["ContinueStatement",h=>(0,d.vector_to_list)(["continue_statement"])],["ObjectExpression",h=>(0,d.vector_to_list)(["object_expression",(0,d.vector_to_list)(h.properties.map(c))])],["MemberExpression",h=>(0,d.vector_to_list)(["object_access",c(h.object),!h.computed&&h.property.type==="Identifier"?(0,d.vector_to_list)(["property",h.property.name]):c(h.property)])],["Property",h=>(0,d.vector_to_list)(["key_value_pair",h.key.type==="Identifier"?(0,d.vector_to_list)(["property",h.key.name]):c(h.key),c(h.value)])],["ImportDeclaration",h=>(0,d.vector_to_list)(["import_declaration",(0,d.vector_to_list)(h.specifiers.map(c)),h.source.value])],["ImportSpecifier",h=>(0,d.vector_to_list)(["name",h.imported.name])],["ClassDeclaration",h=>(0,d.vector_to_list)(["class_declaration",(0,d.vector_to_list)(["name",h.id===null?null:h.id.name,h.superClass===null||h.superClass===void 0?null:c(h.superClass),h.body.body.map(c)])])],["NewExpression",h=>(0,d.vector_to_list)(["new_expression",c(h.callee),(0,d.vector_to_list)(h.arguments.map(c))])],["MethodDefinition",h=>(0,d.vector_to_list)(["method_definition",h.kind,h.static,c(h.key),c(h.value)])],["FunctionExpression",h=>(0,d.vector_to_list)(["lambda_expression",(0,d.vector_to_list)(h.params.map(c)),nt(h.body.body)])],["ThisExpression",h=>(0,d.vector_to_list)(["this_expression"])],["Super",h=>(0,d.vector_to_list)(["super_expression"])],["TryStatement",h=>(0,d.vector_to_list)(["try_statement",c(h.block),h.handler===null||h.handler===void 0?null:(0,d.vector_to_list)(["name",h.handler.param.name]),h.handler===null||h.handler===void 0?null:c(h.handler.body)])],["ThrowStatement",h=>(0,d.vector_to_list)(["throw_statement",c(h.argument)])],["SpreadElement",h=>(0,d.vector_to_list)(["spread_element",c(h.argument)])],["RestElement",h=>(0,d.vector_to_list)(["rest_element",c(h.argument)])]]);function c(h){if(b.has(h.type)){const tt=b.get(h.type)(h);return tt!=null&&typeof tt=="object"&&tt.tag!==void 0&&(tt.loc=h.loc),tt}else throw $(),new ft("Cannot transform unknown type: "+h.type)}function a(h,g){g.chapter=s.libraryParserLanguage;const tt=(0,e.parse)(h,g);if(g.errors.length>0)throw new ft(g.errors[0].explain());if(tt!==void 0)return c(tt);throw $(),new ft("Invalid parse")}parser$1.parse=a;function o(h,g){const tt=(0,e.tokenize)(h,g).map(at=>h.substring(at.start,at.end));return(0,d.vector_to_list)(tt)}return parser$1.tokenize=o,parser$1}var stream={},hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream;hasRequiredStream=1,Object.defineProperty(stream,"__esModule",{value:!0}),stream.list_to_stream=stream.stream=stream.stream_tail=void 0;const e=requireList();function s(ft){let $;if((0,e.is_pair)(ft))$=ft[1];else throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+ft);if(typeof $=="function")return $();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+$)}stream.stream_tail=s;function i(...ft){return d((0,e.list)(...ft))}stream.stream=i;function d(ft){return(0,e.is_null)(ft)?null:(0,e.pair)((0,e.head)(ft),()=>d((0,e.tail)(ft)))}return stream.list_to_stream=d,stream}var stream_prelude={};Object.defineProperty(stream_prelude,"__esModule",{value:!0});stream_prelude.streamPrelude=void 0;stream_prelude.streamPrelude=`

// Supporting streams in the Scheme style, following
// "stream discipline"

// is_stream recurses down the stream and checks that it ends with the
// empty list null

function is_stream(xs) {
  return is_null(xs) ||
    (is_pair(xs) &&
    is_function(tail(xs)) &&
    arity(tail(xs)) === 0 &&
    is_stream(stream_tail(xs)));
}

// A stream is either null or a pair whose tail is
// a nullary function that returns a stream.

function list_to_stream(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs),
      () => list_to_stream(tail(xs)));
}

// stream_to_list transforms a given stream to a list
// Lazy? No: stream_to_list needs to force the whole stream
function stream_to_list(xs) {
  return is_null(xs)
    ? null
    : pair(head(xs), stream_to_list(stream_tail(xs)));
}

// stream_length returns the length of a given argument stream
// throws an exception if the argument is not a stream
// Lazy? No: The function needs to explore the whole stream
function stream_length(xs) {
  return is_null(xs)
    ? 0
    : 1 + stream_length(stream_tail(xs));
}

// stream_map applies first arg f to the elements of the second
// argument, assumed to be a stream.
// f is applied element-by-element:
// stream_map(f,list_to_stream(list(1,2)) results in
// the same as list_to_stream(list(f(1),f(2)))
// stream_map throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? Yes: The argument stream is only explored as forced by
//            the result stream.
function stream_map(f, s) {
  return is_null(s)
    ? null
    : pair(f(head(s)),
      () => stream_map(f, stream_tail(s)));
}

// build_stream takes a function fun as first argument, 
// and a nonnegative integer n as second argument,
// build_stream returns a stream of n elements, that results from
// applying fun to the numbers from 0 to n-1.
// Lazy? Yes: The result stream forces the applications of fun
//            for the next element
function build_stream(fun, n) {
  function build(i) {
    return i >= n
      ? null
      : pair(fun(i),
        () => build(i + 1));
  }
  return build(0);
}

// stream_for_each applies first arg fun to the elements of the stream
// passed as second argument. fun is applied element-by-element:
// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)
// and fun(2).
// stream_for_each returns true.
// stream_for_each throws an exception if the second argument is not a
// stream, and if the second argument is a nonempty stream and the
// first argument is not a function.
// Lazy? No: stream_for_each forces the exploration of the entire stream
function stream_for_each(fun, xs) {
  if (is_null(xs)) {
    return true;
  } else {
    fun(head(xs));
    return stream_for_each(fun, stream_tail(xs));
  }
}

// stream_reverse reverses the argument stream
// stream_reverse throws an exception if the argument is not a stream.
// Lazy? No: stream_reverse forces the exploration of the entire stream
function stream_reverse(xs) {
  function rev(original, reversed) {
    return is_null(original)
      ? reversed
      : rev(stream_tail(original),
        pair(head(original), () => reversed));
  }
  return rev(xs, null);
}

// stream_append appends first argument stream and second argument stream.
// In the result, null at the end of the first argument stream
// is replaced by the second argument stream
// stream_append throws an exception if the first argument is not a
// stream.
// Lazy? Yes: the result stream forces the actual append operation
function stream_append(xs, ys) {
  return is_null(xs)
    ? ys
    : pair(head(xs),
      () => stream_append(stream_tail(xs), ys));
}

// stream_member looks for a given first-argument element in a given
// second argument stream. It returns the first postfix substream
// that starts with the given element. It returns null if the
// element does not occur in the stream
// Lazy? Sort-of: stream_member forces the stream only until the element is found.
function stream_member(x, s) {
  return is_null(s)
    ? null
    : head(s) === x
      ? s
      : stream_member(x, stream_tail(s));
}

// stream_remove removes the first occurrence of a given first-argument element
// in a given second-argument list. Returns the original list
// if there is no occurrence.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_tail(xs)
      : pair(head(xs),
        () => stream_remove(v, stream_tail(xs)));
}

// stream_remove_all removes all instances of v instead of just the first.
// Lazy? Yes: the result stream forces the construction of each next element
function stream_remove_all(v, xs) {
  return is_null(xs)
    ? null
    : v === head(xs)
      ? stream_remove_all(v, stream_tail(xs))
      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));
}

// filter returns the substream of elements of given stream s
// for which the given predicate function p returns true.
// Lazy? Yes: The result stream forces the construction of
//            each next element. Of course, the construction
//            of the next element needs to go down the stream
//            until an element is found for which p holds.
function stream_filter(p, s) {
  return is_null(s)
    ? null
    : p(head(s))
      ? pair(head(s),
        () => stream_filter(p, stream_tail(s)))
      : stream_filter(p, stream_tail(s));
}

// enumerates numbers starting from start,
// using a step size of 1, until the number
// exceeds end.
// Lazy? Yes: The result stream forces the construction of
//            each next element
function enum_stream(start, end) {
  return start > end
    ? null
    : pair(start,
      () => enum_stream(start + 1, end));
}

// integers_from constructs an infinite stream of integers
// starting at a given number n
// Lazy? Yes: The result stream forces the construction of
//            each next element
function integers_from(n) {
  return pair(n,
    () => integers_from(n + 1));
}

// eval_stream constructs the list of the first n elements
// of a given stream s
// Lazy? Sort-of: eval_stream only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function eval_stream(s, n) {
    function es(s, n) {
        return n === 1 
               ? list(head(s))
               : pair(head(s), 
                      es(stream_tail(s), n - 1));
    }
    return n === 0 
           ? null
           : es(s, n);
}

// Returns the item in stream s at index n (the first item is at position 0)
// Lazy? Sort-of: stream_ref only forces the computation of
//                the first n elements, and leaves the rest of
//                the stream untouched.
function stream_ref(s, n) {
  return n === 0
    ? head(s)
    : stream_ref(stream_tail(s), n - 1);
}
`;var typeChecker={},typeErrors={},hasRequiredTypeErrors;function requireTypeErrors(){if(hasRequiredTypeErrors)return typeErrors;hasRequiredTypeErrors=1,Object.defineProperty(typeErrors,"__esModule",{value:!0}),typeErrors.InconsistentPredicateTestError=typeErrors.CallingNonFunctionType=typeErrors.ConsequentAlternateMismatchError=typeErrors.UndefinedIdentifierError=typeErrors.InvalidTestConditionError=typeErrors.InvalidArgumentTypesError=typeErrors.DifferentNumberArgumentsError=typeErrors.CyclicReferenceError=typeErrors.DifferentAssignmentError=typeErrors.ReassignConstError=typeErrors.ArrayAssignmentError=typeErrors.InvalidArrayIndexType=void 0;const e=astring,s=types,i=formatters,d=requireStringify();class ft{constructor(ct,rt){this.node=ct,this.receivedType=rt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${(0,d.typeToString)(this.receivedType)} instead`}elaborate(){return this.explain()}}typeErrors.InvalidArrayIndexType=ft;class ${constructor(ct,rt,st){this.node=ct,this.arrayType=rt,this.receivedType=st,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`Expected array type: ${(0,d.typeToString)(this.arrayType)}
    but got: ${(0,d.typeToString)(this.receivedType)}`}elaborate(){return this.explain()}}typeErrors.ArrayAssignmentError=$;class it{constructor(ct){this.node=ct,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[ct]=_(this.node);return`Reassignment of constant ${ct}`}elaborate(){return this.explain()}}typeErrors.ReassignConstError=it;class nt{constructor(ct,rt,st){this.node=ct,this.expectedType=rt,this.receivedType=st,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[ct,rt]=_(this.node);return(0,i.stripIndent)`
    Expected assignment of ${ct}:
      ${rt}
    to get a value of type:
      ${(0,d.typeToString)(this.expectedType)}
    but got a value of type:
      ${(0,d.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.DifferentAssignmentError=nt;function _(ut){const ct=ut.left,rt=(0,i.simplify)((0,e.generate)(ut.right));return[ct.name,rt]}class b{constructor(ct){this.node=ct,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${c(this.node)} contains cyclic reference to itself`}elaborate(){return this.explain()}}typeErrors.CyclicReferenceError=b;function c(ut){var ct;return["VariableDeclaration","FunctionDeclaration"].includes(ut.type)?ut.type==="VariableDeclaration"?ut.declarations[0].id.name:(ct=ut.id)===null||ct===void 0?void 0:ct.name:ut.type==="Identifier"?ut.name:JSON.stringify(ut)}class a{constructor(ct,rt,st){this.node=ct,this.numExpectedArgs=rt,this.numReceived=st,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}}typeErrors.DifferentNumberArgumentsError=a;class o{constructor(ct,rt,st,vt){this.node=ct,this.args=rt,this.expectedTypes=st,this.receivedTypes=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const ct=this.args.map(vt=>(0,i.simplify)((0,e.generate)(vt)));if("operator"in this.node){const vt=this.node.operator;return this.expectedTypes.length===2?(0,i.stripIndent)`
        A type mismatch was detected in the binary expression:
          ${ct[0]} ${vt} ${ct[1]}
        The binary operator (${vt}) expected two operands with types:
          ${(0,d.typeToString)(this.expectedTypes[0])} ${vt} ${(0,d.typeToString)(this.expectedTypes[1])}
        but instead it received two operands of types:
          ${(0,d.typeToString)(this.receivedTypes[0])} ${vt} ${(0,d.typeToString)(this.receivedTypes[1])}
        `:(0,i.stripIndent)`
        A type mismatch was detected in the unary expression:
          ${vt} ${ct[0]}
        The unary operator (${vt}) expected its operand to be of type:
          ${(0,d.typeToString)(this.expectedTypes[0])}
        but instead it received an operand of type:
          ${(0,d.typeToString)(this.receivedTypes[0])}
        `}const rt=(0,i.simplify)((0,e.generate)(this.node));function st(vt){switch(vt.length){case 1:return`an argument of type:
      ${(0,d.typeToString)(vt[0])}`;default:return`${vt.length} arguments of types:
      ${vt.map(d.typeToString).join(", ")}`}}return(0,i.stripIndent)`
    A type mismatch was detected in the function call:
      ${rt}
    The function expected ${st(this.expectedTypes)}
    but instead received ${st(this.receivedTypes)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidArgumentTypesError=o;function h(ut){let ct=(0,i.simplify)((0,e.generate)(ut.test)),rt;switch(ut.type){case"IfStatement":{ct=`if (${ct}) { ... } else { ... }`,rt="if statement";break}case"ConditionalExpression":{ct=`${ct} ? ... : ...`,rt="conditional expression";break}case"WhileStatement":{ct=`while (${ct}) { ... }`,rt="while statement";break}case"ForStatement":ct=`for (...; ${ct}; ...) { ... }`,rt="for statement"}return{exprString:ct,kind:rt}}class g{constructor(ct,rt){this.node=ct,this.receivedType=rt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:ct,kind:rt}=h(this.node);return(0,i.stripIndent)`
    Expected the test part of the ${rt}:
      ${ct}
    to have type boolean, but instead it is type:
      ${(0,d.typeToString)(this.receivedType)}
    `}elaborate(){return this.explain()}}typeErrors.InvalidTestConditionError=g;class tt{constructor(ct,rt){this.node=ct,this.name=rt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`
    One or more undeclared names detected (e.g. '${this.name}').
    If there aren't actually any undeclared names, then is either a Source or misconfiguration bug.
    Please report this to the administrators!
    `}elaborate(){return this.explain()}}typeErrors.UndefinedIdentifierError=tt;class at{constructor(ct,rt,st){this.node=ct,this.consequentType=rt,this.alternateType=st,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:ct,kind:rt}=h(this.node);return(0,i.stripIndent)`
    The two branches of the ${rt}:
      ${ct}
    produce different types!
    The true branch has type:
      ${(0,d.typeToString)(this.consequentType)}
    but the false branch has type:
      ${(0,d.typeToString)(this.alternateType)}
    `}elaborate(){return this.explain()}}typeErrors.ConsequentAlternateMismatchError=at;class ht{constructor(ct,rt){this.node=ct,this.callerType=rt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return(0,i.stripIndent)`
    In
      ${(0,i.simplify)((0,e.generate)(this.node))}
    expected
      ${(0,i.simplify)((0,e.generate)(this.node.callee))}
    to be a function type, but instead it is type:
      ${(0,d.typeToString)(this.callerType)}
    `}elaborate(){return this.explain()}}typeErrors.CallingNonFunctionType=ht;class _e{constructor(ct,rt,st,vt){this.node=ct,this.argVarName=rt,this.preUnifyType=st,this.predicateType=vt,this.type=s.ErrorType.TYPE,this.severity=s.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const ct=(0,e.generate)(this.node);return(0,i.stripIndent)`
    Inconsistent type constraints when trying to apply the predicate test
      ${ct}
    It is inconsistent with the predicate tests applied before it.
    The variable ${this.argVarName} has type
      ${(0,d.typeToString)(this.preUnifyType)}
    but could not unify with type
      ${(0,d.typeToString)(this.predicateType)}
    `}elaborate(){return this.explain()}}return typeErrors.InconsistentPredicateTestError=_e,typeErrors}var internalTypeErrors={},hasRequiredInternalTypeErrors;function requireInternalTypeErrors(){if(hasRequiredInternalTypeErrors)return internalTypeErrors;hasRequiredInternalTypeErrors=1,Object.defineProperty(internalTypeErrors,"__esModule",{value:!0}),internalTypeErrors.InternalCyclicReferenceError=internalTypeErrors.InternalDifferentNumberArgumentsError=internalTypeErrors.UnifyError=internalTypeErrors.InternalTypeError=internalTypeErrors.TypeError=void 0;const e=types,s=requireStringify();class i{constructor(_,b){this.node=_,this.message=b,this.type=e.ErrorType.TYPE,this.severity=e.ErrorSeverity.WARNING,_.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}}internalTypeErrors.TypeError=i;class d extends Error{constructor(_){super(),this.message=_}}internalTypeErrors.InternalTypeError=d;class ft extends d{constructor(_,b){super(`Failed to unify LHS: ${(0,s.typeToString)(_)}, RHS: ${(0,s.typeToString)(b)}`),this.LHS=_,this.RHS=b}}internalTypeErrors.UnifyError=ft;class $ extends d{constructor(_,b){super(`Expected ${_} args, got ${b}`),this.numExpectedArgs=_,this.numReceived=b}}internalTypeErrors.InternalDifferentNumberArgumentsError=$;class it extends d{constructor(_){super("contains a cyclic reference to itself"),this.name=_}}return internalTypeErrors.InternalCyclicReferenceError=it,internalTypeErrors}var hasRequiredTypeChecker;function requireTypeChecker(){if(hasRequiredTypeChecker)return typeChecker;hasRequiredTypeChecker=1,Object.defineProperty(typeChecker,"__esModule",{value:!0}),typeChecker.createTypeEnvironment=typeChecker.tForAll=typeChecker.tVar=typeChecker.typeCheck=void 0;const e=requireTypeErrors(),s=requireParser$1(),i=requireStringify(),d=requireInternalTypeErrors(),ft="-_1";let $=0;function it(Dt,qt){if(Dt!==null){if(qt&&Dt.typability!=="Untypable")try{Dt.inferredType=ct(Dt.inferredType,qt),Dt.typability="Typed"}catch(en){c(en)&&!(en instanceof d.InternalCyclicReferenceError)&&h(new d.TypeError(Dt,en))}else Dt.inferredType=Yt($),$++;switch(Dt.type){case"Program":{Dt.body.forEach(en=>{it(en,qt)});break}case"UnaryExpression":{it(Dt.argument,qt);break}case"LogicalExpression":case"BinaryExpression":{it(Dt.left,qt),it(Dt.right,qt);break}case"ExpressionStatement":{it(Dt.expression,qt);break}case"BlockStatement":{Dt.body.forEach(en=>{it(en,qt)});break}case"WhileStatement":{it(Dt.test,qt),it(Dt.body,qt);break}case"ForStatement":{it(Dt.init,qt),it(Dt.test,qt),it(Dt.update,qt),it(Dt.body,qt);break}case"ConditionalExpression":case"IfStatement":{it(Dt.test,qt),it(Dt.consequent,qt),Dt.alternate&&it(Dt.alternate,qt);break}case"CallExpression":{it(Dt.callee,qt),Dt.arguments.forEach(en=>{it(en,qt)});break}case"ReturnStatement":{const en=Dt.argument;it(en,qt);break}case"VariableDeclaration":{const en=Dt.declarations[0].init;it(en,qt);break}case"ArrowFunctionExpression":{Dt.params.forEach(en=>{it(en,qt)}),it(Dt.body,qt);break}case"FunctionDeclaration":{const en=Dt;if(qt)try{en.functionInferredType=ct(en.functionInferredType,qt)}catch(Cn){Cn instanceof d.InternalCyclicReferenceError?h(new e.CyclicReferenceError(Dt)):c(Cn)&&h(new d.TypeError(Dt,Cn))}else en.functionInferredType=Yt($);$++,en.params.forEach(Cn=>{it(Cn,qt)}),it(en.body,qt);break}case"AssignmentExpression":it(Dt.left,qt),it(Dt.right,qt);break;case"ArrayExpression":Dt.elements.forEach(en=>it(en,qt));break;case"MemberExpression":it(Dt.object,qt),it(Dt.property,qt);break;default:return}}}function nt(Dt){return Dt.kind==="pair"}function _(Dt){return Dt.kind==="list"}function b(Dt){return _(Dt)?Dt.elementType:null}function c(Dt){return Dt instanceof d.InternalTypeError}let a=!1,o=[];function h(Dt){Dt instanceof e.UndefinedIdentifierError&&a||(a=!0,o.push(Dt))}function g(Dt,qt){function en(Cn){$=0,a=!1,o=[];const Pn=qt.typeEnvironment;if(qt.chapter>=3&&Pn.length===3){const xn=Pn[2].typeMap;for(const[Vn,qn]of In)xn.set(Vn,qn)}const En=[];it(Cn);try{Mt(Cn,Pn,En,!0)}catch(xn){c(xn)?h(new d.TypeError(Cn,`Uncaught internal type error during typechecking, report this to the adminstrators!
`+xn.message)):h(new d.TypeError(Cn,`Uncaught error during typechecking, report this to the adminstrators!
`+xn.message))}return it(Cn,En),[Cn,o]}for(const Cn of qt.unTypecheckedCode)en((0,s.typedParse)(Cn,qt));return qt.unTypecheckedCode=[],en(Dt)}typeChecker.typeCheck=g;function tt(Dt){const qt=$;return $++,Object.assign(Object.assign({},Dt),{name:`T${qt}`})}function at(Dt,qt){switch(Dt.kind){case"primitive":return Dt;case"list":return{kind:"list",elementType:at(Dt.elementType,qt)};case"array":return{kind:"array",elementType:at(Dt.elementType,qt)};case"pair":return{kind:"pair",headType:at(Dt.headType,qt),tailType:at(Dt.tailType,qt)};case"variable":return qt[Dt.name];case"function":return Object.assign(Object.assign({},Dt),{parameterTypes:Dt.parameterTypes.map(en=>at(en,qt)),returnType:at(Dt.returnType,qt)})}}function ht(Dt,qt){const en=[...Dt];return qt.forEach(Cn=>{en.findIndex(Pn=>Pn.name===Cn.name)===-1&&en.push(Cn)}),en}function _e(Dt){switch(Dt.kind){case"primitive":return[];case"list":return _e(Dt.elementType);case"array":return _e(Dt.elementType);case"pair":return ht(_e(Dt.headType),_e(Dt.tailType));case"variable":return[Dt];case"function":return ht(Dt.parameterTypes.reduce((qt,en)=>ht(qt,_e(en)),[]),_e(Dt.returnType))}}function ut(Dt){const qt=Dt.polyType,en=_e(qt),Cn={};return en.forEach(Pn=>{Cn[Pn.name]=tt(Pn)}),at(qt,Cn)}function ct(Dt,qt){switch(Dt.kind){case"primitive":return Dt;case"pair":{const en=ct(Dt.headType,qt),Cn=ct(Dt.tailType,qt);return Cn.kind==="list"&&en===b(Cn)?dn(en):an(en,Cn)}case"list":return{kind:"list",elementType:ct(Dt.elementType,qt)};case"array":return{kind:"array",elementType:ct(Dt.elementType,qt)};case"variable":{for(const en of qt){const Cn=en[0],Pn=en[1];if(Cn.name===Dt.name){if(rt(Pn,Cn.name)){if(nt(Pn)&&Cn===Pn.tailType)return{kind:"list",elementType:Pn.headType};if(Cn.kind==="variable"&&Cn===b(Pn))return{kind:"list",elementType:Cn};throw new d.InternalCyclicReferenceError(Dt.name)}return ct(en[1],qt)}}return Dt}case"function":return Object.assign(Object.assign({},Dt),{parameterTypes:Dt.parameterTypes.map(en=>ct(en,qt)),returnType:ct(Dt.returnType,qt)})}}function rt(Dt,qt){switch(Dt.kind){case"primitive":return!1;case"pair":return rt(Dt.headType,qt)||rt(Dt.tailType,qt);case"array":case"list":return rt(Dt.elementType,qt);case"variable":return Dt.name===qt;case"function":return Dt.parameterTypes.some(Cn=>rt(Cn,qt))||rt(Dt.returnType,qt)}}function st(Dt,qt,en){for(const Cn of qt)if(Cn[0].name===Dt.name)return lt(qt,[en,Cn[1]]);return en.kind==="variable"&&Dt.constraint==="addable"&&en.constraint==="none"&&(en.constraint=Dt.constraint),Dt!==en&&qt.push([Dt,en]),qt}function vt(Dt,qt){return Dt.constraint==="addable"&&qt.kind!=="variable"&&!(qt.kind==="primitive"&&(qt.name==="string"||qt.name==="number"))}function ot(Dt){return{kind:"function",parameterTypes:[tt(Yt("T"))],returnType:Wt}}function et(){return rn(tt(Yt("T")),Wt)}function lt(Dt,[qt,en]){if(qt.kind==="primitive"&&en.kind==="primitive"&&qt.name===en.name)return Dt;if(qt.kind!=="variable"&&en.kind==="variable")return lt(Dt,[en,qt]);if(qt.kind==="variable"){if(en=ct(en,Dt),(en.kind==="primitive"||en.kind==="variable")&&qt.name===en.name)return Dt;if(en.kind==="pair"&&qt===en.tailType)lt(Dt,[qt,dn(en.headType)]);else if(en.kind==="pair"&&en.tailType.kind==="list"){const Cn=lt(Dt,[en.headType,b(en.tailType)]);return lt(Cn,[qt,dn(en.headType)])}else if(rt(en,qt.name))throw new d.InternalCyclicReferenceError(qt.name);if(vt(qt,en))throw new d.UnifyError(qt,en);return st(qt,Dt,ct(en,Dt))}else if(qt.kind==="function"&&en.kind==="function"){if(qt.parameterTypes.length!==en.parameterTypes.length)throw new d.InternalDifferentNumberArgumentsError(en.parameterTypes.length,qt.parameterTypes.length);let Cn=Dt;for(let Pn=0;Pn<qt.parameterTypes.length;Pn++)Cn=lt(Cn,[qt.parameterTypes[Pn],en.parameterTypes[Pn]]);return Cn=lt(Cn,[qt.returnType,en.returnType]),Cn}else if(qt.kind==="pair"&&en.kind==="pair"){const Cn=lt(Dt,[qt.headType,en.headType]);return lt(Cn,[qt.tailType,en.tailType])}else{if(qt.kind==="list"&&en.kind==="list")return lt(Dt,[qt.elementType,en.elementType]);if(qt.kind==="list"&&en.kind==="pair")return lt(Dt,[en,an(qt.elementType,qt)]);if(en.kind==="list"&&qt.kind==="pair")return lt(Dt,[qt,an(en.elementType,en)]);if(qt.kind==="array"&&en.kind==="array")return lt(Dt,[qt.elementType,en.elementType])}throw new d.UnifyError(qt,en)}function mt(Dt,qt,en,Cn,Pn,En){Pt(Pn);for(const xn of qt)zt(xn.argVarName,tt(Yt("PredicatedT")),Pn);for(const xn of qt){const Vn=Ct(xn.argVarName,Pn),qn=ct(Vn,En),Sn=xn.ifTrueType.kind==="forall"?ut(xn.ifTrueType):xn.ifTrueType;try{En=lt(En,[Vn,Sn])}catch(Wn){Wn instanceof d.UnifyError&&h(new e.InconsistentPredicateTestError(xn.node,xn.argVarName,qn,Sn))}}return En=Mt(en,Pn,En,Cn),Pn.pop(),En}function xt(Dt,qt,en,Cn,Pn,En,xn){if(xn=mt(Dt,qt,en,Pn,En,xn),Cn!==void 0)try{xn=Mt(Cn,En,xn,Pn)}catch(Vn){Vn instanceof d.UnifyError&&h(new e.ConsequentAlternateMismatchError(Dt,Vn.RHS,Vn.LHS))}return xn}function wt(Dt){switch(Dt.type){case"IfStatement":return wt(Dt.consequent)||wt(Dt.alternate);case"BlockStatement":return Dt.body.some(qt=>wt(qt));case"ForStatement":case"WhileStatement":return wt(Dt.body);case"ReturnStatement":return!0;default:return!1}}function St(Dt){switch(Dt.type){case"ExpressionStatement":return!0;case"IfStatement":return St(Dt.consequent)||St(Dt.alternate);case"BlockStatement":return Dt.body.some(qt=>St(qt));case"ForStatement":case"WhileStatement":return St(Dt.body);default:return!1}}function Tt(Dt,qt,en=[]){if(Dt.type==="LogicalExpression"&&Dt.operator==="&&")return en=Tt(Dt.left,qt,en),Tt(Dt.right,qt,en);if(Dt.type==="UnaryExpression"&&Dt.operator==="!")return kt(Dt.argument,qt,en);if(Dt.type==="CallExpression"&&Dt.callee.type==="Identifier"&&Dt.arguments.length===1&&Dt.arguments[0].type==="Identifier"){const Cn=Ct(Dt.callee.name,qt);if(Cn!==void 0&&Cn.kind==="predicate")return en.push({node:Dt,ifTrueType:Cn.ifTrueType,argVarName:Dt.arguments[0].name}),en}return en}function kt(Dt,qt,en=[]){return Dt.type==="LogicalExpression"&&Dt.operator==="||"?(en=kt(Dt.left,qt,en),kt(Dt.right,qt,en)):Dt.type==="UnaryExpression"&&Dt.operator==="!"?Tt(Dt.argument,qt,en):en}function Vt(Dt,qt){const en=Dt.body.length-1;if(qt){for(let Cn=en;Cn>=0;Cn--)if(St(Dt.body[Cn]))return Cn;return en}else return Dt.body.findIndex((Cn,Pn)=>Pn===en||wt(Cn))}function Ct(Dt,qt){for(let en=qt.length-1;en>=0;en--)if(qt[en].typeMap.has(Dt))return qt[en].typeMap.get(Dt)}function Rt(Dt,qt){for(let en=qt.length-1;en>=0;en--)if(qt[en].declKindMap.has(Dt))return qt[en].declKindMap.get(Dt)}function zt(Dt,qt,en){en[en.length-1].typeMap.set(Dt,qt)}function Xt(Dt,qt,en){en[en.length-1].declKindMap.set(Dt,qt)}function Pt(Dt){Dt.push({typeMap:new Map,declKindMap:new Map})}function Mt(Dt,qt,en,Cn=!1){try{return jt(Dt,qt,en,Cn)}catch(Pn){if(Pn instanceof d.InternalCyclicReferenceError)return h(new e.CyclicReferenceError(Dt)),en;throw Pn}}function jt(Dt,qt,en,Cn=!1){const Pn=Dt.inferredType;switch(Dt.type){case"UnaryExpression":{const En=Dt.operator==="-"?ft:Dt.operator,xn=Ct(En,qt),Vn=Dt.argument,qn=Vn.inferredType,Sn=[];let Wn=Mt(Vn,qt,en);Sn.push(ct(Vn.inferredType,Wn));try{Wn=lt(Wn,[rn(qn,Pn),xn])}catch(An){if(An instanceof d.UnifyError){const Xn=xn.parameterTypes;return h(new e.InvalidArgumentTypesError(Dt,[Vn],Xn,Sn)),Wn}}return Wn}case"LogicalExpression":{const En=Dt.left,xn=En.inferredType,Vn=Dt.right,qn=Vn.inferredType;let Sn=en;Sn=lt(en,[Pn,Wt]),Sn=Mt(En,qt,Sn);const Wn=ct(En.inferredType,Sn);let An;if(Dt.operator==="&&"){const Xn=Tt(Dt.left,qt);Xn.length>0&&(Sn=mt(Dt,Xn,Dt.right,Cn,qt,Sn),An=ct(Vn.inferredType,Sn))}else if(Dt.operator==="||"){const Xn=kt(Dt.left,qt);Xn.length>0&&(Sn=mt(Dt,Xn,Dt.right,Cn,qt,Sn),An=ct(Vn.inferredType,Sn))}An===void 0&&(Sn=Mt(Vn,qt,Sn),An=ct(Vn.inferredType,Sn));try{Sn=lt(en,[xn,Wt]),Sn=lt(en,[qn,Wt])}catch(Xn){Xn instanceof d.UnifyError&&h(new e.InvalidArgumentTypesError(Dt,[En,Vn],[Wt,Wt],[Wn,An]))}return Sn}case"BinaryExpression":{const En=Ct(Dt.operator,qt),xn=En.kind==="forall"?ut(En):En.kind==="predicate"?ot():En,Vn=Dt.left,qn=Vn.inferredType,Sn=Dt.right,Wn=Sn.inferredType,An=[Vn,Sn];let Xn=en;const Mn=[];An.forEach(Dn=>{Xn=Mt(Dn,qt,Xn),Mn.push(ct(Dn.inferredType,Xn))});try{Xn=lt(en,[rn(qn,Wn,Pn),xn])}catch(Dn){if(Dn instanceof d.UnifyError){const ir=xn.parameterTypes;h(new e.InvalidArgumentTypesError(Dt,An,ir,Mn))}}return Xn}case"ExpressionStatement":return Mt(Dt.expression,qt,lt(en,[Pn,yn]));case"ReturnStatement":{const En=Dt.argument;return Mt(En,qt,lt(en,[Pn,En.inferredType]))}case"WhileStatement":{const En=Dt.test,xn=En.inferredType,Vn=Dt.body,qn=Vn.inferredType;let Sn=lt(en,[Pn,qn]);try{Sn=Mt(En,qt,Sn),Sn=lt(Sn,[xn,Wt])}catch(Wn){Wn instanceof d.UnifyError&&h(new e.InvalidTestConditionError(Dt,Wn.RHS))}return Mt(Vn,qt,Sn,Cn)}case"ForStatement":{const En=Dt.init,xn=Dt.test,Vn=xn.inferredType,qn=Dt.body,Sn=qn.inferredType,Wn=Dt.update;let An=lt(en,[Pn,Sn]);if(Pt(qt),En.type==="VariableDeclaration"&&En.kind!=="var"&&En.declarations[0].id.type==="Identifier"){const Mn=En.declarations[0].id.name;zt(Mn,En.declarations[0].init.inferredType,qt),Xt(Mn,En.kind,qt),An=Mt(En,qt,An),zt(Mn,cn(ct(En.declarations[0].init.inferredType,An)),qt)}else An=Mt(En,qt,An);try{An=Mt(xn,qt,An),An=lt(An,[Vn,Wt])}catch(Mn){Mn instanceof d.UnifyError&&h(new e.InvalidTestConditionError(Dt,Mn.RHS))}An=Mt(Wn,qt,An);const Xn=Mt(qn,qt,An,Cn);return qt.pop(),Xn}case"Program":case"BlockStatement":{Pt(qt);for(const Dn of Dt.body)if(Dn.type==="ImportDeclaration")for(const ir of Dn.specifiers)ir.type==="ImportSpecifier"&&ir.local.type==="Identifier"&&(zt(ir.local.name,cn(Yt("T1")),qt),Xt(ir.local.name,"const",qt));const En=Dt.body.length-1,xn=Vt(Dt,Cn);let Vn=-1,qn=!1,Sn=En;const Wn=[];for(;Sn>=0;){const Dn=Dt.body[Sn];(Dn.type==="FunctionDeclaration"||Dn.type==="VariableDeclaration")&&(qn||(qn=!0,Vn=Sn),Wn.push(Dn)),Sn--}Wn.forEach(Dn=>{if(Dn.type==="FunctionDeclaration"&&Dn.id!==null){const ir=Dn.id.name;zt(ir,Dn.functionInferredType,qt),Xt(ir,"const",qt)}else if(Dn.type==="VariableDeclaration"&&Dn.kind!=="var"&&Dn.declarations[0].id.type==="Identifier"){const ir=Dn.declarations[0].id.name;zt(ir,Dn.declarations[0].init.inferredType,qt),Xt(ir,Dn.kind,qt)}});const An=Dt.body[xn],Xn=Cn&&An.type==="ExpressionStatement"?An.expression.inferredType:An.inferredType;let Mn=lt(en,[Pn,Xn]);for(let Dn=0;Dn<=Vn;Dn++)Dn===xn?Mn=Mt(Dt.body[Dn],qt,Mn,Cn):Mn=Mt(Dt.body[Dn],qt,Mn);Wn.forEach(Dn=>{Dn.type==="FunctionDeclaration"&&Dn.id!==null?zt(Dn.id.name,cn(ct(Dn.functionInferredType,Mn)),qt):Dn.type==="VariableDeclaration"&&Dn.declarations[0].id.type==="Identifier"&&zt(Dn.declarations[0].id.name,cn(ct(Dn.declarations[0].init.inferredType,Mn)),qt)});for(let Dn=Vn+1;Dn<=En;Dn++){const ir=Dt.body[Dn];Dn===xn?Mn=Mt(ir,qt,Mn,Cn):Mn=Mt(ir,qt,Mn)}return Dt.type==="BlockStatement"&&qt.pop(),Mn}case"Literal":{const En=Dt.value,xn=typeof En;if(En===null)return lt(en,[Pn,dn(Yt($++))]);if(xn==="number")return lt(en,[Pn,Nt]);if(xn==="boolean")return lt(en,[Pn,Wt]);if(xn==="string")return lt(en,[Pn,ln]);throw Error("Unexpected literal type")}case"Identifier":{const En=Dt.name,xn=Ct(En,qt);return xn!==void 0?xn.kind==="forall"?lt(en,[Pn,ut(xn)]):xn.kind==="predicate"?lt(en,[Pn,et()]):lt(en,[Pn,xn]):(h(new e.UndefinedIdentifierError(Dt,En)),en)}case"ConditionalExpression":case"IfStatement":{const En=Dt.test,xn=En.inferredType,Vn=Dt.consequent,qn=Vn.inferredType,Sn=Dt.alternate,Wn=Sn.inferredType;let An=en;try{An=Mt(En,qt,An),An=lt(An,[xn,Wt])}catch(Dn){Dn instanceof d.UnifyError&&h(new e.InvalidTestConditionError(Dt,Dn.RHS))}const Xn=Tt(En,qt),Mn=kt(En,qt);if(Xn.length>0)An=xt(Dt,Xn,Vn,Sn,Cn,qt,An);else if(Mn.length>0)An=xt(Dt,Mn,Sn,Vn,Cn,qt,An);else{An=Mt(Vn,qt,An,Cn);try{An=Mt(Sn,qt,An,Cn)}catch(Dn){Dn instanceof d.UnifyError&&h(new e.ConsequentAlternateMismatchError(Dt,Dn.RHS,Dn.LHS))}}try{An=lt(An,[Pn,qn]),An=lt(An,[Pn,Wn])}catch(Dn){Dn instanceof d.UnifyError&&h(new e.ConsequentAlternateMismatchError(Dt,Dn.RHS,Dn.LHS))}return An}case"ArrowFunctionExpression":{Pt(qt);const En=Dt.params,xn=En.map(Wn=>Wn.inferredType),Vn=Dt.body;xn.push(Vn.inferredType);const qn=lt(en,[Pn,rn(...xn)]);En.forEach(Wn=>{zt(Wn.name,Wn.inferredType,qt)});const Sn=Mt(Vn,qt,qn);return qt.pop(),Sn}case"VariableDeclaration":{const En=Dt.declarations[0].init;return Mt(En,qt,lt(en,[Pn,yn]))}case"FunctionDeclaration":{const En=Dt;let xn=lt(en,[Pn,yn]);Pt(qt);const Vn=En.functionInferredType,qn=Dt.params,Sn=qn.map(Xn=>Xn.inferredType),Wn=Dt.body;Sn.push(Wn.inferredType),xn=lt(xn,[Vn,rn(...Sn)]),qn.forEach(Xn=>{zt(Xn.name,Xn.inferredType,qt)});const An=Mt(Wn,qt,xn);return qt.pop(),An}case"CallExpression":{const En=Dt.callee,xn=En.inferredType,Vn=Dt.arguments,qn=Vn.map(Xn=>Xn.inferredType);qn.push(Pn);let Sn=en;Sn=Mt(En,qt,Sn);const Wn=ct(En.inferredType,Sn),An=[];Vn.forEach(Xn=>{Sn=Mt(Xn,qt,Sn),An.push(ct(Xn.inferredType,Sn))});try{Sn=lt(en,[rn(...qn),xn])}catch(Xn){if(Xn instanceof d.UnifyError)if(Wn.kind==="function"){const Mn=Wn.parameterTypes;h(new e.InvalidArgumentTypesError(Dt,Vn,Mn,An))}else h(new e.CallingNonFunctionType(Dt,Wn));else Xn instanceof d.InternalDifferentNumberArgumentsError&&h(new e.DifferentNumberArgumentsError(Dt,Xn.numExpectedArgs,Xn.numReceived))}return Sn}case"AssignmentExpression":{const En=Dt.left,xn=Dt.right,Vn=xn.inferredType,qn=En.inferredType;let Sn=lt(en,[Pn,Vn]);if(Sn=Mt(xn,qt,Sn),En.type==="Identifier"&&Rt(En.name,qt)==="const")return h(new e.ReassignConstError(Dt)),Sn;Sn=Mt(En,qt,Sn);try{return lt(Sn,[Vn,qn])}catch(Wn){Wn instanceof d.UnifyError&&(En.type==="Identifier"?h(new e.DifferentAssignmentError(Dt,ct(qn,Sn),ct(Vn,Sn))):h(new e.ArrayAssignmentError(Dt,Ut(ct(qn,Sn)),Ut(ct(Vn,Sn)))))}return Sn}case"ArrayExpression":{let En=en;const xn=Dt.elements;xn.forEach(qn=>{En=Mt(qn,qt,En)});const Vn=Yt($++);return En=lt(En,[Pn,Ut(Vn)]),xn.forEach(qn=>{try{En=lt(En,[Vn,qn.inferredType])}catch(Sn){Sn instanceof d.UnifyError&&h(new e.ArrayAssignmentError(Dt,ct(Dt.inferredType,En),Ut(ct(qn.inferredType,En))))}}),En}case"MemberExpression":{const xn=Dt.object.name,Vn=Dt.property,qn=Vn.inferredType;let Sn=Mt(Vn,qt,en);const Wn=Ct(xn,qt);if(Wn.kind==="predicate")throw Wn.ifTrueType.kind==="forall"?new d.InternalTypeError(`Expected ${xn} to be an array, got ${(0,i.typeToString)(ut(Wn.ifTrueType))}`):new d.InternalTypeError(`Expected ${xn} to be an array, got ${(0,i.typeToString)(Wn.ifTrueType)}`);if(Wn.kind==="forall")throw new d.InternalTypeError(`Expected ${xn} to be an array, got ${(0,i.typeToString)(ut(Wn))}`);const An=ct(Wn,Sn);if(An.kind!=="array")throw new d.InternalTypeError(`Expected ${xn} to be an array, got ${(0,i.typeToString)(An)}`);const Xn=An.elementType;try{Sn=lt(en,[qn,Nt])}catch(Mn){Mn instanceof d.UnifyError&&h(new e.InvalidArrayIndexType(Dt,ct(qn,Sn)))}return lt(Sn,[Pn,Xn])}default:return lt(en,[Pn,yn])}}function Zt(Dt){return{kind:"primitive",name:Dt}}function Yt(Dt){return{kind:"variable",name:`T${Dt}`,constraint:"none"}}typeChecker.tVar=Yt;function fn(Dt){return{kind:"variable",name:`${Dt}`,constraint:"addable"}}function an(Dt,qt){return{kind:"pair",headType:Dt,tailType:qt}}function dn(Dt){return{kind:"list",elementType:Dt}}function cn(Dt){return{kind:"forall",polyType:Dt}}typeChecker.tForAll=cn;function Ut(Dt){return{kind:"array",elementType:Dt}}const Wt=Zt("boolean"),Nt=Zt("number"),ln=Zt("string"),yn=Zt("undefined");function rn(...Dt){const qt=Dt.slice(0,-1),en=Dt.slice(-1)[0];return{kind:"function",parameterTypes:qt,returnType:en}}function Un(Dt){return{kind:"predicate",ifTrueType:Dt}}const Qn=[["Infinity",Nt],["NaN",Nt],["undefined",yn],["math_E",Nt],["math_LN2",Nt],["math_LN10",Nt],["math_LOG2E",Nt],["math_LOG10E",Nt],["math_PI",Nt],["math_SQRT1_2",Nt],["math_SQRT2",Nt],["is_boolean",Un(Wt)],["is_number",Un(Nt)],["is_string",Un(ln)],["is_undefined",Un(yn)],["is_function",Un(cn(rn(Yt("T"),Yt("U"))))],["math_abs",rn(Nt,Nt)],["math_acos",rn(Nt,Nt)],["math_acosh",rn(Nt,Nt)],["math_asin",rn(Nt,Nt)],["math_asinh",rn(Nt,Nt)],["math_atan",rn(Nt,Nt)],["math_atan2",rn(Nt,Nt,Nt)],["math_atanh",rn(Nt,Nt)],["math_cbrt",rn(Nt,Nt)],["math_ceil",rn(Nt,Nt)],["math_clz32",rn(Nt,Nt)],["math_cos",rn(Nt,Nt)],["math_cosh",rn(Nt,Nt)],["math_exp",rn(Nt,Nt)],["math_expm1",rn(Nt,Nt)],["math_floor",rn(Nt,Nt)],["math_fround",rn(Nt,Nt)],["math_hypot",cn(Yt("T"))],["math_imul",rn(Nt,Nt,Nt)],["math_log",rn(Nt,Nt)],["math_log1p",rn(Nt,Nt)],["math_log2",rn(Nt,Nt)],["math_log10",rn(Nt,Nt)],["math_max",cn(Yt("T"))],["math_min",cn(Yt("T"))],["math_pow",rn(Nt,Nt,Nt)],["math_random",rn(Nt)],["math_round",rn(Nt,Nt)],["math_sign",rn(Nt,Nt)],["math_sin",rn(Nt,Nt)],["math_sinh",rn(Nt,Nt)],["math_sqrt",rn(Nt,Nt)],["math_tan",rn(Nt,Nt)],["math_tanh",rn(Nt,Nt)],["math_trunc",rn(Nt,Nt)],["parse_int",rn(ln,Nt,Nt)],["prompt",rn(ln,ln)],["get_time",rn(Nt)],["stringify",cn(rn(Yt("T"),ln))],["display",cn(Yt("T"))],["error",cn(Yt("T"))]],Zn=Yt("headType"),Sr=Yt("tailType"),gn=[["pair",cn(rn(Zn,Sr,an(Zn,Sr)))],["head",cn(rn(an(Zn,Sr),Zn))],["tail",cn(rn(an(Zn,Sr),Sr))],["is_pair",Un(cn(an(Zn,Sr)))],["is_null",Un(cn(dn(Yt("T"))))],["is_list",Un(cn(dn(Yt("T"))))]],Fn=[["set_head",cn(rn(an(Zn,Sr),Zn,yn))],["set_tail",cn(rn(an(Zn,Sr),Sr,yn))]],Ln=[["is_array",Un(cn(Ut(Yt("T"))))],["array_length",cn(rn(Ut(Yt("T")),Nt))]],tr=[["list",cn(Yt("T1"))]],On=[[ft,rn(Nt,Nt)],["!",rn(Wt,Wt)],["&&",cn(rn(Wt,Yt("T"),Yt("T")))],["||",cn(rn(Wt,Yt("T"),Yt("T")))],["<",cn(rn(fn("A"),fn("A"),Wt))],["<=",cn(rn(fn("A"),fn("A"),Wt))],[">",cn(rn(fn("A"),fn("A"),Wt))],[">=",cn(rn(fn("A"),fn("A"),Wt))],["+",cn(rn(fn("A"),fn("A"),fn("A")))],["%",rn(Nt,Nt,Nt)],["-",rn(Nt,Nt,Nt)],["*",rn(Nt,Nt,Nt)],["/",rn(Nt,Nt,Nt)]],hr=[["===",cn(rn(fn("A"),fn("A"),Wt))],["!==",cn(rn(fn("A"),fn("A"),Wt))]],Yn=[["===",cn(rn(Yt("T1"),Yt("T2"),Wt))],["!==",cn(rn(Yt("T1"),Yt("T2"),Wt))]],In=[["is_stream",cn(rn(Yt("T1"),Wt))],["list_to_stream",cn(rn(dn(Yt("T1")),Yt("T2")))],["stream_to_list",cn(rn(Yt("T1"),dn(Yt("T2"))))],["stream_length",cn(rn(Yt("T1"),Nt))],["stream_map",cn(rn(Yt("T1"),Yt("T2")))],["build_stream",cn(rn(Nt,rn(Nt,Yt("T1")),Yt("T2")))],["stream_for_each",cn(rn(rn(Yt("T1"),Yt("T2")),Wt))],["stream_reverse",cn(rn(Yt("T1"),Yt("T1")))],["stream_append",cn(rn(Yt("T1"),Yt("T1"),Yt("T1")))],["stream_member",cn(rn(Yt("T1"),Yt("T2"),Yt("T2")))],["stream_remove",cn(rn(Yt("T1"),Yt("T2"),Yt("T2")))],["stream_remove_all",cn(rn(Yt("T1"),Yt("T2"),Yt("T2")))],["stream_filter",cn(rn(rn(Yt("T1"),Wt),Yt("T2"),Yt("T2")))],["enum_stream",cn(rn(Nt,Nt,Yt("T1")))],["integers_from",cn(rn(Nt,Yt("T1")))],["eval_stream",cn(rn(Yt("T1"),Nt,dn(Yt("T2"))))],["stream_ref",cn(rn(Yt("T1"),Nt,Yt("T2")))]];function ar(Dt){const qt=[...Qn,...On];return Dt>=2&&qt.push(...gn,...tr),Dt>=3?qt.push(...Yn,...Fn,...Ln):qt.push(...hr),[{typeMap:new Map(qt),declKindMap:new Map(qt.map(en=>[en[0],"const"]))}]}return typeChecker.createTypeEnvironment=ar,typeChecker}var hasRequiredCreateContext;function requireCreateContext(){return hasRequiredCreateContext||(hasRequiredCreateContext=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importBuiltins=e.importExternalSymbols=e.defineBuiltin=e.defineSymbol=e.ensureGlobalEnvironmentExist=e.createEmptyContext=e.createGlobalEnvironment=e.EnvTreeNode=e.EnvTree=e.LazyBuiltIn=void 0;const s=constants,i=lib,d=requireSchedulers(),ft=lazyList_prelude,$=requireList(),it=requireList(),nt=list_prelude,_=requireMisc(),b=nonDet_prelude,c=requireParser(),a=requireStream(),o=stream_prelude,h=requireTypeChecker(),g=types,tt=makeWrapper$1,at=requireOperators(),ht=requireStringify();class _e{constructor(Rt,zt){this.func=Rt,this.evaluateArgs=zt}}e.LazyBuiltIn=_e;class ut{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(Rt){const zt=Rt.tail;if(zt===null)this._root===null&&(this._root=new ct(Rt,null),this.map.set(Rt,this._root));else{const Xt=this.map.get(zt);if(Xt){const Pt=new ct(Rt,Xt);Xt.addChild(Pt),this.map.set(Rt,Pt)}}}getTreeNode(Rt){return this.map.get(Rt)}}e.EnvTree=ut;class ct{constructor(Rt,zt){this.environment=Rt,this.parent=zt,this._children=[]}get children(){return this._children}resetChildren(Rt){this.clearChildren(),this.addChildren(Rt),Rt.forEach(zt=>zt.parent=this)}clearChildren(){this._children=[]}addChildren(Rt){this._children.push(...Rt)}addChild(Rt){return this._children.push(Rt),Rt}}e.EnvTreeNode=ct;const rt=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new ut,environments:[],value:void 0,nodes:[]}),st=()=>({observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new d.AsyncScheduler}}),vt=()=>({tail:null,name:"global",head:{},id:"-1"});e.createGlobalEnvironment=vt;const ot=()=>({builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(at)),gpu:new Map(Object.entries(i)),maxExecTime:s.JSSLANG_PROPERTIES.maxExecTime,evaller:null}),et=(Ct,Rt=g.Variant.DEFAULT,zt,Xt)=>({chapter:Ct,externalSymbols:zt,errors:[],externalContext:Xt,runtime:rt(),numberOfOuterEnvironments:1,prelude:null,debugger:st(),nativeStorage:ot(),executionMethod:"auto",variant:Rt,moduleContexts:{},unTypecheckedCode:[],typeEnvironment:(0,h.createTypeEnvironment)(Ct),previousCode:[]});e.createEmptyContext=et;const lt=Ct=>{if(Ct.runtime||(Ct.runtime=rt()),Ct.runtime.environments||(Ct.runtime.environments=[]),Ct.runtime.environmentTree||(Ct.runtime.environmentTree=new ut),Ct.runtime.environments.length===0){const Rt=(0,e.createGlobalEnvironment)();Ct.runtime.environments.push(Rt),Ct.runtime.environmentTree.insert(Rt)}};e.ensureGlobalEnvironmentExist=lt;const mt=(Ct,Rt,zt)=>{const Xt=Ct.runtime.environments[0];Object.defineProperty(Xt.head,Rt,{value:zt,writable:!1,enumerable:!0}),Ct.nativeStorage.builtins.set(Rt,zt);const Pt=Ct.typeEnvironment[0];Pt.declKindMap.has(Rt)||(Pt.typeMap.set(Rt,(0,h.tForAll)((0,h.tVar)("T1"))),Pt.declKindMap.set(Rt,"const"))};e.defineSymbol=mt;function xt(Ct,Rt,zt,Xt=void 0){if(typeof zt=="function"){const Pt=Rt.split("(")[0].trim(),Mt=`function ${Rt} {
	[implementation hidden]
}`;zt.toString=()=>Mt,zt.minArgsNeeded=Xt,(0,e.defineSymbol)(Ct,Pt,zt)}else if(zt instanceof _e){const Pt=(...Zt)=>zt.func(...Zt),Mt=Rt.split("(")[0].trim(),jt=`function ${Rt} {
	[implementation hidden]
}`;Pt.toString=()=>jt,(0,tt.makeWrapper)(zt.func,Pt),(0,e.defineSymbol)(Ct,Mt,new _e(Pt,zt.evaluateArgs))}else(0,e.defineSymbol)(Ct,Rt,zt)}e.defineBuiltin=xt;const wt=(Ct,Rt)=>{(0,e.ensureGlobalEnvironmentExist)(Ct),Rt.forEach(zt=>{(0,e.defineSymbol)(Ct,zt,s.GLOBAL[zt])})};e.importExternalSymbols=wt;const St=(Ct,Rt)=>{(0,e.ensureGlobalEnvironmentExist)(Ct);const zt=(Yt,...fn)=>Rt.rawDisplay(Yt,fn[0],Ct.externalContext),Xt=(Yt,...fn)=>{if(fn.length===1&&fn[0]!==void 0&&typeof fn[0]!="string")throw new TypeError("display expects the second argument to be a string");return zt((0,ht.stringify)(Yt),fn[0]),Yt},Pt=(Yt,...fn)=>{if(fn.length===1&&fn[0]!==void 0&&typeof fn[0]!="string")throw new TypeError("display_list expects the second argument to be a string");return $.rawDisplayList(Xt,Yt,fn[0])},Mt=Yt=>{const fn=Date.now(),an=Rt.prompt(Yt,"",Ct.externalContext);return Ct.nativeStorage.maxExecTime+=Date.now()-fn,an},jt=Yt=>{const fn=Date.now();Rt.alert(Yt,"",Ct.externalContext),Ct.nativeStorage.maxExecTime+=Date.now()-fn},Zt=(...Yt)=>(Rt.visualiseList(Yt,Ct.externalContext),Yt[0]);if(Ct.chapter>=1){xt(Ct,"get_time()",_.get_time),xt(Ct,"display(val, prepend = undefined)",Xt,1),xt(Ct,"raw_display(str, prepend = undefined)",zt,1),xt(Ct,"stringify(val, indent = 2, maxLineLength = 80)",ht.stringify,1),xt(Ct,"error(str, prepend = undefined)",_.error_message,1),xt(Ct,"prompt(str)",Mt),xt(Ct,"is_number(val)",_.is_number),xt(Ct,"is_string(val)",_.is_string),xt(Ct,"is_function(val)",_.is_function),xt(Ct,"is_boolean(val)",_.is_boolean),xt(Ct,"is_undefined(val)",_.is_undefined),xt(Ct,"parse_int(str, radix)",_.parse_int),xt(Ct,"char_at(str, index)",_.char_at),xt(Ct,"arity(f)",_.arity),xt(Ct,"undefined",void 0),xt(Ct,"NaN",NaN),xt(Ct,"Infinity",1/0);const Yt=Object.getOwnPropertyNames(Math),fn=[..."abcdefghijklmnopqrstuvwxyz"];for(const an of Yt){const dn=Math[an];if(typeof dn=="function"){let cn,Ut;an==="max"||an==="min"?(cn="...values",Ut=0):cn=fn.slice(0,dn.length).join(", "),xt(Ct,`math_${an}(${cn})`,dn,Ut)}else xt(Ct,`math_${an}`,dn)}}Ct.chapter>=2&&(Ct.variant===g.Variant.LAZY?(xt(Ct,"pair(left, right)",new _e($.pair,!1)),xt(Ct,"list(...values)",new _e($.list,!1),0),xt(Ct,"is_pair(val)",new _e($.is_pair,!0)),xt(Ct,"head(xs)",new _e($.head,!0)),xt(Ct,"tail(xs)",new _e($.tail,!0)),xt(Ct,"is_null(val)",new _e($.is_null,!0)),xt(Ct,"draw_data(...xs)",new _e(Zt,!0),1),xt(Ct,"is_list(val)",new _e($.is_list,!0))):(xt(Ct,"pair(left, right)",$.pair),xt(Ct,"is_pair(val)",$.is_pair),xt(Ct,"head(xs)",$.head),xt(Ct,"tail(xs)",$.tail),xt(Ct,"is_null(val)",$.is_null),xt(Ct,"list(...values)",$.list,0),xt(Ct,"draw_data(...xs)",Zt,1),xt(Ct,"display_list(val, prepend = undefined)",Pt,0),xt(Ct,"is_list(val)",$.is_list))),Ct.chapter>=3&&(xt(Ct,"set_head(xs, val)",$.set_head),xt(Ct,"set_tail(xs, val)",$.set_tail),xt(Ct,"array_length(arr)",_.array_length),xt(Ct,"is_array(val)",_.is_array),xt(Ct,"stream_tail(stream)",a.stream_tail),xt(Ct,"stream(...values)",a.stream,0)),Ct.chapter>=4&&(xt(Ct,"parse(program_string)",Yt=>c.parse(Yt,Vt(Ct.chapter))),xt(Ct,"tokenize(program_string)",Yt=>c.tokenize(Yt,Vt(Ct.chapter))),xt(Ct,"apply_in_underlying_javascript(fun, args)",(Yt,fn)=>Yt.apply(Yt,(0,it.list_to_vector)(fn))),Ct.variant===g.Variant.GPU&&(xt(Ct,"__clearKernelCache()",i.__clearKernelCache),xt(Ct,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",i.__createKernelSource))),Ct.chapter===g.Chapter.LIBRARY_PARSER&&(xt(Ct,"is_object(val)",_.is_object),xt(Ct,"is_NaN(val)",_.is_NaN),xt(Ct,"has_own_property(obj, prop)",_.has_own_property),xt(Ct,"alert(val)",jt),xt(Ct,"timed(fun)",Yt=>_.timed(Ct,Yt,Ct.externalContext,Rt.rawDisplay))),Ct.variant===g.Variant.LAZY&&(xt(Ct,"wrapLazyCallee(f)",new _e(at.wrapLazyCallee,!0)),xt(Ct,"makeLazyFunction(f)",new _e(at.makeLazyFunction,!0)),xt(Ct,"forceIt(val)",new _e(at.forceIt,!0)),xt(Ct,"delayIt(xs)",new _e(at.delayIt,!0)))};e.importBuiltins=St;function Tt(Ct){let Rt="";Ct.chapter>=2&&(Rt+=Ct.variant===g.Variant.LAZY?ft.lazyListPrelude:nt.listPrelude),Ct.chapter>=3&&(Rt+=o.streamPrelude),Ct.variant===g.Variant.NON_DET&&(Rt+=b.nonDetPrelude),Rt!==""&&(Ct.prelude=Rt)}const kt={rawDisplay:_.rawDisplay,prompt:_.rawDisplay,alert:_.rawDisplay,visualiseList:Ct=>{throw new Error("List visualizer is not enabled")}},Vt=(Ct=g.Chapter.SOURCE_1,Rt=g.Variant.DEFAULT,zt=[],Xt,Pt=kt)=>{if(Ct===g.Chapter.FULL_JS)return Object.assign(Object.assign({},Vt(g.Chapter.SOURCE_4,Rt,zt,Xt,Pt)),{chapter:g.Chapter.FULL_JS});const Mt=(0,e.createEmptyContext)(Ct,Rt,zt,Xt);return(0,e.importBuiltins)(Mt,Pt),Tt(Mt),(0,e.importExternalSymbols)(Mt,zt),Mt};e.default=Vt}(createContext)),createContext}Object.defineProperty(sicp,"__esModule",{value:!0});const createContext_1=requireCreateContext(),dict=createContext_1.default(4).nativeStorage.builtins;dict.get("get_time");dict.get("display");dict.get("raw_display");const stringify=dict.get("stringify");dict.get("error");dict.get("prompt");const is_number=dict.get("is_number"),is_string=dict.get("is_string"),is_function=dict.get("is_function"),is_boolean=dict.get("is_boolean"),is_undefined=dict.get("is_undefined");dict.get("parse_int");dict.get("char_at");const arity=dict.get("arity");dict.get("math_abs");dict.get("math_acos");dict.get("math_acosh");dict.get("math_asin");dict.get("math_asinh");dict.get("math_atan");dict.get("math_atanh");dict.get("math_atan2");dict.get("math_ceil");dict.get("math_cbrt");dict.get("math_expm1");dict.get("math_clz32");dict.get("math_cos");dict.get("math_cosh");dict.get("math_exp");dict.get("math_floor");dict.get("math_fround");dict.get("math_hypot");dict.get("math_imul");dict.get("math_log");dict.get("math_log1p");dict.get("math_log2");dict.get("math_log10");dict.get("math_max");dict.get("math_min");dict.get("math_pow");dict.get("math_random");dict.get("math_round");dict.get("math_sign");dict.get("math_sin");dict.get("math_sinh");dict.get("math_sqrt");dict.get("math_tan");dict.get("math_tanh");dict.get("math_trunc");dict.get("math_E");dict.get("math_LN10");dict.get("math_LN2");dict.get("math_LOG10E");dict.get("math_LOG2E");dict.get("math_PI");dict.get("math_SQRT1_2");dict.get("math_SQRT2");const pair=dict.get("pair"),is_pair=dict.get("is_pair"),head=dict.get("head"),tail=dict.get("tail"),is_null=dict.get("is_null"),list=dict.get("list");dict.get("draw_data");dict.get("display_list");dict.get("is_list");dict.get("set_head");dict.get("set_tail");dict.get("array_length");dict.get("is_array");const stream_tail=dict.get("stream_tail");dict.get("stream");dict.get("parse");dict.get("tokenize");dict.get("apply_in_underlying_javascript");function equal(e,s){return is_pair(e)?is_pair(s)&&equal(head(e),head(s))&&equal(tail(e),tail(s)):is_null(e)?is_null(s):is_number(e)?is_number(s)&&e===s:is_boolean(e)?is_boolean(s)&&(e&&s||!e&&!s):is_string(e)?is_string(s)&&e===s:is_undefined(e)?is_undefined(s):is_function(e)?is_function(s)&&e===s:!1}function $length(e,s){return is_null(e)?s:$length(tail(e),s+1)}function length(e){return $length(e,0)}function $map(e,s,i){return is_null(s)?reverse(i):$map(e,tail(s),pair(e(head(s)),i))}function map(e,s){return $map(e,s,null)}function $build_list(e,s,i){return e<0?i:$build_list(e-1,s,pair(s(e),i))}function build_list(e,s){return $build_list(s-1,e,null)}function for_each(e,s){return is_null(s)?!0:(e(head(s)),for_each(e,tail(s)))}function $list_to_string(e,s){return is_null(e)?s("null"):is_pair(e)?$list_to_string(head(e),i=>$list_to_string(tail(e),d=>s("["+i+","+d+"]"))):s(stringify(e))}function list_to_string(e){return $list_to_string(e,s=>s)}function $reverse(e,s){return is_null(e)?s:$reverse(tail(e),pair(head(e),s))}function reverse(e){return $reverse(e,null)}function $append(e,s,i){return is_null(e)?i(s):$append(tail(e),s,d=>i(pair(head(e),d)))}function append(e,s){return $append(e,s,i=>i)}function member(e,s){return is_null(s)?null:e===head(s)?s:member(e,tail(s))}function $remove(e,s,i){const d=append,ft=reverse;return is_null(s)?d(ft(i),s):e===head(s)?d(ft(i),tail(s)):$remove(e,tail(s),pair(head(s),i))}function remove(e,s){return $remove(e,s,null)}function $remove_all(e,s,i){const d=append,ft=reverse;return is_null(s)?d(ft(i),s):e===head(s)?$remove_all(e,tail(s),i):$remove_all(e,tail(s),pair(head(s),i))}function remove_all(e,s){return $remove_all(e,s,null)}function $filter(e,s,i){return is_null(s)?reverse(i):e(head(s))?$filter(e,tail(s),pair(head(s),i)):$filter(e,tail(s),i)}function filter(e,s){return $filter(e,s,null)}function $enum_list(e,s,i){const d=reverse;return e>s?d(i):$enum_list(e+1,s,pair(e,i))}function enum_list(e,s){return $enum_list(e,s,null)}function list_ref(e,s){return s===0?head(e):list_ref(tail(e),s-1)}function $accumulate(e,s,i,d){return is_null(i)?d(s):$accumulate(e,s,tail(i),ft=>d(e(head(i),ft)))}function accumulate(e,s,i){return $accumulate(e,s,i,d=>d)}function is_stream(e){return is_null(e)||is_pair(e)&&is_function(tail(e))&&arity(tail(e))===0&&is_stream(stream_tail(e))}function list_to_stream(e){return is_null(e)?null:pair(head(e),()=>list_to_stream(tail(e)))}function stream_to_list(e){return is_null(e)?null:pair(head(e),stream_to_list(stream_tail(e)))}function stream_length(e){return is_null(e)?0:1+stream_length(stream_tail(e))}function stream_map(e,s){return is_null(s)?null:pair(e(head(s)),()=>stream_map(e,stream_tail(s)))}function build_stream(e,s){function i(d){return d>=s?null:pair(e(d),()=>i(d+1))}return i(0)}function stream_for_each(e,s){return is_null(s)?!0:(e(head(s)),stream_for_each(e,stream_tail(s)))}function stream_reverse(e){function s(i,d){return is_null(i)?d:s(stream_tail(i),pair(head(i),()=>d))}return s(e,null)}function stream_append(e,s){return is_null(e)?s:pair(head(e),()=>stream_append(stream_tail(e),s))}function stream_member(e,s){return is_null(s)?null:head(s)===e?s:stream_member(e,stream_tail(s))}function stream_remove(e,s){return is_null(s)?null:e===head(s)?stream_tail(s):pair(head(s),()=>stream_remove(e,stream_tail(s)))}function stream_remove_all(e,s){return is_null(s)?null:e===head(s)?stream_remove_all(e,stream_tail(s)):pair(head(s),()=>stream_remove_all(e,stream_tail(s)))}function stream_filter(e,s){return is_null(s)?null:e(head(s))?pair(head(s),()=>stream_filter(e,stream_tail(s))):stream_filter(e,stream_tail(s))}function enum_stream(e,s){return e>s?null:pair(e,()=>enum_stream(e+1,s))}function integers_from(e){return pair(e,()=>integers_from(e+1))}function eval_stream(e,s){function i(d,ft){return ft===1?list(head(d)):pair(head(d),i(stream_tail(d),ft-1))}return s===0?null:i(e,s)}function stream_ref(e,s){return s===0?head(e):stream_ref(stream_tail(e),s-1)}sicp.equal=equal;sicp.$length=$length;sicp.length=length;sicp.$map=$map;var map_1=sicp.map=map;sicp.$build_list=$build_list;sicp.build_list=build_list;sicp.for_each=for_each;sicp.$list_to_string=$list_to_string;sicp.list_to_string=list_to_string;sicp.$reverse=$reverse;sicp.reverse=reverse;sicp.$append=$append;sicp.append=append;sicp.member=member;sicp.$remove=$remove;sicp.remove=remove;sicp.$remove_all=$remove_all;sicp.remove_all=remove_all;sicp.$filter=$filter;sicp.filter=filter;sicp.$enum_list=$enum_list;sicp.enum_list=enum_list;sicp.list_ref=list_ref;sicp.$accumulate=$accumulate;sicp.accumulate=accumulate;sicp.is_stream=is_stream;sicp.list_to_stream=list_to_stream;sicp.stream_to_list=stream_to_list;sicp.stream_length=stream_length;sicp.stream_map=stream_map;sicp.build_stream=build_stream;sicp.stream_for_each=stream_for_each;sicp.stream_reverse=stream_reverse;sicp.stream_append=stream_append;sicp.stream_member=stream_member;sicp.stream_remove=stream_remove;sicp.stream_remove_all=stream_remove_all;sicp.stream_filter=stream_filter;sicp.enum_stream=enum_stream;sicp.integers_from=integers_from;sicp.eval_stream=eval_stream;sicp.stream_ref=stream_ref;sicp.get_time=dict.get("get_time");sicp.display=dict.get("display");sicp.raw_display=dict.get("raw_display");sicp.stringify=dict.get("stringify");var error_1=sicp.error=dict.get("error");sicp.prompt=dict.get("prompt");sicp.is_number=dict.get("is_number");sicp.is_string=dict.get("is_string");sicp.is_function=dict.get("is_function");sicp.is_boolean=dict.get("is_boolean");sicp.is_undefined=dict.get("is_undefined");sicp.parse_int=dict.get("parse_int");sicp.char_at=dict.get("char_at");sicp.arity=dict.get("arity");sicp.math_abs=dict.get("math_abs");sicp.math_acos=dict.get("math_acos");sicp.math_acosh=dict.get("math_acosh");sicp.math_asin=dict.get("math_asin");sicp.math_asinh=dict.get("math_asinh");sicp.math_atan=dict.get("math_atan");sicp.math_atanh=dict.get("math_atanh");sicp.math_atan2=dict.get("math_atan2");sicp.math_ceil=dict.get("math_ceil");sicp.math_cbrt=dict.get("math_cbrt");sicp.math_expm1=dict.get("math_expm1");sicp.math_clz32=dict.get("math_clz32");sicp.math_cos=dict.get("math_cos");sicp.math_cosh=dict.get("math_cosh");sicp.math_exp=dict.get("math_exp");sicp.math_floor=dict.get("math_floor");sicp.math_fround=dict.get("math_fround");sicp.math_hypot=dict.get("math_hypot");sicp.math_imul=dict.get("math_imul");sicp.math_log=dict.get("math_log");sicp.math_log1p=dict.get("math_log1p");sicp.math_log2=dict.get("math_log2");sicp.math_log10=dict.get("math_log10");sicp.math_max=dict.get("math_max");sicp.math_min=dict.get("math_min");sicp.math_pow=dict.get("math_pow");sicp.math_random=dict.get("math_random");sicp.math_round=dict.get("math_round");sicp.math_sign=dict.get("math_sign");sicp.math_sin=dict.get("math_sin");sicp.math_sinh=dict.get("math_sinh");sicp.math_sqrt=dict.get("math_sqrt");sicp.math_tan=dict.get("math_tan");sicp.math_tanh=dict.get("math_tanh");sicp.math_trunc=dict.get("math_trunc");sicp.math_E=dict.get("math_E");sicp.math_LN10=dict.get("math_LN10");sicp.math_LN2=dict.get("math_LN2");sicp.math_LOG10E=dict.get("math_LOG10E");sicp.math_LOG2E=dict.get("math_LOG2E");sicp.math_PI=dict.get("math_PI");sicp.math_SQRT1_2=dict.get("math_SQRT1_2");sicp.math_SQRT2=dict.get("math_SQRT2");sicp.pair=dict.get("pair");sicp.is_pair=dict.get("is_pair");var head_1=sicp.head=dict.get("head"),tail_1=sicp.tail=dict.get("tail"),is_null_1=sicp.is_null=dict.get("is_null");sicp.list=dict.get("list");sicp.draw_data=dict.get("draw_data");sicp.display_list=dict.get("display_list");sicp.is_list=dict.get("is_list");sicp.set_head=dict.get("set_head");sicp.set_tail=dict.get("set_tail");sicp.array_length=dict.get("array_length");sicp.is_array=dict.get("is_array");sicp.stream_tail=dict.get("stream_tail");sicp.stream=dict.get("stream");var parse_1=sicp.parse=dict.get("parse");sicp.tokenize=dict.get("tokenize");sicp.apply_in_underlying_javascript=dict.get("apply_in_underlying_javascript");function list_to_array(e){return is_null_1(e)?[]:[head_1(e)].concat(list_to_array(tail_1(e)))}function parameters(e){return map_1(s=>head_1(s)==="rest_element"?{tag:"rest",sym:head_1(tail_1(head_1(tail_1(s))))}:head_1(tail_1(s)),e)}function objectify(e){switch(head_1(e)){case"literal":return{tag:"lit",val:head_1(tail_1(e))};case"name":return{tag:"nam",sym:head_1(tail_1(e))};case"application":return{tag:"app",fun:objectify(head_1(tail_1(e))),args:list_to_array(map_1(objectify,head_1(tail_1(tail_1(e)))))};case"logical_composition":return{tag:"log",sym:head_1(tail_1(e)),frst:objectify(head_1(tail_1(tail_1(e)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(e)))))};case"binary_operator_combination":return{tag:"binop",sym:head_1(tail_1(e)),frst:objectify(head_1(tail_1(tail_1(e)))),scnd:objectify(head_1(tail_1(tail_1(tail_1(e)))))};case"object_access":return{tag:"arr_acc",arr:objectify(head_1(tail_1(e))),ind:objectify(head_1(tail_1(tail_1(e))))};case"object_assignment":return{tag:"arr_assmt",arr:objectify(head_1(tail_1(head_1(tail_1(e))))),ind:objectify(head_1(tail_1(tail_1(head_1(tail_1(e)))))),expr:objectify(head_1(tail_1(tail_1(e))))};case"array_expression":return{tag:"arr_lit",elems:list_to_array(map_1(objectify,head_1(tail_1(e))))};case"unary_operator_combination":return{tag:"unop",sym:head_1(tail_1(e)),frst:objectify(head_1(tail_1(tail_1(e))))};case"lambda_expression":return{tag:"lam",prms:list_to_array(parameters(head_1(tail_1(e)))),body:objectify(head_1(tail_1(tail_1(e))))};case"sequence":return{tag:"seq",stmts:list_to_array(map_1(objectify,head_1(tail_1(e))))};case"block":return{tag:"blk",body:objectify(head_1(tail_1(e)))};case"variable_declaration":return{tag:"let",sym:head_1(tail_1(head_1(tail_1(e)))),expr:objectify(head_1(tail_1(tail_1(e))))};case"constant_declaration":return{tag:"const",sym:head_1(tail_1(head_1(tail_1(e)))),expr:objectify(head_1(tail_1(tail_1(e))))};case"assignment":return{tag:"assmt",sym:head_1(tail_1(head_1(tail_1(e)))),expr:objectify(head_1(tail_1(tail_1(e))))};case"conditional_statement":return{tag:"cond_stmt",pred:objectify(head_1(tail_1(e))),cons:objectify(head_1(tail_1(tail_1(e)))),alt:objectify(head_1(tail_1(tail_1(tail_1(e)))))};case"while_loop":return{tag:"while",pred:objectify(head_1(tail_1(e))),body:objectify(head_1(tail_1(tail_1(e))))};case"for_loop":return{tag:"for",init:objectify(head_1(tail_1(e))),pred:objectify(head_1(tail_1(tail_1(e)))),upd:objectify(head_1(tail_1(tail_1(tail_1(e))))),body:objectify(head_1(tail_1(tail_1(tail_1(tail_1(e))))))};case"break_statement":return{tag:"break"};case"continue_statement":return{tag:"cont"};case"conditional_expression":return{tag:"cond_expr",pred:objectify(head_1(tail_1(e))),cons:objectify(head_1(tail_1(tail_1(e)))),alt:objectify(head_1(tail_1(tail_1(tail_1(e)))))};case"function_declaration":return{tag:"fun",sym:head_1(tail_1(head_1(tail_1(e)))),prms:list_to_array(parameters(head_1(tail_1(tail_1(e))))),body:objectify(head_1(tail_1(tail_1(tail_1(e)))))};case"return_statement":return{tag:"ret",expr:objectify(head_1(tail_1(e)))};case"import_declaration":return{tag:"import",syms:map_1(s=>head_1(tail_1(s)),head_1(tail_1(e))),from:head_1(tail_1(tail_1(e)))};case"this_expression":return{tag:"this"};case"spread_element":return{tag:"spread",sym:head_1(tail_1(head_1(tail_1(e))))};case"property":return{tag:"prop",sym:head_1(tail_1(e))};default:throw error_1(e,"unknown syntax:")}}function parse_into_json(e){let s=objectify(parse_1(e));return JSON.stringify(s)}const samplePythonProgram=`
from spike import PrimeHub
hub = PrimeHub()
hub.light_matrix.off()
hub.light_matrix.set_pixel(2, 2, 80)
hub.light_matrix.set_pixel(3, 3, 80)
hub.light_matrix.set_pixel(2, 3, 80)
hub.light_matrix.set_pixel(3, 2, 80)
hub.light_matrix.set_pixel(4, 4, 80)
hub.light_matrix.set_pixel(0, 0, 80)
`;function App(){const[e,s]=react.exports.useState(PROGRAM_PLACEHOLDER),[i,d]=react.exports.useState(""),[ft,$]=react.exports.useState(samplePythonProgram);return react.exports.useEffect(()=>{const it=queryString.parse(location.hash),nt=lzString.exports.decompressFromEncodedURIComponent(it.prgrm);nt&&s(nt)},[]),jsxs("div",{className:"App",children:[jsx("h2",{children:"SEKER: Source\u2013SPIKE Prime Runner"}),jsx("button",{onClick:async()=>{const it=await navigator.serial.requestPort();await it.open({baudRate:BAUD_RATE_SPIKE_PRIME}),console.log(await readUntilPrompt(it,2e3,!0)),await writeLine(it,KEYBOARD_INTERRUPT),console.log(await readUntilPrompt(it,2e3,!0)),await runProgram(it,ft),console.log("Run complete!"),await writeLine(it,END_OF_TRANSMISSION),it.close()},children:"Run on Device"}),jsx("p",{children:"Python code:"}),jsx(_default,{name:"pythonEditor",mode:"python",theme:"source",width:"100%",onChange:$,value:ft}),jsx("hr",{style:{marginBlock:"1.5em"}}),jsxs("p",{children:[jsx("strong",{children:"NOTE:"})," The following section is to demonstrate the Source-to-JSON parser. Running of Source programs directly on the SPIKE Prime is not available yet."]}),jsx("button",{onClick:()=>{try{d(parse_into_json(e))}catch(it){d("[ERROR] "+it)}},children:"Parse into JSON"}),jsx("p",{children:"Source \xA73 code:"}),jsx(_default,{name:"sourceEditor",mode:"javascript",theme:"source",width:"100%",onChange:s,value:e}),i&&jsxs("p",{children:["JSON Code:",jsx("br",{}),i]})]})}const index="";client.createRoot(document.getElementById("root")).render(jsx(React$3.StrictMode,{children:jsx(App,{})}));
